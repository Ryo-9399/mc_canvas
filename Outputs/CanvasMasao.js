/*! For license information please see CanvasMasao.js.LICENSE.txt */
!function(){"use strict";var t={6:function(t,i,s){var h=s(4702),e=s(488),a=h("iterator"),c=Array.prototype;t.exports=function(t){return void 0!==t&&(e.Array===t||c[a]===t)}},100:function(t,i,s){var h=s(9131);t.exports=function(t){return h(t)||null===t}},114:function(t,i,s){var h,e,a,c,o,_=s(8793),r=s(6288),n=s(5457),m=s(1070).set,p=s(2196),g=s(5759),u=s(8788),y=s(6405),d=s(1320),f=_.MutationObserver||_.WebKitMutationObserver,j=_.document,l=_.process,v=_.Promise,x=r("queueMicrotask");if(!x){var k=new p,w=function(){var t,i;for(d&&(t=l.domain)&&t.exit();i=k.get();)try{i()}catch(t){throw k.head&&h(),t}t&&t.enter()};g||d||y||!f||!j?!u&&v&&v.resolve?((c=v.resolve(void 0)).constructor=v,o=n(c.then,c),h=function(){o(w)}):d?h=function(){l.nextTick(w)}:(m=n(m,_),h=function(){m(w)}):(e=!0,a=j.createTextNode(""),new f(w).observe(a,{characterData:!0}),h=function(){a.data=e=!e}),x=function(t){k.head||h(),k.add(t)}}t.exports=x},216:function(t,i,s){var h=s(8577),e=s(9671),a=s(1249).CONSTRUCTOR;t.exports=a||!e((function(t){h.all(t).then(void 0,(function(){}))}))},228:function(t,i,s){var h=s(5457),e=s(7133),a=s(8060),c=s(9272),o=s(7457),_=s(9498),r=e([].push),n=function(t){var i=1===t,s=2===t,e=3===t,n=4===t,m=6===t,p=7===t,g=5===t||m;return function(u,y,d,f){for(var j,l,v=c(u),x=a(v),k=o(x),w=h(y,d),b=0,S=f||_,M=i?S(u,k):s||p?S(u,0):void 0;k>b;b++)if((g||b in x)&&(l=w(j=x[b],b,v),t))if(i)M[b]=l;else if(l)switch(t){case 3:return!0;case 5:return j;case 6:return b;case 2:r(M,j)}else switch(t){case 4:return!1;case 7:r(M,j)}return m?-1:e||n?n:M}};t.exports={forEach:n(0),map:n(1),filter:n(2),some:n(3),every:n(4),find:n(5),findIndex:n(6),filterReject:n(7)}},260:function(t,i,s){var h=s(9140),e=s(942),a=s(8793).String;t.exports=!!Object.getOwnPropertySymbols&&!e((function(){var t=Symbol("symbol detection");return!a(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&h&&h<41}))},335:function(t,i,s){var h=s(6857),e=s(942);t.exports=h&&e((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},404:function(t,i,s){var h=s(3353),e=s(8793),a=s(492),c=s(7133),o=s(1818),_=s(6857),r=s(260),n=s(942),m=s(9158),p=s(2430),g=s(4398),u=s(4360),y=s(2548),d=s(7830),f=s(2007),j=s(2909),l=s(3733),v=s(5809),x=s(5249),k=s(1264),w=s(2428),b=s(4446),S=s(2066),M=s(6732),C=s(8521),I=s(3129),B=s(6014),G=s(2316),z=s(640),A=s(685),P=s(4702),N=s(4990),O=s(9656),Y=s(6689),T=s(1606),E=s(1514),R=s(228).forEach,V=G("hidden"),W="Symbol",F="prototype",D=E.set,L=E.getterFor(W),H=Object[F],U=e.Symbol,q=U&&U[F],K=e.RangeError,J=e.TypeError,Z=e.QObject,X=w.f,$=b.f,Q=x.f,tt=M.f,it=c([].push),st=B("symbols"),ht=B("op-symbols"),et=B("wks"),at=!Z||!Z[F]||!Z[F].findChild,ct=function(t,i,s){var h=X(H,i);h&&delete H[i],$(t,i,s),h&&t!==H&&$(H,i,h)},ot=_&&n((function(){return 7!==j($({},"a",{get:function(){return $(this,"a",{value:7}).a}})).a}))?ct:$,_t=function(t,i){var s=st[t]=j(q);return D(s,{type:W,tag:t,description:i}),_||(s.description=i),s},rt=function(t,i,s){t===H&&rt(ht,i,s),g(t);var h=y(i);return g(s),m(st,h)?(s.enumerable?(m(t,V)&&t[V][h]&&(t[V][h]=!1),s=j(s,{enumerable:f(0,!1)})):(m(t,V)||$(t,V,f(1,j(null))),t[V][h]=!0),ot(t,h,s)):$(t,h,s)},nt=function(t,i){g(t);var s=u(i),h=l(s).concat(ut(s));return R(h,(function(i){_&&!a(mt,s,i)||rt(t,i,s[i])})),t},mt=function(t){var i=y(t),s=a(tt,this,i);return!(this===H&&m(st,i)&&!m(ht,i))&&(!(s||!m(this,i)||!m(st,i)||m(this,V)&&this[V][i])||s)},pt=function(t,i){var s=u(t),h=y(i);if(s!==H||!m(st,h)||m(ht,h)){var e=X(s,h);return!e||!m(st,h)||m(s,V)&&s[V][h]||(e.enumerable=!0),e}},gt=function(t){var i=Q(u(t)),s=[];return R(i,(function(t){m(st,t)||m(z,t)||it(s,t)})),s},ut=function(t){var i=t===H,s=Q(i?ht:u(t)),h=[];return R(s,(function(t){!m(st,t)||i&&!m(H,t)||it(h,st[t])})),h};r||(U=function(){if(p(q,this))throw new J("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?d(arguments[0]):void 0,i=A(t),s=function(t){var h=void 0===this?e:this;h===H&&a(s,ht,t),m(h,V)&&m(h[V],i)&&(h[V][i]=!1);var c=f(1,t);try{ot(h,i,c)}catch(t){if(!(t instanceof K))throw t;ct(h,i,c)}};return _&&at&&ot(H,i,{configurable:!0,set:s}),_t(i,t)},C(q=U[F],"toString",(function(){return L(this).tag})),C(U,"withoutSetter",(function(t){return _t(A(t),t)})),M.f=mt,b.f=rt,S.f=nt,w.f=pt,v.f=x.f=gt,k.f=ut,N.f=function(t){return _t(P(t),t)},_&&(I(q,"description",{configurable:!0,get:function(){return L(this).description}}),o||C(H,"propertyIsEnumerable",mt,{unsafe:!0}))),h({global:!0,constructor:!0,wrap:!0,forced:!r,sham:!r},{Symbol:U}),R(l(et),(function(t){O(t)})),h({target:W,stat:!0,forced:!r},{useSetter:function(){at=!0},useSimple:function(){at=!1}}),h({target:"Object",stat:!0,forced:!r,sham:!_},{create:function(t,i){return void 0===i?j(t):nt(j(t),i)},defineProperty:rt,defineProperties:nt,getOwnPropertyDescriptor:pt}),h({target:"Object",stat:!0,forced:!r},{getOwnPropertyNames:gt}),Y(),T(U,W),z[V]=!0},460:function(t,i,s){var h=s(848),e=s(9200),a=s(2430),c=s(6253),o=Object;t.exports=c?function(t){return"symbol"==typeof t}:function(t){var i=h("Symbol");return e(i)&&a(i.prototype,o(t))}},488:function(t){t.exports={}},492:function(t,i,s){var h=s(7315),e=Function.prototype.call;t.exports=h?e.bind(e):function(){return e.apply(e,arguments)}},527:function(t,i,s){var h=s(5589),e=s(7133);t.exports=function(t){if("Function"===h(t))return e(t)}},590:function(t,i,s){var h=s(3650),e=s(9325),a=s(2178),c=s(488),o=s(4702)("iterator");t.exports=function(t){if(!a(t))return e(t,o)||e(t,"@@iterator")||c[h(t)]}},602:function(t,i,s){var h=s(2430),e=TypeError;t.exports=function(t,i){if(h(i,t))return t;throw new e("Incorrect invocation")}},640:function(t){t.exports={}},685:function(t,i,s){var h=s(7133),e=0,a=Math.random(),c=h(1.1.toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+c(++e+a,36)}},725:function(t,i,s){var h=s(3614),e=s(7938),a=TypeError;t.exports=function(t){if(h(t))return t;throw new a(e(t)+" is not a constructor")}},824:function(t,i,s){var h=s(8793).navigator,e=h&&h.userAgent;t.exports=e?String(e):""},848:function(t,i,s){var h=s(8793),e=s(9200);t.exports=function(t,i){return arguments.length<2?(s=h[t],e(s)?s:void 0):h[t]&&h[t][i];var s}},890:function(t,i,s){var h=s(7315),e=Function.prototype,a=e.apply,c=e.call;t.exports="object"==typeof Reflect&&Reflect.apply||(h?c.bind(a):function(){return c.apply(a,arguments)})},906:function(t,i,s){var h=s(7133),e=s(9323),a=s(9200),c=s(5589),o=s(7830),_=h([].push);t.exports=function(t){if(a(t))return t;if(e(t)){for(var i=t.length,s=[],h=0;h<i;h++){var r=t[h];"string"==typeof r?_(s,r):"number"!=typeof r&&"Number"!==c(r)&&"String"!==c(r)||_(s,o(r))}var n=s.length,m=!0;return function(t,i){if(m)return m=!1,i;if(e(this))return i;for(var h=0;h<n;h++)if(s[h]===t)return i}}}},917:function(t,i,s){var h={};h[s(4702)("toStringTag")]="z",t.exports="[object z]"===String(h)},942:function(t){t.exports=function(t){try{return!!t()}catch(t){return!0}}},957:function(t,i,s){var h=s(492),e=s(4398),a=s(9200),c=s(5589),o=s(4762),_=TypeError;t.exports=function(t,i){var s=t.exec;if(a(s)){var r=h(s,t,i);return null!==r&&e(r),r}if("RegExp"===c(t))return h(o,t,i);throw new _("RegExp#exec called on incompatible receiver")}},1070:function(t,i,s){var h,e,a,c,o=s(8793),_=s(890),r=s(5457),n=s(9200),m=s(9158),p=s(942),g=s(4510),u=s(2485),y=s(1466),d=s(2625),f=s(5759),j=s(1320),l=o.setImmediate,v=o.clearImmediate,x=o.process,k=o.Dispatch,w=o.Function,b=o.MessageChannel,S=o.String,M=0,C={},I="onreadystatechange";p((function(){h=o.location}));var B=function(t){if(m(C,t)){var i=C[t];delete C[t],i()}},G=function(t){return function(){B(t)}},z=function(t){B(t.data)},A=function(t){o.postMessage(S(t),h.protocol+"//"+h.host)};l&&v||(l=function(t){d(arguments.length,1);var i=n(t)?t:w(t),s=u(arguments,1);return C[++M]=function(){_(i,void 0,s)},e(M),M},v=function(t){delete C[t]},j?e=function(t){x.nextTick(G(t))}:k&&k.now?e=function(t){k.now(G(t))}:b&&!f?(c=(a=new b).port2,a.port1.onmessage=z,e=r(c.postMessage,c)):o.addEventListener&&n(o.postMessage)&&!o.importScripts&&h&&"file:"!==h.protocol&&!p(A)?(e=A,o.addEventListener("message",z,!1)):e=I in y("script")?function(t){g.appendChild(y("script"))[I]=function(){g.removeChild(this),B(t)}}:function(t){setTimeout(G(t),0)}),t.exports={set:l,clear:v}},1150:function(t,i,s){var h=s(8793),e=s(942),a=h.RegExp,c=!e((function(){var t=!0;try{a(".","d")}catch(i){t=!1}var i={},s="",h=t?"dgimsy":"gimsy",e=function(t,h){Object.defineProperty(i,t,{get:function(){return s+=h,!0}})},c={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};for(var o in t&&(c.hasIndices="d"),c)e(o,c[o]);return Object.getOwnPropertyDescriptor(a.prototype,"flags").get.call(i)!==h||s!==h}));t.exports={correct:c}},1196:function(t,i,s){var h=s(6857),e=s(7133),a=s(492),c=s(942),o=s(3733),_=s(1264),r=s(6732),n=s(9272),m=s(8060),p=Object.assign,g=Object.defineProperty,u=e([].concat);t.exports=!p||c((function(){if(h&&1!==p({b:1},p(g({},"a",{enumerable:!0,get:function(){g(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},i={},s=Symbol("assign detection"),e="abcdefghijklmnopqrst";return t[s]=7,e.split("").forEach((function(t){i[t]=t})),7!==p({},t)[s]||o(p({},i)).join("")!==e}))?function(t,i){for(var s=n(t),e=arguments.length,c=1,p=_.f,g=r.f;e>c;)for(var y,d=m(arguments[c++]),f=p?u(o(d),p(d)):o(d),j=f.length,l=0;j>l;)y=f[l++],h&&!a(g,d,y)||(s[y]=d[y]);return s}:p},1242:function(t,i,s){var h=s(3353),e=s(848),a=s(890),c=s(9799),o=s(725),_=s(4398),r=s(9131),n=s(2909),m=s(942),p=e("Reflect","construct"),g=Object.prototype,u=[].push,y=m((function(){function t(){}return!(p((function(){}),[],t)instanceof t)})),d=!m((function(){p((function(){}))})),f=y||d;h({target:"Reflect",stat:!0,forced:f,sham:f},{construct:function(t,i){o(t),_(i);var s=arguments.length<3?t:o(arguments[2]);if(d&&!y)return p(t,i,s);if(t===s){switch(i.length){case 0:return new t;case 1:return new t(i[0]);case 2:return new t(i[0],i[1]);case 3:return new t(i[0],i[1],i[2]);case 4:return new t(i[0],i[1],i[2],i[3])}var h=[null];return a(u,h,i),new(a(c,t,h))}var e=s.prototype,m=n(r(e)?e:g),f=a(t,m,i);return r(f)?f:m}})},1249:function(t,i,s){var h=s(8793),e=s(8577),a=s(9200),c=s(7453),o=s(7217),_=s(4702),r=s(5898),n=s(1818),m=s(9140),p=e&&e.prototype,g=_("species"),u=!1,y=a(h.PromiseRejectionEvent),d=c("Promise",(function(){var t=o(e),i=t!==String(e);if(!i&&66===m)return!0;if(n&&(!p.catch||!p.finally))return!0;if(!m||m<51||!/native code/.test(t)){var s=new e((function(t){t(1)})),h=function(t){t((function(){}),(function(){}))};if((s.constructor={})[g]=h,!(u=s.then((function(){}))instanceof h))return!0}return!(i||"BROWSER"!==r&&"DENO"!==r||y)}));t.exports={CONSTRUCTOR:d,REJECTION_EVENT:y,SUBCLASSING:u}},1264:function(t,i){i.f=Object.getOwnPropertySymbols},1320:function(t,i,s){var h=s(5898);t.exports="NODE"===h},1427:function(t,i,s){var h=s(492),e=s(9200),a=s(9131),c=TypeError;t.exports=function(t,i){var s,o;if("string"===i&&e(s=t.toString)&&!a(o=h(s,t)))return o;if(e(s=t.valueOf)&&!a(o=h(s,t)))return o;if("string"!==i&&e(s=t.toString)&&!a(o=h(s,t)))return o;throw new c("Can't convert object to primitive value")}},1466:function(t,i,s){var h=s(8793),e=s(9131),a=h.document,c=e(a)&&e(a.createElement);t.exports=function(t){return c?a.createElement(t):{}}},1497:function(t,i,s){var h=s(3353),e=s(9158),a=s(460),c=s(7938),o=s(6014),_=s(6325),r=o("symbol-to-string-registry");h({target:"Symbol",stat:!0,forced:!_},{keyFor:function(t){if(!a(t))throw new TypeError(c(t)+" is not a symbol");if(e(r,t))return r[t]}})},1512:function(t,i,s){var h=s(4398),e=s(9400);t.exports=function(t,i,s,a){try{return a?i(h(s)[0],s[1]):i(s)}catch(i){e(t,"throw",i)}}},1514:function(t,i,s){var h,e,a,c=s(3125),o=s(8793),_=s(9131),r=s(5044),n=s(9158),m=s(5210),p=s(2316),g=s(640),u="Object already initialized",y=o.TypeError,d=o.WeakMap;if(c||m.state){var f=m.state||(m.state=new d);f.get=f.get,f.has=f.has,f.set=f.set,h=function(t,i){if(f.has(t))throw new y(u);return i.facade=t,f.set(t,i),i},e=function(t){return f.get(t)||{}},a=function(t){return f.has(t)}}else{var j=p("state");g[j]=!0,h=function(t,i){if(n(t,j))throw new y(u);return i.facade=t,r(t,j,i),i},e=function(t){return n(t,j)?t[j]:{}},a=function(t){return n(t,j)}}t.exports={set:h,get:e,has:a,enforce:function(t){return a(t)?e(t):h(t,{})},getterFor:function(t){return function(i){var s;if(!_(i)||(s=e(i)).type!==t)throw new y("Incompatible receiver, "+t+" required");return s}}}},1606:function(t,i,s){var h=s(4446).f,e=s(9158),a=s(4702)("toStringTag");t.exports=function(t,i,s){t&&!s&&(t=t.prototype),t&&!e(t,a)&&h(t,a,{configurable:!0,value:i})}},1658:function(t,i,s){var h=s(9272),e=s(8479),a=s(7457);t.exports=function(t){for(var i=h(this),s=a(i),c=arguments.length,o=e(c>1?arguments[1]:void 0,s),_=c>2?arguments[2]:void 0,r=void 0===_?s:e(_,s);r>o;)i[o++]=t;return i}},1724:function(t,i,s){s(9656)("iterator")},1778:function(t,i,s){var h=s(492),e=s(2365),a=s(4398),c=s(7938),o=s(590),_=TypeError;t.exports=function(t,i){var s=arguments.length<2?o(t):i;if(e(s))return a(h(s,t));throw new _(c(t)+" is not iterable")}},1783:function(t,i,s){var h=s(3353),e=s(9272),a=s(3733);h({target:"Object",stat:!0,forced:s(942)((function(){a(1)}))},{keys:function(t){return a(e(t))}})},1818:function(t){t.exports=!1},1906:function(t,i,s){var h=s(3353),e=s(1658),a=s(6686);h({target:"Array",proto:!0},{fill:e}),a("fill")},1982:function(t,i,s){var h,e,a,c=s(942),o=s(9200),_=s(9131),r=s(2909),n=s(5270),m=s(8521),p=s(4702),g=s(1818),u=p("iterator"),y=!1;[].keys&&("next"in(a=[].keys())?(e=n(n(a)))!==Object.prototype&&(h=e):y=!0),!_(h)||c((function(){var t={};return h[u].call(t)!==t}))?h={}:g&&(h=r(h)),o(h[u])||m(h,u,(function(){return this})),t.exports={IteratorPrototype:h,BUGGY_SAFARI_ITERATORS:y}},2007:function(t){t.exports=function(t,i){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:i}}},2030:function(t){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2040:function(t,i,s){var h=s(228).forEach,e=s(5977)("forEach");t.exports=e?[].forEach:function(t){return h(this,t,arguments.length>1?arguments[1]:void 0)}},2062:function(t,i,s){var h=s(3353),e=s(260),a=s(942),c=s(1264),o=s(9272);h({target:"Object",stat:!0,forced:!e||a((function(){c.f(1)}))},{getOwnPropertySymbols:function(t){var i=c.f;return i?i(o(t)):[]}})},2066:function(t,i,s){var h=s(6857),e=s(335),a=s(4446),c=s(4398),o=s(4360),_=s(3733);i.f=h&&!e?Object.defineProperties:function(t,i){c(t);for(var s,h=o(i),e=_(i),r=e.length,n=0;r>n;)a.f(t,s=e[n++],h[s]);return t}},2085:function(t,i,s){var h=s(492),e=s(7133),a=s(5119),c=s(4398),o=s(9131),_=s(3977),r=s(4208),n=s(8718),m=s(2695),p=s(7830),g=s(9325),u=s(957),y=s(9260),d=s(942),f=y.UNSUPPORTED_Y,j=Math.min,l=e([].push),v=e("".slice),x=!d((function(){var t=/(?:)/,i=t.exec;t.exec=function(){return i.apply(this,arguments)};var s="ab".split(t);return 2!==s.length||"a"!==s[0]||"b"!==s[1]})),k="c"==="abbc".split(/(b)*/)[1]||4!=="test".split(/(?:)/,-1).length||2!=="ab".split(/(?:ab)*/).length||4!==".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length;a("split",(function(t,i,s){var e="0".split(void 0,0).length?function(t,s){return void 0===t&&0===s?[]:h(i,this,t,s)}:i;return[function(i,s){var a=_(this),c=o(i)?g(i,t):void 0;return c?h(c,i,a,s):h(e,p(a),i,s)},function(t,h){var a=c(this),o=p(t);if(!k){var _=s(e,a,o,h,e!==i);if(_.done)return _.value}var g=r(a,RegExp),y=a.unicode,d=(a.ignoreCase?"i":"")+(a.multiline?"m":"")+(a.unicode?"u":"")+(f?"g":"y"),x=new g(f?"^(?:"+a.source+")":a,d),w=void 0===h?4294967295:h>>>0;if(0===w)return[];if(0===o.length)return null===u(x,o)?[o]:[];for(var b=0,S=0,M=[];S<o.length;){x.lastIndex=f?0:S;var C,I=u(x,f?v(o,S):o);if(null===I||(C=j(m(x.lastIndex+(f?S:0)),o.length))===b)S=n(o,S,y);else{if(l(M,v(o,b,S)),M.length===w)return M;for(var B=1;B<=I.length-1;B++)if(l(M,I[B]),M.length===w)return M;S=b=C}}return l(M,v(o,b)),M}]}),k||!x,f)},2178:function(t){t.exports=function(t){return null==t}},2196:function(t){var i=function(){this.head=null,this.tail=null};i.prototype={add:function(t){var i={item:t,next:null},s=this.tail;s?s.next=i:this.head=i,this.tail=i},get:function(){var t=this.head;if(t)return null===(this.head=t.next)&&(this.tail=null),t.item}},t.exports=i},2210:function(t,i,s){var h=s(9200),e=s(9131),a=s(8018);t.exports=function(t,i,s){var c,o;return a&&h(c=i.constructor)&&c!==s&&e(o=c.prototype)&&o!==s.prototype&&a(t,o),t}},2216:function(t,i,s){var h=s(492),e=s(7133),a=s(5119),c=s(4398),o=s(9131),_=s(2695),r=s(7830),n=s(3977),m=s(9325),p=s(8718),g=s(7781),u=s(957),y=e("".indexOf);a("match",(function(t,i,s){return[function(i){var s=n(this),e=o(i)?m(i,t):void 0;return e?h(e,i,s):new RegExp(i)[t](r(s))},function(t){var h=c(this),e=r(t),a=s(i,h,e);if(a.done)return a.value;var o=r(g(h));if(-1===y(o,"g"))return u(h,e);var n=-1!==y(o,"u");h.lastIndex=0;for(var m,d=[],f=0;null!==(m=u(h,e));){var j=r(m[0]);d[f]=j,""===j&&(h.lastIndex=p(e,_(h.lastIndex),n)),f++}return 0===f?null:d}]}))},2316:function(t,i,s){var h=s(6014),e=s(685),a=h("keys");t.exports=function(t){return a[t]||(a[t]=e(t))}},2365:function(t,i,s){var h=s(9200),e=s(7938),a=TypeError;t.exports=function(t){if(h(t))return t;throw new a(e(t)+" is not a function")}},2428:function(t,i,s){var h=s(6857),e=s(492),a=s(6732),c=s(2007),o=s(4360),_=s(2548),r=s(9158),n=s(5842),m=Object.getOwnPropertyDescriptor;i.f=h?m:function(t,i){if(t=o(t),i=_(i),n)try{return m(t,i)}catch(t){}if(r(t,i))return c(!e(a.f,t,i),t[i])}},2430:function(t,i,s){var h=s(7133);t.exports=h({}.isPrototypeOf)},2485:function(t,i,s){var h=s(7133);t.exports=h([].slice)},2502:function(t){t.exports=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}}},2548:function(t,i,s){var h=s(9422),e=s(460);t.exports=function(t){var i=h(t,"string");return e(i)?i:i+""}},2580:function(t,i,s){var h=s(3353),e=s(4762);h({target:"RegExp",proto:!0,forced:/./.exec!==e},{exec:e})},2625:function(t){var i=TypeError;t.exports=function(t,s){if(t<s)throw new i("Not enough arguments");return t}},2695:function(t,i,s){var h=s(4932),e=Math.min;t.exports=function(t){var i=h(t);return i>0?e(i,9007199254740991):0}},2895:function(t,i,s){var h=s(9656),e=s(6689);h("toPrimitive"),e()},2909:function(t,i,s){var h,e=s(4398),a=s(2066),c=s(2030),o=s(640),_=s(4510),r=s(1466),n=s(2316),m="prototype",p="script",g=n("IE_PROTO"),u=function(){},y=function(t){return"<"+p+">"+t+"</"+p+">"},d=function(t){t.write(y("")),t.close();var i=t.parentWindow.Object;return t=null,i},f=function(){try{h=new ActiveXObject("htmlfile")}catch(t){}var t,i,s;f="undefined"!=typeof document?document.domain&&h?d(h):(i=r("iframe"),s="java"+p+":",i.style.display="none",_.appendChild(i),i.src=String(s),(t=i.contentWindow.document).open(),t.write(y("document.F=Object")),t.close(),t.F):d(h);for(var e=c.length;e--;)delete f[m][c[e]];return f()};o[g]=!0,t.exports=Object.create||function(t,i){var s;return null!==t?(u[m]=e(t),s=new u,u[m]=null,s[g]=t):s=f(),void 0===i?s:a.f(s,i)}},2951:function(t,i,s){var h=s(4398),e=s(9131),a=s(6040);t.exports=function(t,i){if(h(t),e(i)&&i.constructor===t)return i;var s=a.f(t);return(0,s.resolve)(i),s.promise}},2997:function(t){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},3111:function(t,i,s){var h=s(8793),e=s(3217),a=s(5827),c=s(2040),o=s(5044),_=function(t){if(t&&t.forEach!==c)try{o(t,"forEach",c)}catch(i){t.forEach=c}};for(var r in e)e[r]&&_(h[r]&&h[r].prototype);_(a)},3125:function(t,i,s){var h=s(8793),e=s(9200),a=h.WeakMap;t.exports=e(a)&&/native code/.test(String(a))},3129:function(t,i,s){var h=s(4174),e=s(4446);t.exports=function(t,i,s){return s.get&&h(s.get,i,{getter:!0}),s.set&&h(s.set,i,{setter:!0}),e.f(t,i,s)}},3217:function(t){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},3353:function(t,i,s){var h=s(8793),e=s(2428).f,a=s(5044),c=s(8521),o=s(8466),_=s(4085),r=s(7453);t.exports=function(t,i){var s,n,m,p,g,u=t.target,y=t.global,d=t.stat;if(s=y?h:d?h[u]||o(u,{}):h[u]&&h[u].prototype)for(n in i){if(p=i[n],m=t.dontCallGetSet?(g=e(s,n))&&g.value:s[n],!r(y?n:u+(d?".":"#")+n,t.forced)&&void 0!==m){if(typeof p==typeof m)continue;_(p,m)}(t.sham||m&&m.sham)&&a(p,"sham",!0),c(s,n,p,t)}}},3358:function(t,i,s){var h=s(942),e=s(4702),a=s(9140),c=e("species");t.exports=function(t){return a>=51||!h((function(){var i=[];return(i.constructor={})[c]=function(){return{foo:1}},1!==i[t](Boolean).foo}))}},3557:function(t,i,s){var h=s(3353),e=s(228).filter;h({target:"Array",proto:!0,forced:!s(3358)("filter")},{filter:function(t){return e(this,t,arguments.length>1?arguments[1]:void 0)}})},3614:function(t,i,s){var h=s(7133),e=s(942),a=s(9200),c=s(3650),o=s(848),_=s(7217),r=function(){},n=o("Reflect","construct"),m=/^\s*(?:class|function)\b/,p=h(m.exec),g=!m.test(r),u=function(t){if(!a(t))return!1;try{return n(r,[],t),!0}catch(t){return!1}},y=function(t){if(!a(t))return!1;switch(c(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return g||!!p(m,_(t))}catch(t){return!0}};y.sham=!0,t.exports=!n||e((function(){var t;return u(u.call)||!u(Object)||!u((function(){t=!0}))||t}))?y:u},3650:function(t,i,s){var h=s(917),e=s(9200),a=s(5589),c=s(4702)("toStringTag"),o=Object,_="Arguments"===a(function(){return arguments}());t.exports=h?a:function(t){var i,s,h;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(s=function(t,i){try{return t[i]}catch(t){}}(i=o(t),c))?s:_?a(i):"Object"===(h=a(i))&&e(i.callee)?"Arguments":h}},3733:function(t,i,s){var h=s(8959),e=s(2030);t.exports=Object.keys||function(t){return h(t,e)}},3850:function(t,i,s){var h=s(3353),e=s(7133),a=s(640),c=s(9131),o=s(9158),_=s(4446).f,r=s(5809),n=s(5249),m=s(9939),p=s(685),g=s(4139),u=!1,y=p("meta"),d=0,f=function(t){_(t,y,{value:{objectID:"O"+d++,weakData:{}}})},j=t.exports={enable:function(){j.enable=function(){},u=!0;var t=r.f,i=e([].splice),s={};s[y]=1,t(s).length&&(r.f=function(s){for(var h=t(s),e=0,a=h.length;e<a;e++)if(h[e]===y){i(h,e,1);break}return h},h({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:n.f}))},fastKey:function(t,i){if(!c(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,y)){if(!m(t))return"F";if(!i)return"E";f(t)}return t[y].objectID},getWeakData:function(t,i){if(!o(t,y)){if(!m(t))return!0;if(!i)return!1;f(t)}return t[y].weakData},onFreeze:function(t){return g&&u&&m(t)&&!o(t,y)&&f(t),t}};a[y]=!0},3934:function(t,i,s){s(3353)({target:"String",proto:!0},{repeat:s(7720)})},3948:function(t,i,s){var h=s(8521);t.exports=function(t,i,s){for(var e in i)h(t,e,i[e],s);return t}},3973:function(t,i,s){var h=s(5457),e=s(492),a=s(4398),c=s(7938),o=s(6),_=s(7457),r=s(2430),n=s(1778),m=s(590),p=s(9400),g=TypeError,u=function(t,i){this.stopped=t,this.result=i},y=u.prototype;t.exports=function(t,i,s){var d,f,j,l,v,x,k,w=s&&s.that,b=!(!s||!s.AS_ENTRIES),S=!(!s||!s.IS_RECORD),M=!(!s||!s.IS_ITERATOR),C=!(!s||!s.INTERRUPTED),I=h(i,w),B=function(t){return d&&p(d,"normal"),new u(!0,t)},G=function(t){return b?(a(t),C?I(t[0],t[1],B):I(t[0],t[1])):C?I(t,B):I(t)};if(S)d=t.iterator;else if(M)d=t;else{if(!(f=m(t)))throw new g(c(t)+" is not iterable");if(o(f)){for(j=0,l=_(t);l>j;j++)if((v=G(t[j]))&&r(y,v))return v;return new u(!1)}d=n(t,f)}for(x=S?t.next:d.next;!(k=e(x,d)).done;){try{v=G(k.value)}catch(t){p(d,"throw",t)}if("object"==typeof v&&v&&r(y,v))return v}return new u(!1)}},3977:function(t,i,s){var h=s(2178),e=TypeError;t.exports=function(t){if(h(t))throw new e("Can't call method on "+t);return t}},3989:function(t,i,s){var h=s(7403).PROPER,e=s(942),a=s(2997);t.exports=function(t){return e((function(){return!!a[t]()||"​᠎"!=="​᠎"[t]()||h&&a[t].name!==t}))}},4085:function(t,i,s){var h=s(9158),e=s(4540),a=s(2428),c=s(4446);t.exports=function(t,i,s){for(var o=e(i),_=c.f,r=a.f,n=0;n<o.length;n++){var m=o[n];h(t,m)||s&&h(s,m)||_(t,m,r(i,m))}}},4139:function(t,i,s){var h=s(942);t.exports=!h((function(){return Object.isExtensible(Object.preventExtensions({}))}))},4174:function(t,i,s){var h=s(7133),e=s(942),a=s(9200),c=s(9158),o=s(6857),_=s(7403).CONFIGURABLE,r=s(7217),n=s(1514),m=n.enforce,p=n.get,g=String,u=Object.defineProperty,y=h("".slice),d=h("".replace),f=h([].join),j=o&&!e((function(){return 8!==u((function(){}),"length",{value:8}).length})),l=String(String).split("String"),v=t.exports=function(t,i,s){"Symbol("===y(g(i),0,7)&&(i="["+d(g(i),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),s&&s.getter&&(i="get "+i),s&&s.setter&&(i="set "+i),(!c(t,"name")||_&&t.name!==i)&&(o?u(t,"name",{value:i,configurable:!0}):t.name=i),j&&s&&c(s,"arity")&&t.length!==s.arity&&u(t,"length",{value:s.arity});try{s&&c(s,"constructor")&&s.constructor?o&&u(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(t){}var h=m(t);return c(h,"source")||(h.source=f(l,"string"==typeof i?i:"")),t};Function.prototype.toString=v((function(){return a(this)&&p(this).source||r(this)}),"toString")},4202:function(t,i,s){var h=s(917),e=s(8521),a=s(6952);h||e(Object.prototype,"toString",a,{unsafe:!0})},4208:function(t,i,s){var h=s(4398),e=s(725),a=s(2178),c=s(4702)("species");t.exports=function(t,i){var s,o=h(t).constructor;return void 0===o||a(s=h(o)[c])?i:e(s)}},4360:function(t,i,s){var h=s(8060),e=s(3977);t.exports=function(t){return h(e(t))}},4363:function(t,i,s){var h=s(3353),e=s(8793),a=s(7133),c=s(7453),o=s(8521),_=s(3850),r=s(3973),n=s(602),m=s(9200),p=s(2178),g=s(9131),u=s(942),y=s(9671),d=s(1606),f=s(2210);t.exports=function(t,i,s){var j=-1!==t.indexOf("Map"),l=-1!==t.indexOf("Weak"),v=j?"set":"add",x=e[t],k=x&&x.prototype,w=x,b={},S=function(t){var i=a(k[t]);o(k,t,"add"===t?function(t){return i(this,0===t?0:t),this}:"delete"===t?function(t){return!(l&&!g(t))&&i(this,0===t?0:t)}:"get"===t?function(t){return l&&!g(t)?void 0:i(this,0===t?0:t)}:"has"===t?function(t){return!(l&&!g(t))&&i(this,0===t?0:t)}:function(t,s){return i(this,0===t?0:t,s),this})};if(c(t,!m(x)||!(l||k.forEach&&!u((function(){(new x).entries().next()})))))w=s.getConstructor(i,t,j,v),_.enable();else if(c(t,!0)){var M=new w,C=M[v](l?{}:-0,1)!==M,I=u((function(){M.has(1)})),B=y((function(t){new x(t)})),G=!l&&u((function(){for(var t=new x,i=5;i--;)t[v](i,i);return!t.has(-0)}));B||((w=i((function(t,i){n(t,k);var s=f(new x,t,w);return p(i)||r(i,s[v],{that:s,AS_ENTRIES:j}),s}))).prototype=k,k.constructor=w),(I||G)&&(S("delete"),S("has"),j&&S("get")),(G||C)&&S(v),l&&k.clear&&delete k.clear}return b[t]=w,h({global:!0,constructor:!0,forced:w!==x},b),d(w,t),l||s.setStrong(w,t,j),w}},4384:function(t,i,s){var h=s(848),e=s(3129),a=s(4702),c=s(6857),o=a("species");t.exports=function(t){var i=h(t);c&&i&&!i[o]&&e(i,o,{configurable:!0,get:function(){return this}})}},4398:function(t,i,s){var h=s(9131),e=String,a=TypeError;t.exports=function(t){if(h(t))return t;throw new a(e(t)+" is not an object")}},4446:function(t,i,s){var h=s(6857),e=s(5842),a=s(335),c=s(4398),o=s(2548),_=TypeError,r=Object.defineProperty,n=Object.getOwnPropertyDescriptor,m="enumerable",p="configurable",g="writable";i.f=h?a?function(t,i,s){if(c(t),i=o(i),c(s),"function"==typeof t&&"prototype"===i&&"value"in s&&g in s&&!s[g]){var h=n(t,i);h&&h[g]&&(t[i]=s.value,s={configurable:p in s?s[p]:h[p],enumerable:m in s?s[m]:h[m],writable:!1})}return r(t,i,s)}:r:function(t,i,s){if(c(t),i=o(i),c(s),e)try{return r(t,i,s)}catch(t){}if("get"in s||"set"in s)throw new _("Accessors not supported");return"value"in s&&(t[i]=s.value),t}},4510:function(t,i,s){var h=s(848);t.exports=h("document","documentElement")},4540:function(t,i,s){var h=s(848),e=s(7133),a=s(5809),c=s(1264),o=s(4398),_=e([].concat);t.exports=h("Reflect","ownKeys")||function(t){var i=a.f(o(t)),s=c.f;return s?_(i,s(t)):i}},4625:function(t,i,s){var h=s(3353),e=s(228).map;h({target:"Array",proto:!0,forced:!s(3358)("map")},{map:function(t){return e(this,t,arguments.length>1?arguments[1]:void 0)}})},4635:function(t,i,s){var h=s(1982).IteratorPrototype,e=s(2909),a=s(2007),c=s(1606),o=s(488),_=function(){return this};t.exports=function(t,i,s,r){var n=i+" Iterator";return t.prototype=e(h,{next:a(+!r,s)}),c(t,n,!1,!0),o[n]=_,t}},4686:function(t){var i=TypeError;t.exports=function(t){if(t>9007199254740991)throw i("Maximum allowed index exceeded");return t}},4702:function(t,i,s){var h=s(8793),e=s(6014),a=s(9158),c=s(685),o=s(260),_=s(6253),r=h.Symbol,n=e("wks"),m=_?r.for||r:r&&r.withoutSetter||c;t.exports=function(t){return a(n,t)||(n[t]=o&&a(r,t)?r[t]:m("Symbol."+t)),n[t]}},4762:function(t,i,s){var h,e,a=s(492),c=s(7133),o=s(7830),_=s(9824),r=s(9260),n=s(6014),m=s(2909),p=s(1514).get,g=s(7432),u=s(6437),y=n("native-string-replace",String.prototype.replace),d=RegExp.prototype.exec,f=d,j=c("".charAt),l=c("".indexOf),v=c("".replace),x=c("".slice),k=(e=/b*/g,a(d,h=/a/,"a"),a(d,e,"a"),0!==h.lastIndex||0!==e.lastIndex),w=r.BROKEN_CARET,b=void 0!==/()??/.exec("")[1];(k||b||w||g||u)&&(f=function(t){var i,s,h,e,c,r,n,g=this,u=p(g),S=o(t),M=u.raw;if(M)return M.lastIndex=g.lastIndex,i=a(f,M,S),g.lastIndex=M.lastIndex,i;var C=u.groups,I=w&&g.sticky,B=a(_,g),G=g.source,z=0,A=S;if(I&&(B=v(B,"y",""),-1===l(B,"g")&&(B+="g"),A=x(S,g.lastIndex),g.lastIndex>0&&(!g.multiline||g.multiline&&"\n"!==j(S,g.lastIndex-1))&&(G="(?: "+G+")",A=" "+A,z++),s=new RegExp("^(?:"+G+")",B)),b&&(s=new RegExp("^"+G+"$(?!\\s)",B)),k&&(h=g.lastIndex),e=a(d,I?s:g,A),I?e?(e.input=x(e.input,z),e[0]=x(e[0],z),e.index=g.lastIndex,g.lastIndex+=e[0].length):g.lastIndex=0:k&&e&&(g.lastIndex=g.global?e.index+e[0].length:h),b&&e&&e.length>1&&a(y,e[0],s,(function(){for(c=1;c<arguments.length-2;c++)void 0===arguments[c]&&(e[c]=void 0)})),e&&C)for(e.groups=r=m(null),c=0;c<C.length;c++)r[(n=C[c])[0]]=e[n[1]];return e}),t.exports=f},4845:function(t,i,s){var h=s(3353),e=s(9323),a=s(3614),c=s(9131),o=s(8479),_=s(7457),r=s(4360),n=s(5909),m=s(4702),p=s(3358),g=s(2485),u=p("slice"),y=m("species"),d=Array,f=Math.max;h({target:"Array",proto:!0,forced:!u},{slice:function(t,i){var s,h,m,p=r(this),u=_(p),j=o(t,u),l=o(void 0===i?u:i,u);if(e(p)&&(s=p.constructor,(a(s)&&(s===d||e(s.prototype))||c(s)&&null===(s=s[y]))&&(s=void 0),s===d||void 0===s))return g(p,j,l);for(h=new(void 0===s?d:s)(f(l-j,0)),m=0;j<l;j++,m++)j in p&&n(h,m,p[j]);return h.length=m,h}})},4932:function(t,i,s){var h=s(8226);t.exports=function(t){var i=+t;return i!=i||0===i?0:h(i)}},4990:function(t,i,s){var h=s(4702);i.f=h},4998:function(t,i,s){var h=s(3353),e=s(1196);h({target:"Object",stat:!0,arity:2,forced:Object.assign!==e},{assign:e})},5044:function(t,i,s){var h=s(6857),e=s(4446),a=s(2007);t.exports=h?function(t,i,s){return e.f(t,i,a(1,s))}:function(t,i,s){return t[i]=s,t}},5109:function(t,i,s){s(7751),s(9188),s(7056),s(9538),s(7348),s(8351)},5119:function(t,i,s){s(2580);var h=s(492),e=s(8521),a=s(4762),c=s(942),o=s(4702),_=s(5044),r=o("species"),n=RegExp.prototype;t.exports=function(t,i,s,m){var p=o(t),g=!c((function(){var i={};return i[p]=function(){return 7},7!==""[t](i)})),u=g&&!c((function(){var i=!1,s=/a/;return"split"===t&&((s={}).constructor={},s.constructor[r]=function(){return s},s.flags="",s[p]=/./[p]),s.exec=function(){return i=!0,null},s[p](""),!i}));if(!g||!u||s){var y=/./[p],d=i(p,""[t],(function(t,i,s,e,c){var o=i.exec;return o===a||o===n.exec?g&&!c?{done:!0,value:h(y,i,s,e)}:{done:!0,value:h(t,s,i,e)}:{done:!1}}));e(String.prototype,t,d[0]),e(n,p,d[1])}m&&_(n[p],"sham",!0)}},5133:function(t,i,s){var h=s(3353),e=s(1818),a=s(6857),c=s(8793),o=s(7596),_=s(7133),r=s(7453),n=s(9158),m=s(2210),p=s(2430),g=s(460),u=s(9422),y=s(942),d=s(5809).f,f=s(2428).f,j=s(4446).f,l=s(5949),v=s(7087).trim,x="Number",k=c[x],w=o[x],b=k.prototype,S=c.TypeError,M=_("".slice),C=_("".charCodeAt),I=r(x,!k(" 0o1")||!k("0b1")||k("+0x1")),B=function(t){var i,s=arguments.length<1?0:k(function(t){var i=u(t,"number");return"bigint"==typeof i?i:function(t){var i,s,h,e,a,c,o,_,r=u(t,"number");if(g(r))throw new S("Cannot convert a Symbol value to a number");if("string"==typeof r&&r.length>2)if(r=v(r),43===(i=C(r,0))||45===i){if(88===(s=C(r,2))||120===s)return NaN}else if(48===i){switch(C(r,1)){case 66:case 98:h=2,e=49;break;case 79:case 111:h=8,e=55;break;default:return+r}for(c=(a=M(r,2)).length,o=0;o<c;o++)if((_=C(a,o))<48||_>e)return NaN;return parseInt(a,h)}return+r}(i)}(t));return p(b,i=this)&&y((function(){l(i)}))?m(Object(s),this,B):s};B.prototype=b,I&&!e&&(b.constructor=B),h({global:!0,constructor:!0,wrap:!0,forced:I},{Number:B});var G=function(t,i){for(var s,h=a?d(i):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),e=0;h.length>e;e++)n(i,s=h[e])&&!n(t,s)&&j(t,s,f(i,s))};e&&w&&G(o[x],w),(I||e)&&G(o[x],k)},5210:function(t,i,s){var h=s(1818),e=s(8793),a=s(8466),c="__core-js_shared__",o=t.exports=e[c]||a(c,{});(o.versions||(o.versions=[])).push({version:"3.43.0",mode:h?"pure":"global",copyright:"© 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.43.0/LICENSE",source:"https://github.com/zloirock/core-js"})},5249:function(t,i,s){var h=s(5589),e=s(4360),a=s(5809).f,c=s(2485),o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return o&&"Window"===h(t)?function(t){try{return a(t)}catch(t){return c(o)}}(t):a(e(t))}},5270:function(t,i,s){var h=s(9158),e=s(9200),a=s(9272),c=s(2316),o=s(6308),_=c("IE_PROTO"),r=Object,n=r.prototype;t.exports=o?r.getPrototypeOf:function(t){var i=a(t);if(h(i,_))return i[_];var s=i.constructor;return e(s)&&i instanceof s?s.prototype:i instanceof r?n:null}},5457:function(t,i,s){var h=s(527),e=s(2365),a=s(7315),c=h(h.bind);t.exports=function(t,i){return e(t),void 0===i?t:a?c(t,i):function(){return t.apply(i,arguments)}}},5535:function(t,i,s){var h=s(9944).charAt,e=s(7830),a=s(1514),c=s(7645),o=s(7236),_="String Iterator",r=a.set,n=a.getterFor(_);c(String,"String",(function(t){r(this,{type:_,string:e(t),index:0})}),(function(){var t,i=n(this),s=i.string,e=i.index;return e>=s.length?o(void 0,!0):(t=h(s,e),i.index+=t.length,o(t,!1))}))},5589:function(t,i,s){var h=s(7133),e=h({}.toString),a=h("".slice);t.exports=function(t){return a(e(t),8,-1)}},5661:function(t,i,s){var h=s(4398),e=s(1427),a=TypeError;t.exports=function(t){if(h(this),"string"===t||"default"===t)t="string";else if("number"!==t)throw new a("Incorrect hint");return e(this,t)}},5759:function(t,i,s){var h=s(824);t.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(h)},5809:function(t,i,s){var h=s(8959),e=s(2030).concat("length","prototype");i.f=Object.getOwnPropertyNames||function(t){return h(t,e)}},5827:function(t,i,s){var h=s(1466)("span").classList,e=h&&h.constructor&&h.constructor.prototype;t.exports=e===Object.prototype?void 0:e},5842:function(t,i,s){var h=s(6857),e=s(942),a=s(1466);t.exports=!h&&!e((function(){return 7!==Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a}))},5898:function(t,i,s){var h=s(8793),e=s(824),a=s(5589),c=function(t){return e.slice(0,t.length)===t};t.exports=c("Bun/")?"BUN":c("Cloudflare-Workers")?"CLOUDFLARE":c("Deno/")?"DENO":c("Node.js/")?"NODE":h.Bun&&"string"==typeof Bun.version?"BUN":h.Deno&&"object"==typeof Deno.version?"DENO":"process"===a(h.process)?"NODE":h.window&&h.document?"BROWSER":"REST"},5909:function(t,i,s){var h=s(6857),e=s(4446),a=s(2007);t.exports=function(t,i,s){h?e.f(t,i,a(0,s)):t[i]=s}},5910:function(t){t.exports=function(t,i){try{1===arguments.length?console.error(t):console.error(t,i)}catch(t){}}},5949:function(t,i,s){var h=s(7133);t.exports=h(1.1.valueOf)},5977:function(t,i,s){var h=s(942);t.exports=function(t,i){var s=[][t];return!!s&&h((function(){s.call(null,i||function(){return 1},1)}))}},6014:function(t,i,s){var h=s(5210);t.exports=function(t,i){return h[t]||(h[t]=i||{})}},6040:function(t,i,s){var h=s(2365),e=TypeError,a=function(t){var i,s;this.promise=new t((function(t,h){if(void 0!==i||void 0!==s)throw new e("Bad Promise constructor");i=t,s=h})),this.resolve=h(i),this.reject=h(s)};t.exports.f=function(t){return new a(t)}},6134:function(t,i,s){var h=s(4360),e=s(8479),a=s(7457),c=function(t){return function(i,s,c){var o=h(i),_=a(o);if(0===_)return!t&&-1;var r,n=e(c,_);if(t&&s!=s){for(;_>n;)if((r=o[n++])!=r)return!0}else for(;_>n;n++)if((t||n in o)&&o[n]===s)return t||n||0;return!t&&-1}};t.exports={includes:c(!0),indexOf:c(!1)}},6250:function(t,i,s){s(8111)},6253:function(t,i,s){var h=s(260);t.exports=h&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},6265:function(t,i,s){var h=s(942);t.exports=h((function(){if("function"==typeof ArrayBuffer){var t=new ArrayBuffer(8);Object.isExtensible(t)&&Object.defineProperty(t,"a",{value:8})}}))},6288:function(t,i,s){var h=s(8793),e=s(6857),a=Object.getOwnPropertyDescriptor;t.exports=function(t){if(!e)return h[t];var i=a(h,t);return i&&i.value}},6308:function(t,i,s){var h=s(942);t.exports=!h((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},6325:function(t,i,s){var h=s(260);t.exports=h&&!!Symbol.for&&!!Symbol.keyFor},6345:function(t,i,s){var h=s(6857),e=s(7403).EXISTS,a=s(7133),c=s(3129),o=Function.prototype,_=a(o.toString),r=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,n=a(r.exec);h&&!e&&c(o,"name",{configurable:!0,get:function(){try{return n(r,_(this))[1]}catch(t){return""}}})},6391:function(t,i,s){var h=s(3353),e=s(848),a=s(9158),c=s(7830),o=s(6014),_=s(6325),r=o("string-to-symbol-registry"),n=o("symbol-to-string-registry");h({target:"Symbol",stat:!0,forced:!_},{for:function(t){var i=c(t);if(a(r,i))return r[i];var s=e("Symbol")(i);return r[i]=s,n[s]=i,s}})},6405:function(t,i,s){var h=s(824);t.exports=/web0s(?!.*chrome)/i.test(h)},6437:function(t,i,s){var h=s(942),e=s(8793).RegExp;t.exports=h((function(){var t=e("(?<a>b)","g");return"b"!==t.exec("b").groups.a||"bc"!=="b".replace(t,"$<a>c")}))},6509:function(t,i,s){var h=s(3353),e=s(7087).trim;h({target:"String",proto:!0,forced:s(3989)("trim")},{trim:function(){return e(this)}})},6686:function(t,i,s){var h=s(4702),e=s(2909),a=s(4446).f,c=h("unscopables"),o=Array.prototype;void 0===o[c]&&a(o,c,{configurable:!0,value:e(null)}),t.exports=function(t){o[c][t]=!0}},6689:function(t,i,s){var h=s(492),e=s(848),a=s(4702),c=s(8521);t.exports=function(){var t=e("Symbol"),i=t&&t.prototype,s=i&&i.valueOf,o=a("toPrimitive");i&&!i[o]&&c(i,o,(function(t){return h(s,this)}),{arity:1})}},6732:function(t,i){var s={}.propertyIsEnumerable,h=Object.getOwnPropertyDescriptor,e=h&&!s.call({1:2},1);i.f=e?function(t){var i=h(this,t);return!!i&&i.enumerable}:s},6760:function(t,i,s){var h=s(9323),e=s(3614),a=s(9131),c=s(4702)("species"),o=Array;t.exports=function(t){var i;return h(t)&&(i=t.constructor,(e(i)&&(i===o||h(i.prototype))||a(i)&&null===(i=i[c]))&&(i=void 0)),void 0===i?o:i}},6857:function(t,i,s){var h=s(942);t.exports=!h((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))},6903:function(t,i,s){var h=s(3353),e=s(9468);h({target:"Array",stat:!0,forced:!s(9671)((function(t){Array.from(t)}))},{from:e})},6952:function(t,i,s){var h=s(917),e=s(3650);t.exports=h?{}.toString:function(){return"[object "+e(this)+"]"}},7056:function(t,i,s){var h=s(3353),e=s(1818),a=s(1249).CONSTRUCTOR,c=s(8577),o=s(848),_=s(9200),r=s(8521),n=c&&c.prototype;if(h({target:"Promise",proto:!0,forced:a,real:!0},{catch:function(t){return this.then(void 0,t)}}),!e&&_(c)){var m=o("Promise").prototype.catch;n.catch!==m&&r(n,"catch",m,{unsafe:!0})}},7087:function(t,i,s){var h=s(7133),e=s(3977),a=s(7830),c=s(2997),o=h("".replace),_=RegExp("^["+c+"]+"),r=RegExp("(^|[^"+c+"])["+c+"]+$"),n=function(t){return function(i){var s=a(e(i));return 1&t&&(s=o(s,_,"")),2&t&&(s=o(s,r,"$1")),s}};t.exports={start:n(1),end:n(2),trim:n(3)}},7133:function(t,i,s){var h=s(7315),e=Function.prototype,a=e.call,c=h&&e.bind.bind(a,a);t.exports=h?c:function(t){return function(){return a.apply(t,arguments)}}},7217:function(t,i,s){var h=s(7133),e=s(9200),a=s(5210),c=h(Function.toString);e(a.inspectSource)||(a.inspectSource=function(t){return c(t)}),t.exports=a.inspectSource},7231:function(t,i,s){var h=s(3353),e=s(942),a=s(9323),c=s(9131),o=s(9272),_=s(7457),r=s(4686),n=s(5909),m=s(9498),p=s(3358),g=s(4702),u=s(9140),y=g("isConcatSpreadable"),d=u>=51||!e((function(){var t=[];return t[y]=!1,t.concat()[0]!==t})),f=function(t){if(!c(t))return!1;var i=t[y];return void 0!==i?!!i:a(t)};h({target:"Array",proto:!0,arity:1,forced:!d||!p("concat")},{concat:function(t){var i,s,h,e,a,c=o(this),p=m(c,0),g=0;for(i=-1,h=arguments.length;i<h;i++)if(f(a=-1===i?c:arguments[i]))for(e=_(a),r(g+e),s=0;s<e;s++,g++)s in a&&n(p,g,a[s]);else r(g+1),n(p,g++,a);return p.length=g,p}})},7234:function(t,i,s){var h=s(3353),e=s(6857),a=s(8793),c=s(7133),o=s(9158),_=s(9200),r=s(2430),n=s(7830),m=s(3129),p=s(4085),g=a.Symbol,u=g&&g.prototype;if(e&&_(g)&&(!("description"in u)||void 0!==g().description)){var y={},d=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:n(arguments[0]),i=r(u,this)?new g(t):void 0===t?g():g(t);return""===t&&(y[i]=!0),i};p(d,g),d.prototype=u,u.constructor=d;var f="Symbol(description detection)"===String(g("description detection")),j=c(u.valueOf),l=c(u.toString),v=/^Symbol\((.*)\)[^)]+$/,x=c("".replace),k=c("".slice);m(u,"description",{configurable:!0,get:function(){var t=j(this);if(o(y,t))return"";var i=l(t),s=f?k(i,7,-1):x(i,v,"$1");return""===s?void 0:s}}),h({global:!0,constructor:!0,forced:!0},{Symbol:d})}},7236:function(t){t.exports=function(t,i){return{value:t,done:i}}},7275:function(t,i,s){var h=s(2909),e=s(3129),a=s(3948),c=s(5457),o=s(602),_=s(2178),r=s(3973),n=s(7645),m=s(7236),p=s(4384),g=s(6857),u=s(3850).fastKey,y=s(1514),d=y.set,f=y.getterFor;t.exports={getConstructor:function(t,i,s,n){var m=t((function(t,e){o(t,p),d(t,{type:i,index:h(null),first:null,last:null,size:0}),g||(t.size=0),_(e)||r(e,t[n],{that:t,AS_ENTRIES:s})})),p=m.prototype,y=f(i),j=function(t,i,s){var h,e,a=y(t),c=l(t,i);return c?c.value=s:(a.last=c={index:e=u(i,!0),key:i,value:s,previous:h=a.last,next:null,removed:!1},a.first||(a.first=c),h&&(h.next=c),g?a.size++:t.size++,"F"!==e&&(a.index[e]=c)),t},l=function(t,i){var s,h=y(t),e=u(i);if("F"!==e)return h.index[e];for(s=h.first;s;s=s.next)if(s.key===i)return s};return a(p,{clear:function(){for(var t=y(this),i=t.first;i;)i.removed=!0,i.previous&&(i.previous=i.previous.next=null),i=i.next;t.first=t.last=null,t.index=h(null),g?t.size=0:this.size=0},delete:function(t){var i=this,s=y(i),h=l(i,t);if(h){var e=h.next,a=h.previous;delete s.index[h.index],h.removed=!0,a&&(a.next=e),e&&(e.previous=a),s.first===h&&(s.first=e),s.last===h&&(s.last=a),g?s.size--:i.size--}return!!h},forEach:function(t){for(var i,s=y(this),h=c(t,arguments.length>1?arguments[1]:void 0);i=i?i.next:s.first;)for(h(i.value,i.key,this);i&&i.removed;)i=i.previous},has:function(t){return!!l(this,t)}}),a(p,s?{get:function(t){var i=l(this,t);return i&&i.value},set:function(t,i){return j(this,0===t?0:t,i)}}:{add:function(t){return j(this,t=0===t?0:t,t)}}),g&&e(p,"size",{configurable:!0,get:function(){return y(this).size}}),m},setStrong:function(t,i,s){var h=i+" Iterator",e=f(i),a=f(h);n(t,i,(function(t,i){d(this,{type:h,target:t,state:e(t),kind:i,last:null})}),(function(){for(var t=a(this),i=t.kind,s=t.last;s&&s.removed;)s=s.previous;return t.target&&(t.last=s=s?s.next:t.state.first)?m("keys"===i?s.key:"values"===i?s.value:[s.key,s.value],!1):(t.target=null,m(void 0,!0))}),s?"entries":"values",!s,!0),p(i)}}},7315:function(t,i,s){var h=s(942);t.exports=!h((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}))},7348:function(t,i,s){var h=s(3353),e=s(6040);h({target:"Promise",stat:!0,forced:s(1249).CONSTRUCTOR},{reject:function(t){var i=e.f(this);return(0,i.reject)(t),i.promise}})},7403:function(t,i,s){var h=s(6857),e=s(9158),a=Function.prototype,c=h&&Object.getOwnPropertyDescriptor,o=e(a,"name"),_=o&&"something"===function(){}.name,r=o&&(!h||h&&c(a,"name").configurable);t.exports={EXISTS:o,PROPER:_,CONFIGURABLE:r}},7432:function(t,i,s){var h=s(942),e=s(8793).RegExp;t.exports=h((function(){var t=e(".","s");return!(t.dotAll&&t.test("\n")&&"s"===t.flags)}))},7453:function(t,i,s){var h=s(942),e=s(9200),a=/#|\.prototype\./,c=function(t,i){var s=_[o(t)];return s===n||s!==r&&(e(i)?h(i):!!i)},o=c.normalize=function(t){return String(t).replace(a,".").toLowerCase()},_=c.data={},r=c.NATIVE="N",n=c.POLYFILL="P";t.exports=c},7455:function(t,i,s){var h=s(3353),e=s(7133),a=s(8060),c=s(4360),o=s(5977),_=e([].join);h({target:"Array",proto:!0,forced:a!==Object||!o("join",",")},{join:function(t){return _(c(this),void 0===t?",":t)}})},7457:function(t,i,s){var h=s(2695);t.exports=function(t){return h(t.length)}},7596:function(t,i,s){var h=s(8793);t.exports=h},7645:function(t,i,s){var h=s(3353),e=s(492),a=s(1818),c=s(7403),o=s(9200),_=s(4635),r=s(5270),n=s(8018),m=s(1606),p=s(5044),g=s(8521),u=s(4702),y=s(488),d=s(1982),f=c.PROPER,j=c.CONFIGURABLE,l=d.IteratorPrototype,v=d.BUGGY_SAFARI_ITERATORS,x=u("iterator"),k="keys",w="values",b="entries",S=function(){return this};t.exports=function(t,i,s,c,u,d,M){_(s,i,c);var C,I,B,G=function(t){if(t===u&&O)return O;if(!v&&t&&t in P)return P[t];switch(t){case k:case w:case b:return function(){return new s(this,t)}}return function(){return new s(this)}},z=i+" Iterator",A=!1,P=t.prototype,N=P[x]||P["@@iterator"]||u&&P[u],O=!v&&N||G(u),Y="Array"===i&&P.entries||N;if(Y&&(C=r(Y.call(new t)))!==Object.prototype&&C.next&&(a||r(C)===l||(n?n(C,l):o(C[x])||g(C,x,S)),m(C,z,!0,!0),a&&(y[z]=S)),f&&u===w&&N&&N.name!==w&&(!a&&j?p(P,"name",w):(A=!0,O=function(){return e(N,this)})),u)if(I={values:G(w),keys:d?O:G(k),entries:G(b)},M)for(B in I)(v||A||!(B in P))&&g(P,B,I[B]);else h({target:i,proto:!0,forced:v||A},I);return a&&!M||P[x]===O||g(P,x,O,{name:u}),y[i]=O,I}},7720:function(t,i,s){var h=s(4932),e=s(7830),a=s(3977),c=RangeError;t.exports=function(t){var i=e(a(this)),s="",o=h(t);if(o<0||o===1/0)throw new c("Wrong number of repetitions");for(;o>0;(o>>>=1)&&(i+=i))1&o&&(s+=i);return s}},7751:function(t,i,s){var h,e,a,c,o=s(3353),_=s(1818),r=s(1320),n=s(8793),m=s(7596),p=s(492),g=s(8521),u=s(8018),y=s(1606),d=s(4384),f=s(2365),j=s(9200),l=s(9131),v=s(602),x=s(4208),k=s(1070).set,w=s(114),b=s(5910),S=s(2502),M=s(2196),C=s(1514),I=s(8577),B=s(1249),G=s(6040),z="Promise",A=B.CONSTRUCTOR,P=B.REJECTION_EVENT,N=B.SUBCLASSING,O=C.getterFor(z),Y=C.set,T=I&&I.prototype,E=I,R=T,V=n.TypeError,W=n.document,F=n.process,D=G.f,L=D,H=!!(W&&W.createEvent&&n.dispatchEvent),U="unhandledrejection",q=function(t){var i;return!(!l(t)||!j(i=t.then))&&i},K=function(t,i){var s,h,e,a=i.value,c=1===i.state,o=c?t.ok:t.fail,_=t.resolve,r=t.reject,n=t.domain;try{o?(c||(2===i.rejection&&Q(i),i.rejection=1),!0===o?s=a:(n&&n.enter(),s=o(a),n&&(n.exit(),e=!0)),s===t.promise?r(new V("Promise-chain cycle")):(h=q(s))?p(h,s,_,r):_(s)):r(a)}catch(t){n&&!e&&n.exit(),r(t)}},J=function(t,i){t.notified||(t.notified=!0,w((function(){for(var s,h=t.reactions;s=h.get();)K(s,t);t.notified=!1,i&&!t.rejection&&X(t)})))},Z=function(t,i,s){var h,e;H?((h=W.createEvent("Event")).promise=i,h.reason=s,h.initEvent(t,!1,!0),n.dispatchEvent(h)):h={promise:i,reason:s},!P&&(e=n["on"+t])?e(h):t===U&&b("Unhandled promise rejection",s)},X=function(t){p(k,n,(function(){var i,s=t.facade,h=t.value;if($(t)&&(i=S((function(){r?F.emit("unhandledRejection",h,s):Z(U,s,h)})),t.rejection=r||$(t)?2:1,i.error))throw i.value}))},$=function(t){return 1!==t.rejection&&!t.parent},Q=function(t){p(k,n,(function(){var i=t.facade;r?F.emit("rejectionHandled",i):Z("rejectionhandled",i,t.value)}))},tt=function(t,i,s){return function(h){t(i,h,s)}},it=function(t,i,s){t.done||(t.done=!0,s&&(t=s),t.value=i,t.state=2,J(t,!0))},st=function(t,i,s){if(!t.done){t.done=!0,s&&(t=s);try{if(t.facade===i)throw new V("Promise can't be resolved itself");var h=q(i);h?w((function(){var s={done:!1};try{p(h,i,tt(st,s,t),tt(it,s,t))}catch(i){it(s,i,t)}})):(t.value=i,t.state=1,J(t,!1))}catch(i){it({done:!1},i,t)}}};if(A&&(R=(E=function(t){v(this,R),f(t),p(h,this);var i=O(this);try{t(tt(st,i),tt(it,i))}catch(t){it(i,t)}}).prototype,(h=function(t){Y(this,{type:z,done:!1,notified:!1,parent:!1,reactions:new M,rejection:!1,state:0,value:null})}).prototype=g(R,"then",(function(t,i){var s=O(this),h=D(x(this,E));return s.parent=!0,h.ok=!j(t)||t,h.fail=j(i)&&i,h.domain=r?F.domain:void 0,0===s.state?s.reactions.add(h):w((function(){K(h,s)})),h.promise})),e=function(){var t=new h,i=O(t);this.promise=t,this.resolve=tt(st,i),this.reject=tt(it,i)},G.f=D=function(t){return t===E||t===a?new e(t):L(t)},!_&&j(I)&&T!==Object.prototype)){c=T.then,N||g(T,"then",(function(t,i){var s=this;return new E((function(t,i){p(c,s,t,i)})).then(t,i)}),{unsafe:!0});try{delete T.constructor}catch(t){}u&&u(T,R)}o({global:!0,constructor:!0,wrap:!0,forced:A},{Promise:E}),a=m.Promise,y(E,z,!1,!0),d(z)},7781:function(t,i,s){var h=s(492),e=s(9158),a=s(2430),c=s(1150),o=s(9824),_=RegExp.prototype;t.exports=c.correct?function(t){return t.flags}:function(t){return c.correct||!a(_,t)||e(t,"flags")?t.flags:h(o,t)}},7799:function(t,i,s){var h=s(9158),e=s(8521),a=s(5661),c=s(4702)("toPrimitive"),o=Date.prototype;h(o,c)||e(o,c,a)},7830:function(t,i,s){var h=s(3650),e=String;t.exports=function(t){if("Symbol"===h(t))throw new TypeError("Cannot convert a Symbol value to a string");return e(t)}},7933:function(t,i,s){var h=s(4360),e=s(6686),a=s(488),c=s(1514),o=s(4446).f,_=s(7645),r=s(7236),n=s(1818),m=s(6857),p="Array Iterator",g=c.set,u=c.getterFor(p);t.exports=_(Array,"Array",(function(t,i){g(this,{type:p,target:h(t),index:0,kind:i})}),(function(){var t=u(this),i=t.target,s=t.index++;if(!i||s>=i.length)return t.target=null,r(void 0,!0);switch(t.kind){case"keys":return r(s,!1);case"values":return r(i[s],!1)}return r([s,i[s]],!1)}),"values");var y=a.Arguments=a.Array;if(e("keys"),e("values"),e("entries"),!n&&m&&"values"!==y.name)try{o(y,"name",{value:"values"})}catch(t){}},7938:function(t){var i=String;t.exports=function(t){try{return i(t)}catch(t){return"Object"}}},7960:function(t,i,s){var h=s(3353),e=s(942),a=s(9272),c=s(5270),o=s(6308);h({target:"Object",stat:!0,forced:e((function(){c(1)})),sham:!o},{getPrototypeOf:function(t){return c(a(t))}})},8018:function(t,i,s){var h=s(9229),e=s(9131),a=s(3977),c=s(9677);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,i=!1,s={};try{(t=h(Object.prototype,"__proto__","set"))(s,[]),i=s instanceof Array}catch(t){}return function(s,h){return a(s),c(h),e(s)?(i?t(s,h):s.__proto__=h,s):s}}():void 0)},8060:function(t,i,s){var h=s(7133),e=s(942),a=s(5589),c=Object,o=h("".split);t.exports=e((function(){return!c("z").propertyIsEnumerable(0)}))?function(t){return"String"===a(t)?o(t,""):c(t)}:c},8067:function(t,i,s){var h=s(3353),e=s(848),a=s(890),c=s(492),o=s(7133),_=s(942),r=s(9200),n=s(460),m=s(2485),p=s(906),g=s(260),u=String,y=e("JSON","stringify"),d=o(/./.exec),f=o("".charAt),j=o("".charCodeAt),l=o("".replace),v=o(1.1.toString),x=/[\uD800-\uDFFF]/g,k=/^[\uD800-\uDBFF]$/,w=/^[\uDC00-\uDFFF]$/,b=!g||_((function(){var t=e("Symbol")("stringify detection");return"[null]"!==y([t])||"{}"!==y({a:t})||"{}"!==y(Object(t))})),S=_((function(){return'"\\udf06\\ud834"'!==y("\udf06\ud834")||'"\\udead"'!==y("\udead")})),M=function(t,i){var s=m(arguments),h=p(i);if(r(h)||void 0!==t&&!n(t))return s[1]=function(t,i){if(r(h)&&(i=c(h,this,u(t),i)),!n(i))return i},a(y,null,s)},C=function(t,i,s){var h=f(s,i-1),e=f(s,i+1);return d(k,t)&&!d(w,e)||d(w,t)&&!d(k,h)?"\\u"+v(j(t,0),16):t};y&&h({target:"JSON",stat:!0,arity:3,forced:b||S},{stringify:function(t,i,s){var h=m(arguments),e=a(b?M:y,null,h);return S&&"string"==typeof e?l(e,x,C):e}})},8070:function(t,i,s){var h=s(8793),e=s(3217),a=s(5827),c=s(7933),o=s(5044),_=s(1606),r=s(4702)("iterator"),n=c.values,m=function(t,i){if(t){if(t[r]!==n)try{o(t,r,n)}catch(i){t[r]=n}if(_(t,i,!0),e[i])for(var s in c)if(t[s]!==c[s])try{o(t,s,c[s])}catch(i){t[s]=c[s]}}};for(var p in e)m(h[p]&&h[p].prototype,p);m(a,"DOMTokenList")},8098:function(t,i,s){s(404),s(6391),s(1497),s(8067),s(2062)},8111:function(t,i,s){s(4363)("Map",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),s(7275))},8226:function(t){var i=Math.ceil,s=Math.floor;t.exports=Math.trunc||function(t){var h=+t;return(h>0?s:i)(h)}},8351:function(t,i,s){var h=s(3353),e=s(848),a=s(1818),c=s(8577),o=s(1249).CONSTRUCTOR,_=s(2951),r=e("Promise"),n=a&&!o;h({target:"Promise",stat:!0,forced:a||o},{resolve:function(t){return _(n&&this===r?c:this,t)}})},8466:function(t,i,s){var h=s(8793),e=Object.defineProperty;t.exports=function(t,i){try{e(h,t,{value:i,configurable:!0,writable:!0})}catch(s){h[t]=i}return i}},8479:function(t,i,s){var h=s(4932),e=Math.max,a=Math.min;t.exports=function(t,i){var s=h(t);return s<0?e(s+i,0):a(s,i)}},8521:function(t,i,s){var h=s(9200),e=s(4446),a=s(4174),c=s(8466);t.exports=function(t,i,s,o){o||(o={});var _=o.enumerable,r=void 0!==o.name?o.name:i;if(h(s)&&a(s,r,o),o.global)_?t[i]=s:c(i,s);else{try{o.unsafe?t[i]&&(_=!0):delete t[i]}catch(t){}_?t[i]=s:e.f(t,i,{value:s,enumerable:!1,configurable:!o.nonConfigurable,writable:!o.nonWritable})}return t}},8577:function(t,i,s){var h=s(8793);t.exports=h.Promise},8700:function(t,i,s){var h=s(7403).PROPER,e=s(8521),a=s(4398),c=s(7830),o=s(942),_=s(7781),r="toString",n=RegExp.prototype,m=n[r],p=o((function(){return"/a/b"!==m.call({source:"a",flags:"b"})})),g=h&&m.name!==r;(p||g)&&e(n,r,(function(){var t=a(this);return"/"+c(t.source)+"/"+c(_(t))}),{unsafe:!0})},8718:function(t,i,s){var h=s(9944).charAt;t.exports=function(t,i,s){return i+(s?h(t,i).length:1)}},8788:function(t,i,s){var h=s(824);t.exports=/ipad|iphone|ipod/i.test(h)&&"undefined"!=typeof Pebble},8793:function(t,i,s){var h=function(t){return t&&t.Math===Math&&t};t.exports=h("object"==typeof globalThis&&globalThis)||h("object"==typeof window&&window)||h("object"==typeof self&&self)||h("object"==typeof s.g&&s.g)||h("object"==typeof this&&this)||function(){return this}()||Function("return this")()},8959:function(t,i,s){var h=s(7133),e=s(9158),a=s(4360),c=s(6134).indexOf,o=s(640),_=h([].push);t.exports=function(t,i){var s,h=a(t),r=0,n=[];for(s in h)!e(o,s)&&e(h,s)&&_(n,s);for(;i.length>r;)e(h,s=i[r++])&&(~c(n,s)||_(n,s));return n}},9131:function(t,i,s){var h=s(9200);t.exports=function(t){return"object"==typeof t?null!==t:h(t)}},9140:function(t,i,s){var h,e,a=s(8793),c=s(824),o=a.process,_=a.Deno,r=o&&o.versions||_&&_.version,n=r&&r.v8;n&&(e=(h=n.split("."))[0]>0&&h[0]<4?1:+(h[0]+h[1])),!e&&c&&(!(h=c.match(/Edge\/(\d+)/))||h[1]>=74)&&(h=c.match(/Chrome\/(\d+)/))&&(e=+h[1]),t.exports=e},9158:function(t,i,s){var h=s(7133),e=s(9272),a=h({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,i){return a(e(t),i)}},9188:function(t,i,s){var h=s(3353),e=s(492),a=s(2365),c=s(6040),o=s(2502),_=s(3973);h({target:"Promise",stat:!0,forced:s(216)},{all:function(t){var i=this,s=c.f(i),h=s.resolve,r=s.reject,n=o((function(){var s=a(i.resolve),c=[],o=0,n=1;_(t,(function(t){var a=o++,_=!1;n++,e(s,i,t).then((function(t){_||(_=!0,c[a]=t,--n||h(c))}),r)})),--n||h(c)}));return n.error&&r(n.value),s.promise}})},9200:function(t){var i="object"==typeof document&&document.all;t.exports=void 0===i&&void 0!==i?function(t){return"function"==typeof t||t===i}:function(t){return"function"==typeof t}},9229:function(t,i,s){var h=s(7133),e=s(2365);t.exports=function(t,i,s){try{return h(e(Object.getOwnPropertyDescriptor(t,i)[s]))}catch(t){}}},9260:function(t,i,s){var h=s(942),e=s(8793).RegExp,a=h((function(){var t=e("a","y");return t.lastIndex=2,null!==t.exec("abcd")})),c=a||h((function(){return!e("a","y").sticky})),o=a||h((function(){var t=e("^r","gy");return t.lastIndex=2,null!==t.exec("str")}));t.exports={BROKEN_CARET:o,MISSED_STICKY:c,UNSUPPORTED_Y:a}},9272:function(t,i,s){var h=s(3977),e=Object;t.exports=function(t){return e(h(t))}},9323:function(t,i,s){var h=s(5589);t.exports=Array.isArray||function(t){return"Array"===h(t)}},9325:function(t,i,s){var h=s(2365),e=s(2178);t.exports=function(t,i){var s=t[i];return e(s)?void 0:h(s)}},9400:function(t,i,s){var h=s(492),e=s(4398),a=s(9325);t.exports=function(t,i,s){var c,o;e(t);try{if(!(c=a(t,"return"))){if("throw"===i)throw s;return s}c=h(c,t)}catch(t){o=!0,c=t}if("throw"===i)throw s;if(o)throw c;return e(c),s}},9422:function(t,i,s){var h=s(492),e=s(9131),a=s(460),c=s(9325),o=s(1427),_=s(4702),r=TypeError,n=_("toPrimitive");t.exports=function(t,i){if(!e(t)||a(t))return t;var s,_=c(t,n);if(_){if(void 0===i&&(i="default"),s=h(_,t,i),!e(s)||a(s))return s;throw new r("Can't convert object to primitive value")}return void 0===i&&(i="number"),o(t,i)}},9468:function(t,i,s){var h=s(5457),e=s(492),a=s(9272),c=s(1512),o=s(6),_=s(3614),r=s(7457),n=s(5909),m=s(1778),p=s(590),g=Array;t.exports=function(t){var i=a(t),s=_(this),u=arguments.length,y=u>1?arguments[1]:void 0,d=void 0!==y;d&&(y=h(y,u>2?arguments[2]:void 0));var f,j,l,v,x,k,w=p(i),b=0;if(!w||this===g&&o(w))for(f=r(i),j=s?new this(f):g(f);f>b;b++)k=d?y(i[b],b):i[b],n(j,b,k);else for(j=s?new this:[],x=(v=m(i,w)).next;!(l=e(x,v)).done;b++)k=d?c(v,y,[l.value,b],!0):l.value,n(j,b,k);return j.length=b,j}},9498:function(t,i,s){var h=s(6760);t.exports=function(t,i){return new(h(t))(0===i?0:i)}},9538:function(t,i,s){var h=s(3353),e=s(492),a=s(2365),c=s(6040),o=s(2502),_=s(3973);h({target:"Promise",stat:!0,forced:s(216)},{race:function(t){var i=this,s=c.f(i),h=s.reject,r=o((function(){var c=a(i.resolve);_(t,(function(t){e(c,i,t).then(s.resolve,h)}))}));return r.error&&h(r.value),s.promise}})},9656:function(t,i,s){var h=s(7596),e=s(9158),a=s(4990),c=s(4446).f;t.exports=function(t){var i=h.Symbol||(h.Symbol={});e(i,t)||c(i,t,{value:a.f(t)})}},9671:function(t,i,s){var h=s(4702)("iterator"),e=!1;try{var a=0,c={next:function(){return{done:!!a++}},return:function(){e=!0}};c[h]=function(){return this},Array.from(c,(function(){throw 2}))}catch(t){}t.exports=function(t,i){try{if(!i&&!e)return!1}catch(t){return!1}var s=!1;try{var a={};a[h]=function(){return{next:function(){return{done:s=!0}}}},t(a)}catch(t){}return s}},9677:function(t,i,s){var h=s(100),e=String,a=TypeError;t.exports=function(t){if(h(t))return t;throw new a("Can't set "+e(t)+" as a prototype")}},9799:function(t,i,s){var h=s(7133),e=s(2365),a=s(9131),c=s(9158),o=s(2485),_=s(7315),r=Function,n=h([].concat),m=h([].join),p={};t.exports=_?r.bind:function(t){var i=e(this),s=i.prototype,h=o(arguments,1),_=function(){var s=n(h,o(arguments));return this instanceof _?function(t,i,s){if(!c(p,i)){for(var h=[],e=0;e<i;e++)h[e]="a["+e+"]";p[i]=r("C,a","return new C("+m(h,",")+")")}return p[i](t,s)}(i,s.length,s):i.apply(t,s)};return a(s)&&(_.prototype=s),_}},9824:function(t,i,s){var h=s(4398);t.exports=function(){var t=h(this),i="";return t.hasIndices&&(i+="d"),t.global&&(i+="g"),t.ignoreCase&&(i+="i"),t.multiline&&(i+="m"),t.dotAll&&(i+="s"),t.unicode&&(i+="u"),t.unicodeSets&&(i+="v"),t.sticky&&(i+="y"),i}},9939:function(t,i,s){var h=s(942),e=s(9131),a=s(5589),c=s(6265),o=Object.isExtensible,_=h((function(){o(1)}));t.exports=_||c?function(t){return!!e(t)&&(!c||"ArrayBuffer"!==a(t))&&(!o||o(t))}:o},9944:function(t,i,s){var h=s(7133),e=s(4932),a=s(7830),c=s(3977),o=h("".charAt),_=h("".charCodeAt),r=h("".slice),n=function(t){return function(i,s){var h,n,m=a(c(i)),p=e(s),g=m.length;return p<0||p>=g?t?"":void 0:(h=_(m,p))<55296||h>56319||p+1===g||(n=_(m,p+1))<56320||n>57343?t?o(m,p):h:t?r(m,p,p+2):n-56320+(h-55296<<10)+65536}};t.exports={codeAt:n(!1),charAt:n(!0)}}},i={};function s(h){var e=i[h];if(void 0!==e)return e.exports;var a=i[h]={exports:{}};return t[h].call(a.exports,a,a.exports,s),a.exports}s.d=function(t,i){for(var h in i)s.o(i,h)&&!s.o(t,h)&&Object.defineProperty(t,h,{enumerable:!0,get:i[h]})},s.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),s.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var h={};function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(t)}function a(t,i){for(var s=0;s<i.length;s++){var h=i[s];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(t,c(h.key),h)}}function c(t){var i=function(t){if("object"!=e(t)||!t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var s=i.call(t,"string");if("object"!=e(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==e(i)?i:i+""}s.r(h),s.d(h,{CharacterObject:function(){return o},Game:function(){return Li},GameGraphicsForApplet:function(){return os},GameKey:function(){return m},GameMouse:function(){return y},GameSoundForApplet:function(){return C},GameSoundWebAudio:function(){return I},IdouGamen:function(){return It},ImageBuff:function(){return T},KeyboardMenu:function(){return At},MainProgram:function(){return di},MapSystem:function(){return Et},MasaoConstruction:function(){return Yi},TagDataBase:function(){return Bi},YukaObject:function(){return Dt}}),s(8098),s(7234),s(1724),s(2895),s(7933),s(7799),s(5133),s(4202),s(5535),s(8070);var o=function(){return t=function t(){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.c=0,this.x=0,this.y=0,this.vx=0,this.vy=0,this.wx=0,this.wy=0,this.c1=0,this.c2=0,this.c3=0,this.c4=0,this.c5=0,this.pt=0,this.pth=0,this.img=null,this.zs_x=0,this.zs_y=0,this.ac=0,this.level=0,this.jimen_f=!1,this.muki=0,this.direction=0,this.score=0,this.ss=0,this.gf=!1,this.controller=void 0},(i=[{key:"init",value:function(){this.c=0,this.x=0,this.y=0,this.vx=0,this.vy=0,this.wx=0,this.wy=0,this.c1=0,this.c2=0,this.c3=0,this.c4=0,this.c5=0,this.pt=0,this.pth=0,this.img=null,this.zs_x=0,this.zs_y=0,this.ac=0,this.level=0,this.jimen_f=!1,this.muki=0,this.direction=0,this.score=0,this.ss=0,this.gf=!1,this.controller=void 0}},{key:"setPattern",value:function(t){}}])&&a(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,i}();function _(t){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_(t)}function r(t,i){for(var s=0;s<i.length;s++){var h=i[s];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(t,n(h.key),h)}}function n(t){var i=function(t){if("object"!=_(t)||!t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var s=i.call(t,"string");if("object"!=_(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==_(i)?i:i+""}s(6250),s(7960),s(5109),s(7231),s(1906),s(7455),s(4845),s(6345),s(2580),s(8700),s(2216),s(6903),s(1783),s(2085),s(6509),s(3111);var m=function(){return t=function t(){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.key_code=0,this.up_f=!1,this.down_f=!1,this.left_f=!1,this.right_f=!1,this.tr1_f=!1,this.tr2_f=!1,this.tr3_f=!1,this.start_f=!1,this.x_f=!1,this.z_f=!1,this.space_f=!1,this.left_c=0,this.right_c=0,this.up_c=0,this.down_c=0,this.tr1_c=0,this.codekey_f=new Array(256),this.left_right_lock=!1,this.key_char=0},(i=[{key:"init",value:function(){this.key_code=0,this.up_f=!1,this.down_f=!1,this.left_f=!1,this.right_f=!1,this.tr1_f=!1,this.tr2_f=!1,this.tr3_f=!1,this.start_f=!1,this.x_f=!1,this.z_f=!1,this.space_f=!1,this.left_c=0,this.right_c=0,this.up_c=0,this.down_c=0,this.tr1_c=0,this.left_right_lock=!1;for(var t=0;t<=255;t++)this.codekey_f[t]=!1}},{key:"keyPressed",value:function(t){switch(this.key_code=t.keyCode,this.key_char=t.keyCode,this.key_code>=0&&this.key_code<=255&&(this.codekey_f[this.key_code]=!0),this.key_code){case 38:case 104:t.preventDefault(),this.up_f=!0;break;case 40:case 98:t.preventDefault(),this.down_f=!0,this.tr2_f=!0;break;case 37:case 100:t.preventDefault(),this.left_right_lock||(this.left_f=!0);break;case 39:case 102:t.preventDefault(),this.left_right_lock||(this.right_f=!0);break;case 90:t.preventDefault(),this.tr1_f=!0,this.z_f=!0;break;case 88:t.preventDefault(),this.tr2_f=!0,this.x_f=!0;break;case 67:t.preventDefault(),this.tr3_f=!0;break;case 32:t.preventDefault(),this.tr1_f=!0,this.space_f=!0,this.tr1_c=0;break;case 83:t.preventDefault(),this.start_f=!0}}},{key:"keyReleased",value:function(t){var i=t.keyCode;switch(i>=0&&i<=255&&(this.codekey_f[i]=!1),i){case 38:case 104:this.up_f=!1;break;case 40:case 98:this.down_f=!1,this.tr2_f=!1;break;case 37:case 100:this.left_right_lock||(this.left_f=!1,this.left_c=0);break;case 39:case 102:this.left_right_lock||(this.right_f=!1,this.right_c=0);break;case 90:this.tr1_f=!1,this.z_f=!1,this.tr1_c=0;break;case 88:this.tr2_f=!1,this.x_f=!1;break;case 67:this.tr3_f=!1;break;case 32:this.tr1_f=!1,this.space_f=!1,this.tr1_c=0;break;case 83:this.start_f=!1}}},{key:"getKeyCode",value:function(){return this.key_code}}])&&r(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,i}();function p(t){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p(t)}function g(t,i){for(var s=0;s<i.length;s++){var h=i[s];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(t,u(h.key),h)}}function u(t){var i=function(t){if("object"!=p(t)||!t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var s=i.call(t,"string");if("object"!=p(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==p(i)?i:i+""}var y=function(){return t=function t(){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.button_f=!1,this.click_x=0,this.click_y=0},(i=[{key:"init",value:function(){this.button_f=!1,this.click_x=0,this.click_y=0}},{key:"mousePressed",value:function(t){var i=t.target;if(i instanceof HTMLCanvasElement){var s=i.getBoundingClientRect();this.button_f=!0,this.click_x=(t.clientX-s.left)/s.width*i.width,this.click_y=(t.clientY-s.top)/s.height*i.height}}},{key:"mouseReleased",value:function(t){this.button_f=!1}}])&&g(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,i}();function d(t,i,s){return i=j(i),function(t,i){if(i&&("object"==x(i)||"function"==typeof i))return i;if(void 0!==i)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,f()?Reflect.construct(i,s||[],j(t).constructor):i.apply(t,s))}function f(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(f=function(){return!!t})()}function j(t){return j=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},j(t)}function l(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),i&&v(t,i)}function v(t,i){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,i){return t.__proto__=i,t},v(t,i)}function x(t){return x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},x(t)}function k(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}function w(t,i){for(var s=0;s<i.length;s++){var h=i[s];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(t,S(h.key),h)}}function b(t,i,s){return i&&w(t.prototype,i),s&&w(t,s),Object.defineProperty(t,"prototype",{writable:!1}),t}function S(t){var i=function(t){if("object"!=x(t)||!t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var s=i.call(t,"string");if("object"!=x(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==x(i)?i:i+""}s(1242);var M=function(){return b((function t(i,s){k(this,t),this.ap=s,this.tdb=i,this.s_data=new Array(32),this.use_f=!0,this.mute_f=!1,this.rs_b=-1,this.bgm_switch=!1,this.bgm_loop=!1,this.bgm=new Array(20),this.bgm_filename=new Array(20),this.bgm_genzai=-1;for(var h=0;h<this.s_data.length;h++)this.s_data[h]=null;2===parseInt(this.tdb.getValue("se_switch"))&&(this.use_f=!1),1===parseInt(this.tdb.getValue("fx_bgm_switch"))?this.bgm_switch=!0:this.bgm_switch=!1,1===parseInt(this.tdb.getValue("fx_bgm_loop"))?this.bgm_loop=!0:this.bgm_loop=!1,this.bgm_genzai=-1,this._init(),this._load()}),[{key:"_getSEFilenames",value:function(){var t=this.tdb;return 2===parseInt(t.getValue("se_filename"))?["item.au","gameover.au","clear.au","jump.au","sjump.au","kiki.au","coin.au","get.au","fumu.au","tobasu.au","mgan.au","happa.au","dosun.au","item.au","mgan.au","happa.au","bakuhatu.au","mgan.au","happa.au","shot.au","mizu.au","get.au","shot.au","shot.au","dosun.au","get.au","mgan.au"]:[t.getValue("filename_se_start"),t.getValue("filename_se_gameover"),t.getValue("filename_se_clear"),t.getValue("filename_se_jump"),t.getValue("filename_se_sjump"),t.getValue("filename_se_kiki"),t.getValue("filename_se_coin"),t.getValue("filename_se_get"),t.getValue("filename_se_fumu"),t.getValue("filename_se_tobasu"),t.getValue("filename_se_dengeki"),t.getValue("filename_se_happa"),t.getValue("filename_se_dosun"),t.getValue("filename_se_item"),t.getValue("filename_se_hinoko"),t.getValue("filename_se_mizudeppo"),t.getValue("filename_se_block"),t.getValue("filename_se_grounder"),t.getValue("filename_se_kaiole"),t.getValue("filename_se_bomb"),t.getValue("filename_se_mizu"),t.getValue("filename_se_dokan"),t.getValue("filename_se_senkuuza"),t.getValue("filename_se_fireball"),t.getValue("filename_se_miss"),t.getValue("filename_se_chizugamen"),t.getValue("filename_se_jet")]}},{key:"_getBGMFilenames",value:function(){var t=this.tdb;return[t.getValue("filename_fx_bgm_stage1"),t.getValue("filename_fx_bgm_stage2"),t.getValue("filename_fx_bgm_stage3"),t.getValue("filename_fx_bgm_stage4"),t.getValue("filename_fx_bgm_boss"),t.getValue("filename_fx_bgm_title"),t.getValue("filename_fx_bgm_ending"),t.getValue("filename_fx_bgm_chizu")]}},{key:"resetSound",value:function(){}},{key:"soundOff",value:function(){this.mute_f=!0,this.stopBGM()}},{key:"soundOn",value:function(){this.mute_f=!1,this.rs_b=-1}},{key:"rsInit",value:function(){this.rs_b=-1}}])}(),C=function(t){function i(t,s){return k(this,i),d(this,i,[t,s])}return l(i,t),b(i,[{key:"_init",value:function(){}},{key:"_load",value:function(){var t;if(this.use_f){var i=this._getSEFilenames();for(t=0;t<i.length;t++)this.s_data[t]=this.ap.getAudioClip(i[t])}if(this.bgm_switch){var s=this._getBGMFilenames();for(t=0;t<s.length;t++)this.bgm[t]=this.ap.getAudioClip(s[t],!0),this.bgm_filename[t]=s[t]}}},{key:"setSound",value:function(t,i){t<0||t>=this.s_data.length||(this.s_data[t]=this.ap.getAudioClip(i))}},{key:"play",value:function(t){if(this.use_f&&!this.mute_f&&null!=this.s_data[t]){var i=this.s_data[t];i&&i.play()}}},{key:"stop",value:function(t){if(this.use_f&&null!=this.s_data[t]){var i=this.s_data[t];i&&i.stop()}}},{key:"stopAll",value:function(t){if(this.use_f)for(var i=0;i<this.s_data.length;i++){var s=this.s_data[i];null!=s&&s.stop()}}},{key:"rsAddSound",value:function(t){this.rs_b=t}},{key:"rsPlay",value:function(){if(this.use_f&&!this.mute_f&&-1!=this.rs_b&&null!=this.s_data[this.rs_b]){var t=this.s_data[this.rs_b];t&&(t.stop(),t.play()),this.rs_b=-1}}},{key:"playBGM",value:function(t,i){this.mute_f||this.bgm_genzai!=t&&(this.bgm_genzai>=0&&t>=0&&null!=this.bgm_filename[this.bgm_genzai]&&null!=this.bgm_filename[t]&&this.bgm_filename[this.bgm_genzai]==this.bgm_filename[t]||(this.bgm_genzai>=0&&null!=this.bgm[this.bgm_genzai]&&this.bgm[this.bgm_genzai].stop(),null!=this.bgm[t]&&(this.bgm_loop?this.bgm[t].loop():this.bgm[t].play(),this.bgm_genzai=t)))}},{key:"stopBGM",value:function(){this.bgm_genzai>=0&&null!=this.bgm[this.bgm_genzai]&&this.bgm[this.bgm_genzai].stop(),this.bgm_genzai=-1}},{key:"playUserBGMFile",value:function(t,i){return this.stopBGM(),this.bgm[19]=this.ap.getAudioClip(t,!0),null!=this.bgm[19]&&(this.bgm[19].play(),this.bgm_genzai=19,this.bgm_filename[19]=t,!0)}},{key:"playUserBGMFileLoop",value:function(t){return this.stopBGM(),this.bgm[19]=this.ap.getAudioClip(t,!0),null!=this.bgm[19]&&(this.bgm[19].loop(),this.bgm_genzai=19,this.bgm_filename[19]=t,!0)}},{key:"userInteract",value:function(){}},{key:"kill",value:function(){}}],[{key:"factory",value:function(t){return"undefined"==typeof AudioContext&&"undefined"==typeof webkitAudioContext||!/^https?:$/i.test(location.protocol)||t.options["bc-no-webaudio"]?i:I}}])}(M),I=function(t){function i(t,s){var h;return k(this,i),(h=d(this,i,[t,s])).noOverlapFlag=t.options["bc-no-overlap-sound"],h}return l(i,t),b(i,[{key:"_init",value:function(){var t="undefined"!=typeof AudioContext?AudioContext:webkitAudioContext;this.context=new t,this.dest=this.context.createDynamicsCompressor(),this.dest.connect(this.context.destination),this.sourceNodes={},this.bgmSourceNodes={},this.audioCache={}}},{key:"_load",value:function(){var t,i=this.ap;if(this.use_f){var s=this._getSEFilenames();for(t=0;t<s.length;t++)this._loadAudioBufferInto(i.getAudioURL(s[t],!1),this.s_data,t)}if(this.bgm_switch){var h=this._getBGMFilenames();for(t=0;t<h.length;t++){var e=i.getAudioURL(h[t],!0);this.bgm_filename[t]=e,this._loadAudioBufferInto(e,this.bgm,t)}}}},{key:"_loadAudioBufferInto",value:function(t,i,s,h){var e=this.audioCache,a=this.context,c=e[t];if(null==c){var o=e[t]=[],_=new XMLHttpRequest;_.open("GET",t),_.responseType="arraybuffer",_.onload=function(){var c=_.response;null==c||0===_.status||_.status>=400||function(t,i){return new Promise((function(s,h){t.decodeAudioData(i,s,h)}))}(a,c).then((function(a){i[s]=a,"function"==typeof h&&h(a),o.forEach((function(t){t(a)})),e[t]=a}),(function(t){console.error(t),"function"==typeof h&&h(null)}))},_.onerror=function(t){console.error(t),"function"==typeof h&&h(null)},_.send()}else c instanceof Array?c.push((function(t){i[s]=t,"function"==typeof h&&h(t)})):setTimeout((function(){i[s]=c,"function"==typeof h&&h(c)}),0)}},{key:"setSound",value:function(t,i){t<0||t>=this.s_data.length||this._loadAudioBufferInto(i,this.s_data,t)}},{key:"play",value:function(t){if(this.use_f&&!this.mute_f&&null!=this.s_data[t]&&"running"===this.context.state){if(!0===this.noOverlapFlag){var i=this.sourceNodes[t];if(null!=i){var s=this.context.createGain();s.connect(this.dest),s.gain.value=1,s.gain.linearRampToValueAtTime(0,this.context.currentTime+.1),i.disconnect(),i.connect(s)}}var h=this.context.createBufferSource();h.buffer=this.s_data[t],h.connect(this.dest),this.sourceNodes[t]=h,h.start(0)}}},{key:"stop",value:function(t){if(this.use_f){var i=this.sourceNodes[t];null!=i&&(i.disconnect(),this.sourceNodes[t]=void 0)}}},{key:"stopAll",value:function(t){if(this.use_f)for(var i=0;i<this.s_data.length;i++)this.stop(i)}},{key:"rsAddSound",value:function(t){this.play(t)}},{key:"rsPlay",value:function(){}},{key:"playBGM",value:function(t,i){if(!(this.mute_f||"running"!==this.context.state||this.bgm_genzai===t||this.bgm_genzai>=0&&t>=0&&null!=this.bgm_filename[this.bgm_genzai]&&null!=this.bgm_filename[t]&&this.bgm_filename[this.bgm_genzai]==this.bgm_filename[t])){if(this.bgm_genzai>=0){var s=this.bgmSourceNodes[this.bgm_genzai];null!=s&&s.disconnect()}if(null!=this.bgm[t]){var h=this.context.createBufferSource();h.buffer=this.bgm[t],h.connect(this.dest),(i||this.bgm_loop)&&(h.loop=!0,h.loopStart=0,h.loopEnd=h.buffer.duration),h.start(0),this.bgmSourceNodes[t]=h,this.bgm_genzai=t}}}},{key:"stopBGM",value:function(){var t=this.bgmSourceNodes[this.bgm_genzai];null!=t&&t.disconnect(),this.bgmSourceNodes[this.bgm_genzai]=void 0,this.bgm_genzai=-1}},{key:"playUserBGMFile",value:function(t,i){var s=this,h=this.ap.getAudioURL(t,!0);return this._loadAudioBufferInto(h,this.bgm,19,(function(t){s.stopBGM(),null!=t&&(s.bgm_filename[19]=h,s.playBGM(19,i))})),!1}},{key:"playUserBGMFileLoop",value:function(t){return this.playUserBGMFile(t,!0)}},{key:"userInteract",value:function(){var t=this.context;"suspended"===t.state&&t.resume().catch((function(t){console.error(t)}))}},{key:"kill",value:function(){this.context.close().catch((function(t){console.error(t)}))}}])}(M);function B(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(B=function(){return!!t})()}function G(t){return G=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},G(t)}function z(t,i){return z=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,i){return t.__proto__=i,t},z(t,i)}function A(t){return A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},A(t)}function P(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}function N(t,i){for(var s=0;s<i.length;s++){var h=i[s];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(t,Y(h.key),h)}}function O(t,i,s){return i&&N(t.prototype,i),s&&N(t,s),Object.defineProperty(t,"prototype",{writable:!1}),t}function Y(t){var i=function(t){if("object"!=A(t)||!t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var s=i.call(t,"string");if("object"!=A(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==A(i)?i:i+""}var T=function(){return O((function t(i,s){if(P(this,t),void 0!==i&&void 0!==s){this._dat=document.createElement("canvas"),this._dat.width=i,this._dat.height=s,this._width=i,this._height=s;var h=this._dat.getContext("2d");h&&(h.lineWidth=1.6,h.lineCap="round",h.save())}else this._dat=null,this._width=-1,this._height=-1;this._loaded=!1,this._error=!1,this._g=null,this._g_bk=null}),[{key:"load",value:function(t){this._loaded=!1,this._error=!1,this._width=-1,this._height=-1,this._dat=new Image;var i=this;this._dat.onload=function(){E(i)},this._dat.onerror=function(){R(i)},this._dat.onabort=function(){R(i)},this._dat.src=t,this._dat.complete&&this.onload()}},{key:"loadAsync",value:function(t){var i=this;return new Promise((function(s,h){i._loaded=!1,i._error=!1,i._width=-1,i._height=-1,i._dat=new Image,i._dat.onload=function(){E(i),s(i)},i._dat.onerror=function(){R(i),h(new Error("画像の読み込みに失敗しました: ".concat(t)))},i._dat.onabort=function(){R(i),h(new Error("画像の読み込みが中断されました: ".concat(t)))},i._dat.src=t,i._dat.complete&&(i.onload(),s(i))}))}},{key:"onload",value:function(){this._loaded=!0,this._dat instanceof Image&&(this._width=this._dat.naturalWidth,this._height=this._dat.naturalHeight)}},{key:"onerror",value:function(){this._error=!0,this._dat=null}},{key:"getGraphics",value:function(){return this._width<0?null:(this._g=new V(this),this._g)}},{key:"createGraphics",value:function(){return this.getGraphics()}},{key:"getGraphicsBk",value:function(){return this._width<0?null:(this._g_bk=new W(this),this._g_bk)}}])}();function E(t){t.onload()}function R(t){t.onerror()}var V=function(){return O((function t(i){P(this,t),this._ctx=null,i._dat&&!("src"in i._dat)&&(this._ctx=i._dat.getContext("2d")),this._ctx&&(this._ctx.restore(),this._ctx.save()),this._color=F.black,this._font=new D(D.DIALOG,D.PLAIN,10)}),[{key:"drawLine",value:function(t,i,s,h){return null!=this._ctx&&(this._ctx.beginPath(),this._ctx.moveTo(t,i),this._ctx.lineTo(s,h),this._ctx.stroke(),!0)}},{key:"drawImage",value:function(t,i,s,h,e,a,c,o,_,r){if(null==t._dat)return!1;if(null==this._ctx)return!1;try{return void 0===h||void 0===e?(this._ctx.drawImage(t._dat,i,s),!0):void 0===a||void 0===c||void 0===o||void 0===_?(this._ctx.drawImage(t._dat,i,s,h,e),!0):(this._ctx.drawImage(t._dat,i,s,h,e,a,c,o,_),!0)}catch(t){}return!1}},{key:"drawRect",value:function(t,i,s,h){return null!=this._ctx&&(this._ctx.strokeRect(t,i,s,h),!0)}},{key:"fillRect",value:function(t,i,s,h){return null!=this._ctx&&(this._ctx.fillRect(t,i,s,h),!0)}},{key:"drawPolygon",value:function(t,i,s){if(null==this._ctx)return!1;this._ctx.beginPath(),this._ctx.moveTo(t[0],i[0]);for(var h=1;h<s;h++)this._ctx.lineTo(t[h],i[h]);return this._ctx.closePath(),this._ctx.stroke(),!0}},{key:"fillPolygon",value:function(t,i,s){if(null==this._ctx)return!1;this._ctx.beginPath(),this._ctx.moveTo(t[0],i[0]);for(var h=1;h<s;h++)this._ctx.lineTo(t[h],i[h]);return this._ctx.closePath(),this._ctx.fill(),!0}},{key:"drawOval",value:function(t,i,s,h){return null!=this._ctx&&(this.drawArc(t,i,s,h,0,2*Math.PI),!0)}},{key:"fillOval",value:function(t,i,s,h){return null!=this._ctx&&(this.fillArc(t,i,s,h,0,2*Math.PI),!0)}},{key:"drawArc",value:function(t,i,s,h,e,a){if(null==this._ctx)return!1;var c=h/s;return this._ctx.save(),this._ctx.beginPath(),this._ctx.scale(1,c),this._ctx.arc(t+s/2,(i+h/2)/c,s/2,e,e+a,a<0),this._ctx.stroke(),this._ctx.restore(),!0}},{key:"fillArc",value:function(t,i,s,h,e,a){if(null==this._ctx)return!1;var c=h/s;return this._ctx.save(),this._ctx.beginPath(),this._ctx.scale(1,c),this._ctx.arc(t+s/2,(i+h/2)/c,s/2,e,e+a,a<0),this._ctx.lineTo(t+s/2,(i+h/2)/c),this._ctx.closePath(),this._ctx.fill(),this._ctx.restore(),!0}},{key:"setGlobalAlpha",value:function(t){return null!=this._ctx&&(t<0&&(t=0),t>255&&(t=255),this._ctx.globalAlpha=t/255,!0)}},{key:"setColor",value:function(t){if(null==this._ctx)return!1;this._color=new F(t.r,t.g,t.b,t.a);var i="rgba(".concat(t.r,",").concat(t.g,",").concat(t.b,",").concat(t.a/255,")");return this._ctx.strokeStyle=i,this._ctx.fillStyle=i,!0}},{key:"setFont",value:function(t){if(null==this._ctx)return!1;var i="";return t._style&D.ITALIC&&(i+="italic "),t._style&D.BOLD&&(i+="bold "),i+="".concat(t._size,"px "),t._name===D.SERIF?i+=D.SERIF_str:t._name===D.SANS_SERIF?i+=D.SANS_SERIF_str:t._name===D.MONOSPACED?i+=D.MONOSPACED_str:t._name===D.DIALOG?i+=D.DIALOG_str:t._name.split(",").length>1||t._name.match(/^(sans-serif|serif|monospace|cursive|fantasy|system-ui)$/)?i+=t._name:i+='"'.concat(t._name,'"'),this._ctx.font=i,this._font=t,!0}},{key:"drawString",value:function(t,i,s){return null!=this._ctx&&(this._ctx.fillText(t,i,s),!0)}},{key:"translate",value:function(t,i){return null!=this._ctx&&(this._ctx.translate(t,i),!0)}},{key:"rotate",value:function(t,i,s){return null!=this._ctx&&(1==arguments.length?this._ctx.rotate(t):(this._ctx.translate(i,s),this._ctx.rotate(t),this._ctx.translate(-i,-s)),!0)}},{key:"scale",value:function(t,i){return null!=this._ctx&&(this._ctx.scale(t,i),!0)}},{key:"setClip",value:function(t,i,s,h,e){if(null==this._ctx)return!1;if("ellipse"==t){var a=e/h;return this._ctx.beginPath(),this._ctx.save(),this._ctx.scale(1,a),this._ctx.arc(i+h/2,(s+e/2)/a,h/2,0,2*Math.PI,!1),this._ctx.restore(),this._ctx.clip(),!0}if("rect"==t)return this._ctx.beginPath(),this._ctx.rect(i,s,h,e),this._ctx.clip(),!0;if("polygon"==t){this._ctx.beginPath(),this._ctx.moveTo(i[0],s[0]);for(var c=1;c<h;c++)this._ctx.lineTo(i[c],s[c]);return this._ctx.closePath(),this._ctx.clip(),!0}return!1}},{key:"copyArea",value:function(t,i,s,h,e,a){return null!=this._ctx&&(this._ctx.drawImage(this._ctx.canvas,t,i,s,h,t+e,i+a,s,h),!0)}},{key:"dispose",value:function(){this._ctx&&(this._ctx.restore(),this._ctx.save())}}])}(),W=function(t){function i(t){return P(this,i),s=this,e=[t],h=G(h=i),function(t,i){if(i&&("object"==A(i)||"function"==typeof i))return i;if(void 0!==i)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(s,B()?Reflect.construct(h,e||[],G(s).constructor):h.apply(s,e));var s,h,e}return function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),i&&z(t,i)}(i,t),O(i,[{key:"drawImage",value:function(t,i,s,h,e,a,c,o,_,r){return null!=t._dat&&null!=this._ctx&&(void 0===h||void 0===e?(this._ctx.drawImage(t._dat,i,s),!0):void 0===a||void 0===c||void 0===o||void 0===_?(this._ctx.save(),h<0&&(this._ctx.translate(-i,0),this._ctx.scale(-1,1),this._ctx.translate(i,0)),e<0&&(this._ctx.translate(0,-s),this._ctx.scale(1,-1),this._ctx.translate(0,s)),this._ctx.drawImage(t._dat,i,s,Math.abs(h),Math.abs(e)),this._ctx.restore(),!0):(this._ctx.save(),h<i&&(this._ctx.translate(i,0),this._ctx.scale(-1,1),this._ctx.translate(-i,0)),e<s&&(this._ctx.translate(0,s),this._ctx.scale(1,-1),this._ctx.translate(0,-s)),o<a&&(this._ctx.translate(h,0),this._ctx.scale(-1,1),this._ctx.translate(-i,0)),_<c&&(this._ctx.translate(0,e),this._ctx.scale(1,-1),this._ctx.translate(0,-s)),this._ctx.drawImage(t._dat,a,c,o-a,_-c,i,s,Math.abs(h-i),Math.abs(e-s)),this._ctx.restore(),!0))}}])}(V),F=function(){return O((function t(i,s,h,e){P(this,t),this.r=i>255?255:i<0?0:i,this.g=s>255?255:s<0?0:s,this.b=h>255?255:h<0?0:h,this.a=void 0!==e?e>255?255:e<0?0:e:255}),[{key:"getRed",value:function(){return this.r}},{key:"getGreen",value:function(){return this.g}},{key:"getBlue",value:function(){return this.b}},{key:"getAlpha",value:function(){return this.a}}])}();F.white=new F(255,255,255),F.WHITE=F.white,F.lightGray=new F(192,192,192),F.LIGHT_GRAY=F.lightGray,F.gray=new F(128,128,128),F.GRAY=F.gray,F.darkGray=new F(64,64,64),F.DARK_GRAY=F.darkGray,F.black=new F(0,0,0),F.BLACK=F.black,F.red=new F(255,0,0),F.RED=F.red,F.pink=new F(255,175,175),F.PINK=F.pink,F.orange=new F(255,200,0),F.ORANGE=F.orange,F.yellow=new F(255,255,0),F.YELLOW=F.yellow,F.green=new F(0,255,0),F.GREEN=F.green,F.magenta=new F(255,0,255),F.MAGENTA=F.magenta,F.cyan=new F(0,255,255),F.CYAN=F.cyan,F.blue=new F(0,0,255),F.BLUE=F.blue;var D=O((function t(i,s,h){P(this,t),this._name=i,this._style=s,this._size=h}));function L(t){return L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},L(t)}function H(t,i){return function(t){if(Array.isArray(t))return t}(t)||function(t,i){var s=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=s){var h,e,a,c,o=[],_=!0,r=!1;try{if(a=(s=s.call(t)).next,0===i){if(Object(s)!==s)return;_=!1}else for(;!(_=(h=a.call(s)).done)&&(o.push(h.value),o.length!==i);_=!0);}catch(t){r=!0,e=t}finally{try{if(!_&&null!=s.return&&(c=s.return(),Object(c)!==c))return}finally{if(r)throw e}}return o}}(t,i)||q(t,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function U(t,i){var s="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!s){if(Array.isArray(t)||(s=q(t))||i&&t&&"number"==typeof t.length){s&&(t=s);var h=0,e=function(){};return{s:e,n:function(){return h>=t.length?{done:!0}:{done:!1,value:t[h++]}},e:function(t){throw t},f:e}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,c=!0,o=!1;return{s:function(){s=s.call(t)},n:function(){var t=s.next();return c=t.done,t},e:function(t){o=!0,a=t},f:function(){try{c||null==s.return||s.return()}finally{if(o)throw a}}}}function q(t,i){if(t){if("string"==typeof t)return K(t,i);var s={}.toString.call(t).slice(8,-1);return"Object"===s&&t.constructor&&(s=t.constructor.name),"Map"===s||"Set"===s?Array.from(t):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?K(t,i):void 0}}function K(t,i){(null==i||i>t.length)&&(i=t.length);for(var s=0,h=Array(i);s<i;s++)h[s]=t[s];return h}function J(t,i){for(var s=0;s<i.length;s++){var h=i[s];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(t,Z(h.key),h)}}function Z(t){var i=function(t){if("object"!=L(t)||!t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var s=i.call(t,"string");if("object"!=L(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==L(i)?i:i+""}function X(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(X=function(){return!!t})()}function $(t){return $=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},$(t)}function Q(t,i){return Q=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,i){return t.__proto__=i,t},Q(t,i)}D.DIALOG="Dialog",D.DIALOG_INPUT="DialogInput",D.MONOSPACED="Monospaced",D.SANS_SERIF="SansSerif",D.SERIF="Serif",D.PLAIN=0,D.BOLD=1,D.ITALIC=2,D.SERIF_str="'Times New Roman','ＭＳ 明朝',serif",D.SANS_SERIF_str="Arial,'ＭＳ ゴシック',sans-serif",D.MONOSPACED_str="'Courier New',monospace",D.DIALOG_str="'Helvetica','Arial','ＭＳ ゴシック','HG ゴシックB Sun','HG ゴシックB',monospace",s(4625),s(4998);var tt=110,it=210,st=310,ht=360,et=1e3,at=1005,ct=1010,ot=1015,_t=1100,rt=1105,nt=1106,mt=1110,pt=1115,gt=1200,ut=1205,yt=1210,dt=1215,ft=1250,jt=1251,lt=1255,vt=1256,xt=function(t){return(t%360+360)%360},kt=function(t,i){if(t.length!==i.length)throw new Error("The given arrays do not have the same length.");return t.map((function(t,s){return[t,i[s]]}))},wt=function(t){function i(){return function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,i),function(t,i,s){return i=$(i),function(t,i){if(i&&("object"==L(i)||"function"==typeof i))return i;if(void 0!==i)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,X()?Reflect.construct(i,s||[],$(t).constructor):i.apply(t,s))}(this,i,arguments)}return function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),i&&Q(t,i)}(i,t),s=i,(h=[{key:"update",value:function(t){this.x>=t.maps.wx+1024||(t.boss_attack_mode=!1,this.move(t),this.checkCollision(t))}},{key:"move",value:function(t){var i=t.sl_wx+96,s=t.sl_wx+t.gg.di.width-96-32;switch(this.c){case 40:this.c1<20&&this.c1++,15===this.c1&&(14===t.j_tokugi||15===t.j_tokugi||2===t.boss_destroy?t.setStageClear():(t.mSet(t.maps.wx+Ki(t.gg.di.width/2),t.maps.wy+t.gg.di.height-192,2200),t.gs.rsAddSound(13))),this.pt=0;break;case 60:this.updateDamage(t,150),this.pt=ct;break;case 65:this.updateDamage(t,155),this.pt=ot;break;case 67:this.dyingByGrenade(t),1===this.muki?this.pt=at:this.pt=et;break;case 70:this.updateDamage(t,250),this.pt=mt;break;case 75:this.updateDamage(t,255),this.pt=pt;break;case 77:this.dyingByGrenade(t),1===this.muki?this.pt=rt:this.pt=_t;break;case 80:this.updateDamage(t,350),this.pt=yt;break;case 85:this.updateDamage(t,355),this.pt=dt;break;case 87:this.dyingByGrenade(t),1===this.muki?this.pt=ut:this.pt=gt;break;case 100:2!==t.sl_step&&3!==t.sl_step||(2===t.boss_destroy_type?(this.x-=8,this.x<=t.sl_wx+t.gg.di.width-128&&(this.x=t.sl_wx+t.gg.di.width-128,this.showBossHPGauge(t),this.c=tt,this.c1=0)):(this.c=tt,this.c1=0)),this.pt=et;break;case tt:this.boss1Attack(t,0),this.pt=et;break;case 115:this.boss1Attack(t,1),this.pt=at;break;case 150:this.x-=14,this.x<=i&&(this.x=i,this.c=115,this.c1=0),this.pt=et;break;case 155:this.x+=14,this.x>=s&&(this.x=s,this.c=tt,this.c1=0),this.pt=at;break;case 200:2!==t.sl_step&&3!==t.sl_step||(2===t.boss_destroy_type?(this.x-=8,this.x<=t.sl_wx+t.gg.di.width-128&&(this.x=t.sl_wx+t.gg.di.width-128,this.showBossHPGauge(t),this.c=it,this.c1=0)):(this.c=it,this.c1=0)),this.pt=_t;break;case it:this.boss2Attack(t,0),this.pt=_t,6===t.boss2_type&&(this.pt=1101);break;case 215:this.boss2Attack(t,1),this.pt=rt,6===t.boss2_type&&(this.pt=nt);break;case 250:this.x-=14,this.x<=i&&(this.x=i,this.c=215,this.c1=0),this.pt=_t;break;case 255:this.x+=14,this.x>=s&&(this.x=s,this.c=it,this.c1=0),this.pt=rt;break;case 300:2!==t.sl_step&&3!==t.sl_step||(2===t.boss_destroy_type?(this.x-=8,this.x<=t.sl_wx+t.gg.di.width-128&&(this.x=t.sl_wx+t.gg.di.width-128,this.showBossHPGauge(t),t.boss3_type>=2&&t.boss3_type<=4||t.boss3_type>=6&&t.boss3_type<=8?(this.c=ht,this.vy=-24):this.c=st,this.c1=0,this.c2=0)):(t.boss3_type>=2&&t.boss3_type<=4||t.boss3_type>=6&&t.boss3_type<=8?(this.c=ht,this.vy=-24):this.c=st,this.c1=0,this.c2=0)),this.pt=gt;break;case st:this.boss3Attack(t,0),this.pt=gt;break;case 315:this.boss3Attack(t,1),this.pt=ut;break;case 350:this.x-=14,this.x<=i&&(this.x=i,t.boss3_type>=2&&t.boss3_type<=4||t.boss3_type>=6&&t.boss3_type<=8?(this.c=365,this.vy=-24):this.c=315,this.c1=0),this.pt=gt;break;case 355:this.x+=14,this.x>=s&&(this.x=s,t.boss3_type>=2&&t.boss3_type<=4||t.boss3_type>=6&&t.boss3_type<=8?(this.c=ht,this.vy=-24):this.c=st,this.c1=0),this.pt=ut;break;case ht:this.pt=gt;var h=t.boss3_type>=6&&t.boss3_type<=8;this.c1>=5&&this.c1<=25?this.pt=h?jt:ft:30===this.c1&&(this.pt=h?vt:lt),this.boss3TackleAttack(t,0);break;case 365:this.pt=ut;var e=t.boss3_type>=6&&t.boss3_type<=8;this.c1>=5&&this.c1<=25?this.pt=e?vt:lt:30===this.c1&&(this.pt=e?jt:ft),this.boss3TackleAttack(t,1)}}},{key:"checkCollision",value:function(t){var i=t.co_j;if(i.c>=100&&i.c<200&&this.c>=100&&Math.abs(this.x-i.x)<42&&i.y>this.y-20&&i.y<this.y+40&&((Math.abs(this.x-i.x)<34||2===t.easy_mode)&&i.vy>0&&this.isFumuable(t)?(this.fumu(t),i.y=this.y,i.vy=-320,t.j_jump_type=1,i.c=110,i.c1=-4,i.pt=109):t.jShinu(2)),t.jm_kazu>0&&this.c>=100)for(var s=0;s<=8;s++){var h=t.co_jm[s];h.c<100||Math.abs(this.x-h.x)<34&&Math.abs(this.y-h.y)<30&&(200===h.c?this.hitWithGrenade(t,h):(h.c=0,t.jm_kazu--,this.hitWithFireball(t)))}var e=1===i.muki?i.x+16:i.x-32,a=1===i.muki?i.x+63:i.x+16;e<=this.x+47&&a>=this.x-16&&Math.abs(i.y-this.y)<48&&this.hitWithTail(t)}},{key:"boss1Attack",value:function(t,i){var s=1===i?-1:1;if(t.boss_attack_mode=!0,this.c1++,2===t.boss_type){1===this.c1&&t.gs.rsAddSound(17);var h,e=U(kt([1,5,7,9,21,91,95,97,99,111,170,180],[-2,-4,-6,-8,-2,-2,-4,-6,-8,-2,-4,-2]));try{for(e.s();!(h=e.n()).done;){var a=H(h.value,2),c=a[0],o=a[1];if(this.c1===c){t.tSetBoss(this.x,this.y,150,o*s);break}}}catch(t){e.e(t)}finally{e.f()}this.c1>250&&(this.c1=250)}else if(3===t.boss_type){5===this.c1&&t.gs.rsAddSound(17);for(var _=0,r=[5,20,35,50,65,80,95,110];_<r.length;_++){var n=r[_];if(this.c1===n){t.tSetBoss(this.x,this.y,450,-3*s);break}}this.c1>250&&(this.c1=250)}else if(4===t.boss_type){1===this.c1&&t.gs.rsAddSound(17);var m,p=U(kt([1,15,29,81,95,109,165],[-5,-3,-2,-5,-3,-2,-3]));try{for(p.s();!(m=p.n()).done;){var g=H(m.value,2),u=g[0],y=g[1];if(this.c1===u){t.tSetBoss(this.x,this.y,650,y*s);break}}}catch(t){p.e(t)}finally{p.f()}this.c1>250&&(this.c1=250)}else if(5===t.boss_type){1===this.c1&&t.gs.rsAddSound(17);var d,f=U(kt([1,8,16,24,32,40,48,64,72,80,88,96,104,112],[100,80,60,40,20,0,10,30,50,70,60,40,20,0]));try{for(f.s();!(d=f.n()).done;){var j=H(d.value,2),l=j[0],v=j[1];if(this.c1===l){var x=3.14*xt(v*s+(1!==i?180:0))/180,k=Ki(12*Math.cos(x),!0,t),w=Ki(10*Math.sin(x),!0,t);t.mSet2(this.x,this.y+16,740,k,w);break}}}catch(t){f.e(t)}finally{f.f()}this.c1>=200&&(this.c1=0)}else{if(3===this.c1&&t.gs.rsAddSound(17),3===this.c1)t.mSet2(this.x,this.y,500,-4,-18),t.mSet2(this.x,this.y,500,4,-18);else if(14===this.c1)t.mSet2(this.x,this.y,500,-6,-20),t.mSet2(this.x,this.y,500,6,-20);else if(20===this.c1)t.mSet2(this.x,this.y,500,-3,-24),t.mSet2(this.x,this.y,500,3,-24);else if(this.c1>=28&&this.c1<=98)this.c1%7==0&&t.mSet2(this.x,this.y,500,Ki((-15+t.ranInt(20))*s*t.gg.di.width/512),-30);else if(130===this.c1){var b=t.ranInt(8)+3;t.mSet2(this.x,this.y,500,b,-30),t.mSet2(this.x,this.y,500,-b,-30)}this.c1>=150&&(this.c1=98)}}},{key:"boss2Attack",value:function(t,i){var s=this;if(t.boss_attack_mode=!0,this.c1++,2===t.boss2_type)10===this.c1||85===this.c1||215===this.c1?this.boss2BubbleBeam(t,0):35===this.c1||110===this.c1||295===this.c1?this.boss2BubbleBeam(t,15):60!==this.c1&&135!==this.c1&&375!==this.c1||this.boss2BubbleBeam(t,30),this.c1>445&&(this.c1=0);else if(3===t.boss2_type){var h=function(h){for(var e=0;e<360;e+=90){var a=1===i?980:970;t.mSet2(s.x,s.y,a,e+h,0)}t.gs.rsAddSound(18)};5===this.c1||125===this.c1?h(0):45===this.c1?h(30):85===this.c1&&h(60),this.c1>250&&(this.c1=0)}else if(4===t.boss2_type){1===this.c1&&t.gs.rsAddSound(18);var e,a=U(kt([1,8,16,24,32,56,72,80,88,96],[100,80,60,40,15,0,15,40,60,80]));try{for(a.s();!(e=a.n()).done;){var c=H(e.value,2),o=c[0],_=c[1];if(this.c1===o){var r=xt(_+(1!==i?180:0)),n=xt(-1*r),m=[];m.push(3.14*r/180),r!==n&&m.push(3.14*n/180);for(var p=0,g=m;p<g.length;p++){var u=g[p],y=Ki(12*Math.cos(u),!0,t),d=Ki(10*Math.sin(u),!0,t);t.mSet2(this.x,this.y,710,y,d)}break}}}catch(t){a.e(t)}finally{a.f()}this.c1>=200&&(this.c1=0)}else if(5===t.boss2_type){var f=function(i){for(var h=0;h<360;h+=60)t.mSet2(s.x,s.y,901,h+i,0),t.mSet2(s.x,s.y,911,300-(h+i),0);t.gs.rsAddSound(18)};5===this.c1?f(10):45===this.c1?f(30):85===this.c1&&f(50),this.c1>270&&(this.c1=0)}else if(6===t.boss2_type)this.boss2Attack6(t,i);else if(7===t.boss2_type)this.c1=0;else if(8===t.boss2_type){if(5===this.c1||45===this.c1||85===this.c1){var j=1===i?96:95;t.mSet(this.x,this.y,j),t.gs.rsAddSound(18)}this.c1>165&&(this.c1=4)}else 5!==this.c1&&35!==this.c1&&65!==this.c1&&110!==this.c1&&185!==this.c1||(t.mSet(this.x,this.y,90),t.gs.rsAddSound(18)),this.c1>185&&(this.c1=110)}},{key:"boss2BubbleBeam",value:function(t,i){for(var s=0;s<8;s++){var h=3.14*xt(45*s+i)/180,e=Ki(8*Math.cos(h),!0,t),a=-Ki(8*Math.sin(h),!0,t);t.mSet2(this.x,this.y-8,710,e,a),t.gs.rsAddSound(18)}}},{key:"boss2Attack6",value:function(t,i){var s=1===i?-1:1;this.c1--,this.c1<=100?this.c2+=10*s:this.c1<=200?this.c2-=5*s:this.c1<=300?this.c2+=2*s:this.c2-=2*s,this.c1<=0&&t.gs.rsAddSound(18);var h=null;if(this.c1<=0)h=1!==i?3.14:0;else{var e=[],a=[];this.c1<=100?(e=[40,70,90],a=[40,70,100]):a=e=this.c1<=200?[80,60,30,0,-40,-70,-100]:this.c1<=300?[-60,-30,0,30,60,90]:[60,30,0,-30,-60,-90];var c,o=U(kt(e,a));try{for(o.s();!(c=o.n()).done;){var _=H(c.value,2),r=_[0],n=_[1],m=1!==i?180:0;if(this.c2===r*s){h=3.14*xt(n*s+m)/180;break}}}catch(t){o.e(t)}finally{o.f()}}if(null!==h){var p=Ki(12*Math.cos(h),!0,t),g=Ki(8*Math.sin(h),!0,t);t.mSet2(this.x,this.y,711,p,g)}this.c1<=0?(this.c2=0,this.c1=100):this.c1<=100?this.c2*s>=90&&(this.c2=90*s,this.c1=200):this.c1<=200?this.c2*s<=-100&&(this.c2=-100*s,this.c1=300):this.c1<=300?this.c2*s>=90&&(this.c2=90*s,this.c1=400):this.c2*s<=-90&&(this.c2=-90*s,this.c1=300)}},{key:"boss3Attack",value:function(t,i){var s=1===i?-1:1;if(t.boss_attack_mode=!0,this.c1++,5===t.boss3_type){if(1===this.c1&&t.gs.rsAddSound(22),1===this.c1||20===this.c1||40===this.c1||60===this.c1||80===this.c1||100===this.c1||120===this.c1||140===this.c1){var h=1===i?0:t.gg.di.width-32;this.c1<=45&&t.mSet2(t.maps.wx+h-Ki(8*t.ranInt(10)*s*t.gg.di.width/512),t.maps.wy-32,740,-4*s,9),t.mSet2(t.maps.wx+h-Ki(8*(t.ranInt(35)+14)*s*t.gg.di.width/512),t.maps.wy-32,740,-4*s,9)}else if(15===this.c1||35===this.c1||55===this.c1||75===this.c1||95===this.c1||115===this.c1||135===this.c1||155===this.c1){var e=1===i?0:t.gg.di.width-32;this.c1<=55&&t.mSet2(t.maps.wx+e-Ki(8*t.ranInt(10)*s*t.gg.di.width/512),t.maps.wy-32,740,-4*s,11),t.mSet2(t.maps.wx+e-Ki(8*(t.ranInt(35)+14)*s*t.gg.di.width/512),t.maps.wy-32,740,-4*s,11)}this.c1>=250&&(this.c1=55)}else{var a,c=U(kt([1,15,29,65,80,105,147,520,530],[-5,-10,-15,-20,-5,-15,-10,4,-5]));try{for(c.s();!(a=c.n()).done;){var o=H(a.value,2),_=o[0],r=o[1];if(this.c1===_){t.mSet2(this.x,this.y,800,Ki(r*s*t.gg.di.width/512),-32),t.gs.rsAddSound(22);break}}}catch(t){c.e(t)}finally{c.f()}15===this.c1?(1!==i&&t.co_j.x>this.x-64&&(this.c1=500),1===i&&t.co_j.x<this.x+64&&(this.c1=500)):237===this.c1?this.c1=0:this.c1>=530&&(this.c1=1)}}},{key:"boss3TackleAttack",value:function(t,i){var s=this,h=1===i?-1:1,e=t.sl_wx+16,a=t.sl_wx+16+t.gg.di.width-64,c=t.sl_wx+96,o=t.sl_wx+t.gg.di.width-96-32,_=3===t.boss3_type||7===t.boss3_type,r=4===t.boss3_type||8===t.boss3_type,n=t.boss3_type>=6&&t.boss3_type<=8,m=function(t,i,h,e,a){t<=0&&s.x<=i?(e&&(s.x=i),s.c1=a):t>=0&&s.x>=h&&(e&&(s.x=h),s.c1=a)};if((this.c1>=5&&this.c1<25||1!==i&&25===this.c1||30===this.c1)&&(t.boss_attack_mode=!0),this.c1<5&&1!==i&&(this.c2=0),n){var p=0;this.c1>=5&&this.c1<25||25===this.c1?p=-15:30===this.c1&&(p=15),7===t.boss3_type&&(p*=2),0!==p&&(this.c2=xt(this.c2+p*h))}if(this.c1<25)this.c1++;else if(25===this.c1||30===this.c1){var g=25===this.c1,u=g?30:40;if(r){var y=(g?-3:4)*h;this.x+=y,this.vy<24&&(this.vy=Math.min(this.vy+2,24)),this.y+=this.vy,this.y>=t.boss_kijyun_y&&(this.y=t.boss_kijyun_y,this.vy=-24,m(y,e,a,!1,u))}else{var d=0;d=g?_?-18:-12:_?18:8,d*=h,this.x+=d,m(d,e,a,!0,u)}}else if(40===this.c1){var f=-2*h;this.x+=f,m(f,o,c,!0,-20)}}},{key:"updateDamage",value:function(t,i){this.c1++,this.c4<=0?this.c1>=26&&(this.c=40,this.c1=0,14===t.j_tokugi||15===t.j_tokugi||2===t.boss_destroy?t.addScore(100):t.addScore(10),2===t.boss_destroy_type&&t.hideGauge()):this.c1>=11&&(this.c=i)}},{key:"dyingByGrenade",value:function(t){this.vy+=4,this.vy>28&&(this.vy=28),this.x+=this.vx,this.y+=this.vy,2===t.boss_destroy_type&&(t.boss_hp=0,this.showBossHPGauge(t)),this.y>=t.maps.wy+t.gg.di.height+16&&(this.c=40,this.c1=0,14===t.j_tokugi||15===t.j_tokugi?t.addScore(100):t.addScore(10),2===t.boss_destroy_type&&t.hideGauge())}},{key:"isFumuable",value:function(t){return!(10===t.j_tokugi||t.j_tokugi>=12&&t.j_tokugi<=15||2===t.boss_destroy_type||this.pt===ft||this.pt===lt||this.pt===jt||this.pt===vt)}},{key:"fumu",value:function(t){this.c4--,this.c1=0;var i=this.c4%2;switch(this.getBossNumber()){case 1:this.c=i?65:60,this.pt=i?ot:ct;break;case 2:this.c=i?75:70,this.pt=i?pt:mt;break;case 3:this.c=i?85:80,this.pt=i?dt:yt}t.gs.rsAddSound(8)}},{key:"hitWithGrenade",value:function(t,i){200===i.c&&(this.c<100||(i.c=50,i.c1=1,i.c2=20,1!==t.grenade_type&&5!==t.grenade_type||(14===t.j_tokugi||15===t.j_tokugi?this.killNormalAttack(t):this.killGrenade(t,i.vx<0?1:0))))}},{key:"hitWithFireball",value:function(t){this.pt!==ft&&this.pt!==lt&&this.setHP(t,t.boss_hp-1)}},{key:"hitWithTail",value:function(t){2===t.boss_destroy_type&&this.pt!==ft&&this.pt!==lt&&(t.j_tail_ap_boss<1||5!==t.j_tail_ac||this.setHP(t,t.boss_hp-t.j_tail_ap_boss)&&t.gs.rsAddSound(9))}},{key:"killNormalAttack",value:function(t){switch(this.c4=0,this.c1=0,this.y-=16,this.getBossNumber()){case 1:this.c=60,this.pt=ct;break;case 2:this.c=70,this.pt=mt;break;case 3:this.c=80,this.pt=yt}t.gs.rsAddSound(8)}},{key:"killGrenade",value:function(t,i){switch(this.vy=-24,this.c1=0,this.muki=i,this.vx=this.muki?-4:4,this.getBossNumber()){case 1:this.c=67,this.pt=this.muki?at:et;break;case 2:this.c=77,this.pt=this.muki?rt:_t;break;case 3:this.c=87,this.pt=this.muki?ut:gt}t.gs.rsAddSound(9)}},{key:"setHP",value:function(t,i){if(this.c<100)return!1;if(2===t.boss_destroy_type){if(100===this.c||200===this.c||300===this.c)return!0}else if(!(10===t.j_tokugi||t.j_tokugi>=12&&t.j_tokugi<=15))return!1;return t.boss_hp=i,t.boss_hp<=0&&(t.boss_hp=0,this.killNormalAttack(t)),2===t.boss_destroy_type&&this.showBossHPGauge(t),!0}},{key:"getBossNumber",value:function(){return this.c>=60&&this.c<70||this.c>=100&&this.c<200?1:this.c>=70&&this.c<80||this.c>=200&&this.c<300?2:this.c>=80&&this.c<90||this.c>=300&&this.c<400?3:-1}},{key:"showBossHPGauge",value:function(t){var i=this.getBossNumber(),s="boss_name";2===i?s="boss2_name":3===i&&(s="boss3_name");var h=t.tdb.getValue(s),e=Math.floor(200*t.boss_hp/t.boss_hp_max);t.showGauge(e,"".concat(h,"  ").concat(t.boss_hp,"/").concat(t.boss_hp_max))}},{key:"getBossDirectionFromPattern",value:function(){switch(this.pt){case at:case ot:case rt:case nt:case pt:case ut:case dt:case lt:case vt:return 1;default:return 0}}}])&&J(s.prototype,h),Object.defineProperty(s,"prototype",{writable:!1}),s;var s,h}(o);function bt(t){return bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bt(t)}function St(t,i){(null==i||i>t.length)&&(i=t.length);for(var s=0,h=Array(i);s<i;s++)h[s]=t[s];return h}function Mt(t,i){for(var s=0;s<i.length;s++){var h=i[s];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(t,Ct(h.key),h)}}function Ct(t){var i=function(t){if("object"!=bt(t)||!t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var s=i.call(t,"string");if("object"!=bt(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==bt(i)?i:i+""}var It=function(){return t=function t(i,s,h,e){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.gg=i,this.gk=s,this.km=h,this.mp=e,this.tdb=this.mp.tdb,this.co_j=new o,this.map_string=new Array(Ki(this.gg.di.height/32)-1),this.map_bg=qi(Ki(this.gg.di.width/32)-1,Ki(this.gg.di.height/32)-1),this.stage_c=new Array(10),this.stage_x=new Array(10),this.stage_y=new Array(10),this.stage_cf=new Array(10),this.stage_kcID=0,this.door_koID=0,this.dokan_khID=0,this.door_score_open=0,this.ie_c=new Array(16),this.ie_x=new Array(16),this.ie_y=new Array(16),this.zure_x=16,this.zure_y=24,this.mp_mode=0,this.shop_kattaitem=0,this.cc_hankei=0,this.cc_hankei_max=12*Ki((this.gg.di.width/2*Math.SQRT2-50)/12),this.cc_kakudo=0,this.cc_p1_x=new Array(17),this.cc_p1_y=new Array(17),this.cc_p2_x=new Array(17),this.cc_p2_y=new Array(17),this.cc_p1_x[13]=-200,this.cc_p1_y[13]=160,this.cc_p1_x[14]=-200,this.cc_p1_y[14]=520,this.cc_p1_x[15]=712,this.cc_p1_y[15]=520,this.cc_p1_x[16]=712,this.cc_p1_y[16]=160,this.cc_p2_x[13]=712,this.cc_p2_y[13]=160,this.cc_p2_x[14]=712,this.cc_p2_y[14]=-200,this.cc_p2_x[15]=-200,this.cc_p2_y[15]=-200,this.cc_p2_x[16]=-200,this.cc_p2_y[16]=160},(i=[{key:"worldInit",value:function(){for(var t=this,i=0;i<=9;i++)this.stage_c[i]=0,this.stage_cf[i]=!1;this.stage_kcID=0,this.door_koID=0,this.dokan_khID=0,this.door_score_open=0;for(var s=0;s<=15;s++)this.ie_c[s]=0;this.co_j.x=0,this.co_j.y=0,this.co_j.vx=0,this.co_j.vy=0,this.co_j.muki=1,this.co_j.ac=0,this.mp.tr1_c=2,this.shop_kattaitem=-1,this.mp_mode=0,this.km.initAll(),this.km.mode=100;for(var h=function(){var i=t.tdb.getValue("chizu-".concat(e));(function(t){return function(t){if(Array.isArray(t))return St(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,i){if(t){if("string"==typeof t)return St(t,i);var s={}.toString.call(t).slice(8,-1);return"Object"===s&&t.constructor&&(s=t.constructor.name),"Map"===s||"Set"===s?Array.from(t):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?St(t,i):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()})(Array(Ki(t.gg.di.width/32)-1)).map((function(){i+="."})),t.map_string[e]=i},e=0;e<=Ki(this.gg.di.height/32)-2;e++)h();for(var a=0;a<=Ki(this.gg.di.height/32)-2;a++)for(var c=0;c<=Ki(this.gg.di.width/32)-2;c++){var o=this.map_string[a].charAt(c);"A"==o?(this.co_j.x=c<<5,this.co_j.y=a<<5,this.map_bg[c][a]=220):"B"==o?(this.map_bg[c][a]=216,this.ie_c[3]=100,this.ie_x[3]=c<<5,this.ie_y[3]=a<<5):"C"==o?(this.map_bg[c][a]=217,this.ie_c[4]=100,this.ie_x[4]=c<<5,this.ie_y[4]=a<<5):"D"==o?(this.map_bg[c][a]=218,this.ie_c[10]=100,this.ie_x[10]=c<<5,this.ie_y[10]=a<<5):"E"==o?(this.map_bg[c][a]=219,this.ie_c[11]=100,this.ie_x[11]=c<<5,this.ie_y[11]=a<<5):"a"==o?0==this.stage_c[0]?(this.map_bg[c][a]=223,this.stage_c[0]=100,this.stage_x[0]=c<<5,this.stage_y[0]=a<<5):this.map_bg[c][a]=220:"b"==o?0==this.stage_c[1]?(this.map_bg[c][a]=224,this.stage_c[1]=100,this.stage_x[1]=c<<5,this.stage_y[1]=a<<5):this.map_bg[c][a]=220:"c"==o?0==this.stage_c[2]?(this.map_bg[c][a]=225,this.stage_c[2]=100,this.stage_x[2]=c<<5,this.stage_y[2]=a<<5):this.map_bg[c][a]=220:"d"==o?0==this.stage_c[3]?(this.map_bg[c][a]=226,this.stage_c[3]=100,this.stage_x[3]=c<<5,this.stage_y[3]=a<<5):this.map_bg[c][a]=220:"e"==o?(this.map_bg[c][a]=213,this.ie_c[0]=100,this.ie_x[0]=c<<5,this.ie_y[0]=a<<5):"f"==o?(this.map_bg[c][a]=214,this.ie_c[1]=100,this.ie_x[1]=c<<5,this.ie_y[1]=a<<5):"g"==o?(this.map_bg[c][a]=215,this.ie_c[2]=100,this.ie_x[2]=c<<5,this.ie_y[2]=a<<5):"h"==o?(this.map_bg[c][a]=212,this.ie_c[9]=100,this.ie_x[9]=c<<5,this.ie_y[9]=a<<5):"i"==o?(this.map_bg[c][a]=206,this.ie_c[5]=100,this.ie_x[5]=c<<5,this.ie_y[5]=a<<5):"j"==o?(this.map_bg[c][a]=207,this.ie_c[6]=100,this.ie_x[6]=c<<5,this.ie_y[6]=a<<5):"k"==o?(this.map_bg[c][a]=208,this.ie_c[7]=100,this.ie_x[7]=c<<5,this.ie_y[7]=a<<5):"l"==o?(this.map_bg[c][a]=209,this.ie_c[8]=100,this.ie_x[8]=c<<5,this.ie_y[8]=a<<5):this.map_bg[c][a]="1"==o?220:"2"==o?221:"3"==o?222:0}this.co_j.x+16>Ki(this.gg.di.width/2)&&(this.co_j.muki=0),this.drawOs2()}},{key:"worldInit2",value:function(){this.co_j.vx=0,this.co_j.vy=0,this.co_j.muki=1,this.co_j.ac=0,this.mp.tr1_c=2,this.mp_mode=200,this.cc_hankei=12,this.stage_kcID=0,this.door_koID=0,this.shop_kattaitem=-1,this.door_score_open=0,100==this.ie_c[9]&&this.mp.score>=this.mp.door_score&&(this.ie_c[9]=50,this.door_score_open=1),this.km.initAll(),this.km.mode=100,this.drawOs2()}},{key:"worldInit3",value:function(){this.stage_kcID=this.checkStage(),this.stage_cf[this.stage_kcID-1]=!0,this.stage_c[this.stage_kcID-1]=50;for(var t=0,i=0;i<=2;i++)1==this.stage_cf[i]&&t++;this.door_koID=0,t>=1&&100==this.ie_c[t-1]&&(this.ie_c[t-1]=50,this.door_koID=t),this.door_score_open=0,100==this.ie_c[9]&&this.mp.score>=this.mp.door_score&&(this.ie_c[9]=50,this.door_score_open=1),this.co_j.vx=0,this.co_j.vy=0,this.co_j.muki=1,this.co_j.ac=0,this.mp.tr1_c=2,this.co_j.pt=0,this.shop_kattaitem=-1,this.mp_mode=200,this.cc_hankei=12,this.km.initAll(),this.km.mode=100,this.drawOs2()}},{key:"drawOs2",value:function(){this.gg.setBackcolor(new F(0,127,0)),this.gg.fill2(),this.gg.os2_g.drawImage(this.gg.li[3],0,0,this.gg.ap);for(var t=0;t<=Ki(this.gg.di.height/32)-2;t++)for(var i=0;i<=Ki(this.gg.di.width/32)-2;i++){var s=this.map_bg[i][t];221==s?(this.gg.drawPT2(16+(i<<5),24+(t<<5)-16,221),this.gg.drawPT2(16+(i<<5),24+(t<<5)+16,221)):222==s&&(this.gg.drawPT2(16+(i<<5)-16,24+(t<<5),222),this.gg.drawPT2(16+(i<<5)+16,24+(t<<5),222))}for(var h=0;h<=Ki(this.gg.di.height/32)-2;h++)for(var e=0;e<=Ki(this.gg.di.width/32)-2;e++){var a=this.map_bg[e][h];61!=a&&62!=a&&256!=a&&(a>=216&&a<=219||a>=206&&a<=209?this.gg.drawPT2(16+(e<<5),24+(h<<5)-7,a):a>=212&&a<=215?(this.gg.drawPT2(16+(e<<5)-16,24+(h<<5),222),this.gg.drawPT2(16+(e<<5)+16,24+(h<<5),222),this.gg.drawPT2(16+(e<<5),24+(h<<5)-7,a)):this.gg.drawPT2(16+(e<<5),24+(h<<5),a))}}},{key:"drawMap",value:function(){this.gg.os_g.drawImage(this.gg.os2_img,0,0,this.gg.ap)}},{key:"getBGZ",value:function(t,i){if(t<0||t>this.gg.di.width-32-1||i<0||i>this.gg.di.height-32-1)return 0;var s=t>>5,h=i>>5;return this.map_bg[s][h]}},{key:"checkStage",value:function(){for(var t=-1,i=0;i<=9;i++)if(100==this.stage_c[i]&&this.co_j.x==this.stage_x[i]&&this.co_j.y==this.stage_y[i]){t=i+1;break}return t}},{key:"mainProgram",value:function(){if(this.gk.tr1_f?this.mp.tr1_c<2&&(this.mp.tr1_c+=1):this.mp.tr1_c=0,0==this.mp_mode){if(100==this.km.mode)this.jMove();else if(200==this.km.mode)1==this.km.cancel_c?(this.km.off(3),this.km.off(4),this.km.mode=100):1==this.km.kettei_c&&(this.km.init1(3),this.km.setMessage(3,this.mp.mes1_name),this.mp.addSerifu(3,2,3),this.km.activeSerifu(3,Ki((this.gg.di.width-272)/2),Ki(this.gg.di.height/2),272,this.mp.gamecolor_message_name),this.km.mode=210);else if(210==this.km.mode)1!=this.km.cancel_c&&1!=this.km.kettei_c||(this.km.off(3),this.km.off(4),this.km.mode=100);else if(300==this.km.mode)1==this.km.cancel_c?(this.km.off(3),this.km.off(4),this.km.mode=100):1==this.km.kettei_c&&(this.km.init1(3),this.km.setMessage(3,this.mp.mes2_name),this.mp.addSerifu(3,4,3),this.km.activeSerifu(3,Ki((this.gg.di.width-272)/2),Ki(this.gg.di.height/2),272,this.mp.gamecolor_message_name),this.km.mode=210);else if(400==this.km.mode){if(1==this.km.cancel_c)this.km.off(3),this.km.off(4),this.km.mode=100;else if(1==this.km.kettei_c){this.km.off(3),this.km.list_kazu=0,this.km.init1(6),this.km.setMessage(6,this.tdb.getValue("shop_serifu1"));for(var t=0;t<=8;t++)this.mp.shop_item_teika[t]>0&&(this.km.addItem2(6,this.mp.shop_item_name[t],this.mp.shop_item_teika[t]),this.km.list_IDlist[this.km.list_kazu]=t,this.km.list_kazu+=1);this.km.list_kazu>=1?(this.km.activeKaimono(6,Ki((this.gg.di.width-272)/2)+176,Ki(this.gg.di.height/2)-84,184),this.km.mode=410):(this.km.init1(6),this.km.init1(3),this.km.setMessage(3,"Error"),this.km.addItem(3,"Please set any item on shop menu."),this.km.activeSerifu(3,Ki((this.gg.di.width-272)/2),Ki(this.gg.di.height/2),216,F.red),this.km.mode=210)}}else 410==this.km.mode?1==this.km.cancel_c?(this.km.off(4),this.km.off(6),this.km.mode=100):1==this.km.kettei_c&&(this.km.list_s=this.km.list_IDlist[this.km.selectedIndex[6]],this.km.init1(7),this.km.setMessage(7,this.mp.shop_item_name[this.km.list_s]+this.tdb.getValue("shop_serifu2")),this.km.addItem(7,this.tdb.getValue("shop_serifu3")),this.km.addItem(7,this.tdb.getValue("shop_serifu4")),this.km.activeSerifutuki(7,Ki((this.gg.di.width-272)/2)-72,Ki(this.gg.di.height/2),236,this.mp.shop_name),this.km.mode=420):420==this.km.mode?1==this.km.cancel_c?(this.km.offActivewindow(7,6),this.km.mode=410):1==this.km.kettei_c&&(0==this.km.selectedIndex[7]?this.mp.score>=this.mp.shop_item_teika[this.km.list_s]?(this.km.init1(3),this.km.addItem(3,this.mp.shop_item_name[this.km.list_s]+this.tdb.getValue("shop_serifu5")),this.km.activeIchigyou(3,Ki((this.gg.di.width-272)/2)-72,Ki(this.gg.di.height/2)+80,236),this.mp.score-=this.mp.shop_item_teika[this.km.list_s],this.shop_kattaitem=this.km.list_s,7==this.shop_kattaitem&&(this.mp.j_left+=1),this.km.mode=430):(this.km.init1(3),this.km.addItem(3,this.tdb.getValue("shop_serifu6")),this.km.activeIchigyou(3,Ki((this.gg.di.width-272)/2)-72,Ki(this.gg.di.height/2)+80,236),this.km.mode=430):(this.km.off(4),this.km.off(6),this.km.off(7),this.km.mode=100)):430==this.km.mode?1!=this.km.cancel_c&&1!=this.km.kettei_c||(this.km.off(3),this.km.off(4),this.km.off(6),this.km.off(7),this.km.mode=100):500==this.km.mode?1==this.km.cancel_c?(this.km.off(4),this.km.off(3),this.km.mode=100):1==this.km.kettei_c&&(this.km.off(3),this.km.init1(2),this.km.setMessage(2,this.tdb.getValue("setumei_menu1")),this.km.addItem(2,this.tdb.getValue("setumei_menu2")),this.km.addItem(2,this.tdb.getValue("setumei_menu3")),this.km.addItem(2,this.tdb.getValue("setumei_menu4")),this.km.activeSerifutuki(2,Ki((this.gg.di.width-272)/2),Ki(this.gg.di.height/2),224,this.mp.setumei_name),this.km.mode=510):510==this.km.mode?1==this.km.cancel_c?(this.km.off(2),this.km.off(4),this.km.mode=100):1==this.km.kettei_c&&(this.km.init1(3),this.km.setMessage(3,this.mp.setumei_name),1==this.km.selectedIndex[2]?this.mp.addSerifu(3,11,3):2==this.km.selectedIndex[2]?this.mp.addSerifu(3,12,3):this.mp.addSerifu(3,10,3),this.km.activeSerifu(3,Ki((this.gg.di.width-272)/2)+80,Ki(this.gg.di.height/2)+31,272,this.mp.gamecolor_message_name),this.km.mode=520):520==this.km.mode&&(1==this.km.cancel_c?(this.km.offActivewindow(3,2),this.km.mode=510):1==this.km.kettei_c&&(this.km.off(2),this.km.off(3),this.km.off(4),this.km.mode=100));this.km.move()}if(1e3==this.co_j.pt?this.gg.drawPT(this.co_j.x+16,this.co_j.y+24-12-6,100,this.co_j.muki):1010==this.co_j.pt?this.gg.drawPT(this.co_j.x+16,this.co_j.y+24-12+5,100,this.co_j.muki):this.co_j.pt>=202&&this.co_j.pt<=205?this.gg.drawPT(this.co_j.x+16,this.co_j.y+24-12,this.co_j.pt,0):this.gg.drawPT(this.co_j.x+16,this.co_j.y+24-12,this.co_j.pt,this.co_j.muki),this.km.drawMenus(),100==this.mp_mode)this.circleCLS(this.cc_hankei),this.cc_hankei-=12,this.cc_hankei<0&&(this.cc_hankei=0,this.mp_mode=110);else if(110==this.mp_mode)this.circleCLS(this.cc_hankei);else if(200==this.mp_mode){if(this.circleCLS(this.cc_hankei),this.cc_hankei+=12,this.cc_hankei>this.cc_hankei_max)if(this.stage_kcID>=1){this.mp_mode=300,this.cc_hankei=0;var i=this.stage_y[this.stage_kcID-1]>>5;this.map_bg[this.stage_x[this.stage_kcID-1]>>5][i]=227,this.door_koID>=1&&(this.map_bg[this.ie_x[this.door_koID-1]>>5][this.ie_y[this.door_koID-1]>>5]=222),1==this.door_score_open&&(this.map_bg[this.ie_x[9]>>5][this.ie_y[9]>>5]=222),this.drawOs2()}else this.mp_mode=0,1==this.door_score_open&&(this.mp_mode=400,this.cc_hankei=0,this.map_bg[this.ie_x[9]>>5][this.ie_y[9]>>5]=222,this.drawOs2())}else if(300==this.mp_mode){var s;this.cc_hankei+=1,this.cc_hankei<=3?s=0:this.cc_hankei<=6?s=1:this.cc_hankei<=9?s=0:this.cc_hankei<=12?s=1:this.cc_hankei<=15?s=0:this.cc_hankei<=18?s=1:this.cc_hankei<=21?s=0:this.cc_hankei<=24?s=1:this.cc_hankei<=26?s=0:(s=0,this.mp_mode=0),s>0&&this.gg.drawPT(this.stage_x[this.stage_kcID-1]+16,this.stage_y[this.stage_kcID-1]+24,222+this.stage_kcID,0),s>0&&this.door_koID>=1&&this.gg.drawPT(this.ie_x[this.door_koID-1]+16,this.ie_y[this.door_koID-1]+24-7,212+this.door_koID,0),s>0&&1==this.door_score_open&&this.gg.drawPT(this.ie_x[9]+16,this.ie_y[9]+24-7,212,0)}else if(400==this.mp_mode){var h;this.cc_hankei+=1,this.cc_hankei<=3?h=0:this.cc_hankei<=6?h=1:this.cc_hankei<=9?h=0:this.cc_hankei<=12?h=1:this.cc_hankei<=15?h=0:this.cc_hankei<=18?h=1:this.cc_hankei<=21?h=0:this.cc_hankei<=24?h=1:this.cc_hankei<=26?h=0:(h=0,this.mp_mode=0),h>0&&this.gg.drawPT(this.ie_x[9]+16,this.ie_y[9]+24-7,212,0)}}},{key:"jMove",value:function(){var t=this.co_j.x,i=this.co_j.y;if(this.co_j.pt=100,0==this.co_j.vx&&0==this.co_j.vy){if(this.co_j.ac+=1,this.co_j.ac>7&&(this.co_j.ac=0),this.co_j.ac>3){this.co_j.pt=1e3;var s=this.getBGZ(t,i);(s>=216&&s<=219||s>=206&&s<=209)&&(this.co_j.pt=1010)}if(1==this.mp.tr1_c)if(this.checkStage()>=1)this.mp_mode=100,this.cc_hankei=this.cc_hankei_max,this.co_j.ac=0,this.dokan_khID=0,this.co_j.pt=100,this.mp.gs.play(25);else if(this.getBGZ(t,i)>=206&&this.getBGZ(t,i)<=209)if(2==this.mp.dokan_mode)for(var h=!1,e=0;e<=Ki(this.gg.di.height/32)-2;e++){for(var a=0;a<=Ki(this.gg.di.width/32)-2;a++)if((a<<5!=t||e<<5!=i)&&this.map_bg[a][e]==this.getBGZ(t,i)){t=a<<5,i=e<<5,this.co_j.ac=0,this.co_j.pt=1010,h=!0;break}if(h)break}else this.mp_mode=100,this.cc_hankei=this.cc_hankei_max,this.co_j.ac=0,this.dokan_khID=this.getBGZ(t,i)-205,this.co_j.pt=1010,this.mp.gs.play(25);else 216==this.getBGZ(t,i)?(this.km.init1(4),this.km.onKao(4,Ki((this.gg.di.width-272)/2),Ki(this.gg.di.height/2)-108,272,230),this.km.init1(3),this.km.setMessage(3,this.mp.mes1_name),this.mp.addSerifu(3,1,3),this.km.activeSerifu(3,Ki((this.gg.di.width-272)/2),Ki(this.gg.di.height/2),272,this.mp.gamecolor_message_name),this.km.mode=200,this.co_j.pt=1010,this.co_j.ac=0):217==this.getBGZ(t,i)?(this.km.init1(4),this.km.onKao(4,Ki((this.gg.di.width-272)/2),Ki(this.gg.di.height/2)-108,272,232),this.km.init1(3),this.km.setMessage(3,this.mp.mes2_name),this.mp.addSerifu(3,3,3),this.km.activeSerifu(3,Ki((this.gg.di.width-272)/2),Ki(this.gg.di.height/2),272,this.mp.gamecolor_message_name),this.km.mode=300,this.co_j.pt=1010,this.co_j.ac=0):218==this.getBGZ(t,i)?(this.km.init1(4),this.km.onKao(4,Ki((this.gg.di.width-272)/2),Ki(this.gg.di.height/2)-108,216,234),this.shop_kattaitem<0?(this.km.init1(3),this.km.setMessage(3,this.mp.shop_name),this.mp.addSerifu(3,5,3),this.km.activeSerifu(3,Ki((this.gg.di.width-272)/2),Ki(this.gg.di.height/2),216,this.mp.gamecolor_message_name),this.km.mode=400):(this.km.init1(3),this.km.setMessage(3,this.mp.shop_name),this.mp.addSerifu(3,8,3),this.km.activeSerifu(3,Ki((this.gg.di.width-272)/2),Ki(this.gg.di.height/2),216,this.mp.gamecolor_message_name),this.km.mode=210),this.co_j.pt=1010,this.co_j.ac=0):219==this.getBGZ(t,i)&&(this.km.init1(4),this.km.onKao(4,Ki((this.gg.di.width-272)/2),Ki(this.gg.di.height/2)-108,272,236),this.km.init1(3),this.km.setMessage(3,this.mp.setumei_name),this.mp.addSerifu(3,9,3),this.km.activeSerifu(3,Ki((this.gg.di.width-272)/2),Ki(this.gg.di.height/2),272,this.mp.gamecolor_message_name),this.km.mode=500,this.co_j.pt=1010,this.co_j.ac=0);else this.gk.up_f?221==this.getBGZ(t,i-32)&&(this.co_j.vy=-4,this.co_j.ac=-1):this.gk.down_f?221==this.getBGZ(t,i+32)&&(this.co_j.vy=4,this.co_j.ac=-1):this.gk.left_f?(this.co_j.muki=0,222==this.getBGZ(t-32,i)&&(this.co_j.vx=-4,this.co_j.ac=-1),this.getBGZ(t+32,i)>=212&&this.getBGZ(t+32,i)<=215&&(this.co_j.vx=-4,this.co_j.ac=-1)):this.gk.right_f&&(this.co_j.muki=1,222==this.getBGZ(t+32,i)&&(this.co_j.vx=4,this.co_j.ac=-1),this.getBGZ(t-32,i)>=212&&this.getBGZ(t-32,i)<=215&&(this.co_j.vx=4,this.co_j.ac=-1))}if(0!=this.co_j.vx||0!=this.co_j.vy){if(this.co_j.ac+=1,this.co_j.ac>3&&(this.co_j.ac=0),t+=this.co_j.vx,i+=this.co_j.vy,0!=this.co_j.vx?this.co_j.ac<=1?this.co_j.pt=103:this.co_j.pt=104:this.co_j.vy>=0?this.co_j.ac<=1?this.co_j.pt=202:this.co_j.pt=203:this.co_j.ac<=1?this.co_j.pt=204:this.co_j.pt=205,t%32==0&&i%32==0){var c=this.getBGZ(t,i);(220==c||c>=223&&c<=227||c>=216&&c<=219||c>=206&&c<=209)&&(this.co_j.vx=0,this.co_j.vy=0,this.co_j.ac=0),c=0,this.co_j.vx>0?c=this.getBGZ(t+32,i):this.co_j.vx<0&&(c=this.getBGZ(t-32,i)),c>=212&&c<=215&&(this.co_j.vx=0,this.co_j.vy=0,this.co_j.pt=100,this.co_j.ac=0)}t<=-32?(t=-32,this.co_j.vx=0,this.co_j.vy=0,this.co_j.ac=0):t>=this.gg.di.width-32&&(t=this.gg.di.width-32,this.co_j.vx=0,this.co_j.vy=0,this.co_j.ac=0),i<=-32?(i=-32,this.co_j.vx=0,this.co_j.vy=0,this.co_j.ac=0):i>=this.gg.di.height-32&&(i=this.gg.di.height-32,this.co_j.vx=0,this.co_j.vy=0,this.co_j.ac=0)}this.co_j.x=t,this.co_j.y=i}},{key:"circleCLS",value:function(t){for(var i=0;i<=12;i++){var s=Math.sin(.2617992*i);this.cc_p1_y[i]=Ki(this.gg.di.height/2)+Math.floor(s*t);var h=Math.cos(.2617992*i);this.cc_p1_x[i]=Ki(this.gg.di.width/2)+Math.floor(h*t),this.cc_p2_y[i]=Ki(this.gg.di.height/2)-Math.floor(s*t),this.cc_p2_x[i]=Ki(this.gg.di.width/2)-Math.floor(h*t)}this.gg.os_g.setColor(F.black),this.gg.os_g.fillPolygon(this.cc_p1_x,this.cc_p1_y,17),this.gg.os_g.fillPolygon(this.cc_p2_x,this.cc_p2_y,17)}},{key:"squareCLS",value:function(t,i){var s=.0174532925199433;this.cc_p1_x[0]=Math.floor(Math.cos((this.cc_kakudo+0)*s)*t)+Ki(this.gg.di.width/2),this.cc_p1_y[0]=Math.floor(Math.sin((this.cc_kakudo+0)*s)*t)+Ki(this.gg.di.height/2),this.cc_p1_x[1]=Math.floor(Math.cos((this.cc_kakudo+90)*s)*t)+Ki(this.gg.di.width/2),this.cc_p1_y[1]=Math.floor(Math.sin((this.cc_kakudo+90)*s)*t)+Ki(this.gg.di.height/2),this.cc_p1_x[2]=Math.floor(Math.cos((this.cc_kakudo+180)*s)*t)+Ki(this.gg.di.width/2),this.cc_p1_y[2]=Math.floor(Math.sin((this.cc_kakudo+180)*s)*t)+Ki(this.gg.di.height/2),this.cc_p1_x[3]=Math.floor(500*Math.cos((this.cc_kakudo+180)*s))+Ki(this.gg.di.width/2),this.cc_p1_y[3]=Math.floor(500*Math.sin((this.cc_kakudo+180)*s))+Ki(this.gg.di.height/2),this.cc_p1_x[4]=Math.floor(700*Math.cos((this.cc_kakudo+135)*s))+Ki(this.gg.di.width/2),this.cc_p1_y[4]=Math.floor(700*Math.sin((this.cc_kakudo+135)*s))+Ki(this.gg.di.height/2),this.cc_p1_x[5]=Math.floor(700*Math.cos((this.cc_kakudo+45)*s))+Ki(this.gg.di.width/2),this.cc_p1_y[5]=Math.floor(700*Math.sin((this.cc_kakudo+45)*s))+Ki(this.gg.di.height/2),this.cc_p1_x[6]=Math.floor(500*Math.cos((this.cc_kakudo+0)*s))+Ki(this.gg.di.width/2),this.cc_p1_y[6]=Math.floor(500*Math.sin((this.cc_kakudo+0)*s))+Ki(this.gg.di.height/2),this.cc_p2_x[0]=Math.floor(Math.cos((this.cc_kakudo+180)*s)*t)+Ki(this.gg.di.width/2),this.cc_p2_y[0]=Math.floor(Math.sin((this.cc_kakudo+180)*s)*t)+Ki(this.gg.di.height/2),this.cc_p2_x[1]=Math.floor(Math.cos((this.cc_kakudo+270)*s)*t)+Ki(this.gg.di.width/2),this.cc_p2_y[1]=Math.floor(Math.sin((this.cc_kakudo+270)*s)*t)+Ki(this.gg.di.height/2),this.cc_p2_x[2]=Math.floor(Math.cos((this.cc_kakudo+360)*s)*t)+Ki(this.gg.di.width/2),this.cc_p2_y[2]=Math.floor(Math.sin((this.cc_kakudo+360)*s)*t)+Ki(this.gg.di.height/2),this.cc_p2_x[3]=Math.floor(500*Math.cos((this.cc_kakudo+360)*s))+Ki(this.gg.di.width/2),this.cc_p2_y[3]=Math.floor(500*Math.sin((this.cc_kakudo+360)*s))+Ki(this.gg.di.height/2),this.cc_p2_x[4]=Math.floor(700*Math.cos((this.cc_kakudo+315)*s))+Ki(this.gg.di.width/2),this.cc_p2_y[4]=Math.floor(700*Math.sin((this.cc_kakudo+315)*s))+Ki(this.gg.di.height/2),this.cc_p2_x[5]=Math.floor(700*Math.cos((this.cc_kakudo+225)*s))+Ki(this.gg.di.width/2),this.cc_p2_y[5]=Math.floor(700*Math.sin((this.cc_kakudo+225)*s))+Ki(this.gg.di.height/2),this.cc_p2_x[6]=Math.floor(500*Math.cos((this.cc_kakudo+180)*s))+Ki(this.gg.di.width/2),this.cc_p2_y[6]=Math.floor(500*Math.sin((this.cc_kakudo+180)*s))+Ki(this.gg.di.height/2),this.gg.os_g.setColor(F.black),this.gg.os_g.fillPolygon(this.cc_p1_x,this.cc_p1_y,7),this.gg.os_g.fillPolygon(this.cc_p2_x,this.cc_p2_y,7)}}])&&Mt(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,i}();function Bt(t){return Bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bt(t)}function Gt(t,i){for(var s=0;s<i.length;s++){var h=i[s];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(t,zt(h.key),h)}}function zt(t){var i=function(t){if("object"!=Bt(t)||!t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var s=i.call(t,"string");if("object"!=Bt(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Bt(i)?i:i+""}var At=function(){return t=function t(i,s,h){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.gg=i,this.gk=s,this.name_crys=h,this.hi=this.gg.spt_img[0],this.hih=this.gg.spt_img,this.hg=this.gg.os_g,this.ap=this.gg.ap,this.c=new Array(16),this.x=new Array(16),this.y=new Array(16),this.width=new Array(16),this.selectedIndex=new Array(16),this.item_kazu=new Array(16),this.message=new Array(16),this.item=qi(16,16),this.item_int=qi(16,16),this.item_color=new Array(16),this.list_IDlist=new Array(16),this.list_kazu=0,this.list_s=0,this.aw=-1,this.mode=0,this.kettei_c=0,this.cancel_c=0,this.c_fc=0,this.initAll()},(i=[{key:"initAll",value:function(){for(var t=0;t<=15;t++)this.init1(t);this.c_fc=0,this.gk.up_c=0,this.gk.down_c=0,this.aw=-1,this.kettei_c=2,this.cancel_c=2;for(var i=0;i<=15;i++)this.list_IDlist[i]=0;this.list_kazu=0,this.list_s=0}},{key:"init1",value:function(t){this.c[t]=0,this.x[t]=0,this.y[t]=0,this.width[t]=180,this.selectedIndex[t]=0,this.item_kazu[t]=0,this.message[t]="どうしますか？";for(var i=0;i<=15;i++)this.item[t][i]="";for(var s=0;s<=15;s++)this.item_int[t][s]=0}},{key:"setMessage",value:function(t,i){this.message[t]=i}},{key:"addItem",value:function(t,i){this.item[t][this.item_kazu[t]]=i,this.item_kazu[t]+=1}},{key:"addIntitem",value:function(t,i){this.item_int[t][this.item_kazu[t]]=i,this.item_kazu[t]+=1}},{key:"addItem2",value:function(t,i,s){this.item[t][this.item_kazu[t]]=i,this.item_int[t][this.item_kazu[t]]=s,this.item_kazu[t]+=1}},{key:"active",value:function(t,i,s,h){this.c[t]=100,this.x[t]=i,this.y[t]=s,this.width[t]=void 0!==h?h:180,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=t,this.kettei_c=2,this.cancel_c=2}},{key:"activeSerifutuki",value:function(t,i,s,h,e){this.c[t]=700,this.x[t]=i,this.y[t]=s,this.width[t]=h,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=t,this.kettei_c=2,this.cancel_c=2,this.item[t][15]=e}},{key:"activeKaimono",value:function(t,i,s,h){this.c[t]=900,this.x[t]=i,this.y[t]=s,this.width[t]=h,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=t,this.kettei_c=2,this.cancel_c=2}},{key:"activeIchigyou",value:function(t,i,s,h){this.c[t]=300,this.x[t]=i,this.y[t]=s,this.width[t]=h,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=t,this.kettei_c=2,this.cancel_c=2}},{key:"activeNigyou",value:function(t,i,s,h,e){this.c[t]=310,this.x[t]=i,this.y[t]=s,this.width[t]=h,this.item_color[t]=e,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=t,this.kettei_c=2,this.cancel_c=2}},{key:"activeYongyou",value:function(t,i,s,h){this.c[t]=320,this.x[t]=i,this.y[t]=s,this.width[t]=h,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=t,this.kettei_c=2,this.cancel_c=2}},{key:"activeYongyou2",value:function(t,i,s,h){this.c[t]=321,this.x[t]=i,this.y[t]=s,this.width[t]=h,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=t,this.kettei_c=2,this.cancel_c=2}},{key:"activeSerifu",value:function(t,i,s,h,e){this.c[t]=330,this.x[t]=i,this.y[t]=s,this.width[t]=h,this.item_color[t]=e,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=t,this.kettei_c=2,this.cancel_c=2}},{key:"activeYasumu",value:function(t,i,s){this.c[t]=1e3,this.x[t]=i,this.y[t]=s,this.width[t]=272,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=t,this.kettei_c=2,this.cancel_c=2}},{key:"onKao",value:function(t,i,s,h,e){this.c[t]=600,this.x[t]=i,this.y[t]=s,this.width[t]=h,this.item_int[t][0]=e}},{key:"onMituketa",value:function(t,i,s){this.c[t]=610,this.x[t]=i,this.y[t]=s,this.width[t]=200}},{key:"onOkozukai",value:function(t,i,s,h,e){this.c[t]=800,this.x[t]=i,this.y[t]=s,this.width[t]=h,this.item_int[t][0]=e}},{key:"activeIchigyouTime",value:function(t,i,s,h){this.c[t]=350,this.x[t]=i,this.y[t]=s,this.width[t]=h,this.item_int[t][0]=100}},{key:"activeNigyouTime",value:function(t,i,s,h,e){this.c[t]=360,this.x[t]=i,this.y[t]=s,this.width[t]=h,this.item_color[t]=e,this.item_int[t][0]=100}},{key:"activeJibun",value:function(t,i,s,h,e,a,c,o){this.c[t]=400,this.x[t]=i,this.y[t]=s,this.item_int[14][0]=e,this.item_int[14][1]=a,this.item_int[14][2]=c,this.item_int[14][3]=o,this.width[t]=h,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=t,this.kettei_c=2,this.cancel_c=2}},{key:"activeToujou",value:function(t,i,s,h,e,a){this.c[t]=420,this.x[t]=i,this.y[t]=s,this.item_int[t][2]=e,this.item[t][0]=a,this.width[t]=h,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=t,this.kettei_c=2,this.cancel_c=2}},{key:"initCS",value:function(){this.item_kazu[0]=8,this.selectedIndex[0]=0}},{key:"activeCS",value:function(){this.c[0]=500,this.x[0]=0,this.y[0]=0,this.width[0]=0,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=0,this.kettei_c=2}},{key:"off",value:function(t){this.c[t]=0}},{key:"offActivewindow",value:function(t,i){this.c[t]=0,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=i,this.kettei_c=2,this.cancel_c=2}},{key:"move",value:function(){this.c_fc+=1,this.c_fc>6&&(this.c_fc=0),this.aw>=0&&(this.gk.up_f?(this.gk.up_c+=1,this.gk.up_c>3&&(this.gk.up_c=1)):this.gk.up_c=0,this.gk.down_f?(this.gk.down_c+=1,this.gk.down_c>3&&(this.gk.down_c=1)):this.gk.down_c=0,1==this.gk.up_c?(this.selectedIndex[this.aw]-=1,this.c_fc=-1,this.selectedIndex[this.aw]<0&&(this.selectedIndex[this.aw]=this.item_kazu[this.aw]-1)):1==this.gk.down_c&&(this.selectedIndex[this.aw]+=1,this.c_fc=-1,this.selectedIndex[this.aw]>this.item_kazu[this.aw]-1&&(this.selectedIndex[this.aw]=0))),this.gk.tr1_f?0==this.kettei_c&&(this.kettei_c=1):this.kettei_c=0,this.gk.x_f?0==this.cancel_c&&(this.cancel_c=1):this.cancel_c=0}},{key:"drawMenus",value:function(){var t=this.hg._font;this.hg.setFont(new D(this.gg.font_message,0,12));for(var i=0;i<=15;i++){var s=this.c[i];if(0!=s)switch(s){case 100:if(this.drawWindowbox(this.x[i],this.y[i],this.width[i],30+14*this.item_kazu[i]),this.hg.setColor(this.ap.mp.gamecolor_message_text),this.hg.drawString(this.message[i],this.x[i]+24,this.y[i]+6+12),this.item_kazu[i]>=1)for(var h=0;h<=this.item_kazu[i]-1;h++)this.hg.drawString(this.item[i][h],this.x[i]+24,this.y[i]+6+18+14*h+12);i==this.aw?this.c_fc<=3&&this.hg.drawImage(this.hi[200],this.x[i]+6,this.y[i]+24+14*this.selectedIndex[i],this.ap):this.hg.drawImage(this.hi[200],this.x[i]+6,this.y[i]+24+14*this.selectedIndex[i],this.ap);break;case 200:this.hg.setColor(this.ap.mp.gamecolor_message_border),this.hg.fillRect(12,12,128,2),this.hg.fillRect(12,14,2,54),this.hg.fillRect(138,14,2,54),this.hg.fillRect(12,68,128,2),this.hg.setColor(this.ap.mp.gamecolor_message_back),this.hg.fillRect(14,14,124,54),this.hg.setColor(this.ap.mp.gamecolor_message_name),this.hg.drawString(this.item[14][0],18,30),(this.item_int[14][0]<=0||this.item_int[14][2]<=0)&&(this.hg.setColor(F.red),this.hg.drawString("戦闘不能",82,30)),this.hg.setColor(this.ap.mp.gamecolor_message_text),this.hg.drawString("HP\t"+this.item_int[14][0]+" / "+this.item_int[14][1],18,48),this.hg.drawString("PP\t"+this.item_int[14][2]+" / "+this.item_int[14][3],18,62);break;case 210:this.hg.setColor(this.ap.mp.gamecolor_message_border),this.hg.fillRect(160,12,128,2),this.hg.fillRect(160,14,2,54),this.hg.fillRect(286,14,2,54),this.hg.fillRect(160,68,128,2),this.hg.setColor(this.ap.mp.gamecolor_message_back),this.hg.fillRect(162,14,124,54),this.hg.setColor(F.green),this.hg.drawString(this.item[15][0],166,30),this.item_int[15][0]<=0&&(this.hg.setColor(F.red),this.hg.drawString("戦闘不能",230,30)),this.hg.setColor(this.ap.mp.gamecolor_message_text),this.hg.drawString("HP\t"+this.item_int[15][0]+" / "+this.item_int[15][1],166,48),this.hg.drawString("PP\t"+this.item_int[15][2]+" / "+this.item_int[15][3],166,62);break;case 220:this.hg.setColor(this.ap.mp.gamecolor_message_border),this.hg.fillRect(372,12,128,2),this.hg.fillRect(372,14,2,54),this.hg.fillRect(498,14,2,54),this.hg.fillRect(372,68,128,2),this.hg.setColor(this.ap.mp.gamecolor_message_back),this.hg.fillRect(374,14,124,54),this.hg.setColor(this.ap.mp.gamecolor_message_name),this.hg.drawString(this.item[15][0],378,30),(this.item_int[15][0]<=0||this.item_int[15][2]<=0)&&(this.hg.setColor(F.red),this.hg.drawString("戦闘不能",442,30)),this.hg.setColor(this.ap.mp.gamecolor_message_text),this.hg.drawString("HP\t"+this.item_int[15][0]+" / "+this.item_int[15][1],378,48),this.hg.drawString("PP\t"+this.item_int[15][2]+" / "+this.item_int[15][3],378,62);break;case 300:this.drawWindowbox(this.x[i],this.y[i],this.width[i],40),this.hg.setColor(this.ap.mp.gamecolor_message_text),this.hg.drawString(this.item[i][0],this.x[i]+6,this.y[i]+6+12),this.c_fc<=3&&this.gg.drawPT(this.x[i]+Ji(this.width[i]-14,1),this.y[i]+6+14+0+2,201,0);break;case 310:this.drawWindowbox(this.x[i],this.y[i],this.width[i],58),this.hg.setColor(this.item_color[i]),this.hg.drawString(this.item[i][0],this.x[i]+6,this.y[i]+6+12),this.hg.setColor(this.ap.mp.gamecolor_message_text),this.hg.drawString(this.item[i][1],this.x[i]+6,this.y[i]+6+18+12),this.c_fc<=3&&this.gg.drawPT(this.x[i]+Ji(this.width[i]-14,1),this.y[i]+6+18+14+2,71,0);break;case 320:this.drawWindowbox(this.x[i],this.y[i],this.width[i],66+14*(this.item_kazu[i]-3)+14),this.hg.setColor(F.magenta),this.hg.drawString(this.item[i][0],this.x[i]+6,this.y[i]+6+12),this.hg.setColor(this.ap.mp.gamecolor_message_text),this.hg.drawString(this.item[i][1],this.x[i]+6,this.y[i]+6+18+12),this.hg.setColor(this.ap.mp.gamecolor_message_name),this.hg.drawString(this.item[i][2],this.x[i]+6,this.y[i]+6+36+12),this.hg.setColor(this.ap.mp.gamecolor_message_text);for(var e=0;e<=this.item_kazu[3]-4;e++)this.hg.drawString(this.item[3][e+3],this.x[3]+6,this.y[3]+6+54+14*e+12);this.c_fc<=3&&this.gg.drawPT(this.x[i]+Ji(this.width[i]-14,1),this.y[i]+6+18+36+14*(this.item_kazu[i]-3)+2,71,0);break;case 321:this.drawWindowbox(this.x[i],this.y[i],this.width[i],108),this.hg.setColor(this.ap.mp.gamecolor_message_name),this.hg.drawString(this.item[i][0],this.x[i]+6,this.y[i]+6+12),this.hg.setColor(this.ap.mp.gamecolor_message_text),this.hg.drawString(this.item[i][1],this.x[i]+6,this.y[i]+6+18+12),this.hg.setColor(F.magenta),this.hg.drawString(this.item[i][2],this.x[i]+6,this.y[i]+6+36+12),this.hg.setColor(this.ap.mp.gamecolor_message_text),this.hg.drawString(this.item[i][3],this.x[i]+6,this.y[i]+6+54+12),this.hg.setColor(this.ap.mp.gamecolor_message_text),this.hg.drawString(this.item[i][4],this.x[i]+6,this.y[i]+6+54+14+12),this.c_fc<=3&&this.gg.drawPT(this.x[i]+Ji(this.width[i]-14,1),this.y[i]+6+18+36+14+14+2,71,0);break;case 330:if(this.drawWindowbox(this.x[i],this.y[i],this.width[i],30+14*(this.item_kazu[i]+1)),this.hg.setColor(this.item_color[i]),this.hg.drawString(this.message[i],this.x[i]+6,this.y[i]+6+12),this.hg.setColor(this.ap.mp.gamecolor_message_text),this.item_kazu[i]>=1)for(var a=0;a<=this.item_kazu[i]-1;a++)this.hg.drawString(this.item[i][a],this.x[i]+6,this.y[i]+6+18+14*a+12);i==this.aw?this.c_fc<=3&&this.gg.drawPT(this.x[i]+Ji(this.width[i]-14,1),this.y[i]+6+18+14*this.item_kazu[i]+2,201,0):this.gg.drawPT(this.x[i]+Ji(this.width[i]-14,1),this.y[i]+6+18+14*this.item_kazu[i]+2,201,0);break;case 350:if(100==this.item_int[i][0]){this.item_int[i][0]=55;break}this.drawWindowbox(this.x[i],this.y[i],this.width[i],26),this.hg.setColor(this.ap.mp.gamecolor_message_text),this.hg.drawString(this.item[i][0],this.x[i]+6,this.y[i]+6+12),this.item_int[i][0]-=1,this.item_int[i][0]<=0&&this.off(i);break;case 360:200==this.item_int[i][0]?(this.drawWindowbox(this.x[i],this.y[i],this.width[i],44),this.hg.setColor(this.item_color[i]),this.hg.drawString(this.item[i][0],this.x[i]+6,this.y[i]+6+12),this.hg.setColor(this.ap.mp.gamecolor_message_text),this.hg.drawString(this.item[i][1],this.x[i]+6,this.y[i]+6+18+12)):100==this.item_int[i][0]?this.item_int[i][0]=55:(this.drawWindowbox(this.x[i],this.y[i],this.width[i],44),this.hg.setColor(this.item_color[i]),this.hg.drawString(this.item[i][0],this.x[i]+6,this.y[i]+6+12),this.hg.setColor(this.ap.mp.gamecolor_message_text),this.hg.drawString(this.item[i][1],this.x[i]+6,this.y[i]+6+18+12),this.item_int[i][0]-=1,this.item_int[i][0]<=0&&this.off(i));break;case 400:this.drawWindowbox(this.x[i],this.y[i],this.width[i],128),this.hg.setColor(F.yellow),this.hg.drawString(this.name_crys+"のステータス",this.x[i]+6,this.y[i]+6+12),this.hg.setColor(this.ap.mp.gamecolor_message_text),this.hg.drawString("HP\t"+this.item_int[14][0]+" / "+this.item_int[14][1],this.x[i]+6,this.y[i]+6+18+0+12),this.hg.drawString("おこづかい\t",this.x[i]+6,this.y[i]+6+18+28+12),this.hg.drawString(this.item_int[14][2]+"円",this.x[i]+6+72,this.y[i]+6+18+42+12),this.hg.drawString("得点",this.x[i]+6,this.y[i]+6+18+56+12),this.hg.drawString(this.item_int[14][3]+"点",this.x[i]+6+72,this.y[i]+6+18+70+12),this.c_fc<=3&&this.gg.drawPT(this.x[i]+Ji(this.width[i]-14,1),this.y[i]+6+18+84+2,71,0);break;case 420:this.drawWindowbox(this.x[i],this.y[i],this.width[i],116),this.hg.setColor(new F(96,96,96)),this.hg.fillRect(this.x[i]+12,this.y[i]+12,this.width[i]-24,48),this.gg.drawPT(this.x[i]+12+Ji(this.width[i]-24-32,1),this.y[i]+12+8,this.item_int[i][2],0),this.hg.setColor(this.ap.mp.gamecolor_message_name),this.hg.drawString(this.item[i][0],this.x[i]+12,this.y[i]+64+12),this.hg.setColor(this.ap.mp.gamecolor_message_text),this.hg.drawString("これからも、よろしくね！",this.x[i]+12,this.y[i]+68+14+12),this.c_fc<=3&&this.gg.drawPT(this.x[i]+Ji(this.width[i]-14,1),this.y[i]+68+28+2,71,0);break;case 410:-2==this.item_int[i][0]?(this.drawWindowbox(this.x[i],this.y[i],this.width[i],116),this.hg.setColor(new F(96,96,96)),this.hg.fillRect(this.x[i]+12,this.y[i]+12,this.width[i]-24,48),this.gg.drawPT(this.x[i]+12+Ji(this.width[i]-24-32,1),this.y[i]+12+8,this.item_int[i][2],0),this.hg.setColor(F.yellow),this.hg.drawString(this.item[i][0],this.x[i]+12,this.y[i]+64+12),this.hg.setColor(this.ap.mp.gamecolor_message_text),this.hg.drawString("捕獲不可能",this.x[i]+12,this.y[i]+68+14+12),this.c_fc<=3&&this.gg.drawPT(this.x[i]+Ji(this.width[i]-14,1),this.y[i]+68+28+2,71,0)):this.item_int[i][0]<0?(this.drawWindowbox(this.x[i],this.y[i],this.width[i],116),this.hg.setColor(new F(96,96,96)),this.hg.fillRect(this.x[i]+12,this.y[i]+12,this.width[i]-24,48),this.gg.drawPT(this.x[i]+12+Ji(this.width[i]-24-32,1),this.y[i]+12+8,this.item_int[i][2],0),this.hg.setColor(F.yellow),this.hg.drawString(this.item[i][0],this.x[i]+12,this.y[i]+64+12),this.hg.setColor(this.ap.mp.gamecolor_message_text),this.hg.drawString("現在調査中",this.x[i]+12,this.y[i]+68+14+12),this.c_fc<=3&&this.gg.drawPT(this.x[i]+Ji(this.width[i]-14,1),this.y[i]+68+28+2,71,0)):(this.drawWindowbox(this.x[i],this.y[i],this.width[i],158),this.hg.setColor(new F(96,96,96)),this.hg.fillRect(this.x[i]+12,this.y[i]+12,this.width[i]-24,48),this.gg.drawPT(this.x[i]+12+Ji(this.width[i]-24-32,1),this.y[i]+12+8,this.item_int[i][2],0),this.hg.setColor(F.yellow),this.hg.drawString(this.item[i][0],this.x[i]+12,this.y[i]+64+12),this.hg.setColor(this.ap.mp.gamecolor_message_text),this.hg.drawString("最大HP",this.x[i]+12,this.y[i]+68+14+12),this.hg.drawString(""+this.item_int[i][0],this.x[i]+56,this.y[i]+68+28+12),this.hg.drawString("最大PP",this.x[i]+12,this.y[i]+68+42+12),this.hg.drawString(""+this.item_int[i][1],this.x[i]+56,this.y[i]+68+56+12),this.c_fc<=3&&this.gg.drawPT(this.x[i]+Ji(this.width[i]-14,1),this.y[i]+68+70+2,71,0));break;case 500:this.c_fc<=3||0!=this.aw?this.hg.drawImage(this.hi[72],12+28*this.selectedIndex[i],288,this.ap):this.hg.drawImage(this.hi[73],12+28*this.selectedIndex[i],288,this.ap);break;case 600:this.drawWindowbox(this.x[i],this.y[i],this.width[i],96);var c=this.item_int[i][0],o=this.x[i]+Ji(this.width[i]-64,1),_=this.y[i]+16;this.gg.drawPT(o,_,c,0),this.gg.drawPT(o+32,_,c+1,0),this.gg.drawPT(o,_+32,c+10,0),this.gg.drawPT(o+32,_+32,c+11,0);break;case 610:this.drawWindowbox(this.x[i],this.y[i],this.width[i],30+14*this.item_kazu[i]),this.hg.setColor(F.yellow),this.hg.drawString("モンスターずかん",this.x[i]+6,this.y[i]+6+12),this.hg.setColor(this.ap.mp.gamecolor_message_text),this.hg.drawString("見つけた数\t"+this.item_int[i][0],this.x[i]+6,this.y[i]+6+18+0+12),this.hg.drawString("捕まえた数\t"+this.item_int[i][1],this.x[i]+6,this.y[i]+6+18+14+12);break;case 700:if(this.drawWindowbox(this.x[i],this.y[i],this.width[i],30+14*this.item_kazu[i]+18),this.hg.setColor(this.ap.mp.gamecolor_message_name),this.hg.drawString(this.item[i][15],this.x[i]+24,this.y[i]+6+12),this.hg.setColor(this.ap.mp.gamecolor_message_text),this.hg.drawString(this.message[i],this.x[i]+24,this.y[i]+6+12+18),this.item_kazu[i]>=1)for(var r=0;r<=this.item_kazu[i]-1;r++)this.hg.drawString(this.item[i][r],this.x[i]+24,this.y[i]+6+18+14*r+12+18);i==this.aw?this.c_fc<=3&&this.gg.drawPT(this.x[i]+6,this.y[i]+6+18+14*this.selectedIndex[i]+18,200,0):this.gg.drawPT(this.x[i]+6,this.y[i]+6+18+14*this.selectedIndex[i]+18,200,0);break;case 800:this.drawWindowbox(this.x[i],this.y[i],this.width[i],44),this.hg.setColor(F.yellow),this.hg.drawString("おこづかい",this.x[i]+6,this.y[i]+6+12),this.hg.setColor(this.ap.mp.gamecolor_message_text),this.hg.drawString(this.item_int[i][0]+"円",this.x[i]+6,this.y[i]+6+18+12);break;case 900:if(this.drawWindowbox(this.x[i],this.y[i],this.width[i],30+14*this.item_kazu[i]),this.hg.setColor(this.ap.mp.gamecolor_message_text),this.hg.drawString(this.message[i],this.x[i]+24,this.y[i]+6+12),this.item_kazu[i]>=1)for(var n=0;n<=this.item_kazu[i]-1;n++)this.hg.drawString(this.item[i][n],this.x[i]+24,this.y[i]+6+18+14*n+12),this.hg.drawString(""+this.item_int[i][n],this.x[i]+24+116,this.y[i]+6+18+14*n+12);i==this.aw?this.c_fc<=3&&this.gg.drawPT(this.x[i]+6,this.y[i]+6+18+14*this.selectedIndex[i],200,0):this.gg.drawPT(this.x[i]+6,this.y[i]+6+18+14*this.selectedIndex[i],200,0);break;case 1e3:this.drawWindowbox(this.x[i],this.y[i],this.width[i],98),this.hg.setColor(new F(96,96,96)),this.hg.fillRect(this.x[i]+12,this.y[i]+12,248,48);for(var m=0;m<=5;m++)this.item_int[i][m]>0&&this.gg.drawPT(this.x[i]+12+8+40*m,this.y[i]+12+8,this.item_int[i][m],0);this.hg.setColor(this.ap.mp.gamecolor_message_text),this.hg.drawString("みんな、元気になった。",this.x[i]+12,this.y[i]+64+12),this.c_fc<=3&&this.gg.drawPT(this.x[i]+Ji(this.width[i]-14,1),this.y[i]+64+14+2,71,0)}}this.hg.setFont(t)}},{key:"drawWindowbox",value:function(t,i,s,h){this.hg.setColor(this.ap.mp.gamecolor_message_border),this.hg.fillRect(t,i,s,2),this.hg.fillRect(t,i+2,2,h-4),this.hg.fillRect(t+s-2,i+2,2,h-4),this.hg.fillRect(t,i+h-2,s,2),this.hg.setColor(this.ap.mp.gamecolor_message_back),this.hg.fillRect(t+2,i+2,s-4,h-4)}}])&&Gt(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,i}();function Pt(t){return Pt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pt(t)}function Nt(t,i){return function(t){if(Array.isArray(t))return t}(t)||function(t,i){var s=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=s){var h,e,a,c,o=[],_=!0,r=!1;try{if(a=(s=s.call(t)).next,0===i){if(Object(s)!==s)return;_=!1}else for(;!(_=(h=a.call(s)).done)&&(o.push(h.value),o.length!==i);_=!0);}catch(t){r=!0,e=t}finally{try{if(!_&&null!=s.return&&(c=s.return(),Object(c)!==c))return}finally{if(r)throw e}}return o}}(t,i)||function(t,i){if(t){if("string"==typeof t)return Ot(t,i);var s={}.toString.call(t).slice(8,-1);return"Object"===s&&t.constructor&&(s=t.constructor.name),"Map"===s||"Set"===s?Array.from(t):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?Ot(t,i):void 0}}(t,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ot(t,i){(null==i||i>t.length)&&(i=t.length);for(var s=0,h=Array(i);s<i;s++)h[s]=t[s];return h}function Yt(t,i){for(var s=0;s<i.length;s++){var h=i[s];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(t,Tt(h.key),h)}}function Tt(t){var i=function(t){if("object"!=Pt(t)||!t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var s=i.call(t,"string");if("object"!=Pt(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Pt(i)?i:i+""}s(3557),s(3934);var Et=function(){return t=function t(i,s,h,e){var a;!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.width=i,this.height=s,this.gg=h,this.mp=e,this.map_bg=qi(this.width,this.height);var c=this.mp.tdb.options["advanced-map"];this.layer_count=null!==(a=null==c?void 0:c.stages[this.mp.stage-1].layers.filter((function(t){return"mapchip"===t.type})).length)&&void 0!==a?a:1,this.map_bg_layer=qi(this.layer_count,this.width,this.height),this.map_string=new Array(this.height),this.map_string_layer=new Array(this.height),this.wx=0,this.wy=0,this.wx_mini=0,this.wy_mini=0,this.wx_max=0,this.wy_max=0,this.os2_wx=0,this.os2_wy=0,this.hi=this.gg.spt_img[0],this.gazou_x=0,this.gazou_y=0,this.second_gazou_x=0,this.second_gazou_y=0,this.my_wx_mini=0,this.my_wx_max=0,this.my_wy_mini=0,this.my_wy_max=0,this.init()},i=[{key:"init",value:function(){this.wx=0,this.wy=0,this.os2_wx=0,this.os2_wy=0;for(var t=0;t<this.height;t++)for(var i=0;i<this.width;i++)this.map_bg[i][t]=0;for(var s=0;s<this.layer_count;s++)for(var h=0;h<this.height;h++)for(var e=0;e<this.width;e++)this.map_bg_layer[s][e][h]=0;for(var a=".".repeat(this.width+1),c=0;c<this.height;c++)this.map_string[c]=a,this.map_string_layer[c]=a.repeat(2)}},{key:"setBank",value:function(t){var i=30;1===t?i=40:2===t?i=50:4===t&&(i=60),this.gg.spt_img[0][8]=this.gg.spt_img[0][0],this.gg.spt_img[0][31]=this.gg.spt_img[0][0];for(var s=0;s<=7;s++)this.gg.spt_img[0][10+s]=this.gg.spt_img[0][i+s]}},{key:"drawMap",value:function(t,i){this.wx=t,this.wy=i;var s=this.wx%32,h=this.wy%32;this.os2_wx=Ji(this.wx,5),this.os2_wy=Ji(this.wy,5),this.gg.fill2();for(var e=0;e<=Ki(this.gg.di.height/32);e++)for(var a=0;a<=Ki(this.gg.di.width/32);a++)this.map_bg[this.os2_wx+a][this.os2_wy+e]>0&&this.gg.drawPT2(32+32*a,32+32*e,this.map_bg[this.os2_wx+a][this.os2_wy+e]);this.gg.os_g.drawImage(this.gg.os2_img,-32-s,-32-h)}},{key:"drawSecondImage",value:function(){var t=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,h=arguments.length>2&&void 0!==arguments[2]&&arguments[2]?function(i,s){t.gg.os_g.drawImage(t.mp.second_gazou_img,i,s)}:function(h,e){t.gg.os2_g.drawImage(t.mp.second_gazou_img,h+i+32,e+s+32)},e=[1,1],a=0,c=0,o=this.gg.di.width,_=this.gg.di.height;2===this.mp.second_gazou_scroll?(a=-Ji(this.wx-32,2)%o,e[0]=2):3===this.mp.second_gazou_scroll?(a=-Ji(this.wx-32,1)%o,e[0]=2):4===this.mp.second_gazou_scroll?(this.second_gazou_x+=this.mp.second_gazou_scroll_speed_x,this.second_gazou_y+=this.mp.second_gazou_scroll_speed_y,this.second_gazou_x<-this.gg.di.width&&(this.second_gazou_x+=this.gg.di.width),this.second_gazou_x>0&&(this.second_gazou_x-=this.gg.di.width),this.second_gazou_y<-this.gg.di.height&&(this.second_gazou_y+=this.gg.di.height),this.second_gazou_y>0&&(this.second_gazou_y-=this.gg.di.height),a=this.second_gazou_x,c=this.second_gazou_y,e=[2,2]):5===this.mp.second_gazou_scroll?(a=-Ji(3*(this.wx-32),1)%o,e[0]=2):6===this.mp.second_gazou_scroll?(_=960,a=-Ji(3*(this.wx-32),1)%o,c=-(this.wy-320),e[0]=2):7===this.mp.second_gazou_scroll?(a=-(this.wx-32)%o,c=-(this.wy-320)%_,e=[2,2]):8===this.mp.second_gazou_scroll&&(a=this.mp.second_gazou_scroll_x+32-this.wx,c=this.mp.second_gazou_scroll_y+320-this.wy,(a>=this.gg.di.width||c>=this.gg.di.height)&&(e=[0,0]));for(var r=0;r<e[0];r++)for(var n=0;n<e[1];n++)h(a+r*o,c+n*_)}},{key:"drawBackgroundImage",value:function(t,i,s){var h,e,a=this.mp.setbacki_f?this.mp.setbacki_img:this.gg.li[3+this.mp.stage_haikei];if(null!=a){var c=[1,1],o=0,_=0,r=this.gg.di.width,n=this.gg.di.height;2===s?(o=-Ji(this.wx-32,2)%r,c[0]=2):3===s?(this.gazou_x-=2,this.gazou_x<=-this.gg.di.width&&(this.gazou_x+=this.gg.di.width),o=this.gazou_x,c[0]=2):4===s?(this.gazou_x+=this.mp.gazou_scroll_speed_x,this.gazou_y+=this.mp.gazou_scroll_speed_y,this.gazou_x<-this.gg.di.width&&(this.gazou_x+=this.gg.di.width),this.gazou_x>0&&(this.gazou_x-=this.gg.di.width),this.gazou_y<-this.gg.di.height&&(this.gazou_y+=this.gg.di.height),this.gazou_y>0&&(this.gazou_y-=this.gg.di.height),o=this.gazou_x,_=this.gazou_y,c=[2,2]):5===s?(_=-Ji(this.wy-320,1)%n,c[1]=2):6===s?(o=-Ji(this.wx-32,1)%r,_=-Ji(this.wy-320,1)%n,c=[2,2]):7===s?(o=-(this.wx-32)%r,_=-(this.wy-320)%n,c=[2,2]):8===s?(n=640,o=-Ji(this.wx-32,1)%r,_=-Ji((this.wy-320)*n/(2*this.gg.di.height),1)%n,c[0]=2):9===s?(r=1024,n=640,o=-Ji(this.wx-32,1)%r,_=-Ji((this.wy-320)*n/(2*this.gg.di.height),1)%n,c[0]=2):10===s?(o=-Ji(this.wx-32,1)%r,c[0]=2):11===s&&(o=this.mp.gazou_scroll_x+32-this.wx,_=this.mp.gazou_scroll_y+320-this.wy,(o>=this.gg.di.width||_>=this.gg.di.height)&&(c=[0,0]));for(var m=0;m<c[0];m++)for(var p=0;p<c[1];p++)h=o+m*r,e=_+p*n,this.gg.os2_g.drawImage(a,h+t+32,e+i+32)}}},{key:"drawBackgroundLayer",value:function(t){for(var i=0;i<=Ki(this.gg.di.height/32);i++)for(var s=0;s<=Ki(this.gg.di.width/32);s++){var h=this.map_bg_layer[t][this.os2_wx+s][this.os2_wy+i];h>0&&h<255&&this.gg.drawMapchip2(32+32*s,32+32*i,h,t)}}},{key:"drawMapLayer",value:function(t,i,s,h,e){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;this.wx=t,this.wy=i;var c=this.wx%32,o=this.wy%32;if(this.os2_wx=Ji(this.wx,5),this.os2_wy=Ji(this.wy,5),3===e||4===e?this.gg.os2_g.drawImage(this.gg.os_img,32+c,32+o):(this.gg.fill2(),this.mp.second_gazou_visible&&1===this.mp.second_gazou_priority&&null!=this.mp.second_gazou_img&&this.drawSecondImage(c,o),this.drawBackgroundImage(c,o,h)),2!==e){if(4!==e&&2===this.gg.layer_mode&&this.drawBackgroundLayer(a),3!==e)for(var _=2!==this.gg.layer_mode||2===this.mp.water_visible&&2===this.gg.layer_mode,r=0;r<=Ki(this.gg.di.height/32);r++)for(var n=0;n<=Ki(this.gg.di.width/32);n++){var m=this.os2_wx+n,p=this.os2_wy+r,g=this.map_bg[m][p],u=this.mp.map_data_option[m][p];switch(3===this.mp.clear_type?2===this.gg.layer_mode&&2===this.mp.water_visible&&(4===g&&2!==this.mp.water_visible||29===g)&&(g=0):2===this.gg.layer_mode&&(4===g&&2!==this.mp.water_visible||15===g||18===g||19===g||29===g||10===g&&!u)&&(g=0),g){case 5:case 15:case 18:case 19:_&&4===this.map_bg[m][p-1]&&this.gg.drawPT2(32+32*n,32+32*r,4);break;case 6:_&&4===this.map_bg[m][p+1]&&this.gg.drawPT2(32+32*n,32+32*r,4);break;case 7:g=96+s%2;break;case 8:var y=this.mp.stage_max>=2&&this.mp.stage>=this.mp.stage_max;(2!==this.mp.clear_type&&3!==this.mp.clear_type||this.mp.coin_kazu<=0)&&(g=94,y&&(g=98),s>=2&&(g+=1),_&&4===this.map_bg[m-1][p]&&this.gg.drawPT2(32+32*n,32+32*r,4));break;case 9:g=90+s,_&&4===this.map_bg[m-1][p]&&this.gg.drawPT2(32+32*n,32+32*r,4);break;case 10:_&&4===this.map_bg[m-1][p]&&this.gg.drawPT2(32+32*n,32+32*r,4)}if(g>0){if((18===g||19===g)&&u){this.gg.os2_g.setColor(F.white);for(var d=0;d<32;d++)18===g?this.gg.os2_g.fillRect(32+32*n+d,32+32*r+31-d,1,1):this.gg.os2_g.fillRect(32+32*n+d,32+32*r+d,1,1);g=0}this.gg.drawPT2(32+32*n,32+32*r,g)}}this.gg.os_g.drawImage(this.gg.os2_img,-32-c,-32-o)}else this.gg.os_g.drawImage(this.gg.os2_img,-32-c,-32-o)}},{key:"drawMapScroll",value:function(t){var i=this.wx%32,s=this.wy%32,h=Ji(this.wx,5),e=Ji(this.wy,5),a=h-this.os2_wx,c=e-this.os2_wy;if(Math.abs(a)>1||Math.abs(c)>1)this.drawMap(this.wx,this.wy);else if(0===a&&0===c);else{this.gg.os2_g.copyArea(32+32*a,32+32*c,this.gg.di.width+32,this.gg.di.height+32,32*-a,32*-c),0!==a&&(this.os2_wx=h),0!==c&&(this.os2_wy=e);var o=[];if(0!==c)for(var _=c<0?0:Ki(this.gg.di.height/32),r=0;r<=Ki(this.gg.di.width/32);r++)o.push([this.map_bg[this.os2_wx+r][this.os2_wy+_],1+r,1+_]);if(0!==a)for(var n=a<0?0:Ki(this.gg.di.width/32),m=0;m<=Ki(this.gg.di.height/32);m++)0===m&&c<0||m===Ki(this.gg.di.height/32)&&c>0||o.push([this.map_bg[this.os2_wx+n][this.os2_wy+m],1+n,1+m]);for(var p=0,g=o;p<g.length;p++){var u=Nt(g[p],3),y=u[0],d=u[1],f=u[2];y<=0||this.gg.os2_g.drawImage(this.hi[y],32*d,32*f)}}for(var j=0;j<=Ki(this.gg.di.height/32);j++)for(var l=0;l<=Ki(this.gg.di.width/32);l++){var v=this.os2_wx+l,x=this.os2_wy+j,k=this.mp.map_data_option[v][x];switch(this.map_bg[v][x]){case 5:4===this.map_bg[v][x-1]&&(this.gg.drawBG2(32+32*l,32+32*j,4),this.gg.drawPT2(32+32*l,32+32*j,5));break;case 6:4===this.map_bg[v][x+1]&&(this.gg.drawBG2(32+32*l,32+32*j,4),this.gg.drawPT2(32+32*l,32+32*j,6));break;case 7:var w=96+t%2;this.gg.drawBG2(32+32*l,32+32*j,w);break;case 8:var b=this.mp.stage_max>=2&&this.mp.stage>=this.mp.stage_max,S=2!==this.mp.clear_type&&3!==this.mp.clear_type||this.mp.coin_kazu<=0,M=94;if(b&&(M=98),0===t&&(M+=1),4===this.map_bg[v-1][x]){if(this.gg.drawBG2(32+32*l,32+32*j,4),!S)break;this.gg.drawPT2(32+32*l,32+32*j,M)}else{if(!S)break;this.gg.drawBG2(32+32*l,32+32*j,M)}break;case 9:4===this.map_bg[v-1][x]?(this.gg.drawBG2(32+32*l,32+32*j,4),this.gg.drawPT2(32+32*l,32+32*j,90+t)):this.gg.drawBG2(32+32*l,32+32*j,90+t);break;case 10:4===this.map_bg[v-1][x]&&(this.gg.drawBG2(32+32*l,32+32*j,4),this.gg.drawPT2(32+32*l,32+32*j,10));break;case 15:4===this.map_bg[v][x-1]&&(this.gg.drawBG2(32+32*l,32+32*j,4),this.gg.drawPT2(32+32*l,32+32*j,15));break;case 18:if(k){4===this.map_bg[v][x-1]?this.gg.drawBG2(32+32*l,32+32*j,4):(this.gg.os2_g.setColor(this.gg.backcolor),this.gg.os2_g.fillRect(32+32*l,32+32*j,32,32)),this.gg.os2_g.setColor(F.white);for(var C=0;C<32;C++)this.gg.os2_g.fillRect(32+32*l+C,32+32*j+31-C,1,1)}else 4===this.map_bg[v][x-1]&&(this.gg.drawBG2(32+32*l,32+32*j,4),this.gg.drawPT2(32+32*l,32+32*j,18));break;case 19:if(k){4===this.map_bg[v][x-1]?this.gg.drawBG2(32+32*l,32+32*j,4):(this.gg.os2_g.setColor(this.gg.backcolor),this.gg.os2_g.fillRect(32+32*l,32+32*j,32,32)),this.gg.os2_g.setColor(F.white);for(var I=0;I<32;I++)this.gg.os2_g.fillRect(32+32*l+I,32+32*j+I,1,1)}else 4===this.map_bg[v][x-1]&&(this.gg.drawBG2(32+32*l,32+32*j,4),this.gg.drawPT2(32+32*l,32+32*j,19))}}this.gg.os_g.drawImage(this.gg.os2_img,-32-i,-32-s)}},{key:"getBGCode",value:function(t,i){return this.map_bg[Ji(t,5)][Ji(i,5)]}},{key:"putBGCode",value:function(t,i,s){this.map_bg[t][i]=s,this.os2_wx<=t&&this.os2_wx+Ki(this.gg.di.width/32)>=t&&this.os2_wy<=i&&this.os2_wy+Ki(this.gg.di.height/32)>=i&&this.gg.drawBG2(32*(t-this.os2_wx)+32,32*(i-this.os2_wy)+32,s)}}],i&&Yt(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,i}();function Rt(t){return Rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rt(t)}function Vt(t,i){for(var s=0;s<i.length;s++){var h=i[s];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(t,Wt(h.key),h)}}function Wt(t){var i=function(t){if("object"!=Rt(t)||!t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var s=i.call(t,"string");if("object"!=Rt(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Rt(i)?i:i+""}var Ft,Dt=function(){return t=function t(){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.con=0,this.x=32,this.y=320,this.x2=32,this.y2=320,this.width=96,this.height=64,this.view_x=0,this.view_y=0,this.x_buff=this.x,this.y_buff=this.y,this.x2_buff=this.x2,this.y2_buff=this.y2,this.buff_f=!1,this.img=null,this.color=F.yellow,this.pt=0,this.pth=0,this.draw_f=!1,this.type=1},(i=[{key:"init",value:function(){this.con=0,this.x=32,this.y=320,this.x2=32,this.y2=320,this.width=96,this.height=64,this.view_x=0,this.view_y=0,this.x_buff=this.x,this.y_buff=this.y,this.x2_buff=this.x2,this.y2_buff=this.y2,this.buff_f=!1,this.img=null,this.color=F.yellow,this.pt=0,this.pth=0,this.draw_f=!1,this.type=1}},{key:"setImage",value:function(t){return this.img=t,!0}}])&&Vt(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,i}();function Lt(t,i){return function(t){if(Array.isArray(t))return t}(t)||function(t,i){var s=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=s){var h,e,a,c,o=[],_=!0,r=!1;try{if(a=(s=s.call(t)).next,0===i){if(Object(s)!==s)return;_=!1}else for(;!(_=(h=a.call(s)).done)&&(o.push(h.value),o.length!==i);_=!0);}catch(t){r=!0,e=t}finally{try{if(!_&&null!=s.return&&(c=s.return(),Object(c)!==c))return}finally{if(r)throw e}}return o}}(t,i)||Ht(t,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ht(t,i){if(t){if("string"==typeof t)return Ut(t,i);var s={}.toString.call(t).slice(8,-1);return"Object"===s&&t.constructor&&(s=t.constructor.name),"Map"===s||"Set"===s?Array.from(t):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?Ut(t,i):void 0}}function Ut(t,i){(null==i||i>t.length)&&(i=t.length);for(var s=0,h=Array(i);s<i;s++)h[s]=t[s];return h}!function(t){t.Turtle={properties:{walk_speed:3},initFactory:function(t,i){return function(t){}},controllerFactory:function(t){return function(i,s){var h=i.x,e=i.y;if(100===i.c){if(s.ana_kazu>0){var a=s.anaCheckNormal(h,e);if(a>=0)return i.c=1300,i.x=32*s.ana_x[a],!0}var c=s.maps.getBGCode(h+15,e+31);if(18!==c&&19!==c&&(c=0),0===c&&s.maps.getBGCode(h+15,e+32)<=9||c>0&&s.getSakamichiY(h+15,e+31)>e){if(e+=5,s.maps.getBGCode(h+15,e+32)>=20&&(e=32*Ji(e+32,5)-32),(18==s.maps.getBGCode(h+15,e+31)||19==s.maps.getBGCode(h+15,e+31))&&s.getSakamichiY(h+15,e+31)<e&&(e=s.getSakamichiY(h+15,e+31)),i.pt=140,i.pth=0,s.yuka_id_max>=0)for(var o=0;!(o>s.yuka_id_max);){if((g=s.yo[o]).con>=300&&g.con<350){var _=s.getSCOY(g.x,g.y,g.x2,g.y2,h+15);if(_>=0&&_<=e&&_+31>=e){e=_,i.c=104,i.c2=o,i.vx=-1;break}}else if(g.con>=350&&g.con<400){var r=s.getSHCOY(g.x,g.y,g.x2,g.y2,h+15);if(r>=0&&r-192<=e&&r+31+192>=e){e=r,i.c=104,i.c2=o,i.vx=-1;break}}else if(g.con>=400&&g.con<450){var n=s.getSWUpOY(g.x,g.y,g.x2,g.y2,h+15);if(n>=0&&n<=e&&n+31>=e){e=n,i.c=104,i.c2=o,i.vx=-1;break}}else if(g.con>=450&&g.con<500){var m=s.getSWDownOY(g.x,g.y,g.x2,g.y2,h+15);if(m>=0&&m<=e&&m+31>=e){e=m,i.c=104,i.c2=o,i.vx=-1;break}}o++}}else{Ji(h+15,5)>Ji(h+15-3,5)&&(18==c?e=32*Ji(e+31,5):19==c&&(e=32*Ji(e+31,5)-32),18==s.maps.getBGCode(h+15-3,e+32)&&e++),h-=t.walk_speed;var p=s.maps.getBGCode(h+15,e+31);18!=p&&19!=p||(e=s.getSakamichiY(h+15,e+31)),((p=s.maps.getBGCode(h,e))>=20||15==p||18==p)&&(h=32*Ji(h,5)+32,i.c=105),18==c?Ji(h+15,5)<Ji(h+15+3,5)&&s.maps.getBGCode(h+15,e+32)<=9&&(h=32*Ji(h,5)+32-15,i.c=105):19==c?Ji(h+15,5)<Ji(h+15+3,5)&&s.maps.getBGCode(h+15,e+32)<=9&&s.maps.getBGCode(h+15,e+31)<=9&&(h=32*Ji(h,5)+32-15,e++,i.c=105):s.maps.getBGCode(h,e+32)<=9&&s.maps.getBGCode(h,e+31)<=9&&(h=32*Ji(h,5)+32,i.c=105),i.pt=140+s.g_ac,i.pth=0}return i.x=h,i.y=e,!0}if(104===i.c){var g;if(i.pt=140+s.g_ac,i.pth=0,(g=s.yo[i.c2]).con>=300&&g.con<350){var u=Ki(80*g.x2/100);i.vx<0?(h-=t.walk_speed)<=g.x-u-15&&(h=g.x-u-15,i.vx=1):(i.pth=1,(h+=t.walk_speed)>=g.x+u-15&&(h=g.x+u-15,i.vx=-1)),e=s.getSCOY(g.x,g.y,g.x2,g.y2,h+15)}else g.con>=350&&g.con<400?(i.vx<0?(h-=t.walk_speed)<=g.x-15+8&&(h=g.x-15+8,i.vx=1):(i.pth=1,(h+=t.walk_speed)>=g.x+239-15-8&&(h=g.x+239-15-8,i.vx=-1)),e=s.getSHCOY(g.x,g.y,g.x2,g.y2,h+15)):g.con>=400&&g.con<450?(i.vx<0?(h-=t.walk_speed)<=g.x+8-15&&(h=g.x+8-15,i.vx=1):(i.pth=1,(h+=t.walk_speed)>=g.x+256-8-15&&(h=g.x+256-8-15,i.vx=-1)),e=s.getSWUpOY(g.x,g.y,g.x2,g.y2,h+15)):g.con>=450&&g.con<500&&(i.vx<0?(h-=t.walk_speed)<=g.x+8-15&&(h=g.x+8-15,i.vx=1):(i.pth=1,(h+=t.walk_speed)>=g.x+256-8-15&&(h=g.x+256-8-15,i.vx=-1)),e=s.getSWDownOY(g.x,g.y,g.x2,g.y2,h+15));return i.x=h,i.y=e,!0}if(105===i.c){if(s.ana_kazu>0){var y=s.anaCheckNormal(h,e);if(y>=0)return i.c=1300,i.x=32*s.ana_x[y],!0}var d=s.maps.getBGCode(h+15,e+31);18!=d&&19!=d&&(d=0),Ji(h+15,5)<Ji(h+15+3,5)&&(19==d?e=32*Ji(e+31,5):18==d&&(e=32*Ji(e+31,5)-32),19==s.maps.getBGCode(h+15+3,e+32)&&e++),h+=t.walk_speed;var f=s.maps.getBGCode(h+15,e+31);return 18!=f&&19!=f||(e=s.getSakamichiY(h+15,e+31)),((f=s.maps.getBGCode(h+31,e))>=20||15==f||19==f)&&(h=32*Ji(h+31,5)-32,i.c=100),19==d?Ji(h+15,5)>Ji(h+15-3,5)&&s.maps.getBGCode(h+15,e+32)<=9&&(h=32*Ji(h+15,5)-16,i.c=100):18==d?Ji(h+15,5)>Ji(h+15-3,5)&&s.maps.getBGCode(h+15,e+32)<=9&&s.maps.getBGCode(h+15,e+31)<=9&&(h=32*Ji(h+15,5)-16,e++,i.c=100):s.maps.getBGCode(h+31,e+32)<=9&&s.maps.getBGCode(h+31,e+31)<=9&&(h=32*Ji(h+31,5)-32,i.c=100),i.pt=140+s.g_ac,i.pth=1,i.x=h,i.y=e,!0}return!1}}},t.TurtleFall={properties:{walk_speed:3,fall_speed:5},initFactory:function(t,i){return function(i){150===t&&(i.vy=-28,i.vx<=0?i.muki=0:i.muki=1)}},controllerFactory:function(t){return function(i,s,h){var e=i.x,a=i.y;if(110===i.c){if(s.ana_kazu>0){var c=s.anaCheckNormal(e,a);if(c>=0)return i.c=1300,i.x=32*s.ana_x[c],!0}var o=s.maps.getBGCode(e+15,a+31);18!=o&&19!=o&&(o=0),Ji(e+15,5)>Ji(e+15-3,5)&&(18==o?a=32*Ji(a+31,5):19==o&&(a=32*Ji(a+31,5)-32),18==s.maps.getBGCode(e+15-3,a+32)&&a++),e-=t.walk_speed;var _=s.maps.getBGCode(e+15,a+31);if(18!=_&&19!=_||(a=s.getSakamichiY(e+15,a+31)),e<32)e<=3&&(i.c=0);else{var r=s.maps.getBGCode(e,a);(r>=20||15==r||18==r)&&(e=32*Ji(e,5)+32,i.c=115)}return h>=120&&e<s.maps.wx-32&&(i.c=0),18==o?Ji(e+15,5)<Ji(e+15+3,5)&&s.maps.getBGCode(e+15,a+32)<=9&&(a=32*Ji(a+15,5)):19==o?Ji(e+15,5)<Ji(e+15+3,5)&&s.maps.getBGCode(e+15,a+32)<=9&&s.maps.getBGCode(e+15,a+31):s.maps.getBGCode(e+31,a+32)<=9&&18!=s.maps.getBGCode(e+15,a+31)&&19!=s.maps.getBGCode(e+15,a+31)&&18!=s.maps.getBGCode(e+31,a+31)&&(e=32*Ji(e+31,5),i.c=120),i.pt=140+s.g_ac,i.pth=0,i.x=e,i.y=a,!0}if(115===i.c){if(s.ana_kazu>0){var n=s.anaCheckNormal(e,a);if(n>=0)return i.c=1300,i.x=32*s.ana_x[n],!0}var m=s.maps.getBGCode(e+15,a+31);18!=m&&19!=m&&(m=0),Ji(e+15,5)<Ji(e+15+3,5)&&(19==m?a=32*Ji(a+31,5):18==m&&(a=32*Ji(a+31,5)-32),19==s.maps.getBGCode(e+15+3,a+32)&&a++),e+=t.walk_speed;var p=s.maps.getBGCode(e+15,a+31);return 18!=p&&19!=p||(a=s.getSakamichiY(e+15,a+31)),((p=s.maps.getBGCode(e+31,a))>=20||15==p||19==p)&&(e=32*Ji(e+31,5)-32,i.c=110),h>=120&&e>s.maps.wx+s.gg.di.width&&(i.c=0),19==m?Ji(e+15,5)>Ji(e+15-3,5)&&s.maps.getBGCode(e+15,a+32)<=9&&(a=32*Ji(a+15,5)):18==m?Ji(e+15,5)>Ji(e+15-3,5)&&s.maps.getBGCode(e+15,a+32)<=9&&s.maps.getBGCode(e+15,a+31):s.maps.getBGCode(e,a+32)<=9&&18!=s.maps.getBGCode(e+15,a+31)&&19!=s.maps.getBGCode(e+15,a+31)&&19!=s.maps.getBGCode(e,a+31)&&(e=32*Ji(e,5),i.c=125),i.pt=140+s.g_ac,i.pth=1,i.x=e,i.y=a,!0}if(120===i.c){if(s.ana_kazu>0){for(var g=0;!(g>11);){if(s.ana_c[g]>0&&32*s.ana_y[g]==a+32&&Math.abs(32*s.ana_x[g]-e)<32){i.c=1300,e=32*s.ana_x[g];break}g++}if(1300===i.c)return i.x=e,!0}return a+=t.fall_speed,s.maps.getBGCode(e+15,a+32)>=20&&(a=32*Ji(a+32,5)-32,i.c=110),(18==s.maps.getBGCode(e+15,a+31)||19==s.maps.getBGCode(e+15,a+31))&&s.getSakamichiY(e+15,a+31)<a&&(a=s.getSakamichiY(e+15,a+31),i.c=110),a>=s.ochiru_y&&(i.c=0),i.pt=140,i.pth=0,i.x=e,i.y=a,!0}if(125===i.c){if(s.ana_kazu>0){for(var u=0;!(u>11);){if(s.ana_c[u]>0&&32*s.ana_y[u]==a+32&&Math.abs(32*s.ana_x[u]-e)<32){i.c=1300,e=32*s.ana_x[u];break}u++}if(1300==i.c)return i.x=e,!0}return a+=t.fall_speed,s.maps.getBGCode(e+15,a+32)>=20&&(a=32*Ji(a+32,5)-32,i.c=115),(18==s.maps.getBGCode(e+15,a+31)||19==s.maps.getBGCode(e+15,a+31))&&s.getSakamichiY(e+15,a+31)<a&&(a=s.getSakamichiY(e+15,a+31),i.c=115),a>=s.ochiru_y&&(i.c=0),i.pt=140,i.pth=1,i.x=e,i.y=a,!0}if(150===i.c){if(s.ana_kazu>0){for(var y=0;!(y>11);){if(s.ana_c[y]>0&&32*s.ana_y[y]==a+32&&Math.abs(32*s.ana_x[y]-e)<32){i.c=1300,e=32*s.ana_x[y];break}y++}if(1300===i.c)return i.x=e,!0}i.vx<0&&(s.maps.getBGCode(e,a)>=15||s.maps.getBGCode(e,a+31)>=15)&&(e=32*Ji(e,5)+32,i.vx=0),i.vx>0&&(s.maps.getBGCode(e+31,a)>=15||s.maps.getBGCode(e+31,a+31)>=15)&&(e=32*Ji(e+31,5)-32,i.vx=0),e+=i.vx,i.vy+=2,i.vy>18&&(i.vy=18);var d=Ji((a+=i.vy)+31,5),f=s.maps.map_bg[Ji(e,5)][d],j=s.maps.map_bg[Ji(e+31,5)][d];return(f>=15||j>=15)&&(a=32*d-32,1==i.muki?i.c=115:i.c=110),a>=s.ochiru_y&&(i.c=0),i.pt=140,i.pth=i.muki,i.x=e,i.y=a,!0}return!1}}},t.Pikachie={properties:{jump_vy:-14,search_range:240,interval:30},initFactory:function(t,i){return function(i){i.c2=200,i.c3=t-200}},controllerFactory:function(t){return function(i,s){var h=i.x,e=i.y;if(200===i.c){if(s.ana_kazu>0){for(var a=0;!(a>11);){if(s.ana_c[a]>0&&32*s.ana_y[a]===i.y+32&&Math.abs(32*s.ana_x[a]-h)<32){i.c=1300,i.controller=void 0,h=32*s.ana_x[a];break}a++}if(1300===i.c)return}return i.c1<=0?s.co_j.x>=h-t.search_range&&s.co_j.x<=h+t.search_range&&(i.c=210,i.vy=t.jump_vy):i.c1--,i.pt=143,h+8>=s.co_j.x?i.pth=0:i.pth=1,!0}if(210===i.c){if(s.ana_kazu>0&&i.vy>0){for(var c=0;!(c>11);){if(s.ana_c[c]>0&&32*s.ana_y[c]<=e+32&&32*s.ana_y[c]>=e+16&&Math.abs(32*s.ana_x[c]-h)<32){i.c=1300,i.controller=void 0,h=32*s.ana_x[c],e=32*s.ana_y[c]-32;break}c++}if(1300===i.c)return}if(i.vy++,i.vy>14&&(i.vy=14),e+=i.vy,s.maps.getBGCode(h+15,e+31)>=10&&(e=32*Ji(e+31,5)-32,i.c=200,i.c1=t.interval),s.yuka_id_max>=0)for(var o=0;o<=s.yuka_id_max;o++){var _=s.yo[o];if(_.con>=300&&_.con<350){var r=s.getSCOY(_.x,_.y,_.x2,_.y2,h+15);r>=0&&r<=e&&r+31>=e&&(e=r,i.c=200,i.c1=t.interval)}else if(_.con>=350&&_.con<400){var n=s.getSHCOY(_.x,_.y,_.x2,_.y2,h+15);n>=0&&n<=e&&n+31>=e&&(e=n,i.c=200,i.c1=t.interval)}else if(_.con>=400&&_.con<450){var m=s.getSWUpOY(_.x,_.y,_.x2,_.y2,h+15);m>=0&&m<=e&&m+31>=e&&(e=m,i.c=200,i.c1=t.interval)}else if(!(_.con<450||_.con>=500)){var p=s.getSWDownOY(_.x,_.y,_.x2,_.y2,h+15);p>=0&&p<=e&&p+31>=e&&(e=p,i.c=200,i.c1=t.interval)}}if(e>=s.ochiru_y&&(i.c=0,i.controller=void 0),0===i.vy&&(Math.abs(s.co_j.x-h)>32||e<=s.co_j.y)&&e>=s.maps.wy-128&&e<=s.maps.wy+s.gg.di.height+128)if(1===i.c3)h+8>=s.co_j.x?(s.mSet2(h-16,32*Ji(e,5),732,-10,0),s.gs.rsAddSound(15)):(s.mSet2(h+16,32*Ji(e,5),732,10,0),s.gs.rsAddSound(15));else if(2===i.c3)if(h+8>=s.co_j.x){var g=3.140000104904175;s.mSet2(h,32*Ji(e,5),733,Ki(9*Math.cos(g),!0,s),Ki(9*Math.sin(g),!0,s)),g=3.6633334159851074,s.mSet2(h,32*Ji(e,5),733,Ki(9*Math.cos(g),!0,s),Ki(9*Math.sin(g),!0,s)),g=2.616666793823242,s.mSet2(h,32*Ji(e,5),733,Ki(9*Math.cos(g),!0,s),Ki(9*Math.sin(g),!0,s)),s.gs.rsAddSound(10)}else{var u=0;s.mSet2(h,32*Ji(e,5),733,Ki(9*Math.cos(u),!0,s),Ki(9*Math.sin(u),!0,s)),u=5.756667137145996,s.mSet2(h,32*Ji(e,5),733,Ki(9*Math.cos(u),!0,s),Ki(9*Math.sin(u),!0,s)),u=.5233333706855774,s.mSet2(h,32*Ji(e,5),733,Ki(9*Math.cos(u),!0,s),Ki(9*Math.sin(u),!0,s)),s.gs.rsAddSound(10)}else 3===i.c3?h+8>=s.co_j.x?(s.mSet2(h,32*Ji(e,5),810,-12,0),s.gs.rsAddSound(22)):(s.mSet2(h,32*Ji(e,5),810,12,0),s.gs.rsAddSound(22)):(s.mSet(h,e,100),s.gs.rsAddSound(10));return i.vy<=-1?i.pt=144:i.pt=145,h+8>=s.co_j.x?i.pth=0:i.pth=1,i.x=h,i.y=e,!0}return!1}}},t.Chikorin={properties:{period:86,attack_timing:{2:2,10:1,18:1,26:1}},initFactory:function(t,i){return function(i){i.c2=300,301===t&&(i.c3=1)}},controllerFactory:function(t){return function(i,s){var h=i.x,e=i.y;if(300===i.c){if(s.ana_kazu>0){for(var a=0;!(a>11);){if(s.ana_c[a]>0&&32*s.ana_y[a]==e+32&&Math.abs(32*s.ana_x[a]-h)<32){i.c=1300,h=32*s.ana_x[a];break}a++}if(1300==i.c)return i.x=h,!0}if(i.c1>0){i.c1++;var c=t.attack_timing[i.c1];c?(h+8>=s.co_j.x?1===i.c3?s.mSet(h,e,201):s.mSet(h,e,200):1===i.c3?s.mSet(h,e,206):s.mSet(h,e,205),2===c&&Math.abs(e-s.co_j.y)<=288&&s.gs.rsAddSound(11)):i.c1>t.period&&(i.c1=0)}else s.co_j.x>=h-256&&s.co_j.x<=h+256&&(i.c1=1);return i.pt=150,h+8>=s.co_j.x?i.pth=0:i.pth=1,!0}return!1}}},t.ChikorinThrower={properties:{interval:40},initFactory:function(t,i){return function(i){switch(i.c2=310,t){case 310:i.c3=8,i.c4=0;break;case 311:i.c3=999,i.c4=0;break;case 312:i.c3=8,i.c4=1;break;case 313:i.c3=999,i.c4=1}}},controllerFactory:function(t){return function(i,s){var h=i.x,e=i.y;if(310===i.c){if(s.ana_kazu>0){for(var a=0;!(a>11);){if(s.ana_c[a]>0&&32*s.ana_y[a]==e+32&&Math.abs(32*s.ana_x[a]-h)<32){i.c=1300,h=32*s.ana_x[a];break}a++}if(1300===i.c)return i.x=h,!0}i.c1<=0?h>=s.maps.wx&&h<=s.maps.wx+s.gg.di.width-32&&e>=s.maps.wy&&e<=s.maps.wy+s.gg.di.height-32&&(i.c1=100,s.gs.rsAddSound(17)):i.c1>=100&&i.c1<200&&(i.c1++,101===i.c1?(1===i.c4?s.tSetBoss(h,e,650,-3):s.tSetBoss(h,e,450,-3),i.c3<999&&i.c3--,i.c3<=0&&(i.c1=500)):i.c1>=100+t.interval&&(i.c1=100),h<s.maps.wx&&(i.c1=500)),i.pt=150,i.pth=0}}}},t.ChikorinMidareuchi={properties:{},initFactory:function(t,i){return function(t){}},controllerFactory:function(t){return function(t,i){if(320===t.c){var s=t.x,h=t.y;if(i.ana_kazu>0){for(var e=0;!(e>11);){if(i.ana_c[e]>0&&32*i.ana_y[e]==h+32&&Math.abs(32*i.ana_x[e]-s)<32){t.c=1300,s=32*i.ana_x[e];break}e++}if(1300==t.c)return t.x=s,!0}if(t.c1<=0)s>=i.maps.wx-16&&s<=i.maps.wx+i.gg.di.width-32&&h>=i.maps.wy&&h<=i.maps.wy+i.gg.di.height-32&&i.co_j.x>=s-288&&i.co_j.x<=s+192&&Math.abs(i.co_j.x-s)>=88&&i.co_j.y<=h+128&&(i.co_j.x<=s+8?t.c1=100:t.c1=200);else if(t.c1>=100&&t.c1<200){if(t.c1++,101==t.c1){var a=4.710000038146973;i.mSet2(s,h,731,Ki(10*Math.cos(a),!0,i),Ki(10*Math.sin(a),!0,i)),i.gs.rsAddSound(11)}else if(105==t.c1){var c=3.924999952316284;i.mSet2(s,h,731,Ki(10*Math.cos(c),!0,i),Ki(10*Math.sin(c),!0,i))}else if(109==t.c1){var o=3.140000104904175;i.mSet2(s,h,731,Ki(10*Math.cos(o),!0,i),Ki(10*Math.sin(o),!0,i))}else if(113==t.c1){var _=3.6633334159851074;i.mSet2(s,h,731,Ki(10*Math.cos(_),!0,i),Ki(10*Math.sin(_),!0,i))}else if(t.c1>=121){var r=4.186666965484619;i.mSet2(s,h,731,Ki(10*Math.cos(r),!0,i),Ki(10*Math.sin(r),!0,i)),t.c1=300}}else if(t.c1>=200&&t.c1<300){if(t.c1++,201==t.c1){var n=4.710000038146973;i.mSet2(s,h,731,Ki(10*Math.cos(n),!0,i),Ki(10*Math.sin(n),!0,i)),i.gs.rsAddSound(11)}else if(205==t.c1){var m=5.49500036239624;i.mSet2(s,h,731,Ki(10*Math.cos(m),!0,i),Ki(10*Math.sin(m),!0,i))}else if(209==t.c1)i.mSet2(s,h,731,Ki(10*Math.cos(0),!0,i),Ki(10*Math.sin(0),!0,i));else if(213==t.c1){var p=5.756667137145996;i.mSet2(s,h,731,Ki(10*Math.cos(p),!0,i),Ki(10*Math.sin(p),!0,i))}else if(t.c1>=221){var g=5.233333587646484;i.mSet2(s,h,731,Ki(10*Math.cos(g),!0,i),Ki(10*Math.sin(g),!0,i)),t.c1=300}}else t.c1++,t.c1>350&&(t.c1=0);return t.pt=150,i.co_j.x<=s+8?t.pth=0:t.pth=1,!0}return!1}}},t.ChikorinSolarBeam={properties:{interval:120},initFactory:function(t,i){return function(t){}},controllerFactory:function(t){return function(i,s,h){var e=i.x,a=i.y;if(330===i.c){if(s.ana_kazu>0){for(var c=0;!(c>11);){if(s.ana_c[c]>0&&32*s.ana_y[c]==a+32&&Math.abs(32*s.ana_x[c]-e)<32){i.c=1300,e=32*s.ana_x[c];break}c++}if(1300===i.c)return i.x=e,!0}return i.c1<=0?e>=s.maps.wx-16&&e<=s.maps.wx+s.gg.di.width-32&&a>=s.maps.wy&&a<=s.maps.wy+s.gg.di.height-32&&s.co_j.x>=e-352&&s.co_j.x<=e-72&&Math.abs(s.co_j.y-a)<32&&(s.mSet2(e,a,75,h,0),s.gs.rsAddSound(11),i.c1=300):(i.c1++,i.c1>300+t.interval&&(i.c1=0)),i.pt=150,i.pth=0,!0}if(335===i.c){if(s.ana_kazu>0){for(var o=0;!(o>11);){if(s.ana_c[o]>0&&32*s.ana_y[o]==a+32&&Math.abs(32*s.ana_x[o]-e)<32){i.c=1300,e=32*s.ana_x[o];break}o++}if(1300===i.c)return i.x=e,!0}return i.c1<=0?e>=s.maps.wx-16-144&&e<=s.maps.wx+s.gg.di.width-32&&a>=s.maps.wy&&a<=s.maps.wy+s.gg.di.height-32&&s.co_j.x<=e+352&&s.co_j.x>=e+72&&Math.abs(s.co_j.y-a)<32&&(s.mSet2(e,a,85,h,0),s.gs.rsAddSound(11),i.c1=300):(i.c1++,i.c1>300+t.interval&&(i.c1=0)),i.pt=150,i.pth=1,!0}return!1}}},t.Hinorarashi={properties:{walk_speed:4},initFactory:function(t,i){return function(t){}},controllerFactory:function(t){return function(i,s){var h=i.x,e=i.y;if(400===i.c){if(s.ana_kazu>0){for(var a=0;!(a>11);){if(s.ana_c[a]>0&&32*s.ana_y[a]==e+32&&Math.abs(32*s.ana_x[a]-h)<32){i.c=1300,h=32*s.ana_x[a];break}a++}if(1300===i.c)return i.x=h,!0}14===s.j_tokugi&&(i.c2++,i.c2>24&&(i.c2=0,s.co_j.y<e+8&&s.mSet(h,e,150)));var c=s.maps.getBGCode(h+15,e+31);if(18!==c&&19!==c&&(c=0),0===c&&s.maps.getBGCode(h+15,e+32)<=9||c>0&&s.getSakamichiY(h+15,e+31)>e){if(e+=5,s.maps.getBGCode(h+15,e+32)>=20&&(e=32*Ji(e+32,5)-32),(18===s.maps.getBGCode(h+15,e+31)||19===s.maps.getBGCode(h+15,e+31))&&s.getSakamichiY(h+15,e+31)<e&&(e=s.getSakamichiY(h+15,e+31)),i.pt=152,i.pth=0,s.yuka_id_max>=0)for(var o=0;!(o>s.yuka_id_max);){if((g=s.yo[o]).con>=300&&g.con<350){var _=s.getSCOY(g.x,g.y,g.x2,g.y2,h+15);if(_>=0&&_<=e&&_+31>=e){e=_,i.c=404,i.c2=o,i.vx=-1;break}}else if(g.con>=350&&g.con<400){var r=s.getSHCOY(g.x,g.y,g.x2,g.y2,h+15);if(r>=0&&r-192<=e&&r+31+192>=e){e=r,i.c=404,i.c2=o,i.vx=-1;break}}else if(g.con>=400&&g.con<450){var n=s.getSWUpOY(g.x,g.y,g.x2,g.y2,h+15);if(n>=0&&n<=e&&n+31>=e){e=n,i.c=404,i.c2=o,i.vx=-1;break}}else if(g.con>=450&&g.con<500){var m=s.getSWDownOY(g.x,g.y,g.x2,g.y2,h+15);if(m>=0&&m<=e&&m+31>=e){e=m,i.c=404,i.c2=o,i.vx=-1;break}}o++}}else{Ji(h+15,5)>Ji(h+15-t.walk_speed,5)&&(18===c?e=32*Ji(e+31,5):19===c&&(e=32*Ji(e+31,5)-32),18===s.maps.getBGCode(h+15-t.walk_speed,e+32)&&e++),h-=t.walk_speed;var p=s.maps.getBGCode(h+15,e+31);18!==p&&19!==p||(e=s.getSakamichiY(h+15,e+31)),((p=s.maps.getBGCode(h,e))>=20||15===p||18===p)&&(h=32*Ji(h,5)+32,i.c=405),18===c?Ji(h+15,5)<Ji(h+15+t.walk_speed,5)&&s.maps.getBGCode(h+15,e+32)<=9&&(h=32*Ji(h,5)+32-15,i.c=405):19===c?Ji(h+15,5)<Ji(h+15+t.walk_speed,5)&&s.maps.getBGCode(h+15,e+32)<=9&&s.maps.getBGCode(h+15,e+31)<=9&&(h=32*Ji(h,5)+32-15,e++,i.c=405):s.maps.getBGCode(h,e+32)<=9&&s.maps.getBGCode(h,e+31)<=9&&(h=32*Ji(h,5)+32,i.c=405),i.pt=152+s.g_ac,i.pth=0}return i.x=h,i.y=e,!0}if(404===i.c){var g;if(i.pt=152+s.g_ac,i.pth=0,(g=s.yo[i.c2]).con>=300&&g.con<350){var u=Ki(80*s.yo[i.c2].x2/100);i.vx<0?(h-=t.walk_speed)<=g.x-u-15&&(h=g.x-u-15,i.vx=1):(i.pth=1,(h+=t.walk_speed)>=g.x+u-15&&(h=g.x+u-15,i.vx=-1)),e=s.getSCOY(g.x,g.y,g.x2,g.y2,h+15)}else g.con>=350&&g.con<400?(i.vx<0?(h-=t.walk_speed)<=g.x-15+8&&(h=g.x-15+8,i.vx=1):(i.pth=1,(h+=t.walk_speed)>=g.x+239-15-8&&(h=g.x+239-15-8,i.vx=-1)),e=s.getSHCOY(g.x,g.y,g.x2,g.y2,h+15)):g.con>=400&&g.con<450?(i.vx<0?(h-=t.walk_speed)<=g.x+8-15&&(h=g.x+8-15,i.vx=1):(i.pth=1,(h+=t.walk_speed)>=g.x+256-8-15&&(h=g.x+256-8-15,i.vx=-1)),e=s.getSWUpOY(g.x,g.y,g.x2,g.y2,h+15)):g.con>=450&&g.con<500&&(i.vx<0?(h-=t.walk_speed)<=g.x+8-15&&(h=g.x+8-15,i.vx=1):(i.pth=1,(h+=t.walk_speed)>=g.x+256-8-15&&(h=g.x+256-8-15,i.vx=-1)),e=s.getSWDownOY(g.x,g.y,g.x2,g.y2,h+15));return i.x=h,i.y=e,!0}if(405===i.c){if(s.ana_kazu>0){for(var y=0;!(y>11);){if(s.ana_c[y]>0&&32*s.ana_y[y]==e+32&&Math.abs(32*s.ana_x[y]-h)<32){i.c=1300,h=32*s.ana_x[y];break}y++}if(1300===i.c)return i.x=h,!0}14===s.j_tokugi&&(i.c2++,i.c2>24&&(i.c2=0,s.co_j.y<e+8&&s.mSet(h,e,150)));var d=s.maps.getBGCode(h+15,e+31);18!==d&&19!==d&&(d=0),Ji(h+15,5)<Ji(h+15+t.walk_speed,5)&&(19===d?e=32*Ji(e+31,5):18===d&&(e=32*Ji(e+31,5)-32),19===s.maps.getBGCode(h+15+t.walk_speed,e+32)&&e++),h+=t.walk_speed;var f=s.maps.getBGCode(h+15,e+31);return 18!==f&&19!=f||(e=s.getSakamichiY(h+15,e+31)),((f=s.maps.getBGCode(h+31,e))>=20||15===f||19===f)&&(h=32*Ji(h+31,5)-32,i.c=400),19===d?Ji(h+15,5)>Ji(h+15-t.walk_speed,5)&&s.maps.getBGCode(h+15,e+32)<=9&&(h=32*Ji(h+15,5)-16,i.c=400):18===d?Ji(h+15,5)>Ji(h+15-t.walk_speed,5)&&s.maps.getBGCode(h+15,e+32)<=9&&s.maps.getBGCode(h+15,e+31)<=9&&(h=32*Ji(h+15,5)-16,e++,i.c=400):s.maps.getBGCode(h+31,e+32)<=9&&s.maps.getBGCode(h+31,e+31)<=9&&(h=32*Ji(h+31,5)-32,i.c=400),i.pt=152+s.g_ac,i.pth=1,i.x=h,i.y=e,!0}return!1}}},t.HinorarashiFall={properties:{walk_speed:4},initFactory:function(t,i){return function(t){t.vy=-22,t.vx<=0?t.muki=0:t.muki=1}},controllerFactory:function(t){return function(i,s,h){var e=i.x,a=i.y;if(410===i.c){if(s.ana_kazu>0){for(var c=0;!(c>11);){if(s.ana_c[c]>0&&32*s.ana_y[c]===a+32&&Math.abs(32*s.ana_x[c]-e)<32){i.c=1300,e=32*s.ana_x[c];break}c++}if(1300===i.c)return i.x=e,!0}var o=s.maps.getBGCode(e+15,a+31);18!==o&&19!==o&&(o=0),Ji(e+15,5)>Ji(e+15-t.walk_speed,5)&&(18===o?a=32*Ji(a+31,5):19===o&&(a=32*Ji(a+31,5)-32),18===s.maps.getBGCode(e+15-t.walk_speed,a+32)&&a++),e-=t.walk_speed;var _=s.maps.getBGCode(e+15,a+31);if(18!==_&&19!==_||(a=s.getSakamichiY(e+15,a+31)),e<32)e<=3&&(i.c=0);else{var r=s.maps.getBGCode(e,a);(r>=20||15===r||18===r)&&(e=32*Ji(e,5)+32,i.c=415)}return h>=120&&e<s.maps.wx-32&&(i.c=0),18===o?Ji(e+15,5)<Ji(e+15+t.walk_speed,5)&&s.maps.getBGCode(e+15,a+32)<=9&&(a=32*Ji(a+15,5)):19===o?Ji(e+15,5)<Ji(e+15+t.walk_speed,5)&&s.maps.getBGCode(e+15,a+32)<=9&&s.maps.getBGCode(e+15,a+31):s.maps.getBGCode(e+31,a+32)<=9&&18!==s.maps.getBGCode(e+15,a+31)&&19!==s.maps.getBGCode(e+15,a+31)&&18!==s.maps.getBGCode(e+31,a+31)&&(e=32*Ji(e+31,5),i.c=420),i.pt=152+s.g_ac,i.pth=0,i.x=e,i.y=a,!0}if(415===i.c){if(s.ana_kazu>0){for(var n=0;!(n>11);){if(s.ana_c[n]>0&&32*s.ana_y[n]===a+32&&Math.abs(32*s.ana_x[n]-e)<32){i.c=1300,e=32*s.ana_x[n];break}n++}if(1300===i.c)return i.x=e,!0}var m=s.maps.getBGCode(e+15,a+31);18!==m&&19!==m&&(m=0),Ji(e+15,5)<Ji(e+15+t.walk_speed,5)&&(19===m?a=32*Ji(a+31,5):18===m&&(a=32*Ji(a+31,5)-32),19==s.maps.getBGCode(e+15+4,a+32)&&a++),e+=t.walk_speed;var p=s.maps.getBGCode(e+15,a+31);return 18!==p&&19!==p||(a=s.getSakamichiY(e+15,a+31)),((p=s.maps.getBGCode(e+31,a))>=20||15===p||19===p)&&(e=32*Ji(e+31,5)-32,i.c=410),h>=120&&e>s.maps.wx+s.gg.di.width&&(i.c=0),19===m?Ji(e+15,5)>Ji(e+15-t.walk_speed,5)&&s.maps.getBGCode(e+15,a+32)<=9&&(a=32*Ji(a+15,5)):18===m?Ji(e+15,5)>Ji(e+15-t.walk_speed,5)&&s.maps.getBGCode(e+15,a+32)<=9&&s.maps.getBGCode(e+15,a+31):s.maps.getBGCode(e,a+32)<=9&&18!==s.maps.getBGCode(e+15,a+31)&&19!==s.maps.getBGCode(e+15,a+31)&&19!==s.maps.getBGCode(e,a+31)&&(e=32*Ji(e,5),i.c=425),i.pt=152+s.g_ac,i.pth=1,i.x=e,i.y=a,!0}if(420===i.c){if(s.ana_kazu>0){for(var g=0;!(g>11);){if(s.ana_c[g]>0&&32*s.ana_y[g]===a+32&&Math.abs(32*s.ana_x[g]-e)<32){i.c=1300,e=32*s.ana_x[g];break}g++}if(1300===i.c)return i.x=e,!0}return a+=5,s.maps.getBGCode(e+15,a+32)>=20&&(a=32*Ji(a+32,5)-32,i.c=410),(18===s.maps.getBGCode(e+15,a+31)||19===s.maps.getBGCode(e+15,a+31))&&s.getSakamichiY(e+15,a+31)<a&&(a=s.getSakamichiY(e+15,a+31),i.c=410),a>=s.ochiru_y&&(i.c=0),i.pt=152,i.pth=0,i.x=e,i.y=a,!0}if(425===i.c){if(s.ana_kazu>0){for(var u=0;!(u>11);){if(s.ana_c[u]>0&&32*s.ana_y[u]===a+32&&Math.abs(32*s.ana_x[u]-e)<32){i.c=1300,e=32*s.ana_x[u];break}u++}if(1300===i.c)return i.x=e,!0}return a+=5,s.maps.getBGCode(e+15,a+32)>=20&&(a=32*Ji(a+32,5)-32,i.c=415),(18===s.maps.getBGCode(e+15,a+31)||19===s.maps.getBGCode(e+15,a+31))&&s.getSakamichiY(e+15,a+31)<a&&(a=s.getSakamichiY(e+15,a+31),i.c=415),a>=s.ochiru_y&&(i.c=0),i.pt=152,i.pth=1,i.x=e,i.y=a,!0}if(450===i.c){if(s.ana_kazu>0){for(var y=0;!(y>11);){if(s.ana_c[y]>0&&32*s.ana_y[y]===a+32&&Math.abs(32*s.ana_x[y]-e)<32){i.c=1300,e=32*s.ana_x[y];break}y++}if(1300===i.c)return i.x=e,!0}i.vx<0&&(s.maps.getBGCode(e,a)>=15||s.maps.getBGCode(e,a+31)>=15)&&(e=32*Ji(e,5)+32,i.vx=0),i.vx>0&&(s.maps.getBGCode(e+31,a)>=15||s.maps.getBGCode(e+31,a+31)>=15)&&(e=32*Ji(e+31,5)-32,i.vx=0),e+=i.vx,i.vy+=2,i.vy>18&&(i.vy=18);var d=Ji((a+=i.vy)+31,5),f=s.maps.map_bg[Ji(e,5)][d],j=s.maps.map_bg[Ji(e+31,5)][d];return(f>=10||j>=10)&&(a=32*d-32,1===i.muki?i.c=415:i.c=410),a>=s.ochiru_y&&(i.c=0),i.pt=152,i.pth=i.muki,i.x=e,i.y=a,!0}return!1}}},t.PoppieUpDown={properties:{speed:4,accel:1},initFactory:function(t,i){return function(t){var i=t.y;t.y=i-12,t.c3=i-52,t.c4=i-12,t.vy=-4}},controllerFactory:function(t){return function(i,s){if(500===i.c){var h=i.x,e=i.y;return e<=i.c3?(i.vy+=t.accel,i.vy>t.speed&&(i.vy=t.speed)):e>=i.c4&&(i.vy-=t.accel,i.vy<-t.speed&&(i.vy=-t.speed)),e+=i.vy,i.pt=147+s.g_ac,s.co_j.x<=h+8||14===s.j_tokugi?i.pth=0:i.pth=1,i.x=h,i.y=e,!0}return!1}}},t.PoppieLeftRight={properties:{speed:3},initFactory:function(t,i){return function(t){}},controllerFactory:function(t){return function(i,s){var h=i.x,e=i.y;return 510===i.c?((h-=t.speed)<48?h<=3&&(i.c=0):s.maps.getBGCode(h-16,e+31)>=15&&(h=32*Ji(h-16,5)+32+16,i.c=515),i.pt=147+s.g_ac,i.pth=0,i.x=h,i.y=e,!0):515===i.c&&(h+=t.speed,s.maps.getBGCode(h+31+16,e+31)>=15&&(h=32*Ji(h+31+16,5)-32-16,i.c=510),i.pt=147+s.g_ac,i.pth=1,i.x=h,i.y=e,!0)}}},t.PoppieFire={properties:{interval:40},initFactory:function(t,i){return function(t){}},controllerFactory:function(t){return function(i,s){var h=i.x,e=i.y;return 520===i.c&&(i.c1<=0?h>=s.maps.wx&&h<=s.maps.wx+s.gg.di.width-32&&e>=s.maps.wy&&e<=s.maps.wy+s.gg.di.height-32&&s.co_j.x>=h-288&&s.co_j.x<=h+192&&Math.abs(s.co_j.x-h)>=64&&Math.abs(s.co_j.y-e)<=128&&(i.c1=1):1===i.c1?(h+8>=s.co_j.x?(s.mSet(h,e,300),s.gs.rsAddSound(14)):(s.mSet(h,e,305),s.gs.rsAddSound(14)),i.c1=2):(i.c1++,i.c1>t.interval&&(i.c1=0)),i.pt=147+s.g_ac,s.co_j.x<=h+8||14===s.j_tokugi?i.pth=0:i.pth=1,!0)}}},t.PoppieFire3={properties:{},initFactory:function(t,i){return function(t){var i=t.y;t.c3=i,t.c4=0}},controllerFactory:function(t){return function(t,i){var s=t.x,h=t.y;return 530===t.c&&(t.c4<=0?(h-=2)<=t.c3-64&&(h=t.c3-64,t.c4=10,s>=i.maps.wx&&s<=i.maps.wx+i.gg.di.width-32&&h>=i.maps.wy&&h<=i.maps.wy+i.gg.di.height-32&&i.co_j.x>=s-320&&i.co_j.x<=s+256&&Math.abs(i.co_j.x-s)>=64&&Math.abs(i.co_j.y-h)<=160&&(t.c4=20)):10===t.c4?(h+=2)>=t.c3&&(h=t.c3,t.c4=0):20===t.c4&&((Math.abs(i.co_j.x-s)>32||h<=i.co_j.y)&&(h===t.c3-64&&(s+8>=i.co_j.x?(i.mSet(s,h,300),i.gs.rsAddSound(14)):(i.mSet(s,h,305),i.gs.rsAddSound(14))),h===t.c3-32&&(s+8>=i.co_j.x?i.mSet(s,h,300):i.mSet(s,h,305))),(h+=2)>=t.c3&&(h=t.c3,t.c4=0,(Math.abs(i.co_j.x-s)>32||h<=i.co_j.y)&&(s+8>=i.co_j.x?i.mSet(s,h,300):i.mSet(s,h,305)))),t.pt=147+i.g_ac,i.co_j.x<=s+8||14===i.j_tokugi?t.pth=0:t.pth=1,t.x=s,t.y=h,!0)}}},t.PoppieBubble3={properties:{interval:40},initFactory:function(t,i){return function(t){}},controllerFactory:function(t){return function(i,s){var h=i.x,e=i.y;if(540===i.c){if(i.c1<=0)h>=s.maps.wx&&h<=s.maps.wx+s.gg.di.width-32&&e>=s.maps.wy&&e<=s.maps.wy+s.gg.di.height-32&&s.co_j.x>=h-288&&s.co_j.x<=h+192&&Math.abs(s.co_j.x-h)>=64&&Math.abs(s.co_j.y-e)<=128&&(i.c1=1);else if(1===i.c1){if(h+8>=s.co_j.x){var a=3.140000104904175;s.mSet2(h,e,730,Ki(9*Math.cos(a),!0,s),Ki(9*Math.sin(a),!0,s)),a=3.6633334159851074,s.mSet2(h,e,730,Ki(9*Math.cos(a),!0,s),Ki(9*Math.sin(a),!0,s)),a=2.616666793823242,s.mSet2(h,e,730,Ki(9*Math.cos(a),!0,s),Ki(9*Math.sin(a),!0,s)),s.gs.rsAddSound(18)}else{var c=0;s.mSet2(h,e,730,Ki(9*Math.cos(c),!0,s),Ki(9*Math.sin(c),!0,s)),c=5.756667137145996,s.mSet2(h,e,730,Ki(9*Math.cos(c),!0,s),Ki(9*Math.sin(c),!0,s)),c=.5233333706855774,s.mSet2(h,e,730,Ki(9*Math.cos(c),!0,s),Ki(9*Math.sin(c),!0,s)),s.gs.rsAddSound(18)}i.c1=2}else i.c1++,i.c1>t.interval&&(i.c1=0);return i.pt=147+s.g_ac,s.co_j.x<=h+8||14===s.j_tokugi?i.pth=0:i.pth=1,!0}return!1}}},t.PoppieHurricaneBlast={properties:{interval:80},initFactory:function(t,i){return function(t){}},controllerFactory:function(t){return function(i,s){var h=i.x,e=i.y;if(550===i.c){if(i.c1<=0)h>=s.maps.wx&&h<=s.maps.wx+s.gg.di.width-32&&e>=s.maps.wy&&e<=s.maps.wy+s.gg.di.height-32&&s.co_j.x>=h-228&&s.co_j.x<=h+192&&Math.abs(s.co_j.x-h)>=64&&Math.abs(s.co_j.y-e)<=128&&(i.c1=1);else if(1===i.c1){for(var a=0;a<=300;a+=90)s.mSet2(h,e,950,a,0),s.mSet2(h,e,960,300-a,0),s.gs.rsAddSound(18);i.c1=2}else i.c1++,i.c1>t.interval&&(i.c1=0);return i.pt=147+s.g_ac,s.co_j.x<=h+8||14===s.j_tokugi?i.pth=0:i.pth=1,!0}return!1}}},t.Mariri={properties:{jump_vy:null,speed:5},initFactory:function(t,i){return function(i){650===t?(i.vy=-28,i.vx<=0?i.muki=0:i.muki=1):(i.c2=600,i.c3=0,i.c4=t-600)}},controllerFactory:function(t){return function(i,s,h){var e=i.x,a=i.y;if(600===i.c){if(h<120&&2===i.c4&&20===i.c1&&(i.c=605,i.c1++),i.c1<25){if(s.ana_kazu>0){for(var c=0;!(c>11);){if(s.ana_c[c]>0&&32*s.ana_y[c]==a+32&&Math.abs(32*s.ana_x[c]-e)<32){i.c=1300,e=32*s.ana_x[c];break}c++}if(1300===i.c)return i.x=e,!0}i.c1++,i.vy=null!=t.jump_vy?t.jump_vy:-17,i.c3=0,h<120&&1===i.c4&&null==t.jump_vy&&(i.vy=-22);var o=s.maps.getBGCode(e+15,a+32);18!==o&&19!==o||(a=s.getSakamichiY(e+15,a+32)),i.pt=154,i.pth=0,h<120&&1===i.c4&&(s.co_j.x<=e+8||14===s.j_tokugi?i.pth=0:i.pth=1)}else{if(s.ana_kazu>0&&i.vy>0){for(var _=0;!(_>11);){if(s.ana_c[_]>0&&32*s.ana_y[_]<=a+32&&32*s.ana_y[_]>=a+16&&Math.abs(32*s.ana_x[_]-e)<32){i.c=1300,e=32*s.ana_x[_],a=32*s.ana_y[_]-32;break}_++}if(1300===i.c)return i.x=e,i.y=a,!0}0===i.c3?(i.vy++,i.c3=1):(i.vy+=2,i.c3=0),i.vy>17&&(i.vy=17),(h>=120||1!==i.c4)&&(e-=t.speed);var r=a;if(a+=i.vy,i.vy<4?(i.pt=155,i.pth=0):(i.pt=156,i.pth=0),e<32)e<=3&&(i.c=0);else{i.vy<0&&s.maps.getBGCode(e+15,a+6)>=18&&(a=32*Ji(a+6,5)+32-6,i.vy=0);var n=s.maps.getBGCode(e+15,a+31);if((n>=20||10===n||15===n)&&(a=32*Ji(a+31,5)-32,i.c1=15,i.pt=154,i.pth=0),18===n||19===n)a>=s.getSakamichiY(e+15,a+31)&&(a=s.getSakamichiY(e+15,a+31),i.c1=15,i.pt=154,i.pth=0);else if(Ji(a+31,5)>Ji(r+31,5)){var m=s.maps.getBGCode(e+15,r+31);18!==m&&19!==m||(a=32*Ji(r+31,5),a=s.getSakamichiY(e+15,a+31),i.c1=15,i.pt=154,i.pth=0)}if(s.yuka_id_max>=0)for(var p=0;p<=s.yuka_id_max;p++)if((w=s.yo[p]).con>=300&&w.con<350){var g=s.getSCOY(w.x,w.y,w.x2,w.y2,e+15);g>=0&&g<=a&&g+31>=a&&(a=g,i.c1=15,i.pt=154,i.pth=0)}else if(w.con>=350&&w.con<400){var u=s.getSHCOY(w.x,w.y,w.x2,w.y2,e+15);u>=0&&u<=a&&u+31>=a&&(a=u,i.c1=15,i.pt=154,i.pth=0)}else if(w.con>=400&&w.con<450){var y=s.getSWUpOY(w.x,w.y,w.x2,w.y2,e+15);y>=0&&y<=a&&y+31>=a&&(a=y,i.c1=15,i.pt=154,i.pth=0)}else if(!(w.con<450||w.con>=500)){var d=s.getSWDownOY(w.x,w.y,w.x2,w.y2,e+15);d>=0&&d<=a&&d+31>=a&&(a=d,i.c1=15,i.pt=154,i.pth=0)}18!=s.maps.getBGCode(e+15,a+31)&&19!=s.maps.getBGCode(e+15,a+31)&&(s.maps.getBGCode(e,a+31)>=20||s.maps.getBGCode(e,a+8)>=20)&&(e=32*Ji(e,5)+32,i.c=605),h>=120&&e<s.maps.wx-32&&(i.c=0)}h<120&&1===i.c4&&(s.co_j.x<=e+8||14==s.j_tokugi?i.pth=0:i.pth=1)}return a>=s.ochiru_y&&(i.c=0),i.x=e,i.y=a,!0}if(605===i.c){if(h<120&&2===i.c4&&20===i.c1&&(i.c=600,i.c1++),i.c1<25){if(s.ana_kazu>0){for(var f=0;!(f>11);){if(s.ana_c[f]>0&&32*s.ana_y[f]==a+32&&Math.abs(32*s.ana_x[f]-e)<32){i.c=1300,e=32*s.ana_x[f];break}f++}if(1300===i.c)return i.x=e,!0}i.c1++,i.vy=null!=t.jump_vy?t.jump_vy:-17,i.c3=0,i.pt=154,i.pth=1}else{if(s.ana_kazu>0&&i.vy>0){for(var j=0;!(j>11);){if(s.ana_c[j]>0&&32*s.ana_y[j]<=a+32&&32*s.ana_y[j]>=a+16&&Math.abs(32*s.ana_x[j]-e)<32){i.c=1300,e=32*s.ana_x[j],a=32*s.ana_y[j]-32;break}j++}if(1300===i.c)return i.x=e,i.y=a,!0}0===i.c3?(i.vy++,i.c3=1):(i.vy+=2,i.c3=0),i.vy>17&&(i.vy=17),e+=t.speed;var l=a;a+=i.vy,i.vy<4?(i.pt=155,i.pth=1):(i.pt=156,i.pth=1),i.vy<0&&s.maps.getBGCode(e+15,a+6)>=18&&(a=32*Ji(a+6,5)+32-6,i.vy=0);var v=s.maps.getBGCode(e+15,a+31);if((v>=20||10===v||15===v)&&(a=32*Ji(a+31,5)-32,i.c1=15,i.pt=154,i.pth=1),18===v||19===v)a>=s.getSakamichiY(e+15,a+31)&&(a=s.getSakamichiY(e+15,a+31),i.c1=15,i.pt=154,i.pth=1);else if(Ji(a+31,5)>Ji(l+31,5)){var x=s.maps.getBGCode(e+15,l+31);18!==x&&19!==x||(a=32*Ji(l+31,5),a=s.getSakamichiY(e+15,a+31),i.c1=15,i.pt=154,i.pth=1)}if(s.yuka_id_max>=0)for(var k=0;k<=s.yuka_id_max;k++){var w;if((w=s.yo[k]).con>=300&&w.con<350){var b=s.getSCOY(w.x,w.y,w.x2,w.y2,e+15);b>=0&&b<=a&&b+31>=a&&(a=b,i.c1=15,i.pt=154,i.pth=1)}else if(w.con>=350&&w.con<400){var S=s.getSHCOY(w.x,w.y,w.x2,w.y2,e+15);S>=0&&S<=a&&S+31>=a&&(a=S,i.c1=15,i.pt=154,i.pth=1)}else if(w.con>=400&&w.con<450){var M=s.getSWUpOY(w.x,w.y,w.x2,w.y2,e+15);M>=0&&M<=a&&M+31>=a&&(a=M,i.c1=15,i.pt=154,i.pth=1)}else if(!(w.con<450||w.con>=500)){var C=s.getSWDownOY(w.x,w.y,w.x2,w.y2,e+15);C>=0&&C<=a&&C+31>=a&&(a=C,i.c1=15,i.pt=154,i.pth=1)}}18!=s.maps.getBGCode(e+15,a+31)&&19!=s.maps.getBGCode(e+15,a+31)&&(s.maps.getBGCode(e+31,a+31)>=20||s.maps.getBGCode(e+31,a+8)>=20)&&(e=32*Ji(e+31,5)-32,i.c=600),h>=120&&e>s.maps.wx+s.gg.di.width&&(i.c=0)}return a>=s.ochiru_y&&(i.c=0),i.x=e,i.y=a,!0}if(650===i.c){i.vx<0&&(s.maps.getBGCode(e,a)>=15||s.maps.getBGCode(e,a+31)>=15)&&(e=32*Ji(e,5)+32,i.vx=0),i.vx>0&&(s.maps.getBGCode(e+31,a)>=15||s.maps.getBGCode(e+31,a+31)>=15)&&(e=32*Ji(e+31,5)-32,i.vx=0),e+=i.vx,i.vy+=2,i.vy>18&&(i.vy=18);var I=Ji((a+=i.vy)+31,5),B=s.maps.map_bg[Ji(e,5)][I],G=s.maps.map_bg[Ji(e+31,5)][I];return(B>=10||G>=10)&&(a=32*I-32,1===i.muki?i.c=605:i.c=600,i.c1=15),a>=s.ochiru_y&&(i.c=0),i.vy<4?i.pt=155:i.pt=156,i.pth=i.muki,i.x=e,i.y=a,!0}return!1}}},t.MaririLeftRight={properties:{speed:8,distance:128,interval:20},initFactory:function(t,i){return function(t){t.c3=t.x,t.c4=i.interval>>1}},controllerFactory:function(t){var i=t.interval>>1,s=t.interval,h=2*t.interval+10;return function(e,a){if(660===e.c){var c=e.x;return e.y,e.c4<s?(e.c4++,e.pt=154,e.pth=0,e.c4<i&&(e.pth=1)):e.c4===s?((c-=t.speed)<=e.c3-t.distance&&(c=e.c3-t.distance,e.c4+=10),e.pt=155+a.g_ac,e.pth=0):e.c4<h?(e.c4++,e.pt=154,e.pth=1,e.c4<h-i&&(e.pth=0)):e.c4===h&&((c+=t.speed)>=e.c3&&(c=e.c3,e.c4=0),e.pt=155+a.g_ac,e.pth=1),e.x=c,!0}return!1}}},t.MaririTackle={properties:{attack_speed:10,return_speed:4},initFactory:function(t,i){return function(t){t.c3=t.x,t.c4=0}},controllerFactory:function(t){return function(i,s){if(670===i.c){var h=i.x,e=i.y;return i.c4<10?(i.c4++,i.pt=154,h+8>=s.co_j.x?i.pth=0:i.pth=1):10===i.c4?(h-128-16<=s.co_j.x&&h-48>=s.co_j.x&&Math.abs(e-s.co_j.y)<=10&&(i.c4=100),h+128+16>=s.co_j.x&&h+48<=s.co_j.x&&Math.abs(e-s.co_j.y)<=10&&(i.c4=200),i.pt=154,h+8>=s.co_j.x?i.pth=0:i.pth=1):100===i.c4?((h-=t.attack_speed)<=i.c3-160&&(h=i.c3-160,i.c4=150),i.pt=155+s.g_ac,i.pth=0):150===i.c4?((h+=t.return_speed)>=i.c3&&(h=i.c3,i.c4=0),i.pt=155+s.g_ac,i.pth=1):200===i.c4?((h+=t.attack_speed)>=i.c3+160&&(h=i.c3+160,i.c4=250),i.pt=155+s.g_ac,i.pth=1):250===i.c4&&((h-=t.return_speed)<=i.c3&&(h=i.c3,i.c4=0),i.pt=155+s.g_ac,i.pth=0),i.x=h,!0}return!1}}},t.Yachamo={properties:{interval:null},initFactory:function(t,i){return function(i){i.c2=700,i.c3=t-700}},controllerFactory:function(t){return function(i,s){if(700===i.c){var h=i.x,e=i.y;if(s.ana_kazu>0){for(var a=0;!(a>11);){if(s.ana_c[a]>0&&32*s.ana_y[a]==e+32&&Math.abs(32*s.ana_x[a]-h)<32){i.c=1300,h=32*s.ana_x[a];break}a++}if(1300===i.c)return i.x=h,!0}if(1!==i.c3)if(i.c1>0)if(i.c1++,2===i.c1)if(2===i.c3)(Math.abs(s.co_j.x-h)>32||e<=s.co_j.y)&&(h+8>=s.co_j.x?(s.mSet2(h,e,800,-10,-32),s.gs.rsAddSound(22)):(s.mSet2(h,e,800,10,-32),s.gs.rsAddSound(22)));else if(3===i.c3){if(Math.abs(s.co_j.x-h)>32||e<=s.co_j.y)if(h+8>=s.co_j.x){var c=3.140000104904175;s.mSet2(h,e,731,Ki(9*Math.cos(c),!0,s),Ki(9*Math.sin(c),!0,s)),c=3.6633334159851074,s.mSet2(h,e,731,Ki(9*Math.cos(c),!0,s),Ki(9*Math.sin(c),!0,s)),c=4.186666965484619,s.mSet2(h,e,731,Ki(9*Math.cos(c),!0,s),Ki(9*Math.sin(c),!0,s)),s.gs.rsAddSound(11)}else{var o=0;s.mSet2(h,e,731,Ki(9*Math.cos(o),!0,s),Ki(9*Math.sin(o),!0,s)),o=5.756667137145996,s.mSet2(h,e,731,Ki(9*Math.cos(o),!0,s),Ki(9*Math.sin(o),!0,s)),o=5.233333587646484,s.mSet2(h,e,731,Ki(9*Math.cos(o),!0,s),Ki(9*Math.sin(o),!0,s)),s.gs.rsAddSound(11)}}else 4===i.c3?(Math.abs(s.co_j.x-h)>32||e<=s.co_j.y)&&(h+8>=s.co_j.x?(s.mSet2(h,e,810,-12,0),s.gs.rsAddSound(22)):(s.mSet2(h,e,810,12,0),s.gs.rsAddSound(22))):h+8>=s.co_j.x?(s.mSet(h,e,300),Math.abs(e-s.co_j.y)<=288&&s.gs.rsAddSound(14)):(s.mSet(h,e,305),Math.abs(e-s.co_j.y)<=288&&s.gs.rsAddSound(14));else{var _=null==t.interval?2!==i.c3&&3!==i.c3?40:52:t.interval;i.c1>_&&(i.c1=0)}else h>=s.maps.wx&&h<=s.maps.wx+s.gg.di.width-32&&s.co_j.x>=h-256&&s.co_j.x<=h+192&&Math.abs(s.co_j.x-h)>=96&&(i.c1=1);return i.pt=158,h+8>=s.co_j.x?i.pth=0:i.pth=1,!0}return!1}}},t.YachamoFast={properties:{interval:35},initFactory:function(t,i){return function(i){i.c2=710,i.c3=t-710}},controllerFactory:function(t){return function(i,s){if(710===i.c){var h=i.x,e=i.y;if(s.ana_kazu>0){for(var a=0;!(a>11);){if(s.ana_c[a]>0&&32*s.ana_y[a]==e+32&&Math.abs(32*s.ana_x[a]-h)<32){i.c=1300,h=32*s.ana_x[a];break}a++}if(1300===i.c)return i.x=h,!0}return i.c1<=0?h>=s.maps.wx&&h<=s.maps.wx+s.gg.di.width-32&&e>=s.maps.wy&&e<=s.maps.wy+s.gg.di.height-32&&s.co_j.x>=h-320&&s.co_j.x<=h+192&&Math.abs(s.co_j.x-h)>=64&&Math.abs(s.co_j.y-e)<=128&&(0===i.c3?i.c1=1:i.c1=100):1===i.c1?(h+8>=s.co_j.x?(s.mSet(h,e,300),s.gs.rsAddSound(14)):(s.mSet(h,e,305),s.gs.rsAddSound(14)),i.c1=300):i.c1>=100&&i.c1<200?(i.c1++,101===i.c1&&s.gs.rsAddSound(14),Math.abs(s.co_j.x-h)>=48&&(101==i.c1||109==i.c1||117==i.c1)&&(h+8>=s.co_j.x?s.mSet(h,e,300):s.mSet(h,e,305)),i.c1>=125&&(i.c1=300)):(i.c1++,i.c1>300+t.interval&&(i.c1=0)),i.pt=158,h+8>=s.co_j.x?i.pth=0:i.pth=1,!0}return!1}}},t.YachamoHyperBeam={properties:{interval:80},initFactory:function(t,i){return function(t){}},controllerFactory:function(t){return function(i,s,h){var e=i.x,a=i.y;if(720===i.c){if(s.ana_kazu>0){for(var c=0;!(c>11);){if(s.ana_c[c]>0&&32*s.ana_y[c]==a+32&&Math.abs(32*s.ana_x[c]-e)<32){i.c=1300,e=32*s.ana_x[c];break}c++}if(1300===i.c)return i.x=e,!0}return i.c1<=0?e>=s.maps.wx-16&&e<=s.maps.wx+s.gg.di.width-32&&a>=s.maps.wy&&a<=s.maps.wy+s.gg.di.height-32&&s.co_j.x>=e-352&&s.co_j.x<=e-72&&Math.abs(s.co_j.y-a)<64&&(s.mSet2(e,a,77,h,0),s.gs.rsAddSound(14),i.c1=300):(i.c1++,i.c1>300+t.interval&&(i.c1=0)),i.pt=158,i.pth=0,!0}if(725===i.c){if(s.ana_kazu>0){for(var o=0;!(o>11);){if(s.ana_c[o]>0&&32*s.ana_y[o]==a+32&&Math.abs(32*s.ana_x[o]-e)<32){i.c=1300,e=32*s.ana_x[o];break}o++}if(1300===i.c)return i.x=e,!0}return i.c1<=0?e>=s.maps.wx-16-144&&e<=s.maps.wx+s.gg.di.width-32&&a>=s.maps.wy&&a<=s.maps.wy+s.gg.di.height-32&&s.co_j.x<=e+352&&s.co_j.x>=e+72&&Math.abs(s.co_j.y-a)<32&&(s.mSet2(e,a,87,h,0),s.gs.rsAddSound(14),i.c1=300):(i.c1++,i.c1>300+t.interval&&(i.c1=0)),i.pt=158,i.pth=1,!0}return!1}}},t.Mizutaro={properties:{walk_speed:3},initFactory:function(t,i){return function(i){i.c2=800,i.c4=t-800}},controllerFactory:function(t){return function(i,s){var h=i.x,e=i.y;if(800===i.c){if(s.ana_kazu>0){for(var a=0;!(a>11);){if(s.ana_c[a]>0&&32*s.ana_y[a]==e+32&&Math.abs(32*s.ana_x[a]-h)<32){i.c=1300,h=32*s.ana_x[a];break}a++}if(1300===i.c)return i.x=h,!0}if(i.c1>0)if(i.c1++,2===i.c1)if(1===i.c4)if(h+8>=s.co_j.x){var c=3.140000104904175;s.mSet2(h,e,731,Ki(9*Math.cos(c),!0,s),Ki(9*Math.sin(c),!0,s)),c=3.6633334159851074,s.mSet2(h,e,731,Ki(9*Math.cos(c),!0,s),Ki(9*Math.sin(c),!0,s)),c=4.186666965484619,s.mSet2(h,e,731,Ki(9*Math.cos(c),!0,s),Ki(9*Math.sin(c),!0,s)),s.gs.rsAddSound(11)}else{var o=0;s.mSet2(h,e,731,Ki(9*Math.cos(o),!0,s),Ki(9*Math.sin(o),!0,s)),o=5.756667137145996,s.mSet2(h,e,731,Ki(9*Math.cos(o),!0,s),Ki(9*Math.sin(o),!0,s)),o=5.233333587646484,s.mSet2(h,e,731,Ki(9*Math.cos(o),!0,s),Ki(9*Math.sin(o),!0,s)),s.gs.rsAddSound(11)}else if(2===i.c4)s.mSet(h,e,100),s.gs.rsAddSound(10),i.c1=12;else if(3===i.c4)h+8>=s.co_j.x?(s.mSet2(h-16,e,732,-10,0),Math.abs(e-s.co_j.y)<=288&&s.gs.rsAddSound(15)):(s.mSet2(h+16,e,732,10,0),Math.abs(e-s.co_j.y)<=288&&s.gs.rsAddSound(15)),i.c1=12;else if(4===i.c4)for(var _=0;_<=300;_+=90)s.mSet2(h,e,950,_,0),s.mSet2(h,e,960,300-_,0),s.gs.rsAddSound(18);else h+8>=s.co_j.x?(s.mSet(h,e,400),Math.abs(e-s.co_j.y)<=288&&s.gs.rsAddSound(15)):(s.mSet(h,e,405),Math.abs(e-s.co_j.y)<=288&&s.gs.rsAddSound(15));else i.c1>20&&(i.c=810,i.c1=0);else i.c1<0?i.c1++:s.co_j.x>=h-240&&s.co_j.x<=h+240&&(i.c1=1);return i.pt=160,h+8>=s.co_j.x?i.pth=0:i.pth=1,!0}if(810===i.c){if(s.ana_kazu>0){for(var r=0;!(r>11);){if(s.ana_c[r]>0&&32*s.ana_y[r]==e+32&&Math.abs(32*s.ana_x[r]-h)<32){i.c=1300,h=32*s.ana_x[r];break}r++}if(1300===i.c)return i.x=h,!0}if(i.c1<=0)(h+=t.walk_speed)>=i.c3+96&&(h=i.c3+96,i.c1=10),s.maps.getBGCode(h+31,e+32)<=9&&(h=32*Ji(h+31,5)-32,i.c1=10),i.pt=161+s.g_ac,i.pth=1;else if(4!==i.c4&&i.c1<=35||i.c1<=50){if(i.c1++,15===i.c1)if(1===i.c4)if(h+8>=s.co_j.x){var n=3.140000104904175;s.mSet2(h,e,731,Ki(9*Math.cos(n),!0,s),Ki(9*Math.sin(n),!0,s)),n=3.6633334159851074,s.mSet2(h,e,731,Ki(9*Math.cos(n),!0,s),Ki(9*Math.sin(n),!0,s)),n=4.186666965484619,s.mSet2(h,e,731,Ki(9*Math.cos(n),!0,s),Ki(9*Math.sin(n),!0,s)),s.gs.rsAddSound(11)}else{var m=0;s.mSet2(h,e,731,Ki(9*Math.cos(m),!0,s),Ki(9*Math.sin(m),!0,s)),m=5.756667137145996,s.mSet2(h,e,731,Ki(9*Math.cos(m),!0,s),Ki(9*Math.sin(m),!0,s)),m=5.233333587646484,s.mSet2(h,e,731,Ki(9*Math.cos(m),!0,s),Ki(9*Math.sin(m),!0,s)),s.gs.rsAddSound(11)}else if(2===i.c4)s.mSet(h,e,100),s.gs.rsAddSound(10);else if(3===i.c4)h+8>=s.co_j.x?(s.mSet2(h-16,e,732,-10,0),Math.abs(e-s.co_j.y)<=288&&s.gs.rsAddSound(15)):(s.mSet2(h+16,e,732,10,0),Math.abs(e-s.co_j.y)<=288&&s.gs.rsAddSound(15));else if(4===i.c4)for(var p=0;p<=300;p+=90)s.mSet2(h,e,950,p,0),s.mSet2(h,e,960,300-p,0),s.gs.rsAddSound(18);else h+8>=s.co_j.x?(s.mSet(h,e,400),s.gs.rsAddSound(15)):(s.mSet(h,e,405),s.gs.rsAddSound(15));i.pt=160,h+8>=s.co_j.x?i.pth=0:i.pth=1}else(h-=t.walk_speed)<=i.c3&&(h=i.c3,i.c=800,i.c1=-20),s.maps.getBGCode(h,e+32)<=9&&(h=32*Ji(h,5)+32,i.c=800,i.c1=-20),i.pt=161+s.g_ac,i.pth=0;return i.x=h,!0}return!1}}},t.AirmsStop={properties:{speed:4,interval:26},initFactory:function(t,i){return function(t){}},controllerFactory:function(t){return function(i,s){if(900===i.c){var h=i.x,e=i.y;return(h-=t.speed)<48?h<=4&&(i.c=0):(i.c1++,1===i.c1?s.mSet(h,e+19,600):i.c1>t.interval&&(i.c1=0),s.maps.getBGCode(h,e+31)>=15&&(h=32*Ji(h,5)+32,i.c=910)),i.pt=164,i.pth=0,i.x=h,!0}return 910===i.c&&(i.pt=164,i.pth=0,!0)}}},t.AirmsStay={properties:{interval:30},initFactory:function(t,i){return function(i){i.c2=920,i.c3=t-920}},controllerFactory:function(t){return function(i,s){if(920===i.c){var h=i.x,e=i.y;return i.c1<=0?h>=s.maps.wx&&h<=s.maps.wx+s.gg.di.width-32&&e<=s.maps.wy+s.gg.di.height-32&&s.co_j.x>=h-256&&s.co_j.x<=h+256&&s.co_j.y>=e+16&&(i.c1=1):1===i.c1?(1===i.c3?s.mSet2(h,e,800,0,0):s.mSet(h,e+19,606),i.c1=2):(i.c1++,i.c1>t.interval&&(i.c1=0)),i.pt=164,s.co_j.x<=h+8||14===s.j_tokugi?i.pth=0:i.pth=1,!0}return!1}}},t.AirmsLeftRight={properties:{speed:4},initFactory:function(t,i){return function(t){t.c3=t.x,t.c4=20}},controllerFactory:function(t){return function(i,s){if(930===i.c){var h=i.x,e=i.y;return i.c4<20?(i.c4++,i.pt=164,i.pth=0,i.c4<10&&(i.pth=1)):20===i.c4?(((h-=t.speed)==i.c3-4||h==i.c3-4-64||h==i.c3-4-128)&&h>=s.maps.wx&&h<=s.maps.wx+s.gg.di.width-32&&e<=s.maps.wy+s.gg.di.height-32&&s.co_j.y>=e+16&&s.mSet(h+2,e,600),h<=i.c3-160&&(h=i.c3-160,i.c4=30),i.pt=164,i.pth=0):i.c4<50?(i.c4++,i.pt=164,i.pth=1,i.c4<40&&(i.pth=0)):50===i.c4&&(((h+=t.speed)===i.c3+4-32||h===i.c3+4-96)&&h>=s.maps.wx&&h<=s.maps.wx+s.gg.di.width-32&&e<=s.maps.wy+s.gg.di.height-32&&s.co_j.y>=e+16&&s.mSet(h-2,e,605),h>=i.c3&&(h=i.c3,i.c4=0),i.pt=164,i.pth=1),i.x=h,!0}return!1}}},t.AirmsReturn={properties:{speed:4,interval:26},initFactory:function(t,i){return function(t){}},controllerFactory:function(t){return function(i,s){var h=i.x,e=i.y;return 950===i.c?((h-=t.speed)<48?h<=t.speed&&(i.c=0):(i.c1++,1===i.c1?s.mSet(h,e+19,600):i.c1>t.interval&&(i.c1=0),s.maps.getBGCode(h-16,e+31)>=15&&(h=32*Ji(h-16,5)+32+16,i.c=960,i.c1=t.interval-10)),i.pt=164,i.pth=0,i.x=h,!0):960===i.c&&(h+=t.speed,i.c1++,1===i.c1?s.mSet(h,e+19,605):i.c1>t.interval&&(i.c1=0),s.maps.getBGCode(h+31+16,e+31)>=15&&(h=32*Ji(h+31+16,5)-32-16,i.c=950,i.c1=t.interval-10),i.pt=164,i.pth=1,i.x=h,!0)}}},t.Taiking={properties:{speed:3},initFactory:function(t,i){return function(t){}},controllerFactory:function(t){return function(i,s){var h=i.x,e=i.y;return 1e3===i.c?((h-=t.speed)<=i.c3-256+16&&(i.c=1005),(s.maps.getBGCode(h-16,e)>=15||s.maps.getBGCode(h-16,e+31)>=15)&&(h=32*Ji(h-16,5)+32+16,i.c=1005),i.pt=166,i.pth=0,i.x=h,!0):1005===i.c&&((h+=t.speed)>=i.c3+16&&(i.c=1e3),(s.maps.getBGCode(h+31+16,e)>=15||s.maps.getBGCode(h+31+16,e+31)>=15)&&(h=32*Ji(h+31+16,5)-32-16,i.c=1e3),i.pt=166,i.pth=1,i.x=h,!0)}}},t.TaikingJump={properties:{jump_vy:-26,interval:10},initFactory:function(t,i){return function(t){}},controllerFactory:function(t){return function(i,s){var h=i.x,e=i.y;if(1050===i.c){if(i.pt=166,s.co_j.x<=h+8||14===s.j_tokugi?i.pth=0:i.pth=1,i.c1<=0){var a=s.maps.getBGCode(h+15,e+32);18!==a&&19!==a||(e=s.getSakamichiY(h+15,e+32)),s.co_j.x>=h-136&&s.co_j.x<=h+136&&(i.vy=t.jump_vy,i.c1=100)}else if(100===i.c1){i.vy+=2,i.vy>18&&(i.vy=18),i.vy<-22?e-=22:e+=i.vy,i.vy<0&&s.maps.getBGCode(h+15,e)>=18&&(e=32*Ji(e,5)+32,i.vy=0);var c=s.maps.getBGCode(h+15,e+31);if((c>=20||10===c||15===c)&&(e=32*Ji(e+31,5)-32,i.c1=200),18===c||19===c)e>=s.getSakamichiY(h+15,e+31)&&(e=s.getSakamichiY(h+15,e+31),i.c1=200);else if(Ji(e+31,5)>Ji(i.y+31,5)){var o=s.maps.getBGCode(h+15,i.y+31);18!==o&&19!==o||(e=32*Ji(i.y+31,5),e=s.getSakamichiY(h+15,e+31),i.c1=200)}}else i.c1>=200&&(i.c1++,i.c1>200+t.interval&&(i.c1=0));return e>=s.ochiru_y&&(i.c=0),i.x=h,i.y=e,!0}return!1}}},t.TaikingTerritory={properties:{speed_x:3,speed_y:2},initFactory:function(t,i){return function(t){}},controllerFactory:function(t){return function(i,s){var h=i.x,e=i.y;return 1060===i.c&&(i.pt=166,i.pth=0,i.c1<=0?(h<s.co_j.x&&(i.pth=1),s.co_j.c>=100&&s.co_j.c<200&&i.c3-160+16<=s.co_j.x&&i.c3+128-16>=s.co_j.x&&i.c4-128+16<=s.co_j.y&&i.c4+128-16>=s.co_j.y&&(i.c1=100,h>s.co_j.x?s.maps.getBGCode(h-1,e+15)>=18&&(i.c1=0):h<s.co_j.x&&s.maps.getBGCode(h+32,e+15)>=18&&(i.c1=0),e>s.co_j.y?s.maps.getBGCode(h+15,e-1)>=18&&(i.c1=0):e<s.co_j.y&&s.maps.getBGCode(h+15,e+32)>=18&&(i.c1=0))):100===i.c1?(h>s.co_j.x?s.maps.getBGCode(h-1,e+15)>=18&&(i.c1=200):h<s.co_j.x&&s.maps.getBGCode(h+32,e+15)>=18&&(i.c1=200),e>s.co_j.y?s.maps.getBGCode(h+15,e-1)>=18&&(i.c1=200):e<s.co_j.y&&s.maps.getBGCode(h+15,e+32)>=18&&(i.c1=200),200===i.c1?(h<i.c3&&(i.pth=1),h==i.c3&&h<s.co_j.x&&(i.pth=1)):(h<s.co_j.x&&(i.pth=1),Math.abs(h-s.co_j.x)<=t.speed_x?h=s.co_j.x:h<s.co_j.x?h+=t.speed_x:h>s.co_j.x&&(h-=t.speed_x),Math.abs(e-s.co_j.y)<=t.speed_y?e=s.co_j.y:e<s.co_j.y?e+=t.speed_y:e>s.co_j.y&&(e-=t.speed_y),(i.c3-160>s.co_j.x||i.c3+128<s.co_j.x||i.c4-128>s.co_j.y||i.c4+128<s.co_j.y)&&(i.c1=200),(s.co_j.c<100||s.co_j.c>=200)&&(i.c1=200))):200===i.c1&&(h<i.c3&&(i.pth=1),h==i.c3&&h<s.co_j.x&&(i.pth=1),Math.abs(h-i.c3)<=t.speed_x?h=i.c3:h<i.c3?h+=t.speed_x:h>i.c3&&(h-=t.speed_x),Math.abs(e-i.c4)<=t.speed_y?e=i.c4:e<i.c4?e+=t.speed_y:e>i.c4&&(e-=t.speed_y),h==i.c3&&e==i.c4&&(i.c1=0)),i.x=h,i.y=e,!0)}}},t.TaikingLeft={properties:{speed:5,radius:64},initFactory:function(t,i){return function(t){t.c3=t.x-64}},controllerFactory:function(t){return function(i,s){if(1070===i.c){i.c1-=t.speed,i.c1<0&&(i.c1+=360);var h=i.c3+Ki(Math.cos(3.14*i.c1/180)*t.radius,!0,s),e=i.c4+Ki(Math.sin(3.14*i.c1/180)*t.radius,!0,s);return i.pt=166,i.c1<180?i.pth=1:i.pth=0,i.x=h,i.y=e,!0}return!1}}},t.TaikingRight={properties:{speed:5,radius:64},initFactory:function(t,i){return function(t){t.c3=t.x-64}},controllerFactory:function(t){return function(i,s){if(1080===i.c){i.c1+=t.speed,i.c1>=360&&(i.c1-=360);var h=i.c3+Ki(Math.cos(3.14*i.c1/180)*t.radius,!0,s),e=i.c4+Ki(Math.sin(3.14*i.c1/180)*t.radius,!0,s);return i.pt=166,i.c1<180?i.pth=0:i.pth=1,i.x=h,i.y=e,!0}return!1}}},t.Kuragesso={properties:{interval:77},initFactory:function(t,i){return function(t){}},controllerFactory:function(t){return function(i,s){if(1100===i.c){var h=i.x,e=i.y;return i.c1>0?(i.c1++,i.c1>t.interval&&(i.c1=0)):Math.abs(s.co_j.x-h)<=144&&Math.abs(s.co_j.y-e)<=144&&(i.c1=1,s.mSet2(h,e,700,-3,-3),s.mSet2(h,e,700,3,-3),s.mSet2(h,e,700,-3,3),s.mSet2(h,e,700,3,3),s.mSet2(h,e,700,-4,0),s.mSet2(h,e,700,4,0),s.mSet2(h,e,700,0,-4),s.mSet2(h,e,700,0,4)),i.pt=167,h+8>=s.co_j.x?i.pth=0:i.pth=1,!0}return!1}}},t.KuragessoFall={properties:{init_vy:2},initFactory:function(t,i){return function(t){}},controllerFactory:function(t){return function(i,s){if(1150===i.c){var h=i.x,e=i.y;if(i.pt=167,s.co_j.x<=h+8||14===s.j_tokugi?i.pth=0:i.pth=1,i.c1<=0){var a=s.maps.getBGCode(h+15,e+32);18!==a&&19!==a||(e=s.getSakamichiY(h+15,e+32)),s.co_j.x>=h-128&&s.co_j.x<=h+128&&e+32<=s.co_j.y&&(i.vy=t.init_vy,i.c1=100)}else if(100===i.c1){i.vy++,i.vy>16&&(i.vy=16),i.vy<-22?e-=22:e+=i.vy,i.vy<0&&s.maps.getBGCode(h+15,e)>=18&&(e=32*Ji(e,5)+32,i.vy=0);var c=s.maps.getBGCode(h+15,e+31);if((c>=20||10===c||15===c)&&(e=32*Ji(e+31,5)-32,i.c1=200),18===c||19===c)e>=s.getSakamichiY(h+15,e+31)&&(e=s.getSakamichiY(h+15,e+31),i.c1=200);else if(Ji(e+31,5)>Ji(i.y+31,5)){var o=s.maps.getBGCode(h+15,i.y+31);18!==o&&19!==o||(e=32*Ji(i.y+31,5),e=s.getSakamichiY(h+15,e+31),i.c1=200)}}else i.c1>=200&&(i.c1++,i.c1>210&&(i.c1=0));return e>=s.ochiru_y&&(i.c=0),i.x=h,i.y=e,!0}return!1}}},t.KuragessoTerritory={properties:{speed_x:3,speed_y:2},initFactory:function(t,i){return function(t){}},controllerFactory:function(t){return function(i,s){if(1160===i.c){var h=i.x,e=i.y;return i.pt=167,i.pth=0,i.c1<=0?(h<s.co_j.x&&(i.pth=1),s.co_j.c>=100&&s.co_j.c<200&&i.c3-160+16<=s.co_j.x&&i.c3+128-16>=s.co_j.x&&i.c4-128+16<=s.co_j.y&&i.c4+128-16>=s.co_j.y&&(i.c1=100,h>s.co_j.x?s.maps.getBGCode(h-1,e+15)>=18&&(i.c1=0):h<s.co_j.x&&s.maps.getBGCode(h+32,e+15)>=18&&(i.c1=0),e>s.co_j.y?s.maps.getBGCode(h+15,e-1)>=18&&(i.c1=0):e<s.co_j.y&&s.maps.getBGCode(h+15,e+32)>=18&&(i.c1=0))):100===i.c1?(h>s.co_j.x?s.maps.getBGCode(h-1,e+15)>=18&&(i.c1=200):h<s.co_j.x&&s.maps.getBGCode(h+32,e+15)>=18&&(i.c1=200),e>s.co_j.y?s.maps.getBGCode(h+15,e-1)>=18&&(i.c1=200):e<s.co_j.y&&s.maps.getBGCode(h+15,e+32)>=18&&(i.c1=200),200==i.c1?(h<i.c3&&(i.pth=1),h==i.c3&&h<s.co_j.x&&(i.pth=1)):(h<s.co_j.x&&(i.pth=1),Math.abs(h-s.co_j.x)<=t.speed_x?h=s.co_j.x:h<s.co_j.x?h+=t.speed_x:h>s.co_j.x&&(h-=t.speed_x),Math.abs(e-s.co_j.y)<=t.speed_y?e=s.co_j.y:e<s.co_j.y?e+=t.speed_y:e>s.co_j.y&&(e-=t.speed_y),(i.c3-160>s.co_j.x||i.c3+128<s.co_j.x||i.c4-128>s.co_j.y||i.c4+128<s.co_j.y)&&(i.c1=200),(s.co_j.c<100||s.co_j.c>=200)&&(i.c1=200))):200===i.c1&&(h<i.c3&&(i.pth=1),h==i.c3&&h<s.co_j.x&&(i.pth=1),Math.abs(h-i.c3)<=t.speed_x?h=i.c3:h<i.c3?h+=t.speed_x:h>i.c3&&(h-=t.speed_x),Math.abs(e-i.c4)<=t.speed_y?e=i.c4:e<i.c4?e+=t.speed_y:e>i.c4&&(e-=t.speed_y),h==i.c3&&e==i.c4&&(i.c1=0)),i.x=h,i.y=e,!0}return!1}}},t.KuragessoLeft={properties:{speed:5,radius:64},initFactory:function(t,i){return function(t){t.c3=t.x-64}},controllerFactory:function(t){return function(i,s){if(1170===i.c){i.c1-=t.speed,i.c1<0&&(i.c1+=360);var h=i.c3+Ki(Math.cos(3.14*i.c1/180)*t.radius,!0,s),e=i.c4+Ki(Math.sin(3.14*i.c1/180)*t.radius,!0,s);return i.pt=167,i.c1<180?i.pth=1:i.pth=0,i.x=h,i.y=e,!0}return!1}}},t.KuragessoRight={properties:{speed:5,radius:64},initFactory:function(t,i){return function(t){t.c3=t.x-64}},controllerFactory:function(t){return function(i,s){if(1180===i.c){i.c1+=t.speed,i.c1>=360&&(i.c1-=360);var h=i.c3+Ki(Math.cos(3.14*i.c1/180)*t.radius,!0,s),e=i.c4+Ki(Math.sin(3.14*i.c1/180)*t.radius,!0,s);return i.pt=167,i.c1<180?i.pth=0:i.pth=1,i.x=h,i.y=e,!0}return!1}}},t.TurtleChaser={properties:{walk_speed:4},initFactory:function(t,i){return function(t){t.c=1220}},controllerFactory:function(t){return function(i,s,h){var e=i.x,a=i.y;if(1200===i.c){if(e-=t.walk_speed,i.muki=0,i.direction=0,Ji(e+15,5)<Ji(e+15+t.walk_speed,5)){var c=s.maps.getBGCode(e+4+15,a+31);19===c?a=32*Ji(a+31,5)-32:18===c&&(a=32*Ji(a+31,5)),18===(c=s.maps.getBGCode(e+15,a+32))&&(a=s.getSakamichiY(e+15,a+32))}var o=s.maps.getBGCode(e,a+8);if((o>=20||18===o)&&(e=32*Ji(e,5)+32,Math.abs(a-s.co_j.y)>=32||e<=s.co_j.x)){var _=s.maps.getBGCode(e+32,a+15);if(_<=10||15===_){i.c=1210,i.muki=1,i.direction=1,i.pt=140+s.g_ac;for(var r=0;!(r>s.t_kazu);){if(s.co_t[r].c>1200&&s.co_t[r].c<=1210&&s.co_t[r].x===e+32&&Math.abs(s.co_t[r].y-a)<32){i.c=1200;break}r++}return i.x=e,i.y=a,!0}}if(Math.abs(a-s.co_j.y)<32&&e<s.co_j.x)i.c=1210,i.pt=140+s.g_ac;else{for(var n=!1,m=0;m<=s.t_kazu;m++)if(!((s.co_t[m].c<1200||s.co_t[m].c>=1300)&&60!=s.co_t[m].c||m===h||Math.abs(s.co_t[m].x-e)>=32||Math.abs(s.co_t[m].y-a)>=32)){if(1210===s.co_t[m].c){var p=Math.abs(Ji(a+15,5)-Ji(s.co_j.y+15,5));p<=1||p>=5?e>s.co_j.x?i.c=1200:i.c=1210:e<s.co_j.x?i.c=1200:i.c=1210;var g=Ji(i.x+15,5);if((p=Ji(i.y+15,5))<Ji(s.co_j.y+15,5))for(var u=1;!(u>31||g+u>=s.mapWidth||s.maps.map_bg[g+u][p]>=19);){if(s.maps.map_bg[g+u][p+1]<=10||15===s.maps.map_bg[g+u][p+1]){i.c=1210;break}u++}else if(p>Ji(s.co_j.y+15,5))for(var y=1;!(y>31||g+y>=s.mapWidth||s.maps.map_bg[g+y][p]>=19);){if(10===s.maps.map_bg[g+y][p]){i.c=1210;break}y++}if(g=Ji(i.x+15,5),(p=Ji(i.y+15,5))<Ji(s.co_j.y+15,5))for(var d=1;!(d>31||g-d<=0||s.maps.map_bg[g-d][p]>=20||18===s.maps.map_bg[g-d][p]);){if(s.maps.map_bg[g-d][p+1]<=10||15===s.maps.map_bg[g-d][p+1]){i.c=1200;break}d++}else if(p>Ji(s.co_j.y+15,5))for(var f=1;!(f>31||g-f<=0||s.maps.map_bg[g-f][p]>=20||18===s.maps.map_bg[g-f][p]);){if(10===s.maps.map_bg[g-f][p]){i.c=1200;break}f++}if(m<h&&32*Ji(i.x,5)!==i.x&&(i.c=1210),1200===i.c&&32*Ji(i.x,5)!==i.x)if(p>Ji(s.co_j.y+15,5)&&10===s.maps.getBGCode(i.x+15,i.y+15)){i.c=1210;for(var j=0;j<=s.t_kazu;j++)if(1200===s.co_t[j].c&&Math.abs(s.co_t[j].y-i.y)<=16&&i.x<=s.co_t[j].x)for(var l=0;!(l>s.t_kazu);){if(s.co_t[l].c>=1200&&s.co_t[l].c<1300&&Math.abs(s.co_t[l].y-s.co_t[j].y)<=16&&s.co_t[l].x>=s.co_t[j].x-32&&s.co_t[l].x<s.co_t[j].x&&j!=l){s.co_t[j].c=1210;break}l++}}else if(p<Ji(s.co_j.y+15,5)&&10===s.maps.getBGCode(i.x+15,i.y+32+15)){i.c=1210;t:for(var v=0;v<=s.t_kazu;v++)if(!(1200!==s.co_t[v].c||Math.abs(s.co_t[v].y-i.y)>16||i.x>s.co_t[v].x))for(var x=0;;){if(x>s.t_kazu)continue t;if(s.co_t[x].c>=1200&&s.co_t[x].c<1300&&Math.abs(s.co_t[x].y-s.co_t[v].y)<=16&&s.co_t[x].x>=s.co_t[v].x-32&&s.co_t[x].x<s.co_t[v].x&&v!==x){s.co_t[v].c=1210;continue t}x++}}32*Ji(i.x,5)==i.x&&(p>Ji(s.co_j.y+15,5)&&10===s.maps.getBGCode(i.x+15,i.y+15)?i.c=1230:p<Ji(s.co_j.y+15,5)&&(s.maps.getBGCode(i.x+15,i.y+32)<=10||s.maps.getBGCode(i.x+15,i.y+32)<=15)&&(i.c=1220)),e=i.x,n=!0;break}if(s.co_t[m].x<i.x){e=i.x,n=!0;break}if(!(s.co_t[m].x!==i.x||m>=h)){e=i.x,n=!0;break}}if(n)i.pt=140+s.g_ac,i.pth=i.muki;else{if(32*Ji(e,5)===e){var k=Ji(e+15,5),w=Ji(a+15,5);if(s.maps.map_bg[k][w+1]<=9&&10!==s.maps.map_bg[k][w]||(s.maps.map_bg[k][w+1]<=10||15===s.maps.map_bg[k][w+1])&&w<Ji(s.co_j.y+15,5)){for(var b=!1,S=0;S<=11;S++)if(!(s.ana_c[S]<=0||32*s.ana_x[S]!==e||a+32!==32*s.ana_y[S])){for(var M=0;!(M>s.t_kazu);){if((s.co_t[M].c>=1200&&s.co_t[M].c<1300||60===s.co_t[M].c)&&M!==h&&e===s.co_t[M].x&&a<=s.co_t[M].y&&a+32>=s.co_t[M].y){b=!0;break}M++}if(b)break}for(var C=0;!(C>s.t_kazu);){if(s.co_t[C].c>=1200&&s.co_t[C].c<=1210&&C!==h&&32*Ji(s.co_t[C].x,5)===s.co_t[C].x&&e===s.co_t[C].x&&a<=s.co_t[C].y&&a+32>=s.co_t[C].y&&s.maps.getBGCode(s.co_t[C].x+15,s.co_t[C].y+32)>=20){b=!0;break}C++}b||(i.c=1220,i.c1=0)}else 10===s.maps.map_bg[k][w]&&w>Ji(s.co_j.y+15,5)?i.c=1230:(s.maps.map_bg[k-1][w]>=20||s.maps.map_bg[k-1][w]>=18)&&(Math.abs(a-s.co_j.y)>=32||e<=s.co_j.x)&&(i.c=1210,s.maps.getBGCode(e+32,a+15)>=19&&(i.c=1200))}var I=s.maps.getBGCode(e+15,a+31);18!==I&&19!==I||(a=s.getSakamichiY(e+15,a+31)),i.pt=140+s.g_ac,i.pth=i.muki}}return i.x=e,i.y=a,!0}if(1210===i.c){if(e+=t.walk_speed,i.muki=1,i.direction=1,Ji(e+15,5)>Ji(e+15-t.walk_speed,5)){var B=s.maps.getBGCode(e-4+15,a+31);18===B?a=32*Ji(a+31,5)-32:19===B&&(a=32*Ji(a+31,5)),19===(B=s.maps.getBGCode(e+15,a+32))&&(a=s.getSakamichiY(e+15,a+32))}if(s.maps.getBGCode(e+31,a+8)>=19&&(e=32*Ji(e+31,5)-32,Math.abs(a-s.co_j.y)>=32||e>=s.co_j.x)){var G=s.maps.getBGCode(e-1,a+15);if(G<=10||15===G){i.c=1200,i.pt=140+s.g_ac,i.pth=i.muki;for(var z=0;!(z>s.t_kazu);){if(s.co_t[z].c>1200&&s.co_t[z].c<=1210&&s.co_t[z].x===e-32&&Math.abs(s.co_t[z].y-a)<32){i.c=1210;break}z++}return i.x=e,i.y=a,!0}}if(Math.abs(a-s.co_j.y)<32&&e>s.co_j.x)i.c=1200,i.pt=140+s.g_ac,i.pth=i.muki;else{for(var A=!1,P=0;P<=s.t_kazu;P++)if(!((s.co_t[P].c<1200||s.co_t[P].c>=1300)&&60!==s.co_t[P].c||P===h||Math.abs(s.co_t[P].x-e)>=32||Math.abs(s.co_t[P].y-a)>=32)){if(1200===s.co_t[P].c){var N=Math.abs(Ji(a+15,5)-Ji(s.co_j.y+15,5));N<=1||N>=5?e>s.co_j.x?i.c=1200:i.c=1210:e<s.co_j.x?i.c=1200:i.c=1210;var O=Ji(i.x+15,5);if((N=Ji(i.y+15,5))<Ji(s.co_j.y+15,5))for(var Y=1;!(Y>31||O+Y>=s.mapWidth||s.maps.map_bg[O+Y][N]>=19);){if(s.maps.map_bg[O+Y][N+1]<=10||15===s.maps.map_bg[O+Y][N+1]){i.c=1210;break}Y++}else if(N>Ji(s.co_j.y+15,5))for(var T=1;!(T>31||O+T>=s.mapWidth||s.maps.map_bg[O+T][N]>=19);){if(10===s.maps.map_bg[O+T][N]){i.c=1210;break}T++}if(O=Ji(i.x+15,5),(N=Ji(i.y+15,5))<Ji(s.co_j.y+15,5))for(var E=1;!(E>31||O-E<=0||s.maps.map_bg[O-E][N]>=20||18===s.maps.map_bg[O-E][N]);){if(s.maps.map_bg[O-E][N+1]<=10||15===s.maps.map_bg[O-E][N+1]){i.c=1200;break}E++}else if(N>Ji(s.co_j.y+15,5))for(var R=1;!(R>31||O-R<=0||s.maps.map_bg[O-R][N]>=20||18===s.maps.map_bg[O-R][N]);){if(10===s.maps.map_bg[O-R][N]){i.c=1200;break}R++}P<h&&32*Ji(i.x,5)!==i.x&&(i.c=1200),e=i.x,A=!0;break}if(s.co_t[P].x>i.x){e=i.x,A=!0;break}if(!(s.co_t[P].x!=i.x||P>=h)){e=i.x,A=!0;break}}if(A)i.pt=140+s.g_ac,i.pth=i.muki;else{if(32*Ji(e,5)===e){var V=Ji(e+15,5),W=Ji(a+15,5);if(s.maps.map_bg[V][W+1]<=9&&10!==s.maps.map_bg[V][W]||(s.maps.map_bg[V][W+1]<=10||15===s.maps.map_bg[V][W+1])&&W<Ji(s.co_j.y+15,5)){for(var F=!1,D=0;D<=11;D++)if(!(s.ana_c[D]<=0||32*s.ana_x[D]!==e||a+32!==32*s.ana_y[D])){for(var L=0;!(L>s.t_kazu);){if((s.co_t[L].c>=1200&&s.co_t[L].c<1300||60===s.co_t[L].c)&&L!==h&&e===s.co_t[L].x&&a<=s.co_t[L].y&&a+32>=s.co_t[L].y){F=!0;break}L++}if(F)break}for(var H=0;!(H>s.t_kazu);){if(s.co_t[H].c>=1200&&s.co_t[H].c<=1210&&H!==h&&32*Ji(s.co_t[H].x,5)===s.co_t[H].x&&e===s.co_t[H].x&&a<=s.co_t[H].y&&a+32>=s.co_t[H].y&&s.maps.getBGCode(s.co_t[H].x+15,s.co_t[H].y+32)>=20){F=!0;break}H++}F||(i.c=1220,i.c1=0)}else if(10===s.maps.map_bg[V][W]&&W>Ji(s.co_j.y+15,5))i.c=1230;else if(s.maps.map_bg[V+1][W]>=19&&(Math.abs(a-s.co_j.y)>=32||e>=s.co_j.x)){i.c=1200;var U=s.maps.getBGCode(e-1,a+15);(U>=20||18===U)&&(i.c=1210)}}var q=s.maps.getBGCode(e+15,a+31);18!==q&&19!==q||(a=s.getSakamichiY(e+15,a+31)),i.pt=140+s.g_ac,i.pth=i.muki}}i.x=e,i.y=a}else{if(1220===i.c){if(10===s.maps.getBGCode(e+15,a+31)&&(e<s.co_j.x?i.muki=1:e>s.co_j.x&&(i.muki=0),i.direction=3),a-20>=s.co_j.y&&10===s.maps.getBGCode(e+15,a+31)&&(s.maps.getBGCode(e+15,a+31-32)<=10||15===s.maps.getBGCode(e+15,a+31-32))){if(i.c=1230,i.pt=140+s.g_ac,i.pth=i.muki,32*Ji(a,5)!==a)for(var K=0;!(K>s.t_kazu);){if(s.co_t[K].c>=1220&&K!==h&&Math.abs(s.co_t[K].x-e)<32&&Math.abs(a-4-s.co_t[K].y)<32){i.c=1220;break}K++}if(1230===i.c)return!0}a+=4;var J=!1;t:for(var Z=0;Z<=s.t_kazu;Z++){var X=s.co_t[Z];if(!((X.c<1200||X.c>=1300)&&60!==X.c||Z===h||Math.abs(X.x-e)>=32||Math.abs(X.y-a)>=32)){if(X.y>i.y){J=!0,a=X.y-32;var $=!1;if(1200===X.c&&s.maps.getBGCode(X.x-1,X.y+15)>=20&&($=!0),1210===X.c&&s.maps.getBGCode(X.x+32,X.y+15)>=20&&($=!0),1200===X.c&&s.maps.getBGCode(X.x+32,X.y+15)>=20&&s.maps.getBGCode(X.x+15,X.y+32)>=20&&($=!0),1210===X.c&&s.maps.getBGCode(X.x-1,X.y+15)>=20&&s.maps.getBGCode(X.x+15,X.y+32)>=20&&($=!0),!$)break;var Q=Math.abs(Ji(a+15,5)-Ji(s.co_j.y+15,5));Q<=1||Q>=5?e>s.co_j.x?i.c=1200:i.c=1210:e<s.co_j.x?i.c=1200:i.c=1210;var tt=Ji(i.x+15,5);if((Q=Ji(i.y+15,5))<Ji(s.co_j.y+15,5))for(var it=1;!(it>31||tt+it>=s.mapWidth||s.maps.map_bg[tt+it][Q]>=19);){if(s.maps.map_bg[tt+it][Q+1]<=10||15===s.maps.map_bg[tt+it][Q+1]){i.c=1210;break}it++}else if(Q>Ji(s.co_j.y+15,5))for(var st=1;!(st>31||tt+st>=s.mapWidth||s.maps.map_bg[tt+st][Q]>=19);){if(10===s.maps.map_bg[tt+st][Q]){i.c=1210;break}st++}if(tt=Ji(i.x+15,5),(Q=Ji(i.y+15,5))<Ji(s.co_j.y+15,5))for(var ht=1;;){if(ht>31||tt-ht<=0||s.maps.map_bg[tt-ht][Q]>=20||18===s.maps.map_bg[tt-ht][Q])break t;if(s.maps.map_bg[tt-ht][Q+1]<=10||15==s.maps.map_bg[tt-ht][Q+1]){i.c=1200;break t}ht++}if(Q<=Ji(s.co_j.y+15,5))break;for(var et=1;;){if(et>31||tt-et<=0||s.maps.map_bg[tt-et][Q]>=20||18===s.maps.map_bg[tt-et][Q])break t;if(10===s.maps.map_bg[tt-et][Q]){i.c=1200;break t}et++}}if(!(s.co_t[Z].y!=i.y||Z>=h)){a=i.y,J=!0;break}}}if(J)return i.pt=140+s.g_ac,i.pth=i.muki,i.x=e,i.y=a,!0;s.maps.getBGCode(e,a+31)>=20&&(a=32*Ji(a+31,5)-32);var at=s.maps.getBGCode(e+15,a+31);if((18===at||19===at)&&a>=s.getSakamichiY(e+15,a+31)){a=s.getSakamichiY(e+15,a+31);var ct=Math.abs(Ji(a+15,5)-Ji(s.co_j.y+15,5));return ct<=1||ct>=5?e>s.co_j.x?(i.muki=0,i.c=1200):(i.muki=1,i.c=1210):e<s.co_j.x?(i.muki=0,i.c=1200):(i.muki=1,i.c=1210),i.pt=140+s.g_ac,i.pth=i.muki,i.x=e,i.y=a,!0}if(32*Ji(a,5)===a){if(10===s.maps.getBGCode(e+15,a+15)&&a>s.co_j.y){i.c=1230,i.pt=140+s.g_ac,i.pth=i.muki;for(var ot=0;!(ot>s.t_kazu);){if(1220===s.co_t[ot].c&&ot!==h&&Math.abs(s.co_t[ot].x-e)<32&&Math.abs(a-4-s.co_t[ot].y)<32){a=i.y,i.c=1220;break}ot++}return i.x=e,i.y=a,!0}var _t=s.maps.getBGCode(e,a+32);if(_t>=20){a=32*Ji(a+32,5)-32;var rt=Math.abs(Ji(a+15,5)-Ji(s.co_j.y+15,5));rt<=1||rt>=5?e>s.co_j.x?(i.muki=0,i.c=1200):(i.muki=1,i.c=1210):e<s.co_j.x?(i.muki=0,i.c=1200):(i.muki=1,i.c=1210);var nt=Ji(i.x+15,5);if((rt=Ji(i.y+15,5))<Ji(s.co_j.y+15,5))for(var mt=1;!(mt>31||nt+mt>=s.mapWidth||s.maps.map_bg[nt+mt][rt]>=19);){if(s.maps.map_bg[nt+mt][rt+1]<=10||15===s.maps.map_bg[nt+mt][rt+1]){i.c=1210,i.muki=1;break}mt++}else if(rt>Ji(s.co_j.y+15,5))for(var pt=1;!(pt>31||nt+pt>=s.mapWidth||s.maps.map_bg[nt+pt][rt]>=19);){if(10===s.maps.map_bg[nt+pt][rt]){i.c=1210,i.muki=1;break}pt++}if(nt=Ji(i.x+15,5),(rt=Ji(i.y+15,5))<Ji(s.co_j.y+15,5))for(var gt=1;!(gt>31||nt-gt<=0||s.maps.map_bg[nt-gt][rt]>=20||18===s.maps.map_bg[nt-gt][rt]);){if(s.maps.map_bg[nt-gt][rt+1]<=10||15===s.maps.map_bg[nt-gt][rt+1]){i.c=1200,i.muki=0;break}gt++}else if(rt>Ji(s.co_j.y+15,5))for(var ut=1;!(ut>31||nt-ut<=0||s.maps.map_bg[nt-ut][rt]>=20||18===s.maps.map_bg[nt-ut][rt]);){if(10===s.maps.map_bg[nt-ut][rt]){i.c=1200,i.muki=0;break}ut++}}else if((15===_t||10===_t||10===s.maps.getBGCode(e+15,a+15))&&Ji(a+15,5)>=Ji(s.co_j.y+15,5)){a=32*Ji(a+32,5)-32;var yt=Math.abs(Ji(a+15,5)-Ji(s.co_j.y+15,5));yt<=1||yt>=5?e>s.co_j.x?(i.muki=0,i.c=1200):(i.muki=1,i.c=1210):e<s.co_j.x?(i.muki=0,i.c=1200):(i.muki=1,i.c=1210);var dt=Ji(i.x+15,5);if((yt=Ji(i.y+15,5))<Ji(s.co_j.y+15,5))for(var ft=1;!(ft>31||dt+ft>=s.mapWidth||s.maps.map_bg[dt+ft][yt]>=19);){if(s.maps.map_bg[dt+ft][yt+1]<=10||15===s.maps.map_bg[dt+ft][yt+1]){i.c=1210,i.muki=1;break}ft++}else if(yt>Ji(s.co_j.y+15,5))for(var jt=1;!(jt>31||dt+jt>=s.mapWidth||s.maps.map_bg[dt+jt][yt]>=19);){if(10===s.maps.map_bg[dt+jt][yt]){i.c=1210,i.muki=1;break}jt++}if(dt=Ji(i.x+15,5),(yt=Ji(i.y+15,5))<Ji(s.co_j.y+15,5))for(var lt=1;!(lt>31||dt-lt<=0||s.maps.map_bg[dt-lt][yt]>=20||18===s.maps.map_bg[dt-lt][yt]);){if(s.maps.map_bg[dt-lt][yt+1]<=10||15===s.maps.map_bg[dt-lt][yt+1]){i.c=1200,i.muki=0;break}lt++}else if(yt>Ji(s.co_j.y+15,5))for(var vt=1;!(vt>31||dt-vt<=0||s.maps.map_bg[dt-vt][yt]>=20||18===s.maps.map_bg[dt-vt][yt]);){if(10===s.maps.map_bg[dt-vt][yt]){i.c=1200,i.muki=0;break}vt++}}else if(_t<=9){for(var xt=!1,kt=0;kt<=11;kt++)if(!(s.ana_c[kt]<=0||32*s.ana_x[kt]!==e||a+32!==32*s.ana_y[kt])){for(var wt=0;!(wt>s.t_kazu);){if((s.co_t[wt].c>=1200&&s.co_t[wt].c<1300||60==s.co_t[wt].c)&&wt!==h&&e===s.co_t[wt].x&&a<=s.co_t[wt].y&&a+32>=s.co_t[wt].y){xt=!0;break}wt++}if(xt)break}if(xt){var bt=Math.abs(Ji(a+15,5)-Ji(s.co_j.y+15,5));bt<=1||bt>=5?e>s.co_j.x?i.c=1200:i.c=1210:e<s.co_j.x?i.c=1200:i.c=1210}}if(1210===i.c&&(s.maps.getBGCode(i.x+32,i.y+15)>=20||18===s.maps.getBGCode(i.x+32,i.y+15))?(i.c=1200,i.muki=0,Math.abs(a-s.co_j.y)<32&&e<s.co_j.x&&(i.c=1210,i.muki=1)):1200===i.c&&s.maps.getBGCode(i.x-1,i.y+15)>=19&&(i.c=1210,i.muki=1,Math.abs(a-s.co_j.y)<32&&e>s.co_j.x&&(i.c=1200,i.muki=0)),32*Ji(a,5)===a)for(var St=0;St<=11;St++)s.ana_c[St]>0&&32*s.ana_x[St]===e&&32*s.ana_y[St]==a&&(i.c=1250,i.c1=0)}return(1200===i.c||1210==i.c)&&Math.abs(e-s.co_j.x)<=32&&Math.abs(a-s.co_j.y)<=32&&!s.co_j.jimen_f&&!s.j_hashigo_f&&(i.c=1220),Math.abs(s.co_j.x-i.x)<=24&&s.co_j.y+32===i.y&&130!==s.co_j.c&&(32*Ji(s.co_j.y,5)!==s.co_j.y||15!==s.maps.getBGCode(s.co_j.x+15,s.co_j.y+32))&&!s.j_hashigo_f&&(s.co_j.y=a-32,s.maps.getBGCode(s.co_j.x+15,s.co_j.y+31)>=20&&(s.co_j.y=32*Ji(s.co_j.y+31,5)-32)),a>=s.maps.wy_max+s.gg.di.height&&(i.c=60,i.c1=0),i.pt=140+s.g_ac,i.pth=i.muki,i.x=e,i.y=a,!0}if(1230===i.c){if(i.direction=2,e<s.co_j.x?i.muki=1:e>s.co_j.x&&(i.muki=0),a+20<=s.co_j.y)i.c=1220,i.pt=140+s.g_ac,i.pth=i.muki;else{a-=4;for(var Mt=!1,Ct=0;Ct<=s.t_kazu;Ct++)if(!((s.co_t[Ct].c<1200||s.co_t[Ct].c>=1300)&&60!==s.co_t[Ct].c||Ct===h||Math.abs(s.co_t[Ct].x-e)>=32||Math.abs(s.co_t[Ct].y-a)>=32)){if(1220===s.co_t[Ct].c){i.c=1220,a=i.y,Mt=!0;break}if(s.co_t[Ct].y<i.y){a=i.y,Mt=!0;break}if(!(s.co_t[Ct].y!==i.y||Ct>=h)){a=i.y,Mt=!0;break}}if(Mt)i.pt=140+s.g_ac,i.pth=i.muki;else{if(s.maps.getBGCode(e,a)>=18&&(a=32*Ji(a,5)+32),32*Ji(a,5)===a)if(10!==s.maps.getBGCode(e+15,a+15)||s.maps.getBGCode(e+15,a-1)>=20){var It=Math.abs(Ji(a+15,5)-Ji(s.co_j.y+15,5));It<=1||It>=5?e>s.co_j.x?i.c=1200:i.c=1210:e<s.co_j.x?i.c=1200:i.c=1210;var Bt=Ji(i.x+15,5);if((It=Ji(i.y+15,5))<Ji(s.co_j.y+15,5))for(var Gt=1;!(Gt>31||Bt+Gt>=s.mapWidth||s.maps.map_bg[Bt+Gt][It]>=19);){if(s.maps.map_bg[Bt+Gt][It+1]<=10||15===s.maps.map_bg[Bt+Gt][It+1]){i.c=1210;break}Gt++}else if(It>Ji(s.co_j.y+15,5))for(var zt=1;!(zt>31||Bt+zt>=s.mapWidth||s.maps.map_bg[Bt+zt][It]>=19);){if(10===s.maps.map_bg[Bt+zt][It]){i.c=1210;break}zt++}if(Bt=Ji(i.x+15,5),(It=Ji(i.y+15,5))<Ji(s.co_j.y+15,5))for(var At=1;!(At>31||Bt-At<=0||s.maps.map_bg[Bt-At][It]>=20||18===s.maps.map_bg[Bt-At][It]);){if(s.maps.map_bg[Bt-At][It+1]<=10||15===s.maps.map_bg[Bt-At][It+1]){i.c=1200;break}At++}else if(It>Ji(s.co_j.y+15,5))for(var Pt=1;!(Pt>31||Bt-Pt<=0||s.maps.map_bg[Bt-Pt][It]>=20||18===s.maps.map_bg[Bt-Pt][It]);){if(10===s.maps.map_bg[Bt-Pt][It]){i.c=1200;break}Pt++}}else Math.abs(a-s.co_j.y)<32&&(e>s.co_j.x?(i.muki=0,i.c=1200):(i.muki=1,i.c=1210));(1200===i.c||1210===i.c)&&Math.abs(e-s.co_j.x)<=32&&Math.abs(a-s.co_j.y)<=32&&!s.co_j.jimen_f&&!s.j_hashigo_f&&(i.c=1230),i.pt=140+s.g_ac,i.pth=i.muki}}return i.x=e,i.y=a,!0}if(1250===i.c)return i.c1<=75?(i.c1++,i.pt=140,i.pth=i.muki):(i.c=1260,i.pt=140+s.g_ac,i.pth=i.muki),!0;if(1260===i.c){if(32*Ji(a-=4,5)===a){0===i.muki?i.c=1200:i.c=1210;var Nt=Math.abs(Ji(a+15,5)-Ji(s.co_j.y+15,5));Nt<=1||Nt>=5?e>s.co_j.x?(i.muki=0,i.c=1200):(i.muki=1,i.c=1210):e<s.co_j.x?(i.muki=0,i.c=1200):(i.muki=1,i.c=1210),s.maps.getBGCode(e+15,a+15)>=20&&(i.c=60,i.c1=0,s.gs.rsAddSound(19))}return i.pt=140+s.g_ac,i.pth=i.muki,i.x=e,i.y=a,!0}}return!1}}},t.PikachieChaser={properties:{speed:4},initFactory:function(t,i){return function(t,i){t.c=1430,t.c2=i.tpika_p,i.tpika_p++,i.tpika_p>2&&(i.tpika_p=2)}},controllerFactory:function(t){return function(i,s,h){var e=i.x,a=i.y;return 1400===i.c?(e-=t.speed,i.muki=0,s.maps.getBGCode(e,a+15)>=20&&(e=32*Ji(e,5)+32),e%32==0&&(0===i.c2?e-32>=s.co_j.x&&s.maps.getBGCode(e-1,a+15)<20?i.c=1400:a-32>=s.co_j.y&&s.maps.getBGCode(e+15,a-1)<20?i.c=1420:a+32<=s.co_j.y&&s.maps.getBGCode(e+15,a+32)<20?i.c=1430:s.maps.getBGCode(e-1,a+15)<20?i.c=1400:s.maps.getBGCode(e+15,a-1)<20?i.c=1420:i.c=1430:1===i.c2?a-32>=s.co_j.y&&s.maps.getBGCode(e+15,a-1)<20?i.c=1420:a+32<=s.co_j.y&&s.maps.getBGCode(e+15,a+32)<20?i.c=1430:s.maps.getBGCode(e-1,a+15)<20?i.c=1400:i.c=1410:2===i.c2&&(s.maps.getBGCode(e+15,a-1)<20&&0===s.ranInt(2)?i.c=1420:s.maps.getBGCode(e+15,a+32)<20&&0===s.ranInt(2)?i.c=1430:s.maps.getBGCode(e-1,a+15)<20?i.c=1400:i.c=1410)),i.pt=143+s.g_ac,i.pth=i.muki,1===i.c2?i.pt=152+s.g_ac:2===i.c2&&(i.pt=155+s.g_ac),i.direction=0,i.x=e,i.y=a,!0):1410===i.c?(e+=t.speed,i.muki=1,s.maps.getBGCode(e+31,a+15)>=20&&(e=32*Ji(e+31,5)-32),e%32==0&&(0===i.c2?e+32<=s.co_j.x&&s.maps.getBGCode(e+32,a+15)<20?i.c=1410:a-32>=s.co_j.y&&s.maps.getBGCode(e+15,a-1)<20?i.c=1420:a+32<=s.co_j.y&&s.maps.getBGCode(e+15,a+32)<20?i.c=1430:s.maps.getBGCode(e+32,a+15)<20?i.c=1410:s.maps.getBGCode(e+15,a-1)<20?i.c=1420:i.c=1430:1===i.c2?a-32>=s.co_j.y&&s.maps.getBGCode(e+15,a-1)<20?i.c=1420:a+32<=s.co_j.y&&s.maps.getBGCode(e+15,a+32)<20?i.c=1430:s.maps.getBGCode(e+32,a+15)<20?i.c=1410:i.c=1400:2===i.c2&&(s.maps.getBGCode(e+15,a-1)<20&&0===s.ranInt(2)?i.c=1420:s.maps.getBGCode(e+15,a+32)<20&&0===s.ranInt(2)?i.c=1430:s.maps.getBGCode(e+32,a+15)<20?i.c=1410:i.c=1400)),i.pt=143+s.g_ac,i.pth=i.muki,1===i.c2?i.pt=152+s.g_ac:2===i.c2&&(i.pt=155+s.g_ac),i.direction=1,i.x=e,i.y=a,!0):1420===i.c?(a-=t.speed,s.maps.getBGCode(e+15,a)>=20&&(a=32*Ji(a,5)+32),a%32==0&&(0===i.c2?e-32>=s.co_j.x&&s.maps.getBGCode(e-1,a+15)<20?i.c=1400:e+32<=s.co_j.x&&s.maps.getBGCode(e+32,a+15)<20?i.c=1410:s.maps.getBGCode(e+15,a-1)<20?i.c=1420:i.c=1430:1===i.c2?a-32>=s.co_j.y&&s.maps.getBGCode(e+15,a-1)<20?i.c=1420:e-32>=s.co_j.x&&s.maps.getBGCode(e-1,a+15)<20?i.c=1400:e+32<=s.co_j.x&&s.maps.getBGCode(e+32,a+15)<20?i.c=1410:s.maps.getBGCode(e+15,a-1)<20?i.c=1420:s.maps.getBGCode(e-1,a+15)<20?i.c=1400:i.c=1410:2===i.c2&&(s.maps.getBGCode(e-1,a+15)<20&&0===s.ranInt(2)?i.c=1400:s.maps.getBGCode(e+32,a+15)<20&&0===s.ranInt(2)?i.c=1410:s.maps.getBGCode(e+15,a-1)<20?i.c=1420:i.c=1430)),i.pt=143+s.g_ac,i.pth=i.muki,1===i.c2?i.pt=152+s.g_ac:2===i.c2&&(i.pt=155+s.g_ac),i.direction=2,i.x=e,i.y=a,!0):1430===i.c&&(a+=t.speed,s.maps.getBGCode(e+15,a+31)>=20&&(a=32*Ji(a+31,5)-32),a%32==0&&(0===i.c2?e-32>=s.co_j.x&&s.maps.getBGCode(e-1,a+15)<20?i.c=1400:e+32<=s.co_j.x&&s.maps.getBGCode(e+32,a+15)<20?i.c=1410:s.maps.getBGCode(e+15,a+32)<20?i.c=1430:i.c=1420:1===i.c2?a+32<=s.co_j.y&&s.maps.getBGCode(e+15,a+32)<20?i.c=1430:e-32>=s.co_j.x&&s.maps.getBGCode(e-1,a+15)<20?i.c=1400:e+32<=s.co_j.x&&s.maps.getBGCode(e+32,a+15)<20?i.c=1410:s.maps.getBGCode(e+15,a+32)<20?i.c=1430:s.maps.getBGCode(e-1,a+15)<20?i.c=1400:i.c=1410:2===i.c2&&(s.maps.getBGCode(e-1,a+15)<20&&0===s.ranInt(2)?i.c=1400:s.maps.getBGCode(e+32,a+15)<20&&0===s.ranInt(2)?i.c=1410:s.maps.getBGCode(e+15,a+32)<20?i.c=1430:i.c=1420)),i.pt=143+s.g_ac,i.pth=i.muki,1===i.c2?i.pt=152+s.g_ac:2===i.c2&&(i.pt=155+s.g_ac),i.direction=3,i.x=e,i.y=a,!0)}}},t.available={100:t.Turtle,110:t.TurtleFall,150:t.TurtleFall,200:t.Pikachie,201:t.Pikachie,202:t.Pikachie,203:t.Pikachie,300:t.Chikorin,301:t.Chikorin,310:t.ChikorinThrower,311:t.ChikorinThrower,312:t.ChikorinThrower,313:t.ChikorinThrower,320:t.ChikorinMidareuchi,330:t.ChikorinSolarBeam,335:t.ChikorinSolarBeam,400:t.Hinorarashi,450:t.HinorarashiFall,500:t.PoppieUpDown,510:t.PoppieLeftRight,520:t.PoppieFire,530:t.PoppieFire3,540:t.PoppieBubble3,550:t.PoppieHurricaneBlast,600:t.Mariri,601:t.Mariri,602:t.Mariri,650:t.Mariri,660:t.MaririLeftRight,670:t.MaririTackle,700:t.Yachamo,701:t.Yachamo,702:t.Yachamo,703:t.Yachamo,704:t.Yachamo,710:t.YachamoFast,711:t.YachamoFast,720:t.YachamoHyperBeam,725:t.YachamoHyperBeam,800:t.Mizutaro,801:t.Mizutaro,802:t.Mizutaro,803:t.Mizutaro,804:t.Mizutaro,900:t.AirmsStop,920:t.AirmsStay,921:t.AirmsStay,930:t.AirmsLeftRight,950:t.AirmsReturn,1e3:t.Taiking,1050:t.TaikingJump,1060:t.TaikingTerritory,1070:t.TaikingLeft,1080:t.TaikingRight,1100:t.Kuragesso,1150:t.KuragessoFall,1160:t.KuragessoTerritory,1170:t.KuragessoLeft,1180:t.KuragessoRight,1200:t.TurtleChaser,1400:t.PikachieChaser}}(Ft||(Ft={}));var qt=function(){var t=this.maps.wx,i=this.maps.wy;if(this.ana_kazu>0&&Jt.apply(this),this.a_hf&&ti.apply(this),this.yuka_id_max>=0&&this.drawYuka(),this.m_kazu>0&&ii.apply(this),this.jm_kazu>0&&ei.apply(this),14===this.j_tokugi)for(var s=0;s<=1;s++)this.co_mu[s].c>=50&&this.hg.drawImage(this.hih[1][105+this.g_ac],this.co_mu[s].x-t,this.co_mu[s].y-i,this.ap);ai.apply(this)},Kt=function(){for(var t=this.maps.wx,i=this.maps.wy,s=0;s<=this.t_kazu;s++)if(!(this.co_t[s].c<50)){var h=this.co_t[s].x-t,e=this.co_t[s].y-i;if(!(h<-64||e>576)){var a=this.co_t[s].img;null!==a?this.hg.drawImage(a,h+this.co_t[s].zs_x,e+this.co_t[s].zs_y,this.ap):this.hg.drawImage(this.hih[this.co_t[s].pth][this.co_t[s].pt],h,e,this.ap)}}},Jt=function(){for(var t=this.maps.wx,i=this.maps.wy,s=0;s<=11;s++)if(!(this.ana_c[s]<=0))if(this.ana_c[s]<=135&&this.ana_c[s]>=129){var h=4*(136-this.ana_c[s]);this.gg.drawPatternCut(32*this.ana_x[s]-t,32*this.ana_y[s]-i,20,0,h)}else if(this.ana_c[s]<=235&&this.ana_c[s]>=229){var e=4*(236-this.ana_c[s]);this.gg.drawPatternCut(32*this.ana_x[s]-t,32*this.ana_y[s]-i,20,0,-1*e)}else if(this.ana_c[s]>=1&&this.ana_c[s]<=15){var a=2*this.ana_c[s];this.gg.drawPatternCut(32*this.ana_x[s]-t,32*this.ana_y[s]-i,20,0,a)}},Zt=function(t,i,s,h,e,a){for(var c=0;c<h;c++)for(var o=0;o<s;o++)t.hg.drawImage(t.hih[0][i+10*c+o],e+32*o,a+32*c,t.ap)},Xt=function(t,i,s,h,e,a){for(var c=0;c<h;c++)for(var o=0;o<s;o++){var _=s-1-o;t.hg.drawImage(t.hih[1][i+10*c+_],e+32*o,a+32*c,t.ap)}},$t=function(t,i,s,h,e,a,c,o){var _=new T(32*h,32*e),r=_.getGraphics();if(r)for(var n=0;n<e;n++)for(var m=0;m<h;m++){var p=0===i?m:h-1-m;r.drawImage(t.hih[i][s+10*n+p],32*m,32*n)}t.hg.dispose(),t.hg.rotate(o,a+16*h,c+16*e),t.hg.drawImage(_,a,c,t.ap),t.hg.dispose()},Qt=function(t,i,s,h){var e=i.c4*Math.PI/180;t.hg.setColor(t.gamecolor_mizunohadou),t.hg.fillOval(s+16-19,h+16-19,38,38),t.vo_pa_x[0]=s+16+20*Math.cos(e+Math.PI/2),t.vo_pa_y[0]=h+16+20*Math.sin(e+Math.PI/2),t.vo_pa_x[1]=s+16+20*Math.cos(e-Math.PI/2),t.vo_pa_y[1]=h+16+20*Math.sin(e-Math.PI/2),t.vo_pa_x[2]=s+16+68*Math.cos(e)+20*Math.cos(e-Math.PI/2),t.vo_pa_y[2]=h+16+68*Math.sin(e)+20*Math.sin(e-Math.PI/2),t.vo_pa_x[3]=s+16+68*Math.cos(e)+20*Math.cos(e+Math.PI/2),t.vo_pa_y[3]=h+16+68*Math.sin(e)+20*Math.sin(e+Math.PI/2),t.hg.fillPolygon(t.vo_pa_x,t.vo_pa_y,4),t.hg.setColor(t.gamecolor_firebar2),0===i.c3||1===i.c3?(t.vo_pa_x[0]=s+16-6,t.vo_pa_y[0]=h+16-4,t.vo_pa_x[1]=s+16+6,t.vo_pa_y[1]=h+16-4,t.vo_pa_x[2]=s+16+12,t.vo_pa_y[2]=h+32+12,t.vo_pa_x[3]=s+16-12,t.vo_pa_y[3]=h+32+12):2===i.c3?(t.vo_pa_x[0]=s+16-6,t.vo_pa_y[0]=h+16+4,t.vo_pa_x[1]=s+16+6,t.vo_pa_y[1]=h+16+4,t.vo_pa_x[2]=s+16+12,t.vo_pa_y[2]=h-32,t.vo_pa_x[3]=s+16-12,t.vo_pa_y[3]=h-32):3===i.c3?(t.vo_pa_x[0]=s+16-4,t.vo_pa_y[0]=h+16-6,t.vo_pa_x[1]=s+16-4,t.vo_pa_y[1]=h+16+6,t.vo_pa_x[2]=s+64,t.vo_pa_y[2]=h+16+12,t.vo_pa_x[3]=s+64,t.vo_pa_y[3]=h+16-12):(t.vo_pa_x[0]=s+16+4,t.vo_pa_y[0]=h+16-6,t.vo_pa_x[1]=s+16+4,t.vo_pa_y[1]=h+16+6,t.vo_pa_x[2]=s-32,t.vo_pa_y[2]=h+16+12,t.vo_pa_x[3]=s-32,t.vo_pa_y[3]=h+16-12),t.hg.fillPolygon(t.vo_pa_x,t.vo_pa_y,4)},ti=function(){for(var t=this,i=new Array(26),s=new Array(26),h=function(i,s,h,e){var a=new T(96,64),c=a.getGraphics();c&&(c.drawImage(t.hi[183],0,0,t.ap),c.drawImage(t.hi[184],32,0,t.ap),c.drawImage(t.hi[185],64,0,t.ap),c.drawImage(t.hi[193],0,32,t.ap),c.drawImage(t.hi[194],32,32,t.ap),c.drawImage(t.hi[195],64,32,t.ap)),t.hg.dispose(),t.hg.translate(i+48,s+32),t.hg.scale(e,e),t.hg.rotate(h*Math.PI/180,0,0),t.hg.drawImage(a,-48,-32,t.ap),t.hg.dispose()},e=this.maps.wx,a=this.maps.wy,c=0;c<=this.a_kazu;c++)if(this.co_a[c].gf){var o=this.co_a[c],_=o.x-e,r=o.y-a;switch(o.pt){case 850:case 2700:default:break;case 100:Zt(this,190,3,1,_,r);break;case 200:Zt(this,76,2,2,_,r);break;case 210:Zt(this,78,2,2,_,r);break;case 300:case 310:case 320:case 330:var n=o.c3%100,m=Math.floor(o.c3/100);hi.apply(this,[n,m,_,r]);break;case 400:Zt(this,183,3,2,_,r);break;case 500:Zt(this,180,3,1,_,r);break;case 600:Zt(this,188,2,2,_,r);break;case 605:Xt(this,188,2,2,_,r);break;case 700:this.hg.drawImage(this.hi[32],_,r,this.ap);break;case 710:this.hg.drawImage(this.hi[33],_,r,this.ap);break;case 720:this.hg.drawImage(this.hi[34],_,r,this.ap);break;case 750:var p=o.c3>0?32:33;this.hg.dispose(),this.hg.rotate(-Math.PI/2,_+16,r+16),this.hg.drawImage(this.hi[p],_,r,this.ap),this.hg.dispose();break;case 751:var g=o.c3>0?32:33;this.hg.dispose(),this.hg.rotate(Math.PI/2,_+16,r+16),this.hg.drawImage(this.hi[g],_,r,this.ap),this.hg.dispose();break;case 800:var u=o.x>=this.co_j.x?0:1;this.hg.drawImage(this.hih[u][35+o.c3],_,r,this.ap);break;case 860:var y=39;87===o.c?y=37:88===o.c&&(y=38);var d=o.x>=this.co_j.x?0:1;this.hg.drawImage(this.hih[d][y],_,r,this.ap);break;case 1100:var f=(o.c3+90)*Math.PI/180,j=16*Math.cos(f),l=16*Math.sin(f);if(this.vo_pa_x[0]=this.vo_x[c][0]-e+j,this.vo_pa_y[0]=this.vo_y[c][0]-a+l,this.vo_pa_x[1]=this.vo_x[c][0]-e-j,this.vo_pa_y[1]=this.vo_y[c][0]-a-l,this.vo_pa_x[2]=this.vo_x[c][1]-e-j,this.vo_pa_y[2]=this.vo_y[c][1]-a-l,this.vo_pa_x[3]=this.vo_x[c][1]-e+j,this.vo_pa_y[3]=this.vo_y[c][1]-a+l,this.hg.setColor(this.gamecolor_firebar1),this.hg.fillPolygon(this.vo_pa_x,this.vo_pa_y,4),this.g_c2>=2){this.hg.setColor(this.gamecolor_firebar2);var v=10*Math.cos(f),x=10*Math.sin(f);this.vo_pa_x[0]=this.vo_x[c][2]-e+v,this.vo_pa_y[0]=this.vo_y[c][2]-a+x,this.vo_pa_x[1]=this.vo_x[c][2]-e-v,this.vo_pa_y[1]=this.vo_y[c][2]-a-x,this.vo_pa_x[2]=this.vo_x[c][3]-e-v,this.vo_pa_y[2]=this.vo_y[c][3]-a-x,this.vo_pa_x[3]=this.vo_x[c][3]-e+v,this.vo_pa_y[3]=this.vo_y[c][3]-a+x,this.hg.fillPolygon(this.vo_pa_x,this.vo_pa_y,4)}break;case 1200:var k=o.vy*Math.PI/180;this.vo_pa_x[0]=_+160*Math.cos(k+Math.PI),this.vo_pa_y[0]=r+160*Math.sin(k+Math.PI),this.vo_pa_x[1]=_+160*Math.cos(k),this.vo_pa_y[1]=r+160*Math.sin(k),this.vo_pa_x[2]=this.vo_pa_x[1]+12*Math.cos(k-Math.PI/2),this.vo_pa_y[2]=this.vo_pa_y[1]+12*Math.sin(k-Math.PI/2),this.vo_pa_x[3]=this.vo_pa_x[0]+12*Math.cos(k-Math.PI/2),this.vo_pa_y[3]=this.vo_pa_y[0]+12*Math.sin(k-Math.PI/2),this.hg.setColor(this.gamecolor_firebar2),this.hg.fillPolygon(this.vo_pa_x,this.vo_pa_y,4),this.vo_pa_x[0]=_,this.vo_pa_y[0]=r,this.vo_pa_x[1]=_-16,this.vo_pa_y[1]=r+128,this.vo_pa_x[2]=_+16,this.vo_pa_y[2]=r+128,this.hg.setColor(this.gamecolor_firebar1),this.hg.fillPolygon(this.vo_pa_x,this.vo_pa_y,3);break;case 1300:var w=o.vy*Math.PI/180;this.vo_pa_x[0]=_+192*Math.cos(w+Math.PI/9),this.vo_pa_y[0]=r+192*Math.sin(w+Math.PI/9),this.vo_pa_x[1]=_+192*Math.cos(w-Math.PI/9),this.vo_pa_y[1]=r+192*Math.sin(w-Math.PI/9),this.vo_pa_x[2]=this.vo_pa_x[1]+12*Math.cos(w),this.vo_pa_y[2]=this.vo_pa_y[1]+12*Math.sin(w),this.vo_pa_x[3]=this.vo_pa_x[0]+12*Math.cos(w),this.vo_pa_y[3]=this.vo_pa_y[0]+12*Math.sin(w),this.vo_pa_x[4]=_+12*Math.cos(w),this.vo_pa_y[4]=r+12*Math.sin(w);var b=80*Math.cos(w),S=80*Math.sin(w);this.hg.setColor(this.gamecolor_firebar1),this.hg.drawLine(this.vo_pa_x[4],this.vo_pa_y[4],_+b,r+S),this.hg.drawLine(this.vo_pa_x[0],this.vo_pa_y[0],_+b,r+S),this.hg.drawLine(this.vo_pa_x[1],this.vo_pa_y[1],_+b,r+S),this.hg.setColor(this.gamecolor_firebar2),this.hg.fillPolygon(this.vo_pa_x,this.vo_pa_y,4);break;case 1400:var M=o.vy*Math.PI/180;this.vo_pa_x[0]=_+192*Math.cos(M)+12*Math.cos(M+Math.PI/2),this.vo_pa_y[0]=r+192*Math.sin(M)+12*Math.sin(M+Math.PI/2),this.vo_pa_x[1]=_+60*Math.cos(M)+12*Math.cos(M+Math.PI/2),this.vo_pa_y[1]=r+60*Math.sin(M)+12*Math.sin(M+Math.PI/2),this.vo_pa_x[2]=_+60*Math.cos(M)+12*Math.cos(M-Math.PI/2),this.vo_pa_y[2]=r+60*Math.sin(M)+12*Math.sin(M-Math.PI/2),this.vo_pa_x[3]=_+192*Math.cos(M)+12*Math.cos(M-Math.PI/2),this.vo_pa_y[3]=r+192*Math.sin(M)+12*Math.sin(M-Math.PI/2),this.hg.setColor(this.gamecolor_firebar2),this.hg.fillPolygon(this.vo_pa_x,this.vo_pa_y,4);break;case 1500:if(o.c4<=0)break;this.hg.setColor(this.gamecolor_firebar1),1===o.c3||11===o.c3?(this.hg.fillRect(_+8,r,48,o.c4),this.g_c2>=2&&o.c4>8&&(this.hg.setColor(this.gamecolor_firebar2),this.hg.fillRect(_+16,r,32,o.c4-8))):2===o.c3||12===o.c3?(this.hg.fillRect(_-o.c4,r+8,o.c4,48),this.g_c2>=2&&o.c4>8&&(this.hg.setColor(this.gamecolor_firebar2),this.hg.fillRect(_-o.c4+8,r+16,o.c4-8,32))):3===o.c3||13===o.c3?(this.hg.fillRect(_,r+8,o.c4,48),this.g_c2>=2&&o.c4>8&&(this.hg.setColor(this.gamecolor_firebar2),this.hg.fillRect(_,r+16,o.c4-8,32))):(this.hg.fillRect(_+8,r-o.c4,48,o.c4),this.g_c2>=2&&o.c4>8&&(this.hg.setColor(this.gamecolor_firebar2),this.hg.fillRect(_+16,r-o.c4+8,32,o.c4-8)));break;case 1600:this.hg.setColor(this.gamecolor_firebar1),this.hg.fillRect(_,r,64,96),this.g_c2>=2&&(this.hg.setColor(this.gamecolor_firebar2),this.hg.fillRect(_+8,r+8,48,80));break;case 1700:this.hg.setColor(this.gamecolor_firebar1),this.hg.fillRect(_,r,96,64),this.g_c2>=2&&(this.hg.setColor(this.gamecolor_firebar2),this.hg.fillRect(_+8,r+8,80,48));break;case 1800:this.hg.drawImage(this.hi[26],_,r,this.ap);break;case 1900:this.vo_pa_x[0]=_+182*Math.cos((o.vy+6)*Math.PI/180),this.vo_pa_y[0]=r+182*Math.sin((o.vy+6)*Math.PI/180),this.vo_pa_x[1]=_+182*Math.cos((o.vy-6)*Math.PI/180),this.vo_pa_y[1]=r+182*Math.sin((o.vy-6)*Math.PI/180),this.vo_pa_x[2]=_,this.vo_pa_y[2]=r,this.hg.setColor(this.gamecolor_firebar1),this.hg.fillPolygon(this.vo_pa_x,this.vo_pa_y,3),this.vo_pa_x[0]=_+192*Math.cos((o.vy+20)*Math.PI/180),this.vo_pa_y[0]=r+192*Math.sin((o.vy+20)*Math.PI/180),this.vo_pa_x[1]=_+192*Math.cos((o.vy-20)*Math.PI/180),this.vo_pa_y[1]=r+192*Math.sin((o.vy-20)*Math.PI/180),this.vo_pa_x[2]=this.vo_pa_x[1]+12*Math.cos(o.vy*Math.PI/180),this.vo_pa_y[2]=this.vo_pa_y[1]+12*Math.sin(o.vy*Math.PI/180),this.vo_pa_x[3]=this.vo_pa_x[0]+12*Math.cos(o.vy*Math.PI/180),this.vo_pa_y[3]=this.vo_pa_y[0]+12*Math.sin(o.vy*Math.PI/180),this.vo_pa_x[4]=_+12*Math.cos(o.vy*Math.PI/180),this.vo_pa_y[4]=r+12*Math.sin(o.vy*Math.PI/180),this.hg.setColor(this.gamecolor_firebar2),this.hg.fillPolygon(this.vo_pa_x,this.vo_pa_y,4);break;case 2e3:this.vo_pa_x[0]=_+12*Math.cos(o.vy*Math.PI/180)+5*Math.cos((o.vy+90)*Math.PI/180),this.vo_pa_y[0]=r+12*Math.sin(o.vy*Math.PI/180)+5*Math.sin((o.vy+90)*Math.PI/180),this.vo_pa_x[1]=_+12*Math.cos(o.vy*Math.PI/180)+5*Math.cos((o.vy-90)*Math.PI/180),this.vo_pa_y[1]=r+12*Math.sin(o.vy*Math.PI/180)+5*Math.sin((o.vy-90)*Math.PI/180),this.vo_pa_x[2]=_+182*Math.cos(o.vy*Math.PI/180)+5*Math.cos((o.vy-90)*Math.PI/180),this.vo_pa_y[2]=r+182*Math.sin(o.vy*Math.PI/180)+5*Math.sin((o.vy-90)*Math.PI/180),this.vo_pa_x[3]=_+182*Math.cos(o.vy*Math.PI/180)+5*Math.cos((o.vy+90)*Math.PI/180),this.vo_pa_y[3]=r+182*Math.sin(o.vy*Math.PI/180)+5*Math.sin((o.vy+90)*Math.PI/180),this.hg.setColor(this.gamecolor_firebar2),this.hg.fillPolygon(this.vo_pa_x,this.vo_pa_y,4);break;case 2100:this.hg.drawImage(this.hi[212],_,r,this.ap);break;case 2110:this.hg.drawImage(this.hi[213],_,r,this.ap);break;case 2120:this.hg.drawImage(this.hi[214],_,r,this.ap);break;case 2130:this.hg.drawImage(this.hi[215],_,r,this.ap);break;case 2200:Qt(this,o,_,r);break;case 2300:if(2===this.control_parts_visible&&1900===o.c){this.hg.setColor(F.black),this.hg.fillRect(_,r,32,32);var C="S ".concat(o.c3);this.hg.setColor(F.white),this.hg.setFont(new D(D.DIALOG,1,12)),this.hg.drawString(C,_+2,r+this.moji_size+4)}break;case 2400:if(0===o.c3){this.hg.dispose(),this.hg.translate(_+32,r+64),this.hg.scale(o.vy/100,o.vy/100),this.g_c3<=3?(this.hg.drawImage(this.hi[76],-32,-64,this.ap),this.hg.drawImage(this.hi[77],0,-64,this.ap),this.hg.drawImage(this.hi[86],-32,-32,this.ap),this.hg.drawImage(this.hi[87],0,-32,this.ap)):(this.hg.drawImage(this.hi[78],-32,-64,this.ap),this.hg.drawImage(this.hi[79],0,-64,this.ap),this.hg.drawImage(this.hi[88],-32,-32,this.ap),this.hg.drawImage(this.hi[89],0,-32,this.ap)),this.hg.dispose();break}if(1===o.c3){this.hg.dispose(),this.hg.translate(_+32,r),this.hg.scale(o.vy/100,o.vy/100),this.g_c3<=3?(this.hg.drawImage(this.hi[76],-32,0,this.ap),this.hg.drawImage(this.hi[77],0,0,this.ap),this.hg.drawImage(this.hi[86],-32,32,this.ap),this.hg.drawImage(this.hi[87],0,32,this.ap)):(this.hg.drawImage(this.hi[78],-32,0,this.ap),this.hg.drawImage(this.hi[79],0,0,this.ap),this.hg.drawImage(this.hi[88],-32,32,this.ap),this.hg.drawImage(this.hi[89],0,32,this.ap)),this.hg.dispose();break}if(2!==o.c3)break;this.hg.dispose(),this.hg.translate(_+32,r+32),this.hg.scale(o.vy/100,o.vy/100),this.g_c3<=3?(this.hg.drawImage(this.hi[76],-32,-32,this.ap),this.hg.drawImage(this.hi[77],0,-32,this.ap),this.hg.drawImage(this.hi[86],-32,0,this.ap),this.hg.drawImage(this.hi[87],0,0,this.ap)):(this.hg.drawImage(this.hi[78],-32,-32,this.ap),this.hg.drawImage(this.hi[79],0,-32,this.ap),this.hg.drawImage(this.hi[88],-32,0,this.ap),this.hg.drawImage(this.hi[89],0,0,this.ap)),this.hg.dispose();break;case 2500:h(_,r,o.vy,1.5);break;case 2600:h(_,r,o.vy,2.5);break;case 2800:this.hg.setColor(this.gamecolor_firebar1),this.hg.fillOval(_-64,r-64+8,128,128),this.g_c2>=2&&(this.hg.setColor(this.gamecolor_firebar2),this.hg.fillOval(_-20,r-20+8,40,40));break;case 2900:for(var I=0,B=0;B>=-50;B-=10)i[I]=_+160*Math.cos((o.c3+B)*Math.PI/180),s[I]=r+160*Math.sin((o.c3+B)*Math.PI/180),I++;for(var G=-50;G<=0;G+=10)i[I]=_+112*Math.cos((o.c3+G)*Math.PI/180),s[I]=r+112*Math.sin((o.c3+G)*Math.PI/180),I++;if(this.hg.setColor(this.gamecolor_firebar1),this.hg.fillPolygon(i,s,I),this.g_c2<2)break;I=0;for(var z=-5;z>=-45;z-=8)i[I]=_+148*Math.cos((o.c3+z)*Math.PI/180),s[I]=r+148*Math.sin((o.c3+z)*Math.PI/180),I++;for(var A=-45;A<=-5;A+=8)i[I]=_+124*Math.cos((o.c3+A)*Math.PI/180),s[I]=r+124*Math.sin((o.c3+A)*Math.PI/180),I++;this.hg.setColor(this.gamecolor_firebar2),this.hg.fillPolygon(i,s,I);break;case 2950:for(var P=0,N=0;N>=-120;N-=10)i[P]=_+160*Math.cos((o.c3+N)*Math.PI/180),s[P]=r+160*Math.sin((o.c3+N)*Math.PI/180),P++;for(var O=-120;O<=0;O+=10)i[P]=_+112*Math.cos((o.c3+O)*Math.PI/180),s[P]=r+112*Math.sin((o.c3+O)*Math.PI/180),P++;if(this.hg.setColor(this.gamecolor_firebar1),this.hg.fillPolygon(i,s,P),this.g_c2<2)break;P=0;for(var Y=-5;Y>=-115;Y-=10)i[P]=_+148*Math.cos((o.c3+Y)*Math.PI/180),s[P]=r+148*Math.sin((o.c3+Y)*Math.PI/180),P++;for(var E=-115;E<=-5;E+=10)i[P]=_+124*Math.cos((o.c3+E)*Math.PI/180),s[P]=r+124*Math.sin((o.c3+E)*Math.PI/180),P++;this.hg.setColor(this.gamecolor_firebar2),this.hg.fillPolygon(i,s,P);break;case 3e3:var R=r+64;R<320&&(this.hg.setColor(this.gamecolor_firebar1),this.hg.fillRect(_+120-20,R,40,320-R));break;case 3100:this.vo_pa_x[0]=_+12*Math.cos(o.vy*Math.PI/180)+5*Math.cos((o.vy+90)*Math.PI/180),this.vo_pa_y[0]=r+12*Math.sin(o.vy*Math.PI/180)+5*Math.sin((o.vy+90)*Math.PI/180),this.vo_pa_x[1]=_+12*Math.cos(o.vy*Math.PI/180)+5*Math.cos((o.vy-90)*Math.PI/180),this.vo_pa_y[1]=r+12*Math.sin(o.vy*Math.PI/180)+5*Math.sin((o.vy-90)*Math.PI/180),this.vo_pa_x[2]=_+226*Math.cos(o.vy*Math.PI/180)+5*Math.cos((o.vy-90)*Math.PI/180),this.vo_pa_y[2]=r+226*Math.sin(o.vy*Math.PI/180)+5*Math.sin((o.vy-90)*Math.PI/180),this.vo_pa_x[3]=_+226*Math.cos(o.vy*Math.PI/180)+5*Math.cos((o.vy+90)*Math.PI/180),this.vo_pa_y[3]=r+226*Math.sin(o.vy*Math.PI/180)+5*Math.sin((o.vy+90)*Math.PI/180),this.hg.setColor(this.gamecolor_firebar2),this.hg.fillPolygon(this.vo_pa_x,this.vo_pa_y,4);break;case 3200:this.hg.dispose(),this.hg.rotate(Math.PI/2,_+16,r+16),this.hg.drawImage(this.hi[6],_,r,this.ap),this.hg.translate(32,0),this.hg.drawImage(this.hi[6],_,r,this.ap),this.hg.translate(32,0),this.hg.drawImage(this.hi[6],_,r,this.ap),this.hg.translate(32,0),this.hg.drawImage(this.hi[6],_,r,this.ap),this.hg.dispose();break;case 3250:this.hg.dispose(),this.hg.rotate(-Math.PI/2,_+16,r+16),this.hg.drawImage(this.hi[6],_,r,this.ap),this.hg.translate(-32,0),this.hg.drawImage(this.hi[6],_,r,this.ap),this.hg.translate(-32,0),this.hg.drawImage(this.hi[6],_,r,this.ap),this.hg.translate(-32,0),this.hg.drawImage(this.hi[6],_,r,this.ap),this.hg.dispose();break;case 3400:0===this.g_ac?this.hg.setColor(this.gamecolor_grenade1):this.hg.setColor(this.gamecolor_grenade2),this.hg.fillRect(_,r,96,64);break;case 3500:1!==o.c3&&2!==this.control_parts_visible&&(this.hg.setColor(this.gamecolor_firebar2),this.hg.fillRect(_+30,r,2,128));break;case 3510:1!==o.c3&&2!==this.control_parts_visible&&(this.hg.setColor(this.gamecolor_firebar2),this.hg.fillRect(_,r,2,128));break;case 3520:1!==o.c3&&2!==this.control_parts_visible&&(this.hg.setColor(this.gamecolor_firebar2),this.hg.fillRect(_,r,128,2));break;case 3530:1!==o.c3&&2!==this.control_parts_visible&&(this.hg.setColor(this.gamecolor_firebar2),this.hg.fillRect(_,r+30,128,2));break;case 3600:this.hg.drawImage(this.gg.spt_option_img[0],_,r,this.ap);break;case 3700:this.hg.drawImage(this.gg.spt_option_img[1],_,r,this.ap);break;case 3710:this.hg.drawImage(this.gg.spt_option_img[2],_,r,this.ap);break;case 3800:0===this.g_c1?(this.hg.drawImage(this.hi[120],_,r,this.ap),this.hg.drawImage(this.hi[120],_,r+32,this.ap),this.hg.drawImage(this.hi[120],_,r+64,this.ap),this.hg.drawImage(this.hi[120],_,r+96,this.ap)):(this.hg.drawImage(this.hi[121],_,r,this.ap),this.hg.drawImage(this.hi[121],_,r+32,this.ap),this.hg.drawImage(this.hi[121],_,r+64,this.ap),this.hg.drawImage(this.hi[121],_,r+96,this.ap));break;case 3900:0===this.g_c1?(this.hg.drawImage(this.hi[120],_,r,this.ap),this.hg.drawImage(this.hi[120],_+32,r,this.ap),this.hg.drawImage(this.hi[120],_+64,r,this.ap),this.hg.drawImage(this.hi[120],_+96,r,this.ap)):(this.hg.drawImage(this.hi[121],_,r,this.ap),this.hg.drawImage(this.hi[121],_+32,r,this.ap),this.hg.drawImage(this.hi[121],_+64,r,this.ap),this.hg.drawImage(this.hi[121],_+96,r,this.ap));break;case 4e3:this.vo_pa_x[0]=_+216*Math.cos((o.vy+5)*Math.PI/180),this.vo_pa_y[0]=r+216*Math.sin((o.vy+5)*Math.PI/180),this.vo_pa_x[1]=_+216*Math.cos((o.vy-5)*Math.PI/180),this.vo_pa_y[1]=r+216*Math.sin((o.vy-5)*Math.PI/180),this.vo_pa_x[2]=_,this.vo_pa_y[2]=r,this.hg.setColor(this.gamecolor_firebar1),this.hg.fillPolygon(this.vo_pa_x,this.vo_pa_y,3),this.vo_pa_x[0]=_+224*Math.cos((o.vy+17)*Math.PI/180),this.vo_pa_y[0]=r+224*Math.sin((o.vy+17)*Math.PI/180),this.vo_pa_x[1]=_+224*Math.cos((o.vy-17)*Math.PI/180),this.vo_pa_y[1]=r+224*Math.sin((o.vy-17)*Math.PI/180),this.vo_pa_x[2]=this.vo_pa_x[1]+12*Math.cos(o.vy*Math.PI/180),this.vo_pa_y[2]=this.vo_pa_y[1]+12*Math.sin(o.vy*Math.PI/180),this.vo_pa_x[3]=this.vo_pa_x[0]+12*Math.cos(o.vy*Math.PI/180),this.vo_pa_y[3]=this.vo_pa_y[0]+12*Math.sin(o.vy*Math.PI/180),this.vo_pa_x[4]=_+12*Math.cos(o.vy*Math.PI/180),this.vo_pa_y[4]=r+12*Math.sin(o.vy*Math.PI/180),this.hg.setColor(this.gamecolor_firebar2),this.hg.fillPolygon(this.vo_pa_x,this.vo_pa_y,4);break;case 4100:this.hg.drawImage(this.gg.spt_option_img[3],_,r,this.ap);break;case 4110:this.hg.drawImage(this.gg.spt_option_img[4],_,r,this.ap);break;case 4200:o.x>=this.co_j.x?this.hg.drawImage(this.hi[37],_,r,this.ap):this.hg.drawImage(this.hih[1][37],_,r,this.ap);break;case 4210:o.x>=this.co_j.x?this.hg.drawImage(this.hi[38],_,r,this.ap):this.hg.drawImage(this.hih[1][38],_,r,this.ap);break;case 4220:o.x>=this.co_j.x?this.hg.drawImage(this.hi[39],_,r,this.ap):this.hg.drawImage(this.hih[1][39],_,r,this.ap);break;case 4300:o.x>=this.co_j.x?this.hg.drawImage(this.hi[167],_,r,this.ap):this.hg.drawImage(this.hih[1][167],_,r,this.ap)}}},ii=function(){for(var t=this.maps.wx,i=this.maps.wy,s=0;s<=79;s++)if(!(this.co_m[s].c<50)){var h=this.co_m[s],e=h.x-t,a=h.y-i;if(50===h.c){this.hg.drawImage(this.hih[h.pth][h.pt],e,a,this.ap);for(var c=0;c<2;c++){var o=h.x+31*c,_=h.y,r=this.maps.getBGCode(o,_);r<20||2===this.gg.layer_mode&&29===r||this.gg.drawPT(32*Ji(o,5)-t,32*Ji(_,5)-i,r,0)}}else if(1e3===h.pt){this.hg.setColor(this.gamecolor_mizunohadou);var n=h.c2;this.hg.fillOval(e+16-n,a+16-n,2*n,2*n)}else if(1010===h.pt){this.hg.setColor(new F(this.gamecolor_mizunohadou.getRed(),this.gamecolor_mizunohadou.getGreen(),this.gamecolor_mizunohadou.getBlue(),255===this.gamecolor_mizunohadou.getAlpha()?176:this.gamecolor_mizunohadou.getAlpha()));var m=h.c2;this.hg.fillOval(e+16-m,a+16-m,2*m,2*m)}else if(1100===h.pt){0===this.g_ac?this.hg.setColor(this.gamecolor_grenade1):this.hg.setColor(this.gamecolor_grenade2);var p=h.c2;this.hg.fillOval(e+16-p,a+16-p,2*p,2*p)}else if(1200===h.pt){0===this.g_ac?this.hg.setColor(this.gamecolor_grenade1):this.hg.setColor(this.gamecolor_grenade2);var g=h.vy;this.hg.drawOval(e+16-g,a+16-g,2*g,2*g)}else if(1210===h.pt)0===this.g_ac?this.hg.setColor(this.gamecolor_grenade1):this.hg.setColor(this.gamecolor_grenade2),this.hg.fillRect(e,a+11,h.vx-h.x+1,10);else if(1215===h.pt)0===this.g_ac?this.hg.setColor(this.gamecolor_grenade1):this.hg.setColor(this.gamecolor_grenade2),this.hg.fillRect(h.vx-t,a+11,h.x-h.vx+1,10);else if(1220===h.pt){this.hg.setColor(this.gamecolor_grenade1);var u=h.vy;this.hg.drawOval(e+16-u,a+16-u,2*u,2*u)}else 1230===h.pt?(this.hg.setColor(new F(this.gamecolor_grenade1.getRed(),this.gamecolor_grenade1.getGreen(),this.gamecolor_grenade1.getBlue(),192)),this.hg.fillRect(e,a+9,h.vx-h.x+1,14)):1235===h.pt?(this.hg.setColor(new F(this.gamecolor_grenade1.getRed(),this.gamecolor_grenade1.getGreen(),this.gamecolor_grenade1.getBlue(),192)),this.hg.fillRect(h.vx-t,a+9,h.x-h.vx+1,14)):1300===h.pt?this.hg.drawImage(this.gg.spt_option_img[0],e,a,this.ap):this.hg.drawImage(this.hih[h.pth][h.pt],e,a,this.ap)}},si=function(){var t=this.maps.wx,i=this.maps.wy;if(this.co_j.wx=this.co_j.x-t,this.co_j.wy=this.co_j.y-i,this.j_jet_c>=96&&(0===this.g_c1?this.hg.drawImage(this.hi[134],this.co_j.wx,this.co_j.wy+36,this.ap):this.hg.drawImage(this.hi[135],this.co_j.wx,this.co_j.wy+36,this.ap)),this.j_v_c>0&&(this.j_v_c--,this.j_v_kakudo+=2,this.j_v_kakudo>360&&(this.j_v_kakudo-=360),this.j_v_c>40||1===this.g_ac)){var s=this.co_j.wx+16,h=this.co_j.wy+16;this.hg.setColor(F.white);for(var e=0;e<6;e++){var a=(this.j_v_kakudo+60*e)*Math.PI/180;this.vo_pa_x[e]=s+Math.floor(38*Math.cos(a)),this.vo_pa_y[e]=h+Math.floor(38*Math.sin(a))}this.hg.drawPolygon(this.vo_pa_x,this.vo_pa_y,6);for(var c=0;c<6;c++){var o=(360-this.j_v_kakudo+60*c)*Math.PI/180;this.vo_pa_x[c]=s+Math.floor(38*Math.cos(o)),this.vo_pa_y[c]=h+Math.floor(38*Math.sin(o))}this.hg.drawPolygon(this.vo_pa_x,this.vo_pa_y,6)}if(this.j_zan_cf){this.j_zan_cf=!1;for(var _=0;_<6;_++)null!==this.co_j.img?(this.j_zan_img[_]=this.co_j.img,this.j_zan_zs_x[_]=this.co_j.zs_x,this.j_zan_zs_y[_]=this.co_j.zs_y):(this.j_zan_img[_]=null,this.j_zan_pt[_]=this.co_j.pt)}if(this.j_zan_f){for(var r=this.j_zan_p+6,n=r-this.j_zan_nagasa;n<=r;n++){var m=n%6,p=this.j_zan_x[m]-t,g=this.j_zan_y[m]-i,u=this.j_zan_pth[m],y=this.j_zan_img[m];null!==y?this.hg.drawImage(y,p+this.j_zan_zs_x[m],g+this.j_zan_zs_y[m],this.ap):this.hg.drawImage(this.hih[u][this.j_zan_pt[m]],p,g,this.ap)}this.j_zan_p++,this.j_zan_p>5&&(this.j_zan_p=0),this.j_zan_x[this.j_zan_p]=this.co_j.x,this.j_zan_y[this.j_zan_p]=this.co_j.y,this.j_zan_pt[this.j_zan_p]=this.co_j.pt,this.j_zan_pth[this.j_zan_p]=this.co_j.muki,this.j_zan_c<9?(this.j_zan_c++,this.j_cannon_c<=0&&this.co_j.vy>=0&&(this.j_zan_c=9)):(this.j_zan_nagasa--,this.j_zan_nagasa<0&&(this.j_zan_f=!1))}if(this.j_muteki_c<=0||this.j_muteki_c%2!=1)if(null!==this.co_j.img)this.hg.drawImage(this.co_j.img,this.co_j.wx+this.co_j.zs_x,this.co_j.wy+this.co_j.zs_y,this.ap);else if(this.j_cannon_c>0&&1500===this.co_a[this.j_rope_id].c&&this.co_j.pt<1e3){this.gg.drawPT(this.co_j.wx,this.co_j.wy,this.co_j.pt,this.co_j.muki);var d=this.co_a[this.j_rope_id],f=d.x-t,j=d.y-i;Qt(this,d,f,j)}else if(this.co_j.pt<1e3)this.gg.drawPT(this.co_j.wx,this.co_j.wy,this.co_j.pt,this.co_j.muki);else if(1e3===this.co_j.pt)15===this.j_tokugi&&2===this.j_4_muki?(this.gg.drawPT(this.co_j.wx,this.co_j.wy,211,0),this.gg.drawPT(this.co_j.wx,this.co_j.wy-32,210,0)):15===this.j_tokugi&&3===this.j_4_muki?(this.gg.drawPT(this.co_j.wx,this.co_j.wy,105,0),this.gg.drawPT(this.co_j.wx,this.co_j.wy+32,106,0)):0===this.co_j.muki?(this.gg.drawPT(this.co_j.wx,this.co_j.wy,118,this.co_j.muki),this.gg.drawPT(this.co_j.wx-32,this.co_j.wy,117,this.co_j.muki)):(this.gg.drawPT(this.co_j.wx,this.co_j.wy,118,1),this.gg.drawPT(this.co_j.wx+32,this.co_j.wy,117,1));else if(1100===this.co_j.pt){var l=this.co_j.c2%100,v=Math.floor(this.co_j.c2/100),x=0,k=0,w=Math.max(0,Math.min(32,this.co_j.c1));1===v?k=-w:2===v?x=w:3===v?x=-w:k=w,this.gg.drawPT(this.co_j.wx+x,this.co_j.wy+k,100,this.co_j.muki);var b=Lt([[-16,32],[-16,-32],[32,-16],[-32,-16]][v],2),S=b[0],M=b[1],C=this.co_j.wx+S,I=this.co_j.wy+M;hi.apply(this,[l,v,C,I])}else 1110!==this.co_j.pt&&(1200===this.co_j.pt?(this.hg.dispose(),3200===this.co_a[this.j_rope_id].c?this.hg.rotate((this.co_a[this.j_rope_id].vy+90)*Math.PI/180,this.co_j.wx+16,this.co_j.wy+16):this.hg.rotate((this.co_a[this.j_rope_id].vy-90)*Math.PI/180,this.co_j.wx+16,this.co_j.wy+16),this.hg.drawImage(this.hih[this.co_j.muki][210],this.co_j.wx,this.co_j.wy,this.ap),this.hg.dispose()):1201===this.co_j.pt?(this.hg.dispose(),3200===this.co_a[this.j_rope_id].c?this.hg.rotate((this.co_a[this.j_rope_id].vy+90)*Math.PI/180,this.co_j.wx+16,this.co_j.wy+16):this.hg.rotate((this.co_a[this.j_rope_id].vy-90)*Math.PI/180,this.co_j.wx+16,this.co_j.wy+16),this.hg.drawImage(this.hih[this.co_j.muki][211],this.co_j.wx,this.co_j.wy,this.ap),this.hg.dispose()):1300===this.co_j.pt?(0===this.g_ac?this.hg.setColor(this.gamecolor_grenade1):this.hg.setColor(this.gamecolor_grenade2),this.hg.fillOval(this.co_j.wx-8,this.co_j.wy-8,48,48),this.gg.drawPT(this.co_j.wx,this.co_j.wy,101,this.co_j.muki)):1400===this.co_j.pt?(0===this.g_ac?this.hg.setColor(this.gamecolor_grenade1):this.hg.setColor(this.gamecolor_grenade2),this.hg.fillOval(this.co_j.wx-8,this.co_j.wy-8,48,48),this.gg.drawPT(this.co_j.wx,this.co_j.wy,83,this.co_j.muki)):1500===this.co_j.pt&&(0===this.g_ac?this.hg.setColor(this.gamecolor_grenade1):this.hg.setColor(this.gamecolor_grenade2),this.hg.fillOval(this.co_j.wx-8,this.co_j.wy-8,48,48),this.gg.drawPT(this.co_j.wx,this.co_j.wy,202,this.co_j.muki)))},hi=function(t,i,s,h){var e=60+2*t,a=0;1===i?a=Math.PI:2===i?a=-Math.PI/2:3===i&&(a=Math.PI/2);var c=s+32,o=h+16;2!==i&&3!==i||(c=s+16,o=h+32),this.hg.dispose(),this.hg.rotate(a,c,o),this.hg.drawImage(this.hi[e],c-32,o-16,this.ap),this.hg.drawImage(this.hi[e+1],c,o-16,this.ap),this.hg.dispose()},ei=function(){for(var t=this.maps.wx,i=this.maps.wy,s=0;s<=8;s++){var h=this.co_jm[s];if(!(h.c<50)){var e=h.x-t,a=h.y-i;if(h.pt<1e3)this.hg.drawImage(this.hih[h.pth][h.pt],e,a,this.ap);else{var c=0===this.g_ac?this.gamecolor_grenade1:this.gamecolor_grenade2;if(this.hg.setColor(c),1200===h.pt){var o=h.vx-h.x+1;this.hg.fillRect(e,a+12,o,8)}else if(1205===h.pt){var _=h.x-h.vx+1;this.hg.fillRect(h.vx-t,a+12,_,8)}else{var r=h.c2;this.hg.fillOval(e+16-r,a+16-r,2*r,2*r)}}}}},ai=function(){if(!(this.co_b.c<=50)){var t=this.maps,i=t.wx,s=t.wy,h=this.co_b.x-i,e=this.co_b.y-s;if(!(h>this.gg.di.width+48))if(null===this.co_b.img)switch(this.co_b.pt){default:break;case et:Zt(this,186,2,2,h-16,e-16);break;case at:Xt(this,186,2,2,h-16,e-16);break;case ct:Zt(this,176,2,1,h-16,e+16);break;case ot:Xt(this,176,2,1,h-16,e+16);break;case _t:Zt(this,188,2,2,h-16,e-16);break;case 1101:$t(this,0,188,2,2,h-16,e-16,this.co_b.c2*Math.PI/180);break;case rt:Xt(this,188,2,2,h-16,e-16);break;case nt:$t(this,1,188,2,2,h-16,e-16,this.co_b.c2*Math.PI/180);break;case mt:Zt(this,178,2,1,h-16,e+16);break;case pt:Xt(this,178,2,1,h-16,e+16);break;case gt:Zt(this,238,2,2,h-16,e-16);break;case ut:Xt(this,238,2,2,h-16,e-16);break;case yt:Zt(this,228,2,1,h-16,e+16);break;case dt:Xt(this,228,2,1,h-16,e+16);break;case ft:Zt(this,238,2,2,h-16,e-16),this.j_v_c<=0&&(this.j_v_kakudo+=2,this.j_v_kakudo>360&&(this.j_v_kakudo-=360)),this.hg.setColor(F.white);for(var a=0;a<6;a++){var c=(this.j_v_kakudo+60*a)*Math.PI/180;this.vo_pa_x[a]=h+16+Math.floor(50*Math.cos(c)),this.vo_pa_y[a]=e+16+Math.floor(50*Math.sin(c))}this.hg.drawPolygon(this.vo_pa_x,this.vo_pa_y,6);for(var o=0;o<6;o++){var _=(360-this.j_v_kakudo+60*o)*Math.PI/180;this.vo_pa_x[o]=h+16+Math.floor(50*Math.cos(_)),this.vo_pa_y[o]=e+16+Math.floor(50*Math.sin(_))}this.hg.drawPolygon(this.vo_pa_x,this.vo_pa_y,6);break;case jt:$t(this,0,238,2,2,h-16,e-16,this.co_b.c2*Math.PI/180);break;case lt:Xt(this,238,2,2,h-16,e-16),this.j_v_c<=0&&(this.j_v_kakudo+=2,this.j_v_kakudo>360&&(this.j_v_kakudo-=360)),this.hg.setColor(F.white);for(var r=0;r<6;r++){var n=(this.j_v_kakudo+60*r)*Math.PI/180;this.vo_pa_x[r]=h+16+Math.floor(50*Math.cos(n)),this.vo_pa_y[r]=e+16+Math.floor(50*Math.sin(n))}this.hg.drawPolygon(this.vo_pa_x,this.vo_pa_y,6);for(var m=0;m<6;m++){var p=(360-this.j_v_kakudo+60*m)*Math.PI/180;this.vo_pa_x[m]=h+16+Math.floor(50*Math.cos(p)),this.vo_pa_y[m]=e+16+Math.floor(50*Math.sin(p))}this.hg.drawPolygon(this.vo_pa_x,this.vo_pa_y,6);break;case vt:$t(this,1,238,2,2,h-16,e-16,this.co_b.c2*Math.PI/180)}else this.hg.drawImage(this.co_b.img,h+this.co_b.zs_x,e+this.co_b.zs_y,this.ap)}},ci=function(){this.showr_c>0&&(this.hg.setColor(this.js_pen_color),this.hg.fillRect(this.showr_x,this.showr_y,this.showr_width,this.showr_height)),this.showo_c>0&&(this.hg.setColor(this.js_pen_color),this.hg.fillOval(this.showo_x,this.showo_y,this.showo_width,this.showo_height)),this.showi_c>0&&this.showi_img&&(null!==this.gg.ap?this.hg.drawImage(this.showi_img,this.showi_x,this.showi_y,this.gg.ap):this.hg.drawImage(this.showi_img,this.showi_x,this.showi_y,this.gg.oya)),this.gauge_v&&oi.apply(this),this.hitokoto_c>-1&&ri.apply(this)},oi=function(){var t=this.j_hp_v?40:64,i=this.j_hp_v?2*(14+this.moji_size)-6+32:64;this.hg.setFont(new D(D.DIALOG,1,16)),this.hg.setColor(this.gamecolor_score),this.hg.drawString(this.gauge_text,t,i-6),this.hg.setColor(this.gamecolor_gauge_back2),this.hg.fillRect(t+this.gauge_value,i,200-this.gauge_value,8),this.hg.setColor(this.gamecolor_gauge_back1),this.hg.fillRect(t,i,this.gauge_value,8),this.hg.setColor(this.gamecolor_gauge_border),this.hg.fillRect(t-1,i-1,202,1),this.hg.fillRect(t-1,i,1,8),this.hg.fillRect(t+200,i,1,8),this.hg.fillRect(t-1,i+8,202,1)},_i=function(){if(100===this.spot_c){var t=Ji(this.spot_r,1),i=this.spot_r;this.hg.setColor(F.black);var s=this.co_j.wx+16-t;s>0&&this.hg.fillRect(0,0,s,this.gg.di.height);var h=this.co_j.wx+16+t;h<this.gg.di.width&&this.hg.fillRect(h,0,this.gg.di.width-h,this.gg.di.height);var e=this.co_j.wy+16-t;e>0&&this.hg.fillRect(s,0,h-s,e);var a=this.co_j.wy+16+t;a<this.gg.di.height&&this.hg.fillRect(s,a,h-s,this.gg.di.height-a),this.spot_g.drawImage(this.gg.os_img,0,0,this.ap),this.hg.setColor(F.black),this.hg.fillRect(0,0,this.gg.di.width,this.gg.di.height),this.hg.dispose(),this.hg.setClip("ellipse",this.co_j.wx+16-t,this.co_j.wy+16-t,i,i),this.hg.drawImage(this.spot_img,0,0,this.ap),this.hg.setColor(new F(0,0,0,96)),this.hg.fillRect(0,0,this.gg.di.width,this.gg.di.height),this.hg.setClip("ellipse",this.co_j.wx+16-(t-24),this.co_j.wy+16-(t-24),i-48,i-48),this.hg.drawImage(this.spot_img,0,0,this.ap),this.hg.dispose()}else 200===this.spot_c&&(this.hg.setColor(F.black),this.hg.fillRect(0,0,this.gg.di.width,this.gg.di.height))},ri=function(){for(var t=Ki(.625*this.gg.di.width-112),i=Ki(.2875*this.gg.di.height-36),s=[],h=1;h<=3;h++){var e="hitokoto".concat(this.hitokoto_num,"-").concat(h),a=5===this.hitokoto_num?this.showm_data[h]:this.tdb.getValue(e);0!==parseInt(a)&&s.push(a)}this.km.drawWindowbox(t,i,224,30+14*s.length);var c=this.hg._font;this.hg.setFont(new D(this.gg.font_message,0,12)),this.hg.setColor(this.gamecolor_message_name);var o="hitokoto".concat(this.hitokoto_num,"_name"),_=5===this.hitokoto_num?this.showm_data[0]:this.tdb.getValue(o);this.hg.drawString(_,t+6,i+6+12),this.hg.setColor(this.gamecolor_message_text);var r,n=function(t){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=Ht(t))){i&&(t=i);var s=0,h=function(){};return{s:h,n:function(){return s>=t.length?{done:!0}:{done:!1,value:t[s++]}},e:function(t){throw t},f:h}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var e,a=!0,c=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return a=t.done,t},e:function(t){c=!0,e=t},f:function(){try{a||null==i.return||i.return()}finally{if(c)throw e}}}}(s.entries());try{for(n.s();!(r=n.n()).done;){var m=Lt(r.value,2),p=m[0],g=m[1],u=18+14*p+12;this.hg.drawString(g,t+6,i+6+u)}}catch(t){n.e(t)}finally{n.f()}this.hg.setFont(c)},ni=function(){var t=this.tdb.options["advanced-map"],i=0,s=this.maps.layer_count-1;if(2===this.gg.layer_mode||1===this.mcs_haikei_visible)if(t){this.maps.drawMapLayer(this.maps.wx,this.maps.wy,this.g_ac2,this.gazou_scroll,2);for(var h=t.stages[this.stage-1].layers,e=h.length-1;e>=0;e--){var a=h[e];if("mapchip"===a.type)this.maps.drawMapLayer(this.maps.wx,this.maps.wy,this.g_ac2,this.gazou_scroll,3,s--);else if("main"===a.type){this.maps.drawMapLayer(this.maps.wx,this.maps.wy,this.g_ac2,this.gazou_scroll,4),i=e;break}}}else this.maps.drawMapLayer(this.maps.wx,this.maps.wy,this.g_ac2,this.gazou_scroll,1);else this.setmapc_f?(this.setmapc_f=!1,this.maps.drawMap(this.maps.wx,this.maps.wy)):this.maps.drawMapScroll(this.g_ac2);var c=this.maps.wx,o=this.maps.wy;if(this.co_j.wx=this.co_j.x-c,this.co_j.wy=this.co_j.y-o,this.ana_kazu>0&&Jt.apply(this),this.souko_count1>=1)for(var _=0;_<=this.a_kazu;_++)if(3300===this.co_a[_].pt&&this.co_a[_].gf){var r=this.co_a[_],n=r.x-c,m=r.y-o;3300===r.pt&&this.g_c3>=3&&(this.hg.setColor(this.gamecolor_firebar1),this.hg.drawRect(n,m,95,63),this.hg.drawLine(n,m,n+95,m+63),this.hg.drawLine(n,m+63,n+95,m))}if(this.a_hf&&ti.apply(this),this.yuka_id_max>=0&&this.drawYuka(),this.m_kazu>0&&ii.apply(this),this.jm_kazu>0&&ei.apply(this),14===this.j_tokugi)for(var p=0;p<=1;p++)this.co_mu[p].c>=50&&this.hg.drawImage(this.hih[1][105+this.g_ac],this.co_mu[p].x-c,this.co_mu[p].y-o,this.ap);if(this.system_draw_mode<3&&Kt.apply(this),ai.apply(this),this.system_draw_mode<2&&si.apply(this),this.j_muteki_c>0&&this.j_muteki_c--,2===this.gg.layer_mode&&t&&i>0)for(var g=t.stages[this.stage-1].layers,u=i-1;u>=0;u--)"mapchip"===g[u].type&&this.maps.drawMapLayer(this.maps.wx,this.maps.wy,this.g_ac2,this.gazou_scroll,3,s--);this.showr_c>0&&(this.hg.setColor(this.js_pen_color),this.hg.fillRect(this.showr_x,this.showr_y,this.showr_width,this.showr_height)),this.showo_c>0&&(this.hg.setColor(this.js_pen_color),this.hg.fillOval(this.showo_x,this.showo_y,this.showo_width,this.showo_height)),this.showi_c>0&&this.showi_img&&(null!==this.gg.ap?this.hg.drawImage(this.showi_img,this.showi_x,this.showi_y,this.gg.ap):this.hg.drawImage(this.showi_img,this.showi_x,this.showi_y,this.gg.oya)),this.showr_c>0&&this.showr_c--,this.showo_c>0&&this.showo_c--,this.showi_c>0&&this.showi_c--,this.second_gazou_visible&&2===this.second_gazou_priority&&null!==this.second_gazou_img&&this.maps.drawSecondImage(0,0,!0),this.gauge_v&&oi.apply(this),_i.apply(this),0===this.hitokoto_c?this.hitokoto_c=-1:this.hitokoto_c>0&&(this.hitokoto_c--,ri.apply(this)),this.km.drawMenus()};function mi(t){return mi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mi(t)}function pi(t,i){if(t){if("string"==typeof t)return gi(t,i);var s={}.toString.call(t).slice(8,-1);return"Object"===s&&t.constructor&&(s=t.constructor.name),"Map"===s||"Set"===s?Array.from(t):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?gi(t,i):void 0}}function gi(t,i){(null==i||i>t.length)&&(i=t.length);for(var s=0,h=Array(i);s<i;s++)h[s]=t[s];return h}function ui(t,i){for(var s=0;s<i.length;s++){var h=i[s];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(t,yi(h.key),h)}}function yi(t){var i=function(t){if("object"!=mi(t)||!t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var s=i.call(t,"string");if("object"!=mi(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==mi(i)?i:i+""}var di=function(){return t=function t(i,s,h,e,a){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.mapWidth=180,this.mapHeight=30,this.customParts=null,this.ran=void 0,this.ran_seed=void 0,this.gamecolor_back=void 0,this.gamecolor_back_s=void 0,this.gamecolor_back_t=void 0,this.gamecolor_back_f=void 0,this.gamecolor_score=void 0,this.gamecolor_grenade1=void 0,this.gamecolor_grenade2=void 0,this.gamecolor_firebar1=void 0,this.gamecolor_firebar2=void 0,this.gamecolor_mizunohadou=void 0,this.gamecolor_kaishi=void 0,this.gamecolor_message_back=void 0,this.gamecolor_message_border=void 0,this.gamecolor_message_name=void 0,this.gamecolor_message_text=void 0,this.gamecolor_gauge_border=void 0,this.gamecolor_gauge_back1=void 0,this.gamecolor_gauge_back2=void 0,this.ana_kazu=void 0,this.ochiru_y=void 0,this.j_hashiru_f=void 0,this.j_jump_level=void 0,this.j_jump_type=void 0,this.j_zan_f=void 0,this.j_zan_cf=void 0,this.j_zan_p=void 0,this.j_zan_nagasa=void 0,this.j_zan_c=void 0,this.j_a_id=void 0,this.j_mizu_f=void 0,this.j_mizu_ac=void 0,this.j_mizu_awa_c=void 0,this.j_left=void 0,this.j_left_shoki=void 0,this.j_jdai_f=void 0,this.boss_hp=void 0,this.showm_c=void 0,this.showi_c=void 0,this.showi_x=void 0,this.showi_y=void 0,this.time=void 0,this.time_max=void 0,this.m_kazu=void 0,this.jm_kazu=void 0,this.a_hf=void 0,this.j_fire_f=void 0,this.j_v_c=void 0,this.j_v_kakudo=void 0,this.j_jet_c=void 0,this.j_jet_kf=void 0,this.j_jet_fuel=void 0,this.j_helm_f=void 0,this.j_drell_f=void 0,this.j_tail_f=void 0,this.j_tail_ac=void 0,this.j_gr_kazu=void 0,this.sl_step=void 0,this.sl_wx=void 0,this.sl_wy=void 0,this.sl_speed=void 0,this.ks_wx=void 0,this.ks_wy=void 0,this.moji_score=void 0,this.moji_highscore=void 0,this.moji_time=void 0,this.moji_jet=void 0,this.moji_grenade=void 0,this.moji_left=void 0,this.moji_size=void 0,this.j_tail_hf=void 0,this.j_tail_type=void 0,this.default_j_tail_type=void 0,this.grenade_type=void 0,this.suberuyuka_hkf=void 0,this.j_fire_mkf=void 0,this.dengeki_mkf=void 0,this.yachamo_attack=void 0,this.poppie_attack=void 0,this.mizutaro_attack=void 0,this.mariri_attack=void 0,this.chikorin_attack=void 0,this.airms_kf=void 0,this.taiking_attack=void 0,this.kuragesso_attack=void 0,this.ugokuyuka1_type=void 0,this.ugokuyuka2_type=void 0,this.ugokuyuka3_type=void 0,this.firebar1_type=void 0,this.firebar2_type=void 0,this.dossunsun_type=void 0,this.coin1_type=void 0,this.coin3_type=void 0,this.dokan1_type=void 0,this.dokan2_type=void 0,this.dokan3_type=void 0,this.dokan4_type=void 0,this.boss_type=void 0,this.boss2_type=void 0,this.boss3_type=void 0,this.dokan_mode=void 0,this.mes1_name=void 0,this.mes2_name=void 0,this.shop_name=void 0,this.setumei_name=void 0,this.hitokoto_num=void 0,this.boss_kijyun_y=void 0,this.scroll_area=void 0,this.clear_type=void 0,this.coin_kazu=void 0,this.tpika_p=void 0,this.setmyw_w=void 0,this.setmyw_pt=void 0,this.setmyw_muki=void 0,this.souko_count1=void 0,this.souko_count2=void 0,this.souko_count3=void 0,this.heh=null,this.system_draw_mode=1,this.ml_mode=0,this.ml_mode_c=0,this.score=0,this.highscore=0,this.score_1up_1=0,this.score_1up_2=0,this.score_1up_1_para=0,this.score_1up_2_para=0,this.score_v=!0,this.stage=1,this.stage_cc=0,this.stage_max=1,this.stage_kaishi=1,this.g_c1=0,this.g_c2=0,this.g_c3=0,this.g_ac=0,this.g_ac2=0,this.tr1_c=0,this.tr2_c=0,this.left_dcc=0,this.right_dcc=0,this.xkey_c=0,this.map_data_option=qi(this.mapWidth+20,this.mapHeight+70),this.co_t=[],this.co_m=new Array(80),this.co_a=[],this.co_h=new Array(80),this.co_jm=new Array(9),this.co_mu=new Array(2),this.yo=[],this.vo_x=[],this.vo_y=[],this.ana_c=new Array(12),this.ana_x=new Array(12),this.ana_y=new Array(12),this.j_zan_x=new Array(6),this.j_zan_y=new Array(6),this.j_zan_pt=new Array(6),this.j_zan_pth=new Array(6),this.j_zan_img=new Array(6),this.j_zan_zs_x=new Array(6),this.j_zan_zs_y=new Array(6),this.j_shitakara_mushi_y=-1,this.j_hashigo_f=!1,this.j_hashigo_mushi_x=-1,this.j_djump_kf=!0,this.j_speed=80,this.j_fire_range=9999,this.j_rope_id=0,this.j_rope_r=32,this.j_rope_cf=!1,this.j_cannon_c=0,this.j_cannon_type=0,this.saka_mushi_y=-1,this.dkey_count=new Array(2),this.dkey_back_color=new F(0,0,0,96),this.j_hp_v=!1,this.j_hp=1,this.j_hp_max=1,this.j_hp_moji="HP",this.j_muteki_c=0,this.j_4_muki=0,this.showm_data=new Array(4),this.showi_img=null,this.setmapc_f=!1,this.setbacki_f=!1,this.setbacki_img=null,this.js_pen_color=new F(255,255,255),this.showr_c=0,this.showr_x=0,this.showr_y=0,this.showr_width=32,this.showr_height=32,this.showo_c=0,this.showo_x=0,this.showo_y=0,this.showo_width=32,this.showo_height=32,this.js_mes=0,this.gauge_v=!1,this.gauge_value=0,this.gauge_text="",this.vo_pa_x=new Array(6),this.vo_pa_y=new Array(6),this.stage_1up_f=new Array(3),this.j_fire_type=1,this.default_j_fire_type=1,this.j_enemy_press=1,this.boss_destroy_type=1,this.boss_hp_max=20,this.boss_destroy=1,this.j_tail_ap_boss=4,this.j_tokugi=1,this.mu_ato_x=new Array(32),this.mu_ato_y=new Array(32),this.mu_ato_p=0,this.j_double_f=!1,this.pause_switch=1,this.control_parts_visible=1,this.view_move_type=1,this.shop_item_name=new Array(16),this.shop_item_teika=new Array(16),this.door_score=10,this.water_visible=1,this.hitokoto_c=-1,this.gazou_scroll=1,this.gazou_scroll_speed_x=1,this.gazou_scroll_speed_y=1,this.gazou_scroll_x=0,this.gazou_scroll_y=0,this.mcs_haikei_visible=0,this.easy_mode=1,this.title_lock_f=!1,this.start_game_f=!1,this.mode_wait_ending=120,this.mode_wait_gameover=45,this.mode_wait_stagestart=35,this.attacktail_yf=!0,this.mhouse_c=0,this.mhouse_x=0,this.mhouse_y=0,this.yuka_ride_id=-1,this.dso_cf=!1,this.spot_c=0,this.spot_r=128,this.spot_r_mokuhyou=128,this.draw_lock_f=!1,this.nkscroll_con=0,this.nkscroll_view_x=0,this.nkscroll_view_y=0,this.nkscroll_my_view_x=0,this.nkscroll_my_view_y=0,this.nkscroll_speed_x=2,this.nkscroll_vx=0,this.nkscroll_vy=0,this.nkscroll_zsc=!1,this.boss_attack_mode=!1,this.cpoint_con=0,this.cpoint_stage=0,this.cpoint_x=32,this.cpoint_y=320,this.jst_slow_down=0,this.jst_key_down=0,this.jst_fast_run_attack=0,this.jst_fly_left_right=0,this.jst_fire_xkey_only=0,this.jst_kabe_kick=0,this.jst_double_jump=0,this.jst_fast_run=0,this.jst_high_sjump=0,this.jst_jump_level_fix=0,this.jst_auto_right=0,this.jst_syouryuuken=0,this.jst_pc_attack=0,this.up_key_c=0,this.down_key_c=0,this.j_add_tokugi=0,this.j_add_tokugi2=0,this.j_add_tokugi3=0,this.j_add_tokugi4=0,this.second_gazou_visible=!1,this.second_gazou_img=null,this.second_gazou_stage_img=new Array(4),this.second_gazou_scroll=1,this.second_gazou_scroll_speed_x=1,this.second_gazou_scroll_speed_y=1,this.second_gazou_scroll_x=0,this.second_gazou_scroll_y=0,this.second_gazou_priority=1,this.stage_haikei=1,this.gg=i,this.gm=s,this.gk=h,this.gs=e,this.tdb=a,this.spot_img=new T(this.gg.di.width,this.gg.di.height),this.spot_g=this.spot_img.createGraphics(),this.maps=new Et(this.mapWidth+20,this.mapHeight+70,this.gg,this),this.km=new At(this.gg,this.gk,"まさお"),this.co_j=new o;for(var c=0;c<=79;c++)this.co_m[c]=new o;for(var _=0;_<=79;_++)this.co_h[_]=new o;for(var r=0;r<=8;r++)this.co_jm[r]=new o;this.co_b=new wt;for(var n=0;n<=1;n++)this.co_mu[n]=new o;2==this.tdb.getValueInt("stage_select")?(this.stage_select=2,this.stage_max=4):this.stage_select=1,this.ig=new It(this.gg,this.gk,this.km,this),this.ranInit(),this.hi=this.gg.spt_img[0],this.hih=this.gg.spt_img,this.hg=this.gg.os_g,this.ap=this.gg.ap,this.init1()},i=[{key:"t_kazu",get:function(){return this.co_t?this.co_t.length-1:-1}},{key:"a_kazu",get:function(){return this.co_a?this.co_a.length-1:-1}},{key:"yuka_id_max",get:function(){return this.yo?this.yo.length-1:-1}},{key:"addHighscoreEvent",value:function(t){return this.heh=t,!0}},{key:"sendHighscore",value:function(){if("[object Function]"==Object.prototype.toString.call(this.heh)){var t=this.highscore;t<this.score&&(t=this.score),this.heh(t)}}},{key:"start",value:function(){this.ml_mode=50}},{key:"addMyTokugi",value:function(t){var i=!1;switch(t){case 1:case 30:this.j_helm_f=!0,i=!0;break;case 2:this.j_drell_f=!0,i=!0;break;case 3:this.jst_slow_down=1,i=!0;break;case 4:this.jst_key_down=1,i=!0;break;case 5:this.jst_fast_run_attack=1,i=!0;break;case 6:this.jst_fly_left_right=1,i=!0;break;case 7:this.jst_fast_run=1,i=!0;break;case 8:this.jst_fast_run=2,i=!0;break;case 9:this.jst_double_jump=1,i=!0;break;case 10:this.jst_kabe_kick=1,i=!0;break;case 11:this.jst_kabe_kick=2,i=!0;break;case 12:this.jst_fire_xkey_only=1,i=!0;break;case 13:this.jst_jump_level_fix=1,i=!0;break;case 14:this.jst_jump_level_fix=2,i=!0;break;case 15:this.jst_jump_level_fix=3,i=!0;break;case 16:this.jst_jump_level_fix=4,i=!0;break;case 17:this.j_tail_type=1,this.j_tail_f=!0,i=!0;break;case 18:this.j_tail_type=2,this.j_tail_f=!0,i=!0;break;case 19:this.j_tail_type=3,this.j_tail_f=!0,i=!0;break;case 20:this.j_fire_type=1,this.j_fire_f=!0,i=!0;break;case 21:this.j_fire_type=2,this.j_fire_range=9999,this.j_fire_f=!0,i=!0;break;case 22:this.j_fire_type=4,this.j_fire_range=10,this.j_fire_f=!0,i=!0;break;case 23:this.j_fire_type=3,this.j_fire_range=10,this.j_fire_f=!0,i=!0;break;case 24:this.j_fire_type=5,this.j_fire_f=!0,i=!0;break;case 25:this.jst_syouryuuken=1,i=!0;break;case 26:this.jst_pc_attack=1,i=!0;break;case 27:this.jst_pc_attack=2,i=!0;break;case 28:this.jst_syouryuuken=2,i=!0;break;case 29:this.jst_key_down=2,i=!0}return i}},{key:"removeMyTokugi",value:function(t){var i=!1;switch(t){case 1:case 30:this.j_helm_f=!1,i=!0;break;case 2:this.j_drell_f=!1,i=!0;break;case 3:this.jst_slow_down=0,i=!0;break;case 4:case 29:this.jst_key_down=0,i=!0;break;case 5:this.jst_fast_run_attack=0,i=!0;break;case 6:this.jst_fly_left_right=0,i=!0;break;case 7:case 8:this.jst_fast_run=0,i=!0;break;case 9:this.jst_double_jump=0,i=!0;break;case 10:case 11:this.jst_kabe_kick=0,i=!0;break;case 12:this.jst_fire_xkey_only=0,i=!0;break;case 13:case 14:case 15:case 16:this.jst_jump_level_fix=0,i=!0;break;case 17:this.j_tail_type=1,this.j_tail_f=!1,i=!0;break;case 18:this.j_tail_type=2,this.j_tail_f=!1,i=!0;break;case 19:this.j_tail_type=3,this.j_tail_f=!1,i=!0;break;case 20:this.j_fire_type=1,this.j_fire_f=!1,i=!0;break;case 21:this.j_fire_type=2,this.j_fire_range=9999,this.j_fire_f=!1,i=!0;break;case 22:this.j_fire_type=4,this.j_fire_range=10,this.j_fire_f=!1,i=!0;break;case 23:this.j_fire_type=3,this.j_fire_range=10,this.j_fire_f=!1,i=!0;break;case 24:this.j_fire_type=5,this.j_fire_f=!1,i=!0;break;case 25:case 28:this.jst_syouryuuken=0,i=!0;break;case 26:case 27:this.jst_pc_attack=0,i=!0}return i}},{key:"moveGameCounter",value:function(){switch(this.g_c3){case 0:this.g_c3=1,this.g_c1=1,this.g_c2=1,this.g_ac=0,this.g_ac2=0;break;case 1:this.g_c3=2,this.g_c1=0,this.g_c2=2,this.g_ac=1,this.g_ac2=1;break;case 2:this.g_c3=3,this.g_c1=1,this.g_c2=3,this.g_ac=1,this.g_ac2=1;break;case 3:this.g_c3=4,this.g_c1=0,this.g_c2=0,this.g_ac=0,this.g_ac2=2;break;case 4:this.g_c3=5,this.g_c1=1,this.g_c2=1,this.g_ac=0,this.g_ac2=2;break;case 5:this.g_c3=6,this.g_c1=0,this.g_c2=2,this.g_ac=1,this.g_ac2=3;break;case 6:this.g_c3=7,this.g_c1=1,this.g_c2=3,this.g_ac=1,this.g_ac2=3;break;case 7:this.g_c3=0,this.g_c1=0,this.g_c2=0,this.g_ac=0,this.g_ac2=0}}},{key:"showmSet",value:function(t,i,s,h,e){return 100==this.ml_mode&&(this.showm_c=parseInt(t),isNaN(this.showm_c)&&(this.showm_c=0),!(this.showm_c<=0||(this.showm_data[0]=i,this.showm_data[1]=s,this.showm_data[2]=h,this.showm_data[3]=e,0)))}},{key:"showmMove",value:function(){this.showm_c>0&&(this.hitokoto_c=this.showm_c,this.showm_c=0,this.hitokoto_num=5)}},{key:"showiSet",value:function(t,i,s,h){return 100==this.ml_mode&&(this.showi_c=parseInt(t),this.showi_x=parseInt(i),this.showi_y=parseInt(s),(isNaN(this.showi_c)||isNaN(this.showi_x)||isNaN(this.showi_y))&&(this.showi_c=0),!(this.showi_c<=0||(this.showi_img=this.gg.loadImage(h),0)))}},{key:"setbacki",value:function(t){return 100==this.ml_mode&&(2==this.gg.layer_mode||1==this.mcs_haikei_visible)&&(this.setbacki_f=!0,this.setbacki_img=this.gg.loadImage(t),!0)}},{key:"setMyWait",value:function(t,i,s){var h=-1,e=100,a=1;return 100==this.ml_mode&&(h=parseInt(t),e=parseInt(i),a=parseInt(s),(isNaN(h)||isNaN(e)||isNaN(a))&&(h=-1),!(h<0||this.co_j.c>=200||((e<0||e>249)&&(e=0),(a<0||a>1)&&(a=0),this.setmyw_w=h,this.setmyw_pt=e,this.setmyw_muki=a,this.system_draw_mode>=2&&(this.co_j.muki=a,this.co_j.pt=e,this.co_j.pth=a),0)))}},{key:"getBossHP",value:function(){return this.ml_mode<100||this.ml_mode>=200?0:2==this.boss_destroy_type?this.boss_hp:this.co_b.c4}},{key:"setBossHP",value:function(t){return!(this.ml_mode<100||this.ml_mode>=200)&&this.co_b.setHP(this,t)}},{key:"getBossDirection",value:function(){return this.ml_mode<100||this.ml_mode>=200?0:this.co_b.getBossDirectionFromPattern()}},{key:"isBossAttackMode",value:function(){return this.ml_mode<100||this.ml_mode>=200?0:this.boss_attack_mode?1:0}},{key:"setBossXReal",value:function(t){return!(this.ml_mode<100||this.ml_mode>=200||this.co_b.c<100||(this.co_b.x=t,0))}},{key:"setBossYReal",value:function(t){return!(this.ml_mode<100||this.ml_mode>=200||this.co_b.c<100||(this.co_b.y=t,0))}},{key:"setStageClear",value:function(){return 100==this.ml_mode&&0==this.stage_cc&&(this.stage_cc=1,this.gs.rsAddSound(2),!0)}},{key:"setSystemImage",value:function(t,i){var s,h=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(s=parseInt(t),isNaN(s)&&(s=-1),s<0||s>9)return!1;if(8==s)this.gg.setPatternImage(i);else if(9==s)this.gg.setMapchipImage(i,h);else{if(2!=this.gg.layer_mode&&1!=this.mcs_haikei_visible&&s>3)return!1;this.gg.li[s]=this.gg.loadImage(i),3==s&&200==this.ml_mode&&this.ig.drawOs2()}return!0}},{key:"setScrollArea",value:function(t,i,s,h){var e=0,a=0,c=this.mapWidth-Ki(this.gg.di.width/32),o=this.mapHeight-Ki(this.gg.di.height/32);if(100!=this.ml_mode&&91!=this.ml_mode&&96!=this.ml_mode)return!1;if(e=parseInt(t),a=parseInt(i),c=parseInt(s),o=parseInt(h),(isNaN(e)||isNaN(a)||isNaN(c)||isNaN(o))&&(e=-1),e<0||e>this.mapWidth-Ki(this.gg.di.width/32))return!1;if(c<0||c>this.mapWidth-Ki(this.gg.di.width/32))return!1;if(a<0||a>this.mapHeight-Ki(this.gg.di.height/32))return!1;if(o<0||o>this.mapHeight-Ki(this.gg.di.height/32))return!1;if(e>c){var _=e;e=c,c=_}if(a>o){var r=a;a=o,o=r}return this.maps.wx_mini=32*(e+1),this.maps.wx_max=32*(c+1),this.maps.wy_mini=32*(a+10),this.maps.wy_max=32*(o+10),!0}},{key:"setScrollAreaReal",value:function(t,i,s,h){var e=0,a=0,c=this.mapWidth-Ki(this.gg.di.width/32),o=this.mapHeight-Ki(this.gg.di.height/32);if(100!=this.ml_mode&&91!=this.ml_mode&&96!=this.ml_mode)return!1;if(e=parseInt(t),a=parseInt(i),c=parseInt(s),o=parseInt(h),(isNaN(e)||isNaN(a)||isNaN(c)||isNaN(o))&&(e=-1),e<32||e>32*(this.mapWidth-15))return!1;if(c<32||c>32*(this.mapWidth-15))return!1;if(a<320||a>32*this.mapHeight)return!1;if(o<320||o>32*this.mapHeight)return!1;if(e>c){var _=e;e=c,c=_}if(a>o){var r=a;a=o,o=r}return this.maps.wx_mini=e,this.maps.wx_max=c,this.maps.wy_mini=a,this.maps.wy_max=o,!0}},{key:"setModeWait",value:function(t,i){var s,h=0;return h=parseInt(t),s=parseInt(i),(isNaN(h)||isNaN(s))&&(h=-1),!(h<0||h>2||s<0||(0==h?this.mode_wait_ending=s:1==h?this.mode_wait_gameover=s:2==h&&(this.mode_wait_stagestart=s),0))}},{key:"setPenColor",value:function(t,i,s,h){var e,a,c,o=255;return o=parseInt(t),e=parseInt(i),a=parseInt(s),c=parseInt(h),(isNaN(o)||isNaN(e)||isNaN(a)||isNaN(c))&&(o=-1),!(o<0||(this.js_pen_color=new F(o,e,a,c),0))}},{key:"showrSet",value:function(t,i,s,h,e){return 100==this.ml_mode&&(this.showr_c=parseInt(t),this.showr_x=parseInt(i),this.showr_y=parseInt(s),this.showr_width=parseInt(h),this.showr_height=parseInt(e),(isNaN(this.showr_c)||isNaN(this.showr_x)||isNaN(this.showr_y)||isNaN(this.showr_width)||isNaN(this.showr_height))&&(this.showr_c=0),this.showr_c>0)}},{key:"showoSet",value:function(t,i,s,h,e){return 100==this.ml_mode&&(this.showo_c=parseInt(t),this.showo_x=parseInt(i),this.showo_y=parseInt(s),this.showo_width=parseInt(h),this.showo_height=parseInt(e),(isNaN(this.showo_c)||isNaN(this.showo_x)||isNaN(this.showo_y)||isNaN(this.showo_width)||isNaN(this.showo_height))&&(this.showo_c=0),this.showr_c>0)}},{key:"getJSMes",value:function(){return this.js_mes}},{key:"showGauge",value:function(t,i){var s=0;return 100==this.ml_mode&&(s=parseInt(t),isNaN(s)&&(s=0),s<0&&(s=0),s>200&&(s=200),this.gauge_v=!0,this.gauge_value=s,this.gauge_text=i,!0)}},{key:"hideGauge",value:function(){return 100==this.ml_mode&&(this.gauge_v=!1,!0)}},{key:"setJSMes",value:function(t){return this.js_mes=parseInt(t),isNaN(this.js_mes)&&(this.js_mes=0),!0}},{key:"sete",value:function(t,i,s){var h=0,e=0,a=0,c=!1;if(100!=this.ml_mode)return!1;if(h=parseInt(t),e=parseInt(i),a=parseInt(s),(isNaN(h)||isNaN(e)||isNaN(a))&&(a=0),a<=0)return!1;if(h<0||h>=this.mapWidth||e<0||e>=this.mapHeight)return!1;switch(h=32*(h+1),e=32*(e+10),a){default:break;case 1:this.tSet(h,e,100,h-this.gg.di.width-32),c=!0;break;case 2:this.tSet(h,e,110,h-this.gg.di.width-32),c=!0;break;case 3:this.tSet(h,e,110,h-this.gg.di.width-32),this.tSet(h+75,e,110,h-this.gg.di.width-32),this.tSet(h+150,e,110,h-this.gg.di.width-32),c=!0;break;case 4:this.tSet(h,e,200,h-this.gg.di.width-32),c=!0;break;case 5:this.tSet(h,e,300,h-this.gg.di.width-32),c=!0;break;case 6:this.tSet(h,e,400,h-this.gg.di.width-32),c=!0;break;case 7:this.tSet(h,e,500,h-this.gg.di.width-32),c=!0;break;case 8:this.tSet(h,e,510,h-this.gg.di.width-32),c=!0;break;case 9:this.tSet(h,e,510,h-this.gg.di.width-32-32),this.tSet(h+80,e-40,510,h-this.gg.di.width-32-32),this.tSet(h+140,e+38,510,h-this.gg.di.width-32-32),c=!0;break;case 10:this.tSet(h,e,600,h-this.gg.di.width-32),c=!0;break;case 11:this.tSet(h,e,700,h-this.gg.di.width-32),c=!0;break;case 12:this.tSet(h,e,800,h-this.gg.di.width-32),c=!0;break;case 13:this.tSet(h,e,900,h-this.gg.di.width-32),c=!0;break;case 14:this.tSet(h,e-16,1e3,h-this.gg.di.width-32-32),c=!0;break;case 15:this.tSet(h,e,1100,h-this.gg.di.width-32),c=!0;break;case 16:this.mSet(h,e,100),this.gs.rsAddSound(10),c=!0;break;case 17:this.mSet(h,e,200),this.gs.rsAddSound(11),c=!0;break;case 18:this.mSet(h,e,205),this.gs.rsAddSound(11),c=!0;break;case 19:this.mSet(h,e,300),this.gs.rsAddSound(14),c=!0;break;case 20:this.mSet(h,e,305),this.gs.rsAddSound(14),c=!0;break;case 21:this.mSet(h,e,400),this.gs.rsAddSound(15),c=!0;break;case 22:this.mSet(h,e,405),this.gs.rsAddSound(15),c=!0;break;case 23:this.mSet(h,e+19,600),c=!0;break;case 24:this.mSet(h,e+19,605),c=!0;break;case 25:this.mSet(h,e+19,606),c=!0;break;case 26:this.mSet(h,e,90),this.gs.rsAddSound(18),c=!0;break;case 27:this.mSet2(h,e,800,-5,-32),this.gs.rsAddSound(22),c=!0;break;case 28:this.mSet2(h,e,800,-10,-32),this.gs.rsAddSound(22),c=!0;break;case 29:this.mSet2(h,e,800,-15,-32),this.gs.rsAddSound(22),c=!0;break;case 30:this.mSet2(h,e,500,8-this.ranInt(17),-25),c=!0;break;case 31:this.mSet2(h,e,500,12-this.ranInt(25),-30),c=!0;break;case 32:for(var o=0;o<=7;o++){var _=45*o*3.14/180,r=Ki(8*Math.cos(_),!0,this),n=-1*Ki(8*Math.sin(_),!0,this);this.mSet2(h,e,710,r,n),this.gs.rsAddSound(18)}c=!0;break;case 33:var m=3.140000104904175,p=Ki(12*Math.cos(m),!0,this),g=-1*Ki(12*Math.sin(m),!0,this);this.mSet2(h,e,710,p,g),m=2.7038888931274414,p=Ki(12*Math.cos(m),!0,this),g=-1*Ki(12*Math.sin(m),!0,this),this.mSet2(h,e,710,p,g),m=3.576111078262329,p=Ki(12*Math.cos(m),!0,this),g=-1*Ki(12*Math.sin(m),!0,this),this.mSet2(h,e,710,p,g),this.gs.rsAddSound(18),c=!0;break;case 34:var u=3.3144445419311523,y=Ki(12*Math.cos(u),!0,this),d=-1*Ki(12*Math.sin(u),!0,this);this.mSet2(h,e,710,y,d),u=2.965555429458618,y=Ki(12*Math.cos(u),!0,this),d=-1*Ki(12*Math.sin(u),!0,this),this.mSet2(h,e,710,y,d),u=3.6633334159851074,y=Ki(12*Math.cos(u),!0,this),d=-1*Ki(12*Math.sin(u),!0,this),this.mSet2(h,e,710,y,d),u=2.616666793823242,y=Ki(12*Math.cos(u),!0,this),d=-1*Ki(12*Math.sin(u),!0,this),this.mSet2(h,e,710,y,d),this.gs.rsAddSound(18),c=!0;break;case 35:this.aSet(h+16,e+16,70,h),c=!0;break;case 36:this.aSet(h+16,e+16,71,h),c=!0;break;case 37:this.aSet(h+16,e+16,72,h),this.aSet(h+16,e+16,74,h),this.aSet(h+16,e+16,76,h),c=!0;break;case 38:this.aSet(h+16,e+16,73,h),this.aSet(h+16,e+16,75,h),this.aSet(h+16,e+16,77,h),c=!0;break;case 39:this.aSet(h,e,101,h),c=!0;break;case 40:this.aSet(h,e+9,111,h),c=!0;break;case 41:this.tSet(h,e,320,h-this.gg.di.width-32),c=!0;break;case 42:this.tSet(h,e,330,h-this.gg.di.width-32),c=!0;break;case 43:this.tSet(h,e,660,h-this.gg.di.width-32),c=!0;break;case 44:this.tSet(h,e,670,h-this.gg.di.width-32),c=!0;break;case 45:this.tSet(h,e,710,h-this.gg.di.width-32),c=!0;break;case 46:this.tSet(h,e,720,h-this.gg.di.width-32),c=!0;break;case 47:this.tSet(h,e,930,h-this.gg.di.width-32),c=!0;break;case 48:this.tSet(h,e,920,h-this.gg.di.width-32),c=!0;break;case 49:this.tSet(h,e,1050,h-this.gg.di.width-32),c=!0;break;case 50:this.tSet(h,e,1060,h-this.gg.di.width-32),c=!0;break;case 51:this.tSet(h,e,1070,h-this.gg.di.width-32),c=!0;break;case 52:this.tSet(h,e,1080,h-this.gg.di.width-32),c=!0;break;case 53:this.tSet(h,e,1150,h-this.gg.di.width-32),c=!0;break;case 54:this.tSet(h,e,1160,h-this.gg.di.width-32),c=!0;break;case 55:this.tSet(h,e,1170,h-this.gg.di.width-32),c=!0;break;case 56:this.tSet(h,e,1180,h-this.gg.di.width-32),c=!0;break;case 57:this.tSetBoss(h,e,150,-4);break;case 58:this.tSetBoss(h,e,450,-3);break;case 59:this.tSetBoss(h,e,650,-3);break;case 60:for(var f=0;f<=300;f+=90)this.mSet2(h,e,950,f,0),this.mSet2(h,e,960,300-f,0);this.gs.rsAddSound(18),c=!0;break;case 61:var j=3.140000104904175;this.mSet2(h,e,731,Ki(9*Math.cos(j),!0,this),Ki(9*Math.sin(j),!0,this)),j=3.6633334159851074,this.mSet2(h,e,731,Ki(9*Math.cos(j),!0,this),Ki(9*Math.sin(j),!0,this)),j=4.186666965484619,this.mSet2(h,e,731,Ki(9*Math.cos(j),!0,this),Ki(9*Math.sin(j),!0,this)),this.gs.rsAddSound(11),c=!0;break;case 62:var l=0;this.mSet2(h,e,731,Ki(9*Math.cos(l),!0,this),Ki(9*Math.sin(l),!0,this)),l=5.756667137145996,this.mSet2(h,e,731,Ki(9*Math.cos(l),!0,this),Ki(9*Math.sin(l),!0,this)),l=5.233333587646484,this.mSet2(h,e,731,Ki(9*Math.cos(l),!0,this),Ki(9*Math.sin(l),!0,this)),this.gs.rsAddSound(11),c=!0;break;case 63:this.mSet2(h-16,e,732,-10,0),this.gs.rsAddSound(15),c=!0;break;case 64:this.mSet2(h-16,e,732,10,0),this.gs.rsAddSound(15),c=!0;break;case 65:this.mSet2(h,e,75,-1,0),this.gs.rsAddSound(11),c=!0;break;case 66:this.mSet2(h,e,810,-12,0),this.gs.rsAddSound(22),c=!0;break;case 67:this.mSet2(h,e,810,12,0),this.gs.rsAddSound(22),c=!0;break;case 68:this.mSet2(h,e,77,-1,0),this.gs.rsAddSound(14),c=!0;break;case 69:var v=3.140000104904175;this.mSet2(h,e,733,Ki(9*Math.cos(v),!0,this),Ki(9*Math.sin(v),!0,this)),v=3.6633334159851074,this.mSet2(h,e,733,Ki(9*Math.cos(v),!0,this),Ki(9*Math.sin(v),!0,this)),v=2.616666793823242,this.mSet2(h,e,733,Ki(9*Math.cos(v),!0,this),Ki(9*Math.sin(v),!0,this)),this.gs.rsAddSound(10),c=!0;break;case 70:var x=0;this.mSet2(h,e,733,Ki(9*Math.cos(x),!0,this),Ki(9*Math.sin(x),!0,this)),x=5.756667137145996,this.mSet2(h,e,733,Ki(9*Math.cos(x),!0,this),Ki(9*Math.sin(x),!0,this)),x=.5233333706855774,this.mSet2(h,e,733,Ki(9*Math.cos(x),!0,this),Ki(9*Math.sin(x),!0,this)),this.gs.rsAddSound(10),c=!0;break;case 71:for(var k=0;k<=270;k+=90)this.mSet2(h,e,970,k,0);this.gs.rsAddSound(18),c=!0;break;case 72:for(var w=0;w<=270;w+=90)this.mSet2(h,e,980,w,0);this.gs.rsAddSound(18),c=!0;break;case 73:this.mSet2(h,e,740,-4,9),c=!0;break;case 74:this.mSet2(h,e,740,-4,11),c=!0;break;case 75:this.mSet2(h,e,740,4,9),c=!0;break;case 76:this.mSet2(h,e,740,4,11),c=!0;break;case 77:this.mSet2(h,e,800,5,-32),this.gs.rsAddSound(22),c=!0;break;case 78:this.mSet2(h,e,800,10,-32),this.gs.rsAddSound(22),c=!0;break;case 79:this.mSet2(h,e,800,15,-32),this.gs.rsAddSound(22),c=!0;break;case 80:this.mSet2(h,e,80,12,-24),this.mSet2(h,e,80,-12,-24),this.gs.rsAddSound(16),c=!0;break;case 81:this.mSet2(h,e,800,0,0),this.gs.rsAddSound(22),c=!0;break;case 82:this.mSet2(h,e,801,0,0),this.gs.rsAddSound(22),c=!0;break;case 83:this.mSet2(h,e,85,-1,0),this.gs.rsAddSound(11),c=!0;break;case 84:this.mSet2(h,e,87,-1,0),this.gs.rsAddSound(14),c=!0}return c}},{key:"setScrollLock",value:function(t){var i=32;return(100==this.ml_mode||91==this.ml_mode||96==this.ml_mode)&&(i=parseInt(t),isNaN(i)&&(i=32),i<32&&(i=32),10==this.sl_step||11==this.sl_step?this.sl_step=11:this.sl_step=1,this.sl_wx=i,this.sl_wy=32*(this.mapHeight-Ki((this.gg.di.height-this.maps.wy_mini)/32)),!0)}},{key:"attackFire",value:function(t,i,s,h){var e,a,c,o=0,_=0;if(100!=this.ml_mode)return-1;if(o=parseInt(t),e=parseInt(i),a=parseInt(s),c=parseInt(h),(isNaN(o)||isNaN(e)||isNaN(a)||isNaN(c))&&(o=-1),o<0)return-1;if(this.jm_kazu>0)for(var r=0;r<=8;r++)if(!(this.co_jm[r].c<100)){var n=this.co_jm[r];n.x<o||n.x>=o+a||n.y<e||n.y>=e+c||(200==n.c?(n.c=50,n.c1=1,n.c2=20,this.gs.rsAddSound(9),_+=10):(n.c=0,this.jm_kazu--,_++))}return _}},{key:"attackTail",value:function(t,i,s,h){var e,a,c,o=0,_=0;return 100!=this.ml_mode?-1:(o=parseInt(t),e=parseInt(i),a=parseInt(s),c=parseInt(h),(isNaN(o)||isNaN(e)||isNaN(a)||isNaN(c))&&(o=-1),o<0?-1:(this.j_tail_ac>=3&&this.j_tail_ac<=7&&this.attacktail_yf&&(_=0,15!=this.j_tokugi||2!=this.j_4_muki&&3!=this.j_4_muki?this.co_j.y<e+c-4&&this.co_j.y+32>e+4&&(0==this.co_j.muki?this.co_j.x-32<=o+a&&this.co_j.x+4>=o&&(_=1):this.co_j.x+32+32>=o&&this.co_j.x+28<=o+a&&(_=1)):this.co_j.x<o+a-4&&this.co_j.x+32>o+4&&(2==this.j_4_muki?this.co_j.y-32<=e+c&&this.co_j.y+4>=e&&(_=1):this.co_j.y+32+32>=e&&this.co_j.y+28<=e+c&&(_=1)),1==_&&(this.attacktail_yf=!1,this.gs.rsAddSound(9))),_))}},{key:"destroyEnemy",value:function(t,i,s,h){var e,a,c,o=0,_=0;if(100!=this.ml_mode)return-1;if(o=parseInt(t),e=parseInt(i),a=parseInt(s),c=parseInt(h),(isNaN(o)||isNaN(e)||isNaN(a)||isNaN(c))&&(o=-1),o<0)return-1;for(var r=0;r<=this.t_kazu;r++)if(!(this.co_t[r].c<100)){var n=this.co_t[r];if(!(o>=n.x+32||o+a<=n.x||e>=n.y+32||e+c<=n.y)){if(n.x<this.co_j.x?(n.pth=1,n.vx=-3):(n.pth=0,n.vx=3),n.c>=1200&&n.c<1300)n.c=54,n.vy=-25;else if(n.c>=1400&&n.c<1500)n.c=57,n.c1=0;else if(n.c>=1400&&n.c<1500)n.c=57,n.c1=0;else if(1190==n.c){n.c=55,n.c1=0;var m=Ji(n.x,5),p=Ji(n.y,5);1==n.c5?this.onASwitch(m-5,p-5,m+5,p+5):this.onASwitch(m-10,p-10,m+10,p+10)}else n.c=52,n.vy=-25,14!=this.j_tokugi&&15!=this.j_tokugi||(n.c=55,n.c1=0);_++,this.gs.rsAddSound(9)}}return _}},{key:"setmapc",value:function(t,i,s){var h=0,e=0,a=0;return 100==this.ml_mode&&(h=parseInt(t),e=parseInt(i),a=parseInt(s),(isNaN(h)||isNaN(e)||isNaN(a))&&(a=-1),!(a<0||a>249||h<0||h>=this.mapWidth||e<0||e>=this.mapHeight||(h++,e+=10,this.maps.map_bg[h][e]=a,this.map_data_option[h][e]&&(this.map_data_option[h][e]=!1),this.setmapc_f=!0,0)))}},{key:"getmapc",value:function(t,i){var s=0,h=0,e=0;return 100!=this.ml_mode?-1:(s=parseInt(t),h=parseInt(i),(isNaN(s)||isNaN(h))&&(e=-1),e<0||s<0||s>=this.mapWidth||h<0||h>=this.mapHeight?-1:(s++,h+=10,this.maps.map_bg[s][h]))}},{key:"setmapc2",value:function(t,i,s){var h=0,e=0,a=0;return 100==this.ml_mode&&2==this.gg.layer_mode&&(h=parseInt(t),e=parseInt(i),a=parseInt(s),(isNaN(h)||isNaN(e)||isNaN(a))&&(a=-1),!(a<0||a>255||h<0||h>=this.mapWidth||e<0||e>=this.mapHeight||(h++,e+=10,this.maps.map_bg_layer[0][h][e]=a,0)))}},{key:"getmapc2",value:function(t,i){var s=0,h=0,e=0;return 100!=this.ml_mode||2!=this.gg.layer_mode?-1:(s=parseInt(t),h=parseInt(i),(isNaN(s)||isNaN(h))&&(e=-1),e<0||s<0||s>=this.mapWidth||h<0||h>=this.mapHeight?-1:(s++,h+=10,this.maps.map_bg_layer[0][s][h]))}},{key:"showMyHP",value:function(t){return this.j_hp_v=!0,this.j_hp_moji=null!=t?t:"",!0}},{key:"setMyMaxHP",value:function(t){var i=-1;return i=parseInt(t),isNaN(i)&&(i=-1),!(i<0||(this.j_hp_max=i,(100==this.ml_mode||90==this.ml_mode||91==this.ml_mode||96==this.ml_mode)&&this.co_j.c>=100&&this.co_j.c<200&&(this.j_hp=this.j_hp_max),0))}},{key:"setMyHP",value:function(t){var i;return(100==this.ml_mode||90==this.ml_mode||91==this.ml_mode||96==this.ml_mode)&&this.co_j.c>=100&&this.co_j.c<200&&(i=parseInt(t),isNaN(i)&&(i=-1),!(i<0||(this.j_hp=i,0)))}},{key:"getMyHP",value:function(){return 100==this.ml_mode&&this.co_j.c>=100&&this.co_j.c<200?this.j_hp:0}},{key:"setMyHPDamage",value:function(t){var i;return 100==this.ml_mode&&this.co_j.c>=100&&this.co_j.c<200&&(i=parseInt(t),isNaN(i)&&(i=4294867297),4294867297!=i&&(this.j_muteki_c>0||(this.j_hp-=i,this.j_hp<=0?this.j_hp=0:(this.setMyMuteki(),this.gs.rsAddSound(24))),!0))}},{key:"setMyMuteki",value:function(){this.j_muteki_c=17}},{key:"ranInit",value:function(){this.ran_seed=4294967296*Math.random()|0}},{key:"ranInt",value:function(t){var i=this.ran_seed;return i=((i=(i^i<<9)>>>0)^i>>>11)>>>0,this.ran_seed=i=(i^i<<19)>>>0,2.3283064365386963e-10*i*t|0}},{key:"drawScore",value:function(){var t=this.hg._font;this.hg.setColor(this.gamecolor_score),this.hg.setFont(new D(this.gg.font_score,1,this.moji_size));var i=this.moji_size+14,s=this.score_v?"":" ",h="";if(this.score_v&&(h+="".concat(this.moji_score," ").concat(this.score,"    ").concat(this.moji_highscore," ").concat(this.highscore)),(this.j_left_shoki>0||this.j_left>0)&&(h+="".concat(this.moji_left).concat(s).concat(this.j_left).concat(s).concat(s).concat(s).concat(s)),this.time_max>0){var e=Math.floor(this.time/1e3);h+="".concat(this.moji_time).concat(s).concat(e)}this.hg.drawString(h,40,i);var a=2*i-6;if(this.j_hp_v&&100===this.ml_mode){var c="".concat(this.j_hp_moji," ").concat(this.j_hp);this.hg.drawString(c,40,a)}this.hg.setFont(t)}},{key:"drawItem",value:function(){var t=this,i=this.hg._font,s=this.gg.di.height-33;if(this.dkey_count[0]+this.dkey_count[1]>=1){var h=8,e=this.gg.di.height-40,a=function(i){t.dkey_count[i-1]>0&&function(t){return function(t){if(Array.isArray(t))return gi(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||pi(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Array(t.dkey_count[i-1])).map((function(){t.hg.setColor(t.dkey_back_color),t.hg.fillRect(h-2,e-2,36,36),t.hg.drawImage(t.gg.spt_option_img[i+2],h,e,t.ap),h+=36,s=t.gg.di.height-65}))};a(1),a(2)}if(this.j_jet_fuel>0||this.j_gr_kazu>0){var c="";this.hg.setColor(this.gamecolor_score),this.hg.setFont(new D(this.gg.font_score,1,this.moji_size)),this.j_jet_fuel>0&&(c+="".concat(this.moji_jet," ").concat(this.j_jet_fuel)),this.j_gr_kazu>0&&(this.j_jet_fuel>0&&(c+="    "),c+=this.moji_grenade,1!==this.j_gr_kazu&&(c+=" ".concat(this.j_gr_kazu))),this.hg.drawString(c,40,s+this.moji_size),this.hg.setFont(i)}}},{key:"drawScore2",value:function(){var t=this.hg._font;this.hg.setColor(this.gamecolor_score),this.hg.setFont(new D(this.gg.font_score,1,this.moji_size));var i=this.moji_size+14,s="";this.score_v&&(s="".concat(this.moji_score," ").concat(this.score,"    ").concat(this.moji_highscore," ").concat(this.highscore)),(this.j_left_shoki>0||this.j_left>0)&&(s+="".concat(this.moji_left).concat(this.j_left)),this.hg.drawString(s,40,i),this.hg.setFont(t)}},{key:"addScore",value:function(t){this.score+=t,this.score_1up_1>0&&this.score>=this.score_1up_1&&(this.j_left++,this.score_1up_1=0),this.score_1up_2>0&&this.score>=this.score_1up_2&&(this.j_left++,this.score_1up_2=0)}},{key:"getCoinTotal",value:function(){var t=this.mapWidth,i=0;2==this.scroll_area||4==this.scroll_area?t=Ki(this.gg.di.width/32):3!=this.scroll_area&&5!=this.scroll_area||(t=Ki(2*this.gg.di.width/32));for(var s=10;s<=this.mapHeight+9;s++)for(var h=1;h<=t;h++)9==this.maps.map_bg[h][s]&&i++;return this.coin_kazu=i,i}},{key:"getCoinCount",value:function(t,i,s,h){if(100==this.ml_mode||90==this.ml_mode||91==this.ml_mode||96==this.ml_mode){var e=t+1,a=i+10,c=s+1,o=h+10;if(e<1&&(e=1),e>this.mapWidth&&(e=this.mapWidth),c<1&&(c=1),c>this.mapWidth&&(c=this.mapWidth),a<10&&(a=10),a>this.mapHeight+9&&(a=this.mapHeight+9),o<10&&(o=10),o>this.mapHeight+9&&(o=this.mapHeight+9),e>c){var _=e;e=c,c=_}if(a>o){var r=a;a=o,o=r}for(var n=0,m=a;m<=o;m++)for(var p=e;p<=c;p++)9==this.maps.map_bg[p][m]&&n++;return n}return-1}},{key:"showHashigo",value:function(){var t=this.mapWidth;2==this.scroll_area||4==this.scroll_area?t=Ki(this.gg.di.width/32):3!=this.scroll_area&&5!=this.scroll_area||(t=Ki(2*this.gg.di.width/32));for(var i=10;i<=this.mapHeight+9;i++)for(var s=1;s<=t;s++)8==this.maps.map_bg[s][i]&&(this.maps.map_bg[s][i]=10);this.setmapc_f=!0}},{key:"addSerifu",value:function(t,i,s){for(var h=1;h<=s;h++){var e=this.tdb.getValue("serifu".concat(i,"-").concat(h));0!=parseInt(e||"",10)&&this.km.addItem(t,e||"")}}},{key:"addSerifu2",value:function(t,i,s,h){var e,a,c;for(null==h?(a=1,c=s):(a=s,c=h),e=a;e<=c;e++){var o=this.tdb.getValue("".concat(i).concat(e)),_=void 0;_=parseInt(o),isNaN(_)&&(_=-1),0!=_&&this.km.addItem(t,o||"")}}},{key:"mL100",value:function(){var t=this,i=function(){for(var i=!1,s=0;s<=t.a_kazu;s++)if(t.co_a[s].gf){var h=t.co_a[s];h.c>=100&&h.c<200?t.co_j.x+15>=h.x&&t.co_j.x<=h.x+64&&t.co_j.y+31>=h.y&&t.co_j.y<=h.y+13&&(i=!0):300!=h.c?h.c>=400&&h.c<500?t.co_j.x+15>=h.x&&t.co_j.x<=h.x+80&&t.co_j.y+31>=h.y&&t.co_j.y<=h.y+63&&(i=!0):500!=h.c?600!=h.c?700==h.c&&10!=t.j_tokugi&&12!=t.j_tokugi&&13!=t.j_tokugi&&t.co_j.x+15>=h.x&&t.co_j.x<=h.x+16&&t.co_j.y+31>=h.y&&t.co_j.y<=h.y+31&&(i=!0):t.co_j.x+15>=h.x&&t.co_j.x<=h.x+48&&t.co_j.y+31>=h.y+16&&t.co_j.y<=h.y+47&&(i=!0):t.co_j.x+15>=h.x&&t.co_j.x<=h.x+80&&t.co_j.y+31>=h.y&&t.co_j.y<=h.y+13&&(i=!0):h.c3<200&&t.co_j.x+15>=h.x&&t.co_j.x<=h.x+48&&t.co_j.y+31>=h.y&&t.co_j.y<=h.y+31&&(i=!0)}return i};if(this.showmMove(),this.setmyw_w>=0&&this.co_j.c>=100&&this.co_j.c<200&&(0==this.setmyw_w?this.co_j.c=100:(this.co_j.c=150,this.co_j.c1=this.setmyw_w,this.co_j.vx=0,this.co_j.vy=0),this.j_zan_f=!1,this.j_jet_c=0,this.j_jump_type=0,this.setmyw_w=-1),14==this.j_tokugi&&(this.jm_kazu=9999),this.moveGameCounter(),this.km.move(),this.aMove(),this.nkscroll_zsc=!1,this.yuka_id_max>=0&&this.moveYuka(),100==this.co_j.c?14==this.j_tokugi||15==this.j_tokugi?this.jM100stg():this.jM100():this.jMove(),2==this.j_tail_ac&&(this.attacktail_yf=!0),this.ana_kazu>0&&this.anaMove(),this.sl_step>0)if(10==this.sl_step||11==this.sl_step){if(this.ks_wx+=this.sl_speed,this.ks_wx>this.maps.wx_max&&(this.ks_wx=this.maps.wx_max),this.maps.wx=this.ks_wx,this.maps.wy=this.ks_wy,14==this.j_tokugi){this.co_j.x+=this.sl_speed;var s=this.sl_speed;(this.maps.getBGCode(this.co_j.x+31,this.co_j.y)>=20||this.maps.getBGCode(this.co_j.x+31,this.co_j.y+31)>=20)&&(s=32*Ji(this.co_j.x+31,5)-32-(this.co_j.x-this.sl_speed),this.co_j.x=32*Ji(this.co_j.x+31,5)-32),this.co_j.wx=this.co_j.x-this.maps.wx;for(var h=0;h<=31;h++)this.mu_ato_x[h]+=s;(s=this.mu_ato_p-7)<0&&(s+=32),this.co_mu[0].x=this.mu_ato_x[s],this.co_mu[0].y=this.mu_ato_y[s],(s=this.mu_ato_p-14)<0&&(s+=32),this.co_mu[1].x=this.mu_ato_x[s],this.co_mu[1].y=this.mu_ato_y[s]}if(300!=this.co_j.c&&310!=this.co_j.c)if(14==this.j_tokugi)this.co_j.x<this.ks_wx?(this.co_j.x=this.ks_wx,this.co_j.vx<0&&(this.co_j.vx=0),(this.maps.getBGCode(this.co_j.x+31,this.co_j.y)>=20||this.maps.getBGCode(this.co_j.x+31,this.co_j.y+31)>=20)&&this.co_j.c>=100&&this.co_j.c<200&&this.jShinu(1)):this.co_j.x>this.ks_wx+this.gg.di.width-32&&(this.co_j.x=this.ks_wx+this.gg.di.width-32,this.co_j.vx=0,this.co_j.vx>0&&(this.co_j.vx=0),this.co_j.wx=this.co_j.x-this.maps.wx),this.co_j.c>=100&&this.co_j.c<200&&(this.co_j.y<this.maps.wy?(this.co_j.y=this.maps.wy,this.co_j.vy=0,this.co_j.wy=this.co_j.y-this.maps.wy):this.co_j.y>this.maps.wy+this.gg.di.height-32&&(this.co_j.y=this.maps.wy+this.gg.di.height-32,this.co_j.vy=0,this.co_j.wy=this.co_j.y-this.maps.wy));else if(this.co_j.x<this.ks_wx-16){this.co_j.x=this.ks_wx-16,this.co_j.vx<0&&(this.co_j.vx=0);var e=this.maps.getBGCode(this.co_j.x+15,this.co_j.y),a=this.maps.getBGCode(this.co_j.x+15,this.co_j.y+31);(e>=18&&19!=e||a>=18&&19!=a||this.j_hashigo_f)&&this.co_j.c>=100&&this.co_j.c<200&&(this.co_j.c=210,this.co_j.y=this.maps.wy-64,this.co_j.c1=0,this.j_jet_c=0,this.j_v_c=0,this.j_zan_f=!1,this.j_muteki_c=0,this.j_hp=0,this.km.initAll(),this.km.mode=10),this.a_hf&&i()&&this.co_j.c>=100&&this.co_j.c<200&&(this.co_j.c=210,this.co_j.y=this.maps.wy-64,this.co_j.c1=0,this.j_jet_c=0,this.j_v_c=0,this.j_zan_f=!1,this.j_muteki_c=0,this.j_hp=0,this.km.initAll(),this.km.mode=10),this.yuka_ride_id>=0&&this.yo[this.yuka_ride_id].con>=200&&this.yo[this.yuka_ride_id].con<300&&this.co_j.c>=100&&this.co_j.c<200&&(this.co_j.c=210,this.co_j.y=this.maps.wy-64,this.co_j.c1=0,this.j_jet_c=0,this.j_v_c=0,this.j_zan_f=!1,this.j_muteki_c=0,this.j_hp=0,this.km.initAll(),this.km.mode=10)}else this.co_j.x>this.ks_wx+this.gg.di.width-16&&(this.co_j.x=this.ks_wx+this.gg.di.width-16,this.co_j.vx=0,this.co_j.vx>0&&(this.co_j.vx=0));11==this.sl_step&&this.maps.wx>=this.sl_wx&&(this.maps.wx=this.sl_wx,this.sl_wy=this.ks_wy,this.sl_step=3,this.gs.playBGM(4))}else 1==this.sl_step?100==this.nkscroll_con?this.nkscroll_view_x>=this.sl_wx&&(this.maps.wx=this.sl_wx,this.sl_step=2,this.gs.playBGM(4)):this.maps.wx>=this.sl_wx&&(this.maps.wx=this.sl_wx,this.sl_step=2,this.gs.playBGM(4)):2==this.sl_step?(this.maps.wx=this.sl_wx,this.co_j.x<this.sl_wx-16?(this.co_j.x=this.sl_wx-16,this.co_j.vx=0):this.co_j.x>this.sl_wx+this.gg.di.width-16&&(this.co_j.x=this.sl_wx+this.gg.di.width-16,this.co_j.vx=0),this.maps.wy>=this.sl_wy&&(this.maps.wy=this.sl_wy,this.sl_step=3)):(this.maps.wx=this.sl_wx,this.maps.wy=this.sl_wy,this.j_tokugi>=14&&this.j_tokugi<=15?(this.co_j.c>=100&&this.co_j.c<200&&(this.co_j.y<this.maps.wy?(this.co_j.y=this.maps.wy,this.co_j.vy=0,this.co_j.wy=this.co_j.y-this.maps.wy):this.co_j.y>this.maps.wy+this.gg.di.height-32&&(this.co_j.y=this.maps.wy+this.gg.di.height-32,this.co_j.vy=0,this.co_j.wy=this.co_j.y-this.maps.wy)),this.co_j.x<this.sl_wx?(this.co_j.x=this.sl_wx,this.co_j.vx=0):this.co_j.x>this.sl_wx+this.gg.di.width-32&&(this.co_j.x=this.sl_wx+this.gg.di.width-32,this.co_j.vx=0)):this.co_j.x<this.sl_wx-16?(this.co_j.x=this.sl_wx-16,this.co_j.vx=0):this.co_j.x>this.sl_wx+this.gg.di.width-16&&(this.co_j.x=this.sl_wx+this.gg.di.width-16,this.co_j.vx=0));if(100!=this.nkscroll_con||0!=this.sl_step&&1!=this.sl_step){if(200==this.nkscroll_con){var c=!1;this.nkscroll_my_view_x>this.maps.my_wx_max?(this.nkscroll_my_view_x-=8,this.nkscroll_my_view_x<=this.maps.my_wx_max&&(this.nkscroll_my_view_x=this.maps.my_wx_max,c=!0),this.nkscroll_view_x=this.co_j.x-this.nkscroll_my_view_x,this.nkscroll_view_x>=this.maps.wx_max&&(this.nkscroll_view_x=this.maps.wx_max,c=!0)):this.nkscroll_my_view_x<this.maps.my_wx_mini?(this.nkscroll_my_view_x+=8,this.nkscroll_my_view_x>=this.maps.my_wx_mini&&(this.nkscroll_my_view_x=this.maps.my_wx_mini,c=!0),this.nkscroll_view_x=this.co_j.x-this.nkscroll_my_view_x,this.nkscroll_view_x<=this.maps.wx_mini&&(this.nkscroll_view_x=this.maps.wx_mini,c=!0)):(c=!0,this.nkscroll_view_x=this.co_j.x-this.nkscroll_my_view_x);var o=!1;this.nkscroll_my_view_y>this.maps.my_wy_max?(this.nkscroll_my_view_y-=4,this.nkscroll_my_view_y<=this.maps.my_wy_max&&(this.nkscroll_my_view_y=this.maps.my_wy_max,o=!0),this.nkscroll_view_y=this.co_j.y-this.nkscroll_my_view_y,this.nkscroll_view_y>=this.maps.wy_max&&(this.nkscroll_view_y=this.maps.wy_max,o=!0)):this.nkscroll_my_view_y<this.maps.my_wy_mini?(this.nkscroll_my_view_y+=4,this.nkscroll_my_view_y>=this.maps.my_wy_mini&&(this.nkscroll_my_view_y=this.maps.my_wy_mini,o=!0),this.nkscroll_view_y=this.co_j.y-this.nkscroll_my_view_y,this.nkscroll_view_y<=this.maps.wy_mini&&(this.nkscroll_view_y=this.maps.wy_mini,o=!0)):(o=!0,this.nkscroll_view_y=this.co_j.y-this.nkscroll_my_view_y),c&&o&&(this.nkscroll_con=0),this.maps.wx=this.nkscroll_view_x,this.maps.wy=this.nkscroll_view_y,this.maps.wx<this.maps.wx_mini?this.maps.wx=this.maps.wx_mini:this.maps.wx>this.maps.wx_max&&(this.maps.wx=this.maps.wx_max),this.maps.wy<this.maps.wy_mini?this.maps.wy=this.maps.wy_mini:this.maps.wy>this.maps.wy_max&&(this.maps.wy=this.maps.wy_max),this.nkscroll_my_view_x=this.co_j.x-this.maps.wx,this.nkscroll_my_view_y=this.co_j.y-this.maps.wy,this.nkscroll_view_x=this.co_j.x-this.nkscroll_my_view_x,this.nkscroll_view_y=this.co_j.y-this.nkscroll_my_view_y}else if(300==this.nkscroll_con)this.co_j.x>this.nkscroll_view_x+this.gg.di.width-16?(this.co_j.x=this.nkscroll_view_x+this.gg.di.width-16,this.co_j.vx>0&&(this.co_j.vx=0)):this.co_j.x<this.nkscroll_view_x-15&&(this.co_j.x=this.nkscroll_view_x-15,this.co_j.vx<0&&(this.co_j.vx=0)),this.maps.wx=this.nkscroll_view_x;else if(400==this.nkscroll_con){if(this.nkscroll_vx>0){if(this.nkscroll_view_x+=this.nkscroll_speed_x,this.nkscroll_view_x>=this.maps.wx_max&&(this.nkscroll_view_x=this.maps.wx_max,this.nkscroll_vx=0),300!=this.co_j.c&&310!=this.co_j.c)if(this.co_j.x<this.nkscroll_view_x-15){this.co_j.x=this.nkscroll_view_x-15,this.co_j.vx<0&&(this.co_j.vx=0);var _=this.maps.getBGCode(this.co_j.x+15,this.co_j.y),r=this.maps.getBGCode(this.co_j.x+15,this.co_j.y+31);(_>=18&&19!=_||r>=18&&19!=r||this.j_hashigo_f)&&this.co_j.c>=100&&this.co_j.c<200&&this.jShinu(5),this.a_hf&&i()&&this.co_j.c>=100&&this.co_j.c<200&&this.jShinu(5),this.yuka_ride_id>=0&&this.yo[this.yuka_ride_id].con>=200&&this.yo[this.yuka_ride_id].con<300&&this.co_j.c>=100&&this.co_j.c<200&&this.jShinu(5),this.isYukaCross()&&this.jShinu(5)}else this.co_j.x>this.nkscroll_view_x+this.gg.di.width-16&&(this.co_j.x=this.nkscroll_view_x+this.gg.di.width-16,this.co_j.vx>0&&(this.co_j.vx=0))}else this.co_j.x>this.nkscroll_view_x+this.gg.di.width-16?(this.co_j.x=this.nkscroll_view_x+this.gg.di.width-16,this.co_j.vx>0&&(this.co_j.vx=0)):this.co_j.x<this.nkscroll_view_x-15&&(this.co_j.x=this.nkscroll_view_x-15,this.co_j.vx<0&&(this.co_j.vx=0));if(this.maps.wx=this.nkscroll_view_x,this.co_j.c>=100&&this.co_j.c<200&&this.co_j.y<this.maps.wy-16){this.co_j.y=this.maps.wy-16,this.co_j.vy<0&&(this.co_j.vy=0);var n=this.maps.getBGCode(this.co_j.x+15,this.co_j.y),m=this.maps.getBGCode(this.co_j.x+15,this.co_j.y+31);(n>=18||m>=18)&&this.jShinu(5)}this.co_j.c>=100&&this.co_j.c<200&&this.co_j.y>=this.maps.wy+this.gg.di.height&&this.jShinu(5)}}else{if(this.nkscroll_vx>0){if(this.nkscroll_view_x+=this.nkscroll_speed_x,this.nkscroll_view_x>=this.maps.wx_max&&(this.nkscroll_view_x=this.maps.wx_max,this.nkscroll_vx=0),14==this.j_tokugi&&300!=this.co_j.c&&310!=this.co_j.c){var p=this.co_j.x;this.co_j.x+=this.nkscroll_speed_x,(this.maps.getBGCode(this.co_j.x+31,this.co_j.y)>=20||this.maps.getBGCode(this.co_j.x+31,this.co_j.y+31)>=20)&&(this.co_j.x=32*Ji(this.co_j.x+31,5)-32),this.co_j.c>=100&&this.co_j.c<200&&(this.co_j.x>this.nkscroll_view_x+this.gg.di.width-32&&(this.co_j.x=this.nkscroll_view_x+this.gg.di.width-32),this.co_j.x<this.nkscroll_view_x&&(this.co_j.x=this.nkscroll_view_x),this.co_j.y>this.nkscroll_view_y+this.gg.di.height-32&&(this.co_j.y=this.nkscroll_view_y+this.gg.di.height-32),this.co_j.y<this.nkscroll_view_y&&(this.co_j.y=this.nkscroll_view_y));var g=this.maps.getBGCode(this.co_j.x+31,this.co_j.y),u=this.maps.getBGCode(this.co_j.x+31,this.co_j.y+31);(g>=18||u>=18)&&this.co_j.c>=100&&this.co_j.c<200&&this.jShinu(5),this.co_j.wx=this.co_j.x-this.maps.wx;for(var y=0;y<=31;y++)this.mu_ato_x[y]+=this.co_j.x-p;(p=this.mu_ato_p-7)<0&&(p+=32),this.co_mu[0].x=this.mu_ato_x[p],this.co_mu[0].y=this.mu_ato_y[p],(p=this.mu_ato_p-14)<0&&(p+=32),this.co_mu[1].x=this.mu_ato_x[p],this.co_mu[1].y=this.mu_ato_y[p]}if(300!=this.co_j.c&&310!=this.co_j.c)if(this.co_j.x<this.nkscroll_view_x-15){this.co_j.x=this.nkscroll_view_x-15,this.co_j.vx<0&&(this.co_j.vx=0);var d=this.maps.getBGCode(this.co_j.x+15,this.co_j.y),f=this.maps.getBGCode(this.co_j.x+15,this.co_j.y+31);(d>=18&&19!=d||f>=18&&19!=f||this.j_hashigo_f)&&this.co_j.c>=100&&this.co_j.c<200&&this.jShinu(5),this.a_hf&&i()&&this.co_j.c>=100&&this.co_j.c<200&&this.jShinu(5),this.yuka_ride_id>=0&&this.yo[this.yuka_ride_id].con>=200&&this.yo[this.yuka_ride_id].con<300&&this.co_j.c>=100&&this.co_j.c<200&&this.jShinu(5),this.isYukaCross()&&this.jShinu(5)}else this.co_j.x>this.nkscroll_view_x+this.gg.di.width-16&&(this.co_j.x=this.nkscroll_view_x+this.gg.di.width-16,this.co_j.vx>0&&(this.co_j.vx=0))}else if(this.nkscroll_vx<0){if(this.nkscroll_view_x-=this.nkscroll_speed_x,this.nkscroll_view_x<=this.maps.wx_mini&&(this.nkscroll_view_x=this.maps.wx_mini,this.nkscroll_vx=0),14==this.j_tokugi&&300!=this.co_j.c&&310!=this.co_j.c){var j=this.co_j.x;this.co_j.x-=this.nkscroll_speed_x,(this.maps.getBGCode(this.co_j.x,this.co_j.y)>=20||this.maps.getBGCode(this.co_j.x,this.co_j.y+31)>=20)&&(this.co_j.x=32*Ji(this.co_j.x,5)+32),this.co_j.c>=100&&this.co_j.c<200&&(this.co_j.x>this.nkscroll_view_x+this.gg.di.width-32&&(this.co_j.x=this.nkscroll_view_x+this.gg.di.width-32),this.co_j.x<this.nkscroll_view_x&&(this.co_j.x=this.nkscroll_view_x),this.co_j.y>this.nkscroll_view_y+this.gg.di.height-32&&(this.co_j.y=this.nkscroll_view_y+this.gg.di.height-32),this.co_j.y>this.nkscroll_view_y+this.gg.di.height-32&&(this.co_j.y=this.nkscroll_view_y+this.gg.di.height-32));var l=this.maps.getBGCode(this.co_j.x,this.co_j.y),v=this.maps.getBGCode(this.co_j.x,this.co_j.y+31);(l>=18||v>=18)&&this.co_j.c>=100&&this.co_j.c<200&&this.jShinu(5),this.co_j.wx=this.co_j.x-this.maps.wx;for(var x=0;x<=31;x++)this.mu_ato_x[x]+=this.co_j.x-j;(j=this.mu_ato_p-7)<0&&(j+=32),this.co_mu[0].x=this.mu_ato_x[j],this.co_mu[0].y=this.mu_ato_y[j],(j=this.mu_ato_p-14)<0&&(j+=32),this.co_mu[1].x=this.mu_ato_x[j],this.co_mu[1].y=this.mu_ato_y[j]}if(300!=this.co_j.c&&310!=this.co_j.c)if(this.co_j.x>this.nkscroll_view_x+this.gg.di.width-16){this.co_j.x=this.nkscroll_view_x+this.gg.di.width-16,this.co_j.vx>0&&(this.co_j.vx=0),this.co_j.c>=100&&this.co_j.c<200&&(this.co_j.y>this.nkscroll_view_y+this.gg.di.height-32&&(this.co_j.y=this.nkscroll_view_y+this.gg.di.height-32),this.co_j.y<this.nkscroll_view_y&&(this.co_j.y=this.nkscroll_view_y));var k=this.maps.getBGCode(this.co_j.x+15,this.co_j.y),w=this.maps.getBGCode(this.co_j.x+15,this.co_j.y+31);(k>=19||w>=19||this.j_hashigo_f)&&this.co_j.c>=100&&this.co_j.c<200&&this.jShinu(5),this.a_hf&&i()&&this.co_j.c>=100&&this.co_j.c<200&&this.jShinu(5),this.yuka_ride_id>=0&&this.yo[this.yuka_ride_id].con>=200&&this.yo[this.yuka_ride_id].con<300&&this.co_j.c>=100&&this.co_j.c<200&&this.jShinu(5),this.isYukaCross()&&this.jShinu(5)}else this.co_j.x<this.nkscroll_view_x-15&&(this.co_j.x=this.nkscroll_view_x-15,this.co_j.vx<0&&(this.co_j.vx=0))}else this.co_j.x>this.nkscroll_view_x+this.gg.di.width-16?(this.co_j.x=this.nkscroll_view_x+this.gg.di.width-16,this.co_j.vx>0&&(this.co_j.vx=0)):this.co_j.x<this.nkscroll_view_x-15&&(this.co_j.x=this.nkscroll_view_x-15,this.co_j.vx<0&&(this.co_j.vx=0));if(this.nkscroll_vy>0){if(this.nkscroll_view_y+=this.nkscroll_speed_x,this.nkscroll_view_y>=this.maps.wy_max&&(this.nkscroll_view_y=this.maps.wy_max,this.nkscroll_vy=0),14==this.j_tokugi&&300!=this.co_j.c&&310!=this.co_j.c){var b=this.co_j.y;this.co_j.y+=this.nkscroll_speed_x,(this.maps.getBGCode(this.co_j.x,this.co_j.y+31)>=20||this.maps.getBGCode(this.co_j.x+31,this.co_j.y+31)>=20)&&(this.co_j.y=32*Ji(this.co_j.y+31,5)-32),this.co_j.c>=100&&this.co_j.c<200&&(this.co_j.x>this.nkscroll_view_x+this.gg.di.width-32&&(this.co_j.x=this.nkscroll_view_x+this.gg.di.width-32),this.co_j.x<this.nkscroll_view_x&&(this.co_j.x=this.nkscroll_view_x),this.co_j.y>this.nkscroll_view_y+this.gg.di.height-32&&(this.co_j.y=this.nkscroll_view_y+this.gg.di.height-32),this.co_j.y<this.nkscroll_view_y&&(this.co_j.y=this.nkscroll_view_y)),this.co_j.wy=this.co_j.y-this.maps.wy;for(var S=0;S<=31;S++)this.mu_ato_y[S]+=this.co_j.y-b;(b=this.mu_ato_p-7)<0&&(b+=32),this.co_mu[0].x=this.mu_ato_x[b],this.co_mu[0].y=this.mu_ato_y[b],(b=this.mu_ato_p-14)<0&&(b+=32),this.co_mu[1].x=this.mu_ato_x[b],this.co_mu[1].y=this.mu_ato_y[b]}if(300!=this.co_j.c&&310!=this.co_j.c&&this.co_j.y<this.nkscroll_view_y-16){this.co_j.y=this.nkscroll_view_y-16,this.co_j.vy<0&&(this.co_j.vy=0);var M=this.maps.getBGCode(this.co_j.x+15,this.co_j.y),C=this.maps.getBGCode(this.co_j.x+15,this.co_j.y+31);(M>=18||C>=18)&&this.co_j.c>=100&&this.co_j.c<200&&this.jShinu(5),this.a_hf&&i()&&this.co_j.c>=100&&this.co_j.c<200&&this.jShinu(5),this.yuka_ride_id>=0&&this.yo[this.yuka_ride_id].con>=200&&this.yo[this.yuka_ride_id].con<300&&this.co_j.c>=100&&this.co_j.c<200&&this.jShinu(5),this.isYukaCross()&&this.jShinu(5)}}else if(this.nkscroll_vy<0&&(this.nkscroll_view_y-=this.nkscroll_speed_x,this.nkscroll_view_y<=this.maps.wy_mini&&(this.nkscroll_view_y=this.maps.wy_mini,this.nkscroll_vy=0),14==this.j_tokugi&&300!=this.co_j.c&&310!=this.co_j.c)){var I=this.co_j.y;this.co_j.y-=this.nkscroll_speed_x,(this.maps.getBGCode(this.co_j.x,this.co_j.y)>=20||this.maps.getBGCode(this.co_j.x+31,this.co_j.y)>=20)&&(this.co_j.y=32*Ji(this.co_j.y,5)+32),this.co_j.c>=100&&this.co_j.c<200&&(this.co_j.x>this.nkscroll_view_x+this.gg.di.width-32&&(this.co_j.x=this.nkscroll_view_x+this.gg.di.width-32),this.co_j.x<this.nkscroll_view_x&&(this.co_j.x=this.nkscroll_view_x),this.co_j.y>this.nkscroll_view_y+this.gg.di.height-32&&(this.co_j.y=this.nkscroll_view_y+this.gg.di.height-32),this.co_j.y<this.nkscroll_view_y&&(this.co_j.y=this.nkscroll_view_y)),this.co_j.wy=this.co_j.y-this.maps.wy;for(var B=0;B<=31;B++)this.mu_ato_y[B]+=this.co_j.y-I;(I=this.mu_ato_p-7)<0&&(I+=32),this.co_mu[0].x=this.mu_ato_x[I],this.co_mu[0].y=this.mu_ato_y[I],(I=this.mu_ato_p-14)<0&&(I+=32),this.co_mu[1].x=this.mu_ato_x[I],this.co_mu[1].y=this.mu_ato_y[I];var G=this.maps.getBGCode(this.co_j.x,this.co_j.y),z=this.maps.getBGCode(this.co_j.x+31,this.co_j.y);(G>=18||z>=18)&&this.co_j.c>=100&&this.co_j.c<200&&this.jShinu(5)}if(this.maps.wx=this.nkscroll_view_x,this.maps.wy=this.nkscroll_view_y,this.co_j.c>=100&&this.co_j.c<200&&this.co_j.y<this.maps.wy-16){this.co_j.y=this.maps.wy-16,this.co_j.vy<0&&(this.co_j.vy=0);var A=this.maps.getBGCode(this.co_j.x+15,this.co_j.y),P=this.maps.getBGCode(this.co_j.x+15,this.co_j.y+31);(A>=18||P>=18)&&this.jShinu(5)}14==this.j_tokugi&&300!=this.co_j.c&&310!=this.co_j.c&&this.co_j.c>=100&&this.co_j.c<200&&(this.co_j.x>this.nkscroll_view_x+this.gg.di.width-32&&(this.co_j.x=this.nkscroll_view_x+this.gg.di.width-32),this.co_j.x<this.nkscroll_view_x&&(this.co_j.x=this.nkscroll_view_x),this.co_j.y>this.nkscroll_view_y+this.gg.di.height-32&&(this.co_j.y=this.nkscroll_view_y+this.gg.di.height-32),this.co_j.y<this.nkscroll_view_y&&(this.co_j.y=this.nkscroll_view_y)),this.co_j.c>=100&&this.co_j.c<200&&this.co_j.y>=this.maps.wy+this.gg.di.height&&this.jShinu(5)}this.jm_kazu>0&&this.jmMove(),this.tMove(),this.co_b.c>0&&this.bMove(),this.m_kazu>0&&this.mMove(),this.time_max>0&&this.stage_cc<=0&&(this.time-=70,this.time<0&&(this.time=0,this.j_left--,this.j_left<0?(this.j_left=0,this.ml_mode=300):this.ml_mode=90)),this.stage_cc>0&&(this.stage_cc++,this.stage_cc>28&&(this.time_max>0&&this.addScore(Math.floor(this.time/1e3)),2==this.stage_select?this.stage>=4?this.ml_mode=400:this.ml_mode=260:this.stage>=this.stage_max?this.ml_mode=400:(this.stage++,this.ml_mode=90))),4!=this.system_draw_mode&&(this.draw_lock_f=!0,this.drawGamescreen(),this.draw_lock_f=!1),this.dso_cf=!1,4!=this.system_draw_mode&&this.drawScore(),this.gs.rsPlay(),4!=this.system_draw_mode&&this.drawItem(),84==this.gk.key_code&&(this.gk.key_code=0,this.ml_mode=50,this.gg.drawListImage(0,0,0),(this.score>0||this.highscore>0)&&this.drawScore()),2==this.pause_switch&&80==this.gk.key_code&&(this.gk.key_code=0,this.ml_mode=110,this.ml_mode_c=0),100!=this.ml_mode&&(300==this.ml_mode?(this.gg.setBackcolor(F.black),this.gg.fill(),this.gg.drawListImage(0,0,2),this.drawScore()):400==this.ml_mode?(this.gg.drawListImage(0,0,1),this.drawScore()):250!=this.ml_mode&&260!=this.ml_mode||(this.hg.setColor(F.black),this.hg.fillRect(0,0,this.gg.di.width,this.gg.di.height),this.drawScore()))}},{key:"mainLoop",value:function(){var t=this;this.gk.left_right_lock=!1;var i=function(){t.hg.setColor(F.black),t.hg.fillRect(0,0,t.gg.di.width,t.gg.di.height)},s=function(){t.gg.drawListImage(0,0,0),(t.score>0||t.highscore>0)&&t.drawScore()},h=function(){t.gg.setBackcolor(F.black),t.gg.fill(),t.gg.drawListImage(0,0,2),t.drawScore()},e=function(){84==t.gk.key_code&&(t.gk.key_code=0,t.ml_mode=50)},a=function(){t.stage>=1&&t.stage<=4&&t.gs.playBGM(t.stage-1)};switch(this.ml_mode){default:break;case 50:if(this.draw_lock_f=!1,this.start_game_f){if(this.gs.play(0),this.start_game_f=!1,2==this.stage_select){this.init2(),this.ig.worldInit(),i(),this.ml_mode=200,this.gs.playBGM(7);break}this.init2(),this.init3(),s(),this.j_left<=0&&this.stage_max<=1?this.ml_mode=100:this.ml_mode=90,a();break}this.gs.playBGM(5),s(),this.stage=1,this.gm.button_f||this.gk.tr1_f||this.gk.tr2_f||(this.ml_mode=60,this.g_c1=0,this.sendHighscore());break;case 60:if(s(),0==this.g_c1?this.gk.key_char=="v".toUpperCase().charCodeAt(0)&&(this.g_c1=1):1==this.g_c1?this.gk.key_char=="e".toUpperCase().charCodeAt(0)?this.g_c1=2:this.gk.key_char!="v".toUpperCase().charCodeAt(0)&&(this.g_c1=0):2==this.g_c1&&(this.gk.key_char=="r".toUpperCase().charCodeAt(0)?this.ml_mode=1e3:this.gk.key_char!="e".toUpperCase().charCodeAt(0)&&(this.g_c1=0)),this.title_lock_f&&!this.start_game_f||(!this.gm.button_f||this.gm.click_x>=this.gg.di.width||this.gm.click_y>=this.gg.di.height)&&!this.gk.tr1_f&&!this.gk.tr2_f&&!this.start_game_f)break;if(this.gs.play(0),this.start_game_f=!1,2==this.stage_select){this.init2(),this.ig.worldInit(),i(),this.ml_mode=200,this.gs.playBGM(7);break}this.init2(),this.ml_mode=100,this.init3(),s(),this.j_left<=0&&this.stage_max<=1?this.ml_mode=100:this.ml_mode=90,a();break;case 80:this.init2(),this.ml_mode=100,this.init3(),s(),this.j_left<=0?this.ml_mode=100:this.ml_mode=90,a();break;case 90:this.dso_cf=!0,this.init3(),0==this.mode_wait_stagestart&&(this.ml_mode=100),function(){t.hg.setColor(t.gamecolor_kaishi),t.hg.fillRect(0,0,t.gg.di.width,t.gg.di.height);var i=Ki(t.gg.di.width/2)-64,s=Ki(t.gg.di.height/2)-16;if(t.stage>=t.stage_max)for(var h=0;h<6;h++)t.gg.drawPT(i-32+32*h,s,52+h,0);else{for(var e=0;e<3;e++)t.gg.drawPT(i+32*e,s,70+e,0);t.stage>=t.stage_max&&t.gg.drawPT(i+96,s,75,0),3==t.stage?t.gg.drawPT(i+96,s,75,0):2==t.stage?t.gg.drawPT(i+96,s,74,0):t.gg.drawPT(i+96,s,73,0)}t.drawScore()}(),this.ml_mode=91,this.ml_mode_c=0,a();break;case 91:this.ml_mode_c++,this.ml_mode_c>this.mode_wait_stagestart&&(this.ml_mode=100),e();break;case 95:switch(this.stage=this.ig.checkStage(),this.init3(),this.ig.shop_kattaitem){case 7:default:break;case 0:this.j_gr_kazu=3;break;case 1:this.j_jet_fuel=80;break;case 2:this.j_drell_f=!0;break;case 3:this.j_helm_f=!0;break;case 4:this.j_tail_f=!0;break;case 5:this.j_v_c=150,this.j_v_kakudo=0;break;case 6:this.j_fire_f=!0;break;case 8:this.time_max>0&&(this.time+=3e4)}i(),this.drawScore(),this.ml_mode=96,this.ml_mode_c=0,a();break;case 96:this.ml_mode_c++,this.ml_mode_c>8&&(this.ml_mode=100),i(),this.drawScore(),e();break;case 110:this.ml_mode_c<8&&this.ml_mode_c++,1==this.ml_mode_c&&(this.hg.setColor(new F(0,0,0,160)),this.hg.fillRect(0,0,this.gg.di.width,this.gg.di.height),this.drawItem(),this.drawScore(),this.hg.setColor(F.white),this.hg.setFont(new D(D.DIALOG,1,32)),this.hg.drawString("PAUSE",Ki(this.gg.di.width/2)-56,Ki(this.gg.di.height/2)-16)),80==this.gk.key_code&&this.ml_mode_c>=8&&(this.gk.key_code=0,this.ml_mode=100,this.gk.init()),e();break;case 200:this.ig.drawMap(),this.ig.mainProgram(),this.time=0,this.drawScore2(),110==this.ig.mp_mode&&(this.ig.dokan_khID>=1?this.ml_mode=230:this.ml_mode=95),e();break;case 230:i(),this.drawScore2(),this.ml_mode=231,this.ml_mode_c=0,this.gs.stopBGM();break;case 231:var c;i(),this.drawScore2(),this.ml_mode_c++,5==this.ml_mode_c?(c=2==this.ig.dokan_khID?this.tdb.getValue("url2"):3==this.ig.dokan_khID?this.tdb.getValue("url3"):4==this.ig.dokan_khID?this.tdb.getValue("url4"):this.tdb.getValue("url1"),location.href=c):this.ml_mode_c>80&&(this.ml_mode=50),e();break;case 250:this.addScore(0),this.ig.worldInit2(),this.ml_mode=251,this.ml_mode_c=0,i(),this.drawScore(),this.gs.playBGM(7);break;case 251:case 261:this.ml_mode_c++,this.ml_mode_c>8&&(this.ml_mode=200),i(),this.drawScore(),e();break;case 260:this.addScore(0),this.ig.worldInit3(),this.ml_mode=261,this.ml_mode_c=0,i(),this.drawScore(),this.gs.playBGM(7);break;case 300:0==this.mode_wait_gameover?(this.gk.key_code=0,this.ml_mode=50):(h(),this.ml_mode=310,this.ml_mode_c=0,this.gs.play(1),this.gs.stopBGM(),this.sendHighscore());break;case 310:if(h(),this.ml_mode_c++,this.ml_mode_c>this.mode_wait_gameover&&(this.ml_mode=50,this.gk.key_code=0,s()),84!=this.gk.key_code)break;this.gk.key_code=0,this.ml_mode=50,s();break;case 400:if(0==this.mode_wait_ending){this.gk.key_code=0,this.ml_mode=50;break}this.gg.drawListImage(0,0,1),this.drawScore(),this.gs.playBGM(6),this.sendHighscore(),this.ml_mode=410,this.ml_mode_c=0;break;case 410:if(this.ml_mode_c++,this.ml_mode_c>this.mode_wait_ending&&(this.ml_mode=50,s(),this.gk.key_code=0),84!=this.gk.key_code)break;this.gk.key_code=0,this.ml_mode=50,s();break;case 500:this.gg.setBackcolor(F.black),this.gg.fill(),s(),this.ml_mode=50;break;case 1e3:this.gg.setBackcolor(F.black),this.gg.fill(),this.ml_mode=1010,this.ml_mode_c=0;break;case 1010:this.gg.setBackcolor(F.black),this.gg.fill(),this.hg.setFont(new D(D.DIALOG,0,46)),this.hg.setColor(F.white),this.hg.setFont(new D(D.DIALOG,0,20)),["Title    MASAO CONSTRUCTION FX","Version    Update 16 Build 62","Language   Java2 SDK 1.6.0 Update 16","OS      Windows Vista","Browser    InternetExplorer 8.0","Programing   Fukuda Naoto","Date     2011/5"].forEach((function(i,s){t.hg.drawString(i,50+Ki((t.gg.di.width-512)/2),50+30*s+Ki((t.gg.di.height-320)/2))})),this.ml_mode_c++,this.ml_mode_c>40&&(this.ml_mode=50)}}},{key:"init1",value:function(){var t=this,i=function(i,s,h,e){var a=[i,s,h].map((function(i){var s=t.tdb.getValueInt(i);return s<0?s=0:s>255&&(s=255),s}));t[e]=new F(a[0],a[1],a[2])};this.mode_wait_ending=120,this.mode_wait_gameover=45,this.mode_wait_stagestart=35,this.j_hp_v=!1,this.j_hp=1,this.j_hp_max=1,this.j_hp_moji="HP",this.j_fire_range=9999,this.time_max=this.tdb.getValueInt("time_max");var s=this.tdb.getValueInt("score_v");this.score_v=2!=s,["","_s","_t","_f"].forEach((function(t){i("backcolor_red".concat(t),"backcolor_green".concat(t),"backcolor_blue".concat(t),Xi("gamecolor_back",t))})),["kaishi","mizunohadou","message_back","message_border","message_name","message_text","gauge_border"].forEach((function(t){i("".concat(t,"_red"),"".concat(t,"_green"),"".concat(t,"_blue"),Xi("gamecolor_",t))})),i("scorecolor_red","scorecolor_green","scorecolor_blue","gamecolor_score"),["grenade","firebar","gauge_back"].forEach((function(t){[1,2].forEach((function(s){i("".concat(t,"_red").concat(s),"".concat(t,"_green").concat(s),"".concat(t,"_blue").concat(s),Xi("gamecolor_",t,s))}))})),["score","highscore","jet","grenade"].forEach((function(i){t[Xi("moji_",i)]=t.tdb.getValue(Xi("moji_",i))})),this.moji_time="    ".concat(this.tdb.getValue("moji_time")," "),this.moji_left="    ".concat(this.tdb.getValue("moji_left")," "),this.moji_size=this.tdb.getValueInt("moji_size"),this.moji_size<10?this.moji_size=10:this.moji_size>30&&(this.moji_size=30),this.j_left_shoki=this.tdb.getValueInt("jibun_left_shoki"),this.j_left_shoki<1&&(this.j_left_shoki=1),this.j_left_shoki--,this.stage_max=this.tdb.getValueInt("stage_max"),this.stage_max<1?this.stage_max=1:this.stage_max>4&&(this.stage_max=4),2==this.stage_select&&(this.stage_max=4),this.stage_kaishi=this.tdb.getValueInt("stage_kaishi"),this.stage_kaishi<1&&(this.stage_kaishi=1),this.stage_kaishi>this.stage_max&&(this.stage_kaishi=this.stage_max),[1,2].forEach((function(i){var s=Xi("score_1up_",i,"_para");t[s]=t.tdb.getValueInt(Xi("score_1up_",i)),t[s]<0&&(t[s]=0),t.stage_max<=1&&t.j_left_shoki<=0&&(t[s]=0)})),this.default_j_tail_type=this.tdb.getValueInt("j_tail_type"),(this.default_j_tail_type<1||this.default_j_tail_type>3)&&(this.default_j_tail_type=1),this.j_tail_type=this.default_j_tail_type,this.default_j_fire_type=this.tdb.getValueInt("j_fire_type"),(this.default_j_fire_type<1||this.default_j_fire_type>4)&&(this.default_j_fire_type=1),this.j_fire_type=this.default_j_fire_type;var h=this.tdb.getValueInt("j_tail_hf");this.j_tail_hf=2==h,this.grenade_type=this.tdb.getValueInt("grenade_type"),(this.grenade_type<1||this.grenade_type>9)&&(this.grenade_type=1),this.boss_destroy_type=this.tdb.getValueInt("boss_destroy_type"),2!=this.boss_destroy_type&&(this.boss_destroy_type=1),this.boss_destroy=this.tdb.getValueInt("boss_destroy"),2!=this.boss_destroy&&(this.boss_destroy=1),this.j_tail_ap_boss=this.tdb.getValueInt("j_tail_ap_boss"),this.j_tail_ap_boss<0&&(this.j_tail_ap_boss=4),this.suberuyuka_hkf=this.tdb.getValueInt("suberuyuka_hkf"),2==this.suberuyuka_hkf?this.suberuyuka_hkf=2:this.suberuyuka_hkf=1,h=this.tdb.getValueInt("j_fire_mkf"),this.j_fire_mkf=2==h,h=this.tdb.getValueInt("j_tokugi"),this.j_tokugi=h>=1&&h<=19?h:1,["","2","3","4"].forEach((function(i){var s=Xi("j_add_tokugi",i),h=t.tdb.getValueInt(s);t[s]=h>=1?h:0})),h=this.tdb.getValueInt("dengeki_mkf"),this.dengeki_mkf=h>=1&&h<=5?h:1,h=this.tdb.getValueInt("yachamo_kf"),this.yachamo_attack=h>=1&&h<=9?h:1,h=this.tdb.getValueInt("mizutaro_attack"),this.mizutaro_attack=h>=1&&h<=5?h:1,h=this.tdb.getValueInt("poppie_attack"),this.poppie_attack=h>=1&&h<=5?h:1,h=this.tdb.getValueInt("mariri_attack"),this.mariri_attack=h>=1&&h<=5?h:1,h=this.tdb.getValueInt("chikorin_attack"),this.chikorin_attack=h>=1&&h<=9?h:1,h=this.tdb.getValueInt("airms_kf"),this.airms_kf=h>=1&&h<=5?h:1,h=this.tdb.getValueInt("taiking_attack"),this.taiking_attack=h>=1&&h<=5?h:1,h=this.tdb.getValueInt("kuragesso_attack"),this.kuragesso_attack=h>=1&&h<=5?h:1,["ugokuyuka1","ugokuyuka2","ugokuyuka3","firebar1","firebar2","dossunsun","coin1","coin3","dokan1","dokan2","dokan3","dokan4"].forEach((function(i){var s=Xi(i,"_type");t[s]=t.tdb.getValueInt(s),(t[s]<1||t[s]>1249)&&(t[s]=1)})),this.pause_switch=this.tdb.getValueInt("pause_switch"),2!=this.pause_switch&&(this.pause_switch=1),this.control_parts_visible=this.tdb.getValueInt("control_parts_visible"),2!=this.control_parts_visible&&(this.control_parts_visible=1),this.boss_type=this.tdb.getValueInt("boss_type"),(this.boss_type<1||this.boss_type>5)&&(this.boss_type=1),this.boss2_type=this.tdb.getValueInt("boss2_type"),(this.boss2_type<1||this.boss2_type>8)&&(this.boss2_type=1),this.boss3_type=this.tdb.getValueInt("boss3_type"),(this.boss3_type<1||this.boss3_type>8)&&(this.boss3_type=1),this.gazou_scroll=this.tdb.getValueInt("gazou_scroll"),(this.gazou_scroll<2||this.gazou_scroll>11)&&(this.gazou_scroll=1),["gazou_scroll_speed_x","gazou_scroll_speed_y","second_gazou_scroll_speed_x","second_gazou_scroll_speed_y"].forEach((function(i){t[i]=t.tdb.getValueInt(i),t[i]<-32?t[i]=-32:t[i]>32&&(t[i]=32)})),this.gazou_scroll_x=this.tdb.getValueInt("gazou_scroll_x"),this.gazou_scroll_x<0&&(this.gazou_scroll_x=0),this.gazou_scroll_y=this.tdb.getValueInt("gazou_scroll_y"),this.gazou_scroll_y<0&&(this.gazou_scroll_y=0),this.mcs_haikei_visible=this.tdb.getValueInt("mcs_haikei_visible"),1!=this.mcs_haikei_visible&&(this.mcs_haikei_visible=0),this.easy_mode=this.tdb.getValueInt("easy_mode"),2!=this.easy_mode&&(this.easy_mode=1),this.dokan_mode=this.tdb.getValueInt("dokan_mode"),(this.dokan_mode<1||this.dokan_mode>2)&&(this.dokan_mode=1),1==this.gg.mode&&(this.dokan_mode=2),this.mes1_name=this.tdb.getValue("mes1_name"),this.mes2_name=this.tdb.getValue("mes2_name"),this.shop_name=this.tdb.getValue("shop_name"),this.setumei_name=this.tdb.getValue("setumei_name"),this.door_score=this.tdb.getValueInt("door_score"),this.door_score<10&&(this.door_score=10),[1,2,3,4,5,6,7,8,9].forEach((function(i){t.shop_item_name[i-1]=t.tdb.getValue(Xi("shop_item_name",i));var s=t.tdb.getValueInt(Xi("shop_item_teika",i));s<0&&(s=0),t.shop_item_teika[i-1]=s})),this.scroll_area=this.tdb.getValueInt("scroll_area"),(this.scroll_area<1||this.scroll_area>5)&&(this.scroll_area=1),this.clear_type=this.tdb.getValueInt("clear_type"),(this.clear_type<1||this.clear_type>3)&&(this.clear_type=1),this.second_gazou_img=null;for(var e=0;e<=3;e++)this.second_gazou_stage_img[e]=null;this.second_gazou_visible=!1,2!=this.gg.layer_mode&&1!=this.tdb.getValueInt("mcs_haikei_visible")||2!=this.tdb.getValueInt("second_gazou_visible")||(this.second_gazou_visible=!0,this.second_gazou_stage_img[0]=this.gg.loadImage(this.tdb.getValue("filename_second_haikei")),(2==this.stage_select||this.stage_max>=2)&&[2,3,4].forEach((function(i){t.second_gazou_stage_img[i-1]=t.gg.loadImage(t.tdb.getValue(Xi("filename_second_haikei",i)))}))),this.second_gazou_scroll=this.tdb.getValueInt("second_gazou_scroll"),(this.second_gazou_scroll<1||this.second_gazou_scroll>8)&&(this.second_gazou_scroll=1),this.second_gazou_scroll_x=this.tdb.getValueInt("second_gazou_scroll_x"),this.second_gazou_scroll_y=this.tdb.getValueInt("second_gazou_scroll_y"),this.second_gazou_priority=this.tdb.getValueInt("second_gazou_priority"),(this.second_gazou_priority<1||this.second_gazou_priority>2)&&(this.second_gazou_priority=1),this.water_visible=this.tdb.getValueInt("water_visible"),2!=this.water_visible&&(this.water_visible=1)}},{key:"init2",value:function(){this.score>this.highscore&&(this.highscore=this.score),this.j_left=this.j_left_shoki,this.score_1up_1=this.score_1up_1_para,this.score_1up_2=this.score_1up_2_para;for(var t=0;t<=2;t++)this.stage_1up_f[t]=!0;this.cpoint_con=0,this.cpoint_stage=0,this.cpoint_x=32,this.cpoint_y=320,this.gk.key_code=0,this.score=0,this.stage=this.stage_kaishi,this.time_max>0?this.time=1e3*this.time_max+1e3-70:this.time=0,this.gs.rsInit()}},{key:"init3",value:function(){var t,i=this;switch(this.g_c1=0,this.g_c2=0,this.g_c3=0,this.g_ac=0,this.g_ac2=0,this.stage_cc=0,this.co_j.init(),this.co_j.c=100,this.co_j.x=100,this.co_j.y=100,this.co_j.pt=100,this.co_j.muki=1,this.co_j.jimen_f=!1,this.j_hashiru_f=!1,this.j_jump_level=0,this.j_jump_type=0,this.j_shitakara_mushi_y=-1,this.j_hashigo_f=!1,this.j_hashigo_mushi_x=-1,this.j_a_id=-1,this.tr1_c=6,this.gk.tr1_c=6,this.tr2_c=0,this.gk.left_c=0,this.gk.right_c=0,this.left_dcc=0,this.right_dcc=0,this.xkey_c=0,this.ochiru_y=9999,this.j_fire_f=!1,this.j_v_c=0,this.j_v_kakudo=0,this.j_jet_c=0,this.j_jet_kf=!1,this.j_jet_fuel=0,this.j_helm_f=!1,this.j_drell_f=!1,this.j_tail_f=!1,this.j_tail_ac=0,this.j_gr_kazu=0,this.j_rope_id=0,this.j_rope_r=32,this.j_rope_cf=!1,this.j_cannon_c=0,this.j_cannon_type=0,this.saka_mushi_y=-1,this.maps.gazou_x=0,this.maps.gazou_y=0,this.maps.second_gazou_x=0,this.maps.second_gazou_y=0,this.stage_haikei=this.stage,this.second_gazou_img=this.second_gazou_stage_img[this.stage-1],this.j_djump_kf=!0,this.coin_kazu=100,this.dkey_count[0]=0,this.dkey_count[1]=0,this.j_mizu_f=!1,this.j_mizu_ac=0,this.j_mizu_awa_c=0,this.j_jdai_f=!1,this.j_double_f=!1,this.j_hp=this.j_hp_max,this.j_muteki_c=0,this.j_4_muki=1,this.j_speed=80,this.boss_hp_max=this.tdb.getValueInt("boss_hp_max"),this.boss_hp_max<1&&(this.boss_hp_max=1),this.boss_hp=this.boss_hp_max,this.tpika_p=0,this.hitokoto_c=-1,this.hitokoto_num=1,this.j_tail_hf&&(this.j_tail_f=!0),2==this.tdb.getValueInt("j_fire_equip")&&(this.j_fire_f=!0),this.j_fire_type=this.default_j_fire_type,14==this.j_tokugi&&(this.j_fire_f=!0),this.j_fire_range=9999,15==this.j_tokugi&&(this.j_fire_range=9),3!=this.j_fire_type&&4!=this.j_fire_type||(this.j_fire_range=10),17==this.j_tokugi&&(this.j_hp_max=3,this.j_hp=this.j_hp_max,this.showMyHP("HP")),this.j_enemy_press=this.tdb.getValueInt("j_enemy_press"),(this.j_enemy_press<1||this.j_enemy_press>3)&&(this.j_enemy_press=1),this.view_move_type=this.tdb.getValueInt("view_move_type"),(this.view_move_type<1||this.view_move_type>3)&&(this.view_move_type=1),2==this.view_move_type&&(this.co_j.muki=0),this.jst_slow_down=0,this.jst_key_down=0,this.jst_fast_run_attack=0,this.jst_fly_left_right=0,this.jst_fire_xkey_only=0,this.jst_kabe_kick=0,this.jst_double_jump=0,this.jst_fast_run=0,this.jst_high_sjump=0,this.jst_jump_level_fix=0,this.jst_auto_right=0,this.gk.left_right_lock=!1,this.jst_syouryuuken=0,this.jst_pc_attack=0,this.up_key_c=0,this.down_key_c=0,this.j_tokugi){case 2:this.jst_slow_down=1;break;case 3:this.jst_key_down=1;break;case 4:this.jst_fast_run_attack=1;break;case 5:this.jst_fly_left_right=1;break;case 6:this.jst_kabe_kick=1;break;case 7:this.j_fire_type=2,this.j_fire_range=9999,this.jst_fire_xkey_only=1;break;case 8:this.jst_double_jump=1;break;case 9:this.jst_fast_run=1;break;case 11:this.jst_high_sjump=1;break;case 13:this.jst_fast_run=2;break;case 16:this.jst_kabe_kick=2;break;case 18:this.jst_auto_right=1,this.gk.left_right_lock=!0;break;case 19:this.jst_auto_right=2,this.gk.left_right_lock=!0}this.j_tail_type=this.default_j_tail_type,["","2","3","4"].forEach((function(t){var s=Xi("j_add_tokugi",t);i[s]>=2&&i.addMyTokugi(i[s])}));for(var s=0;s<=5;s++)this.j_zan_x[s]=0,this.j_zan_y[s]=0,this.j_zan_pt[s]=0,this.j_zan_pth[s]=0,this.j_zan_img[s]=null,this.j_zan_zs_x[s]=0,this.j_zan_zs_y[s]=0;this.j_zan_p=0,this.j_zan_c=0,this.j_zan_nagasa=0,this.j_zan_f=!1,this.j_zan_cf=!1,this.spot_c=0,this.spot_r=160,this.spot_r_mokuhyou=160,this.km.initAll(),this.km.mode=100;for(var h=0;h<=1;h++)this.co_mu[h].init();for(var e=0;e<=31;e++)this.mu_ato_x[e]=this.co_j.x,this.mu_ato_y[e]=this.co_j.y;this.mu_ato_p=0,this.mhouse_c=0,this.mhouse_x=0,this.mhouse_y=0,this.souko_count1=0,this.souko_count2=0,this.souko_count3=0,this.yuka_ride_id=-1,this.yo=[],this.sl_step=0,this.sl_speed=0,this.sl_wx=0,this.sl_wy=0,this.showm_c=0;for(var a=0;a<=3;a++)this.showm_data[a]=null;this.showi_c=0,this.showi_x=0,this.showi_y=0,this.showi_img=null,this.showr_c=0,this.showo_c=0,this.setmapc_f=!1,this.setbacki_f=!1,this.setmyw_w=-1,this.setmyw_pt=100,this.setmyw_muki=1,this.attacktail_yf=!0,this.gauge_v=!1,this.co_a=[new o],this.vo_x=[[0,0,0,0]],this.vo_y=[[0,0,0,0]],this.a_hf=!1,this.co_t=[],this.co_b.init(),this.boss_kijyun_y=0,this.boss_attack_mode=!1;for(var c=0;c<=79;c++)this.co_m[c].init();this.m_kazu=0;for(var _=0;_<=8;_++)this.co_jm[_].init();this.jm_kazu=0;for(var r=0;r<=79;r++)this.co_h[r].init();this.time_max>0?this.time=1e3*this.time_max+1e3-70:this.time=0,this.ana_kazu=0;for(var n=0;n<=11;n++)this.ana_c[n]=0;if(this.mapsMakeStageData(100+this.stage),2==(t=2==this.stage?this.tdb.getValueInt("scroll_mode_s"):3==this.stage?this.tdb.getValueInt("scroll_mode_t"):4==this.stage?this.tdb.getValueInt("scroll_mode_f"):this.tdb.getValueInt("scroll_mode"))?(this.sl_step=10,this.ks_wx=32,this.ks_wy=32*(this.mapHeight-Ki((this.gg.di.height-320)/32)),this.sl_speed=2):3==t&&(this.sl_step=10,this.ks_wx=32,this.ks_wy=32*(this.mapHeight-Ki((this.gg.di.height-320)/32)),this.sl_speed=4),this.nkscroll_con=0,this.nkscroll_view_x=0,this.nkscroll_view_y=0,this.nkscroll_speed_x=2,this.nkscroll_vx=0,this.nkscroll_vy=0,this.nkscroll_zsc=!1,100==this.cpoint_con)if(this.stage==this.cpoint_stage){this.co_j.x=this.cpoint_x,this.co_j.y=this.cpoint_y;for(var m=0;m<=this.a_kazu;m++)3400==this.co_a[m].c&&this.co_a[m].x==this.cpoint_x&&this.co_a[m].y==this.cpoint_y&&(this.co_a[m].c=0);this.hDelete(Ji(this.co_j.x,5),Ji(this.co_j.y,5)+1,4100),this.maps.wx=this.co_j.x-(2===this.view_move_type?this.maps.my_wx_max:this.maps.my_wx_mini),this.maps.wy=this.co_j.y-this.maps.my_wy_max}else this.cpoint_con=0;if(10!=this.sl_step&&11!=this.sl_step||(this.ks_wx=this.maps.wx,this.ks_wx<=128&&(this.ks_wx=32)),2==this.scroll_area){this.maps.wx_max=32,this.maps.wy_mini=32*(this.mapHeight-Ki((this.gg.di.height-this.maps.wy_mini)/32));for(var p=0;p<=this.maps.height-1;p++)this.maps.map_bg[Ki(this.gg.di.width/32)+1][p]=21}else if(3==this.scroll_area){this.maps.wx_max=this.gg.di.width+32,this.maps.wy_mini=32*(this.mapHeight-Ki((this.gg.di.height-this.maps.wy_mini)/32));for(var g=0;g<=this.maps.height-1;g++)this.maps.map_bg[Ki(2*this.gg.di.width/32)+1][g]=21}else if(4==this.scroll_area){this.maps.wx_max=32,this.maps.wy_mini=32*(this.mapHeight-10);for(var u=0;u<=this.maps.height-1;u++)this.maps.map_bg[Ki(this.gg.di.width/32)+1][u]=21}else if(5==this.scroll_area){this.maps.wx_max=this.gg.di.width+32,this.maps.wy_mini=32*(this.mapHeight-10);for(var y=0;y<=this.maps.height-1;y++)this.maps.map_bg[Ki(2*this.gg.di.width/32)+1][y]=21}if(15==this.j_tokugi)if(this.scroll_area>=2&&this.scroll_area<=5)for(var d=1;d<this.maps.width;d++)this.maps.map_bg[d][19]=21;else for(var f=1;f<this.maps.width;f++)this.maps.map_bg[f][40]=21;if(2==this.gg.layer_mode||1==this.mcs_haikei_visible?this.maps.drawMapLayer(this.maps.wx,this.maps.wy,this.g_ac2,this.gazou_scroll,1):this.maps.drawMap(this.maps.wx,this.maps.wy),this.gs.rsInit(),2==this.clear_type||3==this.clear_type){var j=this.coin_kazu;this.getCoinTotal(),j>0&&0==this.coin_kazu&&(this.gs.rsAddSound(7),3==this.clear_type&&this.showHashigo())}t:for(var l=10;l<=this.mapHeight+9;l++)for(var v=1;;){if(v>this.mapWidth)continue t;if(28==this.maps.map_bg[v][l]){this.mhouse_c=100,this.mhouse_x=v,this.mhouse_y=l;continue t}v++}this.js_mes=1}},{key:"mapsMakeStageData",value:function(t){var i,s,h,e,a,c,o,_,r,n;r="0123456789abcdef",n="0123456789ABCDEF";var m,p,g,u,y=this.tdb.options["advanced-map"],d=null,f=void 0,j=[],l=0;if(y){d=y.stages[t-101],this.mapWidth=d.size.x,this.mapHeight=d.size.y;var v,x=function(t){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=pi(t))){i&&(t=i);var s=0,h=function(){};return{s:h,n:function(){return s>=t.length?{done:!0}:{done:!1,value:t[s++]}},e:function(t){throw t},f:h}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var e,a=!0,c=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return a=t.done,t},e:function(t){c=!0,e=t},f:function(){try{a||null==i.return||i.return()}finally{if(c)throw e}}}}(d.layers);try{for(x.s();!(v=x.n()).done;){var k=v.value;"main"===k.type?(f=k,this.setSystemImage(8,null!==(i=k.src)&&void 0!==i?i:this.tdb.getValue("filename_pattern"))):"mapchip"===k.type&&(l>0&&this.gg.smapchip_img.push(Array(256)),j[l]=k,this.setSystemImage(9,null!==(s=k.src)&&void 0!==s?s:this.tdb.getValue("filename_mapchip"),l++))}}catch(t){x.e(t)}finally{x.f()}null!=y.customParts&&(this.customParts=this.readCustomParts(y.customParts))}else this.mapWidth=180,this.mapHeight=30;this.maps=new Et(this.mapWidth+20,this.mapHeight+70,this.gg,this),this.maps.init(),this.map_data_option=qi(this.mapWidth+20,this.mapHeight+70);for(var w=0;w<this.mapHeight+70;w++)for(var b=0;b<this.mapWidth+20;b++)this.map_data_option[b][w]=!1;if(c=this.maps.map_string,o=this.maps.map_string_layer,this.maps.wx=32,this.maps.wy=32,this.maps.wx_mini=32,this.maps.wy_mini=320,this.maps.wx_max=32*(this.mapWidth-Ki((this.gg.di.width-this.maps.wx_mini)/32)),this.maps.wy_max=32*(this.mapHeight-Ki((this.gg.di.height-this.maps.wy_mini)/32)),1===this.gg.system_screen_size){if(this.scroll_area>=2&&this.scroll_area<=5||14==this.j_tokugi||15==this.j_tokugi||3===this.view_move_type)this.maps.my_wx_mini=212,this.maps.my_wx_max=this.gg.di.width-this.maps.my_wx_mini-32,this.maps.my_wy_mini=148;else{if(this.maps.my_wx_mini=132,this.maps.my_wx_max=252,2===this.view_move_type){var S=this.maps.my_wx_mini;this.maps.my_wx_mini=this.maps.my_wx_max+32,this.maps.my_wx_max=this.gg.di.width-S-32}this.maps.my_wy_mini=116}this.maps.my_wy_max=300}else if(2===this.gg.system_screen_size){if(this.scroll_area>=2&&this.scroll_area<=5||14==this.j_tokugi||15==this.j_tokugi||3===this.view_move_type)this.maps.my_wx_mini=176,this.maps.my_wx_max=this.gg.di.width-this.maps.my_wx_mini-32,this.maps.my_wy_mini=112;else{if(this.maps.my_wx_mini=96,this.maps.my_wx_max=224,2===this.view_move_type){var M=this.maps.my_wx_mini;this.maps.my_wx_mini=this.maps.my_wx_max+32,this.maps.my_wx_max=this.gg.di.width-M-32}this.maps.my_wy_mini=78}this.maps.my_wy_max=176}if(_=this.mapWidth+19,this.gg.setBackcolor(F.blue),!y)switch(t){default:break;case 101:for(var C=0;C<this.mapHeight;C++){var I=".".concat(this.tdb.getValue("map0-".concat(C)));if(I+=this.tdb.getValue("map1-".concat(C)),I+=this.tdb.getValue("map2-".concat(C)),c[C+10]=I,2==this.gg.layer_mode){var B="00".concat(this.tdb.getValue("layer0-".concat(C)));B+=this.tdb.getValue("layer1-".concat(C)),B+=this.tdb.getValue("layer2-".concat(C)),o[C+10]=B}}break;case 102:for(var G=0;G<this.mapHeight;G++){var z=".".concat(this.tdb.getValue("map0-".concat(G,"-s")));if(z+=this.tdb.getValue("map1-".concat(G,"-s")),z+=this.tdb.getValue("map2-".concat(G,"-s")),c[G+10]=z,2==this.gg.layer_mode){var A="00".concat(this.tdb.getValue("layer0-".concat(G,"-s")));A+=this.tdb.getValue("layer1-".concat(G,"-s")),A+=this.tdb.getValue("layer2-".concat(G,"-s")),o[G+10]=A}}break;case 103:for(var P=0;P<this.mapHeight;P++){var N=".".concat(this.tdb.getValue("map0-".concat(P,"-t")));if(N+=this.tdb.getValue("map1-".concat(P,"-t")),N+=this.tdb.getValue("map2-".concat(P,"-t")),c[P+10]=N,2==this.gg.layer_mode){var O="00".concat(this.tdb.getValue("layer0-".concat(P,"-t")));O+=this.tdb.getValue("layer1-".concat(P,"-t")),O+=this.tdb.getValue("layer2-".concat(P,"-t")),o[P+10]=O}}break;case 104:for(var Y=0;Y<this.mapHeight;Y++){var T=".".concat(this.tdb.getValue("map0-".concat(Y,"-f")));if(T+=this.tdb.getValue("map1-".concat(Y,"-f")),T+=this.tdb.getValue("map2-".concat(Y,"-f")),c[Y+10]=T,2==this.gg.layer_mode){var E="00".concat(this.tdb.getValue("layer0-".concat(Y,"-f")));E+=this.tdb.getValue("layer1-".concat(Y,"-f")),E+=this.tdb.getValue("layer2-".concat(Y,"-f")),o[Y+10]=E}}}for(this.maps.setBank(0),101==t?this.gg.setBackcolor(this.gamecolor_back):102==t?this.gg.setBackcolor(this.gamecolor_back_s):103==t?this.gg.setBackcolor(this.gamecolor_back_t):104==t&&this.gg.setBackcolor(this.gamecolor_back_f),a=0;a<this.maps.height;a++)if(c[a].length<this.maps.width){var R=c[a].length;for(b=R;b<this.maps.width;b++)(p=c)[m=a]=p[m]+".";if(2==this.gg.layer_mode)for(b=R=o[a].length;b<2*this.maps.width;b++)(u=o)[g=a]=u[g]+"0"}if(2==this.gg.layer_mode)for(var V=0;V<this.maps.layer_count;V++)for(var W=0;W<this.maps.height;W++)for(var D=0;D<this.maps.width;D++){var L=0;if(j[V])L=(null===(h=j[V])||void 0===h?void 0:h.map[W-10])?null===(e=j[V])||void 0===e?void 0:e.map[W-10][D-1]:0;else{var H=o[W].charAt(2*D);if("."==H)continue;for(var U=0;!(U>15);){if(H==r.charAt(U)){L=Math.floor(16*U);break}if(H==n.charAt(U)){L=Math.floor(16*U);break}U++}for(H=o[W].charAt(2*D+1),U=0;!(U>15);){if(H==r.charAt(U)){L+=U;break}if(H==n.charAt(U)){L+=U;break}U++}}this.maps.map_bg_layer[V][D][W]=L}for(var q=0;q<this.maps.height;q++)for(var K=0;K<this.maps.width;K++){var J=0;f?(J=f.map[q-10]?f.map[q-10][K-1]:0)||(J=0):J=c[q].charCodeAt(K);var Z=this.setChipValue(K,q,J);Z>=0&&(this.maps.map_bg[K][q]=Z)}for(var X=0;X<=this.maps.width-1;X++)this.maps.map_bg[X][0]=21,this.maps.map_bg[X][this.maps.height-1]=21;for(var $=0;$<=this.maps.height-1;$++)this.maps.map_bg[0][$]=21,this.maps.map_bg[this.mapWidth+1][$]=21,this.maps.map_bg[_][$]=21;this.ochiru_y=this.maps.wy_max+this.gg.di.height,this.maps.wx=this.co_j.x-(2===this.view_move_type?this.maps.my_wx_max:this.maps.my_wx_mini),this.maps.wy=this.co_j.y-this.maps.my_wy_max,this.maps.wx<this.maps.wx_mini?this.maps.wx=this.maps.wx_mini:this.maps.wx>this.maps.wx_max&&(this.maps.wx=this.maps.wx_max),this.maps.wy<this.maps.wy_mini?this.maps.wy=this.maps.wy_mini:this.maps.wy>this.maps.wy_max&&(this.maps.wy=this.maps.wy_max),this.co_j.wx=this.co_j.x-this.maps.wx,this.co_j.wy=this.co_j.y-this.maps.wy}},{key:"readCustomParts",value:function(t){for(var i,s={},h=Object.keys(t);h.length>0;){var e=!1;i=[];for(var a=0;a<h.length;a++){var c=h[a],o=t[c];if("number"==typeof o.extends){var _=5e3<=o.extends&&o.extends<1e4?Ft.available[o.extends-5e3]:null;if(!_){console.warn("パーツコード"+o.extends+"は拡張できません");continue}s[c]={properties:Object.assign({},_.properties,o.properties),native:_,nativeCode:o.extends}}else{if(!(o.extends in s)){i.push(c);continue}s[c]={properties:Object.assign({},s[o.extends].properties,o.properties),native:s[o.extends].native,nativeCode:s[o.extends].nativeCode}}e=!0}if(h=i,!e)break}return h.length>0&&h.forEach((function(t){console.warn("カスタムパーツコード"+t+"を解決できませんでした")})),s}},{key:"setAthleticOnMap",value:function(t,i,s){var h=-1;if(4==this.maps.map_bg[i-1][s]&&(h=4),2==t)this.aSet(32*i,32*s,500,32*i);else if(3==t)this.aSet(32*i,32*s,510,32*i);else if(4==t)this.aSet(32*i,32*s,120,32*i);else if(5==t)this.aSet(32*i,32*s,121,32*i);else if(6==t)this.aSet(32*i,32*s,600,32*i);else if(7==t)this.aSet(32*i,32*s,700,32*i);else if(8==t)this.aSet(32*i-32,32*s,410,32*i);else if(9==t)this.aSet(32*i-32,32*s,420,32*i);else if(10==t)this.aSet(32*i-32,32*s,430,32*i);else if(11==t)this.aSet(32*i-32,32*s,440,32*i);else if(12==t)this.aSet(32*i-32,32*s,450,32*i);else if(13==t)this.aSet(32*i-32,32*s,460,32*i);else if(14==t)this.aSet(32*i-32,32*s,470,32*i);else if(15==t)this.aSet(32*i-32,32*s,480,32*i);else if(16==t)this.aSet(32*i-32,32*s,481,32*i);else if(17==t)this.aSet(32*i-32,32*s,482,32*i);else if(18==t)this.aSet(32*i+16,32*s+16,72,32*i),this.aSet(32*i+16,32*s+16,73,32*i),h=50;else if(19==t)this.aSet(32*i+16,32*s+16,72,32*i),this.aSet(32*i+16,32*s+16,74,32*i),this.aSet(32*i+16,32*s+16,76,32*i),h=50;else if(20==t)this.aSet(32*i+16,32*s+16,73,32*i),this.aSet(32*i+16,32*s+16,75,32*i),this.aSet(32*i+16,32*s+16,77,32*i),h=50;else if(21==t)this.aSet(32*i,32*s,85,32*i);else if(22==t)h=40,this.hSet(i,s,2e3);else if(23==t)h=40,this.hSet(i,s,2100);else if(24==t)h=40,this.hSet(i,s,2200);else if(25==t)this.aSet(32*i,32*s,90,32*i);else if(26==t)this.aSet(32*i,32*s,91,32*i);else if(27==t)this.aSet(32*i,32*s,92,32*i);else if(28==t)this.aSet(32*i,32*s,93,32*i),h=50;else if(29==t)this.aSet(32*i,32*s,93,32*i),this.aSet(32*i,32*s,94,32*i),h=50;else if(30==t)this.aSet(32*i,32*s,95,32*i),h=50;else if(31==t)this.aSet(32*i,32*s,96,32*i),h=50;else if(32==t)this.aSet(32*i+16,32*s+16,78,32*i),h=50;else if(33==t)this.aSet(32*i+16,32*s+16,79,32*i),h=50;else if(34==t)h=40,this.hSet(i,s,2300);else if(35==t)h=40,this.hSet(i,s,2400);else if(36==t)h=40,this.hSet(i,s,2500);else if(37==t)h=40,this.hSet(i,s,2600);else if(38==t)h=40,this.hSet(i,s,2700);else if(39==t)h=40,this.hSet(i,s,2800);else if(40==t)h=40,this.hSet(i,s,2900);else if(41==t)h=40,this.hSet(i,s,3e3);else if(42==t)h=40,this.hSet(i,s,3100);else if(43==t)h=40,this.hSet(i,s,3200);else if(44==t)this.aSet(32*i,32*s,86,32*i);else if(45==t)this.aSet(32*i,32*s,87,32*i);else if(46==t)this.aSet(32*i,32*s,88,32*i);else if(47==t)this.aSet(32*i,32*s+32,1e3,32*i);else if(48==t)this.aSet(32*i,32*s,1001,32*i);else if(49==t)this.aSet(32*i+32,32*s,1002,32*i);else if(50==t)this.aSet(32*i,32*s,1003,32*i);else if(51==t)this.aSet(32*i,32*s,1010,32*i);else if(52==t)this.aSet(32*i,32*s,1020,32*i);else if(53==t)this.aSet(32*i-32,32*s,485,32*i);else if(54==t)this.aSet(32*i-32,32*s,486,32*i);else if(55==t)this.aSet(32*i-32,32*s,487,32*i);else if(56==t)this.aSet(32*i,32*s,1100,32*i),h=26;else if(57==t)this.aSet(32*i,32*s,1150,32*i),h=26;else if(58==t)this.aSet(32*i,32*s+32,1200,32*i);else if(59==t)this.aSet(32*i,32*s+32,1200,32*i),this.aSet(32*i,32*s+32,1201,32*i);else if(60==t)this.aSet(32*i,32*s,1300,32*i),h=50;else if(61==t)this.aSet(32*i,32*s,1300,32*i),this.aSet(32*i,32*s,1301,32*i),h=50;else if(62==t)this.aSet(32*i,32*s,610,32*i);else if(63==t)this.aSet(32*i,32*s+32,1005,32*i);else if(64==t)this.aSet(32*i,32*s,1006,32*i);else if(65==t)this.aSet(32*i+32,32*s,1007,32*i);else if(66==t)this.aSet(32*i,32*s,1008,32*i);else if(67==t)h=212,this.aSet(32*i,32*s,1400,32*i);else if(68==t)h=213,this.aSet(32*i,32*s,1401,32*i);else if(69==t)h=214,this.aSet(32*i,32*s,1402,32*i);else if(70==t)h=215,this.aSet(32*i,32*s,1403,32*i);else if(71==t)this.aSet(32*i,32*s,1500,32*i);else if(72==t)this.aSet(32*i,32*s,1501,32*i);else if(73==t)this.aSet(32*i,32*s,1502,32*i);else if(74==t)this.aSet(32*i,32*s,1503,32*i);else if(75==t)this.aSet(32*i,32*s,1504,32*i);else if(76==t)this.aSet(32*i,32*s,701,32*i);else if(77==t)this.aSet(32*i,32*s,750,32*i);else if(78==t)this.aSet(32*i,32*s,751,32*i);else if(79==t)this.aSet(32*i,32*s,1600,32*i);else if(80==t)this.aSet(32*i,32*s,1601,32*i);else if(81==t)this.aSet(32*i,32*s,1602,32*i);else if(82==t)this.aSet(32*i,32*s,1603,32*i);else if(83==t)this.mSet(32*i,32*s,2185);else if(84==t)this.aSet(32*i,32*s,1700,32*i);else if(85==t)this.aSet(32*i,32*s,1701,32*i);else if(86==t)this.aSet(32*i,32*s,1702,32*i);else if(87==t)h=40,this.hSet(i,s,3300);else if(88==t)h=40,this.hSet(i,s,3400);else if(89==t)h=40,this.hSet(i,s,3500);else if(90==t)this.aSet(32*i,32*s,89,32*i);else if(91==t)h=40,this.hSet(i,s,3600);else if(92==t)h=40,this.hSet(i,s,3700);else if(93==t)h=40,this.hSet(i,s,3800);else if(94==t)h=40,this.hSet(i,s,3900);else if(95==t)h=40,this.hSet(i,s,4e3);else if(96==t)this.aSet(32*i,32*s,1800,32*i);else if(97==t)this.aSet(32*i,32*s,1801,32*i);else if(98==t)this.aSet(32*i,32*s,1850,32*i);else if(99==t)this.aSet(32*i,32*s,1851,32*i);else if(100==t){this.aSet(32*i,32*s,1900,32*i);var e=this.maps.map_bg[i-1][s];e>=20&&e<=29&&(h=e)}else if(101==t){this.aSet(32*i,32*s,1901,32*i);var a=this.maps.map_bg[i-1][s];a>=20&&a<=29&&(h=a)}else if(102==t){this.aSet(32*i,32*s,1902,32*i);var c=this.maps.map_bg[i-1][s];c>=20&&c<=29&&(h=c)}else if(103==t){this.aSet(32*i,32*s,1903,32*i);var o=this.maps.map_bg[i-1][s];o>=20&&o<=29&&(h=o)}else if(104==t){this.aSet(32*i,32*s,1904,32*i);var _=this.maps.map_bg[i-1][s];_>=20&&_<=29&&(h=_)}else if(105==t){this.aSet(32*i,32*s,1905,32*i);var r=this.maps.map_bg[i-1][s];r>=20&&r<=29&&(h=r)}else if(106==t){this.aSet(32*i,32*s,1906,32*i);var n=this.maps.map_bg[i-1][s];n>=20&&n<=29&&(h=n)}else if(107==t){this.aSet(32*i,32*s,1907,32*i);var m=this.maps.map_bg[i-1][s];m>=20&&m<=29&&(h=m)}else if(108==t){this.aSet(32*i,32*s,1908,32*i);var p=this.maps.map_bg[i-1][s];p>=20&&p<=29&&(h=p)}else if(109==t){this.aSet(32*i,32*s,1909,32*i);var g=this.maps.map_bg[i-1][s];g>=20&&g<=29&&(h=g)}else if(110==t){this.aSet(32*i,32*s,1910,32*i);var u=this.maps.map_bg[i-1][s];u>=20&&u<=29&&(h=u)}else if(111==t){this.aSet(32*i,32*s,1911,32*i);var y=this.maps.map_bg[i-1][s];y>=20&&y<=29&&(h=y)}else if(112==t)this.aSet(32*i,32*s,1912,32*i);else if(113==t)this.aSet(32*i,32*s,1913,32*i);else if(114==t)this.aSet(32*i,32*s,1914,32*i);else if(115==t){this.aSet(32*i,32*s,1915,32*i);var d=this.maps.map_bg[i-1][s];d>=20&&d<=29&&(h=d)}else if(116==t){this.aSet(32*i,32*s,1916,32*i);var f=this.maps.map_bg[i-1][s];f>=20&&f<=29&&(h=f)}else if(117==t){this.aSet(32*i,32*s,1917,32*i);var j=this.maps.map_bg[i-1][s];j>=20&&j<=29&&(h=j)}else if(118==t){this.aSet(32*i,32*s,1918,32*i);var l=this.maps.map_bg[i-1][s];l>=20&&l<=29&&(h=l)}else 119==t?this.aSet(32*i,32*s,2e3,32*i):120==t?this.aSet(32*i,32*s,2001,32*i):121==t?this.aSet(32*i,32*s,2002,32*i):122==t?this.aSet(32*i,32*s,2003,32*i):123==t?this.aSet(32*i,32*s,2010,32*i):124==t?this.aSet(32*i,32*s,2011,32*i):125==t?this.aSet(32*i,32*s,2020,32*i):126==t?this.aSet(32*i,32*s,2021,32*i):127==t?(this.aSet(32*i,32*s+8,72,32*i),this.aSet(32*i,32*s+8,74,32*i),this.aSet(32*i,32*s+8,76,32*i),this.aSet(32*i,32*s,2100,32*i)):128==t?(this.aSet(32*i,32*s+8,73,32*i),this.aSet(32*i,32*s+8,75,32*i),this.aSet(32*i,32*s+8,77,32*i),this.aSet(32*i,32*s,2100,32*i)):129==t?(this.aSet(32*i,32*s+8,2110,32*i),this.aSet(32*i,32*s+8,2111,32*i),this.aSet(32*i,32*s+8,2112,32*i),this.aSet(32*i,32*s+8,2113,32*i),this.aSet(32*i,32*s+8,2114,32*i),this.aSet(32*i,32*s,2100,32*i)):130==t?(this.aSet(32*i,32*s+8,2120,32*i),this.aSet(32*i,32*s+8,2121,32*i),this.aSet(32*i,32*s+8,2122,32*i),this.aSet(32*i,32*s+8,2123,32*i),this.aSet(32*i,32*s+8,2124,32*i),this.aSet(32*i,32*s,2100,32*i)):131==t?(this.aSet(32*i+160,32*s+160,2200,32*i),this.aSet(32*i+160,32*s+160,2201,32*i),this.aSet(32*i+160,32*s+160,2202,32*i)):132==t?(this.aSet(32*i+160,32*s+160,2210,32*i),this.aSet(32*i+160,32*s+160,2211,32*i),this.aSet(32*i+160,32*s+160,2212,32*i)):133==t?this.aSet(32*i,32*s,2300,32*i):134==t?this.aSet(32*i,32*s,2301,32*i):135==t?this.aSet(32*i,32*s,2400,32*i):136==t?this.aSet(32*i,32*s,2500,32*i):137==t?this.aSet(32*i,32*s,2510,32*i):138==t?this.aSet(32*i,32*s,2600,32*i):139==t?this.aSet(32*i,32*s,2610,32*i):140==t?this.aSet(32*i,32*s,2700,32*i):141==t?this.aSet(32*i,32*s,2701,32*i):142==t?(this.aSet(32*i+160,32*s+160,2250,32*i),this.aSet(32*i+160,32*s+160,2251,32*i)):143==t?(this.aSet(32*i+160,32*s+160,2260,32*i),this.aSet(32*i+160,32*s+160,2261,32*i)):144==t?(this.aSet(32*i+160,32*s+160,2252,32*i),this.aSet(32*i+160,32*s+160,2253,32*i)):145==t?(this.aSet(32*i+160,32*s+160,2262,32*i),this.aSet(32*i+160,32*s+160,2263,32*i)):146==t?this.aSet(32*i-32,32*s,489,32*i):147==t?this.aSet(32*i-32,32*s,488,32*i):148==t?this.aSet(32*i-32,32*s,490,32*i):149==t?this.aSet(32*i-32,32*s,491,32*i):150==t?this.aSet(32*i-32,32*s,492,32*i):151==t?(this.aSet(32*i,32*s,2800,32*i),h=50):152==t?(this.aSet(32*i,32*s,2801,32*i),h=50):153==t?(this.aSet(32*i,32*s,2802,32*i),h=50):154==t?(this.aSet(32*i,32*s,2803,32*i),h=50):155==t?this.aSet(32*i,32*s,2900,32*i):156==t?this.aSet(32*i,32*s,2950,32*i):157==t?this.aSet(32*i-32,32*s,3e3,32*i-32):158==t?this.aSet(32*i-32,32*s,3010,32*i-32):159==t?this.aSet(32*i,32*s,3100,32*i):160==t?this.aSet(32*i,32*s,3110,32*i):161==t?this.aSet(32*i,32*s,3120,32*i):162==t?this.aSet(32*i,32*s,3130,32*i):163==t?this.aSet(32*i,32*s,3101,32*i):164==t?this.aSet(32*i,32*s,3111,32*i):165==t?this.aSet(32*i,32*s,3121,32*i):166==t?this.aSet(32*i,32*s,3131,32*i):167==t?(this.aSet(32*i,32*s,3200,32*i),h=50):168==t?(this.aSet(32*i,32*s,3201,32*i),h=50):169==t?(this.aSet(32*i,32*s,3202,32*i),h=50):170==t?(this.aSet(32*i,32*s,3203,32*i),h=50):171==t?this.aSet(32*i,32*s,3300,32*i):172==t?this.aSet(32*i,32*s,3301,32*i):173==t?this.aSet(32*i,32*s,350,32*i):174==t?this.aSet(32*i,32*s,351,32*i):175==t?this.aSet(32*i,32*s,352,32*i):176==t?this.aSet(32*i,32*s,353,32*i):177==t?this.aSet(32*i,32*s,360,32*i):178==t?this.aSet(32*i,32*s,361,32*i):179==t?this.aSet(32*i,32*s,362,32*i):180==t?this.aSet(32*i,32*s,363,32*i):181==t?this.aSet(32*i,32*s,3400,32*i):182==t?(h=40,this.hSet(i,s,4100)):183==t?this.aSet(32*i,32*s,370,32*i):184==t?this.aSet(32*i,32*s,371,32*i):185==t?this.aSet(32*i,32*s,372,32*i):186==t?this.aSet(32*i,32*s,373,32*i):187==t?this.aSet(32*i,32*s,380,32*i):188==t?this.aSet(32*i,32*s,381,32*i):189==t?this.aSet(32*i,32*s,382,32*i):190==t?this.aSet(32*i,32*s,383,32*i):191==t?this.aSet(32*i,32*s,3500,32*i):192==t?this.aSet(32*i,32*s,3600,32*i):193==t?this.aSet(32*i,32*s,3700,32*i):194==t?this.aSet(32*i,32*s,3710,32*i):195==t?this.aSet(32*i,32*s,3800,32*i):196==t?this.aSet(32*i,32*s,3810,32*i):197==t?this.aSet(32*i,32*s,3900,32*i):198==t?this.aSet(32*i,32*s,3910,32*i):199==t?this.aSet(32*i,32*s,4e3,32*i):200==t?this.aSet(32*i,32*s,4010,32*i):201==t?this.aSet(32*i,32*s,4100,32*i):202==t?this.aSet(32*i,32*s,4110,32*i):203==t?this.aSet(32*i,32*s,4200,32*i):204==t?this.aSet(32*i,32*s,4210,32*i):205==t?this.aSet(32*i,32*s,150,32*i):206==t?this.aSet(32*i,32*s,151,32*i):207==t?this.aSet(32*i,32*s,160,32*i):208==t?this.aSet(32*i,32*s,161,32*i):209==t?this.aSet(32*i,32*s,152,32*i):210==t?this.aSet(32*i,32*s,162,32*i):211==t?this.aSet(32*i,32*s,3501,32*i):212==t?this.aSet(32*i,32*s,3601,32*i):213==t?(h=40,this.hSet(i,s,4200)):214==t?(h=40,this.hSet(i,s,4300)):215==t?(h=40,this.hSet(i,s,4400)):216==t?(h=40,this.hSet(i,s,4500)):217==t?this.aSet(32*i,32*s,3502,32*i):218==t?this.aSet(32*i,32*s,3602,32*i):219==t?(this.aSet(32*i+16,32*s+16,4300,32*i),h=50):220==t?(this.aSet(32*i+16,32*s+16,4301,32*i),h=50):221==t?(this.aSet(32*i+16,32*s+16,4302,32*i),h=50):222==t?(this.aSet(32*i+16,32*s+16,4303,32*i),h=50):223==t?(this.aSet(32*i+16,32*s+16,4304,32*i),h=50):224==t?(this.aSet(32*i+16,32*s+16,4305,32*i),h=50):225==t?(this.aSet(32*i+16,32*s+16,4306,32*i),h=50):226==t?(this.aSet(32*i+16,32*s+16,4307,32*i),h=50):227==t?(this.aSet(32*i+16,32*s+16,4310,32*i),h=50):228==t?(this.aSet(32*i+16,32*s+16,4311,32*i),h=50):229==t?(this.aSet(32*i+16,32*s+16,4312,32*i),h=50):230==t?(this.aSet(32*i+16,32*s+16,4313,32*i),h=50):231==t?(this.aSet(32*i+16,32*s+16,4314,32*i),h=50):232==t?(this.aSet(32*i+16,32*s+16,4315,32*i),h=50):233==t?(this.aSet(32*i+16,32*s+16,4316,32*i),h=50):234==t?(this.aSet(32*i+16,32*s+16,4317,32*i),h=50):235==t?this.aSet(32*i,32*s,4400,32*i):236==t?this.aSet(32*i,32*s,4410,32*i):237==t?this.aSet(32*i,32*s+32,4500,32*i):238==t?this.aSet(32*i,32*s+32,4501,32*i):239==t?this.aSet(32*i,32*s+32,4502,32*i):240==t?this.aSet(32*i,32*s+32,4503,32*i):241==t?this.aSet(32*i,32*s+32,4510,32*i):242==t?this.aSet(32*i,32*s+32,4511,32*i):243==t?this.aSet(32*i,32*s+32,4512,32*i):244==t?this.aSet(32*i,32*s+32,4513,32*i):245==t?this.aSet(32*i,32*s,4600,32*i):246==t?this.aSet(32*i,32*s,4610,32*i):247==t?(this.aSet(32*i,32*s,4700,32*i),h=213):248==t?(this.aSet(32*i,32*s,4701,32*i),h=214):249==t?this.aSet(32*i,32*s,4800,32*i):250==t?this.aSet(32*i,32*s,4801,32*i):251==t?(this.aSet(32*i,32*s,4702,32*i),h=215):252==t?(this.aSet(32*i,32*s,4703,32*i),h=212):253==t?(this.aSet(32*i,32*s,5e3,32*i),h=28):254==t?this.aSet(32*i,32*s,4900,32*i):255==t?this.aSet(32*i,32*s,4910,32*i):256==t?this.aSet(32*i,32*s,5200,32*i):257==t?this.aSet(32*i,32*s,5210,32*i):258==t?this.tSet(32*i,32*s,1190,32*i-this.gg.di.width-32-32):259==t?this.tSet(32*i,32*s,1191,32*i-this.gg.di.width-32-32):260==t?(this.aSet(32*i,32*s,5100,32*i),h=31):261==t?(this.aSet(32*i,32*s,5101,32*i),h=31):262==t?this.aSet(32*i,32*s,5300,32*i):263==t?(h=18,this.map_data_option[i][s]=!0):264==t?(h=19,this.map_data_option[i][s]=!0):h=t>=1001&&t<=1249?Math.floor(t-1e3):-99;return h}},{key:"drawGamescreen",value:function(){ni.apply(this)}},{key:"drawGamescreenMy",value:function(){si.apply(this)}},{key:"drawGamescreenEnemy",value:function(){Kt.apply(this)}},{key:"drawGamescreenWindow",value:function(){ci.apply(this)}},{key:"drawGamescreenUgokuyuka",value:function(){qt.apply(this)}},{key:"AwaMove",value:function(t,i){(4==t||(8==t||9==t)&&4==this.maps.map_bg[Ji(this.co_j.x+15,5)-1][Ji(this.co_j.y+15,5)]||2!==i&&t>=15&&t<=19&&4==this.maps.map_bg[Ji(this.co_j.x+15,5)][Ji(this.co_j.y+15,5)-1])&&(this.j_mizu_f=!0,0===i&&(this.j_djump_kf=!0),1!==i&&(this.j_jet_c=0),this.j_mizu_awa_c++,44==this.j_mizu_awa_c||54==this.j_mizu_awa_c?this.mSet(this.co_j.x,this.co_j.y+4,60):this.j_mizu_awa_c>54&&(this.j_mizu_awa_c=0))}},{key:"jM100",value:function(){var t=!1,i=!1,s=!1,h=!1;this.j_mizu_f=!1;var e=this.maps.getBGCode(this.co_j.x+15,this.co_j.y+15);this.AwaMove(e,0),this.jst_auto_right>0&&(1==this.jst_auto_right?(this.gk.right_f=!0,this.gk.left_f=!1,this.j_hashiru_f=!1):2==this.jst_auto_right&&(this.gk.right_f=!0,this.gk.left_f=!1,this.j_hashiru_f=!0)),this.gk.tr1_f?this.tr1_c<6&&this.tr1_c++:this.tr1_c=0,this.gk.tr1_f?this.gk.tr1_c<6&&this.gk.tr1_c++:this.gk.tr1_c=0,this.gk.tr2_f?this.tr2_c<2&&this.tr2_c++:this.tr2_c=0,this.gk.left_f?this.gk.left_c<2&&this.gk.left_c++:this.gk.left_c=0,this.gk.right_f?this.gk.right_c<2&&this.gk.right_c++:this.gk.right_c=0,1==this.gk.left_c?(this.left_dcc>0&&2!=this.jst_fast_run?this.j_hashiru_f=!0:this.j_hashiru_f=!1,this.left_dcc=8):this.left_dcc>0&&this.left_dcc--,1==this.gk.right_c?(this.right_dcc>0&&2!=this.jst_fast_run?this.j_hashiru_f=!0:this.j_hashiru_f=!1,this.right_dcc=8):this.right_dcc>0&&this.right_dcc--,this.gk.up_f?(this.up_key_c++,this.up_key_c>2&&(this.up_key_c=2)):this.up_key_c=0,this.gk.down_f?(this.down_key_c++,this.down_key_c>2&&(this.down_key_c=2)):this.down_key_c=0;var a=this.co_j.x,c=this.co_j.y;this.co_j.pt=100;var o=Ji(a+15,5),_=Ji(c+31,5),r=this.maps.map_bg[o][_],n=this.map_data_option[o][_],m=Ji(c+32,5),p=this.maps.map_bg[o][m];if(this.j_shitakara_mushi_y>0&&this.j_shitakara_mushi_y!=m&&(this.j_shitakara_mushi_y=-1),s=!1,15==p&&32*Ji(c,5)==c&&this.co_j.vy>=0&&(s=!0,this.j_shitakara_mushi_y>0&&this.j_shitakara_mushi_y==m&&(s=!1)),(p>=20||10==p||this.j_a_id>=0||s)&&this.j_hashigo_mushi_x!=Ji(this.co_j.x+15,5)?(this.co_j.jimen_f=!0,this.j_jump_type=2,69==p&&(i=!0)):this.co_j.jimen_f=!1,this.yuka_ride_id>=0&&(this.co_j.jimen_f=!0,this.j_jump_type=2),18==r||19==r){var g=this.getSakamichiY(this.co_j.x+15,this.co_j.y+31);this.map_data_option[o][_]?(this.saka_mushi_y<=0||this.saka_mushi_y!=_)&&g==this.co_j.y&&this.co_j.vy>=0&&(this.co_j.jimen_f=!0,this.j_jump_type=2):g<=this.co_j.y&&(this.co_j.y=g,this.co_j.vy>=0&&(this.co_j.jimen_f=!0,this.j_jump_type=2))}if(10==r&&32*Ji(this.co_j.y,5)==this.co_j.y&&(this.co_j.jimen_f=!0,this.j_tokugi<=11&&Ji(this.co_j.x+15,5)!=this.j_hashigo_mushi_x&&10!=this.maps.getBGCode(this.co_j.x+15-32,this.co_j.y+31)&&10!=this.maps.getBGCode(this.co_j.x+15+32,this.co_j.y+31)&&this.maps.getBGCode(this.co_j.x+15-32,this.co_j.y+32)<=9&&this.maps.getBGCode(this.co_j.x+15+32,this.co_j.y+32)<=9)){var u=!1;if(32*Ji(this.co_j.x,5)!=this.co_j.x)for(var y=0;!(y>this.a_kazu);){if(410==this.co_a[y].c&&this.co_a[y].x<=32*Ji(this.co_j.x+15,5)+15&&this.co_a[y].x+95>=32*Ji(this.co_j.x+15,5)+15&&this.co_j.y+31>=this.co_a[y].y&&this.co_j.y<=this.co_a[y].y+63){u=!0;break}y++}u||(this.j_hashigo_f=!0,this.co_j.x=32*Ji(this.co_j.x+15,5))}if(this.j_hashigo_mushi_x==Ji(this.co_j.x+15,5)&&0!=this.co_j.vx||(this.j_hashigo_mushi_x=-1),this.saka_mushi_y>=0&&(this.co_j.y+31>32*this.saka_mushi_y+32+23||this.co_j.y+31<32*this.saka_mushi_y||this.co_j.jimen_f||this.j_hashigo_f)&&(this.saka_mushi_y=-1),10==this.maps.getBGCode(this.co_j.x+15,this.co_j.y+15)||10==this.maps.getBGCode(this.co_j.x+15,this.co_j.y+31)){if(this.j_hashigo_mushi_x!=Ji(this.co_j.x+15,5)&&(this.j_jump_type=2),this.gk.up_f){var d=!1;if(32*Ji(this.co_j.x,5)!=this.co_j.x)for(var f=0;!(f>this.a_kazu);){if(410==this.co_a[f].c&&this.co_a[f].x<=32*Ji(this.co_j.x+15,5)+15&&this.co_a[f].x+95>=32*Ji(this.co_j.x+15,5)+15&&this.co_j.y+31>=this.co_a[f].y&&this.co_j.y<=this.co_a[f].y+63){d=!0;break}f++}d||(this.j_hashigo_f=!0,this.co_j.jimen_f=!1,this.j_jet_c=0,this.co_j.direction=2)}if(this.gk.down_f&&this.maps.getBGCode(this.co_j.x+15,this.co_j.y+32)<20&&15!=this.maps.getBGCode(this.co_j.x+15,this.co_j.y+32)){var j=!1;if(32*Ji(this.co_j.x,5)!=this.co_j.x)for(var l=0;!(l>this.a_kazu);){if(410==this.co_a[l].c&&this.co_a[l].x<=32*Ji(this.co_j.x+15,5)+15&&this.co_a[l].x+95>=32*Ji(this.co_j.x+15,5)+15&&this.co_j.y+31>=this.co_a[l].y&&this.co_j.y<=this.co_a[l].y+63){j=!0;break}l++}j||(this.j_hashigo_f=!0,this.co_j.jimen_f=!1,this.j_jet_c=0,this.co_j.direction=3)}!this.co_j.jimen_f&&10==this.maps.getBGCode(this.co_j.x+15,this.co_j.y+31)&&this.maps.getBGCode(this.co_j.x+15,this.co_j.y+32)<20&&15!=this.maps.getBGCode(this.co_j.x+15,this.co_j.y+32)&&(this.co_j.jimen_f=!1,this.j_jet_c=0)}else this.j_hashigo_f=!1,this.co_j.direction=0;if(this.j_hashigo_f){if(this.gk.left_f){var v=Ji(this.co_j.y+15,5),x=this.maps.map_bg[Ji(this.co_j.x+15,5)-1][v],k=this.maps.map_bg[Ji(this.co_j.x+15,5)-1][v+1];if(10!=this.j_tokugi&&12!=this.j_tokugi&&13!=this.j_tokugi||!(x<=10||15==x)){if(10==x)this.j_hashigo_f=!1,this.co_j.jimen_f=!0,this.co_j.y=32*v,this.j_shitakara_mushi_y=-1,this.co_j.direction=0;else if((x<=10||15==x)&&(k>=20||15==k||10==k)){var w=this.maps.map_bg[Ji(this.co_j.x+15,5)][v+1];(10==w||15==w||w>=20)&&(this.j_hashigo_f=!1,this.co_j.jimen_f=!0,this.co_j.y=32*v,this.j_shitakara_mushi_y=-1,this.co_j.direction=0)}}else this.j_hashigo_f=!1,this.co_j.jimen_f=!0,this.co_j.y=32*v,this.j_shitakara_mushi_y=-1,this.co_j.direction=0}if(this.gk.right_f){var b=Ji(this.co_j.y+15,5),S=this.maps.map_bg[Ji(this.co_j.x+15,5)+1][b],M=this.maps.map_bg[Ji(this.co_j.x+15,5)+1][b+1];if(10!=this.j_tokugi&&12!=this.j_tokugi&&13!=this.j_tokugi||!(S<=10||15==S)||(this.j_hashigo_f=!1,this.co_j.jimen_f=!0,this.co_j.y=32*b,this.j_shitakara_mushi_y=-1,this.co_j.direction=0),10==S)this.j_hashigo_f=!1,this.co_j.jimen_f=!0,this.co_j.y=32*b,this.j_shitakara_mushi_y=-1,this.co_j.direction=0;else if((S<=10||15==S)&&(M>=20||15==M||10==M)){var C=this.maps.map_bg[Ji(this.co_j.x+15,5)][b+1];(10==C||15==C||C>=20)&&(this.j_hashigo_f=!1,this.co_j.jimen_f=!0,this.co_j.y=32*b,this.j_shitakara_mushi_y=-1,this.co_j.direction=0)}}}if(10==this.j_tokugi||12==this.j_tokugi||13==this.j_tokugi){if(this.ana_kazu>0)for(var I=0;!(I>this.t_kazu);){if((1250==this.co_t[I].c||1310==this.co_t[I].c)&&this.co_j.x+15>=this.co_t[I].x&&this.co_j.x+15<=this.co_t[I].x+31&&this.co_j.y==this.co_t[I].y-32){this.co_j.jimen_f=!0;break}I++}for(var B=0;!(B>this.t_kazu);){if(this.co_t[B].c>=1200&&this.co_t[B].c<=1220&&Math.abs(this.co_j.x-this.co_t[B].x)<=24&&this.co_j.y==this.co_t[B].y-32){this.co_j.y=this.co_t[B].y-32,this.co_j.jimen_f=!0;break}B++}}if(this.j_hashigo_f&&(this.co_j.jimen_f=!1),this.j_cannon_c>0&&(this.j_cannon_c--,(this.co_j.jimen_f||this.j_hashigo_f||0==this.j_cannon_c)&&(this.jst_pc_attack>=1&&this.j_cannon_c>0&&(3==this.j_cannon_type||4==this.j_cannon_type)?this.j_hashigo_f&&(this.j_cannon_c=0,this.co_j.vx<-120&&(this.co_j.vx=-120),this.co_j.vx>120&&(this.co_j.vx=120)):(this.j_cannon_c=0,this.co_j.vx<-120&&(this.co_j.vx=-120),this.co_j.vx>120&&(this.co_j.vx=120),3!=this.j_cannon_type&&4!=this.j_cannon_type||(this.co_j.vx=0,this.co_j.vy=20,this.j_jump_type=0)))),this.j_hashigo_f)this.j_djump_kf=!0,this.gk.left_f?this.co_j.muki=0:this.gk.right_f&&(this.co_j.muki=1),!this.gk.up_f||this.gk.left_f||this.gk.right_f?!this.gk.down_f||this.gk.left_f||this.gk.right_f?(this.co_j.vy=0,this.co_j.ac=0):(this.co_j.vy=80,this.co_j.ac++,this.co_j.ac>3&&(this.co_j.ac=0)):(this.co_j.vy=-80,this.co_j.ac++,this.co_j.ac>3&&(this.co_j.ac=0)),this.co_j.vx=0;else if(!this.gk.down_f||10!=this.maps.getBGCode(this.co_j.x+15,this.co_j.y+32)||this.gk.left_f||this.gk.right_f)if(this.co_j.jimen_f)this.j_djump_kf=!0,this.j_zan_f=!1,this.j_jet_c=0,this.gk.left_f&&(this.j_cannon_c<=0||3!=this.j_cannon_type&&4!=this.j_cannon_type)?(i?(this.co_j.vx-=4,1==this.gk.left_c&&this.co_j.vx>30&&this.gs.rsAddSound(5)):(this.co_j.vx-=15,1==this.gk.left_c&&this.co_j.vx>60&&this.gs.rsAddSound(5)),this.j_hashiru_f?(this.j_mizu_f?this.co_j.vx<-60&&(this.co_j.vx=-60):1==this.jst_fast_run?this.co_j.vx<-180&&(this.co_j.vx=-180):this.co_j.vx<-120&&(this.co_j.vx=-120),this.co_j.vx>0&&!i?(this.co_j.pt=108,this.co_j.ac=0):(this.co_j.pt=105+Ji(this.co_j.ac,1),this.co_j.ac++,this.co_j.ac>3&&(this.co_j.ac=0))):(this.j_mizu_f?this.co_j.vx<-40&&(this.co_j.vx=-40):this.co_j.vx<-60&&(this.co_j.vx=-60),this.co_j.vx>0&&!i?(this.co_j.pt=108,this.co_j.ac=0):(this.co_j.pt=103+Ji(this.co_j.ac,1),this.co_j.ac++,this.co_j.ac>3&&(this.co_j.ac=0))),this.co_j.muki=0):this.gk.right_f&&(this.j_cannon_c<=0||3!=this.j_cannon_type&&4!=this.j_cannon_type)?(i?(this.co_j.vx+=4,1==this.gk.right_c&&this.co_j.vx<-30&&this.gs.rsAddSound(5)):(this.co_j.vx+=15,1==this.gk.right_c&&this.co_j.vx<-60&&this.gs.rsAddSound(5)),this.j_hashiru_f?(this.j_mizu_f?this.co_j.vx>60&&(this.co_j.vx=60):1==this.jst_fast_run?this.co_j.vx>180&&(this.co_j.vx=180):this.co_j.vx>120&&(this.co_j.vx=120),this.co_j.vx<0&&!i?(this.co_j.pt=108,this.co_j.ac=0):(this.co_j.pt=105+Ji(this.co_j.ac,1),this.co_j.ac++,this.co_j.ac>3&&(this.co_j.ac=0))):(this.j_mizu_f?this.co_j.vx>40&&(this.co_j.vx=40):this.co_j.vx>60&&(this.co_j.vx=60),this.co_j.vx<0&&!i?(this.co_j.pt=108,this.co_j.ac=0):(this.co_j.pt=103+Ji(this.co_j.ac,1),this.co_j.ac++,this.co_j.ac>3&&(this.co_j.ac=0))),this.co_j.muki=1):this.co_j.vx<0?((this.j_cannon_c<=0||3!=this.j_cannon_type&&4!=this.j_cannon_type)&&(i?this.co_j.vx++:this.co_j.vx+=5),this.co_j.vx>0&&(this.co_j.vx=0),this.j_hashiru_f||i?(this.co_j.pt=107,this.co_j.ac=0):(this.co_j.pt=103+Ji(this.co_j.ac,1),this.co_j.ac++,this.co_j.ac>3&&(this.co_j.ac=0)),this.co_j.muki=0):this.co_j.vx>0?((this.j_cannon_c<=0||3!=this.j_cannon_type&&4!=this.j_cannon_type)&&(i?this.co_j.vx--:this.co_j.vx-=5),this.co_j.vx<0&&(this.co_j.vx=0),this.j_hashiru_f||i?(this.co_j.pt=107,this.co_j.ac=0):(this.co_j.pt=103+Ji(this.co_j.ac,1),this.co_j.ac++,this.co_j.ac>3&&(this.co_j.ac=0)),this.co_j.muki=1):this.co_j.ac=0;else{if(10!=this.j_tokugi&&12!=this.j_tokugi&&13!=this.j_tokugi||this.j_mizu_f?this.gk.left_f?this.j_cannon_c<=0&&!this.j_mizu_f&&(1==this.jst_fly_left_right?(this.co_j.vx-=15,this.co_j.vx<-120&&(this.co_j.vx=-120)):this.co_j.vx>-60&&(this.co_j.vx-=10,this.co_j.vx<-60&&(this.co_j.vx=-60))):this.gk.right_f&&this.j_cannon_c<=0&&!this.j_mizu_f&&(1==this.jst_fly_left_right?(this.co_j.vx+=15,this.co_j.vx>120&&(this.co_j.vx=120)):this.co_j.vx<60&&(this.co_j.vx+=10,this.co_j.vx>60&&(this.co_j.vx=60))):(this.co_j.vy<0?(this.co_j.vx<0&&(this.co_j.vx=-30),this.co_j.vx>0&&(this.co_j.vx=30)):(this.co_j.vx<0&&(this.co_j.vx=-60),this.co_j.vx>0&&(this.co_j.vx=60)),this.co_j.vy<0?Math.abs(32*Ji(this.co_j.x,5)-this.co_j.x)<3&&(this.co_j.x=32*Ji(this.co_j.x+15,5),this.co_j.vx=0):Math.abs(32*Ji(this.co_j.x,5)-this.co_j.x)<6&&(this.co_j.x=32*Ji(this.co_j.x+15,5),this.co_j.vx=0),this.co_j.vy>90&&(this.co_j.vy=90)),(1==this.jst_kabe_kick||2==this.jst_kabe_kick)&&1==this.gk.tr1_c&&!this.j_mizu_f){var G=this.maps.getBGCode(this.co_j.x+14,this.co_j.y),z=this.maps.getBGCode(this.co_j.x+14,this.co_j.y+31);(G>=20||18==G||z>=20||18==z)&&(2==this.jst_kabe_kick?(this.co_j.vx=60,this.co_j.vy=-260,this.co_j.muki=1,this.j_jump_level=3,this.j_jump_type=0,this.gs.rsAddSound(3)):(this.co_j.vx=60,this.j_mizu_f||(this.co_j.vx=120),this.j_jump_type=5,this.co_j.muki=0,this.co_j.vy>0?this.co_j.vy=-25:this.co_j.vy-=50),h=!0,this.j_djump_kf=!0),G=this.maps.getBGCode(this.co_j.x+16,this.co_j.y),z=this.maps.getBGCode(this.co_j.x+16,this.co_j.y+31),(G>=19||z>=19)&&(2==this.jst_kabe_kick?(this.co_j.vx=-60,this.co_j.vy=-260,this.co_j.muki=0,this.j_jump_level=3,this.j_jump_type=0,this.gs.rsAddSound(3)):(this.co_j.vx=-60,this.j_mizu_f||(this.co_j.vx=-120),this.j_jump_type=5,this.co_j.muki=1,this.co_j.vy>0?this.co_j.vy=-25:this.co_j.vy-=50),h=!0,this.j_djump_kf=!0)}this.j_mizu_f?this.j_mizu_ac>1?this.co_j.pt=84:this.co_j.pt=83:0==this.j_jump_type?this.j_cannon_c>0&&2==this.j_cannon_type?this.co_j.pt=1300:this.j_cannon_c>0&&5==this.j_cannon_type?this.co_j.pt=210:this.j_cannon_c>0&&Math.abs(this.co_j.vy)<50?this.co_j.pt=83:this.co_j.vy<20?this.co_j.pt=101:this.co_j.pt=102:2==this.j_jump_type?Math.abs(this.co_j.vx)<=60?this.co_j.pt=103:this.co_j.pt=105:3==this.j_jump_type?this.co_j.pt=119:4==this.j_jump_type?this.co_j.pt=100:5==this.j_jump_type?this.co_j.pt=107:6==this.j_jump_type?this.co_j.pt=109:7==this.j_jump_type?(this.co_j.pt=1500,this.j_zan_f=!1):this.co_j.pt=109,this.co_j.ac=2}else{for(var A=!1,P=0;!(P>this.a_kazu);){if(410==this.co_a[P].c&&this.co_a[P].x<=32*Ji(this.co_j.x+15,5)+15&&this.co_a[P].x+95>=32*Ji(this.co_j.x+15,5)+15&&this.co_j.y+31>=this.co_a[P].y&&this.co_j.y<=this.co_a[P].y+63){A=!0;break}P++}A||(this.j_djump_kf=!0,this.co_j.vy=80,this.co_j.vx=0,this.co_j.jimen_f=!1,this.j_hashigo_f=!0)}if(this.j_cannon_c>0&&(3==this.j_cannon_type?(this.co_j.pt=1400,this.j_cannon_c<=5&&(this.co_j.pt=102,this.co_j.vx=0,this.co_j.jimen_f&&(this.co_j.pt=100))):4==this.j_cannon_type&&(this.co_j.pt=84,this.j_cannon_c<=5&&(this.co_j.pt=102,this.co_j.vx=0,this.co_j.jimen_f&&(this.co_j.pt=100)))),this.j_jdai_f&&(this.co_j.vx=0,this.co_j.pt=100,this.co_j.ac=0,10!=this.j_tokugi&&12!=this.j_tokugi&&13!=this.j_tokugi||this.co_j.y%32!=0||(this.gk.left_f?(this.co_j.vx=-30,this.co_j.x=32*Ji(this.co_j.x+15,5)-6):this.gk.right_f&&(this.co_j.vx=30,this.co_j.x=32*Ji(this.co_j.x+15,5)+6))),this.j_hashigo_f)this.co_j.x=32*Ji(this.co_j.x+15,5);else if(this.co_j.vx<0){if(this.co_j.x+=Ki(this.co_j.vx/10),this.yuka_ride_id>=0)if(this.yo[this.yuka_ride_id].con>=200&&this.yo[this.yuka_ride_id].con<300){var N=this.getSLOY(this.yo[this.yuka_ride_id].x,this.yo[this.yuka_ride_id].y,this.yo[this.yuka_ride_id].x2,this.yo[this.yuka_ride_id].y2);if(N>=0)this.co_j.y=N,this.yo[this.yuka_ride_id].y>this.yo[this.yuka_ride_id].y2&&this.maps.getBGCode(this.co_j.x+15,this.co_j.y+31)>=20&&(this.co_j.y=32*Ji(this.co_j.y+31,5)-32);else{var O;for(this.co_j.y=this.yo[this.yuka_ride_id].y-32,O=0;O<=this.yuka_id_max;O++)if(!(this.yo[O].con<200||this.yo[O].con>=300||this.yo[O].x2!=this.yo[this.yuka_ride_id].x||this.yo[O].y2!=this.yo[this.yuka_ride_id].y)){var Y=this.getSLOY(this.yo[O].x,this.yo[O].y,this.yo[O].x2,this.yo[O].y2);if(!(Y<0)){this.co_j.y=Y;break}}O>this.yuka_id_max&&(this.yo[this.yuka_ride_id].y<=this.yo[this.yuka_ride_id].y2?this.co_j.vy=0:this.co_j.vy=75)}}else if(this.yo[this.yuka_ride_id].con>=300&&this.yo[this.yuka_ride_id].con<350){var T=this.getSCOY(this.yo[this.yuka_ride_id].x,this.yo[this.yuka_ride_id].y,this.yo[this.yuka_ride_id].x2,this.yo[this.yuka_ride_id].y2);if(T>=0)this.co_j.y=T,this.maps.getBGCode(this.co_j.x+15,this.co_j.y+31)>=20&&(this.co_j.y=32*Ji(this.co_j.y+31,5)-32);else{var E=Ki(90*this.yo[this.yuka_ride_id].x2/100);this.co_j.y=this.yo[this.yuka_ride_id].y-Math.floor(Math.sqrt(this.yo[this.yuka_ride_id].x2*this.yo[this.yuka_ride_id].x2-E*E))-32}}else if(this.yo[this.yuka_ride_id].con>=350&&this.yo[this.yuka_ride_id].con<400){var R=this.getSHCOY(this.yo[this.yuka_ride_id].x,this.yo[this.yuka_ride_id].y,this.yo[this.yuka_ride_id].x2,this.yo[this.yuka_ride_id].y2);R>=0?(this.co_j.y=R,this.maps.getBGCode(this.co_j.x+15,this.co_j.y+31)>=20&&(this.co_j.y=32*Ji(this.co_j.y+31,5)-32)):this.co_j.y=this.yo[this.yuka_ride_id].y+32}else if(this.yo[this.yuka_ride_id].con>=400&&this.yo[this.yuka_ride_id].con<450){var V=this.getSWUpOY(this.yo[this.yuka_ride_id].x,this.yo[this.yuka_ride_id].y,this.yo[this.yuka_ride_id].x2,this.yo[this.yuka_ride_id].y2);if(V>=0)this.co_j.y=V,this.maps.getBGCode(this.co_j.x+15,this.co_j.y+31)>=20&&(this.co_j.y=32*Ji(this.co_j.y+31,5)-32);else{this.co_j.y=this.yo[this.yuka_ride_id].y+128-32;for(var W=0;!(W>this.yuka_id_max);){if(this.yo[W].con>=400&&this.yo[W].con<450&&this.yo[W].x==this.yo[this.yuka_ride_id].x-256&&this.yo[W].y==this.yo[this.yuka_ride_id].y+128){var F=this.getSWUpOY(this.yo[W].x,this.yo[W].y,this.yo[W].x2,this.yo[W].y2);if(F>=0){this.co_j.y=F;break}}W++}}}else if(this.yo[this.yuka_ride_id].con>=450&&this.yo[this.yuka_ride_id].con<500){var D=this.getSWDownOY(this.yo[this.yuka_ride_id].x,this.yo[this.yuka_ride_id].y,this.yo[this.yuka_ride_id].x2,this.yo[this.yuka_ride_id].y2);if(D>=0)this.co_j.y=D,this.maps.getBGCode(this.co_j.x+15,this.co_j.y+31)>=20&&(this.co_j.y=32*Ji(this.co_j.y+31,5)-32);else{this.co_j.y=this.yo[this.yuka_ride_id].y-32;for(var L=0;L<=this.yuka_id_max;L++)if(!(this.yo[L].con<400||this.yo[L].con>=450||this.yo[L].x!=this.yo[this.yuka_ride_id].x-256||this.yo[L].y!=this.yo[this.yuka_ride_id].y)){var H=this.getSWUpOY(this.yo[L].x,this.yo[L].y,this.yo[L].x2,this.yo[L].y2);if(!(H<0)){this.co_j.y=H;break}}}}if(this.co_j.jimen_f&&(19==r?o>Ji(this.co_j.x+15,5)?(this.co_j.y=32*(_-1),19==this.maps.map_bg[Ji(this.co_j.x+15,5)][_-1]?this.co_j.y=this.getSakamichiY(this.co_j.x+15,this.co_j.y+31):18==this.maps.map_bg[Ji(this.co_j.x+15,5)][_]?this.co_j.y=this.getSakamichiY(this.co_j.x+15,this.co_j.y+32):this.maps.map_bg[Ji(this.co_j.x+15,5)][_]<19&&15!=this.maps.map_bg[Ji(this.co_j.x+15,5)][_]&&(this.co_j.vy=this.co_j.vx,(10==this.j_tokugi||12==this.j_tokugi||13==this.j_tokugi)&&this.co_j.vy<-40&&(this.co_j.vy=-40),this.co_j.vy>=0&&(this.co_j.y-=Ki(-this.co_j.vy/-10)))):this.co_j.y=this.getSakamichiY(this.co_j.x+15,this.co_j.y+31):18==r?o>Ji(this.co_j.x+15,5)?(this.co_j.y=32*_,19==this.maps.map_bg[Ji(this.co_j.x+15,5)][_]?this.co_j.y=this.getSakamichiY(this.co_j.x+15,this.co_j.y+31):18==this.maps.map_bg[Ji(this.co_j.x+15,5)][_+1]?this.co_j.y=this.getSakamichiY(this.co_j.x+15,32*(_+1)):this.maps.map_bg[Ji(this.co_j.x+15,5)][_+1]<18&&(this.co_j.vy=-1*this.co_j.vx,this.co_j.y+=Ki(this.co_j.vx/-10))):this.co_j.y=this.getSakamichiY(this.co_j.x+15,this.co_j.y+31):(p>=20||10==p||15==p)&&o>Ji(this.co_j.x+15,5)&&(this.co_j.y=32*_,18==this.maps.map_bg[Ji(this.co_j.x+15,5)][_+1]&&(this.co_j.y=this.getSakamichiY(this.co_j.x+15,32*(_+1))))),this.co_j.jimen_f){var U=Ji(this.co_j.x+15,5),q=this.maps.map_bg[U][Ji(this.co_j.y,5)],K=Ji(this.co_j.y+31,5),J=this.maps.map_bg[U][K];(18==q&&!this.map_data_option[U][Ji(this.co_j.y,5)]||18==J&&!this.map_data_option[U][K])&&o>U&&this.co_j.y>this.getSakamichiY(this.co_j.x+15,this.co_j.y+31)&&(this.co_j.x=32*U+17,this.co_j.vx=0)}else{var Z=Ji(this.co_j.x+15,5),X=this.maps.map_bg[Z][Ji(this.co_j.y,5)],$=Ji(this.co_j.y+31,5),Q=this.maps.map_bg[Z][$];19==r&&n&&o>Z&&(this.saka_mushi_y<0||$!=this.saka_mushi_y&&$!=this.saka_mushi_y+1)&&(this.co_j.y=32*_-32,19==this.maps.map_bg[Z][$]&&(this.co_j.y=this.getSakamichiY(this.co_j.x+15,this.co_j.y+31))),(18==X&&!this.map_data_option[Z][Ji(this.co_j.y,5)]||18==Q&&!this.map_data_option[Z][$])&&o>Z&&(this.co_j.x=32*Z+17,this.co_j.vx=0),19==X&&!this.map_data_option[Z][Ji(this.co_j.y,5)]&&o>Z&&(this.co_j.x=32*Z+17,this.co_j.vx=0)}if(this.a_hf)for(var tt=0;tt<=this.a_kazu;tt++)if(this.co_a[tt].gf){var it=this.co_a[tt];if(it.c>=100&&it.c<200)this.co_j.x+15>=it.x&&this.co_j.x<=it.x+64&&this.co_j.y+31>=it.y&&this.co_j.y<=it.y+13&&(this.co_j.x=it.x+65,this.co_j.vx=0);else if(300!=it.c)if(it.c>=400&&it.c<500){if(this.co_j.x+15<it.x||this.co_j.x>it.x+80||this.co_j.y+31<it.y||this.co_j.y>it.y+63)continue;if(16==it.c4&&410==it.c&&1!=this.souko_count3&&1!=it.vx){if(this.maps.getBGCode(it.x,it.y+64)<18&&this.maps.getBGCode(it.x+31,it.y+64)<18&&this.maps.getBGCode(it.x+63,it.y+64)<18&&this.maps.getBGCode(it.x+95,it.y+64)<18){for(var st=!1,ht=-1,et=0;!(et>this.a_kazu);){if(410==this.co_a[et].c&&16==this.co_a[et].c4&&et!=tt&&this.co_a[et].x+95>=it.x&&this.co_a[et].x<=it.x+95&&it.y+64>=this.co_a[et].y&&it.y+16<=this.co_a[et].y){st=!0,it.y=this.co_a[et].y-64,ht=et;break}et++}if(st){var at=it.x,ct=it.x;it.x=this.co_j.x+15-96,it.x<at-4&&(it.x=at-4,this.co_j.vx<-40&&(this.co_j.vx=-40)),(this.maps.getBGCode(it.x,it.y)>=18||this.maps.getBGCode(it.x,it.y+31)>=18||this.maps.getBGCode(it.x,it.y+63)>=18)&&(it.x=32*Ji(it.x,5)+32,this.co_j.vx=0);for(var ot=0;ot<=this.a_kazu;ot++)3e3!=this.co_a[ot].c||this.co_a[ot].y!=it.y||ct<=this.co_a[ot].x||it.x>this.co_a[ot].x||(it.x=this.co_a[ot].x,this.co_j.vx=0,1==this.co_a[ot].c3&&(it.vx=1));for(var _t=!1,rt=0;!(rt>this.a_kazu);){if(410==this.co_a[rt].c&&16==this.co_a[rt].c4&&rt!=tt&&this.co_a[rt].x+95>=it.x&&this.co_a[rt].x<=it.x+95&&it.y+64>=this.co_a[rt].y&&it.y+16<=this.co_a[rt].y){_t=!0,it.y=this.co_a[rt].y-64;break}rt++}!_t&&this.maps.getBGCode(it.x,it.y+64)<18&&this.maps.getBGCode(it.x+31,it.y+64)<18&&this.maps.getBGCode(it.x+63,it.y+64)<18&&this.maps.getBGCode(it.x+95,it.y+64)<18&&(it.x=ht>=0?this.co_a[ht].x-96:32*Ji(it.x+31,5),this.co_j.vx=0),ht>=0&&this.co_a[ht].x-96>=it.x&&this.maps.getBGCode(this.co_a[ht].x-96,it.y+64)<18&&this.maps.getBGCode(this.co_a[ht].x-96+31,it.y+64)<18&&this.maps.getBGCode(this.co_a[ht].x-96+63,it.y+64)<18&&this.maps.getBGCode(this.co_a[ht].x-96+95,it.y+64)<18&&(it.x=this.co_a[ht].x-96),this.co_j.x=it.x+81}else this.co_j.x=it.x+81,this.co_j.vx=0;continue}var nt=it.x,mt=it.x;it.x=this.co_j.x+15-96,it.x<nt-4&&(it.x=nt-4,this.co_j.vx<-40&&(this.co_j.vx=-40)),(this.maps.getBGCode(it.x,it.y)>=18||this.maps.getBGCode(it.x,it.y+31)>=18||this.maps.getBGCode(it.x,it.y+63)>=18)&&(it.x=32*Ji(it.x,5)+32,this.co_j.vx=0);for(var pt=0;pt<=this.a_kazu;pt++)410==this.co_a[pt].c&&16==this.co_a[pt].c4&&pt!=tt&&this.co_a[pt].x+95>=it.x&&this.co_a[pt].x<=it.x+95&&it.y+63>=this.co_a[pt].y&&it.y<=this.co_a[pt].y+63&&(it.x=this.co_a[pt].x+96);this.maps.getBGCode(it.x,it.y+64)<18&&this.maps.getBGCode(it.x+31,it.y+64)<18&&this.maps.getBGCode(it.x+63,it.y+64)<18&&this.maps.getBGCode(it.x+95,it.y+64)<18&&(it.x=32*Ji(it.x+31,5)),Ji(it.x+31,5)<Ji(mt+31,5)&&this.maps.getBGCode(32*Ji(it.x+31,5),it.y+64)<18&&this.maps.getBGCode(32*Ji(it.x+31,5)+31,it.y+64)<18&&this.maps.getBGCode(32*Ji(it.x+31,5)+63,it.y+64)<18&&this.maps.getBGCode(32*Ji(it.x+31,5)+95,it.y+64)<18&&(it.x=32*Ji(it.x+31,5));for(var gt=0;gt<=this.a_kazu;gt++)3e3!=this.co_a[gt].c||this.co_a[gt].y!=it.y||mt<=this.co_a[gt].x||it.x>this.co_a[gt].x||(it.x=this.co_a[gt].x,this.co_j.vx=0,1==this.co_a[gt].c3&&(it.vx=1));this.co_j.x=it.x+81}else this.co_j.x=it.x+81,this.co_j.vx=0}else 500!=it.c?it.c>=600&&it.c<700?this.co_j.x+15>=it.x&&this.co_j.x<=it.x+48&&this.co_j.y+31>=it.y+16&&this.co_j.y<=it.y+47&&(this.co_j.x=it.x+49,this.co_j.vx=0):700!=it.c?3100==it.c&&this.co_j.x+15>=it.x&&this.co_j.x+15<=it.x+31&&this.co_j.y+31>=it.y&&this.co_j.y<=it.y+127&&a+15>=it.x+32&&(this.co_j.x=it.x+32-15,this.co_j.vx=0):10!=this.j_tokugi&&12!=this.j_tokugi&&13!=this.j_tokugi&&this.co_j.x+15>=it.x&&this.co_j.x<=it.x+16&&this.co_j.y+31>=it.y&&this.co_j.y<=it.y+31&&(this.co_j.x=it.x+17,this.co_j.vx=0):this.co_j.x+15>=it.x&&this.co_j.x<=it.x+80&&this.co_j.y+31>=it.y&&this.co_j.y<=it.y+13&&(this.co_j.x=it.x+81,this.co_j.vx=0);else it.c3<200&&this.co_j.x+15>=it.x&&this.co_j.x<=it.x+48&&this.co_j.y+31>=it.y&&this.co_j.y<=it.y+31&&(this.co_j.x=it.x+49,this.co_j.vx=0)}this.yuka_id_max>=0&&this.atariYuka(0);var ut=Ji(this.co_j.x+15,5),yt=this.maps.map_bg[ut][Ji(this.co_j.y,5)],dt=Ji(this.co_j.y+31,5),ft=this.maps.map_bg[ut][dt];(yt>=20||ft>=20)&&(this.co_j.x=32*ut+17,this.co_j.vx=0),this.co_j.vx>=0&&(this.j_cannon_c=0)}else if(this.co_j.vx>0){if(this.co_j.x+=Ki(this.co_j.vx/10),this.yuka_ride_id>=0)if(this.yo[this.yuka_ride_id].con>=200&&this.yo[this.yuka_ride_id].con<300){var jt=this.getSLOY(this.yo[this.yuka_ride_id].x,this.yo[this.yuka_ride_id].y,this.yo[this.yuka_ride_id].x2,this.yo[this.yuka_ride_id].y2);if(jt>=0)this.co_j.y=jt,this.yo[this.yuka_ride_id].y<this.yo[this.yuka_ride_id].y2&&this.maps.getBGCode(this.co_j.x+15,this.co_j.y+31)>=20&&(this.co_j.y=32*Ji(this.co_j.y+31,5)-32);else{var lt;for(this.co_j.y=this.yo[this.yuka_ride_id].y2-32,lt=0;lt<=this.yuka_id_max;lt++)if(!(this.yo[lt].con<200||this.yo[lt].con>=300||this.yo[lt].x!=this.yo[this.yuka_ride_id].x2||this.yo[lt].y!=this.yo[this.yuka_ride_id].y2)){var vt=this.getSLOY(this.yo[lt].x,this.yo[lt].y,this.yo[lt].x2,this.yo[lt].y2);if(!(vt<0)){this.co_j.y=vt;break}}lt>this.yuka_id_max&&(this.yo[this.yuka_ride_id].y>=this.yo[this.yuka_ride_id].y2?this.co_j.vy=0:this.co_j.vy=75)}}else if(this.yo[this.yuka_ride_id].con>=300&&this.yo[this.yuka_ride_id].con<350){var xt=this.getSCOY(this.yo[this.yuka_ride_id].x,this.yo[this.yuka_ride_id].y,this.yo[this.yuka_ride_id].x2,this.yo[this.yuka_ride_id].y2);if(xt>=0)this.co_j.y=xt,this.maps.getBGCode(this.co_j.x+15,this.co_j.y+31)>=20&&(this.co_j.y=32*Ji(this.co_j.y+31,5)-32);else{var kt=Ki(90*this.yo[this.yuka_ride_id].x2/100);this.co_j.y=this.yo[this.yuka_ride_id].y-Math.floor(Math.sqrt(this.yo[this.yuka_ride_id].x2*this.yo[this.yuka_ride_id].x2-kt*kt))-32}}else if(this.yo[this.yuka_ride_id].con>=350&&this.yo[this.yuka_ride_id].con<400){var wt=this.getSHCOY(this.yo[this.yuka_ride_id].x,this.yo[this.yuka_ride_id].y,this.yo[this.yuka_ride_id].x2,this.yo[this.yuka_ride_id].y2);wt>=0?(this.co_j.y=wt,this.maps.getBGCode(this.co_j.x+15,this.co_j.y+31)>=20&&(this.co_j.y=32*Ji(this.co_j.y+31,5)-32)):this.co_j.y=this.yo[this.yuka_ride_id].y+32}else if(this.yo[this.yuka_ride_id].con>=400&&this.yo[this.yuka_ride_id].con<450){var bt=this.getSWUpOY(this.yo[this.yuka_ride_id].x,this.yo[this.yuka_ride_id].y,this.yo[this.yuka_ride_id].x2,this.yo[this.yuka_ride_id].y2);if(bt>=0)this.co_j.y=bt,this.maps.getBGCode(this.co_j.x+15,this.co_j.y+31)>=20&&(this.co_j.y=32*Ji(this.co_j.y+31,5)-32);else{this.co_j.y=this.yo[this.yuka_ride_id].y-32;for(var St=0;!(St>this.yuka_id_max);){if(this.yo[St].con>=450&&this.yo[St].con<500&&this.yo[St].x==this.yo[this.yuka_ride_id].x+256&&this.yo[St].y==this.yo[this.yuka_ride_id].y){var Mt=this.getSWDownOY(this.yo[St].x,this.yo[St].y,this.yo[St].x2,this.yo[St].y2);if(Mt>=0){this.co_j.y=Mt;break}}St++}}}else if(this.yo[this.yuka_ride_id].con>=450&&this.yo[this.yuka_ride_id].con<500){var Ct=this.getSWDownOY(this.yo[this.yuka_ride_id].x,this.yo[this.yuka_ride_id].y,this.yo[this.yuka_ride_id].x2,this.yo[this.yuka_ride_id].y2);if(Ct>=0)this.co_j.y=Ct,this.maps.getBGCode(this.co_j.x+15,this.co_j.y+31)>=20&&(this.co_j.y=32*Ji(this.co_j.y+31,5)-32);else{this.co_j.y=this.yo[this.yuka_ride_id].y+128-32;for(var It=0;It<=this.yuka_id_max;It++)if(!(this.yo[It].con<450||this.yo[It].con>=500||this.yo[It].x!=this.yo[this.yuka_ride_id].x+256||this.yo[It].y!=this.yo[this.yuka_ride_id].y+128)){var Bt=this.getSWDownOY(this.yo[It].x,this.yo[It].y,this.yo[It].x2,this.yo[It].y2);if(!(Bt<0)){this.co_j.y=Bt;break}}}}if(this.co_j.jimen_f&&(18==r?o<Ji(this.co_j.x+15,5)?(this.co_j.y=32*(_-1),18==this.maps.map_bg[Ji(this.co_j.x+15,5)][_-1]?this.co_j.y=this.getSakamichiY(this.co_j.x+15,this.co_j.y+31):19==this.maps.map_bg[Ji(this.co_j.x+15,5)][_]?this.co_j.y=this.getSakamichiY(this.co_j.x+15,this.co_j.y+32):this.maps.map_bg[Ji(this.co_j.x+15,5)][_]<18&&15!=this.maps.map_bg[Ji(this.co_j.x+15,5)][_]&&(this.co_j.vy=-1*this.co_j.vx,(10==this.j_tokugi||12==this.j_tokugi||13==this.j_tokugi)&&this.co_j.vy<-40&&(this.co_j.vy=-40),this.co_j.y+=Ki(this.co_j.vy/-10))):this.co_j.y=this.getSakamichiY(this.co_j.x+15,this.co_j.y+31):19==r?o<Ji(this.co_j.x+15,5)?(this.co_j.y=32*_,18==this.maps.map_bg[Ji(this.co_j.x+15,5)][_]?this.co_j.y=this.getSakamichiY(this.co_j.x+15,this.co_j.y+31):19==this.maps.map_bg[Ji(this.co_j.x+15,5)][_+1]?this.co_j.y=this.getSakamichiY(this.co_j.x+15,32*(_+1)):this.maps.map_bg[Ji(this.co_j.x+15,5)][_+1]<18&&(this.co_j.vy=this.co_j.vx,this.co_j.y+=Ki(this.co_j.vx/10))):this.co_j.y=this.getSakamichiY(this.co_j.x+15,this.co_j.y+31):(p>=20||10==p||15==p)&&o<Ji(this.co_j.x+15,5)&&(this.co_j.y=32*_,19==this.maps.map_bg[Ji(this.co_j.x+15,5)][_+1]&&(this.co_j.y=this.getSakamichiY(this.co_j.x+15,32*(_+1))))),this.co_j.jimen_f){var Gt=Ji(this.co_j.x+15,5),zt=this.maps.map_bg[Gt][Ji(this.co_j.y,5)],At=Ji(this.co_j.y+31,5),Pt=this.maps.map_bg[Gt][At];(19==zt&&!this.map_data_option[Gt][Ji(this.co_j.y,5)]||19==Pt&&!this.map_data_option[Gt][At])&&o<Gt&&this.co_j.y>this.getSakamichiY(this.co_j.x+15,this.co_j.y+31)&&(this.co_j.x=32*Gt-16,this.co_j.vx=0)}else{var Nt=Ji(this.co_j.x+15,5),Ot=this.maps.map_bg[Nt][Ji(this.co_j.y,5)],Yt=Ji(this.co_j.y+31,5),Tt=this.maps.map_bg[Nt][Yt];18==r&&n&&o<Nt&&(this.saka_mushi_y<0||Yt!=this.saka_mushi_y&&Yt!=this.saka_mushi_y+1)&&(this.co_j.y=32*_-32,18==this.maps.map_bg[Nt][Yt]&&(this.co_j.y=this.getSakamichiY(this.co_j.x+15,this.co_j.y+31))),(19==Ot&&!this.map_data_option[Nt][Ji(this.co_j.y,5)]||19==Tt&&!this.map_data_option[Nt][Yt])&&o<Nt&&(this.co_j.x=32*Nt-16,this.co_j.vx=0),18==Ot&&!this.map_data_option[Nt][Ji(this.co_j.y,5)]&&o<Nt&&(this.co_j.x=32*Nt-16,this.co_j.vx=0)}if(this.a_hf)for(var Et=0;Et<=this.a_kazu;Et++)if(this.co_a[Et].gf){var Rt=this.co_a[Et];if(Rt.c>=100&&Rt.c<200)this.co_j.x+15>=Rt.x&&this.co_j.x<=Rt.x+64&&this.co_j.y+31>=Rt.y&&this.co_j.y<=Rt.y+13&&(this.co_j.x=Rt.x-16,this.co_j.vx=0);else if(300!=Rt.c)if(Rt.c>=400&&Rt.c<500){if(this.co_j.x+15<Rt.x||this.co_j.x>Rt.x+80||this.co_j.y+31<Rt.y||this.co_j.y>Rt.y+63)continue;if(16==Rt.c4&&410==Rt.c&&1!=this.souko_count3&&1!=Rt.vx){if(this.maps.getBGCode(Rt.x,Rt.y+64)<18&&this.maps.getBGCode(Rt.x+31,Rt.y+64)<18&&this.maps.getBGCode(Rt.x+63,Rt.y+64)<18&&this.maps.getBGCode(Rt.x+95,Rt.y+64)<18){for(var Vt=!1,Wt=-1,Ft=0;!(Ft>this.a_kazu);){if(410==this.co_a[Ft].c&&16==this.co_a[Ft].c4&&Ft!=Et&&this.co_a[Ft].x+95>=Rt.x&&this.co_a[Ft].x<=Rt.x+95&&Rt.y+64>=this.co_a[Ft].y&&Rt.y+16<=this.co_a[Ft].y){Vt=!0,Rt.y=this.co_a[Ft].y-64,Wt=Ft;break}Ft++}if(Vt){var Dt=Rt.x,Lt=Rt.x;Rt.x=this.co_j.x+16,Rt.x>Dt+4&&(Rt.x=Dt+4,this.co_j.vx>40&&(this.co_j.vx=40)),(this.maps.getBGCode(Rt.x+95,Rt.y)>=18||this.maps.getBGCode(Rt.x+95,Rt.y+31)>=18||this.maps.getBGCode(Rt.x+95,Rt.y+63)>=18)&&(Rt.x=32*Ji(Rt.x+95,5)-96,this.co_j.vx=0);for(var Ht=0;Ht<=this.a_kazu;Ht++)3e3!=this.co_a[Ht].c||this.co_a[Ht].y!=Rt.y||Lt>=this.co_a[Ht].x||Rt.x<this.co_a[Ht].x||(Rt.x=this.co_a[Ht].x,this.co_j.vx=0,1==this.co_a[Ht].c3&&(Rt.vx=1));for(var Ut=!1,qt=0;!(qt>this.a_kazu);){if(410==this.co_a[qt].c&&16==this.co_a[qt].c4&&qt!=Et&&this.co_a[qt].x+95>=Rt.x&&this.co_a[qt].x<=Rt.x+95&&Rt.y+64>=this.co_a[qt].y&&Rt.y+16<=this.co_a[qt].y){Ut=!0,Rt.y=this.co_a[qt].y-64;break}qt++}!Ut&&this.maps.getBGCode(Rt.x,Rt.y+64)<18&&this.maps.getBGCode(Rt.x+31,Rt.y+64)<18&&this.maps.getBGCode(Rt.x+63,Rt.y+64)<18&&this.maps.getBGCode(Rt.x+95,Rt.y+64)<18&&(Rt.x=Wt>=0?this.co_a[Wt].x+96:32*Ji(Rt.x,5),this.co_j.vx=0),Wt>=0&&this.co_a[Wt].x+96<=Rt.x&&this.maps.getBGCode(this.co_a[Wt].x+96,Rt.y+64)<18&&this.maps.getBGCode(this.co_a[Wt].x+96+31,Rt.y+64)<18&&this.maps.getBGCode(this.co_a[Wt].x+96+63,Rt.y+64)<18&&this.maps.getBGCode(this.co_a[Wt].x+96+95,Rt.y+64)<18&&(Rt.x=this.co_a[Wt].x+96),this.co_j.x=Rt.x-16}else this.co_j.x=Rt.x-16,this.co_j.vx=0;continue}var Kt=Rt.x,Jt=Rt.x;Rt.x=this.co_j.x+16,Rt.x>Kt+4&&(Rt.x=Kt+4,this.co_j.vx>40&&(this.co_j.vx=40)),(this.maps.getBGCode(Rt.x+95,Rt.y)>=18||this.maps.getBGCode(Rt.x+95,Rt.y+31)>=18||this.maps.getBGCode(Rt.x+95,Rt.y+63)>=18)&&(Rt.x=32*Ji(Rt.x+95,5)-96,this.co_j.vx=0);for(var Zt=0;Zt<=this.a_kazu;Zt++)410==this.co_a[Zt].c&&16==this.co_a[Zt].c4&&Zt!=Et&&this.co_a[Zt].x+95>=Rt.x&&this.co_a[Zt].x<=Rt.x+95&&Rt.y+63>=this.co_a[Zt].y&&Rt.y<=this.co_a[Zt].y+63&&(Rt.x=this.co_a[Zt].x-96);this.maps.getBGCode(Rt.x,Rt.y+64)<18&&this.maps.getBGCode(Rt.x+31,Rt.y+64)<18&&this.maps.getBGCode(Rt.x+63,Rt.y+64)<18&&this.maps.getBGCode(Rt.x+95,Rt.y+64)<18&&(Rt.x=32*Ji(Rt.x,5)),Ji(Rt.x,5)>Ji(Jt,5)&&this.maps.getBGCode(32*Ji(Rt.x,5),Rt.y+64)<18&&this.maps.getBGCode(32*Ji(Rt.x,5)+31,Rt.y+64)<18&&this.maps.getBGCode(32*Ji(Rt.x,5)+63,Rt.y+64)<18&&this.maps.getBGCode(32*Ji(Rt.x,5)+95,Rt.y+64)<18&&(Rt.x=32*Ji(Rt.x,5));for(var Xt=0;Xt<=this.a_kazu;Xt++)3e3!=this.co_a[Xt].c||this.co_a[Xt].y!=Rt.y||Jt>=this.co_a[Xt].x||Rt.x<this.co_a[Xt].x||(Rt.x=this.co_a[Xt].x,this.co_j.vx=0,1==this.co_a[Xt].c3&&(Rt.vx=1));this.co_j.x=Rt.x-16}else this.co_j.x=Rt.x-16,this.co_j.vx=0}else 500!=Rt.c?Rt.c>=600&&Rt.c<700?this.co_j.x+15>=Rt.x&&this.co_j.x<=Rt.x+48&&this.co_j.y+31>=Rt.y+16&&this.co_j.y<=Rt.y+47&&(this.co_j.x=Rt.x-16,this.co_j.vx=0):700!=Rt.c?3110==Rt.c&&this.co_j.x+15>=Rt.x&&this.co_j.x+15<=Rt.x+31&&this.co_j.y+31>=Rt.y&&this.co_j.y<=Rt.y+127&&a+15<Rt.x&&(this.co_j.x=Rt.x-16,this.co_j.vx=0):10!=this.j_tokugi&&12!=this.j_tokugi&&13!=this.j_tokugi&&this.co_j.x+15>=Rt.x&&this.co_j.x<=Rt.x+16&&this.co_j.y+31>=Rt.y&&this.co_j.y<=Rt.y+31&&(this.co_j.x=Rt.x-16,this.co_j.vx=0):this.co_j.x+15>=Rt.x&&this.co_j.x<=Rt.x+80&&this.co_j.y+31>=Rt.y&&this.co_j.y<=Rt.y+13&&(this.co_j.x=Rt.x-16,this.co_j.vx=0);else Rt.c3<200&&this.co_j.x+15>=Rt.x&&this.co_j.x<=Rt.x+48&&this.co_j.y+31>=Rt.y&&this.co_j.y<=Rt.y+31&&(this.co_j.x=Rt.x-16,this.co_j.vx=0)}this.yuka_id_max>=0&&this.atariYuka(1);var $t=Ji(this.co_j.x+15,5),Qt=this.maps.map_bg[$t][Ji(this.co_j.y,5)],ti=Ji(this.co_j.y+31,5),ii=this.maps.map_bg[$t][ti];(Qt>=20||ii>=20)&&(this.co_j.x=32*$t-16,this.co_j.vx=0),this.co_j.vx<=0&&(this.j_cannon_c=0)}if(!this.j_mizu_f&&this.checkWater(this.co_j.x+15,this.co_j.y+15)?(this.j_mizu_f=!0,this.j_mizu_awa_c=38):this.j_mizu_f&&!this.checkWater(this.co_j.x+15,this.co_j.y+15)&&(this.j_jump_type=2,this.co_j.pt=101,this.co_j.ac=0,this.co_j.vy=0,this.j_jump_level=1),this.co_j.jimen_f)if(this.gk.tr1_c>=1&&this.gk.tr1_c<=5){if(1==this.jst_pc_attack&&1==this.gk.tr1_c&&this.gk.down_f&&this.j_cannon_c<=0&&(0==this.co_j.muki&&this.maps.getBGCode(this.co_j.x+14,this.co_j.y+31)<20||1==this.co_j.muki&&this.maps.getBGCode(this.co_j.x+16,this.co_j.y+31)<20))this.j_zan_f=!1,this.j_jet_c=0,0==this.co_j.muki?this.co_j.vx=-140:this.co_j.vx=140,this.co_j.vy=0,this.j_jump_type=0,this.co_j.ac=0,this.j_jump_level=5,this.j_djump_kf=!0,this.co_j.pt=1400,this.j_cannon_c=18,this.j_cannon_type=3,this.gs.rsAddSound(17);else if(2==this.jst_pc_attack&&1==this.gk.tr1_c&&this.gk.down_f&&this.j_cannon_c<=0&&(0==this.co_j.muki&&this.maps.getBGCode(this.co_j.x+14,this.co_j.y+31)<20||1==this.co_j.muki&&this.maps.getBGCode(this.co_j.x+16,this.co_j.y+31)<20))this.j_zan_f=!1,this.j_jet_c=0,0==this.co_j.muki?this.co_j.vx=-140:this.co_j.vx=140,this.co_j.vy=0,this.j_jump_type=0,this.co_j.ac=0,this.j_jump_level=5,this.j_djump_kf=!0,this.co_j.pt=84,this.j_cannon_c=18,this.j_cannon_type=4,this.gs.rsAddSound(23);else if(this.maps.getBGCode(this.co_j.x+15,this.co_j.y-1)>=20||18==this.maps.getBGCode(this.co_j.x+15,this.co_j.y-1)&&!this.map_data_option[Ji(this.co_j.x+15,5)][Ji(this.co_j.y-1,5)]){if((10!=this.j_tokugi&&12!=this.j_tokugi&&13!=this.j_tokugi||!this.gk.z_f)&&1==this.gk.tr1_c&&40==this.maps.getBGCode(this.co_j.x+15,this.co_j.y-1)){var si=Ji(this.co_j.x+15,5),hi=Ji(this.co_j.y-1,5);this.hAttack(si,hi)}if(e=this.maps.getBGCode(this.co_j.x+15,this.co_j.y-1),(12!=this.j_tokugi&&13!=this.j_tokugi||!this.gk.z_f)&&this.j_helm_f&&(20==e||69==e&&1==this.suberuyuka_hkf)){this.gk.tr1_c=6;var ei=Ji(this.co_j.x+15,5),ai=Ji(this.co_j.y-1,5);4==this.maps.map_bg[Ji(this.co_j.x+15,5)][Ji(this.co_j.y-1,5)+1]?this.maps.putBGCode(ei,ai,4):this.maps.putBGCode(ei,ai,0),12==this.j_tokugi||13==this.j_tokugi?this.anaSet2(ei,ai):(this.mSet2(32*ei,32*ai,80,12,-24),this.mSet2(32*ei,32*ai,80,-12,-24)),this.gs.rsAddSound(16),this.jZutuki(32*ei,32*ai-32,0)}}else if(10!=this.j_tokugi&&12!=this.j_tokugi&&13!=this.j_tokugi||(1==this.gk.tr1_c&&this.j_fire_f&&(this.gk.z_f||0==this.co_j.muki?this.jmSet(this.co_j.x,this.co_j.y,100):this.jmSet(this.co_j.x,this.co_j.y,105)),this.gk.tr1_c>0&&this.j_jet_fuel>0&&!this.j_mizu_f&&!this.gk.z_f&&!this.gk.x_f&&10!=this.maps.getBGCode(this.co_j.x+15,this.co_j.y+31)&&(this.j_jet_c=100,this.j_jet_kf=!0,this.co_j.vy=-90,this.j_jump_level=1,this.co_j.x=32*Ji(this.co_j.x+15,5),this.co_j.vx=0,2==this.j_jump_type&&(this.j_jump_type=0),1==this.gk.tr1_c&&this.gs.rsAddSound(26))),(10!=this.j_tokugi&&12!=this.j_tokugi&&13!=this.j_tokugi||this.j_mizu_f)&&10!=this.maps.getBGCode(this.co_j.x+15,this.co_j.y+31))if(this.j_mizu_f)this.j_jump_type=0,this.co_j.pt=83,this.co_j.ac=0,this.j_mizu_ac=0,this.j_jet_kf=!1,this.j_jdai_f?(this.co_j.y=32*Ji(this.co_j.y,5),this.co_j.vy=-120,this.j_jump_level=0,this.gs.rsAddSound(3)):Math.abs(this.co_j.vx)>50?(this.co_j.vy=-90,this.j_jump_level=0):(this.co_j.vy=-70,this.j_jump_level=0);else{this.j_jump_type=0,this.co_j.pt=101,this.co_j.ac=0,1!=this.jst_fire_xkey_only&&this.j_fire_f&&(4==this.j_fire_type?(0==this.co_jm[0].c&&(this.co_jm[0].c=106,this.co_jm[0].x=this.co_j.x,this.co_jm[0].y=this.co_j.y,this.co_jm[0].vx=20,this.co_jm[0].vy=0,this.co_jm[0].c1=0,this.co_jm[0].c2=0,0==this.co_j.muki&&(this.co_jm[0].c=101,this.co_jm[0].vx=-20),this.jm_kazu++,this.gs.rsAddSound(23)),0==this.co_jm[1].c&&(this.co_jm[1].c=106,this.co_jm[1].x=this.co_j.x,this.co_jm[1].y=this.co_j.y,this.co_jm[1].vx=14,this.co_jm[1].vy=-14,this.co_jm[1].c1=0,this.co_jm[1].c2=0,0==this.co_j.muki&&(this.co_jm[1].c=101,this.co_jm[1].vx=-14),this.jm_kazu++,this.gs.rsAddSound(23))):5==this.j_fire_type?0==this.co_j.muki?this.jmSet(this.co_j.x,this.co_j.y,110):this.jmSet(this.co_j.x,this.co_j.y,115):0==this.co_j.muki?this.jmSet(this.co_j.x,this.co_j.y,100):this.jmSet(this.co_j.x,this.co_j.y,105)),this.j_jet_kf=!1;var ci=Math.abs(this.co_j.vx);if(this.j_jdai_f){if(this.co_j.y=32*Ji(this.co_j.y,5),this.co_j.vy=-410,this.j_jump_level=5,this.co_a[this.j_a_id].c3<=1)this.co_j.vy=-230,this.gs.rsAddSound(3);else if(this.gs.rsAddSound(4),1==this.co_a[this.j_a_id].c4&&(this.co_j.vy=-460,(e=this.maps.map_bg[Ji(this.co_j.x+15,5)][Ji(this.co_j.y-1,5)])<=9)){for(var oi=0;oi<=5;oi++)this.j_zan_x[oi]=a,this.j_zan_y[oi]=this.co_a[this.j_a_id].y-32,this.j_zan_pt[oi]=101,this.j_zan_pth[oi]=this.co_j.muki;this.j_zan_p=0,this.j_zan_c=0,this.j_zan_nagasa=5,this.j_zan_f=!0,this.j_zan_cf=!0}}else if(1==this.jst_pc_attack&&this.j_cannon_c>0&&3==this.j_cannon_type)this.co_j.pt=1400,this.j_cannon_c<=5&&(this.co_j.pt=102,this.co_j.vx=0,this.co_j.jimen_f&&(this.co_j.pt=100));else if(2==this.jst_pc_attack&&this.j_cannon_c>0&&4==this.j_cannon_type)this.co_j.pt=84,this.j_cannon_c<=5&&(this.co_j.pt=102,this.co_j.vx=0,this.co_j.jimen_f&&(this.co_j.pt=100));else if(1==this.jst_syouryuuken&&1==this.gk.tr1_c&&this.gk.up_f)this.j_zan_f=!1,this.j_jet_c=0,this.co_j.vx=0,this.co_j.vy=-140,this.j_jump_type=0,this.co_j.ac=0,this.j_jump_level=5,this.j_djump_kf=!0,this.co_j.pt=1300,this.j_cannon_c=9,this.j_cannon_type=2,this.gs.rsAddSound(26);else if(2==this.jst_syouryuuken&&1==this.gk.tr1_c&&this.gk.up_f)this.j_zan_f=!1,this.j_jet_c=0,this.co_j.vx=0,this.co_j.vy=-140,this.j_jump_type=0,this.co_j.ac=0,this.j_jump_level=5,this.j_djump_kf=!0,this.co_j.pt=210,this.j_cannon_c=9,this.j_cannon_type=5,this.gs.rsAddSound(23);else if(1==this.jst_jump_level_fix)this.co_j.vy=-150,this.j_jump_level=1,this.gs.rsAddSound(3);else if(2==this.jst_jump_level_fix)this.co_j.vy=-190,this.j_jump_level=1,this.gs.rsAddSound(3);else if(3==this.jst_jump_level_fix)this.co_j.vy=-230,this.j_jump_level=1,this.gs.rsAddSound(3);else if(4==this.jst_jump_level_fix)this.co_j.vy=-260,this.j_jump_level=1,this.gs.rsAddSound(3);else if(0==ci)this.co_j.vy=-150,this.j_jump_level=1,this.gs.rsAddSound(3);else if(ci<60)this.co_j.vy=-230,this.j_jump_level=2,this.gs.rsAddSound(3);else if(60==ci)this.co_j.vy=-260,this.j_jump_level=3,this.gs.rsAddSound(3);else if(ci<120)this.co_j.vy=-290,this.j_jump_level=4,this.gs.rsAddSound(3);else{this.co_j.vy=-340,this.j_jump_level=5,1==this.jst_high_sjump&&(this.co_j.vy=-390),e=this.maps.map_bg[Ji(this.co_j.x+15,5)][Ji(this.co_j.y-1,5)];var _i=this.maps.mp.map_data_option[Ji(this.co_j.x+15,5)][Ji(this.co_j.y-1,5)];if(e<=9||15===e||18===e&&_i||19===e&&_i){for(var ri=0;ri<=5;ri++)this.j_zan_x[ri]=a,this.j_zan_y[ri]=c,this.j_zan_pt[ri]=101,this.j_zan_pth[ri]=this.co_j.muki;this.j_zan_p=0,this.j_zan_c=0,this.j_zan_nagasa=5,this.j_zan_f=!0,this.j_zan_cf=!0,this.gs.rsAddSound(4)}}}}else(18!=r&&19!=r||this.maps.map_bg[Ji(this.co_j.x+15,5)][Ji(this.co_j.y+31,5)]>=18)&&(this.co_j.vy=0);else if(10!=this.j_tokugi&&12!=this.j_tokugi&&13!=this.j_tokugi||this.j_hashigo_f||this.j_mizu_f||!(Math.abs(32*Ji(this.co_j.x,5)-this.co_j.x)<6)||(this.co_j.x=32*Ji(this.co_j.x+15,5)),this.j_mizu_f)if(this.gk.left_f?this.co_j.muki=0:this.gk.right_f&&(this.co_j.muki=1),1==this.gk.tr1_c){var ni=!1;(e=this.maps.map_bg[Ji(this.co_j.x+15,5)][Ji(this.co_j.y+15,5)-1])<=9&&4!=e&&(ni=!0),8!=e&&9!=e||4!=this.maps.map_bg[Ji(this.co_j.x+15,5)-1][Ji(this.co_j.y+15,5)-1]||(ni=!1),ni&&(this.co_j.y+15)%32<=8?(this.j_jump_type=0,this.co_j.pt=101,this.co_j.ac=0,this.co_j.vy=-180,this.j_jump_level=1,this.co_j.y=32*Ji(this.co_j.y+15,5)-14,this.j_jet_kf=!1,t=!0,10!=this.j_tokugi&&12!=this.j_tokugi&&13!=this.j_tokugi||((this.co_j.x+15)%32<=6&&(this.maps.map_bg[Ji(this.co_j.x+15,5)-1][Ji(this.co_j.y+15,5)]>=20||18==this.maps.map_bg[Ji(this.co_j.x+15,5)-1][Ji(this.co_j.y+15,5)])?(this.co_j.vx=-30,this.co_j.x=32*Ji(this.co_j.x+15,5)-15):(this.co_j.x+15)%32>=25&&this.maps.map_bg[Ji(this.co_j.x+15,5)+1][Ji(this.co_j.y+15,5)]>=19?(this.co_j.vx=30,this.co_j.x=32*Ji(this.co_j.x+15,5)+16):this.co_j.x=32*Ji(this.co_j.x+15,5)),this.mSet(this.co_j.x,32*Ji(this.co_j.y+15,5)-32,50),this.gs.rsAddSound(20)):(this.j_jump_type=0,this.co_j.ac=0,this.j_mizu_ac<=0&&(this.j_mizu_ac=4,this.co_j.pt=84),this.co_j.vy=-40,this.j_jump_level=0,0==this.co_j.muki?(this.co_j.vx-=30,this.co_j.vx<-60&&(this.co_j.vx=-60)):(this.co_j.vx+=30,this.co_j.vx>60&&(this.co_j.vx=60)))}else this.co_j.vx<0?(0==this.co_j.muki?this.co_j.vx++:this.co_j.vx+=2,this.co_j.vx>0&&(this.co_j.vx=0)):this.co_j.vx>0&&(1==this.co_j.muki?this.co_j.vx--:this.co_j.vx-=2,this.co_j.vx<0&&(this.co_j.vx=0)),this.co_j.vy<40?(this.co_j.vy+=5,this.co_j.vy>40&&(this.co_j.vy=40)):this.co_j.vy>40&&(this.co_j.vy-=20,this.co_j.vy<40&&(this.co_j.vy=40)),this.j_mizu_ac>0?(this.j_mizu_ac--,this.j_mizu_ac>1?this.co_j.pt=84:this.co_j.pt=83):this.co_j.pt=83;else this.j_hashigo_f?10==this.j_tokugi||12==this.j_tokugi||13==this.j_tokugi||1!=this.gk.tr1_c||this.gk.up_f||this.gk.down_f||(0==this.co_j.muki&&this.maps.getBGCode(this.co_j.x-1,this.co_j.y+31)<18&&this.maps.getBGCode(this.co_j.x-1,this.co_j.y)<18&&10!=this.maps.getBGCode(this.co_j.x-1,this.co_j.y+31)&&10!=this.maps.getBGCode(this.co_j.x-1,this.co_j.y)?(this.co_j.vy=0,this.j_jump_level=1,this.j_jump_type=0,this.co_j.pt=103,this.co_j.ac=0,this.gs.rsAddSound(3),this.co_j.vx=-100,this.maps.getBGCode(this.co_j.x-1,this.co_j.y-32)<20&&(this.co_j.vy=-150,this.co_j.x-=6),this.co_j.y=32*Ji(this.co_j.y+15,5),this.j_hashigo_mushi_x=Ji(this.co_j.x+15,5),this.j_hashigo_f=!1):1==this.co_j.muki&&this.maps.getBGCode(this.co_j.x+32,this.co_j.y+31)<18&&this.maps.getBGCode(this.co_j.x+32,this.co_j.y)<18&&10!=this.maps.getBGCode(this.co_j.x+32,this.co_j.y+31)&&10!=this.maps.getBGCode(this.co_j.x+32,this.co_j.y)&&(this.co_j.vy=0,this.j_jump_level=1,this.j_jump_type=0,this.co_j.pt=103,this.co_j.ac=0,this.gs.rsAddSound(3),this.co_j.vx=100,this.maps.getBGCode(this.co_j.x+32,this.co_j.y-32)<20&&(this.co_j.vy=-150,this.co_j.x+=6),this.co_j.y=32*Ji(this.co_j.y+15,5),this.j_hashigo_mushi_x=Ji(this.co_j.x+15,5),this.j_hashigo_f=!1)):(this.j_cannon_c<=0&&(this.co_j.vy+=25),this.co_j.vy>160&&(this.co_j.vy=160),1==this.jst_slow_down&&this.j_cannon_c<=0&&6!=this.j_jump_type&&7!=this.j_jump_type&&this.co_j.vy>0&&(this.co_j.vy-=10,this.co_j.vy>70&&(this.co_j.vy=70)),10!=this.j_tokugi&&12!=this.j_tokugi&&13!=this.j_tokugi||(this.co_j.vy>=0&&(this.co_j.vy+=5),this.co_j.vy>90&&(this.co_j.vy=90)),1==this.jst_key_down&&1==this.down_key_c?6!=this.j_jump_type&&(1==this.j_jump_type?this.co_j.vy<100?(this.co_j.vx=0,this.j_jump_type=6,this.co_j.vy=100):this.j_jump_type=6:(this.co_j.vx=0,this.j_jump_type=6,this.co_j.vy<100&&(this.co_j.vy=100))):2==this.jst_key_down&&1==this.down_key_c&&7!=this.j_jump_type&&(this.co_j.vx=0,this.j_jump_type=7,this.co_j.vy<100&&(this.co_j.vy=100),this.gs.rsAddSound(18)),1==this.jst_double_jump&&this.j_djump_kf&&1==this.gk.tr1_c&&!h&&(this.j_djump_kf=!1,Math.abs(this.co_j.vx)<60?(this.co_j.vy=-230,this.j_jump_level=2,this.j_jump_type=0,this.gs.rsAddSound(3)):(this.co_j.vy=-260,this.j_jump_level=3,this.j_jump_type=0,this.gs.rsAddSound(3))),5==this.j_jump_type&&this.co_j.vy>0&&(this.co_j.vy-=5,this.co_j.vy>140&&(this.co_j.vy=140))),1!=this.jst_fire_xkey_only&&1==this.gk.tr1_c&&this.j_fire_f&&(10==this.j_tokugi||12==this.j_tokugi||13==this.j_tokugi?this.gk.z_f||0==this.co_j.muki?this.jmSet(this.co_j.x,this.co_j.y,100):this.jmSet(this.co_j.x,this.co_j.y,105):4==this.j_fire_type?(0==this.co_jm[0].c&&(this.co_jm[0].c=106,this.co_jm[0].x=this.co_j.x,this.co_jm[0].y=this.co_j.y,this.co_jm[0].vx=20,this.co_jm[0].vy=0,this.co_jm[0].c1=0,this.co_jm[0].c2=0,0==this.co_j.muki&&(this.co_jm[0].c=101,this.co_jm[0].vx=-20),this.jm_kazu++,this.gs.rsAddSound(23)),0==this.co_jm[1].c&&(this.co_jm[1].c=106,this.co_jm[1].x=this.co_j.x,this.co_jm[1].y=this.co_j.y,this.co_jm[1].vx=14,this.co_jm[1].vy=-14,this.co_jm[1].c1=0,this.co_jm[1].c2=0,0==this.co_j.muki&&(this.co_jm[1].c=101,this.co_jm[1].vx=-14),this.jm_kazu++,this.gs.rsAddSound(23))):5==this.j_fire_type?0==this.co_j.muki?this.jmSet(this.co_j.x,this.co_j.y,110):this.jmSet(this.co_j.x,this.co_j.y,115):0==this.co_j.muki?this.jmSet(this.co_j.x,this.co_j.y,100):this.jmSet(this.co_j.x,this.co_j.y,105)),0==this.gk.tr1_c&&(this.j_jet_kf=!0),this.j_hashigo_f&&(this.j_jet_kf=!1),(10!=this.j_tokugi&&12!=this.j_tokugi&&13!=this.j_tokugi||!this.gk.z_f&&!this.gk.x_f)&&(this.j_jet_kf&&this.gk.tr1_c>0&&this.j_jet_fuel>0&&!this.j_mizu_f?(this.j_jet_c=100,2==this.j_jump_type&&(this.j_jump_type=0),1==this.gk.tr1_c&&this.gs.rsAddSound(26)):this.j_jet_c>96?this.j_jet_c--:this.j_jet_c=0),this.j_jet_c>=96&&(this.j_jet_fuel--,this.j_jet_fuel<0&&(this.j_jet_fuel=0,this.j_jet_c=0),this.gk.left_f?this.co_j.muki=0:this.gk.right_f&&(this.co_j.muki=1),this.co_j.vy>-150&&(this.co_j.vy-=50,this.co_j.vy<-150&&(this.co_j.vy=-150),(10==this.j_tokugi||12==this.j_tokugi||13==this.j_tokugi)&&this.co_j.vy<-90&&(this.co_j.vy=-90)));if(this.co_j.vy<0){var mi=Ji(this.co_j.y,5),pi=this.co_j.vy;if(pi<-320&&(pi=-320),this.co_j.y+=Ki(pi/10),this.j_hashigo_f&&this.maps.getBGCode(this.co_j.x+15,this.co_j.y+31)<=9&&(this.j_hashigo_f=!1,this.co_j.vy=0),this.j_mizu_f&&!t){var gi=this.maps.getBGCode(this.co_j.x+15,this.co_j.y+15),ui=!1;gi<=9&&4!=gi&&(ui=!0),8!=gi&&9!=gi||4!=this.maps.map_bg[Ji(this.co_j.x+15,5)-1][Ji(this.co_j.y+15,5)]||(ui=!1),ui&&(this.co_j.y=32*Ji(this.co_j.y+15,5)+17,this.co_j.vy=-10)}if(Ji(this.co_j.x+15,5)!=this.j_hashigo_mushi_x&&(10==this.maps.getBGCode(this.co_j.x+15,this.co_j.y+15)||10==this.maps.getBGCode(this.co_j.x+15,this.co_j.y+31))){for(var yi=!1,di=0;!(di>this.a_kazu);){if(410==this.co_a[di].c&&this.co_a[di].x<=32*Ji(this.co_j.x+15,5)+15&&this.co_a[di].x+95>=32*Ji(this.co_j.x+15,5)+15&&8*Ji(this.co_j.y,3)+31>=this.co_a[di].y&&8*Ji(this.co_j.y,3)<=this.co_a[di].y+63){yi=!0;break}di++}yi||(this.j_hashigo_f=!0,this.co_j.y=8*Ji(this.co_j.y,3))}if(this.a_hf)for(var fi=0;fi<=this.a_kazu;fi++)if(this.co_a[fi].gf){var ji=this.co_a[fi];if(85!=ji.c)if(ji.c>=100&&ji.c<200)this.co_j.x+15>=ji.x&&this.co_j.x<=ji.x+64&&this.co_j.y+31>=ji.y&&this.co_j.y<=ji.y+13&&(this.co_j.y=ji.y+14,this.co_j.vy=0);else if(300!=ji.c)if(ji.c>=400&&ji.c<500){if(this.co_j.x+15<ji.x||this.co_j.x>ji.x+80||this.co_j.y+31<ji.y||this.co_j.y>ji.y+63)continue;if(17==ji.c4&&410==ji.c){if(this.co_j.y=ji.y+64,this.co_j.vy=0,ji.y!=ji.vy||this.maps.getBGCode(ji.x,ji.y-1)>=18&&this.maps.getBGCode(ji.x+31,ji.y-1)>=18&&this.maps.getBGCode(ji.x+63,ji.y-1)>=18&&this.maps.getBGCode(ji.x+95,ji.y-1)>=18)continue;ji.vy=32*Ji(ji.vy-32,5),ji.vy<320?ji.vy=320:this.gs.rsAddSound(12)}else this.co_j.y=ji.y+64,this.co_j.vy=0}else 500!=ji.c?ji.c>=600&&ji.c<700?this.co_j.x+15>=ji.x&&this.co_j.x<=ji.x+48&&this.co_j.y+31>=ji.y+16&&this.co_j.y<=ji.y+47&&(this.co_j.y=ji.y+48,this.co_j.vy=0):700!=ji.c?3130==ji.c&&this.co_j.x+15>=ji.x&&this.co_j.x+15<=ji.x+127&&this.co_j.y+31>=ji.y&&this.co_j.y<=ji.y+31&&c>ji.y+31&&(this.co_j.y=ji.y+32,this.co_j.vy=0):this.co_j.x+15>=ji.x&&this.co_j.x<=ji.x+16&&this.co_j.y+31>=ji.y&&this.co_j.y<=ji.y+31&&(this.co_j.y=ji.y+32,this.co_j.vy=0):this.co_j.x+15>=ji.x&&this.co_j.x<=ji.x+80&&this.co_j.y+31>=ji.y&&this.co_j.y<=ji.y+13&&(this.co_j.y=ji.y+14,this.co_j.vy=0);else ji.c3<200&&this.co_j.x+15>=ji.x&&this.co_j.x<=ji.x+48&&this.co_j.y+31>=ji.y&&this.co_j.y<=ji.y+31&&(this.co_j.y=ji.y+32,this.co_j.vy=0);else this.co_j.x+15>=ji.x&&this.co_j.x+15<=ji.x+31&&this.co_j.y>=ji.y&&this.co_j.y<=ji.y+31&&(this.co_j.y=ji.y+32,this.co_j.vy=0,ji.c=0,this.maps.putBGCode(Ji(ji.x,5),Ji(ji.y,5),23),this.gs.rsAddSound(13))}this.yuka_id_max>=0&&this.atariYuka(2);var li=Ji(this.co_j.y,5),vi=this.maps.map_bg[Ji(this.co_j.x+15,5)][li];if(vi>=20){if(this.co_j.y=32*li+32,this.co_j.vy=0,40==vi){var xi=Ji(this.co_j.x+15,5),ki=Ji(this.co_j.y-1,5);this.hAttack(xi,ki)}if(this.j_helm_f&&(20==vi||69==vi&&1==this.suberuyuka_hkf)){var wi=Ji(this.co_j.x+15,5),bi=li;4==this.maps.map_bg[wi][bi+1]?this.maps.putBGCode(wi,bi,4):this.maps.putBGCode(wi,bi,0),12==this.j_tokugi||13==this.j_tokugi?this.anaSet2(wi,bi):(this.mSet2(32*wi,32*bi,80,12,-24),this.mSet2(32*wi,32*bi,80,-12,-24)),this.gs.rsAddSound(16),this.jZutuki(32*wi,32*bi-32,0)}}if(li=Ji(this.co_j.y,5),vi=this.maps.map_bg[Ji(this.co_j.x+15,5)][li],mi>li&&(18==vi||19==vi)&&!this.map_data_option[Ji(this.co_j.x+15,5)][li]&&(this.co_j.y=32*li+32,this.co_j.vy=0,li=Ji(this.co_j.y,5)),mi>li){if(this.gk.right_f){var Si=this.maps.map_bg[Ji(this.co_j.x+16,5)][mi],Mi=this.maps.map_bg[Ji(this.co_j.x+16,5)][li];Si<=17&&Mi>=20&&(this.co_j.y=32*li+32,this.co_j.vy=0)}if(this.gk.left_f){var Ci=this.maps.map_bg[Ji(this.co_j.x+14,5)][mi],Ii=this.maps.map_bg[Ji(this.co_j.x+14,5)][li];Ci<=17&&Ii>=20&&(this.co_j.y=32*li+32,this.co_j.vy=0)}}this.j_cannon_c>0&&this.co_j.vy>=0&&(this.j_cannon_c=0,this.co_j.vx<-120&&(this.co_j.vx=-120),this.co_j.vx>120&&(this.co_j.vx=120))}else if(this.co_j.vy>0){var Bi=Ji(this.co_j.x+15,5),Gi=Ji(this.co_j.y+31,5);if(this.co_j.y+=Ki(this.co_j.vy/10),Ji(this.co_j.x+15,5)!=this.j_hashigo_mushi_x&&10==this.maps.getBGCode(this.co_j.x+15,this.co_j.y+15)){for(var zi=!1,Ai=0;!(Ai>this.a_kazu);){if(410==this.co_a[Ai].c&&this.co_a[Ai].x<=32*Ji(this.co_j.x+15,5)+15&&this.co_a[Ai].x+95>=32*Ji(this.co_j.x+15,5)+15&&8*Ji(this.co_j.y,3)+31>=this.co_a[Ai].y&&8*Ji(this.co_j.y,3)<=this.co_a[Ai].y+63){zi=!0;break}Ai++}zi||(this.j_hashigo_f=!0,this.co_j.y=8*Ji(this.co_j.y,3))}if(this.a_hf)for(var Pi=0;Pi<=this.a_kazu;Pi++)if(this.co_a[Pi].gf){var Ni=this.co_a[Pi];Ni.c>=100&&Ni.c<200?this.co_j.x+15>=Ni.x&&this.co_j.x<=Ni.x+64&&this.co_j.y+31>=Ni.y&&this.co_j.y<=Ni.y+13&&(this.co_j.y=Ni.y-32,this.co_j.vy=0):300!=Ni.c?Ni.c>=400&&Ni.c<500?this.co_j.x+15>=Ni.x&&this.co_j.x<=Ni.x+80&&this.co_j.y+31>=Ni.y&&this.co_j.y<=Ni.y+63&&(this.co_j.y=Ni.y-32,this.co_j.vy=0):500!=Ni.c?Ni.c>=600&&Ni.c<700?this.co_j.x+15>=Ni.x&&this.co_j.x<=Ni.x+48&&this.co_j.y+31>=Ni.y+16&&this.co_j.y<=Ni.y+47&&(this.co_j.y=Ni.y+16-32,this.co_j.vy=0):700!=Ni.c?3120==Ni.c&&this.co_j.x+15>=Ni.x&&this.co_j.x+15<=Ni.x+127&&this.co_j.y+31>=Ni.y&&this.co_j.y<=Ni.y&&c<=Ni.y-32&&(this.co_j.y=Ni.y-32,this.co_j.vy=0):this.co_j.x+15>=Ni.x&&this.co_j.x<=Ni.x+16&&this.co_j.y+31>=Ni.y&&this.co_j.y<=Ni.y+31&&(this.co_j.y=Ni.y-32,this.co_j.vy=0):this.co_j.x+15>=Ni.x&&this.co_j.x<=Ni.x+80&&this.co_j.y+31>=Ni.y&&this.co_j.y<=Ni.y+13&&(this.co_j.y=Ni.y-32,this.co_j.vy=0):Ni.c3<200&&this.co_j.x+15>=Ni.x&&this.co_j.x<=Ni.x+48&&this.co_j.y+31>=Ni.y&&this.co_j.y<=Ni.y+31&&(this.co_j.y=Ni.y-32,this.co_j.vy=0)}if(this.yuka_id_max>=0&&this.atariYuka(3),10==this.j_tokugi||12==this.j_tokugi||13==this.j_tokugi){if(this.ana_kazu>0)for(var Oi=0;Oi<=this.t_kazu;Oi++)(1250==this.co_t[Oi].c||1310==this.co_t[Oi].c)&&this.co_j.x+15>=this.co_t[Oi].x&&this.co_j.x+15<=this.co_t[Oi].x+31&&this.co_j.y+31>=this.co_t[Oi].y&&this.co_j.y<=this.co_t[Oi].y+31&&(this.co_j.y=this.co_t[Oi].y-32);for(var Yi=0;!(Yi>this.t_kazu);){if(this.co_t[Yi].c>=1200&&this.co_t[Yi].c<=1220&&Math.abs(this.co_j.x-this.co_t[Yi].x)<=24&&this.co_j.y+32>this.co_t[Yi].y&&this.co_j.y+32-12<this.co_t[Yi].y){this.co_j.y=this.co_t[Yi].y-32;break}Yi++}}var Ti,Ei=Ji(this.co_j.y+31,5),Ri=this.maps.map_bg[Bi][Ei];if(Gi<Ei){var Vi=this.maps.map_bg[Ji(this.co_j.x+15,5)][Gi];18!=Vi&&19!=Vi||(this.map_data_option[Ji(this.co_j.x+15,5)][Gi]?(this.saka_mushi_y<0||Gi!=this.saka_mushi_y&&Gi!=this.saka_mushi_y+1)&&(this.co_j.vy=0,this.co_j.y=32*Gi,18!=this.maps.map_bg[Ji(this.co_j.x+15,5)][Ji(this.co_j.y+31,5)]&&19!=this.maps.map_bg[Ji(this.co_j.x+15,5)][Ji(this.co_j.y+31,5)]||(this.co_j.y=this.getSakamichiY(this.co_j.x+15,this.co_j.y+31))):(this.co_j.y=32*Gi,this.co_j.vy=0))}if(18==(e=this.maps.map_bg[Ji(this.co_j.x+15,5)][Ji(this.co_j.y+31,5)])||19==e)if(this.map_data_option[Ji(this.co_j.x+15,5)][Ji(this.co_j.y+31,5)]){if(this.saka_mushi_y<0||Ji(this.co_j.y+31,5)!=this.saka_mushi_y){var Wi=this.getSakamichiY(this.co_j.x+15,this.co_j.y+31);Wi<this.co_j.y&&Wi>=c&&(this.co_j.y=Wi)}}else{var Fi=this.getSakamichiY(this.co_j.x+15,this.co_j.y+31);Fi<this.co_j.y&&(this.co_j.y=Fi)}if(Ei=Ji(this.co_j.y+31,5),15==(Ri=this.maps.map_bg[Bi][Ei])&&Gi<Ei?(Ti=!0,this.j_jump_type=2,this.j_shitakara_mushi_y>0&&this.j_shitakara_mushi_y==Ei&&(Ti=!1)):Ti=!1,10!=Ri||this.j_hashigo_f||(Ti=!0),(Ri>=20||Ti)&&(this.co_j.y=32*Ei-32,this.co_j.vy=0,Ei=Ji(this.co_j.y+31,5)),this.j_hashigo_f&&this.maps.map_bg[Bi][Ji(this.co_j.y+32,5)]>=20&&(this.j_hashigo_f=!1,this.j_shitakara_mushi_y=-1,this.co_j.direction=0),Gi<Ei&&!this.j_hashigo_f){if(this.gk.right_f||10==this.j_tokugi||12==this.j_tokugi||13==this.j_tokugi){var Di=this.maps.map_bg[Ji(this.co_j.x+16,5)][Gi],Li=this.maps.map_bg[Ji(this.co_j.x+16,5)][Ei];10==Li&&(Li=20),Di<=17&&Li>=20&&(this.co_j.y=32*Ei-32,this.co_j.vy=0,this.co_j.pt=103,this.co_j.ac=1,this.co_j.x++,18!=Li&&19!=Li||(this.co_j.y=this.getSakamichiY(this.co_j.x,this.co_j.y+32)))}if(this.gk.left_f||10==this.j_tokugi||12==this.j_tokugi||13==this.j_tokugi){var Hi=this.maps.map_bg[Ji(this.co_j.x+14,5)][Gi],Ui=this.maps.map_bg[Ji(this.co_j.x+14,5)][Ei];10==Ui&&(Ui=20),Hi<=17&&Ui>=20&&(this.co_j.y=32*Ei-32,this.co_j.vy=0,this.co_j.pt=103,this.co_j.ac=1,this.co_j.x--,18!=Ui&&19!=Ui||(this.co_j.y=this.getSakamichiY(this.co_j.x,this.co_j.y+32)))}}if(!this.j_mizu_f){var qi=this.maps.getBGCode(this.co_j.x+15,this.co_j.y+15);4==qi?(this.j_mizu_awa_c=38,10!=this.maps.getBGCode(this.co_j.x+15,this.co_j.y+15-32)&&(this.mSet(this.co_j.x,32*Ji(this.co_j.y+15,5)-32,50),this.gs.rsAddSound(20)),this.co_j.vx<-60?this.co_j.vx=-60:this.co_j.vx>60&&(this.co_j.vx=60)):8!=qi&&9!=qi||4!=this.maps.map_bg[Ji(this.co_j.x+15,5)-1][Ji(this.co_j.y+15,5)]||(this.mSet(this.co_j.x,32*Ji(this.co_j.y+15,5)-32,50),this.j_mizu_awa_c=38,this.co_j.vx<-60?this.co_j.vx=-60:this.co_j.vx>60&&(this.co_j.vx=60))}this.j_cannon_c>0&&this.co_j.vy<=0&&(this.j_cannon_c=0,this.co_j.vx<-120&&(this.co_j.vx=-120),this.co_j.vx>120&&(this.co_j.vx=120))}if(this.gk.down_f){var Zi=this.maps.getBGCode(this.co_j.x+15,this.co_j.y+31);if(18!=Zi&&19!=Zi||!this.map_data_option[Ji(this.co_j.x+15,5)][Ji(this.co_j.y+31,5)]||(this.saka_mushi_y=Ji(this.co_j.y+31,5),this.co_j.vy<25&&(this.co_j.vy=25)),15==this.maps.getBGCode(this.co_j.x+15,this.co_j.y+32)&&(this.j_shitakara_mushi_y=Ji(this.co_j.y+32,5),this.j_jump_type=2,this.co_j.ac=0,this.saka_mushi_y=Ji(this.co_j.y+31,5),10!=this.j_tokugi&&12!=this.j_tokugi&&13!=this.j_tokugi||(this.co_j.x=32*Ji(this.co_j.x+15,5),this.co_j.vx=0),10==this.maps.getBGCode(this.co_j.x+15,this.co_j.y+15))){for(var Xi=!1,$i=0;!($i>this.a_kazu);){if(410==this.co_a[$i].c&&this.co_a[$i].x<=32*Ji(this.co_j.x+15,5)+15&&this.co_a[$i].x+95>=32*Ji(this.co_j.x+15,5)+15&&this.co_j.y+31>=this.co_a[$i].y&&this.co_j.y<=this.co_a[$i].y+63){Xi=!0;break}$i++}Xi||(this.j_hashigo_f=!0)}}if(this.j_hashigo_f&&(this.co_j.pt=210+Ji(this.co_j.ac,1)),10!=this.j_tokugi&&12!=this.j_tokugi&&13!=this.j_tokugi||1!=this.gk.tr1_c||this.gk.z_f||(this.j_tail_f&&(this.j_tail_ac<=0||this.j_tail_ac>=8)&&(this.j_tail_ac=1,this.co_j.pt=116,this.j_zan_f=!1),this.j_gr_kazu>0&&(8==this.grenade_type?(this.j_fire_f&&(this.j_gr_kazu=1),0!=this.co_jm[0].c&&0!=this.co_jm[1].c||(this.j_gr_kazu--,4==this.j_fire_type?(0==this.co_jm[0].c&&(this.co_jm[0].c=106,this.co_jm[0].x=this.co_j.x,this.co_jm[0].y=this.co_j.y,this.co_jm[0].vx=20,this.co_jm[0].vy=0,this.co_jm[0].c1=0,this.co_jm[0].c2=0,0==this.co_j.muki&&(this.co_jm[0].c=101,this.co_jm[0].vx=-20),this.jm_kazu++,this.gs.rsAddSound(23)),0==this.co_jm[1].c&&(this.co_jm[1].c=106,this.co_jm[1].x=this.co_j.x,this.co_jm[1].y=this.co_j.y,this.co_jm[1].vx=14,this.co_jm[1].vy=-14,this.co_jm[1].c1=0,this.co_jm[1].c2=0,0==this.co_j.muki&&(this.co_jm[1].c=101,this.co_jm[1].vx=-14),this.jm_kazu++,this.gs.rsAddSound(23))):5==this.j_fire_type?0==this.co_j.muki?this.jmSet(this.co_j.x,this.co_j.y,110):this.jmSet(this.co_j.x,this.co_j.y,115):0==this.co_j.muki?this.jmSet(this.co_j.x,this.co_j.y,100):this.jmSet(this.co_j.x,this.co_j.y,105))):7==this.grenade_type?this.jmSet2(this.co_j.x,this.co_j.y,50,2):3==this.grenade_type||4==this.grenade_type?0==this.co_j.muki?this.jmSet(this.co_j.x,this.co_j.y,60):this.jmSet(this.co_j.x,this.co_j.y,65):9==this.grenade_type?0==this.co_j.muki?this.jmSet(this.co_j.x,this.co_j.y,1207):this.jmSet(this.co_j.x,this.co_j.y,1206):0==this.co_j.muki?this.jmSet(this.co_j.x,this.co_j.y,200):this.jmSet(this.co_j.x,this.co_j.y,205))),8==this.grenade_type&&this.j_fire_f&&(this.j_gr_kazu=0),1==this.tr2_c&&(this.j_hashigo_f&&!this.gk.x_f||(this.j_gr_kazu>0?10!=this.j_tokugi&&12!=this.j_tokugi&&13!=this.j_tokugi&&(8==this.grenade_type?(this.j_fire_f&&(this.j_gr_kazu=1),0!=this.co_jm[0].c&&0!=this.co_jm[1].c||(this.j_gr_kazu--,4==this.j_fire_type?(0==this.co_jm[0].c&&(this.co_jm[0].c=106,this.co_jm[0].x=this.co_j.x,this.co_jm[0].y=this.co_j.y,this.co_jm[0].vx=20,this.co_jm[0].vy=0,this.co_jm[0].c1=0,this.co_jm[0].c2=0,0==this.co_j.muki&&(this.co_jm[0].c=101,this.co_jm[0].vx=-20),this.jm_kazu++,this.gs.rsAddSound(23)),0==this.co_jm[1].c&&(this.co_jm[1].c=106,this.co_jm[1].x=this.co_j.x,this.co_jm[1].y=this.co_j.y,this.co_jm[1].vx=14,this.co_jm[1].vy=-14,this.co_jm[1].c1=0,this.co_jm[1].c2=0,0==this.co_j.muki&&(this.co_jm[1].c=101,this.co_jm[1].vx=-14),this.jm_kazu++,this.gs.rsAddSound(23))):5==this.j_fire_type?0==this.co_j.muki?this.jmSet(this.co_j.x,this.co_j.y,110):this.jmSet(this.co_j.x,this.co_j.y,115):0==this.co_j.muki?this.jmSet(this.co_j.x,this.co_j.y,100):this.jmSet(this.co_j.x,this.co_j.y,105))):7==this.grenade_type?this.jmSet2(this.co_j.x,this.co_j.y,50,2):9==this.grenade_type?0==this.co_j.muki?this.jmSet(this.co_j.x,this.co_j.y,1207):this.jmSet(this.co_j.x,this.co_j.y,1206):3==this.grenade_type||4==this.grenade_type?0==this.co_j.muki?this.jmSet(this.co_j.x,this.co_j.y,60):this.jmSet(this.co_j.x,this.co_j.y,65):0==this.co_j.muki?this.jmSet(this.co_j.x,this.co_j.y,200):this.jmSet(this.co_j.x,this.co_j.y,205)):!this.j_fire_f||this.j_mizu_f&&!this.j_fire_mkf||(10==this.j_tokugi||12==this.j_tokugi||13==this.j_tokugi?this.gk.down_f||this.jmSet(this.co_j.x,this.co_j.y,105):4==this.j_fire_type?(0==this.co_jm[0].c&&(this.co_jm[0].c=106,this.co_jm[0].x=this.co_j.x,this.co_jm[0].y=this.co_j.y,this.co_jm[0].vx=20,this.co_jm[0].vy=0,this.co_jm[0].c1=0,this.co_jm[0].c2=0,0==this.co_j.muki&&(this.co_jm[0].c=101,this.co_jm[0].vx=-20),this.jm_kazu++,this.gs.rsAddSound(23)),0==this.co_jm[1].c&&(this.co_jm[1].c=106,this.co_jm[1].x=this.co_j.x,this.co_jm[1].y=this.co_j.y,this.co_jm[1].vx=14,this.co_jm[1].vy=-14,this.co_jm[1].c1=0,this.co_jm[1].c2=0,0==this.co_j.muki&&(this.co_jm[1].c=101,this.co_jm[1].vx=-14),this.jm_kazu++,this.gs.rsAddSound(23))):0==this.co_j.muki?this.jmSet(this.co_j.x,this.co_j.y,100):this.jmSet(this.co_j.x,this.co_j.y,105))),e=this.maps.getBGCode(this.co_j.x+15,this.co_j.y+32),12!=this.j_tokugi&&13!=this.j_tokugi||!this.gk.x_f))if(this.j_drell_f&&(20==e||69==e&&1==this.suberuyuka_hkf)){for(var Qi=!1,ts=0;!(ts>this.a_kazu);){if(410==this.co_a[ts].c&&this.co_a[ts].x<=32*Ji(this.co_j.x+15,5)+15&&this.co_a[ts].x+95>=32*Ji(this.co_j.x+15,5)+15&&this.co_j.y+31>=this.co_a[ts].y&&this.co_j.y<=this.co_a[ts].y+63){Qi=!0;break}ts++}if(!Qi){var is=Ji(this.co_j.x+15,5),ss=Ji(this.co_j.y+32,5);4==this.maps.map_bg[is][ss-1]||4==this.maps.map_bg[is-1][ss]||4==this.maps.map_bg[is+1][ss]?this.maps.putBGCode(is,ss,4):this.maps.putBGCode(is,ss,0),12==this.j_tokugi||13==this.j_tokugi?this.anaSet(is,ss):(this.mSet2(32*is,32*ss,80,12,-24),this.mSet2(32*is,32*ss,80,-12,-24)),this.gs.rsAddSound(16),this.jZutuki(32*is,32*ss-32,0),this.co_j.x=32*is,this.co_j.vx=0,this.co_j.vy=0,this.j_jump_type=3,this.co_j.c=120,this.co_j.c1=0,this.co_j.pt=119}}else this.j_tail_f&&(this.j_tail_ac<=0||this.j_tail_ac>=8)&&(!this.j_hashigo_f||this.gk.x_f)&&(10!=this.j_tokugi&&12!=this.j_tokugi&&13!=this.j_tokugi||this.gk.down_f)&&(this.j_tail_ac=1,this.co_j.pt=116,this.j_zan_f=!1);if(this.j_tail_ac>=1)if(this.j_zan_f=!1,this.j_tail_ac++,this.j_tail_ac<=4)this.co_j.pt=116,1!=this.j_tail_type&&3!=this.j_tail_type||(0==this.co_j.muki?this.jZutuki(this.co_j.x-32,this.co_j.y,1):this.jZutuki(this.co_j.x+32,this.co_j.y,1));else if(this.j_tail_ac<=5){if(this.co_j.pt=1e3,1!=this.j_tail_type&&3!=this.j_tail_type||(0==this.co_j.muki?this.jZutuki(this.co_j.x-32,this.co_j.y,1):this.jZutuki(this.co_j.x+32,this.co_j.y,1)),2==this.j_tail_type||3==this.j_tail_type){var hs;hs=1==this.co_j.muki?Ji(this.co_j.x+40,5):Ji(this.co_j.x-8,5);var es=Ji(this.co_j.y+15,5);(20==this.maps.map_bg[hs][es]||69==this.maps.map_bg[hs][es]&&1==this.suberuyuka_hkf)&&(4==this.maps.map_bg[hs-1][es]?this.maps.putBGCode(hs,es,4):this.maps.putBGCode(hs,es,0),this.mSet2(32*hs,32*es,80,12,-24),this.mSet2(32*hs,32*es,80,-12,-24),this.gs.rsAddSound(16),this.jZutuki(32*hs,32*es-32,0))}}else this.j_tail_ac<=7?this.co_j.pt=1e3:this.j_tail_ac<=9?this.co_j.pt=116:(this.co_j.pt=116,this.j_tail_ac=0);if((12==this.j_tokugi||13==this.j_tokugi)&&(this.co_j.jimen_f||this.j_hashigo_f))if(this.gk.x_f){var as=Ji(this.co_j.x+15,5)+1,cs=Ji(this.co_j.y+32+15,5),os=this.maps.map_bg[as][cs],_s=this.maps.map_bg[as][cs-1];if((20==os||40==os)&&_s<=9&&(this.maps.map_bg[as-1][cs-1]<=10||15==this.maps.map_bg[as-1][cs-1]||18==this.maps.map_bg[as-1][cs-1]||19==this.maps.map_bg[as-1][cs-1])){var rs=!1,ns=this.maps.map_bg[as-1][cs];if((ns>=20||15==ns||10==ns||10==this.maps.map_bg[as-1][cs-1]||18==this.maps.map_bg[as-1][cs-1]||19==this.maps.map_bg[as-1][cs-1])&&(rs=!0),!rs)for(var ms=0;!(ms>this.t_kazu);){if((this.co_t[ms].c>=1200&&this.co_t[ms].c<1300||1310==this.co_t[ms].c)&&Math.abs(this.co_j.x-this.co_t[ms].x)<32&&32*cs<=this.co_t[ms].y&&32*cs+12>=this.co_t[ms].y){rs=!0;break}ms++}if(!rs&&this.j_a_id>=0&&(this.co_a[this.j_a_id].c>=100&&this.co_a[this.j_a_id].c<=120||this.co_a[this.j_a_id].c>=400&&this.co_a[this.j_a_id].c<=600)&&(rs=!0),rs){40==os?(this.hAttack(as,cs),this.j_a_id>=0?100!=this.co_a[this.j_a_id].c&&400!=this.co_a[this.j_a_id].c&&500!=this.co_a[this.j_a_id].c||(this.co_j.x=32*as-32):(this.co_j.x=32*as-32,this.co_j.y=32*cs-32),this.co_j.vx=0,this.co_j.c=130,this.co_j.c1=0,this.co_j.muki=1,this.j_hashigo_f||(this.co_j.pt=100)):(4==_s||4==this.maps.map_bg[as-1][cs]||4==this.maps.map_bg[as+1][cs]?this.maps.putBGCode(as,cs,4):this.maps.putBGCode(as,cs,0),this.anaSet(as,cs),this.j_a_id>=0?100!=this.co_a[this.j_a_id].c&&400!=this.co_a[this.j_a_id].c&&500!=this.co_a[this.j_a_id].c||(this.co_j.x=32*as-32):(this.co_j.x=32*as-32,this.co_j.y=32*cs-32),this.co_j.vx=0,this.co_j.c=130,this.co_j.c1=0,this.co_j.muki=1,this.j_hashigo_f||(this.co_j.pt=100),this.gs.rsAddSound(16));var ps=this.maps.getBGCode(this.co_j.x+15,this.co_j.y+31);18!=ps&&19!=ps||(this.co_j.y=this.getSakamichiY(this.co_j.x+15,this.co_j.y+31))}}}else if(this.gk.z_f){var gs=Ji(this.co_j.x+15,5)-1,us=Ji(this.co_j.y+32+15,5),ys=this.maps.map_bg[gs][us],ds=this.maps.map_bg[gs][us-1];if((20==ys||40==ys)&&ds<=9&&(this.maps.map_bg[gs+1][us-1]<=10||15==this.maps.map_bg[gs+1][us-1]||this.maps.map_bg[gs+1][us-1]<=18||19==this.maps.map_bg[gs+1][us-1])){var fs=!1,js=this.maps.map_bg[gs+1][us];if((js>=20||15==js||10==js||10==this.maps.map_bg[gs+1][us-1]||18==this.maps.map_bg[gs+1][us-1]||19==this.maps.map_bg[gs+1][us-1])&&(fs=!0),!fs)for(var ls=0;!(ls>this.t_kazu);){if((this.co_t[ls].c>=1200&&this.co_t[ls].c<1300||1310==this.co_t[ls].c)&&Math.abs(this.co_j.x-this.co_t[ls].x)<32&&32*us<=this.co_t[ls].y&&32*us+12>=this.co_t[ls].y){fs=!0;break}ls++}if(!fs&&this.j_a_id>=0&&(this.co_a[this.j_a_id].c>=100&&this.co_a[this.j_a_id].c<=120||this.co_a[this.j_a_id].c>=400&&this.co_a[this.j_a_id].c<=600)&&(fs=!0),fs){40==ys?(this.hAttack(gs,us),this.j_a_id>=0?100!=this.co_a[this.j_a_id].c&&400!=this.co_a[this.j_a_id].c&&500!=this.co_a[this.j_a_id].c||(this.co_j.x=32*gs+32):(this.co_j.x=32*gs+32,this.co_j.y=32*us-32),this.co_j.vx=0,this.co_j.c=130,this.co_j.c1=0,this.co_j.muki=0,this.j_hashigo_f||(this.co_j.pt=100)):(4==ds||4==this.maps.map_bg[gs-1][us]||4==this.maps.map_bg[gs+1][us]?this.maps.putBGCode(gs,us,4):this.maps.putBGCode(gs,us,0),this.anaSet(gs,us),this.j_a_id>=0?100!=this.co_a[this.j_a_id].c&&400!=this.co_a[this.j_a_id].c&&500!=this.co_a[this.j_a_id].c||(this.co_j.x=32*gs+32):(this.co_j.x=32*gs+32,this.co_j.y=32*us-32),this.co_j.vx=0,this.co_j.c=130,this.co_j.c1=0,this.co_j.muki=0,this.j_hashigo_f||(this.co_j.pt=100),this.gs.rsAddSound(16));var vs=this.maps.getBGCode(this.co_j.x+15,this.co_j.y+31);18!=vs&&19!=vs||(this.co_j.y=this.getSakamichiY(this.co_j.x+15,this.co_j.y+31))}}}switch(e=this.maps.map_bg[Ji(this.co_j.x+15,5)][Ji(this.co_j.y+15,5)]){case 9:if(4==this.maps.map_bg[Ji(this.co_j.x+15,5)-1][Ji(this.co_j.y+15,5)]?(this.maps.putBGCode(Ji(this.co_j.x+15,5),Ji(this.co_j.y+15,5),4),this.j_mizu_f=!0):this.maps.putBGCode(Ji(this.co_j.x+15,5),Ji(this.co_j.y+15,5),0),this.addScore(5),this.gs.rsAddSound(6),2==this.clear_type||3==this.clear_type){var xs=this.coin_kazu;this.getCoinTotal(),xs>0&&0==this.coin_kazu&&(this.gs.rsAddSound(7),3==this.clear_type&&this.showHashigo())}break;case 8:(2!=this.clear_type&&3!=this.clear_type||this.coin_kazu<=0)&&(4==this.maps.map_bg[Ji(this.co_j.x+15,5)-1][Ji(this.co_j.y+15,5)]?(this.maps.putBGCode(Ji(this.co_j.x+15,5),Ji(this.co_j.y+15,5),4),this.j_mizu_f=!0):this.maps.putBGCode(Ji(this.co_j.x+15,5),Ji(this.co_j.y+15,5),0),this.gs.rsAddSound(2),this.stage_cc=1,this.stage_max>=2&&this.stage>=this.stage_max?this.addScore(1e3):this.addScore(100));break;case 5:case 6:this.co_j.y=32*Ji(this.co_j.y+15,5),this.jShinu(1)}3==this.clear_type&&this.coin_kazu<=0&&this.co_j.y<=this.maps.wy_mini-32&&this.stage_cc<=0&&(this.stage_cc=1,this.co_j.c=130,this.co_j.c1=-9999,this.addScore(100),this.gs.rsAddSound(2)),(this.co_j.y>=this.ochiru_y||this.j_mizu_f&&this.co_j.y>=this.ochiru_y-16)&&(this.co_j.c=210,this.co_j.c1=0,this.co_j.y=this.ochiru_y+64,this.j_jet_c=0,this.j_v_c=0),this.moveViewPosition()}},{key:"jM100stg",value:function(){this.j_zan_cf=!1,this.j_mizu_f=!1;var t=this.maps.getBGCode(this.co_j.x+15,this.co_j.y+15);if(this.AwaMove(t,1),this.gk.tr1_f?(this.tr1_c<14&&this.tr1_c++,14==this.j_tokugi&&this.tr1_c>=14&&(this.tr1_c=1)):this.tr1_c=0,this.gk.tr1_f?(this.gk.tr1_c<14&&this.gk.tr1_c++,14==this.j_tokugi&&this.tr1_c>=14&&(this.tr1_c=1)):this.gk.tr1_c=0,this.gk.tr2_f?this.tr2_c<2&&this.tr2_c++:this.tr2_c=0,this.gk.x_f?this.xkey_c<2&&this.xkey_c++:this.xkey_c=0,this.gk.left_f?this.gk.left_c<2&&this.gk.left_c++:this.gk.left_c=0,this.gk.right_f?this.gk.right_c<2&&this.gk.right_c++:this.gk.right_c=0,this.co_j.pt=100,14==this.j_tokugi?(this.gk.right_f?this.co_j.vx=this.j_speed:this.gk.left_f?this.co_j.vx=-1*this.j_speed:this.co_j.vx=0,this.gk.up_f?this.co_j.vy=-1*this.j_speed:this.gk.down_f?this.co_j.vy=this.j_speed:this.co_j.vy=0,this.co_j.muki=1,this.g_c2<=1?this.co_j.pt=83:this.co_j.pt=84):(this.gk.right_f?(this.co_j.vx=this.j_speed,this.co_j.vy=0,this.co_j.muki=1,this.j_4_muki=1,this.co_j.x%32==0&&(this.maps.getBGCode(this.co_j.x+32,this.co_j.y)>=20||this.maps.getBGCode(this.co_j.x+32,this.co_j.y+31)>=20)&&(this.maps.getBGCode(this.co_j.x+32,this.co_j.y)<20?(this.co_j.vx=0,this.co_j.vy=-1*this.j_speed,this.j_4_muki=2,32*Ji(this.co_j.y,5)>this.co_j.y+Ki(this.co_j.vy/10)&&(this.co_j.vy=10*(this.co_j.y-32*Ji(this.co_j.y,5)))):this.maps.getBGCode(this.co_j.x+32,this.co_j.y+31)<20&&(this.co_j.vx=0,this.co_j.vy=this.j_speed,this.j_4_muki=3,32*Ji(this.co_j.y+31,5)<this.co_j.y+Ki(this.co_j.vy/10)&&(this.co_j.vy=10*(32*Ji(this.co_j.y+31,5)-this.co_j.y))))):this.gk.left_f?(this.co_j.vx=-1*this.j_speed,this.co_j.vy=0,this.co_j.muki=0,this.j_4_muki=0,this.co_j.x%32==0&&(this.maps.getBGCode(this.co_j.x-1,this.co_j.y)>=20||this.maps.getBGCode(this.co_j.x-1,this.co_j.y+31)>=20)&&(this.maps.getBGCode(this.co_j.x-1,this.co_j.y)<20?(this.co_j.vx=0,this.co_j.vy=-1*this.j_speed,this.j_4_muki=2,32*Ji(this.co_j.y,5)>this.co_j.y+Ki(this.co_j.vy/10)&&(this.co_j.vy=10*(this.co_j.y-32*Ji(this.co_j.y,5)))):this.maps.getBGCode(this.co_j.x-1,this.co_j.y+31)<20&&(this.co_j.vx=0,this.co_j.vy=this.j_speed,this.j_4_muki=3,32*Ji(this.co_j.y+31,5)<this.co_j.y+Ki(this.co_j.vy/10)&&(this.co_j.vy=10*(32*Ji(this.co_j.y+31,5)-this.co_j.y))))):this.gk.up_f?(this.co_j.vx=0,this.co_j.vy=-1*this.j_speed,this.j_4_muki=2,this.co_j.y%32==0&&(this.maps.getBGCode(this.co_j.x,this.co_j.y-1)>=20||this.maps.getBGCode(this.co_j.x+31,this.co_j.y-1)>=20)&&(this.maps.getBGCode(this.co_j.x,this.co_j.y-1)<20?(this.co_j.vx=-1*this.j_speed,this.co_j.vy=0,this.co_j.muki=0,this.j_4_muki=0,32*Ji(this.co_j.x,5)>this.co_j.x+Ki(this.co_j.vx/10)&&(this.co_j.vx=10*(this.co_j.x-32*Ji(this.co_j.x,5)))):this.maps.getBGCode(this.co_j.x+31,this.co_j.y-1)<20&&(this.co_j.vx=this.j_speed,this.co_j.vy=0,this.co_j.muki=1,this.j_4_muki=1,32*Ji(this.co_j.x+31,5)<this.co_j.x+Ki(this.co_j.vx/10)&&(this.co_j.vx=10*(32*Ji(this.co_j.x+31,5)-this.co_j.x))))):this.gk.down_f?(this.co_j.vx=0,this.co_j.vy=this.j_speed,this.j_4_muki=3,this.co_j.y%32==0&&(this.maps.getBGCode(this.co_j.x,this.co_j.y+32)>=20||this.maps.getBGCode(this.co_j.x+31,this.co_j.y+32)>=20)&&(this.maps.getBGCode(this.co_j.x,this.co_j.y+32)<20?(this.co_j.vx=-1*this.j_speed,this.co_j.vy=0,this.co_j.muki=0,this.j_4_muki=0,32*Ji(this.co_j.x,5)>this.co_j.x+Ki(this.co_j.vx/10)&&(this.co_j.vx=10*(this.co_j.x-32*Ji(this.co_j.x,5)))):this.maps.getBGCode(this.co_j.x+31,this.co_j.y+32)<20&&(this.co_j.vx=this.j_speed,this.co_j.vy=0,this.co_j.muki=1,this.j_4_muki=1,32*Ji(this.co_j.x+31,5)<this.co_j.x+Ki(this.co_j.vx/10)&&(this.co_j.vx=10*(32*Ji(this.co_j.x+31,5)-this.co_j.x))))):(this.co_j.vx=0,this.co_j.vy=0),0!=this.co_j.vx||0!=this.co_j.vy?(this.co_j.ac++,this.co_j.ac>3&&(this.co_j.ac=0)):this.co_j.ac=0,0!=this.co_j.vx?this.co_j.pt=103+Ji(this.co_j.ac,1):2==this.j_4_muki?this.co_j.pt=204+Ji(this.co_j.ac,1):3==this.j_4_muki?this.co_j.pt=202+Ji(this.co_j.ac,1):this.co_j.pt=100),this.co_j.vx<0){if(this.co_j.x+=Ki(this.co_j.vx/10),this.a_hf)for(var i=0;i<=this.a_kazu;i++)if(this.co_a[i].gf){var s=this.co_a[i];s.c>=100&&s.c<200?this.co_j.x+15>=s.x&&this.co_j.x<=s.x+64&&this.co_j.y+31>=s.y&&this.co_j.y<=s.y+13&&(this.co_j.x=s.x+65,this.co_j.vx=0):300!=s.c?s.c>=400&&s.c<500?this.co_j.x+15>=s.x&&this.co_j.x<=s.x+80&&this.co_j.y+31>=s.y&&this.co_j.y<=s.y+63&&(this.co_j.x=s.x+81,this.co_j.vx=0):500!=s.c?s.c>=600&&s.c<700?this.co_j.x+15>=s.x&&this.co_j.x<=s.x+48&&this.co_j.y+31>=s.y+16&&this.co_j.y<=s.y+47&&(this.co_j.x=s.x+49,this.co_j.vx=0):700==s.c&&10!=this.j_tokugi&&12!=this.j_tokugi&&13!=this.j_tokugi&&this.co_j.x+15>=s.x&&this.co_j.x<=s.x+16&&this.co_j.y+31>=s.y&&this.co_j.y<=s.y+31&&(this.co_j.x=s.x+17,this.co_j.vx=0):this.co_j.x+15>=s.x&&this.co_j.x<=s.x+80&&this.co_j.y+31>=s.y&&this.co_j.y<=s.y+13&&(this.co_j.x=s.x+81,this.co_j.vx=0):this.co_j.x+15>=s.x&&this.co_j.x<=s.x+48&&this.co_j.y+31>=s.y&&this.co_j.y<=s.y+31&&(this.co_j.x=s.x+49,this.co_j.vx=0)}this.yuka_id_max>=0&&this.atariYuka(0);var h=Ji(this.co_j.x,5),e=this.maps.map_bg[h][Ji(this.co_j.y,5)],a=Ji(this.co_j.y+31,5),c=this.maps.map_bg[h][a];(e>=20||c>=20)&&(this.co_j.x=32*h+32,this.co_j.vx=0)}else if(this.co_j.vx>0){if(this.co_j.x+=Ki(this.co_j.vx/10),this.a_hf)for(var o=0;o<=this.a_kazu;o++)if(this.co_a[o].gf){var _=this.co_a[o];_.c>=100&&_.c<200?this.co_j.x+15>=_.x&&this.co_j.x<=_.x+64&&this.co_j.y+31>=_.y&&this.co_j.y<=_.y+13&&(this.co_j.x=_.x-16,this.co_j.vx=0):300!=_.c?_.c>=400&&_.c<500?this.co_j.x+15>=_.x&&this.co_j.x<=_.x+80&&this.co_j.y+31>=_.y&&this.co_j.y<=_.y+63&&(this.co_j.x=_.x-16,this.co_j.vx=0):500!=_.c?_.c>=600&&_.c<700?this.co_j.x+15>=_.x&&this.co_j.x<=_.x+48&&this.co_j.y+31>=_.y+16&&this.co_j.y<=_.y+47&&(this.co_j.x=_.x-16,this.co_j.vx=0):700==_.c&&10!=this.j_tokugi&&12!=this.j_tokugi&&13!=this.j_tokugi&&this.co_j.x+15>=_.x&&this.co_j.x<=_.x+16&&this.co_j.y+31>=_.y&&this.co_j.y<=_.y+31&&(this.co_j.x=_.x-16,this.co_j.vx=0):this.co_j.x+15>=_.x&&this.co_j.x<=_.x+80&&this.co_j.y+31>=_.y&&this.co_j.y<=_.y+13&&(this.co_j.x=_.x-16,this.co_j.vx=0):this.co_j.x+15>=_.x&&this.co_j.x<=_.x+48&&this.co_j.y+31>=_.y&&this.co_j.y<=_.y+31&&(this.co_j.x=_.x-16,this.co_j.vx=0)}this.yuka_id_max>=0&&this.atariYuka(1);var r=Ji(this.co_j.x+31,5),n=this.maps.map_bg[r][Ji(this.co_j.y,5)],m=Ji(this.co_j.y+31,5),p=this.maps.map_bg[r][m];(n>=20||p>=20)&&(this.co_j.x=32*r-16,this.co_j.x=32*r-32,this.co_j.vx=0)}if(this.co_j.vy<0){var g=this.co_j.vy;if(g<-320&&(g=-320),this.co_j.y+=Ki(g/10),this.a_hf)for(var u=0;u<=this.a_kazu;u++)if(this.co_a[u].gf){var y=this.co_a[u];y.c>=100&&y.c<200?this.co_j.x+15>=y.x&&this.co_j.x<=y.x+64&&this.co_j.y+31>=y.y&&this.co_j.y<=y.y+13&&(this.co_j.y=y.y+14,this.co_j.vy=0):300!=y.c?y.c>=400&&y.c<500?this.co_j.x+15>=y.x&&this.co_j.x<=y.x+80&&this.co_j.y+31>=y.y&&this.co_j.y<=y.y+63&&(this.co_j.y=y.y+64,this.co_j.vy=0):500!=y.c?y.c>=600&&y.c<700?this.co_j.x+15>=y.x&&this.co_j.x<=y.x+48&&this.co_j.y+31>=y.y+16&&this.co_j.y<=y.y+47&&(this.co_j.y=y.y+48,this.co_j.vy=0):700==y.c&&this.co_j.x+15>=y.x&&this.co_j.x<=y.x+16&&this.co_j.y+31>=y.y&&this.co_j.y<=y.y+31&&(this.co_j.y=y.y+32,this.co_j.vy=0):this.co_j.x+15>=y.x&&this.co_j.x<=y.x+80&&this.co_j.y+31>=y.y&&this.co_j.y<=y.y+13&&(this.co_j.y=y.y+14,this.co_j.vy=0):this.co_j.x+15>=y.x&&this.co_j.x<=y.x+48&&this.co_j.y+31>=y.y&&this.co_j.y<=y.y+31&&(this.co_j.y=y.y+32,this.co_j.vy=0)}this.yuka_id_max>=0&&this.atariYuka(2);var d=Ji(this.co_j.y,5),f=this.maps.map_bg[Ji(this.co_j.x+15,5)][d],j=this.maps.map_bg[Ji(this.co_j.x,5)][d],l=this.maps.map_bg[Ji(this.co_j.x+31,5)][d];if(j>=20||l>=20){if(this.co_j.y=32*d+32,this.co_j.vy=0,40==f){var v=Ji(this.co_j.x+15,5),x=Ji(this.co_j.y-1,5);this.hAttack(v,x)}if(this.j_helm_f&&(20==f||69==f&&1==this.suberuyuka_hkf)){var k=Ji(this.co_j.x+15,5),w=d;4==this.maps.map_bg[k][w+1]?this.maps.putBGCode(k,w,4):this.maps.putBGCode(k,w,0),this.mSet2(32*k,32*w,80,12,-24),this.mSet2(32*k,32*w,80,-12,-24),this.gs.rsAddSound(16),this.jZutuki(32*k,32*w-32,0)}}this.co_j.y<this.maps.wy_mini&&(this.co_j.y=this.maps.wy_mini)}else if(this.co_j.vy>0){if(this.co_j.y+=Ki(this.co_j.vy/10),this.a_hf)for(var b=0;b<=this.a_kazu;b++)if(this.co_a[b].gf){var S=this.co_a[b];S.c>=100&&S.c<200?this.co_j.x+15>=S.x&&this.co_j.x<=S.x+64&&this.co_j.y+31>=S.y&&this.co_j.y<=S.y+13&&(this.co_j.y=S.y-32,this.co_j.vy=0):300!=S.c?S.c>=400&&S.c<500?this.co_j.x+15>=S.x&&this.co_j.x<=S.x+80&&this.co_j.y+31>=S.y&&this.co_j.y<=S.y+63&&(this.co_j.y=S.y-32,this.co_j.vy=0):500!=S.c?S.c>=600&&S.c<700?this.co_j.x+15>=S.x&&this.co_j.x<=S.x+48&&this.co_j.y+31>=S.y+16&&this.co_j.y<=S.y+47&&(this.co_j.y=S.y+16-32,this.co_j.vy=0):700==S.c&&this.co_j.x+15>=S.x&&this.co_j.x<=S.x+16&&this.co_j.y+31>=S.y&&this.co_j.y<=S.y+31&&(this.co_j.y=S.y-32,this.co_j.vy=0):this.co_j.x+15>=S.x&&this.co_j.x<=S.x+80&&this.co_j.y+31>=S.y&&this.co_j.y<=S.y+13&&(this.co_j.y=S.y-32,this.co_j.vy=0):this.co_j.x+15>=S.x&&this.co_j.x<=S.x+48&&this.co_j.y+31>=S.y&&this.co_j.y<=S.y+31&&(this.co_j.y=S.y-32,this.co_j.vy=0)}this.yuka_id_max>=0&&this.atariYuka(3);var M=Ji(this.co_j.y+31,5),C=this.maps.map_bg[Ji(this.co_j.x,5)][M],I=this.maps.map_bg[Ji(this.co_j.x+31,5)][M];if((C>=20||I>=20)&&(this.co_j.y=32*M-32,this.co_j.vy=0,M=Ji(this.co_j.y+31,5)),this.co_j.y>this.maps.wy_max+this.gg.di.height-32&&(this.co_j.y=this.maps.wy_max+this.gg.di.height-32),!this.j_mizu_f){var B=this.maps.getBGCode(this.co_j.x+15,this.co_j.y+15);4==B?(this.mSet(this.co_j.x,32*Ji(this.co_j.y+15,5)-32,50),this.j_mizu_awa_c=38,this.gs.rsAddSound(20),this.co_j.vx<-60?this.co_j.vx=-60:this.co_j.vx>60&&(this.co_j.vx=60)):8!=B&&9!=B||4!=this.maps.map_bg[Ji(this.co_j.x+15,5)-1][Ji(this.co_j.y+15,5)]||(this.mSet(this.co_j.x,32*Ji(this.co_j.y+15,5)-32,50),this.j_mizu_awa_c=38,this.co_j.vx<-60?this.co_j.vx=-60:this.co_j.vx>60&&(this.co_j.vx=60))}}if(this.gk.down_f&&15==this.maps.getBGCode(this.co_j.x+15,this.co_j.y+32)&&(this.j_shitakara_mushi_y=Ji(this.co_j.y+32,5),this.j_jump_type=2,this.co_j.ac=0),1==this.tr1_c&&(!this.j_fire_f||this.j_mizu_f&&!this.j_fire_mkf||(0==this.co_j.muki?this.jmSet(this.co_j.x,this.co_j.y,100):(this.jmSet(this.co_j.x,this.co_j.y,105),14==this.j_tokugi&&(this.j_double_f&&(7==this.grenade_type?0==this.co_jm[7].c&&(this.co_jm[7].c=110,this.co_jm[7].x=this.co_j.x,this.co_jm[7].y=this.co_j.y,this.co_jm[7].vx=10,this.co_jm[7].vy=-10,this.gs.rsAddSound(23)):0==this.co_jm[7].c?(this.co_jm[7].c=106,this.co_jm[7].x=this.co_j.x,this.co_jm[7].y=this.co_j.y,this.co_jm[7].vx=12,this.co_jm[7].vy=-9,this.gs.rsAddSound(23)):0==this.co_jm[8].c&&(this.co_jm[8].c=106,this.co_jm[8].x=this.co_j.x,this.co_jm[8].y=this.co_j.y,this.co_jm[8].vx=12,this.co_jm[8].vy=-9,this.gs.rsAddSound(23))),100==this.co_mu[0].c&&(0==this.co_jm[3].c?(this.co_jm[3].c=106,this.co_jm[3].x=this.co_mu[0].x,this.co_jm[3].y=this.co_mu[0].y,this.co_jm[3].vx=16,this.co_jm[3].vy=0,this.co_jm[3].c2=106,this.gs.rsAddSound(23)):0==this.co_jm[4].c&&(this.co_jm[4].c=106,this.co_jm[4].x=this.co_mu[0].x,this.co_jm[4].y=this.co_mu[0].y,this.co_jm[4].vx=16,this.co_jm[4].vy=0,this.co_jm[4].c2=106,this.gs.rsAddSound(23))),100==this.co_mu[1].c&&(0==this.co_jm[5].c?(this.co_jm[5].c=106,this.co_jm[5].x=this.co_mu[1].x,this.co_jm[5].y=this.co_mu[1].y,this.co_jm[5].vx=16,this.co_jm[5].vy=0,this.co_jm[5].c2=106,this.gs.rsAddSound(23)):0==this.co_jm[6].c&&(this.co_jm[6].c=106,this.co_jm[6].x=this.co_mu[1].x,this.co_jm[6].y=this.co_mu[1].y,this.co_jm[6].vx=16,this.co_jm[6].vy=0,this.co_jm[6].c2=106,this.gs.rsAddSound(23)))))),this.j_tail_f&&(this.j_tail_ac<=0||this.j_tail_ac>=8)&&(this.j_tail_ac=1,this.co_j.pt=116,this.j_zan_f=!1)),1==this.xkey_c&&(this.j_gr_kazu>0&&(7==this.grenade_type?this.jmSet2(this.co_j.x,this.co_j.y,50,2):3==this.grenade_type||4==this.grenade_type?0==this.co_j.muki?this.jmSet2(this.co_j.x,this.co_j.y,60,2):this.jmSet2(this.co_j.x,this.co_j.y,65,2):0==this.co_j.muki?this.jmSet2(this.co_j.x,this.co_j.y,200,2):this.jmSet2(this.co_j.x,this.co_j.y,205,2)),t=this.maps.getBGCode(this.co_j.x+15,this.co_j.y+32),this.j_drell_f&&(20==t||69==t&&1==this.suberuyuka_hkf))){var G=Ji(this.co_j.x+15,5),z=Ji(this.co_j.y+32,5);4==this.maps.map_bg[G][z-1]||4==this.maps.map_bg[G-1][z]||4==this.maps.map_bg[G+1][z]?this.maps.putBGCode(G,z,4):this.maps.putBGCode(G,z,0),12==this.j_tokugi||13==this.j_tokugi?this.anaSet(G,z):(this.mSet2(32*G,32*z,80,12,-24),this.mSet2(32*G,32*z,80,-12,-24)),this.gs.rsAddSound(16),this.jZutuki(32*G,32*z-32,0),this.co_j.x=32*G,this.co_j.vx=0,this.co_j.vy=0,this.j_jump_type=3,this.co_j.c=120,this.co_j.c1=0,this.co_j.pt=119}if(this.j_tail_ac>=1)if(this.j_zan_f=!1,this.j_tail_ac++,this.j_tail_ac<=4)this.co_j.pt=116,15==this.j_tokugi&&2==this.j_4_muki?(this.co_j.pt=83,this.co_j.muki=0):15==this.j_tokugi&&3==this.j_4_muki&&(this.co_j.pt=84,this.co_j.muki=0),1!=this.j_tail_type&&3!=this.j_tail_type||(15==this.j_tokugi&&2==this.j_4_muki?this.jZutuki(this.co_j.x,this.co_j.y-32,1):15==this.j_tokugi&&3==this.j_4_muki?this.jZutuki(this.co_j.x,this.co_j.y+32,1):0==this.co_j.muki?this.jZutuki(this.co_j.x-32,this.co_j.y,1):this.jZutuki(this.co_j.x+32,this.co_j.y,1));else if(this.j_tail_ac<=5){if(this.co_j.pt=1e3,1!=this.j_tail_type&&3!=this.j_tail_type||(15==this.j_tokugi&&2==this.j_4_muki?this.jZutuki(this.co_j.x,this.co_j.y-32,1):15==this.j_tokugi&&3==this.j_4_muki?this.jZutuki(this.co_j.x,this.co_j.y+32,1):0==this.co_j.muki?this.jZutuki(this.co_j.x-32,this.co_j.y,1):this.jZutuki(this.co_j.x+32,this.co_j.y,1)),2==this.j_tail_type||3==this.j_tail_type){var A;A=1==this.co_j.muki?Ji(this.co_j.x+40,5):Ji(this.co_j.x-8,5);var P=Ji(this.co_j.y+15,5);15==this.j_tokugi&&2==this.j_4_muki?(A=Ji(this.co_j.x+15,5),P=Ji(this.co_j.y-16,5)):15==this.j_tokugi&&3==this.j_4_muki&&(A=Ji(this.co_j.x+15,5),P=Ji(this.co_j.y+44,5)),(20==this.maps.map_bg[A][P]||69==this.maps.map_bg[A][P]&&1==this.suberuyuka_hkf)&&(4==this.maps.map_bg[A-1][P]?this.maps.putBGCode(A,P,4):this.maps.putBGCode(A,P,0),this.mSet2(32*A,32*P,80,12,-24),this.mSet2(32*A,32*P,80,-12,-24),this.gs.rsAddSound(16),this.jZutuki(32*A,32*P-32,0))}}else this.j_tail_ac<=7?this.co_j.pt=1e3:this.j_tail_ac<=9?(this.co_j.pt=116,15==this.j_tokugi&&2==this.j_4_muki?(this.co_j.pt=83,this.co_j.muki=0):15==this.j_tokugi&&3==this.j_4_muki&&(this.co_j.pt=84,this.co_j.muki=0)):(this.co_j.pt=116,this.j_tail_ac=0,15==this.j_tokugi&&2==this.j_4_muki?(this.co_j.pt=83,this.co_j.muki=0):15==this.j_tokugi&&3==this.j_4_muki&&(this.co_j.pt=84,this.co_j.muki=0));switch(t=this.maps.map_bg[Ji(this.co_j.x+15,5)][Ji(this.co_j.y+15,5)]){case 9:if(4==this.maps.map_bg[Ji(this.co_j.x+15,5)-1][Ji(this.co_j.y+15,5)]?(this.maps.putBGCode(Ji(this.co_j.x+15,5),Ji(this.co_j.y+15,5),4),this.j_mizu_f=!0):this.maps.putBGCode(Ji(this.co_j.x+15,5),Ji(this.co_j.y+15,5),0),this.addScore(5),this.gs.rsAddSound(6),2==this.clear_type||3==this.clear_type){var N=this.coin_kazu;this.getCoinTotal(),N>0&&0==this.coin_kazu&&(this.gs.rsAddSound(7),3==this.clear_type&&this.showHashigo())}break;case 8:(2!=this.clear_type&&3!=this.clear_type||this.coin_kazu<=0)&&(4==this.maps.map_bg[Ji(this.co_j.x+15,5)-1][Ji(this.co_j.y+15,5)]?(this.maps.putBGCode(Ji(this.co_j.x+15,5),Ji(this.co_j.y+15,5),4),this.j_mizu_f=!0):this.maps.putBGCode(Ji(this.co_j.x+15,5),Ji(this.co_j.y+15,5),0),this.gs.rsAddSound(2),this.stage_cc=1,this.stage_max>=2&&this.stage>=this.stage_max?this.addScore(1e3):this.addScore(100));break;case 5:case 6:this.co_j.y=32*Ji(this.co_j.y+15,5),this.jShinu(1)}if(3==this.clear_type&&this.coin_kazu<=0&&this.co_j.y<=this.maps.wy_mini-32&&this.stage_cc<=0&&(this.stage_cc=1,this.co_j.c=130,this.co_j.c1=-9999,this.addScore(100),this.gs.rsAddSound(2)),(this.co_j.y>=this.ochiru_y||this.j_mizu_f&&this.co_j.y>=this.ochiru_y-16)&&(this.co_j.c=210,this.co_j.c1=0,this.co_j.y=this.ochiru_y+64,this.j_jet_c=0,this.j_v_c=0),this.co_j.wx=this.co_j.x-this.maps.wx,this.co_j.wy=this.co_j.y-this.maps.wy,this.co_j.wx<this.maps.my_wx_mini?this.maps.wx=this.co_j.x-this.maps.my_wx_mini:this.co_j.wx>this.maps.my_wx_max&&(this.maps.wx=this.co_j.x-this.maps.my_wx_max),this.co_j.wy<this.maps.my_wy_mini?this.maps.wy=this.co_j.y-this.maps.my_wy_mini:this.co_j.wy>this.maps.my_wy_max&&(this.maps.wy=this.co_j.y-this.maps.my_wy_max),this.maps.wx<this.maps.wx_mini?this.maps.wx=this.maps.wx_mini:this.maps.wx>this.maps.wx_max&&(this.maps.wx=this.maps.wx_max),this.maps.wy<this.maps.wy_mini?this.maps.wy=this.maps.wy_mini:this.maps.wy>this.maps.wy_max&&(this.maps.wy=this.maps.wy_max),14==this.j_tokugi&&(this.gk.up_f||this.gk.down_f||this.gk.left_f||this.gk.right_f)){this.mu_ato_p++,this.mu_ato_p>31&&(this.mu_ato_p=0),this.mu_ato_x[this.mu_ato_p]=this.co_j.x,this.mu_ato_y[this.mu_ato_p]=this.co_j.y;var O=this.mu_ato_p-7;O<0&&(O+=32),this.co_mu[0].x=this.mu_ato_x[O],this.co_mu[0].y=this.mu_ato_y[O],(O=this.mu_ato_p-14)<0&&(O+=32),this.co_mu[1].x=this.mu_ato_x[O],this.co_mu[1].y=this.mu_ato_y[O]}}},{key:"jMove",value:function(){this.j_mizu_f=!1;var t=this.maps.getBGCode(this.co_j.x+15,this.co_j.y+15);if(this.AwaMove(t,2),this.jst_auto_right>0&&(1==this.jst_auto_right?(this.gk.right_f=!0,this.gk.left_f=!1,this.j_hashiru_f=!1):2==this.jst_auto_right&&(this.gk.right_f=!0,this.gk.left_f=!1,this.j_hashiru_f=!0)),this.gk.tr1_f?this.tr1_c<6&&this.tr1_c++:this.tr1_c=0,this.gk.tr1_f?this.gk.tr1_c<6&&this.gk.tr1_c++:this.gk.tr1_c=0,this.gk.tr2_f?this.tr2_c<2&&this.tr2_c++:this.tr2_c=0,this.gk.x_f?this.xkey_c<2&&this.xkey_c++:this.xkey_c=0,this.gk.left_f?this.gk.left_c<2&&this.gk.left_c++:this.gk.left_c=0,this.gk.right_f?this.gk.right_c<2&&this.gk.right_c++:this.gk.right_c=0,1==this.gk.left_c?(this.left_dcc>0?this.j_hashiru_f=!0:this.j_hashiru_f=!1,this.left_dcc=8):this.left_dcc>0&&this.left_dcc--,1==this.gk.right_c?(this.right_dcc>0?this.j_hashiru_f=!0:this.j_hashiru_f=!1,this.right_dcc=8):this.right_dcc>0&&this.right_dcc--,this.gk.up_f?(this.up_key_c++,this.up_key_c>2&&(this.up_key_c=2)):this.up_key_c=0,this.gk.down_f?(this.down_key_c++,this.down_key_c>2&&(this.down_key_c=2)):this.down_key_c=0,110==this.co_j.c){if(this.gk.left_f?(this.co_j.vx-=10,this.co_j.vx<-60&&(this.co_j.vx=-60)):this.gk.right_f&&(this.co_j.vx+=10,this.co_j.vx>60&&(this.co_j.vx=60)),this.co_j.c1++,this.co_j.c1>2){this.co_j.c=100;var i=this.maps.getBGCode(this.co_j.x+15,this.co_j.y+31);i>=20&&(this.co_j.y=32*Ji(this.co_j.y+31,5)-32-1),18!=(i=this.maps.getBGCode(this.co_j.x+15,this.co_j.y+31))&&19!=i||(this.co_j.y-=16)}this.co_j.wx=this.co_j.x-this.maps.wx,this.co_j.wy=this.co_j.y-this.maps.wy,this.co_j.pt=109,this.moveViewPosition()}else if(120==this.co_j.c)this.co_j.c1++,this.co_j.c1>6&&(this.co_j.c=100),this.co_j.pt=119,this.moveViewPosition();else if(130==this.co_j.c)this.co_j.c1++,this.co_j.c1>9&&(this.co_j.c=100),this.moveViewPosition();else if(140==this.co_j.c){if(this.gk.right_f?this.co_j.muki=1:this.gk.left_f&&(this.co_j.muki=0),3200==this.co_a[this.j_rope_id].c?this.gk.up_f?(this.j_rope_r+=6,this.j_rope_r>220&&(this.j_rope_r=220),this.co_j.ac++,this.co_j.ac>3&&(this.co_j.ac=0)):this.gk.down_f?(this.j_rope_r-=6,this.j_rope_r<48&&(this.j_rope_r=48),this.co_j.ac++,this.co_j.ac>3&&(this.co_j.ac=0)):this.co_j.ac=0:this.gk.up_f?(this.j_rope_r-=6,this.j_rope_r<48&&(this.j_rope_r=48),this.co_j.ac++,this.co_j.ac>3&&(this.co_j.ac=0)):this.gk.down_f?(this.j_rope_r+=6,2800==this.co_a[this.j_rope_id].c?this.j_rope_r>220&&(this.j_rope_r=220):this.j_rope_r>176&&(this.j_rope_r=176),this.co_j.ac++,this.co_j.ac>3&&(this.co_j.ac=0)):this.co_j.ac=0,this.co_j.x=this.co_a[this.j_rope_id].x+Ki(Math.cos(3.141592653589793*this.co_a[this.j_rope_id].vy/180)*this.j_rope_r,!0,this)-16,this.co_j.y=this.co_a[this.j_rope_id].y+Ki(Math.sin(3.141592653589793*this.co_a[this.j_rope_id].vy/180)*this.j_rope_r,!0,this)-16,this.co_j.vx=0,this.co_j.vy=0,1==this.tr1_c){if(this.co_j.c=100,2800==this.co_a[this.j_rope_id].c||3200==this.co_a[this.j_rope_id].c?this.co_j.vy=-230:this.co_j.vy=-200,this.j_jump_level=1,this.j_jump_type=0,this.co_j.pt=103,this.co_j.ac=0,this.j_djump_kf=!0,this.gs.rsAddSound(3),2800==this.co_a[this.j_rope_id].c||3200==this.co_a[this.j_rope_id].c?0==this.co_j.muki?this.co_j.vx=-80:this.co_j.vx=80:0==this.co_j.muki?this.co_j.vx=-100:this.co_j.vx=100,3200==this.co_a[this.j_rope_id].c){var s=32*Ji(this.co_a[this.j_rope_id].y,5)-32-2;this.co_j.y>s&&(this.co_j.y=s)}else{var h=32*Ji(this.co_a[this.j_rope_id].y,5)+32;this.co_j.y<h&&(this.co_j.y=h)}this.j_rope_cf=!0}switch(this.maps.map_bg[Ji(this.co_j.x+15,5)][Ji(this.co_j.y+15,5)]){case 9:if(4==this.maps.map_bg[Ji(this.co_j.x+15,5)-1][Ji(this.co_j.y+15,5)]?(this.maps.putBGCode(Ji(this.co_j.x+15,5),Ji(this.co_j.y+15,5),4),this.j_mizu_f=!0):this.maps.putBGCode(Ji(this.co_j.x+15,5),Ji(this.co_j.y+15,5),0),this.addScore(5),this.gs.rsAddSound(6),2==this.clear_type||3==this.clear_type){var e=this.coin_kazu;this.getCoinTotal(),e>0&&0==this.coin_kazu&&(this.gs.rsAddSound(7),3==this.clear_type&&this.showHashigo())}break;case 8:(2!=this.clear_type&&3!=this.clear_type||this.coin_kazu<=0)&&(4==this.maps.map_bg[Ji(this.co_j.x+15,5)-1][Ji(this.co_j.y+15,5)]?(this.maps.putBGCode(Ji(this.co_j.x+15,5),Ji(this.co_j.y+15,5),4),this.j_mizu_f=!0):this.maps.putBGCode(Ji(this.co_j.x+15,5),Ji(this.co_j.y+15,5),0),this.gs.rsAddSound(2),this.stage_cc=1,this.stage_max>=2&&this.stage>=this.stage_max?this.addScore(1e3):this.addScore(100));break;case 5:case 6:this.co_j.x=32*Ji(this.co_j.x+15,5),this.co_j.y=32*Ji(this.co_j.y+15,5),this.jShinu(1)}1==this.co_j.ac||2==this.co_j.ac?this.co_j.pt=1201:this.co_j.pt=1200,this.moveViewPosition()}else if(145==this.co_j.c){if(this.gk.right_f){this.co_j.muki=1,this.co_a[this.j_rope_id].x+=4;var a=Ji(this.co_a[this.j_rope_id].y-32,5),c=Ji(this.co_a[this.j_rope_id].y-1,5),o=Ji(this.co_a[this.j_rope_id].y+31,5),_=Ji(this.co_a[this.j_rope_id].y+63,5),r=Ji(this.co_a[this.j_rope_id].x+63,5);(this.maps.map_bg[r][a]>=18||this.maps.map_bg[r][c]>=18||this.maps.map_bg[r][o]>=18||this.maps.map_bg[r][_]>=18)&&(this.co_a[this.j_rope_id].x=32*r-64)}else if(this.gk.left_f){this.co_j.muki=0,this.co_a[this.j_rope_id].x-=4;var n=Ji(this.co_a[this.j_rope_id].y-32,5),m=Ji(this.co_a[this.j_rope_id].y-1,5),p=Ji(this.co_a[this.j_rope_id].y+31,5),g=Ji(this.co_a[this.j_rope_id].y+63,5),u=Ji(this.co_a[this.j_rope_id].x,5);(this.maps.map_bg[u][n]>=18||this.maps.map_bg[u][m]>=18||this.maps.map_bg[u][p]>=18||this.maps.map_bg[u][g]>=18)&&(this.co_a[this.j_rope_id].x=32*u+32)}if(1==this.co_j.muki?this.co_a[this.j_rope_id].pt=605:this.co_a[this.j_rope_id].pt=600,this.gk.up_f){this.co_a[this.j_rope_id].y-=4,this.co_a[this.j_rope_id].y<352&&(this.co_a[this.j_rope_id].y=352);var y=Ji(this.co_a[this.j_rope_id].x,5),d=Ji(this.co_a[this.j_rope_id].x+31,5),f=Ji(this.co_a[this.j_rope_id].x+63,5),j=Ji(this.co_a[this.j_rope_id].y-32,5);(this.maps.map_bg[y][j]>=18||this.maps.map_bg[d][j]>=18||this.maps.map_bg[f][j]>=18)&&(this.co_a[this.j_rope_id].y=32*j+64)}else if(this.gk.down_f){this.co_a[this.j_rope_id].y+=4,this.co_a[this.j_rope_id].y>this.ochiru_y-32&&(this.co_a[this.j_rope_id].y=this.ochiru_y-32);var l=Ji(this.co_a[this.j_rope_id].x,5),v=Ji(this.co_a[this.j_rope_id].x+31,5),x=Ji(this.co_a[this.j_rope_id].x+63,5),k=Ji(this.co_a[this.j_rope_id].y+63,5);(this.maps.map_bg[l][k]>=18||this.maps.map_bg[v][k]>=18||this.maps.map_bg[x][k]>=18)&&(this.co_a[this.j_rope_id].y=32*k-64)}switch(this.co_j.x=this.co_a[this.j_rope_id].x+16,this.co_j.y=this.co_a[this.j_rope_id].y-16,this.co_j.pt=100,1==this.tr1_c&&(this.co_j.c=100,this.co_j.vy=-200,this.j_jump_level=1,this.j_jump_type=0,this.co_j.pt=103,this.co_j.ac=0,this.j_djump_kf=!0,this.co_j.y--,this.gs.rsAddSound(3),0==this.co_j.muki?this.co_j.vx=-60:this.co_j.vx=60,this.j_rope_cf=!0),this.maps.map_bg[Ji(this.co_j.x+15,5)][Ji(this.co_j.y+15,5)]){case 7:default:break;case 9:if(4==this.maps.map_bg[Ji(this.co_j.x+15,5)-1][Ji(this.co_j.y+15,5)]?(this.maps.putBGCode(Ji(this.co_j.x+15,5),Ji(this.co_j.y+15,5),4),this.j_mizu_f=!0):this.maps.putBGCode(Ji(this.co_j.x+15,5),Ji(this.co_j.y+15,5),0),this.addScore(5),this.gs.rsAddSound(6),2!=this.clear_type&&3!=this.clear_type)break;var w=this.coin_kazu;if(this.getCoinTotal(),w<=0||0!=this.coin_kazu)break;this.gs.rsAddSound(7),3==this.clear_type&&this.showHashigo();break;case 8:if((2==this.clear_type||3==this.clear_type)&&this.coin_kazu>0)break;4==this.maps.map_bg[Ji(this.co_j.x+15,5)-1][Ji(this.co_j.y+15,5)]?(this.maps.putBGCode(Ji(this.co_j.x+15,5),Ji(this.co_j.y+15,5),4),this.j_mizu_f=!0):this.maps.putBGCode(Ji(this.co_j.x+15,5),Ji(this.co_j.y+15,5),0),this.gs.rsAddSound(2),this.stage_cc=1,this.stage_max>=2&&this.stage>=this.stage_max?this.addScore(1e3):this.addScore(100);break;case 5:case 6:this.co_j.x=32*Ji(this.co_j.x+15,5),this.co_j.y=32*Ji(this.co_j.y+15,5),this.jShinu(1)}this.moveViewPosition()}else if(150==this.co_j.c)this.co_j.pt=this.setmyw_pt,this.co_j.muki=this.setmyw_muki,this.co_j.c1--,this.co_j.c1<=0&&(this.co_j.c=100),this.moveViewPosition();else if(200==this.co_j.c)this.co_j.vy+=25,this.co_j.vy>100&&(this.co_j.vy=100),this.co_j.y+=Ki(this.co_j.vy/10),this.co_j.wx=this.co_j.x-this.maps.wx,this.co_j.wy=this.co_j.y-this.maps.wy,this.co_j.c2<100?(this.co_j.c1<=0?(this.co_j.pt=110,this.co_j.muki=0):this.co_j.c1<=1?(this.co_j.pt=111,this.co_j.muki=0,this.co_j.c2++,this.co_j.c2>4&&(this.co_j.c2=100)):this.co_j.c1<=2?(this.co_j.pt=112,this.co_j.muki=0):(this.co_j.pt=113,this.co_j.muki=0),this.co_j.c1++,this.co_j.c1>3&&(this.co_j.c1=0)):(this.co_j.pt=112,this.co_j.muki=0),this.co_j.wy>=this.gg.di.height&&(this.co_j.c=210,this.co_j.c1=0,this.co_j.y=this.maps.wy+this.gg.di.height+32,this.co_j.pt=0);else if(210==this.co_j.c)100==this.spot_c&&(this.spot_c=200),this.stage_cc<=0&&(this.co_j.c1++,this.co_j.c1>16&&(this.j_left--,this.j_left<0?(this.j_left=0,this.ml_mode=300):2==this.stage_select?this.ml_mode=250:this.ml_mode=90));else if(220==this.co_j.c||230==this.co_j.c)220==this.co_j.c?this.co_j.pt=114:230==this.co_j.c&&(this.co_j.pt=115),this.co_j.c1++,this.co_j.c1>=25&&(this.co_j.c=210,this.co_j.c1=0);else if(240==this.co_j.c)this.co_j.c2>=100&&(this.co_j.y+=10),this.co_j.wx=this.co_j.x-this.maps.wx,this.co_j.wy=this.co_j.y-this.maps.wy,this.co_j.c2<100?(this.co_j.c1<=0?(this.co_j.pt=110,this.co_j.muki=0):this.co_j.c1<=1?(this.co_j.pt=111,this.co_j.muki=0,this.co_j.c2++,this.co_j.c2>4&&(this.co_j.c2=100)):this.co_j.c1<=2?(this.co_j.pt=112,this.co_j.muki=0):(this.co_j.pt=113,this.co_j.muki=0),this.co_j.c1++,this.co_j.c1>3&&(this.co_j.c1=0)):(this.co_j.pt=112,this.co_j.muki=0),this.co_j.wy>=this.gg.di.height&&(this.co_j.c=210,this.co_j.c1=0,this.co_j.y=this.maps.wy+this.gg.di.height+32,this.co_j.pt=0);else if(250==this.co_j.c)this.co_j.c1++,this.co_j.c1<=5?(this.co_j.pt=110,this.co_j.muki=0):this.co_j.c1<=10?(this.co_j.pt=111,this.co_j.muki=0):this.co_j.c1<=15?(this.co_j.pt=112,this.co_j.muki=0):this.co_j.c1<=20?(this.co_j.pt=113,this.co_j.muki=0):(this.co_j.muki=0,this.co_j.c=210,this.co_j.c1=0,this.co_j.y=this.maps.wy+this.gg.di.height+32,this.co_j.pt=0),this.co_j.wx=this.co_j.x-this.maps.wx,this.co_j.wy=this.co_j.y-this.maps.wy;else if(300==this.co_j.c)this.co_j.pt=1100,this.co_j.c1++,this.co_j.c1>=32&&(this.co_j.c=310,this.co_j.c1=0,this.j_jump_type=0,this.j_djump_kf=!0,this.co_j.pt=1110),1==this.co_j.c1&&this.gs.rsAddSound(21),this.moveViewPosition();else if(310==this.co_j.c){if(this.co_j.pt=1110,this.stage_cc<=0)if(this.co_j.c1++,2==this.dokan_mode||this.co_j.c2>=100){if(this.co_j.c1>=10){this.co_j.c=320,this.co_j.c1=42;for(var b=0;!(b>this.a_kazu);){if(!(0!=this.sl_step&&1!=this.sl_step&&10!=this.sl_step&&11!=this.sl_step||(this.co_j.c2<100||this.co_j.c2>=200||1!=this.co_j.c5?this.co_j.c2<200||this.co_j.c2>=300?this.co_j.c2<300||this.co_j.c2>=400?this.co_j.c2>=100?300!=this.co_a[b].c||1==this.co_a[b].c4||this.co_j.c2!=this.co_a[b].c3||1==this.co_a[b].c5:300!=this.co_a[b].c||1==this.co_a[b].c4||(this.co_a[b].c3<100||this.co_a[b].c3>=200?this.co_j.c2!=this.co_a[b].c3:this.co_j.c2!=this.co_a[b].c3-100||0==this.co_a[b].c5):300!=this.co_a[b].c||1==this.co_a[b].c4||this.co_j.c2!=this.co_a[b].c3&&this.co_j.c2-100!=this.co_a[b].c3:300!=this.co_a[b].c||1==this.co_a[b].c4||this.co_j.c2!=this.co_a[b].c3&&this.co_j.c2+100!=this.co_a[b].c3:300!=this.co_a[b].c||1==this.co_a[b].c4||this.co_j.c2!=this.co_a[b].c3+100))){this.co_j.x=this.co_a[b].x+16,this.co_j.y=this.co_a[b].y-32,this.co_a[b].c3>=100&&this.co_a[b].c3<200?(this.co_j.y=this.co_a[b].y+32,this.co_j.vy=20):this.co_a[b].c3>=200&&this.co_a[b].c3<300?(this.co_j.x=this.co_a[b].x-32,this.co_j.y=this.co_a[b].y+16,this.co_j.muki=0,this.co_j.vy=20):this.co_a[b].c3>=300&&this.co_a[b].c3<400&&(this.co_j.x=this.co_a[b].x+32,this.co_j.y=this.co_a[b].y+16,this.co_j.muki=1,this.co_j.vy=20),this.co_j.c2=this.co_a[b].c3,this.co_a[b].c4=1,this.nkscroll_con=0,this.nkscroll_zsc=!0;break}b++}b>this.a_kazu&&(this.co_j.c2>=200&&this.co_j.c2<300?(this.co_j.muki=0,this.co_j.vy=20):this.co_j.c2>=300&&this.co_j.c2<400&&(this.co_j.muki=1,this.co_j.vy=20));for(var S=0;S<=this.a_kazu;S++)this.co_a[S].c<100&&60!=this.co_a[S].c||(this.co_a[S].gf=!0,300==this.co_a[S].c&&(this.co_a[S].c3>=100&&this.co_a[S].c3<200?this.co_j.x==this.co_a[S].x+16&&this.co_j.y==this.co_a[S].y+32||(this.co_a[S].c4=0):this.co_a[S].c3>=200&&this.co_a[S].c3<300?this.co_j.x==this.co_a[S].x-32&&this.co_j.y==this.co_a[S].y+16||(this.co_a[S].c4=0):this.co_a[S].c3>=300&&this.co_a[S].c3<400?this.co_j.x==this.co_a[S].x+32&&this.co_j.y==this.co_a[S].y+16||(this.co_a[S].c4=0):this.co_j.x==this.co_a[S].x+16&&this.co_j.y==this.co_a[S].y-32||(this.co_a[S].c4=0)));10!=this.sl_step&&11!=this.sl_step||(this.maps.wx=this.co_j.x-192,this.ks_wx=this.maps.wx),this.moveViewPosition()}}else 10==this.co_j.c1?location.href=this.tdb.getValue(Xi("url",this.co_j.c2+1)):this.co_j.c1>80&&(this.ml_mode=50)}else if(320==this.co_j.c)this.co_j.pt=1100,this.co_j.c1--,this.co_j.c1<=0&&(this.co_j.c=100,this.co_j.c1=0,this.co_j.pt=100);else if(400==this.co_j.c){if(this.co_j.c1>48?(this.co_j.c1--,this.co_j.pt=100,this.co_j.c1<=48&&(this.co_j.pt=0)):this.co_j.pt=0,0==this.co_a[this.j_rope_id].c3||4==this.co_a[this.j_rope_id].c3){var M=this.co_a[this.j_rope_id].c4;345!=M&&330!=M&&315!=M&&300!=M&&285!=M||(this.co_a[this.j_rope_id].vx=0),this.gk.up_f?this.co_a[this.j_rope_id].vx=-3:this.gk.down_f&&(this.co_a[this.j_rope_id].vx=3),this.co_a[this.j_rope_id].vx<0?270==this.co_a[this.j_rope_id].c4&&(this.co_a[this.j_rope_id].vx=0):this.co_a[this.j_rope_id].vx>0&&0==this.co_a[this.j_rope_id].c4&&(this.co_a[this.j_rope_id].vx=0),this.co_a[this.j_rope_id].c4+=this.co_a[this.j_rope_id].vx,this.co_a[this.j_rope_id].c4<0&&(this.co_a[this.j_rope_id].c4+=360),this.co_a[this.j_rope_id].c4>=360&&(this.co_a[this.j_rope_id].c4-=360),this.co_j.muki=1}else if(1==this.co_a[this.j_rope_id].c3||3==this.co_a[this.j_rope_id].c3){var C=this.co_a[this.j_rope_id].c4;195!=C&&210!=C&&225!=C&&240!=C&&255!=C||(this.co_a[this.j_rope_id].vx=0),this.gk.up_f?this.co_a[this.j_rope_id].vx=3:this.gk.down_f&&(this.co_a[this.j_rope_id].vx=-3),this.co_a[this.j_rope_id].vx<0?180==this.co_a[this.j_rope_id].c4&&(this.co_a[this.j_rope_id].vx=0):this.co_a[this.j_rope_id].vx>0&&270==this.co_a[this.j_rope_id].c4&&(this.co_a[this.j_rope_id].vx=0),this.co_a[this.j_rope_id].c4+=this.co_a[this.j_rope_id].vx,this.co_j.muki=0}else if(2==this.co_a[this.j_rope_id].c3){var I=this.co_a[this.j_rope_id].c4;15!=I&&30!=I&&45!=I&&60!=I&&75!=I||(this.co_a[this.j_rope_id].vx=0),this.gk.up_f?this.co_a[this.j_rope_id].vx=-3:this.gk.down_f&&(this.co_a[this.j_rope_id].vx=3),this.co_a[this.j_rope_id].vx<0?0==this.co_a[this.j_rope_id].c4&&(this.co_a[this.j_rope_id].vx=0):this.co_a[this.j_rope_id].vx>0&&90==this.co_a[this.j_rope_id].c4&&(this.co_a[this.j_rope_id].vx=0),this.co_a[this.j_rope_id].c4+=this.co_a[this.j_rope_id].vx,this.co_j.muki=1}if(this.co_j.c1>48?(this.co_j.x=this.co_a[this.j_rope_id].x+16+Ki(Math.cos(3.141592653589793*this.co_a[this.j_rope_id].c4/180)*this.co_j.c1,!0,this)-16,this.co_j.y=this.co_a[this.j_rope_id].y+16+Ki(Math.sin(3.141592653589793*this.co_a[this.j_rope_id].c4/180)*this.co_j.c1,!0,this)-16):(this.co_j.x=this.co_a[this.j_rope_id].x,this.co_j.y=this.co_a[this.j_rope_id].y),this.j_cannon_c=1,this.tr1_c>=1&&this.tr1_c<=5&&this.co_a[this.j_rope_id].c4%15==0&&this.co_j.c1<=48){this.co_j.x=this.co_a[this.j_rope_id].x+16+Ki(Math.cos(3.141592653589793*this.co_a[this.j_rope_id].c4/180)*this.co_j.c1,!0,this)-16,this.co_j.y=this.co_a[this.j_rope_id].y+16+Ki(Math.sin(3.141592653589793*this.co_a[this.j_rope_id].c4/180)*this.co_j.c1,!0,this)-16,this.j_jump_type=0,this.co_j.ac=0,this.co_j.c=100,this.co_j.vx=Ki(160*Math.cos(3.141592653589793*this.co_a[this.j_rope_id].c4/180),!0,this),this.co_j.vy=Ki(160*Math.sin(3.141592653589793*this.co_a[this.j_rope_id].c4/180),!0,this),this.j_jump_level=5,this.j_djump_kf=!0,this.co_j.pt=101,this.co_j.vy>0&&(this.co_j.pt=102),Math.abs(this.co_j.vy)<50&&(this.co_j.pt=83);for(var B=0;B<=5;B++)this.j_zan_x[B]=this.co_j.x,this.j_zan_y[B]=this.co_j.y,this.j_zan_pt[B]=0,this.j_zan_pth[B]=this.co_j.muki;this.j_zan_p=0,this.j_zan_c=0,this.j_zan_nagasa=5,this.j_zan_f=!0,this.j_zan_cf=!0,this.j_rope_cf=!0,this.j_cannon_c=22,this.j_cannon_type=0,this.gs.rsAddSound(19)}this.co_j.c1<=48&&100!=this.co_j.c?(this.co_j.wx=this.co_j.x-this.maps.wx,this.co_j.wy=this.co_j.y-this.maps.wy,this.co_j.c1<=48&&100!=this.co_j.c&&(this.scroll_area<2||this.scroll_area>5)&&14!=this.j_tokugi&&15!=this.j_tokugi&&(0==this.co_a[this.j_rope_id].c3||2==this.co_a[this.j_rope_id].c3||4==this.co_a[this.j_rope_id].c3?this.co_j.wx>this.maps.my_wx_mini?(this.co_j.wx-=6,this.co_j.wx<this.maps.my_wx_mini&&(this.co_j.wx=this.maps.my_wx_mini),this.maps.wx=this.co_j.x-this.co_j.wx):this.co_j.wx<this.maps.my_wx_mini&&(this.co_j.wx+=6,this.co_j.wx>this.maps.my_wx_mini&&(this.co_j.wx=this.maps.my_wx_mini),this.maps.wx=this.co_j.x-this.co_j.wx):this.co_j.wx<this.maps.my_wx_max?(this.co_j.wx+=6,this.co_j.wx>this.maps.my_wx_max&&(this.co_j.wx=this.maps.my_wx_max),this.maps.wx=this.co_j.x-this.co_j.wx):this.co_j.wx>this.maps.my_wx_max&&(this.co_j.wx-=6,this.co_j.wx<this.maps.my_wx_max&&(this.co_j.wx=this.maps.my_wx_max),this.maps.wx=this.co_j.x-this.co_j.wx),2==this.co_a[this.j_rope_id].c3?this.co_j.wy>this.maps.my_wy_mini?(this.co_j.wy-=6,this.co_j.wy<this.maps.my_wy_mini&&(this.co_j.wy=this.maps.my_wy_mini),this.maps.wy=this.co_j.y-this.co_j.wy):this.co_j.wy<this.maps.my_wy_mini&&(this.co_j.wy+=6,this.co_j.wy>this.maps.my_wy_mini&&(this.co_j.wy=this.maps.my_wy_mini),this.maps.wy=this.co_j.y-this.co_j.wy):this.co_j.wy<this.maps.my_wy_max?(this.co_j.wy+=6,this.co_j.wy>this.maps.my_wy_max&&(this.co_j.wy=this.maps.my_wy_max),this.maps.wy=this.co_j.y-this.co_j.wy):this.co_j.wy>this.maps.my_wy_max&&(this.co_j.wy-=6,this.co_j.wy<this.maps.my_wy_max&&(this.co_j.wy=this.maps.my_wy_max),this.maps.wy=this.co_j.y-this.co_j.wy))):this.moveViewPosition(),this.maps.wx<this.maps.wx_mini?this.maps.wx=this.maps.wx_mini:this.maps.wx>this.maps.wx_max&&(this.maps.wx=this.maps.wx_max),this.maps.wy<this.maps.wy_mini?this.maps.wy=this.maps.wy_mini:this.maps.wy>this.maps.wy_max&&(this.maps.wy=this.maps.wy_max)}}},{key:"moveViewPosition",value:function(){this.co_j.wx=this.co_j.x-this.maps.wx,this.co_j.wy=this.co_j.y-this.maps.wy,this.co_j.wx<this.maps.my_wx_mini?this.maps.wx=this.co_j.x-this.maps.my_wx_mini:this.co_j.wx>this.maps.my_wx_max&&(this.maps.wx=this.co_j.x-this.maps.my_wx_max),this.co_j.wy<this.maps.my_wy_mini?this.maps.wy=this.co_j.y-this.maps.my_wy_mini:this.co_j.wy>this.maps.my_wy_max&&(this.maps.wy=this.co_j.y-this.maps.my_wy_max),this.maps.wx<this.maps.wx_mini?this.maps.wx=this.maps.wx_mini:this.maps.wx>this.maps.wx_max&&(this.maps.wx=this.maps.wx_max),this.maps.wy<this.maps.wy_mini?this.maps.wy=this.maps.wy_mini:this.maps.wy>this.maps.wy_max&&(this.maps.wy=this.maps.wy_max)}},{key:"jShinu",value:function(t){this.co_j.c1=0,this.co_j.c2=0,this.j_zan_f=!1,this.j_jet_c=0,this.j_v_c=0,this.j_muteki_c=0,this.j_hp=0,this.co_mu[0].c=0,this.co_mu[1].c=0,this.j_cannon_c=1,this.setmyw_w=-1,this.km.initAll(),this.km.mode=10,1==t?this.co_j.c=240:2==t?(this.co_j.c=200,this.co_j.vy=-280):3==t?this.co_j.c=220:4==t?this.co_j.c=230:5==t&&(this.co_j.c=210,this.co_j.y=this.ochiru_y+64,this.co_j.c1=-8),14!=this.j_tokugi&&15!=this.j_tokugi||(this.co_j.c=250),this.gs.rsAddSound(24),this.sendHighscore()}},{key:"jFumu",value:function(t){return!(this.co_j.c<100||this.co_j.c>=200||(this.gs.rsAddSound(8),this.co_j.y=this.co_j.y-10,this.co_j.vy=-160,this.j_jump_type=1,this.co_j.c=110,this.co_j.c1=0,this.co_j.pt=109,2==t?this.co_j.vy=-220:3==t&&(this.co_j.vy=-320),0))}},{key:"getSakamichiY",value:function(t,i){var s=0,h=t-32*Ji(t,5),e=this.maps.map_bg[Ji(t,5)][Ji(i,5)];if(18==e){var a=31-h;s=32*Ji(i,5)+a-31}else if(19==e){var c=h;s=32*Ji(i,5)+c-31}else s=i-31;return s}},{key:"jZutuki",value:function(t,i,s){for(var h=0;h<=this.t_kazu;h++)if(!(this.co_t[h].c<100)){var e=this.co_t[h],a=!1;if(1==s?(15!=this.j_tokugi||2!=this.j_4_muki&&this.j_4_muki,Math.abs(t-e.x)<25&&Math.abs(i-e.y)<23&&(a=!0)):2==s?Math.abs(t-e.x)<54&&i==e.y&&(a=!0):Math.abs(t-e.x)<34&&i==e.y&&(a=!0),a){if(t>e.x?(e.pth=1,e.vx=-7):(e.pth=0,e.vx=7),e.c>=1200&&e.c<1300)e.c=54,e.vy=-25;else if(e.c>=1400&&e.c<1500)e.c=57,e.c1=0;else if(1190==e.c){e.c=55,e.c1=0;var c=Ji(e.x,5),o=Ji(e.y,5);1==e.c5?this.onASwitch(c-5,o-5,c+5,o+5):this.onASwitch(c-10,o-10,c+10,o+10)}else e.c=52,e.vy=-30,14!=this.j_tokugi&&15!=this.j_tokugi||(e.c=55,e.c1=0);1==s&&this.gs.rsAddSound(9)}}}},{key:"checkWater",value:function(t,i){var s=this.maps.getBGCode(t,i);if(4==s)return!0;if(8==s||9==s){if(4==this.maps.getBGCode(t-32,i))return!0}else if(s>=15&&s<=19&&4==this.maps.getBGCode(t,i-32))return!0;return!1}},{key:"tSet",value:function(t,i,s,h){for(var e=this.tdb.options["bc-enemy-number"]?219:1/0,a=0;!(a>e);){if(a>this.t_kazu&&this.co_t.push(new o),this.co_t[a].c<=0){this.co_t[a].init();var c=this.co_t[a];c.c=10,c.c1=h,c.c2=s,c.c3=t,c.c4=i,c.x=t,c.y=i;var _=this.getEnemyDefinition(s);if(null!=_){c.c2=_.nativeCode-5e3,_.native.initFactory(c.c2,_.properties)(c,this),c.controller=_.native.controllerFactory(_.properties);break}switch(s){case 1190:c.c3=t-64,c.c5=0;break;case 1191:c.c2=1190,c.c3=t-64,c.c5=1}break}a++}}},{key:"tSetBoss",value:function(t,i,s,h){var e,a;for(this.tdb.options["bc-enemy-number"]?(e=229,a=220):(e=1/0,a=0);!(a>e);){for(;a>this.t_kazu;)this.co_t.push(new o);if(this.co_t[a].c<=0){var c=this.co_t[a];c.init(),c.c=s,c.c1=0,c.c2=0,c.c3=t,c.c4=i,c.x=t,c.y=i,c.vx=h;var _=this.getEnemyDefinition(s);null!=_&&(c.c=_.nativeCode-5e3,_.native.initFactory(c.c,_.properties)(c,this),c.controller=_.native.controllerFactory(_.properties));break}a++}}},{key:"getEnemyDefinition",value:function(t){var i=this.customParts;if(i&&i[t])return i[t];if(t in Ft.available){var s=Ft.available[t];return{properties:s.properties,native:s,nativeCode:t+5e3}}return null}},{key:"tMove",value:function(){for(var t=!1,i=0;i<=this.t_kazu;i++)if(!(0==this.co_t[i].c||this.co_t[i].x<this.maps.wx-this.gg.di.width&&this.co_t[i].c<1200)){var s=this.co_t[i];null!=s.controller&&s.controller(s,this,i);var h=s.x,e=s.y;switch(s.c){case 1310:default:case 200:case 210:break;case 10:this.maps.wx>=s.c1&&(s.c=s.c2,s.c1=0,s.c2=0);break;case 50:s.c1++,s.c2>=0&&this.yo[s.c2].con>=350&&this.yo[s.c2].con<400&&(e=this.getSHCOY(this.yo[s.c2].x,this.yo[s.c2].y,this.yo[s.c2].x2,this.yo[s.c2].y2,h+15)),s.c1>14&&(s.c=0,this.addScore(10));break;case 52:h+=s.vx,s.vy+=5,s.vy>25&&(s.vy=25),(e+=s.vy)>this.maps.wy+this.gg.di.height&&(s.c=0,this.addScore(10));break;case 54:h+=s.vx,s.vy+=5,s.vy>25&&(s.vy=25),(e+=s.vy)>this.maps.wy+this.gg.di.height&&(s.c=60,s.c1=0);break;case 55:s.c1++,1==s.c1&&this.addScore(10),s.pth=0,s.c1<=3?s.pt=172:s.c1<=6?s.pt=173:s.c1<=9?s.pt=174:(s.pt=174,s.c=0);break;case 57:s.c1++,s.pth=0,s.c1<=3?s.pt=172:s.c1<=6?s.pt=173:s.c1<=9?s.pt=174:(s.pt=174,s.c=65,s.c1=0);break;case 60:if(1==s.c1){e=this.maps.wy_mini-32;for(var a=0;!(a>15);){2==this.scroll_area||4==this.scroll_area?h=32+32*this.ranInt(Ki(this.gg.di.width/32)):3==this.scroll_area||5==this.scroll_area?h=32+32*this.ranInt(Ki(2*this.gg.di.width/32)):(h=32*(Ji(this.co_j.x,5)+this.ranInt(17)-8))<32?h=32:h>32*this.mapWidth&&(h=32*this.mapWidth);var c=this.maps.getBGCode(h+15,e+32+15);if(c<=10||15==c){s.muki=this.ranInt(2),s.c1=2;break}a++}s.pt=0}else s.c1<50?(s.c1++,s.pt=0):s.c1>=50&&(++e>=this.maps.wy_mini&&(s.c=1220),s.pt=140,s.pth=s.muki);break;case 65:s.c1++,s.c1<50?(e=this.maps.wy_mini-32,s.pt=0):s.c1>=50&&(100==this.mhouse_c?(s.c=1430,h=32*this.mhouse_x,e=32*this.mhouse_y,s.pt=0,s.pth=0):s.c=0);break;case 850:if(s.pt=160,s.pth=0,s.c1<=0)(h-=4)-this.maps.wx<=400&&(h=this.maps.wx+384+16,s.c1=2),s.pt=161+this.g_ac,s.pth=0;else if(s.c1<=20){if(s.c1++,8==s.c1){var o=3.140000104904175,_=Ki(12*Math.cos(o),!0,this),r=-1*Ki(12*Math.sin(o),!0,this);this.mSet2(h,e,730,_,r),o=2.7038888931274414,_=Ki(12*Math.cos(o),!0,this),r=-1*Ki(12*Math.sin(o),!0,this),this.mSet2(h,e,730,_,r),o=2.267777919769287,_=Ki(12*Math.cos(o),!0,this),r=-1*Ki(12*Math.sin(o),!0,this),this.mSet2(h,e,730,_,r),o=3.576111078262329,_=Ki(12*Math.cos(o),!0,this),r=-1*Ki(12*Math.sin(o),!0,this),this.mSet2(h,e,730,_,r),o=4.0122222900390625,_=Ki(12*Math.cos(o),!0,this),r=-1*Ki(12*Math.sin(o),!0,this),this.mSet2(h,e,730,_,r),this.gs.rsAddSound(18)}}else(h+=6)-this.maps.wx>=this.gg.di.width&&(s.c=0),s.pt=161+this.g_ac,s.pth=1;break;case 1002:(h-=3)<=this.maps.wx-32&&(s.c=0),h>=this.maps.wx+64+24&&h<=this.maps.wx+this.gg.di.width-64&&(s.c1++,s.c1>30&&(s.c1=0),1==s.c1&&this.mSet(h,e,150)),s.pt=166,s.pth=0;break;case 1003:h>=this.maps.wx+64+24&&h<=this.maps.wx+this.gg.di.width-64&&(s.c1++,s.c1>30&&(s.c1=0),1==s.c1&&this.mSet(h,e,150)),s.pt=166,s.pth=0;break;case 1102:h<=this.maps.wx-32&&(s.c=0),h>=this.maps.wx+112&&h<=this.maps.wx+this.gg.di.width-64&&(s.c1++,s.c1>50&&(s.c1=0),1==s.c1&&(this.maps.getBGCode(h+15,e+32)<20||this.co_j.y<=e+8)&&(this.maps.getBGCode(h+15,e-1)<20||this.co_j.y>=e-8)&&this.mSet(h,e,150)),s.pt=167,s.pth=0;break;case 1103:if(h<=this.maps.wx-32&&(s.c=0),h>=this.maps.wx+112&&h<=this.maps.wx+this.gg.di.width-64&&(s.c1++,s.c1>50&&(s.c1=0),1==s.c1))for(var n=0;n<=315;n+=45){var m=3.14*n/180,p=Ki(12*Math.cos(m),!0,this),g=-1*Ki(12*Math.sin(m),!0,this);this.mSet2(h,e,730,p,g)}s.pt=167,s.pth=0;break;case 1190:s.pt=167,s.pth=0;break;case 1300:(e+=4)%32==0&&(s.c=1310)}if(s.c<100)s.x=h,s.y=e;else{var u=Math.abs(h-this.co_j.x);if(u>=48)s.x=h,s.y=e;else{if(this.co_j.c>=100&&this.co_j.c<200&&u<30&&(Math.abs(e-this.co_j.y)<23||(10==this.j_tokugi||12==this.j_tokugi||13==this.j_tokugi)&&Math.abs(e-this.co_j.y)<28))if(this.j_v_c>0||1==this.jst_fast_run_attack&&Math.abs(this.co_j.vx)>=100||this.j_cannon_c>0&&0==this.j_cannon_type||this.j_cannon_c>0&&this.j_cannon_c<9&&2==this.j_cannon_type||this.j_cannon_c>5&&3==this.j_cannon_type||this.j_cannon_c>5&&4==this.j_cannon_type&&4!=Ki(s.c/100)||this.j_cannon_c>0&&this.j_cannon_c<9&&5==this.j_cannon_type&&4!=Ki(s.c/100)||7==this.j_jump_type){if(1==this.co_j.muki?(s.pth=0,s.vx=3):(s.pth=1,s.vx=-3),s.c>=1200&&s.c<1300)s.c=54,s.vy=-25;else if(s.c>=1400&&s.c<1500)s.c=57,s.c1=0;else if(1190==s.c){s.c=55,s.c1=0;var y=Ji(s.x,5),d=Ji(s.y,5);1==s.c5?this.onASwitch(y-5,d-5,y+5,d+5):this.onASwitch(y-10,d-10,y+10,d+10)}else s.c=52,s.vy=-30,14!=this.j_tokugi&&15!=this.j_tokugi||(s.c=55,s.c1=0);this.gs.rsAddSound(9)}else 3==this.j_enemy_press&&4!=Ki(s.c/100)||(s.c>=400&&s.c<500||s.c>=1e3&&s.c<1200||10==this.j_tokugi||this.j_tokugi>=12&&this.j_tokugi<=15||2==this.j_enemy_press?this.j_muteki_c<=0&&(this.setMyHPDamage("1"),this.getMyHP()<=0&&this.jShinu(2)):(u<27||2==this.easy_mode)&&this.co_j.vy>0&&!this.j_mizu_f||t?(s.pt=142,s.c<200?s.pt=142:s.c<300?s.pt=146:s.c<400?s.pt=151:s.c<600?s.pt=149:s.c<700?s.pt=157:s.c<800?s.pt=159:s.c<900?s.pt=163:s.c<1e3&&(s.pt=165),104!=s.c&&(s.c2=-1),s.c=50,s.c1=0,this.gs.rsAddSound(8),this.co_j.y=e-12,this.co_j.vy=-160,this.j_jump_type=1,this.co_j.c=110,this.co_j.c1=0,this.co_j.pt=109,149!=s.pt&&165!=s.pt||(this.co_j.vy=-220,s.c1=-2),s.c2>=0&&(this.co_j.vy=-180),t=!0):this.j_muteki_c<=0&&(this.setMyHPDamage("1"),this.getMyHP()<=0&&this.jShinu(2)));s.x=h,s.y=e}}}}},{key:"anaCheckNormal",value:function(t,i){for(var s=-1,h=0;!(h>11);){if(this.ana_c[h]>0&&Math.abs(32*this.ana_x[h]-t)<32&&i+32>=32*this.ana_y[h]&&i+16<=32*this.ana_y[h]){s=h;break}h++}return s}},{key:"sakamichiY",value:function(t,i){var s=Ji(t+15,5),h=Ji(i+31,5),e=i;switch(this.maps.map_bg[s][h]){default:break;case 10:var a=32*h-(t+15)%32;a<i&&(e=a);break;case 11:var c=32*h+(t+15)%32-31;c<i&&(e=c);break;case 12:var o=32*h-Ji((t+15)%32,1);o<i&&(e=o);break;case 13:var _=32*h-Ji((t+15)%32,1)-16;_<i&&(e=_);break;case 14:var r=32*h+Ji((t+15)%32,1)-31;r<i&&(e=r);break;case 15:var n=32*h+Ji((t+15)%32,1)-15;n<i&&(e=n)}return e}},{key:"mSet",value:function(t,i,s){for(var h=0;!(h>79);){if(this.co_m[h].c<=0){var e=this.co_m[h];switch(e.c=s,e.x=t,e.y=i,e.c1=0,this.m_kazu++,s){case 90:e.c2=4,e.vx=0,e.vy=0;break;case 95:e.c2=4,e.vx=-14,e.vy=0;break;case 96:e.c=95,e.c2=4,e.vx=14,e.vy=0;break;case 100:var a=this.co_j.x-t,c=this.co_j.y-i,o=Math.floor(Math.sqrt(a*a+c*c));o<48?(this.m_kazu--,e.c=0):(e.vx=Ki(14*a/o),e.vy=Ki(14*c/o),e.x+=Ki(16*e.vx/14),e.y+=Ki(16*e.vy/14)),2!=this.dengeki_mkf&&e.c>0&&4==this.maps.getBGCode(e.x+15,e.y+15)&&(this.m_kazu--,e.c=0);break;case 150:var _=this.co_j.x-t,r=this.co_j.y-i,n=Math.floor(Math.sqrt(_*_+r*r));n<32?(this.m_kazu--,e.c=0):(e.vx=10*_/n,e.vy=10*r/n,e.x+=Ki(16*e.vx/14),e.y+=Ki(16*e.vy/14),11==this.sl_step&&(e.vx+=this.sl_speed)),2!=this.dengeki_mkf&&e.c>0&&4==this.maps.getBGCode(e.x+15,e.y+15)&&(this.m_kazu--,e.c=0);break;case 200:e.c2=0,e.vx=-4-this.ranInt(6),e.vy=-22,e.x+=e.vx,e.y+=e.vy;break;case 201:e.c=200,e.c2=1,e.vx=-4-this.ranInt(6),e.vy=-22,e.x+=e.vx,e.y+=e.vy;break;case 205:e.c=200,e.c2=0,e.vx=4+this.ranInt(6),e.vy=-22,e.x+=e.vx,e.y+=e.vy;break;case 206:e.c=200,e.c2=1,e.vx=4+this.ranInt(6),e.vy=-22,e.x+=e.vx,e.y+=e.vy;break;case 300:e.vx=-12,e.x+=e.vx;break;case 305:e.c=300,e.vx=12,e.x+=e.vx;break;case 400:e.vx=-80,e.vy=-225;break;case 405:e.c=400,e.vx=80,e.vy=-225;break;case 500:e.vx=-4,e.vy=-22;break;case 600:e.vx=-40,e.vy=0;break;case 605:e.c=600,e.vx=40,e.vy=0;break;case 606:e.c=600,e.vx=0,e.vy=0;break;case 2e3:e.c3=i,e.vy=-210;break;case 2010:e.c=2e3,e.c3=i-64,e.vy=-280;break;case 2020:e.c=2e3,e.c3=i-32,e.vy=-250;break;case 2100:e.c2=0;break;case 2110:e.c=2100,e.c2=1;break;case 2120:e.c=2100,e.c2=2;break;case 2130:e.c=2100,e.c2=3;break;case 2140:e.c=2100,e.c2=4;break;case 2150:e.c=2100,e.c2=5;break;case 2160:e.c=2100,e.c2=6;break;case 2170:e.c=2100,e.c2=7;break;case 2171:e.c=2100,e.c2=15;break;case 2172:e.c=2100,e.c2=16;break;case 2180:e.c=2100,e.c2=8;break;case 2181:e.c=2100,e.c2=9;break;case 2182:e.c=2100,e.c2=10;break;case 2185:e.c=2100,e.c2=11;break;case 2186:e.c=2100,e.c2=12;break;case 2187:e.c=2100,e.c2=13;break;case 2188:e.c=2100,e.c2=14}break}h++}}},{key:"mSet2",value:function(t,i,s,h,e){for(var a=0;!(a>79);){if(this.co_m[a].c<=0){var c=this.co_m[a];switch(c.c=s,c.x=t,c.y=i,c.vx=h,c.vy=e,c.c1=0,this.m_kazu++,s){case 75:case 77:case 85:case 87:c.c2=h,c.vy=96;break;case 500:case 550:c.x+=c.vx;break;case 700:c.c2=0;break;case 710:c.c=700,c.c2=1;break;case 711:c.c=700,c.c2=1,c.x=t+3*h,c.y=i+3*e;break;case 720:c.c=700,c.c2=2;break;case 730:c.c=700,c.c2=3;break;case 731:c.c=700,c.c2=4;break;case 732:c.c=700,c.c2=5;break;case 733:c.c=700,c.c2=6;break;case 740:c.x=c.x+2*c.vx,c.y=c.y+2*c.vy;break;case 801:c.c=70,c.c1=1,c.c2=20;break;case 810:c.c=800,c.vy=9999;break;case 900:case 910:case 950:case 960:c.vx=t,c.vy=i,c.c1=0,c.c2=h;break;case 901:c.c=900,c.vx=t,c.vy=i,c.c1=0,c.c2=h,c.c3=1;break;case 911:c.c=910,c.vx=t,c.vy=i,c.c1=0,c.c2=h,c.c3=1;break;case 970:case 980:c.vx=t,c.vy=i,c.c1=10,c.c2=h}break}a++}}},{key:"mMove",value:function(){for(var t=0;t<=79;t++)if(0!=this.co_m[t].c){var i=this.co_m[t];switch(i.c){case 50:i.c1++,i.c1<=5?i.pt=80:i.c1<=10?i.pt=81:i.c1<=16?i.pt=82:i.c=0,i.pth=0;break;case 60:i.y-=5;var s=Ji(i.y,5),h=this.maps.map_bg[Ji(i.x+11,5)][s];(h<=3||h>=20||10==h)&&(i.c=0),((h=this.maps.map_bg[Ji(i.x+20,5)][s])<=3||h>=20||10==h)&&(i.c=0),8!=(h=this.maps.map_bg[Ji(i.x+15,5)][s])&&9!=h||4==this.maps.map_bg[Ji(i.x+15,5)-1][s]||(i.c=0),15==h&&4!=this.maps.map_bg[Ji(i.x+15,5)][s-1]&&(i.c=0),(i.x<=this.maps.wx-32||i.x>=this.maps.wx+this.gg.di.width)&&(i.c=0),(i.y<=this.maps.wy-32||i.y>=this.maps.wy+this.gg.di.height)&&(i.c=0),i.pt=85,i.pth=0;break;case 65:case 610:i.c1++,i.c1<=3?i.pt=172:i.c1<=6?i.pt=173:i.c1<=9?i.pt=174:(i.c=0,i.pt=198),i.pth=0;break;case 70:switch(i.c1++,i.c1){case 1:i.c2=20;break;case 2:i.c2=34;break;case 3:i.c2=46;break;case 4:i.c2=56;break;case 5:i.c2=64;break;case 6:i.c2=70;break;case 7:i.c2=74;break;case 8:i.c2=77;break;case 9:i.c2=79;break;case 10:i.c2=80}if(i.c1>10&&(i.c2=10,i.c=0),this.co_j.c>=100&&this.co_j.c<200){var e=this.co_j.x-i.x,a=this.co_j.y-i.y;Math.floor(Math.sqrt(e*e+a*a))<=i.c2+4&&this.j_v_c<=0&&this.jShinu(1)}i.pt=1100,i.pth=0;break;case 75:i.pt=1200,i.pth=0,i.vy-=6,i.vy<=14&&(i.c=76,i.x=i.x-16,i.vx=i.x+24,i.c3=32,i.pt=1210,i.pth=0),i.c2>=0&&this.co_t[i.c2].c<100&&(i.c=0);break;case 76:i.x-=18,i.x<this.maps.wx-32&&(i.x=this.maps.wx-32),this.maps.map_bg[Ji(i.x,5)][Ji(i.y+15,5)]>=20&&(i.x=32*Ji(i.x,5)+32),i.c3>0?(i.c3--,i.c2>=0&&this.co_t[i.c2].c<100&&i.x+18<i.vx&&(i.c3=0)):(i.vx-=18,i.vx<=i.x+16&&(i.c=0)),this.co_j.c>=100&&this.co_j.c<200&&i.x<=this.co_j.x+31-8&&i.vx-20>=this.co_j.x+8&&Math.abs(i.y-this.co_j.y)<=22&&this.j_v_c<=0&&this.jShinu(1),i.pt=1210,i.pth=0;break;case 77:i.pt=1220,i.pth=0,i.vy-=6,i.vy<=14&&(i.c=78,i.x=i.x-16,i.vx=i.x+24,i.c3=32,i.pt=1230,i.pth=0),i.c2>=0&&this.co_t[i.c2].c<100&&(i.c=0);break;case 78:i.x-=18,i.x<this.maps.wx-32&&(i.x=this.maps.wx-32),this.maps.map_bg[Ji(i.x,5)][Ji(i.y+15,5)]>=20&&(i.x=32*Ji(i.x,5)+32),i.c3>0?(i.c3--,i.c2>=0&&this.co_t[i.c2].c<100&&i.x+18<i.vx&&(i.c3=0)):(i.vx-=18,i.vx<=i.x+16&&(i.c=0)),this.co_j.c>=100&&this.co_j.c<200&&i.x<=this.co_j.x+31-8&&i.vx-20>=this.co_j.x+8&&Math.abs(i.y-this.co_j.y)<=26&&this.j_v_c<=0&&this.jShinu(1),i.pt=1230,i.pth=0;break;case 80:i.vy>=5&&(i.vx>2?i.vx--:i.vx<-2&&i.vx++),i.x+=i.vx,i.vy+=4,i.vy>30&&(i.vy=30),i.y+=i.vy,i.y>=this.maps.wy+this.gg.di.height&&(i.c=0),i.pt=136,i.vx<0?i.pth=0:i.pth=1;break;case 85:i.pt=1200,i.pth=0,i.vy-=6,i.vy<=14&&(i.c=86,i.x=i.x+32+16,i.vx=i.x-24,i.c3=32,i.pt=1215,i.pth=0),i.c2>=0&&this.co_t[i.c2].c<100&&(i.c=0);break;case 86:i.x+=18,i.x>this.maps.wx+this.gg.di.width+16&&(i.x=this.maps.wx+this.gg.di.width+16),this.maps.map_bg[Ji(i.x,5)][Ji(i.y+15,5)]>=20&&(i.x=32*Ji(i.x,5)-1),i.c3>0?(i.c3--,i.c2>=0&&this.co_t[i.c2].c<100&&i.x+18<i.vx&&(i.c3=0)):(i.vx+=18,i.vx>=i.x-16&&(i.c=0)),this.co_j.c>=100&&this.co_j.c<200&&i.x>=this.co_j.x+8&&i.vx+20<=this.co_j.x+24&&Math.abs(i.y-this.co_j.y)<=22&&this.j_v_c<=0&&this.jShinu(1),i.pt=1215,i.pth=0;break;case 87:i.pt=1220,i.pth=0,i.vy-=6,i.vy<=14&&(i.c=88,i.x=i.x+32+16,i.vx=i.x-24,i.c3=32,i.pt=1235,i.pth=0),i.c2>=0&&this.co_t[i.c2].c<100&&(i.c=0);break;case 88:i.x+=18,i.x>this.maps.wx+this.gg.di.width+16&&(i.x=this.maps.wx+this.gg.di.width+16),this.maps.map_bg[Ji(i.x,5)][Ji(i.y+15,5)]>=20&&(i.x=32*Ji(i.x,5)-1),i.c3>0?(i.c3--,i.c2>=0&&this.co_t[i.c2].c<100&&i.x+18<i.vx&&(i.c3=0)):(i.vx+=18,i.vx>=i.x-16&&(i.c=0)),this.co_j.c>=100&&this.co_j.c<200&&i.x>=this.co_j.x+8&&i.vx+20<=this.co_j.x+24&&Math.abs(i.y-this.co_j.y)<=26&&this.j_v_c<=0&&this.jShinu(1),i.pt=1235,i.pth=0;break;case 90:if(i.c2<48){if(i.c2+=4,i.c2>=48){i.c2=48;var c=this.co_j.x-i.x,o=this.co_j.y-i.y,_=Math.floor(Math.sqrt(c*c+o*o));_<32||this.co_j.c<100||this.co_j.c>=200?(i.x<this.maps.wx+256?i.vx=14:i.vx=-14,i.vy=0):(i.vx=Ki(14*c/_),i.vy=Ki(14*o/_))}}else i.x+=i.vx,i.y+=i.vy,(i.x<=this.maps.wx-32-32||i.x>=this.maps.wx+this.gg.di.width+128+32||i.y<=this.maps.wy-32-200-32||i.y>=this.maps.wy+this.gg.di.height+32)&&(i.c=0);if(this.co_j.c>=100&&this.co_j.c<200){var r=this.co_j.x-i.x,n=this.co_j.y-i.y;Math.floor(Math.sqrt(r*r+n*n))+4<=i.c2&&(this.j_v_c>0?i.c=0:this.jShinu(1))}i.pt=1e3;break;case 95:if(i.c2<64?(i.c2+=4,i.c2>=64&&(i.c2=64)):(i.x+=i.vx,i.y+=i.vy,(i.x<=this.maps.wx-32-64||i.x>=this.maps.wx+this.gg.di.width+128+64||i.y<=this.maps.wy-32-200-64||i.y>=this.maps.wy+this.gg.di.height+64)&&(i.c=0)),this.co_j.c>=100&&this.co_j.c<200){var m=this.co_j.x-i.x,p=this.co_j.y-i.y;Math.floor(Math.sqrt(m*m+p*p))+4<=i.c2&&(this.j_v_c>0?i.c=0:this.jShinu(1))}i.pt=1010;break;case 100:i.x+=i.vx,i.y+=i.vy;var g=Ji(i.x+15,5);(this.maps.map_bg[g][Ji(i.y+12,5)]>=20||this.maps.map_bg[g][Ji(i.y+18,5)]>=20)&&(i.c=0),2!=this.dengeki_mkf&&4==this.maps.getBGCode(i.x+15,i.y+15)&&(i.c=0),(i.x<=this.maps.wx-32||i.x>=this.maps.wx+this.gg.di.width+128||i.y<=this.maps.wy-32-200||i.y>=this.maps.wy+this.gg.di.height)&&(i.c=0),0==this.g_c1?(i.pt=120,i.pth=0):(i.pt=121,i.pth=0);break;case 150:i.x+=i.vx,i.y+=i.vy,this.maps.map_bg[Ji(i.x+15,5)][Ji(i.y+15,5)]>=20&&(i.c=0),2!=this.dengeki_mkf&&4==this.maps.getBGCode(i.x+15,i.y+15)&&(i.c=0),(i.x<=this.maps.wx-32||i.x>=this.maps.wx+this.gg.di.width+128||i.y<=this.maps.wy-32-200||i.y>=this.maps.wy+this.gg.di.height)&&(i.c=0),0==this.g_c1?(i.pt=120,i.pth=0):(i.pt=121,i.pth=0);break;case 200:i.x+=i.vx,i.vy+=2,i.vy>12&&(i.vy=12);var u=i.vy;if(u<-18&&(u=-18),i.y+=u,i.y>=this.maps.wy+this.gg.di.height&&(i.c=0),1==i.c2){var y=Ji(i.x+15,5);(this.maps.map_bg[y][Ji(i.y+12,5)]>=20||this.maps.map_bg[y][Ji(i.y+20,5)]>=20)&&(i.c=0)}switch(this.g_c2){case 0:i.pt=122;break;case 1:i.pt=123;break;case 2:i.pt=124;break;case 3:i.pt=125}i.pth=0;break;case 300:i.x+=i.vx;var d=Ji(i.y+15,5);(this.maps.map_bg[Ji(i.x+8,5)][d]>=20||this.maps.map_bg[Ji(i.x+23,5)][d]>=20)&&(i.c=0),(i.x<=this.maps.wx-32||i.x>=this.maps.wx+this.gg.di.width+128)&&(i.c=0),0==this.g_c1?i.pt=126:i.pt=127,i.vx<=0?i.pth=0:i.pth=1;break;case 400:i.x+=Ki(i.vx/10),i.vy+=25,i.vy>180&&(i.vy=180),i.y+=Ki(i.vy/10),i.y>=this.maps.wy+this.gg.di.height&&(i.c=0);var f=Ji(i.x+15,5);this.maps.map_bg[f][Ji(i.y+15,5)]>=20&&(i.c=0),0==this.g_c1?i.pt=128:i.pt=129,i.vx<=0?i.pth=0:i.pth=1;break;case 500:i.vy>=5&&(i.vx>2?i.vx--:i.vx<-2&&i.vx++),i.x+=i.vx,i.vy+=2,i.vy>12&&(i.vy=12);var j=i.vy;j<-16&&(j=-16),i.y+=j,i.y>=this.maps.wy+this.gg.di.height&&(i.c=0),i.pt=139,i.pth=0;break;case 550:i.vy>=5&&(i.vx>2?i.vx--:i.vx<-2&&i.vx++),i.x+=i.vx,i.vy-=2,i.vy<-12&&(i.vy=-12);var l=i.vy;l<-16&&(l=-16),i.y+=l,i.y<=this.maps.wy-32&&(i.c=0),i.pt=139,i.pth=0;break;case 600:i.vx>0?i.vx-=2:i.vx<0&&(i.vx+=2),i.x+=Ki(i.vx/10),i.vy+=8,i.vy>200&&(i.vy=200),i.y+=Ki(i.vy/10),this.maps.map_bg[Ji(i.x+15,5)][Ji(i.y+15,5)]>=20&&(i.c=610,i.c1=0,i.y=32*Ji(i.y+15,5)-16,this.gs.rsAddSound(19)),(i.x<=this.maps.wx-32-64||i.x>=this.maps.wx+this.gg.di.width+64||i.y<=this.maps.wy-32-200||i.y>=this.maps.wy+this.gg.di.height)&&(i.c=0),i.vx>28?(i.pt=171,i.pth=1):i.vx<-28?(i.pt=171,i.pth=0):(i.pt=170,i.pth=0);break;case 700:i.x+=i.vx,i.y+=i.vy,(i.x<=this.maps.wx-32||i.x>=this.maps.wx+this.gg.di.width+32||i.y<=this.maps.wy-64||i.y>=this.maps.wy+this.gg.di.height+64)&&(i.c=0);var v=this.maps.getBGCode(i.x+15,i.y+15);if(0==i.c2&&v>=20&&(i.c=0),0==i.c2&&v<=3&&(i.c=0),(3==i.c2||4==i.c2||5==i.c2||6==i.c2)&&v>=20&&(i.c=0),i.pt=168+this.g_c1,i.pth=0,2==i.c2)i.pt=134;else if(4==i.c2){switch(this.g_c2){case 0:i.pt=122;break;case 1:i.pt=123;break;case 2:i.pt=124;break;case 3:i.pt=125}i.vx<=0?i.pth=0:i.pth=1}else 5==i.c2?(0==this.g_c1?i.pt=128:i.pt=129,i.vx<=0?i.pth=0:i.pth=1):6==i.c2&&(0==this.g_c1?i.pt=120:i.pt=121,i.vx<=0?i.pth=0:i.pth=1);break;case 740:i.x+=i.vx,i.y+=i.vy,(i.x<=this.maps.wx-32||i.x>=this.maps.wx+this.gg.di.width+32||i.y<=this.maps.wy-64||i.y>=this.maps.wy+this.gg.di.height+64)&&(i.c=0),i.pt=139,i.pth=0;break;case 800:9999==i.vy?(i.x+=i.vx,(i.x<=this.maps.wx-16||i.x>=this.maps.wx+this.gg.di.width-16)&&(i.c=0),(this.maps.getBGCode(i.x,i.y+15)>=20||this.maps.getBGCode(i.x+31,i.y+15)>=20)&&(i.c=70,i.c1=1,i.c2=20)):(i.vy>=5&&(i.vx>2?i.vx--:i.vx<-2&&i.vx++),i.x+=i.vx,i.vy+=4,i.vy>28&&(i.vy=28),i.y+=i.vy,i.y>=this.maps.wy+this.gg.di.height&&(i.c=0),this.maps.getBGCode(i.x+15,i.y+31)>=20&&(i.c=70,i.y=32*Ji(i.y+31,5)-16,i.c1=1,i.c2=20)),i.pt=137+this.g_c1,i.vx<0?i.pth=0:i.pth=1;break;case 900:i.c1+=4,i.c1<128||i.c1<192?i.c2+=3:i.c1<256||i.c1<288?i.c2+=2:(i.c1<384||i.c1,i.c2++),i.c2>=360&&(i.c2-=360),i.c1>576&&(i.c=0),i.x=i.vx+Ki(Math.cos(3.14*i.c2/180)*i.c1,!0,this),i.y=i.vy+Ki(-1*Math.sin(3.14*i.c2/180)*i.c1,!0,this),1==i.c3?(i.pt=168+this.g_c1,i.pth=0):(i.pt=134,i.pth=0);break;case 910:i.c1+=4,i.c1<128||i.c1<192?i.c2-=3:i.c1<256||i.c1<288?i.c2-=2:(i.c1<384||i.c1,i.c2--),i.c2<0&&(i.c2+=360),i.c1>576&&(i.c=0),i.x=i.vx+Ki(Math.cos(3.14*i.c2/180)*i.c1,!0,this),i.y=i.vy+Ki(-1*Math.sin(3.14*i.c2/180)*i.c1,!0,this),1==i.c3?(i.pt=168+this.g_c1,i.pth=0):(i.pt=134,i.pth=0);break;case 950:i.c1+=4,i.c1<128||i.c1<192?i.c2+=3:i.c1<256||i.c1<288?i.c2+=2:(i.c1<384||i.c1,i.c2++),i.c2>=360&&(i.c2-=360),i.c1>204&&(i.c=0),i.x=i.vx+Ki(Math.cos(3.14*i.c2/180)*i.c1,!0,this),i.y=i.vy+Ki(-1*Math.sin(3.14*i.c2/180)*i.c1,!0,this),i.pt=168+this.g_c1,i.pth=0;break;case 960:i.c1+=4,i.c1<128||i.c1<192?i.c2-=3:i.c1<256||i.c1<288?i.c2-=2:(i.c1<384||i.c1,i.c2--),i.c2<0&&(i.c2+=360),i.c1>204&&(i.c=0),i.x=i.vx+Ki(Math.cos(3.14*i.c2/180)*i.c1,!0,this),i.y=i.vy+Ki(-1*Math.sin(3.14*i.c2/180)*i.c1,!0,this),i.pt=168+this.g_c1,i.pth=0;break;case 970:i.c1+=4,i.c1<128||i.c1<192||i.c1<256?i.c2+=5:i.c1<288?i.c2+=4:i.c1<384?i.c2+=3:(i.c1,i.c2+=2),i.c2>=360&&(i.c2-=360),i.c1>80&&(i.c1=80,i.vx-=6),i.vx<this.maps.wx-100&&(i.c=0),i.x=i.vx+Ki(Math.cos(3.14*i.c2/180)*i.c1,!0,this),i.y=i.vy+Ki(-1*Math.sin(3.14*i.c2/180)*i.c1,!0,this),i.pt=168+this.g_c1,i.pth=0;break;case 980:i.c1+=4,i.c1<128||i.c1<192||i.c1<256?i.c2-=5:i.c1<288?i.c2-=4:i.c1<384?i.c2-=3:(i.c1,i.c2-=2),i.c2<0&&(i.c2+=360),i.c1>80&&(i.c1=80,i.vx+=6),i.vx>this.maps.wx+this.gg.di.width+100&&(i.c=0),i.x=i.vx+Ki(Math.cos(3.14*i.c2/180)*i.c1,!0,this),i.y=i.vy+Ki(-1*Math.sin(3.14*i.c2/180)*i.c1,!0,this),i.pt=168+this.g_c1,i.pth=0;break;case 2e3:i.vy+=30,i.vy>180&&(i.vy=180),i.y+=Ki(i.vy/10),i.vy>=0&&i.y>=i.c3&&(i.y=i.c3,i.vy=0),(this.scroll_area<2||this.scroll_area>5)&&14!=this.j_tokugi&&15!=this.j_tokugi&&(i.x<=this.maps.wx-32||i.x>=this.maps.wx+this.gg.di.width)&&(i.c=0),i.pt=90+this.g_ac2,i.pth=0;break;case 2100:(this.scroll_area<2||this.scroll_area>5)&&14!=this.j_tokugi&&15!=this.j_tokugi&&11!=i.c2&&(i.x<=this.maps.wx-32||i.x>=this.maps.wx+this.gg.di.width)&&(i.c=0),i.pt=42+i.c2,8==i.c2?i.pt=59:9==i.c2?i.pt=109:10==i.c2?i.pt=107:11==i.c2?i.pt=97:12==i.c2||13==i.c2||14==i.c2?i.pt=42:15==i.c2?i.pt=49:16==i.c2&&(i.pt=1300),i.pth=0;break;case 2200:i.x<this.maps.wx?i.x=this.maps.wx:i.x>this.maps.wx+this.gg.di.width-32&&(i.x=this.maps.wx+this.gg.di.width-32),i.y<this.maps.wy+64?i.y=this.maps.wy+64:i.y>this.maps.wy+this.gg.di.height-96&&(i.y=this.maps.wy+this.gg.di.height-96),this.stage_max>=2&&this.stage>=this.stage_max?0==this.g_ac2?i.pt=99:i.pt=98:0==this.g_ac2?i.pt=95:i.pt=94,i.pth=0}if((100==i.c||300==i.c||400==i.c||600==i.c||700==i.c&&(3==i.c2||4==i.c2||5==i.c2||6==i.c2)||800==i.c)&&this.yuka_id_max>=0)for(var x=0;x<=this.yuka_id_max;x++)if(this.yo[x].con>=300&&this.yo[x].con<350){var k=this.getSCOY(this.yo[x].x,this.yo[x].y,this.yo[x].x2,this.yo[x].y2,i.x+15);if(k<0||k+8>i.y||k+39<i.y)continue;if(600==i.c){i.y=k+16,i.c=610,i.c1=0,this.gs.rsAddSound(19);continue}800==i.c?(i.c=70,i.y=k+16,i.c1=1,i.c2=20):i.c=0}else if(this.yo[x].con>=350&&this.yo[x].con<400){var w=this.getSHCOY(this.yo[x].x,this.yo[x].y,this.yo[x].x2,this.yo[x].y2,i.x+15);if(w<0||w+8>i.y||w+39<i.y)continue;if(600==i.c){i.y=w+16,i.c=610,i.c1=0,this.gs.rsAddSound(19);continue}800==i.c?(i.c=70,i.y=w+16,i.c1=1,i.c2=20):i.c=0}else if(this.yo[x].con>=400&&this.yo[x].con<450){var b=this.getSWUpOY(this.yo[x].x,this.yo[x].y,this.yo[x].x2,this.yo[x].y2,i.x+15);if(b<0||b+8>i.y||b+39<i.y)continue;if(600==i.c){i.y=b+16,i.c=610,i.c1=0,this.gs.rsAddSound(19);continue}800==i.c?(i.c=70,i.y=b+16,i.c1=1,i.c2=20):i.c=0}else if(!(this.yo[x].con<450||this.yo[x].con>=500)){var S=this.getSWDownOY(this.yo[x].x,this.yo[x].y,this.yo[x].x2,this.yo[x].y2,i.x+15);S<0||S+8>i.y||S+39<i.y||(600!=i.c?800==i.c?(i.c=70,i.y=S+16,i.c1=1,i.c2=20):i.c=0:(i.y=S+16,i.c=610,i.c1=0,this.gs.rsAddSound(19)))}if(0!=i.c){if(!(this.co_j.c<100||this.co_j.c>=200))if(i.c>=2e3){if(Math.abs(i.x-this.co_j.x)>14||i.y>this.co_j.y+26||i.y+15<this.co_j.y)continue;if(this.addScore(5),2e3==i.c)this.gs.rsAddSound(6);else if(2100==i.c)if(this.gs.rsAddSound(7),0==i.c2)this.j_fire_f=!0,this.j_fire_type=this.default_j_fire_type,7==this.j_tokugi&&(this.j_fire_type=2),3==this.j_fire_type||4==this.j_fire_type?this.j_fire_range=10:2==this.j_fire_type&&(this.j_fire_range=9999);else if(1==i.c2)this.j_v_c=150,this.j_v_kakudo=0;else if(2==i.c2)this.time_max>0&&(this.time+=3e4);else if(3==i.c2)this.j_jet_fuel+=80;else if(4==i.c2)this.j_helm_f=!0;else if(5==i.c2)this.j_tail_f=!0;else if(6==i.c2)this.j_drell_f=!0;else if(7==i.c2)this.j_gr_kazu++;else if(8==i.c2)if(17==this.j_tokugi){var M=this.getMyHP();M<10&&this.setMyHP(String(M+1))}else this.j_left++;else if(9==i.c2)this.j_double_f=!0;else if(10==i.c2){if(0==this.co_mu[0].c){this.co_mu[0].c=100,100!=this.co_b.c&&200!=this.co_b.c&&300!=this.co_b.c||(this.boss_hp=this.boss_hp_max+=10);for(var C=0;C<=7;C++){var I=this.mu_ato_p-C;I<0&&(I+=32),this.mu_ato_x[I]=this.co_j.x,this.mu_ato_y[I]=this.co_j.y}var B=this.mu_ato_p-7;B<0&&(B+=32),this.co_mu[0].x=this.mu_ato_x[B],this.co_mu[0].y=this.mu_ato_y[B]}else if(0==this.co_mu[1].c){this.co_mu[1].c=100,100!=this.co_b.c&&200!=this.co_b.c&&300!=this.co_b.c||(this.boss_hp=this.boss_hp_max+=10);for(var G=8;G<=14;G++){var z=this.mu_ato_p-G;z<0&&(z+=32),this.mu_ato_x[z]=this.co_mu[0].x,this.mu_ato_y[z]=this.co_mu[0].y}var A=this.mu_ato_p-14;A<0&&(A+=32),this.co_mu[1].x=this.mu_ato_x[A],this.co_mu[1].y=this.mu_ato_y[A]}}else 11==i.c2?100==this.spot_c&&(this.spot_r+=48,this.spot_r>400&&(this.spot_c=0)):12==i.c2?(this.j_fire_f=!0,this.j_fire_type=2,this.j_fire_range=9999):13==i.c2?(this.j_fire_f=!0,this.j_fire_type=1):14==i.c2?(this.j_fire_f=!0,this.j_fire_type=4,this.j_fire_range=10):15==i.c2?this.j_gr_kazu+=5:16==i.c2&&(this.cpoint_con=100,this.cpoint_stage=this.stage,this.cpoint_x=i.x,this.cpoint_y=i.y);else 2200==i.c&&(this.stage_cc=1,this.stage_max>=2&&this.stage>=this.stage_max?this.addScore(995):this.addScore(95),this.gs.rsAddSound(2));i.c=0,this.m_kazu--}else if(!(i.c<100)){var P=!1;14==this.j_tokugi||15==this.j_tokugi?Math.abs(i.x-this.co_j.x)<=22&&Math.abs(i.y-this.co_j.y)<=22&&(P=!0):Math.abs(i.x-this.co_j.x)<=23&&Math.abs(i.y-this.co_j.y)<=28&&(P=!0),P&&(this.j_v_c>0||this.j_cannon_c>0&&2==this.j_cannon_type||this.j_cannon_c>5&&3==this.j_cannon_type||7==this.j_jump_type?(i.c=0,this.m_kazu--):(this.j_muteki_c<=0&&(this.setMyHPDamage("1"),this.getMyHP()<=0&&this.jShinu(1)),800==i.c&&(i.c=70,i.c1=1,i.c2=20)))}}else this.m_kazu--}}},{key:"jmSet",value:function(t,i,s){for(var h=0;!(h>1);){if(this.co_jm[h].c<=0){var e=this.co_jm[h];switch(e.c=s,e.x=t,e.y=i+8,e.c1=0,e.c2=0,this.jm_kazu++,s){case 60:case 65:e.x=t+16,e.y=i,e.vx=t+16,e.c4=8,this.j_gr_kazu--,this.gs.rsAddSound(23);break;case 100:e.vx=Ki(this.co_j.vx/10)-10,e.vy=-28,Math.abs(e.vx)<2&&(e.vx=-2),14==this.j_tokugi?(e.c=101,e.y=i,e.vx=-16,e.vy=0):15==this.j_tokugi?(e.c=101,e.y=i,e.vx=-16,e.vy=0,2==this.j_4_muki?(e.vx=0,e.vy=-16):3==this.j_4_muki&&(e.vx=0,e.vy=16)):3==this.j_fire_type?(e.c=101,e.y=i,e.vx=-20,e.vy=0):2==this.j_fire_type&&(e.c=101,e.y=i,e.vx=Ki(this.co_j.vx/10)-12,e.vy=0,Math.abs(e.vx)<6&&(e.vx=-6)),this.gs.rsAddSound(23);break;case 105:e.vx=Ki(this.co_j.vx/10)+10,e.vy=-28,Math.abs(e.vx)<2&&(e.vx=2),14==this.j_tokugi?(e.c=106,e.y=i,e.vx=16,e.vy=0):15==this.j_tokugi?(e.c=106,e.y=i,e.vx=16,e.vy=0,2==this.j_4_muki?(e.vx=0,e.vy=-16):3==this.j_4_muki&&(e.vx=0,e.vy=16)):3==this.j_fire_type?(e.c=106,e.y=i,e.vx=20,e.vy=0):2==this.j_fire_type&&(e.c=106,e.y=i,e.vx=Ki(this.co_j.vx/10)+12,e.vy=0,Math.abs(e.vx)<6&&(e.vx=6)),this.gs.rsAddSound(23);break;case 110:e.x=t,e.y=i,e.vx=-10,e.vy=-10,this.gs.rsAddSound(23);break;case 115:e.c=110,e.x=t,e.y=i,e.vx=10,e.vy=-10,this.gs.rsAddSound(23);break;case 200:e.vx=Ki(this.co_j.vx/10)-10,e.vy=-35,Math.abs(e.vx)<2&&(e.vx=-2),5!=this.grenade_type&&6!=this.grenade_type||(e.y=i,e.vx=-20,e.vy=0),this.j_gr_kazu--,this.gs.rsAddSound(23);break;case 205:e.c=200,14==this.j_tokugi?(e.vx=10,e.vy=0):(e.vx=Ki(this.co_j.vx/10)+10,e.vy=-35,Math.abs(e.vx)<2&&(e.vx=2)),5!=this.grenade_type&&6!=this.grenade_type||(e.y=i,e.vx=20,e.vy=0),this.j_gr_kazu--,this.gs.rsAddSound(23);break;case 1206:e.c=200,e.c4=2,e.x=t+16-10,e.y=i,e.vx=20,e.vy=0,this.j_gr_kazu--,this.gs.rsAddSound(23);break;case 1207:e.c=200,e.c4=2,e.x=t+16+10,e.y=i,e.vx=-20,e.vy=0,this.j_gr_kazu--,this.gs.rsAddSound(23)}break}h++}}},{key:"jmSet2",value:function(t,i,s,h){var e=h;if(!(this.co_jm[e].c>0)){var a=this.co_jm[e];switch(a.c=s,a.x=t,a.y=i+8,a.c1=0,a.c2=0,a.c4=0,this.jm_kazu++,s){default:break;case 50:a.x=t,a.y=i,a.c=50,a.c1=1,a.c2=20,this.j_gr_kazu--,this.gs.rsAddSound(23);break;case 60:case 65:a.x=t+16,a.y=i,a.vx=t+16,a.c4=8,this.j_gr_kazu--,this.gs.rsAddSound(23);break;case 100:a.vx=Ki(this.co_j.vx/10)-10,a.vy=-28,Math.abs(a.vx)<2&&(a.vx=-2),14==this.j_tokugi?(a.c=101,a.y=i,a.vx=-16,a.vy=0):15==this.j_tokugi&&(a.c=101,a.y=i,a.vx=-16,a.vy=0,2==this.j_4_muki?(a.vx=0,a.vy=-16):3==this.j_4_muki&&(a.vx=0,a.vy=16)),this.gs.rsAddSound(23);break;case 105:a.vx=Ki(this.co_j.vx/10)+10,a.vy=-28,Math.abs(a.vx)<2&&(a.vx=2),14==this.j_tokugi?(a.c=106,a.y=i,a.vx=16,a.vy=0):15==this.j_tokugi&&(a.c=106,a.y=i,a.vx=16,a.vy=0,2==this.j_4_muki?(a.vx=0,a.vy=-16):3==this.j_4_muki&&(a.vx=0,a.vy=16)),this.gs.rsAddSound(23);break;case 200:a.vx=Ki(this.co_j.vx/10)-10,a.vy=-35,Math.abs(a.vx)<2&&(a.vx=-2),5!=this.grenade_type&&6!=this.grenade_type&&15!=this.j_tokugi||(a.y=i,a.vx=-20,a.vy=0,15==this.j_tokugi&&(2==this.j_4_muki?(a.vx=0,a.vy=-20):3==this.j_4_muki&&(a.vx=0,a.vy=20))),this.j_gr_kazu--,this.gs.rsAddSound(23);break;case 205:a.c=200,14==this.j_tokugi?(a.vx=10,a.vy=0):(a.vx=Ki(this.co_j.vx/10)+10,a.vy=-35,Math.abs(a.vx)<2&&(a.vx=2)),5!=this.grenade_type&&6!=this.grenade_type&&15!=this.j_tokugi||(a.y=i,a.vx=20,a.vy=0,15==this.j_tokugi&&(2==this.j_4_muki?(a.vx=0,a.vy=-20):3==this.j_4_muki&&(a.vx=0,a.vy=20))),this.j_gr_kazu--,this.gs.rsAddSound(23);break;case 206:a.c=200,a.c4=2,a.x=t+16,a.y=i,a.vx=16,a.vy=0,this.gs.rsAddSound(23);break;case 207:a.c=200,a.c4=2,a.x=t-16,a.y=i,a.vx=-16,a.vy=0,this.gs.rsAddSound(23);break;case 208:a.c=200,a.c4=2,a.y=i-16,a.vx=0,a.vy=-16,this.gs.rsAddSound(23);break;case 209:a.c=200,a.c4=2,a.y=i+24,a.vx=0,a.vy=18,this.gs.rsAddSound(23)}}}},{key:"jmMove",value:function(){for(var t=0;t<=8;t++)if(0!=this.co_jm[t].c){var i=this.co_jm[t];switch(i.c){case 50:switch(i.c1++,i.c1){case 1:i.c2=20;break;case 2:i.c2=34;break;case 3:i.c2=46;break;case 4:i.c2=56;break;case 5:i.c2=64;break;case 6:i.c2=70;break;case 7:i.c2=74;break;case 8:i.c2=77;break;case 9:i.c2=79;break;case 10:i.c2=80}if(i.c1>10&&(i.c2=10,i.c=0),2==i.c4&&10==i.c1){var s=Ji(i.x+15,5),h=Ji(i.y+15,5);i.x=32*s,i.y=32*h;for(var e=-1;e<=1;e++)for(var a=-1;a<=1;a++)s+a>=1&&s+a<=this.mapWidth&&h+e>=10&&h+e<=this.mapHeight+9&&20==this.maps.map_bg[s+a][h+e]&&this.maps.putBGCode(s+a,h+e,0)}if(7==this.grenade_type){i.c2+=16,10!=this.sl_step&&11!=this.sl_step||(i.x+=this.sl_speed);for(var c=0;c<=79;c++)if(!(this.co_m[c].c<100||this.co_m[c].c>2e3)){var o=this.co_m[c],_=o.x-i.x,r=o.y-i.y;Math.floor(Math.sqrt(_*_+r*r))<=i.c2+8&&(o.c=0,this.m_kazu--)}}for(var n=0;n<=this.t_kazu;n++)if(!(this.co_t[n].c<100)){var m=this.co_t[n],p=m.x-i.x,g=m.y-i.y;if(!(Math.floor(Math.sqrt(p*p+g*g))>i.c2+8)){if(i.x>m.x?(m.pth=1,m.vx=-3):(m.pth=0,m.vx=3),m.c>=1200&&m.c<1300)m.c=54,m.vy=-25;else if(m.c>=1400&&m.c<1500)m.c=57,m.c1=0;else if(1190==m.c){m.c=55,m.c1=0;var u=Ji(m.x,5),y=Ji(m.y,5);1==m.c5?this.onASwitch(u-5,y-5,u+5,y+5):this.onASwitch(u-10,y-10,u+10,y+10)}else m.c=52,m.vy=-25,14!=this.j_tokugi&&15!=this.j_tokugi||(m.c=55,m.c1=0);this.gs.rsAddSound(9)}}if((1==this.grenade_type||5==this.grenade_type)&&this.co_b.c>=100){var d=this.co_b.x-i.x,f=this.co_b.y-i.y;Math.floor(Math.sqrt(d*d+f*f))<=i.c2+20&&(14==this.j_tokugi||15==this.j_tokugi?this.co_b.killNormalAttack(this):this.co_b.killGrenade(this,i.x>this.co_b.x?1:0))}i.pt=1e3,i.pth=0;break;case 60:i.y=this.co_j.y,i.x-=28,i.x<=this.maps.wx-32&&(i.x=this.maps.wx-32),i.c4>0?(i.c4--,i.vx=this.co_j.x+16):(i.vx-=28,i.vx<=i.x&&(i.c=0));for(var j=0;j<=this.t_kazu;j++)if(!(this.co_t[j].c<100)){var l=this.co_t[j];if(!(l.x<=i.x-12||l.x>=i.vx+12||Math.abs(l.y-i.y)>=24)){if(l.pth=0,l.vx=-3,l.c>=1200&&l.c<1300)l.c=54,l.vy=-25;else if(l.c>=1400&&l.c<1500)l.c=57,l.c1=0;else if(1190==l.c){l.c=55,l.c1=0;var v=Ji(l.x,5),x=Ji(l.y,5);1==l.c5?this.onASwitch(v-5,x-5,v+5,x+5):this.onASwitch(v-10,x-10,v+10,x+10)}else l.c=52,l.vy=-25,14!=this.j_tokugi&&15!=this.j_tokugi||(l.c=55,l.c1=0);this.gs.rsAddSound(9)}}3==this.grenade_type&&this.co_b.c>=100&&this.co_b.x>i.x-24&&this.co_b.x<i.vx+24&&Math.abs(this.co_b.y-i.y)<36&&(14==this.j_tokugi||15==this.j_tokugi?this.co_b.killNormalAttack(this):this.co_b.killGrenade(this,1)),(this.co_j.c<100||this.co_j.c>=200)&&(i.c=0),i.pt=1200;break;case 65:i.y=this.co_j.y,i.x+=28,i.x>=this.maps.wx+this.gg.di.width+32&&(i.x=this.maps.wx+this.gg.di.width+32),i.c4>0?(i.c4--,i.vx=this.co_j.x+16):(i.vx+=28,i.vx>=i.x&&(i.c=0));for(var k=0;k<=this.t_kazu;k++)if(!(this.co_t[k].c<100)){var w=this.co_t[k];if(!(w.x<=i.vx-12||w.x>=i.x+12||Math.abs(w.y-i.y)>=24)){if(w.pth=0,w.vx=3,w.c>=1200&&w.c<1300)w.c=54,w.vy=-25;else if(w.c>=1400&&w.c<1500)w.c=57,w.c1=0;else if(1190==w.c){w.c=55,w.c1=0;var b=Ji(w.x,5),S=Ji(w.y,5);1==w.c5?this.onASwitch(b-5,S-5,b+5,S+5):this.onASwitch(b-10,S-10,b+10,S+10)}else w.c=52,w.vy=-25,14!=this.j_tokugi&&15!=this.j_tokugi||(w.c=55,w.c1=0);this.gs.rsAddSound(9)}}3==this.grenade_type&&this.co_b.c>=100&&this.co_b.x>i.vx-24&&this.co_b.x<i.x+24&&Math.abs(this.co_b.y-i.y)<36&&(14==this.j_tokugi||15==this.j_tokugi?this.co_b.killNormalAttack(this):this.co_b.killGrenade(this,0)),(this.co_j.c<100||this.co_j.c>=200)&&(i.c=0),i.pt=1205;break;case 100:var M=i.x;i.x+=i.vx,Ji(M+7,5)>Ji(i.x+7,5)&&19==this.maps.getBGCode(M+7,i.y+15)&&this.maps.getBGCode(i.x+7,i.y+15)>=20&&(i.y=32*Ji(i.y+15,5)-24),this.maps.getBGCode(i.x+7,i.y+15)>=20&&(i.c=0),i.vy+=5,i.vy>25&&(i.vy=25);var C=i.y;i.y+=i.vy,i.vy<0&&this.maps.getBGCode(i.x+15,i.y+8)>=20&&(i.c=0);var I=this.maps.getBGCode(i.x+15,i.y+23);if(I>=20||15==I||10==I?(i.y=32*Ji(i.y+23,5)-24,i.vy=-28):Ji(C+23,5)<Ji(i.y+23,5)&&(18!=(I=this.maps.getBGCode(i.x+15,C+23))&&19!=I||(i.y=32*Ji(i.y+23,5)-24,i.vy=-28)),(18==(I=this.maps.getBGCode(i.x+15,i.y+23))||19==I)&&this.getSakamichiY(i.x+15,i.y+23)+8<i.y&&(i.y=this.getSakamichiY(i.x+15,i.y+23)+8,i.vy=-28),this.yuka_id_max>=0&&i.vy>0)for(var B=0;B<=this.yuka_id_max;B++)if(this.yo[B].con>=300&&this.yo[B].con<350){var G=this.getSCOY(this.yo[B].x,this.yo[B].y,this.yo[B].x2,this.yo[B].y2,i.x+15);G>=0&&G+8<=i.y&&G+47>=i.y&&(i.y=G+8,i.vy=-28)}else if(this.yo[B].con>=350&&this.yo[B].con<400){var z=this.getSHCOY(this.yo[B].x,this.yo[B].y,this.yo[B].x2,this.yo[B].y2,i.x+15);z>=0&&z+8<=i.y&&z+47>=i.y&&(i.y=z+8,i.vy=-28)}else if(this.yo[B].con>=400&&this.yo[B].con<450){var A=this.getSWUpOY(this.yo[B].x,this.yo[B].y,this.yo[B].x2,this.yo[B].y2,i.x+15);A>=0&&A+8<=i.y&&A+47>=i.y&&(i.y=A+8,i.vy=-28)}else if(!(this.yo[B].con<450||this.yo[B].con>=500)){var P=this.getSWDownOY(this.yo[B].x,this.yo[B].y,this.yo[B].x2,this.yo[B].y2,i.x+15);P>=0&&P+8<=i.y&&P+47>=i.y&&(i.y=P+8,i.vy=-28)}this.j_fire_mkf||4!=this.maps.getBGCode(i.x+15,i.y+15)||(i.c=0),(i.x<=this.maps.wx-24||i.x>=this.maps.wx+this.gg.di.width-8||i.y<=this.maps.wy-128||i.y>=this.maps.wy+this.gg.di.height+64)&&(i.c=0),i.pt=130+this.g_c2,i.pth=0;break;case 101:if(i.x+=i.vx,i.y+=i.vy,(this.maps.getBGCode(i.x+7,i.y+15)>=20||18==this.maps.getBGCode(i.x+7,i.y+15))&&(i.c=0),this.yuka_id_max>=0)for(var N=0;N<=this.yuka_id_max;N++)if(this.yo[N].con>=300&&this.yo[N].con<350){var O=this.getSCOY(this.yo[N].x,this.yo[N].y,this.yo[N].x2,this.yo[N].y2,i.x+15);O>=0&&O+8<=i.y&&O+47>=i.y&&(i.c=0)}else if(this.yo[N].con>=350&&this.yo[N].con<400){var Y=this.getSHCOY(this.yo[N].x,this.yo[N].y,this.yo[N].x2,this.yo[N].y2,i.x+15);Y>=0&&Y+8<=i.y&&Y+47>=i.y&&(i.c=0)}else if(this.yo[N].con>=400&&this.yo[N].con<450){var T=this.getSWUpOY(this.yo[N].x,this.yo[N].y,this.yo[N].x2,this.yo[N].y2,i.x+15);T>=0&&T+8<=i.y&&T+47>=i.y&&(i.c=0)}else if(!(this.yo[N].con<450||this.yo[N].con>=500)){var E=this.getSWDownOY(this.yo[N].x,this.yo[N].y,this.yo[N].x2,this.yo[N].y2,i.x+15);E>=0&&E+8<=i.y&&E+47>=i.y&&(i.c=0)}i.c2++,i.c2>this.j_fire_range&&(i.c=0),this.j_fire_mkf||4!=this.maps.getBGCode(i.x+15,i.y+15)||(i.c=0),(i.x<=this.maps.wx-24||i.x>=this.maps.wx+this.gg.di.width-8||i.y<=this.maps.wy-24||i.y>=this.maps.wy+this.gg.di.height-8)&&(i.c=0),i.pt=130+this.g_c2,i.pth=0;break;case 105:var R=i.x;i.x+=i.vx,Ji(R+23,5)<Ji(i.x+23,5)&&18==this.maps.getBGCode(R+23,i.y+15)&&this.maps.getBGCode(i.x+23,i.y+15)>=20&&(i.y=32*Ji(i.y+15,5)-24),this.maps.getBGCode(i.x+23,i.y+15)>=20&&(i.c=0),i.vy+=5,i.vy>25&&(i.vy=25);var V=i.y;i.y+=i.vy,i.vy<0&&this.maps.getBGCode(i.x+15,i.y+8)>=20&&(i.c=0);var W=this.maps.getBGCode(i.x+15,i.y+23);if(W>=20||15==W||10==W?(i.y=32*Ji(i.y+23,5)-24,i.vy=-28):Ji(V+23,5)<Ji(i.y+23,5)&&(18!=(W=this.maps.getBGCode(i.x+15,V+23))&&19!=W||(i.y=32*Ji(i.y+23,5)-24,i.vy=-28)),(18==(W=this.maps.getBGCode(i.x+15,i.y+23))||19==W)&&this.getSakamichiY(i.x+15,i.y+23)+8<i.y&&(i.y=this.getSakamichiY(i.x+15,i.y+23)+8,i.vy=-28),this.yuka_id_max>=0&&i.vy>0)for(var F=0;F<=this.yuka_id_max;F++)if(this.yo[F].con>=300&&this.yo[F].con<350){var D=this.getSCOY(this.yo[F].x,this.yo[F].y,this.yo[F].x2,this.yo[F].y2,i.x+15);D>=0&&D+8<=i.y&&D+47>=i.y&&(i.y=D+8,i.vy=-28)}else if(this.yo[F].con>=350&&this.yo[F].con<400){var L=this.getSHCOY(this.yo[F].x,this.yo[F].y,this.yo[F].x2,this.yo[F].y2,i.x+15);L>=0&&L+8<=i.y&&L+47>=i.y&&(i.y=L+8,i.vy=-28)}else if(this.yo[F].con>=400&&this.yo[F].con<450){var H=this.getSWUpOY(this.yo[F].x,this.yo[F].y,this.yo[F].x2,this.yo[F].y2,i.x+15);H>=0&&H+8<=i.y&&H+47>=i.y&&(i.y=H+8,i.vy=-28)}else if(!(this.yo[F].con<450||this.yo[F].con>=500)){var U=this.getSWDownOY(this.yo[F].x,this.yo[F].y,this.yo[F].x2,this.yo[F].y2,i.x+15);U>=0&&U+8<=i.y&&U+47>=i.y&&(i.y=U+8,i.vy=-28)}this.j_fire_mkf||4!=this.maps.getBGCode(i.x+15,i.y+15)||(i.c=0),(i.x<=this.maps.wx-24||i.x>=this.maps.wx+this.gg.di.width-8||i.y<=this.maps.wy-128||i.y>=this.maps.wy+this.gg.di.height+64)&&(i.c=0),i.pt=130+this.g_c2,i.pth=1;break;case 106:if(i.x+=i.vx,i.y+=i.vy,this.maps.getBGCode(i.x+23,i.y+15)>=19&&(i.c=0),this.yuka_id_max>=0)for(var q=0;q<=this.yuka_id_max;q++)if(this.yo[q].con>=300&&this.yo[q].con<350){var K=this.getSCOY(this.yo[q].x,this.yo[q].y,this.yo[q].x2,this.yo[q].y2,i.x+15);K>=0&&K+8<=i.y&&K+47>=i.y&&(i.c=0)}else if(this.yo[q].con>=350&&this.yo[q].con<400){var J=this.getSHCOY(this.yo[q].x,this.yo[q].y,this.yo[q].x2,this.yo[q].y2,i.x+15);J>=0&&J+8<=i.y&&J+47>=i.y&&(i.c=0)}else if(this.yo[q].con>=400&&this.yo[q].con<450){var Z=this.getSWUpOY(this.yo[q].x,this.yo[q].y,this.yo[q].x2,this.yo[q].y2,i.x+15);Z>=0&&Z+8<=i.y&&Z+47>=i.y&&(i.c=0)}else if(!(this.yo[q].con<450||this.yo[q].con>=500)){var X=this.getSWDownOY(this.yo[q].x,this.yo[q].y,this.yo[q].x2,this.yo[q].y2,i.x+15);X>=0&&X+8<=i.y&&X+47>=i.y&&(i.c=0)}i.c2++,i.c2>this.j_fire_range&&(i.c=0),this.j_fire_mkf||4!=this.maps.getBGCode(i.x+15,i.y+15)||(i.c=0),(i.x<=this.maps.wx-24||i.x>=this.maps.wx+this.gg.di.width-8||i.y<=this.maps.wy-24||i.y>=this.maps.wy+this.gg.di.height-8)&&(i.c=0),i.pt=130+this.g_c2,i.pth=1,7!=t&&8!=t||(i.pt=128+this.g_c1);break;case 110:for(var $=-1,Q=9999,tt=0;tt<=this.t_kazu;tt++)if(!(this.co_t[tt].c<100||this.co_t[tt].x<this.maps.wx-15||this.co_t[tt].x>this.maps.wx+this.gg.di.width+15||this.co_t[tt].y<this.maps.wy-15||this.co_t[tt].y>this.maps.wy+this.gg.di.height+15)){var it=Math.abs(this.co_t[tt].x-i.x)+Math.abs(this.co_t[tt].y-i.y);it<Q&&($=tt,Q=it)}$>=0?(this.co_t[$].x<i.x-8?(i.vx-=3,i.vx<-10&&(i.vx=-10)):this.co_t[$].x>i.x+8?(i.vx+=3,i.vx>10&&(i.vx=10)):Math.abs(i.vx)<=3?i.vx=0:i.vx>0?i.vx-=3:i.vx<0&&(i.vx+=3),this.co_t[$].y<i.y-8?(i.vy-=3,i.vy<-10&&(i.vy=-10)):this.co_t[$].y>i.y+8?(i.vy+=3,i.vy>10&&(i.vy=10)):Math.abs(i.vy)<=3?i.vy=0:i.vy>0?i.vy-=3:i.vy<0&&(i.vy+=3)):14==this.j_tokugi?(i.vx+=3,i.vx>10&&(i.vx=10),i.vy-=3,i.vy<-10&&(i.vy=-10)):(0==this.co_j.muki?(i.vx-=3,i.vx<-10&&(i.vx=-10)):(i.vx+=3,i.vx>10&&(i.vx=10)),i.vy-=3,i.vy<-10&&(i.vy=-10)),i.x+=i.vx,i.y+=i.vy,this.maps.getBGCode(i.x+23,i.y+15)>=19&&(i.c=0),this.j_fire_mkf||4!=this.maps.getBGCode(i.x+15,i.y+15)||(i.c=0),(i.x<=this.maps.wx-24||i.x>=this.maps.wx+this.gg.di.width-8||i.y<=this.maps.wy-24||i.y>=this.maps.wy+this.gg.di.height-8)&&(i.c=0),i.pt=130+this.g_c2,i.pth=1,7!=t&&8!=t||(i.pt=128+this.g_c1);break;case 200:i.x+=i.vx,2==i.c4?i.y+=i.vy:(5!=this.grenade_type&&6!=this.grenade_type||15==this.j_tokugi)&&(15!=this.j_tokugi&&(14==this.j_tokugi?(i.vy+=2,i.vy>30&&(i.vy=30)):(i.vy+=5,i.vy>30&&(i.vy=30))),i.y+=i.vy,i.vy>0&&this.maps.getBGCode(i.x+15,i.y+31)>=18&&(i.c=50,i.y=32*Ji(i.y+31,5)-16,i.c1=1,i.c2=20));var st=this.maps.getBGCode(i.x+15,i.y+15);if((st>=18||15==st&&i.vy>=0)&&(i.c=50,i.c1=1,i.c2=20,2==i.c4)){var ht=Ji(i.x+15,5),et=Ji(i.y+15,5);i.x=32*ht,i.y=32*et;for(var at=-1;at<=1;at++)for(var ct=-1;ct<=1;ct++)ht+ct>=1&&ht+ct<=this.mapWidth&&et+at>=10&&et+at<=this.mapHeight+9&&20==this.maps.map_bg[ht+ct][et+at]&&this.gs.rsAddSound(16)}if(this.yuka_id_max>=0&&i.vy>0)for(var ot=0;ot<=this.yuka_id_max;ot++)if(this.yo[ot].con>=300&&this.yo[ot].con<350){var _t=this.getSCOY(this.yo[ot].x,this.yo[ot].y,this.yo[ot].x2,this.yo[ot].y2,i.x+15);_t>=0&&_t+8<=i.y&&_t+47>=i.y&&(i.y=_t+16,i.c=50,i.c1=1,i.c2=20)}else if(this.yo[ot].con>=350&&this.yo[ot].con<400){var rt=this.getSHCOY(this.yo[ot].x,this.yo[ot].y,this.yo[ot].x2,this.yo[ot].y2,i.x+15);rt>=0&&rt+8<=i.y&&rt+47>=i.y&&(i.y=rt+16,i.c=50,i.c1=1,i.c2=20)}else if(this.yo[ot].con>=400&&this.yo[ot].con<450){var nt=this.getSWUpOY(this.yo[ot].x,this.yo[ot].y,this.yo[ot].x2,this.yo[ot].y2,i.x+15);nt>=0&&nt+8<=i.y&&nt+47>=i.y&&(i.y=nt+16,i.c=50,i.c1=1,i.c2=20)}else if(!(this.yo[ot].con<450||this.yo[ot].con>=500)){var mt=this.getSWDownOY(this.yo[ot].x,this.yo[ot].y,this.yo[ot].x2,this.yo[ot].y2,i.x+15);mt>=0&&mt+8<=i.y&&mt+47>=i.y&&(i.y=mt+16,i.c=50,i.c1=1,i.c2=20)}2==i.c4?(i.x<=this.maps.wx-64||i.x>=this.maps.wx+this.gg.di.width+32||i.y<=this.maps.wy-64||i.y>=this.maps.wy+this.gg.di.height+32)&&(i.c=0):(i.x<=this.maps.wx-64||i.x>=this.maps.wx+this.gg.di.width+64||i.y<=this.maps.wy-128||i.y>=this.maps.wy+this.gg.di.height+64)&&(i.c=0),i.pt=137+this.g_c1,i.vx<0?i.pth=0:i.pth=1}if(0!=i.c){if(!(i.c<100))for(var pt=0;pt<=this.t_kazu;pt++)if(!(this.co_t[pt].c<100)){var gt=this.co_t[pt];if(!(Math.abs(i.x-gt.x)>=22||Math.abs(i.y-gt.y)>=22)){if(i.vx<0?(gt.pth=1,gt.vx=-3):(gt.pth=0,gt.vx=3),gt.c>=1200&&gt.c<1300)gt.c=54,gt.vy=-25;else if(gt.c>=1400&&gt.c<1500)gt.c=57,gt.c1=0;else if(gt.c>=1400&&gt.c<1500)gt.c=57,gt.c1=0;else if(1190==gt.c){gt.c=55,gt.c1=0;var ut=Ji(gt.x,5),yt=Ji(gt.y,5);1==gt.c5?this.onASwitch(ut-5,yt-5,ut+5,yt+5):this.onASwitch(ut-10,yt-10,ut+10,yt+10)}else gt.c=52,gt.vy=-25,14!=this.j_tokugi&&15!=this.j_tokugi||(gt.c=55,gt.c1=0);this.gs.rsAddSound(9),200==i.c?(i.c=50,i.c1=1,i.c2=20):(i.c=0,this.jm_kazu--);break}}}else this.jm_kazu--}}},{key:"anaSet",value:function(t,i){for(var s=0;!(s>11);){if(0==this.ana_c[s]){this.ana_c[s]=136,this.ana_x[s]=t,this.ana_y[s]=i,this.ana_kazu++;break}s++}}},{key:"anaSet2",value:function(t,i){for(var s=0;!(s>11);){if(0==this.ana_c[s]){this.ana_c[s]=236,this.ana_x[s]=t,this.ana_y[s]=i,this.ana_kazu++;break}s++}}},{key:"anaMove",value:function(){for(var t=0;t<=11;t++)if(!(this.ana_c[t]<=0||(this.ana_c[t]--,200==this.ana_c[t]&&(this.ana_c[t]=100),this.ana_c[t]>0))){this.maps.putBGCode(this.ana_x[t],this.ana_y[t],20),this.ana_kazu--,this.co_j.c>=100&&this.co_j.c<200&&this.co_j.x+15>=32*this.ana_x[t]&&this.co_j.x+15<=32*this.ana_x[t]+31&&this.co_j.y>32*this.ana_y[t]-32&&this.co_j.y<32*this.ana_y[t]+32&&this.jShinu(1);for(var i=0;i<=this.t_kazu;i++)this.co_t[i].c<60||this.co_t[i].x<=32*this.ana_x[t]-32||this.co_t[i].x>=32*this.ana_x[t]+32||this.co_t[i].y<=32*this.ana_y[t]-32||this.co_t[i].y>=32*this.ana_y[t]+32||(this.co_t[i].c>=1200&&this.co_t[i].c<1300||60==this.co_t[i].c?(this.co_t[i].c=60,this.co_t[i].c1=0):(this.co_t[i].c=0,this.addScore(10)),this.gs.rsAddSound(19))}}},{key:"aSet",value:function(t,i,s,h){for(var e=0;;){if(e>this.a_kazu&&(this.co_a.push(new o),this.vo_x.push([0,0,0,0]),this.vo_y.push([0,0,0,0])),this.co_a[e].c<=0){var a=this.co_a[e];switch(a.c=s,a.c1=h-this.gg.di.width-32,a.c2=h+128,a.x=t,a.y=i,s){case 60:a.pt=200;break;case 70:a.vx=-3,a.c3=0,a.c1=t-this.gg.di.width-150,a.c2=t+150;break;case 71:a.c=70,a.vx=3,a.c3=0,a.c1=t-this.gg.di.width-150,a.c2=t+150;break;case 72:case 2110:a.c=70,a.vx=-2,a.c3=0,a.c1=t-this.gg.di.width-190,a.c2=t+190;break;case 73:case 2120:a.c=70,a.vx=2,a.c3=0,a.c1=t-this.gg.di.width-190,a.c2=t+190;break;case 74:a.c=70,a.vx=-2,a.c3=120,a.c1=t-this.gg.di.width-190,a.c2=t+190;break;case 75:a.c=70,a.vx=2,a.c3=120,a.c1=t-this.gg.di.width-190,a.c2=t+190;break;case 76:a.c=70,a.vx=-2,a.c3=240,a.c1=t-this.gg.di.width-190,a.c2=t+190;break;case 77:a.c=70,a.vx=2,a.c3=240,a.c1=t-this.gg.di.width-190,a.c2=t+190;break;case 78:a.c=70,a.vx=2,a.c3=160,a.c1=t-this.gg.di.width-190,a.c2=t+190,a.c4=2;break;case 79:a.c=70,a.vx=-2,a.c3=380,a.c1=t-this.gg.di.width-190,a.c2=t+190,a.c4=3;break;case 80:a.pt=800,a.c3=1;break;case 81:a.c=80,a.pt=800,a.c3=2;break;case 82:a.c=80,a.pt=800,a.c3=3;break;case 83:a.c=80,a.pt=800,a.c3=4;break;case 85:a.c=85,a.pt=850;break;case 86:a.c=86,a.pt=860;break;case 87:a.c=87,a.pt=860;break;case 88:a.c=88,a.pt=860;break;case 89:a.c=89,a.pt=860;break;case 90:a.x=t+16,a.y=i,a.pt=1200,a.vy=0,a.c=90,a.c1=h-this.gg.di.width-32-256,a.c2=h+128+256,a.c4=this.newYuka(String(1),String(1),String(2),String(2),"line"),this.setYukaColor(String(a.c4),"255","255","255","255");break;case 91:a.x=t+16,a.y=i,a.pt=1200,a.vy=-56,a.c=90,a.c1=h-this.gg.di.width-32-256,a.c2=h+128+256,a.c4=this.newYuka(String(1),String(1),String(2),String(2),"line"),this.setYukaColor(String(a.c4),"255","255","255","255");break;case 92:a.x=t+16,a.y=i,a.pt=1200,a.vy=56,a.c=90,a.c1=h-this.gg.di.width-32-256,a.c2=h+128+256,a.c4=this.newYuka(String(1),String(1),String(2),String(2),"line"),this.setYukaColor(String(a.c4),"255","255","255","255");break;case 93:a.x=t+16,a.y=i+16,a.pt=1300,a.vy=90,a.vx=30,a.c=93,a.c1=h-this.gg.di.width-32-256,a.c2=h+128+256+384,a.c4=this.newYuka(String(1),String(1),String(2),String(2),"line"),this.setYukaColor(String(a.c4),"255","255","255","255");break;case 94:a.x=t+16+384,a.y=i+16,a.pt=1300,a.vy=90,a.vx=-30,a.c=93,a.c1=h-this.gg.di.width-32-256,a.c2=h+128+256+384,a.c3=0,a.c4=this.newYuka(String(1),String(1),String(2),String(2),"line"),this.setYukaColor(String(a.c4),"255","255","255","255");break;case 95:a.x=t+16,a.y=i+16,a.pt=1400,a.c3=1,a.vy=180,a.vx=-26,a.c=95,a.c1=h-this.gg.di.width-32-256,a.c2=h+128+256,a.c4=this.newYuka(String(1),String(1),String(2),String(2),"line"),this.setYukaColor(String(a.c4),"255","255","255","255");break;case 96:a.x=t+16,a.y=i+16,a.pt=1400,a.c3=2,a.vy=360,a.vx=26,a.c=95,a.c1=h-this.gg.di.width-32-256,a.c2=h+128+256,a.c4=this.newYuka(String(1),String(1),String(2),String(2),"line"),this.setYukaColor(String(a.c4),"255","255","255","255");break;case 100:a.vy=5,a.x=t+8,a.y=i-212,a.c3=i-212,a.c4=i+2,a.pt=100;break;case 101:a.c=100,a.vy=5,a.x=t+8,a.y=i-212,a.c3=i-212,a.c4=i+2,a.pt=100,a.c1=0,a.c2=6400;break;case 110:a.vx=-3,a.x=t+208,a.c3=t,a.c4=t+208,a.pt=100,a.c2=h+208+128+32,10!=this.j_tokugi&&12!=this.j_tokugi&&13!=this.j_tokugi||(a.c3=t+4,a.c4=t+208-6);break;case 111:a.c=110,a.vx=-3,a.x=t+208,a.c3=t,a.c4=t+208,a.pt=100,a.c1=0,a.c2=6400,10!=this.j_tokugi&&12!=this.j_tokugi&&13!=this.j_tokugi||(a.c3=t+4,a.c4=t+208-6);break;case 115:a.c=110,a.vx=-3,a.x=t+208,a.c3=t,a.c4=t+208,a.pt=100,a.c2=h+208+128+342+32,10!=this.j_tokugi&&12!=this.j_tokugi&&13!=this.j_tokugi||(a.c3=t+4,a.c4=t+208-6);break;case 116:a.c=110,a.vx=3,a.x=t+320,a.c3=t+320,a.c4=t+208+320,a.pt=100,a.c2=h+208+128+320+32,10!=this.j_tokugi&&12!=this.j_tokugi&&13!=this.j_tokugi||(a.c3=t+320+6,a.c4=t+208+320-4);break;case 120:a.vx=t+160,a.vy=i,a.x=t+8,a.y=i,a.c3=0,a.muki=1,a.c1=a.vx-this.gg.di.width-32-130,a.c2=a.vx+128+130,a.pt=100;break;case 121:a.c=120,a.vx=t+160,a.vy=i,a.x=t+8,a.y=i,a.c3=0,a.muki=0,a.c1=a.vx-this.gg.di.width-32-130,a.c2=a.vx+128+130,a.pt=100;break;case 150:case 160:a.vx=t,a.vy=i,a.x=a.vx+8,a.y=a.vy+8,a.c3=0,a.c4=0,a.pt=100,a.c1=0,a.c2=32*(this.mapWidth+1);break;case 151:a.c=150,a.vx=t,a.vy=i,a.x=a.vx+8,a.y=a.vy+8,a.c3=0,a.c4=1,a.pt=100,a.c1=0,a.c2=32*(this.mapWidth+1);break;case 152:a.c=150,a.vx=t,a.vy=i,a.x=a.vx+8,a.y=a.vy+8,a.c3=0,a.c4=2,a.pt=100,a.c1=0,a.c2=32*(this.mapWidth+1);break;case 161:a.c=160,a.vx=t,a.vy=i,a.x=a.vx+8,a.y=a.vy+8,a.c3=0,a.c4=1,a.pt=100,a.c1=0,a.c2=32*(this.mapWidth+1);break;case 162:a.c=160,a.vx=t,a.vy=i,a.x=a.vx+8,a.y=a.vy+8,a.c3=0,a.c4=2,a.pt=100,a.c1=0,a.c2=32*(this.mapWidth+1);break;case 300:a.pt=300,a.c3=0,a.c4=0;break;case 310:a.c=300,a.pt=310,a.c3=1,a.c4=0;break;case 320:a.c=300,a.pt=320,a.c3=2,a.c4=0;break;case 330:a.c=300,a.pt=330,a.c3=3,a.c4=0;break;case 350:a.c=300,a.pt=300,a.c3=100,a.c4=0,a.c5=0;break;case 351:a.c=300,a.pt=310,a.c3=101,a.c4=0,a.c5=0;break;case 352:a.c=300,a.pt=320,a.c3=102,a.c4=0,a.c5=0;break;case 353:a.c=300,a.pt=330,a.c3=103,a.c4=0,a.c5=0;break;case 360:a.c=300,a.pt=300,a.c3=100,a.c4=0,a.c5=1;break;case 361:a.c=300,a.pt=310,a.c3=101,a.c4=0,a.c5=1;break;case 362:a.c=300,a.pt=320,a.c3=102,a.c4=0,a.c5=1;break;case 363:a.c=300,a.pt=330,a.c3=103,a.c4=0,a.c5=1;break;case 370:a.c=300,a.pt=300,a.c3=200,a.c4=0;break;case 371:a.c=300,a.pt=310,a.c3=201,a.c4=0;break;case 372:a.c=300,a.pt=320,a.c3=202,a.c4=0;break;case 373:a.c=300,a.pt=330,a.c3=203,a.c4=0;break;case 380:a.c=300,a.pt=300,a.c3=300,a.c4=0;break;case 381:a.c=300,a.pt=310,a.c3=301,a.c4=0;break;case 382:a.c=300,a.pt=320,a.c3=302,a.c4=0;break;case 383:a.c=300,a.pt=330,a.c3=303,a.c4=0;break;case 400:a.pt=400,a.c3=0,a.vy=i;break;case 410:a.pt=400,a.c3=0,a.c4=1,a.vy=i;break;case 420:a.pt=400,a.c3=0,a.c4=2,a.vx=t,a.c=410,a.c1=h-this.gg.di.width-32-256,a.c2=h+128;break;case 430:a.pt=400,a.c3=0,a.c4=3,a.vx=t,a.c=410,a.c1=h-this.gg.di.width-32,a.c2=h+128+256;break;case 440:a.pt=400,a.c3=0,a.c4=4,a.vx=-3,a.vy=0,a.c=410;break;case 450:a.pt=400,a.c3=0,a.c4=5,a.c=410;break;case 460:a.pt=400,a.c3=0,a.c4=6,a.vy=i,a.c=410;break;case 470:a.pt=400,a.c3=0,a.c4=7,a.vy=i,a.c=410;break;case 480:a.pt=400,a.c3=0,a.c4=8,a.vy=i,a.c=410;break;case 481:a.pt=400,a.c3=0,a.c4=9,a.vx=t,a.c=410,a.c1=h-this.gg.di.width-32-256,a.c2=h+128+256;break;case 482:a.pt=400,a.c3=0,a.c4=10,a.vy=i,a.c=410;break;case 485:a.pt=400,a.c3=0,a.c4=11,a.vy=i,a.c1=0,a.c2=32*(this.mapWidth+1),a.c=410;break;case 486:a.pt=400,a.c3=0,a.c4=12,a.vx=t,a.c=410,a.c1=0,a.c2=32*(this.mapWidth+1);break;case 487:a.pt=400,a.c3=0,a.c4=13,a.vx=t,a.c=410,a.c1=0,a.c2=32*(this.mapWidth+1);break;case 488:a.pt=400,a.c3=0,a.c4=14,a.vy=i,a.c=410;break;case 489:a.pt=400,a.c3=0,a.c4=15,a.vy=i,a.c=410;break;case 490:a.pt=400,a.c3=0,a.c4=16,a.vy=i,a.vx=0,a.c1=0,a.c2=32*(this.mapWidth+1),a.c=410;break;case 491:a.pt=400,a.c3=0,a.c4=17,a.vy=i,a.c=410;break;case 492:a.pt=400,a.c3=0,a.c4=18,a.vx=0,a.vy=0,a.c=410;break;case 500:a.vy=0,a.x=t,a.y=i,a.c3=0,a.c4=0,a.pt=500;break;case 510:a.c=500,a.vy=0,a.x=t,a.y=i,a.c3=0,a.c4=1,a.pt=500;break;case 600:case 610:a.pt=600,a.c3=0,a.c4=0,a.vx=0,a.vy=i;break;case 700:a.pt=700,a.c3=0,a.c4=0;break;case 701:a.c=700,a.pt=700,a.c3=0,a.c4=1;break;case 750:a.c=700,a.pt=750,a.c3=0,a.c4=2;break;case 751:a.c=700,a.pt=751,a.c3=0,a.c4=3;break;case 1e3:a.vx=18,a.c3=0,a.c4=0,a.c1=t-this.gg.di.width-150,a.c2=t+150;break;case 1001:a.c=1e3,a.vx=18,a.c3=1,a.c4=0,a.c1=t-this.gg.di.width-150,a.c2=t+150;break;case 1002:a.c=1e3,a.vx=18,a.c3=2,a.c4=0,a.c1=t-this.gg.di.width-224,a.c2=t+224;break;case 1003:a.c=1e3,a.vx=18,a.c3=3,a.c4=0,a.c1=t-this.gg.di.width-224,a.c2=t+224;break;case 1005:a.c=1e3,a.vx=18,a.c3=10,a.c4=0,a.c1=t-this.gg.di.width-150,a.c2=t+150;break;case 1006:a.c=1e3,a.vx=18,a.c3=11,a.c4=0,a.c1=t-this.gg.di.width-150,a.c2=t+150;break;case 1007:a.c=1e3,a.vx=18,a.c3=12,a.c4=0,a.c1=t-this.gg.di.width-224,a.c2=t+224;break;case 1008:a.c=1e3,a.vx=18,a.c3=13,a.c4=0,a.c1=t-this.gg.di.width-224,a.c2=t+224;break;case 1010:case 1100:case 1150:a.vx=0,a.c3=0,a.c4=0,a.c1=t-this.gg.di.width-150,a.c2=t+150;break;case 1020:a.vx=0,a.c3=0,a.c4=0,a.c1=0,a.c2=32*(this.mapWidth+1);break;case 1200:a.x=t+16,a.y=i+16,a.pt=1900,a.vy=270,a.vx=-30,a.c=1200,a.c1=h-this.gg.di.width-32-256,a.c2=h+128+256+416,a.c4=this.newYuka(String(1),String(1),String(2),String(2),"line"),this.setYukaColor(String(a.c4),"255","255","255","255");break;case 1201:a.x=t+16+416,a.y=i+16,a.pt=1900,a.vy=270,a.vx=30,a.c=1200,a.c1=h-this.gg.di.width-32-256,a.c2=h+128+256+416,a.c3=0,a.c4=this.newYuka(String(1),String(1),String(2),String(2),"line"),this.setYukaColor(String(a.c4),"255","255","255","255");break;case 1300:a.x=t+16,a.y=i+16,a.pt=2e3,a.vy=90,a.vx=30,a.c=1300,a.c1=h-this.gg.di.width-32-256,a.c2=h+128+256+416;break;case 1301:a.x=t+16+320,a.y=i+16,a.pt=2e3,a.vy=90,a.vx=-30,a.c=1300,a.c1=h-this.gg.di.width-32-256,a.c2=h+128+256+416;break;case 1400:a.pt=2100,a.c3=0,a.c4=1;break;case 1401:a.c=1400,a.pt=2110,a.c3=0,a.c4=2;break;case 1402:a.c=1400,a.pt=2120,a.c3=0,a.c4=3;break;case 1403:a.c=1400,a.pt=2130,a.c3=0,a.c4=4;break;case 1500:a.pt=2200,a.y=i-12,a.c3=0,a.c4=330,a.vx=0,a.vy=i,a.c1=t-this.gg.di.width-224,a.c2=t+224;break;case 1501:a.c=1500,a.pt=2200,a.y=i-12,a.c3=1,a.c4=225,a.vx=0,a.vy=i,a.c1=t-this.gg.di.width-224,a.c2=t+224;break;case 1502:a.c=1500,a.pt=2200,a.c3=2,a.c4=30,a.vx=0,a.vy=i,a.c1=t-this.gg.di.width-224,a.c2=t+224;break;case 1503:a.c=1500,a.pt=2200,a.c3=3,a.c4=270,a.vx=0,a.vy=i,a.c1=t-this.gg.di.width-224,a.c2=t+224;break;case 1504:a.c=1500,a.pt=2200,a.c3=4,a.c4=300,a.vx=0,a.vy=i,a.c1=t-this.gg.di.width-224,a.c2=t+224;break;case 1600:a.pt=2300,a.c3=0,a.c4=0;break;case 1601:a.c=1600,a.pt=2300,a.c3=0,a.c4=1;break;case 1602:a.c=1600,a.pt=2300,a.c3=0,a.c4=2;break;case 1603:a.c=1600,a.pt=2300,a.c3=0,a.c4=3;break;case 1700:a.pt=2400,a.c3=0,a.c4=0,a.vy=100,a.c1=t-this.gg.di.width-192,a.c2=t+192;break;case 1701:a.c=1700,a.pt=2400,a.c3=1,a.c4=0,a.vy=100,a.c1=t-this.gg.di.width-192,a.c2=t+192;break;case 1702:a.c=1700,a.pt=2400,a.c3=2,a.c4=0,a.vy=100,a.c1=t-this.gg.di.width-192,a.c2=t+192;break;case 1800:a.x=t+16,a.y=i+16,a.pt=2500,a.vy=0,a.vx=-3,a.c1=0,a.c2=32*(this.mapWidth+1),a.c3=this.newYuka(String(1),String(1),String(2),String(2),"line"),this.setYukaColor(String(a.c3),"0","0","0","0"),a.c4=this.newYuka(String(1),String(1),String(2),String(2),"line"),this.setYukaColor(String(a.c4),"0","0","0","0"),a.c5=this.newYuka(String(1),String(1),String(2),String(2),"line"),this.setYukaColor(String(a.c5),"0","0","0","0"),a.pth=this.newYuka(String(1),String(1),String(2),String(2),"line"),this.setYukaColor(String(a.pth),"0","0","0","0");break;case 1801:a.c=1800,a.x=t+16,a.y=i+16,a.pt=2500,a.vy=0,a.vx=3,a.c1=0,a.c2=32*(this.mapWidth+1),a.c3=this.newYuka(String(1),String(1),String(2),String(2),"line"),this.setYukaColor(String(a.c3),"0","0","0","0"),a.c4=this.newYuka(String(1),String(1),String(2),String(2),"line"),this.setYukaColor(String(a.c4),"0","0","0","0"),a.c5=this.newYuka(String(1),String(1),String(2),String(2),"line"),this.setYukaColor(String(a.c5),"0","0","0","0"),a.pth=this.newYuka(String(1),String(1),String(2),String(2),"line"),this.setYukaColor(String(a.pth),"0","0","0","0");break;case 1850:a.x=t+16,a.y=i+16,a.pt=2600,a.vy=0,a.vx=-2,a.c1=0,a.c2=32*(this.mapWidth+1),a.c3=this.newYuka(String(1),String(1),String(2),String(2),"line"),this.setYukaColor(String(a.c3),"0","0","0","0"),a.c4=this.newYuka(String(1),String(1),String(2),String(2),"line"),this.setYukaColor(String(a.c4),"0","0","0","0"),a.c5=this.newYuka(String(1),String(1),String(2),String(2),"line"),this.setYukaColor(String(a.c5),"0","0","0","0"),a.pth=this.newYuka(String(1),String(1),String(2),String(2),"line"),this.setYukaColor(String(a.pth),"0","0","0","0");break;case 1851:a.c=1850,a.x=t+16,a.y=i+16,a.pt=2600,a.vy=0,a.vx=2,a.c1=0,a.c2=32*(this.mapWidth+1),a.c3=this.newYuka(String(1),String(1),String(2),String(2),"line"),this.setYukaColor(String(a.c3),"0","0","0","0"),a.c4=this.newYuka(String(1),String(1),String(2),String(2),"line"),this.setYukaColor(String(a.c4),"0","0","0","0"),a.c5=this.newYuka(String(1),String(1),String(2),String(2),"line"),this.setYukaColor(String(a.c5),"0","0","0","0"),a.pth=this.newYuka(String(1),String(1),String(2),String(2),"line"),this.setYukaColor(String(a.pth),"0","0","0","0");break;case 1900:a.c=1900,a.pt=2300,a.c3=0,a.c4=0,a.c1=0,a.c2=32*(this.mapWidth+1);break;case 1901:a.c=1900,a.pt=2300,a.c3=1,a.c4=0,a.c1=0,a.c2=32*(this.mapWidth+1);break;case 1902:a.c=1900,a.pt=2300,a.c3=2,a.c4=0,a.c1=0,a.c2=32*(this.mapWidth+1);break;case 1903:a.c=1900,a.pt=2300,a.c3=3,a.c4=0,a.c1=0,a.c2=32*(this.mapWidth+1);break;case 1904:a.c=1900,a.pt=2300,a.c3=4,a.c4=0,a.c1=0,a.c2=32*(this.mapWidth+1);break;case 1905:a.c=1900,a.pt=2300,a.c3=5,a.c4=0,a.c1=0,a.c2=32*(this.mapWidth+1);break;case 1906:a.c=1900,a.pt=2300,a.c3=6,a.c4=0,a.c1=0,a.c2=32*(this.mapWidth+1);break;case 1907:a.c=1900,a.pt=2300,a.c3=7,a.c4=0,a.c1=0,a.c2=32*(this.mapWidth+1);break;case 1908:a.c=1900,a.pt=2300,a.c3=8,a.c4=0,a.c1=0,a.c2=32*(this.mapWidth+1);break;case 1909:a.c=1900,a.pt=2300,a.c3=9,a.c4=0,a.c1=0,a.c2=32*(this.mapWidth+1);break;case 1910:a.c=1900,a.pt=2300,a.c3=10,a.c4=0,a.c1=0,a.c2=32*(this.mapWidth+1);break;case 1911:a.c=1900,a.pt=2300,a.c3=11,a.c4=0,a.c1=0,a.c2=32*(this.mapWidth+1);break;case 1912:a.c=1900,a.pt=2300,a.c3=12,a.c4=0,a.c1=t-this.gg.di.width-150,a.c2=t+150;break;case 1913:a.c=1900,a.pt=2300,a.c3=13,a.c4=0,a.c1=t-this.gg.di.width-150,a.c2=t+150;break;case 1914:a.c=1900,a.pt=2300,a.c3=14,a.c4=0,a.c1=t-this.gg.di.width-150,a.c2=t+150;break;case 1915:a.c=1900,a.pt=2300,a.c3=15,a.c4=0,a.c1=0,a.c2=32*(this.mapWidth+1);break;case 1916:a.c=1900,a.pt=2300,a.c3=16,a.c4=0,a.c1=0,a.c2=32*(this.mapWidth+1);break;case 1917:a.c=1900,a.pt=2300,a.c3=17,a.c4=0,a.c1=0,a.c2=32*(this.mapWidth+1);break;case 1918:a.c=1900,a.pt=2300,a.c3=18,a.c4=0,a.c1=0,a.c2=32*(this.mapWidth+1);break;case 2e3:a.c=2e3,a.pt=2700,a.x=t,a.y=i,a.c1=h-this.gg.di.width-32,a.c2=h+256,a.c4=this.newYuka(String(a.x),String(a.y),"0","0","wave_up"),this.setYukaColor(a.c4,this.gamecolor_firebar2);break;case 2001:a.c=2e3,a.pt=2700,a.x=t,a.y=i,a.c1=h-this.gg.di.width-32,a.c2=h+256,a.c4=this.newYuka(String(a.x),String(a.y),"0","0","wave_down"),this.setYukaColor(a.c4,this.gamecolor_firebar2);break;case 2002:a.c=2e3,a.pt=2700,a.x=t,a.y=i,a.c1=h-this.gg.di.width-32,a.c2=h+256,a.c4=this.newYuka(String(a.x),String(a.y),"0","0","wave_up_line"),this.setYukaColor(a.c4,this.gamecolor_firebar2);break;case 2003:a.c=2e3,a.pt=2700,a.x=t,a.y=i,a.c1=h-this.gg.di.width-32,a.c2=h+256,a.c4=this.newYuka(String(a.x),String(a.y),"0","0","wave_down_line"),this.setYukaColor(a.c4,this.gamecolor_firebar2);break;case 2010:a.c=2e3,a.pt=2700,a.x=t+16,a.y=i+16,a.c1=h-this.gg.di.width-32,a.c2=h+256,a.c4=this.newYuka(String(a.x),String(a.y),"96","0","circle"),this.setYukaColor(a.c4,this.gamecolor_firebar2);break;case 2011:a.c=2e3,a.pt=2700,a.x=t,a.y=i+16,a.c1=h-this.gg.di.width-32,a.c2=h+256,a.c4=this.newYuka(String(a.x),String(a.y),"144","0","circle"),this.setYukaColor(a.c4,this.gamecolor_firebar2);break;case 2020:a.c=2e3,a.pt=2700,a.x=t,a.y=i,a.c1=h-this.gg.di.width-32,a.c2=h+256,a.c4=this.newYuka(String(a.x),String(a.y),"0","0","half_circle"),this.setYukaColor(a.c4,this.gamecolor_firebar2);break;case 2021:a.c=2e3,a.pt=2700,a.x=t,a.y=i,a.c1=h-this.gg.di.width-32,a.c2=h+256,a.c4=this.newYuka(String(a.x),String(a.y),"0","0","half_circle_line"),this.setYukaColor(a.c4,this.gamecolor_firebar2);break;case 2100:a.c=2100,a.pt=2800,a.c1=t-this.gg.di.width-190,a.c2=t+190;break;case 2111:a.c=70,a.vx=-2,a.c3=72,a.c1=t-this.gg.di.width-190,a.c2=t+190;break;case 2112:a.c=70,a.vx=-2,a.c3=144,a.c1=t-this.gg.di.width-190,a.c2=t+190;break;case 2113:a.c=70,a.vx=-2,a.c3=216,a.c1=t-this.gg.di.width-190,a.c2=t+190;break;case 2114:a.c=70,a.vx=-2,a.c3=288,a.c1=t-this.gg.di.width-190,a.c2=t+190;break;case 2121:a.c=70,a.vx=2,a.c3=72,a.c1=t-this.gg.di.width-190,a.c2=t+190;break;case 2122:a.c=70,a.vx=2,a.c3=144,a.c1=t-this.gg.di.width-190,a.c2=t+190;break;case 2123:a.c=70,a.vx=2,a.c3=216,a.c1=t-this.gg.di.width-190,a.c2=t+190;break;case 2124:a.c=70,a.vx=2,a.c3=288,a.c1=t-this.gg.di.width-190,a.c2=t+190;break;case 2200:a.c=2200,a.vx=-2,a.c3=0,a.c1=0,a.c2=32*(this.mapWidth+1);break;case 2201:a.c=2200,a.vx=-2,a.c3=120,a.c1=0,a.c2=32*(this.mapWidth+1);break;case 2202:a.c=2200,a.vx=-2,a.c3=240,a.c1=0,a.c2=32*(this.mapWidth+1);break;case 2210:a.c=2200,a.vx=2,a.c3=0,a.c1=0,a.c2=32*(this.mapWidth+1);break;case 2211:a.c=2200,a.vx=2,a.c3=120,a.c1=0,a.c2=32*(this.mapWidth+1);break;case 2212:a.c=2200,a.vx=2,a.c3=240,a.c1=0,a.c2=32*(this.mapWidth+1);break;case 2250:a.c=2250,a.vx=-2,a.c3=0,a.c1=0,a.c2=32*(this.mapWidth+1);break;case 2251:a.c=2250,a.vx=-2,a.c3=180,a.c1=0,a.c2=32*(this.mapWidth+1);break;case 2252:a.c=2250,a.vx=-4,a.c3=0,a.c1=0,a.c2=32*(this.mapWidth+1);break;case 2253:a.c=2250,a.vx=-4,a.c3=180,a.c1=0,a.c2=32*(this.mapWidth+1);break;case 2260:a.c=2250,a.vx=2,a.c3=0,a.c1=0,a.c2=32*(this.mapWidth+1);break;case 2261:a.c=2250,a.vx=2,a.c3=180,a.c1=0,a.c2=32*(this.mapWidth+1);break;case 2262:a.c=2250,a.vx=4,a.c3=0,a.c1=0,a.c2=32*(this.mapWidth+1);break;case 2263:a.c=2250,a.vx=4,a.c3=180,a.c1=0,a.c2=32*(this.mapWidth+1);break;case 2300:a.c=2300,a.pt=3e3,a.x=t,a.y=i,a.c3=a.y,a.vy=-4,a.c1=0,a.c2=32*(this.mapWidth+1),a.c4=this.newYuka(String(a.x),String(a.y),"0","0","half_circle"),this.setYukaColor(a.c4,this.gamecolor_firebar2);break;case 2301:a.c=2300,a.pt=3e3,a.x=t,a.y=i-160,a.c3=i,a.vy=4,a.c1=0,a.c2=32*(this.mapWidth+1),a.c4=this.newYuka(String(a.x),String(a.y),"0","0","half_circle"),this.setYukaColor(a.c4,this.gamecolor_firebar2);break;case 2400:a.c=2400,a.pt=3e3,a.x=t,a.y=i,a.c3=i,a.vy=4,a.c5=0,a.c1=0,a.c2=32*(this.mapWidth+1),a.c4=this.newYuka(String(a.x),String(a.y),"0","0","half_circle"),this.setYukaColor(a.c4,this.gamecolor_firebar2);break;case 2500:a.c=2500,a.pt=3e3,a.x=t,a.y=i-160,a.c3=i,a.vy=4,a.c5=0,a.c1=0,a.c2=32*(this.mapWidth+1),a.c4=this.newYuka(String(a.x),String(a.y),"0","0","half_circle"),this.setYukaColor(a.c4,this.gamecolor_firebar2);break;case 2510:a.c=2500,a.pt=3e3,a.x=t,a.y=i,a.c3=i,a.vy=4,a.c5=1e3,a.c1=0,a.c2=32*(this.mapWidth+1),a.c4=this.newYuka(String(a.x),String(a.y),"0","0","half_circle"),this.setYukaColor(a.c4,this.gamecolor_firebar2);break;case 2600:a.c=2600,a.pt=2700,a.x=t,a.y=i+16,a.c3=i+16,a.vy=4,a.c5=0,a.c1=0,a.c2=32*(this.mapWidth+1),a.c4=this.newYuka(String(a.x),String(a.y),"80","0","circle"),this.setYukaColor(a.c4,new F(this.gamecolor_mizunohadou.getRed(),this.gamecolor_mizunohadou.getGreen(),this.gamecolor_mizunohadou.getBlue(),176));break;case 2610:a.c=2610,a.pt=2700,a.x=t,a.y=i+16,a.c3=i+16,a.vy=4,a.c5=0,a.c1=0,a.c2=32*(this.mapWidth+1),a.c4=this.newYuka(String(a.x),String(a.y),"80","0","circle"),this.setYukaColor(a.c4,new F(this.gamecolor_mizunohadou.getRed(),this.gamecolor_mizunohadou.getGreen(),this.gamecolor_mizunohadou.getBlue(),176));break;case 2700:a.c=2700,a.pt=2700,a.x=t,a.y=i+16+24,a.c3=i+16+24,a.vy=40,a.c5=0,a.c1=0,a.c2=32*(this.mapWidth+1),a.c4=this.newYuka(String(a.x),String(a.y),"112","0","circle"),this.setYukaColor(a.c4,new F(this.gamecolor_mizunohadou.getRed(),this.gamecolor_mizunohadou.getGreen(),this.gamecolor_mizunohadou.getBlue(),176));break;case 2701:a.c=2700,a.pt=2700,a.x=t,a.y=i+16+24+106,a.c3=i+16+24,a.vy=-40,a.c5=0,a.c1=0,a.c2=32*(this.mapWidth+1),a.c4=this.newYuka(String(a.x),String(a.y),"112","0","circle"),this.setYukaColor(a.c4,new F(this.gamecolor_mizunohadou.getRed(),this.gamecolor_mizunohadou.getGreen(),this.gamecolor_mizunohadou.getBlue(),176));break;case 2800:a.x=t+16,a.y=i+16,a.pt=3100,a.vy=90,a.vx=22,a.c3=0,a.c=2800,a.c1=0,a.c2=32*(this.mapWidth+1);break;case 2801:a.x=t+16,a.y=i+16,a.pt=3100,a.vy=90,a.vx=-22,a.c3=0,a.c=2800,a.c1=0,a.c2=32*(this.mapWidth+1);break;case 2802:a.x=t+16,a.y=i+16,a.pt=3100,a.vy=90,a.vx=22,a.c3=1,a.c=2800,a.c1=0,a.c2=32*(this.mapWidth+1);break;case 2803:a.x=t+16,a.y=i+16,a.pt=3100,a.vy=168,a.vx=0,a.c3=1,a.c=2800,a.c1=0,a.c2=32*(this.mapWidth+1);break;case 2900:a.pt=3200;break;case 2950:a.pt=3250;break;case 3e3:a.pt=3300,a.c3=0,a.c1=0,a.c2=32*(this.mapWidth+1);break;case 3010:a.c=3e3,a.pt=3300,a.c3=1,a.c1=0,a.c2=32*(this.mapWidth+1);break;case 3100:a.pt=3500,a.c3=0,a.c1=t-this.gg.di.width-160,a.c2=t+160;break;case 3101:a.c=3100,a.pt=3500,a.c3=1,a.c1=t-this.gg.di.width-160,a.c2=t+160;break;case 3110:a.pt=3510,a.c3=0,a.c1=t-this.gg.di.width-160,a.c2=t+160;break;case 3111:a.c=3110,a.pt=3510,a.c3=1,a.c1=t-this.gg.di.width-160,a.c2=t+160;break;case 3120:a.pt=3520,a.c3=0,a.c1=t-this.gg.di.width-160,a.c2=t+160;break;case 3121:a.c=3120,a.pt=3520,a.c3=1,a.c1=t-this.gg.di.width-160,a.c2=t+160;break;case 3130:a.pt=3530,a.c3=0,a.c1=t-this.gg.di.width-160,a.c2=t+160;break;case 3131:a.c=3130,a.pt=3530,a.c3=1,a.c1=t-this.gg.di.width-160,a.c2=t+160;break;case 3200:a.c=3200,a.x=t+16,a.y=i+16,a.pt=3100,a.vy=270,a.vx=22,a.c3=0,a.c4=0,a.c1=0,a.c2=32*(this.mapWidth+1);break;case 3201:a.c=3200,a.x=t+16,a.y=i+16,a.pt=3100,a.vy=270,a.vx=-22,a.c3=0,a.c4=0,a.c1=0,a.c2=32*(this.mapWidth+1);break;case 3202:a.c=3200,a.x=t+16,a.y=i+16,a.pt=3100,a.vy=270,a.vx=22,a.c3=0,a.c4=1,a.c1=0,a.c2=32*(this.mapWidth+1);break;case 3203:a.c=3200,a.x=t+16,a.y=i+16,a.pt=3100,a.vy=270,a.vx=-22,a.c3=0,a.c4=1,a.c1=0,a.c2=32*(this.mapWidth+1);break;case 3300:a.c=3300,a.pt=2700,a.x=t+16,a.y=i+16,a.c3=i+16,a.vy=0,a.c5=96,a.c1=0,a.c2=32*(this.mapWidth+1),a.c4=this.newYuka(String(a.x),String(a.y),"96","0","circle"),this.setYukaColor(a.c4,this.gamecolor_firebar2);break;case 3301:a.c=3300,a.pt=2700,a.x=t+16,a.y=i+16,a.c3=i+16,a.vy=0,a.c5=128,a.c1=0,a.c2=32*(this.mapWidth+1),a.c4=this.newYuka(String(a.x),String(a.y),"128","0","circle"),this.setYukaColor(a.c4,this.gamecolor_firebar2);break;case 3400:a.pt=3600;break;case 3500:case 3600:a.c3=0,a.c4=0,a.pt=3700;break;case 3501:a.c=3500,a.c3=0,a.c4=1,a.pt=3700;break;case 3502:a.c=3500,a.c3=0,a.c4=2,a.pt=3700;break;case 3601:a.c=3600,a.c3=0,a.c4=1,a.pt=3700;break;case 3602:a.c=3600,a.c3=0,a.c4=2,a.pt=3700;break;case 3700:case 3800:case 3810:case 3900:case 3910:case 4e3:case 4010:case 4100:case 4110:case 4200:case 4210:case 4400:case 4410:case 5200:case 5210:a.c3=0,a.c5=0,a.c1=0,a.c2=32*(this.mapWidth+1);break;case 3710:a.c3=100,a.c5=0,a.c1=0,a.c2=32*(this.mapWidth+1);break;case 4300:a.vx=-3,a.c3=270,a.c4=0,a.c5=0,a.vy=0,a.c1=0,a.c2=32*(this.mapWidth+1);break;case 4301:a.c=4300,a.vx=-3,a.c3=270,a.c4=1,a.c5=0,a.vy=0,a.c1=0,a.c2=32*(this.mapWidth+1);break;case 4302:a.c=4300,a.vx=-3,a.c3=180,a.c4=2,a.c5=0,a.vy=0,a.c1=0,a.c2=32*(this.mapWidth+1);break;case 4303:a.c=4300,a.vx=-3,a.c3=360,a.c4=3,a.c5=0,a.vy=0,a.c1=0,a.c2=32*(this.mapWidth+1);break;case 4304:a.c=4300,a.vx=-3,a.c3=180,a.c4=4,a.c5=0,a.vy=0,a.c1=0,a.c2=32*(this.mapWidth+1);break;case 4305:a.c=4300,a.vx=-3,a.c3=0,a.c4=5,a.c5=0,a.vy=0,a.c1=0,a.c2=32*(this.mapWidth+1);break;case 4306:a.c=4300,a.vx=-3,a.c3=90,a.c4=6,a.c5=0,a.vy=0,a.c1=0,a.c2=32*(this.mapWidth+1);break;case 4307:a.c=4300,a.vx=-3,a.c3=90,a.c4=7,a.c5=0,a.vy=0,a.c1=0,a.c2=32*(this.mapWidth+1);break;case 4310:a.c=4300,a.vx=-2,a.c3=360,a.c4=10,a.c5=0,a.vy=0,a.c1=0,a.c2=32*(this.mapWidth+1);break;case 4311:a.c=4300,a.vx=-2,a.c3=180,a.c4=11,a.c5=0,a.vy=0,a.c1=0,a.c2=32*(this.mapWidth+1);break;case 4312:a.c=4300,a.vx=-2,a.c3=0,a.c4=12,a.c5=0,a.vy=0,a.c1=0,a.c2=32*(this.mapWidth+1);break;case 4313:a.c=4300,a.vx=-2,a.c3=180,a.c4=13,a.c5=0,a.vy=0,a.c1=0,a.c2=32*(this.mapWidth+1);break;case 4314:a.c=4300,a.vx=-2,a.c3=270,a.c4=14,a.c5=0,a.vy=0,a.c1=0,a.c2=32*(this.mapWidth+1);break;case 4315:a.c=4300,a.vx=-2,a.c3=270,a.c4=15,a.c5=0,a.vy=0,a.c1=0,a.c2=32*(this.mapWidth+1);break;case 4316:a.c=4300,a.vx=-2,a.c3=90,a.c4=16,a.c5=0,a.vy=0,a.c1=0,a.c2=32*(this.mapWidth+1);break;case 4317:a.c=4300,a.vx=-2,a.c3=90,a.c4=17,a.c5=0,a.vy=0,a.c1=0,a.c2=32*(this.mapWidth+1);break;case 4500:a.x=t+16,a.y=i+16,a.c3=0,a.pt=4e3,a.c5=0,a.vx=0,a.vy=322,a.c1=0,a.c2=32*(this.mapWidth+1),a.c4=this.newYuka(String(1),String(1),String(2),String(2),"line"),this.setYukaColor(String(a.c4),"255","255","255","255");break;case 4501:a.c=4500,a.x=t+16,a.y=i+16,a.c3=0,a.pt=4e3,a.c5=0,a.vx=1,a.vy=218,a.c1=0,a.c2=32*(this.mapWidth+1),a.c4=this.newYuka(String(1),String(1),String(2),String(2),"line"),this.setYukaColor(String(a.c4),"255","255","255","255");break;case 4502:a.c=4500,a.x=t+16,a.y=i+16,a.c3=0,a.pt=4e3,a.c5=0,a.vx=2,a.vy=322,a.c1=0,a.c2=32*(this.mapWidth+1),a.c4=this.newYuka(String(1),String(1),String(2),String(2),"line"),this.setYukaColor(String(a.c4),"255","255","255","255");break;case 4503:a.c=4500,a.x=t+16,a.y=i+16,a.c3=0,a.pt=4e3,a.c5=0,a.vx=3,a.vy=218,a.c1=0,a.c2=32*(this.mapWidth+1),a.c4=this.newYuka(String(1),String(1),String(2),String(2),"line"),this.setYukaColor(String(a.c4),"255","255","255","255");break;case 4510:a.c=4500,a.x=t+16,a.y=i+16,a.c3=0,a.pt=4e3,a.c5=0,a.vx=10,a.vy=218,a.c1=0,a.c2=32*(this.mapWidth+1),a.c4=this.newYuka(String(1),String(1),String(2),String(2),"line"),this.setYukaColor(String(a.c4),"255","255","255","255");break;case 4511:a.c=4500,a.x=t+16,a.y=i+16,a.c3=0,a.pt=4e3,a.c5=0,a.vx=11,a.vy=270,a.c1=0,a.c2=32*(this.mapWidth+1),a.c4=this.newYuka(String(1),String(1),String(2),String(2),"line"),this.setYukaColor(String(a.c4),"255","255","255","255");break;case 4512:a.c=4500,a.x=t+16,a.y=i+16,a.c3=0,a.pt=4e3,a.c5=0,a.vx=12,a.vy=322,a.c1=0,a.c2=32*(this.mapWidth+1),a.c4=this.newYuka(String(1),String(1),String(2),String(2),"line"),this.setYukaColor(String(a.c4),"255","255","255","255");break;case 4513:a.c=4500,a.x=t+16,a.y=i+16,a.c3=0,a.pt=4e3,a.c5=0,a.vx=13,a.vy=270,a.c1=0,a.c2=32*(this.mapWidth+1),a.c4=this.newYuka(String(1),String(1),String(2),String(2),"line"),this.setYukaColor(String(a.c4),"255","255","255","255");break;case 4600:a.pt=4100;break;case 4610:a.pt=4110;break;case 4700:a.c3=0,a.c4=0,a.pt=0,a.c1=0,a.c2=32*(this.mapWidth+1);break;case 4701:a.c=4700,a.c3=0,a.c4=1,a.pt=0,a.c1=0,a.c2=32*(this.mapWidth+1);break;case 4702:a.c=4700,a.c3=0,a.c4=2,a.pt=0,a.c1=0,a.c2=32*(this.mapWidth+1);break;case 4703:a.c=4700,a.c3=0,a.c4=3,a.pt=0,a.c1=0,a.c2=32*(this.mapWidth+1);break;case 4800:a.pt=4100,a.c3=0,a.c4=0,a.c1=0,a.c2=32*(this.mapWidth+1);break;case 4801:a.c=4800,a.pt=4110,a.c3=0,a.c4=1,a.c1=0,a.c2=32*(this.mapWidth+1);break;case 4900:a.c=4900,a.pt=4200;break;case 4910:a.c=4910,a.pt=4210;break;case 5e3:a.c3=0,a.pt=0,a.c1=h-this.gg.di.width-32-this.gg.di.width,a.c2=h+128+this.gg.di.width;break;case 5100:a.c3=0,a.c4=0,a.pt=4300;break;case 5101:a.c=5100,a.c3=0,a.c4=1,a.pt=4300;break;case 5300:a.pt=4220}break}e++}}},{key:"aMove",value:function(){this.j_a_id=-1,this.j_jdai_f=!1,this.a_hf=!1,this.souko_count1=0,this.souko_count2=0;for(var t=0;t<=this.a_kazu;t++){var i=this.co_a[t];if(0!=i.c)if((this.scroll_area<2||this.scroll_area>5)&&(this.maps.wx<=i.c1||this.maps.wx>=i.c2))i.gf=!1;else{var s=i.x,h=i.y;switch(i.c){default:break;case 60:s>this.maps.wx-80&&s<this.maps.wx+this.gg.di.width&&h>this.maps.wy-96&&h<this.maps.wy+this.gg.di.height?(i.gf=!0,this.a_hf=!0,this.g_c3<=3?i.pt=200:i.pt=210):i.gf=!1;break;case 70:if(2==i.c4?(i.c3+=i.vx,i.c3<=110?(i.c3=110,i.vx=2):i.c3>=250&&(i.c3=250,i.vx=-2)):3==i.c4?(i.c3+=i.vx,i.c3<=290?(i.c3=290,i.vx=2):i.c3>=430&&(i.c3=430,i.vx=-2)):(i.c3+=i.vx,i.c3<0?i.c3+=360:i.c3>=360&&(i.c3-=360)),s>this.maps.wx-150&&s<this.maps.wx+this.gg.di.width+150&&h>this.maps.wy-150&&h<this.maps.wy+this.gg.di.height+150){var e,a,c,o;if(i.gf=!0,this.a_hf=!0,i.pt=1100,2==Math.abs(i.vx)){var _=.017453292519943295;e=s+Ki(25*Math.cos(i.c3*_),!0,this),a=h+Ki(25*Math.sin(i.c3*_),!0,this),this.vo_x[t][0]=e,this.vo_y[t][0]=a,c=s+Ki(172*Math.cos(i.c3*_),!0,this),o=h+Ki(172*Math.sin(i.c3*_),!0,this),this.vo_x[t][1]=c,this.vo_y[t][1]=o,this.vo_x[t][2]=s+31*Math.cos(i.c3*_),this.vo_y[t][2]=h+31*Math.sin(i.c3*_),this.vo_x[t][3]=s+166*Math.cos(i.c3*_),this.vo_y[t][3]=h+166*Math.sin(i.c3*_)}else{var r=.017453292519943295;e=s+Ki(25*Math.cos(i.c3*r),!0,this),a=h+Ki(25*Math.sin(i.c3*r),!0,this),this.vo_x[t][0]=e,this.vo_y[t][0]=a,c=s+Ki(140*Math.cos(i.c3*r),!0,this),o=h+Ki(140*Math.sin(i.c3*r),!0,this),this.vo_x[t][1]=c,this.vo_y[t][1]=o,this.vo_x[t][2]=s+31*Math.cos(i.c3*r),this.vo_y[t][2]=h+31*Math.sin(i.c3*r),this.vo_x[t][3]=s+134*Math.cos(i.c3*r),this.vo_y[t][3]=h+134*Math.sin(i.c3*r)}if(this.co_j.c>=100&&this.co_j.c<200&&this.j_v_c<=0)if(Math.abs(e-c)>=Math.abs(a-o)){if(this.co_j.x+15>e&&this.co_j.x+15<c){var n=c-e,m=Ki((this.co_j.x+15-e)*(o-a)/n)+a;m>this.co_j.y-12&&m<this.co_j.y+44&&this.jShinu(1)}else if(this.co_j.x+15>c&&this.co_j.x+15<e){var p=e-c,g=Ki((this.co_j.x+15-c)*(a-o)/p)+o;g>this.co_j.y-12&&g<this.co_j.y+44&&this.jShinu(1)}}else if(this.co_j.y+15>a&&this.co_j.y+15<o){var u=o-a,y=Ki((this.co_j.y+15-a)*(c-e)/u)+e;y>this.co_j.x-12&&y<this.co_j.x+44&&this.jShinu(1)}else if(this.co_j.y+15>o&&this.co_j.y+15<a){var d=a-o,f=Ki((this.co_j.y+15-o)*(e-c)/d)+c;f>this.co_j.x-12&&f<this.co_j.x+44&&this.jShinu(1)}}else i.gf=!1;break;case 80:s>this.maps.wx-32&&s<this.maps.wx+this.gg.di.width&&h>this.maps.wy-32&&h<this.maps.wy+this.gg.di.height?(i.gf=!0,this.a_hf=!0,this.co_j.x>=s-80&&this.co_j.x<=s+64&&Math.abs(h-this.co_j.y)<32&&(this.hitokoto_c=10,this.hitokoto_num=i.c3)):i.gf=!1;break;case 85:s>this.maps.wx-32&&s<this.maps.wx+this.gg.di.width&&h>this.maps.wy-32&&h<this.maps.wy+this.gg.di.height?(i.gf=!0,this.a_hf=!0):i.gf=!1;break;case 86:if(s>this.maps.wx-32&&s<this.maps.wx+this.gg.di.width&&h>this.maps.wy-32&&h<this.maps.wy+this.gg.di.height)if(i.gf=!0,this.a_hf=!0,50==this.km.mode)(this.co_j.x<s-80-8||this.co_j.x>s+64+8)&&(this.km.mode=100);else if(100==this.km.mode)this.co_j.x>=s-80&&this.co_j.x<=s+64&&Math.abs(h-this.co_j.y)<8&&!this.gk.tr1_f&&(this.km.init1(3),this.km.setMessage(3,this.shop_name),this.addSerifu(3,5,3),this.km.activeSerifu(3,Ki(.625*this.gg.di.width-112)-40,Ki(.2875*this.gg.di.height-36)-16,224,this.gamecolor_message_name),this.km.move(),this.km.mode=400);else if(400==this.km.mode){if(1==this.km.cancel_c)this.km.off(3),this.km.mode=50;else if(this.co_j.x<s-80-8||this.co_j.x>s+64+8||Math.abs(h-this.co_j.y)>16)this.km.off(3),this.km.mode=50;else if(1==this.km.kettei_c){for(this.co_j.c=150,this.co_j.x<=s||this.maps.getBGCode(s+48,h)>=18?this.maps.getBGCode(s-16,h)>=18?(this.co_j.x=s-15,this.co_j.muki=1):(this.co_j.x=s-48,this.co_j.muki=1):(this.co_j.x=s+48,this.co_j.muki=0),this.co_j.y=h,this.co_j.vx=0,this.co_j.vy=0,this.co_j.pt=100,this.setmyw_pt=this.co_j.pt,this.setmyw_muki=this.co_j.muki,this.co_j.c1=10,this.km.list_kazu=0,this.km.init1(6),this.km.setMessage(6,this.tdb.getValue("shop_serifu1")),t=0;t<=8;t++)this.shop_item_teika[t]>0&&(this.km.addItem2(6,this.shop_item_name[t],this.shop_item_teika[t]),this.km.list_IDlist[this.km.list_kazu]=t,this.km.list_kazu++);this.km.list_kazu>=1?(this.km.activeKaimono(6,Ki(.625*this.gg.di.width-112)-40+140,Ki(.2875*this.gg.di.height-36)-16+20,184),this.km.mode=410):(this.km.init1(6),this.km.init1(8),this.km.setMessage(8,"Error"),this.km.addItem(8,"Please set any item on shop menu."),this.km.activeSerifu(8,Ki(.625*this.gg.di.width-112)-40+82,Ki(.2875*this.gg.di.height-36)-16+60,216,F.red),this.km.mode=440)}}else if(410==this.km.mode)this.co_j.c1=10,1==this.km.cancel_c?(this.km.off(6),this.km.mode=100):1==this.km.kettei_c&&(this.km.list_s=this.km.list_IDlist[this.km.selectedIndex[6]],this.km.init1(7),this.km.setMessage(7,"".concat(this.shop_item_name[this.km.list_s]).concat(this.tdb.getValue("shop_serifu2"))),this.km.addItem(7,this.tdb.getValue("shop_serifu3")),this.km.addItem(7,this.tdb.getValue("shop_serifu4")),this.km.activeSerifutuki(7,Ki(.625*this.gg.di.width-112)-40-152,Ki(.2875*this.gg.di.height-36)-16+46,236,this.shop_name),this.km.mode=420);else if(420==this.km.mode){if(this.co_j.c1=10,1==this.km.cancel_c)this.km.offActivewindow(7,6),this.km.mode=410;else if(1==this.km.kettei_c)if(0==this.km.selectedIndex[7])if(this.score>=this.shop_item_teika[this.km.list_s]){switch(this.km.init1(8),this.km.addItem(8,"".concat(this.shop_item_name[this.km.list_s]).concat(this.tdb.getValue("shop_serifu5"))),this.km.activeIchigyou(8,Ki(.625*this.gg.di.width-112)-40-152,Ki(.2875*this.gg.di.height-36)-16+130,236),this.score-=this.shop_item_teika[this.km.list_s],this.ig.shop_kattaitem=this.km.list_s,this.ig.shop_kattaitem){default:break;case 0:this.j_gr_kazu+=3,this.gs.rsAddSound(7);break;case 1:this.j_jet_fuel+=80,this.gs.rsAddSound(7);break;case 2:this.j_drell_f=!0,this.gs.rsAddSound(7);break;case 3:this.j_helm_f=!0,this.gs.rsAddSound(7);break;case 4:this.j_tail_f=!0,this.gs.rsAddSound(7);break;case 5:this.j_v_c=150,this.j_v_kakudo=0,this.gs.rsAddSound(7);break;case 6:this.j_fire_f=!0,this.j_fire_type=this.default_j_fire_type,3!=this.j_fire_type&&4!=this.j_fire_type||(this.j_fire_range=10),this.gs.rsAddSound(7);break;case 7:17==this.j_tokugi?this.setMyHP(String(this.getMyHP()+1)):this.j_left++,this.gs.rsAddSound(7);break;case 8:this.time_max>0&&(this.time+=3e4),this.gs.rsAddSound(7)}this.km.mode=430}else this.km.init1(8),this.km.addItem(8,this.tdb.getValue("shop_serifu6")),this.km.activeIchigyou(8,Ki(.625*this.gg.di.width-112)-40-152,Ki(.2875*this.gg.di.height-36)-16+132,236),this.km.mode=430,this.co_j.c1=10;else this.km.off(4),this.km.off(6),this.km.off(7),this.km.mode=100}else 430==this.km.mode?this.co_j.x<s-80-8||this.co_j.x>s+64+8?(this.km.off(3),this.km.off(6),this.km.off(7),this.km.off(8),this.km.mode=100):1==this.km.cancel_c?(this.km.off(7),this.km.offActivewindow(8,6),this.co_j.c=150,this.co_j.x<=s||this.maps.getBGCode(s+48,h)>=18?this.maps.getBGCode(s-16,h)>=18?(this.co_j.x=s-15,this.co_j.muki=1):(this.co_j.x=s-48,this.co_j.muki=1):(this.co_j.x=s+48,this.co_j.muki=0),this.co_j.y=h,this.co_j.vx=0,this.co_j.vy=0,this.co_j.pt=100,this.setmyw_pt=this.co_j.pt,this.setmyw_muki=this.co_j.muki,this.co_j.c1=10,this.km.mode=410):1==this.km.kettei_c&&(this.km.off(3),this.km.off(6),this.km.off(7),this.km.off(8),this.km.mode=50):440==this.km.mode&&(this.co_j.x<s-80-8||this.co_j.x>s+64+8||1==this.km.cancel_c||1==this.km.kettei_c)&&(this.km.off(3),this.km.off(6),this.km.off(7),this.km.off(8),this.km.mode=50);else i.gf=!1;break;case 87:s>this.maps.wx-32&&s<this.maps.wx+this.gg.di.width&&h>this.maps.wy-32&&h<this.maps.wy+this.gg.di.height?(i.gf=!0,this.a_hf=!0,50==this.km.mode?(this.co_j.x<s-80-8||this.co_j.x>s+64+8)&&(this.km.mode=100):100==this.km.mode?this.co_j.x>=s-80&&this.co_j.x<=s+64&&Math.abs(h-this.co_j.y)<8&&!this.gk.tr1_f&&(0==i.c3?(this.km.init1(3),this.km.setMessage(3,this.mes1_name),this.addSerifu(3,1,3),this.km.activeSerifu(3,Ki(.625*this.gg.di.width-112)-40,Ki(.2875*this.gg.di.height-36)-16,272,this.gamecolor_message_name),this.km.mode=200):(this.km.init1(3),this.km.setMessage(3,this.mes1_name),this.addSerifu(3,2,3),this.km.activeSerifu(3,Ki(.625*this.gg.di.width-112)-40,Ki(.2875*this.gg.di.height-36)-16,272,this.gamecolor_message_name),this.km.mode=250),this.km.move()):200==this.km.mode?1==this.km.cancel_c||this.co_j.x<s-80-8||this.co_j.x>s+64+8||Math.abs(h-this.co_j.y)>16?(this.km.off(3),this.km.mode=50):1==this.km.kettei_c&&(this.co_j.c=150,this.co_j.x<=s||this.maps.getBGCode(s+48,h)>=18?this.maps.getBGCode(s-16,h)>=18?(this.co_j.x=s-15,this.co_j.muki=1):(this.co_j.x=s-48,this.co_j.muki=1):(this.co_j.x=s+48,this.co_j.muki=0),this.co_j.y=h,this.co_j.vx=0,this.co_j.vy=0,this.co_j.pt=100,this.setmyw_pt=this.co_j.pt,this.setmyw_muki=this.co_j.muki,this.co_j.c1=10,this.km.init1(7),this.km.setMessage(7,this.tdb.getValue("shop_serifu1")),this.km.addItem(7,this.shop_item_name[3]),this.km.addItem(7,this.shop_item_name[2]),this.km.activeSerifutuki(7,Ki(.625*this.gg.di.width-112)-40-96,Ki(.2875*this.gg.di.height-36)-16+46,160,this.mes1_name),this.km.mode=220):220==this.km.mode?(this.co_j.c1=10,1==this.km.cancel_c?(this.km.offActivewindow(7,3),this.km.mode=200):1==this.km.kettei_c&&(0==this.km.selectedIndex[7]?(this.km.init1(8),this.km.addItem(8,"".concat(this.shop_item_name[3]).concat(this.tdb.getValue("shop_serifu5"))),this.km.activeIchigyou(8,Ki(.625*this.gg.di.width-112)-40+76,Ki(.2875*this.gg.di.height-36)-16+96,236),this.j_helm_f=!0,this.gs.rsAddSound(7),this.km.mode=230):(this.km.init1(8),this.km.addItem(8,"".concat(this.shop_item_name[2]).concat(this.tdb.getValue("shop_serifu5"))),this.km.activeIchigyou(8,Ki(.625*this.gg.di.width-112)-40+76,Ki(.2875*this.gg.di.height-36)-16+96,236),this.j_drell_f=!0,this.gs.rsAddSound(7),this.km.mode=230),i.c3=1)):230==this.km.mode?this.co_j.x<s-80-8||this.co_j.x>s+64+8||1==this.km.kettei_c?(this.km.off(3),this.km.off(7),this.km.off(8),this.km.mode=50):1==this.km.cancel_c&&(this.km.off(3),this.km.off(7),this.km.off(8),this.km.init1(3),this.km.setMessage(3,this.mes1_name),this.addSerifu(3,2,3),this.km.activeSerifu(3,Ki(.625*this.gg.di.width-112)-40,Ki(.2875*this.gg.di.height-36)-16,272,this.gamecolor_message_name),this.km.mode=250):250==this.km.mode&&(this.co_j.x<s-80-8||this.co_j.x>s+64+8||1==this.km.cancel_c||1==this.km.kettei_c)&&(this.km.off(3),this.km.mode=50)):i.gf=!1;break;case 88:s>this.maps.wx-32&&s<this.maps.wx+this.gg.di.width&&h>this.maps.wy-32&&h<this.maps.wy+this.gg.di.height?(i.gf=!0,this.a_hf=!0,50==this.km.mode?(this.co_j.x<s-80-8||this.co_j.x>s+64+8)&&(this.km.mode=100):100==this.km.mode?this.co_j.x>=s-80&&this.co_j.x<=s+64&&Math.abs(h-this.co_j.y)<8&&!this.gk.tr1_f&&(0==i.c3?(this.km.init1(3),this.km.setMessage(3,this.mes2_name),this.addSerifu(3,3,3),this.km.activeSerifu(3,Ki(.625*this.gg.di.width-112)-40,Ki(.2875*this.gg.di.height-36)-16,272,this.gamecolor_message_name),this.km.mode=300):(this.km.init1(3),this.km.setMessage(3,this.mes2_name),this.addSerifu(3,4,3),this.km.activeSerifu(3,Ki(.625*this.gg.di.width-112)-40,Ki(.2875*this.gg.di.height-36)-16,272,this.gamecolor_message_name),this.km.mode=350),this.km.move()):300==this.km.mode?1==this.km.cancel_c||this.co_j.x<s-80-8||this.co_j.x>s+64+8||Math.abs(h-this.co_j.y)>16?(this.km.off(3),this.km.mode=50):1==this.km.kettei_c&&(this.co_j.c=150,this.co_j.x<=s||this.maps.getBGCode(s+48,h)>=18?this.maps.getBGCode(s-16,h)>=18?(this.co_j.x=s-15,this.co_j.muki=1):(this.co_j.x=s-48,this.co_j.muki=1):(this.co_j.x=s+48,this.co_j.muki=0),this.co_j.y=h,this.co_j.vx=0,this.co_j.vy=0,this.co_j.pt=100,this.setmyw_pt=this.co_j.pt,this.setmyw_muki=this.co_j.muki,this.co_j.c1=10,this.km.init1(7),this.km.setMessage(7,this.tdb.getValue("shop_serifu1")),this.km.addItem(7,this.shop_item_name[0]),this.km.addItem(7,this.shop_item_name[1]),this.km.activeSerifutuki(7,Ki(.625*this.gg.di.width-112)-40-96,Ki(.2875*this.gg.di.height-36)-16+46,160,this.mes2_name),this.km.mode=320):320==this.km.mode?(this.co_j.c1=10,1==this.km.cancel_c?(this.km.offActivewindow(7,3),this.km.mode=300):1==this.km.kettei_c&&(0==this.km.selectedIndex[7]?(this.km.init1(8),this.km.addItem(8,"".concat(this.shop_item_name[0]).concat(this.tdb.getValue("shop_serifu5"))),this.km.activeIchigyou(8,Ki(.625*this.gg.di.width-112)-40+76,Ki(.2875*this.gg.di.height-36)-16+96,236),this.j_gr_kazu+=3,this.gs.rsAddSound(7),this.km.mode=330):(this.km.init1(8),this.km.addItem(8,"".concat(this.shop_item_name[1]).concat(this.tdb.getValue("shop_serifu5"))),this.km.activeIchigyou(8,Ki(.625*this.gg.di.width-112)-40+76,Ki(.2875*this.gg.di.height-36)-16+96,236),this.j_jet_fuel+=80,this.gs.rsAddSound(7),this.km.mode=330),i.c3=1)):330==this.km.mode?this.co_j.x<s-80-8||this.co_j.x>s+64+8||1==this.km.kettei_c?(this.km.off(3),this.km.off(7),this.km.off(8),this.km.mode=50):1==this.km.cancel_c&&(this.km.off(3),this.km.off(7),this.km.off(8),this.km.init1(3),this.km.setMessage(3,this.mes2_name),this.addSerifu(3,4,3),this.km.activeSerifu(3,Ki(.625*this.gg.di.width-112)-40,Ki(.2875*this.gg.di.height-36)-16,272,this.gamecolor_message_name),this.km.mode=350):350==this.km.mode&&(this.co_j.x<s-80-8||this.co_j.x>s+64+8||1==this.km.cancel_c||1==this.km.kettei_c)&&(this.km.off(3),this.km.mode=50)):i.gf=!1;break;case 89:s>this.maps.wx-32&&s<this.maps.wx+this.gg.di.width&&h>this.maps.wy-32&&h<this.maps.wy+this.gg.di.height?(i.gf=!0,this.a_hf=!0,50==this.km.mode?(this.co_j.x<s-80-8||this.co_j.x>s+64+8)&&(this.km.mode=100):100==this.km.mode?this.co_j.x>=s-80&&this.co_j.x<=s+64&&Math.abs(h-this.co_j.y)<8&&!this.gk.tr1_f&&(this.km.init1(3),this.km.setMessage(3,this.tdb.getValue("fs_name")),this.addSerifu(3,7,3),this.km.activeSerifu(3,Ki(.625*this.gg.di.width-112)-40,Ki(.2875*this.gg.di.height-36)-16,272,this.gamecolor_message_name),this.km.mode=200,this.km.move()):200==this.km.mode?1==this.km.cancel_c||this.co_j.x<s-80-8||this.co_j.x>s+64+8||Math.abs(h-this.co_j.y)>16?(this.km.off(3),this.km.mode=50):1==this.km.kettei_c&&(this.co_j.c=150,this.co_j.x<=s||this.maps.getBGCode(s+48,h)>=18?this.maps.getBGCode(s-16,h)>=18?(this.co_j.x=s-15,this.co_j.muki=1):(this.co_j.x=s-48,this.co_j.muki=1):(this.co_j.x=s+48,this.co_j.muki=0),this.co_j.y=h,this.co_j.vx=0,this.co_j.vy=0,this.co_j.pt=100,this.setmyw_pt=this.co_j.pt,this.setmyw_muki=this.co_j.muki,this.co_j.c1=10,this.km.init1(7),this.km.setMessage(7,this.tdb.getValue("fs_serifu1")),this.km.addItem(7,this.tdb.getValue("fs_item_name1")),this.km.addItem(7,this.tdb.getValue("fs_item_name2")),this.km.addItem(7,this.tdb.getValue("fs_item_name3")),this.km.activeSerifutuki(7,Ki(.625*this.gg.di.width-112)-40-128,Ki(.2875*this.gg.di.height-36)-16+46,240,this.tdb.getValue("fs_name")),this.km.mode=220):220==this.km.mode?(this.co_j.c1=10,1==this.km.cancel_c?(this.km.offActivewindow(7,3),this.km.mode=200):1==this.km.kettei_c&&(this.km.init1(8),this.km.addItem(8,"".concat(this.tdb.getValue("fs_item_name".concat(this.km.selectedIndex[7]+1))).concat(this.tdb.getValue("fs_serifu2"))),this.km.activeIchigyou(8,Ki(.625*this.gg.di.width-112)-40+36,Ki(.2875*this.gg.di.height-36)-16+116,236),this.j_fire_f=!0,0==this.km.selectedIndex[7]?this.j_fire_type=1:1==this.km.selectedIndex[7]?(this.j_fire_type=2,this.j_fire_range=9999):(this.j_fire_type=4,this.j_fire_range=10),this.gs.rsAddSound(7),this.km.mode=230)):230==this.km.mode?(this.co_j.x<s-80-8||this.co_j.x>s+64+8||1==this.km.kettei_c||1==this.km.cancel_c)&&(this.km.off(3),this.km.off(7),this.km.off(8),this.km.mode=50):250==this.km.mode&&(this.co_j.x<s-80-8||this.co_j.x>s+64+8||1==this.km.cancel_c||1==this.km.kettei_c)&&(this.km.off(3),this.km.mode=50)):i.gf=!1;break;case 90:if(s>this.maps.wx-180&&s<this.maps.wx+this.gg.di.width+180&&h>this.maps.wy-180&&h<this.maps.wy+this.gg.di.height+180){i.gf=!0,this.a_hf=!0,i.pt=1200,1==this.isRideYuka(String(i.c4))&&(Math.abs(this.co_j.x+15-s)<16?i.vy>0?i.vy--:i.vy<0&&i.vy++:this.co_j.x+15<s?(i.vy--,this.co_j.x+15<s-80&&i.vy--,i.vy<-56&&(i.vy=-56)):(i.vy++,this.co_j.x+15>s+80&&i.vy++,i.vy>56&&(i.vy=56)));var j=s+Ki(160*Math.cos(3.141592653589793*(i.vy+180)/180),!0,this),l=h+Ki(160*Math.sin(3.141592653589793*(i.vy+180)/180),!0,this),v=s+Ki(160*Math.cos(3.141592653589793*i.vy/180),!0,this),x=h+Ki(160*Math.sin(3.141592653589793*i.vy/180),!0,this);j+=Ki(12*Math.cos(3.141592653589793*(i.vy+270)/180),!0,this),l+=Ki(12*Math.sin(3.141592653589793*(i.vy+270)/180),!0,this),v+=Ki(12*Math.cos(3.141592653589793*(i.vy-90)/180),!0,this),x+=Ki(12*Math.sin(3.141592653589793*(i.vy-90)/180),!0,this),this.setYukaPosition(String(i.c4),String(j),String(l),String(v),String(x))}else i.gf=!1;break;case 93:s>this.maps.wx-180&&s<this.maps.wx+this.gg.di.width+180&&h>this.maps.wy-180&&h<this.maps.wy+this.gg.di.height+180?(i.gf=!0,this.a_hf=!0,i.pt=1300,0==i.c3&&(i.c3=1,this.maps.putBGCode(Ji(s,5),Ji(h,5),50))):i.gf=!1,i.vy>110?(i.vx-=2,i.vx<-40&&(i.vx=-40)):i.vy<70&&(i.vx+=2,i.vx>40&&(i.vx=40)),i.vx>0?i.vy+=Ki((i.vx+5)/10):i.vy+=Ki((i.vx-5)/10);var k=s+Ki(192*Math.cos(3.141592653589793*(i.vy+20)/180),!0,this),w=h+Ki(192*Math.sin(3.141592653589793*(i.vy+20)/180),!0,this),b=s+Ki(192*Math.cos(3.141592653589793*(i.vy-20)/180),!0,this),S=h+Ki(192*Math.sin(3.141592653589793*(i.vy-20)/180),!0,this);this.setYukaPosition(String(i.c4),String(k),String(w),String(b),String(S));break;case 95:if(s>this.maps.wx-180&&s<this.maps.wx+this.gg.di.width+180&&h>this.maps.wy-180&&h<this.maps.wy+this.gg.di.height+180?(i.gf=!0,this.a_hf=!0,i.pt=1400,0==i.c3&&(i.c3=1,this.maps.putBGCode(Ji(s,5),Ji(h,5),50))):i.gf=!1,1==i.c3?i.vy>200?(i.vx-=2,i.vx<-28&&(i.vx=-28)):i.vy<160&&(i.vx+=2,i.vx>28&&(i.vx=28)):2==i.c3&&(i.vy>380?(i.vx-=2,i.vx<-28&&(i.vx=-28)):i.vy<340&&(i.vx+=2,i.vx>28&&(i.vx=28))),i.vx>0?i.vy+=Ki((i.vx+5)/10):i.vy+=Ki((i.vx-5)/10),1==i.c3){var M=s+Ki(192*Math.cos(3.141592653589793*i.vy/180),!0,this)+Ki(12*Math.cos(3.141592653589793*(i.vy+90)/180),!0,this),C=h+Ki(192*Math.sin(3.141592653589793*i.vy/180),!0,this)+Ki(12*Math.sin(3.141592653589793*(i.vy+90)/180),!0,this),I=s+Ki(60*Math.cos(3.141592653589793*i.vy/180),!0,this)+Ki(12*Math.cos(3.141592653589793*(i.vy+90)/180),!0,this),B=h+Ki(60*Math.sin(3.141592653589793*i.vy/180),!0,this)+Ki(12*Math.sin(3.141592653589793*(i.vy+90)/180),!0,this);this.setYukaPosition(String(i.c4),String(M),String(C),String(I),String(B))}else if(2==i.c3){var G=s+Ki(60*Math.cos(3.141592653589793*i.vy/180),!0,this)+Ki(12*Math.cos(3.141592653589793*(i.vy-90)/180),!0,this),z=h+Ki(60*Math.sin(3.141592653589793*i.vy/180),!0,this)+Ki(12*Math.sin(3.141592653589793*(i.vy-90)/180),!0,this),A=s+Ki(192*Math.cos(3.141592653589793*i.vy/180),!0,this)+Ki(12*Math.cos(3.141592653589793*(i.vy-90)/180),!0,this),P=h+Ki(192*Math.sin(3.141592653589793*i.vy/180),!0,this)+Ki(12*Math.sin(3.141592653589793*(i.vy-90)/180),!0,this);this.setYukaPosition(String(i.c4),String(G),String(z),String(A),String(P))}break;case 100:s>this.maps.wx-80-32&&s<this.maps.wx+this.gg.di.width+32&&h>this.maps.wy-16&&h<this.maps.wy+this.gg.di.height+32?(i.gf=!0,this.a_hf=!0,(100==this.co_j.c||130==this.co_j.c)&&this.co_j.x+15>=s&&this.co_j.x<=s+64&&this.co_j.y==h-32&&(this.j_a_id=t)):i.gf=!1,h<=i.c3?(i.vy++,i.vy>5&&(i.vy=5)):h>=i.c4&&(i.vy--,i.vy<-5&&(i.vy=-5)),h+=i.vy,100!=this.co_j.c&&130!=this.co_j.c||(this.j_a_id==t&&(this.co_j.y=h-32),i.vy<0&&this.maps.getBGCode(this.co_j.x+15,this.co_j.y)>=20&&(this.co_j.y=32*Ji(this.co_j.y,5)+16,this.jShinu(3)),this.co_j.x+15>=s&&this.co_j.x<=s+64&&this.co_j.y+31>=h&&this.co_j.y<=h+13&&(i.vy>0?(this.co_j.y=h+14,10!=this.maps.getBGCode(this.co_j.x+15,this.co_j.y+15)&&10!=this.maps.getBGCode(this.co_j.x+15,this.co_j.y+31)||(this.j_hashigo_f=!0),this.maps.getBGCode(this.co_j.x+15,this.co_j.y+31)>=18&&(this.co_j.y=32*Ji(this.co_j.y+31,5)-32,this.jShinu(3))):(this.co_j.y=h-32,this.j_a_id=t)));break;case 110:if(s>this.maps.wx-80-32&&s<this.maps.wx+this.gg.di.width+32&&h>this.maps.wy-16&&h<this.maps.wy+this.gg.di.height+32?(i.gf=!0,this.a_hf=!0,(100==this.co_j.c||130==this.co_j.c)&&this.co_j.x+15>=s&&this.co_j.x<=s+64&&this.co_j.y==h-32&&(this.j_a_id=t)):i.gf=!1,s<=i.c3?(i.vx++,i.vx>3&&(i.vx=3)):s>=i.c4&&(i.vx--,i.vx<-3&&(i.vx=-3)),s+=i.vx,100==this.co_j.c||130==this.co_j.c){if(this.j_a_id==t)if(this.co_j.x+=i.vx,i.vx>0){var N=Ji(this.co_j.x+15,5),O=Ji(this.co_j.y,5),Y=Ji(this.co_j.y+31,5);(this.maps.map_bg[N][O]>=20||this.maps.map_bg[N][Y]>=20)&&(this.co_j.x=32*N-16)}else if(i.vx<0){var T=Ji(this.co_j.x+15,5),E=Ji(this.co_j.y,5),R=Ji(this.co_j.y+31,5);(this.maps.map_bg[T][E]>=20||this.maps.map_bg[T][R]>=20)&&(this.co_j.x=32*T+32-14)}if(this.co_j.x+15>=s&&this.co_j.x<=s+64&&this.co_j.y+31>=h&&this.co_j.y<=h+13)if(i.vx>0){this.co_j.x=s+65;var V=Ji(this.co_j.x+15,5),W=Ji(this.co_j.y,5),D=Ji(this.co_j.y+31,5);(this.maps.map_bg[V][W]>=20||this.maps.map_bg[V][D]>=20)&&(this.co_j.c=230,this.co_j.x=32*V-32+11,this.co_j.c1=0,this.j_zan_f=!1,this.j_jet_c=0,this.j_v_c=0)}else{this.co_j.x=s-16;var L=Ji(this.co_j.x+15,5),H=Ji(this.co_j.y,5),U=Ji(this.co_j.y+31,5);(this.maps.map_bg[L][H]>=20||this.maps.map_bg[L][U]>=20)&&(this.co_j.c=230,this.co_j.x=32*L+32-11,this.co_j.c1=0,this.j_zan_f=!1,this.j_jet_c=0,this.j_v_c=0)}}break;case 120:s>this.maps.wx-80-32&&s<this.maps.wx+this.gg.di.width+32&&h>this.maps.wy-16&&h<this.maps.wy+this.gg.di.height+32?(i.gf=!0,this.a_hf=!0,(100==this.co_j.c||130==this.co_j.c)&&this.co_j.x+15>=s&&this.co_j.x<=s+64&&this.co_j.y==h-32&&(this.j_a_id=t)):i.gf=!1,1==i.muki?(i.c3+=2,i.c3>=360&&(i.c3-=360)):(i.c3-=2,i.c3<0&&(i.c3+=360));var q=3.14*i.c3/180,K=i.vx+Ki(126*Math.cos(q),!0,this)+16-40-s,J=i.vy+Ki(-126*Math.sin(q),!0,this)+16-7-h;if(h+=J,100!=this.co_j.c&&130!=this.co_j.c||(this.j_a_id==t&&(this.co_j.y+=J),J<0&&this.maps.getBGCode(this.co_j.x+15,this.co_j.y)>=20&&(this.co_j.y=32*Ji(this.co_j.y,5)+16,this.jShinu(3)),this.co_j.x+15>=s&&this.co_j.x<=s+64&&this.co_j.y+31>=h&&this.co_j.y<=h+13&&(J>0?(this.co_j.y=h+14,this.maps.getBGCode(this.co_j.x+15,this.co_j.y+31)>=18&&(this.co_j.y=32*Ji(this.co_j.y+31,5)-32,this.jShinu(3))):(this.co_j.y=h-32,this.j_a_id=t))),s+=K,100==this.co_j.c||130==this.co_j.c){if(this.j_a_id==t)if(this.co_j.x+=K,K>0){var Z=Ji(this.co_j.x+15,5),X=Ji(this.co_j.y,5),$=Ji(this.co_j.y+31,5);(this.maps.map_bg[Z][X]>=20||this.maps.map_bg[Z][$]>=20)&&(this.co_j.x=32*Z-16)}else if(K<0){var Q=Ji(this.co_j.x+15,5),tt=Ji(this.co_j.y,5),it=Ji(this.co_j.y+31,5);(this.maps.map_bg[Q][tt]>=20||this.maps.map_bg[Q][it]>=20)&&(this.co_j.x=32*Q+32-14)}if(this.co_j.x+15>=s&&this.co_j.x<=s+64&&this.co_j.y+31>=h&&this.co_j.y<=h+13)if(K>0){this.co_j.x=s+65;var st=Ji(this.co_j.x+15,5),ht=Ji(this.co_j.y,5),et=Ji(this.co_j.y+31,5);(this.maps.map_bg[st][ht]>=20||this.maps.map_bg[st][et]>=20)&&(this.co_j.c=230,this.co_j.x=32*st-32+11,this.co_j.c1=0,this.j_zan_f=!1,this.j_jet_c=0,this.j_v_c=0)}else{this.co_j.x=s-16;var at=Ji(this.co_j.x+15,5),ct=Ji(this.co_j.y,5),ot=Ji(this.co_j.y+31,5);(this.maps.map_bg[at][ct]>=20||this.maps.map_bg[at][ot]>=20)&&(this.co_j.c=230,this.co_j.x=32*at+32-11,this.co_j.c1=0,this.j_zan_f=!1,this.j_jet_c=0,this.j_v_c=0)}}break;case 150:case 160:case 3700:case 3710:case 3800:case 3810:case 3900:case 3910:case 4e3:case 4010:case 4100:case 4110:case 4200:case 4210:case 4300:case 4400:case 4410:case 4500:case 4900:case 4910:case 5e3:case 5300:this.aMoveOption(t),s=i.x,h=i.y;break;case 300:i.c3>=200?(this.maps.map_bg[Ji(s,5)][Ji(h,5)]=31,this.maps.map_bg[Ji(s,5)][Ji(h,5)+1]=31):10!=this.j_tokugi&&12!=this.j_tokugi&&13!=this.j_tokugi||(this.maps.map_bg[Ji(s,5)][Ji(h,5)]=31,this.maps.map_bg[Ji(s,5)+1][Ji(h,5)]=31),s>this.maps.wx-96&&s<this.maps.wx+this.gg.di.width&&h>this.maps.wy-96&&h<this.maps.wy+this.gg.di.height?(i.gf=!0,this.a_hf=!0,i.c3<200&&100==this.co_j.c&&this.co_j.x+15>=s&&this.co_j.x<=s+48&&this.co_j.y==h-32&&(this.j_a_id=t),i.c3>=100&&i.c3<200?(this.co_j.x+15>=s+16&&this.co_j.x+15<=s+63-16&&this.co_j.y>=h+32&&this.co_j.y<h+32+16&&1!=i.c4&&(0==this.sl_step||1==this.sl_step||10==this.sl_step||11==this.sl_step||2!=this.dokan_mode)&&(this.co_j.c1=-10,this.co_j.c2=i.c3,this.co_j.c5=i.c5,this.j_zan_f=!1,this.j_jet_c=0,this.j_v_c=0,this.co_j.c=300,this.co_j.x=s+16,this.co_j.y=h+32,this.co_j.vx=0,this.co_j.vy=0,i.c4=1),100==this.co_j.c&&(this.co_j.x+15<s+16-4||this.co_j.x+15>s+63-16+4||this.co_j.y<h+32-4||this.co_j.y>=h+32+16+4)&&(i.c4=0)):i.c3>=200&&i.c3<300?(this.co_j.x>=s-32&&this.co_j.x+15<=s+31&&this.co_j.y>h+16-14&&this.co_j.y<h+16+14&&1!=i.c4&&(0==this.sl_step||1==this.sl_step||10==this.sl_step||11==this.sl_step||2!=this.dokan_mode)&&(this.co_j.c1=-10,this.co_j.c2=i.c3,this.co_j.c5=i.c5,this.j_zan_f=!1,this.j_jet_c=0,this.j_v_c=0,this.co_j.c=300,this.co_j.x=s-32,this.co_j.y=h+16,this.co_j.muki=1,this.co_j.vx=0,this.co_j.vy=0,i.c4=1),100==this.co_j.c&&(this.co_j.x<s-32-4||this.co_j.x+15>s+31+4||this.co_j.y<=h+16-14-1||this.co_j.y>=h+16+14+1)&&(i.c4=0)):i.c3>=300&&i.c3<400?(this.co_j.x<=s+32&&this.co_j.x+15>=s&&this.co_j.y>h+16-14&&this.co_j.y<h+16+14&&1!=i.c4&&(0==this.sl_step||1==this.sl_step||10==this.sl_step||11==this.sl_step||2!=this.dokan_mode)&&(this.co_j.c1=-10,this.co_j.c2=i.c3,this.co_j.c5=i.c5,this.j_zan_f=!1,this.j_jet_c=0,this.j_v_c=0,this.co_j.c=300,this.co_j.x=s+32,this.co_j.y=h+16,this.co_j.muki=0,this.co_j.vx=0,this.co_j.vy=0,i.c4=1),100==this.co_j.c&&(this.co_j.x>s+32+4||this.co_j.x+15<s-4||this.co_j.y<=h+16-14-1||this.co_j.y>=h+16+14+1)&&(i.c4=0)):(100==this.co_j.c&&this.co_j.x+15>=s&&this.co_j.x<=s+48&&this.co_j.y==h-32&&(this.j_a_id=t,this.co_j.x+15>=s+24&&this.co_j.x<=s+48-24&&this.co_j.y==h-32&&1!=i.c4&&(0==this.sl_step||1==this.sl_step||10==this.sl_step||11==this.sl_step||2!=this.dokan_mode)&&(this.co_j.c1=-10,this.co_j.c2=i.c3,this.co_j.c5=i.c5,this.j_zan_f=!1,this.j_jet_c=0,this.j_v_c=0,this.co_j.c=300,this.co_j.x=s+16,this.co_j.y=h-32,this.co_j.vx=0,this.co_j.vy=0,i.c4=1)),100==this.co_j.c&&this.j_a_id!=t&&(i.c4=0))):i.gf=!1;break;case 400:s>this.maps.wx-96&&s<this.maps.wx+this.gg.di.width&&h>this.maps.wy-64&&h<this.maps.wy+this.gg.di.height?(i.gf=!0,this.a_hf=!0,(100==this.co_j.c||130==this.co_j.c)&&this.co_j.x+15>=s&&this.co_j.x<=s+80&&this.co_j.y==h-32&&(this.j_a_id=t)):i.gf=!1;var _t=0;if(0==i.c3?s-64<this.co_j.x+15&&s+96+64>this.co_j.x+15&&(i.c3=1):i.c3<100?(i.c3++,i.c3>8&&(i.c3=100)):100==i.c3?(_t=1,(h+=12)>=i.vy+128&&(h=i.vy+128,this.a_hf&&this.gs.rsAddSound(12),i.c3=200)):200==i.c3&&(_t=-1,(h-=3)<=i.vy&&(h=i.vy,i.c3=0,s<=this.co_j.x+15&&s+96>this.co_j.x+15&&(i.c3=100))),(100==this.co_j.c||120==this.co_j.c||130==this.co_j.c||150==this.co_j.c)&&(this.j_a_id==t&&(this.co_j.y=h-32,200==i.c3&&this.maps.getBGCode(this.co_j.x+15,this.co_j.y)>=20&&(this.co_j.y=32*Ji(this.co_j.y,5)+16,this.jShinu(3))),this.co_j.x+15>=s&&this.co_j.x<=s+80&&this.co_j.y+31>=h&&this.co_j.y<=h+63)){if(_t>0){if(this.co_j.y=h+64,10==this.maps.getBGCode(this.co_j.x+15,this.co_j.y+15)||10==this.maps.getBGCode(this.co_j.x+15,this.co_j.y+31)){this.j_hashigo_f=!0;var rt=this.maps.getBGCode(this.co_j.x+15,this.co_j.y+32);(rt>=20||15==rt)&&(this.j_hashigo_f=!1)}this.maps.getBGCode(this.co_j.x+15,this.co_j.y+31)>=18&&(this.co_j.y=32*Ji(this.co_j.y+31,5)-32,this.jShinu(3))}_t<0&&(this.co_j.y=h-32,this.j_a_id=t,this.maps.getBGCode(this.co_j.x+15,this.co_j.y)>=20&&(this.co_j.y=32*Ji(this.co_j.y,5)+16,this.jShinu(3)))}break;case 410:s>this.maps.wx-96&&s<this.maps.wx+this.gg.di.width&&h>this.maps.wy-64&&h<this.maps.wy+this.gg.di.height?(i.gf=!0,this.a_hf=!0,(100==this.co_j.c||130==this.co_j.c)&&this.co_j.x+15>=s&&this.co_j.x<=s+80&&this.co_j.y==h-32&&(this.j_a_id=t)):i.gf=!1;var nt=0;if(i.c4<=1)if(0==i.c3){if(s-48<this.co_j.x+15&&s+96+48>this.co_j.x+15){var mt=Ji(s,5),pt=Ji(s+31,5),gt=Ji(s+63,5),ut=Ji(s+95,5),yt=Ji(h-1,5);this.maps.map_bg[mt][yt]<18&&this.maps.map_bg[pt][yt]<18&&this.maps.map_bg[gt][yt]<18&&this.maps.map_bg[ut][yt]<18&&(i.c3=1)}}else if(i.c3<100)i.c3++,i.c3>10&&(i.c3=100);else if(100==i.c3){nt=-1,(h-=12)<=i.vy-128&&(h=i.vy-128,this.a_hf&&this.gs.rsAddSound(12),i.c3=200);var dt=Ji(s,5),ft=Ji(s+31,5),jt=Ji(s+63,5),lt=Ji(s+95,5),vt=Ji(h-1,5);(this.maps.map_bg[dt][vt]>=18||this.maps.map_bg[ft][vt]>=18||this.maps.map_bg[jt][vt]>=18||this.maps.map_bg[lt][vt]>=18)&&(h=32*vt+32,i.c3=200,this.a_hf&&this.gs.rsAddSound(12))}else 200==i.c3&&(nt=1,(h+=3)>=i.vy&&(h=i.vy,i.c3=0,s<=this.co_j.x+15&&s+96>this.co_j.x+15&&(i.c3=100)));else if(2==i.c4)if(0==i.c3){if(i.vx-160-40<=this.co_j.x+15&&i.vx>this.co_j.x+15&&h-32<this.co_j.y&&h+64>this.co_j.y){var xt=Ji(s-1,5),kt=Ji(h,5),wt=Ji(h+31,5),bt=Ji(h+63,5);this.maps.map_bg[xt][kt]<18&&this.maps.map_bg[xt][wt]<18&&this.maps.map_bg[xt][bt]<18&&(i.c3=1)}}else if(i.c3<100)i.c3++,i.c3>10&&(i.c3=100);else if(100==i.c3){(s-=12)<=i.vx-160&&(s=i.vx-160,this.a_hf&&this.gs.rsAddSound(12),i.c3=200);var St=Ji(s-1,5),Mt=Ji(h,5),Ct=Ji(h+31,5),It=Ji(h+63,5);(this.maps.map_bg[St][Mt]>=18||this.maps.map_bg[St][Ct]>=18||this.maps.map_bg[St][It]>=18)&&(s=32*St+32,i.c3=200,this.a_hf&&this.gs.rsAddSound(12))}else 200==i.c3&&(s+=3)>=i.vx&&(s=i.vx,i.c3=0,i.vx-160-40<=this.co_j.x+15&&i.vx>this.co_j.x+15&&h-32<this.co_j.y&&h+64>this.co_j.y&&(i.c3=100));else if(3==i.c4)if(0==i.c3){if(i.vx+96+160+40>this.co_j.x+15&&i.vx+96<=this.co_j.x+15&&h-32<this.co_j.y&&h+64>this.co_j.y){var Bt=Ji(s+96,5),Gt=Ji(h,5),zt=Ji(h+31,5),At=Ji(h+63,5);this.maps.map_bg[Bt][Gt]<18&&this.maps.map_bg[Bt][zt]<18&&this.maps.map_bg[Bt][At]<18&&(i.c3=1)}}else if(i.c3<100)i.c3++,i.c3>10&&(i.c3=100);else if(100==i.c3){(s+=12)>=i.vx+160&&(s=i.vx+160,this.a_hf&&this.gs.rsAddSound(12),i.c3=200);var Pt=Ji(s+96,5),Nt=Ji(h,5),Ot=Ji(h+31,5),Yt=Ji(h+63,5);(this.maps.map_bg[Pt][Nt]>=18||this.maps.map_bg[Pt][Ot]>=18||this.maps.map_bg[Pt][Yt]>=18)&&(s=32*Pt-96,i.c3=200,this.a_hf&&this.gs.rsAddSound(12))}else 200==i.c3&&(s-=3)<=i.vx&&(s=i.vx,i.c3=0,i.vx+96+160+40>this.co_j.x+15&&i.vx+96<=this.co_j.x+15&&h-32<this.co_j.y&&h+64>this.co_j.y&&(i.c3=100));else if(4==i.c4){if(i.c1=s-this.gg.di.width-32-128,i.c2=s+128+128,s+=i.vx,i.vx<0){var Tt=Ji(s,5),Et=Ji(h,5),Rt=Ji(h+31,5),Vt=Ji(h+63,5);(this.maps.map_bg[Tt][Et]>=18||this.maps.map_bg[Tt][Rt]>=18||this.maps.map_bg[Tt][Vt]>=18)&&(s=32*Tt+32,i.vx=3)}else if(i.vx>0){var Wt=Ji(s+95,5),Ft=Ji(h,5),Dt=Ji(h+31,5),Lt=Ji(h+63,5);(this.maps.map_bg[Wt][Ft]>=18||this.maps.map_bg[Wt][Dt]>=18||this.maps.map_bg[Wt][Lt]>=18)&&(s=32*Wt-96,i.vx=-3)}}else if(5==i.c4)if(0==i.c3){if(s-48<this.co_j.x+15&&s+96+48>this.co_j.x+15&&this.co_j.y>=h+64&&this.co_j.y<=h+64+96){var Ht=Ji(s,5),Ut=Ji(s+31,5),qt=Ji(s+63,5),Kt=Ji(s+95,5),Jt=Ji(h+64,5);this.maps.map_bg[Ht][Jt]<18&&this.maps.map_bg[Ut][Jt]<18&&this.maps.map_bg[qt][Jt]<18&&this.maps.map_bg[Kt][Jt]<18&&(i.c3=1)}}else if(i.c3<100)i.c3++,i.c3>4&&(i.c3=100);else if(100==i.c3){h+=8,nt=1;var Zt=Ji(s,5),Xt=Ji(s+31,5),$t=Ji(s+63,5),Qt=Ji(s+95,5),ti=Ji(h+63,5);if((this.maps.map_bg[Zt][ti]>=18||this.maps.map_bg[Xt][ti]>=18||this.maps.map_bg[$t][ti]>=18||this.maps.map_bg[Qt][ti]>=18)&&(h=32*ti-64,i.c3=200),h>=this.ochiru_y){i.c=0;break}}else i.c3;else if(6==i.c4)if(0==i.c3){if(this.j_a_id==t){var ii=Ji(s,5),si=Ji(s+31,5),hi=Ji(s+63,5),ei=Ji(s+95,5),ai=Ji(h-1,5);this.maps.map_bg[ii][ai]<18&&this.maps.map_bg[si][ai]<18&&this.maps.map_bg[hi][ai]<18&&this.maps.map_bg[ei][ai]<18&&(i.c3=100)}}else if(100==i.c3){h-=4,nt=-1;var ci=Ji(s,5),oi=Ji(s+31,5),_i=Ji(s+63,5),ri=Ji(s+95,5),ni=Ji(h-32,5);(this.maps.map_bg[ci][ni]>=18||this.maps.map_bg[oi][ni]>=18||this.maps.map_bg[_i][ni]>=18||this.maps.map_bg[ri][ni]>=18)&&(h=32*ni+64,i.c3=200),h<=352&&(h=352,i.c3=200)}else 200==i.c3?this.j_a_id!=t&&(i.c3=201):i.c3<300?(i.c3++,i.c3>212&&(i.c3=300)):300==i.c3&&(nt=1,(h+=4)>=i.vy&&(h=i.vy,i.c3=0));else if(7==i.c4)if(0==i.c3){if(this.j_a_id==t){var mi=Ji(s,5),pi=Ji(s+31,5),gi=Ji(s+63,5),ui=Ji(s+95,5),yi=Ji(h+64,5);this.maps.map_bg[mi][yi]<18&&this.maps.map_bg[pi][yi]<18&&this.maps.map_bg[gi][yi]<18&&this.maps.map_bg[ui][yi]<18&&(i.c3=100)}}else if(100==i.c3){h+=4,nt=1;var di=Ji(s,5),fi=Ji(s+31,5),ji=Ji(s+63,5),li=Ji(s+95,5),vi=Ji(h+64,5);(this.maps.map_bg[di][vi]>=18||this.maps.map_bg[fi][vi]>=18||this.maps.map_bg[ji][vi]>=18||this.maps.map_bg[li][vi]>=18)&&(h=32*vi-64,i.c3=200),h>=this.ochiru_y-32&&(h=this.ochiru_y-32,i.c3=200)}else 200==i.c3?this.j_a_id!=t&&(i.c3=201):i.c3<300?(i.c3++,i.c3>212&&(i.c3=300)):300==i.c3&&(nt=-1,(h-=4)<=i.vy&&(h=i.vy,i.c3=0));else if(8==i.c4)if(0==i.c3){if(s-48<this.co_j.x+15&&s+96+48>this.co_j.x+15&&h-16>=this.co_j.y){var xi=Ji(s,5),ki=Ji(s+31,5),wi=Ji(s+63,5),bi=Ji(s+95,5),Si=Ji(h-1,5);this.maps.map_bg[xi][Si]<18&&this.maps.map_bg[ki][Si]<18&&this.maps.map_bg[wi][Si]<18&&this.maps.map_bg[bi][Si]<18&&(i.c3=1)}if(s-48<this.co_j.x+15&&s+96+48>this.co_j.x+15&&h+48<=this.co_j.y){var Mi=Ji(s,5),Ci=Ji(s+31,5),Ii=Ji(s+63,5),Bi=Ji(s+95,5),Gi=Ji(h+64,5);this.maps.map_bg[Mi][Gi]<18&&this.maps.map_bg[Ci][Gi]<18&&this.maps.map_bg[Ii][Gi]<18&&this.maps.map_bg[Bi][Gi]<18&&(i.c3=1001)}}else if(i.c3<100)i.c3++,i.c3>10&&(i.c3=100);else if(100==i.c3){nt=-1,(h-=12)<=i.vy-128&&(h=i.vy-128,this.a_hf&&this.gs.rsAddSound(12),i.c3=200);var zi=Ji(s,5),Ai=Ji(s+31,5),Pi=Ji(s+63,5),Ni=Ji(s+95,5),Oi=Ji(h-1,5);(this.maps.map_bg[zi][Oi]>=18||this.maps.map_bg[Ai][Oi]>=18||this.maps.map_bg[Pi][Oi]>=18||this.maps.map_bg[Ni][Oi]>=18)&&(h=32*Oi+32,i.c3=200,this.a_hf&&this.gs.rsAddSound(12))}else if(200==i.c3)nt=1,(h+=3)>=i.vy&&(h=i.vy,i.c3=0,s-48<this.co_j.x+15&&s+96+48>this.co_j.x+15&&h-16>=this.co_j.y&&(i.c3=100));else if(i.c3<1100)i.c3++,i.c3>1010&&(i.c3=1100);else if(1100==i.c3){nt=1,(h+=12)>=i.vy+128&&(h=i.vy+128,this.a_hf&&this.gs.rsAddSound(12),i.c3=1200);var Yi=Ji(s,5),Ti=Ji(s+31,5),Ei=Ji(s+63,5),Ri=Ji(s+95,5),Vi=Ji(h+64,5);(this.maps.map_bg[Yi][Vi]>=18||this.maps.map_bg[Ti][Vi]>=18||this.maps.map_bg[Ei][Vi]>=18||this.maps.map_bg[Ri][Vi]>=18)&&(h=32*Vi-64,i.c3=1200,this.a_hf&&this.gs.rsAddSound(12))}else 1200==i.c3&&(nt=-1,(h-=3)<=i.vy&&(h=i.vy,i.c3=0,s-48<this.co_j.x+15&&s+96+48>this.co_j.x+15&&h+48<=this.co_j.y&&(i.c3=1100)));else if(9==i.c4)if(0==i.c3){if(i.vx-160-40<=this.co_j.x+15&&i.vx>this.co_j.x+15&&h-32<this.co_j.y&&h+64>this.co_j.y){var Wi=Ji(s-1,5),Fi=Ji(h,5),Di=Ji(h+31,5),Li=Ji(h+63,5);this.maps.map_bg[Wi][Fi]<18&&this.maps.map_bg[Wi][Di]<18&&this.maps.map_bg[Wi][Li]<18&&(i.c3=1)}if(i.vx+96+160+40>this.co_j.x+15&&i.vx+96<=this.co_j.x+15&&h-32<this.co_j.y&&h+64>this.co_j.y){var Hi=Ji(s+96,5),Ui=Ji(h,5),qi=Ji(h+31,5),Zi=Ji(h+63,5);this.maps.map_bg[Hi][Ui]<18&&this.maps.map_bg[Hi][qi]<18&&this.maps.map_bg[Hi][Zi]<18&&(i.c3=1001)}}else if(i.c3<100)i.c3++,i.c3>10&&(i.c3=100);else if(100==i.c3){(s-=12)<=i.vx-160&&(s=i.vx-160,this.a_hf&&this.gs.rsAddSound(12),i.c3=200);var Xi=Ji(s-1,5),$i=Ji(h,5),Qi=Ji(h+31,5),ts=Ji(h+63,5);(this.maps.map_bg[Xi][$i]>=18||this.maps.map_bg[Xi][Qi]>=18||this.maps.map_bg[Xi][ts]>=18)&&(s=32*Xi+32,i.c3=200,this.a_hf&&this.gs.rsAddSound(12))}else if(200==i.c3)(s+=3)>=i.vx&&(s=i.vx,i.c3=0,i.vx-160-40<=this.co_j.x+15&&i.vx>this.co_j.x+15&&h-32<this.co_j.y&&h+64>this.co_j.y&&(i.c3=100));else if(i.c3<1100)i.c3++,i.c3>10&&(i.c3=1100);else if(1100==i.c3){(s+=12)>=i.vx+160&&(s=i.vx+160,this.a_hf&&this.gs.rsAddSound(12),i.c3=1200);var is=Ji(s+96,5),ss=Ji(h,5),hs=Ji(h+31,5),es=Ji(h+63,5);(this.maps.map_bg[is][ss]>=18||this.maps.map_bg[is][hs]>=18||this.maps.map_bg[is][es]>=18)&&(s=32*is-96,i.c3=1200,this.a_hf&&this.gs.rsAddSound(12))}else 1200==i.c3&&(s-=3)<=i.vx&&(s=i.vx,i.c3=0,i.vx+96+160+40>this.co_j.x+15&&i.vx+96<=this.co_j.x+15&&h-32<this.co_j.y&&h+64>this.co_j.y&&(i.c3=1100));else if(10==i.c4)if(0==i.c3){if(s-48<this.co_j.x+15&&s+96+48>this.co_j.x+15&&h+48<=this.co_j.y){var as=Ji(s,5),cs=Ji(s+31,5),os=Ji(s+63,5),_s=Ji(s+95,5),rs=Ji(h+64,5);this.maps.map_bg[as][rs]<18&&this.maps.map_bg[cs][rs]<18&&this.maps.map_bg[os][rs]<18&&this.maps.map_bg[_s][rs]<18&&(i.c3=1)}}else if(i.c3<100)i.c3++,i.c3>10&&(i.c3=100);else if(100==i.c3){h+=12,nt=1;var ns=Ji(s,5),ms=Ji(s+31,5),ps=Ji(s+63,5),gs=Ji(s+95,5),us=Ji(h+64,5);(this.maps.map_bg[ns][us]>=18||this.maps.map_bg[ms][us]>=18||this.maps.map_bg[ps][us]>=18||this.maps.map_bg[gs][us]>=18)&&(h=32*us-64,i.c3=200,this.a_hf&&this.gs.rsAddSound(12)),h>=this.ochiru_y-32&&(h=this.ochiru_y-32,i.c3=200,this.a_hf&&this.gs.rsAddSound(12))}else 200==i.c3&&(nt=-1,(h-=3)<=i.vy&&(h=i.vy,i.c3=0,s<=this.co_j.x+15&&s+96>this.co_j.x+15&&h+48<=this.co_j.y&&(i.c3=100)));else if(11==i.c4)if(0==i.c3){h-=4,nt=-1;var ys=Ji(s,5),ds=Ji(s+31,5),fs=Ji(s+63,5),js=Ji(s+95,5),ls=Ji(h,5);(this.maps.map_bg[ys][ls]>=18||this.maps.map_bg[ds][ls]>=18||this.maps.map_bg[fs][ls]>=18||this.maps.map_bg[js][ls]>=18)&&(h=32*ls+32,i.c3=1),h<=320&&(h=320,i.c3=1)}else{h+=4,nt=1;var vs=Ji(s,5),xs=Ji(s+31,5),ks=Ji(s+63,5),ws=Ji(s+95,5),bs=Ji(h+64,5);(this.maps.map_bg[vs][bs]>=18||this.maps.map_bg[xs][bs]>=18||this.maps.map_bg[ks][bs]>=18||this.maps.map_bg[ws][bs]>=18)&&(h=32*bs-64,i.c3=0),h>=this.ochiru_y-32&&(h=this.ochiru_y-32,i.c3=0)}else if(12==i.c4){var Ss=Ji(s+47,5),Ms=Ji(h+63,5);if(19==this.maps.map_bg[Ss][Ms])0==i.c3?(Ji(s+47,5)!=Ji(s+47-4,5)&&(h=32*Ji(h+63,5)-64),Ss=Ji(47+(s-=4),5),Ms=Ji(h+63,5),19!=this.maps.map_bg[Ss][Ms]&&18!=this.maps.map_bg[Ss][Ms]||(h=this.getSakamichiY(s+47,h+63)-32)):(Ji(s+47,5)!=Ji(s+47+4,5)&&(h=32*Ji(h+63,5)-32),Ss=Ji((s+=4)+47,5),Ms=Ji(h+63,5),19!=this.maps.map_bg[Ss][Ms]&&18!=this.maps.map_bg[Ss][Ms]||(h=this.getSakamichiY(s+47,h+63)-32),Ss=Ji(s+47,5),Ms=Ji(h+64,5),19==this.maps.map_bg[Ss][Ms]&&(h=this.getSakamichiY(s+47,h+64)-32));else if(18==this.maps.map_bg[Ss][Ms])if(0!=i.c3){Ji(s+47,5)!=Ji(s+47+4,5)&&(h=32*Ji(h+63,5)-64);var Cs=Ji((s+=4)+47,5),Is=Ji(h+63,5);19!=this.maps.map_bg[Cs][Is]&&18!=this.maps.map_bg[Cs][Is]||(h=this.getSakamichiY(s+47,h+63)-32)}else{Ji(s+47,5)!=Ji(s+47-4,5)&&(h=32*Ji(h+63,5)-32);var Bs=Ji(47+(s-=4),5),Gs=Ji(h+63,5);19!=this.maps.map_bg[Bs][Gs]&&18!=this.maps.map_bg[Bs][Gs]||(h=this.getSakamichiY(s+47,h+63)-32),Bs=Ji(s+47,5),Gs=Ji(h+64,5),18==this.maps.map_bg[Bs][Gs]&&(h=this.getSakamichiY(s+47,h+64)-32)}else if(0==i.c3){var zs=Ji(47+(s-=4),5),As=Ji(h+64,5);18==this.maps.map_bg[zs][As]&&(h=this.getSakamichiY(s+47,h+64)-32),zs=Ji(s-1,5),As=Ji(h,5);var Ps=Ji(h+31,5),Ns=Ji(h+63,5);19==this.maps.map_bg[Ji(s+16,5)][Ns]||19==this.maps.map_bg[Ji(s+32,5)][Ns]?this.maps.map_bg[zs][As]>=20&&(s=32*zs+32,i.c3=1):(this.maps.map_bg[zs][As]>=20||this.maps.map_bg[zs][Ps]>=20||this.maps.map_bg[zs][Ns]>=20)&&(s=32*zs+32,i.c3=1)}else{var Os=Ji((s+=4)+47,5),Ys=Ji(h+64,5);19==this.maps.map_bg[Os][Ys]&&(h=this.getSakamichiY(s+47,h+64)-32),Os=Ji(s+96,5),Ys=Ji(h,5);var Ts=Ji(h+31,5),Es=Ji(h+63,5);18==this.maps.map_bg[Ji(s+96-16,5)][Es]||18==this.maps.map_bg[Ji(s+96-32,5)][Es]?this.maps.map_bg[Os][Ys]>=20&&(s=32*Os-96,i.c3=0):(this.maps.map_bg[Os][Ys]>=20||this.maps.map_bg[Os][Ts]>=20||this.maps.map_bg[Os][Es]>=20)&&(s=32*Os-96,i.c3=0)}i.vy=h,h=i.y}else if(13==i.c4)0==i.c3&&this.j_a_id==t&&(i.c4=12,i.c3=1,i.vy=h);else if(14==i.c4){var Rs=Ji(s,5),Vs=Ji(s+31,5),Ws=Ji(s+63,5),Fs=Ji(s+95,5),Ds=Ji(h+64,5);if(this.maps.map_bg[Rs][Ds]>=18||this.maps.map_bg[Vs][Ds]>=18||this.maps.map_bg[Ws][Ds]>=18||this.maps.map_bg[Fs][Ds]>=18){h=32*Ds-64;for(var Ls=0;!(Ls>29);){var Hs=Ji(h+63,5);if(this.maps.map_bg[Rs][Hs]<18&&this.maps.map_bg[Vs][Hs]<18&&this.maps.map_bg[Ws][Hs]<18&&this.maps.map_bg[Fs][Hs]<18)break;h=32*Hs-64,nt=-1,Ls++}}else{h+=4,nt=1;var Us=Ji(s,5),qs=Ji(s+31,5),Ks=Ji(s+63,5),Js=Ji(s+95,5),Zs=Ji(h+64,5);(this.maps.map_bg[Us][Zs]>=18||this.maps.map_bg[qs][Zs]>=18||this.maps.map_bg[Ks][Zs]>=18||this.maps.map_bg[Js][Zs]>=18)&&(h=32*Zs-64,i.c3=0),h>=this.ochiru_y&&(h=this.ochiru_y,i.c=0)}}else if(15==i.c4)this.co_j.x>=s&&this.co_j.x<=s+64&&this.co_j.y>=h+64&&(i.c4=14);else if(16==i.c4){1==this.souko_count3?i.pt=3400:i.pt=400;var Xs=Ji(s,5),$s=Ji(s+31,5),Qs=Ji(s+63,5),th=Ji(s+95,5),ih=Ji(h+64,5);if(1!=i.vx)if(this.maps.map_bg[Xs][ih]>=18||this.maps.map_bg[$s][ih]>=18||this.maps.map_bg[Qs][ih]>=18||this.maps.map_bg[th][ih]>=18){h=32*ih-64;for(var sh=0;!(sh>29);){var hh=Ji(h+63,5);if(this.maps.map_bg[Xs][hh]<18&&this.maps.map_bg[$s][hh]<18&&this.maps.map_bg[Qs][hh]<18&&this.maps.map_bg[th][hh]<18)break;h=32*hh-64,nt=-1,sh++}}else{for(var eh=!1,ah=0;!(ah>this.a_kazu);){if(410==this.co_a[ah].c&&16==this.co_a[ah].c4&&ah!=t&&this.co_a[ah].x+95>=s&&this.co_a[ah].x<=s+95&&h+64>=this.co_a[ah].y&&h+16<=this.co_a[ah].y){eh=!0,h=this.co_a[ah].y-64;break}ah++}if(!eh){h+=4,nt=1;var ch=Ji(s,5),oh=Ji(s+31,5),_h=Ji(s+63,5),rh=Ji(s+95,5),nh=Ji(h+64,5);(this.maps.map_bg[ch][nh]>=18||this.maps.map_bg[oh][nh]>=18||this.maps.map_bg[_h][nh]>=18||this.maps.map_bg[rh][nh]>=18)&&(h=32*nh-64,i.c3=0),h>=this.ochiru_y&&(h=this.ochiru_y,i.c=0)}}}else if(17==i.c4)h>i.vy&&(h-=8)<=i.vy&&(h=i.vy);else if(18==i.c4){if(i.vy+=5,i.vy>100&&(i.vy=100),h+=Ki(i.vy/10),i.vy>-10&&i.vy>=10){var mh=Ji(s,5),ph=Ji(s+31,5),gh=Ji(s+63,5),uh=Ji(s+95,5),yh=Ji(h+63,5);if((this.maps.map_bg[mh][yh]>=20||this.maps.map_bg[ph][yh]>=20||this.maps.map_bg[gh][yh]>=20||this.maps.map_bg[uh][yh]>=20)&&(h=32*yh-64,i.vy=-100),h>=this.ochiru_y){i.c=0;break}}h>i.y?nt=1:h<i.y&&(nt=-1)}if(100==this.co_j.c||120==this.co_j.c||130==this.co_j.c||150==this.co_j.c){if(this.j_a_id==t)if(this.co_j.x+=s-i.x,s-i.x>0){var dh=Ji(this.co_j.x+15,5),fh=Ji(this.co_j.y,5),jh=Ji(this.co_j.y+31,5);(this.maps.map_bg[dh][fh]>=20||this.maps.map_bg[dh][jh]>=20)&&(this.co_j.x=32*dh-16)}else if(s-i.x<0){var lh=Ji(this.co_j.x+15,5),vh=Ji(this.co_j.y,5),xh=Ji(this.co_j.y+31,5);(this.maps.map_bg[lh][vh]>=20||this.maps.map_bg[lh][xh]>=20)&&(this.co_j.x=32*lh+32-14)}if(this.co_j.x+15>=s&&this.co_j.x<=s+80&&this.co_j.y+31>=h&&this.co_j.y<=h+63){if(s-i.x>0)if(this.j_hashigo_f||this.gk.down_f&&10==this.maps.getBGCode(this.co_j.x+15,this.co_j.y+32))this.co_j.c=230,this.co_j.x=32*Ji(this.co_j.x+15,5)+11,this.co_j.c1=0,this.j_zan_f=!1,this.j_jet_c=0,this.j_v_c=0,this.gs.rsAddSound(24);else{12==i.c4&&18==this.maps.map_bg[Ji(this.co_j.x+15,5)][Ji(this.co_j.y+31,5)]&&Ji(this.co_j.x+15,5)!=Ji(s+81+15,5)&&(this.co_j.y=32*Ji(this.co_j.y+31,5)-32),this.co_j.x=s+81;var kh=Ji(this.co_j.x+15,5),wh=Ji(this.co_j.y,5),bh=Ji(this.co_j.y+31,5);(this.maps.map_bg[kh][wh]>=20||this.maps.map_bg[kh][bh]>=20)&&(this.co_j.c=230,this.co_j.x=32*kh-32+11,this.co_j.c1=0,this.j_zan_f=!1,this.j_jet_c=0,this.j_v_c=0,this.gs.rsAddSound(24))}if(s-i.x<0)if(this.j_hashigo_f||this.gk.down_f&&10==this.maps.getBGCode(this.co_j.x+15,this.co_j.y+32))this.co_j.c=230,this.co_j.x=32*Ji(this.co_j.x+15,5)-11,this.co_j.c1=0,this.j_zan_f=!1,this.j_jet_c=0,this.j_v_c=0,this.gs.rsAddSound(24);else{12==i.c4&&19==this.maps.map_bg[Ji(this.co_j.x+15,5)][Ji(this.co_j.y+31,5)]&&Ji(this.co_j.x+15,5)!=Ji(s-16+15,5)&&(this.co_j.y=32*Ji(this.co_j.y+31,5)-32),this.co_j.x=s-16;var Sh=Ji(this.co_j.x+15,5),Mh=Ji(this.co_j.y,5),Ch=Ji(this.co_j.y+31,5);(this.maps.map_bg[Sh][Mh]>=20||this.maps.map_bg[Sh][Ch]>=20)&&(this.co_j.c=230,this.co_j.x=32*Sh+32-11,this.co_j.c1=0,this.j_zan_f=!1,this.j_jet_c=0,this.j_v_c=0,this.gs.rsAddSound(24))}}}if(4==i.c4){if(i.vy+=5,i.vy>100&&(i.vy=100),h+=Ki(i.vy/10),i.vy<=-10){var Ih=Ji(s,5),Bh=Ji(s+31,5),Gh=Ji(s+63,5),zh=Ji(s+95,5),Ah=Ji(h,5);(this.maps.map_bg[Ih][Ah]>=18||this.maps.map_bg[Bh][Ah]>=18||this.maps.map_bg[Gh][Ah]>=18||this.maps.map_bg[zh][Ah]>=18)&&(h=32*Ah+32,i.vy=0)}else if(i.vy>=10){var Ph=Ji(s,5),Nh=Ji(s+31,5),Oh=Ji(s+63,5),Yh=Ji(s+95,5),Th=Ji(h+63,5);if((this.maps.map_bg[Ph][Th]>=20||this.maps.map_bg[Nh][Th]>=20||this.maps.map_bg[Oh][Th]>=20||this.maps.map_bg[Yh][Th]>=20)&&(h=32*Th-64,i.vy=-100),h>=this.ochiru_y){i.c=0;break}}h>i.y?nt=1:h<i.y&&(nt=-1)}else 12==i.c4&&((h=i.vy)>i.y?nt=1:h<i.y&&(nt=-1));if((100==this.co_j.c||120==this.co_j.c||130==this.co_j.c||150==this.co_j.c)&&((nt<=0||!this.j_hashigo_f)&&(nt<=0||!this.co_j.jimen_f||10!=this.maps.getBGCode(this.co_j.x+15,this.co_j.y+32))&&this.j_a_id==t&&(this.co_j.y=h-32,nt<0&&this.maps.getBGCode(this.co_j.x+15,this.co_j.y)>=20&&(this.co_j.y=32*Ji(this.co_j.y,5)+16,this.jShinu(3))),this.co_j.x+15>=s&&this.co_j.x<=s+80&&this.co_j.y+31>=h&&this.co_j.y<=h+63)){if(nt>0){if(this.co_j.y=h+64,10==this.maps.getBGCode(this.co_j.x+15,this.co_j.y+15)||10==this.maps.getBGCode(this.co_j.x+15,this.co_j.y+31)){this.j_hashigo_f=!0;var Eh=this.maps.getBGCode(this.co_j.x+15,this.co_j.y+32);(Eh>=20||15==Eh)&&(this.j_hashigo_f=!1)}this.maps.getBGCode(this.co_j.x+15,this.co_j.y+31)>=18&&(this.co_j.y=32*Ji(this.co_j.y+31,5)-32,this.jShinu(3),12!=i.c4||18!=this.maps.map_bg[Ji(this.co_j.x+15,5)][Ji(this.co_j.y+32,5)]&&19!=this.maps.map_bg[Ji(this.co_j.x+15,5)][Ji(this.co_j.y+32,5)]||(this.co_j.y=this.getSakamichiY(this.co_j.x+15,this.co_j.y+32)))}nt<0&&(this.co_j.y=h-32,this.j_a_id=t,this.maps.getBGCode(this.co_j.x+15,this.co_j.y)>=20&&(this.co_j.y=32*Ji(this.co_j.y,5)+16,this.jShinu(3)))}break;case 500:s>this.maps.wx-96-32&&s<this.maps.wx+this.gg.di.width+32&&h>this.maps.wy-32&&h<=this.maps.wy+this.gg.di.height+48?(i.gf=!0,this.a_hf=!0,(100==this.co_j.c||130==this.co_j.c)&&this.co_j.x+15>=s&&this.co_j.x<=s+80&&this.co_j.y==h-32?(this.j_a_id=t,1==i.c4?i.c3<50&&(i.c3<=0?i.c3=1:i.c3<=30?i.c3++:(i.c3=55,i.vy=0)):i.c3<=0&&(i.c3=51,i.vy=0)):1==i.c4&&i.c3<50&&(i.c3=0)):i.gf=!1,i.c3>0&&(i.c3>=51&&i.c3<=54?i.c3++:i.c3>=55&&i.c3<100&&(i.vy<16&&i.vy++,h+=i.vy,this.maps.getBGCode(s+32,h+13)>=20&&(h=32*Ji(h+13,5)-14,i.c3=100),h>=this.ochiru_y+48&&(i.c=0,i.gf=!1))),100!=this.co_j.c&&130!=this.co_j.c||this.j_a_id!=t||(this.co_j.y=h-32);break;case 600:if(s>this.maps.wx-96&&s<this.maps.wx+this.gg.di.width&&h>this.maps.wy-64&&h<this.maps.wy+this.gg.di.height?(i.gf=!0,this.a_hf=!0,(100==this.co_j.c||130==this.co_j.c)&&this.co_j.x+15>=s&&this.co_j.x<=s+48&&this.co_j.y==h+16-32&&(this.j_a_id=t)):i.gf=!1,i.pt=600,i.c3<=0?(i.vx=0,this.j_a_id==t&&(i.c3=100,i.c4=0,i.vx=2),this.co_j.x>=s-144&&(i.pt=605)):100==i.c3?(i.c1=s-this.gg.di.width-32,i.c2=s+128,this.j_a_id!=t?(i.c4++,i.c4>50&&(i.c3=0)):i.c4=0,i.pt=605):200==i.c3&&(i.pt=605,i.vx=0),s+=i.vx,(this.maps.getBGCode(s+63+16,h)>=20||this.maps.getBGCode(s+63+16,h+32)>=20)&&(s=32*Ji(s+63+16,5)-64-16,i.vx=s-i.x,i.c3=200),100==this.co_j.c||130==this.co_j.c){if(this.j_a_id==t&&(this.co_j.x+=i.vx,i.vx>0)){var Rh=Ji(this.co_j.x+15,5),Vh=Ji(this.co_j.y,5),Wh=Ji(this.co_j.y+31,5);(this.maps.map_bg[Rh][Vh]>=20||this.maps.map_bg[Rh][Wh]>=20)&&(this.co_j.x=32*Rh-16)}this.co_j.x+15>=s&&this.co_j.x<=s+48&&this.co_j.y+31>=h+16&&this.co_j.y<=h+47&&(this.co_j.x=s+49)}break;case 610:i.c1=s-this.gg.di.width-32,i.c2=s+128,s>this.maps.wx-96&&s<this.maps.wx+this.gg.di.width&&h>this.maps.wy-64&&h<this.maps.wy+this.gg.di.height?(i.gf=!0,this.a_hf=!0,(100==this.co_j.c||130==this.co_j.c)&&this.co_j.x+15>=s&&this.co_j.x<=s+48&&this.co_j.y==h+16-32&&(this.j_a_id=t)):i.gf=!1,i.c3<=0?(i.pt=600,this.co_j.x>=s-144&&(i.pt=605)):i.c3,this.co_j.c<100||this.co_j.c>=200?i.c3=100:this.j_rope_cf&&this.j_rope_id==t?(this.co_j.x<=s+16-14||this.co_j.x>=s+16+14||this.co_j.y>h-32+16||this.co_j.y<=h-64)&&(this.j_rope_cf=!1,i.c3=100):145==this.co_j.c&&this.j_rope_id==t?i.c3=200:100==this.co_j.c&&this.j_a_id==t&&this.co_j.x>=s+16-10&&this.co_j.x<=s+16+10&&(i.c3=200,this.co_j.c=145,this.co_j.ac=0,this.j_rope_id=t,this.j_rope_cf=!1,this.j_zan_f=!1,this.j_jet_c=0,this.gs.rsAddSound(7));break;case 700:if(s>this.maps.wx-96&&s<this.maps.wx+this.gg.di.width&&h>this.maps.wy-64&&h<this.maps.wy+this.gg.di.height?(i.gf=!0,this.a_hf=!0,100==this.co_j.c&&this.co_j.x+15>=s&&this.co_j.x<=s+16&&(2==i.c4?this.co_j.y==h-32&&(this.j_a_id=t):(i.c3>=1&&i.c3<=2&&this.co_j.y==h-32+10||i.c3>=3&&i.c3<=4&&this.co_j.y==h-32+16||i.c3>=5&&i.c3<=6&&this.co_j.y==h-32+10||this.co_j.y==h-32)&&(this.j_a_id=t))):i.gf=!1,2==i.c4){if(i.pt=750,i.c3>0&&i.c3--,this.co_j.x>=s-32&&this.co_j.x<s&&Math.abs(this.co_j.y-h)<=16){i.c3=5,this.co_j.x=s-32,this.co_j.y=h,this.co_j.muki=0,this.j_jump_type=0,this.co_j.ac=0,this.co_j.c=100,this.co_j.vx=-160,this.co_j.vy=0,this.j_jump_level=5,this.j_djump_kf=!0,this.co_j.pt=83;for(var Fh=0;Fh<=5;Fh++)this.j_zan_x[Fh]=this.co_j.x,this.j_zan_y[Fh]=this.co_j.y,this.j_zan_pt[Fh]=83,this.j_zan_pth[Fh]=this.co_j.muki;this.j_zan_p=0,this.j_zan_c=0,this.j_zan_nagasa=5,this.j_zan_f=!0,this.j_zan_cf=!0,this.j_rope_cf=!0,this.j_rope_id=t,this.j_cannon_c=22,this.j_cannon_type=1,this.gs.rsAddSound(4)}}else if(3==i.c4){if(i.pt=751,i.c3>0&&i.c3--,this.co_j.x<=s+32&&this.co_j.x>s&&Math.abs(this.co_j.y-h)<=16){i.c3=5,this.co_j.x=s+32,this.co_j.y=h,this.co_j.muki=1,this.j_jump_type=0,this.co_j.ac=0,this.co_j.c=100,this.co_j.vx=160,this.co_j.vy=0,this.j_jump_level=5,this.j_djump_kf=!0,this.co_j.pt=83;for(var Dh=0;Dh<=5;Dh++)this.j_zan_x[Dh]=this.co_j.x,this.j_zan_y[Dh]=this.co_j.y,this.j_zan_pt[Dh]=83,this.j_zan_pth[Dh]=this.co_j.muki;this.j_zan_p=0,this.j_zan_c=0,this.j_zan_nagasa=5,this.j_zan_f=!0,this.j_zan_cf=!0,this.j_rope_cf=!0,this.j_rope_id=t,this.j_cannon_c=22,this.j_cannon_type=1,this.gs.rsAddSound(4)}}else this.j_a_id==t?(this.co_j.vx=0,this.co_j.vy=0,this.co_j.x=s,this.j_jdai_f=!0,i.c3++,i.c3<=2?(i.pt=710,this.co_j.y=h-32+10):i.c3<=4?(i.pt=720,this.co_j.y=h-32+16):i.c3<=6?(i.pt=710,this.co_j.y=h-32+10):i.c3>=7&&(i.pt=700,this.co_j.y=h-32,i.c3=0,this.j_a_id=-1,this.j_jump_type=4,this.co_j.pt=101,this.co_j.ac=0,this.co_j.vy=-255,this.j_jump_level=1,4==this.maps.getBGCode(s,h)&&(this.co_j.vy=-75))):(i.c3=0,i.pt=700);break;case 1e3:if(i.vx<32)i.vx++,i.vx>28&&(s<this.maps.wx||s>this.maps.wx+this.gg.di.width-32||h<this.maps.wy-32||h>this.maps.wy+this.gg.di.height+32)&&(i.vx=28);else if(32==i.vx)if(i.c4+=16,i.c3>=10&&(i.c4+=8),i.c4>=192&&(i.c4=192,i.vx=100),1==i.c3||11==i.c3){var Lh=Ji(s,5),Hh=Ji(s+32,5),Uh=Ji(h+i.c4+1,5);(this.maps.map_bg[Lh][Uh]>=20||this.maps.map_bg[Hh][Uh]>=20)&&(i.vx=100,i.c4=32*Uh-h)}else if(2==i.c3||12==i.c3){var qh=Ji(h,5),Kh=Ji(h+32,5),Jh=Ji(s-i.c4-1,5);(this.maps.map_bg[Jh][qh]>=20||this.maps.map_bg[Jh][Kh]>=20)&&(i.vx=100,i.c4=s-(32*Jh+32))}else if(3==i.c3||13==i.c3){var Zh=Ji(h,5),Xh=Ji(h+32,5),$h=Ji(s+i.c4+1,5);(this.maps.map_bg[$h][Zh]>=20||this.maps.map_bg[$h][Xh]>=20)&&(i.vx=100,i.c4=32*$h-s)}else{var Qh=Ji(s,5),te=Ji(s+32,5),ie=Ji(h-i.c4-1,5);(this.maps.map_bg[Qh][ie]>=18||this.maps.map_bg[te][ie]>=18)&&(i.vx=100,i.c4=h-(32*ie+32))}else i.c3>=10&&i.vx<108||i.vx<126?i.vx++:(i.c4-=16,i.c3>=10&&(i.c4-=4),i.c4<=0&&(i.c4=0,i.vx=0,i.c3>=10&&(i.vx=28)));s>this.maps.wx-224&&s<this.maps.wx+this.gg.di.width+224&&h>this.maps.wy-224&&h<this.maps.wy+this.gg.di.height+224?(i.gf=!0,this.a_hf=!0,i.pt=1500,i.c4>0&&this.co_j.c>=100&&this.co_j.c<200&&this.j_v_c<=0&&(1==i.c3||11==i.c3?s<=this.co_j.x+15&&s+64>this.co_j.x+15&&h<=this.co_j.y+31&&h+i.c4>=this.co_j.y&&this.jShinu(1):2==i.c3||12==i.c3?s-i.c4<=this.co_j.x+15&&s>this.co_j.x+15&&h<=this.co_j.y+31-6&&h+64>this.co_j.y+6&&this.jShinu(1):3==i.c3||13==i.c3?s<=this.co_j.x+15&&s+i.c4>=this.co_j.x+15&&h<=this.co_j.y+31-6&&h+64>this.co_j.y+6&&this.jShinu(1):s<=this.co_j.x+15&&s+64>this.co_j.x+15&&h-i.c4<=this.co_j.y+31&&h>this.co_j.y&&this.jShinu(1))):i.gf=!1;break;case 1010:if(0==i.c3){h-=8;var se=Ji(s,5),he=Ji(s+31,5),ee=Ji(s+63,5),ae=Ji(h,5);(this.maps.map_bg[se][ae]>=18||this.maps.map_bg[he][ae]>=18||this.maps.map_bg[ee][ae]>=18)&&(h=32*ae+32,i.c3=1),h<=320&&(h=320,i.c3=1)}else{h+=8;var ce=Ji(s,5),oe=Ji(s+31,5),_e=Ji(s+63,5),re=Ji(h+96,5);(this.maps.map_bg[ce][re]>=18||this.maps.map_bg[oe][re]>=18||this.maps.map_bg[_e][re]>=18)&&(h=32*re-96,i.c3=0),h>=this.ochiru_y-96&&(h=this.ochiru_y-96,i.c3=0)}s>this.maps.wx-150&&s<this.maps.wx+this.gg.di.width+150&&h>this.maps.wy-150&&h<this.maps.wy+this.gg.di.height+150?(i.gf=!0,this.a_hf=!0,i.pt=1600,this.co_j.c>=100&&this.co_j.c<200&&this.j_v_c<=0&&s<=this.co_j.x+15&&s+63>=this.co_j.x+15&&h<=this.co_j.y+31&&h+95>=this.co_j.y&&this.jShinu(1)):i.gf=!1;break;case 1020:if(0==i.c3){var ne=Ji((s-=8)-1,5),me=Ji(h,5),pe=Ji(h+31,5),ge=Ji(h+63,5);(this.maps.map_bg[ne][me]>=18||this.maps.map_bg[ne][pe]>=18||this.maps.map_bg[ne][ge]>=18)&&(s=32*ne+32,i.c3=1)}else{var ue=Ji((s+=8)+96,5),ye=Ji(h,5),de=Ji(h+31,5),fe=Ji(h+63,5);(this.maps.map_bg[ue][ye]>=18||this.maps.map_bg[ue][de]>=18||this.maps.map_bg[ue][fe]>=18)&&(s=32*ue-96,i.c3=0)}s>this.maps.wx-150&&s<this.maps.wx+this.gg.di.width+150&&h>this.maps.wy-150&&h<this.maps.wy+this.gg.di.height+150?(i.gf=!0,this.a_hf=!0,i.pt=1700,this.co_j.c>=100&&this.co_j.c<200&&this.j_v_c<=0&&s<=this.co_j.x+15&&s+95>=this.co_j.x+15&&h<=this.co_j.y+31&&h+63>=this.co_j.y&&this.jShinu(1)):i.gf=!1;break;case 1100:i.vx<=0?s>=this.maps.wx&&s<=this.maps.wx+this.gg.di.width-32&&(10==this.sl_step||11==this.sl_step||s-224<=this.co_j.x&&s+224>=this.co_j.x)&&(i.vx=19,this.gs.rsAddSound(17)):i.vx<52?(i.vx++,i.vx%4==0&&this.mSet2(s,h-16,500,-10+this.ranInt(20),-30)):i.vx<63?(i.vx++,i.vx%7==0&&this.mSet2(s,h-16,500,-10+this.ranInt(20),-30)):i.vx<140?i.vx++:i.vx=0,s>this.maps.wx-224&&s<this.maps.wx+this.gg.di.width+224&&h>this.maps.wy-224&&h<this.maps.wy+this.gg.di.height+224?(i.gf=!0,this.a_hf=!0,i.pt=1800):i.gf=!1;break;case 1150:i.vx<=0?s>=this.maps.wx&&s<=this.maps.wx+this.gg.di.width-32&&(10==this.sl_step||11==this.sl_step?(i.vx=19,this.gs.rsAddSound(17)):s-224<=this.co_j.x&&s+224>=this.co_j.x&&(i.vx=31,this.gs.rsAddSound(17))):i.vx<52?(i.vx++,i.vx%4==0&&this.mSet2(s,h+8,550,-12+this.ranInt(27),28)):i.vx<63?(i.vx++,i.vx%7==0&&this.mSet2(s,h+8,550,-12+this.ranInt(27),28)):i.vx<140?i.vx++:i.vx=0,s>this.maps.wx-224&&s<this.maps.wx+this.gg.di.width+224&&h>this.maps.wy-224&&h<this.maps.wy+this.gg.di.height+224?(i.gf=!0,this.a_hf=!0,i.pt=1800):i.gf=!1;break;case 1200:s>this.maps.wx-180&&s<this.maps.wx+this.gg.di.width+180&&h>this.maps.wy-180&&h<this.maps.wy+this.gg.di.height+180?(i.gf=!0,this.a_hf=!0,i.pt=1900):i.gf=!1,i.vy>292?(i.vx-=2,i.vx<-30&&(i.vx=-30)):i.vy<248&&(i.vx+=2,i.vx>30&&(i.vx=30)),i.vx>0?i.vy+=Ki((i.vx+5)/10):i.vy+=Ki((i.vx-5)/10);var je=s+Ki(192*Math.cos(3.141592653589793*(i.vy+20)/180),!0,this),le=h+Ki(192*Math.sin(3.141592653589793*(i.vy+20)/180),!0,this),ve=s+Ki(192*Math.cos(3.141592653589793*(i.vy-20)/180),!0,this),xe=h+Ki(192*Math.sin(3.141592653589793*(i.vy-20)/180),!0,this);je+=Ki(12*Math.cos(3.141592653589793*i.vy/180),!0,this),le+=Ki(12*Math.sin(3.141592653589793*i.vy/180),!0,this),ve+=Ki(12*Math.cos(3.141592653589793*i.vy/180),!0,this),xe+=Ki(12*Math.sin(3.141592653589793*i.vy/180),!0,this),this.setYukaPosition(String(i.c4),String(ve),String(xe),String(je),String(le));break;case 1300:if(s>this.maps.wx-180&&s<this.maps.wx+this.gg.di.width+180&&h>this.maps.wy-180&&h<this.maps.wy+this.gg.di.height+180?(i.gf=!0,this.a_hf=!0,i.pt=2e3,0==i.c3&&(i.c3=1,this.maps.putBGCode(Ji(s,5),Ji(h,5),50))):i.gf=!1,this.co_j.c>=100&&this.co_j.c<200)if(this.j_rope_cf&&this.j_rope_id==t){var ke=h+Ki(32*Math.sin(3.141592653589793*i.vy/180),!0,this),we=h+Ki(184*Math.sin(3.141592653589793*i.vy/180),!0,this);(this.co_j.y+16<ke-48||this.co_j.y+16>we+24)&&(this.j_rope_cf=!1);var be=s+Ki(32*Math.cos(3.141592653589793*i.vy/180),!0,this);(this.co_j.x+16<be-32-76||this.co_j.x+16>be+32+76)&&(this.j_rope_cf=!1)}else if((140!=this.co_j.c||this.j_rope_id!=t)&&100==this.co_j.c){var Se=h+Ki(32*Math.sin(3.141592653589793*i.vy/180),!0,this),Me=h+Ki(184*Math.sin(3.141592653589793*i.vy/180),!0,this);if(this.co_j.y+16>=Se&&this.co_j.y+16<=Me){var Ce=s+Ki(32*Math.cos(3.141592653589793*i.vy/180),!0,this),Ie=s+Ki(184*Math.cos(3.141592653589793*i.vy/180),!0,this),Be=this.co_j.y+16-Se;Be=Ce+Ki((Ie-Ce)*Be/152),this.co_j.x+16>Be-32&&this.co_j.x+16<Be+32&&(this.co_j.c=140,this.co_j.ac=0,this.j_rope_id=t,this.j_rope_cf=!1,this.j_rope_r=Math.floor(Math.sqrt((this.co_j.x+16-s)*(this.co_j.x+16-s)+(this.co_j.y+16-h)*(this.co_j.y+16-h))),this.j_rope_r<48?this.j_rope_r=48:this.j_rope_r>176&&(this.j_rope_r=176),this.j_zan_f=!1,this.j_jet_c=0)}}i.vy>116?(i.vx-=2,i.vx<-30&&(i.vx=-30)):i.vy<64&&(i.vx+=2,i.vx>30&&(i.vx=30)),i.vx>0?i.vy+=Ki((i.vx+5)/10):i.vy+=Ki((i.vx-5)/10);break;case 1400:if(s>this.maps.wx-96&&s<this.maps.wx+this.gg.di.width&&h>this.maps.wy-64&&h<this.maps.wy+this.gg.di.height?(i.gf=!0,this.a_hf=!0):i.gf=!1,2==i.c4?i.pt=2110:3==i.c4?i.pt=2120:4==i.c4?i.pt=2130:i.pt=2100,i.c3<=0){if(s>=this.maps.wx&&s<=this.maps.wx+this.gg.di.width-32&&h>=this.maps.wy&&h<=this.maps.wy+this.gg.di.height-32)if(2==i.c4)this.getCoinTotal()<=0&&(i.c3=100);else if(3==i.c4){for(var Ge=0,ze=Ji(s,5),Ae=Ji(h,5),Pe=-10;!(Pe>10);){for(var Ne=-10;!(Ne>10);){if(ze+Ne>=1&&ze+Ne<=this.mapWidth&&Ae+Pe>=10&&Ae+Pe<=this.mapHeight+9&&9==this.maps.map_bg[ze+Ne][Ae+Pe]){Ge++;break}Ne++}if(Ge>0)break;Pe++}Ge<=0&&(i.c3=100)}else if(4==i.c4){for(var Oe=0,Ye=0;!(Ye>this.t_kazu);){if((this.co_t[Ye].c>=100||10==this.co_t[Ye].c)&&this.co_t[Ye].x<=s&&this.co_t[Ye].x>=s-480){Oe++;break}Ye++}Oe<=0&&(i.c3=100)}else this.score>=this.door_score&&(i.c3=100)}else i.c3>=100&&(i.c3++,i.c3<=101?(i.pt=0,this.maps.putBGCode(Ji(s,5),Ji(h,5),0)):102==i.c3||i.c3>=105&&i.c3<=106?i.pt=0:109==i.c3?(i.pt=0,this.gs.rsAddSound(7)):110==i.c3?i.pt=0:i.c3>=113&&(i.pt=0,i.c=0));break;case 1500:if(s>this.maps.wx-180&&s<this.maps.wx+this.gg.di.width+180&&h>this.maps.wy-180&&h<this.maps.wy+this.gg.di.height+180?(i.gf=!0,this.a_hf=!0):i.gf=!1,i.pt=2200,this.j_rope_cf&&this.j_rope_id==t){var Te=s+16+Ki(60*Math.cos(3.141592653589793*i.c4/180),!0,this),Ee=h+16+Ki(60*Math.sin(3.141592653589793*i.c4/180),!0,this);(Math.abs(this.co_j.x+16-Te)>=40||Math.abs(this.co_j.y+16-Ee)>=36)&&(this.j_rope_cf=!1)}else if((this.co_j.c<400||this.co_j.c>=500||this.j_rope_id!=t)&&100==this.co_j.c){var Re=s+16+Ki(80*Math.cos(3.141592653589793*i.c4/180),!0,this),Ve=h+16+Ki(80*Math.sin(3.141592653589793*i.c4/180),!0,this);Math.abs(this.co_j.x+16-Re)<20&&Math.abs(this.co_j.y+16-Ve)<16&&(this.co_j.c=400,this.co_j.ac=0,this.co_j.c1=80,this.j_rope_id=t,this.j_rope_cf=!1,this.j_zan_f=!1,this.j_jet_c=0,this.j_tail_ac=0,this.gs.rsAddSound(7))}break;case 1600:s>this.maps.wx-96&&s<this.maps.wx+this.gg.di.width&&h>this.maps.wy-64&&h<this.maps.wy+this.gg.di.height?(i.gf=!0,this.a_hf=!0):i.gf=!1,i.pt=2300,i.c3<=0&&s>=this.maps.wx&&s<=this.maps.wx+this.gg.di.width-32&&h>=this.maps.wy&&h<=this.maps.wy+this.gg.di.height-32&&(this.spot_c=100,i.c=0,0==i.c4?(this.spot_r=160,this.spot_r_mokuhyou=160):1==i.c4?(this.spot_r=256,this.spot_r_mokuhyou=256):2==i.c4?(this.spot_r=352,this.spot_r_mokuhyou=352):this.spot_c=0);break;case 1700:if(s>this.maps.wx-192&&s<this.maps.wx+this.gg.di.width+192&&h>this.maps.wy-192&&h<this.maps.wy+this.gg.di.height+192?(i.gf=!0,this.a_hf=!0):i.gf=!1,i.c4<=0?s+63>=this.maps.wx+16&&s<=this.maps.wx+this.gg.di.width-16&&h+63>=this.maps.wy+16&&h<=this.maps.wy+this.gg.di.height-16&&(i.c4=100):100==i.c4?(i.vy+=5,i.vy>=300&&(i.vy=300,i.c4=300)):i.c4>=300&&i.c4<400?(i.c4++,i.c4>=312&&(i.c4=400)):400==i.c4?(i.vy-=5,i.vy<=100&&(i.vy=100,i.c4=500)):i.c4>=500&&i.c4<600&&(i.c4++,i.c4>=512&&(i.c4=0)),this.co_j.c>=100&&this.co_j.c<200&&this.j_v_c<=0){var We=Ki(64*i.vy/100)-64;s-Ji(We,1)<=this.co_j.x+15&&s+64+Ji(We,1)>=this.co_j.x+15&&(0==i.c3?h-We<=this.co_j.y+31&&h+63>=this.co_j.y&&this.jShinu(1):1==i.c3?h+63+We>=this.co_j.y&&h<=this.co_j.y+31&&this.jShinu(1):2==i.c3&&h+63+Ji(We,1)>=this.co_j.y&&h-Ji(We,1)<=this.co_j.y+31&&this.jShinu(1))}i.pt=2400;break;case 1800:if(s>this.maps.wx-180&&s<this.maps.wx+this.gg.di.width+180&&h>this.maps.wy-180&&h<this.maps.wy+this.gg.di.height+180?(i.gf=!0,this.a_hf=!0,i.pt=2500):i.gf=!1,i.vy+=i.vx,i.vy>=360&&(i.vy-=360),i.vy<0&&(i.vy+=360),i.gf){var Fe=s+Ki(87*Math.cos(3.141592653589793*(i.vy+180+34)/180),!0,this),De=h+Ki(87*Math.sin(3.141592653589793*(i.vy+180+34)/180),!0,this),Le=s+Ki(87*Math.cos(3.141592653589793*(i.vy+360-34)/180),!0,this),He=h+Ki(87*Math.sin(3.141592653589793*(i.vy+360-34)/180),!0,this);this.setYukaPosition(String(i.c3),String(Fe),String(De),String(Le),String(He)),Fe=s+Ki(87*Math.cos(3.141592653589793*(i.vy+34)/180),!0,this),De=h+Ki(87*Math.sin(3.141592653589793*(i.vy+34)/180),!0,this),this.setYukaPosition(String(i.c4),String(Le),String(He),String(Fe),String(De)),Le=s+Ki(87*Math.cos(3.141592653589793*(i.vy+180-34)/180),!0,this),He=h+Ki(87*Math.sin(3.141592653589793*(i.vy+180-34)/180),!0,this),this.setYukaPosition(String(i.c5),String(Fe),String(De),String(Le),String(He)),Fe=s+Ki(87*Math.cos(3.141592653589793*(i.vy+180+34)/180),!0,this),De=h+Ki(87*Math.sin(3.141592653589793*(i.vy+180+34)/180),!0,this),this.setYukaPosition(String(i.pth),String(Le),String(He),String(Fe),String(De))}break;case 1850:if(s>this.maps.wx-180&&s<this.maps.wx+this.gg.di.width+180&&h>this.maps.wy-180&&h<this.maps.wy+this.gg.di.height+180?(i.gf=!0,this.a_hf=!0,i.pt=2600):i.gf=!1,i.vy+=i.vx,i.vy>=360&&(i.vy-=360),i.vy<0&&(i.vy+=360),i.gf){var Ue=s+Ki(144*Math.cos(3.141592653589793*(i.vy+180+34)/180),!0,this),qe=h+Ki(144*Math.sin(3.141592653589793*(i.vy+180+34)/180),!0,this),Ke=s+Ki(144*Math.cos(3.141592653589793*(i.vy+360-34)/180),!0,this),Je=h+Ki(144*Math.sin(3.141592653589793*(i.vy+360-34)/180),!0,this);this.setYukaPosition(String(i.c3),String(Ue),String(qe),String(Ke),String(Je)),Ue=s+Ki(144*Math.cos(3.141592653589793*(i.vy+34)/180),!0,this),qe=h+Ki(144*Math.sin(3.141592653589793*(i.vy+34)/180),!0,this),this.setYukaPosition(String(i.c4),String(Ke),String(Je),String(Ue),String(qe)),Ke=s+Ki(144*Math.cos(3.141592653589793*(i.vy+180-34)/180),!0,this),Je=h+Ki(144*Math.sin(3.141592653589793*(i.vy+180-34)/180),!0,this),this.setYukaPosition(String(i.c5),String(Ue),String(qe),String(Ke),String(Je)),Ue=s+Ki(144*Math.cos(3.141592653589793*(i.vy+180+34)/180),!0,this),qe=h+Ki(144*Math.sin(3.141592653589793*(i.vy+180+34)/180),!0,this),this.setYukaPosition(String(i.pth),String(Ke),String(Je),String(Ue),String(qe))}break;case 1900:if(s>this.maps.wx-96&&s<this.maps.wx+this.gg.di.width&&h>this.maps.wy-64&&h<this.maps.wy+this.gg.di.height?(i.gf=!0,this.a_hf=!0):i.gf=!1,i.pt=2300,1==i.c4)(i.c3<=11||i.c3>=15&&i.c3<=18)&&(s<=this.maps.wx-32||s>=this.maps.wx+this.gg.di.width||h<=this.maps.wy-32||h>=this.maps.wy+this.gg.di.height)&&(i.c4=0);else if(0==i.c3||1==i.c3)s>=this.maps.wx&&s<=this.maps.wx+this.gg.di.width-32&&h>=this.maps.wy&&h<=this.maps.wy+this.gg.di.height-32&&(this.nkscroll_con=100,this.nkscroll_zsc?(this.nkscroll_view_x=this.maps.wx,this.nkscroll_view_y=this.maps.wy):(this.nkscroll_view_x=2*Ji(this.maps.wx,1),this.nkscroll_view_y=32*Ji(this.maps.wy+15,5),this.nkscroll_view_y<this.maps.wy_mini&&(this.nkscroll_view_y=this.maps.wy_mini),this.nkscroll_view_y>this.maps.wy_max&&(this.nkscroll_view_y=this.maps.wy_max)),0==i.c3?this.nkscroll_vx=1:1==i.c3&&(this.nkscroll_vx=-1),this.nkscroll_vy=0,i.c4=1);else if(2==i.c3||3==i.c3)s>=this.maps.wx&&s<=this.maps.wx+this.gg.di.width-32&&h>=this.maps.wy&&h<=this.maps.wy+this.gg.di.height-32&&(this.nkscroll_con=100,this.nkscroll_view_x=32*Ji(this.maps.wx+15,5),this.nkscroll_view_x<this.maps.wx_mini&&(this.nkscroll_view_x=this.maps.wx_mini),this.nkscroll_view_x>this.maps.wx_max&&(this.nkscroll_view_x=this.maps.wx_max),this.nkscroll_view_y=2*Ji(this.maps.wy,1),this.nkscroll_vx=0,2==i.c3?this.nkscroll_vy=-1:3==i.c3&&(this.nkscroll_vy=1),i.c4=1);else if(i.c3>=4&&i.c3<=7)s>=this.maps.wx&&s<=this.maps.wx+this.gg.di.width-32&&h>=this.maps.wy&&h<=this.maps.wy+this.gg.di.height-32&&(this.nkscroll_con=100,this.nkscroll_view_x=32*Ji(this.maps.wx+15,5),this.nkscroll_view_y=32*Ji(this.maps.wy+15,5),this.nkscroll_view_x<this.maps.wx_mini&&(this.nkscroll_view_x=this.maps.wx_mini),this.nkscroll_view_x>this.maps.wx_max&&(this.nkscroll_view_x=this.maps.wx_max),this.nkscroll_view_y<this.maps.wy_mini&&(this.nkscroll_view_y=this.maps.wy_mini),this.nkscroll_view_y>this.maps.wy_max&&(this.nkscroll_view_y=this.maps.wy_max),4==i.c3?(this.nkscroll_vx=1,this.nkscroll_vy=-1):5==i.c3?(this.nkscroll_vx=1,this.nkscroll_vy=1):6==i.c3?(this.nkscroll_vx=-1,this.nkscroll_vy=-1):7==i.c3&&(this.nkscroll_vx=-1,this.nkscroll_vy=1),i.c4=1);else if(8==i.c3||9==i.c3)s>=this.maps.wx&&s<=this.maps.wx+this.gg.di.width-32&&h>=this.maps.wy&&h<=this.maps.wy+this.gg.di.height-32&&(8==i.c3?(this.nkscroll_speed_x++,this.nkscroll_speed_x>8&&(this.nkscroll_speed_x=8)):9==i.c3&&(this.nkscroll_speed_x--,this.nkscroll_speed_x<1&&(this.nkscroll_speed_x=1)),i.c4=1);else if(10==i.c3)s>=this.maps.wx&&s<=this.maps.wx+this.gg.di.width-32&&h>=this.maps.wy&&h<=this.maps.wy+this.gg.di.height-32&&(this.nkscroll_con=200,this.nkscroll_view_x=this.maps.wx,this.nkscroll_view_y=this.maps.wy,this.nkscroll_my_view_x=this.co_j.x-this.nkscroll_view_x,this.nkscroll_my_view_y=this.co_j.y-this.nkscroll_view_y,this.nkscroll_vx=1,this.nkscroll_vy=0,i.c4=1);else if(11==i.c3)s>=this.maps.wx&&s<=this.maps.wx+this.gg.di.width-32&&h>=this.maps.wy&&h<=this.maps.wy+this.gg.di.height-32&&(this.nkscroll_con=100,this.nkscroll_zsc?(this.nkscroll_view_x=this.maps.wx,this.nkscroll_view_y=this.maps.wy):(this.nkscroll_view_x=32*Ji(this.maps.wx+15,5),this.nkscroll_view_y=32*Ji(this.maps.wy+15,5),this.nkscroll_view_x<this.maps.wx_mini&&(this.nkscroll_view_x=this.maps.wx_mini),this.nkscroll_view_x>this.maps.wx_max&&(this.nkscroll_view_x=this.maps.wx_max),this.nkscroll_view_y<this.maps.wy_mini&&(this.nkscroll_view_y=this.maps.wy_mini),this.nkscroll_view_y>this.maps.wy_max&&(this.nkscroll_view_y=this.maps.wy_max)),this.nkscroll_vx=0,this.nkscroll_vy=0,i.c4=1);else if(12==i.c3||13==i.c3)s<=this.co_j.x+15&&s+31>=this.co_j.x+15&&h<=this.co_j.y+31&&h+31>=this.co_j.y&&(this.nkscroll_con=100,12==i.c3?(this.nkscroll_view_x=2*Ji(this.maps.wx,1),this.nkscroll_view_y=this.maps.wy,this.nkscroll_vx=1,this.nkscroll_vy=0):13==i.c3&&(this.nkscroll_view_y=2*Ji(this.maps.wy,1),this.nkscroll_view_x=32*Ji(this.maps.wx+15,5),this.nkscroll_view_x<this.maps.wx_mini&&(this.nkscroll_view_x=this.maps.wx_mini),this.nkscroll_view_x>this.maps.wx_max&&(this.nkscroll_view_x=this.maps.wx_max),this.nkscroll_vx=0,this.nkscroll_vy=-1),i.c4=1);else if(14==i.c3)s<=this.co_j.x+15&&s+31>=this.co_j.x+15&&h<=this.co_j.y+31&&h+31>=this.co_j.y&&(this.nkscroll_con=200,this.nkscroll_view_x=this.maps.wx,this.nkscroll_view_y=this.maps.wy,this.nkscroll_my_view_x=this.co_j.x-this.nkscroll_view_x,this.nkscroll_my_view_y=this.co_j.y-this.nkscroll_view_y,this.nkscroll_vx=1,this.nkscroll_vy=0,i.c4=1);else if(15==i.c3)s>=this.maps.wx&&s<=this.maps.wx+this.gg.di.width-32&&h>=this.maps.wy&&h<=this.maps.wy+this.gg.di.height-32&&(this.nkscroll_con=300,this.nkscroll_zsc?(this.nkscroll_view_x=this.maps.wx,this.nkscroll_view_y=this.maps.wy):(this.nkscroll_view_y=this.maps.wy,this.nkscroll_view_x=32*Ji(this.maps.wx+15,5),this.nkscroll_view_x<this.maps.wx_mini&&(this.nkscroll_view_x=this.maps.wx_mini),this.nkscroll_view_x>this.maps.wx_max&&(this.nkscroll_view_x=this.maps.wx_max)),this.nkscroll_vx=0,this.nkscroll_vy=0,i.c4=1);else if(16==i.c3)s>=this.maps.wx&&s<=this.maps.wx+this.gg.di.width-32&&h>=this.maps.wy&&h<=this.maps.wy+this.gg.di.height-32&&(this.nkscroll_con=400,this.nkscroll_view_x=2*Ji(this.maps.wx,1),this.nkscroll_view_y=this.maps.wy,this.nkscroll_vx=1,this.nkscroll_vy=0,i.c4=1);else if(17==i.c3){if(s>=this.maps.wx&&s<=this.maps.wx+this.gg.di.width-32&&h>=this.maps.wy&&h<=this.maps.wy+this.gg.di.height-32){if(2!=this.view_move_type){var Ze=this.view_move_type;if(this.view_move_type=2,this.nkscroll_con=200,this.nkscroll_view_x=this.maps.wx,this.nkscroll_view_y=this.maps.wy,this.nkscroll_my_view_x=this.co_j.x-this.nkscroll_view_x,this.nkscroll_my_view_y=this.co_j.y-this.nkscroll_view_y,this.nkscroll_vx=1,this.nkscroll_vy=0,this.scroll_area>=2&&this.scroll_area<=5||3===Ze)1===this.gg.system_screen_size?(this.maps.my_wx_mini=284,this.maps.my_wx_max=this.gg.di.width-132-32,this.maps.my_wy_mini=116):(this.maps.my_wx_mini=256,this.maps.my_wx_max=this.gg.di.width-96-32,this.maps.my_wy_mini=78);else{var Xe=this.maps.my_wx_mini;this.maps.my_wx_mini=this.maps.my_wx_max+32,this.maps.my_wx_max=this.gg.di.width-Xe-32}}i.c4=1}}else if(18==i.c3&&s>=this.maps.wx&&s<=this.maps.wx+this.gg.di.width-32&&h>=this.maps.wy&&h<=this.maps.wy+this.gg.di.height-32){if(1!=this.view_move_type){var $e=this.view_move_type;if(this.view_move_type=1,this.nkscroll_con=200,this.nkscroll_view_x=this.maps.wx,this.nkscroll_view_y=this.maps.wy,this.nkscroll_my_view_x=this.co_j.x-this.nkscroll_view_x,this.nkscroll_my_view_y=this.co_j.y-this.nkscroll_view_y,this.nkscroll_vx=1,this.nkscroll_vy=0,this.scroll_area>=2&&this.scroll_area<=5||3===$e)1===this.gg.system_screen_size?(this.maps.my_wx_mini=132,this.maps.my_wx_max=252,this.maps.my_wy_mini=116):(this.maps.my_wx_mini=96,this.maps.my_wx_max=224,this.maps.my_wy_mini=78);else{var Qe=this.maps.my_wx_mini;this.maps.my_wx_mini=this.gg.di.width-this.maps.my_wx_max-32,this.maps.my_wx_max=Qe-32}}i.c4=1}break;case 2e3:s+256>this.maps.wx&&s<this.maps.wx+this.gg.di.width?(i.gf=!0,this.a_hf=!0,i.pt=2700):i.gf=!1;break;case 2100:if(s+256>this.maps.wx&&s-256<this.maps.wx+this.gg.di.width?(i.gf=!0,this.a_hf=!0,i.pt=2800):i.gf=!1,i.gf&&this.co_j.c>=100&&this.co_j.c<200&&this.j_v_c<=0){var ta=s-(this.co_j.x+16),ia=h-(this.co_j.y+16);Math.sqrt(ta*ta+ia*ia)<64&&this.jShinu(1)}break;case 2200:if(i.c3+=i.vx,i.c3<0?i.c3+=360:i.c3>=360&&(i.c3-=360),s>this.maps.wx-200&&s<this.maps.wx+this.gg.di.width+200&&h>this.maps.wy-200&&h<this.maps.wy+this.gg.di.height+200){if(i.gf=!0,this.a_hf=!0,i.pt=2900,this.co_j.c>=100&&this.co_j.c<200){var sa=s-(this.co_j.x+16),ha=h-(this.co_j.y+16),ea=Math.floor(Math.sqrt(sa*sa+ha*ha));if(ea<=162&&ea>=110){var aa=Math.floor(180*Math.atan2(this.co_j.y+16-h,this.co_j.x+16-s)/3.140000104904175);aa<0&&(aa+=360),(i.c3>=aa&&i.c3-50<=aa||i.c3>=aa-360&&i.c3-50<=aa-360)&&this.jShinu(1)}}}else i.gf=!1;break;case 2250:if(i.c3+=i.vx,i.c3<0?i.c3+=360:i.c3>=360&&(i.c3-=360),s>this.maps.wx-200&&s<this.maps.wx+this.gg.di.width+200&&h>this.maps.wy-200&&h<this.maps.wy+this.gg.di.height+200){if(i.gf=!0,this.a_hf=!0,i.pt=2950,this.co_j.c>=100&&this.co_j.c<200){var ca=s-(this.co_j.x+16),oa=h-(this.co_j.y+16),_a=Math.floor(Math.sqrt(ca*ca+oa*oa));if(_a<=162&&_a>=110){var ra=Math.floor(180*Math.atan2(this.co_j.y+16-h,this.co_j.x+16-s)/3.140000104904175);ra<0&&(ra+=360),(i.c3>=ra&&i.c3-120<=ra||i.c3>=ra-360&&i.c3-120<=ra-360)&&this.jShinu(1)}}}else i.gf=!1;break;case 2300:i.vy<0?(h+=i.vy)<=i.c3-160&&(h=i.c3-160,i.vy=4):(h+=i.vy)>=i.c3&&(h=i.c3,i.vy=-4),s+256>this.maps.wx&&s<this.maps.wx+this.gg.di.width+256?(i.gf=!0,this.a_hf=!0,i.pt=3e3,this.setYukaPosition(String(i.c4),String(s),String(h))):i.gf=!1;break;case 2400:i.c5<=0?1==this.isRideYuka(String(i.c4))&&(i.c5=100):100==i.c5?(h-=4)<=i.c3-160&&(h=i.c3-160,i.c5=200):200==i.c5?1!=this.isRideYuka(String(i.c4))&&(i.c5=300):(h+=4)>=i.c3&&(h=i.c3,i.c5=0),s+256>this.maps.wx&&s<this.maps.wx+this.gg.di.width+256?(i.gf=!0,this.a_hf=!0,i.pt=3e3,this.setYukaPosition(String(i.c4),String(s),String(h))):i.gf=!1;break;case 2500:1e3!=i.c5&&(i.c5<=0?1==this.isRideYuka(String(i.c4))&&(i.c5=100):100==i.c5?(h+=4)>=i.c3&&(h=i.c3,i.c5=200):200==i.c5?1!=this.isRideYuka(String(i.c4))&&(i.c5=300):(h-=4)<=i.c3-160&&(h=i.c3-160,i.c5=0)),s+256>this.maps.wx&&s<this.maps.wx+this.gg.di.width+256?(i.gf=!0,this.a_hf=!0,i.pt=3e3,this.setYukaPosition(String(i.c4),String(s),String(h))):i.gf=!1;break;case 2600:1==this.isRideYuka(String(i.c4))&&(h+=2)>=this.ochiru_y+80&&(h=this.ochiru_y+80+64),s+256>this.maps.wx&&s<this.maps.wx+this.gg.di.width+256?(i.gf=!0,this.a_hf=!0,i.pt=2700,this.setYukaPosition(String(i.c4),String(s),String(h))):i.gf=!1;break;case 2610:1==this.isRideYuka(String(i.c4))?(h+=3)>=this.ochiru_y+80&&(h=this.ochiru_y+80+64):(h-=3)<=i.c3&&(h=i.c3),s+256>this.maps.wx&&s<this.maps.wx+this.gg.di.width+256?(i.gf=!0,this.a_hf=!0,i.pt=2700,this.setYukaPosition(String(i.c4),String(s),String(h))):i.gf=!1;break;case 2700:h<=i.c3?(i.vy+=4,i.vy>44&&(i.vy=44)):h>=i.c3+106&&(i.vy-=4,i.vy<-44&&(i.vy=-44)),h+=Ki(i.vy/10),s+256>this.maps.wx&&s<this.maps.wx+this.gg.di.width+256?(i.gf=!0,this.a_hf=!0,i.pt=2700,this.setYukaPosition(String(i.c4),String(s),String(h))):i.gf=!1;break;case 2800:if(s>this.maps.wx-256&&s<this.maps.wx+this.gg.di.width+256&&h>this.maps.wy-256&&h<this.maps.wy+this.gg.di.height+256?(i.gf=!0,this.a_hf=!0,i.pt=3100):i.gf=!1,this.co_j.c>=100&&this.co_j.c<200)if(this.j_rope_cf&&this.j_rope_id==t){var na=s-(this.co_j.x+16),ma=h-(this.co_j.y+16),pa=Math.floor(Math.sqrt(na*na+ma*ma));if(pa>=12&&pa<=244){var ga=s+Ki(Math.cos(3.141592653589793*i.vy/180)*pa,!0,this),ua=h+Ki(Math.sin(3.141592653589793*i.vy/180)*pa,!0,this);(Math.abs(this.co_j.x+16-ga)>=24||Math.abs(this.co_j.y+16-ua)>=24)&&(this.j_rope_cf=!1)}else this.j_rope_cf=!1}else if((140!=this.co_j.c||this.j_rope_id!=t)&&100==this.co_j.c&&!this.co_j.jimen_f){var ya=s-(this.co_j.x+16),da=h-(this.co_j.y+16),fa=Math.floor(Math.sqrt(ya*ya+da*da));if(fa>=12&&fa<=220){var ja=s+Ki(Math.cos(3.141592653589793*i.vy/180)*fa,!0,this),la=h+Ki(Math.sin(3.141592653589793*i.vy/180)*fa,!0,this);Math.abs(this.co_j.x+16-ja)<20&&Math.abs(this.co_j.y+16-la)<20&&(this.co_j.c=140,this.co_j.ac=0,this.j_rope_id=t,this.j_rope_cf=!1,this.j_rope_r=Math.floor(Math.sqrt((this.co_j.x+16-s)*(this.co_j.x+16-s)+(this.co_j.y+16-h)*(this.co_j.y+16-h))),this.j_rope_r<48?this.j_rope_r=48:this.j_rope_r>220&&(this.j_rope_r=220),1==i.c3&&(i.c3=0,90==i.vy&&(0==this.co_j.muki?i.vx=22:i.vx=-22)),this.j_zan_f=!1,this.j_jet_c=0)}}1!=i.c3&&(i.vy>156?(i.vx-=2,i.vx<-22&&(i.vx=-22)):i.vy<24&&(i.vx+=2,i.vx>22&&(i.vx=22)),i.vx>0?i.vy+=Ki((i.vx+5)/10):i.vy+=Ki((i.vx-5)/10));break;case 2900:s>this.maps.wx-32-32&&s<this.maps.wx+this.gg.di.width+32&&h>this.maps.wy-160&&h<this.maps.wy+this.gg.di.height?(i.gf=!0,this.a_hf=!0,i.pt=3200,this.co_j.c>=100&&this.co_j.c<200&&this.j_v_c<=0&&this.co_j.x+15>=s-4&&this.co_j.x+15<=s+31&&this.co_j.y+15>=h&&this.co_j.y+15<=h+127&&(this.co_j.x=s,this.co_j.y<h&&(this.co_j.y=h),this.co_j.y>h+95&&(this.co_j.y=h+95),this.jShinu(1))):i.gf=!1;break;case 2950:s>this.maps.wx-32-32&&s<this.maps.wx+this.gg.di.width+32&&h>this.maps.wy-160&&h<this.maps.wy+this.gg.di.height?(i.gf=!0,this.a_hf=!0,i.pt=3250,this.co_j.c>=100&&this.co_j.c<200&&this.j_v_c<=0&&this.co_j.x+15>=s&&this.co_j.x+15<=s+31+4&&this.co_j.y+15>=h&&this.co_j.y+15<=h+127&&(this.co_j.x=s,this.co_j.y<h&&(this.co_j.y=h),this.co_j.y>h+95&&(this.co_j.y=h+95),this.jShinu(1))):i.gf=!1;break;case 3e3:s>this.maps.wx-96-32&&s<this.maps.wx+this.gg.di.width&&h>this.maps.wy-64-32&&h<this.maps.wy+this.gg.di.height?(i.gf=!0,this.a_hf=!0,i.pt=3300):i.gf=!1,this.souko_count1++;for(var va=0;!(va>this.a_kazu);){if(410==this.co_a[va].c&&16==this.co_a[va].c4&&this.co_a[va].x==s&&this.co_a[va].y==h){this.souko_count2++,1==i.c3&&(this.co_a[va].vx=1);break}va++}break;case 3100:s>this.maps.wx-160&&s<this.maps.wx+this.gg.di.width&&h>this.maps.wy-160&&h<this.maps.wy+this.gg.di.height?(i.gf=!0,this.a_hf=!0,i.pt=3500):i.gf=!1;break;case 3110:s>this.maps.wx-160&&s<this.maps.wx+this.gg.di.width&&h>this.maps.wy-160&&h<this.maps.wy+this.gg.di.height?(i.gf=!0,this.a_hf=!0,i.pt=3510):i.gf=!1;break;case 3120:s>this.maps.wx-160&&s<this.maps.wx+this.gg.di.width&&h>this.maps.wy-160&&h<this.maps.wy+this.gg.di.height?(i.gf=!0,this.a_hf=!0,i.pt=3520,(100==this.co_j.c||130==this.co_j.c)&&this.co_j.x+15>=s&&this.co_j.x+15<=s+127&&this.co_j.y==h-32&&this.co_j.vy>=0&&(this.j_a_id=t)):i.gf=!1;break;case 3130:s>this.maps.wx-160&&s<this.maps.wx+this.gg.di.width&&h>this.maps.wy-160&&h<this.maps.wy+this.gg.di.height?(i.gf=!0,this.a_hf=!0,i.pt=3530):i.gf=!1;break;case 3200:if(s>this.maps.wx-256&&s<this.maps.wx+this.gg.di.width+256&&h>this.maps.wy-256&&h<this.maps.wy+this.gg.di.height+256?(i.gf=!0,this.a_hf=!0,i.pt=3100):i.gf=!1,this.co_j.c>=100&&this.co_j.c<200)if(this.j_rope_cf&&this.j_rope_id==t){var xa=s-(this.co_j.x+16),ka=h-(this.co_j.y+16),wa=Math.floor(Math.sqrt(xa*xa+ka*ka));if(wa>=12&&wa<=244){var ba=s+Ki(Math.cos(3.141592653589793*i.vy/180)*wa,!0,this),Sa=h+Ki(Math.sin(3.141592653589793*i.vy/180)*wa,!0,this);(Math.abs(this.co_j.x+16-ba)>=24||Math.abs(this.co_j.y+16-Sa)>=24)&&(this.j_rope_cf=!1)}else this.j_rope_cf=!1}else if((140!=this.co_j.c||this.j_rope_id!=t)&&100==this.co_j.c&&!this.co_j.jimen_f){var Ma=s-(this.co_j.x+16),Ca=h-(this.co_j.y+16),Ia=Math.floor(Math.sqrt(Ma*Ma+Ca*Ca));if(Ia>=12&&Ia<=220){var Ba=s+Ki(Math.cos(3.141592653589793*i.vy/180)*Ia,!0,this),Ga=h+Ki(Math.sin(3.141592653589793*i.vy/180)*Ia,!0,this);Math.abs(this.co_j.x+16-Ba)<20&&Math.abs(this.co_j.y+16-Ga)<20&&(this.co_j.c=140,this.co_j.ac=0,this.j_rope_id=t,this.j_rope_cf=!1,this.j_rope_r=Math.floor(Math.sqrt((this.co_j.x+16-s)*(this.co_j.x+16-s)+(this.co_j.y+16-h)*(this.co_j.y+16-h))),this.j_rope_r<48?this.j_rope_r=48:this.j_rope_r>220&&(this.j_rope_r=220),1==i.c3&&(i.c3=0,90==i.vy&&(0==this.co_j.muki?i.vx=22:i.vx=-22)),this.j_zan_f=!1,this.j_jet_c=0)}}1!=i.c3&&(1==i.c4?i.vy>330?(i.vx-=2,i.vx<-22&&(i.vx=-22)):i.vy<210&&(i.vx+=2,i.vx>22&&(i.vx=22)):i.vy>300?(i.vx-=2,i.vx<-22&&(i.vx=-22)):i.vy<240&&(i.vx+=2,i.vx>22&&(i.vx=22)),i.vx>0?i.vy+=Ki((i.vx+5)/10):i.vy+=Ki((i.vx-5)/10));break;case 3300:i.vy+=4,i.vy>64&&(i.vy=64),i.vy<-60?h-=6:h+=Ki(i.vy/10),this.maps.getBGCode(s,h+i.c5+1)>=20&&(h=32*Ji(h+i.c5+1,5)-i.c5-1,i.vy=-92),h-i.c5>=this.ochiru_y&&(h=this.ochiru_y+i.c5+64),s+256>this.maps.wx&&s<this.maps.wx+this.gg.di.width+256?(i.gf=!0,this.a_hf=!0,i.pt=2700,this.setYukaPosition(String(i.c4),String(s),String(h))):i.gf=!1;break;case 3400:s>this.maps.wx-96&&s<this.maps.wx+this.gg.di.width+64&&h>this.maps.wy-96&&h<this.maps.wy+this.gg.di.height+64?(i.gf=!0,this.a_hf=!0,i.pt=3600,this.co_j.c>=100&&this.co_j.c<200&&this.co_j.x+15>=s&&this.co_j.x+15<=s+31&&this.co_j.y+31>=h+4&&this.co_j.y<=h+31-4&&(this.cpoint_con=100,this.cpoint_stage=this.stage,this.cpoint_x=s,this.cpoint_y=h,i.c=0,this.addScore(5),this.gs.rsAddSound(7),i.gf=!1)):i.gf=!1;break;case 3500:if(s>this.maps.wx-96&&s<this.maps.wx+this.gg.di.width+64&&h>this.maps.wy-96&&h<this.maps.wy+this.gg.di.height+64)if(i.gf=!0,this.a_hf=!0,i.pt=3700,0==i.c3){if(this.co_j.c>=100&&this.co_j.c<200&&this.co_j.x>=s-32&&this.co_j.x<=s+32&&this.co_j.y>=h-14&&this.co_j.y<=h+14){i.c3=1,i.pt=3710,this.gs.rsAddSound(23);var za=Ji(s,5),Aa=Ji(h,5);1==i.c4?this.onASwitch(za-5,Aa-5,za+5,Aa+5):2==i.c4?this.onASwitch(1,10,this.mapWidth,this.mapHeight+10,2):this.onASwitch(za-10,Aa-10,za+10,Aa+10)}}else if(1==i.c3)this.co_j.c>=100&&this.co_j.c<200&&(this.co_j.x<=s-32-8||this.co_j.x>=s+32+8||this.co_j.y<=h-14-8||this.co_j.y>=h+14+8)&&(i.c3=100),i.pt=3710;else if(100==i.c3){if(i.pt=3710,this.co_j.c>=100&&this.co_j.c<200&&this.co_j.x>=s-32&&this.co_j.x<=s+32&&this.co_j.y>=h-14&&this.co_j.y<=h+14){i.c3=101,i.pt=3700,this.gs.rsAddSound(23);var Pa=Ji(s,5),Na=Ji(h,5);1==i.c4?this.offASwitch(Pa-5,Na-5,Pa+5,Na+5):2==i.c4?this.offASwitch(1,10,this.mapWidth,this.mapHeight+10,2):this.offASwitch(Pa-10,Na-10,Pa+10,Na+10)}}else 101==i.c3&&this.co_j.c>=100&&this.co_j.c<200&&(this.co_j.x<=s-32-8||this.co_j.x>=s+32+8||this.co_j.y<=h-14-8||this.co_j.y>=h+14+8)&&(i.c3=0);else i.gf=!1;break;case 3600:if(s>this.maps.wx-96&&s<this.maps.wx+this.gg.di.width+64&&h>this.maps.wy-96&&h<this.maps.wy+this.gg.di.height+64){if(i.gf=!0,this.a_hf=!0,i.pt=3700,0==i.c3){if(this.co_j.c>=100&&this.co_j.c<200&&this.co_j.x>=s-32-8&&this.co_j.x<=s+32+8&&this.co_j.y>=h-12-8&&this.co_j.y<=h+12+8&&1==this.up_key_c){i.c3=100,i.pt=3710,this.gs.rsAddSound(23);var Oa=Ji(s,5),Ya=Ji(h,5);1==i.c4?this.onASwitch(Oa-5,Ya-5,Oa+5,Ya+5):2==i.c4?this.onASwitch(1,10,this.mapWidth,this.mapHeight+10,2):this.onASwitch(Oa-10,Ya-10,Oa+10,Ya+10)}}else if(i.pt=3710,this.co_j.c>=100&&this.co_j.c<200&&this.co_j.x>=s-32-8&&this.co_j.x<=s+32+8&&this.co_j.y>=h-12-8&&this.co_j.y<=h+12+8&&1==this.up_key_c){i.c3=0,i.pt=3700,this.gs.rsAddSound(23);var Ta=Ji(s,5),Ea=Ji(h,5);1==i.c4?this.offASwitch(Ta-5,Ea-5,Ta+5,Ea+5):2==i.c4?this.offASwitch(1,10,this.mapWidth,this.mapHeight+10,2):this.offASwitch(Ta-10,Ea-10,Ta+10,Ea+10)}}else i.gf=!1;break;case 4600:s>this.maps.wx-96&&s<this.maps.wx+this.gg.di.width+64&&h>this.maps.wy-96&&h<this.maps.wy+this.gg.di.height+64?(i.gf=!0,this.a_hf=!0,i.pt=4100,this.co_j.c>=100&&this.co_j.c<200&&this.dkey_count[0]+this.dkey_count[1]<5&&this.co_j.x+15>=s-4&&this.co_j.x+15<=s+31+4&&this.co_j.y+31>=h+4&&this.co_j.y<=h+31-4&&(this.dkey_count[0]++,i.c=0,this.addScore(5),this.gs.rsAddSound(7),i.gf=!1)):i.gf=!1;break;case 4610:s>this.maps.wx-96&&s<this.maps.wx+this.gg.di.width+64&&h>this.maps.wy-96&&h<this.maps.wy+this.gg.di.height+64?(i.gf=!0,this.a_hf=!0,i.pt=4110,this.co_j.c>=100&&this.co_j.c<200&&this.dkey_count[0]+this.dkey_count[1]<5&&this.co_j.x+15>=s-4&&this.co_j.x+15<=s+31+4&&this.co_j.y+31>=h+4&&this.co_j.y<=h+31-4&&(this.dkey_count[1]++,i.c=0,this.addScore(5),this.gs.rsAddSound(7),i.gf=!1)):i.gf=!1;break;case 4700:s>this.maps.wx-96&&s<this.maps.wx+this.gg.di.width+64&&h>this.maps.wy-96&&h<this.maps.wy+this.gg.di.height+64?(i.gf=!0,this.a_hf=!0):i.gf=!1,0==i.c3?i.gf&&this.co_j.c>=100&&this.co_j.c<200&&this.co_j.x>=s-32&&this.co_j.x<=s+32&&this.co_j.y>=h-32&&this.co_j.y<=h+32&&(0==i.c4?this.dkey_count[0]>=1&&(this.dkey_count[0]--,i.c3=100,this.maps.putBGCode(Ji(s,5),Ji(h,5),31),this.gs.rsAddSound(13)):1==i.c4?this.dkey_count[1]>=1&&(this.dkey_count[1]--,i.c3=100,this.maps.putBGCode(Ji(s,5),Ji(h,5),31),this.gs.rsAddSound(13)):2==i.c4?this.dkey_count[0]>=3&&(this.dkey_count[0]-=3,i.c3=100,this.maps.putBGCode(Ji(s,5),Ji(h,5),31),this.gs.rsAddSound(13)):3==i.c4&&this.dkey_count[1]>=3&&(this.dkey_count[1]-=3,i.c3=100,this.maps.putBGCode(Ji(s,5),Ji(h,5),31),this.gs.rsAddSound(13))):i.c3>=100&&(i.c3++,102==i.c3||106==i.c3?0==i.c4?this.maps.putBGCode(Ji(s,5),Ji(h,5),213):1==i.c4?this.maps.putBGCode(Ji(s,5),Ji(h,5),214):2==i.c4?this.maps.putBGCode(Ji(s,5),Ji(h,5),215):3==i.c4&&this.maps.putBGCode(Ji(s,5),Ji(h,5),212):104==i.c3?this.maps.putBGCode(Ji(s,5),Ji(h,5),31):i.c3>=108&&(this.maps.putBGCode(Ji(s,5),Ji(h,5),0),i.c=0));break;case 4800:s>this.maps.wx-96&&s<this.maps.wx+this.gg.di.width+64&&h>this.maps.wy-96&&h<this.maps.wy+this.gg.di.height+64?(i.gf=!0,this.a_hf=!0,1==i.c4?i.pt=4110:i.pt=4100,this.co_j.c>=100&&this.co_j.c<200&&this.dkey_count[0]+this.dkey_count[1]<5&&this.co_j.x+15>=s-4&&this.co_j.x+15<=s+31+4&&this.co_j.y+31>=h+4&&this.co_j.y<=h+31-4&&(1==i.c4?this.dkey_count[1]++:this.dkey_count[0]++,i.c=0,this.addScore(5),this.gs.rsAddSound(7),i.gf=!1)):i.gf=!1,0==i.c3?i.c3=1:((h+=4)+31)%32<=4&&this.maps.getBGCode(s+15,h+31)>=20?h=32*Ji(h+31,5)-32:h>=this.ochiru_y&&(i.c=0,i.gf=!1);break;case 5100:if(s>this.maps.wx-96&&s<this.maps.wx+this.gg.di.width+64&&h>this.maps.wy-96&&h<this.maps.wy+this.gg.di.height+64){if(i.gf=!0,this.a_hf=!0,0==i.c3){if(i.pt=4300,this.attackTail(String(s),String(h),"32","32")>=1){i.c3=100,this.addScore(10),i.pt=0,this.mSet(s,h,65),i.gf=!1;var Ra=Ji(s,5),Va=Ji(h,5);1==i.c4?this.onASwitch(Ra-5,Va-5,Ra+5,Va+5):this.onASwitch(Ra-10,Va-10,Ra+10,Va+10)}}else if(i.c3++,i.c3>108){i.c=0,i.gf=!1;var Wa=Ji(s,5),Fa=Ji(h,5);4==this.maps.map_bg[Wa][Fa-1]?this.maps.putBGCode(Wa,Fa,4):this.maps.putBGCode(Wa,Fa,0)}}else i.gf=!1;break;case 5200:if(i.gf=!1,this.a_hf=!0,i.pt=0,0==i.c3){for(var Da=Ji(s,5),La=Ji(h,5),Ha=0;Ha<=3&&(0==this.maps.map_bg[Da][La+Ha]||4==this.maps.map_bg[Da][La+Ha]);Ha++)this.maps.putBGCode(Da,La+Ha,23);i.c3=100}if(100==i.c3){if(1==i.c5){for(var Ua=Ji(s,5),qa=Ji(h,5),Ka=0;Ka<=3&&23==this.maps.map_bg[Ua][qa+Ka];Ka++)this.maps.putBGCode(Ua,qa+Ka,0);i.c3=200}}else if(0==i.c5){for(var Ja=Ji(s,5),Za=Ji(h,5),Xa=0;Xa<=3&&(0==this.maps.map_bg[Ja][Za+Xa]||4==this.maps.map_bg[Ja][Za+Xa]);Xa++)this.maps.putBGCode(Ja,Za+Xa,23);i.c3=100}break;case 5210:if(i.gf=!1,this.a_hf=!0,i.pt=0,100==i.c3){if(1==i.c5){for(var $a=Ji(s,5),Qa=Ji(h,5),tc=0;tc<=3&&(0==this.maps.map_bg[$a][Qa+tc]||4==this.maps.map_bg[$a][Qa+tc]);tc++)this.maps.putBGCode($a,Qa+tc,23);i.c3=200}}else if(0==i.c5){for(var ic=Ji(s,5),sc=Ji(h,5),hc=0;hc<=3&&23==this.maps.map_bg[ic][sc+hc];hc++)this.maps.putBGCode(ic,sc+hc,0);i.c3=100}}if(this.jm_kazu>0)for(var ec=0;ec<=8;ec++)if(!(this.co_jm[ec].c<100)){var ac=this.co_jm[ec];if(!(i.c<100))if(i.c<200){if(ac.x+15<s||ac.x>s+64||ac.y+19<h||ac.y+4>h+23)continue;200==ac.c?(ac.c=50,ac.y=h-8,ac.c1=1,ac.c2=20):(ac.c=0,this.jm_kazu--)}else if(300!=i.c)if(400!=i.c&&410!=i.c)if(500!=i.c)if(1800!=i.c)1850!=i.c||Math.sqrt((ac.x+16-s)*(ac.x+16-s))>96||Math.sqrt((ac.y+16-h)*(ac.y+16-h))>96||(200==ac.c?(ac.c=50,ac.c1=1,ac.c2=20):(ac.c=0,this.jm_kazu--));else{if(Math.sqrt((ac.x+16-s)*(ac.x+16-s))>56||Math.sqrt((ac.y+16-h)*(ac.y+16-h))>56)continue;200==ac.c?(ac.c=50,ac.c1=1,ac.c2=20):(ac.c=0,this.jm_kazu--)}else{if(ac.x+15<s||ac.x>s+80||ac.y+29<h||ac.y+2>h+13)continue;200==ac.c?(ac.c=50,ac.y=h-8,ac.c1=1,ac.c2=20):(ac.c=0,this.jm_kazu--)}else{if(ac.x+15<s||ac.x>s+80||ac.y+19<h||ac.y+4>h+63)continue;200==ac.c?(ac.c=50,ac.c1=1,ac.c2=20):(ac.c=0,this.jm_kazu--)}else{if(ac.x+15<s||ac.x>s+48||ac.y+29<h||ac.y+2>h+31)continue;200==ac.c?(ac.c=50,ac.c1=1,ac.c2=20):(ac.c=0,this.jm_kazu--)}}i.x=s,i.y=h}}this.souko_count1>=1&&this.souko_count2>=this.souko_count1&&this.stage_cc<1&&(this.stage_cc=1,this.souko_count3=1,this.stage_max>=2&&this.stage>=this.stage_max?this.addScore(1e3):this.addScore(100),this.gs.rsAddSound(2))}},{key:"aMoveOption",value:function(t){var i=this.co_a[t],s=i.x,h=i.y;switch(i.c){default:break;case 150:s>this.maps.wx-80-32&&s<this.maps.wx+this.gg.di.width+32&&h>this.maps.wy-32&&h<this.maps.wy+this.gg.di.height+32?(i.gf=!0,this.a_hf=!0,(this.co_j.c>=100||this.co_j.c<200)&&this.co_j.x+15>=s&&this.co_j.x+15<=s+79&&this.co_j.y==h-32&&(this.j_a_id=t)):i.gf=!1,1==i.c4?0==i.c3?1==i.c5&&(i.c3=100):100==i.c3?(h+=4)>=i.vy+128+8&&(h=i.vy+128+8,i.c3=200):200==i.c3?0==i.c5&&(i.c3=300):300==i.c3&&(h-=4)<=i.vy+8&&(h=i.vy+8,i.c3=0):2==i.c4?0==i.c3?1==i.c5&&(i.c3=100):100==i.c3?(h-=2)<=i.vy-192+8&&(h=i.vy-192+8,i.c3=200):200==i.c3?0==i.c5&&(i.c3=300):300==i.c3&&(h+=2)>=i.vy+8&&(h=i.vy+8,i.c3=0):0==i.c3?1==i.c5&&(i.c3=100):100==i.c3?(h-=4)<=i.vy-128+8&&(h=i.vy-128+8,i.c3=200):200==i.c3?0==i.c5&&(i.c3=300):300==i.c3&&(h+=4)>=i.vy+8&&(h=i.vy+8,i.c3=0),this.co_j.c>=100&&this.co_j.c<200&&(this.j_a_id==t&&(this.co_j.y=h-32),h<i.y&&this.maps.getBGCode(this.co_j.x+15,this.co_j.y)>=18&&(this.co_j.y=32*Ji(this.co_j.y,5)+16,this.jShinu(3)),this.co_j.x+15>=s&&this.co_j.x<=s+64&&this.co_j.y+31>=h&&this.co_j.y<=h+13&&(h>i.y?(this.co_j.y=h+14,10!=this.maps.getBGCode(this.co_j.x+15,this.co_j.y+15)&&10!=this.maps.getBGCode(this.co_j.x+15,this.co_j.y+31)||(this.j_hashigo_f=!0),this.maps.getBGCode(this.co_j.x+15,this.co_j.y+31)>=18&&(this.co_j.y=32*Ji(this.co_j.y+31,5)-32,this.jShinu(3))):(this.co_j.y=h-32,this.j_a_id=t)));break;case 160:if(s>this.maps.wx-80-32&&s<this.maps.wx+this.gg.di.width+32&&h>this.maps.wy-32&&h<this.maps.wy+this.gg.di.height+32?(i.gf=!0,this.a_hf=!0,(this.co_j.c>=100||this.co_j.c<200)&&this.co_j.x+15>=s&&this.co_j.x+15<=s+79&&this.co_j.y==h-32&&(this.j_a_id=t)):i.gf=!1,0==i.c4?0==i.c3?1==i.c5&&(i.c3=100):100==i.c3?(s+=4)>=i.vx+128+8&&(s=i.vx+128+8,i.c3=200):200==i.c3?0==i.c5&&(i.c3=300):300==i.c3&&(s-=4)<=i.vx+8&&(s=i.vx+8,i.c3=0):2==i.c4?0==i.c3?1==i.c5&&(i.c3=100):100==i.c3?(s+=2)>=i.vx+192+8&&(s=i.vx+192+8,i.c3=200):200==i.c3?0==i.c5&&(i.c3=300):300==i.c3&&(s-=2)<=i.vx+8&&(s=i.vx+8,i.c3=0):0==i.c3?1==i.c5&&(i.c3=100):100==i.c3?(s-=4)<=i.vx-128+8&&(s=i.vx-128+8,i.c3=200):200==i.c3?0==i.c5&&(i.c3=300):300==i.c3&&(s+=4)>=i.vx+8&&(s=i.vx+8,i.c3=0),this.co_j.c<100||this.co_j.c>=200)break;if(this.j_a_id==t)if(this.co_j.x+=s-i.x,s>i.x){var e=Ji(this.co_j.x+15,5),a=Ji(this.co_j.y,5),c=Ji(this.co_j.y+31,5);(this.maps.map_bg[e][a]>=18||this.maps.map_bg[e][c]>=18)&&(this.co_j.x=32*e-16)}else if(s<i.x){var o=Ji(this.co_j.x+15,5),_=Ji(this.co_j.y,5),r=Ji(this.co_j.y+31,5);(this.maps.map_bg[o][_]>=18||this.maps.map_bg[o][r]>=18)&&(this.co_j.x=32*o+32-14)}if(this.co_j.x+15<s||this.co_j.x>s+64||this.co_j.y+31<h||this.co_j.y>h+13)break;if(s>i.x){this.co_j.x=s+65;var n=Ji(this.co_j.x+15,5),m=Ji(this.co_j.y,5),p=Ji(this.co_j.y+31,5);(this.maps.map_bg[n][m]>=20||this.maps.map_bg[n][p]>=20)&&(this.co_j.x=32*n-32+11,this.jShinu(4));break}this.co_j.x=s-16;var g=Ji(this.co_j.x+15,5),u=Ji(this.co_j.y,5),y=Ji(this.co_j.y+31,5);(this.maps.map_bg[g][u]>=20||this.maps.map_bg[g][y]>=20)&&(this.co_j.x=32*g+32-11,this.jShinu(4));break;case 3700:if(i.gf=!1,this.a_hf=!0,i.pt=0,0==i.c3&&(this.maps.putBGCode(Ji(s,5),Ji(h,5),213),i.c3=100),100==i.c3){1==i.c5&&(this.maps.putBGCode(Ji(s,5),Ji(h,5),0),i.c3=200);break}0==i.c5&&(this.maps.putBGCode(Ji(s,5),Ji(h,5),213),i.c3=100);break;case 3710:if(i.gf=!1,this.a_hf=!0,i.pt=0,100==i.c3){1==i.c5&&(this.maps.putBGCode(Ji(s,5),Ji(h,5),214),i.c3=200);break}0==i.c5&&(this.maps.putBGCode(Ji(s,5),Ji(h,5),0),i.c3=100);break;case 3800:if(i.gf=!1,this.a_hf=!0,i.pt=0,0==i.c3){for(var d=Ji(s,5),f=Ji(h,5),j=0;j<=3&&d+j<=this.mapWidth&&(0==this.maps.map_bg[d+j][f]||4==this.maps.map_bg[d+j][f]);j++)this.maps.putBGCode(d+j,f,5);i.c3=100}if(100==i.c3){if(1!=i.c5)break;for(var l=Ji(s,5),v=Ji(h,5),x=0;x<=3&&l+x<=this.mapWidth&&(0==this.maps.map_bg[l+x][v]||4==this.maps.map_bg[l+x][v]||5==this.maps.map_bg[l+x][v]);x++)this.maps.putBGCode(l+x,v,23);i.c3=200;break}if(0!=i.c5)break;for(var k=Ji(s,5),w=Ji(h,5),b=0;b<=3&&k+b<=this.mapWidth&&(0==this.maps.map_bg[k+b][w]||4==this.maps.map_bg[k+b][w]||23==this.maps.map_bg[k+b][w]);b++)this.maps.putBGCode(k+b,w,5);i.c3=100;break;case 3810:if(i.gf=!1,this.a_hf=!0,i.pt=0,0==i.c3){for(var S=Ji(s,5),M=Ji(h,5),C=0;C<=3&&S+C<=this.mapWidth&&(0==this.maps.map_bg[S+C][M]||4==this.maps.map_bg[S+C][M]);C++)this.maps.putBGCode(S+C,M,23);i.c3=100}if(100==i.c3){if(1!=i.c5)break;for(var I=Ji(s,5),B=Ji(h,5),G=0;G<=3&&I+G<=this.mapWidth&&(0==this.maps.map_bg[I+G][B]||4==this.maps.map_bg[I+G][B]||23==this.maps.map_bg[I+G][B]);G++)this.maps.putBGCode(I+G,B,5);i.c3=200;break}if(0!=i.c5)break;for(var z=Ji(s,5),A=Ji(h,5),P=0;P<=3&&z+P<=this.mapWidth&&(0==this.maps.map_bg[z+P][A]||4==this.maps.map_bg[z+P][A]||5==this.maps.map_bg[z+P][A]);P++)this.maps.putBGCode(z+P,A,23);i.c3=100;break;case 3900:if(i.gf=!1,this.a_hf=!0,i.pt=0,0==i.c3){for(var N=Ji(s,5),O=Ji(h,5),Y=0;Y<=3&&N+Y<=this.mapWidth&&(0==this.maps.map_bg[N+Y][O]||4==this.maps.map_bg[N+Y][O]);Y++)this.maps.putBGCode(N+Y,O,6);i.c3=100}if(100==i.c3){if(1!=i.c5)break;for(var T=Ji(s,5),E=Ji(h,5),R=0;R<=3&&T+R<=this.mapWidth&&6==this.maps.map_bg[T+R][E];R++)this.maps.putBGCode(T+R,E,0);i.c3=200;break}if(0!=i.c5)break;for(var V=Ji(s,5),W=Ji(h,5),F=0;F<=3&&V+F<=this.mapWidth&&(0==this.maps.map_bg[V+F][W]||4==this.maps.map_bg[V+F][W]);F++)this.maps.putBGCode(V+F,W,6);i.c3=100;break;case 3910:if(i.gf=!1,this.a_hf=!0,i.pt=0,100==i.c3){if(1!=i.c5)break;for(var D=Ji(s,5),L=Ji(h,5),H=0;H<=3&&D+H<=this.mapWidth&&(0==this.maps.map_bg[D+H][L]||4==this.maps.map_bg[D+H][L]);H++)this.maps.putBGCode(D+H,L,6);i.c3=200;break}if(0!=i.c5)break;for(var U=Ji(s,5),q=Ji(h,5),K=0;K<=3&&U+K<=this.mapWidth&&6==this.maps.map_bg[U+K][q];K++)this.maps.putBGCode(U+K,q,0);i.c3=100;break;case 4e3:if(i.gf=!1,this.a_hf=!0,i.pt=0,0==i.c3){for(var J=Ji(s,5),Z=Ji(h,5),X=0;X<=9&&Z+X<=this.mapHeight+9&&(0==this.maps.map_bg[J][Z+X]||4==this.maps.map_bg[J][Z+X]);X++)this.maps.putBGCode(J,Z+X,10),this.map_data_option[J][Z+X]=!0;i.c3=100}if(100==i.c3){if(1!=i.c5)break;for(var $=Ji(s,5),Q=Ji(h,5),tt=0;tt<=9&&Q+tt<=this.mapHeight+9&&10==this.maps.map_bg[$][Q+tt];tt++)this.maps.putBGCode($,Q+tt,0),this.map_data_option[$][Q+tt]=!1;i.c3=200;break}if(0!=i.c5)break;for(var it=Ji(s,5),st=Ji(h,5),ht=0;ht<=9&&st+ht<=this.mapHeight+9&&(0==this.maps.map_bg[it][st+ht]||4==this.maps.map_bg[it][st+ht]);ht++)this.maps.putBGCode(it,st+ht,10),this.map_data_option[it][st+ht]=!0;i.c3=100;break;case 4010:if(i.gf=!1,this.a_hf=!0,i.pt=0,100==i.c3){if(1!=i.c5)break;for(var et=Ji(s,5),at=Ji(h,5),ct=0;ct<=9&&at+ct<=this.mapHeight+9&&(0==this.maps.map_bg[et][at+ct]||4==this.maps.map_bg[et][at+ct]);ct++)this.maps.putBGCode(et,at+ct,10),this.map_data_option[et][at+ct]=!0;i.c3=200;break}if(0!=i.c5)break;for(var ot=Ji(s,5),_t=Ji(h,5),rt=0;rt<=9&&_t+rt<=this.mapHeight+9&&10==this.maps.map_bg[ot][_t+rt];rt++)this.maps.putBGCode(ot,_t+rt,0),this.map_data_option[ot][_t+rt]=!1;i.c3=100;break;case 4100:if(s>this.maps.wx-64&&s<this.maps.wx+this.gg.di.width+32&&h>this.maps.wy-128&&h<this.maps.wy+this.gg.di.height+32+128?(i.gf=!0,this.a_hf=!0):i.gf=!1,0==i.c3&&(i.c3=100),100==i.c3){i.pt=3800,this.co_j.c>=100&&this.co_j.c<200&&this.co_j.x+15>=s&&this.co_j.x+15<=s+31&&this.co_j.y+31>=h&&this.co_j.y<=h+127&&this.j_muteki_c<=0&&(this.setMyHPDamage("1"),this.getMyHP()<=0&&this.jShinu(1)),1==i.c5&&(i.pt=0,i.c3=200);break}i.pt=0,0==i.c5&&(i.pt=3800,i.c3=100);break;case 4110:if(s>this.maps.wx-64&&s<this.maps.wx+this.gg.di.width+32&&h>this.maps.wy-128&&h<this.maps.wy+this.gg.di.height+32+128?(i.gf=!0,this.a_hf=!0):i.gf=!1,0==i.c3&&(i.c3=100),100==i.c3){i.pt=0,1==i.c5&&(i.pt=3800,i.c3=200);break}i.pt=3800,this.co_j.c>=100&&this.co_j.c<200&&this.co_j.x+15>=s&&this.co_j.x+15<=s+31&&this.co_j.y+31>=h&&this.co_j.y<=h+127&&this.j_muteki_c<=0&&(this.setMyHPDamage("1"),this.getMyHP()<=0&&this.jShinu(1)),0==i.c5&&(i.pt=0,i.c3=100);break;case 4200:if(s>this.maps.wx-128&&s<this.maps.wx+this.gg.di.width+32&&h>this.maps.wy-64&&h<this.maps.wy+this.gg.di.height+32+128?(i.gf=!0,this.a_hf=!0):i.gf=!1,0==i.c3&&(i.c3=100),100==i.c3){i.pt=3900,this.co_j.c>=100&&this.co_j.c<200&&this.co_j.x+15>=s&&this.co_j.x+15<=s+127&&this.co_j.y+31>=h&&this.co_j.y<=h+31&&this.j_muteki_c<=0&&(this.setMyHPDamage("1"),this.getMyHP()<=0&&this.jShinu(1)),1==i.c5&&(i.pt=0,i.c3=200);break}i.pt=0,0==i.c5&&(i.pt=3900,i.c3=100);break;case 4210:if(s>this.maps.wx-128&&s<this.maps.wx+this.gg.di.width+32&&h>this.maps.wy-64&&h<this.maps.wy+this.gg.di.height+32+128?(i.gf=!0,this.a_hf=!0):i.gf=!1,0==i.c3&&(i.c3=100),100==i.c3){i.pt=0,1==i.c5&&(i.pt=3900,i.c3=200);break}i.pt=3900,this.co_j.c>=100&&this.co_j.c<200&&this.co_j.x+15>=s&&this.co_j.x+15<=s+127&&this.co_j.y+31>=h&&this.co_j.y<=h+31&&this.j_muteki_c<=0&&(this.setMyHPDamage("1"),this.getMyHP()<=0&&this.jShinu(1)),0==i.c5&&(i.pt=0,i.c3=100);break;case 4300:if(0==i.vy?1==i.c5&&(i.vy=1):1==i.vy?0==i.c4?(i.c3-=2,i.c3<=180&&(i.c3=180,i.vy=100)):1==i.c4?(i.c3+=2,i.c3>=360&&(i.c3=360,i.vy=100)):2==i.c4?(i.c3+=2,i.c3>=270&&(i.c3=270,i.vy=100)):3==i.c4?(i.c3-=2,i.c3<=270&&(i.c3=270,i.vy=100)):4==i.c4?(i.c3-=2,i.c3<=90&&(i.c3=90,i.vy=100)):5==i.c4?(i.c3+=2,i.c3>=90&&(i.c3=90,i.vy=100)):6==i.c4?(i.c3+=2,i.c3>=180&&(i.c3=180,i.vy=100)):7==i.c4?(i.c3-=2,i.c3<=0&&(i.c3=0,i.vy=100)):10==i.c4?(i.c3-=2,i.c3<=180&&(i.c3=180,i.vy=100)):11==i.c4?(i.c3+=2,i.c3>=360&&(i.c3=360,i.vy=100)):12==i.c4?(i.c3+=2,i.c3>=180&&(i.c3=180,i.vy=100)):13==i.c4?(i.c3-=2,i.c3<=0&&(i.c3=0,i.vy=100)):14==i.c4?(i.c3-=2,i.c3<=90&&(i.c3=90,i.vy=100)):15==i.c4?(i.c3+=2,i.c3>=360&&(i.c3-=360),90==i.c3&&(i.vy=100)):16==i.c4?(i.c3+=2,i.c3>=270&&(i.c3=270,i.vy=100)):17==i.c4&&(i.c3-=2,i.c3<0&&(i.c3+=360),270==i.c3&&(i.vy=100)):100==i.vy?0==i.c5&&(i.vy=101):101==i.vy&&(0==i.c4?(i.c3+=2,i.c3>=270&&(i.c3=270,i.vy=0)):1==i.c4?(i.c3-=2,i.c3<=270&&(i.c3=270,i.vy=0)):2==i.c4?(i.c3-=2,i.c3<=180&&(i.c3=180,i.vy=0)):3==i.c4?(i.c3+=2,i.c3>=360&&(i.c3=360,i.vy=0)):4==i.c4?(i.c3+=2,i.c3>=180&&(i.c3=180,i.vy=0)):5==i.c4?(i.c3-=2,i.c3<=0&&(i.c3=0,i.vy=0)):6==i.c4?(i.c3-=2,i.c3<=90&&(i.c3=90,i.vy=0)):7==i.c4?(i.c3+=2,i.c3>=90&&(i.c3=90,i.vy=0)):10==i.c4?(i.c3+=2,i.c3>=360&&(i.c3=360,i.vy=0)):11==i.c4?(i.c3-=2,i.c3<=180&&(i.c3=180,i.vy=0)):12==i.c4?(i.c3-=2,i.c3<=0&&(i.c3=0,i.vy=0)):13==i.c4?(i.c3+=2,i.c3>=180&&(i.c3=180,i.vy=0)):14==i.c4?(i.c3+=2,i.c3>=270&&(i.c3=270,i.vy=0)):15==i.c4?(i.c3-=2,i.c3<0&&(i.c3+=360),270==i.c3&&(i.vy=0)):16==i.c4?(i.c3-=2,i.c3<=90&&(i.c3=90,i.vy=0)):17==i.c4&&(i.c3+=2,i.c3>=360&&(i.c3-=360),90==i.c3&&(i.vy=0))),s>this.maps.wx-150&&s<this.maps.wx+this.gg.di.width+150&&h>this.maps.wy-150&&h<this.maps.wy+this.gg.di.height+150){var nt,mt,pt,gt;if(i.gf=!0,this.a_hf=!0,i.pt=1100,2==Math.abs(i.vx)){var ut=.017453292519943295;nt=s+Ki(25*Math.cos(i.c3*ut),!0,this),mt=h+Ki(25*Math.sin(i.c3*ut),!0,this),this.vo_x[t][0]=nt,this.vo_y[t][0]=mt,pt=s+Ki(172*Math.cos(i.c3*ut),!0,this),gt=h+Ki(172*Math.sin(i.c3*ut),!0,this),this.vo_x[t][1]=pt,this.vo_y[t][1]=gt,this.vo_x[t][2]=s+31*Math.cos(i.c3*ut),this.vo_y[t][2]=h+31*Math.sin(i.c3*ut),this.vo_x[t][3]=s+166*Math.cos(i.c3*ut),this.vo_y[t][3]=h+166*Math.sin(i.c3*ut)}else{var yt=.017453292519943295;nt=s+Ki(25*Math.cos(i.c3*yt),!0,this),mt=h+Ki(25*Math.sin(i.c3*yt),!0,this),this.vo_x[t][0]=nt,this.vo_y[t][0]=mt,pt=s+Ki(140*Math.cos(i.c3*yt),!0,this),gt=h+Ki(140*Math.sin(i.c3*yt),!0,this),this.vo_x[t][1]=pt,this.vo_y[t][1]=gt,this.vo_x[t][2]=s+31*Math.cos(i.c3*yt),this.vo_y[t][2]=h+31*Math.sin(i.c3*yt),this.vo_x[t][3]=s+134*Math.cos(i.c3*yt),this.vo_y[t][3]=h+134*Math.sin(i.c3*yt)}if(this.co_j.c<100||this.co_j.c>=200||this.j_v_c>0)break;if(Math.abs(nt-pt)>=Math.abs(mt-gt)){if(this.co_j.x+15>nt&&this.co_j.x+15<pt){var dt=pt-nt,ft=Ki((this.co_j.x+15-nt)*(gt-mt)/dt)+mt;ft>this.co_j.y-12&&ft<this.co_j.y+44&&this.jShinu(1);break}if(this.co_j.x+15<=pt||this.co_j.x+15>=nt)break;var jt=nt-pt,lt=Ki((this.co_j.x+15-pt)*(mt-gt)/jt)+gt;lt>this.co_j.y-12&&lt<this.co_j.y+44&&this.jShinu(1);break}if(this.co_j.y+15>mt&&this.co_j.y+15<gt){var vt=gt-mt,xt=Ki((this.co_j.y+15-mt)*(pt-nt)/vt)+nt;xt>this.co_j.x-12&&xt<this.co_j.x+44&&this.jShinu(1);break}if(this.co_j.y+15<=gt||this.co_j.y+15>=mt)break;var kt=mt-gt,wt=Ki((this.co_j.y+15-gt)*(nt-pt)/kt)+pt;wt>this.co_j.x-12&&wt<this.co_j.x+44&&this.jShinu(1)}else i.gf=!1;break;case 4400:if(i.gf=!1,this.a_hf=!0,i.pt=0,0==i.c3){for(var bt=Ji(s,5),St=Ji(h,5),Mt=0;Mt<=3&&bt+Mt<=this.mapWidth&&(0==this.maps.map_bg[bt+Mt][St]||4==this.maps.map_bg[bt+Mt][St]);Mt++)this.maps.putBGCode(bt+Mt,St,23);i.c3=100}if(100==i.c3){if(1!=i.c5)break;for(var Ct=Ji(s,5),It=Ji(h,5),Bt=0;Bt<=3&&Ct+Bt<=this.mapWidth&&23==this.maps.map_bg[Ct+Bt][It];Bt++)this.maps.putBGCode(Ct+Bt,It,0);i.c3=200;break}if(0!=i.c5)break;for(var Gt=Ji(s,5),zt=Ji(h,5),At=0;At<=3&&Gt+At<=this.mapWidth&&(0==this.maps.map_bg[Gt+At][zt]||4==this.maps.map_bg[Gt+At][zt]);At++)this.maps.putBGCode(Gt+At,zt,23);i.c3=100;break;case 4410:if(i.gf=!1,this.a_hf=!0,i.pt=0,100==i.c3){if(1!=i.c5)break;for(var Pt=Ji(s,5),Nt=Ji(h,5),Ot=0;Ot<=3&&Pt+Ot<=this.mapWidth&&(0==this.maps.map_bg[Pt+Ot][Nt]||4==this.maps.map_bg[Pt+Ot][Nt]);Ot++)this.maps.putBGCode(Pt+Ot,Nt,23);i.c3=200;break}if(0!=i.c5)break;for(var Yt=Ji(s,5),Tt=Ji(h,5),Et=0;Et<=3&&Yt+Et<=this.mapWidth&&23==this.maps.map_bg[Yt+Et][Tt];Et++)this.maps.putBGCode(Yt+Et,Tt,0);i.c3=100;break;case 4500:s>this.maps.wx-230&&s<this.maps.wx+this.gg.di.width+230&&h>this.maps.wy-230&&h<this.maps.wy+this.gg.di.height+230?(i.gf=!0,this.a_hf=!0,i.pt=4e3):i.gf=!1,0==i.vx||2==i.vx?0==i.c3?1==i.c5&&(i.c3=100):100==i.c3?(i.vy--,2==i.vx&&i.vy--,i.vy<=218&&(i.vy=218,i.c3=200)):200==i.c3?0==i.c5&&(i.c3=300):300==i.c3&&(i.vy++,2==i.vx&&i.vy++,i.vy>=322&&(i.vy=322,i.c3=0)):1==i.vx||3==i.vx?0==i.c3?1==i.c5&&(i.c3=100):100==i.c3?(i.vy++,3==i.vx&&i.vy++,i.vy>=322&&(i.vy=322,i.c3=200)):200==i.c3?0==i.c5&&(i.c3=300):300==i.c3&&(i.vy--,3==i.vx&&i.vy--,i.vy<=218&&(i.vy=218,i.c3=0)):10==i.vx?0==i.c3?1==i.c5&&(i.c3=100):100==i.c3?(i.vy++,i.vy>=270&&(i.vy=270,i.c3=200)):200==i.c3?0==i.c5&&(i.c3=300):300==i.c3&&(i.vy--,i.vy<=218&&(i.vy=218,i.c3=0)):11==i.vx?0==i.c3?1==i.c5&&(i.c3=100):100==i.c3?(i.vy--,i.vy<=218&&(i.vy=218,i.c3=200)):200==i.c3?0==i.c5&&(i.c3=300):300==i.c3&&(i.vy++,i.vy>=270&&(i.vy=270,i.c3=0)):12==i.vx?0==i.c3?1==i.c5&&(i.c3=100):100==i.c3?(i.vy--,i.vy<=270&&(i.vy=270,i.c3=200)):200==i.c3?0==i.c5&&(i.c3=300):300==i.c3&&(i.vy++,i.vy>=322&&(i.vy=322,i.c3=0)):13==i.vx&&(0==i.c3?1==i.c5&&(i.c3=100):100==i.c3?(i.vy++,i.vy>=322&&(i.vy=322,i.c3=200)):200==i.c3?0==i.c5&&(i.c3=300):300==i.c3&&(i.vy--,i.vy<=270&&(i.vy=270,i.c3=0)));var Rt=s+Ki(224*Math.cos(3.141592653589793*(i.vy+17)/180),!0,this),Vt=h+Ki(224*Math.sin(3.141592653589793*(i.vy+17)/180),!0,this),Wt=s+Ki(224*Math.cos(3.141592653589793*(i.vy-17)/180),!0,this),Ft=h+Ki(224*Math.sin(3.141592653589793*(i.vy-17)/180),!0,this);Rt+=Ki(12*Math.cos(3.141592653589793*i.vy/180),!0,this),Vt+=Ki(12*Math.sin(3.141592653589793*i.vy/180),!0,this),Wt+=Ki(12*Math.cos(3.141592653589793*i.vy/180),!0,this),Ft+=Ki(12*Math.sin(3.141592653589793*i.vy/180),!0,this),this.setYukaPosition(String(i.c4),String(Wt),String(Ft),String(Rt),String(Vt));break;case 4900:if(s>this.maps.wx-32&&s<this.maps.wx+this.gg.di.width&&h>this.maps.wy-32&&h<this.maps.wy+this.gg.di.height){if(i.gf=!0,this.a_hf=!0,50==this.km.mode){(this.co_j.x<s-80-8||this.co_j.x>s+64+8)&&(this.km.mode=100);break}if(100==this.km.mode){if(this.co_j.x<s-80||this.co_j.x>s+64||Math.abs(h-this.co_j.y)>=8||this.gk.tr1_f)break;0==i.c3?(this.km.init1(3),this.km.setMessage(3,this.tdb.getValue("serifu_key1_on_name")),this.addSerifu2(3,"serifu_key1_on-",3),this.km.activeSerifu(3,Ki(.625*this.gg.di.width-112)-40,Ki(.2875*this.gg.di.height-36)-16,272,this.gamecolor_message_name),this.km.mode=200):(this.km.init1(3),this.km.setMessage(3,this.tdb.getValue("serifu_key1_on_name")),this.addSerifu2(3,"serifu_key1_on-",8,10),this.km.activeSerifu(3,Ki(.625*this.gg.di.width-112)-40,Ki(.2875*this.gg.di.height-36)-16,252,this.gamecolor_message_name),this.km.mode=250),this.km.move();break}if(200==this.km.mode){if(1==this.km.cancel_c){this.km.off(3),this.km.mode=50;break}if(this.co_j.x<s-80-8||this.co_j.x>s+64+8||Math.abs(h-this.co_j.y)>16){this.km.off(3),this.km.mode=50;break}if(1!=this.km.kettei_c)break;this.co_j.c=150,this.co_j.x<=s||this.maps.getBGCode(s+48,h)>=18?this.maps.getBGCode(s-16,h)>=18?(this.co_j.x=s-15,this.co_j.muki=1):(this.co_j.x=s-48,this.co_j.muki=1):(this.co_j.x=s+48,this.co_j.muki=0),this.co_j.y=h,this.co_j.vx=0,this.co_j.vy=0,this.co_j.pt=100,this.setmyw_pt=this.co_j.pt,this.setmyw_muki=this.co_j.muki,this.co_j.c1=10,this.km.init1(7),this.km.setMessage(7,this.tdb.getValue("serifu_key1_on-4")),this.km.addItem(7,this.tdb.getValue("serifu_key1_on-5")),this.km.addItem(7,this.tdb.getValue("serifu_key1_on-6")),this.km.active(7,Ki(.625*this.gg.di.width-112)-40+100,Ki(.2875*this.gg.di.height-36)-16+46,228),this.km.mode=220;break}if(220==this.km.mode){if(this.co_j.c1=10,1==this.km.cancel_c){this.km.offActivewindow(7,3),this.km.mode=200;break}if(1!=this.km.kettei_c)break;if(0==this.km.selectedIndex[7]){var Dt=this.tdb.getValueInt("key1_on_count");if(Dt<1?Dt=1:Dt>5&&(Dt=5),this.dkey_count[0]>=Dt){this.km.init1(8),this.km.setMessage(8,this.tdb.getValue("serifu_key1_on_name")),this.addSerifu2(8,"serifu_key1_on-",8,10),this.km.activeSerifu(8,Ki(.625*this.gg.di.width-112)-40-160,Ki(.2875*this.gg.di.height-36)-16+46,252,this.gamecolor_message_name),this.dkey_count[0]-=Dt,this.gs.rsAddSound(13);var Lt=Ji(s,5),Ht=Ji(h,5);this.onASwitch(Lt-10,Ht-10,Lt+10,Ht+10),this.km.mode=230,i.c3=1}else this.km.init1(8),this.km.addItem(8,this.tdb.getValue("serifu_key1_on-7")),this.km.activeIchigyou(8,Ki(.625*this.gg.di.width-112)-40-128,Ki(.2875*this.gg.di.height-36)-16+96,216),this.km.mode=230}else this.km.off(3),this.km.off(7),this.km.off(8),this.km.mode=50;break}if(230==this.km.mode){(this.co_j.x<s-80-8||this.co_j.x>s+64+8||1==this.km.kettei_c||1==this.km.cancel_c)&&(this.km.off(3),this.km.off(7),this.km.off(8),this.km.mode=50);break}250==this.km.mode&&(this.co_j.x<s-80-8||this.co_j.x>s+64+8||1==this.km.cancel_c||1==this.km.kettei_c)&&(this.km.off(3),this.km.mode=50)}else i.gf=!1;break;case 4910:if(s>this.maps.wx-32&&s<this.maps.wx+this.gg.di.width&&h>this.maps.wy-32&&h<this.maps.wy+this.gg.di.height){if(i.gf=!0,this.a_hf=!0,50==this.km.mode){(this.co_j.x<s-80-8||this.co_j.x>s+64+8)&&(this.km.mode=100);break}if(100==this.km.mode){if(this.co_j.x<s-80||this.co_j.x>s+64||Math.abs(h-this.co_j.y)>=8||this.gk.tr1_f)break;0==i.c3?(this.km.init1(3),this.km.setMessage(3,this.tdb.getValue("serifu_key2_on_name")),this.addSerifu2(3,"serifu_key2_on-",3),this.km.activeSerifu(3,Ki(.625*this.gg.di.width-112)-40,Ki(.2875*this.gg.di.height-36)-16,272,this.gamecolor_message_name),this.km.mode=200):(this.km.init1(3),this.km.setMessage(3,this.tdb.getValue("serifu_key2_on_name")),this.addSerifu2(3,"serifu_key2_on-",8,10),this.km.activeSerifu(3,Ki(.625*this.gg.di.width-112)-40,Ki(.2875*this.gg.di.height-36)-16,252,this.gamecolor_message_name),this.km.mode=250),this.km.move();break}if(200==this.km.mode){if(1==this.km.cancel_c){this.km.off(3),this.km.mode=50;break}if(this.co_j.x<s-80-8||this.co_j.x>s+64+8||Math.abs(h-this.co_j.y)>16){this.km.off(3),this.km.mode=50;break}if(1!=this.km.kettei_c)break;this.co_j.c=150,this.co_j.x<=s||this.maps.getBGCode(s+48,h)>=18?this.maps.getBGCode(s-16,h)>=18?(this.co_j.x=s-15,this.co_j.muki=1):(this.co_j.x=s-48,this.co_j.muki=1):(this.co_j.x=s+48,this.co_j.muki=0),this.co_j.y=h,this.co_j.vx=0,this.co_j.vy=0,this.co_j.pt=100,this.setmyw_pt=this.co_j.pt,this.setmyw_muki=this.co_j.muki,this.co_j.c1=10,this.km.init1(7),this.km.setMessage(7,this.tdb.getValue("serifu_key2_on-4")),this.km.addItem(7,this.tdb.getValue("serifu_key2_on-5")),this.km.addItem(7,this.tdb.getValue("serifu_key2_on-6")),this.km.active(7,Ki(.625*this.gg.di.width-112)-40+100,Ki(.2875*this.gg.di.height-36)-16+46,228),this.km.mode=220;break}if(220==this.km.mode){if(this.co_j.c1=10,1==this.km.cancel_c){this.km.offActivewindow(7,3),this.km.mode=200;break}if(1!=this.km.kettei_c)break;if(0==this.km.selectedIndex[7]){var Ut=this.tdb.getValueInt("key2_on_count");if(Ut<1?Ut=1:Ut>5&&(Ut=5),this.dkey_count[1]>=Ut){this.km.init1(8),this.km.setMessage(8,this.tdb.getValue("serifu_key2_on_name")),this.addSerifu2(8,"serifu_key2_on-",8,10),this.km.activeSerifu(8,Ki(.625*this.gg.di.width-112)-40-160,Ki(.2875*this.gg.di.height-36)-16+46,252,this.gamecolor_message_name),this.dkey_count[1]-=Ut,this.gs.rsAddSound(13);var qt=Ji(s,5),Kt=Ji(h,5);this.onASwitch(qt-10,Kt-10,qt+10,Kt+10),this.km.mode=230,i.c3=1}else this.km.init1(8),this.km.addItem(8,this.tdb.getValue("serifu_key2_on-7")),this.km.activeIchigyou(8,Ki(.625*this.gg.di.width-112)-40-128,Ki(.2875*this.gg.di.height-36)-16+96,216),this.km.mode=230}else this.km.off(3),this.km.off(7),this.km.off(8),this.km.mode=50;break}if(230==this.km.mode){(this.co_j.x<s-80-8||this.co_j.x>s+64+8||1==this.km.kettei_c||1==this.km.cancel_c)&&(this.km.off(3),this.km.off(7),this.km.off(8),this.km.mode=50);break}250==this.km.mode&&(this.co_j.x<s-80-8||this.co_j.x>s+64+8||1==this.km.cancel_c||1==this.km.kettei_c)&&(this.km.off(3),this.km.mode=50)}else i.gf=!1;break;case 5e3:if(s>this.maps.wx-96&&s<this.maps.wx+this.gg.di.width+64&&h>this.maps.wy-96&&h<this.maps.wy+this.gg.di.height+64?(i.gf=!0,this.a_hf=!0):i.gf=!1,0==i.c3){i.gf&&this.co_j.c>=100&&this.co_j.c<200&&this.co_j.x+15>=s&&this.co_j.x+15<=s+31&&this.co_j.y==h-32&&(i.c3=100);break}if(i.c3<100)break;if(i.c3++,i.c3<108)break;var Jt=Ji(s,5),Zt=Ji(h,5);4==this.maps.map_bg[Jt][Zt-1]?this.maps.putBGCode(Jt,Zt,4):this.maps.putBGCode(Jt,Zt,0),this.mSet2(32*Jt,32*Zt,80,12,-24),this.mSet2(32*Jt,32*Zt,80,-12,-24),this.gs.rsAddSound(16),this.jZutuki(32*Jt,32*Zt-32,2),i.c=0;break;case 5300:if(s>this.maps.wx-32&&s<this.maps.wx+this.gg.di.width&&h>this.maps.wy-32&&h<this.maps.wy+this.gg.di.height){if(i.gf=!0,this.a_hf=!0,50==this.km.mode){(this.co_j.x<s-80-8||this.co_j.x>s+64+8)&&(this.km.mode=100);break}if(100==this.km.mode){this.co_j.x>=s-80&&this.co_j.x<=s+64&&Math.abs(h-this.co_j.y)<8&&!this.gk.tr1_f&&(this.km.init1(3),this.km.setMessage(3,this.tdb.getValue("serifu_grenade_shop_name")),this.addSerifu2(3,"serifu_grenade_shop-",3),this.km.activeSerifu(3,Ki(.625*this.gg.di.width-112)-40,Ki(.2875*this.gg.di.height-36)-16,272,this.gamecolor_message_name),this.km.mode=200,this.km.move());break}if(200==this.km.mode){if(1==this.km.cancel_c){this.km.off(3),this.km.mode=50;break}if(this.co_j.x<s-80-8||this.co_j.x>s+64+8||Math.abs(h-this.co_j.y)>16){this.km.off(3),this.km.mode=50;break}if(1!=this.km.kettei_c)break;this.co_j.c=150,this.co_j.x<=s||this.maps.getBGCode(s+48,h)>=18?this.maps.getBGCode(s-16,h)>=18?(this.co_j.x=s-15,this.co_j.muki=1):(this.co_j.x=s-48,this.co_j.muki=1):(this.co_j.x=s+48,this.co_j.muki=0),this.co_j.y=h,this.co_j.vx=0,this.co_j.vy=0,this.co_j.pt=100,this.setmyw_pt=this.co_j.pt,this.setmyw_muki=this.co_j.muki,this.co_j.c1=10,this.km.init1(7),this.km.setMessage(7,this.tdb.getValue("serifu_grenade_shop-4")),this.km.addItem(7,"１"),this.km.addItem(7,"２"),this.km.addItem(7,"３"),this.km.addItem(7,"４"),this.km.addItem(7,"５"),this.km.addItem(7,"６"),this.km.addItem(7,"７"),this.km.addItem(7,"８"),this.km.addItem(7,"９"),this.km.addItem(7,"１０"),this.km.active(7,Ki(.625*this.gg.di.width-112)-40-116,Ki(.2875*this.gg.di.height-36)-16+32,144),this.km.mode=220;break}if(220==this.km.mode){if(this.co_j.c1=10,1==this.km.cancel_c){this.km.offActivewindow(7,3),this.km.mode=200;break}if(1!=this.km.kettei_c)break;var Xt=this.km.selectedIndex[7]+1,$t=this.tdb.getValueInt("grenade_shop_score");$t<1&&($t=1),$t*=Xt,this.score>=$t?(this.score-=$t,this.j_gr_kazu+=Xt,this.gs.rsAddSound(7),this.km.init1(8),this.km.addItem(8,this.tdb.getValue("serifu_grenade_shop-6")),this.km.activeIchigyou(8,Ki(.625*this.gg.di.width-112)-40+48,Ki(.2875*this.gg.di.height-36)-16+80,224),this.km.mode=230):(this.km.init1(8),this.km.addItem(8,this.tdb.getValue("serifu_grenade_shop-5")),this.km.activeIchigyou(8,Ki(.625*this.gg.di.width-112)-40+48,Ki(.2875*this.gg.di.height-36)-16+80,224),this.km.mode=240);break}if(230==this.km.mode){(this.co_j.x<s-80-8||this.co_j.x>s+64+8||1==this.km.kettei_c||1==this.km.cancel_c)&&(this.km.off(3),this.km.off(7),this.km.off(8),this.km.mode=50);break}if(240==this.km.mode){if(this.co_j.c1=10,this.co_j.x<s-80-8||this.co_j.x>s+64+8||1==this.km.kettei_c){this.km.off(3),this.km.off(7),this.km.off(8),this.co_j.c1=6,this.km.mode=50;break}1==this.km.cancel_c&&(this.km.offActivewindow(8,7),this.km.mode=220);break}250==this.km.mode&&(this.co_j.x<s-80-8||this.co_j.x>s+64+8||1==this.km.cancel_c||1==this.km.kettei_c)&&(this.km.off(3),this.km.mode=50)}else i.gf=!1}i.x=s,i.y=h}},{key:"onASwitch",value:function(t,i,s,h,e){4==arguments.length&&(e=1);for(var a=0;a<=this.a_kazu;a++){var c=this.co_a[a].c;if(3700!=c&&3710!=c&&3800!=c&&3810!=c&&3900!=c&&3910!=c&&4e3!=c&&4010!=c&&4100!=c&&4110!=c&&4200!=c&&4210!=c&&4300!=c&&4400!=c&&4410!=c&&4500!=c&&5200!=c&&5210!=c)if(150!=c&&160!=c)2!=e||3500!=c&&3600!=c||2!=this.co_a[a].c4||(this.co_a[a].c3=100,3500==c&&(this.co_a[a].c3=1));else{var o=Ji(this.co_a[a].vx,5),_=Ji(this.co_a[a].vy,5);o>=t&&o<=s&&_>=i&&_<=h&&(this.co_a[a].c5=1)}else{var r=Ji(this.co_a[a].x,5),n=Ji(this.co_a[a].y,5);r>=t&&r<=s&&n>=i&&n<=h&&(this.co_a[a].c5=1)}}}},{key:"offASwitch",value:function(t,i,s,h,e){4==arguments.length&&(e=1);for(var a=0;a<=this.a_kazu;a++){var c=this.co_a[a].c;if(3700!=c&&3710!=c&&3800!=c&&3810!=c&&3900!=c&&3910!=c&&4e3!=c&&4010!=c&&4100!=c&&4110!=c&&4200!=c&&4210!=c&&4300!=c&&4400!=c&&4410!=c&&4500!=c&&5200!=c&&5210!=c)if(150!=c&&160!=c)2!=e||3500!=c&&3600!=c||2!=this.co_a[a].c4||(this.co_a[a].c3=0,3500==c&&(this.co_a[a].c3=101));else{var o=Ji(this.co_a[a].vx,5),_=Ji(this.co_a[a].vy,5);o>=t&&o<=s&&_>=i&&_<=h&&(this.co_a[a].c5=0)}else{var r=Ji(this.co_a[a].x,5),n=Ji(this.co_a[a].y,5);r>=t&&r<=s&&n>=i&&n<=h&&(this.co_a[a].c5=0)}}}},{key:"bMove",value:function(){this.co_b.update(this)}},{key:"hSet",value:function(t,i,s){for(var h=0;h<=79;h++)if(!(this.co_h[h].c>0)){var e=this.co_h[h];e.c=s,e.x=t,e.y=i;break}}},{key:"hDelete",value:function(t,i,s){for(var h=0;h<=79;h++)this.co_h[h].c==s&&this.co_h[h].x==t&&this.co_h[h].y==i&&(this.co_h[h].c=0,this.maps.putBGCode(t,i,41))}},{key:"hAttack",value:function(t,i){for(var s=0;!(s>79);){var h=this.co_h[s];if(0!=h.c&&h.x==t&&h.y==i){switch(h.c){default:break;case 100:this.mSet(32*t,32*i-32,2e3),this.gs.rsAddSound(6);break;case 200:this.mSet(32*t,32*i-32,2010),this.mSet(32*t,32*i-32,2020),this.mSet(32*t,32*i-32,2e3),this.gs.rsAddSound(6);break;case 300:this.mSet(32*t,32*i-32,2100),this.gs.rsAddSound(13);break;case 400:this.mSet(32*t,32*i-32,2110),this.gs.rsAddSound(13);break;case 500:this.mSet(32*t,32*i-32,2120),this.gs.rsAddSound(13);break;case 600:this.mSet(32*t,32*i-32,2130),this.gs.rsAddSound(13);break;case 700:this.mSet(32*t,32*i-32,2140),this.gs.rsAddSound(13);break;case 800:this.mSet(32*t,32*i-32,2150),this.gs.rsAddSound(13);break;case 900:this.mSet(32*t,32*i-32,2160),this.gs.rsAddSound(13);break;case 1e3:this.mSet(32*t,32*i-32,2170),this.gs.rsAddSound(13);break;case 1100:this.mSet(32*t,32*i-32,2180),this.stage_1up_f[this.stage-1]=!1,this.gs.rsAddSound(13);break;case 2e3:for(var e=1;!(e>10);){var a=t+e;if(a>this.mapWidth||0!=this.maps.map_bg[a][i]&&4!=this.maps.map_bg[a][i])break;this.maps.putBGCode(a,i,20),e++}this.gs.rsAddSound(13);break;case 2100:for(var c=-1;!(c<-10);){var o=t+c;if(o<1||0!=this.maps.map_bg[o][i]&&4!=this.maps.map_bg[o][i])break;this.maps.putBGCode(o,i,20),c--}this.gs.rsAddSound(13);break;case 2200:for(var _=-1;_>=-10;_--){var r=i+_;if(r<10||0!=this.maps.map_bg[t][r]&&4!=this.maps.map_bg[t][r])break;this.maps.putBGCode(t,r,10),2==this.gg.layer_mode&&3!=this.clear_type&&(this.map_data_option[t][r]=!0)}this.gs.rsAddSound(13);break;case 2300:for(var n=-1;!(n<-10);){var m=i+n;if(m<10||0!=this.maps.map_bg[t][m]&&4!=this.maps.map_bg[t][m])break;this.maps.putBGCode(t,m,20),n--}this.gs.rsAddSound(13);break;case 2400:for(var p=-1;!(p<-2);){var g=i+p;if(g<10||0!=this.maps.map_bg[t][g]&&4!=this.maps.map_bg[t][g])break;this.maps.putBGCode(t,g,20),p--}this.gs.rsAddSound(13);break;case 2500:for(var u=1;!(u>2);){var y=t+u;if(y>this.mapWidth||0!=this.maps.map_bg[y][i]&&4!=this.maps.map_bg[y][i])break;this.maps.putBGCode(y,i,20),u++}this.gs.rsAddSound(13);break;case 2600:for(var d=-1;!(d<-2);){var f=t+d;if(f<1||0!=this.maps.map_bg[f][i]&&4!=this.maps.map_bg[f][i])break;this.maps.putBGCode(f,i,20),d--}this.gs.rsAddSound(13);break;case 2700:this.aSet(32*t,32*i-32,700,32*t),this.gs.rsAddSound(13);break;case 2800:this.maps.putBGCode(t,i-1,5),this.gs.rsAddSound(13);break;case 2900:for(var j=-10;j<=10;j++)for(var l=-10;l<=10;l++)t+l>=1&&t+l<=this.mapWidth&&i+j>=10&&i+j<=this.mapHeight+9&&5==this.maps.map_bg[t+l][i+j]&&this.maps.putBGCode(t+l,i+j,9);this.gs.rsAddSound(6);break;case 3e3:for(var v=-10;v<=10;v++)for(var x=-10;x<=10;x++)t+x>=1&&t+x<=this.mapWidth&&i+v>=10&&i+v<=this.mapHeight+9&&5==this.maps.map_bg[t+x][i+v]&&this.maps.putBGCode(t+x,i+v,20);this.gs.rsAddSound(13);break;case 3100:for(var k=-10;k<=10;k++)for(var w=-10;w<=10;w++)t+w>=1&&t+w<=this.mapWidth&&i+k>=10&&i+k<=this.mapHeight+9&&20==this.maps.map_bg[t+w][i+k]&&this.maps.putBGCode(t+w,i+k,9);this.gs.rsAddSound(6);break;case 3200:for(var b=-10;b<=10;b++)for(var S=-10;S<=10;S++)t+S>=1&&t+S<=this.mapWidth&&i+b>=10&&i+b<=this.mapHeight+9&&23==this.maps.map_bg[t+S][i+b]&&this.maps.putBGCode(t+S,i+b,0);this.gs.rsAddSound(7);break;case 3300:this.mSet(32*t,32*i-32,2186),this.gs.rsAddSound(13);break;case 3400:this.mSet(32*t,32*i-32,2187),this.gs.rsAddSound(13);break;case 3500:this.mSet(32*t,32*i-32,2188),this.gs.rsAddSound(13);break;case 3600:if(0==this.co_jm[6].c){this.jmSet2(32*t,32*i,206,6);break}if(0==this.co_jm[7].c){this.jmSet2(32*t,32*i,206,7);break}0==this.co_jm[8].c&&this.jmSet2(32*t,32*i,206,8);break;case 3700:if(0==this.co_jm[6].c){this.jmSet2(32*t,32*i,207,6);break}if(0==this.co_jm[7].c){this.jmSet2(32*t,32*i,207,7);break}0==this.co_jm[8].c&&this.jmSet2(32*t,32*i,207,8);break;case 3800:if(0==this.co_jm[6].c){this.jmSet2(32*t,32*i,208,6);break}if(0==this.co_jm[7].c){this.jmSet2(32*t,32*i,208,7);break}0==this.co_jm[8].c&&this.jmSet2(32*t,32*i,208,8);break;case 3900:if(0==this.co_jm[6].c){this.jmSet2(32*t,32*i,209,6);break}if(0==this.co_jm[7].c){this.jmSet2(32*t,32*i,209,7);break}0==this.co_jm[8].c&&this.jmSet2(32*t,32*i,209,8);break;case 4e3:this.mSet(32*t,32*i-32,2171),this.gs.rsAddSound(13);break;case 4100:this.mSet(32*t,32*i-32,2172),this.gs.rsAddSound(13);break;case 4200:this.onASwitch(t-10,i-10,t+10,i+10),this.gs.rsAddSound(13);break;case 4300:this.offASwitch(t-10,i-10,t+10,i+10),this.gs.rsAddSound(13);break;case 4400:this.onASwitch(t-5,i-5,t+5,i+5),this.gs.rsAddSound(13);break;case 4500:this.offASwitch(t-5,i-5,t+5,i+5),this.gs.rsAddSound(13)}this.maps.putBGCode(t,i,41),h.c=0;break}s++}}},{key:"newYuka",value:function(t,i,s,h,e){var a,c,o,_=32;if(100!=this.ml_mode&&90!=this.ml_mode&&91!=this.ml_mode&&95!=this.ml_mode)return-1;if(_=parseInt(t),a=parseInt(i),c=parseInt(s),o=parseInt(h),(isNaN(_)||isNaN(a)||isNaN(c)||isNaN(o))&&(_=-9999),-9999==_)return-1;for(var r=0;;){if(r>this.yuka_id_max&&this.yo.push(new Dt),0==this.yo[r].con){"line"==e?(this.yo[r].init(),this.yo[r].con=200,this.yo[r].x=_,this.yo[r].y=a,this.yo[r].x2=c,this.yo[r].y2=o,this.yo[r].color=F.yellow):"triangle"==e?(this.yo[r].init(),this.yo[r].con=210,this.yo[r].x=_,this.yo[r].y=a,this.yo[r].x2=c,this.yo[r].y2=o,this.yo[r].color=F.yellow):"mount"==e?(this.yo[r].init(),this.yo[r].con=220,this.yo[r].x=_,this.yo[r].y=a,this.yo[r].x2=c,this.yo[r].y2=o,this.yo[r].color=F.yellow):"circle"==e?(this.yo[r].init(),this.yo[r].con=300,this.yo[r].x=_,this.yo[r].y=a,this.yo[r].x2=c,this.yo[r].y2=o,this.yo[r].color=F.yellow):"half_circle"==e?(this.yo[r].init(),this.yo[r].con=350,this.yo[r].x=_,this.yo[r].y=a,this.yo[r].x2=c,this.yo[r].y2=o,this.yo[r].color=F.yellow):"half_circle_line"==e?(this.yo[r].init(),this.yo[r].con=360,this.yo[r].x=_,this.yo[r].y=a,this.yo[r].x2=c,this.yo[r].y2=o,this.yo[r].color=F.yellow):"wave_up"==e?(this.yo[r].init(),this.yo[r].con=400,this.yo[r].x=_,this.yo[r].y=a,this.yo[r].x2=c,this.yo[r].y2=o,this.yo[r].color=F.yellow):"wave_up_line"==e?(this.yo[r].init(),this.yo[r].con=410,this.yo[r].x=_,this.yo[r].y=a,this.yo[r].x2=c,this.yo[r].y2=o,this.yo[r].color=F.yellow):"wave_down"==e?(this.yo[r].init(),this.yo[r].con=450,this.yo[r].x=_,this.yo[r].y=a,this.yo[r].x2=c,this.yo[r].y2=o,this.yo[r].color=F.yellow):"wave_down_line"==e?(this.yo[r].init(),this.yo[r].con=460,this.yo[r].x=_,this.yo[r].y=a,this.yo[r].x2=c,this.yo[r].y2=o,this.yo[r].color=F.yellow):"pattern"==e?(this.yo[r].init(),this.yo[r].con=120,this.yo[r].x=_,this.yo[r].y=a,this.yo[r].width=c,this.yo[r].height=o,this.yo[r].pt=0,this.yo[r].pth=0):"rect"==e?(this.yo[r].init(),this.yo[r].con=110,this.yo[r].x=_,this.yo[r].y=a,this.yo[r].width=c,this.yo[r].height=o,this.yo[r].color=F.yellow):(this.yo[r].init(),this.yo[r].con=100,this.yo[r].x=_,this.yo[r].y=a,this.yo[r].width=c,this.yo[r].height=o,this.yo[r].img=this.gg.loadImage(e));break}r++}return r}},{key:"setYukaPosition",value:function(t,i,s,h,e){if(void 0===h||void 0===e){var a=0,c=32,o=320;if(100!=this.ml_mode&&91!=this.ml_mode&&96!=this.ml_mode)return!1;if(a=parseInt(t),c=parseInt(i),o=parseInt(s),(isNaN(a)||isNaN(c)||isNaN(o))&&(a=-1),a<0)return!1;if(a>this.yuka_id_max)return!1;var _=!1;return(this.yo[a].con>=100||this.yo[a].con<200||this.yo[a].con>=300||this.yo[a].con<500)&&(_=!0),!!_&&(this.yo[a].x_buff=c,this.yo[a].y_buff=o,this.yo[a].buff_f=!0,!0)}var r,n;return a=0,c=32,o=320,!(100!=this.ml_mode&&91!=this.ml_mode&&96!=this.ml_mode||(a=parseInt(t),c=parseInt(i),o=parseInt(s),r=parseInt(h),n=parseInt(e),(isNaN(a)||isNaN(c)||isNaN(o)||isNaN(r)||isNaN(n))&&(a=-1),a<0||a>this.yuka_id_max||this.yo[a].con<200||this.yo[a].con>=300||(this.yo[a].x_buff=c,this.yo[a].y_buff=o,this.yo[a].x2_buff=r,this.yo[a].y2_buff=n,this.yo[a].buff_f=!0,0)))}},{key:"setYukaType",value:function(t,i){var s,h=1;return!(100!=this.ml_mode&&91!=this.ml_mode&&96!=this.ml_mode||(s=parseInt(t),h=parseInt(i),(isNaN(s)||isNaN(h))&&(h=-1),s<0||s>this.yuka_id_max||0==this.yo[s].con||!(h>=1||h<=2)||(this.yo[s].type=h,0)))}},{key:"disposeYuka",value:function(t){var i;return!(100!=this.ml_mode&&91!=this.ml_mode&&96!=this.ml_mode||(i=parseInt(t),isNaN(i),i<0||i>this.yuka_id_max||0==this.yo[i].con||(this.yo[i].con=0,0)))}},{key:"setYukaColor",value:function(t,i,s,h,e){if(5==arguments.length){var a,c,o,_,r=0;return!(100!=this.ml_mode&&90!=this.ml_mode&&91!=this.ml_mode&&96!=this.ml_mode||(r=parseInt(t),a=parseInt(i),c=parseInt(s),o=parseInt(h),_=parseInt(e),(isNaN(r)||isNaN(a)||isNaN(c)||isNaN(o)||isNaN(_))&&(r=-1),r<0||r>this.yuka_id_max||(this.yo[r].con<200||this.yo[r].con>=500)&&110!=this.yo[r].con||(this.yo[r].color=new F(a,c,o,_),0)))}return!(100!=this.ml_mode&&90!=this.ml_mode&&91!=this.ml_mode&&96!=this.ml_mode||t<0||t>this.yuka_id_max||(this.yo[t].con<200||this.yo[t].con>=500)&&110!=this.yo[t].con||(this.yo[t].color=i,0))}},{key:"setYukaPattern",value:function(t,i,s){var h,e,a=0;return!(100!=this.ml_mode&&91!=this.ml_mode&&96!=this.ml_mode||(a=parseInt(t),h=parseInt(i),e=parseInt(s),(isNaN(a)||isNaN(h)||isNaN(e))&&(a=-1),a<0||a>this.yuka_id_max||this.yo[a].con<100||this.yo[a].con>=200||h<0||h>249||e<0||e>1||(this.yo[a].con=120,this.yo[a].pt=h,this.yo[a].pth=e,0)))}},{key:"setYukaImage",value:function(t,i){var s=0;return!(100!=this.ml_mode&&91!=this.ml_mode&&96!=this.ml_mode||(s=parseInt(t),isNaN(s)&&(s=-1),s<0||s>this.yuka_id_max||this.yo[s].con<100||this.yo[s].con>=200||(this.yo[s].con=100,this.yo[s].img="string"==typeof i?this.gg.loadImage(i):i,0)))}},{key:"isRideYuka",value:function(t){var i=0;return 100!=this.ml_mode&&91!=this.ml_mode&&96!=this.ml_mode||this.co_j.c<100||this.co_j.c>=200?-1:(i=parseInt(t),isNaN(i)&&(i=-1),i<0||i>this.yuka_id_max||14==this.j_tokugi||15==this.j_tokugi||0==this.yo[i].con?-1:2==this.yo[i].type?0:this.yo[i].con>=100&&this.yo[i].con<200?this.co_j.vy<0||this.co_j.y+32!=this.yo[i].y||this.co_j.x+15<this.yo[i].x||this.co_j.x+15>=this.yo[i].x+this.yo[i].width?0:1:this.yo[i].con>=200&&this.yo[i].con<300?this.getSLOY(this.yo[i].x,this.yo[i].y,this.yo[i].x2,this.yo[i].y2)!=this.co_j.y?0:1:this.yo[i].con>=300&&this.yo[i].con<350?this.getSCOY(this.yo[i].x,this.yo[i].y,this.yo[i].x2,this.yo[i].y2)!=this.co_j.y?0:1:this.yo[i].con>=350&&this.yo[i].con<400?this.getSHCOY(this.yo[i].x,this.yo[i].y,this.yo[i].x2,this.yo[i].y2)!=this.co_j.y?0:1:this.yo[i].con>=400&&this.yo[i].con<450?this.getSWUpOY(this.yo[i].x,this.yo[i].y,this.yo[i].x2,this.yo[i].y2)!=this.co_j.y?0:1:this.yo[i].con>=450&&this.yo[i].con<500?this.getSWDownOY(this.yo[i].x,this.yo[i].y,this.yo[i].x2,this.yo[i].y2)!=this.co_j.y?0:1:-1)}},{key:"isRideGround",value:function(){if(100!=this.ml_mode&&91!=this.ml_mode&&96!=this.ml_mode)return-1;if(this.co_j.c<100||this.co_j.c>=200)return-1;if(14==this.j_tokugi||15==this.j_tokugi)return-1;var t=this.maps.getBGCode(this.co_j.x+15,this.co_j.y+32);if(t>=20||10==t)return 1;if(this.co_j.y%32==0&&15==t&&this.co_j.vy>=0)return 1;if(10==(t=this.maps.getBGCode(this.co_j.x+15,this.co_j.y+15)))return 1;var i=this.maps.getBGCode(this.co_j.x+15,this.co_j.y+31);return(18==i||19==i)&&this.co_j.vy>=0&&this.getSakamichiY(this.co_j.x+15,this.co_j.y+31)<=this.co_j.y?1:0}},{key:"moveYuka",value:function(){if(!(this.yuka_id_max<0)){this.yuka_ride_id=-1;for(var t=0;t<=this.yuka_id_max;t++){var i=this.yo[t];if(0!=i.con)if(i.con>=100&&i.con<200){if(2==i.type||this.co_j.c<100||this.co_j.c>=200){i.buff_f&&(i.buff_f=!1,i.x=i.x_buff,i.y=i.y_buff);continue}if(this.co_j.vy>=0&&14!=this.j_tokugi&&15!=this.j_tokugi&&this.co_j.x+15>=i.x&&this.co_j.x+15<i.x+i.width&&this.co_j.y+32==i.y&&(this.yuka_ride_id=t),!i.buff_f)continue;if(i.buff_f=!1,i.x>i.x_buff){if(this.yuka_ride_id==t){var s=i.x_buff-i.x;i.x=i.x_buff,this.co_j.x=this.co_j.x+s;var h=Ji(this.co_j.x+15,5),e=Ji(this.co_j.y,5),a=Ji(this.co_j.y+31,5);(this.maps.map_bg[h][e]>=20||this.maps.map_bg[h][a]>=20)&&(this.co_j.x=32*h+32-14)}else if(i.x=i.x_buff,14==this.j_tokugi||15==this.j_tokugi){if(this.co_j.x+31>=i.x&&this.co_j.x<i.x+i.width&&this.co_j.y+31>=i.y&&this.co_j.y<i.y+i.height){this.co_j.x=i.x-32,this.co_j.vx>0&&(this.co_j.vx=0);var c=Ji(this.co_j.x,5),o=Ji(this.co_j.y,5),_=Ji(this.co_j.y+31,5);(this.maps.map_bg[c][o]>=20||this.maps.map_bg[c][_]>=20)&&this.jShinu(4)}}else if(this.co_j.x+15>=i.x&&this.co_j.x+15<i.x+i.width&&this.co_j.y+31>=i.y&&this.co_j.y<i.y+i.height){this.co_j.x=i.x-16,this.co_j.vx>0&&(this.co_j.vx=0);var r=Ji(this.co_j.x+15,5),n=Ji(this.co_j.y,5),m=Ji(this.co_j.y+31,5);(this.maps.map_bg[r][n]>=20||this.maps.map_bg[r][m]>=20)&&(this.co_j.x=32*r+15,this.jShinu(4))}}else if(i.x<i.x_buff)if(this.yuka_ride_id==t){var p=i.x_buff-i.x;i.x=i.x_buff,this.co_j.x=this.co_j.x+p;var g=Ji(this.co_j.x+15,5),u=Ji(this.co_j.y,5),y=Ji(this.co_j.y+31,5);(this.maps.map_bg[g][u]>=20||this.maps.map_bg[g][y]>=20)&&(this.co_j.x=32*g-16)}else if(i.x=i.x_buff,14==this.j_tokugi||15==this.j_tokugi){if(this.co_j.x+31>=i.x&&this.co_j.x<i.x+i.width&&this.co_j.y+31>=i.y&&this.co_j.y<i.y+i.height){this.co_j.x=i.x+i.width,this.co_j.vx<0&&(this.co_j.vx=0);var d=Ji(this.co_j.x+31,5),f=Ji(this.co_j.y,5),j=Ji(this.co_j.y+31,5);(this.maps.map_bg[d][f]>=20||this.maps.map_bg[d][j]>=20)&&this.jShinu(4)}}else if(this.co_j.x+15>=i.x&&this.co_j.x+15<i.x+i.width&&this.co_j.y+31>=i.y&&this.co_j.y<i.y+i.height){this.co_j.x=i.x+i.width-15,this.co_j.vx<0&&(this.co_j.vx=0);var l=Ji(this.co_j.x+15,5),v=Ji(this.co_j.y,5);(this.maps.map_bg[l][v]>=20||this.maps.map_bg[l][v]>=20)&&(this.co_j.x=32*l-32+15,this.jShinu(4))}if(i.y>i.y_buff){if(this.yuka_ride_id==t){i.y=i.y_buff,this.co_j.y=i.y-32,this.maps.getBGCode(this.co_j.x+15,this.co_j.y)>=18&&(this.co_j.y=32*Ji(this.co_j.y,5)+16,this.jShinu(3));continue}if(i.y=i.y_buff,14==this.j_tokugi||15==this.j_tokugi){if(this.co_j.x+31<i.x||this.co_j.x>=i.x+i.width||this.co_j.y+31<i.y||this.co_j.y>=i.y+i.height)continue;this.co_j.y=i.y-32,this.co_j.vy=0,(this.maps.getBGCode(this.co_j.x,this.co_j.y)>=20||this.maps.getBGCode(this.co_j.x+31,this.co_j.y)>=20)&&this.jShinu(3);continue}if(this.co_j.x+15<i.x||this.co_j.x+15>=i.x+i.width||this.co_j.y+31<i.y||this.co_j.y>=i.y+i.height)continue;this.co_j.y=i.y-32,this.co_j.vy=0,this.yuka_ride_id=t,this.maps.getBGCode(this.co_j.x+15,this.co_j.y)>=18&&(this.co_j.y=32*Ji(this.co_j.y,5)+16,this.jShinu(3));continue}if(i.y>=i.y_buff)continue;if(this.yuka_ride_id==t){i.y=i.y_buff,this.co_j.y=i.y-32;continue}var x=i.y_buff-i.y;if(i.y=i.y_buff,14==this.j_tokugi||15==this.j_tokugi){if(this.co_j.x+31<i.x||this.co_j.x>=i.x+i.width||this.co_j.y+31<i.y||this.co_j.y>=i.y+i.height)continue;this.co_j.y=i.y+i.height,this.co_j.vy=0,(this.maps.getBGCode(this.co_j.x,this.co_j.y+31)>=20||this.maps.getBGCode(this.co_j.x+31,this.co_j.y+31)>=20)&&this.jShinu(3);continue}if(this.co_j.x+15<i.x||this.co_j.x+15>=i.x+i.width||this.co_j.y+31<i.y||this.co_j.y>=i.y+i.height)continue;this.co_j.y=i.y+i.height,this.co_j.vy=0,this.co_j.vy=10*x,this.co_j.vy>160&&(this.co_j.vy=160),this.maps.getBGCode(this.co_j.x+15,this.co_j.y+31)>=20&&(this.co_j.y=32*Ji(this.co_j.y+31,5)-32,this.jShinu(3))}else if(i.con>=200&&i.con<300){if(2==i.type||this.co_j.c<100||this.co_j.c>=200){i.buff_f&&(i.buff_f=!1,i.x=i.x_buff,i.y=i.y_buff,i.x2=i.x2_buff,i.y2=i.y2_buff);continue}if(this.co_j.vy>=0&&this.getSLOY(i.x,i.y,i.x2,i.y2)==this.co_j.y&&(this.yuka_ride_id=t),!i.buff_f)continue;if(i.buff_f=!1,this.yuka_ride_id==t){if(Math.floor(180*Math.atan2(Math.abs(i.y2_buff-i.y_buff),Math.abs(i.x2_buff-i.x_buff))/3.140000104904175)>70||i.x_buff>=i.x2_buff){i.x=i.x_buff,i.y=i.y_buff,i.x2=i.x2_buff,i.y2=i.y2_buff,this.yuka_ride_id=-1,this.co_j.vy=0;continue}var k=i.x2-i.x,w=this.co_j.x+15-i.x,b=Ki((i.x2_buff-i.x_buff)*w/k),S=Ki((i.y2_buff-i.y_buff)*w/k);this.co_j.x=i.x_buff+b-15,this.co_j.y=i.y_buff+S-32,this.co_j.vy=0,i.x=i.x_buff,i.y=i.y_buff,i.x2=i.x2_buff,i.y2=i.y2_buff;var M=this.getSLOY(i.x,i.y,i.x2,i.y2);M>=0&&(this.co_j.y=M),this.co_j.x<17&&(this.co_j.x=17),this.co_j.x+15>=32*(this.mapWidth+1)&&(this.co_j.x=32*this.mapWidth+16)}else i.x=i.x_buff,i.y=i.y_buff,i.x2=i.x2_buff,i.y2=i.y2_buff}else if(i.con>=300&&i.con<350){if(2==i.type||this.co_j.c<100||this.co_j.c>=200){i.buff_f&&(i.buff_f=!1,i.x=i.x_buff,i.y=i.y_buff);continue}if(this.co_j.vy>=0&&this.getSCOY(i.x,i.y,i.x2,i.y2)==this.co_j.y&&(this.yuka_ride_id=t),!i.buff_f)continue;if(i.buff_f=!1,this.yuka_ride_id==t){var C=i.x_buff-i.x,I=i.y_buff-i.y;i.x=i.x_buff,i.y=i.y_buff,this.co_j.x=this.co_j.x+C,this.co_j.y=this.co_j.y+I,I<0&&this.maps.getBGCode(this.co_j.x+15,this.co_j.y)>=18&&(this.co_j.y=32*Ji(this.co_j.y,5)+32-16,this.jShinu(3));continue}if(i.y<i.y_buff&&i.y<this.co_j.y){i.x=i.x_buff,i.y=i.y_buff;var B=this.getSCOYCeiling(i.x,i.y,i.x2,i.y2);if(B<0||this.co_j.y>B||this.co_j.y<B-31)continue;this.co_j.y=B,this.co_j.vy<0&&(this.co_j.vy=0),this.maps.getBGCode(this.co_j.x+15,this.co_j.y+31)>=20&&(this.co_j.y=32*Ji(this.co_j.y+31,5)-32,this.jShinu(3))}else i.x=i.x_buff,i.y=i.y_buff}else if(i.con>=350&&i.con<400){if(2==i.type||this.co_j.c<100||this.co_j.c>=200){i.buff_f&&(i.buff_f=!1,i.x=i.x_buff,i.y=i.y_buff);continue}if(this.co_j.vy>=0&&this.getSHCOY(i.x,i.y,i.x2,i.y2)==this.co_j.y&&(this.yuka_ride_id=t),!i.buff_f)continue;if(i.buff_f=!1,this.yuka_ride_id==t){var G=i.x_buff-i.x,z=i.y_buff-i.y;i.x=i.x_buff,i.y=i.y_buff,this.co_j.x=this.co_j.x+G,this.co_j.y=this.co_j.y+z}else i.x=i.x_buff,i.y=i.y_buff}else if(i.con>=400&&i.con<450){if(2==i.type||this.co_j.c<100||this.co_j.c>=200){i.buff_f&&(i.buff_f=!1,i.x=i.x_buff,i.y=i.y_buff);continue}if(this.co_j.vy>=0&&this.getSWUpOY(i.x,i.y,i.x2,i.y2)==this.co_j.y&&(this.yuka_ride_id=t),!i.buff_f)continue;if(i.buff_f=!1,this.yuka_ride_id==t){var A=i.x_buff-i.x,P=i.y_buff-i.y;i.x=i.x_buff,i.y=i.y_buff,this.co_j.x=this.co_j.x+A,this.co_j.y=this.co_j.y+P}else i.x=i.x_buff,i.y=i.y_buff}else if(!(i.con<450||i.con>=500))if(2==i.type||this.co_j.c<100||this.co_j.c>=200)i.buff_f&&(i.buff_f=!1,i.x=i.x_buff,i.y=i.y_buff);else if(this.co_j.vy>=0&&this.getSWDownOY(i.x,i.y,i.x2,i.y2)==this.co_j.y&&(this.yuka_ride_id=t),i.buff_f)if(i.buff_f=!1,this.yuka_ride_id==t){var N=i.x_buff-i.x,O=i.y_buff-i.y;i.x=i.x_buff,i.y=i.y_buff,this.co_j.x=this.co_j.x+N,this.co_j.y=this.co_j.y+O}else i.x=i.x_buff,i.y=i.y_buff}if(-1==this.yuka_ride_id)for(var Y=0;Y<=this.yuka_id_max;Y++){var T=this.yo[Y];if(!(T.con<200||T.con>=300||2==T.type||this.co_j.vy<0)&&this.getSLOY(T.x,T.y,T.x2,T.y2)==this.co_j.y){this.yuka_ride_id=Y;break}}}}},{key:"drawYuka",value:function(){var t=0,i=0,s=0,h=0,e=new Array(13),a=new Array(13);if(!(this.yuka_id_max<0))t:for(var c=0;c<=this.yuka_id_max;c++){var o=this.yo[c];if(0!=o.con)if(100!=o.con)if(110!=o.con)if(120!=o.con)if(200!=o.con)if(210!=o.con)if(220!=o.con)if(300!=o.con)if(350!=o.con){if(360==o.con){o.view_x=this.yo[c].x-this.maps.wx,o.view_y=this.yo[c].y-this.maps.wy;var _=o.view_x,r=o.view_y;if(o.view_x+240<0||_>this.gg.di.width||r>this.gg.di.height){o.draw_f=!1;continue}o.draw_f=!0,this.hg.setColor(o.color);for(var n=140;;){if(n<45)continue t;var m=Ki(_+120+144*Math.cos(3.141592653589793*n/180),!0,this),p=Ki(r+144-144*Math.sin(3.141592653589793*n/180),!0,this),g=Ki(_+120+144*Math.cos(3.141592653589793*(n-5)/180),!0,this),u=Ki(r+144-144*Math.sin(3.141592653589793*(n-5)/180),!0,this);this.hg.drawLine(m,p,g,u),140==n?this.hg.drawLine(_,r+63,m,p):45==n&&this.hg.drawLine(_+239,r+63,g,u),n-=5}}if(400!=o.con)if(410!=o.con)if(450!=o.con){if(460==o.con){o.view_x=this.yo[c].x-this.maps.wx,o.view_y=this.yo[c].y-this.maps.wy;var y=o.view_x,d=o.view_y,f=o.view_x+256,j=o.view_y+128;if(f<0||y>this.gg.di.width||d>this.gg.di.height||j<0)o.draw_f=!1;else{o.draw_f=!0,this.hg.setColor(o.color);for(var l=0;l<=45;l+=5){var v=Ki(f-160*Math.sin(3.141592653589793*l/180),!0,this),x=Ki(d-32+160*Math.cos(3.141592653589793*l/180),!0,this),k=Ki(f-160*Math.sin(3.141592653589793*(l+5)/180),!0,this),w=Ki(d-32+160*Math.cos(3.141592653589793*(l+5)/180),!0,this);this.hg.drawLine(v,x,k,w),45==l&&(t=k,i=w)}for(var b=0;b<=45;b+=5){var S=Ki(y+160*Math.sin(3.141592653589793*b/180),!0,this),M=Ki(d+160-160*Math.cos(3.141592653589793*b/180),!0,this),C=Ki(y+160*Math.sin(3.141592653589793*(b+5)/180),!0,this),I=Ki(d+160-160*Math.cos(3.141592653589793*(b+5)/180),!0,this);this.hg.drawLine(S,M,C,I),45==b&&(s=C,h=I)}this.hg.drawLine(t,i,s,h)}}}else{o.view_x=this.yo[c].x-this.maps.wx,o.view_y=this.yo[c].y-this.maps.wy;var B=o.view_x,G=o.view_y,z=o.view_x+256,A=o.view_y+128;if(z<0||B>this.gg.di.width||G>this.gg.di.height){o.draw_f=!1;continue}o.draw_f=!0,this.hg.setColor(o.color);for(var P=0,N=0;N<=50;N+=5)e[P]=Ki(z-160*Math.sin(3.141592653589793*N/180),!0,this),a[P]=Ki(G-32+160*Math.cos(3.141592653589793*N/180),!0,this),50==N&&(t=e[P],i=a[P]),P++;e[P]=t,a[P]=G+128,this.hg.fillPolygon(e,a,12),P=0;for(var O=0;O<=50;O+=5)e[P]=Ki(B+160*Math.sin(3.141592653589793*O/180),!0,this),a[P]=Ki(G+160-160*Math.cos(3.141592653589793*O/180),!0,this),50==O&&(s=e[P],h=a[P]),P++;e[P]=s,a[P]=G+128,e[++P]=B,a[P]=G+128,this.hg.fillPolygon(e,a,13),e[0]=t,a[0]=i,e[1]=s,a[1]=h,e[2]=s,a[2]=G+128,e[3]=t,a[3]=G+128,this.hg.fillPolygon(e,a,4),A<this.gg.di.height&&this.hg.fillRect(B,G+128,256,this.gg.di.height-(G+128))}else{o.view_x=this.yo[c].x-this.maps.wx,o.view_y=this.yo[c].y-this.maps.wy;var Y=o.view_x,T=o.view_y,E=o.view_x+256,R=o.view_y+128;if(E<0||Y>this.gg.di.width||T>this.gg.di.height||R<0){o.draw_f=!1;continue}o.draw_f=!0,this.hg.setColor(o.color);for(var V=0;V<=45;V+=5){var W=Ki(Y+160*Math.sin(3.141592653589793*V/180),!0,this),F=Ki(T-32+160*Math.cos(3.141592653589793*V/180),!0,this),D=Ki(Y+160*Math.sin(3.141592653589793*(V+5)/180),!0,this),L=Ki(T-32+160*Math.cos(3.141592653589793*(V+5)/180),!0,this);this.hg.drawLine(W,F,D,L),45==V&&(t=D,i=L)}for(var H=0;H<=45;H+=5){var U=Ki(Y+256-160*Math.sin(3.141592653589793*H/180),!0,this),q=Ki(T+160-160*Math.cos(3.141592653589793*H/180),!0,this),K=Ki(Y+256-160*Math.sin(3.141592653589793*(H+5)/180),!0,this),J=Ki(T+160-160*Math.cos(3.141592653589793*(H+5)/180),!0,this);this.hg.drawLine(U,q,K,J),45==H&&(s=K,h=J)}this.hg.drawLine(t,i,s,h)}else{o.view_x=this.yo[c].x-this.maps.wx,o.view_y=this.yo[c].y-this.maps.wy;var Z=o.view_x,X=o.view_y,$=o.view_x+256,Q=o.view_y+128;if($<0||Z>this.gg.di.width||X>this.gg.di.height){o.draw_f=!1;continue}o.draw_f=!0,this.hg.setColor(o.color);for(var tt=0,it=0;it<=50;it+=5)e[tt]=Ki(Z+160*Math.sin(3.141592653589793*it/180),!0,this),a[tt]=Ki(X-32+160*Math.cos(3.141592653589793*it/180),!0,this),50==it&&(t=e[tt],i=a[tt]),tt++;e[tt]=t,a[tt]=X+128,this.hg.fillPolygon(e,a,12),tt=0;for(var st=0;st<=50;st+=5)e[tt]=Ki(Z+256-160*Math.sin(3.141592653589793*st/180),!0,this),a[tt]=Ki(X+160-160*Math.cos(3.141592653589793*st/180),!0,this),50==st&&(s=e[tt],h=a[tt]),tt++;e[tt]=s,a[tt]=X+128,e[++tt]=Z+256,a[tt]=X+128,this.hg.fillPolygon(e,a,13),e[0]=t,a[0]=i,e[1]=s,a[1]=h,e[2]=s,a[2]=X+128,e[3]=t,a[3]=X+128,this.hg.fillPolygon(e,a,4),Q<this.gg.di.height&&this.hg.fillRect(Z,X+128,256,this.gg.di.height-(X+128))}}else{o.view_x=this.yo[c].x-this.maps.wx,o.view_y=this.yo[c].y-this.maps.wy;var ht=o.view_x,et=o.view_y;if(o.view_x+240<0||ht>this.gg.di.width||et>this.gg.di.height){o.draw_f=!1;continue}o.draw_f=!0,this.hg.setColor(o.color);var at=0;e[at]=ht,a[at]=et+64,at++;for(var ct=140;ct>=90;ct-=5)e[at]=Ki(ht+120+144*Math.cos(3.141592653589793*ct/180),!0,this),a[at]=Ki(et+144-144*Math.sin(3.141592653589793*ct/180),!0,this),at++;e[at]=ht+120,a[at]=et+64,at++,this.hg.fillPolygon(e,a,at),at=0;for(var ot=90;ot>=40;ot-=5)e[at]=Ki(ht+120+144*Math.cos(3.141592653589793*ot/180),!0,this),a[at]=Ki(et+144-144*Math.sin(3.141592653589793*ot/180),!0,this),at++;e[at]=ht+240,a[at]=et+64,e[++at]=ht+120,a[at]=et+64,at++,this.hg.fillPolygon(e,a,at)}else{o.view_x=this.yo[c].x-this.maps.wx,o.view_y=this.yo[c].y-this.maps.wy;var _t=o.view_x-o.x2,rt=o.view_y-o.x2,nt=o.view_x+o.x2,mt=o.view_y+o.x2;nt<0||_t>=this.gg.di.width||mt<0||rt>=this.gg.di.height?o.draw_f=!1:(o.draw_f=!0,this.hg.setColor(o.color),this.hg.fillOval(_t,rt,nt-_t,mt-rt))}else{o.view_x=this.yo[c].x-this.maps.wx,o.view_y=this.yo[c].y-this.maps.wy;var pt,gt,ut,yt,dt=o.view_x,ft=o.view_y,jt=this.yo[c].x2-this.maps.wx,lt=this.yo[c].y2-this.maps.wy;if(dt<0&&jt<0||dt>=this.gg.di.width&&jt>=this.gg.di.width){o.draw_f=!1;continue}if(o.draw_f=!0,dt<=jt?(ft>=lt?(pt=jt,gt=ft):(pt=dt,gt=lt),e[0]=dt,a[0]=ft,e[1]=jt,a[1]=lt,e[2]=pt,a[2]=gt):(lt>=ft?(ut=jt,yt=ft):(ut=dt,yt=lt),e[0]=dt,a[0]=ft,e[1]=jt,a[1]=lt,e[2]=ut,a[2]=yt),this.hg.setColor(o.color),this.hg.fillPolygon(e,a,3),dt<=jt){if(ft>=lt){ft<this.gg.di.height&&this.hg.fillRect(dt,ft,jt-dt,this.gg.di.height-ft);continue}lt<this.gg.di.height&&this.hg.fillRect(dt,lt,jt-dt,this.gg.di.height-lt);continue}if(lt>=ft){ft>0&&this.hg.fillRect(jt,0,dt-jt,ft);continue}lt>0&&this.hg.fillRect(jt,0,dt-jt,lt)}else{o.view_x=this.yo[c].x-this.maps.wx,o.view_y=this.yo[c].y-this.maps.wy;var vt,xt,kt,wt,bt=o.view_x,St=o.view_y,Mt=this.yo[c].x2-this.maps.wx,Ct=this.yo[c].y2-this.maps.wy;if(bt<0&&Mt<0||bt>=this.gg.di.width&&Mt>=this.gg.di.width){o.draw_f=!1;continue}o.draw_f=!0,bt<=Mt?(St>=Ct?(vt=Mt,xt=St):(vt=bt,xt=Ct),e[0]=bt,a[0]=St,e[1]=Mt,a[1]=Ct,e[2]=vt,a[2]=xt):(Ct>=St?(kt=Mt,wt=St):(kt=bt,wt=Ct),e[0]=bt,a[0]=St,e[1]=Mt,a[1]=Ct,e[2]=kt,a[2]=wt),this.hg.setColor(o.color),this.hg.fillPolygon(e,a,3)}else{o.view_x=this.yo[c].x-this.maps.wx,o.view_y=this.yo[c].y-this.maps.wy;var It=o.view_x,Bt=o.view_y,Gt=this.yo[c].x2-this.maps.wx,zt=this.yo[c].y2-this.maps.wy;It<0&&Gt<0||It>=this.gg.di.width&&Gt>=this.gg.di.width?o.draw_f=!1:(o.draw_f=!0,this.hg.setColor(o.color),this.hg.drawLine(It,Bt,Gt,zt))}else{if(o.view_x=this.yo[c].x-this.maps.wx,o.view_y=this.yo[c].y-this.maps.wy,o.view_x+o.width<=0||o.view_x>=this.gg.di.width||o.view_y+o.height<=0||o.view_y>=this.gg.di.height){o.draw_f=!1;continue}o.draw_f=!0;var At=o.pt;At>0&&this.gg.drawPattern(o.view_x,o.view_y,At,o.pth)}else o.view_x=this.yo[c].x-this.maps.wx,o.view_y=this.yo[c].y-this.maps.wy,o.view_x+o.width<=0||o.view_x>=this.gg.di.width||o.view_y+o.height<=0||o.view_y>=this.gg.di.height?o.draw_f=!1:(o.draw_f=!0,this.hg.setColor(o.color),this.hg.fillRect(o.view_x,o.view_y,o.width,o.height));else{if(o.view_x=this.yo[c].x-this.maps.wx,o.view_y=this.yo[c].y-this.maps.wy,o.view_x+o.width<=0||o.view_x>=this.gg.di.width||o.view_y+o.height<=0||o.view_y>=this.gg.di.height){o.draw_f=!1;continue}o.draw_f=!0,null!=o.img&&this.hg.drawImage(o.img,o.view_x,o.view_y,this.ap)}}}},{key:"atariYuka",value:function(t){if(!(this.yuka_id_max<0))if(0==t)for(var i=0;i<=this.yuka_id_max;i++){var s=this.yo[i];if(0!=s.con&&2!=s.type)if(s.con>=100&&s.con<200)14==this.j_tokugi||15==this.j_tokugi?this.co_j.x+31>=s.x&&this.co_j.x<s.x+s.width&&this.co_j.y+31>=s.y&&this.co_j.y<s.y+s.height&&(this.co_j.x=s.x+s.width,this.co_j.vx=0):this.co_j.x+15>=s.x&&this.co_j.x+15<s.x+s.width&&this.co_j.y+31>=s.y&&this.co_j.y<s.y+s.height&&(this.co_j.x=s.x+s.width-15,this.co_j.vx=0);else if(s.con>=200&&s.con<300){if(this.co_j.vy>=0){var h=this.getSLOY(s.x,s.y,s.x2,s.y2);h>=0&&this.co_j.y>=h&&this.co_j.y<=h+31&&(this.co_j.y=h,this.co_j.vy=0)}}else if(s.con>=300&&s.con<350){var e=this.getSCOAlign(s.x,s.y,s.x2,s.y2);if(s.y-e<this.co_j.y+31&&s.y+e>this.co_j.y&&(e=Ki(90*s.x2/100),s.x<=this.co_j.x+15&&s.x+e>=this.co_j.x+15&&(this.co_j.x=s.x+e-14,this.co_j.vx<0&&(this.co_j.vx=0))),(e=this.getSCOY(s.x,s.y,s.x2,s.y2))>=0&&this.co_j.y>=e&&this.co_j.y<=e+47&&(this.co_j.y=e,this.co_j.vy=0,this.maps.getBGCode(this.co_j.x+15,this.co_j.y)>=18&&this.co_j.c<200&&(this.co_j.y=32*Ji(this.co_j.y,5)+32-16,this.co_j.pt=114,this.jShinu(3))),this.co_j.vy<0){var a=this.getSCOYCeiling(s.x,s.y,s.x2,s.y2);a>=0&&this.co_j.y<=a&&this.co_j.y>=a-47&&(this.co_j.y=a,this.co_j.vy<0&&(this.co_j.vy=0))}}else if(s.con>=350&&s.con<400){if(this.co_j.vy>=0){var c=this.getSHCOY(s.x,s.y,s.x2,s.y2);c>=0&&this.co_j.y>=c&&this.co_j.y<=c+31&&(this.co_j.y=c,this.co_j.vy=0)}}else if(400==s.con||410==s.con){if(this.co_j.vy>=0){var o=this.getSWUpOY(s.x,s.y,s.x2,s.y2);o>=0&&this.co_j.y>=o&&this.co_j.y<=o+31&&(this.co_j.y=o,this.co_j.vy=0)}}else if((450==s.con||460==s.con)&&this.co_j.vy>=0){var _=this.getSWDownOY(s.x,s.y,s.x2,s.y2);_>=0&&this.co_j.y>=_&&this.co_j.y<=_+31&&(this.co_j.y=_,this.co_j.vy=0)}}else if(1==t)for(var r=0;r<=this.yuka_id_max;r++){var n=this.yo[r];if(0!=n.con&&2!=n.type)if(n.con>=100&&n.con<200)14==this.j_tokugi||15==this.j_tokugi?this.co_j.x+31>=n.x&&this.co_j.x<n.x+n.width&&this.co_j.y+31>=n.y&&this.co_j.y<n.y+n.height&&(this.co_j.x=n.x-32,this.co_j.vx=0):this.co_j.x+15>=n.x&&this.co_j.x+15<n.x+n.width&&this.co_j.y+31>=n.y&&this.co_j.y<n.y+n.height&&(this.co_j.x=n.x-16,this.co_j.vx=0);else if(n.con>=200&&n.con<300){if(this.co_j.vy>=0){var m=this.getSLOY(n.x,n.y,n.x2,n.y2);m>=0&&this.co_j.y>=m&&this.co_j.y<=m+31&&(this.co_j.y=m,this.co_j.vy=0)}}else if(n.con>=300&&n.con<350){var p=this.getSCOAlign(n.x,n.y,n.x2,n.y2);if(n.y-p<this.co_j.y+31&&n.y+p>this.co_j.y&&(p=Ki(90*n.x2/100),n.x-p<=this.co_j.x+15&&n.x>=this.co_j.x+15&&(this.co_j.x=n.x-p-16,this.co_j.vx>0&&(this.co_j.vx=0))),(p=this.getSCOY(n.x,n.y,n.x2,n.y2))>=0&&this.co_j.y>=p&&this.co_j.y<=p+47&&(this.co_j.y=p,this.co_j.vy=0,this.maps.getBGCode(this.co_j.x+15,this.co_j.y)>=18&&this.co_j.c<200&&(this.co_j.y=32*Ji(this.co_j.y,5)+32-16,this.co_j.pt=114,this.jShinu(3))),this.co_j.vy<0){var g=this.getSCOYCeiling(n.x,n.y,n.x2,n.y2);g>=0&&this.co_j.y<=g&&this.co_j.y>=g-47&&(this.co_j.y=g,this.co_j.vy<0&&(this.co_j.vy=0))}}else if(n.con>=350&&n.con<400){if(this.co_j.vy>=0){var u=this.getSHCOY(n.x,n.y,n.x2,n.y2);u>=0&&this.co_j.y>=u&&this.co_j.y<=u+31&&(this.co_j.y=u,this.co_j.vy=0)}}else if(400==n.con||410==n.con){if(this.co_j.vy>=0){var y=this.getSWUpOY(n.x,n.y,n.x2,n.y2);y>=0&&this.co_j.y>=y&&this.co_j.y<=y+31&&(this.co_j.y=y,this.co_j.vy=0)}}else if((450==n.con||460==n.con)&&this.co_j.vy>=0){var d=this.getSWDownOY(n.x,n.y,n.x2,n.y2);d>=0&&this.co_j.y>=d&&this.co_j.y<=d+31&&(this.co_j.y=d,this.co_j.vy=0)}}else if(2==t)for(var f=0;f<=this.yuka_id_max;f++){var j=this.yo[f];if(0!=j.con&&2!=j.type)if(j.con>=100&&j.con<200)14==this.j_tokugi||15==this.j_tokugi?this.co_j.x+31>=j.x&&this.co_j.x<j.x+j.width&&this.co_j.y+31>=j.y&&this.co_j.y<j.y+j.height&&(this.co_j.y=j.y+j.height,this.co_j.vy=0):this.co_j.x+15>=j.x&&this.co_j.x+15<j.x+j.width&&this.co_j.y+31>=j.y&&this.co_j.y<j.y+j.height&&(this.co_j.y=j.y+j.height,this.co_j.vy=0);else if(j.con>=300&&j.con<350){var l=this.getSCOYCeiling(j.x,j.y,j.x2,j.y2);l>=0&&this.co_j.y<=l&&this.co_j.y>=l-63&&this.co_j.y>=j.y-8&&(this.co_j.y=l,this.co_j.vy<0&&(this.co_j.vy=0),this.maps.getBGCode(this.co_j.x+15,this.co_j.y+31)>=20&&this.co_j.c<200&&(this.co_j.y=32*Ji(this.co_j.y+31,5)-32,this.jShinu(3)))}}else if(3==t)for(var v=0;v<=this.yuka_id_max;v++){var x=this.yo[v];if(0!=x.con&&2!=x.type)if(x.con>=100&&x.con<200){if(14==this.j_tokugi||15==this.j_tokugi){this.co_j.x+31>=x.x&&this.co_j.x<x.x+x.width&&this.co_j.y+31>=x.y&&this.co_j.y<x.y+x.height&&(this.co_j.y=x.y-32,this.co_j.vy=0);continue}this.co_j.x+15>=x.x&&this.co_j.x+15<x.x+x.width&&this.co_j.y+31>=x.y&&this.co_j.y<x.y+x.height&&(this.co_j.y=x.y-32,this.co_j.vy=0)}else if(x.con>=200&&x.con<300){var k=this.getSLOY(x.x,x.y,x.x2,x.y2);k>=0&&this.co_j.y>=k&&this.co_j.y<=k+31&&(this.co_j.y=k,this.co_j.vy=0)}else if(x.con>=300&&x.con<350){var w=this.getSCOY(x.x,x.y,x.x2,x.y2);if(w>=0&&this.co_j.y>=w&&this.co_j.y<=w+31&&(this.co_j.y=w,this.co_j.vy=0,0==this.co_j.vx&&(this.co_j.pt=100)),this.co_j.y<=x.y)continue;if((w=this.getSCOYCeiling(x.x,x.y,x.x2,x.y2))<0||this.co_j.y>w||this.co_j.y<w-31)continue;this.co_j.y=w,this.co_j.vy<0&&(this.co_j.vy=0),this.maps.getBGCode(this.co_j.x+15,this.co_j.y+31)>=20&&(this.co_j.y=32*Ji(this.co_j.y+31,5)-32,this.jShinu(3))}else if(x.con>=350&&x.con<400){var b=this.getSHCOY(x.x,x.y,x.x2,x.y2);if(b<0||this.co_j.y<b||this.co_j.y>b+31)continue;this.co_j.y=b,this.co_j.vy=0,0==this.co_j.vx&&(this.co_j.pt=100)}else if(400!=x.con&&410!=x.con){if(450==x.con||460==x.con){var S=this.getSWDownOY(x.x,x.y,x.x2,x.y2);S<0||this.co_j.y<S||this.co_j.y>S+31||(this.co_j.y=S,this.co_j.vy=0,0==this.co_j.vx&&(this.co_j.pt=100))}}else{var M=this.getSWUpOY(x.x,x.y,x.x2,x.y2);if(M<0||this.co_j.y<M||this.co_j.y>M+31)continue;this.co_j.y=M,this.co_j.vy=0,0==this.co_j.vx&&(this.co_j.pt=100)}}}},{key:"isYukaCross",value:function(){var t=!1;if(this.yuka_id_max<0)return!1;if(this.co_j.c<100||this.co_j.c>=200)return!1;for(var i=0;i<=this.yuka_id_max;i++){var s=this.yo[i];if(!(0==s.con||2==s.type||s.con<100||s.con>=200)){if(14==this.j_tokugi||15==this.j_tokugi){if(this.co_j.x+31<s.x||this.co_j.x>=s.x+s.width||this.co_j.y+31<s.y||this.co_j.y>=s.y+s.height)continue;t=!0;break}if(!(this.co_j.x+15<s.x||this.co_j.x+15>=s.x+s.width||this.co_j.y+31<s.y||this.co_j.y>=s.y+s.height)){t=!0;break}}}return t}},{key:"getSLOY",value:function(t,i,s,h){if(t>=s)return-1;var e=this.co_j.x+15;if(e<t||e>s)return-1;var a=s-t,c=h-i;if(Math.floor(180*Math.atan2(Math.abs(c),Math.abs(a))/3.140000104904175)>70)return-1;var o=Ki(c*(e-t)/a);return i+o-32}},{key:"getSCOYCeiling",value:function(t,i,s,h){var e=this.co_j.x+15,a=Ki(90*s/100);return e<t-a||e>t+a?-1:i+Math.floor(Math.sqrt(s*s-(e-t)*(e-t)))}},{key:"getSCOAlign",value:function(t,i,s,h){var e=Ki(90*s/100);return Math.floor(Math.sqrt(s*s-e*e))}},{key:"getSCOY",value:function(t,i,s,h,e){var a,c=Ki(90*s/100);return(a=void 0===e?this.co_j.x+15:e)<t-c||a>t+c?-1:i-Math.floor(Math.sqrt(s*s-(a-t)*(a-t)))-32}},{key:"getSHCOY",value:function(t,i,s,h,e){var a;return(a=void 0===e?this.co_j.x+15:e)<t||a>t+239?-1:i+144-Math.floor(Math.sqrt(20736-Math.abs(t+120-a)*Math.abs(t+120-a)))-32}},{key:"getSWUpOY",value:function(t,i,s,h,e){var a,c;if((a=void 0===e?this.co_j.x+15:e)<t||a>t+255)return-1;if(a-t<=127){var o=a-t;c=i-32+Math.floor(Math.sqrt(25600-o*o))-32}else{var _=t+255-a;c=i+128+32-Math.floor(Math.sqrt(25600-_*_))-32}return c}},{key:"getSWDownOY",value:function(t,i,s,h,e){var a,c;if((a=void 0===e?this.co_j.x+15:e)<t||a>t+255)return-1;if(a-t<=127){var o=t-a;c=i+128+32-Math.floor(Math.sqrt(25600-o*o))-32}else{var _=t+255-a;c=i-32+Math.floor(Math.sqrt(25600-_*_))-32}return c}},{key:"setChipValue",value:function(t,i,s){var h=-1;switch(s){case 46:case 0:break;case 49:h=1;break;case 50:h=2;break;case 51:h=3;break;case 52:h=4;break;case 53:h=5;break;case 54:h=6;break;case 55:h=7;break;case 56:h=8;break;case 57:h=9;break;case 97:h=20;break;case 98:h=21;break;case 99:h=22;break;case 100:h=23;break;case 101:h=24;break;case 102:h=25;break;case 103:h=26;break;case 104:h=27;break;case 105:h=28;break;case 91:h=15;break;case 93:h=10;break;case 60:h=18;break;case 62:h=19;break;case 106:h=29;break;case 107:this.coin1_type>=2?-99==(h=this.setAthleticOnMap(this.coin1_type,t,i))&&(h=40,this.hSet(t,i,100)):14==this.j_tokugi?this.mSet(32*t,32*i,2181):15==this.j_tokugi?this.mSet(32*t,32*i,2e3):(h=40,this.hSet(t,i,100));break;case 108:this.coin3_type>=2?-99==(h=this.setAthleticOnMap(this.coin3_type,t,i))&&(h=40,this.hSet(t,i,200)):14==this.j_tokugi?this.mSet(32*t,32*i,2182):15==this.j_tokugi?(this.mSet(32*t,32*i,2010),this.mSet(32*t,32*i,2020),this.mSet(32*t,32*i,2e3)):(h=40,this.hSet(t,i,200));break;case 109:14==this.j_tokugi||15==this.j_tokugi?this.mSet(32*t,32*i,2100):(h=40,this.hSet(t,i,300));break;case 110:14==this.j_tokugi||15==this.j_tokugi?this.mSet(32*t,32*i,2110):(h=40,this.hSet(t,i,400));break;case 111:14==this.j_tokugi||15==this.j_tokugi?this.mSet(32*t,32*i,2120):(h=40,this.hSet(t,i,500));break;case 112:14==this.j_tokugi||15==this.j_tokugi?this.mSet(32*t,32*i,2130):(h=40,this.hSet(t,i,600));break;case 113:14==this.j_tokugi||15==this.j_tokugi?this.mSet(32*t,32*i,2140):(h=40,this.hSet(t,i,700));break;case 114:14==this.j_tokugi||15==this.j_tokugi?this.mSet(32*t,32*i,2150):(h=40,this.hSet(t,i,800));break;case 115:14==this.j_tokugi||15==this.j_tokugi?this.mSet(32*t,32*i,2160):(h=40,this.hSet(t,i,900));break;case 116:14==this.j_tokugi||15==this.j_tokugi?this.mSet(32*t,32*i,2170):(h=40,this.hSet(t,i,1e3));break;case 117:this.dokan1_type>=2?-99==(h=this.setAthleticOnMap(this.dokan1_type,t,i))&&(this.aSet(32*t,32*i,300,32*t),4==this.maps.map_bg[t-1][i]&&(h=4)):(this.aSet(32*t,32*i,300,32*t),4==this.maps.map_bg[t-1][i]&&(h=4));break;case 118:this.dokan2_type>=2?-99==(h=this.setAthleticOnMap(this.dokan2_type,t,i))&&(this.aSet(32*t,32*i,310,32*t),4==this.maps.map_bg[t-1][i]&&(h=4)):(this.aSet(32*t,32*i,310,32*t),4==this.maps.map_bg[t-1][i]&&(h=4));break;case 119:this.dokan3_type>=2?-99==(h=this.setAthleticOnMap(this.dokan3_type,t,i))&&(this.aSet(32*t,32*i,320,32*t),4==this.maps.map_bg[t-1][i]&&(h=4)):(this.aSet(32*t,32*i,320,32*t),4==this.maps.map_bg[t-1][i]&&(h=4));break;case 120:this.dokan4_type>=2?-99==(h=this.setAthleticOnMap(this.dokan4_type,t,i))&&(this.aSet(32*t,32*i,330,32*t),4==this.maps.map_bg[t-1][i]&&(h=4)):(this.aSet(32*t,32*i,330,32*t),4==this.maps.map_bg[t-1][i]&&(h=4));break;case 121:this.stage_1up_f[this.stage-1]||17==this.j_tokugi?14==this.j_tokugi||15==this.j_tokugi?this.mSet(32*t,32*i,2180):(h=40,this.hSet(t,i,1100)):h=41;break;case 122:h=69;break;case 43:this.aSet(32*t,32*i,80,32*t),4==this.maps.map_bg[t-1][i]&&(h=4);break;case 45:this.aSet(32*t,32*i,81,32*t),4==this.maps.map_bg[t-1][i]&&(h=4);break;case 42:this.aSet(32*t,32*i,82,32*t),4==this.maps.map_bg[t-1][i]&&(h=4);break;case 47:this.aSet(32*t,32*i,83,32*t),4==this.maps.map_bg[t-1][i]&&(h=4);break;case 65:this.co_j.x=32*t,this.co_j.y=32*i,4==this.maps.map_bg[t-1][i]&&(h=4);break;case 66:this.tSet(32*t,32*i,100,32*t-this.gg.di.width-32),4==this.maps.map_bg[t-1][i]&&(h=4);break;case 67:this.tSet(32*t,32*i,110,32*t-this.gg.di.width-32),4==this.maps.map_bg[t-1][i]&&(h=4);break;case 68:this.tSet(32*t,32*i,110,32*t-this.gg.di.width-32),this.tSet(32*t+75,32*i,110,32*t-this.gg.di.width-32),this.tSet(32*t+150,32*i,110,32*t-this.gg.di.width-32),4==this.maps.map_bg[t-1][i]&&(h=4);break;case 69:3==this.dengeki_mkf?this.tSet(32*t,32*i,201,32*t-this.gg.di.width-32):4==this.dengeki_mkf?this.tSet(32*t,32*i,202,32*t-this.gg.di.width-32):5==this.dengeki_mkf?this.tSet(32*t,32*i,203,32*t-this.gg.di.width-32):this.tSet(32*t,32*i,200,32*t-this.gg.di.width-32),4==this.maps.map_bg[t-1][i]&&(h=4);break;case 70:this.chikorin_attack>=2&&this.chikorin_attack<=5?this.tSet(32*t,32*i,308+this.chikorin_attack,32*t-this.gg.di.width-32):6==this.chikorin_attack?this.tSet(32*t,32*i,301,32*t-this.gg.di.width-32):7==this.chikorin_attack?this.tSet(32*t,32*i,320,32*t-this.gg.di.width-32):8==this.chikorin_attack?this.tSet(32*t,32*i,330,32*t-this.gg.di.width-32):9==this.chikorin_attack?this.tSet(32*t,32*i,335,32*t-this.gg.di.width-32):this.tSet(32*t,32*i,300,32*t-this.gg.di.width-32),4==this.maps.map_bg[t-1][i]&&(h=4);break;case 71:this.tSet(32*t,32*i,400,32*t-this.gg.di.width-32),4==this.maps.map_bg[t-1][i]&&(h=4);break;case 72:this.tSet(32*t,32*i,500,32*t-this.gg.di.width-32),4==this.maps.map_bg[t-1][i]&&(h=4);break;case 73:2==this.poppie_attack?this.tSet(32*t,32*i,520,32*t-this.gg.di.width-32):3==this.poppie_attack?this.tSet(32*t,32*i,530,32*t-this.gg.di.width-32):4==this.poppie_attack?this.tSet(32*t,32*i,540,32*t-this.gg.di.width-32):5==this.poppie_attack?this.tSet(32*t,32*i,550,32*t-this.gg.di.width-32):this.tSet(32*t,32*i,510,32*t-this.gg.di.width-32),4==this.maps.map_bg[t-1][i]&&(h=4);break;case 74:this.tSet(32*t,32*i,510,32*t-this.gg.di.width-32-32),this.tSet(32*t+80,32*i-40,510,32*t-this.gg.di.width-32-32),this.tSet(32*t+140,32*i+38,510,32*t-this.gg.di.width-32-32),4==this.maps.map_bg[t-1][i]&&(h=4);break;case 75:4==this.maps.map_bg[t-1][i]&&(h=4),this.ugokuyuka1_type>=2?-99==(h=this.setAthleticOnMap(this.ugokuyuka1_type,t,i))&&this.aSet(32*t,32*i,100,32*t):this.aSet(32*t,32*i,100,32*t);break;case 76:4==this.maps.map_bg[t-1][i]&&(h=4),this.ugokuyuka2_type>=2?-99==(h=this.setAthleticOnMap(this.ugokuyuka2_type,t,i))&&this.aSet(32*t,32*i+9,110,32*t-16):this.aSet(32*t,32*i+9,110,32*t-16);break;case 77:4==this.maps.map_bg[t-1][i]&&(h=4),this.ugokuyuka3_type>=2?-99==(h=this.setAthleticOnMap(this.ugokuyuka3_type,t,i))&&(this.aSet(32*t,32*i+9,115,32*t-16),this.aSet(32*t,32*i+9,116,32*t-16)):(this.aSet(32*t,32*i+9,115,32*t-16),this.aSet(32*t,32*i+9,116,32*t-16));break;case 78:4==this.maps.map_bg[t-1][i]&&(h=4),this.dossunsun_type>=2?-99==(h=this.setAthleticOnMap(this.dossunsun_type,t,i))&&this.aSet(32*t-32,32*i,400,32*t):this.aSet(32*t-32,32*i,400,32*t);break;case 79:2==this.mariri_attack?this.tSet(32*t,32*i,601,32*t-this.gg.di.width-32):3==this.mariri_attack?this.tSet(32*t,32*i,602,32*t-this.gg.di.width-32):4==this.mariri_attack?this.tSet(32*t,32*i,660,32*t-this.gg.di.width-32):5==this.mariri_attack?this.tSet(32*t,32*i,670,32*t-this.gg.di.width-32):this.tSet(32*t,32*i,600,32*t-this.gg.di.width-32),4==this.maps.map_bg[t-1][i]&&(h=4);break;case 80:this.yachamo_attack>=1&&this.yachamo_attack<=5?this.tSet(32*t,32*i,699+this.yachamo_attack,32*t-this.gg.di.width-32):6==this.yachamo_attack?this.tSet(32*t,32*i,710,32*t-this.gg.di.width-32):7==this.yachamo_attack?this.tSet(32*t,32*i,711,32*t-this.gg.di.width-32):8==this.yachamo_attack?this.tSet(32*t,32*i,720,32*t-this.gg.di.width-32):9==this.yachamo_attack?this.tSet(32*t,32*i,725,32*t-this.gg.di.width-32):this.tSet(32*t,32*i,700,32*t-this.gg.di.width-32),4==this.maps.map_bg[t-1][i]&&(h=4);break;case 81:14==this.j_tokugi?this.tSet(32*t,32*i,850,32*t-this.gg.di.width-32):this.mizutaro_attack>=1&&this.mizutaro_attack<=5?this.tSet(32*t,32*i,799+this.mizutaro_attack,32*t-this.gg.di.width-32):this.tSet(32*t,32*i,800,32*t-this.gg.di.width-32),4==this.maps.map_bg[t-1][i]&&(h=4);break;case 82:2==this.airms_kf?this.tSet(32*t,32*i,950,32*t-this.gg.di.width-32):3==this.airms_kf?this.tSet(32*t,32*i,920,32*t-this.gg.di.width-32):4==this.airms_kf?this.tSet(32*t,32*i,921,32*t-this.gg.di.width-32):5==this.airms_kf?this.tSet(32*t,32*i,930,32*t-this.gg.di.width-32):this.tSet(32*t,32*i,900,32*t-this.gg.di.width-32),4==this.maps.map_bg[t-1][i]&&(h=4);break;case 83:this.co_b.c=100,this.co_b.c4=3,this.co_b.x=32*t,this.co_b.y=32*i-16,4==this.maps.map_bg[t-1][i]&&(h=4),this.co_b.x<this.gg.di.width-64?this.co_b.x=this.gg.di.width-64:this.co_b.x>32*(this.mapWidth-3)&&(this.co_b.x=32*(this.mapWidth-3)),10==this.sl_step?this.sl_step=11:this.sl_step=1,this.sl_wx=this.co_b.x-(this.gg.di.width-128),this.sl_wy=32*(this.mapHeight-Ki((this.gg.di.height-this.maps.wy_mini)/32)),2==this.boss_destroy_type&&(this.co_b.x+=160);break;case 84:this.co_b.c=200,this.co_b.c4=3,this.co_b.x=32*t,this.co_b.y=32*i-16,4==this.maps.map_bg[t-1][i]&&(h=4),this.co_b.x<this.gg.di.width-64?this.co_b.x=this.gg.di.width-64:this.co_b.x>32*(this.mapWidth-3)&&(this.co_b.x=32*(this.mapWidth-3)),10==this.sl_step?this.sl_step=11:this.sl_step=1,this.sl_wx=this.co_b.x-(this.gg.di.width-128),this.sl_wy=32*(this.mapHeight-Ki((this.gg.di.height-this.maps.wy_mini)/32)),2==this.boss_destroy_type&&(this.co_b.x+=160);break;case 85:4==this.maps.map_bg[t-1][i]&&(h=4),this.firebar1_type>=2?-99==(h=this.setAthleticOnMap(this.firebar1_type,t,i))&&(this.aSet(32*t+16,32*i+16,70,32*t),h=50):(this.aSet(32*t+16,32*i+16,70,32*t),h=50);break;case 86:4==this.maps.map_bg[t-1][i]&&(h=4),this.firebar2_type>=2?-99==(h=this.setAthleticOnMap(this.firebar2_type,t,i))&&(this.aSet(32*t+16,32*i+16,71,32*t),h=50):(this.aSet(32*t+16,32*i+16,71,32*t),h=50);break;case 87:2==this.taiking_attack?this.tSet(32*t,32*i,1050,32*t-this.gg.di.width-32):3==this.taiking_attack?this.tSet(32*t,32*i,1060,32*t-this.gg.di.width-32):4==this.taiking_attack?this.tSet(32*t,32*i,1070,32*t-this.gg.di.width-32):5==this.taiking_attack?this.tSet(32*t,32*i,1080,32*t-this.gg.di.width-32-32):14==this.j_tokugi?this.tSet(32*t,32*i,1002,32*t-this.gg.di.width-32-32):15==this.j_tokugi?this.tSet(32*t,32*i,1003,32*t-this.gg.di.width-32):(this.tSet(32*t,32*i-16,1e3,32*t-this.gg.di.width-32-32),h=4),4!=this.maps.map_bg[t-1][i]&&4!=this.maps.map_bg[t][i-1]||(h=4);break;case 88:2==this.kuragesso_attack?this.tSet(32*t,32*i,1150,32*t-this.gg.di.width-32):3==this.kuragesso_attack?this.tSet(32*t,32*i,1160,32*t-this.gg.di.width-32):4==this.kuragesso_attack?this.tSet(32*t,32*i,1170,32*t-this.gg.di.width-32):5==this.kuragesso_attack?this.tSet(32*t,32*i,1180,32*t-this.gg.di.width-32-32):14==this.j_tokugi?this.tSet(32*t,32*i,1102,32*t-this.gg.di.width-32):15==this.j_tokugi?this.tSet(32*t,32*i,1103,32*t-this.gg.di.width-32):(this.tSet(32*t,32*i,1100,32*t-this.gg.di.width-32),h=4),4!=this.maps.map_bg[t-1][i]&&4!=this.maps.map_bg[t][i-1]||(h=4);break;case 89:this.aSet(32*t,32*i,60,32*t),4==this.maps.map_bg[t-1][i]&&(h=4);break;case 90:this.co_b.c=300,this.co_b.c4=3,this.co_b.x=32*t,this.co_b.y=32*i-16,this.boss_kijyun_y=this.co_b.y,4==this.maps.map_bg[t-1][i]&&(h=4),this.co_b.x<this.gg.di.width-64?this.co_b.x=this.gg.di.width-64:this.co_b.x>32*(this.mapWidth-3)&&(this.co_b.x=32*(this.mapWidth-3)),10==this.sl_step?this.sl_step=11:this.sl_step=1,this.sl_wx=this.co_b.x-(this.gg.di.width-128),this.sl_wy=32*(this.mapHeight-Ki((this.gg.di.height-this.maps.wy_mini)/32)),2==this.boss_destroy_type&&(this.co_b.x+=160);break;case 123:this.tSet(32*t,32*i,1200,32*t-this.gg.di.width-32),4==this.maps.map_bg[t-1][i]&&(h=4);break;case 125:this.tSet(32*t,32*i,1400,32*t-this.gg.di.width-32),4==this.maps.map_bg[t-1][i]&&(h=4);break;default:if("string"==typeof s){if(this.customParts&&this.customParts[s]){var e=this.customParts[s].nativeCode;e>=5e3&&e<1e4&&(this.tSet(32*t,32*i,s,32*t-this.gg.di.width-32),4==this.maps.map_bg[t-1][i]&&(h=4))}break}s>=1e3&&s<5e3?1001===s?(this.aSet(32*t+16,32*i+16,70,32*t),h=50):h=this.setAthleticOnMap(s-1e3,t,i):s>=5e3&&s<1e4&&(this.tSet(32*t,32*i,s-5e3,32*t-this.gg.di.width-32),4==this.maps.map_bg[t-1][i]&&(h=4))}return h}},{key:"getSnapshot",value:function(){var t=this,i={};return["ran_seed","ana_kazu","ochiru_y","j_hashiru_f","j_jump_level","j_jump_type","j_zan_f","j_zan_cf","j_zan_p","j_zan_nagasa","j_zan_c","j_a_id","j_mizu_f","j_mizu_ac","j_mizu_awa_c","j_left","j_jdai_f","boss_hp","showm_c","showi_c","showi_x","showi_y","time","m_kazu","jm_kazu","a_hf","j_fire_f","j_v_c","j_v_kakudo","j_jet_c","j_jet_kf","j_jet_fuel","j_helm_f","j_drell_f","j_tail_f","j_tail_ac","j_gr_kazu","sl_step","sl_wx","sl_wy","sl_speed","ks_wx","ks_wy","j_tail_hf","j_tail_type","yachamo_attack","poppie_attack","hitokoto_num","boss_kijyun_y","coin_kazu","tpika_p","setmyw_w","setmyw_pt","setmyw_muki","souko_count1","souko_count2","souko_count3","heh","system_draw_mode","ml_mode","ml_mode_c","score","highscore","score_1up_1","score_1up_2","stage","stage_cc","g_c1","g_c2","g_c3","g_ac","g_ac2","tr1_c","tr2_c","left_dcc","right_dcc","xkey_c","vo_x","vo_y","ana_c","ana_x","ana_y","j_zan_x","j_zan_y","j_zan_pt","j_zan_pth","j_zan_img","j_zan_zs_x","j_zan_zs_y","j_shitakara_mushi_y","j_hashigo_f","j_hashigo_mushi_x","j_djump_kf","j_speed","j_fire_range","j_rope_id","j_rope_r","j_rope_cf","j_cannon_c","j_cannon_type","saka_mushi_y","dkey_count","j_hp_v","j_hp","j_hp_max","j_muteki_c","j_4_muki","showm_data","showi_img","setmapc_f","setbacki_f","setbacki_img","showr_c","showr_x","showr_y","showr_width","showr_height","showo_c","showo_x","showo_y","showo_width","showo_height","js_mes","gauge_v","gauge_value","gauge_text","vo_pa_x","vo_pa_y","stage_1up_f","j_fire_type","mu_ato_x","mu_ato_y","mu_ato_p","j_double_f","view_move_type","hitokoto_c","title_lock_f","start_game_f","mode_wait_ending","mode_wait_gameover","mode_wait_stagestart","attacktail_yf","mhouse_c","mhouse_x","mhouse_y","yuka_ride_id","dso_cf","spot_c","spot_r","spot_r_mokuhyou","draw_lock_f","nkscroll_con","nkscroll_view_x","nkscroll_view_y","nkscroll_my_view_x","nkscroll_my_view_y","nkscroll_speed_x","nkscroll_vx","nkscroll_vy","nkscroll_zsc","boss_attack_mode","cpoint_con","cpoint_stage","cpoint_x","cpoint_y","jst_slow_down","jst_key_down","jst_fast_run_attack","jst_fly_left_right","jst_fire_xkey_only","jst_kabe_kick","jst_double_jump","jst_fast_run","jst_high_sjump","jst_jump_level_fix","jst_auto_right","jst_syouryuuken","jst_pc_attack","up_key_c","down_key_c"].forEach((function(s){i[s]=t[s]})),i.map_data_option=function(t){for(var i=t.length,s=t[0]&&t[0].length||0,h=[],e=0;e<i;e++)for(var a=0;a<s;a++)t[e][a]&&h.push({x:e,y:a});return{width:i,height:s,arr:h}}(this.map_data_option),i.co_j=s(this.co_j),["co_t","co_m","co_a","co_jm","co_mu"].forEach((function(h){i[h]=t[h].map((function(t){return t.c<=0?0:s(t)}))})),i.yo=this.yo.map((function(t){return JSON.stringify(t)})),i;function s(t){return JSON.stringify(t)}}}],i&&ui(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,i}();function fi(t){return fi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fi(t)}function ji(t,i){for(var s=0;s<i.length;s++){var h=i[s];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(t,li(h.key),h)}}function li(t){var i=function(t){if("object"!=fi(t)||!t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var s=i.call(t,"string");if("object"!=fi(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==fi(i)?i:i+""}var vi=function(){return t=function t(i,s,h,e,a){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.chip_width=i,this.chip_height=s,this.chip_x_count=h,this.chip_y_count=e,this.ai_width=a._width,this.ai_height=a._height,this.chip_img=qi(this.chip_x_count*this.chip_y_count,4),this.ai_img=a,this.createImageBuffer(0)},(i=[{key:"makeChipImage",value:function(t){for(var i,s=0;s<this.chip_y_count;s++)for(var h=0;h<this.chip_x_count;h++){var e=h*this.chip_width,a=s*this.chip_height;(i=this.chip_img[h+s*this.chip_x_count][0].getGraphics())&&i.drawImage(this.ai_img,e,a,this.chip_width,this.chip_height,0,0,this.chip_width,this.chip_height,null)}}},{key:"makeReverseChipImage",value:function(){for(var t,i=this.chip_width,s=this.chip_height,h=0;h<this.chip_y_count;h++)for(var e=0;e<this.chip_x_count;e++){var a=e+h*this.chip_x_count;null!=this.chip_img[a][0]&&((t=this.chip_img[a][1].getGraphics())&&(t.scale(-1,1),t.drawImage(this.chip_img[a][0],-i,0,i,s,null),t.dispose()),(t=this.chip_img[a][2].getGraphics())&&(t.scale(1,-1),t.drawImage(this.chip_img[a][0],0,-s,i,s,null),t.dispose()),(t=this.chip_img[a][3].getGraphics())&&(t.scale(-1,-1),t.drawImage(this.chip_img[a][0],-i,-s,i,s,null),t.dispose()))}return!0}},{key:"createImageBuffer",value:function(t){var i,s;for(i=0;i<this.chip_y_count;i++)for(s=0;s<this.chip_x_count;s++)this.chip_img[s+i*this.chip_x_count][t]=new T(this.chip_width,this.chip_height)}},{key:"getChipImage",value:function(t,i){return i||(i=0),t>=this.chip_img.length||t<0||i>3||i<0?null:this.chip_img[t][i]}}])&&ji(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,i}();function xi(t){return xi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xi(t)}function ki(t,i){for(var s=0;s<i.length;s++){var h=i[s];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(t,bi(h.key),h)}}function wi(t,i,s){return i&&ki(t.prototype,i),s&&ki(t,s),Object.defineProperty(t,"prototype",{writable:!1}),t}function bi(t){var i=function(t){if("object"!=xi(t)||!t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var s=i.call(t,"string");if("object"!=xi(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==xi(i)?i:i+""}var Si=wi((function t(i,s){var h=this;if(function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.my_offscreen_img=null,this.oci=new Array(256),this.ci=null,this.masaoEvent=function(t,i){this.my_offscreen_img=i},this.getHighscore=function(){var t=0;return i.mp&&(t=i.mp.highscore)<i.mp.score&&(t=i.mp.score),t},this.getScore=function(){var t=0;return i.mp&&(t=i.mp.score),t},this.getMode=function(){var t=0;if(i.mp){var s=i.mp.ml_mode;s>=50&&s<=60?t=1:s>=200&&s<300?t=400:s>=300&&s<=310?t=200:s>=400&&s<=410?t=300:100!=i.mp.ml_mode||2!=i.mp.sl_step&&3!=i.mp.sl_step?(t=100,t+=i.mp.stage):t=150}return t},this.soundOn=function(){return!!i.gs&&(i.gs.soundOn(),!0)},this.soundOff=function(){return!!i.gs&&(i.gs.soundOff(),!0)},this.onSound=function(){return!!i.gs&&(i.gs.soundOn(),!0)},this.offSound=function(){return!!i.gs&&(i.gs.soundOff(),!0)},this.getMyX=function(){if(i.mp){if(100==i.mp.ml_mode&&i.mp.co_j.c>=100&&i.mp.co_j.c<200){var t=Ji(i.mp.co_j.x+15,5)-1;return t<0&&(t=0),t>=i.mp.mapWidth&&(t=i.mp.mapWidth-1),t}if(200==i.mp.ml_mode)return Ji(i.mp.ig.co_j.x+15,5)}return-1},this.getMyY=function(){if(i.mp){if(100==i.mp.ml_mode&&i.mp.co_j.c>=100&&i.mp.co_j.c<200){var t=Ji(i.mp.co_j.y+15,5)-10;return t<0&&(t=0),t>=i.mp.mapHeight&&(t=i.mp.mapHeight-1),t}if(200==i.mp.ml_mode)return Ji(i.mp.ig.co_j.y+15,5)}return-1},this.getViewX=function(){if(i.mp&&100==i.mp.ml_mode){var t=Ji(i.mp.maps.wx,5)-1;return t<0&&(t=0),t>i.mp.mapWidth-16&&(t=i.mp.mapWidth-1),t}return-1},this.getViewY=function(){if(i.mp&&100==i.mp.ml_mode){var t=Ji(i.mp.maps.wy,5)-10;return t<0&&(t=0),t>i.mp.mapHeight-10&&(t=i.mp.mapHeight-10),t}return-1},this.setMyPosition=function(t,s){var h,e;return!(!(i.mp&&100==i.mp.ml_mode&&i.mp.co_j.c>=100&&i.mp.co_j.c<200)||(h=parseInt(t),e=parseInt(s),(isNaN(h)||isNaN(e))&&(h=-1,e=-1),h<0||h>=i.mp.mapWidth||e<0||e>=i.mp.mapHeight||(i.mp.co_j.x=32*(h+1),i.mp.co_j.y=32*(e+10),0)))},this.showMessage=function(t,s,h,e,a){return!!i.mp&&i.mp.showmSet(t,s,h,e,a)},this.showImage=function(t,s,h,e){return!!i.mp&&i.mp.showiSet(t,s,h,e)},this.setEnemy=function(t,s,h){return!!i.mp&&i.mp.sete(t,s,h)},this.setMapchip=function(t,s,h){return!!i.mp&&i.mp.setmapc(t,s,h)},this.getMapchip=function(t,s){return i.mp?i.mp.getmapc(t,s):-1},this.setMapchip2=function(t,s,h){return!!i.mp&&i.mp.setmapc2(t,s,h)},this.getMapchip2=function(t,s){return i.mp?i.mp.getmapc2(t,s):-1},this.setBackImage=function(t){return!!i.mp&&i.mp.setbacki(t)},this.pressLeft=function(){return!!i.gk&&(i.gk.left_f=!0,!0)},this.pressLeft2=function(){return!!(i.gk&&i.mp&&100==i.mp.ml_mode&&i.mp.co_j.c>=100&&i.mp.co_j.c<200)&&(i.gk.left_f=!0,i.gk.left_c=2,i.mp.j_hashiru_f=!0,!0)},this.releaseLeft=function(){return!!i.gk&&(i.gk.left_f=!1,!0)},this.pressRight=function(){return!!i.gk&&(i.gk.right_f=!0,!0)},this.pressRight2=function(){return!!(i.gk&&i.mp&&100==i.mp.ml_mode&&i.mp.co_j.c>=100&&i.mp.co_j.c<200)&&(i.gk.right_f=!0,i.gk.right_c=2,i.mp.j_hashiru_f=!0,!0)},this.releaseRight=function(){return!!i.gk&&(i.gk.right_f=!1,!0)},this.pressUp=function(){return!!i.gk&&(i.gk.up_f=!0,!0)},this.releaseUp=function(){return!!i.gk&&(i.gk.up_f=!1,!0)},this.pressDown=function(){return!!i.gk&&(i.gk.down_f=!0,i.gk.tr2_f=!0,!0)},this.releaseDown=function(){return!!i.gk&&(i.gk.down_f=!1,i.gk.tr2_f=!1,!0)},this.pressTrigger1=function(){return!!i.gk&&(i.gk.tr1_f=!0,!0)},this.releaseTrigger1=function(){return!!i.gk&&(i.gk.tr1_f=!1,!0)},this.releaseAll=function(){return!!i.gk&&(i.gk.up_f=!1,i.gk.down_f=!1,i.gk.left_f=!1,i.gk.right_f=!1,i.gk.tr1_f=!1,i.gk.tr2_f=!1,i.gk.x_f=!1,!0)},this.getKeyCode=function(){return i.gk?i.gk.key_code:-1},this.resetKeyCode=function(){return!!i.gk&&(i.gk.key_code=0,!0)},this.equipFire=function(t){if(void 0===t&&(t="1"),this.getMode()>=100&&this.getMode()<200){var s;if(s=parseInt(t),isNaN(s)&&(s=-1),s<0)return!1;if(0==s)return i.mp.j_fire_f=!1,!0;if(1==s)return i.mp.j_fire_f=!0,!0}return!1},this.equipBarrier=function(t){var s;return!(!(i.gk&&i.mp&&100==i.mp.ml_mode&&i.mp.co_j.c>=100&&i.mp.co_j.c<200)||(s=parseInt(t),isNaN(s)&&(s=0),s<=0||(i.mp.j_v_c=s,i.gs.rsAddSound(7),0)))},this.setJetFuel=function(t){var s;return!(!(i.gk&&i.mp&&100==i.mp.ml_mode&&i.mp.co_j.c>=100&&i.mp.co_j.c<200)||(s=parseInt(t),isNaN(s)&&(s=0),s<0||(i.mp.j_jet_fuel=s,0)))},this.equipJet=function(t){return this.setJetFuel(t)},this.restart=function(){return i.restart()},this.getValue=function(t){return i.th_jm<=0?i.tdb.getValue(t):null},this.getParamValue=function(t){return i.th_jm<=0?i.tdb.getValue(t):null},this.setValue=function(t,s){return i.th_jm<=0&&i.tdb.setValue(t,s)},this.setParamValue=function(t,s){return i.th_jm<=0&&i.tdb.setValue(t,s)},this.getMyXReal=function(){return this.getMode()>=100&&this.getMode()<200&&i.mp.co_j.c>=100&&i.mp.co_j.c<200?i.mp.co_j.x:-1},this.getMyYReal=function(){return this.getMode()>=100&&this.getMode()<200&&i.mp.co_j.c>=100&&i.mp.co_j.c<200?i.mp.co_j.y:-1},this.setMyXReal=function(t){var s;return this.getMode()>=100&&this.getMode()<200&&i.mp.co_j.c>=100&&i.mp.co_j.c<200&&(s=parseInt(t),isNaN(s)&&(s=-9999),s<0&&(s=0),i.mp.co_j.x=s,!0)},this.setMyYReal=function(t){var s;return this.getMode()>=100&&this.getMode()<200&&i.mp.co_j.c>=100&&i.mp.co_j.c<200&&(s=parseInt(t),isNaN(s)&&(s=-9999),s<0&&(s=0),i.mp.co_j.y=s,!0)},this.getMyVX=function(){return this.getMode()>=100&&this.getMode()<200&&i.mp.co_j.c>=100&&i.mp.co_j.c<200?i.mp.co_j.vx:-9999},this.getMyVY=function(){return this.getMode()>=100&&this.getMode()<200&&i.mp.co_j.c>=100&&i.mp.co_j.c<200?i.mp.co_j.vy:-9999},this.getViewXReal=function(){return this.getMode()>=100&&this.getMode()<200?i.mp.maps.wx:-1},this.getViewYReal=function(){return this.getMode()>=100&&this.getMode()<200?i.mp.maps.wy:-1},this.getEnemyTotal=function(){if(this.getMode()>=100&&this.getMode()<200){for(var t=0,s=0;s<=i.mp.t_kazu;s++)(i.mp.co_t[s].c>=100||10==i.mp.co_t[s].c)&&t++;return t}return-1},this.getBossXReal=function(){return this.getMode()>=100&&this.getMode()<200?i.mp.co_b.x:-1},this.getBossYReal=function(){return this.getMode()>=100&&this.getMode()<200?i.mp.co_b.y:-1},this.setMyMiss=function(t){var s;return this.getMode()>=100&&this.getMode()<200&&i.mp.co_j.c>=100&&i.mp.co_j.c<200&&(s=parseInt(t),isNaN(s)&&(s=1),(s<1||s>4)&&(s=1),i.mp.jShinu(s),!0)},this.setMyPress=function(t){var s;return this.getMode()>=100&&this.getMode()<200&&i.mp.co_j.c>=100&&i.mp.co_j.c<200&&(s=parseInt(t),isNaN(s)&&(s=1),i.mp.jFumu(s),!0)},this.playSound=function(t){return!!i.gs&&(s=parseInt(t),isNaN(s)&&(s=-1),s>=1&&s<=27&&(this.getMode()>=100&&this.getMode()<200?i.gs.rsAddSound(s-1):i.gs.play(s-1),!0));var s},this.setSound=function(t,s){return!!i.gs&&(h=parseInt(t),isNaN(h)&&(h=-1),h>=1&&h<=32&&(i.gs.setSound(h-1,s),!0));var h},this.setScrollLock=function(t){var s=!1;return this.getMode()>=100&&this.getMode()<200&&(s=i.mp.setScrollLock(t)),s},this.attackFire=function(t,s,h,e){var a=0;return this.getMode()>=100&&this.getMode()<200&&(a=i.mp.attackFire(t,s,h,e)),a},this.addScore=function(t){return!!i.mp&&(s=parseInt(t),isNaN(s)&&(s=0),s>=1&&(i.mp.addScore(s),!0));var s},this.setPenColor=function(t,s,h,e){return void 0===e&&(e="255"),!i.mp||i.mp.setPenColor(t,s,h,e)},this.showRect=function(t,s,h,e,a){return!!i.mp&&i.mp.showrSet(t,s,h,e,a)},this.showOval=function(t,s,h,e,a){return!!i.mp&&i.mp.showoSet(t,s,h,e,a)},this.getJSMes=function(){return i.mp?i.mp.getJSMes():-1},this.showGauge=function(t,s){return!!i.mp&&i.mp.showGauge(t,s)},this.hideGauge=function(){return!!i.mp&&i.mp.hideGauge()},this.setJSMes=function(t){return!!i.mp&&(i.mp.setJSMes(t),!0)},this.setTitleLock=function(){return!!i.mp&&(i.mp.title_lock_f=!0,!0)},this.startGame=function(){return!!i.mp&&(i.mp.start_game_f=!0,!0)},this.equipGrenade=function(t){var s;return this.getMode()>=100&&this.getMode()<200&&i.mp.co_j.c>=100&&i.mp.co_j.c<200&&(s=parseInt(t),isNaN(s)&&(s=-1),!(s<0||(i.mp.j_gr_kazu=s,0)))},this.setSystemImage=function(t,s){return!!i.mp&&i.mp.setSystemImage(t,s)},this.setModeWait=function(t,s){return!!i.mp&&i.mp.setModeWait(t,s)},this.showMyHP=function(t){return!!i.mp&&i.mp.showMyHP(t)},this.setMyMaxHP=function(t){return!!i.mp&&i.mp.setMyMaxHP(t)},this.setMyHP=function(t){return!!i.mp&&i.mp.setMyHP(t)},this.getMyHP=function(){return i.mp?i.mp.getMyHP():0},this.setMyHPDamage=function(t){return!!i.mp&&i.mp.setMyHPDamage(t)},this.setMyWait=function(t,s,h){return i.mp.setMyWait(t,s,h)},this.setStageClear=function(){return!!i.mp&&i.mp.setStageClear()},this.setFireRange=function(t){var s;return!(!i.mp||(s=parseInt(t),isNaN(s)&&(s=0),s<=0||(i.mp.j_fire_range=s,0)))},this.equipTail=function(t){if(this.getMode()>=100&&this.getMode()<200){var s;if(s=parseInt(t),isNaN(s)&&(s=-1),s<0)return!1;if(0==s)return i.mp.j_tail_f=!1,!0;if(1==s)return i.mp.j_tail_f=!0,!0}return!1},this.attackTail=function(t,s,h,e){var a=0;return this.getMode()>=100&&this.getMode()<200&&(a=i.mp.attackTail(t,s,h,e)),a},this.destroyEnemy=function(t,s,h,e){var a=-1;return this.getMode()>=100&&this.getMode()<200&&(a=i.mp.destroyEnemy(t,s,h,e)),a},this.isPressZKey=function(){return i.gk&&i.gk.z_f?1:0},this.isPressXKey=function(){return i.gk&&i.gk.x_f?1:0},this.isPressSpaceKey=function(){return i.gk&&i.gk.space_f?1:0},this.getMyDirection=function(){return this.getMode()>=100&&this.getMode()<200?15==i.mp.j_tokugi?i.mp.j_4_muki:i.mp.co_j.muki:-1},this.setMyDirection=function(t){if(this.getMode()>=100&&this.getMode()<200&&i.mp.co_j.c>=100&&i.mp.co_j.c<200){var s=parseInt(t);if(isNaN(s)&&(s=-1),s<0)return!1;if(15==i.mp.j_tokugi){if(s>3)return!1;i.mp.j_4_muki=s}else{if(s>1)return!1;i.mp.co_j.muki=s}return!0}return!1},this.setHTMLText=function(t){return!1},this.newYuka=function(t,s,h,e,a){return i.mp?i.mp.newYuka(t,s,h,e,a):-1},this.setYukaPosition=function(t,s,h,e,a){return!!i.mp&&(void 0===e?i.mp.setYukaPosition(t,s,h):i.mp.setYukaPosition(t,s,h,e,a))},this.setYukaType=function(t,s){return!!i.mp&&i.mp.setYukaType(t,s)},this.disposeYuka=function(t){return!!i.mp&&i.mp.disposeYuka(t)},this.setYukaColor=function(t,s,h,e,a){return!!i.mp&&i.mp.setYukaColor(t,s,h,e,a)},this.isRideYuka=function(t){return i.mp?i.mp.isRideYuka(t):-1},this.setMyVX=function(t){var s;return this.getMode()>=100&&this.getMode()<200&&i.mp.co_j.c>=100&&i.mp.co_j.c<200&&(s=parseInt(t),isNaN(s)&&(s=-9999),-9999!=s&&(i.mp.co_j.vx=s,!0))},this.setMyVY=function(t){var s;return this.getMode()>=100&&this.getMode()<200&&i.mp.co_j.c>=100&&i.mp.co_j.c<200&&(s=parseInt(t),isNaN(s)&&(s=-9999),-9999!=s&&(i.mp.co_j.vy=s,!0))},this.isRideGround=function(){return i.mp?i.mp.isRideGround():-1},this.setYukaPattern=function(t,s,h){return!!i.mp&&i.mp.setYukaPattern(t,s,h)},this.setYukaImage=function(t,s){return!!i.mp&&i.mp.setYukaImage(t,s)},this.setMySpeed=function(t){var s;return this.getMode()>=100&&this.getMode()<200&&i.mp.co_j.c>=100&&i.mp.co_j.c<200&&(s=parseInt(t),isNaN(s)&&(s=-1),!(s<0||s>16||14!=i.mp.j_tokugi&&15!=i.mp.j_tokugi||(i.mp.j_speed=10*s,0)))},this.setScrollArea=function(t,s,h,e){return!!i.mp&&i.mp.setScrollArea(t,s,h,e)},this.loadTextFile=function(t){return null},this.isPressUpKey=function(){return i.gk&&i.gk.up_f?1:0},this.isPressDownKey=function(){return i.gk&&i.gk.down_f?1:0},this.isPressLeftKey=function(){return i.gk&&i.gk.left_f?1:0},this.isPressRightKey=function(){return i.gk&&i.gk.right_f?1:0},this.newImageOnLoad=function(t){var s=new T;return s.load(t),i.pushMessage("load",s),s},this.setSystemDrawMode=function(t){var s;return!(!i.mp||(s=parseInt(t),isNaN(s)&&(s=-1),s<1||s>4||(i.mp.system_draw_mode=s,0)))},this.drawSystemObject=function(t){if(i.mp){if(100!=i.mp.ml_mode)return!1;if(i.mp.dso_cf)return!1;var s;if(s=parseInt(t),isNaN(s)&&(s=-1),1==s)return i.mp.drawGamescreenMy(),!0;if(2==s)return i.mp.drawGamescreenEnemy(),!0;if(3==s)return i.mp.drawGamescreenWindow(),i.mp.drawScore(),!0;if(4==s)return i.mp.maps.drawMapLayer(i.mp.maps.wx,i.mp.maps.wy,i.mp.g_ac2,i.mp.gazou_scroll,2),!0;if(5==s)return 2==i.gg.layer_mode&&i.mp.maps.drawMapLayer(i.mp.maps.wx,i.mp.maps.wy,i.mp.g_ac2,i.mp.gazou_scroll,3),!0;if(6==s)return i.mp.maps.drawMapLayer(i.mp.maps.wx,i.mp.maps.wy,i.mp.g_ac2,i.mp.gazou_scroll,4),!0;if(7==s)return i.mp.drawGamescreenUgokuyuka(),!0}return!1},this.getMyObjectCondition=function(){return i.mp?i.mp.co_j.c:0},this.getMyObjectAC=function(){return i.mp?i.mp.co_j.ac:0},this.getMyObjectPattern=function(){return i.mp?i.mp.co_j.pt:0},this.getMyDirection4way=function(){return this.getMode()>=100&&this.getMode()<200?15==i.mp.j_tokugi?i.mp.j_4_muki:2==i.mp.co_j.direction||3==i.mp.co_j.direction?i.mp.co_j.direction:i.mp.co_j.muki:-1},this.setMyObjectPattern=function(t){var s;return!!i.mp&&(s=parseInt(t),isNaN(s)&&(s=-1),s>=0&&s<=249&&(i.mp.co_j.pt=s,!0))},this.setMyObjectImage=function(t,s,h){var e,a;return!!i.mp&&(e=parseInt(s),a=parseInt(h),(isNaN(e)||isNaN(a))&&(e=0,a=0),i.mp.co_j.img=t,i.mp.co_j.zs_x=e,i.mp.co_j.zs_y=a,!0)},this.setEnemyObjectPattern=function(t,s){var h,e=0;return!!i.mp&&(h=parseInt(t),e=parseInt(s),(isNaN(h)||isNaN(e))&&(h=-1),!(h<0||h>i.mp.t_kazu)&&e>=0&&e<=249&&(i.mp.co_t[h].pt=e,!0))},this.getEnemyObjectCondition=function(t){var s;return i.mp?(s=parseInt(t),isNaN(s)&&(s=-1),s<0||s>i.mp.t_kazu?0:i.mp.co_t[s].c):0},this.getEnemyObjectPattern=function(t){var s;return i.mp?(s=parseInt(t),isNaN(s)&&(s=-1),s<0||s>i.mp.t_kazu?0:i.mp.co_t[s].pt):0},this.getEnemyObjectX=function(t){var s;return i.mp?(s=parseInt(t),isNaN(s)&&(s=-1),s<0||s>i.mp.t_kazu?0:i.mp.co_t[s].x):0},this.getEnemyObjectY=function(t){var s;return i.mp?(s=parseInt(t),isNaN(s)&&(s=-1),s<0||s>i.mp.t_kazu?0:i.mp.co_t[s].y):0},this.getEnemyObjectLength=function(){return i.mp?i.mp.t_kazu+1:0},this.getEnemyObjectDirection=function(t){if(i.mp){var s;if(s=parseInt(t),isNaN(s)&&(s=-1),s<0||s>i.mp.t_kazu)return 0;var h=i.mp.co_t[s].c;return h>=1400&&h<1500||h>=1200&&h<=1230?i.mp.co_t[s].direction:i.mp.co_t[s].pth}return 0},this.setEnemyObjectImage=function(t,s,h,e){var a,c=0,o=0;return!!i.mp&&(a=parseInt(t),c=parseInt(h),o=parseInt(e),(isNaN(a)||isNaN(c)||isNaN(o))&&(a=-1),a<0||a>i.mp.t_kazu||(i.mp.co_t[a].img=s,i.mp.co_t[a].zs_x=c,i.mp.co_t[a].zs_y=o),!1)},this.getEnemyAC=function(){return i.mp?i.mp.g_c2:0},this.newChipImage=function(t,s,h,e,a){var c,o,_,r,n,m=-1;if(m=parseInt(s),c=parseInt(h),o=parseInt(e),_=parseInt(a),(isNaN(m)||isNaN(c)||isNaN(o)||isNaN(_))&&(m=-1),m<0)return-1;for(n=0;n<=31&&this.oci[n];n++);if(n>31)return-1;r=n;var p=this.newImageOnLoad(t),g=new vi(m,c,o,_,p);return this.oci[r]=g,i.pushMessage("makeChipImage",p,{chipimage:g}),r},this.makeReverseChipImage=function(t){var s=0;if(s=parseInt(t),isNaN(s)&&(s=-1),s<0)return!1;var h=this.oci[s];return null!==h&&(h.createImageBuffer(1),h.createImageBuffer(2),h.createImageBuffer(3),i.pushMessage("makeReverseChipImage",h.ai_img,{chipimage:h}),!0)},this.getChipImage=function(t,i,s){var h,e=0,a=0;if(i||(i="0"),s||(s="0"),e=parseInt(t),h=parseInt(i),a=parseInt(s),(isNaN(e)||isNaN(h)||isNaN(a))&&(e=-1),e<0)return null;if(h<0)return null;var c=this.oci[e];return null===c?null:((a<0||a>3)&&(a=0),c.getChipImage(h,a))},this.disposeChipImage=function(t){var i=0;return i=parseInt(t),isNaN(i)&&(i=-1),!(i<0||(this.oci[i]=null,0))},this.setScrollAreaReal=function(t,s,h,e){return!!i.mp&&i.mp.setScrollAreaReal(t,s,h,e)},this.isPressCodeKey=function(t){var s;return i.gk?(s=parseInt(t),isNaN(s)&&(s=-1),s<0||s>255?0:i.gk.codekey_f[s]?1:0):0},this.playBGM=function(t){return!!i.gs&&i.gs.playUserBGMFile(t)},this.playBGMLoop=function(t){return!!i.gs&&i.gs.playUserBGMFileLoop(t)},this.stopBGM=function(){return!!i.gs&&(i.gs.stopBGM(),!0)},this.getBossHP=function(){return i.mp?i.mp.getBossHP():0},this.setBossHP=function(t){var s=parseInt(t);return!isNaN(s)&&!!i.mp&&i.mp.setBossHP(s)},this.getBossDirection=function(){return i.mp?i.mp.getBossDirection():0},this.isBossAttackMode=function(){return i.mp?i.mp.isBossAttackMode():0},this.setBossXReal=function(t){var s;return!!i.mp&&(s=parseInt(t),isNaN(s)&&(s=-9999),!(s<0)&&i.mp.setBossXReal(s))},this.setBossYReal=function(t){var s;return!!i.mp&&(s=parseInt(t),isNaN(s)&&(s=-9999),!(s<0)&&i.mp.setBossYReal(s))},this.setBossObjectImage=function(t,s,h){var e,a;return!!i.mp&&(e=parseInt(s),a=parseInt(h),(isNaN(e)||isNaN(a))&&(e=0,a=0),i.mp.co_b.img=t,i.mp.co_b.zs_x=e,i.mp.co_b.zs_y=a,!0)},this.setSystemPattern=function(t,s){var h,e=1;return!(!i.mp||(h=parseInt(t),e=parseInt(s),(isNaN(h)||isNaN(e))&&(h=-1),h<1||h>249||e<1||e>249||(i.mp.hih[0][h]=i.mp.hih[0][e],i.mp.hih[1][h]=i.mp.hih[1][e],i.mp.setmapc_f=!0,0)))},this.setSystemPatternImage=function(t,s,h){var e,a=0;return!(!i.mp||(e=parseInt(t),a=parseInt(s),(isNaN(e)||isNaN(a))&&(e=-1),e<1||e>249||((a<0||a>1)&&(a=0),i.mp.hih[a][e]=h,i.mp.setmapc_f=!0,0)))},this.setFontSize=function(t){var s;return!(!i.gg||(s=parseInt(t),isNaN(s)&&(s=-1),s<=0||(i.gg.os_g.setFont(new D(D.DIALOG,0,s)),0)))},this.newFont=function(t,i,s){var h,e=0;return e=parseInt(i),h=parseInt(s),(isNaN(h)||isNaN(e))&&(h=-1),new D(t,e=1==e?1:2==e?2:0,h)},this.getCoinCount=function(t,s,h,e){if(0===arguments.length)return i.mp?i.mp.getCoinCount(0,0,i.mp.mapWidth-1,i.mp.mapHeight-1):-1;var a,c=0,o=0,_=0;return 0===arguments.length&&(t="0",s="0",h=i.mp.mapWidth-1,e=i.mp.mapHeight-1),i.mp?(a=parseInt(t),c=parseInt(s),o=parseInt(h),_=parseInt(e),(isNaN(a)||isNaN(c)||isNaN(o)||isNaN(_))&&(a=-1),a<0?-1:i.mp.getCoinCount(a,c,o,_)):-1},this.addMyTokugi=function(t){var s;return this.getMode()>=100&&this.getMode()<200&&(s=parseInt(t),isNaN(s)&&(s=-1),!(s<0)&&i.mp.addMyTokugi(s))},this.removeMyTokugi=function(t){var s;return this.getMode()>=100&&this.getMode()<200&&(s=parseInt(t),isNaN(s)&&(s=-1),!(s<0)&&i.mp.removeMyTokugi(s))},this.setScore=function(t){var s;return!!i.mp&&(s=parseInt(t),isNaN(s)&&(s=0),i.mp.score=s,i.mp.addScore(0),!0)},this.getBarrierTime=function(){return i.mp&&100==i.mp.ml_mode&&i.mp.co_j.c>=100&&i.mp.co_j.c<200?i.mp.j_v_c:-1},this.getTimeLimit=function(){return i.mp&&i.mp.time_max>0&&100==i.mp.ml_mode?Math.floor(i.mp.time/1e3):-1},this.setTimeLimit=function(t){var s;return!(!(i.mp&&i.mp.time_max>0)||(s=parseInt(t),isNaN(s)&&(s=-1),s<0||(i.mp.time=1e3*s+1e3-70,0)))},this.setAthletic=function(t,s,h){var e=0,a=0;if(this.getMode()>=100&&this.getMode()<200){var c;if(e=parseInt(t),a=parseInt(s),c=parseInt(h),(isNaN(e)||isNaN(a)||isNaN(c))&&(c=-1),c<0)return!1;e<0&&(e=0),e>=i.mp.mapWidth&&(e=i.mp.mapWidth-1),a<0&&(a=0),a>=i.mp.mapHeight&&(a=i.mp.mapHeight-1),e++,a+=10;var o=0;if(4==i.mp.maps.map_bg[e-1][a]&&(o=4),c>=2){var _=i.mp.setAthleticOnMap(c,e,a);-99==_?(i.mp.aSet(32*e+16,32*a+16,70,32*e),o=50):o=_}else i.mp.aSet(32*e+16,32*a+16,70,32*e),o=50;return i.mp.maps.map_bg[e][a]=o,i.mp.setmapc_f=!0,!0}return!1},this.setSecondImage=function(t){if(this.getMode()>=100&&this.getMode()<200){var s=i.gg.loadImage(t);return i.mp.second_gazou_img=s,!0}return!1},this.setGrenadeCount=function(t){var s;return this.getMode()>=100&&this.getMode()<200&&i.mp.co_j.c>=100&&i.mp.co_j.c<200&&(s=parseInt(t),isNaN(s)&&(s=-1),!(s<0||(i.mp.j_gr_kazu=s,0)))},this.setMyLeft=function(t){var s;return this.getMode()>=100&&this.getMode()<200&&(s=parseInt(t),isNaN(s)&&(s=-1),!(s<0||(i.mp.j_left=s,0)))},this.getGrenadeCount=function(){var t=0;return this.getMode()>=100&&this.getMode()<200&&i.mp.co_j.c>=100&&i.mp.co_j.c<200?((t=i.mp.j_gr_kazu)<0&&(t=0),t):t},this.getMyLeft=function(){var t=-1;return this.getMode()>=100&&this.getMode()<200?t=i.mp.j_left:t},this.setEnemyPress=function(t){var s;return this.getMode()>=100&&this.getMode()<200&&(s=parseInt(t),isNaN(s)&&(s=-1),!(s<0||((s<1||s>3)&&(s=1),i.mp.j_enemy_press=s,0)))},this.drawPattern=function(t,s,h,e){var a,c=0,o=0,_=0;return!!i.gg&&(a=parseInt(t),c=parseInt(s),o=parseInt(h),_=parseInt(e),(isNaN(a)||isNaN(c)||isNaN(o)||isNaN(_))&&(a=-9999),-9999!=a&&((o<0||o>249)&&(o=0),(_<0||_>1)&&(_=0),i.gg.drawPattern(a,c,o,_),!0))},this.setOffscreenColor=function(t,s,h,e){var a,c=0,o=0,_=0;return!!i.gg&&(a=parseInt(t),c=parseInt(s),o=parseInt(h),_=parseInt(e),(isNaN(a)||isNaN(c)||isNaN(o)||isNaN(_))&&(a=-9999),-9999!=a&&(a<0&&(a=0),a>255&&(a=255),c<0&&(c=0),c>255&&(c=255),o<0&&(o=0),o>255&&(o=255),_<0&&(_=0),_>255&&(_=255),i.gg.os_g.setColor(new F(a,c,o,_)),!0))},this.drawImage=function(t,i,s){return!1},this.fillPolygon=function(t,s,h,e,a,c,o,_){var r,n;return!!i.gg&&(6==arguments.length?(r=new Array(3),n=new Array(3),r[0]=parseInt(t),n[0]=parseInt(s),r[1]=parseInt(h),n[1]=parseInt(e),r[2]=parseInt(a),n[2]=parseInt(c),(isNaN(r[0])||isNaN(n[0])||isNaN(r[1])||isNaN(n[1])||isNaN(r[2])||isNaN(n[2]))&&(r[0]=-9999),-9999!=r[0]&&(i.gg.os_g.fillPolygon(r,n,3),!0)):(r=new Array(3),n=new Array(3),r[0]=parseInt(t),n[0]=parseInt(s),r[1]=parseInt(h),n[1]=parseInt(e),r[2]=parseInt(a),n[2]=parseInt(c),r[3]=parseInt(o),n[3]=parseInt(_),(isNaN(r[0])||isNaN(n[0])||isNaN(r[1])||isNaN(n[1])||isNaN(r[2])||isNaN(n[2])||isNaN(r[3])||isNaN(n[3]))&&(r[0]=-9999),-9999!=r[0]&&(i.gg.os_g.fillPolygon(r,n,4),!0)))},this.drawImageRotate=function(t,s,h,e){var a=0,c=0;if(i.gg){var o;if(o=parseInt(s),a=parseInt(h),c=parseInt(e),(isNaN(o)||isNaN(a)||isNaN(c))&&(o=-9999),-9999==o)return!1;var _=i.gg.os_img.getGraphics();if(_){var r=o+t._width/2,n=a+t._height/2;return _.rotate(c*Math.PI/180,r,n),_.drawImage(t,o,a,this),_.dispose(),!0}return!1}return!1},this.drawImageScale=function(t,s,h,e,a){var c=0,o=100,_=100;if(i.gg){var r;if(r=parseInt(s),c=parseInt(h),o=parseInt(e),_=parseInt(a),(isNaN(r)||isNaN(c)||isNaN(o)||isNaN(_))&&(r=-9999),-9999==r)return!1;var n=i.gg.os_img.getGraphics();return!!n&&(n.translate(r,c),n.scale(o/100,_/100),n.drawImage(t,0,0,this),n.dispose(),!0)}return!1},this.drawImageAlphaComposite=function(t,s,h,e){var a=0,c=100;if(i.gg){var o;if(o=parseInt(s),a=parseInt(h),c=parseInt(e),(isNaN(o)||isNaN(a)||isNaN(c))&&(o=-9999),-9999==o)return!1;c<0?c=0:c>100&&(c=100);var _=i.gg.os_img.getGraphics();return!!_&&(_.setGlobalAlpha(c/100*255),_.drawImage(t,o,a,this),_.dispose(),!0)}return!1},this.isPaused=function(){return i.mp&&110==i.mp.ml_mode?1:0},this.pause=function(t){var s;if(i.mp){if(s=parseInt(t),isNaN(s)&&(s=-1),s<0||s>1)return!1;if(0==s&&110==i.mp.ml_mode)i.mp.ml_mode=100;else{if(1!=s||100!=i.mp.ml_mode)return!1;i.mp.ml_mode=110,i.mp.ml_mode_c=0}return!0}return!1},this.getRandomF=function(){return i.mp?i.mp.ranInt(2147483648)/2147483648:Math.random()},this.getRandom=function(t){return i.mp?i.mp.ranInt(t):Math.floor(Math.random()*t)},this.getJetFuel=function(){var t=0;return this.getMode()>=100&&this.getMode()<200&&i.mp.co_j.c>=100&&i.mp.co_j.c<200&&(t=i.mp.j_jet_fuel)<0&&(t=0),t},this.getKeyCount=function(t){var s=0;if(this.getMode()>=100&&this.getMode()<200&&i.mp.co_j.c>=100&&i.mp.co_j.c<200){var h=parseInt(t);isNaN(h)&&(s=0),1!==h&&2!==h||(s=i.mp.dkey_count[h-1])<0&&(s=0)}return s},this.setItem=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,h=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(i.mp){if(100!=i.mp.ml_mode)return!1;var e=!1,a=parseInt(t),c=parseInt(s),o=parseInt(h);if((isNaN(a)||isNaN(c)||isNaN(o))&&(o=0),o<=0)return!1;if(a<0||a>=i.mp.mapWidth||c<0||c>=i.mp.mapHeight)return!1;var _=32*(a+1),r=32*(c+10);switch(o){default:break;case 1:i.mp.setmapc(a,c,8),e=!0;break;case 2:i.mp.setmapc(a,c,9),e=!0;break;case 3:i.mp.mSet(_,r,2100),e=!0;break;case 4:i.mp.mSet(_,r,2110),e=!0;break;case 5:i.mp.mSet(_,r,2120),e=!0;break;case 6:i.mp.mSet(_,r,2130),e=!0;break;case 7:i.mp.mSet(_,r,2140),e=!0;break;case 8:i.mp.mSet(_,r,2150),e=!0;break;case 9:i.mp.mSet(_,r,2160),e=!0;break;case 10:i.mp.mSet(_,r,2170),e=!0;break;case 11:i.mp.mSet(_,r,2180),e=!0;break;case 12:i.mp.mSet(_,r,2181),e=!0;break;case 13:i.mp.mSet(_,r,2182),e=!0;break;case 14:i.mp.mSet(_,r,2185),e=!0;break;case 15:i.mp.mSet(_,r,2186),e=!0;break;case 16:i.mp.mSet(_,r,2187),e=!0;break;case 17:i.mp.mSet(_,r,2188),e=!0;break;case 18:i.mp.mSet(_,r,2171),e=!0;break;case 19:i.mp.mSet(_,r,2172),e=!0;break;case 20:i.mp.aSet(_,r,4600,_),e=!0;break;case 21:i.mp.aSet(_,r,4610,_),e=!0}return e}return!1},this.getVersion=function(){return null!=="v5.6.2"?"v5.6.2":""},this.setSystemColor=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,h=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,e=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:255;if(!i.mp)return!1;var c=parseInt(s),o=parseInt(h),_=parseInt(e),r=parseInt(a),n=parseInt(t);if((isNaN(c)||isNaN(o)||isNaN(_)||isNaN(r))&&(n=0),n<=0)return!1;var m=function(t){var i=t;return i<0&&(i=0),i>255&&(i=255),i};switch(c=m(c),o=m(o),_=m(_),r=m(r),n){default:return!1;case 1:return i.mp.gamecolor_back=new F(c,o,_),!0;case 2:return i.mp.gamecolor_back_s=new F(c,o,_),!0;case 3:return i.mp.gamecolor_back_t=new F(c,o,_),!0;case 4:return i.mp.gamecolor_back_f=new F(c,o,_),!0;case 5:return i.mp.gamecolor_kaishi=new F(c,o,_,r),!0;case 6:return i.mp.gamecolor_score=new F(c,o,_,r),!0;case 7:return i.mp.gamecolor_grenade1=new F(c,o,_,r),!0;case 8:return i.mp.gamecolor_grenade2=new F(c,o,_,r),!0;case 9:return i.mp.gamecolor_mizunohadou=new F(c,o,_,r),!0;case 10:return i.mp.gamecolor_firebar1=new F(c,o,_,r),!0;case 11:return i.mp.gamecolor_firebar2=new F(c,o,_,r),!0;case 12:return i.mp.gamecolor_message_back=new F(c,o,_,r),!0;case 13:return i.mp.gamecolor_message_border=new F(c,o,_,r),!0;case 14:return i.mp.gamecolor_message_name=new F(c,o,_,r),!0;case 15:return i.mp.gamecolor_message_text=new F(c,o,_,r),!0;case 16:return i.mp.gamecolor_gauge_border=new F(c,o,_,r),!0;case 17:return i.mp.gamecolor_gauge_back1=new F(c,o,_,r),!0;case 18:return i.mp.gamecolor_gauge_back2=new F(c,o,_,r),!0}},this.getPartsDefinition=function(t){var s=i.mp.customParts;return s&&s[t]?s[t]:5e3<=t&&t<1e4?i.mp.getEnemyDefinition(t-5e3):null},s&&"undefined"!=typeof Proxy){var e=Object.keys(this).filter((function(t){return"function"==typeof h[t]}));e.forEach((function(t){h[t.toLowerCase()]=h[t]}));var a=new Proxy(this,{get:function(t,i,s){return i in t?t[i]:"string"==typeof i?t[i.toLowerCase()]:t[i]}}),c=Object.create(a);return e.forEach((function(t){c[t]=h[t]})),c}}));function Mi(t){return Mi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mi(t)}function Ci(t,i){for(var s=0;s<i.length;s++){var h=i[s];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(t,Ii(h.key),h)}}function Ii(t){var i=function(t){if("object"!=Mi(t)||!t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var s=i.call(t,"string");if("object"!=Mi(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Mi(i)?i:i+""}var Bi=function(){return t=function t(){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.tag_kazu=0,this.options={},this.initParameter()},(i=[{key:"initParameter",value:function(){this.params={"chizu-0":"...................","chizu-1":".b33E33333c..C.....","chizu-2":"....2.....2..2.....","chizu-3":"....2.....2..2.....","chizu-4":"....A33a331331.....","chizu-5":".i.....2...........","chizu-6":".2.....2...........","chizu-7":".B33D3313f3d.......","chizu-8":"...................","chizu-9":"...................","chizu-10":"...................","chizu-11":"...................","chizu-12":"...................","chizu-13":"...................",mes1_name:"ダケシ","serifu1-1":"人の命は、お金では買えないと言われています。","serifu1-2":"しかし、お店へ行けば、ＳＣＯＲＥで買えます。","serifu1-3":"0","serifu2-1":"時は金なりと、言われています。しかし、","serifu2-2":"お店なら、時間も買えます。","serifu2-3":"店員さんて、グレートですね。",mes2_name:"エリコ","serifu3-1":"おはようございます。星と数字が付いた扉が、","serifu3-2":"ありますよね。あれは、ですねえ、その数だけ","serifu3-3":"人面星を取ると、開くので、ございます。","serifu4-1":"LAST STAGEというのは、最終面の事ですわ。","serifu4-2":"これをクリアーすると、エンディングに、","serifu4-3":"行けますのよ。がんばって下さいね。",shop_name:"店員さん","serifu5-1":"いらっしゃいませ。","serifu5-2":"当店では、ＳＣＯＲＥと、アイテムを、","serifu5-3":"交換いたします。","serifu8-1":"本日の営業は、終了いたしました。","serifu8-2":"またのご来店を、","serifu8-3":"こころより、お待ちしております。",shop_serifu1:"どれになさいますか？",shop_serifu2:"で、よろしいですか？",shop_serifu3:"はい",shop_serifu4:"いいえ",shop_serifu5:"を、装備した。",shop_serifu6:"ＳＣＯＲＥが、足りません。",shop_item_name1:"グレネード３発",shop_item_name2:"ジェット",shop_item_name3:"ドリル",shop_item_name4:"ヘルメット",shop_item_name5:"しっぽ",shop_item_name6:"バリア",shop_item_name7:"ファイヤーボール",shop_item_name8:"１ｕｐ",shop_item_name9:"制限時間増加",shop_item_teika1:"200",shop_item_teika2:"150",shop_item_teika3:"100",shop_item_teika4:"100",shop_item_teika5:"250",shop_item_teika6:"80",shop_item_teika7:"300",shop_item_teika8:"980",shop_item_teika9:"1",setumei_name:"キドはかせ","serifu9-1":"よく来た。わしは、キドはかせ。","serifu9-2":"アイテムの研究をしており、みんなから、","serifu9-3":"アイテムはかせと呼ばれて、したわれておるよ。",setumei_menu1:"なんでも、質問してくれたまえよ。",setumei_menu2:"ファイヤーボール",setumei_menu3:"バリア",setumei_menu4:"ジェット","serifu10-1":"黄色いチューリップのアイテムと言えば、","serifu10-2":"そう、ファイヤーボールじゃな。はなれた","serifu10-3":"敵を攻撃できるという、大変便利なものじゃ。","serifu11-1":"ピンクのキノコのアイテムと言えば、そう、","serifu11-2":"バリアじゃな。体当たりで敵を倒せるが、うっかり","serifu11-3":"して、時間切れを忘れぬよう、注意が必要じゃ。","serifu12-1":"ロケットの形のアイテムと言えば、そう、ジェット","serifu12-2":"じゃな。空中で、スペースキーを押せば、さらに","serifu12-3":"上昇できる。燃料切れには、気を付けるのじゃぞ。",door_score:"800",layer_mode:"1",filename_mapchip:"mapchip.gif",filename_haikei:"haikei.gif",filename_haikei2:"haikei.gif",filename_haikei3:"haikei.gif",filename_haikei4:"haikei.gif",gazou_scroll:"2",easy_mode:"1",now_loading:"ただいまファイルを読み込み中。しばらくお待ち下さい。",time_max:"300",scroll_mode:"1",scroll_mode_s:"1",scroll_mode_t:"1",scroll_mode_f:"1",score_v:"1",stage_max:"1",stage_kaishi:"1",jibun_left_shoki:"1",score_1up_1:"500",score_1up_2:"1000",stage_select:"1",j_tail_type:"1",j_tail_hf:"1",j_fire_mkf:"1",grenade_type:"1",suberuyuka_hkf:"1",dengeki_mkf:"1",yachamo_kf:"1",airms_kf:"1",ugokuyuka1_type:"1",ugokuyuka2_type:"1",ugokuyuka3_type:"1",boss_type:"1",boss2_type:"1",boss3_type:"1",url1:"http://www.yahoo.co.jp/",url2:"http://www.yahoo.co.jp/",url3:"http://www.yahoo.co.jp/",url4:"http://www.t3.rim.or.jp/~naoto/naoto.html",dokan_mode:"1",j_tokugi:"1",hitokoto1_name:"浩二","hitokoto1-1":"今日は、いい天気だね。","hitokoto1-2":"0","hitokoto1-3":"0",hitokoto2_name:"お姫様","hitokoto2-1":"ついに、ここまで来ましたね。","hitokoto2-2":"0","hitokoto2-3":"0",hitokoto3_name:"ザトシ","hitokoto3-1":"オレは、世界一になる男だ。","hitokoto3-2":"0","hitokoto3-3":"0",hitokoto4_name:"クリス","hitokoto4-1":"んちゃ！","hitokoto4-2":"0","hitokoto4-3":"0",backcolor_red:"0",backcolor_green:"255",backcolor_blue:"255",backcolor_red_s:"0",backcolor_green_s:"0",backcolor_blue_s:"0",backcolor_red_t:"0",backcolor_green_t:"255",backcolor_blue_t:"255",backcolor_red_f:"192",backcolor_green_f:"48",backcolor_blue_f:"48",kaishi_red:"0",kaishi_green:"0",kaishi_blue:"0",scorecolor_red:"0",scorecolor_green:"0",scorecolor_blue:"255",grenade_red1:"255",grenade_green1:"255",grenade_blue1:"255",grenade_red2:"255",grenade_green2:"255",grenade_blue2:"0",mizunohadou_red:"0",mizunohadou_green:"32",mizunohadou_blue:"255",firebar_red1:"255",firebar_green1:"0",firebar_blue1:"0",firebar_red2:"255",firebar_green2:"192",firebar_blue2:"0",moji_score:"SCORE",moji_highscore:"HIGHSCORE",moji_time:"TIME",moji_jet:"JET",moji_grenade:"GRENADE",moji_left:"LEFT",moji_size:"14",filename_title:"title.gif",filename_ending:"ending.gif",filename_gameover:"gameover.gif",filename_pattern:"pattern.gif",filename_chizu:"chizu.gif",game_speed:"70",se_switch:"2",se_filename:"2",filename_se_start:"item.au",filename_se_gameover:"gameover.au",filename_se_clear:"clear.au",filename_se_coin:"coin.au",filename_se_get:"get.au",filename_se_item:"item.au",filename_se_jump:"jump.au",filename_se_sjump:"sjump.au",filename_se_kiki:"kiki.au",filename_se_fumu:"fumu.au",filename_se_tobasu:"tobasu.au",filename_se_fireball:"shot.au",filename_se_jet:"mgan.au",filename_se_miss:"dosun.au",filename_se_block:"bakuhatu.au",filename_se_mizu:"mizu.au",filename_se_dengeki:"mgan.au",filename_se_happa:"happa.au",filename_se_hinoko:"mgan.au",filename_se_mizudeppo:"happa.au",filename_se_bomb:"shot.au",filename_se_dosun:"dosun.au",filename_se_grounder:"mgan.au",filename_se_kaiole:"happa.au",filename_se_senkuuza:"shot.au",filename_se_dokan:"get.au",filename_se_chizugamen:"get.au",scroll_area:"1",clear_type:"1",fx_bgm_switch:"0",fx_bgm_loop:"0",filename_fx_bgm_stage1:"stage1.mid",filename_fx_bgm_stage2:"stage2.mid",filename_fx_bgm_stage3:"stage3.mid",filename_fx_bgm_stage4:"stage4.mid",filename_fx_bgm_boss:"boss.mid",filename_fx_bgm_title:"title.mid",filename_fx_bgm_ending:"ending.mid",filename_fx_bgm_chizu:"chizu.mid",variable_sleep_time:"1",sleep_time_visible:"0",firebar1_type:"1",firebar2_type:"1",dossunsun_type:"1",mizutaro_attack:"1",poppie_attack:"1",mariri_attack:"1",chikorin_attack:"1",taiking_attack:"1",kuragesso_attack:"1",gazou_scroll_speed_x:"0",gazou_scroll_speed_y:"0",mcs_haikei_visible:"0",pause_switch:"1",control_parts_visible:"1",coin1_type:"1",coin3_type:"1",dokan1_type:"1",dokan2_type:"1",dokan3_type:"1",dokan4_type:"1",view_move_type:"1",j_fire_equip:"1",j_fire_type:"1",j_enemy_press:"1",boss_destroy_type:"1",boss_hp_max:"20",j_tail_ap_boss:"4",boss_name:"BOSS",boss2_name:"BOSS",boss3_name:"BOSS",fs_name:"ファイヤーボールセレクトの人","serifu7-1":"好きなファイヤーボールを、３種類から","serifu7-2":"選んで下さい。私はサービスが良いので、","serifu7-3":"何度でも選べますよ。",fs_serifu1:"どのファイヤーボールにしますか？",fs_item_name1:"バウンド",fs_item_name2:"ストレート",fs_item_name3:"ダブル",fs_serifu2:"を装備しました。",j_add_tokugi:"1",j_add_tokugi2:"1",j_add_tokugi3:"1",j_add_tokugi4:"1",second_gazou_visible:"1",filename_second_haikei:"haikei_second.gif",filename_second_haikei2:"haikei_second.gif",filename_second_haikei3:"haikei_second.gif",filename_second_haikei4:"haikei_second.gif",second_gazou_scroll:"1",second_gazou_scroll_speed_x:"0",second_gazou_scroll_speed_y:"0",second_gazou_scroll_x:"0",second_gazou_scroll_y:"0",second_gazou_priority:"1",gazou_scroll_x:"0",gazou_scroll_y:"0",serifu_key1_on_name:"お姫様","serifu_key1_on-1":"ここから先へ進むには、","serifu_key1_on-2":"３つのＫＥＹ１が必要です。","serifu_key1_on-3":"この世界のどこかに、あるはず。","serifu_key1_on-4":"ＫＥＹ１を３つ、わたしますか？","serifu_key1_on-5":"はい","serifu_key1_on-6":"いいえ","serifu_key1_on-7":"ＫＥＹ１を３つ、持っていません。","serifu_key1_on-8":"先へ進む道が、開けました。","serifu_key1_on-9":"勇者殿、","serifu_key1_on-10":"お気を付けて。",key1_on_count:"3",serifu_key2_on_name:"ザトシ","serifu_key2_on-1":"３つのＫＥＹ２がないと、","serifu_key2_on-2":"ここから先へは進めないぜ。","serifu_key2_on-3":"どこかで見つ付けてくれ。","serifu_key2_on-4":"ＫＥＹ２を３つ、わたしますか？","serifu_key2_on-5":"はい","serifu_key2_on-6":"いいえ","serifu_key2_on-7":"ＫＥＹ２を３つ、持っていません。","serifu_key2_on-8":"３つのＫＥＹ２、受け取ったぜ。","serifu_key2_on-9":"これで、先へ進めるようになったな。","serifu_key2_on-10":"0",key2_on_count:"3",water_visible:"1",water_clear_switch:"1",water_clear_level:"128",serifu_grenade_shop_name:"クリス","serifu_grenade_shop-1":"グレネード１発を、","serifu_grenade_shop-2":"２０点で売りますよ。","serifu_grenade_shop-3":"0","serifu_grenade_shop-4":"何発にしますか？","serifu_grenade_shop-5":"得点が、足りません。","serifu_grenade_shop-6":"グレネードを手に入れた。",grenade_shop_score:"20",audio_se_switch_wave:"1",audio_se_switch_mp3:"1",audio_se_switch_ogg:"1",audio_bgm_switch_wave:"2",audio_bgm_switch_mp3:"1",audio_bgm_switch_ogg:"1",font_score:"Helvetica,Arial,ＭＳ ゴシック,HG ゴシックB Sun,HG ゴシックB,monospace",font_message:"Helvetica,Arial,ＭＳ ゴシック,HG ゴシックB Sun,HG ゴシックB,monospace",mcs_screen_size:"2",message_back_red:"0",message_back_green:"0",message_back_blue:"0",message_border_red:"255",message_border_green:"255",message_border_blue:"255",message_name_red:"0",message_name_green:"255",message_name_blue:"255",message_text_red:"255",message_text_green:"255",message_text_blue:"255",gauge_border_red:"255",gauge_border_green:"255",gauge_border_blue:"255",gauge_back_red1:"255",gauge_back_green1:"255",gauge_back_blue1:"0",gauge_back_red2:"255",gauge_back_green2:"0",gauge_back_blue2:"0",boss_destroy:"1"};for(var t,i,s="",h=0;h<=59;h++)s+="..";for(var e=0;e<=2;e++)for(t=0;t<=29;t++)i="map".concat(e,"-").concat(t),this.params[i]=".";for(e=0;e<=2;e++)for(t=0;t<=29;t++)i="map".concat(e,"-").concat(t,"-s"),this.params[i]=".";for(e=0;e<=2;e++)for(t=0;t<=29;t++)i="map".concat(e,"-").concat(t,"-t"),this.params[i]=".";for(e=0;e<=2;e++)for(t=0;t<=29;t++)i="map".concat(e,"-").concat(t,"-f"),this.params[i]=".";for(e=0;e<=2;e++)for(t=0;t<=29;t++)i="layer".concat(e,"-").concat(t),this.params[i]=s;for(e=0;e<=2;e++)for(t=0;t<=29;t++)i="layer".concat(e,"-").concat(t,"-s"),this.params[i]=s;for(e=0;e<=2;e++)for(t=0;t<=29;t++)i="layer".concat(e,"-").concat(t,"-t"),this.params[i]=s;for(e=0;e<=2;e++)for(t=0;t<=29;t++)i="layer".concat(e,"-").concat(t,"-f"),this.params[i]=s;this.tag_kazu=Object.keys(this.params).length}},{key:"getValue",value:function(t){var i=this.params[t];return void 0!==i?i:(console.warn("Error : No param "+t),null)}},{key:"getValueInt",value:function(t){var i,s=this.params[t];return void 0!==s?(i=parseInt(s),isNaN(i)&&(i=-1),i):(console.warn("Error : No param "+t),-1)}},{key:"setValue",value:function(t,i){return this.params[t]=i,!0}},{key:"setValueFromHTML",value:function(t){for(var i in this.params){var s=t.getParameter(i);null!=s&&(this.params[i]=s)}return!0}},{key:"setValueStage1",value:function(){this.params["map0-0"]="............................................................",this.params["map0-1"]="............................................................",this.params["map0-2"]="............................................................",this.params["map0-3"]="............................................................",this.params["map0-4"]="............................................................",this.params["map0-5"]="............................................................",this.params["map0-6"]="............................................................",this.params["map0-7"]="............................................................",this.params["map0-8"]="............................................................",this.params["map0-9"]="............................................................",this.params["map0-10"]="............................................................",this.params["map0-11"]="............................................................",this.params["map0-12"]="............................................999.............",this.params["map0-13"]="............................................999.............",this.params["map0-14"]="............................................................",this.params["map0-15"]="............................................aaa.............",this.params["map0-16"]="............................................................",this.params["map0-17"]="............................................................",this.params["map0-18"]="...............................99...........................",this.params["map0-19"]="............................................................",this.params["map0-20"]="............................................................",this.params["map0-21"]="............................................................",this.params["map0-22"]="...12...............12.....9.9...aaa.....aa.aaaaaaaa...12...",this.params["map0-23"]=".............B............aaaaa..............9.aaaaa........",this.params["map0-24"]=".........aaaaa..........................B...aaaaaaaa........",this.params["map0-25"]="....9.9.............................aaaaa...9.9aa999........",this.params["map0-26"]="....aaa...............B.............9.9.9...aaaaaaaa........",this.params["map0-27"]="...........aaaaaa..aaaaaa....................9.aaaaa........",this.params["map0-28"]=".A........aaaaaaa..aaaaaa............D......aaaaaaaa........",this.params["map0-29"]="bbbbbbbbbbbbbbbbb..bbbbbb.bbbbbbbbbbbbbbbbbbbbbbbbbb5bbbbbb.",this.params["map1-0"]="............................................................",this.params["map1-1"]="............................................................",this.params["map1-2"]="............................................................",this.params["map1-3"]="............................................................",this.params["map1-4"]="............................................................",this.params["map1-5"]="............................................................",this.params["map1-6"]="............................................................",this.params["map1-7"]="............................................................",this.params["map1-8"]="............................................................",this.params["map1-9"]="............................................................",this.params["map1-10"]="............................................................",this.params["map1-11"]="............................................................",this.params["map1-12"]="............................................................",this.params["map1-13"]="............................................................",this.params["map1-14"]="............................................................",this.params["map1-15"]="............................................................",this.params["map1-16"]="............................................................",this.params["map1-17"]="............................................................",this.params["map1-18"]="............................................................",this.params["map1-19"]="............................................................",this.params["map1-20"]="............................................................",this.params["map1-21"]="............................................................",this.params["map1-22"]="...12....12.....12.....12....12....12.......................",this.params["map1-23"]="............................................................",this.params["map1-24"]="............................................................",this.params["map1-25"]="...................O........................................",this.params["map1-26"]=".................aaaa...................feef................",this.params["map1-27"]=".............aaaaaaaaaaa................e..e..............E.",this.params["map1-28"]="..........O..aaaaaaaaaaa.O.....O........feefeef..feeeefeeeef",this.params["map1-29"]="..bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb.......e..e..e..e....e....e",this.params["map2-0"]="............................................................",this.params["map2-1"]="............................................................",this.params["map2-2"]="............................................................",this.params["map2-3"]="............................................................",this.params["map2-4"]="............................................................",this.params["map2-5"]="............................................................",this.params["map2-6"]="............................................................",this.params["map2-7"]="............................................................",this.params["map2-8"]="............................................................",this.params["map2-9"]="............................................................",this.params["map2-10"]="............................................................",this.params["map2-11"]="............................................................",this.params["map2-12"]="............................................................",this.params["map2-13"]="............................................................",this.params["map2-14"]="............................................................",this.params["map2-15"]="............................................................",this.params["map2-16"]="............................................................",this.params["map2-17"]="............................................................",this.params["map2-18"]="............................................................",this.params["map2-19"]="............................................................",this.params["map2-20"]="............................................................",this.params["map2-21"]="........................................................8...",this.params["map2-22"]="..................99........12.....12....12....12.......a...",this.params["map2-23"]="..................dd...................................aaa..",this.params["map2-24"]="..e.ef...................9.9.9.9......................aaaaa.",this.params["map2-25"]="..e..e.............................................F.aaaaaaa",this.params["map2-26"]="..e..e.......E..............................aaaaaaaaaaaaaaaa",this.params["map2-27"]="..e..e.feeefeeef..99...................F....aaaaaaaaaaaaaaaa",this.params["map2-28"]="..feef.e...e...e..dd...aaaaaaaaaaaaaaaaaaa..aaaaaaaaaaaaaaaa",this.params["map2-29"]="..e..e.e...e...e.......aaaaaaaaaaaaaaaaaaa..aaaaaaaaaaaaaaaa"}},{key:"setValueFromHTMLText",value:function(t){for(var i="",s=new Array(1e3),h=new Array(1e3),e=0,a=0;a<=999;a++)s[a]=null,h[a]=null;this.initParameter();var c=(i=String(t)).indexOf("<body ");c<0&&(c=i.indexOf("<BODY ")),c>=0&&(i=i.substring(c,i.length)),(c=i.indexOf("<applet "))<0&&(c=i.indexOf("<APPLET ")),c>=0&&(i=i.substring(c,i.length)),(c=i.lastIndexOf("</applet>"))<0&&(c=i.lastIndexOf("</APPLET>")),c>=0&&(i=i.substring(0,c+1+8));for(var o=!0;;){if((c=i.indexOf("\x3c!--"))<0){o=!1;break}var _=String(i.substring(c+4,i.length)),r=_.indexOf("--\x3e");if(r<0)break;i=String(i.substring(0,c+1)+_.substring(r+3,_.length))}o&&(i=String(i.substring(0,c+1)));var n=0;for(e=0;(c=i.indexOf("param"))<0&&(c=i.indexOf("PARAM")),!(c<0||((c=(i=String(i.substring(c+5,i.length))).indexOf("name"))<0&&(c=i.indexOf("NAME")),c<0)||(c=i.indexOf("="))<0);){if((c=(i=String(i.substring(c+1,i.length))).indexOf('"'))>=0&&c<=7){if((c=(i=String(i.substring(c+1,i.length))).indexOf('"'))<0)break;s[n]=String(i.substring(0,c))}else{if((c=i.indexOf(" "))<0)break;if(0==c&&(c=(i=String(i.substring(1,i.length))).indexOf(" "))<0)break;s[n]=String(i.substring(0,c))}if((c=i.indexOf("value"))<0&&(c=i.indexOf("VALUE")),c<0)break;if((c=i.indexOf("="))<0)break;if((c=(i=String(i.substring(c+1,i.length))).indexOf('"'))>=0&&c<=7){if((c=(i=String(i.substring(c+1,i.length))).indexOf('"'))<0)break;h[n]=String(i.substring(0,c))}else{if((c=i.indexOf(" "))<0)break;if(0==c&&(c=(i=i.substring(1,i.length)).indexOf(" "))<0)break;h[n]=String(i.substring(0,c))}n++,e++}for(a=0;a<e;a++)this.setValue(s[a],h[a]);return!0}}])&&Ci(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,i}();function Gi(){var t,i,s="function"==typeof Symbol?Symbol:{},h=s.iterator||"@@iterator",e=s.toStringTag||"@@toStringTag";function a(s,h,e,a){var _=h&&h.prototype instanceof o?h:o,r=Object.create(_.prototype);return zi(r,"_invoke",function(s,h,e){var a,o,_,r=0,n=e||[],m=!1,p={p:0,n:0,v:t,a:g,f:g.bind(t,4),d:function(i,s){return a=i,o=0,_=t,p.n=s,c}};function g(s,h){for(o=s,_=h,i=0;!m&&r&&!e&&i<n.length;i++){var e,a=n[i],g=p.p,u=a[2];s>3?(e=u===h)&&(_=a[(o=a[4])?5:(o=3,3)],a[4]=a[5]=t):a[0]<=g&&((e=s<2&&g<a[1])?(o=0,p.v=h,p.n=a[1]):g<u&&(e=s<3||a[0]>h||h>u)&&(a[4]=s,a[5]=h,p.n=u,o=0))}if(e||s>1)return c;throw m=!0,h}return function(e,n,u){if(r>1)throw TypeError("Generator is already running");for(m&&1===n&&g(n,u),o=n,_=u;(i=o<2?t:_)||!m;){a||(o?o<3?(o>1&&(p.n=-1),g(o,_)):p.n=_:p.v=_);try{if(r=2,a){if(o||(e="next"),i=a[e]){if(!(i=i.call(a,_)))throw TypeError("iterator result is not an object");if(!i.done)return i;_=i.value,o<2&&(o=0)}else 1===o&&(i=a.return)&&i.call(a),o<2&&(_=TypeError("The iterator does not provide a '"+e+"' method"),o=1);a=t}else if((i=(m=p.n<0)?_:s.call(h,p))!==c)break}catch(i){a=t,o=1,_=i}finally{r=1}}return{value:i,done:m}}}(s,e,a),!0),r}var c={};function o(){}function _(){}function r(){}i=Object.getPrototypeOf;var n=[][h]?i(i([][h]())):(zi(i={},h,(function(){return this})),i),m=r.prototype=o.prototype=Object.create(n);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,r):(t.__proto__=r,zi(t,e,"GeneratorFunction")),t.prototype=Object.create(m),t}return _.prototype=r,zi(m,"constructor",r),zi(r,"constructor",_),_.displayName="GeneratorFunction",zi(r,e,"GeneratorFunction"),zi(m),zi(m,e,"Generator"),zi(m,h,(function(){return this})),zi(m,"toString",(function(){return"[object Generator]"})),(Gi=function(){return{w:a,m:p}})()}function zi(t,i,s,h){var e=Object.defineProperty;try{e({},"",{})}catch(t){e=0}zi=function(t,i,s,h){if(i)e?e(t,i,{value:s,enumerable:!h,configurable:!h,writable:!h}):t[i]=s;else{function a(i,s){zi(t,i,(function(t){return this._invoke(i,s,t)}))}a("next",0),a("throw",1),a("return",2)}},zi(t,i,s,h)}function Ai(t,i){(null==i||i>t.length)&&(i=t.length);for(var s=0,h=Array(i);s<i;s++)h[s]=t[s];return h}function Pi(t){return Pi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pi(t)}function Ni(t,i){for(var s=0;s<i.length;s++){var h=i[s];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(t,Oi(h.key),h)}}function Oi(t){var i=function(t){if("object"!=Pi(t)||!t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var s=i.call(t,"string");if("object"!=Pi(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Pi(i)?i:i+""}var Yi=function(){return t=function t(i,s,h,e){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.restart_f=!1,this.th=null,this.th_interval=70,this.th_jm=10,this.process_time=0,this.variable_sleep_time=!1,this.sleep_time_visible=!1,this.main_time_kiroku=new Array(10),this.main_time_kiroku_p=0,this.main_time_kiroku_f=!1,this.tdb=void 0,this.gg=null,this.gm=null,this.gk=null,this.gs=null,this.mp=null,this.mph_title_lock_f=!1,this.mph_start_game_f=!1,this.mph_highscore=0,this.audio_se_no_wave=!1,this.audio_se_no_mp3=!1,this.audio_se_no_ogg=!1,this.audio_bgm_no_wave=!1,this.audio_bgm_no_mp3=!1,this.audio_bgm_no_ogg=!1,this.params=i,this.__canvas=s,1==parseInt(this.getParameter("mcs_screen_size"))&&(this.__canvas.width=e.width||640,this.__canvas.height=e.height||480),this.__appimg=new T(this.__canvas.width,this.__canvas.height),this.__game=h,this.options=e,this.firstMessage=null,this.lastMessage=null,this.masaoJSSAppletEmulator=null},i=[{key:"__repaint",value:function(){this.update(this.__appimg.getGraphics());var t=this.__canvas.getContext("2d");t&&this.__appimg._dat&&t.drawImage(this.__appimg._dat,0,0)}},{key:"init",value:function(){}},{key:"start",value:function(){null==this.th&&(this.th=1),this.th_jm=10}},{key:"stop",value:function(){null!=this.th&&(this.th=null,this.th_jm=10),null!=this.gs&&this.gs.stopBGM()}},{key:"destroy",value:function(){this.stop(),null!=this.gs&&this.gs.kill()}},{key:"paint",value:function(t){this.th_jm<=0?this.mp.draw_lock_f||t.drawImage(this.gg.os_img,0,0,this):this.restart_f||(t.setColor(F.black),t.fillRect(0,0,this.gg.di.width,this.gg.di.height),t.setColor(F.white),t.setFont(new D(D.DIALOG,0,16)),null!=this.getParameter("now_loading")&&t.drawString(this.getParameter("now_loading")||"null",32,Ki(this.gg.di.height/2)))}},{key:"update",value:function(t){this.paint(t)}},{key:"run",value:function(){var t,i,s=0;if(this.firstMessage){var h=this.firstMessage;this.firstMessage=null,this.lastMessage=null;for(var e=h;e;e=e.next)if("load"==e.type){if(!e.target._dat||e.target._dat instanceof Image&&e.target._dat.complete)continue;this.pushMessage(e.type,e.target,e.parameters)}else if("makeChipImage"==e.type)!e.target._dat||e.target._dat instanceof Image&&e.target._dat.complete?e.parameters.chipimage.makeChipImage():this.pushMessage(e.type,e.target,e.parameters);else if("makeReverseChipImage"==e.type)!e.target._dat||e.target._dat instanceof Image&&e.target._dat.complete?e.parameters.chipimage.makeReverseChipImage():this.pushMessage(e.type,e.target,e.parameters);else if("loadAdvanceMapJson"==e.type){if(e.target.complete)continue;this.pushMessage(e.type,e.target,e.parameters)}if(this.firstMessage)return 70}if(10==this.th_jm)this.init_j(),this.mp.start(),this.th_jm-=1,t=70;else if(6==this.th_jm){var a=0,c=0;this.gg.apt_img.get(this.gg.apt_img_default_name)._loaded?a=1:this.gg.apt_img.get(this.gg.apt_img_default_name)._error&&(a=2),2==this.gg.layer_mode?this.gg.amapchip_img.get(this.gg.amapchip_img_default_name)._loaded?c=1:this.gg.amapchip_img.get(this.gg.amapchip_img_default_name)._error&&(c=2):c=1,this.__repaint(),0!=a&&0!=c&&(this.th_jm-=1)}else if(2==this.th_jm)this.gg.cut(),this.th_jm-=1,t=70;else if(this.th_jm>=2)this.th_jm-=1,this.__repaint(),t=70;else{100==this.mp.ml_mode?this.mp.mL100():this.mp.mainLoop(),this.userSub(this.gg.os_g,this.gg.os_img),this.th_jm>0&&(this.th_jm-=1);var o=Math.floor((new Date).getTime()-this.process_time),_=this.th_interval-o;if(_<3&&(_=3),this.sleep_time_visible&&(this.main_time_kiroku[this.main_time_kiroku_p]=o,this.main_time_kiroku_p+=1,this.main_time_kiroku_p>9&&(this.main_time_kiroku_p=0,this.main_time_kiroku_f=!0),this.main_time_kiroku_f)){s=0;for(var r=0;r<=9;r++)s+=this.main_time_kiroku[r];s=Math.floor(s/10)}if(this.variable_sleep_time?(this.sleep_time_visible&&(this.gg.os_g.setColor(this.mp.gamecolor_score),this.gg.os_g.setFont(new D(D.DIALOG,1,this.mp.moji_size)),this.gg.os_g.drawString("VARIABLE SLEEP  1",40,3*(14+this.mp.moji_size)),this.gg.os_g.drawString("MAIN PROGRAM TIME  ".concat(o),40,4*(14+this.mp.moji_size)),this.gg.os_g.drawString("SLEEP TIME  ".concat(_),40,5*(14+this.mp.moji_size)),this.main_time_kiroku_f&&this.gg.os_g.drawString("10 TRY MAIN PROGRAM TIME  ".concat(s),40,6*(14+this.mp.moji_size))),t=_,this.process_time=(new Date).getTime()):(this.sleep_time_visible&&(this.gg.os_g.setColor(this.mp.gamecolor_score),this.gg.os_g.setFont(new D(D.DIALOG,1,this.mp.moji_size)),this.gg.os_g.drawString("VARIABLE SLEEP  0",40,3*(14+this.mp.moji_size)),this.gg.os_g.drawString("MAIN PROGRAM TIME  ".concat(o),40,4*(14+this.mp.moji_size)),this.gg.os_g.drawString("SLEEP TIME  ".concat(this.th_interval),40,5*(14+this.mp.moji_size)),this.main_time_kiroku_f&&this.gg.os_g.drawString("10 TRY MAIN PROGRAM TIME  ".concat(s),40,6*(14+this.mp.moji_size))),t=this.th_interval,this.process_time=(new Date).getTime()),this.options.userJSCallback){i=this.getMode();try{i>=100&&i<200?this.options.userJSCallback(this.gg.os_g_bk,i,this.mp.maps.wx,this.mp.maps.wy,this.masaoJSSAppletEmulator):this.options.userJSCallback(this.gg.os_g_bk,i,-9999,-9999,this.masaoJSSAppletEmulator)}catch(t){console.error(t)}}this.__repaint()}return t}},{key:"init_j",value:function(){var t=this;this.restart_f||(this.tdb=new Bi,this.tdb.setValueFromHTML(this),this.tdb.options=this.options);for(var i,s=0,h=0;h<3;h++)for(var e=0;e<30;e++)if(i="map".concat(h,"-").concat(e),null!=this.tdb.getValue(i)&&"."!=this.tdb.getValue(i)&&""!=this.tdb.getValue(i)){s=1;break}0==s&&this.tdb.setValueStage1();var a,c,o=this.options["advanced-map"],_=this.options["advance-map"];if("string"==typeof o?this.loadAdvanceMapJson(o):void 0===o&&("string"==typeof _?this.loadAdvanceMapJson(_):"object"===Pi(_)&&(this.options["advanced-map"]=_)),this.options["advanced-map"]&&"object"===Pi(this.options["advanced-map"])){var r=this.options["advanced-map"].stages;if(Array.isArray(r)&&r.length>0){var n,p=function(t,i){var s="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!s){if(Array.isArray(t)||(s=function(t,i){if(t){if("string"==typeof t)return Ai(t,i);var s={}.toString.call(t).slice(8,-1);return"Object"===s&&t.constructor&&(s=t.constructor.name),"Map"===s||"Set"===s?Array.from(t):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?Ai(t,i):void 0}}(t))||i&&t&&"number"==typeof t.length){s&&(t=s);var h=0,e=function(){};return{s:e,n:function(){return h>=t.length?{done:!0}:{done:!1,value:t[h++]}},e:function(t){throw t},f:e}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,c=!0,o=!1;return{s:function(){s=s.call(t)},n:function(){var t=s.next();return c=t.done,t},e:function(t){o=!0,a=t},f:function(){try{c||null==s.return||s.return()}finally{if(o)throw a}}}}(r);try{for(p.s();!(n=p.n()).done;){var g=n.value;g&&g.layers&&g.layers.forEach((function(i){i.src&&t.getImage(i.src)}))}}catch(t){p.e(t)}finally{p.f()}}}this.th_interval=this.tdb.getValueInt("game_speed"),this.th_interval<1?this.th_interval=1:this.th_interval>500&&(this.th_interval=500),this.process_time=(new Date).getTime(),this.main_time_kiroku_p=0;for(var u=0;u<=9;u++)this.main_time_kiroku[u]=0;1==this.tdb.getValueInt("variable_sleep_time")?this.variable_sleep_time=!0:this.variable_sleep_time=!1,1==this.tdb.getValueInt("sleep_time_visible")?this.sleep_time_visible=!0:this.sleep_time_visible=!1,this.gg=new os(this.tdb,this),this.gg.setBackcolor(F.black),i=this.tdb.getValue("filename_title"),this.gg.addListImage(0,i),i=this.tdb.getValue("filename_ending"),this.gg.addListImage(1,i),i=this.tdb.getValue("filename_gameover"),this.gg.addListImage(2,i),2!=this.gg.layer_mode&&1!=this.tdb.getValueInt("mcs_haikei_visible")||(i=this.tdb.getValue("filename_haikei"),this.gg.addListImage(4,i)),i=this.tdb.getValue("stage_select"),a=parseInt(i),isNaN(a)&&(a=-1),2==a&&(i=this.tdb.getValue("filename_chizu"),this.gg.addListImage(3,i)),i=this.tdb.getValue("stage_max"),c=parseInt(i),isNaN(c)&&(c=1),2!=this.gg.layer_mode&&1!=this.tdb.getValueInt("mcs_haikei_visible")||!(2==a||c>=2)||(i=this.tdb.getValue("filename_haikei2"),this.gg.addListImage2(5,i),i=this.tdb.getValue("filename_haikei3"),this.gg.addListImage2(6,i),i=this.tdb.getValue("filename_haikei4"),this.gg.addListImage2(7,i)),this.gg.loadListImage(),this.gm=new y;var d=this.gm;this.__canvas.addEventListener("mousedown",(function(i){i.stopImmediatePropagation(),Li.focus.focus(t),t.gs.userInteract(),function(t,i){t.mousePressed(i)}(d,i)})),this.__canvas.addEventListener("mouseup",(function(t){!function(t,i){t.mouseReleased(i)}(d,t)})),this.gk=new m;var f=this.gk,j=function(i){Li.focus.hasFocus(t)&&function(t,i){t.keyPressed(i)}(f,i)};document.addEventListener("keydown",j),this.__game.__resourceList.push({type:"eventListener",release:function(){return document.removeEventListener("keydown",j)}}),j=function(i){Li.focus.hasFocus(t)&&function(t,i){t.keyReleased(i)}(f,i)},document.addEventListener("keyup",j),this.__game.__resourceList.push({type:"eventListener",release:function(){return document.removeEventListener("keyup",j)}}),2==this.tdb.getValueInt("audio_se_switch_wave")&&(this.audio_se_no_wave=!0),2==this.tdb.getValueInt("audio_se_switch_mp3")&&(this.audio_se_no_mp3=!0),2==this.tdb.getValueInt("audio_se_switch_ogg")&&(this.audio_se_no_ogg=!0),2==this.tdb.getValueInt("audio_bgm_switch_wave")&&(this.audio_bgm_no_wave=!0),2==this.tdb.getValueInt("audio_bgm_switch_mp3")&&(this.audio_bgm_no_mp3=!0),2==this.tdb.getValueInt("audio_bgm_switch_ogg")&&(this.audio_bgm_no_ogg=!0),this.gs=new(C.factory(this.tdb))(this.tdb,this);var l=function(t){var i,s=t.trim().split(/\s*(?:,|$)\s*/);return s.forEach((function(t,i,s){"serif"===t||"sans-serif"===t||"monospace"===t||"cursive"===t||"fantasy"===t||"system-ui"===t||"'"===t[0]&&"'"===t[t.length-1]||'"'===t[0]&&'"'===t[t.length-1]||(s[i]="'".concat(t,"'"))})),(i=s.join()).match(/^(?!.*(serif|monospace|cursive|fantasy|system-ui)$).*$/)&&(i+=",".concat(D.DIALOG_str)),i};this.gg.font_score=l(this.tdb.getValue("font_score")),this.gg.font_message=l(this.tdb.getValue("font_message")),this.mp=new di(this.gg,this.gm,this.gk,this.gs,this.tdb),this.mp.addHighscoreEvent(this.options.highscoreCallback),this.mph_start_game_f&&(this.mp.highscore=this.mph_highscore),this.mp.title_lock_f=this.mph_title_lock_f,this.mp.start_game_f=this.mph_start_game_f,this.options.userJSCallback&&(this.masaoJSSAppletEmulator=new Si(this,!!this.options["bc-case-insensitive"])),this.__repaint(),this.userInit()}},{key:"userInit",value:function(){}},{key:"userSub",value:function(t,i){}},{key:"getHighscore",value:function(){var t=0;return null!=this.mp&&(t=this.mp.highscore)<this.mp.score&&(t=this.mp.score),t}},{key:"getScore",value:function(){var t=0;return null!=this.mp&&(t=this.mp.score),t}},{key:"getMode",value:function(){var t=0;if(null!=this.mp){var i=this.mp.ml_mode;i>=50&&i<=60?t=1:i>=200&&i<300?t=400:i>=300&&i<=310?t=200:i>=400&&i<=410?t=300:100!=this.mp.ml_mode||2!=this.mp.sl_step&&3!=this.mp.sl_step?(t=100,t+=this.mp.stage):t=150}return t}},{key:"soundOn",value:function(){return null!=this.gs&&(this.gs.soundOn(),!0)}},{key:"soundOff",value:function(){return null!=this.gs&&(this.gs.soundOff(),!0)}},{key:"onSound",value:function(){return null!=this.gs&&(this.gs.soundOn(),!0)}},{key:"offSound",value:function(){return null!=this.gs&&(this.gs.soundOff(),!0)}},{key:"getMyX",value:function(){if(null!=this.mp){var t;if(100==this.mp.ml_mode&&this.mp.co_j.c>=100&&this.mp.co_j.c<200)return(t=Ji(this.mp.co_j.x+15,5)-1)<0&&(t=0),t>=this.mp.mapWidth&&(t=this.mp.mapWidth-1),t;if(200==this.mp.ml_mode)return Ji(this.mp.ig.co_j.x+15,5)}return-1}},{key:"getMyY",value:function(){if(null!=this.mp){var t;if(100==this.mp.ml_mode&&this.mp.co_j.c>=100&&this.mp.co_j.c<200)return(t=Ji(this.mp.co_j.y+15,5)-10)<0&&(t=0),t>=this.mp.mapHeight&&(t=this.mp.mapHeight-1),t;if(200==this.mp.ml_mode)return Ji(this.mp.ig.co_j.y+15,5)}return-1}},{key:"getViewX",value:function(){if(null!=this.mp&&100==this.mp.ml_mode){var t=Ji(this.mp.maps.wx,5)-1;return t<0&&(t=0),t>this.mp.mapWidth-16&&(t=this.mp.mapWidth-1),t}return-1}},{key:"getViewY",value:function(){if(null!=this.mp&&100==this.mp.ml_mode){var t=Ji(this.mp.maps.wy,5)-10;return t<0&&(t=0),t>this.mp.mapHeight-10&&(t=this.mp.mapHeight-10),t}return-1}},{key:"setMyPosition",value:function(t,i){var s=0,h=0;return null!=this.mp&&100==this.mp.ml_mode&&this.mp.co_j.c>=100&&this.mp.co_j.c<200&&(s=parseInt(t),h=parseInt(i),(isNaN(s)||isNaN(h))&&(s=-1,h=-1),!(s<0||s>=this.mp.mapWidth||h<0||h>=this.mp.mapHeight||(this.mp.co_j.x=32*(s+1),this.mp.co_j.y=32*(h+10),0)))}},{key:"showMessage",value:function(t,i,s,h,e){return null!=this.mp&&this.mp.showmSet(t,i,s,h,e)}},{key:"showImage",value:function(t,i,s,h){return null!=this.mp&&this.mp.showiSet(t,i,s,h)}},{key:"setEnemy",value:function(t,i,s){return null!=this.mp&&this.mp.sete(t,i,s)}},{key:"setMapchip",value:function(t,i,s){return null!=this.mp&&this.mp.setmapc(t,i,s)}},{key:"getMapchip",value:function(t,i){return null!=this.mp?this.mp.getmapc(t,i):-1}},{key:"setMapchip2",value:function(t,i,s){return null!=this.mp&&this.mp.setmapc2(t,i,s)}},{key:"getMapchip2",value:function(t,i){return null!=this.mp?this.mp.getmapc2(t,i):-1}},{key:"setBackImage",value:function(t){return null!=this.mp&&this.mp.setbacki(t)}},{key:"pressLeft",value:function(){return null!=this.gk&&(this.gk.left_f=!0,!0)}},{key:"pressLeft2",value:function(){return null!=this.gk&&null!=this.mp&&100==this.mp.ml_mode&&this.mp.co_j.c>=100&&this.mp.co_j.c<200&&(this.gk.left_f=!0,this.gk.left_c=2,this.mp.j_hashiru_f=!0,!0)}},{key:"releaseLeft",value:function(){return null!=this.gk&&(this.gk.left_f=!1,!0)}},{key:"pressRight",value:function(){return null!=this.gk&&(this.gk.right_f=!0,!0)}},{key:"pressRight2",value:function(){return null!=this.gk&&null!=this.mp&&100==this.mp.ml_mode&&this.mp.co_j.c>=100&&this.mp.co_j.c<200&&(this.gk.right_f=!0,this.gk.right_c=2,this.mp.j_hashiru_f=!0,!0)}},{key:"releaseRight",value:function(){return null!=this.gk&&(this.gk.right_f=!1,!0)}},{key:"pressUp",value:function(){return null!=this.gk&&(this.gk.up_f=!0,!0)}},{key:"releaseUp",value:function(){return null!=this.gk&&(this.gk.up_f=!1,!0)}},{key:"pressDown",value:function(){return null!=this.gk&&(this.gk.down_f=!0,this.gk.tr2_f=!0,!0)}},{key:"releaseDown",value:function(){return null!=this.gk&&(this.gk.down_f=!1,this.gk.tr2_f=!1,!0)}},{key:"pressTrigger1",value:function(){return null!=this.gk&&(this.gk.tr1_f=!0,!0)}},{key:"releaseTrigger1",value:function(){return null!=this.gk&&(this.gk.tr1_f=!1,!0)}},{key:"releaseAll",value:function(){return null!=this.gk&&(this.gk.up_f=!1,this.gk.down_f=!1,this.gk.left_f=!1,this.gk.right_f=!1,this.gk.tr1_f=!1,this.gk.tr2_f=!1,this.gk.x_f=!1,!0)}},{key:"getKeyCode",value:function(){return null!=this.gk?this.gk.key_code:-1}},{key:"resetKeyCode",value:function(){return null!=this.gk&&(this.gk.key_code=0,!0)}},{key:"equipBarrier",value:function(t){var i=0;return null!=this.gk&&null!=this.mp&&100==this.mp.ml_mode&&this.mp.co_j.c>=100&&this.mp.co_j.c<200&&(i=parseInt(t),isNaN(i)&&(i=0),!(i<=0||(this.mp.j_v_c=i,this.gs.rsAddSound(7),0)))}},{key:"setJetFuel",value:function(t){var i=0;return null!=this.gk&&null!=this.mp&&100==this.mp.ml_mode&&this.mp.co_j.c>=100&&this.mp.co_j.c<200&&(i=parseInt(t),isNaN(i)&&(i=0),!(i<0||(this.mp.j_jet_fuel=i,0)))}},{key:"equipJet",value:function(t){return this.setJetFuel(t)}},{key:"restart",value:function(){return this.restart_f=!0,this.th_jm=10,null!=this.mp&&(this.mph_title_lock_f=this.mp.title_lock_f,this.mph_start_game_f=this.mp.start_game_f,this.mp.highscore<this.mp.score&&(this.mp.highscore=this.mp.score),this.mph_highscore=this.mp.highscore),!0}},{key:"getValue",value:function(t){return this.th_jm<=0?this.tdb.getValue(t):null}},{key:"getParamValue",value:function(t){return this.th_jm<=0?this.tdb.getValue(t):null}},{key:"setValue",value:function(t,i){return this.th_jm<=0&&this.tdb.setValue(t,i)}},{key:"setParamValue",value:function(t,i){return this.th_jm<=0&&this.tdb.setValue(t,i)}},{key:"getMyXReal",value:function(){return this.getMode()>=100&&this.getMode()<200&&this.mp.co_j.c>=100&&this.mp.co_j.c<200?this.mp.co_j.x:-1}},{key:"getMyYReal",value:function(){return this.getMode()>=100&&this.getMode()<200&&this.mp.co_j.c>=100&&this.mp.co_j.c<200?this.mp.co_j.y:-1}},{key:"setMyXReal",value:function(t){var i;return this.getMode()>=100&&this.getMode()<200&&this.mp.co_j.c>=100&&this.mp.co_j.c<200&&(i=parseInt(t),isNaN(i)&&(i=-9999),i<0&&(i=0),this.mp.co_j.x=i,!0)}},{key:"setMyYReal",value:function(t){var i;return this.getMode()>=100&&this.getMode()<200&&this.mp.co_j.c>=100&&this.mp.co_j.c<200&&(i=parseInt(t),isNaN(i)&&(i=-9999),i<0&&(i=0),this.mp.co_j.y=i,!0)}},{key:"getMyVX",value:function(){return this.getMode()>=100&&this.getMode()<200&&this.mp.co_j.c>=100&&this.mp.co_j.c<200?this.mp.co_j.vx:-9999}},{key:"getMyVY",value:function(){return this.getMode()>=100&&this.getMode()<200&&this.mp.co_j.c>=100&&this.mp.co_j.c<200?this.mp.co_j.vy:-9999}},{key:"getViewXReal",value:function(){return this.getMode()>=100&&this.getMode()<200?this.mp.maps.wx:-1}},{key:"getViewYReal",value:function(){return this.getMode()>=100&&this.getMode()<200?this.mp.maps.wy:-1}},{key:"getEnemyTotal",value:function(){if(this.getMode()>=100&&this.getMode()<200){for(var t=0,i=0;i<=229;i++)(this.mp.co_t[i].c>=100||10==this.mp.co_t[i].c)&&t++;return t}return-1}},{key:"getBossXReal",value:function(){return this.getMode()>=100&&this.getMode()<200?this.mp.co_b.x:-1}},{key:"getBossYReal",value:function(){return this.getMode()>=100&&this.getMode()<200?this.mp.co_b.y:-1}},{key:"setMyMiss",value:function(t){var i;return this.getMode()>=100&&this.getMode()<200&&this.mp.co_j.c>=100&&this.mp.co_j.c<200&&(i=parseInt(t),isNaN(i)&&(i=1),(i<1||i>4)&&(i=1),this.mp.jShinu(i),!0)}},{key:"setMyPress",value:function(t){var i;return this.getMode()>=100&&this.getMode()<200&&this.mp.co_j.c>=100&&this.mp.co_j.c<200&&(i=parseInt(t),isNaN(i)&&(i=1),this.mp.jFumu(i),!0)}},{key:"playSound",value:function(t){return null!=this.gs&&(i=parseInt(t),isNaN(i)&&(i=-1),i>=1&&i<=27&&(this.getMode()>=100&&this.getMode()<200?this.gs.rsAddSound(i-1):this.gs.play(i-1),!0));var i}},{key:"setScrollLock",value:function(t){var i=!1;return this.getMode()>=100&&this.getMode()<200&&(i=this.mp.setScrollLock(t)),i}},{key:"attackFire",value:function(t,i,s,h){var e=0;return this.getMode()>=100&&this.getMode()<200&&(e=this.mp.attackFire(t,i,s,h)),e}},{key:"addScore",value:function(t){return null!=this.mp&&(i=parseInt(t),isNaN(i)&&(i=0),i>=1&&(this.mp.addScore(i),!0));var i}},{key:"setPenColor",value:function(t,i,s,h){return void 0===h&&(h="255"),null==this.mp||this.mp.setPenColor(t,i,s,h)}},{key:"showRect",value:function(t,i,s,h,e){return null!=this.mp&&this.mp.showrSet(t,i,s,h,e)}},{key:"showOval",value:function(t,i,s,h,e){return null!=this.mp&&this.mp.showoSet(t,i,s,h,e)}},{key:"getJSMes",value:function(){return null!=this.mp?this.mp.getJSMes():-1}},{key:"showGauge",value:function(t,i){return null!=this.mp&&this.mp.showGauge(t,i)}},{key:"hideGauge",value:function(){return null!=this.mp&&this.mp.hideGauge()}},{key:"setJSMes",value:function(t){return null!=this.mp&&(this.mp.setJSMes(t),!0)}},{key:"setTitleLock",value:function(){return null!=this.mp&&(this.mp.title_lock_f=!0,!0)}},{key:"startGame",value:function(){return null!=this.mp&&(this.mp.start_game_f=!0,!0)}},{key:"equipGrenade",value:function(t){var i=0;return this.getMode()>=100&&this.getMode()<200&&this.mp.co_j.c>=100&&this.mp.co_j.c<200&&(i=parseInt(t),isNaN(i)&&(i=-1),!(i<0||(this.mp.j_gr_kazu=i,0)))}},{key:"setSystemImage",value:function(t,i){return null!=this.mp&&this.mp.setSystemImage(t,i)}},{key:"setModeWait",value:function(t,i){return null!=this.mp&&this.mp.setModeWait(t,i)}},{key:"showMyHP",value:function(t){return null!=this.mp&&this.mp.showMyHP(t)}},{key:"setMyMaxHP",value:function(t){return null!=this.mp&&this.mp.setMyMaxHP(t)}},{key:"setMyHP",value:function(t){return null!=this.mp&&this.mp.setMyHP(t)}},{key:"getMyHP",value:function(){return null!=this.mp?this.mp.getMyHP():0}},{key:"setMyHPDamage",value:function(t){return null!=this.mp&&this.mp.setMyHPDamage(t)}},{key:"setMyWait",value:function(t,i,s){return null!=this.mp&&this.mp.setMyWait(t,i,s)}},{key:"setStageClear",value:function(){return null!=this.mp&&this.mp.setStageClear()}},{key:"equipFire",value:function(t){void 0===t&&(t="1");var i=-1;if(this.getMode()>=100&&this.getMode()<200){if(i=parseInt(t),isNaN(i)&&(i=-1),i<0)return!1;if(0==i)return this.mp.j_fire_f=!1,!0;if(1==i)return this.mp.j_fire_f=!0,!0}return!1}},{key:"setFireRange",value:function(t){var i=9999;return null!=this.mp&&(i=parseInt(t),isNaN(i)&&(i=0),!(i<=0||(this.mp.j_fire_range=i,0)))}},{key:"equipTail",value:function(t){var i=-1;if(this.getMode()>=100&&this.getMode()<200){if(i=parseInt(t),isNaN(i)&&(i=-1),i<0)return!1;if(0==i)return this.mp.j_tail_f=!1,!0;if(1==i)return this.mp.j_tail_f=!0,!0}return!1}},{key:"attackTail",value:function(t,i,s,h){var e=0;return this.getMode()>=100&&this.getMode()<200&&(e=this.mp.attackTail(t,i,s,h)),e}},{key:"destroyEnemy",value:function(t,i,s,h){var e=-1;return this.getMode()>=100&&this.getMode()<200&&(e=this.mp.destroyEnemy(t,i,s,h)),e}},{key:"isPressZKey",value:function(){return null!=this.gk&&this.gk.z_f?1:0}},{key:"isPressXKey",value:function(){return null!=this.gk&&this.gk.x_f?1:0}},{key:"isPressSpaceKey",value:function(){return null!=this.gk&&this.gk.space_f?1:0}},{key:"getMyDirection",value:function(){return this.getMode()>=100&&this.getMode()<200?15==this.mp.j_tokugi?this.mp.j_4_muki:this.mp.co_j.muki:-1}},{key:"setHTMLText",value:function(t){return null!=this.mp&&(this.tdb.initParameter(),this.tdb.setValueFromHTMLText(t),this.restart(),!0)}},{key:"newYuka",value:function(t,i,s,h,e){return null!=this.mp?this.mp.newYuka(t,i,s,h,e):-1}},{key:"setYukaPosition",value:function(t,i,s,h,e){return null!=this.mp&&(void 0!==h&&void 0!==e?this.mp.setYukaPosition(t,i,s,h,e):this.mp.setYukaPosition(t,i,s))}},{key:"setYukaType",value:function(t,i){return null!=this.mp&&this.mp.setYukaType(t,i)}},{key:"disposeYuka",value:function(t){return null!=this.mp&&this.mp.disposeYuka(t)}},{key:"setYukaColor",value:function(t,i,s,h,e){return null!=this.mp&&this.mp.setYukaColor(t,i,s,h,e)}},{key:"isRideYuka",value:function(t){return null!=this.mp?this.mp.isRideYuka(t):-1}},{key:"setMyVX",value:function(t){var i=0;return this.getMode()>=100&&this.getMode()<200&&this.mp.co_j.c>=100&&this.mp.co_j.c<200&&(i=parseInt(t),isNaN(i)&&(i=-9999),-9999!=i&&(this.mp.co_j.vx=i,!0))}},{key:"setMyVY",value:function(t){var i=0;return this.getMode()>=100&&this.getMode()<200&&this.mp.co_j.c>=100&&this.mp.co_j.c<200&&(i=parseInt(t),isNaN(i)&&(i=-9999),-9999!=i&&(this.mp.co_j.vy=i,!0))}},{key:"isRideGround",value:function(){return null!=this.mp?this.mp.isRideGround():-1}},{key:"setYukaPattern",value:function(t,i,s){return null!=this.mp&&this.mp.setYukaPattern(t,i,s)}},{key:"setYukaImage",value:function(t,i){return null!=this.mp&&this.mp.setYukaImage(t,i)}},{key:"setMySpeed",value:function(t){var i=0;return this.getMode()>=100&&this.getMode()<200&&this.mp.co_j.c>=100&&this.mp.co_j.c<200&&(i=parseInt(t),isNaN(i)&&(i=-1),!(i<0||i>16||14!=this.mp.j_tokugi&&15!=this.mp.j_tokugi||(this.mp.j_speed=10*i,0)))}},{key:"setScrollArea",value:function(t,i,s,h){return null!=this.mp&&this.mp.setScrollArea(t,i,s,h)}},{key:"isPressUpKey",value:function(){return null!=this.gk&&this.gk.up_f?1:0}},{key:"isPressDownKey",value:function(){return null!=this.gk&&this.gk.down_f?1:0}},{key:"isPressLeftKey",value:function(){return null!=this.gk&&this.gk.left_f?1:0}},{key:"isPressRightKey",value:function(){return null!=this.gk&&this.gk.right_f?1:0}},{key:"newImageOnLoad",value:function(t){var i;i=this.getImage(t);return[].push(i),i}},{key:"setSystemDrawMode",value:function(t){var i=-1;return null!=this.mp&&(i=parseInt(t),isNaN(i)&&(i=-1),!(i<1||i>4||(this.mp.system_draw_mode=i,0)))}},{key:"getMyObjectCondition",value:function(){return null!=this.mp?this.mp.co_j.c:0}},{key:"getMyObjectAC",value:function(){return null!=this.mp?this.mp.co_j.ac:0}},{key:"getMyObjectPattern",value:function(){return null!=this.mp?this.mp.co_j.pt:0}},{key:"getMyDirection4way",value:function(){return this.getMode()>=100&&this.getMode()<200?15==this.mp.j_tokugi?this.mp.j_4_muki:2==this.mp.co_j.direction||3==this.mp.co_j.direction?this.mp.co_j.direction:this.mp.co_j.muki:-1}},{key:"setMyObjectImage",value:function(t,i,s){var h=0,e=0;return null!=this.mp&&(h=parseInt(i),e=parseInt(s),(isNaN(h)||isNaN(e))&&(h=0,e=0),this.mp.co_j.img=t,this.mp.co_j.zs_x=h,this.mp.co_j.zs_y=e,!0)}},{key:"getEnemyObjectCondition",value:function(t){var i=-1;return null!=this.mp?(i=parseInt(t),isNaN(i)&&(i=-1),i<0||i>this.mp.t_kazu?0:this.mp.co_t[i].c):0}},{key:"getEnemyObjectPattern",value:function(t){var i=-1;return null!=this.mp?(i=parseInt(t),isNaN(i)&&(i=-1),i<0||i>this.mp.t_kazu?0:this.mp.co_t[i].pt):0}},{key:"getEnemyObjectDirection",value:function(t){var i=-1,s=0;return null!=this.mp?(i=parseInt(t),isNaN(i)&&(i=-1),i<0||i>this.mp.t_kazu?0:(s=this.mp.co_t[i].c)>=1400&&s<1500||s>=1200&&s<=1230?this.mp.co_t[i].direction:this.mp.co_t[i].pth):0}},{key:"setEnemyObjectImage",value:function(t,i,s,h){var e=-1,a=0,c=0;return null!=this.mp&&(e=parseInt(t),a=parseInt(s),c=parseInt(h),isNaN(e)&&(e=-1),e<0||e>this.mp.t_kazu||(this.mp.co_t[e].img=i,this.mp.co_t[e].zs_x=a,this.mp.co_t[e].zs_y=c),!1)}},{key:"getEnemyAC",value:function(){return null!=this.mp?this.mp.g_c2:0}},{key:"setScrollAreaReal",value:function(t,i,s,h){return null!=this.mp&&this.mp.setScrollAreaReal(t,i,s,h)}},{key:"isPressCodeKey",value:function(t){var i=0;return null!=this.gk?(i=parseInt(t),isNaN(i)&&(i=-1),i<0||i>255?0:1==this.gk.codekey_f[i]?1:0):0}},{key:"playBGM",value:function(t){return null!=this.gs&&this.gs.playUserBGMFile(t)}},{key:"playBGMLoop",value:function(t){return null!=this.gs&&this.gs.playUserBGMFileLoop(t)}},{key:"stopBGM",value:function(){return null!=this.gs&&(this.gs.stopBGM(),!0)}},{key:"getBossHP",value:function(){return null!=this.mp?this.mp.getBossHP():0}},{key:"setBossHP",value:function(t){var i=1;return null!=this.mp&&(i=parseInt(t),isNaN(i)&&(i=0),i<0&&(i=0),this.mp.setBossHP(i))}},{key:"getBossDirection",value:function(){return null!=this.mp?this.mp.getBossDirection():0}},{key:"isBossAttackMode",value:function(){return null!=this.mp?this.mp.isBossAttackMode():0}},{key:"setBossXReal",value:function(t){var i=32;return null!=this.mp&&(i=parseInt(t),isNaN(i)&&(i=-9999),!(i<0)&&this.mp.setBossXReal(i))}},{key:"setBossYReal",value:function(t){var i=320;return null!=this.mp&&(i=parseInt(t),isNaN(i)&&(i=-9999),!(i<0)&&this.mp.setBossYReal(i))}},{key:"setBossObjectImage",value:function(t,i,s){var h=0,e=0;return null!=this.mp&&(h=parseInt(i),e=parseInt(s),(isNaN(h)||isNaN(e))&&(h=0,e=0),this.mp.co_b.img=t,this.mp.co_b.zs_x=h,this.mp.co_b.zs_y=e,!0)}},{key:"setSystemPattern",value:function(t,i){var s=1,h=1;return null!=this.mp&&(s=parseInt(t),h=parseInt(i),(isNaN(s)||isNaN(h))&&(s=-1),!(s<1||s>249||h<1||h>249||(this.mp.hih[0][s]=this.mp.hih[0][h],this.mp.hih[1][s]=this.mp.hih[1][h],this.mp.setmapc_f=!0,0)))}},{key:"setSystemPatternImage",value:function(t,i,s){var h=1,e=0;return null!=this.mp&&(h=parseInt(t),e=parseInt(i),(isNaN(h)||isNaN(e))&&(h=-1),!(h<1||h>249||((e<0||e>1)&&(e=0),this.mp.hih[e][h]=s,this.mp.setmapc_f=!0,0)))}},{key:"getCoinCount",value:function(t,i,s,h){if(0===arguments.length)return null!=this.mp?this.mp.getCoinCount(0,0,this.mp.mapWidth-1,this.mp.mapHeight-1):-1;var e=0,a=0,c=0,o=0;return null!=this.mp?(e=parseInt(t),a=parseInt(i),c=parseInt(s),o=parseInt(h),(isNaN(e)||isNaN(a)||isNaN(c)||isNaN(o))&&(e=-1),e<0?-1:this.mp.getCoinCount(e,a,c,o)):-1}},{key:"addMyTokugi",value:function(t){var i=-1;return this.getMode()>=100&&this.getMode()<200&&(i=parseInt(t),isNaN(i)&&(i=-1),!(i<0)&&this.mp.addMyTokugi(i))}},{key:"removeMyTokugi",value:function(t){var i=-1;return this.getMode()>=100&&this.getMode()<200&&(i=parseInt(t),isNaN(i)&&(i=-1),!(i<0)&&this.mp.removeMyTokugi(i))}},{key:"setScore",value:function(t){var i=0;return null!=this.mp&&(i=parseInt(t),isNaN(i)&&(i=0),this.mp.score=i,this.mp.addScore(0),!0)}},{key:"getBarrierTime",value:function(){return null!=this.mp&&100==this.mp.ml_mode&&this.mp.co_j.c>=100&&this.mp.co_j.c<200?this.mp.j_v_c:-1}},{key:"getTimeLimit",value:function(){return null!=this.mp&&this.mp.time_max>0&&100==this.mp.ml_mode?Math.floor(this.mp.time/1e3):-1}},{key:"setTimeLimit",value:function(t){var i=0;return null!=this.mp&&this.mp.time_max>0&&(i=parseInt(t),isNaN(i)&&(i=-1),!(i<0||(this.mp.time=1e3*i+1e3-70,0)))}},{key:"setAthletic",value:function(t,i,s){var h=-1,e=0,a=0;if(this.getMode()>=100&&this.getMode()<200){if(e=parseInt(t),a=parseInt(i),h=parseInt(s),(isNaN(h)||isNaN(e)||isNaN(a))&&(h=-1),h<0)return!1;e<0&&(e=0),e>=this.mp.mapWidth&&(e=this.mp.mapWidth-1),a<0&&(a=0),a>=this.mp.mapHeight&&(a=this.mp.mapHeight-1),e+=1,a+=10;var c=0;if(4==this.mp.maps.map_bg[e-1][a]&&(c=4),h>=2){var o=this.mp.setAthleticOnMap(h,e,a);-99==o?(this.mp.aSet(32*e+16,32*a+16,70,32*e),c=50):c=o}else this.mp.aSet(32*e+16,32*a+16,70,32*e),c=50;return this.mp.maps.map_bg[e][a]=c,this.mp.setmapc_f=!0,!0}return!1}},{key:"setSecondImage",value:function(t){if(this.getMode()>=100&&this.getMode()<200){var i=this.gg.loadImage(t);return this.mp.second_gazou_img=i,!0}return!1}},{key:"setGrenadeCount",value:function(t){var i=0;return this.getMode()>=100&&this.getMode()<200&&this.mp.co_j.c>=100&&this.mp.co_j.c<200&&(i=parseInt(t),isNaN(i)&&(i=-1),!(i<0||(this.mp.j_gr_kazu=i,0)))}},{key:"setMyLeft",value:function(t){var i=0;return this.getMode()>=100&&this.getMode()<200&&(i=parseInt(t),isNaN(i)&&(i=-1),!(i<0||(this.mp.j_left=i,0)))}},{key:"getGrenadeCount",value:function(){var t=0;return this.getMode()>=100&&this.getMode()<200&&this.mp.co_j.c>=100&&this.mp.co_j.c<200?((t=this.mp.j_gr_kazu)<0&&(t=0),t):t}},{key:"getMyLeft",value:function(){var t=-1;return this.getMode()>=100&&this.getMode()<200?t=this.mp.j_left:t}},{key:"setEnemyPress",value:function(t){var i=1;return this.getMode()>=100&&this.getMode()<200&&(i=parseInt(t),isNaN(i)&&(i=-1),!(i<0||((i<1||i>3)&&(i=1),this.mp.j_enemy_press=i,0)))}},{key:"getImage",value:function(t){var i=new T;return i.load(t),i}},{key:"getImageAsync",value:function(t){return i=this,s=void 0,h=void 0,e=Gi().m((function i(){var s;return Gi().w((function(i){for(;;)switch(i.n){case 0:return s=new T,i.n=1,s.loadAsync(t);case 1:return i.a(2,s)}}),i)})),new(h||(h=Promise))((function(t,a){function c(t){try{_(e.next(t))}catch(t){a(t)}}function o(t){try{_(e.throw(t))}catch(t){a(t)}}function _(i){var s;i.done?t(i.value):(s=i.value,s instanceof h?s:new h((function(t){t(s)}))).then(c,o)}_((e=e.apply(i,s||[])).next())}));var i,s,h,e}},{key:"createImage",value:function(t,i){return new T(t,i)}},{key:"getParameter",value:function(t){var i=(t+"").toLowerCase();return void 0===this.params[i]?null:this.params[i]+""}},{key:"getAudioURL",value:function(t,i){var s,h;-1!=(s=(t+="").lastIndexOf("."))&&(-1!=(h=t.lastIndexOf("/"))?s>h&&(t=t.substring(0,s)):t=t.substring(0,s));var e=new Audio;return i?e.canPlayType("audio/wav")&&!this.audio_bgm_no_wave?t+=".wav":e.canPlayType("audio/mpeg")&&!this.audio_bgm_no_mp3?t+=".mp3":e.canPlayType("audio/ogg")&&!this.audio_bgm_no_ogg?t+=".ogg":t="":e.canPlayType("audio/wav")&&!this.audio_se_no_wave?t+=".wav":e.canPlayType("audio/mpeg")&&!this.audio_se_no_mp3?t+=".mp3":e.canPlayType("audio/ogg")&&!this.audio_se_no_ogg?t+=".ogg":t="",t}},{key:"getAudioClip",value:function(t,i){return new Hi(this.getAudioURL(t,i))}},{key:"pushMessage",value:function(t,i,s){var h={};h.type=t,h.target=i,h.parameters=s,h.next=null,null==this.firstMessage&&(this.firstMessage=h),null!=this.lastMessage&&(this.lastMessage.next=h),this.lastMessage=h}},{key:"loadAdvanceMapJson",value:function(t){var i=this,s=new XMLHttpRequest,h={complete:!1};s.open("GET",t,!0),s.onreadystatechange=function(){if(4===s.readyState){try{i.options["advanced-map"]=JSON.parse(s.responseText)}catch(i){console.error("Failed to load JSON: "+t)}h.complete=!0,s.onreadystatechange=null}},this.pushMessage("loadAdvanceMapJson",h,null),s.send(null)}},{key:"getSnapshot",value:function(){return{mp:this.mp.getSnapshot()}}}],i&&Ni(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,i}();function Ti(t){return Ti="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ti(t)}function Ei(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}function Ri(t,i){for(var s=0;s<i.length;s++){var h=i[s];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(t,Wi(h.key),h)}}function Vi(t,i,s){return i&&Ri(t.prototype,i),s&&Ri(t,s),Object.defineProperty(t,"prototype",{writable:!1}),t}function Wi(t){var i=function(t){if("object"!=Ti(t)||!t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var s=i.call(t,"string");if("object"!=Ti(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Ti(i)?i:i+""}var Fi,Di,Li=function(){function t(i,s,h){var e=this;Ei(this,t),this.__pad_before=[],this.__pad_after=[],this.__pad_touches=[],this.__st=70,this.__pt=0,this.__teo={};var a=Zi();if((h=h||{}).extensions=h.extensions||[],s?this.__boxID=s:(this.__boxID="__mcdiv".concat(a),document.write("<div id='".concat(this.__boxID,"'></div>"))),this.__canvasID="__mccanvas".concat(a),this.__padDivID="__mcpaddiv".concat(a),this.__box=document.getElementById(this.__boxID),this.__resourceList=[],this.__canvas=document.createElement("canvas"),this.__canvas.id=this.__canvasID,this.__canvas.width=h.width||512,this.__canvas.height=h.height||320,this.__canvas.textContent="※お使いのブラウザはHTML5に対応していないため表示できません。",this.__box.appendChild(this.__canvas),this.__padDiv=document.createElement("div"),this.__padDiv.id=this.__padDivID,this.__box.appendChild(this.__padDiv),this.__canvas&&this.__canvas.getContext){if(this.__pad_before=[],this.__pad_after=[],this.__pad_touches=[],window.TouchEvent){var c,o=document.createElement("input");o.type="button",o.value="バーチャル操作パッド 表示 / 非表示",(c=o.style).width="24em",c.height="2.5em",o.onclick=function(){"inline"==_.style.display?_.style.display="none":t.padAccessor.show(_)},this.__padDiv.appendChild(o),this.__padDiv.appendChild(document.createElement("br"));var _=this.__pad=document.createElement("canvas");_.width=500,_.height=200;var r=function(t){e.__pad_event(t)};_.addEventListener("touchstart",r,!1),_.addEventListener("touchmove",r,!1),_.addEventListener("touchend",r,!1),_.addEventListener("touchcancel",r,!1),_.style.display="none",this.__padDiv.appendChild(_),(c=_.style).position="absolute";var n=window.setInterval((function(){var i=innerWidth,s=innerHeight,h=i<s?i:s;_.style.width="".concat(i,"px"),_.style.height="".concat(h*t.pad.style.rate,"px"),_.style.left="".concat(scrollX,"px"),t.pad.avoidAD?_.style.top="".concat(scrollY+s-h*t.pad.style.rate-.16*h,"px"):_.style.top="".concat(scrollY+s-h*t.pad.style.rate,"px"),e.__pad_update()}),500);this.__resourceList.push({type:"setInterval",value:n}),t.padAccessor.append(_),this.__pad_off=document.createElement("canvas"),this.__pad_off.width=500,this.__pad_off.height=200;var m=this.__pad_off.getContext("2d");m.font="24px monospace",m.textAlign="center",m.textBaseline="middle",m.lineWidth=2,m.lineCap="round",m.lineJoin="round";for(var p=0;p<8;p++)this.__pad_before[p]=!1,this.__pad_after[p]=!1;this.__pad_update(),document.addEventListener("touchend",(function(){var t;null===(t=e.__mc.gs)||void 0===t||t.userInteract()}),{once:!0})}this.__mc=new Yi(i,this.__canvas,this,h||{});for(var g=0;g<h.extensions.length;g++)h.extensions[g].inject(this.__mc,h);var u;this.__mc.start(),(u=this.__mc.getParameter("game_speed"))?(u=parseInt(u),isNaN(u)?u=70:u<10?u=10:u>300&&(u=300)):u=70,this.__st=u,this.__pt=0;var y=new(h["custom-loop"]||$i)(this,!!h["bc-loop-setinterval"]);y.start(u,this.__loop.bind(this)),this.__resourceList.push({type:"Loop",value:y}),1==parseInt(this.__mc.getParameter("mcs_screen_size"))&&(this.__canvas.width=h.width||640,this.__canvas.height=h.height||480)}}return Vi(t,[{key:"kill",value:function(){this.__mc.destroy();for(var t=this.__resourceList,i=0,s=t.length;i<s;i++){var h=t[i];"setInterval"===h.type?clearInterval(h.value):"eventListener"===h.type?h.release():"Loop"===h.type&&h.value.stop()}for(this.__resourceList=[];this.__box.hasChildNodes();)this.__box.removeChild(this.__box.firstChild)}},{key:"__loop",value:function(){var t=(new Date).getTime();if(!(t-this.__pt<this.__st)){if(this.__pt=t-10,this.__testCanvas){var i=this.__testCanvas.getContext("2d");if(i){var s;if(i.fillStyle="rgb(128,0,128)",i.fillRect(0,0,700,700),i.strokeStyle="#f00",this.__mc.gg)for(i.save(),i.scale(.5,.5),i.drawImage(this.__mc.gg.os_img._dat,0,0),i.drawImage(this.__mc.gg.os2_img._dat,576,0),i.restore(),i.beginPath(),s=0;s<700;s+=32)i.moveTo(0,s),i.lineTo(700,s),i.moveTo(s,0),i.lineTo(s,700);i.stroke()}}if(this.__testDiv&&this.__mc.mp){var h,e,a=this.__mc.mp,c="<div style='text-align:left'>";for(h in a)"[object Array]"!=(e=Object.prototype.toString.call(a[h]))&&"[object Function]"!=e&&(h in this.__teo?this.__teo[h].t>0?(c+="<span style='background-color:rgba(255,255,255,".concat(this.__teo[h].t/6,")'>").concat(h,": ").concat(a[h],"</span> "),this.__teo[h].t--):c+="".concat(h,": ").concat(a[h]," "):this.__teo[h]={val:a[h],t:0},this.__teo[h].val!=a[h]&&(this.__teo[h].val=a[h],this.__teo[h].t=6));this.__testDiv.innerHTML=c+"</div>"}this.__mc.run()}}},{key:"__pad_update",value:function(){if(this.__pad&&this.__pad_off){var i,s,h,e,a,c,o=this.__pad.getBoundingClientRect(),_=o.left,r=o.top,n=this.__pad_off.getContext("2d"),m=t.pad.coords.length;if(n){for(n.clearRect(0,0,500,200),n.fillStyle=t.pad.style.back,n.fillRect(0,0,500,200),n.fillStyle=t.pad.style.button,i=0;i<m;i++){for(n.beginPath(),h=(e=t.pad.coords[i]).length>>1,n.moveTo(e[0],e[1]),s=0;s<h;s++)n.lineTo(e[s<<1],e[1+(s<<1)]);n.closePath(),n.fill()}for(i=0;i<m;i++)this.__pad_after[i]=!1;for(n.fillStyle=t.pad.style.active,i=0;i<m;i++){for(n.beginPath(),h=(e=t.pad.coords[i]).length>>1,n.moveTo(e[0],e[1]),s=0;s<h;s++)n.lineTo(e[s<<1],e[1+(s<<1)]);for(s in n.closePath(),this.__pad_touches)a=this.__pad_touches[s].clientX-_,c=this.__pad_touches[s].clientY-r,this.__pad_after[i]=this.__pad_after[i]||n.isPointInPath(a/o.width*500,c/o.height*200);this.__pad_after[i]&&n.fill()}for(n.strokeStyle=t.pad.style.border,n.fillStyle=t.pad.style.text,i=0;i<m;i++){for(n.beginPath(),h=(e=t.pad.coords[i]).length>>1,n.moveTo(e[0],e[1]),s=1;s<h;s++)n.lineTo(e[s<<1],e[1+(s<<1)]);n.closePath(),n.stroke(),h=p(e),n.fillText(t.pad.chars[i],h[0],h[1])}n.stroke()}if(n=this.__pad.getContext("2d"))for(n.clearRect(0,0,500,200),n.drawImage(this.__pad_off,0,0),i=0;i<m;i++)this.__pad_before[i]!=this.__pad_after[i]&&(this.__pad_before[i]=this.__pad_after[i],this.__pad_after[i]?this.__pad_pressed(i):this.__pad_released(i))}function p(t){var i,s,h,e,a,c,o,_,r,n,m,p=t.length>>1;if(_=s=t[0],r=h=t[1],1==p)return[_,r];if(_=(_+(e=t[2]))/2,r=(r+(a=t[3]))/2,2==p)return[_,_];for(c=t[4],o=t[5],n=Math.abs((e-s)*(o-h)-(a-h)*(c-s))/2,_=(s+e+c)/3,r=(h+a+o)/3,i=3;i<p;i++)e=c,a=o,c=t[i<<1],o=t[1+(i<<1)],_=(n*_+(m=Math.abs((e-s)*(o-h)-(a-h)*(c-s))/2)*((s+e+c)/3))/(n+m),r=(n*r+m*((h+a+o)/3))/(n+m),n=m;return[_,r]}}},{key:"__pad_pressed",value:function(i){if(this.__mc.gk){var s=t.pad.codes[i];this.__mc.gk.keyPressed({keyCode:s,preventDefault:function(){}})}}},{key:"__pad_released",value:function(i){if(this.__mc.gk){var s=t.pad.codes[i];this.__mc.gk.keyReleased({keyCode:s,preventDefault:function(){}})}}},{key:"__pad_event",value:function(t){t.preventDefault(),this.__pad_touches=[];for(var i=0;i<t.touches.length;i++)this.__pad_touches.push(t.touches[i]);this.__pad_update()}}],[{key:"replaceAll",value:function(i){function s(){for(var s=document.getElementsByTagName("applet"),h=[],e=0;e<s.length;e++)h.push(s[e]);for(var a=0;a<h.length;a++){var c=h[a],o=c.getAttribute("code")||"";(o.match(/masaoconstruction/i)||o.match(/masaokani/i))&&t.replaceByDom(c,i)}for(var _=document.getElementsByTagName("object"),r=[],n=0;n<_.length;n++)r.push(_[n]);for(var m=0;m<r.length;m++){var p=r[m],g=p.querySelectorAll("param[name=code]")[0];g.tagName.match(/param/i)&&(g.value.match(/masaoconstruction/i)||g.value.match(/masaokani/i))&&t.replaceByDom(p,i)}}"complete"==document.readyState?s():window.addEventListener("load",s)}},{key:"replace",value:function(i,s){function h(){t.replaceByDom(document.getElementById(i),s)}"complete"==document.readyState?h():window.addEventListener("load",h)}},{key:"replaceByDom",value:function(i,s){if(i.parentNode){for(var h=i.getElementsByTagName("param"),e=h.length,a={},c=0;c<e;c++)a[h[c].name]=h[c].value;var o=document.createElement("div"),_=i.id||Zi();o.id=_,i.parentNode.replaceChild(o,i),!1!==(s=s||{})["bc-use-rounddown"]&&(s["bc-use-rounddown"]=!0),new t(a,_,s)}}}])}();Li.focus=(document.addEventListener("mousedown",(function(){Fi=null})),{focus:function(t){Fi=t},hasFocus:function(t){return Fi===t}}),Li.padAccessor=(Di=[],{append:function(t){Di.push(t)},show:function(t){for(var i=0;i<Di.length;i++)t!==Di[i]?Di[i].style.display="none":t.style.display="inline"}}),Li.pad={coords:[[410,30,490,30,490,170,410,170],[320,30,400,30,400,170,320,170],[250,30,290,30,290,70,250,70],[200,30,240,30,240,70,200,70],[5,60,87,60,87,140,5,140],[175,60,93,60,93,140,175,140],[30,5,30,80,150,80,150,5],[30,195,30,120,150,120,150,195]],chars:["X","Z","T","P","←","→","↑","↓"],codes:[88,90,84,80,37,39,38,40],style:{rate:.4,back:"rgba(0, 0, 0, 0)",button:"rgba(128, 128, 128, 0.5)",active:"rgba(0, 0, 0, 0.5)",text:"black",border:"black"},avoidAD:!1};var Hi=function(){return Vi((function t(i){Ei(this,t),this._dat=new Audio,this._dat.preload="auto",this._dat.src=i}),[{key:"_oncanplaythrough",value:function(){}},{key:"_onerror",value:function(){}},{key:"play",value:function(){try{this._dat.loop=!1,this._dat.currentTime=0,this._dat.play()}catch(t){return!1}return!0}},{key:"loop",value:function(){try{this._dat.loop=!0,this._dat.currentTime=0,this._dat.play()}catch(t){return!1}return!0}},{key:"stop",value:function(){try{this._dat.pause()}catch(t){return!1}return!0}}])}(),Ui=Vi((function t(i,s){Ei(this,t),this.width=i,this.height=s}));function qi(){if(0==arguments.length)return null;for(var t=new Array(arguments.length),i=0;i<arguments.length;i++)t[i]=i<0||arguments.length<=i?void 0:arguments[i];return function t(i){var s=new Array(i[0]);if(1==i.length)return s;for(var h=i.slice(1),e=0;e<i[0];e++)s[e]=t(h);return s}(t)}function Ki(t,i,s){return t>=0||i&&!(null==s?void 0:s.tdb.options["bc-use-rounddown"])?Math.floor(t):-Math.floor(-t)}function Ji(t,i){return t<0?-(-t>>i):t>>i}function Zi(){return Math.random().toString(36).slice(2)}function Xi(){for(var t=arguments.length,i=new Array(t),s=0;s<t;s++)i[s]=arguments[s];return i.join("")}var $i=function(){return Vi((function t(i,s){Ei(this,t),this.targetTime=0,this.game=i,this.forceSetInterval=s,this.running=!1,this.interval=null,this.callback=null,this.mode=0,this.prevTime=null,this.timerid=null,this._loop=this._loop.bind(this)}),[{key:"start",value:function(t,i){this.running=!0,this.interval=t,this.callback=i;var s=Qi();this.targetTime=s+t,this.prevTime=s,this.forceSetInterval?this.mode=0:this.mode=1,0===this.mode&&(this.timerid=window.setInterval(this._loop,t)),this._next()}},{key:"stop",value:function(){this.running&&null!==this.timerid&&(this.running=!1,1===this.mode?cancelAnimationFrame(this.timerid):clearInterval(this.timerid))}},{key:"_next",value:function(){1===this.mode&&(this.timerid=requestAnimationFrame(this._loop))}},{key:"_loop",value:function(){if(this.running&&null!==this.prevTime&&null!==this.interval&&this.callback){var t=Qi();t-this.prevTime>=500&&(this.targetTime=t-1);var i=Math.ceil((t-this.targetTime)/this.interval);for(this.targetTime+=this.interval*i;i>0&&(this.callback(),i--,!(Qi()-t>2)););if(i>0){var s=this;ts((function t(h){for(;i>0&&h.timeRemaining()>0;)s.callback(),i--;i>0&&!h.didTimeout&&ts(t,{timeout:1e3})}),{timeout:1e3})}this._next(),this.prevTime=t}}}])}(),Qi=window.performance&&performance.now?performance.now.bind(performance):Date.now?Date.now.bind(Date):function(){return 1e3*(new Date).getTime()},ts="function"==typeof requestIdleCallback?requestIdleCallback:"function"==typeof setImmediate?function(t){setImmediate((function(){var i=Qi();t({didTimeout:!1,timeRemaining:function(){return 50+i-Qi()}})}))}:function(t){setTimeout((function(){var i=Qi();t({didTimeout:!1,timeRemaining:function(){return 50+i-Qi()}})}),1)};function is(t){return is="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},is(t)}function ss(){var t,i,s="function"==typeof Symbol?Symbol:{},h=s.iterator||"@@iterator",e=s.toStringTag||"@@toStringTag";function a(s,h,e,a){var _=h&&h.prototype instanceof o?h:o,r=Object.create(_.prototype);return hs(r,"_invoke",function(s,h,e){var a,o,_,r=0,n=e||[],m=!1,p={p:0,n:0,v:t,a:g,f:g.bind(t,4),d:function(i,s){return a=i,o=0,_=t,p.n=s,c}};function g(s,h){for(o=s,_=h,i=0;!m&&r&&!e&&i<n.length;i++){var e,a=n[i],g=p.p,u=a[2];s>3?(e=u===h)&&(_=a[(o=a[4])?5:(o=3,3)],a[4]=a[5]=t):a[0]<=g&&((e=s<2&&g<a[1])?(o=0,p.v=h,p.n=a[1]):g<u&&(e=s<3||a[0]>h||h>u)&&(a[4]=s,a[5]=h,p.n=u,o=0))}if(e||s>1)return c;throw m=!0,h}return function(e,n,u){if(r>1)throw TypeError("Generator is already running");for(m&&1===n&&g(n,u),o=n,_=u;(i=o<2?t:_)||!m;){a||(o?o<3?(o>1&&(p.n=-1),g(o,_)):p.n=_:p.v=_);try{if(r=2,a){if(o||(e="next"),i=a[e]){if(!(i=i.call(a,_)))throw TypeError("iterator result is not an object");if(!i.done)return i;_=i.value,o<2&&(o=0)}else 1===o&&(i=a.return)&&i.call(a),o<2&&(_=TypeError("The iterator does not provide a '"+e+"' method"),o=1);a=t}else if((i=(m=p.n<0)?_:s.call(h,p))!==c)break}catch(i){a=t,o=1,_=i}finally{r=1}}return{value:i,done:m}}}(s,e,a),!0),r}var c={};function o(){}function _(){}function r(){}i=Object.getPrototypeOf;var n=[][h]?i(i([][h]())):(hs(i={},h,(function(){return this})),i),m=r.prototype=o.prototype=Object.create(n);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,r):(t.__proto__=r,hs(t,e,"GeneratorFunction")),t.prototype=Object.create(m),t}return _.prototype=r,hs(m,"constructor",r),hs(r,"constructor",_),_.displayName="GeneratorFunction",hs(r,e,"GeneratorFunction"),hs(m),hs(m,e,"Generator"),hs(m,h,(function(){return this})),hs(m,"toString",(function(){return"[object Generator]"})),(ss=function(){return{w:a,m:p}})()}function hs(t,i,s,h){var e=Object.defineProperty;try{e({},"",{})}catch(t){e=0}hs=function(t,i,s,h){if(i)e?e(t,i,{value:s,enumerable:!h,configurable:!h,writable:!h}):t[i]=s;else{function a(i,s){hs(t,i,(function(t){return this._invoke(i,s,t)}))}a("next",0),a("throw",1),a("return",2)}},hs(t,i,s,h)}function es(t,i){for(var s=0;s<i.length;s++){var h=i[s];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(t,as(h.key),h)}}function as(t){var i=function(t){if("object"!=is(t)||!t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var s=i.call(t,"string");if("object"!=is(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==is(i)?i:i+""}var cs=function(t,i,s,h){return new(s||(s=Promise))((function(e,a){function c(t){try{_(h.next(t))}catch(t){a(t)}}function o(t){try{_(h.throw(t))}catch(t){a(t)}}function _(t){var i;t.done?e(t.value):(i=t.value,i instanceof s?i:new s((function(t){t(i)}))).then(c,o)}_((h=h.apply(t,i||[])).next())}))},os=function(){return t=function t(i,s){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.amapchip_img_default_name="",this.tdb=i,this.ap=s,this.spt_kazu_x=10,this.spt_kazu_y=25,this.spt_kazu=this.spt_kazu_x*this.spt_kazu_y,this.spt_h_kijyun=3,this.mode=2,this.oya=null,1==this.tdb.getValueInt("mcs_screen_size")?(this.system_screen_size=1,this.system_screen_width=640,this.system_screen_height=480):(this.system_screen_size=2,this.system_screen_width=512,this.system_screen_height=320),this.di=new Ui(this.system_screen_width,this.system_screen_height),this.backcolor=F.black,this.li=new Array(10),this.mt=[],this.os_img=this.ap.createImage(this.di.width,this.di.height),this.os_g=this.os_img.getGraphics(),this.os_g_bk=this.os_img.getGraphicsBk(),this.os2_img=this.ap.createImage(this.di.width+96,this.di.height+96),this.os2_g=this.os2_img.getGraphics(),this.os32_img=this.ap.createImage(32,32),this.os32_g=this.os32_img.getGraphics(),this.pg=void 0,this.spt_img=qi(2,this.spt_kazu),this.hi=void 0,this.apt_img=new Map,this.spt_option_img=new Array(10),this.layer_mode=2,this.smapchip_img=qi(1,256),this.amapchip_img=new Map;var h,e=this.tdb.getValue("layer_mode");h=parseInt(e),isNaN(h)&&(h=-1),this.layer_mode=2==h?2:1,this.apt_img_default_name=this.tdb.getValue("filename_pattern"),this.apt_img.set(this.apt_img_default_name,this.ap.getImage(this.apt_img_default_name)),2==this.layer_mode&&(this.amapchip_img_default_name=this.tdb.getValue("filename_mapchip"),this.amapchip_img.set(this.amapchip_img_default_name,this.ap.getImage(this.amapchip_img_default_name)),this.amapchip_img.get(this.amapchip_img_default_name)||this.amapchip_img.set(this.amapchip_img_default_name,new T(512,512))),this.font_score="",this.font_message=""},i=[{key:"cut",value:function(){this.cutPatternImage(),this.hi=this.spt_img[0],2==this.layer_mode&&this.cutMapchipImage()}},{key:"cutPatternImage",value:function(){var t,i,s,h,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.apt_img.get(this.apt_img_default_name);for(i=0;i<=this.spt_kazu_y-1;i++)for(s=0;s<=this.spt_kazu_x-1;s++)t=10*i+s,this.spt_img[0][t]=new T(32,32),(h=this.spt_img[0][t].getGraphics())&&h.drawImage(e,32*s,32*i,32,32,0,0,32,32,null),i>=this.spt_h_kijyun?(this.spt_img[1][t]=new T(32,32),(h=this.spt_img[1][t].getGraphics())&&(h.scale(-1,1),h.drawImage(e,32*s,32*i,32,32,-32,0,32,32,null))):this.spt_img[1][t]=this.spt_img[0][t];if(2==this.tdb.getValueInt("water_clear_switch")){var a=this.tdb.getValueInt("water_clear_level");a<0?a=0:a>255&&(a=255);for(var c=0;c<=3;c++)1==c?(s=0,i=8):2==c?(s=1,i=8):3==c?(s=2,i=8):(s=4,i=0),t=10*i+s,this.spt_img[0][t]=new T(32,32),(h=this.spt_img[0][t].getGraphics())&&(h.setGlobalAlpha(a),h.drawImage(e,32*s,32*i,32,32,0,0,32,32,null))}for(var o=0;o<=9;o++)this.spt_option_img[o]=this.spt_img[0][10+o]}},{key:"cutMapchipImage",value:function(){var t,i,s,h,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.amapchip_img.get(this.amapchip_img_default_name),a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(2==this.layer_mode&&this.amapchip_img.get(this.amapchip_img_default_name))for(t=0;t<=15;t++)for(i=0;i<=15;i++)s=16*t+i,this.smapchip_img[a][s]=new T(32,32),(h=this.smapchip_img[a][s].getGraphics())&&h.drawImage(e,32*i,32*t,32,32,0,0,32,32,null)}},{key:"setPatternImage",value:function(t){return cs(this,void 0,void 0,ss().m((function i(){var s,h,e;return ss().w((function(i){for(;;)switch(i.n){case 0:if(this.apt_img.has(t)){i.n=2;break}return s=this.apt_img,h=t,i.n=1,this.ap.getImageAsync(t);case 1:e=i.v,s.set.call(s,h,e);case 2:if(null!=this.apt_img.get(t)){i.n=3;break}return i.a(2);case 3:this.cutPatternImage(this.apt_img.get(t));case 4:return i.a(2)}}),i,this)})))}},{key:"setMapchipImage",value:function(t,i){return cs(this,void 0,void 0,ss().m((function s(){var h,e,a;return ss().w((function(s){for(;;)switch(s.n){case 0:if(2==this.layer_mode){s.n=1;break}return s.a(2);case 1:if(this.amapchip_img.has(t)){s.n=3;break}return h=this.amapchip_img,e=t,s.n=2,this.ap.getImageAsync(t);case 2:a=s.v,h.set.call(h,e,a);case 3:if(null!=this.amapchip_img.get(t)){s.n=4;break}return s.a(2);case 4:2==this.layer_mode&&this.cutMapchipImage(this.amapchip_img.get(t),i);case 5:return s.a(2)}}),s,this)})))}},{key:"addListImage",value:function(t,i){this.li[t]=this.ap.getImage(i),this.mt.push(this.li[t])}},{key:"addListImage2",value:function(t,i){this.li[t]=this.ap.getImage(i)}},{key:"loadListImage",value:function(){this.mt}},{key:"loadImage",value:function(t){var i=null;try{i=this.ap.getImage(t)}catch(t){}return null==i?null:i}},{key:"copyOS",value:function(t){t.drawImage(this.os_img,0,0,this.ap)}},{key:"fill",value:function(){this.os_g.setColor(this.backcolor),this.os_g.fillRect(0,0,this.di.width,this.di.height)}},{key:"fill2",value:function(){this.os2_g.setColor(this.backcolor),this.os2_g.fillRect(0,0,this.di.width+96,this.di.height+96)}},{key:"setBackcolor",value:function(t){this.backcolor=t}},{key:"drawPT",value:function(t,i,s,h){this.os_g.drawImage(this.spt_img[h][s],t,i,this.ap)}},{key:"drawPT2",value:function(t,i,s){this.hi&&this.os2_g.drawImage(this.hi[s],t,i,this.ap)}},{key:"drawPattern",value:function(t,i,s,h){var e=0;1==h&&(e=1),this.os_g.drawImage(this.spt_img[e][s],t,i,this.ap)}},{key:"drawPatternCut",value:function(t,i,s,h,e){var a=0;1==h&&(a=1),this.os32_g.drawImage(this.os_img,-1*t,-1*i-e,this.ap),this.os32_g.drawImage(this.spt_img[a][s],0,-1*e,this.ap),this.os_g.drawImage(this.os32_img,t,i+e,this.ap)}},{key:"drawBG2",value:function(t,i,s){this.os2_g.setColor(this.backcolor),this.os2_g.fillRect(t,i,32,32),this.hi&&this.os2_g.drawImage(this.hi[s],t,i,this.ap)}},{key:"drawBG3",value:function(t,i,s,h){this.os2_g.setColor(h),this.os2_g.fillRect(t,i,32,32),this.hi&&this.os2_g.drawImage(this.hi[s],t,i,this.ap)}},{key:"drawMapchip",value:function(t,i,s,h){this.os_g.drawImage(this.smapchip_img[h][s],t,i,this.ap)}},{key:"drawMapchip2",value:function(t,i,s,h){this.os2_g.drawImage(this.smapchip_img[h][s],t,i,this.ap)}},{key:"drawListImage",value:function(t,i,s){this.os_g.drawImage(this.li[s],t,i,this.ap)}}],i&&es(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,i}(),_s=function(t){function i(){var i=this||self;return delete t.prototype.__magic__,i}return"object"==typeof globalThis?globalThis:this?i():(t.defineProperty(t.prototype,"__magic__",{configurable:!0,get:i}),__magic__)}(Object);Object.defineProperty(_s,"CanvasMasao",{value:h}),Object.defineProperty(_s,"JSMasao",{value:Li}),Object.defineProperty(Li,"MasaoConstruction",{value:Yi}),Object.defineProperty(h,"version",{value:"v5.6.2"})}();