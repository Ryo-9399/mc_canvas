var CanvasMasao = function(){
"use strict";
function CharacterObject()
{
	this.c = 0;
	this.x = 0;
	this.y = 0;
	this.vx = 0;
	this.vy = 0;
	this.wx = 0;
	this.wy = 0;
	this.c1 = 0;
	this.c2 = 0;
	this.c3 = 0;
	this.c4 = 0;
	this.c5 = 0;
	this.pt = 0;
	this.pth = 0;
	this.img = null;
	this.zs_x = 0;
	this.zs_y = 0;
	this.ac = 0;
	this.level = 0;
	this.jimen_f = false;
	this.muki = 0;
	this.direction = 0;
	this.score = 0;
	this.ss = 0;
	this.gf = false;
}

CharacterObject.prototype.init = function()
{
	this.c = 0;
	this.x = 0;
	this.y = 0;
	this.vx = 0;
	this.vy = 0;
	this.wx = 0;
	this.wy = 0;
	this.c1 = 0;
	this.c2 = 0;
	this.c3 = 0;
	this.c4 = 0;
	this.c5 = 0;
	this.pt = 0;
	this.pth = 0;
	this.img = null;
	this.zs_x = 0;
	this.zs_y = 0;
	this.ac = 0;
	this.level = 0;
	this.jimen_f = false;
	this.muki = 0;
	this.direction = 0;
	this.score = 0;
	this.ss = 0;
	this.gf = false;
}

CharacterObject.prototype.setPattern = function(paramString) {}

function ChipImage(i, j, k, l, bufferedimage)
{
	this.chip_width = i;
	this.chip_height = j;
	this.chip_x_count = k;
	this.chip_y_count = l;
	this.ai_width = bufferedimage._width;
	this.ai_height = bufferedimage._height;
	this.chip_img = createNDimensionArray(this.chip_x_count * this.chip_y_count, 4);
	this.ai_img = bufferedimage;
	createImageBuffer.bind(this)(0);

	function makeChipImage(bufferedimage)
	{
		var localG;

		for(var l = 0; l < this.chip_y_count; l++)
		{
			for(var j = 0; j < this.chip_x_count; j++)
			{
				var k1 = j * this.chip_width;
				var l1 = l * this.chip_height;
				/*if((k1 + this.chip_width) - 1 > this.ai_width - 1 || (l1 + this.chip_height) - 1 > this.ai_height - 1)
				{
					this.chip_img[j + l * this.chip_x_count][0] = null;
					continue;
				}*/
				localG = this.chip_img[j + l * this.chip_x_count][0].getGraphics();
				localG.drawImage(this.ai_img, k1, l1, this.chip_width, this.chip_height,
					0, 0, this.chip_width, this.chip_height, null);
			}

		}

	}

	function makeReverseChipImage()
	{
		var localG;
		var w = this.chip_width;
		var h = this.chip_height;
		for(var j = 0; j < this.chip_y_count; j++)
		{
			for(var i = 0; i < this.chip_x_count; i++)
			{
				var k2 = i + j * this.chip_x_count;
				if(this.chip_img[k2][0] == null)
					continue;

				localG = this.chip_img[k2][1].getGraphics();
				localG.scale(-1, 1);
				localG.drawImage(this.chip_img[k2][0], -w, 0, w, h, null);
				localG.dispose();
				localG = this.chip_img[k2][2].getGraphics();
				localG.scale(1, -1);
				localG.drawImage(this.chip_img[k2][0], 0, -h, w, h, null);
				localG.dispose();
				localG = this.chip_img[k2][3].getGraphics();
				localG.scale(-1, -1);
				localG.drawImage(this.chip_img[k2][0], -w, -h, w, h, null);
				localG.dispose();
			}

		}

		return true;
	}

	function createImageBuffer(n)
	{
		var k, i;
		for(k = 0; k < this.chip_y_count; k++)
		{
			for(i = 0; i < this.chip_x_count; i++)
			{
				//if(n == 0 && ((i + 1) * this.chip_width - 1 > this.ai_width - 1 || (k + 1) * this.chip_height - 1 > this.ai_height - 1))
					//this.chip_img[i + k * this.chip_x_count][n] = null;
				//else
					this.chip_img[i + k * this.chip_x_count][n] = new ImageBuff(this.chip_width, this.chip_height);
			}
		}
	}

	this.makeChipImage = function()
	{
		makeChipImage.bind(this)(bufferedimage);
	}

	this.makeReverseChipImage = function()
	{
		makeReverseChipImage.bind(this)();
	}

	this.createImageBuffer = function(n)
	{
		createImageBuffer.bind(this)(n);
	}

	this.getChipImage = function(i, j)
	{
		if(!j) j = 0;
		if(i >= this.chip_img.length || i < 0 || j > 3 || j < 0)
			return null;
		else
			return this.chip_img[i][j];
	}

}

function GameGraphicsForApplet(paramTagDataBase, paramApplet)
{
	this.spt_kazu_x = 10;
	this.spt_kazu_y = 25;
	this.spt_kazu = this.spt_kazu_x * this.spt_kazu_y;
	this.spt_h_kijyun = 3;
	this.mode = 2;
	this.tdb = paramTagDataBase;
	this.ap = paramApplet;
	this.oya = null;
	this.di = new Dimension(512, 320);
	this.mt = undefined;
	this.backcolor = Color.black;
	this.os_img = this.ap.createImage(this.di.width, this.di.height);
	this.os_g = this.os_img.getGraphics();
    this.os_g_bk = this.os_img.getGraphicsBk();
	this.os2_img = this.ap.createImage(this.di.width + 96, this.di.height + 96);
	this.os2_g = this.os2_img.getGraphics();
	this.os32_img = this.ap.createImage(32, 32);
	this.os32_g = this.os32_img.getGraphics();
	this.apt_img = undefined;
	this.pg = undefined;
	this.li = new Array(10);
	this.spt_img = createNDimensionArray(2, this.spt_kazu);
	this.hi = undefined;
	this.spt_option_img = new Array(10);
	this.layer_mode = 2;
	this.amapchip_img = undefined;
	this.smapchip_img = new Array(256);

	var str = this.tdb.getValue("layer_mode");
	var i4;
	i4 = parseInt(str);
	if(isNaN(i4))
		i4 = -1;
	if (i4 == 2) {
		this.layer_mode = 2;
	} else {
		this.layer_mode = 1;
	}
	this.mt = [];

	str = this.tdb.getValue("filename_pattern");
	this.apt_img = this.ap.getImage(str);
	// イメージを読み込めなかったときのハック
	//if(this.apt_img == null)
		//this.apt_img = new ImageBuff(this.spt_kazu_x * 32, this.spt_kazu_y * 32);
	if (this.layer_mode == 2)
	{
		str = this.tdb.getValue("filename_mapchip");
		this.amapchip_img = this.ap.getImage(str);
		// ハック
		if(this.amapchip_img == null)
			this.amapchip_img = new ImageBuff(512, 512);
	}
}


	// コンストラクタ終わり



GameGraphicsForApplet.prototype.cut = function()
{
	// ■■■32x32にカットする処理
	var i, j, n, m, localG;
	for (n = 0; n <= this.spt_kazu_y - 1; n++) {
		for (m = 0; m <= this.spt_kazu_x - 1; m++)
		{
			j = n * 10 + m;
			this.spt_img[0][j] = new ImageBuff(32, 32);
			localG = this.spt_img[0][j].getGraphics();
			localG.drawImage(this.apt_img, m * 32, n * 32, 32, 32, 0, 0, 32, 32, null);
			if(n >= this.spt_h_kijyun)
			{
				this.spt_img[1][j] = new ImageBuff(32, 32);
				localG = this.spt_img[1][j].getGraphics();
				localG.scale(-1, 1);
				localG.drawImage(this.apt_img, m * 32, n * 32, 32, 32, -32, 0, 32, 32, null);
			}
			else
			{
				this.spt_img[1][j] = this.spt_img[0][j];
			}
		}
	}
	this.hi = this.spt_img[0];
	for (m = 0; m <= 9; m++) {
		this.spt_option_img[m] = this.spt_img[0][(10 + m)];
	}
	if (this.tdb.getValueInt("water_clear_switch") == 2)
	{
		var i5 = this.tdb.getValueInt("water_clear_level");
		if (i5 < 0) {
			i5 = 0;
		} else if (i5 > 255) {
			i5 = 255;
		}
		for (var k = 0; k <= 3; k++)
		{
			if (k == 1)
			{
				m = 0;
				n = 8;
			}
			else if (k == 2)
			{
				m = 1;
				n = 8;
			}
			else if (k == 3)
			{
				m = 2;
				n = 8;
			}
			else
			{
				m = 4;
				n = 0;
			}
			j = n * 10 + m;

			this.spt_img[0][j] = new ImageBuff(32, 32);
			localG = this.spt_img[0][j].getGraphics();
			localG.setGlobalAlpha(i5);
			localG.drawImage(this.apt_img, m * 32, n  * 32, 32, 32, 0, 0, 32, 32, null);
		}
	}
	// ■■■32x32にカットする処理(mapchip)
	if (this.layer_mode == 2)
	{
		for (n = 0; n <= 15; n++) {
			for (m = 0; m <= 15; m++)
			{
				i = n * 512 * 32 + m * 32;

				j = n * 16 + m;

				this.smapchip_img[j] = new ImageBuff(32, 32);
				localG = this.smapchip_img[j].getGraphics();
				localG.drawImage(this.amapchip_img, m * 32, n * 32, 32, 32, 0, 0, 32, 32, null);
			}
		}
	}
}


GameGraphicsForApplet.prototype.setPatternImage = function(paramString)
{
	this.apt_img = this.ap.getImage(paramString);
	// イメージを読み込めなかったときは操作を無効化するハック
	if(this.apt_img == null)
		return;

	// ■■■32x32にカットする処理
	var j, n, m, localG;
	for (n = 0; n <= this.spt_kazu_y - 1; n++) {
		for (m = 0; m <= this.spt_kazu_x - 1; m++)
		{
			j = n * 10 + m;
			this.spt_img[0][j] = new ImageBuff(32, 32);
			localG = this.spt_img[0][j].getGraphics();
			localG.drawImage(this.apt_img, m * 32, n * 32, 32, 32, 0, 0, 32, 32, null);
			if(n >= this.spt_h_kijyun)
			{
				this.spt_img[1][j] = new ImageBuff(32, 32);
				localG = this.spt_img[1][j].getGraphics();
				localG.scale(-1, 1);
				localG.drawImage(this.apt_img, m * 32, n * 32, 32, 32, -32, 0, 32, 32, null);
			}
			else
			{
				this.spt_img[1][j] = this.spt_img[0][j];
			}
		}
	}
}

GameGraphicsForApplet.prototype.setMapchipImage = function(paramString)
{
	if (this.layer_mode != 2) {
		return;
	}
	this.amapchip_img = this.ap.getImage(paramString);
	// ハック
	if(this.amapchip_img == null)
		return;

	// ■■■32x32にカットする処理(mapchip)
	if (this.layer_mode == 2)
	{
		for (n = 0; n <= 15; n++) {
			for (m = 0; m <= 15; m++)
			{
				i = n * 512 * 32 + m * 32;

				j = n * 16 + m;

				this.smapchip_img[j] = new ImageBuff(32, 32);
				localG = this.smapchip_img[j].getGraphics();
				localG.drawImage(this.amapchip_img, m * 32, n * 32, 32, 32, 0, 0, 32, 32, null);
			}
		}
	}
}

GameGraphicsForApplet.prototype.addListImage = function(paramInt, paramString)
{
	this.li[paramInt] = this.ap.getImage(paramString);


	this.mt.push(this.li[paramInt]);
}

GameGraphicsForApplet.prototype.addListImage2 = function(paramInt, paramString)
{
	this.li[paramInt] = this.ap.getImage(paramString);
}

GameGraphicsForApplet.prototype.loadListImage = function()
{
	waitFor(this.mt);
}

GameGraphicsForApplet.prototype.loadImage = function(paramString)
{
	var localImage = null;
	try
	{
		localImage = this.ap.getImage(paramString);
	}
	catch (ex1)
	{
		localImage = null;
	}
	if (localImage == null) {
		return null;
	}
	var localMediaTracker = [];
	localMediaTracker.push(localImage);
	waitFor(localMediaTracker);
	return localImage;
}

GameGraphicsForApplet.prototype.copyOS = function(paramGraphics)
{
	paramGraphics.drawImage(this.os_img, 0, 0, this.ap);
}

GameGraphicsForApplet.prototype.fill = function()
{
	this.os_g.setColor(this.backcolor);
	this.os_g.fillRect(0, 0, this.di.width, this.di.height);
}

GameGraphicsForApplet.prototype.fill2 = function()
{
	this.os2_g.setColor(this.backcolor);

	this.os2_g.fillRect(0, 0, this.di.width + 96, this.di.height + 96);
}

GameGraphicsForApplet.prototype.setBackcolor = function(paramColor)
{
	this.backcolor = paramColor;
}

GameGraphicsForApplet.prototype.drawPT = function(paramInt1, paramInt2, paramInt3, paramInt4)
{
	this.os_g.drawImage(this.spt_img[paramInt4][paramInt3], paramInt1, paramInt2, this.ap);
}

GameGraphicsForApplet.prototype.drawPattern = function(paramInt1, paramInt2, paramInt3, paramInt4)
{
	var i = 0;
	if (paramInt4 == 1) {
		i = 1;
	}
	this.os_g.drawImage(this.spt_img[i][paramInt3], paramInt1, paramInt2, this.ap);
}

GameGraphicsForApplet.prototype.drawPatternCut = function(paramInt1, paramInt2, paramInt3, paramInt4, paramInt5)
{
	var i = 0;
	if (paramInt4 == 1) {
		i = 1;
	}
	this.os32_g.drawImage(this.os_img, paramInt1 * -1, paramInt2 * -1 - paramInt5, this.ap);


	this.os32_g.drawImage(this.spt_img[i][paramInt3], 0, paramInt5 * -1, this.ap);


	this.os_g.drawImage(this.os32_img, paramInt1, paramInt2 + paramInt5, this.ap);
}

GameGraphicsForApplet.prototype.drawPT2 = function(paramInt1, paramInt2, paramInt3)
{
	this.os2_g.drawImage(this.hi[paramInt3], paramInt1, paramInt2, this.ap);
}

GameGraphicsForApplet.prototype.drawBG2 = function(paramInt1, paramInt2, paramInt3)
{
	this.os2_g.setColor(this.backcolor);
	this.os2_g.fillRect(paramInt1, paramInt2, 32, 32);


	this.os2_g.drawImage(this.hi[paramInt3], paramInt1, paramInt2, this.ap);
}

GameGraphicsForApplet.prototype.drawBG3 = function(paramInt1, paramInt2, paramInt3, paramColor)
{
	this.os2_g.setColor(paramColor);
	this.os2_g.fillRect(paramInt1, paramInt2, 32, 32);


	this.os2_g.drawImage(this.hi[paramInt3], paramInt1, paramInt2, this.ap);
}

GameGraphicsForApplet.prototype.drawMapchip = function(paramInt1, paramInt2, paramInt3)
{
	this.os_g.drawImage(this.smapchip_img[paramInt3], paramInt1, paramInt2, this.ap);
}

GameGraphicsForApplet.prototype.drawMapchip2 = function(paramInt1, paramInt2, paramInt3)
{
	this.os2_g.drawImage(this.smapchip_img[paramInt3], paramInt1, paramInt2, this.ap);
}

GameGraphicsForApplet.prototype.drawListImage = function(paramInt1, paramInt2, paramInt3)
{
	this.os_g.drawImage(this.li[paramInt3], paramInt1, paramInt2, this.ap);
}






function GameKey()
{
	this.key_code = 0;
	this.up_f = false;
	this.down_f = false;
	this.left_f = false;
	this.right_f = false;
	this.tr1_f = false;
	this.tr2_f = false;
	this.tr3_f = false;
	this.start_f = false;
	this.x_f = false;
	this.z_f = false;
	this.space_f = false;
	this.left_c = 0;
	this.right_c = 0;
	this.up_c = 0;
	this.down_c = 0;
	this.tr1_c = 0;
	this.codekey_f = new Array(256);
	this.left_right_lock = false;
}

GameKey.prototype.init = function()
{
	this.key_code = 0;
	this.up_f = false;
	this.down_f = false;
	this.left_f = false;
	this.right_f = false;
	this.tr1_f = false;
	this.tr2_f = false;
	this.tr3_f = false;
	this.start_f = false;
	this.x_f = false;
	this.z_f = false;
	this.space_f = false;
	this.left_c = 0;
	this.right_c = 0;

	this.up_c = 0;
	this.down_c = 0;
	this.tr1_c = 0;

	this.left_right_lock = false;
	for (var i = 0; i <= 255; i++) {
		this.codekey_f[i] = false;
	}
}

GameKey.prototype.keyPressed = function(paramKeyEvent)
{
	this.key_code = paramKeyEvent.keyCode;
	this.key_char = paramKeyEvent.keyCode;
	if ((this.key_code >= 0) && (this.key_code <= 255)) {
		this.codekey_f[this.key_code] = true;
	}
	switch (this.key_code)
	{
	case 38: 
		paramKeyEvent.preventDefault();
		this.up_f = true;
		break;
	case 40: 
		paramKeyEvent.preventDefault();
		this.down_f = true;

		this.tr2_f = true;

		break;
	case 37: 
		paramKeyEvent.preventDefault();
		if (!this.left_right_lock) {
			this.left_f = true;
		}
		break;
	case 39: 
		paramKeyEvent.preventDefault();
		if (!this.left_right_lock) {
			this.right_f = true;
		}
		break;
	case 104: 
		paramKeyEvent.preventDefault();
		this.up_f = true;
		break;
	case 98: 
		paramKeyEvent.preventDefault();
		this.down_f = true;

		this.tr2_f = true;

		break;
	case 100: 
		paramKeyEvent.preventDefault();
		if (!this.left_right_lock) {
			this.left_f = true;
		}
		break;
	case 102: 
		paramKeyEvent.preventDefault();
		if (!this.left_right_lock) {
			this.right_f = true;
		}
		break;
	case 90: 
		paramKeyEvent.preventDefault();
		this.tr1_f = true;
		this.z_f = true;


		break;
	case 88: 
		paramKeyEvent.preventDefault();
		this.tr2_f = true;
		this.x_f = true;
		break;
	case 67: 
		paramKeyEvent.preventDefault();
		this.tr3_f = true;
		break;
	case 32: 
		paramKeyEvent.preventDefault();
		this.tr1_f = true;
		this.space_f = true;

		this.tr1_c = 0;
		break;
	case 83: 
		paramKeyEvent.preventDefault();
		this.start_f = true;
	}
}

GameKey.prototype.keyReleased = function(paramKeyEvent)
{
	var i = paramKeyEvent.keyCode;
	if ((i >= 0) && (i <= 255)) {
		this.codekey_f[i] = false;
	}
	switch (i)
	{
	case 38: 
		this.up_f = false;
		break;
	case 40: 
		this.down_f = false;

		this.tr2_f = false;

		break;
	case 37: 
		if (!this.left_right_lock)
		{
			this.left_f = false;

			this.left_c = 0;
		}
		break;
	case 39: 
		if (!this.left_right_lock)
		{
			this.right_f = false;

			this.right_c = 0;
		}
		break;
	case 104: 
		this.up_f = false;
		break;
	case 98: 
		this.down_f = false;

		this.tr2_f = false;

		break;
	case 100: 
		if (!this.left_right_lock)
		{
			this.left_f = false;

			this.left_c = 0;
		}
		break;
	case 102: 
		if (!this.left_right_lock)
		{
			this.right_f = false;

			this.right_c = 0;
		}
		break;
	case 90: 
		this.tr1_f = false;
		this.z_f = false;

		this.tr1_c = 0;
		break;
	case 88: 
		this.tr2_f = false;
		this.x_f = false;
		break;
	case 67: 
		this.tr3_f = false;
		break;
	case 32: 
		this.tr1_f = false;
		this.space_f = false;

		this.tr1_c = 0;
		break;
	case 83: 
		this.start_f = false;
	}
}

GameKey.prototype.getKeyCode = function()
{
	return this.key_code;
}

/*GameKey.prototype.getKeyChar = function()
{
	return this.key_char;
}*/

function GameKey_keyPressed(obj, e)
{
	obj.keyPressed(e);
}

function GameKey_keyReleased(obj, e)
{
	obj.keyReleased(e);
}

function GameMouse()
{
	this.button_f = false;
	this.click_x = 0;
	this.click_y = 0;

	this.init = function()
	{
		this.button_f = false;
		this.click_x = 0;
		this.click_y = 0;
	}
}

GameMouse.prototype.mousePressed = function(paramMouseEvent)
{
	var target = paramMouseEvent.target;
	var rect = target.getBoundingClientRect();
	this.button_f = true;
	this.click_x = (paramMouseEvent.clientX - rect.left) / rect.width * target.width;
	this.click_y = (paramMouseEvent.clientY - rect.top) / rect.height * target.height;
}

GameMouse.prototype.mouseReleased = function(paramMouseEvent)
{
	this.button_f = false;
}

function GameMouse_mousePressed(obj, e)
{
	obj.mousePressed(e);
}

function GameMouse_mouseReleased(obj, e)
{
	obj.mouseReleased(e);
}
;
function GameSoundForApplet(paramTagDataBase, paramApplet)
{
	this.ap = paramApplet;
	this.tdb = paramTagDataBase;
	this.s_data = new Array(32);
	this.use_f = true;
	this.mute_f = false;
	this.rs_b = -1;
	this.bgm_switch = false;
	this.bgm_loop = false;
	this.bgm = new Array(20);
	this.bgm_filename = new Array(20);
	this.bgm_genzai = -1;

	for (var j = 0; j < this.s_data.length; j++) {
		this.s_data[j] = null;
	}
	if (parseInt(this.tdb.getValue("se_switch")) === 2) {
		this.use_f = false;
	}
	if (parseInt(this.tdb.getValue("fx_bgm_switch")) === 1) {
		this.bgm_switch = true;
	} else {
		this.bgm_switch = false;
	}
	if (parseInt(this.tdb.getValue("fx_bgm_loop")) === 1) {
		this.bgm_loop = true;
	} else {
		this.bgm_loop = false;
	}
	this.bgm_genzai = -1;

    this._init();
    this._load();
}

/**
 * _loadに必要なものをinitする
 * @private
 */
GameSoundForApplet.prototype._init = function(){
};

/**
 * se_filename フラグに応じてファイル名の配列を返す
 * @private
 * @returns {string[]}
 */
GameSoundForApplet.prototype._getSEFilenames = function(){
    var tdb = this.tdb;
    var se_filename = parseInt(tdb.getValue('se_filename'));
    var k;
    if (se_filename === 1){
        return [
            'item.au',
            'gameover.au',
            'clear.au',
            'jump.au',
            'sjump.au',
            'kiki.au',
            'coin.au',
            'get.au',
            'fumu.au',
            'tobasu.au',
            'mgan.au',
            'happa.au',
            'dosun.au',
            'item.au',
            'mgan.au',
            'happa.au',
            'bakuhatu.au',
            'mgan.au',
            'happa.au',
            'shot.au',
            'mizu.au',
            'get.au',
            'shot.au',
            'shot.au',
            'dosun.au',
            'get.au',
            'mgan.au',
        ];
    }else{
        return [
            tdb.getValue('filename_se_start'),
            tdb.getValue('filename_se_gameover'),
            tdb.getValue('filename_se_clear'),
            tdb.getValue('filename_se_jump'),
            tdb.getValue('filename_se_sjump'),
            tdb.getValue('filename_se_kiki'),
            tdb.getValue('filename_se_coin'),
            tdb.getValue('filename_se_get'),
            tdb.getValue('filename_se_fumu'),
            tdb.getValue('filename_se_tobasu'),
            tdb.getValue('filename_se_dengeki'),
            tdb.getValue('filename_se_happa'),
            tdb.getValue('filename_se_dosun'),
            tdb.getValue('filename_se_item'),
            tdb.getValue('filename_se_hinoko'),
            tdb.getValue('filename_se_mizudeppo'),
            tdb.getValue('filename_se_block'),
            tdb.getValue('filename_se_grounder'),
            tdb.getValue('filename_se_kaiole'),
            tdb.getValue('filename_se_bomb'),
            tdb.getValue('filename_se_mizu'),
            tdb.getValue('filename_se_dokan'),
            tdb.getValue('filename_se_senkuuza'),
            tdb.getValue('filename_se_fireball'),
            tdb.getValue('filename_se_miss'),
            tdb.getValue('filename_se_chizugamen'),
            tdb.getValue('filename_se_jet'),
        ];
    }
}

/**
 * BGMのファイル名の配列を返す
 * @private
 * @returns {string[]}
 */
GameSoundForApplet.prototype._getBGMFilenames = function() {
    var tdb = this.tdb;
    return [
        tdb.getValue('filename_fx_bgm_stage1'),
        tdb.getValue('filename_fx_bgm_stage2'),
        tdb.getValue('filename_fx_bgm_stage3'),
        tdb.getValue('filename_fx_bgm_stage4'),
        tdb.getValue('filename_fx_bgm_boss'),
        tdb.getValue('filename_fx_bgm_title'),
        tdb.getValue('filename_fx_bgm_ending'),
        tdb.getValue('filename_fx_bgm_chizu'),
    ];
};

/**
 * 音声ファイルを読み込み
 * @private
 */
GameSoundForApplet.prototype._load = function() {
    var i;
	if (this.use_f) {
        var se_filenames = this._getSEFilenames();
        for (i = 0; i < se_filenames.length; i++){
            this.s_data[i] = this.ap.getAudioClip(se_filenames[i]);
        }
	}
	if (this.bgm_switch)
	{
        var bgm_filenames = this._getBGMFilenames();
        for (i = 0; i < bgm_filenames.length; i++){
            this.bgm[i] = this.ap.getAudioClip(bgm_filenames[i], true);
            this.bgm_filename[i] = bgm_filenames[i];
        }
	}
};

GameSoundForApplet.prototype.setSound = function(paramInt,paramString) {
	if(paramInt < 0 || paramInt >= this.s_data.length){
		return;
	}
	this.s_data[paramInt] = this.ap.getAudioClip(paramString);
}

GameSoundForApplet.prototype.resetSound = function() {}

GameSoundForApplet.prototype.play = function(paramInt)
{
	if ((!this.use_f) || (this.mute_f) || (this.s_data[paramInt] == null)) {
		return;
	}
	this.s_data[paramInt].play();
}

GameSoundForApplet.prototype.stop = function(paramInt)
{
	if ((!this.use_f) || (this.s_data[paramInt] == null)) {
		return;
	}
	this.s_data[paramInt].stop();
}

GameSoundForApplet.prototype.stopAll = function()
{
	if (!this.use_f) {
		return;
	}
	for (var i = 0; i < this.s_data.length; i++) {
		if (this.s_data[i] != null) {
			this.s_data[i].stop();
		}
	}
}

GameSoundForApplet.prototype.soundOff = function()
{
	this.mute_f = true;

	this.stopBGM();
}

GameSoundForApplet.prototype.soundOn = function()
{
	this.mute_f = false;
	this.rs_b = -1;
}

GameSoundForApplet.prototype.rsInit = function()
{
	this.rs_b = -1;
}

GameSoundForApplet.prototype.rsAddSound = function(paramInt)
{
	this.rs_b = paramInt;
}

GameSoundForApplet.prototype.rsPlay = function()
{
	if ((!this.use_f) || (this.mute_f) || (this.rs_b == -1) || (this.s_data[this.rs_b] == null)) {
		return;
	}
	this.s_data[this.rs_b].stop();


	this.s_data[this.rs_b].play();

	this.rs_b = -1;
}

GameSoundForApplet.prototype.playBGM = function(paramInt)
{
	if (this.mute_f) {
		return;
	}
	if (this.bgm_genzai == paramInt) {
		return;
	}
	if ((this.bgm_genzai >= 0) && (paramInt >= 0)) {
		if ((this.bgm_filename[this.bgm_genzai] != null) && (this.bgm_filename[paramInt] != null)) {
			if (this.bgm_filename[this.bgm_genzai] == this.bgm_filename[paramInt]) {
				return;
			}
		}
	}
	if (this.bgm_genzai >= 0) {
		if (this.bgm[this.bgm_genzai] != null) {
			this.bgm[this.bgm_genzai].stop();
		}
	}
	if (this.bgm[paramInt] != null)
	{
		if (!this.bgm_loop) {
			this.bgm[paramInt].play();
		} else {
			this.bgm[paramInt].loop();
		}
		this.bgm_genzai = paramInt;
	}
}

GameSoundForApplet.prototype.stopBGM = function()
{
	if (this.bgm_genzai >= 0) {
		if (this.bgm[this.bgm_genzai] != null) {
			this.bgm[this.bgm_genzai].stop();
		}
	}
	this.bgm_genzai = -1;
}

GameSoundForApplet.prototype.playUserBGMFile = function(paramString)
{
	this.stopBGM();


	this.bgm[19] = this.ap.getAudioClip(paramString, true);
	if (this.bgm[19] != null)
	{
		this.bgm[19].play();

		this.bgm_genzai = 19;


		this.bgm_filename[19] = paramString;

		return true;
	}
	return false;
}

GameSoundForApplet.prototype.playUserBGMFileLoop = function(paramString)
{
	this.stopBGM();


	this.bgm[19] = this.ap.getAudioClip(paramString, true);
	if (this.bgm[19] != null)
	{
		this.bgm[19].loop();

		this.bgm_genzai = 19;


		this.bgm_filename[19] = paramString;

		return true;
	}
	return false;
}

/**
 * WebAudioを用いたゲーム音声
 */
function GameSoundWebAudio(paramTagDataBase, paramApplet){
    GameSoundForApplet.call(this, paramTagDataBase, paramApplet);
}
// 継承
GameSoundWebAudio.prototype = Object.create(GameSoundForApplet.prototype, {
    constructor: {
        configurable: true,
        value: GameSoundWebAudio,
    },
});

GameSoundWebAudio.prototype._init = function(){
    this.context = new AudioContext();
    // sourceとなるAudioNodeを格納（止めるため）
    this.sourceNodes = {};
    this.bgmSourceNodes = {};
};
GameSoundWebAudio.prototype._load = function() {
    var ap = this.ap;
    var i;
    if (this.use_f){
        var se_filenames = this._getSEFilenames();
        for (i = 0; i < se_filenames.length; i++){
            this._loadAudioBufferInto(ap.getAudioURL(se_filenames[i], false), this.s_data, i);
        }
    }
	if (this.bgm_switch)
	{
        var bgm_filenames = this._getBGMFilenames();
        for (i = 0; i < bgm_filenames.length; i++){
            var url = ap.getAudioURL(bgm_filenames[i], true);
            this.bgm_filename[i] = url;
            this._loadAudioBufferInto(url, this.bgm, i);
        }
	}

};
/**
 * ファイルをXHRで読み込みcontextAudioClipに変換
 * @private
 */
GameSoundWebAudio.prototype._loadAudioBufferInto = function(url, target, index, callback){
    var context = this.context;
    var xhr = new XMLHttpRequest();
    xhr.open('GET', url);

    xhr.responseType = 'arraybuffer';
    xhr.onload = function() {
        var buf = xhr.response;
        if (buf == null || xhr.status === 0 || xhr.status >= 400){
            return;
        }
        context.decodeAudioData(buf).then(function(audiobuf){
            target[index] = audiobuf;
            if ('function' === typeof callback){
                callback(audiobuf);
            }
        })
        .catch(function(err){
            console.error(err);
            if ('function' === typeof callback){
                callback(null);
            }
        });
    };
    xhr.onerror = function(err) {
        console.error(err);
        if ('function' === typeof callback){
            callback(null);
        }
    };

    xhr.send();
}

GameSoundWebAudio.prototype.play = function(paramInt)
{
	if ((!this.use_f) || (this.mute_f) || (this.s_data[paramInt] == null)) {
		return;
	}
    var source = this.context.createBufferSource();
    source.buffer = this.s_data[paramInt];
    source.connect(this.context.destination);
    this.sourceNodes[paramInt] = source;
    source.start(0);
};
GameSoundWebAudio.prototype.stop = function(paramInt)
{
	if (!this.use_f) {
		return;
	}
    var source = this.sourceNodes[paramInt];
    if (source == null){
        return;
    }
    source.disconnect();
    this.sourceNodes[paramInt] = void 0;
};
GameSoundWebAudio.prototype.stopAll = function(paramInt)
{
	if (!this.use_f) {
		return;
	}
	for (var i = 0; i < this.s_data.length; i++) {
        this.stop(i);
	}
};
GameSoundWebAudio.prototype.rsAddSound = function(paramInt)
{
    this.play(paramInt);
};
GameSoundWebAudio.prototype.playBGM = function(paramInt, loopflg)
{
	if (this.mute_f) {
		return;
	}
	if (this.bgm_genzai === paramInt) {
		return;
	}
	if ((this.bgm_genzai >= 0) && (paramInt >= 0)) {
		if ((this.bgm_filename[this.bgm_genzai] != null) && (this.bgm_filename[paramInt] != null)) {
			if (this.bgm_filename[this.bgm_genzai] == this.bgm_filename[paramInt]) {
				return;
			}
		}
	}
	if (this.bgm_genzai >= 0) {
		if (this.bgmSourceNodes[this.bgm_genzai] != null) {
			this.bgmSourceNodes[this.bgm_genzai].disconnect();
		}
	}
	if (this.bgm[paramInt] == null) {
        return;
    }
    var source = this.context.createBufferSource();
    source.buffer = this.bgm[paramInt];
    source.connect(this.context.destination);
    if (loopflg || this.bgm_loop) {
        source.loop = true;
        source.loopStart = 0;
        source.loopEnd = source.buffer.duration;
    }
    source.start(0);

    this.bgmSourceNodes[paramInt] = source;
    this.bgm_genzai = paramInt;
};
GameSoundWebAudio.prototype.stopBGM = function()
{
    var source = this.bgmSourceNodes[this.bgm_genzai];
    if (source != null){
        source.disconnect();
    }
    this.bgmSourceNodes[this.bgm_genzai] = void 0;
    this.bgm_genzai = -1;
};
GameSoundWebAudio.prototype.playUserBGMFile = function(paramString, loopflg)
{
    var url = this.ap.getAudioURL(paramString, true);
    this._loadAudioBufferInto(url, this.bgm, 19, function(buf){
        this.stopBGM();
        if (buf != null){
            this.bgm_filename[19] = url;

            this.playBGM(19, loopflg);
        }
    });

    return false;
};
GameSoundWebAudio.prototype.playUserBGMFileLoop = function(paramString)
{
    this.playUserBGMFile(paramString, true);
};

/**
 * Web Audio APIを使えるかどうか判定
 * 
 * @static
 */
GameSoundForApplet.factory = function(tdb){
    if ('undefined' !== typeof AudioContext && /^https?:$/i.test(location.protocol) && !tdb.options['bc-no-webaudio']){
        return GameSoundWebAudio;
    }else{
        return GameSoundForApplet;
    }
};
/**
 * 新しい正男のインスタンスを生成します。
 * 引数`id`ありで呼ばれた場合、そのIDを持つ要素の下に正男を設置します。
 * 引数`id`なしで呼ばれた場合、その場所にdocument.writeで正男を設置します。
 *
 * @constructor
 * @param {Object} params paramの一覧
 * @param {string} [id] 正男を設置する要素のID
 * @param {Object} [options] オプション
 * @param {Object[]} [options.extensions] 拡張機能
 * @param {Function} [options.userJSCallback] 毎フレーム呼び出されるコールバック関数
 * @param {Function} [options.highscoreCallback] ハイスコア更新時に呼び出されるコールバック関数
 * @param {Object} [options."advance-map"] 第3版マップデータ
 * @param {boolean} [options."bc-enemy-number"] 敵の数制限の後方互換性を保つ
 * @param {boolean} [options."bc-no-webaudio"] Web Audio APIを使わない音声再生を行う
 */
function Game(params, id, options){
	var randomID = makeRandomString();

	options = options || {};
	options.width = options.width || 512;
	options.height = options.height || 320;
    //Extends内のものをここに入れると反映される
    options.extensions = options.extensions || [];

	// DivエレメントID
	if(id){
		// idを持つ要素の配下に設置する
		this.__boxID = id;
	}else{
		// idが無ければ現在の場所に作る
		// ドキュメント書き込み文
		this.__boxID = "__mcdiv" + randomID;
		document.write("<div id='" + this.__boxID + "'><\/div>");
	}

	// キャンバスID
	this.__canvasID = "__mccanvas" + randomID;

	// ソフトパッドDivID
	this.__padDivID = "__mcpaddiv" + randomID;

	// 要素格納Divエレメント
	this.__box = document.getElementById(this.__boxID);

    // 後始末が必要なもの一覧 入るもの：
    // {type: "setInterval", value: (setIntervalの返り値)}
    // {type: "eventListener", target: (EventTarget), name: (イベント名), value: (イベントハンドラ関数)}
    this.__resourceList = [];

	// メインCanvasオブジェクト
	this.__canvas = document.createElement("canvas");
	this.__canvas.id = this.__canvasID;
	this.__canvas.width = options.width;
	this.__canvas.height = options.height;
	this.__canvas.textContent = "※お使いのブラウザはHTML5に対応していないため表示できません。";
	this.__box.appendChild(this.__canvas);

	// ソフトパッド格納Divエレメント
	// タッチスクリーン対応の端末ではソフトウェアパッドも表示する
	this.__padDiv = document.createElement("div");
	this.__padDiv.id = this.__padDivID;
	this.__box.appendChild(this.__padDiv);

	// デバッグ時に下のコメントアウトを外すと便利
/*
	// テストCanvas
	this.__testCanvas = document.createElement("canvas");
	this.__testCanvas.width = 700;
	this.__testCanvas.height = 700;
	this.__box.appendChild(this.__testCanvas);
	// テストDIV
	this.__testDiv = document.createElement("div");
	this.__box.appendChild(this.__testDiv);
	this.__teo = {};
*/

	if(!this.__canvas) return;
	if(!this.__canvas.getContext) return;

	// ソフトウェアパッド用変数
	//var __pad_btn;
	this.__pad_before = [];
	this.__pad_after = [];
	this.__pad_touches = [];

	// タッチスクリーン対応端末での処理
	if(window.TouchEvent)
	{
		var ss;

		// 表示/非表示切り替えボタン設定
		var __pad_btn = document.createElement("input");
		__pad_btn.type = "button";
		__pad_btn.value = "バーチャル操作パッド 表示 / 非表示";
		ss = __pad_btn.style;
		ss.width = "24em";
		ss.height = "2.5em";
		__pad_btn.onclick = function()
		{
			if(__pad.style.display == "inline")
				__pad.style.display = "none";
			else
			{
				Game.padAccessor.show(__pad);
			}
		}
		// ボタン配置
		this.__padDiv.appendChild(__pad_btn);

		// 改行
		this.__padDiv.appendChild(document.createElement("br"));

		// ソフトウェアパッド設定
		var __pad = this.__pad = document.createElement("canvas");
		__pad.width = 500;
		__pad.height = 200;
		var __pad_event = function(e){
			this.__pad_event(e);
		}.bind(this);
		__pad.addEventListener("touchstart", __pad_event, false);
		__pad.addEventListener("touchmove", __pad_event, false);
		__pad.addEventListener("touchend", __pad_event, false);
		__pad.addEventListener("touchcancel", __pad_event, false);
		__pad.style.display = "none";
		// パッド配置
		this.__padDiv.appendChild(__pad);

		ss = __pad.style;
		ss.position = "absolute";
		//ss.bottom = "0px";
		//ss.left = "0px";
		//ss.textAlign = "right";
		var __interval_id=setInterval(function()
		{
			var w = innerWidth;
			var h = innerHeight;
			var rw = (w < h) ? w : h;
			__pad.style.width = w + "px";
			__pad.style.height = (rw*Game.pad.style.rate) + "px";
			__pad.style.left = scrollX + "px";
			if(Game.pad.avoidAD)
				__pad.style.top = (scrollY + h - rw*Game.pad.style.rate - rw*0.16) + "px";
			else
				__pad.style.top = (scrollY + h - rw*Game.pad.style.rate) + "px";
			this.__pad_update();
		}.bind(this), 500);
        this.__resourceList.push({
            type: "setInterval",
            value: __interval_id
        });

		// 表示リストにパッドを登録
		Game.padAccessor.append(__pad);

		this.__pad_off = document.createElement("canvas");
		this.__pad_off.width = 500;
		this.__pad_off.height = 200;
		var ctx = this.__pad_off.getContext("2d");
		ctx.font = "24px monospace";
		ctx.textAlign = "center";
		ctx.textBaseline = "middle";
		ctx.lineWidth = 2;
		ctx.lineCap = "round";
		ctx.lineJoin = "round";
		for(var i = 0; i < 8; i++)
		{
			this.__pad_before[i] = false;
			this.__pad_after[i] = false;
		}
		this.__pad_update();
	}

	// __appimgはMasaoConstruction内へ移動
	// MasaoConstructionオブジェクト
	this.__mc = new MasaoConstruction(params, this.__canvas, this, options || {});
    for(var i=0;i<options.extensions.length;i++){
        options.extensions[i].inject(this.__mc, options);
    }
	this.__mc.start();
	var __st = this.__st = this.__mc.getParameter("game_speed");
	if(__st)
	{
		__st = parseInt(__st);
		if(isNaN(__st))
		{
			__st = 70;
		}
		else if(__st < 10)
		{
			__st = 10;
		}
		else if(__st > 300)
		{
			__st = 300;
		}
	}
	else __st = 70;

	this.__pt = 0;

	var __interval_id = setInterval(function(){
		this.__loop();
	}.bind(this), __st);
    this.__resourceList.push({
        type: "setInterval",
        value: __interval_id
    });
}

/**
 * ページ読み込み後、ページ内の全ての正男appletをcanvas正男に置換します。
 */
Game.replaceAll = function(options){
	if(document.readyState=="complete"){
		onload();
	}else{
		window.addEventListener("load", onload);
	}
	function onload(){
		var applets = document.getElementsByTagName("applet");
		var appletArray = [];
		for(var i=0; i<applets.length; i++){
			appletArray.push(applets[i]);
		}
		for(var i=0; i<appletArray.length; i++){
			var applet = appletArray[i], code = applet.getAttribute("code") || "";
			if(code.match(/masaoconstruction/i) || code.match(/masaokani/i)){
				// 正男であるようなら置換
				Game.replaceByDom(applet, options);
			}
		}
		var objects = document.getElementsByTagName("object");
		var objectArray = [];
		for(var i=0; i<objects.length; i++){
			objectArray.push(objects[i]);
		}
		for(var i=0; i<objectArray; i++){
			var object = objectArray[i];
			var param = object.getElementsByName("code")[0];
			// name属性に"code"を持つparam要素が
			// value属性に"masaoconstruction"または"masaokani"を含む時にまさおアプレットと判断する
			if(param.tagName.match(/param/i)){
				if(param.value.match(/masaoconstruction/i) || param.value.match(/masaokani/i)){
					Game.replaceByDom(object, options);
				}
			}
		}
	};
};

/**
 * ページ読み込み後，指定されたidを持つ正男appletをcanvas正男に置換します。
 *
 * @param {string} id アプレットのID
 * @param {Object} [options] オプション
 */
Game.replace = function(id, options){
	if(document.readyState=="complete"){
		// load済みの場合は即座に呼び出す
		onload();
	}else{
		// この関数をonload時に呼び出すようにする
		window.addEventListener("load", onload);
	}
	function onload()
	{
		// 従来ソースのパラメータを取得
		Game.replaceByDom(document.getElementById(id), options);
	};
};

Game.replaceByDom = function(paramScope, options){
	var paramTags = paramScope.getElementsByTagName("param");
	var paramLength = paramTags.length;
	var params = {};
	for(var i = 0; i < paramLength; i++)
	{
		params[paramTags[i].name] = paramTags[i].value;
	}
	// 元のappletをdivで置き換える
	var newDiv = document.createElement("div");
	var id = paramScope.id || makeRandomString();
	newDiv.id = id;
	paramScope.parentNode.replaceChild(newDiv, paramScope);
	new Game(params, id, options);
};

// 動作する部分を管理するオブジェクト
// Game.focus.focus(obj) : このオブジェクトobjにフォーカスを当てる
// Game.focus.hasFocus(obj) : このオブジェクトobjにフォーカスが当たっているならばtrueを返す
Game.focus = (function()
{
	var focusedObject;
	document.addEventListener("mousedown", function()
		{
			focusedObject = null;
		}
	);
	return {
		focus : function(obj)
		{
			focusedObject = obj;
		},
		hasFocus : function(obj)
		{
			return (focusedObject === obj);
		}
	};
})();

// 仮装パッドの表示リストを管理するオブジェクト
// Game.padAccessor.append(pad) : パッドpadをリストに登録する
// Game.padAccessor.show(pad) : パッドpadを表示し、リストの他のパッドを非表示にする
Game.padAccessor = (function()
{
	var padArray = [];
	return {
		append : function(pad)
		{
			padArray.push(pad);
		},
		show : function(pad)
		{
			for(var i = 0; i < padArray.length; i++)
			{
				if(pad !== padArray[i]) padArray[i].style.display = "none";
				else pad.style.display = "inline";
			}
		}
	};
})();

// ゲームを終了する関数
Game.prototype.kill = function(){
    //ゲームを止める
    this.__mc.stop();
    //__resourceListの中身を全部後始末してあげる
    for(var rl=this.__resourceList,i=0,l=rl.length;i<l;i++){
        if(rl[i].type==="setInterval"){
            clearInterval(rl[i].value);
        }else if(rl[i].type==="eventListener"){
            rl[i].target.removeEventListener(rl[i].name, rl[i].value);
        }
    }
    this.__resourceList=[];
    //追加したノードを消す
    while(this.__box.hasChildNodes()){
        this.__box.removeChild(this.__box.firstChild);
    }
};

// ループ関数
Game.prototype.__loop = function()
{
	var pt = new Date().getTime();
	if(pt - this.__pt < this.__st) return;
	this.__pt = pt - 10;


	// デバッグ用キャンバス描画
	if(this.__testCanvas)
	{
		var ctx = this.__testCanvas.getContext("2d");
		ctx.fillStyle = "rgb(128,0,128)";
		ctx.fillRect(0,0,700,700);
		ctx.strokeStyle = "#f00";
		var i;
		if(this.__mc.gg){
			ctx.save();
			ctx.scale(0.5, 0.5);
			ctx.drawImage(this.__mc.gg.os_img._dat,0,0);
			//ctx.drawImage(this.__mc.gg.os2_img._dat,0,832);
			ctx.drawImage(this.__mc.gg.os2_img._dat,576,0);
			//for(i=0; i<25; i++) for(j=0; j<10; j++) ctx.drawImage(this.__mc.gg.spt_img[0][i*10+j]._dat, j*48, i*48);
			//for(i=0; i<25; i++) for(j=0; j<10; j++) ctx.drawImage(this.__mc.gg.spt_img[0][i*10+j]._dat, j*48+640, i*48);
			//for(i=0; i<16; i++) for(j=0; j<16; j++) ctx.drawImage(this.__mc.gg.smapchip_img[i*16+j]._dat, j*48+832, i*48+832);
			ctx.restore();
			ctx.beginPath();
			for(i=0; i<700; i+=32)
			{
				ctx.moveTo(0,i);
				ctx.lineTo(700,i);
				ctx.moveTo(i,0);
				ctx.lineTo(i,700);
			}
		}
		ctx.stroke();
	}

	// デバッグ用文字表示
	if(this.__testDiv)
	{
		if(this.__mc.mp)
		{
			var mp = this.__mc.mp;
			var str = "<div style='text-align:left'>";
			var prop;
			var type;
			for(prop in mp)
			{
				type = Object.prototype.toString.call(mp[prop]);
				if(type != "[object Array]" && type != "[object Function]")
				{
					if(!(prop in this.__teo))
					{
						this.__teo[prop] = { val:mp[prop], t:0 };
					}
					else if(this.__teo[prop].t > 0)
					{
						str += "<span style='background-color:rgba(255,255,255,"+ (this.__teo[prop].t / 6) +")'>" + prop + ": " + mp[prop] + "</span> ";
						this.__teo[prop].t--;
					}
					else
					{
						str += prop + ": " + mp[prop] + " ";
					}
					if(this.__teo[prop].val != mp[prop])
					{
						this.__teo[prop].val = mp[prop];
						this.__teo[prop].t = 6;
					}
				}
			}
			this.__testDiv.innerHTML = str + "</div>";
		}
	}

	this.__mc.run();
}

// __repaintはMasaoConstructionへ移動




// ソフトウェアパッド更新関数
Game.prototype.__pad_update = function()
{
	var r = this.__pad.getBoundingClientRect();
	var dx = r.left;
	var dy = r.top;
	var c = this.__pad_off.getContext("2d");
	var i, j, k, tmp, sx, sy;
	var num = Game.pad.coords.length;

	c.clearRect(0, 0, 500, 200);
	c.fillStyle = Game.pad.style.back;
	c.fillRect(0, 0, 500, 200);
	c.fillStyle = Game.pad.style.button;
	for(i = 0; i < num; i++)
	{
		c.beginPath();
		tmp = Game.pad.coords[i];
		k = (tmp.length >> 1);
		c.moveTo(tmp[0], tmp[1]);
		for(j = 0; j < k; j++)
		{
			c.lineTo(tmp[(j << 1)], tmp[(j << 1) + 1]);
		}
		c.closePath();
		c.fill();
	}


	for(i = 0; i < num; i++)
	{
		this.__pad_after[i] = false;
	}


	c.fillStyle = Game.pad.style.active;


	for(i = 0; i < num; i++)
	{
		c.beginPath();
		tmp = Game.pad.coords[i];
		k = (tmp.length >> 1);
		c.moveTo(tmp[0], tmp[1]);
		for(j = 0; j < k; j++)
		{
			c.lineTo(tmp[(j << 1)], tmp[(j << 1) + 1]);
		}
		c.closePath();
		for(j in this.__pad_touches)
		{
			sx = this.__pad_touches[j].clientX - dx;
			sy = this.__pad_touches[j].clientY - dy;
			this.__pad_after[i] |= c.isPointInPath(sx/r.width*500, sy/r.height*200);
		}
		if(this.__pad_after[i]) c.fill();
	}


	c.strokeStyle = Game.pad.style.border;
	c.fillStyle = Game.pad.style.text;
	for(i = 0; i < num; i++)
	{
		c.beginPath();
		tmp = Game.pad.coords[i];
		k = (tmp.length >> 1);
		c.moveTo(tmp[0], tmp[1]);
		for(j = 1; j < k; j++)
		{
			c.lineTo(tmp[(j << 1)], tmp[(j << 1) + 1]);
		}
		c.closePath();
		c.stroke();
		k = measureCenterOfGravity(tmp);
		c.fillText(Game.pad.chars[i], k[0], k[1]);
	}
	c.stroke();

	c = this.__pad.getContext("2d");
	c.clearRect(0, 0, 500, 200);
	c.drawImage(this.__pad_off, 0, 0);
	for(i = 0; i < num; i++)
	{
		if(this.__pad_before[i] != this.__pad_after[i])
		{
			this.__pad_before[i] = this.__pad_after[i];
			if(this.__pad_after[i]) this.__pad_pressed(i);
			else this.__pad_released(i);
		}
	}

	// 頂点の配列から重心を求める
	function measureCenterOfGravity(p)
	{
		/*
		(x1, y1) : 基本頂点の座標
		(x2, y2) : 古い頂点の座標
		(x3, y3) : 次の頂点の座標
		(gx, gy) : 現時点の重心の座標
		s : 現時点での多角形の面積（質量と比例する）
		(gx2, gy2) : 新しい三角形の重心
		s2 : 新しい三角形の面積（質量と比例する）
		*/
		var i, n = p.length >> 1;
		var x1, y1, x2, y2, x3, y3;
		var gx, gy, s, gx2, gy2, s2;
		x1 = p[0];  y1 = p[1];
		gx = x1;  gy = y1;
		if(n == 1)
		{
			return [gx, gy];
		}
		x2 = p[2];  y2 = p[3];
		gx = (gx+x2) / 2;  gy = (gy+y2) / 2;
		if(n == 2)
		{
			return [gx, gx];
		}
		x3 = p[4];  y3 = p[5];
		s = Math.abs((x2-x1)*(y3-y1) - (y2-y1)*(x3-x1)) / 2;
		gx = (x1+x2+x3) / 3;  gy = (y1+y2+y3) / 3;
		for(i = 3; i < n; i++) // ４頂点以上からこのループに入る
		{
			x2 = x3;  y2 = y3;
			x3 = p[i << 1];  y3 = p[(i << 1) + 1];
			s2 = Math.abs((x2-x1)*(y3-y1) - (y2-y1)*(x3-x1)) / 2;
			gx2 = (x1+x2+x3) / 3;  gy2 = (y1+y2+y3) / 3;
			gx = (s*gx + s2*gx2) / (s+s2);
			gy = (s*gy + s2*gy2) / (s+s2);
			s = s2;
		}
		return [gx, gy];
	}
}

Game.prototype.__pad_pressed = function(ch)
{
	if(this.__mc.gk)
	{
		var co = Game.pad.codes[ch];
		this.__mc.gk.keyPressed( { 
			keyCode:co,
			preventDefault:function(){}
		} );
	}
}

Game.prototype.__pad_released = function(ch)
{
	if(this.__mc.gk)
	{
		var co = Game.pad.codes[ch];
		this.__mc.gk.keyReleased( { 
			keyCode:co,
			preventDefault:function(){}
		} );
	}
}

Game.prototype.__pad_event = function(e)
{
	e.preventDefault();
	this.__pad_touches = [];
	for(var i = 0; i < e.touches.length; i++)
	{
		this.__pad_touches.push(e.touches[i]);
	}
	this.__pad_update();
}


Game.pad = {
	coords : [
		[410, 30, 490, 30, 490, 170, 410, 170],
		[320, 30, 400, 30, 400, 170, 320, 170],
		[250, 30, 290, 30, 290, 70, 250, 70],
		[200, 30, 240, 30, 240, 70, 200, 70],
		[5, 60, 87, 60, 87, 140, 5, 140],
		[175, 60, 93, 60, 93, 140, 175, 140],
		[30, 5, 30, 80, 150, 80, 150, 5],
		[30, 195, 30, 120, 150, 120, 150, 195]
	],
	chars : [
		"X", "Z", "T", "P", "←", "→", "↑", "↓"
	],
	codes : [
		88, 90, 84, 80, 37, 39, 38, 40
	],
	style : {
		rate : 0.4,
		back : "rgba(0, 0, 0, 0)",
		button : "rgba(128, 128, 128, 0.5)",
		active : "rgba(0, 0, 0, 0.5)",
		text : "black",
		border : "black",
	},
	avoidAD : false
}





// メディアの読み込みを待つ関数
function waitFor(param)
{
	/*for(var i in param)
	{
		var ret;
		while(true)
		{
			if(param[i]._loaded)
			{
				ret = true;
				break;
			}
			else if(param[i]._error)
			{
				ret = false;
				break;
			}
		}
	}*/
}







// java.applet.AudioClipもどき（未実装）
function AudioClip(url)
{
	this._dat = new Audio();
	//alert(this._dat.src);
	this._dat.preload = "auto";
	this._dat.src = url;
	/*this._loaded = false;
	this._error = false;
	var _this = this;
	this._dat.oncanplaythrough = function()
	{
		AudioClip__oncanplaythrough(_this);
	}
	this._dat.onerror = function()
	{
		AudioClip__onerror(_this);
	}
	__box.appendChild(this._dat);*/
}
AudioClip.prototype._oncanplaythrough = function()
{
	//this._loaded = true;
}
function AudioClip__oncanplaythrough(obj)
{
	//obj._oncanplaythrough();
}
AudioClip.prototype._onerror = function()
{
	//this._error = true;
	//this._dat.src = "";
}
function AudioClip__onerror(obj)
{
	//obj._onerror();
}

AudioClip.prototype.play = function()
{
	try
	{
		this._dat.loop = false;
		this._dat.currentTime = 0;
		this._dat.play();
	}
	catch(e)
	{
		return false;
	}
	return true;
}

AudioClip.prototype.loop = function()
{
	try
	{
		this._dat.loop = true;
		this._dat.currentTime = 0;
		this._dat.play();
	}
	catch(e)
	{
		return false;
	}
	return true;
}

AudioClip.prototype.stop = function()
{
	try
	{
		this._dat.pause();
	}
	catch(e)
	{
		return false;
	}
	return true;
}








// java.awt.Dimension
function Dimension(width, height)
{
	this.width = width;
	this.height = height;
}








// 多次元配列作成
function createNDimensionArray()
{
	if(arguments.length == 0) return null;
	var a = new Array(arguments.length);
	for(var i = 0; i < arguments.length; i++)
		a[i] = arguments[i];
	var r = (function F(an)
	{
		var ary = new Array(an[0]);
		if(an.length == 1) return ary;
		var an2 = an.slice(1);
		for(var i = 0; i < an[0]; i++)
			ary[i] = F(an2);
		return ary;
	})(a);
	return r;
}



// 小数切り捨て
function rounddown(val)
{
	if(val >= 0)
		return Math.floor(val);
	else
		return -Math.floor(-val);
}

// sの絶対値をnビット右シフトし、sの符号を付けた値を返す
function rightShiftIgnoreSign(s, n)
{
	return s < 0 ? (-((-s) >> n)) : (s >> n);
}


function makeRandomString(){
	return Math.random().toString(36).slice(2);
}









function IdouGamen(paramGameGraphics, paramGameKey, paramKeyboardMenu, paramMainProgram)
{
	this.gg = paramGameGraphics;
	this.gk = paramGameKey;
	this.km = paramKeyboardMenu;
	this.mp = paramMainProgram;
	this.tdb = this.mp.tdb;
	this.co_j = new CharacterObject();
	this.map_string = new Array(9);
	this.map_bg = createNDimensionArray(15, 9);
	this.stage_c = new Array(10);
	this.stage_x = new Array(10);
	this.stage_y = new Array(10)
	this.stage_cf = new Array(10);
	this.stage_kcID = undefined;
	this.door_koID = undefined;
	this.dokan_khID = undefined;
	this.door_score_open = undefined;
	this.ie_c = new Array(16);
	this.ie_x = new Array(16);
	this.ie_y = new Array(16);
	this.zure_x = 16;
	this.zure_y = 24;
	this.mp_mode = 0;
	this.shop_kattaitem = undefined;
	this.cc_hankei = undefined;
	this.cc_kakudo = undefined;
	this.cc_p1_x = new Array(17);
	this.cc_p1_y = new Array(17);
	this.cc_p2_x = new Array(17);
	this.cc_p2_y = new Array(17);

	this.cc_p1_x[13] = -200;
	this.cc_p1_y[13] = 160;
	this.cc_p1_x[14] = -200;
	this.cc_p1_y[14] = 520;
	this.cc_p1_x[15] = 712;
	this.cc_p1_y[15] = 520;
	this.cc_p1_x[16] = 712;
	this.cc_p1_y[16] = 160;
	this.cc_p2_x[13] = 712;
	this.cc_p2_y[13] = 160;
	this.cc_p2_x[14] = 712;
	this.cc_p2_y[14] = -200;
	this.cc_p2_x[15] = -200;
	this.cc_p2_y[15] = -200;
	this.cc_p2_x[16] = -200;
	this.cc_p2_y[16] = 160;
}

IdouGamen.prototype.worldInit = function()
{
	var i;
	for (i = 0; i <= 9; i++)
	{
		this.stage_c[i] = 0;
		this.stage_cf[i] = false;
	}
	this.stage_kcID = 0;
	this.door_koID = 0;
	this.dokan_khID = 0;
	this.door_score_open = 0;
	for (i = 0; i <= 15; i++) {
		this.ie_c[i] = 0;
	}
	this.co_j.x = 0;
	this.co_j.y = 0;
	this.co_j.vx = 0;
	this.co_j.vy = 0;
	this.co_j.muki = 1;
	this.co_j.ac = 0;
	this.mp.tr1_c = 2;


	this.shop_kattaitem = -1;


	this.mp_mode = 0;


	this.km.initAll();
	this.km.mode = 100;
	var k;
	for (k = 0; k <= 8; k++)
	{
		var str = this.tdb.getValue("chizu-" + k);
		str = str + "...............";
		this.map_string[k] = str;
	}
	for (k = 0; k <= 8; k++) {
		for (var j = 0; j <= 14; j++)
		{
			var m = this.map_string[k].charAt(j);
			if (m == ("A"))
			{
				this.co_j.x = (j << 5);
				this.co_j.y = (k << 5);
				this.map_bg[j][k] = 220;
			}
			else if (m == ("B"))
			{
				this.map_bg[j][k] = 216;
				this.ie_c[3] = 100;
				this.ie_x[3] = (j << 5);
				this.ie_y[3] = (k << 5);
			}
			else if (m == ("C"))
			{
				this.map_bg[j][k] = 217;
				this.ie_c[4] = 100;
				this.ie_x[4] = (j << 5);
				this.ie_y[4] = (k << 5);
			}
			else if (m == ("D"))
			{
				this.map_bg[j][k] = 218;
				this.ie_c[10] = 100;
				this.ie_x[10] = (j << 5);
				this.ie_y[10] = (k << 5);
			}
			else if (m == ("E"))
			{
				this.map_bg[j][k] = 219;
				this.ie_c[11] = 100;
				this.ie_x[11] = (j << 5);
				this.ie_y[11] = (k << 5);
			}
			else if (m == ("a"))
			{
				if (this.stage_c[0] == 0)
				{
					this.map_bg[j][k] = 223;
					this.stage_c[0] = 100;
					this.stage_x[0] = (j << 5);
					this.stage_y[0] = (k << 5);
				}
				else
				{
					this.map_bg[j][k] = 220;
				}
			}
			else if (m == ("b"))
			{
				if (this.stage_c[1] == 0)
				{
					this.map_bg[j][k] = 224;
					this.stage_c[1] = 100;
					this.stage_x[1] = (j << 5);
					this.stage_y[1] = (k << 5);
				}
				else
				{
					this.map_bg[j][k] = 220;
				}
			}
			else if (m == ("c"))
			{
				if (this.stage_c[2] == 0)
				{
					this.map_bg[j][k] = 225;
					this.stage_c[2] = 100;
					this.stage_x[2] = (j << 5);
					this.stage_y[2] = (k << 5);
				}
				else
				{
					this.map_bg[j][k] = 220;
				}
			}
			else if (m == ("d"))
			{
				if (this.stage_c[3] == 0)
				{
					this.map_bg[j][k] = 226;
					this.stage_c[3] = 100;
					this.stage_x[3] = (j << 5);
					this.stage_y[3] = (k << 5);
				}
				else
				{
					this.map_bg[j][k] = 220;
				}
			}
			else if (m == ("e"))
			{
				this.map_bg[j][k] = 213;
				this.ie_c[0] = 100;
				this.ie_x[0] = (j << 5);
				this.ie_y[0] = (k << 5);
			}
			else if (m == ("f"))
			{
				this.map_bg[j][k] = 214;
				this.ie_c[1] = 100;
				this.ie_x[1] = (j << 5);
				this.ie_y[1] = (k << 5);
			}
			else if (m == ("g"))
			{
				this.map_bg[j][k] = 215;
				this.ie_c[2] = 100;
				this.ie_x[2] = (j << 5);
				this.ie_y[2] = (k << 5);
			}
			else if (m == ("h"))
			{
				this.map_bg[j][k] = 212;
				this.ie_c[9] = 100;
				this.ie_x[9] = (j << 5);
				this.ie_y[9] = (k << 5);
			}
			else if (m == ("i"))
			{
				this.map_bg[j][k] = 206;
				this.ie_c[5] = 100;
				this.ie_x[5] = (j << 5);
				this.ie_y[5] = (k << 5);
			}
			else if (m == ("j"))
			{
				this.map_bg[j][k] = 207;
				this.ie_c[6] = 100;
				this.ie_x[6] = (j << 5);
				this.ie_y[6] = (k << 5);
			}
			else if (m == ("k"))
			{
				this.map_bg[j][k] = 208;
				this.ie_c[7] = 100;
				this.ie_x[7] = (j << 5);
				this.ie_y[7] = (k << 5);
			}
			else if (m == ("l"))
			{
				this.map_bg[j][k] = 209;
				this.ie_c[8] = 100;
				this.ie_x[8] = (j << 5);
				this.ie_y[8] = (k << 5);
			}
			else if (m == ("1"))
			{
				this.map_bg[j][k] = 220;
			}
			else if (m == ("2"))
			{
				this.map_bg[j][k] = 221;
			}
			else if (m == ("3"))
			{
				this.map_bg[j][k] = 222;
			}
			else
			{
				this.map_bg[j][k] = 0;
			}
		}
	}
	if (this.co_j.x + 16 > 256) {
		this.co_j.muki = 0;
	}
	this.drawOs2();
}

IdouGamen.prototype.worldInit2 = function()
{
	this.co_j.vx = 0;
	this.co_j.vy = 0;
	this.co_j.muki = 1;
	this.co_j.ac = 0;
	this.mp.tr1_c = 2;

	this.mp_mode = 200;
	this.cc_hankei = 12;
	this.stage_kcID = 0;
	this.door_koID = 0;


	this.shop_kattaitem = -1;


	this.door_score_open = 0;
	if ((this.ie_c[9] == 100) && (this.mp.score >= this.mp.door_score))
	{
		this.ie_c[9] = 50;

		this.door_score_open = 1;
	}
	this.km.initAll();
	this.km.mode = 100;


	this.drawOs2();
}

IdouGamen.prototype.worldInit3 = function()
{
	this.stage_kcID = this.checkStage();
	this.stage_cf[(this.stage_kcID - 1)] = true;
	this.stage_c[(this.stage_kcID - 1)] = 50;


	var i = 0;
	for (var j = 0; j <= 2; j++) {
		if (this.stage_cf[j] == 1) {
			i++;
		}
	}
	this.door_koID = 0;
	if ((i >= 1) && 
		(this.ie_c[(i - 1)] == 100))
	{
		this.ie_c[(i - 1)] = 50;

		this.door_koID = i;
	}
	this.door_score_open = 0;
	if ((this.ie_c[9] == 100) && (this.mp.score >= this.mp.door_score))
	{
		this.ie_c[9] = 50;

		this.door_score_open = 1;
	}
	this.co_j.vx = 0;
	this.co_j.vy = 0;
	this.co_j.muki = 1;
	this.co_j.ac = 0;
	this.mp.tr1_c = 2;
	this.co_j.pt = 0;


	this.shop_kattaitem = -1;

	this.mp_mode = 200;
	this.cc_hankei = 12;


	this.km.initAll();
	this.km.mode = 100;


	this.drawOs2();
}

IdouGamen.prototype.drawOs2 = function()
{
	this.gg.setBackcolor(new Color(0, 127, 0));


	this.gg.fill2();


	this.gg.os2_g.drawImage(this.gg.li[3], 0, 0, this.gg.ap);
	var i, j, k;
	for (k = 0; k <= 8; k++) {
		for (j = 0; j <= 14; j++)
		{
			i = this.map_bg[j][k];
			if (i == 221)
			{
				this.gg.drawPT2((j << 5) + 16, (k << 5) + 24 - 16, 221);
				this.gg.drawPT2((j << 5) + 16, (k << 5) + 24 + 16, 221);
			}
			else if (i == 222)
			{
				this.gg.drawPT2((j << 5) + 16 - 16, (k << 5) + 24, 222);
				this.gg.drawPT2((j << 5) + 16 + 16, (k << 5) + 24, 222);
			}
		}
	}
	for (k = 0; k <= 8; k++) {
		for (j = 0; j <= 14; j++)
		{
			i = this.map_bg[j][k];
			if ((i != 61) && (i != 62) && (i != 256)) {
				if ((i >= 216) && (i <= 219))
				{
					this.gg.drawPT2((j << 5) + 16, (k << 5) + 24 - 7, i);
				}
				else if ((i >= 206) && (i <= 209))
				{
					this.gg.drawPT2((j << 5) + 16, (k << 5) + 24 - 7, i);
				}
				else if ((i >= 212) && (i <= 215))
				{
					this.gg.drawPT2((j << 5) + 16 - 16, (k << 5) + 24, 222);
					this.gg.drawPT2((j << 5) + 16 + 16, (k << 5) + 24, 222);

					this.gg.drawPT2((j << 5) + 16, (k << 5) + 24 - 7, i);
				}
				else
				{
					this.gg.drawPT2((j << 5) + 16, (k << 5) + 24, i);
				}
			}
		}
	}
}

IdouGamen.prototype.drawMap = function()
{
	this.gg.os_g.drawImage(this.gg.os2_img, 0, 0, this.gg.ap);
}

IdouGamen.prototype.getBGZ = function(paramInt1, paramInt2)
{
	if ((paramInt1 < 0) || (paramInt1 > 479) || (paramInt2 < 0) || (paramInt2 > 287)) {
		return 0;
	}
	var i = paramInt1 >> 5;
	var j = paramInt2 >> 5;
	return this.map_bg[i][j];
}

IdouGamen.prototype.checkStage = function()
{
	var j = -1;
	for (var i = 0; i <= 9; i++) {
		if ((this.stage_c[i] == 100) && (this.co_j.x == this.stage_x[i]) && (this.co_j.y == this.stage_y[i]))
		{
			j = i + 1;
			break;
		}
	}
	return j;
}

IdouGamen.prototype.mainProgram = function()
{
	if (this.gk.tr1_f)
	{
		if (this.mp.tr1_c < 2) {
			this.mp.tr1_c += 1;
		}
	}
	else {
		this.mp.tr1_c = 0;
	}
	if (this.mp_mode == 0)
	{
		if (this.km.mode == 100) {
			this.jMove();
		} else if (this.km.mode == 200)
		{
			if (this.km.cancel_c == 1)
			{
				this.km.off(3);
				this.km.off(4);
				this.km.mode = 100;
			}
			else if (this.km.kettei_c == 1)
			{
				this.km.init1(3);
				this.km.setMessage(3, this.mp.mes1_name);
				this.mp.addSerifu(3, 2, 3);
				this.km.activeSerifu(3, 120, 150, 272, Color.cyan);

				this.km.mode = 210;
			}
		}
		else if (this.km.mode == 210)
		{
			if ((this.km.cancel_c == 1) || (this.km.kettei_c == 1))
			{
				this.km.off(3);
				this.km.off(4);
				this.km.mode = 100;
			}
		}
		else if (this.km.mode == 300)
		{
			if (this.km.cancel_c == 1)
			{
				this.km.off(3);
				this.km.off(4);
				this.km.mode = 100;
			}
			else if (this.km.kettei_c == 1)
			{
				this.km.init1(3);
				this.km.setMessage(3, this.mp.mes2_name);
				this.mp.addSerifu(3, 4, 3);
				this.km.activeSerifu(3, 120, 150, 272, Color.cyan);

				this.km.mode = 210;
			}
		}
		else if (this.km.mode == 400)
		{
			if (this.km.cancel_c == 1)
			{
				this.km.off(3);
				this.km.off(4);
				this.km.mode = 100;
			}
			else if (this.km.kettei_c == 1)
			{
				this.km.off(3);


				this.km.list_kazu = 0;
				this.km.init1(6);

				this.km.setMessage(6, this.tdb.getValue("shop_serifu1"));
				for (var i = 0; i <= 8; i++) {
					if (this.mp.shop_item_teika[i] > 0)
					{
						this.km.addItem2(6, this.mp.shop_item_name[i], this.mp.shop_item_teika[i]);


						this.km.list_IDlist[this.km.list_kazu] = i;


						this.km.list_kazu += 1;
					}
				}
				if (this.km.list_kazu >= 1)
				{
					this.km.activeKaimono(6, 296, 76, 184);

					this.km.mode = 410;
				}
				else
				{
					this.km.init1(6);


					this.km.init1(3);
					this.km.setMessage(3, "Error");
					this.km.addItem(3, "Please set any item on shop menu.");
					this.km.activeSerifu(3, 120, 150, 216, Color.red);

					this.km.mode = 210;
				}
			}
		}
		else if (this.km.mode == 410)
		{
			if (this.km.cancel_c == 1)
			{
				this.km.off(4);
				this.km.off(6);
				this.km.mode = 100;
			}
			else if (this.km.kettei_c == 1)
			{
				this.km.list_s = this.km.list_IDlist[this.km.selectedIndex[6]];


				this.km.init1(7);

				this.km.setMessage(7, this.mp.shop_item_name[this.km.list_s] + this.tdb.getValue("shop_serifu2"));


				this.km.addItem(7, this.tdb.getValue("shop_serifu3"));
				this.km.addItem(7, this.tdb.getValue("shop_serifu4"));

				this.km.activeSerifutuki(7, 48, 150, 236, this.mp.shop_name);

				this.km.mode = 420;
			}
		}
		else if (this.km.mode == 420)
		{
			if (this.km.cancel_c == 1)
			{
				this.km.offActivewindow(7, 6);

				this.km.mode = 410;
			}
			else if (this.km.kettei_c == 1)
			{
				if (this.km.selectedIndex[7] == 0)
				{
					if (this.mp.score >= this.mp.shop_item_teika[this.km.list_s])
					{
						this.km.init1(3);
						this.km.addItem(3, this.mp.shop_item_name[this.km.list_s] + this.tdb.getValue("shop_serifu5"));

						this.km.activeIchigyou(3, 48, 240, 236);

						this.mp.score -= this.mp.shop_item_teika[this.km.list_s];
						this.shop_kattaitem = this.km.list_s;
						if (this.shop_kattaitem == 7) {
							this.mp.j_left += 1;
						}
						this.km.mode = 430;
					}
					else
					{
						this.km.init1(3);
						this.km.addItem(3, this.tdb.getValue("shop_serifu6"));
						this.km.activeIchigyou(3, 48, 240, 236);

						this.km.mode = 430;
					}
				}
				else
				{
					this.km.off(4);
					this.km.off(6);
					this.km.off(7);

					this.km.mode = 100;
				}
			}
		}
		else if (this.km.mode == 430)
		{
			if ((this.km.cancel_c == 1) || (this.km.kettei_c == 1))
			{
				this.km.off(3);
				this.km.off(4);
				this.km.off(6);
				this.km.off(7);

				this.km.mode = 100;
			}
		}
		else if (this.km.mode == 500)
		{
			if (this.km.cancel_c == 1)
			{
				this.km.off(4);
				this.km.off(3);
				this.km.mode = 100;
			}
			else if (this.km.kettei_c == 1)
			{
				this.km.off(3);


				this.km.init1(2);
				this.km.setMessage(2, this.tdb.getValue("setumei_menu1"));
				this.km.addItem(2, this.tdb.getValue("setumei_menu2"));
				this.km.addItem(2, this.tdb.getValue("setumei_menu3"));
				this.km.addItem(2, this.tdb.getValue("setumei_menu4"));
				this.km.activeSerifutuki(2, 120, 150, 224, this.mp.setumei_name);

				this.km.mode = 510;
			}
		}
		else if (this.km.mode == 510)
		{
			if (this.km.cancel_c == 1)
			{
				this.km.off(2);
				this.km.off(4);
				this.km.mode = 100;
			}
			else if (this.km.kettei_c == 1)
			{
				this.km.init1(3);
				this.km.setMessage(3, this.mp.setumei_name);
				if (this.km.selectedIndex[2] == 1) {
					this.mp.addSerifu(3, 11, 3);
				} else if (this.km.selectedIndex[2] == 2) {
					this.mp.addSerifu(3, 12, 3);
				} else {
					this.mp.addSerifu(3, 10, 3);
				}
				this.km.activeSerifu(3, 200, 191, 272, Color.cyan);

				this.km.mode = 520;
			}
		}
		else if (this.km.mode == 520) {
			if (this.km.cancel_c == 1)
			{
				this.km.offActivewindow(3, 2);
				this.km.mode = 510;
			}
			else if (this.km.kettei_c == 1)
			{
				this.km.off(2);
				this.km.off(3);
				this.km.off(4);
				this.km.mode = 100;
			}
		}
		this.km.move();
	}
	if (this.co_j.pt == 1000) {
		this.gg.drawPT(this.co_j.x + 16, this.co_j.y + 24 - 12 - 6, 100, this.co_j.muki);
	} else if (this.co_j.pt == 1010) {
		this.gg.drawPT(this.co_j.x + 16, this.co_j.y + 24 - 12 + 5, 100, this.co_j.muki);
	} else if ((this.co_j.pt >= 202) && (this.co_j.pt <= 205)) {
		this.gg.drawPT(this.co_j.x + 16, this.co_j.y + 24 - 12, this.co_j.pt, 0);
	} else {
		this.gg.drawPT(this.co_j.x + 16, this.co_j.y + 24 - 12, this.co_j.pt, this.co_j.muki);
	}
	this.km.drawMenus();
	if (this.mp_mode == 100)
	{
		this.circleCLS(this.cc_hankei);

		this.cc_hankei -= 12;
		if (this.cc_hankei < 0)
		{
			this.cc_hankei = 0;

			this.mp_mode = 110;
		}
	}
	else if (this.mp_mode == 110)
	{
		this.circleCLS(this.cc_hankei);
	}
	else
	{
		var j;
		if (this.mp_mode == 200)
		{
			this.circleCLS(this.cc_hankei);

			this.cc_hankei += 12;
			if (this.cc_hankei > 312) {
				if (this.stage_kcID >= 1)
				{
					this.mp_mode = 300;
					this.cc_hankei = 0;


					j = (this.stage_y[(this.stage_kcID - 1)] >> 5);
					this.map_bg[(this.stage_x[(this.stage_kcID - 1)] >> 5)][j] = 227;
					if (this.door_koID >= 1) {
						this.map_bg[(this.ie_x[(this.door_koID - 1)] >> 5)][(this.ie_y[(this.door_koID - 1)] >> 5)] = 222;
					}
					if (this.door_score_open == 1) {
						this.map_bg[(this.ie_x[9] >> 5)][(this.ie_y[9] >> 5)] = 222;
					}
					this.drawOs2();
				}
				else
				{
					this.mp_mode = 0;
					if (this.door_score_open == 1)
					{
						this.mp_mode = 400;
						this.cc_hankei = 0;


						this.map_bg[(this.ie_x[9] >> 5)][(this.ie_y[9] >> 5)] = 222;


						this.drawOs2();
					}
				}
			}
		}
		else if (this.mp_mode == 300)
		{
			this.cc_hankei += 1;
			if (this.cc_hankei <= 3)
			{
				j = 0;
			}
			else if (this.cc_hankei <= 6)
			{
				j = 1;
			}
			else if (this.cc_hankei <= 9)
			{
				j = 0;
			}
			else if (this.cc_hankei <= 12)
			{
				j = 1;
			}
			else if (this.cc_hankei <= 15)
			{
				j = 0;
			}
			else if (this.cc_hankei <= 18)
			{
				j = 1;
			}
			else if (this.cc_hankei <= 21)
			{
				j = 0;
			}
			else if (this.cc_hankei <= 24)
			{
				j = 1;
			}
			else if (this.cc_hankei <= 26)
			{
				j = 0;
			}
			else
			{
				j = 0;

				this.mp_mode = 0;
			}
			if (j > 0) {
				this.gg.drawPT(this.stage_x[(this.stage_kcID - 1)] + 16, this.stage_y[(this.stage_kcID - 1)] + 24, 222 + this.stage_kcID, 0);
			}
			if ((j > 0) && 
				(this.door_koID >= 1)) {
				this.gg.drawPT(this.ie_x[(this.door_koID - 1)] + 16, this.ie_y[(this.door_koID - 1)] + 24 - 7, 212 + this.door_koID, 0);
			}
			if ((j > 0) && 
				(this.door_score_open == 1)) {
				this.gg.drawPT(this.ie_x[9] + 16, this.ie_y[9] + 24 - 7, 212, 0);
			}
		}
		else if (this.mp_mode == 400)
		{
			this.cc_hankei += 1;
			if (this.cc_hankei <= 3)
			{
				j = 0;
			}
			else if (this.cc_hankei <= 6)
			{
				j = 1;
			}
			else if (this.cc_hankei <= 9)
			{
				j = 0;
			}
			else if (this.cc_hankei <= 12)
			{
				j = 1;
			}
			else if (this.cc_hankei <= 15)
			{
				j = 0;
			}
			else if (this.cc_hankei <= 18)
			{
				j = 1;
			}
			else if (this.cc_hankei <= 21)
			{
				j = 0;
			}
			else if (this.cc_hankei <= 24)
			{
				j = 1;
			}
			else if (this.cc_hankei <= 26)
			{
				j = 0;
			}
			else
			{
				j = 0;

				this.mp_mode = 0;
			}
			if (j > 0) {
				this.gg.drawPT(this.ie_x[9] + 16, this.ie_y[9] + 24 - 7, 212, 0);
			}
		}
	}
}

IdouGamen.prototype.jMove = function()
{
	var m = this.co_j.x;
	var n = this.co_j.y;


	this.co_j.pt = 100;
	var i;
	if ((this.co_j.vx == 0) && (this.co_j.vy == 0))
	{
		this.co_j.ac += 1;
		if (this.co_j.ac > 7) {
			this.co_j.ac = 0;
		}
		if (this.co_j.ac > 3)
		{
			this.co_j.pt = 1000;

			i = this.getBGZ(m, n);
			if (((i >= 216) && (i <= 219)) || ((i >= 206) && (i <= 209))) {
				this.co_j.pt = 1010;
			}
		}
		if (this.mp.tr1_c == 1)
		{
			if (this.checkStage() >= 1)
			{
				this.mp_mode = 100;
				this.cc_hankei = 312;
				this.co_j.ac = 0;
				this.dokan_khID = 0;


				this.co_j.pt = 100;


				this.mp.gs.play(25);
			}
			else if ((this.getBGZ(m, n) >= 206) && (this.getBGZ(m, n) <= 209))
			{
				if (this.mp.dokan_mode == 2)
				{
					var k = 0;
					for (var i2 = 0; i2 <= 8; i2++)
					{
						for (var i1 = 0; i1 <= 14; i1++) {
							if (((i1 << 5) != m) || ((i2 << 5) != n))
							{
								var j = this.map_bg[i1][i2];
								if (j == this.getBGZ(m, n))
								{
									m = i1 << 5;
									n = i2 << 5;
									this.co_j.ac = 0;
									this.co_j.pt = 1010;
									k = 1;
									break;
								}
							}
						}
						if (k == 1) {
							break;
						}
					}
				}
				else
				{
					this.mp_mode = 100;
					this.cc_hankei = 312;
					this.co_j.ac = 0;
					this.dokan_khID = (this.getBGZ(m, n) - 205);
					this.co_j.pt = 1010;
					this.mp.gs.play(25);
				}
			}
			else if (this.getBGZ(m, n) == 216)
			{
				this.km.init1(4);
				this.km.onKao(4, 120, 42, 272, 230);


				this.km.init1(3);
				this.km.setMessage(3, this.mp.mes1_name);
				this.mp.addSerifu(3, 1, 3);
				this.km.activeSerifu(3, 120, 150, 272, Color.cyan);

				this.km.mode = 200;


				this.co_j.pt = 1010;
				this.co_j.ac = 0;
			}
			else if (this.getBGZ(m, n) == 217)
			{
				this.km.init1(4);
				this.km.onKao(4, 120, 42, 272, 232);


				this.km.init1(3);
				this.km.setMessage(3, this.mp.mes2_name);
				this.mp.addSerifu(3, 3, 3);
				this.km.activeSerifu(3, 120, 150, 272, Color.cyan);

				this.km.mode = 300;


				this.co_j.pt = 1010;
				this.co_j.ac = 0;
			}
			else if (this.getBGZ(m, n) == 218)
			{
				this.km.init1(4);

				this.km.onKao(4, 120, 42, 216, 234);
				if (this.shop_kattaitem < 0)
				{
					this.km.init1(3);
					this.km.setMessage(3, this.mp.shop_name);
					this.mp.addSerifu(3, 5, 3);

					this.km.activeSerifu(3, 120, 150, 216, Color.cyan);

					this.km.mode = 400;
				}
				else
				{
					this.km.init1(3);
					this.km.setMessage(3, this.mp.shop_name);
					this.mp.addSerifu(3, 8, 3);

					this.km.activeSerifu(3, 120, 150, 216, Color.cyan);

					this.km.mode = 210;
				}
				this.co_j.pt = 1010;
				this.co_j.ac = 0;
			}
			else if (this.getBGZ(m, n) == 219)
			{
				this.km.init1(4);

				this.km.onKao(4, 120, 42, 272, 236);


				this.km.init1(3);
				this.km.setMessage(3, this.mp.setumei_name);
				this.mp.addSerifu(3, 9, 3);
				this.km.activeSerifu(3, 120, 150, 272, Color.cyan);

				this.km.mode = 500;


				this.co_j.pt = 1010;
				this.co_j.ac = 0;
			}
		}
		else if (this.gk.up_f)
		{
			if (this.getBGZ(m, n - 32) == 221)
			{
				this.co_j.vy = -4;
				this.co_j.ac = -1;
			}
		}
		else if (this.gk.down_f)
		{
			if (this.getBGZ(m, n + 32) == 221)
			{
				this.co_j.vy = 4;
				this.co_j.ac = -1;
			}
		}
		else if (this.gk.left_f)
		{
			this.co_j.muki = 0;
			if (this.getBGZ(m - 32, n) == 222)
			{
				this.co_j.vx = -4;
				this.co_j.ac = -1;
			}
			if ((this.getBGZ(m + 32, n) >= 212) && (this.getBGZ(m + 32, n) <= 215))
			{
				this.co_j.vx = -4;
				this.co_j.ac = -1;
			}
		}
		else if (this.gk.right_f)
		{
			this.co_j.muki = 1;
			if (this.getBGZ(m + 32, n) == 222)
			{
				this.co_j.vx = 4;
				this.co_j.ac = -1;
			}
			if ((this.getBGZ(m - 32, n) >= 212) && (this.getBGZ(m - 32, n) <= 215))
			{
				this.co_j.vx = 4;
				this.co_j.ac = -1;
			}
		}
	}
	if ((this.co_j.vx != 0) || (this.co_j.vy != 0))
	{
		this.co_j.ac += 1;
		if (this.co_j.ac > 3) {
			this.co_j.ac = 0;
		}
		m += this.co_j.vx;
		n += this.co_j.vy;
		if (this.co_j.vx != 0)
		{
			if (this.co_j.ac <= 1) {
				this.co_j.pt = 103;
			} else {
				this.co_j.pt = 104;
			}
		}
		else if (this.co_j.vy >= 0)
		{
			if (this.co_j.ac <= 1) {
				this.co_j.pt = 202;
			} else {
				this.co_j.pt = 203;
			}
		}
		else if (this.co_j.ac <= 1) {
			this.co_j.pt = 204;
		} else {
			this.co_j.pt = 205;
		}
		if ((m % 32 == 0) && (n % 32 == 0))
		{
			i = this.getBGZ(m, n);
			if ((i == 220) || ((i >= 223) && (i <= 227)) || ((i >= 216) && (i <= 219)) || ((i >= 206) && (i <= 209)))
			{
				this.co_j.vx = 0;
				this.co_j.vy = 0;
				this.co_j.ac = 0;
			}
			i = 0;
			if (this.co_j.vx > 0) {
				i = this.getBGZ(m + 32, n);
			} else if (this.co_j.vx < 0) {
				i = this.getBGZ(m - 32, n);
			}
			if ((i >= 212) && (i <= 215))
			{
				this.co_j.vx = 0;
				this.co_j.vy = 0;
				this.co_j.pt = 100;
				this.co_j.ac = 0;
			}
		}
		if (m <= -32)
		{
			m = -32;

			this.co_j.vx = 0;
			this.co_j.vy = 0;
			this.co_j.ac = 0;
		}
		else if (m >= 480)
		{
			m = 480;

			this.co_j.vx = 0;
			this.co_j.vy = 0;
			this.co_j.ac = 0;
		}
		if (n <= -32)
		{
			n = -32;

			this.co_j.vx = 0;
			this.co_j.vy = 0;
			this.co_j.ac = 0;
		}
		else if (n >= 288)
		{
			n = 288;

			this.co_j.vx = 0;
			this.co_j.vy = 0;
			this.co_j.ac = 0;
		}
	}
	this.co_j.x = m;
	this.co_j.y = n;
}

IdouGamen.prototype.circleCLS = function(paramInt)
{
	for (var i = 0; i <= 12; i++)
	{
		var d1 = Math.sin(i * 0.2617992);
		this.cc_p1_y[i] = (160 + Math.floor(d1 * paramInt));



		var d2 = Math.cos(i * 0.2617992);
		this.cc_p1_x[i] = (256 + Math.floor(d2 * paramInt));








		this.cc_p2_y[i] = (160 - Math.floor(d1 * paramInt));
		this.cc_p2_x[i] = (256 - Math.floor(d2 * paramInt));
	}
	this.gg.os_g.setColor(Color.black);
	this.gg.os_g.fillPolygon(this.cc_p1_x, this.cc_p1_y, 17);
	this.gg.os_g.fillPolygon(this.cc_p2_x, this.cc_p2_y, 17);
}

IdouGamen.prototype.squareCLS = function(paramInt1, paramInt2)
{
	var d = 0.0174532925199433;
	this.cc_p1_x[0] = (Math.floor(Math.cos((this.cc_kakudo + 0) * d) * paramInt1) + 256);
	this.cc_p1_y[0] = (Math.floor(Math.sin((this.cc_kakudo + 0) * d) * paramInt1) + 160);
	this.cc_p1_x[1] = (Math.floor(Math.cos((this.cc_kakudo + 90) * d) * paramInt1) + 256);
	this.cc_p1_y[1] = (Math.floor(Math.sin((this.cc_kakudo + 90) * d) * paramInt1) + 160);
	this.cc_p1_x[2] = (Math.floor(Math.cos((this.cc_kakudo + 180) * d) * paramInt1) + 256);
	this.cc_p1_y[2] = (Math.floor(Math.sin((this.cc_kakudo + 180) * d) * paramInt1) + 160);
	this.cc_p1_x[3] = (Math.floor(Math.cos((this.cc_kakudo + 180) * d) * 500.0) + 256);
	this.cc_p1_y[3] = (Math.floor(Math.sin((this.cc_kakudo + 180) * d) * 500.0) + 160);
	this.cc_p1_x[4] = (Math.floor(Math.cos((this.cc_kakudo + 135) * d) * 700.0) + 256);
	this.cc_p1_y[4] = (Math.floor(Math.sin((this.cc_kakudo + 135) * d) * 700.0) + 160);
	this.cc_p1_x[5] = (Math.floor(Math.cos((this.cc_kakudo + 45) * d) * 700.0) + 256);
	this.cc_p1_y[5] = (Math.floor(Math.sin((this.cc_kakudo + 45) * d) * 700.0) + 160);
	this.cc_p1_x[6] = (Math.floor(Math.cos((this.cc_kakudo + 0) * d) * 500.0) + 256);
	this.cc_p1_y[6] = (Math.floor(Math.sin((this.cc_kakudo + 0) * d) * 500.0) + 160);

	this.cc_p2_x[0] = (Math.floor(Math.cos((this.cc_kakudo + 180) * d) * paramInt1) + 256);
	this.cc_p2_y[0] = (Math.floor(Math.sin((this.cc_kakudo + 180) * d) * paramInt1) + 160);
	this.cc_p2_x[1] = (Math.floor(Math.cos((this.cc_kakudo + 270) * d) * paramInt1) + 256);
	this.cc_p2_y[1] = (Math.floor(Math.sin((this.cc_kakudo + 270) * d) * paramInt1) + 160);
	this.cc_p2_x[2] = (Math.floor(Math.cos((this.cc_kakudo + 360) * d) * paramInt1) + 256);
	this.cc_p2_y[2] = (Math.floor(Math.sin((this.cc_kakudo + 360) * d) * paramInt1) + 160);
	this.cc_p2_x[3] = (Math.floor(Math.cos((this.cc_kakudo + 360) * d) * 500.0) + 256);
	this.cc_p2_y[3] = (Math.floor(Math.sin((this.cc_kakudo + 360) * d) * 500.0) + 160);
	this.cc_p2_x[4] = (Math.floor(Math.cos((this.cc_kakudo + 315) * d) * 700.0) + 256);
	this.cc_p2_y[4] = (Math.floor(Math.sin((this.cc_kakudo + 315) * d) * 700.0) + 160);
	this.cc_p2_x[5] = (Math.floor(Math.cos((this.cc_kakudo + 225) * d) * 700.0) + 256);
	this.cc_p2_y[5] = (Math.floor(Math.sin((this.cc_kakudo + 225) * d) * 700.0) + 160);
	this.cc_p2_x[6] = (Math.floor(Math.cos((this.cc_kakudo + 180) * d) * 500.0) + 256);
	this.cc_p2_y[6] = (Math.floor(Math.sin((this.cc_kakudo + 180) * d) * 500.0) + 160);

	this.gg.os_g.setColor(Color.black);
	this.gg.os_g.fillPolygon(this.cc_p1_x, this.cc_p1_y, 7);
	this.gg.os_g.fillPolygon(this.cc_p2_x, this.cc_p2_y, 7);
}

/*
画像やスクリーンのバッファリングに関するクラスまとめ
*/

// 画像管理クラス
function ImageBuff(w, h)
{
	if(arguments.length == 2)
	{
		this._dat = document.createElement("canvas");
		this._dat.width = w;
		this._dat.height = h;
		this._width = w;
		this._height = h;
		var ctx = this._dat.getContext("2d");
		ctx.lineWidth = 1.6;
		ctx.lineCap = "round";
		ctx.save();
	}
	else
	{
		this._dat = null;
		this._width = -1;
		this._height = -1;
	}
	this._loaded = false;
	this._error = false;
	this._g = null;
    this._g_bk = null;
}

// 画像を読み込む
ImageBuff.prototype.load = function(url)
{
	this._loaded = false;
	this._error = false;
	this._width = -1;
	this._height = -1;
	this._dat = new Image();
	var _this = this;
	this._dat.onload = function()
	{
		ImageBuff_onload(_this);
	};
	this._dat.onerror = function()
	{
		ImageBuff_onerror(_this);
	};
	this._dat.onabort = function()
	{
		ImageBuff_onerror(_this);
	};
	this._dat.ontimeout = function()
	{
		ImageBuff_onerror(_this);
	};
	this._dat.src = url;
	if(this._dat.complete)
	{
		this.onload();
	}
}

ImageBuff.prototype.onload = function()
{
	this._loaded = true;
	this._width = this._dat.naturalWidth;
	this._height = this._dat.naturalHeight;
}
function ImageBuff_onload(obj)
{
	obj.onload();
}

ImageBuff.prototype.onerror = function()
{
	this._error = true;
	this._dat = null;
}

function ImageBuff_onerror(obj)
{
	obj.onerror();
}

// 画像バッファを編集するためのクラスGraphicsを返す
// Canvasモードでないと使えない
ImageBuff.prototype.getGraphics = function()
{
	if(this._width < 0) return null;
	this._g = new Graphics(this);
	return this._g;
}

ImageBuff.prototype.createGraphics = function()
{
	return this.getGraphics();
}

// JavaのGraphicsと互換を保ったGraphicsオブジェクトを作成（JS拡張との互換性のため）
ImageBuff.prototype.getGraphicsBk = function()
{
	if(this._width < 0) return null;
	this._g_bk = new GraphicsBk(this);
	return this._g_bk;
}







// 画像編集クラス
function Graphics(img)
{
	this._ctx = img._dat.getContext("2d");
	if(this._ctx)
	{
		this._ctx.restore();
		this._ctx.save();
	}
	this._color = Color.black;
	this._font = new Font(Font.DIALOG, Font.PLAIN, 10);
}

// 線を描画する
Graphics.prototype.drawLine = function(x1, y1, x2, y2)
{
	if(this._ctx == null) return false;
	this._ctx.beginPath();
	this._ctx.moveTo(x1, y1);
	this._ctx.lineTo(x2, y2);
	this._ctx.stroke();
	return true;
}

// 画像を描画する
// 引数3-4個: ImageBuffオブジェクト, X座標, Y座標
// 引数5-6個: ImageBuffオブジェクト, 描画X座標, 描画Y座標, 描画スケール幅, 描画スケール高さ
// 引数9-10個: ImageBuffオブジェクト, データX座標, データY座標, データ幅, データ高さ, 描画X座標, 描画Y座標, 描画スケール幅, 描画スケール高さ
Graphics.prototype.drawImage = function(img, a1, a2, a3, a4, a5, a6, a7, a8, a9)
{
	if(img._dat == null) return false;
	if(this._ctx == null) return false;
	try
	{
		if(arguments.length <= 4)
		{
			this._ctx.drawImage(img._dat, a1, a2);
			return true;
		}
		else if(arguments.length <= 6)
		{
			this._ctx.drawImage(img._dat, a1, a2, a3, a4);
			return true;
		}
		else if(arguments.length <= 10)
		{
			this._ctx.drawImage(img._dat, a1, a2, a3, a4, a5, a6, a7, a8);
			return true;
		}
	}
	catch(e) {}
	return false;
}

// 矩形を描画する
Graphics.prototype.drawRect = function(x, y, w, h)
{
	if(this._ctx == null) return false;
	this._ctx.strokeRect(x, y, w, h);
	return true;
}

// 矩形を塗りつぶし描画する
Graphics.prototype.fillRect = function(x, y, w, h)
{
	if(this._ctx == null) return false;
	this._ctx.fillRect(x, y, w, h);
	return true;
}

// 多角形を描画する
Graphics.prototype.drawPolygon = function(xa, ya, pn)
{
	if(this._ctx == null) return false;
	this._ctx.beginPath();
	this._ctx.moveTo(xa[0], ya[0]);
	for(var i = 1; i < pn; i++)
	{
		this._ctx.lineTo(xa[i], ya[i]);
	}
	this._ctx.closePath();
	this._ctx.stroke();
	return true;
}

// 多角形を塗りつぶし描画する
Graphics.prototype.fillPolygon = function(xa, ya, pn)
{
	if(this._ctx == null) return false;
	this._ctx.beginPath();
	this._ctx.moveTo(xa[0], ya[0]);
	for(var i = 1; i < pn; i++)
	{
		this._ctx.lineTo(xa[i], ya[i]);
	}
	this._ctx.closePath();
	this._ctx.fill();
	return true;
}

// 楕円を描画する
Graphics.prototype.drawOval = function(x, y, w, h)
{
	if(this._ctx == null) return false;
	this.drawArc(x, y, w, h, 0, Math.PI * 2);
	return true;
}

// 楕円を塗りつぶし描画する
Graphics.prototype.fillOval = function(x, y, w, h)
{
	if(this._ctx == null) return false;
	this.fillArc(x, y, w, h, 0, Math.PI * 2);
	return true;
}

// 円弧を描画する
Graphics.prototype.drawArc = function(x, y, w, h, angle, theta)
{
	if(this._ctx == null) return false;
	var sc = h / w;
	this._ctx.save();
	this._ctx.beginPath();
	this._ctx.scale(1, sc);
	this._ctx.arc(x + w / 2, (y + h / 2) / sc, w / 2, angle, angle + theta, (theta < 0));
	this._ctx.stroke();
	this._ctx.restore();
	return true;
}

// 円弧を塗りつぶし描画する
Graphics.prototype.fillArc = function(x, y, w, h, angle, theta)
{
	if(this._ctx == null) return false;
	var sc = h / w;
	this._ctx.save();
	this._ctx.beginPath();
	this._ctx.scale(1, sc);
	this._ctx.arc(x + w / 2, (y + h / 2) / sc, w / 2, angle, angle + theta, (theta < 0));
	this._ctx.lineTo(x + w / 2, (y + h / 2) / sc);
	this._ctx.closePath();
	this._ctx.fill();
	this._ctx.restore();
	return true;
}

// 広域アルファ値を設定する
Graphics.prototype.setGlobalAlpha = function(a)
{
	if(this._ctx == null) return false;
	if(a < 0) a = 0;
	if(a > 255) a = 255;
	this._ctx.globalAlpha = a / 255;
	return true;
}

// 描画色をColorオブジェクトで設定する
Graphics.prototype.setColor = function(color)
{
	if(this._ctx == null) return false;
	this._color = new Color(color.r, color.g, color.b, color.a);
	var val = "rgba(" + color.r + ", " + color.g + ", " + color.b + ", " + (color.a / 255) + ")";
	this._ctx.strokeStyle = val;
	this._ctx.fillStyle = val;
	return true;
}

// 描画文字列フォントを設定する
Graphics.prototype.setFont = function(font)
{
	if(this._ctx == null) return false;
	var str = "";
	if(font._style & Font.ITALIC) str += "italic ";
	if(font._style & Font.BOLD) str += "bold ";
	str += font._size + "px ";
	if(font._name == Font.SERIF) str += "serif";
	else if(font._name == Font.SANS_SERIF) str += "sans-serif";
	else if(font._name == Font.MONOSPACED) str += "monospace";
	else if(font._name == Font.DIALOG) str += "'Helvetica','Arial','ＭＳ ゴシック','HG ゴシックB Sun','HG ゴシックB',monospace";
	else str += '"' + font._name + '"';
	this._ctx.font = str;
	this._font = font;
	return true;
}

// 文字列を描画する
Graphics.prototype.drawString = function(str, x, y)
{
	if(this._ctx == null) return false;
	this._ctx.fillText(str, x, y);
	return true;
}

// 座標軸を移動する
Graphics.prototype.translate = function(x, y)
{
	if(this._ctx == null) return false;
	this._ctx.translate(x, y);
	return true;
}

// 座標軸を回転させる
Graphics.prototype.rotate = function(angle, x, y)
{
	if(this._ctx == null) return false;
	if(arguments.length == 1)
	{
		this._ctx.rotate(angle);
	}
	else
	{
		this._ctx.translate(x, y);
		this._ctx.rotate(angle);
		this._ctx.translate(-x, -y);
	}
	return true;
}

// 座標軸を拡大縮小する
Graphics.prototype.scale = function(x, y)
{
	if(this._ctx == null) return false;
	this._ctx.scale(x, y);
	return true;
}

// クリッピング領域を設定する
// 第１引数: パターン( "ellipse", "rect", "polygon" )
// 第２引数～:
//   "ellipse", x, y, w, h
//   "rect", x, y, w, h
//   "polygon", xa, ya, pn
Graphics.prototype.setClip = function(pattern)
{
	if(this._ctx == null) return false;
	if(pattern == "ellipse")
	{
		var sc = arguments[4] / arguments[3];
		this._ctx.beginPath();
		this._ctx.save();
		this._ctx.scale(1, sc);
		this._ctx.arc(arguments[1] + arguments[3] / 2, (arguments[2] + arguments[4] / 2) / sc, arguments[3] / 2, 0, Math.PI * 2, false);
		this._ctx.restore();
		this._ctx.clip();
		return true;
	}
	else if(pattern == "rect")
	{
		this._ctx.beginPath();
		this._ctx.rect(arguments[1], arguments[2], arguments[3], arguments[4]);
		this._ctx.clip();
		return true;
	}
	else if(pattern == "polygon")
	{
		this._ctx.beginPath();
		this._ctx.moveTo(arguments[1][0], arguments[2][0]);
		for(var i = 1; i < arguments[3]; i++)
		{
			this._ctx.lineTo(arguments[1][i], arguments[2][i]);
		}
		this._ctx.closePath();
		this._ctx.clip();
		return true;
	}
	return false;
}

Graphics.prototype.copyArea = function(x, y, width, height, dx, dy)
{
	if(this._ctx == null) return false;
	this._ctx.drawImage(this._ctx.canvas, x, y, width, height, x+dx, y+dy, width, height);
	return true;
}

Graphics.prototype.dispose = function()
{
	this._ctx.restore();
	this._ctx.save();
}

// JavaのGraphicsとの後方互換性を保つためのクラス (Graphicsを継承)
function GraphicsBk(img){
    Graphics.call(this, img);
}
GraphicsBk.prototype = Object.create(Graphics.prototype, {
    constructor: {
        configurable: true,
        value: GraphicsBk,
    },
});
GraphicsBk.prototype.drawImage = function(img, a1, a2, a3, a4, a5, a6, a7, a8, a9)
{
    if(arguments.length <= 6)
    {
        return Graphics.prototype.drawImage.apply(this, arguments);
    }
    else
    {
        return Graphics.prototype.drawImage.call(this, img, a5, a6, a7-a5, a8-a6, a1, a2, a3-a1, a4-a2, a9);
    }
}







function Color(r, g, b, a)
{
	if(r > 255) this.r = 255;
	else if(r < 0) this.r = 0;
	else this.r = r;
	if(g > 255) this.g = 255;
	else if(g < 0) this.g = 0;
	else this.g = g;
	if(b > 255) this.b = 255;
	else if(b < 0) this.b = 0;
	else this.b = b;
	if(arguments.length == 4)
	{
		if(a > 255) this.a = 255;
		else if(a < 0) this.a = 0;
		else this.a = a;
	}
	else
	{
		this.a = 255;
	}
}

Color.prototype.getRed = function()
{
	return this.r;
}

Color.prototype.getGreen = function()
{
	return this.g;
}

Color.prototype.getBlue = function()
{
	return this.b;
}

Color.white = new Color(255, 255, 255);
Color.WHITE = Color.white;
Color.lightGray = new Color(192, 192, 192);
Color.LIGHT_GRAY = Color.lightGray;
Color.gray = new Color(128, 128, 128);
Color.GRAY = Color.gray;
Color.darkGray = new Color(64, 64, 64);
Color.DARK_GRAY = Color.darkGray;
Color.black = new Color(0, 0, 0);
Color.BLACK = Color.black;
Color.red = new Color(255, 0, 0);
Color.RED = Color.red;
Color.pink = new Color(255, 175, 175);
Color.PINK = Color.pink;
Color.orange = new Color(255, 200, 0);
Color.ORANGE = Color.orange;
Color.yellow = new Color(255, 255, 0);
Color.YELLOW = Color.yellow;
Color.green = new Color(0, 255, 0);
Color.GREEN = Color.green;
Color.magenta = new Color(255, 0, 255);
Color.MAGENTA = Color.magenta;
Color.cyan = new Color(0, 255, 255);
Color.CYAN = Color.cyan;
Color.blue = new Color(0, 0, 255);
Color.BLUE = Color.blue;







function Font(name, style, size)
{
	this._name = name;
	this._style = style;
	this._size = size;
}

Font.DIALOG = "Dialog";
Font.DIALOG_INPUT = "DialogInput";
Font.MONOSPACED = "Monospaced";
Font.SANS_SERIF = "SansSerif";
Font.SERIF = "Serif";

Font.PLAIN = 0;
Font.BOLD = 1;
Font.ITALIC = 2;

function KeyboardMenu(paramGameGraphics, paramGameKey, paramString)
{
	this.gg = paramGameGraphics;
	this.gk = paramGameKey;
	this.name_crys = paramString;
	this.hi = this.gg.spt_img[0];
	this.hih = this.gg.spt_img;
	this.hg = this.gg.os_g;
	this.ap = this.gg.ap;
	this.c = new Array(16);
	this.x = new Array(16);
	this.y = new Array(16);
	this.width = new Array(16);
	this.selectedIndex = new Array(16);
	this.item_kazu = new Array(16);
	this.message = new Array(16);
	this.item = createNDimensionArray(16, 16);
	this.item_int = createNDimensionArray(16, 16);
	this.item_color = new Array(16);
	this.list_IDlist = new Array(16);
	this.list_kazu = undefined;
	this.list_s = undefined;
	this.aw = -1;
	this.mode = 0;
	this.kettei_c = 0;
	this.cancel_c = 0;
	this.c_fc = undefined;

	this.initAll();
}

KeyboardMenu.prototype.initAll = function()
{
	var i;
	for (i = 0; i <= 15; i++) {
		this.init1(i);
	}
	this.c_fc = 0;
	this.gk.up_c = 0;
	this.gk.down_c = 0;
	this.aw = -1;
	this.kettei_c = 2;
	this.cancel_c = 2;
	for (i = 0; i <= 15; i++) {
		this.list_IDlist[i] = 0;
	}
	this.list_kazu = 0;
	this.list_s = 0;
}

KeyboardMenu.prototype.init1 = function(paramInt)
{
	this.c[paramInt] = 0;
	this.x[paramInt] = 0;
	this.y[paramInt] = 0;
	this.width[paramInt] = 180;
	this.selectedIndex[paramInt] = 0;
	this.item_kazu[paramInt] = 0;
	this.message[paramInt] = "どうしますか？";
	var i;
	for (i = 0; i <= 15; i++) {
		this.item[paramInt][i] = "";
	}
	for (i = 0; i <= 15; i++) {
		this.item_int[paramInt][i] = 0;
	}
}

KeyboardMenu.prototype.setMessage = function(paramInt, paramString)
{
	this.message[paramInt] = paramString;
}

KeyboardMenu.prototype.addItem = function(paramInt, paramString)
{
	this.item[paramInt][this.item_kazu[paramInt]] = paramString;
	this.item_kazu[paramInt] += 1;
}

KeyboardMenu.prototype.addIntitem = function(paramInt1, paramInt2)
{
	this.item_int[paramInt1][this.item_kazu[paramInt1]] = paramInt2;
	this.item_kazu[paramInt1] += 1;
}

KeyboardMenu.prototype.addItem2 = function(paramInt1, paramString, paramInt2)
{
	this.item[paramInt1][this.item_kazu[paramInt1]] = paramString;
	this.item_int[paramInt1][this.item_kazu[paramInt1]] = paramInt2;
	this.item_kazu[paramInt1] += 1;
}

KeyboardMenu.prototype.active = function(paramInt1, paramInt2, paramInt3)
{
	this.c[paramInt1] = 100;
	this.x[paramInt1] = paramInt2;
	this.y[paramInt1] = paramInt3;
	if (arguments.length == 3)
		this.width[paramInt1] = 180;
	else
		this.width[paramInt1] = arguments[3];
	this.c_fc = -1;
	this.gk.up_c = 0;
	this.gk.down_c = 0;
	this.aw = paramInt1;
	this.kettei_c = 2;
	this.cancel_c = 2;
}

KeyboardMenu.prototype.activeSerifutuki = function(paramInt1, paramInt2, paramInt3, paramInt4, paramString)
{
	this.c[paramInt1] = 700;
	this.x[paramInt1] = paramInt2;
	this.y[paramInt1] = paramInt3;
	this.width[paramInt1] = paramInt4;
	this.c_fc = -1;
	this.gk.up_c = 0;
	this.gk.down_c = 0;
	this.aw = paramInt1;
	this.kettei_c = 2;
	this.cancel_c = 2;

	this.item[paramInt1][15] = paramString;
}

KeyboardMenu.prototype.activeKaimono = function(paramInt1, paramInt2, paramInt3, paramInt4)
{
	this.c[paramInt1] = 900;
	this.x[paramInt1] = paramInt2;
	this.y[paramInt1] = paramInt3;
	this.width[paramInt1] = paramInt4;
	this.c_fc = -1;
	this.gk.up_c = 0;
	this.gk.down_c = 0;
	this.aw = paramInt1;
	this.kettei_c = 2;
	this.cancel_c = 2;
}

KeyboardMenu.prototype.activeIchigyou = function(paramInt1, paramInt2, paramInt3, paramInt4)
{
	this.c[paramInt1] = 300;
	this.x[paramInt1] = paramInt2;
	this.y[paramInt1] = paramInt3;
	this.width[paramInt1] = paramInt4;
	this.c_fc = -1;
	this.gk.up_c = 0;
	this.gk.down_c = 0;
	this.aw = paramInt1;
	this.kettei_c = 2;
	this.cancel_c = 2;
}

KeyboardMenu.prototype.activeNigyou = function(paramInt1, paramInt2, paramInt3, paramInt4, paramColor)
{
	this.c[paramInt1] = 310;
	this.x[paramInt1] = paramInt2;
	this.y[paramInt1] = paramInt3;
	this.width[paramInt1] = paramInt4;
	this.item_color[paramInt1] = paramColor;
	this.c_fc = -1;
	this.gk.up_c = 0;
	this.gk.down_c = 0;
	this.aw = paramInt1;
	this.kettei_c = 2;
	this.cancel_c = 2;
}

KeyboardMenu.prototype.activeYongyou = function(paramInt1, paramInt2, paramInt3, paramInt4)
{
	this.c[paramInt1] = 320;
	this.x[paramInt1] = paramInt2;
	this.y[paramInt1] = paramInt3;
	this.width[paramInt1] = paramInt4;
	this.c_fc = -1;
	this.gk.up_c = 0;
	this.gk.down_c = 0;
	this.aw = paramInt1;
	this.kettei_c = 2;
	this.cancel_c = 2;
}

KeyboardMenu.prototype.activeYongyou2 = function(paramInt1, paramInt2, paramInt3, paramInt4)
{
	this.c[paramInt1] = 321;
	this.x[paramInt1] = paramInt2;
	this.y[paramInt1] = paramInt3;
	this.width[paramInt1] = paramInt4;
	this.c_fc = -1;
	this.gk.up_c = 0;
	this.gk.down_c = 0;
	this.aw = paramInt1;
	this.kettei_c = 2;
	this.cancel_c = 2;
}

KeyboardMenu.prototype.activeSerifu = function(paramInt1, paramInt2, paramInt3, paramInt4, paramColor)
{
	this.c[paramInt1] = 330;
	this.x[paramInt1] = paramInt2;
	this.y[paramInt1] = paramInt3;
	this.width[paramInt1] = paramInt4;
	this.item_color[paramInt1] = paramColor;
	this.c_fc = -1;
	this.gk.up_c = 0;
	this.gk.down_c = 0;
	this.aw = paramInt1;
	this.kettei_c = 2;
	this.cancel_c = 2;
}

KeyboardMenu.prototype.activeYasumu = function(paramInt1, paramInt2, paramInt3)
{
	this.c[paramInt1] = 1000;
	this.x[paramInt1] = paramInt2;
	this.y[paramInt1] = paramInt3;
	this.width[paramInt1] = 272;
	this.c_fc = -1;
	this.gk.up_c = 0;
	this.gk.down_c = 0;
	this.aw = paramInt1;
	this.kettei_c = 2;
	this.cancel_c = 2;
}

KeyboardMenu.prototype.onKao = function(paramInt1, paramInt2, paramInt3, paramInt4, paramInt5)
{
	this.c[paramInt1] = 600;
	this.x[paramInt1] = paramInt2;
	this.y[paramInt1] = paramInt3;
	this.width[paramInt1] = paramInt4;
	this.item_int[paramInt1][0] = paramInt5;
}

KeyboardMenu.prototype.onMituketa = function(paramInt1, paramInt2, paramInt3)
{
	this.c[paramInt1] = 610;
	this.x[paramInt1] = paramInt2;
	this.y[paramInt1] = paramInt3;
	this.width[paramInt1] = 200;
}

KeyboardMenu.prototype.onOkozukai = function(paramInt1, paramInt2, paramInt3, paramInt4, paramInt5)
{
	this.c[paramInt1] = 800;
	this.x[paramInt1] = paramInt2;
	this.y[paramInt1] = paramInt3;
	this.width[paramInt1] = paramInt4;
	this.item_int[paramInt1][0] = paramInt5;
}

KeyboardMenu.prototype.activeIchigyouTime = function(paramInt1, paramInt2, paramInt3, paramInt4)
{
	this.c[paramInt1] = 350;
	this.x[paramInt1] = paramInt2;
	this.y[paramInt1] = paramInt3;
	this.width[paramInt1] = paramInt4;

	this.item_int[paramInt1][0] = 100;
}

KeyboardMenu.prototype.activeNigyouTime = function(paramInt1, paramInt2, paramInt3, paramInt4, paramColor)
{
	this.c[paramInt1] = 360;
	this.x[paramInt1] = paramInt2;
	this.y[paramInt1] = paramInt3;
	this.width[paramInt1] = paramInt4;
	this.item_color[paramInt1] = paramColor;

	this.item_int[paramInt1][0] = 100;
}

KeyboardMenu.prototype.activeJibun = function(paramInt1, paramInt2, paramInt3, paramInt4, paramInt5, paramInt6, paramInt7, paramInt8)
{
	this.c[paramInt1] = 400;
	this.x[paramInt1] = paramInt2;
	this.y[paramInt1] = paramInt3;
	this.item_int[14][0] = paramInt5;
	this.item_int[14][1] = paramInt6;
	this.item_int[14][2] = paramInt7;
	this.item_int[14][3] = paramInt8;

	this.width[paramInt1] = paramInt4;
	this.c_fc = -1;
	this.gk.up_c = 0;
	this.gk.down_c = 0;
	this.aw = paramInt1;
	this.kettei_c = 2;
	this.cancel_c = 2;
}

KeyboardMenu.prototype.activeToujou = function(paramInt1, paramInt2, paramInt3, paramInt4, paramInt5, paramString)
{
	this.c[paramInt1] = 420;
	this.x[paramInt1] = paramInt2;
	this.y[paramInt1] = paramInt3;
	this.item_int[paramInt1][2] = paramInt5;
	this.item[paramInt1][0] = paramString;

	this.width[paramInt1] = paramInt4;
	this.c_fc = -1;
	this.gk.up_c = 0;
	this.gk.down_c = 0;
	this.aw = paramInt1;
	this.kettei_c = 2;
	this.cancel_c = 2;
}

KeyboardMenu.prototype.initCS = function()
{
	this.item_kazu[0] = 8;
	this.selectedIndex[0] = 0;
}

KeyboardMenu.prototype.activeCS = function()
{
	this.c[0] = 500;
	this.x[0] = 0;
	this.y[0] = 0;
	this.width[0] = 0;
	this.c_fc = -1;
	this.gk.up_c = 0;
	this.gk.down_c = 0;
	this.aw = 0;
	this.kettei_c = 2;
}

KeyboardMenu.prototype.off = function(paramInt)
{
	this.c[paramInt] = 0;
}

KeyboardMenu.prototype.offActivewindow = function(paramInt1, paramInt2)
{
	this.c[paramInt1] = 0;
	this.c_fc = -1;
	this.gk.up_c = 0;
	this.gk.down_c = 0;
	this.aw = paramInt2;
	this.kettei_c = 2;
	this.cancel_c = 2;
}

KeyboardMenu.prototype.move = function()
{
	this.c_fc += 1;
	if (this.c_fc > 6) {
		this.c_fc = 0;
	}
	if (this.aw >= 0)
	{
		if (this.gk.up_f)
		{
			this.gk.up_c += 1;
			if (this.gk.up_c > 3) {
				this.gk.up_c = 1;
			}
		}
		else
		{
			this.gk.up_c = 0;
		}
		if (this.gk.down_f)
		{
			this.gk.down_c += 1;
			if (this.gk.down_c > 3) {
				this.gk.down_c = 1;
			}
		}
		else
		{
			this.gk.down_c = 0;
		}
		if (this.gk.up_c == 1)
		{
			this.selectedIndex[this.aw] -= 1;
			this.c_fc = -1;
			if (this.selectedIndex[this.aw] < 0) {
				this.selectedIndex[this.aw] = (this.item_kazu[this.aw] - 1);
			}
		}
		else if (this.gk.down_c == 1)
		{
			this.selectedIndex[this.aw] += 1;
			this.c_fc = -1;
			if (this.selectedIndex[this.aw] > this.item_kazu[this.aw] - 1) {
				this.selectedIndex[this.aw] = 0;
			}
		}
	}
	if (!this.gk.tr1_f) {
		this.kettei_c = 0;
	} else if (this.kettei_c == 0) {
		this.kettei_c = 1;
	}
	if (!this.gk.x_f) {
		this.cancel_c = 0;
	} else if (this.cancel_c == 0) {
		this.cancel_c = 1;
	}
}

KeyboardMenu.prototype.drawMenus = function()
{
	var beforeFont = this.hg._font;
	this.hg.setFont(new Font(Font.SANS_SERIF, 0, 12));
	for (var i = 0; i <= 15; i++)
	{
		var k = this.c[i];
		if (k != 0)
		{
			var j;
			switch (k)
			{
			case 100: 
				this.drawWindowbox(this.x[i], this.y[i], this.width[i], 30 + this.item_kazu[i] * 14);



				this.hg.setColor(Color.white);
				this.hg.drawString(this.message[i], this.x[i] + 24, this.y[i] + 6 + 12);
				if (this.item_kazu[i] >= 1) {
					for (j = 0; j <= this.item_kazu[i] - 1; j++) {
						this.hg.drawString(this.item[i][j], this.x[i] + 24, this.y[i] + 6 + 18 + j * 14 + 12);
					}
				}
				if (i == this.aw)
				{
					if (this.c_fc <= 3) {
						this.hg.drawImage(this.hi[200], this.x[i] + 6, this.y[i] + 24 + this.selectedIndex[i] * 14, this.ap);
					}
				}
				else {
					this.hg.drawImage(this.hi[200], this.x[i] + 6, this.y[i] + 24 + this.selectedIndex[i] * 14, this.ap);
				}
				break;
			case 200: 
				this.hg.setColor(Color.white);
				this.hg.fillRect(12, 12, 128, 58);
				this.hg.setColor(Color.black);
				this.hg.fillRect(14, 14, 124, 54);



				this.hg.setColor(Color.cyan);
				this.hg.drawString(this.item[14][0], 18, 30);
				if ((this.item_int[14][0] <= 0) || (this.item_int[14][2] <= 0))
				{
					this.hg.setColor(Color.red);
					this.hg.drawString("戦闘不能", 82, 30);
				}
				this.hg.setColor(Color.white);
				this.hg.drawString("HP	" + this.item_int[14][0] + " / " + this.item_int[14][1], 18, 48);

				this.hg.drawString("PP	" + this.item_int[14][2] + " / " + this.item_int[14][3], 18, 62);

				break;
			case 210: 
				this.hg.setColor(Color.white);
				this.hg.fillRect(160, 12, 128, 58);
				this.hg.setColor(Color.black);
				this.hg.fillRect(162, 14, 124, 54);



				this.hg.setColor(Color.green);
				this.hg.drawString(this.item[15][0], 166, 30);
				if (this.item_int[15][0] <= 0)
				{
					this.hg.setColor(Color.red);
					this.hg.drawString("戦闘不能", 230, 30);
				}
				this.hg.setColor(Color.white);
				this.hg.drawString("HP	" + this.item_int[15][0] + " / " + this.item_int[15][1], 166, 48);

				this.hg.drawString("PP	" + this.item_int[15][2] + " / " + this.item_int[15][3], 166, 62);

				break;
			case 220: 
				this.hg.setColor(Color.white);
				this.hg.fillRect(372, 12, 128, 58);
				this.hg.setColor(Color.black);
				this.hg.fillRect(374, 14, 124, 54);



				this.hg.setColor(Color.cyan);
				this.hg.drawString(this.item[15][0], 378, 30);
				if ((this.item_int[15][0] <= 0) || (this.item_int[15][2] <= 0))
				{
					this.hg.setColor(Color.red);
					this.hg.drawString("戦闘不能", 442, 30);
				}
				this.hg.setColor(Color.white);
				this.hg.drawString("HP	" + this.item_int[15][0] + " / " + this.item_int[15][1], 378, 48);

				this.hg.drawString("PP	" + this.item_int[15][2] + " / " + this.item_int[15][3], 378, 62);

				break;
			case 300: 
				this.drawWindowbox(this.x[i], this.y[i], this.width[i], 40);



				this.hg.setColor(Color.white);
				this.hg.drawString(this.item[i][0], this.x[i] + 6, this.y[i] + 6 + 12);
				if (this.c_fc <= 3) {
					this.gg.drawPT(this.x[i] + rightShiftIgnoreSign(this.width[i] - 14, 1), this.y[i] + 6 + 14 + 0 + 2, 201, 0);
				}
				break;
			case 310: 
				this.drawWindowbox(this.x[i], this.y[i], this.width[i], 58);



				this.hg.setColor(this.item_color[i]);
				this.hg.drawString(this.item[i][0], this.x[i] + 6, this.y[i] + 6 + 12);


				this.hg.setColor(Color.white);
				this.hg.drawString(this.item[i][1], this.x[i] + 6, this.y[i] + 6 + 18 + 12);
				if (this.c_fc <= 3) {
					this.gg.drawPT(this.x[i] + rightShiftIgnoreSign(this.width[i] - 14, 1), this.y[i] + 6 + 18 + 14 + 2, 71, 0);
				}
				break;
			case 320: 
				this.drawWindowbox(this.x[i], this.y[i], this.width[i], 66 + (this.item_kazu[i] - 3) * 14 + 14);



				this.hg.setColor(Color.magenta);
				this.hg.drawString(this.item[i][0], this.x[i] + 6, this.y[i] + 6 + 12);


				this.hg.setColor(Color.white);
				this.hg.drawString(this.item[i][1], this.x[i] + 6, this.y[i] + 6 + 18 + 12);


				this.hg.setColor(Color.cyan);
				this.hg.drawString(this.item[i][2], this.x[i] + 6, this.y[i] + 6 + 36 + 12);


				this.hg.setColor(Color.white);
				for (j = 0; j <= this.item_kazu[3] - 4; j++) {
					this.hg.drawString(this.item[3][(j + 3)], this.x[3] + 6, this.y[3] + 6 + 54 + j * 14 + 12);
				}
				if (this.c_fc <= 3) {
					this.gg.drawPT(this.x[i] + rightShiftIgnoreSign(this.width[i] - 14, 1), this.y[i] + 6 + 18 + 36 + (this.item_kazu[i] - 3) * 14 + 2, 71, 0);
				}
				break;
			case 321: 
				this.drawWindowbox(this.x[i], this.y[i], this.width[i], 108);



				this.hg.setColor(Color.cyan);
				this.hg.drawString(this.item[i][0], this.x[i] + 6, this.y[i] + 6 + 12);


				this.hg.setColor(Color.white);
				this.hg.drawString(this.item[i][1], this.x[i] + 6, this.y[i] + 6 + 18 + 12);


				this.hg.setColor(Color.magenta);
				this.hg.drawString(this.item[i][2], this.x[i] + 6, this.y[i] + 6 + 36 + 12);


				this.hg.setColor(Color.white);
				this.hg.drawString(this.item[i][3], this.x[i] + 6, this.y[i] + 6 + 54 + 12);


				this.hg.setColor(Color.white);
				this.hg.drawString(this.item[i][4], this.x[i] + 6, this.y[i] + 6 + 54 + 14 + 12);
				if (this.c_fc <= 3) {
					this.gg.drawPT(this.x[i] + rightShiftIgnoreSign(this.width[i] - 14, 1), this.y[i] + 6 + 18 + 36 + 14 + 14 + 2, 71, 0);
				}
				break;
			case 330: 
				this.drawWindowbox(this.x[i], this.y[i], this.width[i], 30 + (this.item_kazu[i] + 1) * 14);



				this.hg.setColor(this.item_color[i]);
				this.hg.drawString(this.message[i], this.x[i] + 6, this.y[i] + 6 + 12);


				this.hg.setColor(Color.white);
				if (this.item_kazu[i] >= 1) {
					for (j = 0; j <= this.item_kazu[i] - 1; j++) {
						this.hg.drawString(this.item[i][j], this.x[i] + 6, this.y[i] + 6 + 18 + j * 14 + 12);
					}
				}
				if (i == this.aw)
				{
					if (this.c_fc <= 3) {
						this.gg.drawPT(this.x[i] + rightShiftIgnoreSign(this.width[i] - 14, 1), this.y[i] + 6 + 18 + this.item_kazu[i] * 14 + 2, 201, 0);
					}
				}
				else {
					this.gg.drawPT(this.x[i] + rightShiftIgnoreSign(this.width[i] - 14, 1), this.y[i] + 6 + 18 + this.item_kazu[i] * 14 + 2, 201, 0);
				}
				break;
			case 350: 
				if (this.item_int[i][0] == 100)
				{
					this.item_int[i][0] = 55;
				}
				else
				{
					this.drawWindowbox(this.x[i], this.y[i], this.width[i], 26);



					this.hg.setColor(Color.white);
					this.hg.drawString(this.item[i][0], this.x[i] + 6, this.y[i] + 6 + 12);


					this.item_int[i][0] -= 1;
					if (this.item_int[i][0] <= 0) {
						this.off(i);
					}
				}
				break;
			case 360: 
				if (this.item_int[i][0] == 200)
				{
					this.drawWindowbox(this.x[i], this.y[i], this.width[i], 44);



					this.hg.setColor(this.item_color[i]);
					this.hg.drawString(this.item[i][0], this.x[i] + 6, this.y[i] + 6 + 12);


					this.hg.setColor(Color.white);
					this.hg.drawString(this.item[i][1], this.x[i] + 6, this.y[i] + 6 + 18 + 12);
				}
				else if (this.item_int[i][0] == 100)
				{
					this.item_int[i][0] = 55;
				}
				else
				{
					this.drawWindowbox(this.x[i], this.y[i], this.width[i], 44);



					this.hg.setColor(this.item_color[i]);
					this.hg.drawString(this.item[i][0], this.x[i] + 6, this.y[i] + 6 + 12);


					this.hg.setColor(Color.white);
					this.hg.drawString(this.item[i][1], this.x[i] + 6, this.y[i] + 6 + 18 + 12);


					this.item_int[i][0] -= 1;
					if (this.item_int[i][0] <= 0) {
						this.off(i);
					}
				}
				break;
			case 400: 
				this.drawWindowbox(this.x[i], this.y[i], this.width[i], 128);



				this.hg.setColor(Color.yellow);

				this.hg.drawString(this.name_crys + "のステータス", this.x[i] + 6, this.y[i] + 6 + 12);
				this.hg.setColor(Color.white);
				this.hg.drawString("HP	" + this.item_int[14][0] + " / " + this.item_int[14][1], this.x[i] + 6, this.y[i] + 6 + 18 + 0 + 12);
				this.hg.drawString("おこづかい	", this.x[i] + 6, this.y[i] + 6 + 18 + 28 + 12);
				this.hg.drawString("" + this.item_int[14][2] + "円", this.x[i] + 6 + 72, this.y[i] + 6 + 18 + 42 + 12);
				this.hg.drawString("得点", this.x[i] + 6, this.y[i] + 6 + 18 + 56 + 12);
				this.hg.drawString("" + this.item_int[14][3] + "点", this.x[i] + 6 + 72, this.y[i] + 6 + 18 + 70 + 12);
				if (this.c_fc <= 3) {
					this.gg.drawPT(this.x[i] + rightShiftIgnoreSign(this.width[i] - 14, 1), this.y[i] + 6 + 18 + 84 + 2, 71, 0);
				}
				break;
			case 420: 
				this.drawWindowbox(this.x[i], this.y[i], this.width[i], 116);
				this.hg.setColor(new Color(96, 96, 96));
				this.hg.fillRect(this.x[i] + 12, this.y[i] + 12, this.width[i] - 24, 48);
				this.gg.drawPT(this.x[i] + 12 + rightShiftIgnoreSign(this.width[i] - 24 - 32, 1), this.y[i] + 12 + 8, this.item_int[i][2], 0);


				this.hg.setColor(Color.cyan);
				this.hg.drawString(this.item[i][0], this.x[i] + 12, this.y[i] + 64 + 12);
				this.hg.setColor(Color.white);
				this.hg.drawString("これからも、よろしくね！", this.x[i] + 12, this.y[i] + 68 + 14 + 12);
				if (this.c_fc <= 3) {
					this.gg.drawPT(this.x[i] + rightShiftIgnoreSign(this.width[i] - 14, 1), this.y[i] + 68 + 28 + 2, 71, 0);
				}
				break;
			case 410: 
				if (this.item_int[i][0] == -2)
				{
					this.drawWindowbox(this.x[i], this.y[i], this.width[i], 116);
					this.hg.setColor(new Color(96, 96, 96));
					this.hg.fillRect(this.x[i] + 12, this.y[i] + 12, this.width[i] - 24, 48);
					this.gg.drawPT(this.x[i] + 12 + rightShiftIgnoreSign(this.width[i] - 24 - 32, 1), this.y[i] + 12 + 8, this.item_int[i][2], 0);


					this.hg.setColor(Color.yellow);
					this.hg.drawString(this.item[i][0], this.x[i] + 12, this.y[i] + 64 + 12);
					this.hg.setColor(Color.white);
					this.hg.drawString("捕獲不可能", this.x[i] + 12, this.y[i] + 68 + 14 + 12);
					if (this.c_fc <= 3) {
						this.gg.drawPT(this.x[i] + rightShiftIgnoreSign(this.width[i] - 14, 1), this.y[i] + 68 + 28 + 2, 71, 0);
					}
				}
				else if (this.item_int[i][0] < 0)
				{
					this.drawWindowbox(this.x[i], this.y[i], this.width[i], 116);
					this.hg.setColor(new Color(96, 96, 96));
					this.hg.fillRect(this.x[i] + 12, this.y[i] + 12, this.width[i] - 24, 48);
					this.gg.drawPT(this.x[i] + 12 + rightShiftIgnoreSign(this.width[i] - 24 - 32, 1), this.y[i] + 12 + 8, this.item_int[i][2], 0);


					this.hg.setColor(Color.yellow);
					this.hg.drawString(this.item[i][0], this.x[i] + 12, this.y[i] + 64 + 12);
					this.hg.setColor(Color.white);
					this.hg.drawString("現在調査中", this.x[i] + 12, this.y[i] + 68 + 14 + 12);
					if (this.c_fc <= 3) {
						this.gg.drawPT(this.x[i] + rightShiftIgnoreSign(this.width[i] - 14, 1), this.y[i] + 68 + 28 + 2, 71, 0);
					}
				}
				else
				{
					this.drawWindowbox(this.x[i], this.y[i], this.width[i], 158);
					this.hg.setColor(new Color(96, 96, 96));
					this.hg.fillRect(this.x[i] + 12, this.y[i] + 12, this.width[i] - 24, 48);
					this.gg.drawPT(this.x[i] + 12 + rightShiftIgnoreSign(this.width[i] - 24 - 32, 1), this.y[i] + 12 + 8, this.item_int[i][2], 0);


					this.hg.setColor(Color.yellow);
					this.hg.drawString(this.item[i][0], this.x[i] + 12, this.y[i] + 64 + 12);
					this.hg.setColor(Color.white);
					this.hg.drawString("最大HP", this.x[i] + 12, this.y[i] + 68 + 14 + 12);
					this.hg.drawString("" + this.item_int[i][0], this.x[i] + 56, this.y[i] + 68 + 28 + 12);
					this.hg.drawString("最大PP", this.x[i] + 12, this.y[i] + 68 + 42 + 12);
					this.hg.drawString("" + this.item_int[i][1], this.x[i] + 56, this.y[i] + 68 + 56 + 12);
					if (this.c_fc <= 3) {
						this.gg.drawPT(this.x[i] + rightShiftIgnoreSign(this.width[i] - 14, 1), this.y[i] + 68 + 70 + 2, 71, 0);
					}
				}
				break;
			case 500: 
				if ((this.c_fc <= 3) || (this.aw != 0)) {
					this.hg.drawImage(this.hi[72], 12 + 28 * this.selectedIndex[i], 288, this.ap);
				} else {
					this.hg.drawImage(this.hi[73], 12 + 28 * this.selectedIndex[i], 288, this.ap);
				}
				break;
			case 600: 
				this.drawWindowbox(this.x[i], this.y[i], this.width[i], 96);

				k = this.item_int[i][0];
				var m = this.x[i] + rightShiftIgnoreSign(this.width[i] - 64, 1);
				var n = this.y[i] + 16;
				this.gg.drawPT(m, n, k, 0);
				this.gg.drawPT(m + 32, n, k + 1, 0);
				this.gg.drawPT(m, n + 32, k + 10, 0);
				this.gg.drawPT(m + 32, n + 32, k + 11, 0);

				break;
			case 610: 
				this.drawWindowbox(this.x[i], this.y[i], this.width[i], 30 + this.item_kazu[i] * 14);



				this.hg.setColor(Color.yellow);
				this.hg.drawString("モンスターずかん", this.x[i] + 6, this.y[i] + 6 + 12);


				this.hg.setColor(Color.white);
				this.hg.drawString("見つけた数	" + this.item_int[i][0], this.x[i] + 6, this.y[i] + 6 + 18 + 0 + 12);
				this.hg.drawString("捕まえた数	" + this.item_int[i][1], this.x[i] + 6, this.y[i] + 6 + 18 + 14 + 12);

				break;
			case 700: 
				this.drawWindowbox(this.x[i], this.y[i], this.width[i], 30 + this.item_kazu[i] * 14 + 18);



				this.hg.setColor(Color.cyan);
				this.hg.drawString(this.item[i][15], this.x[i] + 24, this.y[i] + 6 + 12);



				this.hg.setColor(Color.white);
				this.hg.drawString(this.message[i], this.x[i] + 24, this.y[i] + 6 + 12 + 18);
				if (this.item_kazu[i] >= 1) {
					for (j = 0; j <= this.item_kazu[i] - 1; j++) {
						this.hg.drawString(this.item[i][j], this.x[i] + 24, this.y[i] + 6 + 18 + j * 14 + 12 + 18);
					}
				}
				if (i == this.aw)
				{
					if (this.c_fc <= 3) {
						this.gg.drawPT(this.x[i] + 6, this.y[i] + 6 + 18 + this.selectedIndex[i] * 14 + 18, 200, 0);
					}
				}
				else {
					this.gg.drawPT(this.x[i] + 6, this.y[i] + 6 + 18 + this.selectedIndex[i] * 14 + 18, 200, 0);
				}
				break;
			case 800: 
				this.drawWindowbox(this.x[i], this.y[i], this.width[i], 44);



				this.hg.setColor(Color.yellow);
				this.hg.drawString("おこづかい", this.x[i] + 6, this.y[i] + 6 + 12);


				this.hg.setColor(Color.white);
				this.hg.drawString("" + this.item_int[i][0] + "円", this.x[i] + 6, this.y[i] + 6 + 18 + 12);

				break;
			case 900: 
				this.drawWindowbox(this.x[i], this.y[i], this.width[i], 30 + this.item_kazu[i] * 14);



				this.hg.setColor(Color.white);
				this.hg.drawString(this.message[i], this.x[i] + 24, this.y[i] + 6 + 12);
				if (this.item_kazu[i] >= 1) {
					for (j = 0; j <= this.item_kazu[i] - 1; j++)
					{
						this.hg.drawString(this.item[i][j], this.x[i] + 24, this.y[i] + 6 + 18 + j * 14 + 12);

						this.hg.drawString("" + this.item_int[i][j], this.x[i] + 24 + 116, this.y[i] + 6 + 18 + j * 14 + 12);
					}
				}
				if (i == this.aw)
				{
					if (this.c_fc <= 3) {
						this.gg.drawPT(this.x[i] + 6, this.y[i] + 6 + 18 + this.selectedIndex[i] * 14, 200, 0);
					}
				}
				else {
					this.gg.drawPT(this.x[i] + 6, this.y[i] + 6 + 18 + this.selectedIndex[i] * 14, 200, 0);
				}
				break;
			case 1000: 
				this.drawWindowbox(this.x[i], this.y[i], this.width[i], 98);
				this.hg.setColor(new Color(96, 96, 96));
				this.hg.fillRect(this.x[i] + 12, this.y[i] + 12, 248, 48);
				for (j = 0; j <= 5; j++) {
					if (this.item_int[i][j] > 0) {
						this.gg.drawPT(this.x[i] + 12 + 8 + j * 40, this.y[i] + 12 + 8, this.item_int[i][j], 0);
					}
				}
				this.hg.setColor(Color.white);
				this.hg.drawString("みんな、元気になった。", this.x[i] + 12, this.y[i] + 64 + 12);
				if (this.c_fc <= 3) {
					this.gg.drawPT(this.x[i] + rightShiftIgnoreSign(this.width[i] - 14, 1), this.y[i] + 64 + 14 + 2, 71, 0);
				}
				break;
			}
		}
	}
	this.hg.setFont(beforeFont);
}

KeyboardMenu.prototype.drawWindowbox = function(paramInt1, paramInt2, paramInt3, paramInt4)
{
	this.hg.setColor(Color.white);
	this.hg.fillRect(paramInt1, paramInt2, paramInt3, paramInt4);
	this.hg.setColor(Color.black);
	this.hg.fillRect(paramInt1 + 2, paramInt2 + 2, paramInt3 - 4, paramInt4 - 4);
}

function MainProgram(gamegraphics, gamemouse, gamekey, gamesound, tagdatabase)
{
	// マップの幅と高さ（ブロック単位）。将来はここを変数にする。
	this.mapWidth = 180;
	this.mapHeight = 30;

	this.ran = undefined;
    this.ran_seed = undefined;
	this.gamecolor_back = undefined;
	this.gamecolor_back_s = undefined;
	this.gamecolor_back_t = undefined;
	this.gamecolor_back_f = undefined;
	this.gamecolor_score = undefined;
	this.gamecolor_grenade1 = undefined;
	this.gamecolor_grenade2 = undefined;
	this.gamecolor_firebar1 = undefined;
	this.gamecolor_firebar2 = undefined;
	this.gamecolor_mizunohadou = undefined;
	this.gamecolor_kaishi = undefined;
	this.ana_kazu = undefined;
	this.ochiru_y = undefined;
	this.j_hashiru_f = undefined;
	this.j_jump_level = undefined;
	this.j_jump_type = undefined;
	this.j_zan_f = undefined;
	this.j_zan_cf = undefined;
	this.j_zan_p = undefined;
	this.j_zan_nagasa = undefined;
	this.j_zan_c = undefined;
	this.j_a_id = undefined;
	this.j_mizu_f = undefined;
	this.j_mizu_ac = undefined;
	this.j_mizu_awa_c = undefined;
	this.j_left = undefined;
	this.j_left_shoki = undefined;
	this.j_jdai_f = undefined;
	this.boss_hp = undefined;
	this.showm_c = undefined;
	this.showi_c = undefined;
	this.showi_x = undefined;
	this.showi_y = undefined;
	this.time = undefined;
	this.time_max = undefined;
	this.m_kazu = undefined;
	this.jm_kazu = undefined;
	this.a_hf = undefined;
	this.j_fire_f = undefined;
	this.j_v_c = undefined;
	this.j_v_kakudo = undefined;
	this.j_jet_c = undefined;
	this.j_jet_kf = undefined;
	this.j_jet_fuel = undefined;
	this.j_helm_f = undefined;
	this.j_drell_f = undefined;
	this.j_tail_f = undefined;
	this.j_tail_ac = undefined;
	this.j_gr_kazu = undefined;
	this.sl_step = undefined;
	this.sl_wx = undefined;
	this.sl_wy = undefined;
	this.sl_speed = undefined;
	this.ks_wx = undefined;
	this.ks_wy = undefined;
	this.moji_score = undefined;
	this.moji_highscore = undefined;
	this.moji_time = undefined;
	this.moji_jet = undefined;
	this.moji_grenade = undefined;
	this.moji_left = undefined;
	this.moji_size = undefined;
	this.j_tail_hf = undefined;
	this.j_tail_type = undefined;
	this.default_j_tail_type = undefined;
	this.grenade_type = undefined;
	this.suberuyuka_hkf = undefined;
	this.j_fire_mkf = undefined;
	this.dengeki_mkf = undefined;
	this.yachamo_attack = undefined;
	this.poppie_attack = undefined;
	this.mizutaro_attack = undefined;
	this.mariri_attack = undefined;
	this.chikorin_attack = undefined;
	this.airms_kf = undefined;
	this.taiking_attack = undefined;
	this.kuragesso_attack = undefined;
	this.ugokuyuka1_type = undefined;
	this.ugokuyuka2_type = undefined;
	this.ugokuyuka3_type = undefined;
	this.firebar1_type = undefined;
	this.firebar2_type = undefined;
	this.dossunsun_type = undefined;
	this.coin1_type = undefined;
	this.coin3_type = undefined;
	this.dokan1_type = undefined;
	this.dokan2_type = undefined;
	this.dokan3_type = undefined;
	this.dokan4_type = undefined;
	this.boss_type = undefined;
	this.boss2_type = undefined;
	this.boss3_type = undefined;
	this.dokan_mode = undefined;
	this.mes1_name = undefined;
	this.mes2_name = undefined;
	this.shop_name = undefined;
	this.setumei_name = undefined;
	this.hitokoto_num = undefined;
	this.boss_kijyun_y = undefined;
	this.scroll_area = undefined;
	this.clear_type = undefined;
	this.coin_kazu = undefined;
	this.tpika_p = undefined;
	this.setmyw_w = undefined;
	this.setmyw_pt = undefined;
	this.setmyw_muki = undefined;
	this.souko_count1 = undefined;
	this.souko_count2 = undefined;
	this.souko_count3 = undefined;
	this.heh = null;
	this.system_draw_mode = 1;
	this.ml_mode = 0;
	this.ml_mode_c = 0;
	this.score = 0;
	this.highscore = 0;
	this.score_1up_1 = 0;
	this.score_1up_2 = 0;
	this.score_1up_1_para = 0;
	this.score_1up_2_para = 0;
	this.score_v = true;
	this.stage = 1;
	this.stage_cc = 0;
	this.stage_max = 1;
	this.stage_kaishi = 1;
	this.g_c1 = 0;
	this.g_c2 = 0;
	this.g_c3 = 0;
	this.g_ac = 0;
	this.g_ac2 = 0;
	this.tr1_c = 0;
	this.tr2_c = 0;
	this.left_dcc = 0;
	this.right_dcc = 0;
	this.xkey_c = 0;
	this.map_data_option = createNDimensionArray(this.mapWidth + 20, this.mapHeight + 70);
	this.co_t = [];
	this.co_m = new Array(80);
	this.co_a = [];
	this.co_h = new Array(80);
	this.co_jm = new Array(9);
	this.co_mu = new Array(2);
	this.yo = [];
	this.vo_x = [];
	this.vo_y = [];
	this.ana_c = new Array(12);
	this.ana_x = new Array(12);
	this.ana_y = new Array(12);
	this.j_zan_x = new Array(6);
	this.j_zan_y = new Array(6);
	this.j_zan_pt = new Array(6);
	this.j_zan_pth = new Array(6);
	this.j_zan_img = new Array(6);
	this.j_zan_zs_x = new Array(6);
	this.j_zan_zs_y = new Array(6);
	this.j_shitakara_mushi_y = -1;
	this.j_hashigo_f = false;
	this.j_hashigo_mushi_x = -1;
	this.j_djump_kf = true;
	this.j_speed = 80;
	this.j_fire_range = 9999;
	this.j_rope_id = 0;
	this.j_rope_r = 32;
	this.j_rope_cf = false;
	this.j_cannon_c = 0;
	this.j_cannon_type = 0;
	this.saka_mushi_y = -1;
	this.dkey_count = new Array(2);
	this.dkey_back_color = new Color(0, 0, 0, 96);
	this.j_hp_v = false;
	this.j_hp = 1;
	this.j_hp_max = 1;
	this.j_hp_moji = "HP";
	this.j_muteki_c = 0;
	this.j_4_muki = 0;
	this.showm_data = new Array(4);
	this.showi_img = null;
	this.setmapc_f = false;
	this.setbacki_f = false;
	this.setbacki_img = null;
	this.js_pen_color = new Color(255, 255, 255);
	this.showr_c = 0;
	this.showr_x = 0;
	this.showr_y = 0;
	this.showr_width = 32;
	this.showr_height = 32;
	this.showo_c = 0;
	this.showo_x = 0;
	this.showo_y = 0;
	this.showo_width = 32;
	this.showo_height = 32;
	this.js_mes = 0;
	this.gauge_v = false;
	this.gauge_value = 0;
	this.gauge_text = "";
	this.vo_pa_x = new Array(6);
	this.vo_pa_y = new Array(6);
	this.stage_1up_f = new Array(3);
	this.j_fire_type = 1;
	this.default_j_fire_type = 1;
	this.j_enemy_press = 1;
	this.boss_destroy_type = 1;
	this.boss_hp_max = 20;
	this.j_tail_ap_boss = 4;
	this.j_tokugi = 1;
	this.mu_ato_x = new Array(32);
	this.mu_ato_y = new Array(32);
	this.mu_ato_p = 0;
	this.j_double_f = false;
	this.pause_switch = 1;
	this.control_parts_visible = 1;
	this.view_move_type = 1;
	this.shop_item_name = new Array(16);
	this.shop_item_teika = new Array(16);
	this.door_score = 10;
	this.water_visible = 1;
	this.hitokoto_c = -1;
	this.gazou_scroll = 1;
	this.gazou_scroll_speed_x = 1;
	this.gazou_scroll_speed_y = 1;
	this.gazou_scroll_x = 0;
	this.gazou_scroll_y = 0;
	this.mcs_haikei_visible = 0;
	this.easy_mode = 1;
	this.title_lock_f = false;
	this.start_game_f = false;
	this.mode_wait_ending = 120;
	this.mode_wait_gameover = 45;
	this.mode_wait_stagestart = 35;
	this.attacktail_yf = true;
	this.mhouse_c = 0;
	this.mhouse_x = 0;
	this.mhouse_y = 0;
	this.yuka_ride_id = -1;
	this.dso_cf = false;
	this.spot_c = 0;
	this.spot_r = 128;
	this.spot_r_mokuhyou = 128;
	this.draw_lock_f = false;
	this.nkscroll_con = 0;
	this.nkscroll_view_x = 0;
	this.nkscroll_view_y = 0;
	this.nkscroll_my_view_x = 0;
	this.nkscroll_my_view_y = 0;
	this.nkscroll_speed_x = 2;
	this.nkscroll_vx = 0;
	this.nkscroll_vy = 0;
	this.nkscroll_zsc = false;
	this.boss_attack_mode = false;
	this.cpoint_con = 0;
	this.cpoint_stage = 0;
	this.cpoint_x = 32;
	this.cpoint_y = 320;
	this.jst_slow_down = 0;
	this.jst_key_down = 0;
	this.jst_fast_run_attack = 0;
	this.jst_fly_left_right = 0;
	this.jst_fire_xkey_only = 0;
	this.jst_kabe_kick = 0;
	this.jst_double_jump = 0;
	this.jst_fast_run = 0;
	this.jst_high_sjump = 0;
	this.jst_jump_level_fix = 0;
	this.jst_auto_right = 0;
	this.jst_syouryuuken = 0;
	this.jst_pc_attack = 0;
	this.up_key_c = 0;
	this.down_key_c = 0;
	this.j_add_tokugi = 0;
	this.j_add_tokugi2 = 0;
	this.j_add_tokugi3 = 0;
	this.j_add_tokugi4 = 0;
	this.second_gazou_visible = false;
	this.second_gazou_img = null;
	this.second_gazou_stage_img = new Array(4);
	this.second_gazou_scroll = 1;
	this.second_gazou_scroll_speed_x = 1;
	this.second_gazou_scroll_speed_y = 1;
	this.second_gazou_scroll_x = 0;
	this.second_gazou_scroll_y = 0;
	this.second_gazou_priority = 1;
	this.stage_haikei = 1;
	this.gg = gamegraphics;
	this.gm = gamemouse;
	this.gk = gamekey;
	this.gs = gamesound;
	this.tdb = tagdatabase;
	this.spot_img = new ImageBuff(512, 320);
	this.spot_g = this.spot_img.createGraphics();
	this.maps = new MapSystem(this.mapWidth + 20, this.mapHeight + 70, this.gg, this);
	this.km = new KeyboardMenu(this.gg, this.gk, "\u307E\u3055\u304A");
	this.co_j = new CharacterObject();

	for(var j = 0; j <= 79; j++)
		this.co_m[j] = new CharacterObject();

	for(var l = 0; l <= 79; l++)
		this.co_h[l] = new CharacterObject();

	for(var i1 = 0; i1 <= 8; i1++)
		this.co_jm[i1] = new CharacterObject();

	this.co_b = new CharacterObject();
	for(var j1 = 0; j1 <= 1; j1++)
		this.co_mu[j1] = new CharacterObject();

	var l1 = this.tdb.getValueInt("stage_select");
	if(l1 == 2)
	{
		this.stage_select = 2;
		this.stage_max = 4;
	} else
	{
		this.stage_select = 1;
	}
	this.ig = new IdouGamen(this.gg, this.gk, this.km, this);
	this.ranInit();
	this.hi = this.gg.spt_img[0];
	this.hih = this.gg.spt_img;
	this.hg = this.gg.os_g;
	this.ap = this.gg.ap;
	this.init1();
}

MainProgram.prototype = {
	get t_kazu() {
		if (this.co_t) {
			return this.co_t.length - 1;
		}
		else {
			return -1;
		}
	},
	get a_kazu() {
		if (this.co_a) {
			return this.co_a.length - 1;
		}
		else {
			return -1;
		}
	},
	get yuka_id_max() {
		if (this.yo) {
			return this.yo.length - 1;
		}
		else {
			return -1;
		}
	}
};

MainProgram.prototype.addHighscoreEvent = function(highscoreeventhandler)
{
	this.heh = highscoreeventhandler;
	return true;
}

MainProgram.prototype.sendHighscore = function()
{
	if(Object.prototype.toString.call(this.heh) == "[object Function]")
	{
		var i = this.highscore;
		if(i < this.score)
			i = this.score;
		this.heh(i);
	}
}

MainProgram.prototype.start = function()
{
	this.ml_mode = 50;
}

MainProgram.prototype.addMyTokugi = function(i)
{
	var flag = false;
	switch(i)
	{
	case 1:
		this.j_helm_f = true;
		flag = true;
		break;

	case 2:
		this.j_drell_f = true;
		flag = true;
		break;

	case 3:
		this.jst_slow_down = 1;
		flag = true;
		break;

	case 4:
		this.jst_key_down = 1;
		flag = true;
		break;

	case 5:
		this.jst_fast_run_attack = 1;
		flag = true;
		break;

	case 6:
		this.jst_fly_left_right = 1;
		flag = true;
		break;

	case 7:
		this.jst_fast_run = 1;
		flag = true;
		break;

	case 8:
		this.jst_fast_run = 2;
		flag = true;
		break;

	case 9:
		this.jst_double_jump = 1;
		flag = true;
		break;

	case 10:
		this.jst_kabe_kick = 1;
		flag = true;
		break;

	case 11:
		this.jst_kabe_kick = 2;
		flag = true;
		break;

	case 12:
		this.jst_fire_xkey_only = 1;
		flag = true;
		break;

	case 13:
		this.jst_jump_level_fix = 1;
		flag = true;
		break;

	case 14:
		this.jst_jump_level_fix = 2;
		flag = true;
		break;

	case 15:
		this.jst_jump_level_fix = 3;
		flag = true;
		break;

	case 16:
		this.jst_jump_level_fix = 4;
		flag = true;
		break;

	case 17:
		this.j_tail_type = 1;
		this.j_tail_f = true;
		flag = true;
		break;

	case 18:
		this.j_tail_type = 2;
		this.j_tail_f = true;
		flag = true;
		break;

	case 19:
		this.j_tail_type = 3;
		this.j_tail_f = true;
		flag = true;
		break;

	case 20:
		this.j_fire_type = 1;
		this.j_fire_f = true;
		flag = true;
		break;

	case 21:
		this.j_fire_type = 2;
		this.j_fire_range = 9999;
		this.j_fire_f = true;
		flag = true;
		break;

	case 22:
		this.j_fire_type = 4;
		this.j_fire_range = 10;
		this.j_fire_f = true;
		flag = true;
		break;

	case 23:
		this.j_fire_type = 3;
		this.j_fire_range = 10;
		this.j_fire_f = true;
		flag = true;
		break;

	case 24:
		this.j_fire_type = 5;
		this.j_fire_f = true;
		flag = true;
		break;

	case 25:
		this.jst_syouryuuken = 1;
		flag = true;
		break;

	case 26:
		this.jst_pc_attack = 1;
		flag = true;
		break;

	case 27:
		this.jst_pc_attack = 2;
		flag = true;
		break;

	case 28:
		this.jst_syouryuuken = 2;
		flag = true;
		break;

	case 29:
		this.jst_key_down = 2;
		flag = true;
		break;

	case 30:
		this.j_helm_f = true;
		flag = true;
		break;
	}
	return flag;
}

MainProgram.prototype.removeMyTokugi = function(i)
{
	var flag = false;
	switch(i)
	{
	case 1:
		this.j_helm_f = false;
		flag = true;
		break;

	case 2:
		this.j_drell_f = false;
		flag = true;
		break;

	case 3:
		this.jst_slow_down = 0;
		flag = true;
		break;

	case 4:
		this.jst_key_down = 0;
		flag = true;
		break;

	case 5:
		this.jst_fast_run_attack = 0;
		flag = true;
		break;

	case 6:
		this.jst_fly_left_right = 0;
		flag = true;
		break;

	case 7:
		this.jst_fast_run = 0;
		flag = true;
		break;

	case 8:
		this.jst_fast_run = 0;
		flag = true;
		break;

	case 9:
		this.jst_double_jump = 0;
		flag = true;
		break;

	case 10:
		this.jst_kabe_kick = 0;
		flag = true;
		break;

	case 11:
		this.jst_kabe_kick = 0;
		flag = true;
		break;

	case 12:
		this.jst_fire_xkey_only = 0;
		flag = true;
		break;

	case 13:
		this.jst_jump_level_fix = 0;
		flag = true;
		break;

	case 14:
		this.jst_jump_level_fix = 0;
		flag = true;
		break;

	case 15:
		this.jst_jump_level_fix = 0;
		flag = true;
		break;

	case 16:
		this.jst_jump_level_fix = 0;
		flag = true;
		break;

	case 17:
		this.j_tail_type = 1;
		this.j_tail_f = false;
		flag = true;
		break;

	case 18:
		this.j_tail_type = 2;
		this.j_tail_f = false;
		flag = true;
		break;

	case 19:
		this.j_tail_type = 3;
		this.j_tail_f = false;
		flag = true;
		break;

	case 20:
		this.j_fire_type = 1;
		this.j_fire_f = false;
		flag = true;
		break;

	case 21:
		this.j_fire_type = 2;
		this.j_fire_range = 9999;
		this.j_fire_f = false;
		flag = true;
		break;

	case 22:
		this.j_fire_type = 4;
		this.j_fire_range = 10;
		this.j_fire_f = false;
		flag = true;
		break;

	case 23:
		this.j_fire_type = 3;
		this.j_fire_range = 10;
		this.j_fire_f = false;
		flag = true;
		break;

	case 24:
		this.j_fire_type = 5;
		this.j_fire_f = false;
		flag = true;
		break;

	case 25:
		this.jst_syouryuuken = 0;
		flag = true;
		break;

	case 26:
		this.jst_pc_attack = 0;
		flag = true;
		break;

	case 27:
		this.jst_pc_attack = 0;
		flag = true;
		break;

	case 28:
		this.jst_syouryuuken = 0;
		flag = true;
		break;

	case 29:
		this.jst_key_down = 0;
		flag = true;
		break;

	case 30:
		this.j_helm_f = false;
		flag = true;
		break;
	}
	return flag;
}

MainProgram.prototype.moveGameCounter = function()
{
	switch(this.g_c3)
	{
	case 0:
		this.g_c3 = 1;
		this.g_c1 = 1;
		this.g_c2 = 1;
		this.g_ac = 0;
		this.g_ac2 = 0;
		break;

	case 1:
		this.g_c3 = 2;
		this.g_c1 = 0;
		this.g_c2 = 2;
		this.g_ac = 1;
		this.g_ac2 = 1;
		break;

	case 2:
		this.g_c3 = 3;
		this.g_c1 = 1;
		this.g_c2 = 3;
		this.g_ac = 1;
		this.g_ac2 = 1;
		break;

	case 3:
		this.g_c3 = 4;
		this.g_c1 = 0;
		this.g_c2 = 0;
		this.g_ac = 0;
		this.g_ac2 = 2;
		break;

	case 4:
		this.g_c3 = 5;
		this.g_c1 = 1;
		this.g_c2 = 1;
		this.g_ac = 0;
		this.g_ac2 = 2;
		break;

	case 5:
		this.g_c3 = 6;
		this.g_c1 = 0;
		this.g_c2 = 2;
		this.g_ac = 1;
		this.g_ac2 = 3;
		break;

	case 6:
		this.g_c3 = 7;
		this.g_c1 = 1;
		this.g_c2 = 3;
		this.g_ac = 1;
		this.g_ac2 = 3;
		break;

	case 7:
		this.g_c3 = 0;
		this.g_c1 = 0;
		this.g_c2 = 0;
		this.g_ac = 0;
		this.g_ac2 = 0;
		break;
	}
}

MainProgram.prototype.showmSet = function(s, s1, s2, s3, s4)
{
	if(this.ml_mode != 100)
		return false;
	this.showm_c = parseInt(s);
	if(isNaN(this.showm_c))
		this.showm_c = 0;
	if(this.showm_c <= 0)
	{
		return false;
	} else
	{
		this.showm_data[0] = s1;
		this.showm_data[1] = s2;
		this.showm_data[2] = s3;
		this.showm_data[3] = s4;
		return true;
	}
}

MainProgram.prototype.showmMove = function()
{
	if(this.showm_c > 0)
	{
		this.hitokoto_c = this.showm_c;
		this.showm_c = 0;
		this.hitokoto_num = 5;
	}
}

MainProgram.prototype.showiSet = function(s, s1, s2, s3)
{
	if(this.ml_mode != 100)
		return false;
	this.showi_c = parseInt(s);
	this.showi_x = parseInt(s1);
	this.showi_y = parseInt(s2);
	if(isNaN(this.showi_c) || isNaN(this.showi_x) || isNaN(this.showi_y))
		this.showi_c = 0;
	if(this.showi_c <= 0)
	{
		return false;
	} else
	{
		this.showi_img = this.gg.loadImage(s3);
		return true;
	}
}

MainProgram.prototype.setbacki = function(s)
{
	if(this.ml_mode != 100)
		return false;
	if(this.gg.layer_mode != 2 && this.mcs_haikei_visible != 1)
	{
		return false;
	} else
	{
		this.setbacki_f = true;
		this.setbacki_img = this.gg.loadImage(s);
		return true;
	}
}

MainProgram.prototype.setMyWait = function(s, s1, s2)
{
	var i = -1;
	var j = 100;
	var k = 1;
	if(this.ml_mode != 100)
		return false;

	i = parseInt(s);
	j = parseInt(s1);
	k = parseInt(s2);
	if(isNaN(i) || isNaN(j) || isNaN(k))
		i = -1;
	if(i < 0)
		return false;
	if(this.co_j.c >= 200)
		return false;
	if(j < 0 || j > 249)
		j = 0;
	if(k < 0 || k > 1)
		k = 0;
	this.setmyw_w = i;
	this.setmyw_pt = j;
	this.setmyw_muki = k;
	if(this.system_draw_mode >= 2)
	{
		this.co_j.muki = k;
		this.co_j.pt = j;
		this.co_j.pth = k;
	}
	return true;
}

MainProgram.prototype.getBossHP = function()
{
	if(this.ml_mode < 100 || this.ml_mode >= 200)
		return 0;
	if(this.boss_destroy_type == 2)
		return this.boss_hp;
	else
		return this.co_b.c4;
}

MainProgram.prototype.setBossHP = function(i)
{
	if(this.ml_mode < 100 || this.ml_mode >= 200)
		return false;
	if(this.co_b.c < 100)
		return false;
	if(this.j_tokugi == 10 || this.j_tokugi >= 12 && this.j_tokugi <= 15 || this.boss_destroy_type == 2)
	{
		if(this.boss_destroy_type != 2 || this.co_b.c != 100 && this.co_b.c != 200 && this.co_b.c != 300)
			this.boss_hp = i;
		if(this.boss_hp <= 0)
		{
			this.boss_hp = 0;
			if(this.co_b.c < 200)
			{
				this.co_b.c4 = 0;
				this.co_b.c = 60;
				this.co_b.c1 = 0;
				this.co_b.pt = 1010;
				if(this.boss_destroy_type != 2)
					this.co_b.y -= 16;
				this.gs.rsAddSound(8);
			} else
			if(this.co_b.c < 300)
			{
				this.co_b.c4 = 0;
				this.co_b.c = 70;
				this.co_b.c1 = 0;
				this.co_b.pt = 1110;
				this.co_b.y -= 16;
				this.gs.rsAddSound(8);
			} else
			{
				this.co_b.c4 = 0;
				this.co_b.c = 80;
				this.co_b.c1 = 0;
				this.co_b.pt = 1210;
				this.co_b.y -= 16;
				this.gs.rsAddSound(8);
			}
		}
	} else
	{
		return false;
	}
	if(this.boss_destroy_type == 2 && (this.boss_destroy_type != 2 || this.co_b.c != 100 && this.co_b.c != 200 && this.co_b.c != 300))
	{
		var j = Math.floor((this.boss_hp * 200) / this.boss_hp_max);
		if(this.co_b.c >= 100 && this.co_b.c < 200 || this.co_b.c == 60)
			this.showGauge(String(j), this.tdb.getValue("boss_name") + "  " + this.boss_hp + "/" + this.boss_hp_max);
		else
		if(this.co_b.c >= 200 && this.co_b.c < 300 || this.co_b.c == 70)
			this.showGauge(String(j), this.tdb.getValue("boss2_name") + "  " + this.boss_hp + "/" + this.boss_hp_max);
		else
			this.showGauge(String(j), this.tdb.getValue("boss3_name") + "  " + this.boss_hp + "/" + this.boss_hp_max);
	}
	return true;
}

MainProgram.prototype.getBossDirection = function()
{
	if(this.ml_mode < 100 || this.ml_mode >= 200)
		return 0;
	return this.co_b.pth != 1 ? 0 : 1;
}

MainProgram.prototype.isBossAttackMode = function()
{
	if(this.ml_mode < 100 || this.ml_mode >= 200)
		return 0;
	return !this.boss_attack_mode ? 0 : 1;
}

MainProgram.prototype.setBossXReal = function(i)
{
	if(this.ml_mode < 100 || this.ml_mode >= 200)
		return false;
	if(this.co_b.c < 100)
	{
		return false;
	} else
	{
		this.co_b.x = i;
		return true;
	}
}

MainProgram.prototype.setBossYReal = function(i)
{
	if(this.ml_mode < 100 || this.ml_mode >= 200)
		return false;
	if(this.co_b.c < 100)
	{
		return false;
	} else
	{
		this.co_b.y = i;
		return true;
	}
}

MainProgram.prototype.setStageClear = function()
{
	if(this.ml_mode != 100)
		return false;
	if(this.stage_cc == 0)
	{
		this.stage_cc = 1;
		this.gs.rsAddSound(2);
		return true;
	} else
	{
		return false;
	}
}

MainProgram.prototype.setSystemImage = function(s, s1)
{
	var i;

	i = parseInt(s);
	if(isNaN(i))
		i = -1;
	if(i < 0 || i > 9)
		return false;
	if(i == 8)
		this.gg.setPatternImage(s1);
	else
	if(i == 9)
	{
		this.gg.setMapchipImage(s1);
	} else
	{
		if(this.gg.layer_mode != 2 && i > 3)
			return false;
		this.gg.li[i] = this.gg.loadImage(s1);
		if(i == 3 && this.ml_mode == 200)
			this.ig.drawOs2();
	}
	return true;
}

MainProgram.prototype.setScrollArea = function(s, s1, s2, s3)
{
	var i = 0;
	var j = 0;
	var k = this.mapWidth - 16;
	var l = this.mapHeight - 10;
	if(this.ml_mode != 100 && this.ml_mode != 91 && this.ml_mode != 96)
		return false;

	i = parseInt(s);
	j = parseInt(s1);
	k = parseInt(s2);
	l = parseInt(s3);
	if(isNaN(i) || isNaN(j) || isNaN(k) || isNaN(l))
		i = -1;
	if(i < 0 || i > this.mapWidth - 16)
		return false;
	if(k < 0 || k > this.mapWidth - 16)
		return false;
	if(j < 0 || j > this.mapHeight - 10)
		return false;
	if(l < 0 || l > this.mapHeight - 10)
		return false;
	if(i > k)
	{
		var i1 = i;
		i = k;
		k = i1;
	}
	if(j > l)
	{
		var j1 = j;
		j = l;
		l = j1;
	}
	this.maps.wx_mini = (i + 1) * 32;
	this.maps.wx_max = (k + 1) * 32;
	this.maps.wy_mini = (j + 10) * 32;
	this.maps.wy_max = (l + 10) * 32;
	return true;
}

MainProgram.prototype.setScrollAreaReal = function(s, s1, s2, s3)
{
	var i = 0;
	var j = 0;
	var k = this.mapWidth - 16;
	var l = this.mapHeight - 10;
	if(this.ml_mode != 100 && this.ml_mode != 91 && this.ml_mode != 96)
		return false;

	i = parseInt(s);
	j = parseInt(s1);
	k = parseInt(s2);
	l = parseInt(s3);
	if(isNaN(i) || isNaN(j) || isNaN(k) || isNaN(l))
		i = -1;
	if(i < 32 || i > (this.mapWidth - 15) * 32)
		return false;
	if(k < 32 || k > (this.mapWidth - 15) * 32)
		return false;
	if(j < 320 || j > this.mapHeight * 32)
		return false;
	if(l < 320 || l > this.mapHeight * 32)
		return false;
	if(i > k)
	{
		var i1 = i;
		i = k;
		k = i1;
	}
	if(j > l)
	{
		var j1 = j;
		j = l;
		l = j1;
	}
	this.maps.wx_mini = i;
	this.maps.wx_max = k;
	this.maps.wy_mini = j;
	this.maps.wy_max = l;
	return true;
}

MainProgram.prototype.setModeWait = function(s, s1)
{
	var i = 0;
	var j = 100;

	i = parseInt(s);
	j = parseInt(s1);
	if(isNaN(i) || isNaN(j))
		i = -1;
	if(i < 0 || i > 2)
		return false;
	if(j < 0)
		return false;
	if(i == 0)
		this.mode_wait_ending = j;
	else
	if(i == 1)
		this.mode_wait_gameover = j;
	else
	if(i == 2)
		this.mode_wait_stagestart = j;
	return true;
}

MainProgram.prototype.setPenColor = function(s, s1, s2, s3)
{
	var i = 255;
	var j = 255;
	var k = 255;
	var l = 255;

	i = parseInt(s);
	j = parseInt(s1);
	k = parseInt(s2);
	l = parseInt(s3);
	if(isNaN(i) || isNaN(j) || isNaN(k) || isNaN(l))
		i = -1;
	if(i < 0)
	{
		return false;
	} else
	{
		this.js_pen_color = new Color(i, j, k, l);
		return true;
	}
}

MainProgram.prototype.showrSet = function(s, s1, s2, s3, s4)
{
	if(this.ml_mode != 100)
		return false;

	this.showr_c = parseInt(s);
	this.showr_x = parseInt(s1);
	this.showr_y = parseInt(s2);
	this.showr_width = parseInt(s3);
	this.showr_height = parseInt(s4);
	if(isNaN(this.showr_c) || isNaN(this.showr_x) || isNaN(this.showr_y) || isNaN(this.showr_width) || isNaN(this.showr_height))
		this.showr_c = 0;
	return this.showr_c > 0;
}

MainProgram.prototype.showoSet = function(s, s1, s2, s3, s4)
{
	if(this.ml_mode != 100)
		return false;

	this.showo_c = parseInt(s);
	this.showo_x = parseInt(s1);
	this.showo_y = parseInt(s2);
	this.showo_width = parseInt(s3);
	this.showo_height = parseInt(s4);
	if(isNaN(this.showo_c) || isNaN(this.showo_x) || isNaN(this.showo_y) || isNaN(this.showo_width) || isNaN(this.showo_height))
		this.showo_c = 0;
	return this.showr_c > 0;
}

MainProgram.prototype.getJSMes = function()
{
	return this.js_mes;
}

MainProgram.prototype.showGauge = function(s, s1)
{
	var i = 0;
	if(this.ml_mode != 100)
		return false;

	i = parseInt(s);
	if(isNaN(i))
		i = 0;
	if(i < 0)
		i = 0;
	if(i > 200)
		i = 200;
	this.gauge_v = true;
	this.gauge_value = i;
	this.gauge_text = s1;
	return true;
}

MainProgram.prototype.hideGauge = function()
{
	if(this.ml_mode != 100)
	{
		return false;
	} else
	{
		this.gauge_v = false;
		return true;
	}
}

MainProgram.prototype.setJSMes = function(s)
{
	this.js_mes = parseInt(s);
	if(isNaN(this.js_mes))
		this.js_mes = 0;
	return true;
}

MainProgram.prototype.sete = function(s, s1, s2)
{
	var i = 0;
	var j = 0;
	var k = 0;
	var flag = false;
	if(this.ml_mode != 100)
		return false;

	i = parseInt(s);
	j = parseInt(s1);
	k = parseInt(s2);
	if(isNaN(i) || isNaN(j) || isNaN(k))
		k = 0;
	if(k <= 0)
		return false;
	if(i < 0 || i >= this.mapWidth || j < 0 || j >= this.mapHeight)
		return false;
	i = (i + 1) * 32;
	j = (j + 10) * 32;
	switch(k)
	{
	default:
		break;

	case 1:
		this.tSet(i, j, 100, i - 512 - 32);
		flag = true;
		break;

	case 2:
		this.tSet(i, j, 110, i - 512 - 32);
		flag = true;
		break;

	case 3:
		this.tSet(i, j, 110, i - 512 - 32);
		this.tSet(i + 75, j, 110, i - 512 - 32);
		this.tSet(i + 150, j, 110, i - 512 - 32);
		flag = true;
		break;

	case 4:
		this.tSet(i, j, 200, i - 512 - 32);
		flag = true;
		break;

	case 5:
		this.tSet(i, j, 300, i - 512 - 32);
		flag = true;
		break;

	case 6:
		this.tSet(i, j, 400, i - 512 - 32);
		flag = true;
		break;

	case 7:
		this.tSet(i, j, 500, i - 512 - 32);
		flag = true;
		break;

	case 8:
		this.tSet(i, j, 510, i - 512 - 32);
		flag = true;
		break;

	case 9:
		this.tSet(i, j, 510, i - 512 - 32 - 32);
		this.tSet(i + 80, j - 40, 510, i - 512 - 32 - 32);
		this.tSet(i + 140, j + 38, 510, i - 512 - 32 - 32);
		flag = true;
		break;

	case 10:
		this.tSet(i, j, 600, i - 512 - 32);
		flag = true;
		break;

	case 11:
		this.tSet(i, j, 700, i - 512 - 32);
		flag = true;
		break;

	case 12:
		this.tSet(i, j, 800, i - 512 - 32);
		flag = true;
		break;

	case 13:
		this.tSet(i, j, 900, i - 512 - 32);
		flag = true;
		break;

	case 14:
		this.tSet(i, j - 16, 1000, i - 512 - 32 - 32);
		flag = true;
		break;

	case 15:
		this.tSet(i, j, 1100, i - 512 - 32);
		flag = true;
		break;

	case 16:
		this.mSet(i, j, 100);
		this.gs.rsAddSound(10);
		flag = true;
		break;

	case 17:
		this.mSet(i, j, 200);
		this.gs.rsAddSound(11);
		flag = true;
		break;

	case 18:
		this.mSet(i, j, 205);
		this.gs.rsAddSound(11);
		flag = true;
		break;

	case 19:
		this.mSet(i, j, 300);
		this.gs.rsAddSound(14);
		flag = true;
		break;

	case 20:
		this.mSet(i, j, 305);
		this.gs.rsAddSound(14);
		flag = true;
		break;

	case 21:
		this.mSet(i, j, 400);
		this.gs.rsAddSound(15);
		flag = true;
		break;

	case 22:
		this.mSet(i, j, 405);
		this.gs.rsAddSound(15);
		flag = true;
		break;

	case 23:
		this.mSet(i, j + 19, 600);
		flag = true;
		break;

	case 24:
		this.mSet(i, j + 19, 605);
		flag = true;
		break;

	case 25:
		this.mSet(i, j + 19, 606);
		flag = true;
		break;

	case 26:
		this.mSet(i, j, 90);
		this.gs.rsAddSound(18);
		flag = true;
		break;

	case 27:
		this.mSet2(i, j, 800, -5, -32);
		this.gs.rsAddSound(22);
		flag = true;
		break;

	case 28:
		this.mSet2(i, j, 800, -10, -32);
		this.gs.rsAddSound(22);
		flag = true;
		break;

	case 29:
		this.mSet2(i, j, 800, -15, -32);
		this.gs.rsAddSound(22);
		flag = true;
		break;

	case 30:
		this.mSet2(i, j, 500, 8 - this.ranInt(17), -25);
		flag = true;
		break;

	case 31:
		this.mSet2(i, j, 500, 12 - this.ranInt(25), -30);
		flag = true;
		break;

	case 32:
		for(var l = 0; l <= 7; l++)
		{
			var d = ((l * 45) * 3.14) / 180;
			var l1 = Math.floor(Math.cos(d) * 8);
			var k2 = Math.floor(Math.sin(d) * 8) * -1;
			this.mSet2(i, j, 710, l1, k2);
			this.gs.rsAddSound(18);
		}

		flag = true;
		break;

	case 33:
		var d1 = 3.1400001049041748;
		var i2 = Math.floor(Math.cos(d1) * 12);
		var l2 = Math.floor(Math.sin(d1) * 12) * -1;
		this.mSet2(i, j, 710, i2, l2);
		d1 = 2.7038888931274414;
		i2 = Math.floor(Math.cos(d1) * 12);
		l2 = Math.floor(Math.sin(d1) * 12) * -1;
		this.mSet2(i, j, 710, i2, l2);
		d1 = 3.5761110782623291;
		i2 = Math.floor(Math.cos(d1) * 12);
		l2 = Math.floor(Math.sin(d1) * 12) * -1;
		this.mSet2(i, j, 710, i2, l2);
		this.gs.rsAddSound(18);
		flag = true;
		break;

	case 34:
		var d2 = 3.3144445419311523;
		var j2 = Math.floor(Math.cos(d2) * 12);
		var i3 = Math.floor(Math.sin(d2) * 12) * -1;
		this.mSet2(i, j, 710, j2, i3);
		d2 = 2.9655554294586182;
		j2 = Math.floor(Math.cos(d2) * 12);
		i3 = Math.floor(Math.sin(d2) * 12) * -1;
		this.mSet2(i, j, 710, j2, i3);
		d2 = 3.6633334159851074;
		j2 = Math.floor(Math.cos(d2) * 12);
		i3 = Math.floor(Math.sin(d2) * 12) * -1;
		this.mSet2(i, j, 710, j2, i3);
		d2 = 2.6166667938232422;
		j2 = Math.floor(Math.cos(d2) * 12);
		i3 = Math.floor(Math.sin(d2) * 12) * -1;
		this.mSet2(i, j, 710, j2, i3);
		this.gs.rsAddSound(18);
		flag = true;
		break;

	case 35:
		this.aSet(i + 16, j + 16, 70, i);
		flag = true;
		break;

	case 36:
		this.aSet(i + 16, j + 16, 71, i);
		flag = true;
		break;

	case 37:
		this.aSet(i + 16, j + 16, 72, i);
		this.aSet(i + 16, j + 16, 74, i);
		this.aSet(i + 16, j + 16, 76, i);
		flag = true;
		break;

	case 38:
		this.aSet(i + 16, j + 16, 73, i);
		this.aSet(i + 16, j + 16, 75, i);
		this.aSet(i + 16, j + 16, 77, i);
		flag = true;
		break;

	case 39:
		this.aSet(i, j, 101, i);
		flag = true;
		break;

	case 40:
		this.aSet(i, j + 9, 111, i);
		flag = true;
		break;

	case 41:
		this.tSet(i, j, 320, i - 512 - 32);
		flag = true;
		break;

	case 42:
		this.tSet(i, j, 330, i - 512 - 32);
		flag = true;
		break;

	case 43:
		this.tSet(i, j, 660, i - 512 - 32);
		flag = true;
		break;

	case 44:
		this.tSet(i, j, 670, i - 512 - 32);
		flag = true;
		break;

	case 45:
		this.tSet(i, j, 710, i - 512 - 32);
		flag = true;
		break;

	case 46:
		this.tSet(i, j, 720, i - 512 - 32);
		flag = true;
		break;

	case 47:
		this.tSet(i, j, 930, i - 512 - 32);
		flag = true;
		break;

	case 48:
		this.tSet(i, j, 920, i - 512 - 32);
		flag = true;
		break;

	case 49:
		this.tSet(i, j, 1050, i - 512 - 32);
		flag = true;
		break;

	case 50:
		this.tSet(i, j, 1060, i - 512 - 32);
		flag = true;
		break;

	case 51:
		this.tSet(i, j, 1070, i - 512 - 32);
		flag = true;
		break;

	case 52:
		this.tSet(i, j, 1080, i - 512 - 32);
		flag = true;
		break;

	case 53:
		this.tSet(i, j, 1150, i - 512 - 32);
		flag = true;
		break;

	case 54:
		this.tSet(i, j, 1160, i - 512 - 32);
		flag = true;
		break;

	case 55:
		this.tSet(i, j, 1170, i - 512 - 32);
		flag = true;
		break;

	case 56:
		this.tSet(i, j, 1180, i - 512 - 32);
		flag = true;
		break;

	case 57:
		this.tSetBoss(i, j, 150, -4);
		break;

	case 58:
		this.tSetBoss(i, j, 450, -3);
		break;

	case 59:
		this.tSetBoss(i, j, 650, -3);
		break;

	case 60:
		for(var i1 = 0; i1 <= 300; i1 += 90)
		{
			this.mSet2(i, j, 950, i1, 0);
			this.mSet2(i, j, 960, 300 - i1, 0);
		}

		this.gs.rsAddSound(18);
		flag = true;
		break;

	case 61:
		var d3 = 3.1400001049041748;
		this.mSet2(i, j, 731, Math.floor(Math.cos(d3) * 9), Math.floor(Math.sin(d3) * 9));
		d3 = 3.6633334159851074;
		this.mSet2(i, j, 731, Math.floor(Math.cos(d3) * 9), Math.floor(Math.sin(d3) * 9));
		d3 = 4.1866669654846191;
		this.mSet2(i, j, 731, Math.floor(Math.cos(d3) * 9), Math.floor(Math.sin(d3) * 9));
		this.gs.rsAddSound(11);
		flag = true;
		break;

	case 62:
		var d4 = 0.0;
		this.mSet2(i, j, 731, Math.floor(Math.cos(d4) * 9), Math.floor(Math.sin(d4) * 9));
		d4 = 5.7566671371459961;
		this.mSet2(i, j, 731, Math.floor(Math.cos(d4) * 9), Math.floor(Math.sin(d4) * 9));
		d4 = 5.2333335876464844;
		this.mSet2(i, j, 731, Math.floor(Math.cos(d4) * 9), Math.floor(Math.sin(d4) * 9));
		this.gs.rsAddSound(11);
		flag = true;
		break;

	case 63:
		this.mSet2(i - 16, j, 732, -10, 0);
		this.gs.rsAddSound(15);
		flag = true;
		break;

	case 64:
		this.mSet2(i - 16, j, 732, 10, 0);
		this.gs.rsAddSound(15);
		flag = true;
		break;

	case 65:
		this.mSet2(i, j, 75, -1, 0);
		this.gs.rsAddSound(11);
		flag = true;
		break;

	case 66:
		this.mSet2(i, j, 810, -12, 0);
		this.gs.rsAddSound(22);
		flag = true;
		break;

	case 67:
		this.mSet2(i, j, 810, 12, 0);
		this.gs.rsAddSound(22);
		flag = true;
		break;

	case 68:
		this.mSet2(i, j, 77, -1, 0);
		this.gs.rsAddSound(14);
		flag = true;
		break;

	case 69:
		var d5 = 3.1400001049041748;
		this.mSet2(i, j, 733, Math.floor(Math.cos(d5) * 9), Math.floor(Math.sin(d5) * 9));
		d5 = 3.6633334159851074;
		this.mSet2(i, j, 733, Math.floor(Math.cos(d5) * 9), Math.floor(Math.sin(d5) * 9));
		d5 = 2.6166667938232422;
		this.mSet2(i, j, 733, Math.floor(Math.cos(d5) * 9), Math.floor(Math.sin(d5) * 9));
		this.gs.rsAddSound(10);
		flag = true;
		break;

	case 70:
		var d6 = 0.0;
		this.mSet2(i, j, 733, Math.floor(Math.cos(d6) * 9), Math.floor(Math.sin(d6) * 9));
		d6 = 5.7566671371459961;
		this.mSet2(i, j, 733, Math.floor(Math.cos(d6) * 9), Math.floor(Math.sin(d6) * 9));
		d6 = 0.52333337068557739;
		this.mSet2(i, j, 733, Math.floor(Math.cos(d6) * 9), Math.floor(Math.sin(d6) * 9));
		this.gs.rsAddSound(10);
		flag = true;
		break;

	case 71:
		for(var j1 = 0; j1 <= 270; j1 += 90)
			this.mSet2(i, j, 970, j1, 0);

		this.gs.rsAddSound(18);
		flag = true;
		break;

	case 72:
		for(var k1 = 0; k1 <= 270; k1 += 90)
			this.mSet2(i, j, 980, k1, 0);

		this.gs.rsAddSound(18);
		flag = true;
		break;

	case 73:
		this.mSet2(i, j, 740, -4, 9);
		flag = true;
		break;

	case 74:
		this.mSet2(i, j, 740, -4, 11);
		flag = true;
		break;

	case 75:
		this.mSet2(i, j, 740, 4, 9);
		flag = true;
		break;

	case 76:
		this.mSet2(i, j, 740, 4, 11);
		flag = true;
		break;

	case 77:
		this.mSet2(i, j, 800, 5, -32);
		this.gs.rsAddSound(22);
		flag = true;
		break;

	case 78:
		this.mSet2(i, j, 800, 10, -32);
		this.gs.rsAddSound(22);
		flag = true;
		break;

	case 79:
		this.mSet2(i, j, 800, 15, -32);
		this.gs.rsAddSound(22);
		flag = true;
		break;

	case 80:
		this.mSet2(i, j, 80, 12, -24);
		this.mSet2(i, j, 80, -12, -24);
		this.gs.rsAddSound(16);
		flag = true;
		break;

	case 81:
		this.mSet2(i, j, 800, 0, 0);
		this.gs.rsAddSound(22);
		flag = true;
		break;

	case 82:
		this.mSet2(i, j, 801, 0, 0);
		this.gs.rsAddSound(22);
		flag = true;
		break;

	case 83:
		this.mSet2(i, j, 85, -1, 0);
		this.gs.rsAddSound(11);
		flag = true;
		break;

	case 84:
		this.mSet2(i, j, 87, -1, 0);
		this.gs.rsAddSound(14);
		flag = true;
		break;
	}
	return flag;
}

MainProgram.prototype.setScrollLock = function(s)
{
	var i = 32;
	if(this.ml_mode != 100 && this.ml_mode != 91 && this.ml_mode != 96)
		return false;

	i = parseInt(s);
	if(isNaN(i))
		i = 32;
	if(i < 32)
		i = 32;
	if(this.sl_step == 10 || this.sl_step == 11)
		this.sl_step = 11;
	else
		this.sl_step = 1;
	this.sl_wx = i;
	this.sl_wy = this.mapHeight * 32;
	return true;
}

MainProgram.prototype.attackFire = function(s, s1, s2, s3)
{
	var i = 0;
	var j = 0;
	var k = 32;
	var l = 32;
	var i1 = 0;
	if(this.ml_mode != 100)
		return -1;

	i = parseInt(s);
	j = parseInt(s1);
	k = parseInt(s2);
	l = parseInt(s3);
	if(isNaN(i) || isNaN(j) || isNaN(k) || isNaN(l))
		i = -1;
	if(i < 0)
		return -1;
	if(this.jm_kazu > 0)
	{
		for(var j1 = 0; j1 <= 8; j1++)
		{
			if(this.co_jm[j1].c < 100)
				continue;
			var characterobject = this.co_jm[j1];
			if(characterobject.x < i || characterobject.x >= i + k || characterobject.y < j || characterobject.y >= j + l)
				continue;
			if(characterobject.c == 200)
			{
				characterobject.c = 50;
				characterobject.c1 = 1;
				characterobject.c2 = 20;
				this.gs.rsAddSound(9);
				i1 += 10;
			} else
			{
				characterobject.c = 0;
				this.jm_kazu--;
				i1++;
			}
		}

	}
	return i1;
}

MainProgram.prototype.attackTail = function(s, s1, s2, s3)
{
	var i = 0;
	var j = 0;
	var k = 32;
	var l = 32;
	var i1 = 0;
	if(this.ml_mode != 100)
		return -1;

	i = parseInt(s);
	j = parseInt(s1);
	k = parseInt(s2);
	l = parseInt(s3);
	if(isNaN(i) || isNaN(j) || isNaN(k) || isNaN(l))
		i = -1;
	if(i < 0)
		return -1;
	if(this.j_tail_ac >= 3 && this.j_tail_ac <= 7 && this.attacktail_yf)
	{
		i1 = 0;
		if(this.j_tokugi == 15 && (this.j_4_muki == 2 || this.j_4_muki == 3))
		{
			if(this.co_j.x < (i + k) - 4 && this.co_j.x + 32 > i + 4)
				if(this.j_4_muki == 2)
				{
					if(this.co_j.y - 32 <= j + l && this.co_j.y + 4 >= j)
						i1 = 1;
				} else
				if(this.co_j.y + 32 + 32 >= j && this.co_j.y + 28 <= j + l)
					i1 = 1;
		} else
		if(this.co_j.y < (j + l) - 4 && this.co_j.y + 32 > j + 4)
			if(this.co_j.muki == 0)
			{
				if(this.co_j.x - 32 <= i + k && this.co_j.x + 4 >= i)
					i1 = 1;
			} else
			if(this.co_j.x + 32 + 32 >= i && this.co_j.x + 28 <= i + k)
				i1 = 1;
		if(i1 == 1)
		{
			this.attacktail_yf = false;
			this.gs.rsAddSound(9);
		}
	}
	return i1;
}

MainProgram.prototype.destroyEnemy = function(s, s1, s2, s3)
{
	var i = 0;
	var j = 0;
	var k = 0;
	var l = 32;
	var i1 = 0;
	if(this.ml_mode != 100)
		return -1;

	i = parseInt(s);
	j = parseInt(s1);
	k = parseInt(s2);
	l = parseInt(s3);
	if(isNaN(i) || isNaN(j) || isNaN(k) || isNaN(l))
		i = -1;
	if(i < 0)
		return -1;
	for(var j1 = 0; j1 <= this.t_kazu; j1++)
	{
		if(this.co_t[j1].c < 100)
			continue;
		var characterobject = this.co_t[j1];
		if(i >= characterobject.x + 32 || i + k <= characterobject.x || j >= characterobject.y + 32 || j + l <= characterobject.y)
			continue;
		if(characterobject.x < this.co_j.x)
		{
			characterobject.pth = 1;
			characterobject.vx = -3;
		} else
		{
			characterobject.pth = 0;
			characterobject.vx = 3;
		}
		if(characterobject.c >= 1200 && characterobject.c < 1300)
		{
			characterobject.c = 54;
			characterobject.vy = -25;
		} else
		if(characterobject.c >= 1400 && characterobject.c < 1500)
		{
			characterobject.c = 57;
			characterobject.c1 = 0;
		} else
		if(characterobject.c >= 1400 && characterobject.c < 1500)
		{
			characterobject.c = 57;
			characterobject.c1 = 0;
		} else
		if(characterobject.c == 1190)
		{
			characterobject.c = 55;
			characterobject.c1 = 0;
			var k1 = rightShiftIgnoreSign(characterobject.x, 5);
			var l1 = rightShiftIgnoreSign(characterobject.y, 5);
			if(characterobject.c5 == 1)
				this.onASwitch(k1 - 5, l1 - 5, k1 + 5, l1 + 5);
			else
				this.onASwitch(k1 - 10, l1 - 10, k1 + 10, l1 + 10);
		} else
		{
			characterobject.c = 52;
			characterobject.vy = -25;
			if(this.j_tokugi == 14 || this.j_tokugi == 15)
			{
				characterobject.c = 55;
				characterobject.c1 = 0;
			}
		}
		i1++;
		this.gs.rsAddSound(9);
	}

	return i1;
}

MainProgram.prototype.setmapc = function(s, s1, s2)
{
	var i = 0;
	var j = 0;
	var k = 0;
	if(this.ml_mode != 100)
		return false;

	i = parseInt(s);
	j = parseInt(s1);
	k = parseInt(s2);
	if(isNaN(i) || isNaN(j) || isNaN(k))
		k = -1;
	if(k < 0 || k > 249)
		return false;
	if(i < 0 || i >= this.mapWidth || j < 0 || j >= this.mapHeight)
	{
		return false;
	} else
	{
		i++;
		j += 10;
		this.maps.map_bg[i][j] = k;
		this.setmapc_f = true;
		return true;
	}
}

MainProgram.prototype.getmapc = function(s, s1)
{
	var i = 0;
	var j = 0;
	var k = 0;
	if(this.ml_mode != 100)
		return -1;

	i = parseInt(s);
	j = parseInt(s1);
	if(isNaN(i) || isNaN(j))
		k = -1;
	if(k < 0)
		return -1;
	if(i < 0 || i >= this.mapWidth || j < 0 || j >= this.mapHeight)
	{
		return -1;
	} else
	{
		i++;
		j += 10;
		var word0 = this.maps.map_bg[i][j];
		return word0;
	}
}

MainProgram.prototype.setmapc2 = function(s, s1, s2)
{
	var i = 0;
	var j = 0;
	var k = 0;
	if(this.ml_mode != 100)
		return false;
	if(this.gg.layer_mode != 2)
		return false;

	i = parseInt(s);
	j = parseInt(s1);
	k = parseInt(s2);
	if(isNaN(i) || isNaN(j) || isNaN(k))
		k = -1;
	if(k < 0 || k > 255)
		return false;
	if(i < 0 || i >= this.mapWidth || j < 0 || j >= this.mapHeight)
	{
		return false;
	} else
	{
		i++;
		j += 10;
		this.maps.map_bg_layer[i][j] = k;
		return true;
	}
}

MainProgram.prototype.getmapc2 = function(s, s1)
{
	var i = 0;
	var j = 0;
	var k = 0;
	if(this.ml_mode != 100)
		return -1;
	if(this.gg.layer_mode != 2)
		return -1;

	i = parseInt(s);
	j = parseInt(s1);
	if(isNaN(i) || isNaN(j))
		k = -1;
	if(k < 0)
		return -1;
	if(i < 0 || i >= this.mapWidth || j < 0 || j >= this.mapHeight)
	{
		return -1;
	} else
	{
		i++;
		j += 10;
		var word0 = this.maps.map_bg_layer[i][j];
		return word0;
	}
}

MainProgram.prototype.showMyHP = function(s)
{
	this.j_hp_v = true;
	this.j_hp_moji = s;
	if(this.j_hp_moji == null)
		this.j_hp_moji = "";
	return true;
}

MainProgram.prototype.setMyMaxHP = function(s)
{
	var i = -1;

	i = parseInt(s);
	if(isNaN(i))
		i = -1;
	if(i < 0)
		return false;
	this.j_hp_max = i;
	if((this.ml_mode == 100 || this.ml_mode == 90 || this.ml_mode == 91 || this.ml_mode == 96) && this.co_j.c >= 100 && this.co_j.c < 200)
		this.j_hp = this.j_hp_max;
	return true;
}

MainProgram.prototype.setMyHP = function(s)
{
	if((this.ml_mode == 100 || this.ml_mode == 90 || this.ml_mode == 91 || this.ml_mode == 96) && this.co_j.c >= 100 && this.co_j.c < 200)
	{
		var i;
		i = parseInt(s);
		if(isNaN(i))
			i = -1;
		if(i < 0)
		{
			return false;
		} else
		{
			this.j_hp = i;
			return true;
		}
	} else
	{
		return false;
	}
}

MainProgram.prototype.getMyHP = function()
{
	var i = 0;
	if(this.ml_mode == 100 && this.co_j.c >= 100 && this.co_j.c < 200)
		i = this.j_hp;
	else
		i = 0;
	return i;
}

MainProgram.prototype.setMyHPDamage = function(s)
{
	if(this.ml_mode == 100 && this.co_j.c >= 100 && this.co_j.c < 200)
	{
		var j;
		j = parseInt(s);
		if(isNaN(j))
			j = 0xfffe7961;
		if(j == 0xfffe7961)
			return false;
		if(this.j_muteki_c > 0)
			return true;
		this.j_hp -= j;
		if(this.j_hp <= 0)
		{
			this.j_hp = 0;
		} else
		{
			this.setMyMuteki();
			this.gs.rsAddSound(24);
		}
		return true;
	} else
	{
		return false;
	}
}

MainProgram.prototype.setMyMuteki = function()
{
	this.j_muteki_c = 17;
}

MainProgram.prototype.ranInit = function()
{
    //seedを初期化
    this.ran_seed = (Math.random()*0x100000000)|0;
}

MainProgram.prototype.ranInt = function(i)
{
    //xor-shift 乱数(a=9, b=11, c=19)
    var ran_seed = this.ran_seed;
    ran_seed = (ran_seed ^ (ran_seed << 9))>>>0;
    ran_seed = (ran_seed ^ (ran_seed >>> 11))>>>0;
    this.ran_seed = ran_seed = (ran_seed ^ (ran_seed << 19))>>>0;
    // * 2.3283064365386963e-10 は /0x100000000の意味
    return ((ran_seed * 2.3283064365386963e-10)*i)|0;
}

MainProgram.prototype.drawScore = function()
{
	if(!this.score_v)
	{
		if(this.time_max > 0)
		{
			var i = Math.floor(this.time / 1000);
			var k = 14 + this.moji_size;
			this.gg.os_g.setColor(this.gamecolor_score);
			this.gg.os_g.setFont(new Font("Dialog", 1, this.moji_size));
			var s;
			if(this.j_left_shoki <= 0 && this.j_left <= 0)
			{
				s = "" + this.moji_time + " " + i;
			} else
			{
				s = "" + this.moji_left + " " + this.j_left;
				s = "" + s + "  " + this.moji_time + " " + i;
			}
			this.gg.os_g.drawString(s, 40, k);
			if(this.j_hp_v && this.ml_mode == 100)
			{
				var s1 = "" + this.j_hp_moji + " " + this.j_hp;
				this.gg.os_g.drawString(s1, 40, k * 2 - 6);
			}
		} else
		{
			var l = 14 + this.moji_size;
			this.gg.os_g.setColor(this.gamecolor_score);
			this.gg.os_g.setFont(new Font("Dialog", 1, this.moji_size));
			var s2;
			if(this.j_left_shoki <= 0 && this.j_left <= 0)
				s2 = "";
			else
				s2 = "" + this.moji_left + " " + this.j_left;
			this.gg.os_g.drawString(s2, 40, l);
			if(this.j_hp_v && this.ml_mode == 100)
			{
				var s3 = "" + this.j_hp_moji + " " + this.j_hp;
				this.gg.os_g.drawString(s3, 40, l * 2 - 6);
			}
		}
	} else
	if(this.time_max > 0)
	{
		var j = Math.floor(this.time / 1000);
		var i1 = 14 + this.moji_size;
		this.gg.os_g.setColor(this.gamecolor_score);
		this.gg.os_g.setFont(new Font("Dialog", 1, this.moji_size));
		var s4;
		if(this.j_left_shoki <= 0 && this.j_left <= 0)
		{
			s4 = "" + this.moji_score + " " + this.score + "  " + this.moji_highscore + " " + this.highscore + this.moji_time + j;
		} else
		{
			s4 = "" + this.moji_score + " " + this.score + "  " + this.moji_highscore + " " + this.highscore + this.moji_left + this.j_left;
			s4 = "" + s4 + this.moji_time + j;
		}
		this.gg.os_g.drawString(s4, 40, i1);
		if(this.j_hp_v && this.ml_mode == 100)
		{
			var s5 = "" + this.j_hp_moji + " " + this.j_hp;
			this.gg.os_g.drawString(s5, 40, i1 * 2 - 6);
		}
	} else
	{
		var j1 = 14 + this.moji_size;
		this.gg.os_g.setColor(this.gamecolor_score);
		this.gg.os_g.setFont(new Font("Dialog", 1, this.moji_size));
		var s6;
		if(this.j_left_shoki <= 0 && this.j_left <= 0)
			s6 = "" + this.moji_score + " " + this.score + "  " + this.moji_highscore + " " + this.highscore;
		else
			s6 = "" + this.moji_score + " " + this.score + "  " + this.moji_highscore + " " + this.highscore + this.moji_left + this.j_left;
		this.gg.os_g.drawString(s6, 40, j1);
		if(this.j_hp_v && this.ml_mode == 100)
		{
			var s7 = "" + this.j_hp_moji + " " + this.j_hp;
			this.gg.os_g.drawString(s7, 40, j1 * 2 - 6);
		}
	}
}

MainProgram.prototype.drawScore2 = function()
{
	if(!this.score_v)
	{
		var i = 14 + this.moji_size;
		this.gg.os_g.setColor(this.gamecolor_score);
		this.gg.os_g.setFont(new Font("Dialog", 1, this.moji_size));
		var s;
		if(this.j_left_shoki <= 0 && this.j_left <= 0)
			s = "";
		else
			s = "" + this.moji_left + this.j_left;
		this.gg.os_g.drawString(s, 40, i);
	} else
	{
		var j = 14 + this.moji_size;
		this.gg.os_g.setColor(this.gamecolor_score);
		this.gg.os_g.setFont(new Font("Dialog", 1, this.moji_size));
		var s1;
		if(this.j_left_shoki <= 0 && this.j_left <= 0)
			s1 = "" + this.moji_score + " " + this.score + "  " + this.moji_highscore + " " + this.highscore;
		else
			s1 = "" + this.moji_score + " " + this.score + "  " + this.moji_highscore + " " + this.highscore + this.moji_left + this.j_left;
		this.gg.os_g.drawString(s1, 40, j);
	}
}

MainProgram.prototype.addScore = function(i)
{
	this.score += i;
	if(this.score_1up_1 > 0 && this.score >= this.score_1up_1)
	{
		this.j_left++;
		this.score_1up_1 = 0;
	}
	if(this.score_1up_2 > 0 && this.score >= this.score_1up_2)
	{
		this.j_left++;
		this.score_1up_2 = 0;
	}
}

MainProgram.prototype.getCoinTotal = function()
{
	var c = this.mapWidth;
	var k = 0;
	if(this.scroll_area == 2 || this.scroll_area == 4)
		c = 16;
	else
	if(this.scroll_area == 3 || this.scroll_area == 5)
		c = 32;
	for(var j = 10; j <= this.mapHeight + 9; j++)
	{
		for(var i = 1; i <= c; i++)
			if(this.maps.map_bg[i][j] == 9)
				k++;

	}

	this.coin_kazu = k;
	return k;
}

MainProgram.prototype.getCoinCount = function(i, j, k, l)
{
	if(this.ml_mode == 100 || this.ml_mode == 90 || this.ml_mode == 91 || this.ml_mode == 96)
	{
		var j1 = i + 1;
		var k1 = j + 10;
		var l1 = k + 1;
		var i2 = l + 10;
		if(j1 < 1)
			j1 = 1;
		if(j1 > this.mapWidth)
			j1 = this.mapWidth;
		if(l1 < 1)
			l1 = 1;
		if(l1 > this.mapWidth)
			l1 = this.mapWidth;
		if(k1 < 10)
			k1 = 10;
		if(k1 > this.mapHeight + 9)
			k1 = this.mapHeight + 9;
		if(i2 < 10)
			i2 = 10;
		if(i2 > this.mapHeight + 9)
			i2 = this.mapHeight + 9;
		if(j1 > l1)
		{
			var j2 = j1;
			j1 = l1;
			l1 = j2;
		}
		if(k1 > i2)
		{
			var k2 = k1;
			k1 = i2;
			i2 = k2;
		}
		var i1 = 0;
		for(var i3 = k1; i3 <= i2; i3++)
		{
			for(var l2 = j1; l2 <= l1; l2++)
				if(this.maps.map_bg[l2][i3] == 9)
					i1++;

		}

		return i1;
	} else
	{
		return -1;
	}
}

MainProgram.prototype.showHashigo = function()
{
	var c = this.mapWidth;
	if(this.scroll_area == 2 || this.scroll_area == 4)
		c = 16;
	else
	if(this.scroll_area == 3 || this.scroll_area == 5)
		c = 32;
	for(var j = 10; j <= this.mapHeight + 9; j++)
	{
		for(var i = 1; i <= c; i++)
			if(this.maps.map_bg[i][j] == 8)
				this.maps.map_bg[i][j] = 10;

	}

	this.setmapc_f = true;
}

MainProgram.prototype.addSerifu = function(i, j, k)
{
	for(var l = 1; l <= k; l++)
	{
		var s = this.tdb.getValue("" + "serifu" + j + "-" + l);
		var i1;
		i1 = parseInt(s);
		if(isNaN(i1))
			i1 = -1;
		if(i1 != 0)
			this.km.addItem(i, s);
	}

}

MainProgram.prototype.addSerifu2 = function(i, s, j, k)
{
	var l, k1, k2;
	if(arguments.length == 3)
	{
		k1 = 1;
		k2 = j;
	}
	else
	{
		k1 = j;
		k2 = k;
	}
	for(var l = k1; l <= k2; l++)
	{
		var s1 = this.tdb.getValue("" + s + l);
		var i1;
		i1 = parseInt(s1);
		if(isNaN(i1))
			i1 = -1;
		if(i1 != 0)
			this.km.addItem(i, s1);
	}

}

MainProgram.prototype.mL100 = function()
{
	this.showmMove();
	if(this.setmyw_w >= 0 && this.co_j.c >= 100 && this.co_j.c < 200)
	{
		if(this.setmyw_w == 0)
		{
			this.co_j.c = 100;
			this.j_zan_f = false;
			this.j_jet_c = 0;
			this.j_jump_type = 0;
		} else
		{
			this.co_j.c = 150;
			this.co_j.c1 = this.setmyw_w;
			this.co_j.vx = 0;
			this.co_j.vy = 0;
			this.j_zan_f = false;
			this.j_jet_c = 0;
			this.j_jump_type = 0;
		}
		this.setmyw_w = -1;
	}
	if(this.j_tokugi == 14)
		this.jm_kazu = 9999;
	this.moveGameCounter();
	this.km.move();
	this.aMove();
	this.nkscroll_zsc = false;
	if(this.yuka_id_max >= 0)
		this.moveYuka();
	if(this.co_j.c == 100)
	{
		if(this.j_tokugi == 14 || this.j_tokugi == 15)
			this.jM100stg();
		else
			this.jM100();
	} else
	{
		this.jMove();
	}
	if(this.j_tail_ac == 2)
		this.attacktail_yf = true;
	if(this.ana_kazu > 0)
		this.anaMove();
	if(this.sl_step > 0)
		if(this.sl_step == 10 || this.sl_step == 11)
		{
			this.ks_wx += this.sl_speed;
			if(this.ks_wx > this.maps.wx_max)
				this.ks_wx = this.maps.wx_max;
			this.maps.wx = this.ks_wx;
			this.maps.wy = this.ks_wy;
			if(this.j_tokugi == 14)
			{
				this.co_j.x += this.sl_speed;
				var i = this.sl_speed;
				if(this.maps.getBGCode(this.co_j.x + 31, this.co_j.y) >= 20 || this.maps.getBGCode(this.co_j.x + 31, this.co_j.y + 31) >= 20)
				{
					i = rightShiftIgnoreSign(this.co_j.x + 31, 5) * 32 - 32 - (this.co_j.x - this.sl_speed);
					this.co_j.x = rightShiftIgnoreSign(this.co_j.x + 31, 5) * 32 - 32;
				}
				this.co_j.wx = this.co_j.x - this.maps.wx;
				for(var j1 = 0; j1 <= 31; j1++)
					this.mu_ato_x[j1] += i;

				i = this.mu_ato_p - 7;
				if(i < 0)
					i += 32;
				this.co_mu[0].x = this.mu_ato_x[i];
				this.co_mu[0].y = this.mu_ato_y[i];
				i = this.mu_ato_p - 14;
				if(i < 0)
					i += 32;
				this.co_mu[1].x = this.mu_ato_x[i];
				this.co_mu[1].y = this.mu_ato_y[i];
			}
			if(this.co_j.c != 300 && this.co_j.c != 310)
				if(this.j_tokugi == 14)
				{
					if(this.co_j.x < this.ks_wx)
					{
						this.co_j.x = this.ks_wx;
						if(this.co_j.vx < 0)
							this.co_j.vx = 0;
						if((this.maps.getBGCode(this.co_j.x + 31, this.co_j.y) >= 20 || this.maps.getBGCode(this.co_j.x + 31, this.co_j.y + 31) >= 20) && this.co_j.c >= 100 && this.co_j.c < 200)
							this.jShinu(1);
					} else
					if(this.co_j.x > (this.ks_wx + 512) - 32)
					{
						this.co_j.x = (this.ks_wx + 512) - 32;
						this.co_j.vx = 0;
						if(this.co_j.vx > 0)
							this.co_j.vx = 0;
						this.co_j.wx = this.co_j.x - this.maps.wx;
					}
					if(this.co_j.c >= 100 && this.co_j.c < 200)
						if(this.co_j.y < this.maps.wy)
						{
							this.co_j.y = this.maps.wy;
							this.co_j.vy = 0;
							this.co_j.wy = this.co_j.y - this.maps.wy;
						} else
						if(this.co_j.y > (this.maps.wy + 320) - 32)
						{
							this.co_j.y = (this.maps.wy + 320) - 32;
							this.co_j.vy = 0;
							this.co_j.wy = this.co_j.y - this.maps.wy;
						}
				} else
				if(this.co_j.x < this.ks_wx - 16)
				{
					this.co_j.x = this.ks_wx - 16;
					if(this.co_j.vx < 0)
						this.co_j.vx = 0;
					var i3 = this.maps.getBGCode(this.co_j.x + 15, this.co_j.y);
					var k5 = this.maps.getBGCode(this.co_j.x + 15, this.co_j.y + 31);
					if((i3 >= 18 && i3 != 19 || k5 >= 18 && k5 != 19 || this.j_hashigo_f) && this.co_j.c >= 100 && this.co_j.c < 200)
					{
						this.co_j.c = 210;
						this.co_j.y = this.maps.wy - 64;
						this.co_j.c1 = 0;
						this.j_jet_c = 0;
						this.j_v_c = 0;
						this.j_zan_f = false;
						this.j_muteki_c = 0;
						this.j_hp = 0;
						this.km.initAll();
						this.km.mode = 10;
					}
					if(this.a_hf)
					{
						var flag2 = false;
						for(var i8 = 0; i8 <= this.a_kazu; i8++)
						{
							if(!this.co_a[i8].gf)
								continue;
							var characterobject = this.co_a[i8];
							if(characterobject.c >= 100 && characterobject.c < 200)
							{
								if(this.co_j.x + 15 >= characterobject.x && this.co_j.x <= characterobject.x + 64 && this.co_j.y + 31 >= characterobject.y && this.co_j.y <= characterobject.y + 13)
									flag2 = true;
								continue;
							}
							if(characterobject.c == 300)
							{
								if(characterobject.c3 < 200 && this.co_j.x + 15 >= characterobject.x && this.co_j.x <= characterobject.x + 48 && this.co_j.y + 31 >= characterobject.y && this.co_j.y <= characterobject.y + 31)
									flag2 = true;
								continue;
							}
							if(characterobject.c >= 400 && characterobject.c < 500)
							{
								if(this.co_j.x + 15 >= characterobject.x && this.co_j.x <= characterobject.x + 80 && this.co_j.y + 31 >= characterobject.y && this.co_j.y <= characterobject.y + 63)
									flag2 = true;
								continue;
							}
							if(characterobject.c == 500)
							{
								if(this.co_j.x + 15 >= characterobject.x && this.co_j.x <= characterobject.x + 80 && this.co_j.y + 31 >= characterobject.y && this.co_j.y <= characterobject.y + 13)
									flag2 = true;
								continue;
							}
							if(characterobject.c == 600)
							{
								if(this.co_j.x + 15 >= characterobject.x && this.co_j.x <= characterobject.x + 48 && this.co_j.y + 31 >= characterobject.y + 16 && this.co_j.y <= characterobject.y + 47)
									flag2 = true;
								continue;
							}
							if(characterobject.c == 700 && this.j_tokugi != 10 && this.j_tokugi != 12 && this.j_tokugi != 13 && this.co_j.x + 15 >= characterobject.x && this.co_j.x <= characterobject.x + 16 && this.co_j.y + 31 >= characterobject.y && this.co_j.y <= characterobject.y + 31)
								flag2 = true;
						}

						if(flag2 && this.co_j.c >= 100 && this.co_j.c < 200)
						{
							this.co_j.c = 210;
							this.co_j.y = this.maps.wy - 64;
							this.co_j.c1 = 0;
							this.j_jet_c = 0;
							this.j_v_c = 0;
							this.j_zan_f = false;
							this.j_muteki_c = 0;
							this.j_hp = 0;
							this.km.initAll();
							this.km.mode = 10;
						}
					}
					if(this.yuka_ride_id >= 0 && this.yo[this.yuka_ride_id].con >= 200 && this.yo[this.yuka_ride_id].con < 300 && this.co_j.c >= 100 && this.co_j.c < 200)
					{
						this.co_j.c = 210;
						this.co_j.y = this.maps.wy - 64;
						this.co_j.c1 = 0;
						this.j_jet_c = 0;
						this.j_v_c = 0;
						this.j_zan_f = false;
						this.j_muteki_c = 0;
						this.j_hp = 0;
						this.km.initAll();
						this.km.mode = 10;
					}
				} else
				if(this.co_j.x > this.ks_wx + 496)
				{
					this.co_j.x = this.ks_wx + 496;
					this.co_j.vx = 0;
					if(this.co_j.vx > 0)
						this.co_j.vx = 0;
				}
			if(this.sl_step == 11 && this.maps.wx >= this.sl_wx)
			{
				this.maps.wx = this.sl_wx;
				this.sl_wy = this.ks_wy;
				this.sl_step = 3;
				this.gs.playBGM(4);
			}
		} else
		if(this.sl_step == 1)
		{
			if(this.nkscroll_con == 100)
			{
				if(this.nkscroll_view_x >= this.sl_wx)
				{
					this.maps.wx = this.sl_wx;
					this.sl_step = 2;
					this.gs.playBGM(4);
				}
			} else
			if(this.maps.wx >= this.sl_wx)
			{
				this.maps.wx = this.sl_wx;
				this.sl_step = 2;
				this.gs.playBGM(4);
			}
		} else
		if(this.sl_step == 2)
		{
			this.maps.wx = this.sl_wx;
			if(this.co_j.x < this.sl_wx - 16)
			{
				this.co_j.x = this.sl_wx - 16;
				this.co_j.vx = 0;
			} else
			if(this.co_j.x > this.sl_wx + 496)
			{
				this.co_j.x = this.sl_wx + 496;
				this.co_j.vx = 0;
			}
			if(this.maps.wy >= this.sl_wy)
			{
				this.maps.wy = this.sl_wy;
				this.sl_step = 3;
			}
		} else
		{
			this.maps.wx = this.sl_wx;
			this.maps.wy = this.sl_wy;
			if(this.j_tokugi >= 14 && this.j_tokugi <= 15)
			{
				if(this.co_j.c >= 100 && this.co_j.c < 200)
					if(this.co_j.y < this.maps.wy)
					{
						this.co_j.y = this.maps.wy;
						this.co_j.vy = 0;
						this.co_j.wy = this.co_j.y - this.maps.wy;
					} else
					if(this.co_j.y > (this.maps.wy + 320) - 32)
					{
						this.co_j.y = (this.maps.wy + 320) - 32;
						this.co_j.vy = 0;
						this.co_j.wy = this.co_j.y - this.maps.wy;
					}
				if(this.co_j.x < this.sl_wx)
				{
					this.co_j.x = this.sl_wx;
					this.co_j.vx = 0;
				} else
				if(this.co_j.x > (this.sl_wx + 512) - 32)
				{
					this.co_j.x = (this.sl_wx + 512) - 32;
					this.co_j.vx = 0;
				}
			} else
			if(this.co_j.x < this.sl_wx - 16)
			{
				this.co_j.x = this.sl_wx - 16;
				this.co_j.vx = 0;
			} else
			if(this.co_j.x > this.sl_wx + 496)
			{
				this.co_j.x = this.sl_wx + 496;
				this.co_j.vx = 0;
			}
		}
	if(this.nkscroll_con == 100 && (this.sl_step == 0 || this.sl_step == 1))
	{
		if(this.nkscroll_vx > 0)
		{
			this.nkscroll_view_x += this.nkscroll_speed_x;
			if(this.nkscroll_view_x >= this.maps.wx_max)
			{
				this.nkscroll_view_x = this.maps.wx_max;
				this.nkscroll_vx = 0;
			}
			if(this.j_tokugi == 14 && this.co_j.c != 300 && this.co_j.c != 310)
			{
				var j = this.co_j.x;
				this.co_j.x += this.nkscroll_speed_x;
				if(this.maps.getBGCode(this.co_j.x + 31, this.co_j.y) >= 20 || this.maps.getBGCode(this.co_j.x + 31, this.co_j.y + 31) >= 20)
					this.co_j.x = rightShiftIgnoreSign(this.co_j.x + 31, 5) * 32 - 32;
				if(this.co_j.c >= 100 && this.co_j.c < 200)
				{
					if(this.co_j.x > (this.nkscroll_view_x + 512) - 32)
						this.co_j.x = (this.nkscroll_view_x + 512) - 32;
					if(this.co_j.x < this.nkscroll_view_x)
						this.co_j.x = this.nkscroll_view_x;
					if(this.co_j.y > (this.nkscroll_view_y + 320) - 32)
						this.co_j.y = (this.nkscroll_view_y + 320) - 32;
					if(this.co_j.y < this.nkscroll_view_y)
						this.co_j.y = this.nkscroll_view_y;
				}
				var j3 = this.maps.getBGCode(this.co_j.x + 31, this.co_j.y);
				var l5 = this.maps.getBGCode(this.co_j.x + 31, this.co_j.y + 31);
				if((j3 >= 18 || l5 >= 18) && this.co_j.c >= 100 && this.co_j.c < 200)
					this.jShinu(5);
				this.co_j.wx = this.co_j.x - this.maps.wx;
				for(var k1 = 0; k1 <= 31; k1++)
					this.mu_ato_x[k1] += this.co_j.x - j;

				j = this.mu_ato_p - 7;
				if(j < 0)
					j += 32;
				this.co_mu[0].x = this.mu_ato_x[j];
				this.co_mu[0].y = this.mu_ato_y[j];
				j = this.mu_ato_p - 14;
				if(j < 0)
					j += 32;
				this.co_mu[1].x = this.mu_ato_x[j];
				this.co_mu[1].y = this.mu_ato_y[j];
			}
			if(this.co_j.c != 300 && this.co_j.c != 310)
				if(this.co_j.x < this.nkscroll_view_x - 15)
				{
					this.co_j.x = this.nkscroll_view_x - 15;
					if(this.co_j.vx < 0)
						this.co_j.vx = 0;
					var k3 = this.maps.getBGCode(this.co_j.x + 15, this.co_j.y);
					var i6 = this.maps.getBGCode(this.co_j.x + 15, this.co_j.y + 31);
					if((k3 >= 18 && k3 != 19 || i6 >= 18 && i6 != 19 || this.j_hashigo_f) && this.co_j.c >= 100 && this.co_j.c < 200)
						this.jShinu(5);
					if(this.a_hf)
					{
						var flag3 = false;
						for(var j8 = 0; j8 <= this.a_kazu; j8++)
						{
							if(!this.co_a[j8].gf)
								continue;
							var characterobject1 = this.co_a[j8];
							if(characterobject1.c >= 100 && characterobject1.c < 200)
							{
								if(this.co_j.x + 15 >= characterobject1.x && this.co_j.x <= characterobject1.x + 64 && this.co_j.y + 31 >= characterobject1.y && this.co_j.y <= characterobject1.y + 13)
									flag3 = true;
								continue;
							}
							if(characterobject1.c == 300)
							{
								if(characterobject1.c3 < 200 && this.co_j.x + 15 >= characterobject1.x && this.co_j.x <= characterobject1.x + 48 && this.co_j.y + 31 >= characterobject1.y && this.co_j.y <= characterobject1.y + 31)
									flag3 = true;
								continue;
							}
							if(characterobject1.c >= 400 && characterobject1.c < 500)
							{
								if(this.co_j.x + 15 >= characterobject1.x && this.co_j.x <= characterobject1.x + 80 && this.co_j.y + 31 >= characterobject1.y && this.co_j.y <= characterobject1.y + 63)
									flag3 = true;
								continue;
							}
							if(characterobject1.c == 500)
							{
								if(this.co_j.x + 15 >= characterobject1.x && this.co_j.x <= characterobject1.x + 80 && this.co_j.y + 31 >= characterobject1.y && this.co_j.y <= characterobject1.y + 13)
									flag3 = true;
								continue;
							}
							if(characterobject1.c == 600)
							{
								if(this.co_j.x + 15 >= characterobject1.x && this.co_j.x <= characterobject1.x + 48 && this.co_j.y + 31 >= characterobject1.y + 16 && this.co_j.y <= characterobject1.y + 47)
									flag3 = true;
								continue;
							}
							if(characterobject1.c == 700 && this.j_tokugi != 10 && this.j_tokugi != 12 && this.j_tokugi != 13 && this.co_j.x + 15 >= characterobject1.x && this.co_j.x <= characterobject1.x + 16 && this.co_j.y + 31 >= characterobject1.y && this.co_j.y <= characterobject1.y + 31)
								flag3 = true;
						}

						if(flag3 && this.co_j.c >= 100 && this.co_j.c < 200)
							this.jShinu(5);
					}
					if(this.yuka_ride_id >= 0 && this.yo[this.yuka_ride_id].con >= 200 && this.yo[this.yuka_ride_id].con < 300 && this.co_j.c >= 100 && this.co_j.c < 200)
						this.jShinu(5);
					if(this.isYukaCross())
						this.jShinu(5);
				} else
				if(this.co_j.x > this.nkscroll_view_x + 496)
				{
					this.co_j.x = this.nkscroll_view_x + 496;
					if(this.co_j.vx > 0)
						this.co_j.vx = 0;
				}
		} else
		if(this.nkscroll_vx < 0)
		{
			this.nkscroll_view_x -= this.nkscroll_speed_x;
			if(this.nkscroll_view_x <= this.maps.wx_mini)
			{
				this.nkscroll_view_x = this.maps.wx_mini;
				this.nkscroll_vx = 0;
			}
			if(this.j_tokugi == 14 && this.co_j.c != 300 && this.co_j.c != 310)
			{
				var k = this.co_j.x;
				this.co_j.x -= this.nkscroll_speed_x;
				if(this.maps.getBGCode(this.co_j.x, this.co_j.y) >= 20 || this.maps.getBGCode(this.co_j.x, this.co_j.y + 31) >= 20)
					this.co_j.x = rightShiftIgnoreSign(this.co_j.x, 5) * 32 + 32;
				if(this.co_j.c >= 100 && this.co_j.c < 200)
				{
					if(this.co_j.x > (this.nkscroll_view_x + 512) - 32)
						this.co_j.x = (this.nkscroll_view_x + 512) - 32;
					if(this.co_j.x < this.nkscroll_view_x)
						this.co_j.x = this.nkscroll_view_x;
					if(this.co_j.y > (this.nkscroll_view_y + 320) - 32)
						this.co_j.y = (this.nkscroll_view_y + 320) - 32;
					if(this.co_j.y > (this.nkscroll_view_y + 320) - 32)
						this.co_j.y = (this.nkscroll_view_y + 320) - 32;
				}
				var l3 = this.maps.getBGCode(this.co_j.x, this.co_j.y);
				var j6 = this.maps.getBGCode(this.co_j.x, this.co_j.y + 31);
				if((l3 >= 18 || j6 >= 18) && this.co_j.c >= 100 && this.co_j.c < 200)
					this.jShinu(5);
				this.co_j.wx = this.co_j.x - this.maps.wx;
				for(var l1 = 0; l1 <= 31; l1++)
					this.mu_ato_x[l1] += this.co_j.x - k;

				k = this.mu_ato_p - 7;
				if(k < 0)
					k += 32;
				this.co_mu[0].x = this.mu_ato_x[k];
				this.co_mu[0].y = this.mu_ato_y[k];
				k = this.mu_ato_p - 14;
				if(k < 0)
					k += 32;
				this.co_mu[1].x = this.mu_ato_x[k];
				this.co_mu[1].y = this.mu_ato_y[k];
			}
			if(this.co_j.c != 300 && this.co_j.c != 310)
				if(this.co_j.x > this.nkscroll_view_x + 496)
				{
					this.co_j.x = this.nkscroll_view_x + 496;
					if(this.co_j.vx > 0)
						this.co_j.vx = 0;
					if(this.co_j.c >= 100 && this.co_j.c < 200)
					{
						if(this.co_j.y > (this.nkscroll_view_y + 320) - 32)
							this.co_j.y = (this.nkscroll_view_y + 320) - 32;
						if(this.co_j.y < this.nkscroll_view_y)
							this.co_j.y = this.nkscroll_view_y;
					}
					var i4 = this.maps.getBGCode(this.co_j.x + 15, this.co_j.y);
					var k6 = this.maps.getBGCode(this.co_j.x + 15, this.co_j.y + 31);
					if((i4 >= 19 || k6 >= 19 || this.j_hashigo_f) && this.co_j.c >= 100 && this.co_j.c < 200)
						this.jShinu(5);
					if(this.a_hf)
					{
						var flag4 = false;
						for(var k8 = 0; k8 <= this.a_kazu; k8++)
						{
							if(!this.co_a[k8].gf)
								continue;
							var characterobject2 = this.co_a[k8];
							if(characterobject2.c >= 100 && characterobject2.c < 200)
							{
								if(this.co_j.x + 15 >= characterobject2.x && this.co_j.x <= characterobject2.x + 64 && this.co_j.y + 31 >= characterobject2.y && this.co_j.y <= characterobject2.y + 13)
									flag4 = true;
								continue;
							}
							if(characterobject2.c == 300)
							{
								if(characterobject2.c3 < 200 && this.co_j.x + 15 >= characterobject2.x && this.co_j.x <= characterobject2.x + 48 && this.co_j.y + 31 >= characterobject2.y && this.co_j.y <= characterobject2.y + 31)
									flag4 = true;
								continue;
							}
							if(characterobject2.c >= 400 && characterobject2.c < 500)
							{
								if(this.co_j.x + 15 >= characterobject2.x && this.co_j.x <= characterobject2.x + 80 && this.co_j.y + 31 >= characterobject2.y && this.co_j.y <= characterobject2.y + 63)
									flag4 = true;
								continue;
							}
							if(characterobject2.c == 500)
							{
								if(this.co_j.x + 15 >= characterobject2.x && this.co_j.x <= characterobject2.x + 80 && this.co_j.y + 31 >= characterobject2.y && this.co_j.y <= characterobject2.y + 13)
									flag4 = true;
								continue;
							}
							if(characterobject2.c == 600)
							{
								if(this.co_j.x + 15 >= characterobject2.x && this.co_j.x <= characterobject2.x + 48 && this.co_j.y + 31 >= characterobject2.y + 16 && this.co_j.y <= characterobject2.y + 47)
									flag4 = true;
								continue;
							}
							if(characterobject2.c == 700 && this.j_tokugi != 10 && this.j_tokugi != 12 && this.j_tokugi != 13 && this.co_j.x + 15 >= characterobject2.x && this.co_j.x <= characterobject2.x + 16 && this.co_j.y + 31 >= characterobject2.y && this.co_j.y <= characterobject2.y + 31)
								flag4 = true;
						}

						if(flag4 && this.co_j.c >= 100 && this.co_j.c < 200)
							this.jShinu(5);
					}
					if(this.yuka_ride_id >= 0 && this.yo[this.yuka_ride_id].con >= 200 && this.yo[this.yuka_ride_id].con < 300 && this.co_j.c >= 100 && this.co_j.c < 200)
						this.jShinu(5);
					if(this.isYukaCross())
						this.jShinu(5);
				} else
				if(this.co_j.x < this.nkscroll_view_x - 15)
				{
					this.co_j.x = this.nkscroll_view_x - 15;
					if(this.co_j.vx < 0)
						this.co_j.vx = 0;
				}
		} else
		if(this.co_j.x > this.nkscroll_view_x + 496)
		{
			this.co_j.x = this.nkscroll_view_x + 496;
			if(this.co_j.vx > 0)
				this.co_j.vx = 0;
		} else
		if(this.co_j.x < this.nkscroll_view_x - 15)
		{
			this.co_j.x = this.nkscroll_view_x - 15;
			if(this.co_j.vx < 0)
				this.co_j.vx = 0;
		}
		if(this.nkscroll_vy > 0)
		{
			this.nkscroll_view_y += this.nkscroll_speed_x;
			if(this.nkscroll_view_y >= this.maps.wy_max)
			{
				this.nkscroll_view_y = this.maps.wy_max;
				this.nkscroll_vy = 0;
			}
			if(this.j_tokugi == 14 && this.co_j.c != 300 && this.co_j.c != 310)
			{
				var l = this.co_j.y;
				this.co_j.y += this.nkscroll_speed_x;
				if(this.maps.getBGCode(this.co_j.x, this.co_j.y + 31) >= 20 || this.maps.getBGCode(this.co_j.x + 31, this.co_j.y + 31) >= 20)
					this.co_j.y = rightShiftIgnoreSign(this.co_j.y + 31, 5) * 32 - 32;
				if(this.co_j.c >= 100 && this.co_j.c < 200)
				{
					if(this.co_j.x > (this.nkscroll_view_x + 512) - 32)
						this.co_j.x = (this.nkscroll_view_x + 512) - 32;
					if(this.co_j.x < this.nkscroll_view_x)
						this.co_j.x = this.nkscroll_view_x;
					if(this.co_j.y > (this.nkscroll_view_y + 320) - 32)
						this.co_j.y = (this.nkscroll_view_y + 320) - 32;
					if(this.co_j.y < this.nkscroll_view_y)
						this.co_j.y = this.nkscroll_view_y;
				}
				this.co_j.wy = this.co_j.y - this.maps.wy;
				for(var i2 = 0; i2 <= 31; i2++)
					this.mu_ato_y[i2] += this.co_j.y - l;

				l = this.mu_ato_p - 7;
				if(l < 0)
					l += 32;
				this.co_mu[0].x = this.mu_ato_x[l];
				this.co_mu[0].y = this.mu_ato_y[l];
				l = this.mu_ato_p - 14;
				if(l < 0)
					l += 32;
				this.co_mu[1].x = this.mu_ato_x[l];
				this.co_mu[1].y = this.mu_ato_y[l];
			}
			if(this.co_j.c != 300 && this.co_j.c != 310 && this.co_j.y < this.nkscroll_view_y - 16)
			{
				this.co_j.y = this.nkscroll_view_y - 16;
				if(this.co_j.vy < 0)
					this.co_j.vy = 0;
				var j4 = this.maps.getBGCode(this.co_j.x + 15, this.co_j.y);
				var l6 = this.maps.getBGCode(this.co_j.x + 15, this.co_j.y + 31);
				if((j4 >= 18 || l6 >= 18) && this.co_j.c >= 100 && this.co_j.c < 200)
					this.jShinu(5);
				if(this.a_hf)
				{
					var flag5 = false;
					for(var l8 = 0; l8 <= this.a_kazu; l8++)
					{
						if(!this.co_a[l8].gf)
							continue;
						var characterobject3 = this.co_a[l8];
						if(characterobject3.c >= 100 && characterobject3.c < 200)
						{
							if(this.co_j.x + 15 >= characterobject3.x && this.co_j.x <= characterobject3.x + 64 && this.co_j.y + 31 >= characterobject3.y && this.co_j.y <= characterobject3.y + 13)
								flag5 = true;
							continue;
						}
						if(characterobject3.c == 300)
						{
							if(characterobject3.c3 < 200 && this.co_j.x + 15 >= characterobject3.x && this.co_j.x <= characterobject3.x + 48 && this.co_j.y + 31 >= characterobject3.y && this.co_j.y <= characterobject3.y + 31)
								flag5 = true;
							continue;
						}
						if(characterobject3.c >= 400 && characterobject3.c < 500)
						{
							if(this.co_j.x + 15 >= characterobject3.x && this.co_j.x <= characterobject3.x + 80 && this.co_j.y + 31 >= characterobject3.y && this.co_j.y <= characterobject3.y + 63)
								flag5 = true;
							continue;
						}
						if(characterobject3.c == 500)
						{
							if(this.co_j.x + 15 >= characterobject3.x && this.co_j.x <= characterobject3.x + 80 && this.co_j.y + 31 >= characterobject3.y && this.co_j.y <= characterobject3.y + 13)
								flag5 = true;
							continue;
						}
						if(characterobject3.c == 600)
						{
							if(this.co_j.x + 15 >= characterobject3.x && this.co_j.x <= characterobject3.x + 48 && this.co_j.y + 31 >= characterobject3.y + 16 && this.co_j.y <= characterobject3.y + 47)
								flag5 = true;
							continue;
						}
						if(characterobject3.c == 700 && this.j_tokugi != 10 && this.j_tokugi != 12 && this.j_tokugi != 13 && this.co_j.x + 15 >= characterobject3.x && this.co_j.x <= characterobject3.x + 16 && this.co_j.y + 31 >= characterobject3.y && this.co_j.y <= characterobject3.y + 31)
							flag5 = true;
					}

					if(flag5 && this.co_j.c >= 100 && this.co_j.c < 200)
						this.jShinu(5);
				}
				if(this.yuka_ride_id >= 0 && this.yo[this.yuka_ride_id].con >= 200 && this.yo[this.yuka_ride_id].con < 300 && this.co_j.c >= 100 && this.co_j.c < 200)
					this.jShinu(5);
				if(this.isYukaCross())
					this.jShinu(5);
			}
		} else
		if(this.nkscroll_vy < 0)
		{
			this.nkscroll_view_y -= this.nkscroll_speed_x;
			if(this.nkscroll_view_y <= this.maps.wy_mini)
			{
				this.nkscroll_view_y = this.maps.wy_mini;
				this.nkscroll_vy = 0;
			}
			if(this.j_tokugi == 14 && this.co_j.c != 300 && this.co_j.c != 310)
			{
				var i1 = this.co_j.y;
				this.co_j.y -= this.nkscroll_speed_x;
				if(this.maps.getBGCode(this.co_j.x, this.co_j.y) >= 20 || this.maps.getBGCode(this.co_j.x + 31, this.co_j.y) >= 20)
					this.co_j.y = rightShiftIgnoreSign(this.co_j.y, 5) * 32 + 32;
				if(this.co_j.c >= 100 && this.co_j.c < 200)
				{
					if(this.co_j.x > (this.nkscroll_view_x + 512) - 32)
						this.co_j.x = (this.nkscroll_view_x + 512) - 32;
					if(this.co_j.x < this.nkscroll_view_x)
						this.co_j.x = this.nkscroll_view_x;
					if(this.co_j.y > (this.nkscroll_view_y + 320) - 32)
						this.co_j.y = (this.nkscroll_view_y + 320) - 32;
					if(this.co_j.y < this.nkscroll_view_y)
						this.co_j.y = this.nkscroll_view_y;
				}
				this.co_j.wy = this.co_j.y - this.maps.wy;
				for(var j2 = 0; j2 <= 31; j2++)
					this.mu_ato_y[j2] += this.co_j.y - i1;

				i1 = this.mu_ato_p - 7;
				if(i1 < 0)
					i1 += 32;
				this.co_mu[0].x = this.mu_ato_x[i1];
				this.co_mu[0].y = this.mu_ato_y[i1];
				i1 = this.mu_ato_p - 14;
				if(i1 < 0)
					i1 += 32;
				this.co_mu[1].x = this.mu_ato_x[i1];
				this.co_mu[1].y = this.mu_ato_y[i1];
				var k4 = this.maps.getBGCode(this.co_j.x, this.co_j.y);
				var i7 = this.maps.getBGCode(this.co_j.x + 31, this.co_j.y);
				if((k4 >= 18 || i7 >= 18) && this.co_j.c >= 100 && this.co_j.c < 200)
					this.jShinu(5);
			}
		}
		this.maps.wx = this.nkscroll_view_x;
		this.maps.wy = this.nkscroll_view_y;
		if(this.co_j.c >= 100 && this.co_j.c < 200 && this.co_j.y < this.maps.wy - 16)
		{
			this.co_j.y = this.maps.wy - 16;
			if(this.co_j.vy < 0)
				this.co_j.vy = 0;
			var l4 = this.maps.getBGCode(this.co_j.x + 15, this.co_j.y);
			var j7 = this.maps.getBGCode(this.co_j.x + 15, this.co_j.y + 31);
			if(l4 >= 18 || j7 >= 18)
				this.jShinu(5);
		}
		if(this.j_tokugi == 14 && this.co_j.c != 300 && this.co_j.c != 310 && this.co_j.c >= 100 && this.co_j.c < 200)
		{
			if(this.co_j.x > (this.nkscroll_view_x + 512) - 32)
				this.co_j.x = (this.nkscroll_view_x + 512) - 32;
			if(this.co_j.x < this.nkscroll_view_x)
				this.co_j.x = this.nkscroll_view_x;
			if(this.co_j.y > (this.nkscroll_view_y + 320) - 32)
				this.co_j.y = (this.nkscroll_view_y + 320) - 32;
			if(this.co_j.y < this.nkscroll_view_y)
				this.co_j.y = this.nkscroll_view_y;
		}
		if(this.co_j.c >= 100 && this.co_j.c < 200 && this.co_j.y >= this.maps.wy + 320)
			this.jShinu(5);
	} else
	if(this.nkscroll_con == 200)
	{
		var flag;
		if(this.view_move_type == 2)
		{
			flag = false;
			if(this.nkscroll_my_view_x > 384)
			{
				this.nkscroll_my_view_x -= 8;
				if(this.nkscroll_my_view_x <= 384)
				{
					this.nkscroll_my_view_x = 384;
					flag = true;
				}
				this.nkscroll_view_x = this.co_j.x - this.nkscroll_my_view_x;
				if(this.nkscroll_view_x >= this.maps.wx_max)
				{
					this.nkscroll_view_x = this.maps.wx_max;
					flag = true;
				}
			} else
			if(this.nkscroll_my_view_x < 256)
			{
				this.nkscroll_my_view_x += 8;
				if(this.nkscroll_my_view_x >= 256)
				{
					this.nkscroll_my_view_x = 256;
					flag = true;
				}
				this.nkscroll_view_x = this.co_j.x - this.nkscroll_my_view_x;
				if(this.nkscroll_view_x <= this.maps.wx_mini)
				{
					this.nkscroll_view_x = this.maps.wx_mini;
					flag = true;
				}
			} else
			{
				flag = true;
				this.nkscroll_view_x = this.co_j.x - this.nkscroll_my_view_x;
			}
		} else
		{
			flag = false;
			if(this.nkscroll_my_view_x > 224)
			{
				this.nkscroll_my_view_x -= 8;
				if(this.nkscroll_my_view_x <= 224)
				{
					this.nkscroll_my_view_x = 224;
					flag = true;
				}
				this.nkscroll_view_x = this.co_j.x - this.nkscroll_my_view_x;
				if(this.nkscroll_view_x >= this.maps.wx_max)
				{
					this.nkscroll_view_x = this.maps.wx_max;
					flag = true;
				}
			} else
			if(this.nkscroll_my_view_x < 96)
			{
				this.nkscroll_my_view_x += 8;
				if(this.nkscroll_my_view_x >= 96)
				{
					this.nkscroll_my_view_x = 96;
					flag = true;
				}
				this.nkscroll_view_x = this.co_j.x - this.nkscroll_my_view_x;
				if(this.nkscroll_view_x <= this.maps.wx_mini)
				{
					this.nkscroll_view_x = this.maps.wx_mini;
					flag = true;
				}
			} else
			{
				flag = true;
				this.nkscroll_view_x = this.co_j.x - this.nkscroll_my_view_x;
			}
		}
		var flag1 = false;
		if(this.nkscroll_my_view_y > 176)
		{
			this.nkscroll_my_view_y -= 4;
			if(this.nkscroll_my_view_y <= 176)
			{
				this.nkscroll_my_view_y = 176;
				flag1 = true;
			}
			this.nkscroll_view_y = this.co_j.y - this.nkscroll_my_view_y;
			if(this.nkscroll_view_y >= this.maps.wy_max)
			{
				this.nkscroll_view_y = this.maps.wy_max;
				flag1 = true;
			}
		} else
		if(this.nkscroll_my_view_y < 78)
		{
			this.nkscroll_my_view_y += 4;
			if(this.nkscroll_my_view_y >= 78)
			{
				this.nkscroll_my_view_y = 78;
				flag1 = true;
			}
			this.nkscroll_view_y = this.co_j.y - this.nkscroll_my_view_y;
			if(this.nkscroll_view_y <= this.maps.wy_mini)
			{
				this.nkscroll_view_y = this.maps.wy_mini;
				flag1 = true;
			}
		} else
		{
			flag1 = true;
			this.nkscroll_view_y = this.co_j.y - this.nkscroll_my_view_y;
		}
		if(flag && flag1)
			this.nkscroll_con = 0;
		this.maps.wx = this.nkscroll_view_x;
		this.maps.wy = this.nkscroll_view_y;
		if(this.maps.wx < this.maps.wx_mini)
			this.maps.wx = this.maps.wx_mini;
		else
		if(this.maps.wx > this.maps.wx_max)
			this.maps.wx = this.maps.wx_max;
		if(this.maps.wy < this.maps.wy_mini)
			this.maps.wy = this.maps.wy_mini;
		else
		if(this.maps.wy > this.maps.wy_max)
			this.maps.wy = this.maps.wy_max;
		this.nkscroll_my_view_x = this.co_j.x - this.maps.wx;
		this.nkscroll_my_view_y = this.co_j.y - this.maps.wy;
		this.nkscroll_view_x = this.co_j.x - this.nkscroll_my_view_x;
		this.nkscroll_view_y = this.co_j.y - this.nkscroll_my_view_y;
	} else
	if(this.nkscroll_con == 300)
	{
		if(this.co_j.x > this.nkscroll_view_x + 496)
		{
			this.co_j.x = this.nkscroll_view_x + 496;
			if(this.co_j.vx > 0)
				this.co_j.vx = 0;
		} else
		if(this.co_j.x < this.nkscroll_view_x - 15)
		{
			this.co_j.x = this.nkscroll_view_x - 15;
			if(this.co_j.vx < 0)
				this.co_j.vx = 0;
		}
		this.maps.wx = this.nkscroll_view_x;
	} else
	if(this.nkscroll_con == 400)
	{
		if(this.nkscroll_vx > 0)
		{
			this.nkscroll_view_x += this.nkscroll_speed_x;
			if(this.nkscroll_view_x >= this.maps.wx_max)
			{
				this.nkscroll_view_x = this.maps.wx_max;
				this.nkscroll_vx = 0;
			}
			if(this.co_j.c != 300 && this.co_j.c != 310)
				if(this.co_j.x < this.nkscroll_view_x - 15)
				{
					this.co_j.x = this.nkscroll_view_x - 15;
					if(this.co_j.vx < 0)
						this.co_j.vx = 0;
					var i5 = this.maps.getBGCode(this.co_j.x + 15, this.co_j.y);
					var k7 = this.maps.getBGCode(this.co_j.x + 15, this.co_j.y + 31);
					if((i5 >= 18 && i5 != 19 || k7 >= 18 && k7 != 19 || this.j_hashigo_f) && this.co_j.c >= 100 && this.co_j.c < 200)
						this.jShinu(5);
					if(this.a_hf)
					{
						var flag6 = false;
						for(var i9 = 0; i9 <= this.a_kazu; i9++)
						{
							if(!this.co_a[i9].gf)
								continue;
							var characterobject4 = this.co_a[i9];
							if(characterobject4.c >= 100 && characterobject4.c < 200)
							{
								if(this.co_j.x + 15 >= characterobject4.x && this.co_j.x <= characterobject4.x + 64 && this.co_j.y + 31 >= characterobject4.y && this.co_j.y <= characterobject4.y + 13)
									flag6 = true;
								continue;
							}
							if(characterobject4.c == 300)
							{
								if(this.co_j.x + 15 >= characterobject4.x && this.co_j.x <= characterobject4.x + 48 && this.co_j.y + 31 >= characterobject4.y && this.co_j.y <= characterobject4.y + 31)
									flag6 = true;
								continue;
							}
							if(characterobject4.c >= 400 && characterobject4.c < 500)
							{
								if(this.co_j.x + 15 >= characterobject4.x && this.co_j.x <= characterobject4.x + 80 && this.co_j.y + 31 >= characterobject4.y && this.co_j.y <= characterobject4.y + 63)
									flag6 = true;
								continue;
							}
							if(characterobject4.c == 500)
							{
								if(this.co_j.x + 15 >= characterobject4.x && this.co_j.x <= characterobject4.x + 80 && this.co_j.y + 31 >= characterobject4.y && this.co_j.y <= characterobject4.y + 13)
									flag6 = true;
								continue;
							}
							if(characterobject4.c == 600)
							{
								if(this.co_j.x + 15 >= characterobject4.x && this.co_j.x <= characterobject4.x + 48 && this.co_j.y + 31 >= characterobject4.y + 16 && this.co_j.y <= characterobject4.y + 47)
									flag6 = true;
								continue;
							}
							if(characterobject4.c == 700 && this.j_tokugi != 10 && this.j_tokugi != 12 && this.j_tokugi != 13 && this.co_j.x + 15 >= characterobject4.x && this.co_j.x <= characterobject4.x + 16 && this.co_j.y + 31 >= characterobject4.y && this.co_j.y <= characterobject4.y + 31)
								flag6 = true;
						}

						if(flag6 && this.co_j.c >= 100 && this.co_j.c < 200)
							this.jShinu(5);
					}
					if(this.yuka_ride_id >= 0 && this.yo[this.yuka_ride_id].con >= 200 && this.yo[this.yuka_ride_id].con < 300 && this.co_j.c >= 100 && this.co_j.c < 200)
						this.jShinu(5);
					if(this.isYukaCross())
						this.jShinu(5);
				} else
				if(this.co_j.x > this.nkscroll_view_x + 496)
				{
					this.co_j.x = this.nkscroll_view_x + 496;
					if(this.co_j.vx > 0)
						this.co_j.vx = 0;
				}
		} else
		if(this.co_j.x > this.nkscroll_view_x + 496)
		{
			this.co_j.x = this.nkscroll_view_x + 496;
			if(this.co_j.vx > 0)
				this.co_j.vx = 0;
		} else
		if(this.co_j.x < this.nkscroll_view_x - 15)
		{
			this.co_j.x = this.nkscroll_view_x - 15;
			if(this.co_j.vx < 0)
				this.co_j.vx = 0;
		}
		this.maps.wx = this.nkscroll_view_x;
		if(this.co_j.c >= 100 && this.co_j.c < 200 && this.co_j.y < this.maps.wy - 16)
		{
			this.co_j.y = this.maps.wy - 16;
			if(this.co_j.vy < 0)
				this.co_j.vy = 0;
			var j5 = this.maps.getBGCode(this.co_j.x + 15, this.co_j.y);
			var l7 = this.maps.getBGCode(this.co_j.x + 15, this.co_j.y + 31);
			if(j5 >= 18 || l7 >= 18)
				this.jShinu(5);
		}
		if(this.co_j.c >= 100 && this.co_j.c < 200 && this.co_j.y >= this.maps.wy + 320)
			this.jShinu(5);
	}
	if(this.jm_kazu > 0)
		this.jmMove();
	this.tMove();
	if(this.co_b.c > 0)
		this.bMove();
	if(this.m_kazu > 0)
		this.mMove();
	if(this.time_max > 0 && this.stage_cc <= 0)
	{
		this.time -= 70;
		if(this.time < 0)
		{
			this.time = 0;
			this.j_left--;
			if(this.j_left < 0)
			{
				this.j_left = 0;
				this.ml_mode = 300;
			} else
			{
				this.ml_mode = 90;
			}
		}
	}
	if(this.stage_cc > 0)
	{
		this.stage_cc++;
		if(this.stage_cc > 28)
		{
			if(this.time_max > 0)
				this.addScore(Math.floor(this.time / 1000));
			if(this.stage_select == 2)
			{
				if(this.stage >= 4)
				{
					this.ml_mode = 400;
				} else
				{
					this.ml_mode = 260;
				}
			} else
			if(this.stage >= this.stage_max)
			{
				this.ml_mode = 400;
			} else
			{
				this.stage++;
				this.ml_mode = 90;
			}
		}
	}
	if(this.system_draw_mode != 4)
	{
		this.draw_lock_f = true;
		this.drawGamescreen();
		this.draw_lock_f = false;
	}
	this.dso_cf = false;
	if(this.system_draw_mode != 4)
		this.drawScore();
	this.gs.rsPlay();
	var c = 0x118;
	var c1 = 0x11f;
	if(this.dkey_count[0] + this.dkey_count[1] >= 1)
	{
		var j9 = 8;
		if(this.dkey_count[0] > 0)
		{
			for(var k2 = 1; k2 <= this.dkey_count[0]; k2++)
			{
				this.hg.setColor(this.dkey_back_color);
				this.hg.fillRect(j9 - 2, c - 2, 36, 36);
				this.hg.drawImage(this.gg.spt_option_img[3], j9, c, this.ap);
				j9 += 36;
				c1 = 255;
			}

		}
		if(this.dkey_count[1] > 0)
		{
			for(var l2 = 1; l2 <= this.dkey_count[1]; l2++)
			{
				this.hg.setColor(this.dkey_back_color);
				this.hg.fillRect(j9 - 2, c - 2, 36, 36);
				this.hg.drawImage(this.gg.spt_option_img[4], j9, c, this.ap);
				j9 += 36;
				c1 = 255;
			}

		}
	}
	this.gg.os_g.setColor(this.gamecolor_score);
	if(this.j_jet_fuel > 0)
	{
		var s = "" + this.moji_jet + " " + this.j_jet_fuel;
		if(this.j_gr_kazu > 0)
			if(this.j_gr_kazu == 1)
				s = "" + s + "  " + this.moji_grenade;
			else
				s = "" + s + "  " + this.moji_grenade + " " + this.j_gr_kazu;
		this.hg.drawString(s, 40, c1 + this.moji_size);
	} else
	if(this.j_gr_kazu > 0)
		if(this.j_gr_kazu == 1)
			this.hg.drawString(this.moji_grenade, 40, c1 + this.moji_size);
		else
			this.hg.drawString("" + this.moji_grenade + " " + this.j_gr_kazu, 40, c1 + this.moji_size);
	if(this.gk.key_code == 84)
	{
		this.gk.key_code = 0;
		this.ml_mode = 50;
		this.gg.drawListImage(0, 0, 0);
		if(this.score > 0 || this.highscore > 0)
			this.drawScore();
	}
	if(this.pause_switch == 2 && this.gk.key_code == 80)
	{
		this.gk.key_code = 0;
		this.ml_mode = 110;
		this.ml_mode_c = 0;
	}
	if(this.ml_mode != 100)
		if(this.ml_mode == 300)
		{
			this.gg.setBackcolor(Color.black);
			this.gg.fill();
			this.gg.drawListImage(0, 0, 2);
			this.drawScore();
		} else
		if(this.ml_mode == 400)
		{
			this.gg.drawListImage(0, 0, 1);
			this.drawScore();
		} else
		if(this.ml_mode == 250 || this.ml_mode == 260)
		{
			this.gg.os_g.setColor(Color.black);
			this.gg.os_g.fillRect(0, 0, this.gg.di.width, this.gg.di.height);
			this.drawScore();
		}
}

MainProgram.prototype.mainLoop = function()
{
	this.gk.left_right_lock = false;
	switch(this.ml_mode)
	{
	default:
		break;

	case 50:
		this.draw_lock_f = false;
		if(this.start_game_f)
		{
			this.gs.play(0);
			this.start_game_f = false;
			if(this.stage_select == 2)
			{
				this.init2();
				this.ig.worldInit();
				this.gg.os_g.setColor(Color.black);
				this.gg.os_g.fillRect(0, 0, this.gg.di.width, this.gg.di.height);
				this.ml_mode = 200;
				this.gs.playBGM(7);
				break;
			}
			this.init2();
			this.init3();
			this.gg.drawListImage(0, 0, 0);
			if(this.score > 0 || this.highscore > 0)
				this.drawScore();
			if(this.j_left <= 0 && this.stage_max <= 1)
				this.ml_mode = 100;
			else
				this.ml_mode = 90;
			if(this.stage >= 1 && this.stage <= 4)
				this.gs.playBGM(this.stage - 1);
			break;
		}
		this.gs.playBGM(5);
		this.gg.drawListImage(0, 0, 0);
		if(this.score > 0 || this.highscore > 0)
			this.drawScore();
		this.stage = 1;
		if(!this.gm.button_f && !this.gk.tr1_f && !this.gk.tr2_f)
		{
			this.ml_mode = 60;
			this.g_c1 = 0;
			this.sendHighscore();
		}
		break;

	case 60:
		this.gg.drawListImage(0, 0, 0);
		if(this.score > 0 || this.highscore > 0)
			this.drawScore();
		if(this.g_c1 == 0)
		{
			if(this.gk.key_char == 0x76)
				this.g_c1 = 1;
		} else
		if(this.g_c1 == 1)
		{
			if(this.gk.key_char == 0x65)
				this.g_c1 = 2;
			else
			if(this.gk.key_char != 0x76)
				this.g_c1 = 0;
		} else
		if(this.g_c1 == 2)
			if(this.gk.key_char == 0x72)
				this.ml_mode = 1000;
			else
			if(this.gk.key_char != 0x65)
				this.g_c1 = 0;
		if(this.title_lock_f && !this.start_game_f || (!this.gm.button_f || this.gm.click_x >= 512 || this.gm.click_y >= 320) && !this.gk.tr1_f && !this.gk.tr2_f && !this.start_game_f)
			break;
		this.gs.play(0);
		this.start_game_f = false;
		if(this.stage_select == 2)
		{
			this.init2();
			this.ig.worldInit();
			this.gg.os_g.setColor(Color.black);
			this.gg.os_g.fillRect(0, 0, this.gg.di.width, this.gg.di.height);
			this.ml_mode = 200;
			this.gs.playBGM(7);
			break;
		}
		this.init2();
		this.ml_mode = 100;
		this.init3();
		this.gg.drawListImage(0, 0, 0);
		if(this.score > 0 || this.highscore > 0)
			this.drawScore();
		if(this.j_left <= 0 && this.stage_max <= 1)
			this.ml_mode = 100;
		else
			this.ml_mode = 90;
		if(this.stage >= 1 && this.stage <= 4)
			this.gs.playBGM(this.stage - 1);
		break;

	case 80:
		this.init2();
		this.ml_mode = 100;
		this.init3();
		this.gg.drawListImage(0, 0, 0);
		if(this.score > 0 || this.highscore > 0)
			this.drawScore();
		if(this.j_left <= 0)
			this.ml_mode = 100;
		else
			this.ml_mode = 90;
		if(this.stage >= 1 && this.stage <= 4)
			this.gs.playBGM(this.stage - 1);
		break;

	case 90:
		this.dso_cf = true;
		this.init3();
		if(this.mode_wait_stagestart == 0)
			this.ml_mode = 100;
		this.gg.os_g.setColor(this.gamecolor_kaishi);
		this.gg.os_g.fillRect(0, 0, this.gg.di.width, this.gg.di.height);
		if(this.stage >= this.stage_max)
		{
			this.gg.drawPT(160, 144, 52, 0);
			this.gg.drawPT(192, 144, 53, 0);
			this.gg.drawPT(224, 144, 54, 0);
			this.gg.drawPT(256, 144, 55, 0);
			this.gg.drawPT(288, 144, 56, 0);
			this.gg.drawPT(320, 144, 57, 0);
		} else
		{
			this.gg.drawPT(192, 144, 70, 0);
			this.gg.drawPT(224, 144, 71, 0);
			this.gg.drawPT(256, 144, 72, 0);
			if(this.stage >= this.stage_max)
				this.gg.drawPT(288, 144, 75, 0);
			if(this.stage == 3)
				this.gg.drawPT(288, 144, 75, 0);
			else
			if(this.stage == 2)
				this.gg.drawPT(288, 144, 74, 0);
			else
				this.gg.drawPT(288, 144, 73, 0);
		}
		this.drawScore();
		this.ml_mode = 91;
		this.ml_mode_c = 0;
		if(this.stage >= 1 && this.stage <= 4)
			this.gs.playBGM(this.stage - 1);
		break;

	case 91:
		this.ml_mode_c++;
		if(this.ml_mode_c > this.mode_wait_stagestart)
			this.ml_mode = 100;
		this.gg.os_g.setColor(this.gamecolor_kaishi);
		this.gg.os_g.fillRect(0, 0, this.gg.di.width, this.gg.di.height);
		if(this.stage >= this.stage_max)
		{
			this.gg.drawPT(160, 144, 52, 0);
			this.gg.drawPT(192, 144, 53, 0);
			this.gg.drawPT(224, 144, 54, 0);
			this.gg.drawPT(256, 144, 55, 0);
			this.gg.drawPT(288, 144, 56, 0);
			this.gg.drawPT(320, 144, 57, 0);
		} else
		{
			this.gg.drawPT(192, 144, 70, 0);
			this.gg.drawPT(224, 144, 71, 0);
			this.gg.drawPT(256, 144, 72, 0);
			if(this.stage >= this.stage_max)
				this.gg.drawPT(288, 144, 75, 0);
			if(this.stage == 3)
				this.gg.drawPT(288, 144, 75, 0);
			else
			if(this.stage == 2)
				this.gg.drawPT(288, 144, 74, 0);
			else
				this.gg.drawPT(288, 144, 73, 0);
		}
		this.drawScore();
		if(this.gk.key_code == 84)
		{
			this.gk.key_code = 0;
			this.ml_mode = 50;
		}
		break;

	case 95:
		this.stage = this.ig.checkStage();
		this.init3();
		switch(this.ig.shop_kattaitem)
		{
		case 7:
		default:
			break;

		case 0:
			this.j_gr_kazu = 3;
			break;

		case 1:
			this.j_jet_fuel = 80;
			break;

		case 2:
			this.j_drell_f = true;
			break;

		case 3:
			this.j_helm_f = true;
			break;

		case 4:
			this.j_tail_f = true;
			break;

		case 5:
			this.j_v_c = 150;
			this.j_v_kakudo = 0;
			break;

		case 6:
			this.j_fire_f = true;
			break;

		case 8:
			if(this.time_max > 0)
				this.time += 30000;
			break;
		}
		this.gg.os_g.setColor(Color.black);
		this.gg.os_g.fillRect(0, 0, this.gg.di.width, this.gg.di.height);
		this.drawScore();
		this.ml_mode = 96;
		this.ml_mode_c = 0;
		if(this.stage >= 1 && this.stage <= 4)
			this.gs.playBGM(this.stage - 1);
		break;

	case 96:
		this.ml_mode_c++;
		if(this.ml_mode_c > 8)
			this.ml_mode = 100;
		this.gg.os_g.setColor(Color.black);
		this.gg.os_g.fillRect(0, 0, this.gg.di.width, this.gg.di.height);
		this.drawScore();
		if(this.gk.key_code == 84)
		{
			this.gk.key_code = 0;
			this.ml_mode = 50;
		}
		break;

	case 110:
		if(this.ml_mode_c < 8)
			this.ml_mode_c++;
		if(this.ml_mode_c == 1)
		{
			this.gg.os_g.setColor(new Color(0, 0, 0, 160));
			this.gg.os_g.fillRect(0, 0, this.gg.di.width, this.gg.di.height);
		}
		this.drawScore();
		if(this.j_jet_fuel > 0)
		{
			var s = "" + this.moji_jet + " " + this.j_jet_fuel;
			if(this.j_gr_kazu > 0)
				if(this.j_gr_kazu == 1)
					s = "" + s + "  " + this.moji_grenade;
				else
					s = "" + s + "  " + this.moji_grenade + " " + this.j_gr_kazu;
			this.hg.drawString(s, 40, 287 + this.moji_size);
		} else
		if(this.j_gr_kazu > 0)
			if(this.j_gr_kazu == 1)
				this.hg.drawString(this.moji_grenade, 40, 287 + this.moji_size);
			else
				this.hg.drawString("" + this.moji_grenade + " " + this.j_gr_kazu, 40, 287 + this.moji_size);
		this.gg.os_g.setColor(Color.white);
		this.gg.os_g.setFont(new Font("Dialog", 1, 32));
		this.gg.os_g.drawString("PAUSE", 200, 144);
		if(this.gk.key_code == 80 && this.ml_mode_c >= 8)
		{
			this.gk.key_code = 0;
			this.ml_mode = 100;
			this.gk.init();
		}
		if(this.gk.key_code == 84)
		{
			this.gk.key_code = 0;
			this.ml_mode = 50;
		}
		break;

	case 200: 
		this.ig.drawMap();
		this.ig.mainProgram();
		this.time = 0;
		this.drawScore2();
		if(this.ig.mp_mode == 110)
			if(this.ig.dokan_khID >= 1)
				this.ml_mode = 230;
			else
				this.ml_mode = 95;
		if(this.gk.key_code == 84)
		{
			this.gk.key_code = 0;
			this.ml_mode = 50;
		}
		break;

	case 230: 
		this.gg.os_g.setColor(Color.black);
		this.gg.os_g.fillRect(0, 0, this.gg.di.width, this.gg.di.height);
		this.drawScore2();
		this.ml_mode = 231;
		this.ml_mode_c = 0;
		this.gs.stopBGM();
		break;

	case 231: 
		this.gg.os_g.setColor(Color.black);
		this.gg.os_g.fillRect(0, 0, this.gg.di.width, this.gg.di.height);
		this.drawScore2();
		this.ml_mode_c++;
		if(this.ml_mode_c == 5)
		{
			var s1;
			if(this.ig.dokan_khID == 2)
				s1 = this.tdb.getValue("url2");
			else
			if(this.ig.dokan_khID == 3)
				s1 = this.tdb.getValue("url3");
			else
			if(this.ig.dokan_khID == 4)
				s1 = this.tdb.getValue("url4");
			else
				s1 = this.tdb.getValue("url1");

			location.href = s1;
		} else
		if(this.ml_mode_c > 80)
			this.ml_mode = 50;
		if(this.gk.key_code == 84)
		{
			this.gk.key_code = 0;
			this.ml_mode = 50;
		}
		break;

	case 250: 
		this.addScore(0);
		this.ig.worldInit2();
		this.ml_mode = 251;
		this.ml_mode_c = 0;
		this.gg.os_g.setColor(Color.black);
		this.gg.os_g.fillRect(0, 0, this.gg.di.width, this.gg.di.height);
		this.drawScore();
		this.gs.playBGM(7);
		break;

	case 251: 
		this.ml_mode_c++;
		if(this.ml_mode_c > 8)
			this.ml_mode = 200;
		this.gg.os_g.setColor(Color.black);
		this.gg.os_g.fillRect(0, 0, this.gg.di.width, this.gg.di.height);
		this.drawScore();
		if(this.gk.key_code == 84)
		{
			this.gk.key_code = 0;
			this.ml_mode = 50;
		}
		break;

	case 260: 
		this.addScore(0);
		this.ig.worldInit3();
		this.ml_mode = 261;
		this.ml_mode_c = 0;
		this.gg.os_g.setColor(Color.black);
		this.gg.os_g.fillRect(0, 0, this.gg.di.width, this.gg.di.height);
		this.drawScore();
		this.gs.playBGM(7);
		break;

	case 261: 
		this.ml_mode_c++;
		if(this.ml_mode_c > 8)
			this.ml_mode = 200;
		this.gg.os_g.setColor(Color.black);
		this.gg.os_g.fillRect(0, 0, this.gg.di.width, this.gg.di.height);
		this.drawScore();
		if(this.gk.key_code == 84)
		{
			this.gk.key_code = 0;
			this.ml_mode = 50;
		}
		break;

	case 300: 
		if(this.mode_wait_gameover == 0)
		{
			this.gk.key_code = 0;
			this.ml_mode = 50;
		} else
		{
			this.gg.setBackcolor(Color.black);
			this.gg.fill();
			this.gg.drawListImage(0, 0, 2);
			this.drawScore();
			this.ml_mode = 310;
			this.ml_mode_c = 0;
			this.gs.play(1);
			this.gs.stopBGM();
			this.sendHighscore();
		}
		break;

	case 310: 
		this.gg.setBackcolor(Color.black);
		this.gg.fill();
		this.gg.drawListImage(0, 0, 2);
		this.drawScore();
		this.ml_mode_c++;
		if(this.ml_mode_c > this.mode_wait_gameover)
		{
			this.ml_mode = 50;
			this.gk.key_code = 0;
			this.gg.drawListImage(0, 0, 0);
			if(this.score > 0 || this.highscore > 0)
				this.drawScore();
		}
		if(this.gk.key_code != 84)
			break;
		this.gk.key_code = 0;
		this.ml_mode = 50;
		this.gg.drawListImage(0, 0, 0);
		if(this.score > 0 || this.highscore > 0)
			this.drawScore();
		break;

	case 400: 
		if(this.mode_wait_ending == 0)
		{
			this.gk.key_code = 0;
			this.ml_mode = 50;
			break;
		}
		this.gg.drawListImage(0, 0, 1);
		this.drawScore();
		this.gs.playBGM(6);
		this.sendHighscore();
		this.ml_mode = 410;
		this.ml_mode_c = 0;
		break;

	case 410: 
		//this.gg.drawListImage(0, 0, 1);
		this.ml_mode_c++;
		if(this.ml_mode_c > this.mode_wait_ending)
		{
			this.ml_mode = 50;
			this.gg.drawListImage(0, 0, 0);
			if(this.score > 0 || this.highscore > 0)
				this.drawScore();
			this.gk.key_code = 0;
		}
		if(this.gk.key_code != 84)
			break;
		this.gk.key_code = 0;
		this.ml_mode = 50;
		this.gg.drawListImage(0, 0, 0);
		if(this.score > 0 || this.highscore > 0)
			this.drawScore();
		break;

	case 500: 
		this.gg.setBackcolor(Color.black);
		this.gg.fill();
		this.gg.drawListImage(0, 0, 0);
		if(this.score > 0 || this.highscore > 0)
			this.drawScore();
		this.ml_mode = 50;
		this.ml_mode = 50;
		break;

	case 1000: 
		this.gg.setBackcolor(Color.black);
		this.gg.fill();
		this.ml_mode = 1010;
		this.ml_mode_c = 0;
		break;

	case 1010: 
		this.gg.setBackcolor(Color.black);
		this.gg.fill();
		this.hg.setFont(new Font("Dialog", 0, 46));
		this.hg.setColor(Color.white);
		this.hg.setFont(new Font("Dialog", 0, 20));
		this.hg.drawString("Title    MASAO CONSTRUCTION FX", 50, 50);
		this.hg.drawString("Version    Update 16 Build 62", 50, 80);
		this.hg.drawString("Language   Java2 SDK 1.6.0 Update 16", 50, 110);
		this.hg.drawString("OS      Windows Vista", 50, 140);
		this.hg.drawString("Browser    InternetExplorer 8.0", 50, 170);
		this.hg.drawString("Programing   Fukuda Naoto", 50, 200);
		this.hg.drawString("Date     2011/5", 50, 230);
		this.ml_mode_c++;
		if(this.ml_mode_c > 40)
			this.ml_mode = 50;
		break;
	}
}

MainProgram.prototype.init1 = function()
{
	this.mode_wait_ending = 120;
	this.mode_wait_gameover = 45;
	this.mode_wait_stagestart = 35;
	this.j_hp_v = false;
	this.j_hp = 1;
	this.j_hp_max = 1;
	this.j_hp_moji = "HP";
	this.j_fire_range = 9999;
	this.time_max = this.tdb.getValueInt("time_max");
	var k = this.tdb.getValueInt("score_v");
	if(k == 2)
		this.score_v = false;
	else
		this.score_v = true;
	k = this.tdb.getValueInt("backcolor_red");
	var l = this.tdb.getValueInt("backcolor_green");
	var i1 = this.tdb.getValueInt("backcolor_blue");
	if(k < 0)
		k = 0;
	else
	if(k > 255)
		k = 255;
	if(l < 0)
		l = 0;
	else
	if(l > 255)
		l = 255;
	if(i1 < 0)
		i1 = 0;
	else
	if(i1 > 255)
		i1 = 255;
	this.gamecolor_back = new Color(k, l, i1);
	k = this.tdb.getValueInt("backcolor_red_s");
	l = this.tdb.getValueInt("backcolor_green_s");
	i1 = this.tdb.getValueInt("backcolor_blue_s");
	if(k < 0)
		k = 0;
	else
	if(k > 255)
		k = 255;
	if(l < 0)
		l = 0;
	else
	if(l > 255)
		l = 255;
	if(i1 < 0)
		i1 = 0;
	else
	if(i1 > 255)
		i1 = 255;
	this.gamecolor_back_s = new Color(k, l, i1);
	k = this.tdb.getValueInt("backcolor_red_t");
	l = this.tdb.getValueInt("backcolor_green_t");
	i1 = this.tdb.getValueInt("backcolor_blue_t");
	if(k < 0)
		k = 0;
	else
	if(k > 255)
		k = 255;
	if(l < 0)
		l = 0;
	else
	if(l > 255)
		l = 255;
	if(i1 < 0)
		i1 = 0;
	else
	if(i1 > 255)
		i1 = 255;
	this.gamecolor_back_t = new Color(k, l, i1);
	k = this.tdb.getValueInt("backcolor_red_f");
	l = this.tdb.getValueInt("backcolor_green_f");
	i1 = this.tdb.getValueInt("backcolor_blue_f");
	if(k < 0)
		k = 0;
	else
	if(k > 255)
		k = 255;
	if(l < 0)
		l = 0;
	else
	if(l > 255)
		l = 255;
	if(i1 < 0)
		i1 = 0;
	else
	if(i1 > 255)
		i1 = 255;
	this.gamecolor_back_f = new Color(k, l, i1);
	k = this.tdb.getValueInt("kaishi_red");
	l = this.tdb.getValueInt("kaishi_green");
	i1 = this.tdb.getValueInt("kaishi_blue");
	if(k < 0)
		k = 0;
	else
	if(k > 255)
		k = 255;
	if(l < 0)
		l = 0;
	else
	if(l > 255)
		l = 255;
	if(i1 < 0)
		i1 = 0;
	else
	if(i1 > 255)
		i1 = 255;
	this.gamecolor_kaishi = new Color(k, l, i1);
	k = this.tdb.getValueInt("scorecolor_red");
	l = this.tdb.getValueInt("scorecolor_green");
	i1 = this.tdb.getValueInt("scorecolor_blue");
	if(k < 0)
		k = 0;
	else
	if(k > 255)
		k = 255;
	if(l < 0)
		l = 0;
	else
	if(l > 255)
		l = 255;
	if(i1 < 0)
		i1 = 0;
	else
	if(i1 > 255)
		i1 = 255;
	this.gamecolor_score = new Color(k, l, i1);
	k = this.tdb.getValueInt("grenade_red1");
	l = this.tdb.getValueInt("grenade_green1");
	i1 = this.tdb.getValueInt("grenade_blue1");
	if(k < 0)
		k = 0;
	else
	if(k > 255)
		k = 255;
	if(l < 0)
		l = 0;
	else
	if(l > 255)
		l = 255;
	if(i1 < 0)
		i1 = 0;
	else
	if(i1 > 255)
		i1 = 255;
	this.gamecolor_grenade1 = new Color(k, l, i1);
	k = this.tdb.getValueInt("grenade_red2");
	l = this.tdb.getValueInt("grenade_green2");
	i1 = this.tdb.getValueInt("grenade_blue2");
	if(k < 0)
		k = 0;
	else
	if(k > 255)
		k = 255;
	if(l < 0)
		l = 0;
	else
	if(l > 255)
		l = 255;
	if(i1 < 0)
		i1 = 0;
	else
	if(i1 > 255)
		i1 = 255;
	this.gamecolor_grenade2 = new Color(k, l, i1);
	k = this.tdb.getValueInt("firebar_red1");
	l = this.tdb.getValueInt("firebar_green1");
	i1 = this.tdb.getValueInt("firebar_blue1");
	if(k < 0)
		k = 0;
	else
	if(k > 255)
		k = 255;
	if(l < 0)
		l = 0;
	else
	if(l > 255)
		l = 255;
	if(i1 < 0)
		i1 = 0;
	else
	if(i1 > 255)
		i1 = 255;
	this.gamecolor_firebar1 = new Color(k, l, i1);
	k = this.tdb.getValueInt("firebar_red2");
	l = this.tdb.getValueInt("firebar_green2");
	i1 = this.tdb.getValueInt("firebar_blue2");
	if(k < 0)
		k = 0;
	else
	if(k > 255)
		k = 255;
	if(l < 0)
		l = 0;
	else
	if(l > 255)
		l = 255;
	if(i1 < 0)
		i1 = 0;
	else
	if(i1 > 255)
		i1 = 255;
	this.gamecolor_firebar2 = new Color(k, l, i1);
	k = this.tdb.getValueInt("mizunohadou_red");
	l = this.tdb.getValueInt("mizunohadou_green");
	i1 = this.tdb.getValueInt("mizunohadou_blue");
	if(k < 0)
		k = 0;
	else
	if(k > 255)
		k = 255;
	if(l < 0)
		l = 0;
	else
	if(l > 255)
		l = 255;
	if(i1 < 0)
		i1 = 0;
	else
	if(i1 > 255)
		i1 = 255;
	this.gamecolor_mizunohadou = new Color(k, l, i1);
	this.moji_score = this.tdb.getValue("moji_score");
	this.moji_highscore = this.tdb.getValue("moji_highscore");
	this.moji_time = this.tdb.getValue("moji_time");
	this.moji_time = "" + "  " + this.moji_time + " ";
	this.moji_jet = this.tdb.getValue("moji_jet");
	this.moji_grenade = this.tdb.getValue("moji_grenade");
	this.moji_left = this.tdb.getValue("moji_left");
	this.moji_left = "" + "  " + this.moji_left + " ";
	this.moji_size = this.tdb.getValueInt("moji_size");
	if(this.moji_size < 10)
		this.moji_size = 10;
	else
	if(this.moji_size > 30)
		this.moji_size = 30;
	this.j_left_shoki = this.tdb.getValueInt("jibun_left_shoki");
	if(this.j_left_shoki < 1)
		this.j_left_shoki = 1;
	this.j_left_shoki--;
	this.stage_max = this.tdb.getValueInt("stage_max");
	if(this.stage_max < 1)
		this.stage_max = 1;
	else
	if(this.stage_max > 4)
		this.stage_max = 4;
	if(this.stage_select == 2)
		this.stage_max = 4;
	this.stage_kaishi = this.tdb.getValueInt("stage_kaishi");
	if(this.stage_kaishi < 1)
		this.stage_kaishi = 1;
	if(this.stage_kaishi > this.stage_max)
		this.stage_kaishi = this.stage_max;
	this.score_1up_1_para = this.tdb.getValueInt("score_1up_1");
	if(this.score_1up_1_para < 0)
		this.score_1up_1_para = 0;
	if(this.stage_max <= 1 && this.j_left_shoki <= 0)
		this.score_1up_1_para = 0;
	this.score_1up_2_para = this.tdb.getValueInt("score_1up_2");
	if(this.score_1up_2_para < 0)
		this.score_1up_2_para = 0;
	if(this.stage_max <= 1 && this.j_left_shoki <= 0)
		this.score_1up_2_para = 0;
	this.default_j_tail_type = this.tdb.getValueInt("j_tail_type");
	if(this.default_j_tail_type < 1 || this.default_j_tail_type > 3)
		this.default_j_tail_type = 1;
	this.j_tail_type = this.default_j_tail_type;
	this.default_j_fire_type = this.tdb.getValueInt("j_fire_type");
	if(this.default_j_fire_type < 1 || this.default_j_fire_type > 4)
		this.default_j_fire_type = 1;
	this.j_fire_type = this.default_j_fire_type;
	var i = this.tdb.getValueInt("j_tail_hf");
	if(i == 2)
		this.j_tail_hf = true;
	else
		this.j_tail_hf = false;
	this.grenade_type = this.tdb.getValueInt("grenade_type");
	if(this.grenade_type < 1 || this.grenade_type > 9)
		this.grenade_type = 1;
	this.boss_destroy_type = this.tdb.getValueInt("boss_destroy_type");
	if(this.boss_destroy_type != 2)
		this.boss_destroy_type = 1;
	this.boss_hp_max = this.tdb.getValueInt("boss_hp_max");
	if(this.boss_hp_max < 1)
		this.boss_hp_max = 1;
	this.j_tail_ap_boss = this.tdb.getValueInt("j_tail_ap_boss");
	if(this.j_tail_ap_boss < 0)
		this.j_tail_ap_boss = 4;
	this.suberuyuka_hkf = this.tdb.getValueInt("suberuyuka_hkf");
	if(this.suberuyuka_hkf == 2)
		this.suberuyuka_hkf = 2;
	else
		this.suberuyuka_hkf = 1;
	i = this.tdb.getValueInt("j_fire_mkf");
	if(i == 2)
		this.j_fire_mkf = true;
	else
		this.j_fire_mkf = false;
	i = this.tdb.getValueInt("j_tokugi");
	if(i >= 1 && i <= 19)
		this.j_tokugi = i;
	else
		this.j_tokugi = 1;
	i = this.tdb.getValueInt("j_add_tokugi");
	if(i >= 1)
		this.j_add_tokugi = i;
	else
		this.j_add_tokugi = 0;
	i = this.tdb.getValueInt("j_add_tokugi2");
	if(i >= 1)
		this.j_add_tokugi2 = i;
	else
		this.j_add_tokugi2 = 0;
	i = this.tdb.getValueInt("j_add_tokugi3");
	if(i >= 1)
		this.j_add_tokugi3 = i;
	else
		this.j_add_tokugi3 = 0;
	i = this.tdb.getValueInt("j_add_tokugi4");
	if(i >= 1)
		this.j_add_tokugi4 = i;
	else
		this.j_add_tokugi4 = 0;
	i = this.tdb.getValueInt("dengeki_mkf");
	if(i >= 1 && i <= 5)
		this.dengeki_mkf = i;
	else
		this.dengeki_mkf = 1;
	i = this.tdb.getValueInt("yachamo_kf");
	if(i >= 1 && i <= 9)
		this.yachamo_attack = i;
	else
		this.yachamo_attack = 1;
	i = this.tdb.getValueInt("mizutaro_attack");
	if(i >= 1 && i <= 5)
		this.mizutaro_attack = i;
	else
		this.mizutaro_attack = 1;
	i = this.tdb.getValueInt("poppie_attack");
	if(i >= 1 && i <= 5)
		this.poppie_attack = i;
	else
		this.poppie_attack = 1;
	i = this.tdb.getValueInt("mariri_attack");
	if(i >= 1 && i <= 5)
		this.mariri_attack = i;
	else
		this.mariri_attack = 1;
	i = this.tdb.getValueInt("chikorin_attack");
	if(i >= 1 && i <= 9)
		this.chikorin_attack = i;
	else
		this.chikorin_attack = 1;
	i = this.tdb.getValueInt("airms_kf");
	if(i >= 1 && i <= 5)
		this.airms_kf = i;
	else
		this.airms_kf = 1;
	i = this.tdb.getValueInt("taiking_attack");
	if(i >= 1 && i <= 5)
		this.taiking_attack = i;
	else
		this.taiking_attack = 1;
	i = this.tdb.getValueInt("kuragesso_attack");
	if(i >= 1 && i <= 5)
		this.kuragesso_attack = i;
	else
		this.kuragesso_attack = 1;
	this.ugokuyuka1_type = this.tdb.getValueInt("ugokuyuka1_type");
	if(this.ugokuyuka1_type < 1 || this.ugokuyuka1_type > 1249)
		this.ugokuyuka1_type = 1;
	this.ugokuyuka2_type = this.tdb.getValueInt("ugokuyuka2_type");
	if(this.ugokuyuka2_type < 1 || this.ugokuyuka2_type > 1249)
		this.ugokuyuka2_type = 1;
	this.ugokuyuka3_type = this.tdb.getValueInt("ugokuyuka3_type");
	if(this.ugokuyuka3_type < 1 || this.ugokuyuka3_type > 1249)
		this.ugokuyuka3_type = 1;
	this.firebar1_type = this.tdb.getValueInt("firebar1_type");
	if(this.firebar1_type < 1 || this.firebar1_type > 1249)
		this.firebar1_type = 1;
	this.firebar2_type = this.tdb.getValueInt("firebar2_type");
	if(this.firebar2_type < 1 || this.firebar2_type > 1249)
		this.firebar2_type = 1;
	this.dossunsun_type = this.tdb.getValueInt("dossunsun_type");
	if(this.dossunsun_type < 1 || this.dossunsun_type > 1249)
		this.dossunsun_type = 1;
	this.coin1_type = this.tdb.getValueInt("coin1_type");
	if(this.coin1_type < 1 || this.coin1_type > 1249)
		this.coin1_type = 1;
	this.coin3_type = this.tdb.getValueInt("coin3_type");
	if(this.coin3_type < 1 || this.coin3_type > 1249)
		this.coin3_type = 1;
	this.dokan1_type = this.tdb.getValueInt("dokan1_type");
	if(this.dokan1_type < 1 || this.dokan1_type > 1249)
		this.dokan1_type = 1;
	this.dokan2_type = this.tdb.getValueInt("dokan2_type");
	if(this.dokan2_type < 1 || this.dokan2_type > 1249)
		this.dokan2_type = 1;
	this.dokan3_type = this.tdb.getValueInt("dokan3_type");
	if(this.dokan3_type < 1 || this.dokan3_type > 1249)
		this.dokan3_type = 1;
	this.dokan4_type = this.tdb.getValueInt("dokan4_type");
	if(this.dokan4_type < 1 || this.dokan4_type > 1249)
		this.dokan4_type = 1;
	this.pause_switch = this.tdb.getValueInt("pause_switch");
	if(this.pause_switch != 2)
		this.pause_switch = 1;
	this.control_parts_visible = this.tdb.getValueInt("control_parts_visible");
	if(this.control_parts_visible != 2)
		this.control_parts_visible = 1;
	this.boss_type = this.tdb.getValueInt("boss_type");
	if(this.boss_type < 1 || this.boss_type > 5)
		this.boss_type = 1;
	this.boss2_type = this.tdb.getValueInt("boss2_type");
	if(this.boss2_type < 1 || this.boss2_type > 8)
		this.boss2_type = 1;
	this.boss3_type = this.tdb.getValueInt("boss3_type");
	if(this.boss3_type < 1 || this.boss3_type > 8)
		this.boss3_type = 1;
	this.gazou_scroll = this.tdb.getValueInt("gazou_scroll");
	if(this.gazou_scroll < 2 || this.gazou_scroll > 11)
		this.gazou_scroll = 1;
	this.gazou_scroll_speed_x = this.tdb.getValueInt("gazou_scroll_speed_x");
	if(this.gazou_scroll_speed_x < -32)
		this.gazou_scroll_speed_x = -32;
	if(this.gazou_scroll_speed_x > 32)
		this.gazou_scroll_speed_x = 32;
	this.gazou_scroll_speed_y = this.tdb.getValueInt("gazou_scroll_speed_y");
	if(this.gazou_scroll_speed_y < -32)
		this.gazou_scroll_speed_y = -32;
	if(this.gazou_scroll_speed_y > 32)
		this.gazou_scroll_speed_y = 32;
	this.gazou_scroll_x = this.tdb.getValueInt("gazou_scroll_x");
	if(this.gazou_scroll_x < 0)
		this.gazou_scroll_x = 0;
	this.gazou_scroll_y = this.tdb.getValueInt("gazou_scroll_y");
	if(this.gazou_scroll_y < 0)
		this.gazou_scroll_y = 0;
	this.mcs_haikei_visible = this.tdb.getValueInt("mcs_haikei_visible");
	if(this.mcs_haikei_visible != 1)
		this.mcs_haikei_visible = 0;
	this.easy_mode = this.tdb.getValueInt("easy_mode");
	if(this.easy_mode != 2)
		this.easy_mode = 1;
	this.dokan_mode = this.tdb.getValueInt("dokan_mode");
	if(this.dokan_mode < 1 || this.dokan_mode > 2)
		this.dokan_mode = 1;
	if(this.gg.mode == 1)
		this.dokan_mode = 2;
	this.mes1_name = this.tdb.getValue("mes1_name");
	this.mes2_name = this.tdb.getValue("mes2_name");
	this.shop_name = this.tdb.getValue("shop_name");
	this.setumei_name = this.tdb.getValue("setumei_name");
	this.door_score = this.tdb.getValueInt("door_score");
	if(this.door_score < 10)
		this.door_score = 10;
	this.shop_item_name[0] = this.tdb.getValue("shop_item_name1");
	this.shop_item_name[1] = this.tdb.getValue("shop_item_name2");
	this.shop_item_name[2] = this.tdb.getValue("shop_item_name3");
	this.shop_item_name[3] = this.tdb.getValue("shop_item_name4");
	this.shop_item_name[4] = this.tdb.getValue("shop_item_name5");
	this.shop_item_name[5] = this.tdb.getValue("shop_item_name6");
	this.shop_item_name[6] = this.tdb.getValue("shop_item_name7");
	this.shop_item_name[7] = this.tdb.getValue("shop_item_name8");
	this.shop_item_name[8] = this.tdb.getValue("shop_item_name9");
	for(var j1 = 0; j1 <= 8; j1++)
	{
		var j = j1 + 1;
		j = this.tdb.getValueInt("" + "shop_item_teika" + j);
		if(j < 0)
			j = 0;
		this.shop_item_teika[j1] = j;
	}

	this.scroll_area = this.tdb.getValueInt("scroll_area");
	if(this.scroll_area < 1 || this.scroll_area > 5)
		this.scroll_area = 1;
	this.clear_type = this.tdb.getValueInt("clear_type");
	if(this.clear_type < 1 || this.clear_type > 3)
		this.clear_type = 1;
	this.second_gazou_img = null;
	for(var k1 = 0; k1 <= 3; k1++)
		this.second_gazou_stage_img[k1] = null;

	this.second_gazou_visible = false;
	if((this.gg.layer_mode == 2 || this.tdb.getValueInt("mcs_haikei_visible") == 1) && this.tdb.getValueInt("second_gazou_visible") == 2)
	{
		this.second_gazou_visible = true;
		this.second_gazou_stage_img[0] = this.gg.loadImage(this.tdb.getValue("filename_second_haikei"));
		if(this.stage_select == 2 || this.stage_max >= 2)
		{
			this.second_gazou_stage_img[1] = this.gg.loadImage(this.tdb.getValue("filename_second_haikei2"));
			this.second_gazou_stage_img[2] = this.gg.loadImage(this.tdb.getValue("filename_second_haikei3"));
			this.second_gazou_stage_img[3] = this.gg.loadImage(this.tdb.getValue("filename_second_haikei4"));
		}
	}
	this.second_gazou_scroll = this.tdb.getValueInt("second_gazou_scroll");
	if(this.second_gazou_scroll < 1 || this.second_gazou_scroll > 8)
		this.second_gazou_scroll = 1;
	this.second_gazou_scroll_speed_x = this.tdb.getValueInt("second_gazou_scroll_speed_x");
	if(this.second_gazou_scroll_speed_x < -32)
		this.second_gazou_scroll_speed_x = -32;
	if(this.second_gazou_scroll_speed_x > 32)
		this.second_gazou_scroll_speed_x = 32;
	this.second_gazou_scroll_speed_y = this.tdb.getValueInt("second_gazou_scroll_speed_y");
	if(this.second_gazou_scroll_speed_y < -32)
		this.second_gazou_scroll_speed_y = -32;
	if(this.second_gazou_scroll_speed_y > 32)
		this.second_gazou_scroll_speed_y = 32;
	this.second_gazou_scroll_x = this.tdb.getValueInt("second_gazou_scroll_x");
	this.second_gazou_scroll_y = this.tdb.getValueInt("second_gazou_scroll_y");
	this.second_gazou_priority = this.tdb.getValueInt("second_gazou_priority");
	if(this.second_gazou_priority < 1 || this.second_gazou_priority > 2)
		this.second_gazou_priority = 1;
	this.water_visible = this.tdb.getValueInt("water_visible");
	if(this.water_visible != 2)
		this.water_visible = 1;
}

MainProgram.prototype.init2 = function()
{
	if(this.score > this.highscore)
		this.highscore = this.score;
	this.j_left = this.j_left_shoki;
	this.score_1up_1 = this.score_1up_1_para;
	this.score_1up_2 = this.score_1up_2_para;
	for(var i = 0; i <= 2; i++)
		this.stage_1up_f[i] = true;

	this.cpoint_con = 0;
	this.cpoint_stage = 0;
	this.cpoint_x = 32;
	this.cpoint_y = 320;
	this.gk.key_code = 0;
	this.score = 0;
	this.stage = this.stage_kaishi;
	if(this.time_max > 0)
		this.time = (this.time_max * 1000 + 1000) - 70;
	else
		this.time = 0;
	this.gs.rsInit();
}

MainProgram.prototype.init3 = function()
{
	this.g_c1 = 0;
	this.g_c2 = 0;
	this.g_c3 = 0;
	this.g_ac = 0;
	this.g_ac2 = 0;
	this.stage_cc = 0;
	this.co_j.init();
	this.co_j.c = 100;
	this.co_j.x = 100;
	this.co_j.y = 100;
	this.co_j.pt = 100;
	this.co_j.muki = 1;
	this.co_j.jimen_f = false;
	this.j_hashiru_f = false;
	this.j_jump_level = 0;
	this.j_jump_type = 0;
	this.j_shitakara_mushi_y = -1;
	this.j_hashigo_f = false;
	this.j_hashigo_mushi_x = -1;
	this.j_a_id = -1;
	this.tr1_c = 6;
	this.gk.tr1_c = 6;
	this.tr2_c = 0;
	this.gk.left_c = 0;
	this.gk.right_c = 0;
	this.left_dcc = 0;
	this.right_dcc = 0;
	this.xkey_c = 0;
	this.ochiru_y = 9999;
	this.j_fire_f = false;
	this.j_v_c = 0;
	this.j_v_kakudo = 0;
	this.j_jet_c = 0;
	this.j_jet_kf = false;
	this.j_jet_fuel = 0;
	this.j_helm_f = false;
	this.j_drell_f = false;
	this.j_tail_f = false;
	this.j_tail_ac = 0;
	this.j_gr_kazu = 0;
	this.j_rope_id = 0;
	this.j_rope_r = 32;
	this.j_rope_cf = false;
	this.j_cannon_c = 0;
	this.j_cannon_type = 0;
	this.saka_mushi_y = -1;
	this.maps.gazou_x = 0;
	this.maps.gazou_y = 0;
	this.maps.second_gazou_x = 0;
	this.maps.second_gazou_y = 0;
	this.stage_haikei = this.stage;
	this.second_gazou_img = this.second_gazou_stage_img[this.stage - 1];
	this.j_djump_kf = true;
	this.coin_kazu = 100;
	this.dkey_count[0] = 0;
	this.dkey_count[1] = 0;
	this.j_mizu_f = false;
	this.j_mizu_ac = 0;
	this.j_mizu_awa_c = 0;
	this.j_jdai_f = false;
	this.j_double_f = false;
	this.j_hp = this.j_hp_max;
	this.j_muteki_c = 0;
	this.j_4_muki = 1;
	this.j_speed = 80;
	this.boss_hp = this.boss_hp_max;
	this.tpika_p = 0;
	this.hitokoto_c = -1;
	this.hitokoto_num = 1;
	if(this.j_tail_hf)
		this.j_tail_f = true;
	if(this.tdb.getValueInt("j_fire_equip") == 2)
		this.j_fire_f = true;
	this.j_fire_type = this.default_j_fire_type;
	if(this.j_tokugi == 14)
		this.j_fire_f = true;
	this.j_fire_range = 9999;
	if(this.j_tokugi == 15)
		this.j_fire_range = 9;
	if(this.j_fire_type == 3 || this.j_fire_type == 4)
		this.j_fire_range = 10;
	if(this.j_tokugi == 17)
	{
		this.setMyMaxHP("3");
		this.showMyHP("HP");
	}
	this.j_enemy_press = this.tdb.getValueInt("j_enemy_press");
	if(this.j_enemy_press < 1 || this.j_enemy_press > 3)
		this.j_enemy_press = 1;
	this.view_move_type = this.tdb.getValueInt("view_move_type");
	if(this.view_move_type != 2)
		this.view_move_type = 1;
	if(this.view_move_type == 2)
		this.co_j.muki = 0;
	this.jst_slow_down = 0;
	this.jst_key_down = 0;
	this.jst_fast_run_attack = 0;
	this.jst_fly_left_right = 0;
	this.jst_fire_xkey_only = 0;
	this.jst_kabe_kick = 0;
	this.jst_double_jump = 0;
	this.jst_fast_run = 0;
	this.jst_high_sjump = 0;
	this.jst_jump_level_fix = 0;
	this.jst_auto_right = 0;
	this.gk.left_right_lock = false;
	this.jst_syouryuuken = 0;
	this.jst_pc_attack = 0;
	this.up_key_c = 0;
	this.down_key_c = 0;
	switch(this.j_tokugi)
	{
	case 2:
		this.jst_slow_down = 1;
		break;

	case 3:
		this.jst_key_down = 1;
		break;

	case 4:
		this.jst_fast_run_attack = 1;
		break;

	case 5:
		this.jst_fly_left_right = 1;
		break;

	case 6:
		this.jst_kabe_kick = 1;
		break;

	case 7:
		this.j_fire_type = 2;
		this.j_fire_range = 9999;
		this.jst_fire_xkey_only = 1;
		break;

	case 8:
		this.jst_double_jump = 1;
		break;

	case 9:
		this.jst_fast_run = 1;
		break;

	case 11:
		this.jst_high_sjump = 1;
		break;

	case 13:
		this.jst_fast_run = 2;
		break;

	case 16:
		this.jst_kabe_kick = 2;
		break;

	case 18:
		this.jst_auto_right = 1;
		this.gk.left_right_lock = true;
		break;

	case 19:
		this.jst_auto_right = 2;
		this.gk.left_right_lock = true;
		break;
	}
	this.j_tail_type = this.default_j_tail_type;
	if(this.j_add_tokugi >= 2)
		this.addMyTokugi(this.j_add_tokugi);
	if(this.j_add_tokugi2 >= 2)
		this.addMyTokugi(this.j_add_tokugi2);
	if(this.j_add_tokugi3 >= 2)
		this.addMyTokugi(this.j_add_tokugi3);
	if(this.j_add_tokugi4 >= 2)
		this.addMyTokugi(this.j_add_tokugi4);
	for(var i = 0; i <= 5; i++)
	{
		this.j_zan_x[i] = 0;
		this.j_zan_y[i] = 0;
		this.j_zan_pt[i] = 0;
		this.j_zan_pth[i] = 0;
		this.j_zan_img[i] = null;
		this.j_zan_zs_x[i] = 0;
		this.j_zan_zs_y[i] = 0;
	}

	this.j_zan_p = 0;
	this.j_zan_c = 0;
	this.j_zan_nagasa = 0;
	this.j_zan_f = false;
	this.j_zan_cf = false;
	this.spot_c = 0;
	this.spot_r = 160;
	this.spot_r_mokuhyou = 160;
	this.km.initAll();
	this.km.mode = 100;
	for(var j = 0; j <= 1; j++)
		this.co_mu[j].init();

	for(var k = 0; k <= 31; k++)
	{
		this.mu_ato_x[k] = this.co_j.x;
		this.mu_ato_y[k] = this.co_j.y;
	}

	this.mu_ato_p = 0;
	this.mhouse_c = 0;
	this.mhouse_x = 0;
	this.mhouse_y = 0;
	this.souko_count1 = 0;
	this.souko_count2 = 0;
	this.souko_count3 = 0;
	this.yuka_ride_id = -1;
	this.yo = [];

	this.sl_step = 0;
	this.sl_speed = 0;
	this.sl_wx = 0;
	this.sl_wy = 0;
	this.showm_c = 0;
	for(var i1 = 0; i1 <= 3; i1++)
		this.showm_data[i1] = null;

	this.showi_c = 0;
	this.showi_x = 0;
	this.showi_y = 0;
	this.showi_img = null;
	this.showr_c = 0;
	this.showo_c = 0;
	this.setmapc_f = false;
	this.setbacki_f = false;
	this.setmyw_w = -1;
	this.setmyw_pt = 100;
	this.setmyw_muki = 1;
	this.attacktail_yf = true;
	this.gauge_v = false;
	var k5;
	if(this.stage == 2)
		k5 = this.tdb.getValueInt("scroll_mode_s");
	else
	if(this.stage == 3)
		k5 = this.tdb.getValueInt("scroll_mode_t");
	else
	if(this.stage == 4)
		k5 = this.tdb.getValueInt("scroll_mode_f");
	else
		k5 = this.tdb.getValueInt("scroll_mode");
	if(k5 == 2)
	{
		this.sl_step = 10;
		this.ks_wx = 32;
		this.ks_wy = this.mapHeight * 32;
		this.sl_speed = 2;
	} else
	if(k5 == 3)
	{
		this.sl_step = 10;
		this.ks_wx = 32;
		this.ks_wy = this.mapHeight * 32;
		this.sl_speed = 4;
	}
	this.nkscroll_con = 0;
	this.nkscroll_view_x = 0;
	this.nkscroll_view_y = 0;
	this.nkscroll_speed_x = 2;
	this.nkscroll_vx = 0;
	this.nkscroll_vy = 0;
	this.nkscroll_zsc = false;

	this.co_a = [new CharacterObject()];  // 例外落ち回避用要素
	this.vo_x = [[0, 0, 0, 0]];
	this.vo_y = [[0, 0, 0, 0]];
	this.a_hf = false;

	this.co_t = [];

	this.co_b.init();
	this.boss_kijyun_y = 0;
	this.boss_attack_mode = false;
	for(var l1 = 0; l1 <= 79; l1++)
		this.co_m[l1].init();

	this.m_kazu = 0;
	for(var i2 = 0; i2 <= 8; i2++)
		this.co_jm[i2].init();

	this.jm_kazu = 0;
	for(var j2 = 0; j2 <= 79; j2++)
		this.co_h[j2].init();

	if(this.time_max > 0)
		this.time = (this.time_max * 1000 + 1000) - 70;
	else
		this.time = 0;
	this.ana_kazu = 0;
	for(var k2 = 0; k2 <= 11; k2++)
		this.ana_c[k2] = 0;

	this.mapsMakeStageData(100 + this.stage);
	if(this.cpoint_con == 100)
		if(this.stage == this.cpoint_stage)
		{
			this.co_j.x = this.cpoint_x;
			this.co_j.y = this.cpoint_y;
			for(var l2 = 0; l2 <= this.a_kazu; l2++)
				if(this.co_a[l2].c == 3400 && this.co_a[l2].x == this.cpoint_x && this.co_a[l2].y == this.cpoint_y)
					this.co_a[l2].c = 0;

			this.hDelete(rightShiftIgnoreSign(this.co_j.x, 5), rightShiftIgnoreSign(this.co_j.y, 5) + 1, 4100);
		} else
		{
			this.cpoint_con = 0;
		}
	if(this.sl_step == 10 || this.sl_step == 11)
	{
		this.ks_wx = this.maps.wx;
		if(this.ks_wx <= 128)
			this.ks_wx = 32;
	}
	if(this.scroll_area == 2)
	{
		this.maps.wx_max = 32;
		this.maps.wy_mini = this.mapHeight * 32;
		for(var i3 = 0; i3 <= this.maps.height - 1; i3++)
			this.maps.map_bg[17][i3] = 21;

		if(this.j_tokugi == 15)
		{
			for(var j3 = 1; j3 < this.maps.width; j3++)
				this.maps.map_bg[j3][29] = 21;

		}
	} else
	if(this.scroll_area == 3)
	{
		this.maps.wx_max = 544;
		this.maps.wy_mini = this.mapHeight * 32;
		for(var k3 = 0; k3 <= this.maps.height - 1; k3++)
			this.maps.map_bg[33][k3] = 21;

		if(this.j_tokugi == 15)
		{
			for(var l3 = 1; l3 < this.maps.width; l3++)
				this.maps.map_bg[l3][29] = 21;

		}
	} else
	if(this.scroll_area == 4)
	{
		this.maps.wx_max = 32;
		this.maps.wy_mini = (this.mapHeight - 10) * 32;
		for(var i4 = 0; i4 <= this.maps.height - 1; i4++)
			this.maps.map_bg[17][i4] = 21;

		if(this.j_tokugi == 15)
		{
			for(var j4 = 1; j4 < this.maps.width; j4++)
				this.maps.map_bg[j4][19] = 21;

		}
	} else
	if(this.scroll_area == 5)
	{
		this.maps.wx_max = 544;
		this.maps.wy_mini = (this.mapHeight - 10) * 32;
		for(var k4 = 0; k4 <= this.maps.height - 1; k4++)
			this.maps.map_bg[33][k4] = 21;

		if(this.j_tokugi == 15)
		{
			for(var l4 = 1; l4 < this.maps.width; l4++)
				this.maps.map_bg[l4][19] = 21;

		}
	}
	if(this.j_tokugi == 15)
	{
		for(var i5 = 1; i5 < this.maps.width; i5++)
			this.maps.map_bg[i5][40] = 21;

	}
	if(this.gg.layer_mode == 2 || this.mcs_haikei_visible == 1)
		this.maps.drawMapLayer(this.maps.wx, this.maps.wy, this.g_ac2, this.gazou_scroll, 1);
	else
		this.maps.drawMap(this.maps.wx, this.maps.wy);
	this.gs.rsInit();
	if(this.clear_type == 2 || this.clear_type == 3)
	{
		var l5 = this.coin_kazu;
		this.getCoinTotal();
		if(l5 > 0 && this.coin_kazu == 0)
		{
			this.gs.rsAddSound(7);
			if(this.clear_type == 3)
				this.showHashigo();
		}
	}
label0:
	for(var j6 = 10; j6 <= this.mapHeight + 9; j6++)
	{
		var i6 = 1;
		do
		{
			if(i6 > this.mapWidth)
				continue label0;
			if(this.maps.map_bg[i6][j6] == 28)
			{
				this.mhouse_c = 100;
				this.mhouse_x = i6;
				this.mhouse_y = j6;
				continue label0;
			}
			i6++;
		} while(true);
	}

	this.js_mes = 1;
}

MainProgram.prototype.mapsMakeStageData = function(i)  // 新形式マップの処理
{
	var i3;
	var as;
	var as1;
	var c2;
	var s8;
	var s9;
	s8 = "0123456789abcdef";
	s9 = "0123456789ABCDEF";

	var advance_map = this.tdb.options["advanced-map"];
	var stage = null;
	var mainLayer = null;
	var mapchipLayer = null;

	if (advance_map) {
		stage = advance_map.stages[i - 101];
		this.mapWidth = stage.size.x;
		this.mapHeight = stage.size.y;
		stage.layers.forEach(function (layer) {
			if (layer.type === "main") {
				mainLayer = layer;
			}
			else if (layer.type === "mapchip") {
				mapchipLayer = layer;
			}
		});
	}
	else {
		this.mapWidth = 180;
		this.mapHeight = 30;
	}

	this.maps = new MapSystem(this.mapWidth + 20, this.mapHeight + 70, this.gg, this);
	this.maps.init();
	this.map_data_option = createNDimensionArray(this.mapWidth + 20, this.mapHeight + 70);
	for(var l1 = 0; l1 < this.mapHeight + 70; l1++)
	{
		for(var k = 0; k < this.mapWidth + 20; k++)
			this.map_data_option[k][l1] = false;
	}

	as = this.maps.map_string;
	as1 = this.maps.map_string_layer;
	this.maps.wx = 32;
	this.maps.wy = 32;
	this.maps.wx_mini = 32;
	this.maps.wy_mini = 320;
	this.maps.wx_max = (this.mapWidth - 15) * 32;
	this.maps.wy_max = this.mapHeight * 32;
	c2 = this.mapWidth + 19;
	this.gg.setBackcolor(Color.blue);

	if (!advance_map) {
		switch (i) {
			default:
				break;

			case 101:
				for (var i2 = 0; i2 < this.mapHeight; i2++) {
					var s = "" + "." + this.tdb.getValue("" + "map0-" + i2);
					s = "" + s + this.tdb.getValue("" + "map1-" + i2);
					s = "" + s + this.tdb.getValue("" + "map2-" + i2);
					as[i2 + 10] = s;
					if (this.gg.layer_mode == 2) {
						var s1 = "" + "00" + this.tdb.getValue("" + "layer0-" + i2);
						s1 = "" + s1 + this.tdb.getValue("" + "layer1-" + i2);
						s1 = "" + s1 + this.tdb.getValue("" + "layer2-" + i2);
						as1[i2 + 10] = s1;
					}
				}
				break;

			case 102:
				for (var j2 = 0; j2 < this.mapHeight; j2++) {
					var s2 = "" + "." + this.tdb.getValue("" + "map0-" + j2 + "-s");
					s2 = "" + s2 + this.tdb.getValue("" + "map1-" + j2 + "-s");
					s2 = "" + s2 + this.tdb.getValue("" + "map2-" + j2 + "-s");
					as[j2 + 10] = s2;
					if (this.gg.layer_mode == 2) {
						var s3 = "" + "00" + this.tdb.getValue("" + "layer0-" + j2 + "-s");
						s3 = "" + s3 + this.tdb.getValue("" + "layer1-" + j2 + "-s");
						s3 = "" + s3 + this.tdb.getValue("" + "layer2-" + j2 + "-s");
						as1[j2 + 10] = s3;
					}
				}
				break;

			case 103:
				for (var k2 = 0; k2 < this.mapHeight; k2++) {
					var s4 = "" + "." + this.tdb.getValue("" + "map0-" + k2 + "-t");
					s4 = "" + s4 + this.tdb.getValue("" + "map1-" + k2 + "-t");
					s4 = "" + s4 + this.tdb.getValue("" + "map2-" + k2 + "-t");
					as[k2 + 10] = s4;
					if (this.gg.layer_mode == 2) {
						var s5 = "" + "00" + this.tdb.getValue("" + "layer0-" + k2 + "-t");
						s5 = "" + s5 + this.tdb.getValue("" + "layer1-" + k2 + "-t");
						s5 = "" + s5 + this.tdb.getValue("" + "layer2-" + k2 + "-t");
						as1[k2 + 10] = s5;
					}
				}
				break;

			case 104:
				for (var l2 = 0; l2 < this.mapHeight; l2++) {
					var s6 = "" + "." + this.tdb.getValue("" + "map0-" + l2 + "-f");
					s6 = "" + s6 + this.tdb.getValue("" + "map1-" + l2 + "-f");
					s6 = "" + s6 + this.tdb.getValue("" + "map2-" + l2 + "-f");
					as[l2 + 10] = s6;
					if (this.gg.layer_mode == 2) {
						var s7 = "" + "00" + this.tdb.getValue("" + "layer0-" + l2 + "-f");
						s7 = "" + s7 + this.tdb.getValue("" + "layer1-" + l2 + "-f");
						s7 = "" + s7 + this.tdb.getValue("" + "layer2-" + l2 + "-f");
						as1[l2 + 10] = s7;
					}
				}
				break;
		}
	}
	this.maps.setBank(0);
	if (i == 101)
		this.gg.setBackcolor(this.gamecolor_back);
	else if (i == 102)
		this.gg.setBackcolor(this.gamecolor_back_s);
	else if (i == 103)
		this.gg.setBackcolor(this.gamecolor_back_t);
	else if (i == 104)
		this.gg.setBackcolor(this.gamecolor_back_f);
	var tmp1866_1864;
	var tmp1866_1862;
	var tmp1937_1935;
	var tmp1937_1933;
	for (i3 = 0; i3 < this.maps.height; i3++) {
		if (as[i3].length < this.maps.width) {
			var n = as[i3].length;
			for (k = n; k < this.maps.width; k++) {
				tmp1866_1864 = i3;
				tmp1866_1862 = as;
				tmp1866_1862[tmp1866_1864] = (tmp1866_1862[tmp1866_1864] + ".");
			}
			if (this.gg.layer_mode == 2) {
				n = as1[i3].length;
				for (k = n; k < this.maps.width * 2; k++) {
					tmp1937_1935 = i3;
					tmp1937_1933 = as1;
					tmp1937_1933[tmp1937_1935] = (tmp1937_1933[tmp1937_1935] + "0");
				}
			}
		}
	}
	if(this.gg.layer_mode == 2)
	{
		for(var j3 = 0; j3 < this.maps.height; j3++)
		{
			for(var i1 = 0; i1 < this.maps.width; i1++)
			{
				var word0 = 0;
				if (mapchipLayer) {
					try {
						word0 = mapchipLayer.map[j3 - 10][i1 - 1];
						if (!word0) {
							word0 = 0;
						}
					}
					catch (ex) { }
				}
				else {
					var c = as1[j3].charAt(i1 * 2);
					if (c == '.')
						continue;
					var j = 0;
					do {
						if (j > 15)
							break;
						if (c == s8.charAt(j)) {
							word0 = Math.floor(j * 16);
							break;
						}
						if (c == s9.charAt(j)) {
							word0 = Math.floor(j * 16);
							break;
						}
						j++;
					} while (true);
					c = as1[j3].charAt(i1 * 2 + 1);
					j = 0;
					do {
						if (j > 15)
							break;
						if (c == s8.charAt(j)) {
							word0 += j;
							break;
						}
						if (c == s9.charAt(j)) {
							word0 += j;
							break;
						}
						j++;
					} while (true);
				}
				this.maps.map_bg_layer[i1][j3] = word0;
			}

		}

	}
	for(var k3 = 0; k3 < this.maps.height; k3++)
	{
		for(var j1 = 0; j1 < this.maps.width; j1++)
		{
			var c1 = 0;
			if (mainLayer) {
				try {
					c1 = mainLayer.map[k3 - 10][j1 - 1];
					if (!c1) {
						c1 = 0;
					}
				}
				catch (ex) { }
			}
			else {
				c1 = as[k3].charCodeAt(j1);
			}
			var word1 = this.setChipValue(j1, k3, c1);
			if(word1 >= 0)
				this.maps.map_bg[j1][k3] = word1;
		}

	}

	for(var k1 = 0; k1 <= this.maps.width - 1; k1++)
	{
		this.maps.map_bg[k1][0] = 21;
		this.maps.map_bg[k1][this.maps.height - 1] = 21;
	}

	for(var l3 = 0; l3 <= this.maps.height - 1; l3++)
	{
		this.maps.map_bg[0][l3] = 21;
		this.maps.map_bg[this.mapWidth + 1][l3] = 21;
		this.maps.map_bg[c2][l3] = 21;
	}

	this.ochiru_y = this.maps.wy_max + 320;
	if(this.view_move_type == 2)
		this.maps.wx = this.co_j.x - 384;
	else
		this.maps.wx = this.co_j.x - 96;
	this.maps.wy = this.co_j.y - 176;
	if(this.maps.wx < this.maps.wx_mini)
		this.maps.wx = this.maps.wx_mini;
	else
	if(this.maps.wx > this.maps.wx_max)
		this.maps.wx = this.maps.wx_max;
	if(this.maps.wy < this.maps.wy_mini)
		this.maps.wy = this.maps.wy_mini;
	else
	if(this.maps.wy > this.maps.wy_max)
		this.maps.wy = this.maps.wy_max;
	this.co_j.wx = this.co_j.x - this.maps.wx;
	this.co_j.wy = this.co_j.y - this.maps.wy;
	return;
}

MainProgram.prototype.setAthleticOnMap = function(i, j, k)
{
	var word0 = -1;
	if(this.maps.map_bg[j - 1][k] == 4)
		word0 = 4;
	if(i == 2)
		this.aSet(j * 32, k * 32, 500, j * 32);
	else
	if(i == 3)
		this.aSet(j * 32, k * 32, 510, j * 32);
	else
	if(i == 4)
		this.aSet(j * 32, k * 32, 120, j * 32);
	else
	if(i == 5)
		this.aSet(j * 32, k * 32, 121, j * 32);
	else
	if(i == 6)
		this.aSet(j * 32, k * 32, 600, j * 32);
	else
	if(i == 7)
		this.aSet(j * 32, k * 32, 700, j * 32);
	else
	if(i == 8)
		this.aSet(j * 32 - 32, k * 32, 410, j * 32);
	else
	if(i == 9)
		this.aSet(j * 32 - 32, k * 32, 420, j * 32);
	else
	if(i == 10)
		this.aSet(j * 32 - 32, k * 32, 430, j * 32);
	else
	if(i == 11)
		this.aSet(j * 32 - 32, k * 32, 440, j * 32);
	else
	if(i == 12)
		this.aSet(j * 32 - 32, k * 32, 450, j * 32);
	else
	if(i == 13)
		this.aSet(j * 32 - 32, k * 32, 460, j * 32);
	else
	if(i == 14)
		this.aSet(j * 32 - 32, k * 32, 470, j * 32);
	else
	if(i == 15)
		this.aSet(j * 32 - 32, k * 32, 480, j * 32);
	else
	if(i == 16)
		this.aSet(j * 32 - 32, k * 32, 481, j * 32);
	else
	if(i == 17)
		this.aSet(j * 32 - 32, k * 32, 482, j * 32);
	else
	if(i == 18)
	{
		this.aSet(j * 32 + 16, k * 32 + 16, 72, j * 32);
		this.aSet(j * 32 + 16, k * 32 + 16, 73, j * 32);
		word0 = 50;
	} else
	if(i == 19)
	{
		this.aSet(j * 32 + 16, k * 32 + 16, 72, j * 32);
		this.aSet(j * 32 + 16, k * 32 + 16, 74, j * 32);
		this.aSet(j * 32 + 16, k * 32 + 16, 76, j * 32);
		word0 = 50;
	} else
	if(i == 20)
	{
		this.aSet(j * 32 + 16, k * 32 + 16, 73, j * 32);
		this.aSet(j * 32 + 16, k * 32 + 16, 75, j * 32);
		this.aSet(j * 32 + 16, k * 32 + 16, 77, j * 32);
		word0 = 50;
	} else
	if(i == 21)
		this.aSet(j * 32, k * 32, 85, j * 32);
	else
	if(i == 22)
	{
		word0 = 40;
		this.hSet(j, k, 2000);
	} else
	if(i == 23)
	{
		word0 = 40;
		this.hSet(j, k, 2100);
	} else
	if(i == 24)
	{
		word0 = 40;
		this.hSet(j, k, 2200);
	} else
	if(i == 25)
		this.aSet(j * 32, k * 32, 90, j * 32);
	else
	if(i == 26)
		this.aSet(j * 32, k * 32, 91, j * 32);
	else
	if(i == 27)
		this.aSet(j * 32, k * 32, 92, j * 32);
	else
	if(i == 28)
	{
		this.aSet(j * 32, k * 32, 93, j * 32);
		word0 = 50;
	} else
	if(i == 29)
	{
		this.aSet(j * 32, k * 32, 93, j * 32);
		this.aSet(j * 32, k * 32, 94, j * 32);
		word0 = 50;
	} else
	if(i == 30)
	{
		this.aSet(j * 32, k * 32, 95, j * 32);
		word0 = 50;
	} else
	if(i == 31)
	{
		this.aSet(j * 32, k * 32, 96, j * 32);
		word0 = 50;
	} else
	if(i == 32)
	{
		this.aSet(j * 32 + 16, k * 32 + 16, 78, j * 32);
		word0 = 50;
	} else
	if(i == 33)
	{
		this.aSet(j * 32 + 16, k * 32 + 16, 79, j * 32);
		word0 = 50;
	} else
	if(i == 34)
	{
		word0 = 40;
		this.hSet(j, k, 2300);
	} else
	if(i == 35)
	{
		word0 = 40;
		this.hSet(j, k, 2400);
	} else
	if(i == 36)
	{
		word0 = 40;
		this.hSet(j, k, 2500);
	} else
	if(i == 37)
	{
		word0 = 40;
		this.hSet(j, k, 2600);
	} else
	if(i == 38)
	{
		word0 = 40;
		this.hSet(j, k, 2700);
	} else
	if(i == 39)
	{
		word0 = 40;
		this.hSet(j, k, 2800);
	} else
	if(i == 40)
	{
		word0 = 40;
		this.hSet(j, k, 2900);
	} else
	if(i == 41)
	{
		word0 = 40;
		this.hSet(j, k, 3000);
	} else
	if(i == 42)
	{
		word0 = 40;
		this.hSet(j, k, 3100);
	} else
	if(i == 43)
	{
		word0 = 40;
		this.hSet(j, k, 3200);
	} else
	if(i == 44)
		this.aSet(j * 32, k * 32, 86, j * 32);
	else
	if(i == 45)
		this.aSet(j * 32, k * 32, 87, j * 32);
	else
	if(i == 46)
		this.aSet(j * 32, k * 32, 88, j * 32);
	else
	if(i == 47)
		this.aSet(j * 32, k * 32 + 32, 1000, j * 32);
	else
	if(i == 48)
		this.aSet(j * 32, k * 32, 1001, j * 32);
	else
	if(i == 49)
		this.aSet(j * 32 + 32, k * 32, 1002, j * 32);
	else
	if(i == 50)
		this.aSet(j * 32, k * 32, 1003, j * 32);
	else
	if(i == 51)
		this.aSet(j * 32, k * 32, 1010, j * 32);
	else
	if(i == 52)
		this.aSet(j * 32, k * 32, 1020, j * 32);
	else
	if(i == 53)
		this.aSet(j * 32 - 32, k * 32, 485, j * 32);
	else
	if(i == 54)
		this.aSet(j * 32 - 32, k * 32, 486, j * 32);
	else
	if(i == 55)
		this.aSet(j * 32 - 32, k * 32, 487, j * 32);
	else
	if(i == 56)
	{
		this.aSet(j * 32, k * 32, 1100, j * 32);
		word0 = 26;
	} else
	if(i == 57)
	{
		this.aSet(j * 32, k * 32, 1150, j * 32);
		word0 = 26;
	} else
	if(i == 58)
		this.aSet(j * 32, k * 32 + 32, 1200, j * 32);
	else
	if(i == 59)
	{
		this.aSet(j * 32, k * 32 + 32, 1200, j * 32);
		this.aSet(j * 32, k * 32 + 32, 1201, j * 32);
	} else
	if(i == 60)
	{
		this.aSet(j * 32, k * 32, 1300, j * 32);
		word0 = 50;
	} else
	if(i == 61)
	{
		this.aSet(j * 32, k * 32, 1300, j * 32);
		this.aSet(j * 32, k * 32, 1301, j * 32);
		word0 = 50;
	} else
	if(i == 62)
		this.aSet(j * 32, k * 32, 610, j * 32);
	else
	if(i == 63)
		this.aSet(j * 32, k * 32 + 32, 1005, j * 32);
	else
	if(i == 64)
		this.aSet(j * 32, k * 32, 1006, j * 32);
	else
	if(i == 65)
		this.aSet(j * 32 + 32, k * 32, 1007, j * 32);
	else
	if(i == 66)
		this.aSet(j * 32, k * 32, 1008, j * 32);
	else
	if(i == 67)
	{
		word0 = 212;
		this.aSet(j * 32, k * 32, 1400, j * 32);
	} else
	if(i == 68)
	{
		word0 = 213;
		this.aSet(j * 32, k * 32, 1401, j * 32);
	} else
	if(i == 69)
	{
		word0 = 214;
		this.aSet(j * 32, k * 32, 1402, j * 32);
	} else
	if(i == 70)
	{
		word0 = 215;
		this.aSet(j * 32, k * 32, 1403, j * 32);
	} else
	if(i == 71)
		this.aSet(j * 32, k * 32, 1500, j * 32);
	else
	if(i == 72)
		this.aSet(j * 32, k * 32, 1501, j * 32);
	else
	if(i == 73)
		this.aSet(j * 32, k * 32, 1502, j * 32);
	else
	if(i == 74)
		this.aSet(j * 32, k * 32, 1503, j * 32);
	else
	if(i == 75)
		this.aSet(j * 32, k * 32, 1504, j * 32);
	else
	if(i == 76)
		this.aSet(j * 32, k * 32, 701, j * 32);
	else
	if(i == 77)
		this.aSet(j * 32, k * 32, 750, j * 32);
	else
	if(i == 78)
		this.aSet(j * 32, k * 32, 751, j * 32);
	else
	if(i == 79)
		this.aSet(j * 32, k * 32, 1600, j * 32);
	else
	if(i == 80)
		this.aSet(j * 32, k * 32, 1601, j * 32);
	else
	if(i == 81)
		this.aSet(j * 32, k * 32, 1602, j * 32);
	else
	if(i == 82)
		this.aSet(j * 32, k * 32, 1603, j * 32);
	else
	if(i == 83)
		this.mSet(j * 32, k * 32, 2185);
	else
	if(i == 84)
		this.aSet(j * 32, k * 32, 1700, j * 32);
	else
	if(i == 85)
		this.aSet(j * 32, k * 32, 1701, j * 32);
	else
	if(i == 86)
		this.aSet(j * 32, k * 32, 1702, j * 32);
	else
	if(i == 87)
	{
		word0 = 40;
		this.hSet(j, k, 3300);
	} else
	if(i == 88)
	{
		word0 = 40;
		this.hSet(j, k, 3400);
	} else
	if(i == 89)
	{
		word0 = 40;
		this.hSet(j, k, 3500);
	} else
	if(i == 90)
		this.aSet(j * 32, k * 32, 89, j * 32);
	else
	if(i == 91)
	{
		word0 = 40;
		this.hSet(j, k, 3600);
	} else
	if(i == 92)
	{
		word0 = 40;
		this.hSet(j, k, 3700);
	} else
	if(i == 93)
	{
		word0 = 40;
		this.hSet(j, k, 3800);
	} else
	if(i == 94)
	{
		word0 = 40;
		this.hSet(j, k, 3900);
	} else
	if(i == 95)
	{
		word0 = 40;
		this.hSet(j, k, 4000);
	} else
	if(i == 96)
		this.aSet(j * 32, k * 32, 1800, j * 32);
	else
	if(i == 97)
		this.aSet(j * 32, k * 32, 1801, j * 32);
	else
	if(i == 98)
		this.aSet(j * 32, k * 32, 1850, j * 32);
	else
	if(i == 99)
		this.aSet(j * 32, k * 32, 1851, j * 32);
	else
	if(i == 100)
	{
		this.aSet(j * 32, k * 32, 1900, j * 32);
		var word1 = this.maps.map_bg[j - 1][k];
		if(word1 >= 20 && word1 <= 29)
			word0 = word1;
	} else
	if(i == 101)
	{
		this.aSet(j * 32, k * 32, 1901, j * 32);
		var word2 = this.maps.map_bg[j - 1][k];
		if(word2 >= 20 && word2 <= 29)
			word0 = word2;
	} else
	if(i == 102)
	{
		this.aSet(j * 32, k * 32, 1902, j * 32);
		var word3 = this.maps.map_bg[j - 1][k];
		if(word3 >= 20 && word3 <= 29)
			word0 = word3;
	} else
	if(i == 103)
	{
		this.aSet(j * 32, k * 32, 1903, j * 32);
		var word4 = this.maps.map_bg[j - 1][k];
		if(word4 >= 20 && word4 <= 29)
			word0 = word4;
	} else
	if(i == 104)
	{
		this.aSet(j * 32, k * 32, 1904, j * 32);
		var word5 = this.maps.map_bg[j - 1][k];
		if(word5 >= 20 && word5 <= 29)
			word0 = word5;
	} else
	if(i == 105)
	{
		this.aSet(j * 32, k * 32, 1905, j * 32);
		var word6 = this.maps.map_bg[j - 1][k];
		if(word6 >= 20 && word6 <= 29)
			word0 = word6;
	} else
	if(i == 106)
	{
		this.aSet(j * 32, k * 32, 1906, j * 32);
		var word7 = this.maps.map_bg[j - 1][k];
		if(word7 >= 20 && word7 <= 29)
			word0 = word7;
	} else
	if(i == 107)
	{
		this.aSet(j * 32, k * 32, 1907, j * 32);
		var word8 = this.maps.map_bg[j - 1][k];
		if(word8 >= 20 && word8 <= 29)
			word0 = word8;
	} else
	if(i == 108)
	{
		this.aSet(j * 32, k * 32, 1908, j * 32);
		var word9 = this.maps.map_bg[j - 1][k];
		if(word9 >= 20 && word9 <= 29)
			word0 = word9;
	} else
	if(i == 109)
	{
		this.aSet(j * 32, k * 32, 1909, j * 32);
		var word10 = this.maps.map_bg[j - 1][k];
		if(word10 >= 20 && word10 <= 29)
			word0 = word10;
	} else
	if(i == 110)
	{
		this.aSet(j * 32, k * 32, 1910, j * 32);
		var word11 = this.maps.map_bg[j - 1][k];
		if(word11 >= 20 && word11 <= 29)
			word0 = word11;
	} else
	if(i == 111)
	{
		this.aSet(j * 32, k * 32, 1911, j * 32);
		var word12 = this.maps.map_bg[j - 1][k];
		if(word12 >= 20 && word12 <= 29)
			word0 = word12;
	} else
	if(i == 112)
		this.aSet(j * 32, k * 32, 1912, j * 32);
	else
	if(i == 113)
		this.aSet(j * 32, k * 32, 1913, j * 32);
	else
	if(i == 114)
		this.aSet(j * 32, k * 32, 1914, j * 32);
	else
	if(i == 115)
	{
		this.aSet(j * 32, k * 32, 1915, j * 32);
		var word13 = this.maps.map_bg[j - 1][k];
		if(word13 >= 20 && word13 <= 29)
			word0 = word13;
	} else
	if(i == 116)
	{
		this.aSet(j * 32, k * 32, 1916, j * 32);
		var word14 = this.maps.map_bg[j - 1][k];
		if(word14 >= 20 && word14 <= 29)
			word0 = word14;
	} else
	if(i == 117)
	{
		this.aSet(j * 32, k * 32, 1917, j * 32);
		var word15 = this.maps.map_bg[j - 1][k];
		if(word15 >= 20 && word15 <= 29)
			word0 = word15;
	} else
	if(i == 118)
	{
		this.aSet(j * 32, k * 32, 1918, j * 32);
		var word16 = this.maps.map_bg[j - 1][k];
		if(word16 >= 20 && word16 <= 29)
			word0 = word16;
	} else
	if(i == 119)
		this.aSet(j * 32, k * 32, 2000, j * 32);
	else
	if(i == 120)
		this.aSet(j * 32, k * 32, 2001, j * 32);
	else
	if(i == 121)
		this.aSet(j * 32, k * 32, 2002, j * 32);
	else
	if(i == 122)
		this.aSet(j * 32, k * 32, 2003, j * 32);
	else
	if(i == 123)
		this.aSet(j * 32, k * 32, 2010, j * 32);
	else
	if(i == 124)
		this.aSet(j * 32, k * 32, 2011, j * 32);
	else
	if(i == 125)
		this.aSet(j * 32, k * 32, 2020, j * 32);
	else
	if(i == 126)
		this.aSet(j * 32, k * 32, 2021, j * 32);
	else
	if(i == 127)
	{
		this.aSet(j * 32, k * 32 + 8, 72, j * 32);
		this.aSet(j * 32, k * 32 + 8, 74, j * 32);
		this.aSet(j * 32, k * 32 + 8, 76, j * 32);
		this.aSet(j * 32, k * 32, 2100, j * 32);
	} else
	if(i == 128)
	{
		this.aSet(j * 32, k * 32 + 8, 73, j * 32);
		this.aSet(j * 32, k * 32 + 8, 75, j * 32);
		this.aSet(j * 32, k * 32 + 8, 77, j * 32);
		this.aSet(j * 32, k * 32, 2100, j * 32);
	} else
	if(i == 129)
	{
		this.aSet(j * 32, k * 32 + 8, 2110, j * 32);
		this.aSet(j * 32, k * 32 + 8, 2111, j * 32);
		this.aSet(j * 32, k * 32 + 8, 2112, j * 32);
		this.aSet(j * 32, k * 32 + 8, 2113, j * 32);
		this.aSet(j * 32, k * 32 + 8, 2114, j * 32);
		this.aSet(j * 32, k * 32, 2100, j * 32);
	} else
	if(i == 130)
	{
		this.aSet(j * 32, k * 32 + 8, 2120, j * 32);
		this.aSet(j * 32, k * 32 + 8, 2121, j * 32);
		this.aSet(j * 32, k * 32 + 8, 2122, j * 32);
		this.aSet(j * 32, k * 32 + 8, 2123, j * 32);
		this.aSet(j * 32, k * 32 + 8, 2124, j * 32);
		this.aSet(j * 32, k * 32, 2100, j * 32);
	} else
	if(i == 131)
	{
		this.aSet(j * 32 + 160, k * 32 + 160, 2200, j * 32);
		this.aSet(j * 32 + 160, k * 32 + 160, 2201, j * 32);
		this.aSet(j * 32 + 160, k * 32 + 160, 2202, j * 32);
	} else
	if(i == 132)
	{
		this.aSet(j * 32 + 160, k * 32 + 160, 2210, j * 32);
		this.aSet(j * 32 + 160, k * 32 + 160, 2211, j * 32);
		this.aSet(j * 32 + 160, k * 32 + 160, 2212, j * 32);
	} else
	if(i == 133)
		this.aSet(j * 32, k * 32, 2300, j * 32);
	else
	if(i == 134)
		this.aSet(j * 32, k * 32, 2301, j * 32);
	else
	if(i == 135)
		this.aSet(j * 32, k * 32, 2400, j * 32);
	else
	if(i == 136)
		this.aSet(j * 32, k * 32, 2500, j * 32);
	else
	if(i == 137)
		this.aSet(j * 32, k * 32, 2510, j * 32);
	else
	if(i == 138)
		this.aSet(j * 32, k * 32, 2600, j * 32);
	else
	if(i == 139)
		this.aSet(j * 32, k * 32, 2610, j * 32);
	else
	if(i == 140)
		this.aSet(j * 32, k * 32, 2700, j * 32);
	else
	if(i == 141)
		this.aSet(j * 32, k * 32, 2701, j * 32);
	else
	if(i == 142)
	{
		this.aSet(j * 32 + 160, k * 32 + 160, 2250, j * 32);
		this.aSet(j * 32 + 160, k * 32 + 160, 2251, j * 32);
	} else
	if(i == 143)
	{
		this.aSet(j * 32 + 160, k * 32 + 160, 2260, j * 32);
		this.aSet(j * 32 + 160, k * 32 + 160, 2261, j * 32);
	} else
	if(i == 144)
	{
		this.aSet(j * 32 + 160, k * 32 + 160, 2252, j * 32);
		this.aSet(j * 32 + 160, k * 32 + 160, 2253, j * 32);
	} else
	if(i == 145)
	{
		this.aSet(j * 32 + 160, k * 32 + 160, 2262, j * 32);
		this.aSet(j * 32 + 160, k * 32 + 160, 2263, j * 32);
	} else
	if(i == 146)
		this.aSet(j * 32 - 32, k * 32, 489, j * 32);
	else
	if(i == 147)
		this.aSet(j * 32 - 32, k * 32, 488, j * 32);
	else
	if(i == 148)
		this.aSet(j * 32 - 32, k * 32, 490, j * 32);
	else
	if(i == 149)
		this.aSet(j * 32 - 32, k * 32, 491, j * 32);
	else
	if(i == 150)
		this.aSet(j * 32 - 32, k * 32, 492, j * 32);
	else
	if(i == 151)
	{
		this.aSet(j * 32, k * 32, 2800, j * 32);
		word0 = 50;
	} else
	if(i == 152)
	{
		this.aSet(j * 32, k * 32, 2801, j * 32);
		word0 = 50;
	} else
	if(i == 153)
	{
		this.aSet(j * 32, k * 32, 2802, j * 32);
		word0 = 50;
	} else
	if(i == 154)
	{
		this.aSet(j * 32, k * 32, 2803, j * 32);
		word0 = 50;
	} else
	if(i == 155)
		this.aSet(j * 32, k * 32, 2900, j * 32);
	else
	if(i == 156)
		this.aSet(j * 32, k * 32, 2950, j * 32);
	else
	if(i == 157)
		this.aSet(j * 32 - 32, k * 32, 3000, j * 32 - 32);
	else
	if(i == 158)
		this.aSet(j * 32 - 32, k * 32, 3010, j * 32 - 32);
	else
	if(i == 159)
		this.aSet(j * 32, k * 32, 3100, j * 32);
	else
	if(i == 160)
		this.aSet(j * 32, k * 32, 3110, j * 32);
	else
	if(i == 161)
		this.aSet(j * 32, k * 32, 3120, j * 32);
	else
	if(i == 162)
		this.aSet(j * 32, k * 32, 3130, j * 32);
	else
	if(i == 163)
		this.aSet(j * 32, k * 32, 3101, j * 32);
	else
	if(i == 164)
		this.aSet(j * 32, k * 32, 3111, j * 32);
	else
	if(i == 165)
		this.aSet(j * 32, k * 32, 3121, j * 32);
	else
	if(i == 166)
		this.aSet(j * 32, k * 32, 3131, j * 32);
	else
	if(i == 167)
	{
		this.aSet(j * 32, k * 32, 3200, j * 32);
		word0 = 50;
	} else
	if(i == 168)
	{
		this.aSet(j * 32, k * 32, 3201, j * 32);
		word0 = 50;
	} else
	if(i == 169)
	{
		this.aSet(j * 32, k * 32, 3202, j * 32);
		word0 = 50;
	} else
	if(i == 170)
	{
		this.aSet(j * 32, k * 32, 3203, j * 32);
		word0 = 50;
	} else
	if(i == 171)
		this.aSet(j * 32, k * 32, 3300, j * 32);
	else
	if(i == 172)
		this.aSet(j * 32, k * 32, 3301, j * 32);
	else
	if(i == 173)
		this.aSet(j * 32, k * 32, 350, j * 32);
	else
	if(i == 174)
		this.aSet(j * 32, k * 32, 351, j * 32);
	else
	if(i == 175)
		this.aSet(j * 32, k * 32, 352, j * 32);
	else
	if(i == 176)
		this.aSet(j * 32, k * 32, 353, j * 32);
	else
	if(i == 177)
		this.aSet(j * 32, k * 32, 360, j * 32);
	else
	if(i == 178)
		this.aSet(j * 32, k * 32, 361, j * 32);
	else
	if(i == 179)
		this.aSet(j * 32, k * 32, 362, j * 32);
	else
	if(i == 180)
		this.aSet(j * 32, k * 32, 363, j * 32);
	else
	if(i == 181)
		this.aSet(j * 32, k * 32, 3400, j * 32);
	else
	if(i == 182)
	{
		word0 = 40;
		this.hSet(j, k, 4100);
	} else
	if(i == 183)
		this.aSet(j * 32, k * 32, 370, j * 32);
	else
	if(i == 184)
		this.aSet(j * 32, k * 32, 371, j * 32);
	else
	if(i == 185)
		this.aSet(j * 32, k * 32, 372, j * 32);
	else
	if(i == 186)
		this.aSet(j * 32, k * 32, 373, j * 32);
	else
	if(i == 187)
		this.aSet(j * 32, k * 32, 380, j * 32);
	else
	if(i == 188)
		this.aSet(j * 32, k * 32, 381, j * 32);
	else
	if(i == 189)
		this.aSet(j * 32, k * 32, 382, j * 32);
	else
	if(i == 190)
		this.aSet(j * 32, k * 32, 383, j * 32);
	else
	if(i == 191)
		this.aSet(j * 32, k * 32, 3500, j * 32);
	else
	if(i == 192)
		this.aSet(j * 32, k * 32, 3600, j * 32);
	else
	if(i == 193)
		this.aSet(j * 32, k * 32, 3700, j * 32);
	else
	if(i == 194)
		this.aSet(j * 32, k * 32, 3710, j * 32);
	else
	if(i == 195)
		this.aSet(j * 32, k * 32, 3800, j * 32);
	else
	if(i == 196)
		this.aSet(j * 32, k * 32, 3810, j * 32);
	else
	if(i == 197)
		this.aSet(j * 32, k * 32, 3900, j * 32);
	else
	if(i == 198)
		this.aSet(j * 32, k * 32, 3910, j * 32);
	else
	if(i == 199)
		this.aSet(j * 32, k * 32, 4000, j * 32);
	else
	if(i == 200)
		this.aSet(j * 32, k * 32, 4010, j * 32);
	else
	if(i == 201)
		this.aSet(j * 32, k * 32, 4100, j * 32);
	else
	if(i == 202)
		this.aSet(j * 32, k * 32, 4110, j * 32);
	else
	if(i == 203)
		this.aSet(j * 32, k * 32, 4200, j * 32);
	else
	if(i == 204)
		this.aSet(j * 32, k * 32, 4210, j * 32);
	else
	if(i == 205)
		this.aSet(j * 32, k * 32, 150, j * 32);
	else
	if(i == 206)
		this.aSet(j * 32, k * 32, 151, j * 32);
	else
	if(i == 207)
		this.aSet(j * 32, k * 32, 160, j * 32);
	else
	if(i == 208)
		this.aSet(j * 32, k * 32, 161, j * 32);
	else
	if(i == 209)
		this.aSet(j * 32, k * 32, 152, j * 32);
	else
	if(i == 210)
		this.aSet(j * 32, k * 32, 162, j * 32);
	else
	if(i == 211)
		this.aSet(j * 32, k * 32, 3501, j * 32);
	else
	if(i == 212)
		this.aSet(j * 32, k * 32, 3601, j * 32);
	else
	if(i == 213)
	{
		word0 = 40;
		this.hSet(j, k, 4200);
	} else
	if(i == 214)
	{
		word0 = 40;
		this.hSet(j, k, 4300);
	} else
	if(i == 215)
	{
		word0 = 40;
		this.hSet(j, k, 4400);
	} else
	if(i == 216)
	{
		word0 = 40;
		this.hSet(j, k, 4500);
	} else
	if(i == 217)
		this.aSet(j * 32, k * 32, 3502, j * 32);
	else
	if(i == 218)
		this.aSet(j * 32, k * 32, 3602, j * 32);
	else
	if(i == 219)
	{
		this.aSet(j * 32 + 16, k * 32 + 16, 4300, j * 32);
		word0 = 50;
	} else
	if(i == 220)
	{
		this.aSet(j * 32 + 16, k * 32 + 16, 4301, j * 32);
		word0 = 50;
	} else
	if(i == 221)
	{
		this.aSet(j * 32 + 16, k * 32 + 16, 4302, j * 32);
		word0 = 50;
	} else
	if(i == 222)
	{
		this.aSet(j * 32 + 16, k * 32 + 16, 4303, j * 32);
		word0 = 50;
	} else
	if(i == 223)
	{
		this.aSet(j * 32 + 16, k * 32 + 16, 4304, j * 32);
		word0 = 50;
	} else
	if(i == 224)
	{
		this.aSet(j * 32 + 16, k * 32 + 16, 4305, j * 32);
		word0 = 50;
	} else
	if(i == 225)
	{
		this.aSet(j * 32 + 16, k * 32 + 16, 4306, j * 32);
		word0 = 50;
	} else
	if(i == 226)
	{
		this.aSet(j * 32 + 16, k * 32 + 16, 4307, j * 32);
		word0 = 50;
	} else
	if(i == 227)
	{
		this.aSet(j * 32 + 16, k * 32 + 16, 4310, j * 32);
		word0 = 50;
	} else
	if(i == 228)
	{
		this.aSet(j * 32 + 16, k * 32 + 16, 4311, j * 32);
		word0 = 50;
	} else
	if(i == 229)
	{
		this.aSet(j * 32 + 16, k * 32 + 16, 4312, j * 32);
		word0 = 50;
	} else
	if(i == 230)
	{
		this.aSet(j * 32 + 16, k * 32 + 16, 4313, j * 32);
		word0 = 50;
	} else
	if(i == 231)
	{
		this.aSet(j * 32 + 16, k * 32 + 16, 4314, j * 32);
		word0 = 50;
	} else
	if(i == 232)
	{
		this.aSet(j * 32 + 16, k * 32 + 16, 4315, j * 32);
		word0 = 50;
	} else
	if(i == 233)
	{
		this.aSet(j * 32 + 16, k * 32 + 16, 4316, j * 32);
		word0 = 50;
	} else
	if(i == 234)
	{
		this.aSet(j * 32 + 16, k * 32 + 16, 4317, j * 32);
		word0 = 50;
	} else
	if(i == 235)
		this.aSet(j * 32, k * 32, 4400, j * 32);
	else
	if(i == 236)
		this.aSet(j * 32, k * 32, 4410, j * 32);
	else
	if(i == 237)
		this.aSet(j * 32, k * 32 + 32, 4500, j * 32);
	else
	if(i == 238)
		this.aSet(j * 32, k * 32 + 32, 4501, j * 32);
	else
	if(i == 239)
		this.aSet(j * 32, k * 32 + 32, 4502, j * 32);
	else
	if(i == 240)
		this.aSet(j * 32, k * 32 + 32, 4503, j * 32);
	else
	if(i == 241)
		this.aSet(j * 32, k * 32 + 32, 4510, j * 32);
	else
	if(i == 242)
		this.aSet(j * 32, k * 32 + 32, 4511, j * 32);
	else
	if(i == 243)
		this.aSet(j * 32, k * 32 + 32, 4512, j * 32);
	else
	if(i == 244)
		this.aSet(j * 32, k * 32 + 32, 4513, j * 32);
	else
	if(i == 245)
		this.aSet(j * 32, k * 32, 4600, j * 32);
	else
	if(i == 246)
		this.aSet(j * 32, k * 32, 4610, j * 32);
	else
	if(i == 247)
	{
		this.aSet(j * 32, k * 32, 4700, j * 32);
		word0 = 213;
	} else
	if(i == 248)
	{
		this.aSet(j * 32, k * 32, 4701, j * 32);
		word0 = 214;
	} else
	if(i == 249)
		this.aSet(j * 32, k * 32, 4800, j * 32);
	else
	if(i == 250)
		this.aSet(j * 32, k * 32, 4801, j * 32);
	else
	if(i == 251)
	{
		this.aSet(j * 32, k * 32, 4702, j * 32);
		word0 = 215;
	} else
	if(i == 252)
	{
		this.aSet(j * 32, k * 32, 4703, j * 32);
		word0 = 212;
	} else
	if(i == 253)
	{
		this.aSet(j * 32, k * 32, 5000, j * 32);
		word0 = 28;
	} else
	if(i == 254)
		this.aSet(j * 32, k * 32, 4900, j * 32);
	else
	if(i == 255)
		this.aSet(j * 32, k * 32, 4910, j * 32);
	else
	if(i == 256)
		this.aSet(j * 32, k * 32, 5200, j * 32);
	else
	if(i == 257)
		this.aSet(j * 32, k * 32, 5210, j * 32);
	else
	if(i == 258)
		this.tSet(j * 32, k * 32, 1190, j * 32 - 512 - 32 - 32);
	else
	if(i == 259)
		this.tSet(j * 32, k * 32, 1191, j * 32 - 512 - 32 - 32);
	else
	if(i == 260)
	{
		this.aSet(j * 32, k * 32, 5100, j * 32);
		word0 = 31;
	} else
	if(i == 261)
	{
		this.aSet(j * 32, k * 32, 5101, j * 32);
		word0 = 31;
	} else
	if(i == 262)
		this.aSet(j * 32, k * 32, 5300, j * 32);
	else
	if(i == 263)
	{
		word0 = 18;
		this.map_data_option[j][k] = true;
	} else
	if(i == 264)
	{
		word0 = 19;
		this.map_data_option[j][k] = true;
	} else
	if(i >= 1001 && i <= 1249)
		word0 = Math.floor(i - 1000);
	else
		word0 = -99;
	return word0;
}

MainProgram.prototype.drawGamescreen = function()
{
	var ai = new Array(26);
	var ai1 = new Array(26);
	if(this.gg.layer_mode == 2 || this.mcs_haikei_visible == 1)
		this.maps.drawMapLayer(this.maps.wx, this.maps.wy, this.g_ac2, this.gazou_scroll, 1);
	else
	if(this.setmapc_f)
	{
		this.setmapc_f = false;
		this.maps.drawMap(this.maps.wx, this.maps.wy);
	} else
	{
		this.maps.drawMapScroll(this.g_ac2);
	}
	var i6 = this.maps.wx;
	var j6 = this.maps.wy;
	this.co_j.wx = this.co_j.x - this.maps.wx;
	this.co_j.wy = this.co_j.y - this.maps.wy;
	if(this.ana_kazu > 0)
	{
		for(var i = 0; i <= 11; i++)
		{
			if(this.ana_c[i] <= 0)
				continue;
			if(this.ana_c[i] <= 135 && this.ana_c[i] >= 129)
			{
				var l7 = (136 - this.ana_c[i]) * 4;
				this.gg.drawPatternCut(this.ana_x[i] * 32 - i6, this.ana_y[i] * 32 - j6, 20, 0, l7);
				continue;
			}
			if(this.ana_c[i] <= 235 && this.ana_c[i] >= 229)
			{
				var i8 = (236 - this.ana_c[i]) * 4;
				this.gg.drawPatternCut(this.ana_x[i] * 32 - i6, this.ana_y[i] * 32 - j6, 20, 0, i8 * -1);
				continue;
			}
			if(this.ana_c[i] >= 1 && this.ana_c[i] <= 15)
			{
				var j8 = this.ana_c[i] * 2;
				this.gg.drawPatternCut(this.ana_x[i] * 32 - i6, this.ana_y[i] * 32 - j6, 20, 0, j8);
			}
		}

	}
	if(this.souko_count1 >= 1)
	{
		for(var j = 0; j <= this.a_kazu; j++)
			if(this.co_a[j].pt == 3300 && this.co_a[j].gf)
			{
				var characterobject = this.co_a[j];
				var l12 = characterobject.x - i6;
				var j15 = characterobject.y - j6;
				switch(characterobject.pt)
				{
				default:
					break;

				case 3300: 
					if(this.g_c3 >= 3)
					{
						this.gg.os_g.setColor(this.gamecolor_firebar1);
						this.gg.os_g.drawRect(l12, j15, 95, 63);
						this.gg.os_g.drawLine(l12, j15, l12 + 95, j15 + 63);
						this.gg.os_g.drawLine(l12, j15 + 63, l12 + 95, j15);
					}
					break;
				}
			}

	}
	if(this.a_hf)
	{
		for(var k = 0; k <= this.a_kazu; k++)
			if(this.co_a[k].gf)
			{
				var characterobject1 = this.co_a[k];
				var i13 = characterobject1.x - i6;
				var k15 = characterobject1.y - j6;
				switch(characterobject1.pt)
				{
				case 850: 
				case 2700: 
				default:
					break;

				case 100:
					this.hg.drawImage(this.hi[190], i13, k15, this.ap);
					this.hg.drawImage(this.hi[191], i13 + 32, k15, this.ap);
					this.hg.drawImage(this.hi[192], i13 + 64, k15, this.ap);
					break;

				case 200: 
					this.hg.drawImage(this.hi[76], i13, k15, this.ap);
					this.hg.drawImage(this.hi[77], i13 + 32, k15, this.ap);
					this.hg.drawImage(this.hi[86], i13, k15 + 32, this.ap);
					this.hg.drawImage(this.hi[87], i13 + 32, k15 + 32, this.ap);
					break;

				case 210: 
					this.hg.drawImage(this.hi[78], i13, k15, this.ap);
					this.hg.drawImage(this.hi[79], i13 + 32, k15, this.ap);
					this.hg.drawImage(this.hi[88], i13, k15 + 32, this.ap);
					this.hg.drawImage(this.hi[89], i13 + 32, k15 + 32, this.ap);
					break;

				case 300: 
					if(characterobject1.c3 == 100)
					{
						var graphics2 = this.gg.os_img.getGraphics();
						var i18 = i13 + 32;
						var j24 = k15 + 16;
						graphics2.rotate(3.1415926535897931, i18, j24);
						graphics2.drawImage(this.hi[60], i13, k15, this.ap);
						graphics2.drawImage(this.hi[61], i13 + 32, k15, this.ap);
						graphics2.dispose();
						break;
					}
					if(characterobject1.c3 == 200)
					{
						var graphics21 = this.gg.os_img.getGraphics();
						var j18 = i13 + 32;
						var k24 = k15 + 32;
						graphics21.rotate(4.7123889803846898, j18, k24);
						graphics21.drawImage(this.hi[60], i13, k15, this.ap);
						graphics21.drawImage(this.hi[61], i13 + 32, k15, this.ap);
						graphics21.dispose();
						break;
					}
					if(characterobject1.c3 == 300)
					{
						var graphics22 = this.gg.os_img.getGraphics();
						var k18 = i13 + 16;
						var l24 = k15 + 16;
						graphics22.rotate(1.5707963267948966, k18, l24);
						graphics22.drawImage(this.hi[60], i13, k15, this.ap);
						graphics22.drawImage(this.hi[61], i13 + 32, k15, this.ap);
						graphics22.dispose();
					} else
					{
						this.hg.drawImage(this.hi[60], i13, k15, this.ap);
						this.hg.drawImage(this.hi[61], i13 + 32, k15, this.ap);
					}
					break;

				case 310: 
					if(characterobject1.c3 == 101)
					{
						var graphics23 = this.gg.os_img.getGraphics();
						var l18 = i13 + 32;
						var i25 = k15 + 16;
						graphics23.rotate(3.1415926535897931, l18, i25);
						graphics23.drawImage(this.hi[62], i13, k15, this.ap);
						graphics23.drawImage(this.hi[63], i13 + 32, k15, this.ap);
						graphics23.dispose();
						break;
					}
					if(characterobject1.c3 == 201)
					{
						var graphics24 = this.gg.os_img.getGraphics();
						var i19 = i13 + 32;
						var j25 = k15 + 32;
						graphics24.rotate(4.7123889803846898, i19, j25);
						graphics24.drawImage(this.hi[62], i13, k15, this.ap);
						graphics24.drawImage(this.hi[63], i13 + 32, k15, this.ap);
						graphics24.dispose();
						break;
					}
					if(characterobject1.c3 == 301)
					{
						var graphics25 = this.gg.os_img.getGraphics();
						var j19 = i13 + 16;
						var k25 = k15 + 16;
						graphics25.rotate(1.5707963267948966, j19, k25);
						graphics25.drawImage(this.hi[62], i13, k15, this.ap);
						graphics25.drawImage(this.hi[63], i13 + 32, k15, this.ap);
						graphics25.dispose();
					} else
					{
						this.hg.drawImage(this.hi[62], i13, k15, this.ap);
						this.hg.drawImage(this.hi[63], i13 + 32, k15, this.ap);
					}
					break;

				case 320: 
					if(characterobject1.c3 == 102)
					{
						var graphics26 = this.gg.os_img.getGraphics();
						var k19 = i13 + 32;
						var l25 = k15 + 16;
						graphics26.rotate(3.1415926535897931, k19, l25);
						graphics26.drawImage(this.hi[64], i13, k15, this.ap);
						graphics26.drawImage(this.hi[65], i13 + 32, k15, this.ap);
						graphics26.dispose();
						break;
					}
					if(characterobject1.c3 == 202)
					{
						var graphics27 = this.gg.os_img.getGraphics();
						var l19 = i13 + 32;
						var i26 = k15 + 32;
						graphics27.rotate(4.7123889803846898, l19, i26);
						graphics27.drawImage(this.hi[64], i13, k15, this.ap);
						graphics27.drawImage(this.hi[65], i13 + 32, k15, this.ap);
						graphics27.dispose();
						break;
					}
					if(characterobject1.c3 == 302)
					{
						var graphics28 = this.gg.os_img.getGraphics();
						var i20 = i13 + 16;
						var j26 = k15 + 16;
						graphics28.rotate(1.5707963267948966, i20, j26);
						graphics28.drawImage(this.hi[64], i13, k15, this.ap);
						graphics28.drawImage(this.hi[65], i13 + 32, k15, this.ap);
						graphics28.dispose();
					} else
					{
						this.hg.drawImage(this.hi[64], i13, k15, this.ap);
						this.hg.drawImage(this.hi[65], i13 + 32, k15, this.ap);
					}
					break;

				case 330: 
					if(characterobject1.c3 == 103)
					{
						var graphics29 = this.gg.os_img.getGraphics();
						var j20 = i13 + 32;
						var k26 = k15 + 16;
						graphics29.rotate(3.1415926535897931, j20, k26);
						graphics29.drawImage(this.hi[66], i13, k15, this.ap);
						graphics29.drawImage(this.hi[67], i13 + 32, k15, this.ap);
						graphics29.dispose();
						break;
					}
					if(characterobject1.c3 == 203)
					{
						var graphics210 = this.gg.os_img.getGraphics();
						var k20 = i13 + 32;
						var l26 = k15 + 32;
						graphics210.rotate(4.7123889803846898, k20, l26);
						graphics210.drawImage(this.hi[66], i13, k15, this.ap);
						graphics210.drawImage(this.hi[67], i13 + 32, k15, this.ap);
						graphics210.dispose();
						break;
					}
					if(characterobject1.c3 == 303)
					{
						var graphics211 = this.gg.os_img.getGraphics();
						var l20 = i13 + 16;
						var i27 = k15 + 16;
						graphics211.rotate(1.5707963267948966, l20, i27);
						graphics211.drawImage(this.hi[66], i13, k15, this.ap);
						graphics211.drawImage(this.hi[67], i13 + 32, k15, this.ap);
						graphics211.dispose();
					} else
					{
						this.hg.drawImage(this.hi[66], i13, k15, this.ap);
						this.hg.drawImage(this.hi[67], i13 + 32, k15, this.ap);
					}
					break;

				case 400: 
					this.hg.drawImage(this.hi[183], i13, k15, this.ap);
					this.hg.drawImage(this.hi[184], i13 + 32, k15, this.ap);
					this.hg.drawImage(this.hi[185], i13 + 64, k15, this.ap);
					this.hg.drawImage(this.hi[193], i13, k15 + 32, this.ap);
					this.hg.drawImage(this.hi[194], i13 + 32, k15 + 32, this.ap);
					this.hg.drawImage(this.hi[195], i13 + 64, k15 + 32, this.ap);
					break;

				case 500: 
					this.hg.drawImage(this.hi[180], i13, k15, this.ap);
					this.hg.drawImage(this.hi[181], i13 + 32, k15, this.ap);
					this.hg.drawImage(this.hi[182], i13 + 64, k15, this.ap);
					break;

				case 600: 
					this.hg.drawImage(this.hi[188], i13, k15, this.ap);
					this.hg.drawImage(this.hi[189], i13 + 32, k15, this.ap);
					this.hg.drawImage(this.hi[198], i13, k15 + 32, this.ap);
					this.hg.drawImage(this.hi[199], i13 + 32, k15 + 32, this.ap);
					break;

				case 605: 
					this.hg.drawImage(this.hih[1][189], i13, k15, this.ap);
					this.hg.drawImage(this.hih[1][188], i13 + 32, k15, this.ap);
					this.hg.drawImage(this.hih[1][199], i13, k15 + 32, this.ap);
					this.hg.drawImage(this.hih[1][198], i13 + 32, k15 + 32, this.ap);
					break;

				case 700: 
					this.hg.drawImage(this.hi[32], i13, k15, this.ap);
					break;

				case 710: 
					this.hg.drawImage(this.hi[33], i13, k15, this.ap);
					break;

				case 720: 
					this.hg.drawImage(this.hi[34], i13, k15, this.ap);
					break;

				case 750: 
					var graphics212 = this.gg.os_img.getGraphics();
					var i21 = i13 + 16;
					var j27 = k15 + 16;
					graphics212.rotate(4.7123889803846898, i21, j27);
					if(characterobject1.c3 > 0)
						graphics212.drawImage(this.hi[32], i13, k15, this.ap);
					else
						graphics212.drawImage(this.hi[33], i13, k15, this.ap);
					graphics212.dispose();
					break;

				case 751: 
					var graphics213 = this.gg.os_img.getGraphics();
					var j21 = i13 + 16;
					var k27 = k15 + 16;
					graphics213.rotate(1.5707963267948966, j21, k27);
					if(characterobject1.c3 > 0)
						graphics213.drawImage(this.hi[32], i13, k15, this.ap);
					else
						graphics213.drawImage(this.hi[33], i13, k15, this.ap);
					graphics213.dispose();
					break;

				case 800: 
					if(characterobject1.x >= this.co_j.x)
						this.hg.drawImage(this.hi[35 + characterobject1.c3], i13, k15, this.ap);
					else
						this.hg.drawImage(this.hih[1][35 + characterobject1.c3], i13, k15, this.ap);
					break;

				case 860: 
					var byte0 = 39;
					if(characterobject1.c == 87)
						byte0 = 37;
					else
					if(characterobject1.c == 88)
						byte0 = 38;
					if(characterobject1.x >= this.co_j.x)
						this.hg.drawImage(this.hi[byte0], i13, k15, this.ap);
					else
						this.hg.drawImage(this.hih[1][byte0], i13, k15, this.ap);
					break;

				case 1100: 
					i13 = (Math.cos(((characterobject1.c3 + 90) * 6.2831853071795862) / 360) * 16);
					k15 = (Math.sin(((characterobject1.c3 + 90) * 6.2831853071795862) / 360) * 16);
					this.vo_pa_x[0] = (this.vo_x[k][0] - i6) + i13;
					this.vo_pa_y[0] = (this.vo_y[k][0] - j6) + k15;
					this.vo_pa_x[1] = this.vo_x[k][0] - i6 - i13;
					this.vo_pa_y[1] = this.vo_y[k][0] - j6 - k15;
					this.vo_pa_x[2] = this.vo_x[k][1] - i6 - i13;
					this.vo_pa_y[2] = this.vo_y[k][1] - j6 - k15;
					this.vo_pa_x[3] = (this.vo_x[k][1] - i6) + i13;
					this.vo_pa_y[3] = (this.vo_y[k][1] - j6) + k15;
					this.gg.os_g.setColor(this.gamecolor_firebar1);
					this.gg.os_g.fillPolygon(this.vo_pa_x, this.vo_pa_y, 4);
					if(this.g_c2 >= 2)
					{
						this.gg.os_g.setColor(this.gamecolor_firebar2);
						i13 = (Math.cos(((characterobject1.c3 + 90) * 6.2831853071795862) / 360) * 10);
						k15 = (Math.sin(((characterobject1.c3 + 90) * 6.2831853071795862) / 360) * 10);
						this.vo_pa_x[0] = (this.vo_x[k][2] - i6) + i13;
						this.vo_pa_y[0] = (this.vo_y[k][2] - j6) + k15;
						this.vo_pa_x[1] = this.vo_x[k][2] - i6 - i13;
						this.vo_pa_y[1] = this.vo_y[k][2] - j6 - k15;
						this.vo_pa_x[2] = this.vo_x[k][3] - i6 - i13;
						this.vo_pa_y[2] = this.vo_y[k][3] - j6 - k15;
						this.vo_pa_x[3] = (this.vo_x[k][3] - i6) + i13;
						this.vo_pa_y[3] = (this.vo_y[k][3] - j6) + k15;
						this.gg.os_g.fillPolygon(this.vo_pa_x, this.vo_pa_y, 4);
					}
					break;

				case 1200: 
					this.vo_pa_x[0] = i13 + (Math.cos(((characterobject1.vy + 180) * 3.1415926535897931) / 180) * 160);
					this.vo_pa_y[0] = k15 + (Math.sin(((characterobject1.vy + 180) * 3.1415926535897931) / 180) * 160);
					this.vo_pa_x[1] = i13 + (Math.cos((characterobject1.vy * 3.1415926535897931) / 180) * 160);
					this.vo_pa_y[1] = k15 + (Math.sin((characterobject1.vy * 3.1415926535897931) / 180) * 160);
					this.vo_pa_x[2] = this.vo_pa_x[1] + (Math.cos(((characterobject1.vy - 90) * 3.1415926535897931) / 180) * 12);
					this.vo_pa_y[2] = this.vo_pa_y[1] + (Math.sin(((characterobject1.vy - 90) * 3.1415926535897931) / 180) * 12);
					this.vo_pa_x[3] = this.vo_pa_x[0] + (Math.cos(((characterobject1.vy + 270) * 3.1415926535897931) / 180) * 12);
					this.vo_pa_y[3] = this.vo_pa_y[0] + (Math.sin(((characterobject1.vy + 270) * 3.1415926535897931) / 180) * 12);
					this.gg.os_g.setColor(this.gamecolor_firebar2);
					this.gg.os_g.fillPolygon(this.vo_pa_x, this.vo_pa_y, 4);
					this.vo_pa_x[0] = i13;
					this.vo_pa_y[0] = k15;
					this.vo_pa_x[1] = i13 - 16;
					this.vo_pa_y[1] = k15 + 128;
					this.vo_pa_x[2] = i13 + 16;
					this.vo_pa_y[2] = k15 + 128;
					this.gg.os_g.setColor(this.gamecolor_firebar1);
					this.gg.os_g.fillPolygon(this.vo_pa_x, this.vo_pa_y, 3);
					break;

				case 1300: 
					this.vo_pa_x[0] = i13 + (Math.cos(((characterobject1.vy + 20) * 3.1415926535897931) / 180) * 192);
					this.vo_pa_y[0] = k15 + (Math.sin(((characterobject1.vy + 20) * 3.1415926535897931) / 180) * 192);
					this.vo_pa_x[1] = i13 + (Math.cos(((characterobject1.vy - 20) * 3.1415926535897931) / 180) * 192);
					this.vo_pa_y[1] = k15 + (Math.sin(((characterobject1.vy - 20) * 3.1415926535897931) / 180) * 192);
					this.vo_pa_x[2] = this.vo_pa_x[1] + (Math.cos((characterobject1.vy * 3.1415926535897931) / 180) * 12);
					this.vo_pa_y[2] = this.vo_pa_y[1] + (Math.sin((characterobject1.vy * 3.1415926535897931) / 180) * 12);
					this.vo_pa_x[3] = this.vo_pa_x[0] + (Math.cos((characterobject1.vy * 3.1415926535897931) / 180) * 12);
					this.vo_pa_y[3] = this.vo_pa_y[0] + (Math.sin((characterobject1.vy * 3.1415926535897931) / 180) * 12);
					this.vo_pa_x[4] = i13 + (Math.cos((characterobject1.vy * 3.1415926535897931) / 180) * 12);
					this.vo_pa_y[4] = k15 + (Math.sin((characterobject1.vy * 3.1415926535897931) / 180) * 12);
					var k21 = i13 + (Math.cos((characterobject1.vy * 3.1415926535897931) / 180) * 80);
					var l27 = k15 + (Math.sin((characterobject1.vy * 3.1415926535897931) / 180) * 80);
					this.gg.os_g.setColor(this.gamecolor_firebar1);
					this.gg.os_g.drawLine(this.vo_pa_x[4], this.vo_pa_y[4], k21, l27);
					this.gg.os_g.drawLine(this.vo_pa_x[0], this.vo_pa_y[0], k21, l27);
					this.gg.os_g.drawLine(this.vo_pa_x[1], this.vo_pa_y[1], k21, l27);
					this.gg.os_g.setColor(this.gamecolor_firebar2);
					this.gg.os_g.fillPolygon(this.vo_pa_x, this.vo_pa_y, 4);
					break;

				case 1400: 
					this.vo_pa_x[0] = i13 + (Math.cos((characterobject1.vy * 3.1415926535897931) / 180) * 192) + (Math.cos(((characterobject1.vy + 90) * 3.1415926535897931) / 180) * 12);
					this.vo_pa_y[0] = k15 + (Math.sin((characterobject1.vy * 3.1415926535897931) / 180) * 192) + (Math.sin(((characterobject1.vy + 90) * 3.1415926535897931) / 180) * 12);
					this.vo_pa_x[1] = i13 + (Math.cos((characterobject1.vy * 3.1415926535897931) / 180) * 60) + (Math.cos(((characterobject1.vy + 90) * 3.1415926535897931) / 180) * 12);
					this.vo_pa_y[1] = k15 + (Math.sin((characterobject1.vy * 3.1415926535897931) / 180) * 60) + (Math.sin(((characterobject1.vy + 90) * 3.1415926535897931) / 180) * 12);
					this.vo_pa_x[2] = i13 + (Math.cos((characterobject1.vy * 3.1415926535897931) / 180) * 60) + (Math.cos(((characterobject1.vy - 90) * 3.1415926535897931) / 180) * 12);
					this.vo_pa_y[2] = k15 + (Math.sin((characterobject1.vy * 3.1415926535897931) / 180) * 60) + (Math.sin(((characterobject1.vy - 90) * 3.1415926535897931) / 180) * 12);
					this.vo_pa_x[3] = i13 + (Math.cos((characterobject1.vy * 3.1415926535897931) / 180) * 192) + (Math.cos(((characterobject1.vy - 90) * 3.1415926535897931) / 180) * 12);
					this.vo_pa_y[3] = k15 + (Math.sin((characterobject1.vy * 3.1415926535897931) / 180) * 192) + (Math.sin(((characterobject1.vy - 90) * 3.1415926535897931) / 180) * 12);
					this.gg.os_g.setColor(this.gamecolor_firebar2);
					this.gg.os_g.fillPolygon(this.vo_pa_x, this.vo_pa_y, 4);
					break;

				case 1500: 
					if(characterobject1.c4 <= 0)
						break;
					this.gg.os_g.setColor(this.gamecolor_firebar1);
					if(characterobject1.c3 == 1 || characterobject1.c3 == 11)
					{
						this.gg.os_g.fillRect(i13 + 8, k15, 48, characterobject1.c4);
						if(this.g_c2 >= 2 && characterobject1.c4 > 8)
						{
							this.gg.os_g.setColor(this.gamecolor_firebar2);
							this.gg.os_g.fillRect(i13 + 16, k15, 32, characterobject1.c4 - 8);
						}
						break;
					}
					if(characterobject1.c3 == 2 || characterobject1.c3 == 12)
					{
						this.gg.os_g.fillRect(i13 - characterobject1.c4, k15 + 8, characterobject1.c4, 48);
						if(this.g_c2 >= 2 && characterobject1.c4 > 8)
						{
							this.gg.os_g.setColor(this.gamecolor_firebar2);
							this.gg.os_g.fillRect((i13 - characterobject1.c4) + 8, k15 + 16, characterobject1.c4 - 8, 32);
						}
						break;
					}
					if(characterobject1.c3 == 3 || characterobject1.c3 == 13)
					{
						this.gg.os_g.fillRect(i13, k15 + 8, characterobject1.c4, 48);
						if(this.g_c2 >= 2 && characterobject1.c4 > 8)
						{
							this.gg.os_g.setColor(this.gamecolor_firebar2);
							this.gg.os_g.fillRect(i13, k15 + 16, characterobject1.c4 - 8, 32);
						}
						break;
					}
					this.gg.os_g.fillRect(i13 + 8, k15 - characterobject1.c4, 48, characterobject1.c4);
					if(this.g_c2 >= 2 && characterobject1.c4 > 8)
					{
						this.gg.os_g.setColor(this.gamecolor_firebar2);
						this.gg.os_g.fillRect(i13 + 16, (k15 - characterobject1.c4) + 8, 32, characterobject1.c4 - 8);
					}
					break;

				case 1600: 
					this.gg.os_g.setColor(this.gamecolor_firebar1);
					this.gg.os_g.fillRect(i13, k15, 64, 96);
					if(this.g_c2 >= 2)
					{
						this.gg.os_g.setColor(this.gamecolor_firebar2);
						this.gg.os_g.fillRect(i13 + 8, k15 + 8, 48, 80);
					}
					break;

				case 1700: 
					this.gg.os_g.setColor(this.gamecolor_firebar1);
					this.gg.os_g.fillRect(i13, k15, 96, 64);
					if(this.g_c2 >= 2)
					{
						this.gg.os_g.setColor(this.gamecolor_firebar2);
						this.gg.os_g.fillRect(i13 + 8, k15 + 8, 80, 48);
					}
					break;

				case 1800: 
					this.hg.drawImage(this.hi[26], i13, k15, this.ap);
					break;

				case 1900: 
					this.vo_pa_x[0] = i13 + (Math.cos(((characterobject1.vy + 6) * 3.1415926535897931) / 180) * 182);
					this.vo_pa_y[0] = k15 + (Math.sin(((characterobject1.vy + 6) * 3.1415926535897931) / 180) * 182);
					this.vo_pa_x[1] = i13 + (Math.cos(((characterobject1.vy - 6) * 3.1415926535897931) / 180) * 182);
					this.vo_pa_y[1] = k15 + (Math.sin(((characterobject1.vy - 6) * 3.1415926535897931) / 180) * 182);
					this.vo_pa_x[2] = i13;
					this.vo_pa_y[2] = k15;
					this.gg.os_g.setColor(this.gamecolor_firebar1);
					this.gg.os_g.fillPolygon(this.vo_pa_x, this.vo_pa_y, 3);
					this.vo_pa_x[0] = i13 + (Math.cos(((characterobject1.vy + 20) * 3.1415926535897931) / 180) * 192);
					this.vo_pa_y[0] = k15 + (Math.sin(((characterobject1.vy + 20) * 3.1415926535897931) / 180) * 192);
					this.vo_pa_x[1] = i13 + (Math.cos(((characterobject1.vy - 20) * 3.1415926535897931) / 180) * 192);
					this.vo_pa_y[1] = k15 + (Math.sin(((characterobject1.vy - 20) * 3.1415926535897931) / 180) * 192);
					this.vo_pa_x[2] = this.vo_pa_x[1] + (Math.cos((characterobject1.vy * 3.1415926535897931) / 180) * 12);
					this.vo_pa_y[2] = this.vo_pa_y[1] + (Math.sin((characterobject1.vy * 3.1415926535897931) / 180) * 12);
					this.vo_pa_x[3] = this.vo_pa_x[0] + (Math.cos((characterobject1.vy * 3.1415926535897931) / 180) * 12);
					this.vo_pa_y[3] = this.vo_pa_y[0] + (Math.sin((characterobject1.vy * 3.1415926535897931) / 180) * 12);
					this.vo_pa_x[4] = i13 + (Math.cos((characterobject1.vy * 3.1415926535897931) / 180) * 12);
					this.vo_pa_y[4] = k15 + (Math.sin((characterobject1.vy * 3.1415926535897931) / 180) * 12);
					this.gg.os_g.setColor(this.gamecolor_firebar2);
					this.gg.os_g.fillPolygon(this.vo_pa_x, this.vo_pa_y, 4);
					break;

				case 2000: 
					this.vo_pa_x[0] = i13 + (Math.cos((characterobject1.vy * 3.1415926535897931) / 180) * 12) + (Math.cos(((characterobject1.vy + 90) * 3.1415926535897931) / 180) * 5);
					this.vo_pa_y[0] = k15 + (Math.sin((characterobject1.vy * 3.1415926535897931) / 180) * 12) + (Math.sin(((characterobject1.vy + 90) * 3.1415926535897931) / 180) * 5);
					this.vo_pa_x[1] = i13 + (Math.cos((characterobject1.vy * 3.1415926535897931) / 180) * 12) + (Math.cos(((characterobject1.vy - 90) * 3.1415926535897931) / 180) * 5);
					this.vo_pa_y[1] = k15 + (Math.sin((characterobject1.vy * 3.1415926535897931) / 180) * 12) + (Math.sin(((characterobject1.vy - 90) * 3.1415926535897931) / 180) * 5);
					this.vo_pa_x[2] = i13 + (Math.cos((characterobject1.vy * 3.1415926535897931) / 180) * 182) + (Math.cos(((characterobject1.vy - 90) * 3.1415926535897931) / 180) * 5);
					this.vo_pa_y[2] = k15 + (Math.sin((characterobject1.vy * 3.1415926535897931) / 180) * 182) + (Math.sin(((characterobject1.vy - 90) * 3.1415926535897931) / 180) * 5);
					this.vo_pa_x[3] = i13 + (Math.cos((characterobject1.vy * 3.1415926535897931) / 180) * 182) + (Math.cos(((characterobject1.vy + 90) * 3.1415926535897931) / 180) * 5);
					this.vo_pa_y[3] = k15 + (Math.sin((characterobject1.vy * 3.1415926535897931) / 180) * 182) + (Math.sin(((characterobject1.vy + 90) * 3.1415926535897931) / 180) * 5);
					this.gg.os_g.setColor(this.gamecolor_firebar2);
					this.gg.os_g.fillPolygon(this.vo_pa_x, this.vo_pa_y, 4);
					break;

				case 2100: 
					this.hg.drawImage(this.hi[212], i13, k15, this.ap);
					break;

				case 2110: 
					this.hg.drawImage(this.hi[213], i13, k15, this.ap);
					break;

				case 2120: 
					this.hg.drawImage(this.hi[214], i13, k15, this.ap);
					break;

				case 2130: 
					this.hg.drawImage(this.hi[215], i13, k15, this.ap);
					break;

				case 2200: 
					this.gg.os_g.setColor(this.gamecolor_mizunohadou);
					this.gg.os_g.fillOval((i13 + 16) - 19, (k15 + 16) - 19, 38, 38);
					this.vo_pa_x[0] = i13 + 16 + (Math.cos(((characterobject1.c4 + 90) * 3.1415926535897931) / 180) * 20);
					this.vo_pa_y[0] = k15 + 16 + (Math.sin(((characterobject1.c4 + 90) * 3.1415926535897931) / 180) * 20);
					this.vo_pa_x[1] = i13 + 16 + (Math.cos(((characterobject1.c4 - 90) * 3.1415926535897931) / 180) * 20);
					this.vo_pa_y[1] = k15 + 16 + (Math.sin(((characterobject1.c4 - 90) * 3.1415926535897931) / 180) * 20);
					this.vo_pa_x[2] = i13 + 16 + (Math.cos((characterobject1.c4 * 3.1415926535897931) / 180) * 68) + (Math.cos(((characterobject1.c4 - 90) * 3.1415926535897931) / 180) * 20);
					this.vo_pa_y[2] = k15 + 16 + (Math.sin((characterobject1.c4 * 3.1415926535897931) / 180) * 68) + (Math.sin(((characterobject1.c4 - 90) * 3.1415926535897931) / 180) * 20);
					this.vo_pa_x[3] = i13 + 16 + (Math.cos((characterobject1.c4 * 3.1415926535897931) / 180) * 68) + (Math.cos(((characterobject1.c4 + 90) * 3.1415926535897931) / 180) * 20);
					this.vo_pa_y[3] = k15 + 16 + (Math.sin((characterobject1.c4 * 3.1415926535897931) / 180) * 68) + (Math.sin(((characterobject1.c4 + 90) * 3.1415926535897931) / 180) * 20);
					this.gg.os_g.fillPolygon(this.vo_pa_x, this.vo_pa_y, 4);
					this.gg.os_g.setColor(this.gamecolor_firebar2);
					if(characterobject1.c3 == 0 || characterobject1.c3 == 1)
					{
						this.vo_pa_x[0] = (i13 + 16) - 6;
						this.vo_pa_y[0] = (k15 + 16) - 4;
						this.vo_pa_x[1] = i13 + 16 + 6;
						this.vo_pa_y[1] = (k15 + 16) - 4;
						this.vo_pa_x[2] = i13 + 16 + 12;
						this.vo_pa_y[2] = k15 + 32 + 12;
						this.vo_pa_x[3] = (i13 + 16) - 12;
						this.vo_pa_y[3] = k15 + 32 + 12;
					} else
					if(characterobject1.c3 == 2)
					{
						this.vo_pa_x[0] = (i13 + 16) - 6;
						this.vo_pa_y[0] = k15 + 16 + 4;
						this.vo_pa_x[1] = i13 + 16 + 6;
						this.vo_pa_y[1] = k15 + 16 + 4;
						this.vo_pa_x[2] = i13 + 16 + 12;
						this.vo_pa_y[2] = k15 - 32;
						this.vo_pa_x[3] = (i13 + 16) - 12;
						this.vo_pa_y[3] = k15 - 32;
					} else
					if(characterobject1.c3 == 3)
					{
						this.vo_pa_x[0] = (i13 + 16) - 4;
						this.vo_pa_y[0] = (k15 + 16) - 6;
						this.vo_pa_x[1] = (i13 + 16) - 4;
						this.vo_pa_y[1] = k15 + 16 + 6;
						this.vo_pa_x[2] = i13 + 64;
						this.vo_pa_y[2] = k15 + 16 + 12;
						this.vo_pa_x[3] = i13 + 64;
						this.vo_pa_y[3] = (k15 + 16) - 12;
					} else
					{
						this.vo_pa_x[0] = i13 + 16 + 4;
						this.vo_pa_y[0] = (k15 + 16) - 6;
						this.vo_pa_x[1] = i13 + 16 + 4;
						this.vo_pa_y[1] = k15 + 16 + 6;
						this.vo_pa_x[2] = i13 - 32;
						this.vo_pa_y[2] = k15 + 16 + 12;
						this.vo_pa_x[3] = i13 - 32;
						this.vo_pa_y[3] = (k15 + 16) - 12;
					}
					this.gg.os_g.fillPolygon(this.vo_pa_x, this.vo_pa_y, 4);
					break;

				case 2300: 
					if(this.control_parts_visible == 2 && characterobject1.c == 1900)
					{
						this.gg.os_g.setColor(Color.black);
						this.gg.os_g.fillRect(i13, k15, 32, 32);
						var s = "" + "S " + String(characterobject1.c3);
						this.gg.os_g.setColor(Color.white);
						this.gg.os_g.setFont(new Font("Dialog", 1, 12));
						this.gg.os_g.drawString(s, i13 + 2, k15 + this.moji_size + 4);
					}
					break;

				case 2400: 
					if(characterobject1.c3 == 0)
					{
						var graphics214 = this.gg.os_img.getGraphics();
						graphics214.translate(i13 + 32, k15 + 64);
						graphics214.scale(characterobject1.vy / 100, characterobject1.vy / 100);
						if(this.g_c3 <= 3)
						{
							graphics214.drawImage(this.hi[76], -32, -64, this.ap);
							graphics214.drawImage(this.hi[77], 0, -64, this.ap);
							graphics214.drawImage(this.hi[86], -32, -32, this.ap);
							graphics214.drawImage(this.hi[87], 0, -32, this.ap);
						} else
						{
							graphics214.drawImage(this.hi[78], -32, -64, this.ap);
							graphics214.drawImage(this.hi[79], 0, -64, this.ap);
							graphics214.drawImage(this.hi[88], -32, -32, this.ap);
							graphics214.drawImage(this.hi[89], 0, -32, this.ap);
						}
						graphics214.dispose();
						break;
					}
					if(characterobject1.c3 == 1)
					{
						var graphics215 = this.gg.os_img.getGraphics();
						graphics215.translate(i13 + 32, k15);
						graphics215.scale(characterobject1.vy / 100, characterobject1.vy / 100);
						if(this.g_c3 <= 3)
						{
							graphics215.drawImage(this.hi[76], -32, 0, this.ap);
							graphics215.drawImage(this.hi[77], 0, 0, this.ap);
							graphics215.drawImage(this.hi[86], -32, 32, this.ap);
							graphics215.drawImage(this.hi[87], 0, 32, this.ap);
						} else
						{
							graphics215.drawImage(this.hi[78], -32, 0, this.ap);
							graphics215.drawImage(this.hi[79], 0, 0, this.ap);
							graphics215.drawImage(this.hi[88], -32, 32, this.ap);
							graphics215.drawImage(this.hi[89], 0, 32, this.ap);
						}
						graphics215.dispose();
						break;
					}
					if(characterobject1.c3 != 2)
						break;
					var graphics216 = this.gg.os_img.getGraphics();
					graphics216.translate(i13 + 32, k15 + 32);
					graphics216.scale(characterobject1.vy / 100, characterobject1.vy / 100);
					if(this.g_c3 <= 3)
					{
						graphics216.drawImage(this.hi[76], -32, -32, this.ap);
						graphics216.drawImage(this.hi[77], 0, -32, this.ap);
						graphics216.drawImage(this.hi[86], -32, 0, this.ap);
						graphics216.drawImage(this.hi[87], 0, 0, this.ap);
					} else
					{
						graphics216.drawImage(this.hi[78], -32, -32, this.ap);
						graphics216.drawImage(this.hi[79], 0, -32, this.ap);
						graphics216.drawImage(this.hi[88], -32, 0, this.ap);
						graphics216.drawImage(this.hi[89], 0, 0, this.ap);
					}
					graphics216.dispose();
					break;

				case 2500: 
					var graphics217 = this.gg.os_img.getGraphics();
					graphics217.translate(i13, k15);
					graphics217.scale(1.5, 1.5);
					graphics217.rotate((characterobject1.vy * 3.1415926535897931) / 180, 0.0, 0.0);
					graphics217.drawImage(this.hi[183], -48, -32, this.ap);
					graphics217.drawImage(this.hi[184], -16, -32, this.ap);
					graphics217.drawImage(this.hi[185], 16, -32, this.ap);
					graphics217.drawImage(this.hi[193], -48, 0, this.ap);
					graphics217.drawImage(this.hi[194], -16, 0, this.ap);
					graphics217.drawImage(this.hi[195], 16, 0, this.ap);
					graphics217.dispose();
					break;

				case 2600: 
					var graphics218 = this.gg.os_img.getGraphics();
					graphics218.translate(i13, k15);
					graphics218.scale(2.5, 2.5);
					graphics218.rotate((characterobject1.vy * 3.1415926535897931) / 180, 0.0, 0.0);
					graphics218.drawImage(this.hi[183], -48, -32, this.ap);
					graphics218.drawImage(this.hi[184], -16, -32, this.ap);
					graphics218.drawImage(this.hi[185], 16, -32, this.ap);
					graphics218.drawImage(this.hi[193], -48, 0, this.ap);
					graphics218.drawImage(this.hi[194], -16, 0, this.ap);
					graphics218.drawImage(this.hi[195], 16, 0, this.ap);
					graphics218.dispose();
					break;

				case 2800: 
					this.gg.os_g.setColor(this.gamecolor_firebar1);
					this.hg.fillOval(i13 - 64, (k15 - 64) + 8, 128, 128);
					if(this.g_c2 >= 2)
					{
						this.gg.os_g.setColor(this.gamecolor_firebar2);
						this.hg.fillOval(i13 - 20, (k15 - 20) + 8, 40, 40);
					}
					break;

				case 2900: 
					var k6 = 0;
					for(var i4 = 0; i4 >= -50; i4 -= 10)
					{
						ai[k6] = (i13 + Math.cos(((characterobject1.c3 + i4) * 3.1415926535897931) / 180) * 160);
						ai1[k6] = (k15 + Math.sin(((characterobject1.c3 + i4) * 3.1415926535897931) / 180) * 160);
						k6++;
					}

					for(var j4 = -50; j4 <= 0; j4 += 10)
					{
						ai[k6] = (i13 + Math.cos(((characterobject1.c3 + j4) * 3.1415926535897931) / 180) * 112);
						ai1[k6] = (k15 + Math.sin(((characterobject1.c3 + j4) * 3.1415926535897931) / 180) * 112);
						k6++;
					}

					this.gg.os_g.setColor(this.gamecolor_firebar1);
					this.hg.fillPolygon(ai, ai1, k6);
					if(this.g_c2 < 2)
						break;
					k6 = 0;
					for(var k4 = -5; k4 >= -45; k4 -= 8)
					{
						ai[k6] = (i13 + Math.cos(((characterobject1.c3 + k4) * 3.1415926535897931) / 180) * 148);
						ai1[k6] = (k15 + Math.sin(((characterobject1.c3 + k4) * 3.1415926535897931) / 180) * 148);
						k6++;
					}

					for(var l4 = -45; l4 <= -5; l4 += 8)
					{
						ai[k6] = (i13 + Math.cos(((characterobject1.c3 + l4) * 3.1415926535897931) / 180) * 124);
						ai1[k6] = (k15 + Math.sin(((characterobject1.c3 + l4) * 3.1415926535897931) / 180) * 124);
						k6++;
					}

					this.gg.os_g.setColor(this.gamecolor_firebar2);
					this.hg.fillPolygon(ai, ai1, k6);
					break;

				case 2950: 
					var l6 = 0;
					for(var i5 = 0; i5 >= -120; i5 -= 10)
					{
						ai[l6] = (i13 + Math.cos(((characterobject1.c3 + i5) * 3.1415926535897931) / 180) * 160);
						ai1[l6] = (k15 + Math.sin(((characterobject1.c3 + i5) * 3.1415926535897931) / 180) * 160);
						l6++;
					}

					for(var j5 = -120; j5 <= 0; j5 += 10)
					{
						ai[l6] = (i13 + Math.cos(((characterobject1.c3 + j5) * 3.1415926535897931) / 180) * 112);
						ai1[l6] = (k15 + Math.sin(((characterobject1.c3 + j5) * 3.1415926535897931) / 180) * 112);
						l6++;
					}

					this.gg.os_g.setColor(this.gamecolor_firebar1);
					this.hg.fillPolygon(ai, ai1, l6);
					if(this.g_c2 < 2)
						break;
					l6 = 0;
					for(var k5 = -5; k5 >= -115; k5 -= 10)
					{
						ai[l6] = (i13 + Math.cos(((characterobject1.c3 + k5) * 3.1415926535897931) / 180) * 148);
						ai1[l6] = (k15 + Math.sin(((characterobject1.c3 + k5) * 3.1415926535897931) / 180) * 148);
						l6++;
					}

					for(var l5 = -115; l5 <= -5; l5 += 10)
					{
						ai[l6] = (i13 + Math.cos(((characterobject1.c3 + l5) * 3.1415926535897931) / 180) * 124);
						ai1[l6] = (k15 + Math.sin(((characterobject1.c3 + l5) * 3.1415926535897931) / 180) * 124);
						l6++;
					}

					this.gg.os_g.setColor(this.gamecolor_firebar2);
					this.hg.fillPolygon(ai, ai1, l6);
					break;

				case 3000: 
					var k11 = k15 + 64;
					if(k11 < 320)
					{
						this.gg.os_g.setColor(this.gamecolor_firebar1);
						this.hg.fillRect((i13 + 120) - 20, k11, 40, 320 - k11);
					}
					break;

				case 3100: 
					this.vo_pa_x[0] = i13 + (Math.cos((characterobject1.vy * 3.1415926535897931) / 180) * 12) + (Math.cos(((characterobject1.vy + 90) * 3.1415926535897931) / 180) * 5);
					this.vo_pa_y[0] = k15 + (Math.sin((characterobject1.vy * 3.1415926535897931) / 180) * 12) + (Math.sin(((characterobject1.vy + 90) * 3.1415926535897931) / 180) * 5);
					this.vo_pa_x[1] = i13 + (Math.cos((characterobject1.vy * 3.1415926535897931) / 180) * 12) + (Math.cos(((characterobject1.vy - 90) * 3.1415926535897931) / 180) * 5);
					this.vo_pa_y[1] = k15 + (Math.sin((characterobject1.vy * 3.1415926535897931) / 180) * 12) + (Math.sin(((characterobject1.vy - 90) * 3.1415926535897931) / 180) * 5);
					this.vo_pa_x[2] = i13 + (Math.cos((characterobject1.vy * 3.1415926535897931) / 180) * 226) + (Math.cos(((characterobject1.vy - 90) * 3.1415926535897931) / 180) * 5);
					this.vo_pa_y[2] = k15 + (Math.sin((characterobject1.vy * 3.1415926535897931) / 180) * 226) + (Math.sin(((characterobject1.vy - 90) * 3.1415926535897931) / 180) * 5);
					this.vo_pa_x[3] = i13 + (Math.cos((characterobject1.vy * 3.1415926535897931) / 180) * 226) + (Math.cos(((characterobject1.vy + 90) * 3.1415926535897931) / 180) * 5);
					this.vo_pa_y[3] = k15 + (Math.sin((characterobject1.vy * 3.1415926535897931) / 180) * 226) + (Math.sin(((characterobject1.vy + 90) * 3.1415926535897931) / 180) * 5);
					this.gg.os_g.setColor(this.gamecolor_firebar2);
					this.gg.os_g.fillPolygon(this.vo_pa_x, this.vo_pa_y, 4);
					break;

				case 3200: 
					var graphics219 = this.gg.os_img.getGraphics();
					var l21 = i13 + 16;
					var i28 = k15 + 16;
					graphics219.rotate(1.5707963267948966, l21, i28);
					graphics219.drawImage(this.hi[6], i13, k15, this.ap);
					graphics219.translate(32, 0.0);
					graphics219.drawImage(this.hi[6], i13, k15, this.ap);
					graphics219.translate(32, 0.0);
					graphics219.drawImage(this.hi[6], i13, k15, this.ap);
					graphics219.translate(32, 0.0);
					graphics219.drawImage(this.hi[6], i13, k15, this.ap);
					graphics219.dispose();
					break;

				case 3250: 
					var graphics220 = this.gg.os_img.getGraphics();
					var i22 = i13 + 16;
					var j28 = k15 + 16;
					graphics220.rotate(4.7123889803846898, i22, j28);
					graphics220.drawImage(this.hi[6], i13, k15, this.ap);
					graphics220.translate(-32, 0.0);
					graphics220.drawImage(this.hi[6], i13, k15, this.ap);
					graphics220.translate(-32, 0.0);
					graphics220.drawImage(this.hi[6], i13, k15, this.ap);
					graphics220.translate(-32, 0.0);
					graphics220.drawImage(this.hi[6], i13, k15, this.ap);
					graphics220.dispose();
					break;

				case 3400: 
					if(this.g_ac == 0)
						this.gg.os_g.setColor(this.gamecolor_grenade1);
					else
						this.gg.os_g.setColor(this.gamecolor_grenade2);
					this.gg.os_g.fillRect(i13, k15, 96, 64);
					break;

				case 3500: 
					if(characterobject1.c3 != 1 && this.control_parts_visible != 2)
					{
						this.gg.os_g.setColor(this.gamecolor_firebar2);
						this.gg.os_g.fillRect(i13 + 30, k15, 2, 128);
					}
					break;

				case 3510: 
					if(characterobject1.c3 != 1 && this.control_parts_visible != 2)
					{
						this.gg.os_g.setColor(this.gamecolor_firebar2);
						this.gg.os_g.fillRect(i13, k15, 2, 128);
					}
					break;

				case 3520: 
					if(characterobject1.c3 != 1 && this.control_parts_visible != 2)
					{
						this.gg.os_g.setColor(this.gamecolor_firebar2);
						this.gg.os_g.fillRect(i13, k15, 128, 2);
					}
					break;

				case 3530: 
					if(characterobject1.c3 != 1 && this.control_parts_visible != 2)
					{
						this.gg.os_g.setColor(this.gamecolor_firebar2);
						this.gg.os_g.fillRect(i13, k15 + 30, 128, 2);
					}
					break;

				case 3600: 
					this.hg.drawImage(this.gg.spt_option_img[0], i13, k15, this.ap);
					break;

				case 3700: 
					this.hg.drawImage(this.gg.spt_option_img[1], i13, k15, this.ap);
					break;

				case 3710: 
					this.hg.drawImage(this.gg.spt_option_img[2], i13, k15, this.ap);
					break;

				case 3800: 
					if(this.g_c1 == 0)
					{
						this.hg.drawImage(this.hi[120], i13, k15, this.ap);
						this.hg.drawImage(this.hi[120], i13, k15 + 32, this.ap);
						this.hg.drawImage(this.hi[120], i13, k15 + 64, this.ap);
						this.hg.drawImage(this.hi[120], i13, k15 + 96, this.ap);
					} else
					{
						this.hg.drawImage(this.hi[121], i13, k15, this.ap);
						this.hg.drawImage(this.hi[121], i13, k15 + 32, this.ap);
						this.hg.drawImage(this.hi[121], i13, k15 + 64, this.ap);
						this.hg.drawImage(this.hi[121], i13, k15 + 96, this.ap);
					}
					break;

				case 3900: 
					if(this.g_c1 == 0)
					{
						this.hg.drawImage(this.hi[120], i13, k15, this.ap);
						this.hg.drawImage(this.hi[120], i13 + 32, k15, this.ap);
						this.hg.drawImage(this.hi[120], i13 + 64, k15, this.ap);
						this.hg.drawImage(this.hi[120], i13 + 96, k15, this.ap);
					} else
					{
						this.hg.drawImage(this.hi[121], i13, k15, this.ap);
						this.hg.drawImage(this.hi[121], i13 + 32, k15, this.ap);
						this.hg.drawImage(this.hi[121], i13 + 64, k15, this.ap);
						this.hg.drawImage(this.hi[121], i13 + 96, k15, this.ap);
					}
					break;

				case 4000: 
					this.vo_pa_x[0] = i13 + (Math.cos(((characterobject1.vy + 5) * 3.1415926535897931) / 180) * 216);
					this.vo_pa_y[0] = k15 + (Math.sin(((characterobject1.vy + 5) * 3.1415926535897931) / 180) * 216);
					this.vo_pa_x[1] = i13 + (Math.cos(((characterobject1.vy - 5) * 3.1415926535897931) / 180) * 216);
					this.vo_pa_y[1] = k15 + (Math.sin(((characterobject1.vy - 5) * 3.1415926535897931) / 180) * 216);
					this.vo_pa_x[2] = i13;
					this.vo_pa_y[2] = k15;
					this.gg.os_g.setColor(this.gamecolor_firebar1);
					this.gg.os_g.fillPolygon(this.vo_pa_x, this.vo_pa_y, 3);
					this.vo_pa_x[0] = i13 + (Math.cos(((characterobject1.vy + 17) * 3.1415926535897931) / 180) * 224);
					this.vo_pa_y[0] = k15 + (Math.sin(((characterobject1.vy + 17) * 3.1415926535897931) / 180) * 224);
					this.vo_pa_x[1] = i13 + (Math.cos(((characterobject1.vy - 17) * 3.1415926535897931) / 180) * 224);
					this.vo_pa_y[1] = k15 + (Math.sin(((characterobject1.vy - 17) * 3.1415926535897931) / 180) * 224);
					this.vo_pa_x[2] = this.vo_pa_x[1] + (Math.cos((characterobject1.vy * 3.1415926535897931) / 180) * 12);
					this.vo_pa_y[2] = this.vo_pa_y[1] + (Math.sin((characterobject1.vy * 3.1415926535897931) / 180) * 12);
					this.vo_pa_x[3] = this.vo_pa_x[0] + (Math.cos((characterobject1.vy * 3.1415926535897931) / 180) * 12);
					this.vo_pa_y[3] = this.vo_pa_y[0] + (Math.sin((characterobject1.vy * 3.1415926535897931) / 180) * 12);
					this.vo_pa_x[4] = i13 + (Math.cos((characterobject1.vy * 3.1415926535897931) / 180) * 12);
					this.vo_pa_y[4] = k15 + (Math.sin((characterobject1.vy * 3.1415926535897931) / 180) * 12);
					this.gg.os_g.setColor(this.gamecolor_firebar2);
					this.gg.os_g.fillPolygon(this.vo_pa_x, this.vo_pa_y, 4);
					break;

				case 4100: 
					this.hg.drawImage(this.gg.spt_option_img[3], i13, k15, this.ap);
					break;

				case 4110: 
					this.hg.drawImage(this.gg.spt_option_img[4], i13, k15, this.ap);
					break;

				case 4200: 
					if(characterobject1.x >= this.co_j.x)
						this.hg.drawImage(this.hi[37], i13, k15, this.ap);
					else
						this.hg.drawImage(this.hih[1][37], i13, k15, this.ap);
					break;

				case 4210: 
					if(characterobject1.x >= this.co_j.x)
						this.hg.drawImage(this.hi[38], i13, k15, this.ap);
					else
						this.hg.drawImage(this.hih[1][38], i13, k15, this.ap);
					break;

				case 4220: 
					if(characterobject1.x >= this.co_j.x)
						this.hg.drawImage(this.hi[39], i13, k15, this.ap);
					else
						this.hg.drawImage(this.hih[1][39], i13, k15, this.ap);
					break;

				case 4300: 
					if(characterobject1.x >= this.co_j.x)
						this.hg.drawImage(this.hi[167], i13, k15, this.ap);
					else
						this.hg.drawImage(this.hih[1][167], i13, k15, this.ap);
					break;
				}
			}

	}
	if(this.yuka_id_max >= 0)
		this.drawYuka();
	if(this.m_kazu > 0)
	{
		for(var l = 0; l <= 79; l++)
		{
			if(this.co_m[l].c < 50)
				continue;
			var characterobject2 = this.co_m[l];
			if(characterobject2.c == 50)
			{
				this.hg.drawImage(this.hih[characterobject2.pth][characterobject2.pt], characterobject2.x - i6, characterobject2.y - j6, this.ap);
				if(this.gg.layer_mode == 2)
				{
					var k8 = this.maps.getBGCode(characterobject2.x, characterobject2.y);
					if(k8 >= 20 && k8 != 29)
						this.gg.drawPT(rightShiftIgnoreSign(characterobject2.x, 5) * 32 - i6, rightShiftIgnoreSign(characterobject2.y, 5) * 32 - j6, k8, 0);
					k8 = this.maps.getBGCode(characterobject2.x + 31, characterobject2.y);
					if(k8 >= 20 && k8 != 29)
						this.gg.drawPT(rightShiftIgnoreSign(characterobject2.x + 31, 5) * 32 - i6, rightShiftIgnoreSign(characterobject2.y, 5) * 32 - j6, k8, 0);
					continue;
				}
				var l8 = this.maps.getBGCode(characterobject2.x, characterobject2.y);
				if(l8 >= 20)
					this.gg.drawPT(rightShiftIgnoreSign(characterobject2.x, 5) * 32 - i6, rightShiftIgnoreSign(characterobject2.y, 5) * 32 - j6, l8, 0);
				l8 = this.maps.getBGCode(characterobject2.x + 31, characterobject2.y);
				if(l8 >= 20)
					this.gg.drawPT(rightShiftIgnoreSign(characterobject2.x + 31, 5) * 32 - i6, rightShiftIgnoreSign(characterobject2.y, 5) * 32 - j6, l8, 0);
				continue;
			}
			if(characterobject2.pt == 1000)
			{
				this.gg.os_g.setColor(this.gamecolor_mizunohadou);
				this.gg.os_g.fillOval(((characterobject2.x - i6) + 16) - characterobject2.c2, ((characterobject2.y - j6) + 16) - characterobject2.c2, characterobject2.c2 * 2, characterobject2.c2 * 2);
				continue;
			}
			if(characterobject2.pt == 1010)
			{
				this.gg.os_g.setColor(new Color(this.gamecolor_mizunohadou.getRed(), this.gamecolor_mizunohadou.getGreen(), this.gamecolor_mizunohadou.getBlue(), 176));
				this.gg.os_g.fillOval(((characterobject2.x - i6) + 16) - characterobject2.c2, ((characterobject2.y - j6) + 16) - characterobject2.c2, characterobject2.c2 * 2, characterobject2.c2 * 2);
				continue;
			}
			if(characterobject2.pt == 1100)
			{
				if(this.g_ac == 0)
					this.gg.os_g.setColor(this.gamecolor_grenade1);
				else
					this.gg.os_g.setColor(this.gamecolor_grenade2);
				this.gg.os_g.fillOval(((characterobject2.x - i6) + 16) - characterobject2.c2, ((characterobject2.y - j6) + 16) - characterobject2.c2, characterobject2.c2 * 2, characterobject2.c2 * 2);
				continue;
			}
			if(characterobject2.pt == 1200)
			{
				if(this.g_ac == 0)
					this.gg.os_g.setColor(this.gamecolor_grenade1);
				else
					this.gg.os_g.setColor(this.gamecolor_grenade2);
				this.gg.os_g.drawOval(((characterobject2.x - i6) + 16) - characterobject2.vy, ((characterobject2.y - j6) + 16) - characterobject2.vy, characterobject2.vy * 2, characterobject2.vy * 2);
				continue;
			}
			if(characterobject2.pt == 1210)
			{
				if(this.g_ac == 0)
					this.gg.os_g.setColor(this.gamecolor_grenade1);
				else
					this.gg.os_g.setColor(this.gamecolor_grenade2);
				this.gg.os_g.fillRect(characterobject2.x - i6, (characterobject2.y - j6) + 11, (characterobject2.vx - characterobject2.x) + 1, 10);
				continue;
			}
			if(characterobject2.pt == 1215)
			{
				if(this.g_ac == 0)
					this.gg.os_g.setColor(this.gamecolor_grenade1);
				else
					this.gg.os_g.setColor(this.gamecolor_grenade2);
				this.gg.os_g.fillRect(characterobject2.vx - i6, (characterobject2.y - j6) + 11, (characterobject2.x - characterobject2.vx) + 1, 10);
				continue;
			}
			if(characterobject2.pt == 1220)
			{
				this.gg.os_g.setColor(this.gamecolor_grenade1);
				this.gg.os_g.drawOval(((characterobject2.x - i6) + 16) - characterobject2.vy, ((characterobject2.y - j6) + 16) - characterobject2.vy, characterobject2.vy * 2, characterobject2.vy * 2);
				continue;
			}
			if(characterobject2.pt == 1230)
			{
				this.gg.os_g.setColor(new Color(this.gamecolor_grenade1.getRed(), this.gamecolor_grenade1.getGreen(), this.gamecolor_grenade1.getBlue(), 192));
				this.gg.os_g.fillRect(characterobject2.x - i6, (characterobject2.y - j6) + 9, (characterobject2.vx - characterobject2.x) + 1, 14);
				continue;
			}
			if(characterobject2.pt == 1235)
			{
				this.gg.os_g.setColor(new Color(this.gamecolor_grenade1.getRed(), this.gamecolor_grenade1.getGreen(), this.gamecolor_grenade1.getBlue(), 192));
				this.gg.os_g.fillRect(characterobject2.vx - i6, (characterobject2.y - j6) + 9, (characterobject2.x - characterobject2.vx) + 1, 14);
				continue;
			}
			if(characterobject2.pt == 1300)
				this.hg.drawImage(this.gg.spt_option_img[0], characterobject2.x - i6, characterobject2.y - j6, this.ap);
			else
				this.hg.drawImage(this.hih[characterobject2.pth][characterobject2.pt], characterobject2.x - i6, characterobject2.y - j6, this.ap);
		}

	}
	if(this.jm_kazu > 0)
	{
		for(var i1 = 0; i1 <= 8; i1++)
		{
			if(this.co_jm[i1].c < 50)
				continue;
			var characterobject3 = this.co_jm[i1];
			if(characterobject3.pt < 1000)
			{
				this.hg.drawImage(this.hih[characterobject3.pth][characterobject3.pt], characterobject3.x - i6, characterobject3.y - j6, this.ap);
				continue;
			}
			if(characterobject3.pt == 1200)
			{
				if(this.g_ac == 0)
					this.gg.os_g.setColor(this.gamecolor_grenade1);
				else
					this.gg.os_g.setColor(this.gamecolor_grenade2);
				this.gg.os_g.fillRect(characterobject3.x - i6, (characterobject3.y - j6) + 12, (characterobject3.vx - characterobject3.x) + 1, 8);
				continue;
			}
			if(characterobject3.pt == 1205)
			{
				if(this.g_ac == 0)
					this.gg.os_g.setColor(this.gamecolor_grenade1);
				else
					this.gg.os_g.setColor(this.gamecolor_grenade2);
				this.gg.os_g.fillRect(characterobject3.vx - i6, (characterobject3.y - j6) + 12, (characterobject3.x - characterobject3.vx) + 1, 8);
				continue;
			}
			if(this.g_ac == 0)
				this.gg.os_g.setColor(this.gamecolor_grenade1);
			else
				this.gg.os_g.setColor(this.gamecolor_grenade2);
			this.gg.os_g.fillOval(((characterobject3.x - i6) + 16) - characterobject3.c2, ((characterobject3.y - j6) + 16) - characterobject3.c2, characterobject3.c2 * 2, characterobject3.c2 * 2);
		}

	}
	if(this.j_tokugi == 14)
	{
		for(var j1 = 0; j1 <= 1; j1++)
			if(this.co_mu[j1].c >= 50)
				this.hg.drawImage(this.hih[1][105 + this.g_ac], this.co_mu[j1].x - i6, this.co_mu[j1].y - j6, this.ap);

	}
	if(this.system_draw_mode < 3)
	{
		for(var k1 = 0; k1 <= this.t_kazu; k1++)
		{
			if(this.co_t[k1].c < 50)
				continue;
			var j13 = this.co_t[k1].x - i6;
			var l15 = this.co_t[k1].y - j6;
			if(j13 < -64 || l15 > 576)
				continue;
			if(this.co_t[k1].img != null)
				this.hg.drawImage(this.co_t[k1].img, j13 + this.co_t[k1].zs_x, l15 + this.co_t[k1].zs_y, this.ap);
			else
				this.hg.drawImage(this.hih[this.co_t[k1].pth][this.co_t[k1].pt], j13, l15, this.ap);
		}

	}
	if(this.co_b.c > 50)
	{
		var k13 = this.co_b.x - i6;
		var i16 = this.co_b.y - j6;
		if(k13 <= 560)
			if(this.co_b.img != null)
			{
				this.hg.drawImage(this.co_b.img, k13 + this.co_b.zs_x, i16 + this.co_b.zs_y, this.ap);
				if(this.co_b.pt == 1005 || this.co_b.pt == 1015 || this.co_b.pt == 1105 || this.co_b.pt == 1106 || this.co_b.pt == 1115 || this.co_b.pt == 1205 || this.co_b.pt == 1215 || this.co_b.pt == 1255 || this.co_b.pt == 1256)
					this.co_b.pth = 1;
				else
					this.co_b.pth = 0;
			} else
			{
				switch(this.co_b.pt)
				{
				default:
					break;

				case 1000: 
					this.hg.drawImage(this.hih[0][186], k13 - 16, i16 - 16, this.ap);
					this.hg.drawImage(this.hih[0][187], k13 + 16, i16 - 16, this.ap);
					this.hg.drawImage(this.hih[0][196], k13 - 16, i16 + 16, this.ap);
					this.hg.drawImage(this.hih[0][197], k13 + 16, i16 + 16, this.ap);
					this.co_b.pth = 0;
					break;

				case 1005: 
					this.hg.drawImage(this.hih[1][187], k13 - 16, i16 - 16, this.ap);
					this.hg.drawImage(this.hih[1][186], k13 + 16, i16 - 16, this.ap);
					this.hg.drawImage(this.hih[1][197], k13 - 16, i16 + 16, this.ap);
					this.hg.drawImage(this.hih[1][196], k13 + 16, i16 + 16, this.ap);
					this.co_b.pth = 1;
					break;

				case 1010: 
					this.hg.drawImage(this.hih[0][176], k13 - 16, i16 + 16, this.ap);
					this.hg.drawImage(this.hih[0][177], k13 + 16, i16 + 16, this.ap);
					this.co_b.pth = 0;
					break;

				case 1015: 
					this.hg.drawImage(this.hih[1][177], k13 - 16, i16 + 16, this.ap);
					this.hg.drawImage(this.hih[1][176], k13 + 16, i16 + 16, this.ap);
					this.co_b.pth = 1;
					break;

				case 1100: 
					this.hg.drawImage(this.hih[0][188], k13 - 16, i16 - 16, this.ap);
					this.hg.drawImage(this.hih[0][189], k13 + 16, i16 - 16, this.ap);
					this.hg.drawImage(this.hih[0][198], k13 - 16, i16 + 16, this.ap);
					this.hg.drawImage(this.hih[0][199], k13 + 16, i16 + 16, this.ap);
					this.co_b.pth = 0;
					break;

				case 1101: 
					var graphics221 = this.gg.os_img.getGraphics();
					var j22 = k13 + 16;
					var k28 = i16 + 16;
					graphics221.rotate((this.co_b.c2 * 3.1415926535897931) / 180, j22, k28);
					graphics221.drawImage(this.hih[0][188], k13 - 16, i16 - 16, this.ap);
					graphics221.drawImage(this.hih[0][189], k13 + 16, i16 - 16, this.ap);
					graphics221.drawImage(this.hih[0][198], k13 - 16, i16 + 16, this.ap);
					graphics221.drawImage(this.hih[0][199], k13 + 16, i16 + 16, this.ap);
					graphics221.dispose();
					this.co_b.pth = 0;
					break;

				case 1105: 
					this.hg.drawImage(this.hih[1][189], k13 - 16, i16 - 16, this.ap);
					this.hg.drawImage(this.hih[1][188], k13 + 16, i16 - 16, this.ap);
					this.hg.drawImage(this.hih[1][199], k13 - 16, i16 + 16, this.ap);
					this.hg.drawImage(this.hih[1][198], k13 + 16, i16 + 16, this.ap);
					this.co_b.pth = 1;
					break;

				case 1106: 
					var graphics222 = this.gg.os_img.getGraphics();
					var k22 = k13 + 16;
					var l28 = i16 + 16;
					graphics222.rotate((this.co_b.c2 * 3.1415926535897931) / 180, k22, l28);
					graphics222.drawImage(this.hih[1][189], k13 - 16, i16 - 16, this.ap);
					graphics222.drawImage(this.hih[1][188], k13 + 16, i16 - 16, this.ap);
					graphics222.drawImage(this.hih[1][199], k13 - 16, i16 + 16, this.ap);
					graphics222.drawImage(this.hih[1][198], k13 + 16, i16 + 16, this.ap);
					graphics222.dispose();
					this.co_b.pth = 1;
					break;

				case 1110: 
					this.hg.drawImage(this.hih[0][178], k13 - 16, i16 + 16, this.ap);
					this.hg.drawImage(this.hih[0][179], k13 + 16, i16 + 16, this.ap);
					this.co_b.pth = 0;
					break;

				case 1115: 
					this.hg.drawImage(this.hih[1][179], k13 - 16, i16 + 16, this.ap);
					this.hg.drawImage(this.hih[1][178], k13 + 16, i16 + 16, this.ap);
					this.co_b.pth = 1;
					break;

				case 1200: 
					this.hg.drawImage(this.hih[0][238], k13 - 16, i16 - 16, this.ap);
					this.hg.drawImage(this.hih[0][239], k13 + 16, i16 - 16, this.ap);
					this.hg.drawImage(this.hih[0][248], k13 - 16, i16 + 16, this.ap);
					this.hg.drawImage(this.hih[0][249], k13 + 16, i16 + 16, this.ap);
					this.co_b.pth = 0;
					break;

				case 1205: 
					this.hg.drawImage(this.hih[1][239], k13 - 16, i16 - 16, this.ap);
					this.hg.drawImage(this.hih[1][238], k13 + 16, i16 - 16, this.ap);
					this.hg.drawImage(this.hih[1][249], k13 - 16, i16 + 16, this.ap);
					this.hg.drawImage(this.hih[1][248], k13 + 16, i16 + 16, this.ap);
					this.co_b.pth = 1;
					break;

				case 1210: 
					this.hg.drawImage(this.hih[0][228], k13 - 16, i16 + 16, this.ap);
					this.hg.drawImage(this.hih[0][229], k13 + 16, i16 + 16, this.ap);
					this.co_b.pth = 0;
					break;

				case 1215: 
					this.hg.drawImage(this.hih[1][229], k13 - 16, i16 + 16, this.ap);
					this.hg.drawImage(this.hih[1][228], k13 + 16, i16 + 16, this.ap);
					this.co_b.pth = 1;
					break;

				case 1250: 
					this.hg.drawImage(this.hih[0][238], k13 - 16, i16 - 16, this.ap);
					this.hg.drawImage(this.hih[0][239], k13 + 16, i16 - 16, this.ap);
					this.hg.drawImage(this.hih[0][248], k13 - 16, i16 + 16, this.ap);
					this.hg.drawImage(this.hih[0][249], k13 + 16, i16 + 16, this.ap);
					if(this.j_v_c <= 0)
					{
						this.j_v_kakudo += 2;
						if(this.j_v_kakudo > 360)
							this.j_v_kakudo -= 360;
					}
					k13 = (this.co_b.x - i6) + 16;
					i16 = (this.co_b.y - j6) + 16;
					this.gg.os_g.setColor(Color.white);
					var d6 = 0.017453292519943295;
					for(var l1 = 0; l1 <= 5; l1++)
					{
						var d = (this.j_v_kakudo + l1 * 60) * d6;
						this.vo_pa_x[l1] = k13 + (Math.cos(d) * 50);
						this.vo_pa_y[l1] = i16 + (Math.sin(d) * 50);
					}

					this.gg.os_g.drawPolygon(this.vo_pa_x, this.vo_pa_y, 6);
					for(var i2 = 0; i2 <= 5; i2++)
					{
						var d1 = ((360 - this.j_v_kakudo) + i2 * 60) * d6;
						this.vo_pa_x[i2] = k13 + (Math.cos(d1) * 50);
						this.vo_pa_y[i2] = i16 + (Math.sin(d1) * 50);
					}

					this.gg.os_g.drawPolygon(this.vo_pa_x, this.vo_pa_y, 6);
					this.co_b.pth = 0;
					break;

				case 1251: 
					var graphics223 = this.gg.os_img.getGraphics();
					var l22 = k13 + 16;
					var i29 = i16 + 16;
					graphics223.rotate((this.co_b.c2 * 3.1415926535897931) / 180, l22, i29);
					graphics223.drawImage(this.hih[0][238], k13 - 16, i16 - 16, this.ap);
					graphics223.drawImage(this.hih[0][239], k13 + 16, i16 - 16, this.ap);
					graphics223.drawImage(this.hih[0][248], k13 - 16, i16 + 16, this.ap);
					graphics223.drawImage(this.hih[0][249], k13 + 16, i16 + 16, this.ap);
					graphics223.dispose();
					this.co_b.pth = 0;
					break;

				case 1255: 
					this.hg.drawImage(this.hih[1][239], k13 - 16, i16 - 16, this.ap);
					this.hg.drawImage(this.hih[1][238], k13 + 16, i16 - 16, this.ap);
					this.hg.drawImage(this.hih[1][249], k13 - 16, i16 + 16, this.ap);
					this.hg.drawImage(this.hih[1][248], k13 + 16, i16 + 16, this.ap);
					if(this.j_v_c <= 0)
					{
						this.j_v_kakudo += 2;
						if(this.j_v_kakudo > 360)
							this.j_v_kakudo -= 360;
					}
					k13 = (this.co_b.x - i6) + 16;
					i16 = (this.co_b.y - j6) + 16;
					this.gg.os_g.setColor(Color.white);
					var d7 = 0.017453292519943295;
					for(var j2 = 0; j2 <= 5; j2++)
					{
						var d2 = (this.j_v_kakudo + j2 * 60) * d7;
						this.vo_pa_x[j2] = k13 + (Math.cos(d2) * 50);
						this.vo_pa_y[j2] = i16 + (Math.sin(d2) * 50);
					}

					this.gg.os_g.drawPolygon(this.vo_pa_x, this.vo_pa_y, 6);
					for(var k2 = 0; k2 <= 5; k2++)
					{
						var d3 = ((360 - this.j_v_kakudo) + k2 * 60) * d7;
						this.vo_pa_x[k2] = k13 + (Math.cos(d3) * 50);
						this.vo_pa_y[k2] = i16 + (Math.sin(d3) * 50);
					}

					this.gg.os_g.drawPolygon(this.vo_pa_x, this.vo_pa_y, 6);
					this.co_b.pth = 1;
					break;

				case 1256: 
					var graphics224 = this.gg.os_img.getGraphics();
					var i23 = k13 + 16;
					var j29 = i16 + 16;
					graphics224.rotate((this.co_b.c2 * 3.1415926535897931) / 180, i23, j29);
					graphics224.drawImage(this.hih[1][239], k13 - 16, i16 - 16, this.ap);
					graphics224.drawImage(this.hih[1][238], k13 + 16, i16 - 16, this.ap);
					graphics224.drawImage(this.hih[1][249], k13 - 16, i16 + 16, this.ap);
					graphics224.drawImage(this.hih[1][248], k13 + 16, i16 + 16, this.ap);
					graphics224.dispose();
					this.co_b.pth = 1;
					break;
				}
			}
	}
	if(this.system_draw_mode < 2 && this.j_jet_c >= 96)
		if(this.g_c1 == 0)
			this.hg.drawImage(this.hi[134], this.co_j.x - i6, (this.co_j.y - j6) + 36, this.ap);
		else
			this.hg.drawImage(this.hi[135], this.co_j.x - i6, (this.co_j.y - j6) + 36, this.ap);
	if(this.system_draw_mode < 2 && this.j_v_c > 0)
	{
		this.j_v_c--;
		this.j_v_kakudo += 2;
		if(this.j_v_kakudo > 360)
			this.j_v_kakudo -= 360;
		if(this.j_v_c > 40 || this.g_ac == 1)
		{
			var l13 = (this.co_j.x - i6) + 16;
			var j16 = (this.co_j.y - j6) + 16;
			this.gg.os_g.setColor(Color.white);
			var d8 = 0.017453292519943295;
			for(var l2 = 0; l2 <= 5; l2++)
			{
				var d4 = (this.j_v_kakudo + l2 * 60) * d8;
				this.vo_pa_x[l2] = l13 + (Math.cos(d4) * 38);
				this.vo_pa_y[l2] = j16 + (Math.sin(d4) * 38);
			}

			this.gg.os_g.drawPolygon(this.vo_pa_x, this.vo_pa_y, 6);
			for(var i3 = 0; i3 <= 5; i3++)
			{
				var d5 = ((360 - this.j_v_kakudo) + i3 * 60) * d8;
				this.vo_pa_x[i3] = l13 + (Math.cos(d5) * 38);
				this.vo_pa_y[i3] = j16 + (Math.sin(d5) * 38);
			}

			this.gg.os_g.drawPolygon(this.vo_pa_x, this.vo_pa_y, 6);
		}
	}
	if(this.j_zan_cf && this.system_draw_mode != 2 && this.system_draw_mode != 3 && this.system_draw_mode != 4)
	{
		this.j_zan_cf = false;
		for(var j3 = 0; j3 <= 5; j3++)
			if(this.co_j.img != null)
			{
				this.j_zan_img[j3] = this.co_j.img;
				this.j_zan_zs_x[j3] = this.co_j.zs_x;
				this.j_zan_zs_y[j3] = this.co_j.zs_y;
			} else
			{
				this.j_zan_img[j3] = null;
				this.j_zan_pt[j3] = this.co_j.pt;
			}

	}
	if(this.system_draw_mode < 2 && this.j_zan_f)
	{
		var i7 = this.j_zan_p + (6 - this.j_zan_nagasa);
		if(i7 > 5)
			i7 -= 6;
		var j7 = this.j_zan_p + 1;
		if(j7 > 5)
			j7 -= 6;
		do
		{
			var i14 = this.j_zan_x[i7] - i6;
			var k16 = this.j_zan_y[i7] - j6;
			var k7 = this.j_zan_pth[i7];
			if(this.j_zan_img[i7] != null)
				this.hg.drawImage(this.j_zan_img[i7], i14 + this.j_zan_zs_x[i7], k16 + this.j_zan_zs_y[i7], this.ap);
			else
				this.hg.drawImage(this.hih[k7][this.j_zan_pt[i7]], i14, k16, this.ap);
			if(++i7 > 5)
				i7 = 0;
		} while(i7 != j7);
		this.j_zan_p++;
		if(this.j_zan_p > 5)
			this.j_zan_p = 0;
		this.j_zan_x[this.j_zan_p] = this.co_j.x;
		this.j_zan_y[this.j_zan_p] = this.co_j.y;
		this.j_zan_pt[this.j_zan_p] = this.co_j.pt;
		this.j_zan_pth[this.j_zan_p] = this.co_j.muki;
		if(this.j_zan_c < 9)
		{
			this.j_zan_c++;
			if(this.j_cannon_c <= 0 && this.co_j.vy >= 0)
				this.j_zan_c = 9;
		} else
		{
			this.j_zan_nagasa--;
			if(this.j_zan_nagasa < 0)
				this.j_zan_f = false;
		}
	}
	if(this.system_draw_mode < 2 && (this.j_muteki_c <= 0 || this.j_muteki_c % 2 != 1))
		if(this.co_j.img != null)
			this.hg.drawImage(this.co_j.img, this.co_j.wx + this.co_j.zs_x, this.co_j.wy + this.co_j.zs_y, this.ap);
		else
		if(this.j_cannon_c > 0 && this.co_a[this.j_rope_id].c == 1500 && this.co_j.pt < 1000)
		{
			this.gg.drawPT(this.co_j.wx, this.co_j.wy, this.co_j.pt, this.co_j.muki);
			var characterobject4 = this.co_a[this.j_rope_id];
			var j14 = characterobject4.x - i6;
			var l16 = characterobject4.y - j6;
			this.gg.os_g.setColor(this.gamecolor_mizunohadou);
			this.gg.os_g.fillOval((j14 + 16) - 19, (l16 + 16) - 19, 38, 38);
			this.vo_pa_x[0] = j14 + 16 + (Math.cos(((characterobject4.c4 + 90) * 3.1415926535897931) / 180) * 20);
			this.vo_pa_y[0] = l16 + 16 + (Math.sin(((characterobject4.c4 + 90) * 3.1415926535897931) / 180) * 20);
			this.vo_pa_x[1] = j14 + 16 + (Math.cos(((characterobject4.c4 - 90) * 3.1415926535897931) / 180) * 20);
			this.vo_pa_y[1] = l16 + 16 + (Math.sin(((characterobject4.c4 - 90) * 3.1415926535897931) / 180) * 20);
			this.vo_pa_x[2] = j14 + 16 + (Math.cos((characterobject4.c4 * 3.1415926535897931) / 180) * 68) + (Math.cos(((characterobject4.c4 - 90) * 3.1415926535897931) / 180) * 20);
			this.vo_pa_y[2] = l16 + 16 + (Math.sin((characterobject4.c4 * 3.1415926535897931) / 180) * 68) + (Math.sin(((characterobject4.c4 - 90) * 3.1415926535897931) / 180) * 20);
			this.vo_pa_x[3] = j14 + 16 + (Math.cos((characterobject4.c4 * 3.1415926535897931) / 180) * 68) + (Math.cos(((characterobject4.c4 + 90) * 3.1415926535897931) / 180) * 20);
			this.vo_pa_y[3] = l16 + 16 + (Math.sin((characterobject4.c4 * 3.1415926535897931) / 180) * 68) + (Math.sin(((characterobject4.c4 + 90) * 3.1415926535897931) / 180) * 20);
			this.gg.os_g.fillPolygon(this.vo_pa_x, this.vo_pa_y, 4);
			this.gg.os_g.setColor(this.gamecolor_firebar2);
			if(characterobject4.c3 == 0 || characterobject4.c3 == 1)
			{
				this.vo_pa_x[0] = (j14 + 16) - 6;
				this.vo_pa_y[0] = (l16 + 16) - 4;
				this.vo_pa_x[1] = j14 + 16 + 6;
				this.vo_pa_y[1] = (l16 + 16) - 4;
				this.vo_pa_x[2] = j14 + 16 + 12;
				this.vo_pa_y[2] = l16 + 32 + 12;
				this.vo_pa_x[3] = (j14 + 16) - 12;
				this.vo_pa_y[3] = l16 + 32 + 12;
			} else
			if(characterobject4.c3 == 2)
			{
				this.vo_pa_x[0] = (j14 + 16) - 6;
				this.vo_pa_y[0] = l16 + 16 + 4;
				this.vo_pa_x[1] = j14 + 16 + 6;
				this.vo_pa_y[1] = l16 + 16 + 4;
				this.vo_pa_x[2] = j14 + 16 + 12;
				this.vo_pa_y[2] = l16 - 32;
				this.vo_pa_x[3] = (j14 + 16) - 12;
				this.vo_pa_y[3] = l16 - 32;
			} else
			if(characterobject4.c3 == 3)
			{
				this.vo_pa_x[0] = (j14 + 16) - 4;
				this.vo_pa_y[0] = (l16 + 16) - 6;
				this.vo_pa_x[1] = (j14 + 16) - 4;
				this.vo_pa_y[1] = l16 + 16 + 6;
				this.vo_pa_x[2] = j14 + 64;
				this.vo_pa_y[2] = l16 + 16 + 12;
				this.vo_pa_x[3] = j14 + 64;
				this.vo_pa_y[3] = (l16 + 16) - 12;
			} else
			{
				this.vo_pa_x[0] = j14 + 16 + 4;
				this.vo_pa_y[0] = (l16 + 16) - 6;
				this.vo_pa_x[1] = j14 + 16 + 4;
				this.vo_pa_y[1] = l16 + 16 + 6;
				this.vo_pa_x[2] = j14 - 32;
				this.vo_pa_y[2] = l16 + 16 + 12;
				this.vo_pa_x[3] = j14 - 32;
				this.vo_pa_y[3] = (l16 + 16) - 12;
			}
			this.gg.os_g.fillPolygon(this.vo_pa_x, this.vo_pa_y, 4);
		} else
		if(this.co_j.pt < 1000)
			this.gg.drawPT(this.co_j.wx, this.co_j.wy, this.co_j.pt, this.co_j.muki);
		else
		if(this.co_j.pt == 1000)
		{
			if(this.j_tokugi == 15 && this.j_4_muki == 2)
			{
				this.gg.drawPT(this.co_j.wx, this.co_j.wy, 211, 0);
				this.gg.drawPT(this.co_j.wx, this.co_j.wy - 32, 210, 0);
			} else
			if(this.j_tokugi == 15 && this.j_4_muki == 3)
			{
				this.gg.drawPT(this.co_j.wx, this.co_j.wy, 105, 0);
				this.gg.drawPT(this.co_j.wx, this.co_j.wy + 32, 106, 0);
			} else
			if(this.co_j.muki == 0)
			{
				this.gg.drawPT(this.co_j.wx, this.co_j.wy, 118, this.co_j.muki);
				this.gg.drawPT(this.co_j.wx - 32, this.co_j.wy, 117, this.co_j.muki);
			} else
			{
				this.gg.drawPT(this.co_j.wx, this.co_j.wy, 118, 1);
				this.gg.drawPT(this.co_j.wx + 32, this.co_j.wy, 117, 1);
			}
		} else
		if(this.co_j.pt == 1100)
		{
			if(this.co_j.c2 >= 100 && this.co_j.c2 < 200)
			{
				if(this.co_j.c1 <= 0)
					this.gg.drawPT(this.co_j.wx, this.co_j.wy, 100, this.co_j.muki);
				else
				if(this.co_j.c1 >= 32)
					this.gg.drawPT(this.co_j.wx, this.co_j.wy - 32, 100, this.co_j.muki);
				else
					this.gg.drawPT(this.co_j.wx, this.co_j.wy - this.co_j.c1, 100, this.co_j.muki);
				var graphics225 = this.gg.os_img.getGraphics();
				var j23 = (this.co_j.wx - 16) + 32;
				var k29 = (this.co_j.wy - 32) + 16;
				graphics225.rotate(3.1415926535897931, j23, k29);
				graphics225.drawImage(this.hi[60 + (this.co_j.c2 - 100) * 2], this.co_j.wx - 16, this.co_j.wy - 32, this.ap);
				graphics225.drawImage(this.hi[61 + (this.co_j.c2 - 100) * 2], this.co_j.wx + 16, this.co_j.wy - 32, this.ap);
				graphics225.dispose();
			} else
			if(this.co_j.c2 >= 200 && this.co_j.c2 < 300)
			{
				if(this.co_j.c1 <= 0)
					this.gg.drawPT(this.co_j.wx, this.co_j.wy, 100, this.co_j.muki);
				else
				if(this.co_j.c1 >= 32)
					this.gg.drawPT(this.co_j.wx + 32, this.co_j.wy, 100, this.co_j.muki);
				else
					this.gg.drawPT(this.co_j.wx + this.co_j.c1, this.co_j.wy, 100, this.co_j.muki);
				var graphics226 = this.gg.os_img.getGraphics();
				var k23 = this.co_j.wx + 32 + 32;
				var l29 = (this.co_j.wy - 16) + 32;
				graphics226.rotate(4.7123889803846898, k23, l29);
				graphics226.drawImage(this.hi[60 + (this.co_j.c2 - 200) * 2], this.co_j.wx + 32, this.co_j.wy - 16, this.ap);
				graphics226.drawImage(this.hi[61 + (this.co_j.c2 - 200) * 2], this.co_j.wx + 32 + 32, this.co_j.wy - 16, this.ap);
				graphics226.dispose();
			} else
			if(this.co_j.c2 >= 300 && this.co_j.c2 < 400)
			{
				if(this.co_j.c1 <= 0)
					this.gg.drawPT(this.co_j.wx, this.co_j.wy, 100, this.co_j.muki);
				else
				if(this.co_j.c1 >= 32)
					this.gg.drawPT(this.co_j.wx - 32, this.co_j.wy, 100, this.co_j.muki);
				else
					this.gg.drawPT(this.co_j.wx - this.co_j.c1, this.co_j.wy, 100, this.co_j.muki);
				var graphics227 = this.gg.os_img.getGraphics();
				var l23 = (this.co_j.wx - 32) + 16;
				var i30 = (this.co_j.wy - 16) + 16;
				graphics227.rotate(1.5707963267948966, l23, i30);
				graphics227.drawImage(this.hi[60 + (this.co_j.c2 - 300) * 2], this.co_j.wx - 32, this.co_j.wy - 16, this.ap);
				graphics227.drawImage(this.hi[61 + (this.co_j.c2 - 300) * 2], (this.co_j.wx - 32) + 32, this.co_j.wy - 16, this.ap);
				graphics227.dispose();
			} else
			{
				if(this.co_j.c1 <= 0)
					this.gg.drawPT(this.co_j.wx, this.co_j.wy, 100, this.co_j.muki);
				else
				if(this.co_j.c1 >= 32)
					this.gg.drawPT(this.co_j.wx, this.co_j.wy + 32, 100, this.co_j.muki);
				else
					this.gg.drawPT(this.co_j.wx, this.co_j.wy + this.co_j.c1, 100, this.co_j.muki);
				this.gg.drawPT(this.co_j.wx - 16, this.co_j.wy + 32, 60 + this.co_j.c2 * 2, 0);
				this.gg.drawPT(this.co_j.wx + 16, this.co_j.wy + 32, 61 + this.co_j.c2 * 2, 0);
			}
		} else
		if(this.co_j.pt != 1110)
			if(this.co_j.pt == 1200)
			{
				var graphics228 = this.gg.os_img.getGraphics();
				var k14 = this.co_j.wx + 16;
				var i17 = this.co_j.wy + 16;
				if(this.co_a[this.j_rope_id].c == 3200)
					graphics228.rotate(((this.co_a[this.j_rope_id].vy + 90) * 3.1415926535897931) / 180, k14, i17);
				else
					graphics228.rotate(((this.co_a[this.j_rope_id].vy - 90) * 3.1415926535897931) / 180, k14, i17);
				graphics228.drawImage(this.hih[this.co_j.muki][210], this.co_j.wx, this.co_j.wy, this.ap);
				graphics228.dispose();
			} else
			if(this.co_j.pt == 1201)
			{
				var graphics229 = this.gg.os_img.getGraphics();
				var l14 = this.co_j.wx + 16;
				var j17 = this.co_j.wy + 16;
				if(this.co_a[this.j_rope_id].c == 3200)
					graphics229.rotate(((this.co_a[this.j_rope_id].vy + 90) * 3.1415926535897931) / 180, l14, j17);
				else
					graphics229.rotate(((this.co_a[this.j_rope_id].vy - 90) * 3.1415926535897931) / 180, l14, j17);
				graphics229.drawImage(this.hih[this.co_j.muki][211], this.co_j.wx, this.co_j.wy, this.ap);
				graphics229.dispose();
			} else
			if(this.co_j.pt == 1300)
			{
				if(this.g_ac == 0)
					this.gg.os_g.setColor(this.gamecolor_grenade1);
				else
					this.gg.os_g.setColor(this.gamecolor_grenade2);
				this.gg.os_g.fillOval(this.co_j.wx - 8, this.co_j.wy - 8, 48, 48);
				this.gg.drawPT(this.co_j.wx, this.co_j.wy, 101, this.co_j.muki);
			} else
			if(this.co_j.pt == 1400)
			{
				if(this.g_ac == 0)
					this.gg.os_g.setColor(this.gamecolor_grenade1);
				else
					this.gg.os_g.setColor(this.gamecolor_grenade2);
				this.gg.os_g.fillOval(this.co_j.wx - 8, this.co_j.wy - 8, 48, 48);
				this.gg.drawPT(this.co_j.wx, this.co_j.wy, 83, this.co_j.muki);
			} else
			if(this.co_j.pt == 1500)
			{
				if(this.g_ac == 0)
					this.gg.os_g.setColor(this.gamecolor_grenade1);
				else
					this.gg.os_g.setColor(this.gamecolor_grenade2);
				this.gg.os_g.fillOval(this.co_j.wx - 8, this.co_j.wy - 8, 48, 48);
				this.gg.drawPT(this.co_j.wx, this.co_j.wy, 202, this.co_j.muki);
			}
	if(this.j_muteki_c > 0)
		this.j_muteki_c--;
	if(this.showr_c > 0)
	{
		this.showr_c--;
		this.hg.setColor(this.js_pen_color);
		this.hg.fillRect(this.showr_x, this.showr_y, this.showr_width, this.showr_height);
	}
	if(this.showo_c > 0)
	{
		this.showo_c--;
		this.hg.setColor(this.js_pen_color);
		this.hg.fillOval(this.showo_x, this.showo_y, this.showo_width, this.showo_height);
	}
	if(this.showi_c > 0)
	{
		this.showi_c--;
		if(this.gg.ap != null)
			this.hg.drawImage(this.showi_img, this.showi_x, this.showi_y, this.gg.ap);
		else
			this.hg.drawImage(this.showi_img, this.showi_x, this.showi_y, this.gg.oya);
	}
	if(this.second_gazou_visible && this.second_gazou_priority == 2 && this.second_gazou_img != null)
		if(this.second_gazou_scroll == 2)
		{
			var i9 = -(rightShiftIgnoreSign(this.maps.wx - 32, 2) % 512);
			this.hg.drawImage(this.second_gazou_img, i9, 0, this.ap);
			this.hg.drawImage(this.second_gazou_img, i9 + 512, 0, this.ap);
		} else
		if(this.second_gazou_scroll == 3)
		{
			var j9 = -(rightShiftIgnoreSign(this.maps.wx - 32, 1) % 512);
			this.hg.drawImage(this.second_gazou_img, j9, 0, this.ap);
			this.hg.drawImage(this.second_gazou_img, j9 + 512, 0, this.ap);
		} else
		if(this.second_gazou_scroll == 4)
		{
			this.maps.second_gazou_x += this.second_gazou_scroll_speed_x;
			this.maps.second_gazou_y += this.second_gazou_scroll_speed_y;
			if(this.maps.second_gazou_x < -512)
				this.maps.second_gazou_x += 512;
			if(this.maps.second_gazou_x > 0)
				this.maps.second_gazou_x -= 512;
			if(this.maps.second_gazou_y < -320)
				this.maps.second_gazou_y += 320;
			if(this.maps.second_gazou_y > 0)
				this.maps.second_gazou_y -= 320;
			this.hg.drawImage(this.second_gazou_img, this.maps.second_gazou_x, this.maps.second_gazou_y, this.ap);
			this.hg.drawImage(this.second_gazou_img, this.maps.second_gazou_x + 512, this.maps.second_gazou_y, this.ap);
			this.hg.drawImage(this.second_gazou_img, this.maps.second_gazou_x, this.maps.second_gazou_y + 320, this.ap);
			this.hg.drawImage(this.second_gazou_img, this.maps.second_gazou_x + 512, this.maps.second_gazou_y + 320, this.ap);
		} else
		if(this.second_gazou_scroll == 5)
		{
			var k9 = -(rightShiftIgnoreSign((this.maps.wx - 32) * 3, 1) % 512);
			this.hg.drawImage(this.second_gazou_img, k9, 0, this.ap);
			this.hg.drawImage(this.second_gazou_img, k9 + 512, 0, this.ap);
		} else
		if(this.second_gazou_scroll == 6)
		{
			var l9 = -(rightShiftIgnoreSign((this.maps.wx - 32) * 3, 1) % 512);
			var l11 = -(this.maps.wy - 320);
			this.hg.drawImage(this.second_gazou_img, l9, l11, this.ap);
			this.hg.drawImage(this.second_gazou_img, l9 + 512, l11, this.ap);
		} else
		if(this.second_gazou_scroll == 7)
		{
			var i10 = -((this.maps.wx - 32) % 512);
			var i12 = -((this.maps.wy - 320) % 320);
			this.hg.drawImage(this.second_gazou_img, i10, i12, this.ap);
			this.hg.drawImage(this.second_gazou_img, i10 + 512, i12, this.ap);
			this.hg.drawImage(this.second_gazou_img, i10, i12 + 320, this.ap);
			this.hg.drawImage(this.second_gazou_img, i10 + 512, i12 + 320, this.ap);
		} else
		if(this.second_gazou_scroll == 8)
		{
			var j10 = (this.second_gazou_scroll_x + 32) - this.maps.wx;
			var j12 = (this.second_gazou_scroll_y + 320) - this.maps.wy;
			if(j10 < 512 && j12 < 320)
				this.hg.drawImage(this.second_gazou_img, j10, j12, this.ap);
		} else
		{
			this.hg.drawImage(this.second_gazou_img, 0, 0, this.ap);
		}
	if(this.gauge_v)
		if(this.j_hp_v)
		{
			var k17 = ((14 + this.moji_size) * 2 - 6) + 32;
			this.hg.setFont(new Font("Dialog", 1, 16));
			this.gg.os_g.setColor(this.gamecolor_score);
			this.hg.drawString(this.gauge_text, 40, k17 - 6);
			this.gg.os_g.setColor(Color.red);
			this.hg.fillRect(40, k17, 200, 8);
			this.gg.os_g.setColor(Color.yellow);
			this.hg.fillRect(40, k17, this.gauge_value, 8);
			this.gg.os_g.setColor(Color.white);
			this.hg.drawRect(39, k17 - 1, 201, 9);
		} else
		{
			this.hg.setFont(new Font("Dialog", 1, 16));
			this.gg.os_g.setColor(this.gamecolor_score);
			this.hg.drawString(this.gauge_text, 64, 58);
			this.gg.os_g.setColor(Color.red);
			this.hg.fillRect(64, 64, 200, 8);
			this.gg.os_g.setColor(Color.yellow);
			this.hg.fillRect(64, 64, this.gauge_value, 8);
			this.gg.os_g.setColor(Color.white);
			this.hg.drawRect(63, 63, 201, 9);
		}
	if(this.spot_c != 0)
		if(this.spot_c == 100)
		{
			this.hg.setColor(Color.black);
			var i15 = (this.co_j.x + 16) - rightShiftIgnoreSign(this.spot_r, 1) - this.maps.wx;
			if(i15 > 0)
				this.hg.fillRect(0, 0, i15, 320);
			var i24 = (this.co_j.x + 16 + rightShiftIgnoreSign(this.spot_r, 1)) - this.maps.wx;
			if(i24 < 512)
				this.hg.fillRect(i24, 0, 512 - i24, 320);
			var l17 = (this.co_j.y + 16) - rightShiftIgnoreSign(this.spot_r, 1) - this.maps.wy;
			if(l17 > 0)
				this.hg.fillRect(i15, 0, i24 - i15, l17);
			var j30 = (this.co_j.y + 16 + rightShiftIgnoreSign(this.spot_r, 1)) - this.maps.wy;
			if(j30 < 320)
				this.hg.fillRect(i15, j30, i24 - i15, 320 - j30);
			this.spot_g.drawImage(this.gg.os_img, 0, 0, this.ap);
			this.hg.setColor(Color.black);
			this.hg.fillRect(0, 0, 512, 320);
			var graphics230 = this.gg.os_img.getGraphics();
			graphics230.setClip("ellipse", (this.co_j.x + 16) - rightShiftIgnoreSign(this.spot_r, 1) - this.maps.wx, (this.co_j.y + 16) - rightShiftIgnoreSign(this.spot_r, 1) - this.maps.wy, this.spot_r, this.spot_r);
			graphics230.drawImage(this.spot_img, 0, 0, this.ap);
			this.hg.setColor(new Color(0, 0, 0, 96));
			this.hg.fillRect(0, 0, 512, 320);
			graphics230.setClip("ellipse", (this.co_j.x + 16) - rightShiftIgnoreSign(this.spot_r - 48, 1) - this.maps.wx, (this.co_j.y + 16) - rightShiftIgnoreSign(this.spot_r - 48, 1) - this.maps.wy, this.spot_r - 48, this.spot_r - 48);
			graphics230.drawImage(this.spot_img, 0, 0, this.ap);
			graphics230.dispose();
		} else
		if(this.spot_c == 200)
		{
			this.hg.setColor(Color.black);
			this.hg.fillRect(0, 0, 512, 320);
		}
	if(this.hitokoto_c == 0)
		this.hitokoto_c = -1;
	else
	if(this.hitokoto_c > 0)
	{
		this.hitokoto_c--;
		var c = 208;
		var byte1 = 56;
		var c1 = 224;
		var k12 = 0;
		for(var k3 = 0; k3 <= 2; k3++)
		{
			var s1;
			if(this.hitokoto_num == 5)
			{
				s1 = this.showm_data[k3 + 1];
			} else
			{
				var k10 = k3 + 1;
				s1 = "" + "hitokoto" + this.hitokoto_num + "-" + k10;
				s1 = this.tdb.getValue(s1);
			}
			if(s1 == null)
				s1 = "0";
			var l10;
			l10 = parseInt(s1);
			if(isNaN(l10))
				l10 = -1;
			if(l10 != 0)
				k12++;
		}

		var beforeFont = this.hg._font;
		this.km.drawWindowbox(c, byte1, c1, 30 + k12 * 14);
		this.hg.setFont(new Font(Font.SANS_SERIF, 0, 12));
		this.hg.setColor(Color.cyan);
		if(this.hitokoto_num == 5)
		{
			this.hg.drawString(this.showm_data[0], c + 6, byte1 + 6 + 12);
		} else
		{
			var s2 = "" + "hitokoto" + this.hitokoto_num + "_name";
			this.hg.drawString(this.tdb.getValue(s2), c + 6, byte1 + 6 + 12);
		}
		this.hg.setColor(Color.white);
		k12 = 0;
		for(var l3 = 0; l3 <= 2; l3++)
		{
			var s3;
			if(this.hitokoto_num == 5)
			{
				s3 = this.showm_data[l3 + 1];
			} else
			{
				var i11 = l3 + 1;
				s3 = "" + "hitokoto" + this.hitokoto_num + "-" + i11;
				s3 = this.tdb.getValue(s3);
			}
			if(s3 == null)
				s3 = "0";
			var j11;
			j11 = parseInt(s3);
			if(isNaN(j11))
				j11 = -1;
			if(j11 != 0)
			{
				this.hg.drawString(s3, c + 6, byte1 + 6 + 18 + k12 * 14 + 12);
				k12++;
			}
		}
		// 元に戻しておく
		this.hg.setFont(beforeFont);

	}
	this.km.drawMenus();
}

MainProgram.prototype.drawGamescreenMy = function()
{
	var l = this.maps.wx;
	var i1 = this.maps.wy;
	this.co_j.wx = this.co_j.x - this.maps.wx;
	this.co_j.wy = this.co_j.y - this.maps.wy;
	if(this.j_jet_c >= 96)
		if(this.g_c1 == 0)
			this.hg.drawImage(this.hi[134], this.co_j.x - l, (this.co_j.y - i1) + 36, this.ap);
		else
			this.hg.drawImage(this.hi[135], this.co_j.x - l, (this.co_j.y - i1) + 36, this.ap);
	if(this.j_v_c > 0)
	{
		this.j_v_c--;
		this.j_v_kakudo += 2;
		if(this.j_v_kakudo > 360)
			this.j_v_kakudo -= 360;
		if(this.j_v_c > 40 || this.g_ac == 1)
		{
			var i2 = (this.co_j.x - l) + 16;
			var k2 = (this.co_j.y - i1) + 16;
			this.gg.os_g.setColor(Color.white);
			var d2 = 0.017453292519943295;
			for(var i = 0; i <= 5; i++)
			{
				var d = (this.j_v_kakudo + i * 60) * d2;
				this.vo_pa_x[i] = i2 + (Math.cos(d) * 38);
				this.vo_pa_y[i] = k2 + (Math.sin(d) * 38);
			}

			this.gg.os_g.drawPolygon(this.vo_pa_x, this.vo_pa_y, 6);
			for(var j = 0; j <= 5; j++)
			{
				var d1 = ((360 - this.j_v_kakudo) + j * 60) * d2;
				this.vo_pa_x[j] = i2 + (Math.cos(d1) * 38);
				this.vo_pa_y[j] = k2 + (Math.sin(d1) * 38);
			}

			this.gg.os_g.drawPolygon(this.vo_pa_x, this.vo_pa_y, 6);
		}
	}
	if(this.j_zan_cf)
	{
		this.j_zan_cf = false;
		for(var k = 0; k <= 5; k++)
			if(this.co_j.img != null)
			{
				this.j_zan_img[k] = this.co_j.img;
				this.j_zan_zs_x[k] = this.co_j.zs_x;
				this.j_zan_zs_y[k] = this.co_j.zs_y;
			} else
			{
				this.j_zan_img[k] = null;
				this.j_zan_pt[k] = this.co_j.pt;
			}

	}
	if(this.j_zan_f)
	{
		var j1 = this.j_zan_p + (6 - this.j_zan_nagasa);
		if(j1 > 5)
			j1 -= 6;
		var k1 = this.j_zan_p + 1;
		if(k1 > 5)
			k1 -= 6;
		do
		{
			var j2 = this.j_zan_x[j1] - l;
			var l2 = this.j_zan_y[j1] - i1;
			var l1 = this.j_zan_pth[j1];
			if(this.j_zan_img[j1] != null)
				this.hg.drawImage(this.j_zan_img[j1], j2 + this.j_zan_zs_x[j1], l2 + this.j_zan_zs_y[j1], this.ap);
			else
				this.hg.drawImage(this.hih[l1][this.j_zan_pt[j1]], j2, l2, this.ap);
			if(++j1 > 5)
				j1 = 0;
		} while(j1 != k1);
		this.j_zan_p++;
		if(this.j_zan_p > 5)
			this.j_zan_p = 0;
		this.j_zan_x[this.j_zan_p] = this.co_j.x;
		this.j_zan_y[this.j_zan_p] = this.co_j.y;
		this.j_zan_pt[this.j_zan_p] = this.co_j.pt;
		this.j_zan_pth[this.j_zan_p] = this.co_j.muki;
		if(this.j_zan_c < 9)
		{
			this.j_zan_c++;
			if(this.co_j.vy >= 0)
				this.j_zan_c = 9;
		} else
		{
			this.j_zan_nagasa--;
			if(this.j_zan_nagasa < 0)
				this.j_zan_f = false;
		}
	}
	if(this.j_muteki_c <= 0 || this.j_muteki_c % 2 != 1)
		if(this.co_j.img != null)
			this.hg.drawImage(this.co_j.img, this.co_j.wx + this.co_j.zs_x, this.co_j.wy + this.co_j.zs_y, this.ap);
		else
		if(this.co_j.pt < 1000)
			this.gg.drawPT(this.co_j.wx, this.co_j.wy, this.co_j.pt, this.co_j.muki);
		else
		if(this.co_j.pt == 1000)
		{
			if(this.j_tokugi == 15 && this.j_4_muki == 2)
			{
				this.gg.drawPT(this.co_j.wx, this.co_j.wy, 211, 0);
				this.gg.drawPT(this.co_j.wx, this.co_j.wy - 32, 210, 0);
			} else
			if(this.j_tokugi == 15 && this.j_4_muki == 3)
			{
				this.gg.drawPT(this.co_j.wx, this.co_j.wy, 105, 0);
				this.gg.drawPT(this.co_j.wx, this.co_j.wy + 32, 106, 0);
			} else
			if(this.co_j.muki == 0)
			{
				this.gg.drawPT(this.co_j.wx, this.co_j.wy, 118, this.co_j.muki);
				this.gg.drawPT(this.co_j.wx - 32, this.co_j.wy, 117, this.co_j.muki);
			} else
			{
				this.gg.drawPT(this.co_j.wx, this.co_j.wy, 118, 1);
				this.gg.drawPT(this.co_j.wx + 32, this.co_j.wy, 117, 1);
			}
		} else
		if(this.co_j.pt == 1100)
		{
			if(this.co_j.c1 <= 0)
				this.gg.drawPT(this.co_j.wx, this.co_j.wy, 100, this.co_j.muki);
			else
			if(this.co_j.c1 >= 32)
				this.gg.drawPT(this.co_j.wx, this.co_j.wy + 32, 100, this.co_j.muki);
			else
				this.gg.drawPT(this.co_j.wx, this.co_j.wy + this.co_j.c1, 100, this.co_j.muki);
			this.gg.drawPT(this.co_j.wx - 16, this.co_j.wy + 32, 60 + this.co_j.c2 * 2, 0);
			this.gg.drawPT(this.co_j.wx + 16, this.co_j.wy + 32, 61 + this.co_j.c2 * 2, 0);
		} else
		if(this.co_j.pt != 1110);
}

MainProgram.prototype.drawGamescreenEnemy = function()
{
	var j = this.maps.wx;
	var k = this.maps.wy;
	for(var i = 0; i <= this.t_kazu; i++)
	{
		if(this.co_t[i].c < 50)
			continue;
		var l = this.co_t[i].x - j;
		var i1 = this.co_t[i].y - k;
		if(l < -64 || i1 > 576)
			continue;
		if(this.co_t[i].img != null)
			this.hg.drawImage(this.co_t[i].img, l + this.co_t[i].zs_x, i1 + this.co_t[i].zs_y, this.ap);
		else
			this.hg.drawImage(this.hih[this.co_t[i].pth][this.co_t[i].pt], l, i1, this.ap);
	}

}

MainProgram.prototype.drawGamescreenWindow = function()
{
	if(this.showr_c > 0)
	{
		this.hg.setColor(this.js_pen_color);
		this.hg.fillRect(this.showr_x, this.showr_y, this.showr_width, this.showr_height);
	}
	if(this.showo_c > 0)
	{
		this.hg.setColor(this.js_pen_color);
		this.hg.fillOval(this.showo_x, this.showo_y, this.showo_width, this.showo_height);
	}
	if(this.showi_c > 0)
		if(this.gg.ap != null)
			this.hg.drawImage(this.showi_img, this.showi_x, this.showi_y, this.gg.ap);
		else
			this.hg.drawImage(this.showi_img, this.showi_x, this.showi_y, this.gg.oya);
	if(this.gauge_v)
		if(this.j_hp_v)
		{
			var i = ((14 + this.moji_size) * 2 - 6) + 32;
			this.hg.setFont(new Font("Dialog", 1, 16));
			this.gg.os_g.setColor(this.gamecolor_score);
			this.hg.drawString(this.gauge_text, 40, i - 6);
			this.gg.os_g.setColor(Color.red);
			this.hg.fillRect(40, i, 200, 8);
			this.gg.os_g.setColor(Color.yellow);
			this.hg.fillRect(40, i, this.gauge_value, 8);
			this.gg.os_g.setColor(Color.white);
			this.hg.drawRect(39, i - 1, 201, 9);
		} else
		{
			this.hg.setFont(new Font("Dialog", 1, 16));
			this.gg.os_g.setColor(this.gamecolor_score);
			this.hg.drawString(this.gauge_text, 64, 58);
			this.gg.os_g.setColor(Color.red);
			this.hg.fillRect(64, 64, 200, 8);
			this.gg.os_g.setColor(Color.yellow);
			this.hg.fillRect(64, 64, this.gauge_value, 8);
			this.gg.os_g.setColor(Color.white);
			this.hg.drawRect(63, 63, 201, 9);
		}
	if(this.hitokoto_c > -1)
	{
		var c = 208;
		var byte0 = 56;
		var c1 = 224;
		var l1 = 0;
		for(var j = 0; j <= 2; j++)
		{
			var s;
			if(this.hitokoto_num == 5)
			{
				s = this.showm_data[j + 1];
			} else
			{
				var l = j + 1;
				s = "" + "hitokoto" + this.hitokoto_num + "-" + l;
				s = this.tdb.getValue(s);
			}
			if(s == null)
				s = "0";
			var i1;
			i1 = parseInt(s);
			if(isNaN(i1))
				i1 = -1;
			if(i1 != 0)
				l1++;
		}

		var beforeFont = this.hg._font;
		this.km.drawWindowbox(c, byte0, c1, 30 + l1 * 14);
		this.hg.setFont(new Font(Font.SANS_SERIF, 0, 12));
		this.hg.setColor(Color.cyan);
		if(this.hitokoto_num == 5)
		{
			this.hg.drawString(this.showm_data[0], c + 6, byte0 + 6 + 12);
		} else
		{
			var s1 = "" + "hitokoto" + this.hitokoto_num + "_name";
			this.hg.drawString(this.tdb.getValue(s1), c + 6, byte0 + 6 + 12);
		}
		this.hg.setColor(Color.white);
		l1 = 0;
		for(var k = 0; k <= 2; k++)
		{
			var s2;
			if(this.hitokoto_num == 5)
			{
				s2 = this.showm_data[k + 1];
			} else
			{
				var j1 = k + 1;
				s2 = "" + "hitokoto" + this.hitokoto_num + "-" + j1;
				s2 = this.tdb.getValue(s2);
			}
			if(s2 == null)
				s2 = "0";
			var k1;
			k1 = parseInt(s2);
			if(isNaN(k1))
				k1 = -1;
			if(k1 != 0)
			{
				this.hg.drawString(s2, c + 6, byte0 + 6 + 18 + l1 * 14 + 12);
				l1++;
			}
		}
		// 元に戻しておく
		this.hg.setFont(beforeFont);

	}
}

MainProgram.prototype.drawGamescreenUgokuyuka = function()
{
	var j2 = this.maps.wx;
	var k2 = this.maps.wy;
	if(this.ana_kazu > 0)
	{
		for(var i = 0; i <= 11; i++)
		{
			if(this.ana_c[i] <= 0)
				continue;
			if(this.ana_c[i] <= 135 && this.ana_c[i] >= 129)
			{
				var l2 = (136 - this.ana_c[i]) * 4;
				this.gg.drawPatternCut(this.ana_x[i] * 32 - j2, this.ana_y[i] * 32 - k2, 20, 0, l2);
				continue;
			}
			if(this.ana_c[i] <= 235 && this.ana_c[i] >= 229)
			{
				var i3 = (236 - this.ana_c[i]) * 4;
				this.gg.drawPatternCut(this.ana_x[i] * 32 - j2, this.ana_y[i] * 32 - k2, 20, 0, i3 * -1);
				continue;
			}
			if(this.ana_c[i] >= 1 && this.ana_c[i] <= 15)
			{
				var j3 = this.ana_c[i] * 2;
				this.gg.drawPatternCut(this.ana_x[i] * 32 - j2, this.ana_y[i] * 32 - k2, 20, 0, j3);
			}
		}

	}
	if(this.a_hf)
	{
		for(var j = 0; j <= this.a_kazu; j++)
			if(this.co_a[j].gf)
			{
				var characterobject = this.co_a[j];
				var i4 = characterobject.x - j2;
				var i5 = characterobject.y - k2;
				switch(characterobject.pt)
				{
				default:
					break;

				case 100:
					this.hg.drawImage(this.hi[190], i4, i5, this.ap);
					this.hg.drawImage(this.hi[191], i4 + 32, i5, this.ap);
					this.hg.drawImage(this.hi[192], i4 + 64, i5, this.ap);
					break;

				case 200: 
					this.hg.drawImage(this.hi[76], i4, i5, this.ap);
					this.hg.drawImage(this.hi[77], i4 + 32, i5, this.ap);
					this.hg.drawImage(this.hi[86], i4, i5 + 32, this.ap);
					this.hg.drawImage(this.hi[87], i4 + 32, i5 + 32, this.ap);
					break;

				case 210: 
					this.hg.drawImage(this.hi[78], i4, i5, this.ap);
					this.hg.drawImage(this.hi[79], i4 + 32, i5, this.ap);
					this.hg.drawImage(this.hi[88], i4, i5 + 32, this.ap);
					this.hg.drawImage(this.hi[89], i4 + 32, i5 + 32, this.ap);
					break;

				case 300: 
					this.hg.drawImage(this.hi[60], i4, i5, this.ap);
					this.hg.drawImage(this.hi[61], i4 + 32, i5, this.ap);
					break;

				case 310: 
					this.hg.drawImage(this.hi[62], i4, i5, this.ap);
					this.hg.drawImage(this.hi[63], i4 + 32, i5, this.ap);
					break;

				case 320: 
					this.hg.drawImage(this.hi[64], i4, i5, this.ap);
					this.hg.drawImage(this.hi[65], i4 + 32, i5, this.ap);
					break;

				case 330: 
					this.hg.drawImage(this.hi[66], i4, i5, this.ap);
					this.hg.drawImage(this.hi[67], i4 + 32, i5, this.ap);
					break;

				case 400: 
					this.hg.drawImage(this.hi[183], i4, i5, this.ap);
					this.hg.drawImage(this.hi[184], i4 + 32, i5, this.ap);
					this.hg.drawImage(this.hi[185], i4 + 64, i5, this.ap);
					this.hg.drawImage(this.hi[193], i4, i5 + 32, this.ap);
					this.hg.drawImage(this.hi[194], i4 + 32, i5 + 32, this.ap);
					this.hg.drawImage(this.hi[195], i4 + 64, i5 + 32, this.ap);
					break;

				case 500: 
					this.hg.drawImage(this.hi[180], i4, i5, this.ap);
					this.hg.drawImage(this.hi[181], i4 + 32, i5, this.ap);
					this.hg.drawImage(this.hi[182], i4 + 64, i5, this.ap);
					break;

				case 600: 
					this.hg.drawImage(this.hi[188], i4, i5, this.ap);
					this.hg.drawImage(this.hi[189], i4 + 32, i5, this.ap);
					this.hg.drawImage(this.hi[198], i4, i5 + 32, this.ap);
					this.hg.drawImage(this.hi[199], i4 + 32, i5 + 32, this.ap);
					break;

				case 605: 
					this.hg.drawImage(this.hih[1][189], i4, i5, this.ap);
					this.hg.drawImage(this.hih[1][188], i4 + 32, i5, this.ap);
					this.hg.drawImage(this.hih[1][199], i4, i5 + 32, this.ap);
					this.hg.drawImage(this.hih[1][198], i4 + 32, i5 + 32, this.ap);
					break;

				case 700: 
					this.hg.drawImage(this.hi[32], i4, i5, this.ap);
					break;

				case 710: 
					this.hg.drawImage(this.hi[33], i4, i5, this.ap);
					break;

				case 720: 
					this.hg.drawImage(this.hi[34], i4, i5, this.ap);
					break;

				case 800: 
					if(characterobject.x >= this.co_j.x)
						this.hg.drawImage(this.hi[35 + characterobject.c3], i4, i5, this.ap);
					else
						this.hg.drawImage(this.hih[1][35 + characterobject.c3], i4, i5, this.ap);
					break;

				case 1100: 
					var j4 = (Math.cos(((characterobject.c3 + 90) * 6.2831853071795862) / 360) * 16);
					var j5 = (Math.sin(((characterobject.c3 + 90) * 6.2831853071795862) / 360) * 16);
					this.vo_pa_x[0] = (this.vo_x[j][0] - j2) + j4;
					this.vo_pa_y[0] = (this.vo_y[j][0] - k2) + j5;
					this.vo_pa_x[1] = this.vo_x[j][0] - j2 - j4;
					this.vo_pa_y[1] = this.vo_y[j][0] - k2 - j5;
					this.vo_pa_x[2] = this.vo_x[j][1] - j2 - j4;
					this.vo_pa_y[2] = this.vo_y[j][1] - k2 - j5;
					this.vo_pa_x[3] = (this.vo_x[j][1] - j2) + j4;
					this.vo_pa_y[3] = (this.vo_y[j][1] - k2) + j5;
					this.gg.os_g.setColor(this.gamecolor_firebar1);
					this.gg.os_g.fillPolygon(this.vo_pa_x, this.vo_pa_y, 4);
					if(this.g_c2 >= 2)
					{
						this.gg.os_g.setColor(this.gamecolor_firebar2);
						var k4 = (Math.cos(((characterobject.c3 + 90) * 6.2831853071795862) / 360) * 10);
						var k5 = (Math.sin(((characterobject.c3 + 90) * 6.2831853071795862) / 360) * 10);
						this.vo_pa_x[0] = (this.vo_x[j][2] - j2) + k4;
						this.vo_pa_y[0] = (this.vo_y[j][2] - k2) + k5;
						this.vo_pa_x[1] = this.vo_x[j][2] - j2 - k4;
						this.vo_pa_y[1] = this.vo_y[j][2] - k2 - k5;
						this.vo_pa_x[2] = this.vo_x[j][3] - j2 - k4;
						this.vo_pa_y[2] = this.vo_y[j][3] - k2 - k5;
						this.vo_pa_x[3] = (this.vo_x[j][3] - j2) + k4;
						this.vo_pa_y[3] = (this.vo_y[j][3] - k2) + k5;
						this.gg.os_g.fillPolygon(this.vo_pa_x, this.vo_pa_y, 4);
					}
					break;
				}
			}

	}
	if(this.yuka_id_max >= 0)
		this.drawYuka();
	if(this.m_kazu > 0)
	{
		for(var k = 0; k <= 79; k++)
		{
			if(this.co_m[k].c < 50)
				continue;
			var characterobject1 = this.co_m[k];
			if(characterobject1.c == 50)
			{
				this.hg.drawImage(this.hih[characterobject1.pth][characterobject1.pt], characterobject1.x - j2, characterobject1.y - k2, this.ap);
				if(this.gg.layer_mode == 2)
				{
					var k3 = this.maps.getBGCode(characterobject1.x, characterobject1.y);
					if(k3 >= 20 && k3 != 29)
						this.gg.drawPT(rightShiftIgnoreSign(characterobject1.x, 5) * 32 - j2, rightShiftIgnoreSign(characterobject1.y, 5) * 32 - k2, k3, 0);
					k3 = this.maps.getBGCode(characterobject1.x + 31, characterobject1.y);
					if(k3 >= 20 && k3 != 29)
						this.gg.drawPT(rightShiftIgnoreSign(characterobject1.x + 31, 5) * 32 - j2, rightShiftIgnoreSign(characterobject1.y, 5) * 32 - k2, k3, 0);
					continue;
				}
				var l3 = this.maps.getBGCode(characterobject1.x, characterobject1.y);
				if(l3 >= 20)
					this.gg.drawPT(rightShiftIgnoreSign(characterobject1.x, 5) * 32 - j2, rightShiftIgnoreSign(characterobject1.y, 5) * 32 - k2, l3, 0);
				l3 = this.maps.getBGCode(characterobject1.x + 31, characterobject1.y);
				if(l3 >= 20)
					this.gg.drawPT(rightShiftIgnoreSign(characterobject1.x + 31, 5) * 32 - j2, rightShiftIgnoreSign(characterobject1.y, 5) * 32 - k2, l3, 0);
				continue;
			}
			if(characterobject1.pt == 1000)
			{
				this.gg.os_g.setColor(this.gamecolor_mizunohadou);
				this.gg.os_g.fillOval(((characterobject1.x - j2) + 16) - characterobject1.c2, ((characterobject1.y - k2) + 16) - characterobject1.c2, characterobject1.c2 * 2, characterobject1.c2 * 2);
				continue;
			}
			if(characterobject1.pt == 1100)
			{
				if(this.g_ac == 0)
					this.gg.os_g.setColor(this.gamecolor_grenade1);
				else
					this.gg.os_g.setColor(this.gamecolor_grenade2);
				this.gg.os_g.fillOval(((characterobject1.x - j2) + 16) - characterobject1.c2, ((characterobject1.y - k2) + 16) - characterobject1.c2, characterobject1.c2 * 2, characterobject1.c2 * 2);
			} else
			{
				this.hg.drawImage(this.hih[characterobject1.pth][characterobject1.pt], characterobject1.x - j2, characterobject1.y - k2, this.ap);
			}
		}

	}
	if(this.jm_kazu > 0)
	{
		for(var l = 0; l <= 8; l++)
		{
			if(this.co_jm[l].c < 50)
				continue;
			var characterobject2 = this.co_jm[l];
			if(characterobject2.pt < 1000)
			{
				this.hg.drawImage(this.hih[characterobject2.pth][characterobject2.pt], characterobject2.x - j2, characterobject2.y - k2, this.ap);
				continue;
			}
			if(characterobject2.pt == 1200)
			{
				if(this.g_ac == 0)
					this.gg.os_g.setColor(this.gamecolor_grenade1);
				else
					this.gg.os_g.setColor(this.gamecolor_grenade2);
				this.gg.os_g.fillRect(characterobject2.x - j2, (characterobject2.y - k2) + 12, (characterobject2.vx - characterobject2.x) + 1, 8);
				continue;
			}
			if(characterobject2.pt == 1205)
			{
				if(this.g_ac == 0)
					this.gg.os_g.setColor(this.gamecolor_grenade1);
				else
					this.gg.os_g.setColor(this.gamecolor_grenade2);
				this.gg.os_g.fillRect(characterobject2.vx - j2, (characterobject2.y - k2) + 12, (characterobject2.x - characterobject2.vx) + 1, 8);
				continue;
			}
			if(this.g_ac == 0)
				this.gg.os_g.setColor(this.gamecolor_grenade1);
			else
				this.gg.os_g.setColor(this.gamecolor_grenade2);
			this.gg.os_g.fillOval(((characterobject2.x - j2) + 16) - characterobject2.c2, ((characterobject2.y - k2) + 16) - characterobject2.c2, characterobject2.c2 * 2, characterobject2.c2 * 2);
		}

	}
	if(this.j_tokugi == 14)
	{
		for(var i1 = 0; i1 <= 1; i1++)
			if(this.co_mu[i1].c >= 50)
				this.hg.drawImage(this.hih[1][105 + this.g_ac], this.co_mu[i1].x - j2, this.co_mu[i1].y - k2, this.ap);

	}
	if(this.co_b.c > 50)
	{
		var l4 = this.co_b.x - j2;
		if(l4 < 528)
		{
			var l5 = this.co_b.y - k2;
			switch(this.co_b.pt)
			{
			default:
				break;

			case 1000: 
				this.hg.drawImage(this.hih[0][186], l4 - 16, l5 - 16, this.ap);
				this.hg.drawImage(this.hih[0][187], l4 + 16, l5 - 16, this.ap);
				this.hg.drawImage(this.hih[0][196], l4 - 16, l5 + 16, this.ap);
				this.hg.drawImage(this.hih[0][197], l4 + 16, l5 + 16, this.ap);
				break;

			case 1005: 
				this.hg.drawImage(this.hih[1][187], l4 - 16, l5 - 16, this.ap);
				this.hg.drawImage(this.hih[1][186], l4 + 16, l5 - 16, this.ap);
				this.hg.drawImage(this.hih[1][197], l4 - 16, l5 + 16, this.ap);
				this.hg.drawImage(this.hih[1][196], l4 + 16, l5 + 16, this.ap);
				break;

			case 1010: 
				this.hg.drawImage(this.hih[0][176], l4 - 16, l5 + 16, this.ap);
				this.hg.drawImage(this.hih[0][177], l4 + 16, l5 + 16, this.ap);
				break;

			case 1015: 
				this.hg.drawImage(this.hih[1][177], l4 - 16, l5 + 16, this.ap);
				this.hg.drawImage(this.hih[1][176], l4 + 16, l5 + 16, this.ap);
				break;

			case 1100: 
				this.hg.drawImage(this.hih[0][188], l4 - 16, l5 - 16, this.ap);
				this.hg.drawImage(this.hih[0][189], l4 + 16, l5 - 16, this.ap);
				this.hg.drawImage(this.hih[0][198], l4 - 16, l5 + 16, this.ap);
				this.hg.drawImage(this.hih[0][199], l4 + 16, l5 + 16, this.ap);
				break;

			case 1105: 
				this.hg.drawImage(this.hih[1][189], l4 - 16, l5 - 16, this.ap);
				this.hg.drawImage(this.hih[1][188], l4 + 16, l5 - 16, this.ap);
				this.hg.drawImage(this.hih[1][199], l4 - 16, l5 + 16, this.ap);
				this.hg.drawImage(this.hih[1][198], l4 + 16, l5 + 16, this.ap);
				break;

			case 1110: 
				this.hg.drawImage(this.hih[0][178], l4 - 16, l5 + 16, this.ap);
				this.hg.drawImage(this.hih[0][179], l4 + 16, l5 + 16, this.ap);
				break;

			case 1115: 
				this.hg.drawImage(this.hih[1][179], l4 - 16, l5 + 16, this.ap);
				this.hg.drawImage(this.hih[1][178], l4 + 16, l5 + 16, this.ap);
				break;

			case 1200: 
				this.hg.drawImage(this.hih[0][238], l4 - 16, l5 - 16, this.ap);
				this.hg.drawImage(this.hih[0][239], l4 + 16, l5 - 16, this.ap);
				this.hg.drawImage(this.hih[0][248], l4 - 16, l5 + 16, this.ap);
				this.hg.drawImage(this.hih[0][249], l4 + 16, l5 + 16, this.ap);
				break;

			case 1205: 
				this.hg.drawImage(this.hih[1][239], l4 - 16, l5 - 16, this.ap);
				this.hg.drawImage(this.hih[1][238], l4 + 16, l5 - 16, this.ap);
				this.hg.drawImage(this.hih[1][249], l4 - 16, l5 + 16, this.ap);
				this.hg.drawImage(this.hih[1][248], l4 + 16, l5 + 16, this.ap);
				break;

			case 1210: 
				this.hg.drawImage(this.hih[0][228], l4 - 16, l5 + 16, this.ap);
				this.hg.drawImage(this.hih[0][229], l4 + 16, l5 + 16, this.ap);
				break;

			case 1215: 
				this.hg.drawImage(this.hih[1][229], l4 - 16, l5 + 16, this.ap);
				this.hg.drawImage(this.hih[1][228], l4 + 16, l5 + 16, this.ap);
				break;

			case 1250: 
				this.hg.drawImage(this.hih[0][238], l4 - 16, l5 - 16, this.ap);
				this.hg.drawImage(this.hih[0][239], l4 + 16, l5 - 16, this.ap);
				this.hg.drawImage(this.hih[0][248], l4 - 16, l5 + 16, this.ap);
				this.hg.drawImage(this.hih[0][249], l4 + 16, l5 + 16, this.ap);
				if(this.j_v_c <= 0)
				{
					this.j_v_kakudo += 2;
					if(this.j_v_kakudo > 360)
						this.j_v_kakudo -= 360;
				}
				l4 = (this.co_b.x - j2) + 16;
				l5 = (this.co_b.y - k2) + 16;
				this.gg.os_g.setColor(Color.white);
				var d4 = 0.017453292519943295;
				for(var j1 = 0; j1 <= 5; j1++)
				{
					var d = (this.j_v_kakudo + j1 * 60) * d4;
					this.vo_pa_x[j1] = l4 + (Math.cos(d) * 50);
					this.vo_pa_y[j1] = l5 + (Math.sin(d) * 50);
				}

				this.gg.os_g.drawPolygon(this.vo_pa_x, this.vo_pa_y, 6);
				for(var k1 = 0; k1 <= 5; k1++)
				{
					var d1 = ((360 - this.j_v_kakudo) + k1 * 60) * d4;
					this.vo_pa_x[k1] = l4 + (Math.cos(d1) * 50);
					this.vo_pa_y[k1] = l5 + (Math.sin(d1) * 50);
				}

				this.gg.os_g.drawPolygon(this.vo_pa_x, this.vo_pa_y, 6);
				break;

			case 1255: 
				this.hg.drawImage(this.hih[1][239], l4 - 16, l5 - 16, this.ap);
				this.hg.drawImage(this.hih[1][238], l4 + 16, l5 - 16, this.ap);
				this.hg.drawImage(this.hih[1][249], l4 - 16, l5 + 16, this.ap);
				this.hg.drawImage(this.hih[1][248], l4 + 16, l5 + 16, this.ap);
				if(this.j_v_c <= 0)
				{
					this.j_v_kakudo += 2;
					if(this.j_v_kakudo > 360)
						this.j_v_kakudo -= 360;
				}
				l4 = (this.co_b.x - j2) + 16;
				l5 = (this.co_b.y - k2) + 16;
				this.gg.os_g.setColor(Color.white);
				var d5 = 0.017453292519943295;
				for(var l1 = 0; l1 <= 5; l1++)
				{
					var d2 = (this.j_v_kakudo + l1 * 60) * d5;
					this.vo_pa_x[l1] = l4 + (Math.cos(d2) * 50);
					this.vo_pa_y[l1] = l5 + (Math.sin(d2) * 50);
				}

				this.gg.os_g.drawPolygon(this.vo_pa_x, this.vo_pa_y, 6);
				for(var i2 = 0; i2 <= 5; i2++)
				{
					var d3 = ((360 - this.j_v_kakudo) + i2 * 60) * d5;
					this.vo_pa_x[i2] = l4 + (Math.cos(d3) * 50);
					this.vo_pa_y[i2] = l5 + (Math.sin(d3) * 50);
				}

				this.gg.os_g.drawPolygon(this.vo_pa_x, this.vo_pa_y, 6);
				break;
			}
		}
	}
}

MainProgram.prototype.jM100 = function()
{
	var flag1 = false;
	var flag2 = false;
	var flag19 = false;
	var flag21 = false;
	this.j_mizu_f = false;
	var l29 = this.maps.getBGCode(this.co_j.x + 15, this.co_j.y + 15);
	if(l29 == 4)
	{
		this.j_mizu_f = true;
		this.j_djump_kf = true;
		this.j_jet_c = 0;
		this.j_mizu_awa_c++;
		if(this.j_mizu_awa_c == 44 || this.j_mizu_awa_c == 54)
			this.mSet(this.co_j.x, this.co_j.y + 4, 60);
		else
		if(this.j_mizu_awa_c > 54)
			this.j_mizu_awa_c = 0;
	} else
	if(l29 == 8 || l29 == 9)
	{
		if(this.maps.map_bg[rightShiftIgnoreSign(this.co_j.x + 15, 5) - 1][rightShiftIgnoreSign(this.co_j.y + 15, 5)] == 4)
		{
			this.j_mizu_f = true;
			this.j_djump_kf = true;
			this.j_jet_c = 0;
			this.j_mizu_awa_c++;
			if(this.j_mizu_awa_c == 44 || this.j_mizu_awa_c == 54)
				this.mSet(this.co_j.x, this.co_j.y + 4, 60);
			else
			if(this.j_mizu_awa_c > 54)
				this.j_mizu_awa_c = 0;
		}
	} else
	if(l29 >= 15 && l29 <= 19 && this.maps.map_bg[rightShiftIgnoreSign(this.co_j.x + 15, 5)][rightShiftIgnoreSign(this.co_j.y + 15, 5) - 1] == 4)
	{
		this.j_mizu_f = true;
		this.j_djump_kf = true;
		this.j_jet_c = 0;
		this.j_mizu_awa_c++;
		if(this.j_mizu_awa_c == 44 || this.j_mizu_awa_c == 54)
			this.mSet(this.co_j.x, this.co_j.y + 4, 60);
		else
		if(this.j_mizu_awa_c > 54)
			this.j_mizu_awa_c = 0;
	}
	if(this.jst_auto_right > 0)
		if(this.jst_auto_right == 1)
		{
			this.gk.right_f = true;
			this.gk.left_f = false;
			this.j_hashiru_f = false;
		} else
		if(this.jst_auto_right == 2)
		{
			this.gk.right_f = true;
			this.gk.left_f = false;
			this.j_hashiru_f = true;
		}
	if(this.gk.tr1_f)
	{
		if(this.tr1_c < 6)
			this.tr1_c++;
	} else
	{
		this.tr1_c = 0;
	}
	if(this.gk.tr1_f)
	{
		if(this.gk.tr1_c < 6)
			this.gk.tr1_c++;
	} else
	{
		this.gk.tr1_c = 0;
	}
	if(this.gk.tr2_f)
	{
		if(this.tr2_c < 2)
			this.tr2_c++;
	} else
	{
		this.tr2_c = 0;
	}
	if(this.gk.left_f)
	{
		if(this.gk.left_c < 2)
			this.gk.left_c++;
	} else
	{
		this.gk.left_c = 0;
	}
	if(this.gk.right_f)
	{
		if(this.gk.right_c < 2)
			this.gk.right_c++;
	} else
	{
		this.gk.right_c = 0;
	}
	if(this.gk.left_c == 1)
	{
		if(this.left_dcc > 0 && this.jst_fast_run != 2)
			this.j_hashiru_f = true;
		else
			this.j_hashiru_f = false;
		this.left_dcc = 8;
	} else
	if(this.left_dcc > 0)
		this.left_dcc--;
	if(this.gk.right_c == 1)
	{
		if(this.right_dcc > 0 && this.jst_fast_run != 2)
			this.j_hashiru_f = true;
		else
			this.j_hashiru_f = false;
		this.right_dcc = 8;
	} else
	if(this.right_dcc > 0)
		this.right_dcc--;
	if(this.gk.up_f)
	{
		this.up_key_c++;
		if(this.up_key_c > 2)
			this.up_key_c = 2;
	} else
	{
		this.up_key_c = 0;
	}
	if(this.gk.down_f)
	{
		this.down_key_c++;
		if(this.down_key_c > 2)
			this.down_key_c = 2;
	} else
	{
		this.down_key_c = 0;
	}
	var j5 = this.co_j.x;
	var k5 = this.co_j.y;
	this.co_j.pt = 100;
	var i = rightShiftIgnoreSign(j5 + 15, 5);
	var j2 = rightShiftIgnoreSign(k5 + 31, 5);
	var word0 = this.maps.map_bg[i][j2];
	var flag = this.map_data_option[i][j2];
	var l2 = rightShiftIgnoreSign(k5 + 32, 5);
	var word2 = this.maps.map_bg[i][l2];
	if(this.j_shitakara_mushi_y > 0 && this.j_shitakara_mushi_y != l2)
		this.j_shitakara_mushi_y = -1;
	flag19 = false;
	if(word2 == 15 && rightShiftIgnoreSign(k5, 5) * 32 == k5 && this.co_j.vy >= 0)
	{
		flag19 = true;
		if(this.j_shitakara_mushi_y > 0 && this.j_shitakara_mushi_y == l2)
			flag19 = false;
	}
	if((word2 >= 20 || word2 == 10 || this.j_a_id >= 0 || flag19) && this.j_hashigo_mushi_x != rightShiftIgnoreSign(this.co_j.x + 15, 5))
	{
		this.co_j.jimen_f = true;
		this.j_jump_type = 2;
		if(word2 == 69)
			flag2 = true;
	} else
	{
		this.co_j.jimen_f = false;
	}
	if(this.yuka_ride_id >= 0)
	{
		this.co_j.jimen_f = true;
		this.j_jump_type = 2;
	}
	if(word0 == 18 || word0 == 19)
	{
		var j21 = this.getSakamichiY(this.co_j.x + 15, this.co_j.y + 31);
		if(this.map_data_option[i][j2])
		{
			if((this.saka_mushi_y <= 0 || this.saka_mushi_y != j2) && j21 == this.co_j.y && this.co_j.vy >= 0)
			{
				this.co_j.jimen_f = true;
				this.j_jump_type = 2;
			}
		} else
		if(j21 <= this.co_j.y)
		{
			this.co_j.y = j21;
			if(this.co_j.vy >= 0)
			{
				this.co_j.jimen_f = true;
				this.j_jump_type = 2;
			}
		}
	}
	if(word0 == 10 && rightShiftIgnoreSign(this.co_j.y, 5) * 32 == this.co_j.y)
	{
		this.co_j.jimen_f = true;
		if(this.j_tokugi <= 11 && rightShiftIgnoreSign(this.co_j.x + 15, 5) != this.j_hashigo_mushi_x && this.maps.getBGCode((this.co_j.x + 15) - 32, this.co_j.y + 31) != 10 && this.maps.getBGCode(this.co_j.x + 15 + 32, this.co_j.y + 31) != 10 && this.maps.getBGCode((this.co_j.x + 15) - 32, this.co_j.y + 32) <= 9 && this.maps.getBGCode(this.co_j.x + 15 + 32, this.co_j.y + 32) <= 9)
		{
			var flag5 = false;
			if(rightShiftIgnoreSign(this.co_j.x, 5) * 32 != this.co_j.x)
			{
				var j10 = 0;
				do
				{
					if(j10 > this.a_kazu)
						break;
					if(this.co_a[j10].c == 410 && this.co_a[j10].x <= rightShiftIgnoreSign(this.co_j.x + 15, 5) * 32 + 15 && this.co_a[j10].x + 95 >= rightShiftIgnoreSign(this.co_j.x + 15, 5) * 32 + 15 && this.co_j.y + 31 >= this.co_a[j10].y && this.co_j.y <= this.co_a[j10].y + 63)
					{
						flag5 = true;
						break;
					}
					j10++;
				} while(true);
			}
			if(!flag5)
			{
				this.j_hashigo_f = true;
				this.co_j.x = rightShiftIgnoreSign(this.co_j.x + 15, 5) * 32;
			}
		}
	}
	if(this.j_hashigo_mushi_x != rightShiftIgnoreSign(this.co_j.x + 15, 5) || this.co_j.vx == 0)
		this.j_hashigo_mushi_x = -1;
	if(this.saka_mushi_y >= 0)
		if(this.co_j.y + 31 > this.saka_mushi_y * 32 + 32 + 23 || this.co_j.y + 31 < this.saka_mushi_y * 32)
			this.saka_mushi_y = -1;
		else
		if(this.co_j.jimen_f || this.j_hashigo_f)
			this.saka_mushi_y = -1;
	if(this.maps.getBGCode(this.co_j.x + 15, this.co_j.y + 15) == 10 || this.maps.getBGCode(this.co_j.x + 15, this.co_j.y + 31) == 10)
	{
		if(this.j_hashigo_mushi_x != rightShiftIgnoreSign(this.co_j.x + 15, 5))
			this.j_jump_type = 2;
		if(this.gk.up_f)
		{
			var flag6 = false;
			if(rightShiftIgnoreSign(this.co_j.x, 5) * 32 != this.co_j.x)
			{
				var k10 = 0;
				do
				{
					if(k10 > this.a_kazu)
						break;
					if(this.co_a[k10].c == 410 && this.co_a[k10].x <= rightShiftIgnoreSign(this.co_j.x + 15, 5) * 32 + 15 && this.co_a[k10].x + 95 >= rightShiftIgnoreSign(this.co_j.x + 15, 5) * 32 + 15 && this.co_j.y + 31 >= this.co_a[k10].y && this.co_j.y <= this.co_a[k10].y + 63)
					{
						flag6 = true;
						break;
					}
					k10++;
				} while(true);
			}
			if(!flag6)
			{
				this.j_hashigo_f = true;
				this.co_j.jimen_f = false;
				this.j_jet_c = 0;
				this.co_j.direction = 2;
			}
		}
		if(this.gk.down_f && this.maps.getBGCode(this.co_j.x + 15, this.co_j.y + 32) < 20 && this.maps.getBGCode(this.co_j.x + 15, this.co_j.y + 32) != 15)
		{
			var flag7 = false;
			if(rightShiftIgnoreSign(this.co_j.x, 5) * 32 != this.co_j.x)
			{
				var l10 = 0;
				do
				{
					if(l10 > this.a_kazu)
						break;
					if(this.co_a[l10].c == 410 && this.co_a[l10].x <= rightShiftIgnoreSign(this.co_j.x + 15, 5) * 32 + 15 && this.co_a[l10].x + 95 >= rightShiftIgnoreSign(this.co_j.x + 15, 5) * 32 + 15 && this.co_j.y + 31 >= this.co_a[l10].y && this.co_j.y <= this.co_a[l10].y + 63)
					{
						flag7 = true;
						break;
					}
					l10++;
				} while(true);
			}
			if(!flag7)
			{
				this.j_hashigo_f = true;
				this.co_j.jimen_f = false;
				this.j_jet_c = 0;
				this.co_j.direction = 3;
			}
		}
		if(!this.co_j.jimen_f && this.maps.getBGCode(this.co_j.x + 15, this.co_j.y + 31) == 10 && this.maps.getBGCode(this.co_j.x + 15, this.co_j.y + 32) < 20 && this.maps.getBGCode(this.co_j.x + 15, this.co_j.y + 32) != 15)
		{
			this.co_j.jimen_f = false;
			this.j_jet_c = 0;
		}
	} else
	{
		this.j_hashigo_f = false;
		this.co_j.direction = 0;
	}
	if(this.j_hashigo_f)
	{
		if(this.gk.left_f)
		{
			var j16 = rightShiftIgnoreSign(this.co_j.y + 15, 5);
			var word20 = this.maps.map_bg[rightShiftIgnoreSign(this.co_j.x + 15, 5) - 1][j16];
			var word30 = this.maps.map_bg[rightShiftIgnoreSign(this.co_j.x + 15, 5) - 1][j16 + 1];
			if((this.j_tokugi == 10 || this.j_tokugi == 12 || this.j_tokugi == 13) && (word20 <= 10 || word20 == 15))
			{
				this.j_hashigo_f = false;
				this.co_j.jimen_f = true;
				this.co_j.y = j16 * 32;
				this.j_shitakara_mushi_y = -1;
				this.co_j.direction = 0;
			} else
			if(word20 == 10)
			{
				this.j_hashigo_f = false;
				this.co_j.jimen_f = true;
				this.co_j.y = j16 * 32;
				this.j_shitakara_mushi_y = -1;
				this.co_j.direction = 0;
			} else
			if((word20 <= 10 || word20 == 15) && (word30 >= 20 || word30 == 15 || word30 == 10))
			{
				var word21 = this.maps.map_bg[rightShiftIgnoreSign(this.co_j.x + 15, 5)][j16 + 1];
				if(word21 == 10 || word21 == 15 || word21 >= 20)
				{
					this.j_hashigo_f = false;
					this.co_j.jimen_f = true;
					this.co_j.y = j16 * 32;
					this.j_shitakara_mushi_y = -1;
					this.co_j.direction = 0;
				}
			}
		}
		if(this.gk.right_f)
		{
			var k16 = rightShiftIgnoreSign(this.co_j.y + 15, 5);
			var word22 = this.maps.map_bg[rightShiftIgnoreSign(this.co_j.x + 15, 5) + 1][k16];
			var word31 = this.maps.map_bg[rightShiftIgnoreSign(this.co_j.x + 15, 5) + 1][k16 + 1];
			if((this.j_tokugi == 10 || this.j_tokugi == 12 || this.j_tokugi == 13) && (word22 <= 10 || word22 == 15))
			{
				this.j_hashigo_f = false;
				this.co_j.jimen_f = true;
				this.co_j.y = k16 * 32;
				this.j_shitakara_mushi_y = -1;
				this.co_j.direction = 0;
			}
			if(word22 == 10)
			{
				this.j_hashigo_f = false;
				this.co_j.jimen_f = true;
				this.co_j.y = k16 * 32;
				this.j_shitakara_mushi_y = -1;
				this.co_j.direction = 0;
			} else
			if((word22 <= 10 || word22 == 15) && (word31 >= 20 || word31 == 15 || word31 == 10))
			{
				var word23 = this.maps.map_bg[rightShiftIgnoreSign(this.co_j.x + 15, 5)][k16 + 1];
				if(word23 == 10 || word23 == 15 || word23 >= 20)
				{
					this.j_hashigo_f = false;
					this.co_j.jimen_f = true;
					this.co_j.y = k16 * 32;
					this.j_shitakara_mushi_y = -1;
					this.co_j.direction = 0;
				}
			}
		}
	}
	if(this.j_tokugi == 10 || this.j_tokugi == 12 || this.j_tokugi == 13)
	{
		if(this.ana_kazu > 0)
		{
			var l5 = 0;
			do
			{
				if(l5 > this.t_kazu)
					break;
				if((this.co_t[l5].c == 1250 || this.co_t[l5].c == 1310) && this.co_j.x + 15 >= this.co_t[l5].x && this.co_j.x + 15 <= this.co_t[l5].x + 31 && this.co_j.y == this.co_t[l5].y - 32)
				{
					this.co_j.jimen_f = true;
					break;
				}
				l5++;
			} while(true);
		}
		var i6 = 0;
		do
		{
			if(i6 > this.t_kazu)
				break;
			if(this.co_t[i6].c >= 1200 && this.co_t[i6].c <= 1220 && Math.abs(this.co_j.x - this.co_t[i6].x) <= 24 && this.co_j.y == this.co_t[i6].y - 32)
			{
				this.co_j.y = this.co_t[i6].y - 32;
				this.co_j.jimen_f = true;
				break;
			}
			i6++;
		} while(true);
	}
	if(this.j_hashigo_f)
		this.co_j.jimen_f = false;
	if(this.j_cannon_c > 0)
	{
		this.j_cannon_c--;
		if(this.co_j.jimen_f || this.j_hashigo_f || this.j_cannon_c == 0)
			if(this.jst_pc_attack >= 1 && this.j_cannon_c > 0 && (this.j_cannon_type == 3 || this.j_cannon_type == 4))
			{
				if(this.j_hashigo_f)
				{
					this.j_cannon_c = 0;
					if(this.co_j.vx < -120)
						this.co_j.vx = -120;
					if(this.co_j.vx > 120)
						this.co_j.vx = 120;
				}
			} else
			{
				this.j_cannon_c = 0;
				if(this.co_j.vx < -120)
					this.co_j.vx = -120;
				if(this.co_j.vx > 120)
					this.co_j.vx = 120;
				if(this.j_cannon_type == 3 || this.j_cannon_type == 4)
				{
					this.co_j.vx = 0;
					this.co_j.vy = 20;
					this.j_jump_type = 0;
				}
			}
	}
	if(this.j_hashigo_f)
	{
		this.j_djump_kf = true;
		if(this.gk.left_f)
			this.co_j.muki = 0;
		else
		if(this.gk.right_f)
			this.co_j.muki = 1;
		if(this.gk.up_f && !this.gk.left_f && !this.gk.right_f)
		{
			this.co_j.vy = -80;
			this.co_j.ac++;
			if(this.co_j.ac > 3)
				this.co_j.ac = 0;
		} else
		if(this.gk.down_f && !this.gk.left_f && !this.gk.right_f)
		{
			this.co_j.vy = 80;
			this.co_j.ac++;
			if(this.co_j.ac > 3)
				this.co_j.ac = 0;
		} else
		{
			this.co_j.vy = 0;
			this.co_j.ac = 0;
		}
		this.co_j.vx = 0;
	} else
	if(this.gk.down_f && this.maps.getBGCode(this.co_j.x + 15, this.co_j.y + 32) == 10 && !this.gk.left_f && !this.gk.right_f)
	{
		var flag8 = false;
		var i11 = 0;
		do
		{
			if(i11 > this.a_kazu)
				break;
			if(this.co_a[i11].c == 410 && this.co_a[i11].x <= rightShiftIgnoreSign(this.co_j.x + 15, 5) * 32 + 15 && this.co_a[i11].x + 95 >= rightShiftIgnoreSign(this.co_j.x + 15, 5) * 32 + 15 && this.co_j.y + 31 >= this.co_a[i11].y && this.co_j.y <= this.co_a[i11].y + 63)
			{
				flag8 = true;
				break;
			}
			i11++;
		} while(true);
		if(!flag8)
		{
			this.j_djump_kf = true;
			this.co_j.vy = 80;
			this.co_j.vx = 0;
			this.co_j.jimen_f = false;
			this.j_hashigo_f = true;
		}
	} else
	if(this.co_j.jimen_f)
	{
		this.j_djump_kf = true;
		this.j_zan_f = false;
		this.j_jet_c = 0;
		if(this.gk.left_f && (this.j_cannon_c <= 0 || this.j_cannon_type != 3 && this.j_cannon_type != 4))
		{
			if(flag2)
			{
				this.co_j.vx -= 4;
				if(this.gk.left_c == 1 && this.co_j.vx > 30)
					this.gs.rsAddSound(5);
			} else
			{
				this.co_j.vx -= 15;
				if(this.gk.left_c == 1 && this.co_j.vx > 60)
					this.gs.rsAddSound(5);
			}
			if(this.j_hashiru_f)
			{
				if(!this.j_mizu_f)
				{
					if(this.jst_fast_run == 1)
					{
						if(this.co_j.vx < -180)
							this.co_j.vx = -180;
					} else
					if(this.co_j.vx < -120)
						this.co_j.vx = -120;
				} else
				if(this.co_j.vx < -60)
					this.co_j.vx = -60;
				if(this.co_j.vx > 0 && !flag2)
				{
					this.co_j.pt = 108;
					this.co_j.ac = 0;
				} else
				{
					this.co_j.pt = 105 + rightShiftIgnoreSign(this.co_j.ac, 1);
					this.co_j.ac++;
					if(this.co_j.ac > 3)
						this.co_j.ac = 0;
				}
			} else
			{
				if(!this.j_mizu_f)
				{
					if(this.co_j.vx < -60)
						this.co_j.vx = -60;
				} else
				if(this.co_j.vx < -40)
					this.co_j.vx = -40;
				if(this.co_j.vx > 0 && !flag2)
				{
					this.co_j.pt = 108;
					this.co_j.ac = 0;
				} else
				{
					this.co_j.pt = 103 + rightShiftIgnoreSign(this.co_j.ac, 1);
					this.co_j.ac++;
					if(this.co_j.ac > 3)
						this.co_j.ac = 0;
				}
			}
			this.co_j.muki = 0;
		} else
		if(this.gk.right_f && (this.j_cannon_c <= 0 || this.j_cannon_type != 3 && this.j_cannon_type != 4))
		{
			if(flag2)
			{
				this.co_j.vx += 4;
				if(this.gk.right_c == 1 && this.co_j.vx < -30)
					this.gs.rsAddSound(5);
			} else
			{
				this.co_j.vx += 15;
				if(this.gk.right_c == 1 && this.co_j.vx < -60)
					this.gs.rsAddSound(5);
			}
			if(this.j_hashiru_f)
			{
				if(!this.j_mizu_f)
				{
					if(this.jst_fast_run == 1)
					{
						if(this.co_j.vx > 180)
							this.co_j.vx = 180;
					} else
					if(this.co_j.vx > 120)
						this.co_j.vx = 120;
				} else
				if(this.co_j.vx > 60)
					this.co_j.vx = 60;
				if(this.co_j.vx < 0 && !flag2)
				{
					this.co_j.pt = 108;
					this.co_j.ac = 0;
				} else
				{
					this.co_j.pt = 105 + rightShiftIgnoreSign(this.co_j.ac, 1);
					this.co_j.ac++;
					if(this.co_j.ac > 3)
						this.co_j.ac = 0;
				}
			} else
			{
				if(!this.j_mizu_f)
				{
					if(this.co_j.vx > 60)
						this.co_j.vx = 60;
				} else
				if(this.co_j.vx > 40)
					this.co_j.vx = 40;
				if(this.co_j.vx < 0 && !flag2)
				{
					this.co_j.pt = 108;
					this.co_j.ac = 0;
				} else
				{
					this.co_j.pt = 103 + rightShiftIgnoreSign(this.co_j.ac, 1);
					this.co_j.ac++;
					if(this.co_j.ac > 3)
						this.co_j.ac = 0;
				}
			}
			this.co_j.muki = 1;
		} else
		if(this.co_j.vx < 0)
		{
			if(this.j_cannon_c <= 0 || this.j_cannon_type != 3 && this.j_cannon_type != 4)
				if(flag2)
					this.co_j.vx++;
				else
					this.co_j.vx += 5;
			if(this.co_j.vx > 0)
				this.co_j.vx = 0;
			if(this.j_hashiru_f || flag2)
			{
				this.co_j.pt = 107;
				this.co_j.ac = 0;
			} else
			{
				this.co_j.pt = 103 + rightShiftIgnoreSign(this.co_j.ac, 1);
				this.co_j.ac++;
				if(this.co_j.ac > 3)
					this.co_j.ac = 0;
			}
			this.co_j.muki = 0;
		} else
		if(this.co_j.vx > 0)
		{
			if(this.j_cannon_c <= 0 || this.j_cannon_type != 3 && this.j_cannon_type != 4)
				if(flag2)
					this.co_j.vx--;
				else
					this.co_j.vx -= 5;
			if(this.co_j.vx < 0)
				this.co_j.vx = 0;
			if(this.j_hashiru_f || flag2)
			{
				this.co_j.pt = 107;
				this.co_j.ac = 0;
			} else
			{
				this.co_j.pt = 103 + rightShiftIgnoreSign(this.co_j.ac, 1);
				this.co_j.ac++;
				if(this.co_j.ac > 3)
					this.co_j.ac = 0;
			}
			this.co_j.muki = 1;
		} else
		{
			this.co_j.ac = 0;
		}
	} else
	{
		if((this.j_tokugi == 10 || this.j_tokugi == 12 || this.j_tokugi == 13) && !this.j_mizu_f)
		{
			if(this.co_j.vy < 0)
			{
				if(this.co_j.vx < 0)
					this.co_j.vx = -30;
				if(this.co_j.vx > 0)
					this.co_j.vx = 30;
			} else
			{
				if(this.co_j.vx < 0)
					this.co_j.vx = -60;
				if(this.co_j.vx > 0)
					this.co_j.vx = 60;
			}
			if(this.co_j.vy < 0)
			{
				if(Math.abs(rightShiftIgnoreSign(this.co_j.x, 5) * 32 - this.co_j.x) < 3)
				{
					this.co_j.x = rightShiftIgnoreSign(this.co_j.x + 15, 5) * 32;
					this.co_j.vx = 0;
				}
			} else
			if(Math.abs(rightShiftIgnoreSign(this.co_j.x, 5) * 32 - this.co_j.x) < 6)
			{
				this.co_j.x = rightShiftIgnoreSign(this.co_j.x + 15, 5) * 32;
				this.co_j.vx = 0;
			}
			if(this.co_j.vy > 90)
				this.co_j.vy = 90;
		} else
		if(this.gk.left_f)
		{
			if(this.j_cannon_c <= 0 && !this.j_mizu_f)
				if(this.jst_fly_left_right == 1)
				{
					this.co_j.vx -= 15;
					if(this.co_j.vx < -120)
						this.co_j.vx = -120;
				} else
				if(this.co_j.vx > -60)
				{
					this.co_j.vx -= 10;
					if(this.co_j.vx < -60)
						this.co_j.vx = -60;
				}
		} else
		if(this.gk.right_f && this.j_cannon_c <= 0 && !this.j_mizu_f)
			if(this.jst_fly_left_right == 1)
			{
				this.co_j.vx += 15;
				if(this.co_j.vx > 120)
					this.co_j.vx = 120;
			} else
			if(this.co_j.vx < 60)
			{
				this.co_j.vx += 10;
				if(this.co_j.vx > 60)
					this.co_j.vx = 60;
			}
		if((this.jst_kabe_kick == 1 || this.jst_kabe_kick == 2) && this.gk.tr1_c == 1 && !this.j_mizu_f)
		{
			var l19 = this.maps.getBGCode(this.co_j.x + 14, this.co_j.y);
			var k20 = this.maps.getBGCode(this.co_j.x + 14, this.co_j.y + 31);
			if(l19 >= 20 || l19 == 18 || k20 >= 20 || k20 == 18)
			{
				if(this.jst_kabe_kick == 2)
				{
					this.co_j.vx = 60;
					this.co_j.vy = -260;
					this.co_j.muki = 1;
					this.j_jump_level = 3;
					this.j_jump_type = 0;
					this.gs.rsAddSound(3);
				} else
				{
					this.co_j.vx = 60;
					if(!this.j_mizu_f)
						this.co_j.vx = 120;
					this.j_jump_type = 5;
					this.co_j.muki = 0;
					if(this.co_j.vy > 0)
						this.co_j.vy = -25;
					else
						this.co_j.vy -= 50;
				}
				flag21 = true;
				this.j_djump_kf = true;
			}
			l19 = this.maps.getBGCode(this.co_j.x + 16, this.co_j.y);
			k20 = this.maps.getBGCode(this.co_j.x + 16, this.co_j.y + 31);
			if(l19 >= 19 || k20 >= 19)
			{
				if(this.jst_kabe_kick == 2)
				{
					this.co_j.vx = -60;
					this.co_j.vy = -260;
					this.co_j.muki = 0;
					this.j_jump_level = 3;
					this.j_jump_type = 0;
					this.gs.rsAddSound(3);
				} else
				{
					this.co_j.vx = -60;
					if(!this.j_mizu_f)
						this.co_j.vx = -120;
					this.j_jump_type = 5;
					this.co_j.muki = 1;
					if(this.co_j.vy > 0)
						this.co_j.vy = -25;
					else
						this.co_j.vy -= 50;
				}
				flag21 = true;
				this.j_djump_kf = true;
			}
		}
		if(this.j_mizu_f)
		{
			if(this.j_mizu_ac > 1)
				this.co_j.pt = 84;
			else
				this.co_j.pt = 83;
		} else
		if(this.j_jump_type == 0)
		{
			if(this.j_cannon_c > 0 && this.j_cannon_type == 2)
				this.co_j.pt = 1300;
			else
			if(this.j_cannon_c > 0 && this.j_cannon_type == 5)
				this.co_j.pt = 210;
			else
			if(this.j_cannon_c > 0 && Math.abs(this.co_j.vy) < 50)
				this.co_j.pt = 83;
			else
			if(this.co_j.vy < 20)
				this.co_j.pt = 101;
			else
				this.co_j.pt = 102;
		} else
		if(this.j_jump_type == 2)
		{
			if(Math.abs(this.co_j.vx) <= 60)
				this.co_j.pt = 103;
			else
				this.co_j.pt = 105;
		} else
		if(this.j_jump_type == 3)
			this.co_j.pt = 119;
		else
		if(this.j_jump_type == 4)
			this.co_j.pt = 100;
		else
		if(this.j_jump_type == 5)
			this.co_j.pt = 107;
		else
		if(this.j_jump_type == 6)
			this.co_j.pt = 109;
		else
		if(this.j_jump_type == 7)
		{
			this.co_j.pt = 1500;
			this.j_zan_f = false;
		} else
		{
			this.co_j.pt = 109;
		}
		this.co_j.ac = 2;
	}
	if(this.j_cannon_c > 0)
		if(this.j_cannon_type == 3)
		{
			this.co_j.pt = 1400;
			if(this.j_cannon_c <= 5)
			{
				this.co_j.pt = 102;
				this.co_j.vx = 0;
				if(this.co_j.jimen_f)
					this.co_j.pt = 100;
			}
		} else
		if(this.j_cannon_type == 4)
		{
			this.co_j.pt = 84;
			if(this.j_cannon_c <= 5)
			{
				this.co_j.pt = 102;
				this.co_j.vx = 0;
				if(this.co_j.jimen_f)
					this.co_j.pt = 100;
			}
		}
	if(this.j_jdai_f)
	{
		this.co_j.vx = 0;
		this.co_j.pt = 100;
		this.co_j.ac = 0;
		if((this.j_tokugi == 10 || this.j_tokugi == 12 || this.j_tokugi == 13) && this.co_j.y % 32 == 0)
			if(this.gk.left_f)
			{
				this.co_j.vx = -30;
				this.co_j.x = rightShiftIgnoreSign(this.co_j.x + 15, 5) * 32 - 6;
			} else
			if(this.gk.right_f)
			{
				this.co_j.vx = 30;
				this.co_j.x = rightShiftIgnoreSign(this.co_j.x + 15, 5) * 32 + 6;
			}
	}
	if(this.j_hashigo_f)
		this.co_j.x = rightShiftIgnoreSign(this.co_j.x + 15, 5) * 32;
	else
	if(this.co_j.vx < 0)
	{
		this.co_j.x += rounddown(this.co_j.vx / 10);
		if(this.yuka_ride_id >= 0)
			if(this.yo[this.yuka_ride_id].con >= 200 && this.yo[this.yuka_ride_id].con < 300)
			{
				var k21 = this.getSLOY(this.yo[this.yuka_ride_id].x, this.yo[this.yuka_ride_id].y, this.yo[this.yuka_ride_id].x2, this.yo[this.yuka_ride_id].y2);
				if(k21 >= 0)
				{
					this.co_j.y = k21;
					if(this.yo[this.yuka_ride_id].y > this.yo[this.yuka_ride_id].y2 && this.maps.getBGCode(this.co_j.x + 15, this.co_j.y + 31) >= 20)
						this.co_j.y = rightShiftIgnoreSign(this.co_j.y + 31, 5) * 32 - 32;
				} else
				{
					this.co_j.y = this.yo[this.yuka_ride_id].y - 32;
					var l7;
					for(l7 = 0; l7 <= this.yuka_id_max; l7++)
					{
						if(this.yo[l7].con < 200 || this.yo[l7].con >= 300 || this.yo[l7].x2 != this.yo[this.yuka_ride_id].x || this.yo[l7].y2 != this.yo[this.yuka_ride_id].y)
							continue;
						var l21 = this.getSLOY(this.yo[l7].x, this.yo[l7].y, this.yo[l7].x2, this.yo[l7].y2);
						if(l21 < 0)
							continue;
						this.co_j.y = l21;
						break;
					}

					if(l7 > this.yuka_id_max)
						if(this.yo[this.yuka_ride_id].y <= this.yo[this.yuka_ride_id].y2)
							this.co_j.vy = 0;
						else
							this.co_j.vy = 75;
				}
			} else
			if(this.yo[this.yuka_ride_id].con >= 300 && this.yo[this.yuka_ride_id].con < 350)
			{
				var i22 = this.getSCOY(this.yo[this.yuka_ride_id].x, this.yo[this.yuka_ride_id].y, this.yo[this.yuka_ride_id].x2, this.yo[this.yuka_ride_id].y2);
				if(i22 >= 0)
				{
					this.co_j.y = i22;
					if(this.maps.getBGCode(this.co_j.x + 15, this.co_j.y + 31) >= 20)
						this.co_j.y = rightShiftIgnoreSign(this.co_j.y + 31, 5) * 32 - 32;
				} else
				{
					var j22 = rounddown((this.yo[this.yuka_ride_id].x2 * 90) / 100);
					this.co_j.y = this.yo[this.yuka_ride_id].y - Math.floor(Math.sqrt(this.yo[this.yuka_ride_id].x2 * this.yo[this.yuka_ride_id].x2 - j22 * j22)) - 32;
				}
			} else
			if(this.yo[this.yuka_ride_id].con >= 350 && this.yo[this.yuka_ride_id].con < 400)
			{
				var k22 = this.getSHCOY(this.yo[this.yuka_ride_id].x, this.yo[this.yuka_ride_id].y, this.yo[this.yuka_ride_id].x2, this.yo[this.yuka_ride_id].y2);
				if(k22 >= 0)
				{
					this.co_j.y = k22;
					if(this.maps.getBGCode(this.co_j.x + 15, this.co_j.y + 31) >= 20)
						this.co_j.y = rightShiftIgnoreSign(this.co_j.y + 31, 5) * 32 - 32;
				} else
				{
					this.co_j.y = this.yo[this.yuka_ride_id].y + 32;
				}
			} else
			if(this.yo[this.yuka_ride_id].con >= 400 && this.yo[this.yuka_ride_id].con < 450)
			{
				var l22 = this.getSWUpOY(this.yo[this.yuka_ride_id].x, this.yo[this.yuka_ride_id].y, this.yo[this.yuka_ride_id].x2, this.yo[this.yuka_ride_id].y2);
				if(l22 >= 0)
				{
					this.co_j.y = l22;
					if(this.maps.getBGCode(this.co_j.x + 15, this.co_j.y + 31) >= 20)
						this.co_j.y = rightShiftIgnoreSign(this.co_j.y + 31, 5) * 32 - 32;
				} else
				{
					this.co_j.y = (this.yo[this.yuka_ride_id].y + 128) - 32;
					var i8 = 0;
					do
					{
						if(i8 > this.yuka_id_max)
							break;
						if(this.yo[i8].con >= 400 && this.yo[i8].con < 450 && this.yo[i8].x == this.yo[this.yuka_ride_id].x - 256 && this.yo[i8].y == this.yo[this.yuka_ride_id].y + 128)
						{
							var i23 = this.getSWUpOY(this.yo[i8].x, this.yo[i8].y, this.yo[i8].x2, this.yo[i8].y2);
							if(i23 >= 0)
							{
								this.co_j.y = i23;
								break;
							}
						}
						i8++;
					} while(true);
				}
			} else
			if(this.yo[this.yuka_ride_id].con >= 450 && this.yo[this.yuka_ride_id].con < 500)
			{
				var j23 = this.getSWDownOY(this.yo[this.yuka_ride_id].x, this.yo[this.yuka_ride_id].y, this.yo[this.yuka_ride_id].x2, this.yo[this.yuka_ride_id].y2);
				if(j23 >= 0)
				{
					this.co_j.y = j23;
					if(this.maps.getBGCode(this.co_j.x + 15, this.co_j.y + 31) >= 20)
						this.co_j.y = rightShiftIgnoreSign(this.co_j.y + 31, 5) * 32 - 32;
				} else
				{
					this.co_j.y = this.yo[this.yuka_ride_id].y - 32;
					for(var j8 = 0; j8 <= this.yuka_id_max; j8++)
					{
						if(this.yo[j8].con < 400 || this.yo[j8].con >= 450 || this.yo[j8].x != this.yo[this.yuka_ride_id].x - 256 || this.yo[j8].y != this.yo[this.yuka_ride_id].y)
							continue;
						var k23 = this.getSWUpOY(this.yo[j8].x, this.yo[j8].y, this.yo[j8].x2, this.yo[j8].y2);
						if(k23 < 0)
							continue;
						this.co_j.y = k23;
						break;
					}

				}
			}
		if(this.co_j.jimen_f)
			if(word0 == 19)
			{
				if(i > rightShiftIgnoreSign(this.co_j.x + 15, 5))
				{
					this.co_j.y = (j2 - 1) * 32;
					if(this.maps.map_bg[rightShiftIgnoreSign(this.co_j.x + 15, 5)][j2 - 1] == 19)
						this.co_j.y = this.getSakamichiY(this.co_j.x + 15, this.co_j.y + 31);
					else
					if(this.maps.map_bg[rightShiftIgnoreSign(this.co_j.x + 15, 5)][j2] == 18)
						this.co_j.y = this.getSakamichiY(this.co_j.x + 15, this.co_j.y + 32);
					else
					if(this.maps.map_bg[rightShiftIgnoreSign(this.co_j.x + 15, 5)][j2] < 19 && this.maps.map_bg[rightShiftIgnoreSign(this.co_j.x + 15, 5)][j2] != 15)
					{
						this.co_j.vy = this.co_j.vx;
						if((this.j_tokugi == 10 || this.j_tokugi == 12 || this.j_tokugi == 13) && this.co_j.vy < -40)
							this.co_j.vy = -40;
						if(this.co_j.vy >= 0)
						this.co_j.y -= rounddown(-this.co_j.vy / -10);
					}
				} else
				{
					this.co_j.y = this.getSakamichiY(this.co_j.x + 15, this.co_j.y + 31);
				}
			} else
			if(word0 == 18)
			{
				if(i > rightShiftIgnoreSign(this.co_j.x + 15, 5))
				{
					this.co_j.y = j2 * 32;
					if(this.maps.map_bg[rightShiftIgnoreSign(this.co_j.x + 15, 5)][j2] == 19)
						this.co_j.y = this.getSakamichiY(this.co_j.x + 15, this.co_j.y + 31);
					else
					if(this.maps.map_bg[rightShiftIgnoreSign(this.co_j.x + 15, 5)][j2 + 1] == 18)
						this.co_j.y = this.getSakamichiY(this.co_j.x + 15, (j2 + 1) * 32);
					else
					if(this.maps.map_bg[rightShiftIgnoreSign(this.co_j.x + 15, 5)][j2 + 1] < 18)
					{
						this.co_j.vy = this.co_j.vx * -1;
						this.co_j.y += rounddown(this.co_j.vx / -10);
					}
				} else
				{
					this.co_j.y = this.getSakamichiY(this.co_j.x + 15, this.co_j.y + 31);
				}
			} else
			if((word2 >= 20 || word2 == 10 || word2 == 15) && i > rightShiftIgnoreSign(this.co_j.x + 15, 5))
			{
				this.co_j.y = j2 * 32;
				if(this.maps.map_bg[rightShiftIgnoreSign(this.co_j.x + 15, 5)][j2 + 1] == 18)
					this.co_j.y = this.getSakamichiY(this.co_j.x + 15, (j2 + 1) * 32);
			}
		if(this.co_j.jimen_f)
		{
			var k = rightShiftIgnoreSign(this.co_j.x + 15, 5);
			var word12 = this.maps.map_bg[k][rightShiftIgnoreSign(this.co_j.y, 5)];
			var j3 = rightShiftIgnoreSign(this.co_j.y + 31, 5);
			var word4 = this.maps.map_bg[k][j3];
			if((word12 == 18 && !this.map_data_option[k][rightShiftIgnoreSign(this.co_j.y, 5)] || word4 == 18 && !this.map_data_option[k][j3]) && i > k && this.co_j.y > this.getSakamichiY(this.co_j.x + 15, this.co_j.y + 31))
			{
				this.co_j.x = k * 32 + 17;
				this.co_j.vx = 0;
			}
		} else
		{
			var l = rightShiftIgnoreSign(this.co_j.x + 15, 5);
			var word13 = this.maps.map_bg[l][rightShiftIgnoreSign(this.co_j.y, 5)];
			var k3 = rightShiftIgnoreSign(this.co_j.y + 31, 5);
			var word5 = this.maps.map_bg[l][k3];
			if(word0 == 19 && flag && i > l && (this.saka_mushi_y < 0 || k3 != this.saka_mushi_y && k3 != this.saka_mushi_y + 1))
			{
				this.co_j.y = j2 * 32 - 32;
				if(this.maps.map_bg[l][k3] == 19)
					this.co_j.y = this.getSakamichiY(this.co_j.x + 15, this.co_j.y + 31);
			}
			if((word13 == 18 && !this.map_data_option[l][rightShiftIgnoreSign(this.co_j.y, 5)] || word5 == 18 && !this.map_data_option[l][k3]) && i > l)
			{
				this.co_j.x = l * 32 + 17;
				this.co_j.vx = 0;
			}
			if(word13 == 19 && !this.map_data_option[l][rightShiftIgnoreSign(this.co_j.y, 5)] && i > l)
			{
				this.co_j.x = l * 32 + 17;
				this.co_j.vx = 0;
			}
		}
		if(this.a_hf)
		{
			for(var k8 = 0; k8 <= this.a_kazu; k8++)
			{
				if(!this.co_a[k8].gf)
					continue;
				var characterobject = this.co_a[k8];
				if(characterobject.c >= 100 && characterobject.c < 200)
				{
					if(this.co_j.x + 15 >= characterobject.x && this.co_j.x <= characterobject.x + 64 && this.co_j.y + 31 >= characterobject.y && this.co_j.y <= characterobject.y + 13)
					{
						this.co_j.x = characterobject.x + 65;
						this.co_j.vx = 0;
					}
					continue;
				}
				if(characterobject.c == 300)
				{
					if(characterobject.c3 < 200 && this.co_j.x + 15 >= characterobject.x && this.co_j.x <= characterobject.x + 48 && this.co_j.y + 31 >= characterobject.y && this.co_j.y <= characterobject.y + 31)
					{
						this.co_j.x = characterobject.x + 49;
						this.co_j.vx = 0;
					}
					continue;
				}
				if(characterobject.c >= 400 && characterobject.c < 500)
				{
					if(this.co_j.x + 15 < characterobject.x || this.co_j.x > characterobject.x + 80 || this.co_j.y + 31 < characterobject.y || this.co_j.y > characterobject.y + 63)
						continue;
					if(characterobject.c4 == 16 && characterobject.c == 410 && this.souko_count3 != 1 && characterobject.vx != 1)
					{
						if(this.maps.getBGCode(characterobject.x, characterobject.y + 64) < 18 && this.maps.getBGCode(characterobject.x + 31, characterobject.y + 64) < 18 && this.maps.getBGCode(characterobject.x + 63, characterobject.y + 64) < 18 && this.maps.getBGCode(characterobject.x + 95, characterobject.y + 64) < 18)
						{
							var flag9 = false;
							var j29 = -1;
							var j11 = 0;
							do
							{
								if(j11 > this.a_kazu)
									break;
								if(this.co_a[j11].c == 410 && this.co_a[j11].c4 == 16 && j11 != k8 && this.co_a[j11].x + 95 >= characterobject.x && this.co_a[j11].x <= characterobject.x + 95 && characterobject.y + 64 >= this.co_a[j11].y && characterobject.y + 16 <= this.co_a[j11].y)
								{
									flag9 = true;
									characterobject.y = this.co_a[j11].y - 64;
									j29 = j11;
									break;
								}
								j11++;
							} while(true);
							if(flag9)
							{
								var l23 = characterobject.x;
								var i28 = characterobject.x;
								characterobject.x = (this.co_j.x + 15) - 96;
								if(characterobject.x < l23 - 4)
								{
									characterobject.x = l23 - 4;
									if(this.co_j.vx < -40)
										this.co_j.vx = -40;
								}
								if(this.maps.getBGCode(characterobject.x, characterobject.y) >= 18 || this.maps.getBGCode(characterobject.x, characterobject.y + 31) >= 18 || this.maps.getBGCode(characterobject.x, characterobject.y + 63) >= 18)
								{
									characterobject.x = rightShiftIgnoreSign(characterobject.x, 5) * 32 + 32;
									this.co_j.vx = 0;
								}
								for(var k11 = 0; k11 <= this.a_kazu; k11++)
								{
									if(this.co_a[k11].c != 3000 || this.co_a[k11].y != characterobject.y || i28 <= this.co_a[k11].x || characterobject.x > this.co_a[k11].x)
										continue;
									characterobject.x = this.co_a[k11].x;
									this.co_j.vx = 0;
									if(this.co_a[k11].c3 == 1)
										characterobject.vx = 1;
								}

								var flag10 = false;
								var l11 = 0;
								do
								{
									if(l11 > this.a_kazu)
										break;
									if(this.co_a[l11].c == 410 && this.co_a[l11].c4 == 16 && l11 != k8 && this.co_a[l11].x + 95 >= characterobject.x && this.co_a[l11].x <= characterobject.x + 95 && characterobject.y + 64 >= this.co_a[l11].y && characterobject.y + 16 <= this.co_a[l11].y)
									{
										flag10 = true;
										characterobject.y = this.co_a[l11].y - 64;
										break;
									}
									l11++;
								} while(true);
								if(!flag10 && this.maps.getBGCode(characterobject.x, characterobject.y + 64) < 18 && this.maps.getBGCode(characterobject.x + 31, characterobject.y + 64) < 18 && this.maps.getBGCode(characterobject.x + 63, characterobject.y + 64) < 18 && this.maps.getBGCode(characterobject.x + 95, characterobject.y + 64) < 18)
								{
									if(j29 >= 0)
										characterobject.x = this.co_a[j29].x - 96;
									else
										characterobject.x = rightShiftIgnoreSign(characterobject.x + 31, 5) * 32;
									this.co_j.vx = 0;
								}
								if(j29 >= 0 && this.co_a[j29].x - 96 >= characterobject.x && this.maps.getBGCode(this.co_a[j29].x - 96, characterobject.y + 64) < 18 && this.maps.getBGCode((this.co_a[j29].x - 96) + 31, characterobject.y + 64) < 18 && this.maps.getBGCode((this.co_a[j29].x - 96) + 63, characterobject.y + 64) < 18 && this.maps.getBGCode((this.co_a[j29].x - 96) + 95, characterobject.y + 64) < 18)
									characterobject.x = this.co_a[j29].x - 96;
								this.co_j.x = characterobject.x + 81;
							} else
							{
								this.co_j.x = characterobject.x + 81;
								this.co_j.vx = 0;
							}
							continue;
						}
						var i24 = characterobject.x;
						var j28 = characterobject.x;
						characterobject.x = (this.co_j.x + 15) - 96;
						if(characterobject.x < i24 - 4)
						{
							characterobject.x = i24 - 4;
							if(this.co_j.vx < -40)
								this.co_j.vx = -40;
						}
						if(this.maps.getBGCode(characterobject.x, characterobject.y) >= 18 || this.maps.getBGCode(characterobject.x, characterobject.y + 31) >= 18 || this.maps.getBGCode(characterobject.x, characterobject.y + 63) >= 18)
						{
							characterobject.x = rightShiftIgnoreSign(characterobject.x, 5) * 32 + 32;
							this.co_j.vx = 0;
						}
						for(var i12 = 0; i12 <= this.a_kazu; i12++)
							if(this.co_a[i12].c == 410 && this.co_a[i12].c4 == 16 && i12 != k8 && this.co_a[i12].x + 95 >= characterobject.x && this.co_a[i12].x <= characterobject.x + 95 && characterobject.y + 63 >= this.co_a[i12].y && characterobject.y <= this.co_a[i12].y + 63)
								characterobject.x = this.co_a[i12].x + 96;

						if(this.maps.getBGCode(characterobject.x, characterobject.y + 64) < 18 && this.maps.getBGCode(characterobject.x + 31, characterobject.y + 64) < 18 && this.maps.getBGCode(characterobject.x + 63, characterobject.y + 64) < 18 && this.maps.getBGCode(characterobject.x + 95, characterobject.y + 64) < 18)
							characterobject.x = rightShiftIgnoreSign(characterobject.x + 31, 5) * 32;
						if(rightShiftIgnoreSign(characterobject.x + 31, 5) < rightShiftIgnoreSign(j28 + 31, 5) && this.maps.getBGCode(rightShiftIgnoreSign(characterobject.x + 31, 5) * 32, characterobject.y + 64) < 18 && this.maps.getBGCode(rightShiftIgnoreSign(characterobject.x + 31, 5) * 32 + 31, characterobject.y + 64) < 18 && this.maps.getBGCode(rightShiftIgnoreSign(characterobject.x + 31, 5) * 32 + 63, characterobject.y + 64) < 18 && this.maps.getBGCode(rightShiftIgnoreSign(characterobject.x + 31, 5) * 32 + 95, characterobject.y + 64) < 18)
							characterobject.x = rightShiftIgnoreSign(characterobject.x + 31, 5) * 32;
						for(var j12 = 0; j12 <= this.a_kazu; j12++)
						{
							if(this.co_a[j12].c != 3000 || this.co_a[j12].y != characterobject.y || j28 <= this.co_a[j12].x || characterobject.x > this.co_a[j12].x)
								continue;
							characterobject.x = this.co_a[j12].x;
							this.co_j.vx = 0;
							if(this.co_a[j12].c3 == 1)
								characterobject.vx = 1;
						}

						this.co_j.x = characterobject.x + 81;
					} else
					{
						this.co_j.x = characterobject.x + 81;
						this.co_j.vx = 0;
					}
					continue;
				}
				if(characterobject.c == 500)
				{
					if(this.co_j.x + 15 >= characterobject.x && this.co_j.x <= characterobject.x + 80 && this.co_j.y + 31 >= characterobject.y && this.co_j.y <= characterobject.y + 13)
					{
						this.co_j.x = characterobject.x + 81;
						this.co_j.vx = 0;
					}
					continue;
				}
				if(characterobject.c >= 600 && characterobject.c < 700)
				{
					if(this.co_j.x + 15 >= characterobject.x && this.co_j.x <= characterobject.x + 48 && this.co_j.y + 31 >= characterobject.y + 16 && this.co_j.y <= characterobject.y + 47)
					{
						this.co_j.x = characterobject.x + 49;
						this.co_j.vx = 0;
					}
					continue;
				}
				if(characterobject.c == 700)
				{
					if(this.j_tokugi != 10 && this.j_tokugi != 12 && this.j_tokugi != 13 && this.co_j.x + 15 >= characterobject.x && this.co_j.x <= characterobject.x + 16 && this.co_j.y + 31 >= characterobject.y && this.co_j.y <= characterobject.y + 31)
					{
						this.co_j.x = characterobject.x + 17;
						this.co_j.vx = 0;
					}
					continue;
				}
				if(characterobject.c == 3100 && this.co_j.x + 15 >= characterobject.x && this.co_j.x + 15 <= characterobject.x + 31 && this.co_j.y + 31 >= characterobject.y && this.co_j.y <= characterobject.y + 127 && j5 + 15 >= characterobject.x + 32)
				{
					this.co_j.x = (characterobject.x + 32) - 15;
					this.co_j.vx = 0;
				}
			}

		}
		if(this.yuka_id_max >= 0)
			this.atariYuka(0);
		var i1 = rightShiftIgnoreSign(this.co_j.x + 15, 5);
		var word14 = this.maps.map_bg[i1][rightShiftIgnoreSign(this.co_j.y, 5)];
		var l3 = rightShiftIgnoreSign(this.co_j.y + 31, 5);
		var word6 = this.maps.map_bg[i1][l3];
		if(word14 >= 20 || word6 >= 20)
		{
			this.co_j.x = i1 * 32 + 17;
			this.co_j.vx = 0;
		}
		if(this.co_j.vx >= 0)
			this.j_cannon_c = 0;
	} else
	if(this.co_j.vx > 0)
	{
		this.co_j.x += rounddown(this.co_j.vx / 10);
		if(this.yuka_ride_id >= 0)
			if(this.yo[this.yuka_ride_id].con >= 200 && this.yo[this.yuka_ride_id].con < 300)
			{
				var j24 = this.getSLOY(this.yo[this.yuka_ride_id].x, this.yo[this.yuka_ride_id].y, this.yo[this.yuka_ride_id].x2, this.yo[this.yuka_ride_id].y2);
				if(j24 >= 0)
				{
					this.co_j.y = j24;
					if(this.yo[this.yuka_ride_id].y < this.yo[this.yuka_ride_id].y2 && this.maps.getBGCode(this.co_j.x + 15, this.co_j.y + 31) >= 20)
						this.co_j.y = rightShiftIgnoreSign(this.co_j.y + 31, 5) * 32 - 32;
				} else
				{
					this.co_j.y = this.yo[this.yuka_ride_id].y2 - 32;
					var l8;
					for(l8 = 0; l8 <= this.yuka_id_max; l8++)
					{
						if(this.yo[l8].con < 200 || this.yo[l8].con >= 300 || this.yo[l8].x != this.yo[this.yuka_ride_id].x2 || this.yo[l8].y != this.yo[this.yuka_ride_id].y2)
							continue;
						var k24 = this.getSLOY(this.yo[l8].x, this.yo[l8].y, this.yo[l8].x2, this.yo[l8].y2);
						if(k24 < 0)
							continue;
						this.co_j.y = k24;
						break;
					}

					if(l8 > this.yuka_id_max)
						if(this.yo[this.yuka_ride_id].y >= this.yo[this.yuka_ride_id].y2)
							this.co_j.vy = 0;
						else
							this.co_j.vy = 75;
				}
			} else
			if(this.yo[this.yuka_ride_id].con >= 300 && this.yo[this.yuka_ride_id].con < 350)
			{
				var l24 = this.getSCOY(this.yo[this.yuka_ride_id].x, this.yo[this.yuka_ride_id].y, this.yo[this.yuka_ride_id].x2, this.yo[this.yuka_ride_id].y2);
				if(l24 >= 0)
				{
					this.co_j.y = l24;
					if(this.maps.getBGCode(this.co_j.x + 15, this.co_j.y + 31) >= 20)
						this.co_j.y = rightShiftIgnoreSign(this.co_j.y + 31, 5) * 32 - 32;
				} else
				{
					var i25 = rounddown((this.yo[this.yuka_ride_id].x2 * 90) / 100);
					this.co_j.y = this.yo[this.yuka_ride_id].y - Math.floor(Math.sqrt(this.yo[this.yuka_ride_id].x2 * this.yo[this.yuka_ride_id].x2 - i25 * i25)) - 32;
				}
			} else
			if(this.yo[this.yuka_ride_id].con >= 350 && this.yo[this.yuka_ride_id].con < 400)
			{
				var j25 = this.getSHCOY(this.yo[this.yuka_ride_id].x, this.yo[this.yuka_ride_id].y, this.yo[this.yuka_ride_id].x2, this.yo[this.yuka_ride_id].y2);
				if(j25 >= 0)
				{
					this.co_j.y = j25;
					if(this.maps.getBGCode(this.co_j.x + 15, this.co_j.y + 31) >= 20)
						this.co_j.y = rightShiftIgnoreSign(this.co_j.y + 31, 5) * 32 - 32;
				} else
				{
					this.co_j.y = this.yo[this.yuka_ride_id].y + 32;
				}
			} else
			if(this.yo[this.yuka_ride_id].con >= 400 && this.yo[this.yuka_ride_id].con < 450)
			{
				var k25 = this.getSWUpOY(this.yo[this.yuka_ride_id].x, this.yo[this.yuka_ride_id].y, this.yo[this.yuka_ride_id].x2, this.yo[this.yuka_ride_id].y2);
				if(k25 >= 0)
				{
					this.co_j.y = k25;
					if(this.maps.getBGCode(this.co_j.x + 15, this.co_j.y + 31) >= 20)
						this.co_j.y = rightShiftIgnoreSign(this.co_j.y + 31, 5) * 32 - 32;
				} else
				{
					this.co_j.y = this.yo[this.yuka_ride_id].y - 32;
					var i9 = 0;
					do
					{
						if(i9 > this.yuka_id_max)
							break;
						if(this.yo[i9].con >= 450 && this.yo[i9].con < 500 && this.yo[i9].x == this.yo[this.yuka_ride_id].x + 256 && this.yo[i9].y == this.yo[this.yuka_ride_id].y)
						{
							var l25 = this.getSWDownOY(this.yo[i9].x, this.yo[i9].y, this.yo[i9].x2, this.yo[i9].y2);
							if(l25 >= 0)
							{
								this.co_j.y = l25;
								break;
							}
						}
						i9++;
					} while(true);
				}
			} else
			if(this.yo[this.yuka_ride_id].con >= 450 && this.yo[this.yuka_ride_id].con < 500)
			{
				var i26 = this.getSWDownOY(this.yo[this.yuka_ride_id].x, this.yo[this.yuka_ride_id].y, this.yo[this.yuka_ride_id].x2, this.yo[this.yuka_ride_id].y2);
				if(i26 >= 0)
				{
					this.co_j.y = i26;
					if(this.maps.getBGCode(this.co_j.x + 15, this.co_j.y + 31) >= 20)
						this.co_j.y = rightShiftIgnoreSign(this.co_j.y + 31, 5) * 32 - 32;
				} else
				{
					this.co_j.y = (this.yo[this.yuka_ride_id].y + 128) - 32;
					for(var j9 = 0; j9 <= this.yuka_id_max; j9++)
					{
						if(this.yo[j9].con < 450 || this.yo[j9].con >= 500 || this.yo[j9].x != this.yo[this.yuka_ride_id].x + 256 || this.yo[j9].y != this.yo[this.yuka_ride_id].y + 128)
							continue;
						var j26 = this.getSWDownOY(this.yo[j9].x, this.yo[j9].y, this.yo[j9].x2, this.yo[j9].y2);
						if(j26 < 0)
							continue;
						this.co_j.y = j26;
						break;
					}

				}
			}
		if(this.co_j.jimen_f)
			if(word0 == 18)
			{
				if(i < rightShiftIgnoreSign(this.co_j.x + 15, 5))
				{
					this.co_j.y = (j2 - 1) * 32;
					if(this.maps.map_bg[rightShiftIgnoreSign(this.co_j.x + 15, 5)][j2 - 1] == 18)
						this.co_j.y = this.getSakamichiY(this.co_j.x + 15, this.co_j.y + 31);
					else
					if(this.maps.map_bg[rightShiftIgnoreSign(this.co_j.x + 15, 5)][j2] == 19)
						this.co_j.y = this.getSakamichiY(this.co_j.x + 15, this.co_j.y + 32);
					else
					if(this.maps.map_bg[rightShiftIgnoreSign(this.co_j.x + 15, 5)][j2] < 18 && this.maps.map_bg[rightShiftIgnoreSign(this.co_j.x + 15, 5)][j2] != 15)
					{
						this.co_j.vy = this.co_j.vx * -1;
						if((this.j_tokugi == 10 || this.j_tokugi == 12 || this.j_tokugi == 13) && this.co_j.vy < -40)
							this.co_j.vy = -40;
						this.co_j.y += rounddown(this.co_j.vy / -10);
					}
				} else
				{
					this.co_j.y = this.getSakamichiY(this.co_j.x + 15, this.co_j.y + 31);
				}
			} else
			if(word0 == 19)
			{
				if(i < rightShiftIgnoreSign(this.co_j.x + 15, 5))
				{
					this.co_j.y = j2 * 32;
					if(this.maps.map_bg[rightShiftIgnoreSign(this.co_j.x + 15, 5)][j2] == 18)
						this.co_j.y = this.getSakamichiY(this.co_j.x + 15, this.co_j.y + 31);
					else
					if(this.maps.map_bg[rightShiftIgnoreSign(this.co_j.x + 15, 5)][j2 + 1] == 19)
						this.co_j.y = this.getSakamichiY(this.co_j.x + 15, (j2 + 1) * 32);
					else
					if(this.maps.map_bg[rightShiftIgnoreSign(this.co_j.x + 15, 5)][j2 + 1] < 18)
					{
						this.co_j.vy = this.co_j.vx;
						this.co_j.y += rounddown(this.co_j.vx / 10);
					}
				} else
				{
					this.co_j.y = this.getSakamichiY(this.co_j.x + 15, this.co_j.y + 31);
				}
			} else
			if((word2 >= 20 || word2 == 10 || word2 == 15) && i < rightShiftIgnoreSign(this.co_j.x + 15, 5))
			{
				this.co_j.y = j2 * 32;
				if(this.maps.map_bg[rightShiftIgnoreSign(this.co_j.x + 15, 5)][j2 + 1] == 19)
					this.co_j.y = this.getSakamichiY(this.co_j.x + 15, (j2 + 1) * 32);
			}
		if(this.co_j.jimen_f)
		{
			var j1 = rightShiftIgnoreSign(this.co_j.x + 15, 5);
			var word15 = this.maps.map_bg[j1][rightShiftIgnoreSign(this.co_j.y, 5)];
			var i4 = rightShiftIgnoreSign(this.co_j.y + 31, 5);
			var word7 = this.maps.map_bg[j1][i4];
			if((word15 == 19 && !this.map_data_option[j1][rightShiftIgnoreSign(this.co_j.y, 5)] || word7 == 19 && !this.map_data_option[j1][i4]) && i < j1 && this.co_j.y > this.getSakamichiY(this.co_j.x + 15, this.co_j.y + 31))
			{
				this.co_j.x = j1 * 32 - 16;
				this.co_j.vx = 0;
			}
		} else
		{
			var k1 = rightShiftIgnoreSign(this.co_j.x + 15, 5);
			var word16 = this.maps.map_bg[k1][rightShiftIgnoreSign(this.co_j.y, 5)];
			var j4 = rightShiftIgnoreSign(this.co_j.y + 31, 5);
			var word8 = this.maps.map_bg[k1][j4];
			if(word0 == 18 && flag && i < k1 && (this.saka_mushi_y < 0 || j4 != this.saka_mushi_y && j4 != this.saka_mushi_y + 1))
			{
				this.co_j.y = j2 * 32 - 32;
				if(this.maps.map_bg[k1][j4] == 18)
					this.co_j.y = this.getSakamichiY(this.co_j.x + 15, this.co_j.y + 31);
			}
			if((word16 == 19 && !this.map_data_option[k1][rightShiftIgnoreSign(this.co_j.y, 5)] || word8 == 19 && !this.map_data_option[k1][j4]) && i < k1)
			{
				this.co_j.x = k1 * 32 - 16;
				this.co_j.vx = 0;
			}
			if(word16 == 18 && !this.map_data_option[k1][rightShiftIgnoreSign(this.co_j.y, 5)] && i < k1)
			{
				this.co_j.x = k1 * 32 - 16;
				this.co_j.vx = 0;
			}
		}
		if(this.a_hf)
		{
			for(var k9 = 0; k9 <= this.a_kazu; k9++)
			{
				if(!this.co_a[k9].gf)
					continue;
				var characterobject1 = this.co_a[k9];
				if(characterobject1.c >= 100 && characterobject1.c < 200)
				{
					if(this.co_j.x + 15 >= characterobject1.x && this.co_j.x <= characterobject1.x + 64 && this.co_j.y + 31 >= characterobject1.y && this.co_j.y <= characterobject1.y + 13)
					{
						this.co_j.x = characterobject1.x - 16;
						this.co_j.vx = 0;
					}
					continue;
				}
				if(characterobject1.c == 300)
				{
					if(characterobject1.c3 < 200 && this.co_j.x + 15 >= characterobject1.x && this.co_j.x <= characterobject1.x + 48 && this.co_j.y + 31 >= characterobject1.y && this.co_j.y <= characterobject1.y + 31)
					{
						this.co_j.x = characterobject1.x - 16;
						this.co_j.vx = 0;
					}
					continue;
				}
				if(characterobject1.c >= 400 && characterobject1.c < 500)
				{
					if(this.co_j.x + 15 < characterobject1.x || this.co_j.x > characterobject1.x + 80 || this.co_j.y + 31 < characterobject1.y || this.co_j.y > characterobject1.y + 63)
						continue;
					if(characterobject1.c4 == 16 && characterobject1.c == 410 && this.souko_count3 != 1 && characterobject1.vx != 1)
					{
						if(this.maps.getBGCode(characterobject1.x, characterobject1.y + 64) < 18 && this.maps.getBGCode(characterobject1.x + 31, characterobject1.y + 64) < 18 && this.maps.getBGCode(characterobject1.x + 63, characterobject1.y + 64) < 18 && this.maps.getBGCode(characterobject1.x + 95, characterobject1.y + 64) < 18)
						{
							var flag11 = false;
							var k29 = -1;
							var k12 = 0;
							do
							{
								if(k12 > this.a_kazu)
									break;
								if(this.co_a[k12].c == 410 && this.co_a[k12].c4 == 16 && k12 != k9 && this.co_a[k12].x + 95 >= characterobject1.x && this.co_a[k12].x <= characterobject1.x + 95 && characterobject1.y + 64 >= this.co_a[k12].y && characterobject1.y + 16 <= this.co_a[k12].y)
								{
									flag11 = true;
									characterobject1.y = this.co_a[k12].y - 64;
									k29 = k12;
									break;
								}
								k12++;
							} while(true);
							if(flag11)
							{
								var k26 = characterobject1.x;
								var k28 = characterobject1.x;
								characterobject1.x = this.co_j.x + 16;
								if(characterobject1.x > k26 + 4)
								{
									characterobject1.x = k26 + 4;
									if(this.co_j.vx > 40)
										this.co_j.vx = 40;
								}
								if(this.maps.getBGCode(characterobject1.x + 95, characterobject1.y) >= 18 || this.maps.getBGCode(characterobject1.x + 95, characterobject1.y + 31) >= 18 || this.maps.getBGCode(characterobject1.x + 95, characterobject1.y + 63) >= 18)
								{
									characterobject1.x = rightShiftIgnoreSign(characterobject1.x + 95, 5) * 32 - 96;
									this.co_j.vx = 0;
								}
								for(var l12 = 0; l12 <= this.a_kazu; l12++)
								{
									if(this.co_a[l12].c != 3000 || this.co_a[l12].y != characterobject1.y || k28 >= this.co_a[l12].x || characterobject1.x < this.co_a[l12].x)
										continue;
									characterobject1.x = this.co_a[l12].x;
									this.co_j.vx = 0;
									if(this.co_a[l12].c3 == 1)
										characterobject1.vx = 1;
								}

								var flag12 = false;
								var i13 = 0;
								do
								{
									if(i13 > this.a_kazu)
										break;
									if(this.co_a[i13].c == 410 && this.co_a[i13].c4 == 16 && i13 != k9 && this.co_a[i13].x + 95 >= characterobject1.x && this.co_a[i13].x <= characterobject1.x + 95 && characterobject1.y + 64 >= this.co_a[i13].y && characterobject1.y + 16 <= this.co_a[i13].y)
									{
										flag12 = true;
										characterobject1.y = this.co_a[i13].y - 64;
										break;
									}
									i13++;
								} while(true);
								if(!flag12 && this.maps.getBGCode(characterobject1.x, characterobject1.y + 64) < 18 && this.maps.getBGCode(characterobject1.x + 31, characterobject1.y + 64) < 18 && this.maps.getBGCode(characterobject1.x + 63, characterobject1.y + 64) < 18 && this.maps.getBGCode(characterobject1.x + 95, characterobject1.y + 64) < 18)
								{
									if(k29 >= 0)
										characterobject1.x = this.co_a[k29].x + 96;
									else
										characterobject1.x = rightShiftIgnoreSign(characterobject1.x, 5) * 32;
									this.co_j.vx = 0;
								}
								if(k29 >= 0 && this.co_a[k29].x + 96 <= characterobject1.x && this.maps.getBGCode(this.co_a[k29].x + 96, characterobject1.y + 64) < 18 && this.maps.getBGCode(this.co_a[k29].x + 96 + 31, characterobject1.y + 64) < 18 && this.maps.getBGCode(this.co_a[k29].x + 96 + 63, characterobject1.y + 64) < 18 && this.maps.getBGCode(this.co_a[k29].x + 96 + 95, characterobject1.y + 64) < 18)
									characterobject1.x = this.co_a[k29].x + 96;
								this.co_j.x = characterobject1.x - 16;
							} else
							{
								this.co_j.x = characterobject1.x - 16;
								this.co_j.vx = 0;
							}
							continue;
						}
						var l26 = characterobject1.x;
						var l28 = characterobject1.x;
						characterobject1.x = this.co_j.x + 16;
						if(characterobject1.x > l26 + 4)
						{
							characterobject1.x = l26 + 4;
							if(this.co_j.vx > 40)
								this.co_j.vx = 40;
						}
						if(this.maps.getBGCode(characterobject1.x + 95, characterobject1.y) >= 18 || this.maps.getBGCode(characterobject1.x + 95, characterobject1.y + 31) >= 18 || this.maps.getBGCode(characterobject1.x + 95, characterobject1.y + 63) >= 18)
						{
							characterobject1.x = rightShiftIgnoreSign(characterobject1.x + 95, 5) * 32 - 96;
							this.co_j.vx = 0;
						}
						for(var j13 = 0; j13 <= this.a_kazu; j13++)
							if(this.co_a[j13].c == 410 && this.co_a[j13].c4 == 16 && j13 != k9 && this.co_a[j13].x + 95 >= characterobject1.x && this.co_a[j13].x <= characterobject1.x + 95 && characterobject1.y + 63 >= this.co_a[j13].y && characterobject1.y <= this.co_a[j13].y + 63)
								characterobject1.x = this.co_a[j13].x - 96;

						if(this.maps.getBGCode(characterobject1.x, characterobject1.y + 64) < 18 && this.maps.getBGCode(characterobject1.x + 31, characterobject1.y + 64) < 18 && this.maps.getBGCode(characterobject1.x + 63, characterobject1.y + 64) < 18 && this.maps.getBGCode(characterobject1.x + 95, characterobject1.y + 64) < 18)
							characterobject1.x = rightShiftIgnoreSign(characterobject1.x, 5) * 32;
						if(rightShiftIgnoreSign(characterobject1.x, 5) > rightShiftIgnoreSign(l28, 5) && this.maps.getBGCode(rightShiftIgnoreSign(characterobject1.x, 5) * 32, characterobject1.y + 64) < 18 && this.maps.getBGCode(rightShiftIgnoreSign(characterobject1.x, 5) * 32 + 31, characterobject1.y + 64) < 18 && this.maps.getBGCode(rightShiftIgnoreSign(characterobject1.x, 5) * 32 + 63, characterobject1.y + 64) < 18 && this.maps.getBGCode(rightShiftIgnoreSign(characterobject1.x, 5) * 32 + 95, characterobject1.y + 64) < 18)
							characterobject1.x = rightShiftIgnoreSign(characterobject1.x, 5) * 32;
						for(var k13 = 0; k13 <= this.a_kazu; k13++)
						{
							if(this.co_a[k13].c != 3000 || this.co_a[k13].y != characterobject1.y || l28 >= this.co_a[k13].x || characterobject1.x < this.co_a[k13].x)
								continue;
							characterobject1.x = this.co_a[k13].x;
							this.co_j.vx = 0;
							if(this.co_a[k13].c3 == 1)
								characterobject1.vx = 1;
						}

						this.co_j.x = characterobject1.x - 16;
					} else
					{
						this.co_j.x = characterobject1.x - 16;
						this.co_j.vx = 0;
					}
					continue;
				}
				if(characterobject1.c == 500)
				{
					if(this.co_j.x + 15 >= characterobject1.x && this.co_j.x <= characterobject1.x + 80 && this.co_j.y + 31 >= characterobject1.y && this.co_j.y <= characterobject1.y + 13)
					{
						this.co_j.x = characterobject1.x - 16;
						this.co_j.vx = 0;
					}
					continue;
				}
				if(characterobject1.c >= 600 && characterobject1.c < 700)
				{
					if(this.co_j.x + 15 >= characterobject1.x && this.co_j.x <= characterobject1.x + 48 && this.co_j.y + 31 >= characterobject1.y + 16 && this.co_j.y <= characterobject1.y + 47)
					{
						this.co_j.x = characterobject1.x - 16;
						this.co_j.vx = 0;
					}
					continue;
				}
				if(characterobject1.c == 700)
				{
					if(this.j_tokugi != 10 && this.j_tokugi != 12 && this.j_tokugi != 13 && this.co_j.x + 15 >= characterobject1.x && this.co_j.x <= characterobject1.x + 16 && this.co_j.y + 31 >= characterobject1.y && this.co_j.y <= characterobject1.y + 31)
					{
						this.co_j.x = characterobject1.x - 16;
						this.co_j.vx = 0;
					}
					continue;
				}
				if(characterobject1.c == 3110 && this.co_j.x + 15 >= characterobject1.x && this.co_j.x + 15 <= characterobject1.x + 31 && this.co_j.y + 31 >= characterobject1.y && this.co_j.y <= characterobject1.y + 127 && j5 + 15 < characterobject1.x)
				{
					this.co_j.x = characterobject1.x - 16;
					this.co_j.vx = 0;
				}
			}

		}
		if(this.yuka_id_max >= 0)
			this.atariYuka(1);
		var l1 = rightShiftIgnoreSign(this.co_j.x + 15, 5);
		var word17 = this.maps.map_bg[l1][rightShiftIgnoreSign(this.co_j.y, 5)];
		var k4 = rightShiftIgnoreSign(this.co_j.y + 31, 5);
		var word9 = this.maps.map_bg[l1][k4];
		if(word17 >= 20 || word9 >= 20)
		{
			this.co_j.x = l1 * 32 - 16;
			this.co_j.vx = 0;
		}
		if(this.co_j.vx <= 0)
			this.j_cannon_c = 0;
	}
	if(!this.j_mizu_f && this.checkWater(this.co_j.x + 15, this.co_j.y + 15))
	{
		this.j_mizu_f = true;
		this.j_mizu_awa_c = 38;
	} else
	if(this.j_mizu_f && !this.checkWater(this.co_j.x + 15, this.co_j.y + 15))
	{
		this.j_jump_type = 2;
		this.co_j.pt = 101;
		this.co_j.ac = 0;
		this.co_j.vy = 0;
		this.j_jump_level = 1;
	}
	if(this.co_j.jimen_f)
	{
		if(this.gk.tr1_c >= 1 && this.gk.tr1_c <= 5)
		{
			if(this.jst_pc_attack == 1 && this.gk.tr1_c == 1 && this.gk.down_f && this.j_cannon_c <= 0 && (this.co_j.muki == 0 && this.maps.getBGCode(this.co_j.x + 14, this.co_j.y + 31) < 20 || this.co_j.muki == 1 && this.maps.getBGCode(this.co_j.x + 16, this.co_j.y + 31) < 20))
			{
				this.j_zan_f = false;
				this.j_jet_c = 0;
				if(this.co_j.muki == 0)
					this.co_j.vx = -140;
				else
					this.co_j.vx = 140;
				this.co_j.vy = 0;
				this.j_jump_type = 0;
				this.co_j.ac = 0;
				this.j_jump_level = 5;
				this.j_djump_kf = true;
				this.co_j.pt = 1400;
				this.j_cannon_c = 18;
				this.j_cannon_type = 3;
				this.gs.rsAddSound(17);
			} else
			if(this.jst_pc_attack == 2 && this.gk.tr1_c == 1 && this.gk.down_f && this.j_cannon_c <= 0 && (this.co_j.muki == 0 && this.maps.getBGCode(this.co_j.x + 14, this.co_j.y + 31) < 20 || this.co_j.muki == 1 && this.maps.getBGCode(this.co_j.x + 16, this.co_j.y + 31) < 20))
			{
				this.j_zan_f = false;
				this.j_jet_c = 0;
				if(this.co_j.muki == 0)
					this.co_j.vx = -140;
				else
					this.co_j.vx = 140;
				this.co_j.vy = 0;
				this.j_jump_type = 0;
				this.co_j.ac = 0;
				this.j_jump_level = 5;
				this.j_djump_kf = true;
				this.co_j.pt = 84;
				this.j_cannon_c = 18;
				this.j_cannon_type = 4;
				this.gs.rsAddSound(23);
			} else
			if(this.maps.getBGCode(this.co_j.x + 15, this.co_j.y - 1) >= 20 || this.maps.getBGCode(this.co_j.x + 15, this.co_j.y - 1) == 18 && !this.map_data_option[rightShiftIgnoreSign(this.co_j.x + 15, 5)][rightShiftIgnoreSign(this.co_j.y - 1, 5)])
			{
				if((this.j_tokugi != 10 && this.j_tokugi != 12 && this.j_tokugi != 13 || !this.gk.z_f) && this.gk.tr1_c == 1 && this.maps.getBGCode(this.co_j.x + 15, this.co_j.y - 1) == 40)
				{
					var l14 = rightShiftIgnoreSign(this.co_j.x + 15, 5);
					var l16 = rightShiftIgnoreSign(this.co_j.y - 1, 5);
					this.hAttack(l14, l16);
				}
				l29 = this.maps.getBGCode(this.co_j.x + 15, this.co_j.y - 1);
				if((this.j_tokugi != 12 && this.j_tokugi != 13 || !this.gk.z_f) && this.j_helm_f && (l29 == 20 || l29 == 69 && this.suberuyuka_hkf == 1))
				{
					this.gk.tr1_c = 6;
					var i15 = rightShiftIgnoreSign(this.co_j.x + 15, 5);
					var i17 = rightShiftIgnoreSign(this.co_j.y - 1, 5);
					if(this.maps.map_bg[rightShiftIgnoreSign(this.co_j.x + 15, 5)][rightShiftIgnoreSign(this.co_j.y - 1, 5) + 1] == 4)
						this.maps.putBGCode(i15, i17, 4);
					else
						this.maps.putBGCode(i15, i17, 0);
					if(this.j_tokugi == 12 || this.j_tokugi == 13)
					{
						this.anaSet2(i15, i17);
					} else
					{
						this.mSet2(i15 * 32, i17 * 32, 80, 12, -24);
						this.mSet2(i15 * 32, i17 * 32, 80, -12, -24);
					}
					this.gs.rsAddSound(16);
					this.jZutuki(i15 * 32, i17 * 32 - 32, 0);
				}
			} else
			{
				if(this.j_tokugi == 10 || this.j_tokugi == 12 || this.j_tokugi == 13)
				{
					if(this.gk.tr1_c == 1 && this.j_fire_f)
						if(this.gk.z_f)
							this.jmSet(this.co_j.x, this.co_j.y, 100);
						else
						if(this.co_j.muki == 0)
							this.jmSet(this.co_j.x, this.co_j.y, 100);
						else
							this.jmSet(this.co_j.x, this.co_j.y, 105);
					if(this.gk.tr1_c > 0 && this.j_jet_fuel > 0 && !this.j_mizu_f && !this.gk.z_f && !this.gk.x_f && this.maps.getBGCode(this.co_j.x + 15, this.co_j.y + 31) != 10)
					{
						this.j_jet_c = 100;
						this.j_jet_kf = true;
						this.co_j.vy = -90;
						this.j_jump_level = 1;
						this.co_j.x = rightShiftIgnoreSign(this.co_j.x + 15, 5) * 32;
						this.co_j.vx = 0;
						if(this.j_jump_type == 2)
							this.j_jump_type = 0;
						if(this.gk.tr1_c == 1)
							this.gs.rsAddSound(26);
					}
				}
				if((this.j_tokugi != 10 && this.j_tokugi != 12 && this.j_tokugi != 13 || this.j_mizu_f) && this.maps.getBGCode(this.co_j.x + 15, this.co_j.y + 31) != 10)
					if(this.j_mizu_f)
					{
						this.j_jump_type = 0;
						this.co_j.pt = 83;
						this.co_j.ac = 0;
						this.j_mizu_ac = 0;
						this.j_jet_kf = false;
						if(this.j_jdai_f)
						{
							this.co_j.y = rightShiftIgnoreSign(this.co_j.y, 5) * 32;
							this.co_j.vy = -120;
							this.j_jump_level = 0;
							this.gs.rsAddSound(3);
						} else
						if(Math.abs(this.co_j.vx) > 50)
						{
							this.co_j.vy = -90;
							this.j_jump_level = 0;
						} else
						{
							this.co_j.vy = -70;
							this.j_jump_level = 0;
						}
					} else
					{
						this.j_jump_type = 0;
						this.co_j.pt = 101;
						this.co_j.ac = 0;
						if(this.jst_fire_xkey_only != 1 && this.j_fire_f)
							if(this.j_fire_type == 4)
							{
								if(this.co_jm[0].c == 0)
								{
									this.co_jm[0].c = 106;
									this.co_jm[0].x = this.co_j.x;
									this.co_jm[0].y = this.co_j.y;
									this.co_jm[0].vx = 20;
									this.co_jm[0].vy = 0;
									this.co_jm[0].c1 = 0;
									this.co_jm[0].c2 = 0;
									if(this.co_j.muki == 0)
									{
										this.co_jm[0].c = 101;
										this.co_jm[0].vx = -20;
									}
									this.jm_kazu++;
									this.gs.rsAddSound(23);
								}
								if(this.co_jm[1].c == 0)
								{
									this.co_jm[1].c = 106;
									this.co_jm[1].x = this.co_j.x;
									this.co_jm[1].y = this.co_j.y;
									this.co_jm[1].vx = 14;
									this.co_jm[1].vy = -14;
									this.co_jm[1].c1 = 0;
									this.co_jm[1].c2 = 0;
									if(this.co_j.muki == 0)
									{
										this.co_jm[1].c = 101;
										this.co_jm[1].vx = -14;
									}
									this.jm_kazu++;
									this.gs.rsAddSound(23);
								}
							} else
							if(this.j_fire_type == 5)
							{
								if(this.co_j.muki == 0)
									this.jmSet(this.co_j.x, this.co_j.y, 110);
								else
									this.jmSet(this.co_j.x, this.co_j.y, 115);
							} else
							if(this.co_j.muki == 0)
								this.jmSet(this.co_j.x, this.co_j.y, 100);
							else
								this.jmSet(this.co_j.x, this.co_j.y, 105);
						this.j_jet_kf = false;
						var i27 = Math.abs(this.co_j.vx);
						if(this.j_jdai_f)
						{
							this.co_j.y = rightShiftIgnoreSign(this.co_j.y, 5) * 32;
							this.co_j.vy = -410;
							this.j_jump_level = 5;
							if(this.co_a[this.j_a_id].c3 <= 1)
							{
								this.co_j.vy = -230;
								this.gs.rsAddSound(3);
							} else
							{
								this.gs.rsAddSound(4);
								if(this.co_a[this.j_a_id].c4 == 1)
								{
									this.co_j.vy = -460;
									l29 = this.maps.map_bg[rightShiftIgnoreSign(this.co_j.x + 15, 5)][rightShiftIgnoreSign(this.co_j.y - 1, 5)];
									if(l29 <= 9)
									{
										for(var j6 = 0; j6 <= 5; j6++)
										{
											this.j_zan_x[j6] = j5;
											this.j_zan_y[j6] = this.co_a[this.j_a_id].y - 32;
											this.j_zan_pt[j6] = 101;
											this.j_zan_pth[j6] = this.co_j.muki;
										}

										this.j_zan_p = 0;
										this.j_zan_c = 0;
										this.j_zan_nagasa = 5;
										this.j_zan_f = true;
										this.j_zan_cf = true;
									}
								}
							}
						} else
						if(this.jst_pc_attack == 1 && this.j_cannon_c > 0 && this.j_cannon_type == 3)
						{
							this.co_j.pt = 1400;
							if(this.j_cannon_c <= 5)
							{
								this.co_j.pt = 102;
								this.co_j.vx = 0;
								if(this.co_j.jimen_f)
									this.co_j.pt = 100;
							}
						} else
						if(this.jst_pc_attack == 2 && this.j_cannon_c > 0 && this.j_cannon_type == 4)
						{
							this.co_j.pt = 84;
							if(this.j_cannon_c <= 5)
							{
								this.co_j.pt = 102;
								this.co_j.vx = 0;
								if(this.co_j.jimen_f)
									this.co_j.pt = 100;
							}
						} else
						if(this.jst_syouryuuken == 1 && this.gk.tr1_c == 1 && this.gk.up_f)
						{
							this.j_zan_f = false;
							this.j_jet_c = 0;
							this.co_j.vx = 0;
							this.co_j.vy = -140;
							this.j_jump_type = 0;
							this.co_j.ac = 0;
							this.j_jump_level = 5;
							this.j_djump_kf = true;
							this.co_j.pt = 1300;
							this.j_cannon_c = 9;
							this.j_cannon_type = 2;
							this.gs.rsAddSound(26);
						} else
						if(this.jst_syouryuuken == 2 && this.gk.tr1_c == 1 && this.gk.up_f)
						{
							this.j_zan_f = false;
							this.j_jet_c = 0;
							this.co_j.vx = 0;
							this.co_j.vy = -140;
							this.j_jump_type = 0;
							this.co_j.ac = 0;
							this.j_jump_level = 5;
							this.j_djump_kf = true;
							this.co_j.pt = 210;
							this.j_cannon_c = 9;
							this.j_cannon_type = 5;
							this.gs.rsAddSound(23);
						} else
						if(this.jst_jump_level_fix == 1)
						{
							this.co_j.vy = -150;
							this.j_jump_level = 1;
							this.gs.rsAddSound(3);
						} else
						if(this.jst_jump_level_fix == 2)
						{
							this.co_j.vy = -190;
							this.j_jump_level = 1;
							this.gs.rsAddSound(3);
						} else
						if(this.jst_jump_level_fix == 3)
						{
							this.co_j.vy = -230;
							this.j_jump_level = 1;
							this.gs.rsAddSound(3);
						} else
						if(this.jst_jump_level_fix == 4)
						{
							this.co_j.vy = -260;
							this.j_jump_level = 1;
							this.gs.rsAddSound(3);
						} else
						if(i27 == 0)
						{
							this.co_j.vy = -150;
							this.j_jump_level = 1;
							this.gs.rsAddSound(3);
						} else
						if(i27 < 60)
						{
							this.co_j.vy = -230;
							this.j_jump_level = 2;
							this.gs.rsAddSound(3);
						} else
						if(i27 == 60)
						{
							this.co_j.vy = -260;
							this.j_jump_level = 3;
							this.gs.rsAddSound(3);
						} else
						if(i27 < 120)
						{
							this.co_j.vy = -290;
							this.j_jump_level = 4;
							this.gs.rsAddSound(3);
						} else
						{
							this.co_j.vy = -340;
							this.j_jump_level = 5;
							if(this.jst_high_sjump == 1)
								this.co_j.vy = -390;
							l29 = this.maps.map_bg[rightShiftIgnoreSign(this.co_j.x + 15, 5)][rightShiftIgnoreSign(this.co_j.y - 1, 5)];
							if(l29 <= 9)
							{
								for(var k6 = 0; k6 <= 5; k6++)
								{
									this.j_zan_x[k6] = j5;
									this.j_zan_y[k6] = k5;
									this.j_zan_pt[k6] = 101;
									this.j_zan_pth[k6] = this.co_j.muki;
								}

								this.j_zan_p = 0;
								this.j_zan_c = 0;
								this.j_zan_nagasa = 5;
								this.j_zan_f = true;
								this.j_zan_cf = true;
								this.gs.rsAddSound(4);
							}
						}
					}
			}
		} else
		if(word0 != 18 && word0 != 19 || this.maps.map_bg[rightShiftIgnoreSign(this.co_j.x + 15, 5)][rightShiftIgnoreSign(this.co_j.y + 31, 5)] >= 18)
			this.co_j.vy = 0;
	} else
	{
		if((this.j_tokugi == 10 || this.j_tokugi == 12 || this.j_tokugi == 13) && !this.j_hashigo_f && !this.j_mizu_f && Math.abs(rightShiftIgnoreSign(this.co_j.x, 5) * 32 - this.co_j.x) < 6)
			this.co_j.x = rightShiftIgnoreSign(this.co_j.x + 15, 5) * 32;
		if(!this.j_mizu_f)
		{
			if(this.j_hashigo_f)
			{
				if(this.j_tokugi != 10 && this.j_tokugi != 12 && this.j_tokugi != 13 && this.gk.tr1_c == 1 && !this.gk.up_f && !this.gk.down_f)
					if(this.co_j.muki == 0 && this.maps.getBGCode(this.co_j.x - 1, this.co_j.y + 31) < 18 && this.maps.getBGCode(this.co_j.x - 1, this.co_j.y) < 18 && this.maps.getBGCode(this.co_j.x - 1, this.co_j.y + 31) != 10 && this.maps.getBGCode(this.co_j.x - 1, this.co_j.y) != 10)
					{
						this.co_j.vy = 0;
						this.j_jump_level = 1;
						this.j_jump_type = 0;
						this.co_j.pt = 103;
						this.co_j.ac = 0;
						this.gs.rsAddSound(3);
						this.co_j.vx = -100;
						if(this.maps.getBGCode(this.co_j.x - 1, this.co_j.y - 32) < 20)
						{
							this.co_j.vy = -150;
							this.co_j.x -= 6;
						}
						this.co_j.y = rightShiftIgnoreSign(this.co_j.y + 15, 5) * 32;
						this.j_hashigo_mushi_x = rightShiftIgnoreSign(this.co_j.x + 15, 5);
						this.j_hashigo_f = false;
					} else
					if(this.co_j.muki == 1 && this.maps.getBGCode(this.co_j.x + 32, this.co_j.y + 31) < 18 && this.maps.getBGCode(this.co_j.x + 32, this.co_j.y) < 18 && this.maps.getBGCode(this.co_j.x + 32, this.co_j.y + 31) != 10 && this.maps.getBGCode(this.co_j.x + 32, this.co_j.y) != 10)
					{
						this.co_j.vy = 0;
						this.j_jump_level = 1;
						this.j_jump_type = 0;
						this.co_j.pt = 103;
						this.co_j.ac = 0;
						this.gs.rsAddSound(3);
						this.co_j.vx = 100;
						if(this.maps.getBGCode(this.co_j.x + 32, this.co_j.y - 32) < 20)
						{
							this.co_j.vy = -150;
							this.co_j.x += 6;
						}
						this.co_j.y = rightShiftIgnoreSign(this.co_j.y + 15, 5) * 32;
						this.j_hashigo_mushi_x = rightShiftIgnoreSign(this.co_j.x + 15, 5);
						this.j_hashigo_f = false;
					}
			} else
			{
				if(this.j_cannon_c <= 0)
					this.co_j.vy += 25;
				if(this.co_j.vy > 160)
					this.co_j.vy = 160;
				if(this.jst_slow_down == 1 && this.j_cannon_c <= 0 && this.j_jump_type != 6 && this.j_jump_type != 7 && this.co_j.vy > 0)
				{
					this.co_j.vy -= 10;
					if(this.co_j.vy > 70)
						this.co_j.vy = 70;
				}
				if(this.j_tokugi == 10 || this.j_tokugi == 12 || this.j_tokugi == 13)
				{
					if(this.co_j.vy >= 0)
						this.co_j.vy += 5;
					if(this.co_j.vy > 90)
						this.co_j.vy = 90;
				}
				if(this.jst_key_down == 1 && this.down_key_c == 1)
				{
					if(this.j_jump_type != 6)
						if(this.j_jump_type == 1)
						{
							if(this.co_j.vy < 100)
							{
								this.co_j.vx = 0;
								this.j_jump_type = 6;
								this.co_j.vy = 100;
							} else
							{
								this.j_jump_type = 6;
							}
						} else
						{
							this.co_j.vx = 0;
							this.j_jump_type = 6;
							if(this.co_j.vy < 100)
								this.co_j.vy = 100;
						}
				} else
				if(this.jst_key_down == 2 && this.down_key_c == 1 && this.j_jump_type != 7)
				{
					this.co_j.vx = 0;
					this.j_jump_type = 7;
					if(this.co_j.vy < 100)
						this.co_j.vy = 100;
					this.gs.rsAddSound(18);
				}
				if(this.jst_double_jump == 1 && this.j_djump_kf && this.gk.tr1_c == 1 && !flag21)
				{
					this.j_djump_kf = false;
					var j27 = Math.abs(this.co_j.vx);
					if(j27 < 60)
					{
						this.co_j.vy = -230;
						this.j_jump_level = 2;
						this.j_jump_type = 0;
						this.gs.rsAddSound(3);
					} else
					{
						this.co_j.vy = -260;
						this.j_jump_level = 3;
						this.j_jump_type = 0;
						this.gs.rsAddSound(3);
					}
				}
				if(this.j_jump_type == 5 && this.co_j.vy > 0)
				{
					this.co_j.vy -= 5;
					if(this.co_j.vy > 140)
						this.co_j.vy = 140;
				}
			}
			if(this.jst_fire_xkey_only != 1 && this.gk.tr1_c == 1 && this.j_fire_f)
				if(this.j_tokugi == 10 || this.j_tokugi == 12 || this.j_tokugi == 13)
				{
					if(this.gk.z_f)
						this.jmSet(this.co_j.x, this.co_j.y, 100);
					else
					if(this.co_j.muki == 0)
						this.jmSet(this.co_j.x, this.co_j.y, 100);
					else
						this.jmSet(this.co_j.x, this.co_j.y, 105);
				} else
				if(this.j_fire_type == 4)
				{
					if(this.co_jm[0].c == 0)
					{
						this.co_jm[0].c = 106;
						this.co_jm[0].x = this.co_j.x;
						this.co_jm[0].y = this.co_j.y;
						this.co_jm[0].vx = 20;
						this.co_jm[0].vy = 0;
						this.co_jm[0].c1 = 0;
						this.co_jm[0].c2 = 0;
						if(this.co_j.muki == 0)
						{
							this.co_jm[0].c = 101;
							this.co_jm[0].vx = -20;
						}
						this.jm_kazu++;
						this.gs.rsAddSound(23);
					}
					if(this.co_jm[1].c == 0)
					{
						this.co_jm[1].c = 106;
						this.co_jm[1].x = this.co_j.x;
						this.co_jm[1].y = this.co_j.y;
						this.co_jm[1].vx = 14;
						this.co_jm[1].vy = -14;
						this.co_jm[1].c1 = 0;
						this.co_jm[1].c2 = 0;
						if(this.co_j.muki == 0)
						{
							this.co_jm[1].c = 101;
							this.co_jm[1].vx = -14;
						}
						this.jm_kazu++;
						this.gs.rsAddSound(23);
					}
				} else
				if(this.j_fire_type == 5)
				{
					if(this.co_j.muki == 0)
						this.jmSet(this.co_j.x, this.co_j.y, 110);
					else
						this.jmSet(this.co_j.x, this.co_j.y, 115);
				} else
				if(this.co_j.muki == 0)
					this.jmSet(this.co_j.x, this.co_j.y, 100);
				else
					this.jmSet(this.co_j.x, this.co_j.y, 105);
			if(this.gk.tr1_c == 0)
				this.j_jet_kf = true;
			if(this.j_hashigo_f)
				this.j_jet_kf = false;
			if(this.j_tokugi != 10 && this.j_tokugi != 12 && this.j_tokugi != 13 || !this.gk.z_f && !this.gk.x_f)
				if(this.j_jet_kf && this.gk.tr1_c > 0 && this.j_jet_fuel > 0 && !this.j_mizu_f)
				{
					this.j_jet_c = 100;
					if(this.j_jump_type == 2)
						this.j_jump_type = 0;
					if(this.gk.tr1_c == 1)
						this.gs.rsAddSound(26);
				} else
				if(this.j_jet_c > 96)
					this.j_jet_c--;
				else
					this.j_jet_c = 0;
			if(this.j_jet_c >= 96)
			{
				this.j_jet_fuel--;
				if(this.j_jet_fuel < 0)
				{
					this.j_jet_fuel = 0;
					this.j_jet_c = 0;
				}
				if(this.gk.left_f)
					this.co_j.muki = 0;
				else
				if(this.gk.right_f)
					this.co_j.muki = 1;
				if(this.co_j.vy > -150)
				{
					this.co_j.vy -= 50;
					if(this.co_j.vy < -150)
						this.co_j.vy = -150;
					if((this.j_tokugi == 10 || this.j_tokugi == 12 || this.j_tokugi == 13) && this.co_j.vy < -90)
						this.co_j.vy = -90;
				}
			}
		} else
		{
			if(this.gk.left_f)
				this.co_j.muki = 0;
			else
			if(this.gk.right_f)
				this.co_j.muki = 1;
			if(this.gk.tr1_c == 1)
			{
				var flag17 = false;
				l29 = this.maps.map_bg[rightShiftIgnoreSign(this.co_j.x + 15, 5)][rightShiftIgnoreSign(this.co_j.y + 15, 5) - 1];
				if(l29 <= 9 && l29 != 4)
					flag17 = true;
				if((l29 == 8 || l29 == 9) && this.maps.map_bg[rightShiftIgnoreSign(this.co_j.x + 15, 5) - 1][rightShiftIgnoreSign(this.co_j.y + 15, 5) - 1] == 4)
					flag17 = false;
				if(flag17 && (this.co_j.y + 15) % 32 <= 8)
				{
					this.j_jump_type = 0;
					this.co_j.pt = 101;
					this.co_j.ac = 0;
					this.co_j.vy = -180;
					this.j_jump_level = 1;
					this.co_j.y = rightShiftIgnoreSign(this.co_j.y + 15, 5) * 32 - 14;
					this.j_jet_kf = false;
					flag1 = true;
					if(this.j_tokugi == 10 || this.j_tokugi == 12 || this.j_tokugi == 13)
						if((this.co_j.x + 15) % 32 <= 6 && (this.maps.map_bg[rightShiftIgnoreSign(this.co_j.x + 15, 5) - 1][rightShiftIgnoreSign(this.co_j.y + 15, 5)] >= 20 || this.maps.map_bg[rightShiftIgnoreSign(this.co_j.x + 15, 5) - 1][rightShiftIgnoreSign(this.co_j.y + 15, 5)] == 18))
						{
							this.co_j.vx = -30;
							this.co_j.x = rightShiftIgnoreSign(this.co_j.x + 15, 5) * 32 - 15;
						} else
						if((this.co_j.x + 15) % 32 >= 25 && this.maps.map_bg[rightShiftIgnoreSign(this.co_j.x + 15, 5) + 1][rightShiftIgnoreSign(this.co_j.y + 15, 5)] >= 19)
						{
							this.co_j.vx = 30;
							this.co_j.x = rightShiftIgnoreSign(this.co_j.x + 15, 5) * 32 + 16;
						} else
						{
							this.co_j.x = rightShiftIgnoreSign(this.co_j.x + 15, 5) * 32;
						}
					this.mSet(this.co_j.x, rightShiftIgnoreSign(this.co_j.y + 15, 5) * 32 - 32, 50);
					this.gs.rsAddSound(20);
				} else
				{
					this.j_jump_type = 0;
					this.co_j.ac = 0;
					if(this.j_mizu_ac <= 0)
					{
						this.j_mizu_ac = 4;
						this.co_j.pt = 84;
					}
					this.co_j.vy = -40;
					this.j_jump_level = 0;
					if(this.co_j.muki == 0)
					{
						this.co_j.vx -= 30;
						if(this.co_j.vx < -60)
							this.co_j.vx = -60;
					} else
					{
						this.co_j.vx += 30;
						if(this.co_j.vx > 60)
							this.co_j.vx = 60;
					}
				}
			} else
			{
				if(this.co_j.vx < 0)
				{
					if(this.co_j.muki == 0)
						this.co_j.vx++;
					else
						this.co_j.vx += 2;
					if(this.co_j.vx > 0)
						this.co_j.vx = 0;
				} else
				if(this.co_j.vx > 0)
				{
					if(this.co_j.muki == 1)
						this.co_j.vx--;
					else
						this.co_j.vx -= 2;
					if(this.co_j.vx < 0)
						this.co_j.vx = 0;
				}
				if(this.co_j.vy < 40)
				{
					this.co_j.vy += 5;
					if(this.co_j.vy > 40)
						this.co_j.vy = 40;
				} else
				if(this.co_j.vy > 40)
				{
					this.co_j.vy -= 20;
					if(this.co_j.vy < 40)
						this.co_j.vy = 40;
				}
				if(this.j_mizu_ac > 0)
				{
					this.j_mizu_ac--;
					if(this.j_mizu_ac > 1)
						this.co_j.pt = 84;
					else
						this.co_j.pt = 83;
				} else
				{
					this.co_j.pt = 83;
				}
			}
		}
	}
	if(this.co_j.vy < 0)
	{
		var i3 = rightShiftIgnoreSign(this.co_j.y, 5);
		var k27 = this.co_j.vy;
		if(k27 < -320)
			k27 = -320;
		this.co_j.y += rounddown(k27 / 10);
		if(this.j_hashigo_f && this.maps.getBGCode(this.co_j.x + 15, this.co_j.y + 31) <= 9)
		{
			this.j_hashigo_f = false;
			this.co_j.vy = 0;
		}
		if(this.j_mizu_f && !flag1)
		{
			var i20 = this.maps.getBGCode(this.co_j.x + 15, this.co_j.y + 15);
			var flag18 = false;
			if(i20 <= 9 && i20 != 4)
				flag18 = true;
			if((i20 == 8 || i20 == 9) && this.maps.map_bg[rightShiftIgnoreSign(this.co_j.x + 15, 5) - 1][rightShiftIgnoreSign(this.co_j.y + 15, 5)] == 4)
				flag18 = false;
			if(flag18)
			{
				this.co_j.y = rightShiftIgnoreSign(this.co_j.y + 15, 5) * 32 + 17;
				this.co_j.vy = -10;
			}
		}
		if(rightShiftIgnoreSign(this.co_j.x + 15, 5) != this.j_hashigo_mushi_x && (this.maps.getBGCode(this.co_j.x + 15, this.co_j.y + 15) == 10 || this.maps.getBGCode(this.co_j.x + 15, this.co_j.y + 31) == 10))
		{
			var flag13 = false;
			var l13 = 0;
			do
			{
				if(l13 > this.a_kazu)
					break;
				if(this.co_a[l13].c == 410 && this.co_a[l13].x <= rightShiftIgnoreSign(this.co_j.x + 15, 5) * 32 + 15 && this.co_a[l13].x + 95 >= rightShiftIgnoreSign(this.co_j.x + 15, 5) * 32 + 15 && rightShiftIgnoreSign(this.co_j.y, 3) * 8 + 31 >= this.co_a[l13].y && rightShiftIgnoreSign(this.co_j.y, 3) * 8 <= this.co_a[l13].y + 63)
				{
					flag13 = true;
					break;
				}
				l13++;
			} while(true);
			if(!flag13)
			{
				this.j_hashigo_f = true;
				this.co_j.y = rightShiftIgnoreSign(this.co_j.y, 3) * 8;
			}
		}
		if(this.a_hf)
		{
			for(var l9 = 0; l9 <= this.a_kazu; l9++)
			{
				if(!this.co_a[l9].gf)
					continue;
				var characterobject2 = this.co_a[l9];
				if(characterobject2.c == 85)
				{
					if(this.co_j.x + 15 >= characterobject2.x && this.co_j.x + 15 <= characterobject2.x + 31 && this.co_j.y >= characterobject2.y && this.co_j.y <= characterobject2.y + 31)
					{
						this.co_j.y = characterobject2.y + 32;
						this.co_j.vy = 0;
						characterobject2.c = 0;
						this.maps.putBGCode(rightShiftIgnoreSign(characterobject2.x, 5), rightShiftIgnoreSign(characterobject2.y, 5), 23);
						this.gs.rsAddSound(13);
					}
					continue;
				}
				if(characterobject2.c >= 100 && characterobject2.c < 200)
				{
					if(this.co_j.x + 15 >= characterobject2.x && this.co_j.x <= characterobject2.x + 64 && this.co_j.y + 31 >= characterobject2.y && this.co_j.y <= characterobject2.y + 13)
					{
						this.co_j.y = characterobject2.y + 14;
						this.co_j.vy = 0;
					}
					continue;
				}
				if(characterobject2.c == 300)
				{
					if(characterobject2.c3 < 200 && this.co_j.x + 15 >= characterobject2.x && this.co_j.x <= characterobject2.x + 48 && this.co_j.y + 31 >= characterobject2.y && this.co_j.y <= characterobject2.y + 31)
					{
						this.co_j.y = characterobject2.y + 32;
						this.co_j.vy = 0;
					}
					continue;
				}
				if(characterobject2.c >= 400 && characterobject2.c < 500)
				{
					if(this.co_j.x + 15 < characterobject2.x || this.co_j.x > characterobject2.x + 80 || this.co_j.y + 31 < characterobject2.y || this.co_j.y > characterobject2.y + 63)
						continue;
					if(characterobject2.c4 == 17 && characterobject2.c == 410)
					{
						this.co_j.y = characterobject2.y + 64;
						this.co_j.vy = 0;
						if(characterobject2.y != characterobject2.vy || this.maps.getBGCode(characterobject2.x, characterobject2.y - 1) >= 18 && this.maps.getBGCode(characterobject2.x + 31, characterobject2.y - 1) >= 18 && this.maps.getBGCode(characterobject2.x + 63, characterobject2.y - 1) >= 18 && this.maps.getBGCode(characterobject2.x + 95, characterobject2.y - 1) >= 18)
							continue;
						characterobject2.vy = rightShiftIgnoreSign(characterobject2.vy - 32, 5) * 32;
						if(characterobject2.vy < 320)
							characterobject2.vy = 320;
						else
							this.gs.rsAddSound(12);
					} else
					{
						this.co_j.y = characterobject2.y + 64;
						this.co_j.vy = 0;
					}
					continue;
				}
				if(characterobject2.c == 500)
				{
					if(this.co_j.x + 15 >= characterobject2.x && this.co_j.x <= characterobject2.x + 80 && this.co_j.y + 31 >= characterobject2.y && this.co_j.y <= characterobject2.y + 13)
					{
						this.co_j.y = characterobject2.y + 14;
						this.co_j.vy = 0;
					}
					continue;
				}
				if(characterobject2.c >= 600 && characterobject2.c < 700)
				{
					if(this.co_j.x + 15 >= characterobject2.x && this.co_j.x <= characterobject2.x + 48 && this.co_j.y + 31 >= characterobject2.y + 16 && this.co_j.y <= characterobject2.y + 47)
					{
						this.co_j.y = characterobject2.y + 48;
						this.co_j.vy = 0;
					}
					continue;
				}
				if(characterobject2.c == 700)
				{
					if(this.co_j.x + 15 >= characterobject2.x && this.co_j.x <= characterobject2.x + 16 && this.co_j.y + 31 >= characterobject2.y && this.co_j.y <= characterobject2.y + 31)
					{
						this.co_j.y = characterobject2.y + 32;
						this.co_j.vy = 0;
					}
					continue;
				}
				if(characterobject2.c == 3130 && this.co_j.x + 15 >= characterobject2.x && this.co_j.x + 15 <= characterobject2.x + 127 && this.co_j.y + 31 >= characterobject2.y && this.co_j.y <= characterobject2.y + 31 && k5 > characterobject2.y + 31)
				{
					this.co_j.y = characterobject2.y + 32;
					this.co_j.vy = 0;
				}
			}

		}
		if(this.yuka_id_max >= 0)
			this.atariYuka(2);
		var i5 = rightShiftIgnoreSign(this.co_j.y, 5);
		var word18 = this.maps.map_bg[rightShiftIgnoreSign(this.co_j.x + 15, 5)][i5];
		if(word18 >= 20)
		{
			this.co_j.y = i5 * 32 + 32;
			this.co_j.vy = 0;
			if(word18 == 40)
			{
				var j15 = rightShiftIgnoreSign(this.co_j.x + 15, 5);
				var j17 = rightShiftIgnoreSign(this.co_j.y - 1, 5);
				this.hAttack(j15, j17);
			}
			if(this.j_helm_f && (word18 == 20 || word18 == 69 && this.suberuyuka_hkf == 1))
			{
				var k15 = rightShiftIgnoreSign(this.co_j.x + 15, 5);
				var k17 = i5;
				if(this.maps.map_bg[k15][k17 + 1] == 4)
					this.maps.putBGCode(k15, k17, 4);
				else
					this.maps.putBGCode(k15, k17, 0);
				if(this.j_tokugi == 12 || this.j_tokugi == 13)
				{
					this.anaSet2(k15, k17);
				} else
				{
					this.mSet2(k15 * 32, k17 * 32, 80, 12, -24);
					this.mSet2(k15 * 32, k17 * 32, 80, -12, -24);
				}
				this.gs.rsAddSound(16);
				this.jZutuki(k15 * 32, k17 * 32 - 32, 0);
			}
		}
		i5 = rightShiftIgnoreSign(this.co_j.y, 5);
		word18 = this.maps.map_bg[rightShiftIgnoreSign(this.co_j.x + 15, 5)][i5];
		if(i3 > i5 && (word18 == 18 || word18 == 19) && !this.map_data_option[rightShiftIgnoreSign(this.co_j.x + 15, 5)][i5])
		{
			this.co_j.y = i5 * 32 + 32;
			this.co_j.vy = 0;
			i5 = rightShiftIgnoreSign(this.co_j.y, 5);
		}
		if(i3 > i5)
		{
			if(this.gk.right_f)
			{
				var word24 = this.maps.map_bg[rightShiftIgnoreSign(this.co_j.x + 16, 5)][i3];
				var word32 = this.maps.map_bg[rightShiftIgnoreSign(this.co_j.x + 16, 5)][i5];
				if(word24 <= 17 && word32 >= 20)
				{
					this.co_j.y = i5 * 32 + 32;
					this.co_j.vy = 0;
				}
			}
			if(this.gk.left_f)
			{
				var word25 = this.maps.map_bg[rightShiftIgnoreSign(this.co_j.x + 14, 5)][i3];
				var word33 = this.maps.map_bg[rightShiftIgnoreSign(this.co_j.x + 14, 5)][i5];
				if(word25 <= 17 && word33 >= 20)
				{
					this.co_j.y = i5 * 32 + 32;
					this.co_j.vy = 0;
				}
			}
		}
		if(this.j_cannon_c > 0 && this.co_j.vy >= 0)
		{
			this.j_cannon_c = 0;
			if(this.co_j.vx < -120)
				this.co_j.vx = -120;
			if(this.co_j.vx > 120)
				this.co_j.vx = 120;
		}
	} else
	if(this.co_j.vy > 0)
	{
		var j = rightShiftIgnoreSign(this.co_j.x + 15, 5);
		var k2 = rightShiftIgnoreSign(this.co_j.y + 31, 5);
		this.co_j.y += rounddown(this.co_j.vy / 10);
		if(rightShiftIgnoreSign(this.co_j.x + 15, 5) != this.j_hashigo_mushi_x && this.maps.getBGCode(this.co_j.x + 15, this.co_j.y + 15) == 10)
		{
			var flag14 = false;
			var i14 = 0;
			do
			{
				if(i14 > this.a_kazu)
					break;
				if(this.co_a[i14].c == 410 && this.co_a[i14].x <= rightShiftIgnoreSign(this.co_j.x + 15, 5) * 32 + 15 && this.co_a[i14].x + 95 >= rightShiftIgnoreSign(this.co_j.x + 15, 5) * 32 + 15 && rightShiftIgnoreSign(this.co_j.y, 3) * 8 + 31 >= this.co_a[i14].y && rightShiftIgnoreSign(this.co_j.y, 3) * 8 <= this.co_a[i14].y + 63)
				{
					flag14 = true;
					break;
				}
				i14++;
			} while(true);
			if(!flag14)
			{
				this.j_hashigo_f = true;
				this.co_j.y = rightShiftIgnoreSign(this.co_j.y, 3) * 8;
			}
		}
		if(this.a_hf)
		{
			for(var i10 = 0; i10 <= this.a_kazu; i10++)
			{
				if(!this.co_a[i10].gf)
					continue;
				var characterobject3 = this.co_a[i10];
				if(characterobject3.c >= 100 && characterobject3.c < 200)
				{
					if(this.co_j.x + 15 >= characterobject3.x && this.co_j.x <= characterobject3.x + 64 && this.co_j.y + 31 >= characterobject3.y && this.co_j.y <= characterobject3.y + 13)
					{
						this.co_j.y = characterobject3.y - 32;
						this.co_j.vy = 0;
					}
					continue;
				}
				if(characterobject3.c == 300)
				{
					if(characterobject3.c3 < 200 && this.co_j.x + 15 >= characterobject3.x && this.co_j.x <= characterobject3.x + 48 && this.co_j.y + 31 >= characterobject3.y && this.co_j.y <= characterobject3.y + 31)
					{
						this.co_j.y = characterobject3.y - 32;
						this.co_j.vy = 0;
					}
					continue;
				}
				if(characterobject3.c >= 400 && characterobject3.c < 500)
				{
					if(this.co_j.x + 15 >= characterobject3.x && this.co_j.x <= characterobject3.x + 80 && this.co_j.y + 31 >= characterobject3.y && this.co_j.y <= characterobject3.y + 63)
					{
						this.co_j.y = characterobject3.y - 32;
						this.co_j.vy = 0;
					}
					continue;
				}
				if(characterobject3.c == 500)
				{
					if(this.co_j.x + 15 >= characterobject3.x && this.co_j.x <= characterobject3.x + 80 && this.co_j.y + 31 >= characterobject3.y && this.co_j.y <= characterobject3.y + 13)
					{
						this.co_j.y = characterobject3.y - 32;
						this.co_j.vy = 0;
					}
					continue;
				}
				if(characterobject3.c >= 600 && characterobject3.c < 700)
				{
					if(this.co_j.x + 15 >= characterobject3.x && this.co_j.x <= characterobject3.x + 48 && this.co_j.y + 31 >= characterobject3.y + 16 && this.co_j.y <= characterobject3.y + 47)
					{
						this.co_j.y = (characterobject3.y + 16) - 32;
						this.co_j.vy = 0;
					}
					continue;
				}
				if(characterobject3.c == 700)
				{
					if(this.co_j.x + 15 >= characterobject3.x && this.co_j.x <= characterobject3.x + 16 && this.co_j.y + 31 >= characterobject3.y && this.co_j.y <= characterobject3.y + 31)
					{
						this.co_j.y = characterobject3.y - 32;
						this.co_j.vy = 0;
					}
					continue;
				}
				if(characterobject3.c == 3120 && this.co_j.x + 15 >= characterobject3.x && this.co_j.x + 15 <= characterobject3.x + 127 && this.co_j.y + 31 >= characterobject3.y && this.co_j.y <= characterobject3.y && k5 <= characterobject3.y - 32)
				{
					this.co_j.y = characterobject3.y - 32;
					this.co_j.vy = 0;
				}
			}

		}
		if(this.yuka_id_max >= 0)
			this.atariYuka(3);
		if(this.j_tokugi == 10 || this.j_tokugi == 12 || this.j_tokugi == 13)
		{
			if(this.ana_kazu > 0)
			{
				for(var l6 = 0; l6 <= this.t_kazu; l6++)
					if((this.co_t[l6].c == 1250 || this.co_t[l6].c == 1310) && this.co_j.x + 15 >= this.co_t[l6].x && this.co_j.x + 15 <= this.co_t[l6].x + 31 && this.co_j.y + 31 >= this.co_t[l6].y && this.co_j.y <= this.co_t[l6].y + 31)
						this.co_j.y = this.co_t[l6].y - 32;

			}
			var i7 = 0;
			do
			{
				if(i7 > this.t_kazu)
					break;
				if(this.co_t[i7].c >= 1200 && this.co_t[i7].c <= 1220 && Math.abs(this.co_j.x - this.co_t[i7].x) <= 24 && this.co_j.y + 32 > this.co_t[i7].y && (this.co_j.y + 32) - 12 < this.co_t[i7].y)
				{
					this.co_j.y = this.co_t[i7].y - 32;
					break;
				}
				i7++;
			} while(true);
		}
		var l4 = rightShiftIgnoreSign(this.co_j.y + 31, 5);
		var word10 = this.maps.map_bg[j][l4];
		if(k2 < l4)
		{
			var word34 = this.maps.map_bg[rightShiftIgnoreSign(this.co_j.x + 15, 5)][k2];
			if(word34 == 18 || word34 == 19)
				if(this.map_data_option[rightShiftIgnoreSign(this.co_j.x + 15, 5)][k2])
				{
					if(this.saka_mushi_y < 0 || k2 != this.saka_mushi_y && k2 != this.saka_mushi_y + 1)
					{
						this.co_j.vy = 0;
						this.co_j.y = k2 * 32;
						if(this.maps.map_bg[rightShiftIgnoreSign(this.co_j.x + 15, 5)][rightShiftIgnoreSign(this.co_j.y + 31, 5)] == 18 || this.maps.map_bg[rightShiftIgnoreSign(this.co_j.x + 15, 5)][rightShiftIgnoreSign(this.co_j.y + 31, 5)] == 19)
							this.co_j.y = this.getSakamichiY(this.co_j.x + 15, this.co_j.y + 31);
					}
				} else
				{
					this.co_j.y = k2 * 32;
					this.co_j.vy = 0;
				}
		}
		l29 = this.maps.map_bg[rightShiftIgnoreSign(this.co_j.x + 15, 5)][rightShiftIgnoreSign(this.co_j.y + 31, 5)];
		if(l29 == 18 || l29 == 19)
			if(this.map_data_option[rightShiftIgnoreSign(this.co_j.x + 15, 5)][rightShiftIgnoreSign(this.co_j.y + 31, 5)])
			{
				if(this.saka_mushi_y < 0 || rightShiftIgnoreSign(this.co_j.y + 31, 5) != this.saka_mushi_y)
				{
					var l17 = this.getSakamichiY(this.co_j.x + 15, this.co_j.y + 31);
					if(l17 < this.co_j.y && l17 >= k5)
						this.co_j.y = l17;
				}
			} else
			{
				var i18 = this.getSakamichiY(this.co_j.x + 15, this.co_j.y + 31);
				if(i18 < this.co_j.y)
					this.co_j.y = i18;
			}
		l4 = rightShiftIgnoreSign(this.co_j.y + 31, 5);
		word10 = this.maps.map_bg[j][l4];
		var flag20;
		if(word10 == 15 && k2 < l4)
		{
			flag20 = true;
			this.j_jump_type = 2;
			if(this.j_shitakara_mushi_y > 0 && this.j_shitakara_mushi_y == l4)
				flag20 = false;
		} else
		{
			flag20 = false;
		}
		if(word10 == 10 && !this.j_hashigo_f)
			flag20 = true;
		if(word10 >= 20 || flag20)
		{
			this.co_j.y = l4 * 32 - 32;
			this.co_j.vy = 0;
			l4 = rightShiftIgnoreSign(this.co_j.y + 31, 5);
		}
		if(this.j_hashigo_f)
		{
			var word41 = this.maps.map_bg[j][rightShiftIgnoreSign(this.co_j.y + 32, 5)];
			if(word41 >= 20)
			{
				this.j_hashigo_f = false;
				this.j_shitakara_mushi_y = -1;
				this.co_j.direction = 0;
			}
		}
		if(k2 < l4 && !this.j_hashigo_f)
		{
			if(this.gk.right_f || this.j_tokugi == 10 || this.j_tokugi == 12 || this.j_tokugi == 13)
			{
				var word26 = this.maps.map_bg[rightShiftIgnoreSign(this.co_j.x + 16, 5)][k2];
				var word35 = this.maps.map_bg[rightShiftIgnoreSign(this.co_j.x + 16, 5)][l4];
				if(word35 == 10)
					word35 = 20;
				if(word26 <= 17 && word35 >= 20)
				{
					this.co_j.y = l4 * 32 - 32;
					this.co_j.vy = 0;
					this.co_j.pt = 103;
					this.co_j.ac = 1;
					this.co_j.x++;
					if(word35 == 18 || word35 == 19)
						this.co_j.y = this.getSakamichiY(this.co_j.x, this.co_j.y + 32);
				}
			}
			if(this.gk.left_f || this.j_tokugi == 10 || this.j_tokugi == 12 || this.j_tokugi == 13)
			{
				var word27 = this.maps.map_bg[rightShiftIgnoreSign(this.co_j.x + 14, 5)][k2];
				var word36 = this.maps.map_bg[rightShiftIgnoreSign(this.co_j.x + 14, 5)][l4];
				if(word36 == 10)
					word36 = 20;
				if(word27 <= 17 && word36 >= 20)
				{
					this.co_j.y = l4 * 32 - 32;
					this.co_j.vy = 0;
					this.co_j.pt = 103;
					this.co_j.ac = 1;
					this.co_j.x--;
					if(word36 == 18 || word36 == 19)
						this.co_j.y = this.getSakamichiY(this.co_j.x, this.co_j.y + 32);
				}
			}
		}
		if(!this.j_mizu_f)
		{
			var j20 = this.maps.getBGCode(this.co_j.x + 15, this.co_j.y + 15);
			if(j20 == 4)
			{
				this.j_mizu_awa_c = 38;
				if(this.maps.getBGCode(this.co_j.x + 15, (this.co_j.y + 15) - 32) != 10)
				{
					this.mSet(this.co_j.x, rightShiftIgnoreSign(this.co_j.y + 15, 5) * 32 - 32, 50);
					this.gs.rsAddSound(20);
				}
				if(this.co_j.vx < -60)
					this.co_j.vx = -60;
				else
				if(this.co_j.vx > 60)
					this.co_j.vx = 60;
			} else
			if((j20 == 8 || j20 == 9) && this.maps.map_bg[rightShiftIgnoreSign(this.co_j.x + 15, 5) - 1][rightShiftIgnoreSign(this.co_j.y + 15, 5)] == 4)
			{
				this.mSet(this.co_j.x, rightShiftIgnoreSign(this.co_j.y + 15, 5) * 32 - 32, 50);
				this.j_mizu_awa_c = 38;
				if(this.co_j.vx < -60)
					this.co_j.vx = -60;
				else
				if(this.co_j.vx > 60)
					this.co_j.vx = 60;
			}
		}
		if(this.j_cannon_c > 0 && this.co_j.vy <= 0)
		{
			this.j_cannon_c = 0;
			if(this.co_j.vx < -120)
				this.co_j.vx = -120;
			if(this.co_j.vx > 120)
				this.co_j.vx = 120;
		}
	}
	if(this.gk.down_f)
	{
		var i29 = this.maps.getBGCode(this.co_j.x + 15, this.co_j.y + 31);
		if((i29 == 18 || i29 == 19) && this.map_data_option[rightShiftIgnoreSign(this.co_j.x + 15, 5)][rightShiftIgnoreSign(this.co_j.y + 31, 5)])
		{
			this.saka_mushi_y = rightShiftIgnoreSign(this.co_j.y + 31, 5);
			if(this.co_j.vy < 25)
				this.co_j.vy = 25;
		}
		if(this.maps.getBGCode(this.co_j.x + 15, this.co_j.y + 32) == 15)
		{
			this.j_shitakara_mushi_y = rightShiftIgnoreSign(this.co_j.y + 32, 5);
			this.j_jump_type = 2;
			this.co_j.ac = 0;
			this.saka_mushi_y = rightShiftIgnoreSign(this.co_j.y + 31, 5);
			if(this.j_tokugi == 10 || this.j_tokugi == 12 || this.j_tokugi == 13)
			{
				this.co_j.x = rightShiftIgnoreSign(this.co_j.x + 15, 5) * 32;
				this.co_j.vx = 0;
			}
			if(this.maps.getBGCode(this.co_j.x + 15, this.co_j.y + 15) == 10)
			{
				var flag15 = false;
				var j14 = 0;
				do
				{
					if(j14 > this.a_kazu)
						break;
					if(this.co_a[j14].c == 410 && this.co_a[j14].x <= rightShiftIgnoreSign(this.co_j.x + 15, 5) * 32 + 15 && this.co_a[j14].x + 95 >= rightShiftIgnoreSign(this.co_j.x + 15, 5) * 32 + 15 && this.co_j.y + 31 >= this.co_a[j14].y && this.co_j.y <= this.co_a[j14].y + 63)
					{
						flag15 = true;
						break;
					}
					j14++;
				} while(true);
				if(!flag15)
					this.j_hashigo_f = true;
			}
		}
	}
	if(this.j_hashigo_f)
		this.co_j.pt = 210 + rightShiftIgnoreSign(this.co_j.ac, 1);
	if((this.j_tokugi == 10 || this.j_tokugi == 12 || this.j_tokugi == 13) && this.gk.tr1_c == 1 && !this.gk.z_f)
	{
		if(this.j_tail_f && (this.j_tail_ac <= 0 || this.j_tail_ac >= 8))
		{
			this.j_tail_ac = 1;
			this.co_j.pt = 116;
			this.j_zan_f = false;
		}
		if(this.j_gr_kazu > 0)
			if(this.grenade_type == 8)
			{
				if(this.j_fire_f)
					this.j_gr_kazu = 1;
				if(this.co_jm[0].c == 0 || this.co_jm[1].c == 0)
				{
					this.j_gr_kazu--;
					if(this.j_fire_type == 4)
					{
						if(this.co_jm[0].c == 0)
						{
							this.co_jm[0].c = 106;
							this.co_jm[0].x = this.co_j.x;
							this.co_jm[0].y = this.co_j.y;
							this.co_jm[0].vx = 20;
							this.co_jm[0].vy = 0;
							this.co_jm[0].c1 = 0;
							this.co_jm[0].c2 = 0;
							if(this.co_j.muki == 0)
							{
								this.co_jm[0].c = 101;
								this.co_jm[0].vx = -20;
							}
							this.jm_kazu++;
							this.gs.rsAddSound(23);
						}
						if(this.co_jm[1].c == 0)
						{
							this.co_jm[1].c = 106;
							this.co_jm[1].x = this.co_j.x;
							this.co_jm[1].y = this.co_j.y;
							this.co_jm[1].vx = 14;
							this.co_jm[1].vy = -14;
							this.co_jm[1].c1 = 0;
							this.co_jm[1].c2 = 0;
							if(this.co_j.muki == 0)
							{
								this.co_jm[1].c = 101;
								this.co_jm[1].vx = -14;
							}
							this.jm_kazu++;
							this.gs.rsAddSound(23);
						}
					} else
					if(this.j_fire_type == 5)
					{
						if(this.co_j.muki == 0)
							this.jmSet(this.co_j.x, this.co_j.y, 110);
						else
							this.jmSet(this.co_j.x, this.co_j.y, 115);
					} else
					if(this.co_j.muki == 0)
						this.jmSet(this.co_j.x, this.co_j.y, 100);
					else
						this.jmSet(this.co_j.x, this.co_j.y, 105);
				}
			} else
			if(this.grenade_type == 7)
				this.jmSet2(this.co_j.x, this.co_j.y, 50, 2);
			else
			if(this.grenade_type == 3 || this.grenade_type == 4)
			{
				if(this.co_j.muki == 0)
					this.jmSet(this.co_j.x, this.co_j.y, 60);
				else
					this.jmSet(this.co_j.x, this.co_j.y, 65);
			} else
			if(this.grenade_type == 9)
			{
				if(this.co_j.muki == 0)
					this.jmSet(this.co_j.x, this.co_j.y, 1207);
				else
					this.jmSet(this.co_j.x, this.co_j.y, 1206);
			} else
			if(this.co_j.muki == 0)
				this.jmSet(this.co_j.x, this.co_j.y, 200);
			else
				this.jmSet(this.co_j.x, this.co_j.y, 205);
	}
	if(this.grenade_type == 8 && this.j_fire_f)
		this.j_gr_kazu = 0;
	if(this.tr2_c == 1)
	{
		if(!this.j_hashigo_f || this.gk.x_f)
			if(this.j_gr_kazu > 0)
			{
				if(this.j_tokugi != 10 && this.j_tokugi != 12 && this.j_tokugi != 13)
					if(this.grenade_type == 8)
					{
						if(this.j_fire_f)
							this.j_gr_kazu = 1;
						if(this.co_jm[0].c == 0 || this.co_jm[1].c == 0)
						{
							this.j_gr_kazu--;
							if(this.j_fire_type == 4)
							{
								if(this.co_jm[0].c == 0)
								{
									this.co_jm[0].c = 106;
									this.co_jm[0].x = this.co_j.x;
									this.co_jm[0].y = this.co_j.y;
									this.co_jm[0].vx = 20;
									this.co_jm[0].vy = 0;
									this.co_jm[0].c1 = 0;
									this.co_jm[0].c2 = 0;
									if(this.co_j.muki == 0)
									{
										this.co_jm[0].c = 101;
										this.co_jm[0].vx = -20;
									}
									this.jm_kazu++;
									this.gs.rsAddSound(23);
								}
								if(this.co_jm[1].c == 0)
								{
									this.co_jm[1].c = 106;
									this.co_jm[1].x = this.co_j.x;
									this.co_jm[1].y = this.co_j.y;
									this.co_jm[1].vx = 14;
									this.co_jm[1].vy = -14;
									this.co_jm[1].c1 = 0;
									this.co_jm[1].c2 = 0;
									if(this.co_j.muki == 0)
									{
										this.co_jm[1].c = 101;
										this.co_jm[1].vx = -14;
									}
									this.jm_kazu++;
									this.gs.rsAddSound(23);
								}
							} else
							if(this.j_fire_type == 5)
							{
								if(this.co_j.muki == 0)
									this.jmSet(this.co_j.x, this.co_j.y, 110);
								else
									this.jmSet(this.co_j.x, this.co_j.y, 115);
							} else
							if(this.co_j.muki == 0)
								this.jmSet(this.co_j.x, this.co_j.y, 100);
							else
								this.jmSet(this.co_j.x, this.co_j.y, 105);
						}
					} else
					if(this.grenade_type == 7)
						this.jmSet2(this.co_j.x, this.co_j.y, 50, 2);
					else
					if(this.grenade_type == 9)
					{
						if(this.co_j.muki == 0)
							this.jmSet(this.co_j.x, this.co_j.y, 1207);
						else
							this.jmSet(this.co_j.x, this.co_j.y, 1206);
					} else
					if(this.grenade_type == 3 || this.grenade_type == 4)
					{
						if(this.co_j.muki == 0)
							this.jmSet(this.co_j.x, this.co_j.y, 60);
						else
							this.jmSet(this.co_j.x, this.co_j.y, 65);
					} else
					if(this.co_j.muki == 0)
						this.jmSet(this.co_j.x, this.co_j.y, 200);
					else
						this.jmSet(this.co_j.x, this.co_j.y, 205);
			} else
			if(this.j_fire_f && (!this.j_mizu_f || this.j_fire_mkf))
				if(this.j_tokugi == 10 || this.j_tokugi == 12 || this.j_tokugi == 13)
				{
					if(!this.gk.down_f)
						this.jmSet(this.co_j.x, this.co_j.y, 105);
				} else
				if(this.j_fire_type == 4)
				{
					if(this.co_jm[0].c == 0)
					{
						this.co_jm[0].c = 106;
						this.co_jm[0].x = this.co_j.x;
						this.co_jm[0].y = this.co_j.y;
						this.co_jm[0].vx = 20;
						this.co_jm[0].vy = 0;
						this.co_jm[0].c1 = 0;
						this.co_jm[0].c2 = 0;
						if(this.co_j.muki == 0)
						{
							this.co_jm[0].c = 101;
							this.co_jm[0].vx = -20;
						}
						this.jm_kazu++;
						this.gs.rsAddSound(23);
					}
					if(this.co_jm[1].c == 0)
					{
						this.co_jm[1].c = 106;
						this.co_jm[1].x = this.co_j.x;
						this.co_jm[1].y = this.co_j.y;
						this.co_jm[1].vx = 14;
						this.co_jm[1].vy = -14;
						this.co_jm[1].c1 = 0;
						this.co_jm[1].c2 = 0;
						if(this.co_j.muki == 0)
						{
							this.co_jm[1].c = 101;
							this.co_jm[1].vx = -14;
						}
						this.jm_kazu++;
						this.gs.rsAddSound(23);
					}
				} else
				if(this.co_j.muki == 0)
					this.jmSet(this.co_j.x, this.co_j.y, 100);
				else
					this.jmSet(this.co_j.x, this.co_j.y, 105);
		l29 = this.maps.getBGCode(this.co_j.x + 15, this.co_j.y + 32);
		if(this.j_tokugi != 12 && this.j_tokugi != 13 || !this.gk.x_f)
			if(this.j_drell_f && (l29 == 20 || l29 == 69 && this.suberuyuka_hkf == 1))
			{
				var flag16 = false;
				var k14 = 0;
				do
				{
					if(k14 > this.a_kazu)
						break;
					if(this.co_a[k14].c == 410 && this.co_a[k14].x <= rightShiftIgnoreSign(this.co_j.x + 15, 5) * 32 + 15 && this.co_a[k14].x + 95 >= rightShiftIgnoreSign(this.co_j.x + 15, 5) * 32 + 15 && this.co_j.y + 31 >= this.co_a[k14].y && this.co_j.y <= this.co_a[k14].y + 63)
					{
						flag16 = true;
						break;
					}
					k14++;
				} while(true);
				if(!flag16)
				{
					var l15 = rightShiftIgnoreSign(this.co_j.x + 15, 5);
					var j18 = rightShiftIgnoreSign(this.co_j.y + 32, 5);
					if(this.maps.map_bg[l15][j18 - 1] == 4 || this.maps.map_bg[l15 - 1][j18] == 4 || this.maps.map_bg[l15 + 1][j18] == 4)
						this.maps.putBGCode(l15, j18, 4);
					else
						this.maps.putBGCode(l15, j18, 0);
					if(this.j_tokugi == 12 || this.j_tokugi == 13)
					{
						this.anaSet(l15, j18);
					} else
					{
						this.mSet2(l15 * 32, j18 * 32, 80, 12, -24);
						this.mSet2(l15 * 32, j18 * 32, 80, -12, -24);
					}
					this.gs.rsAddSound(16);
					this.jZutuki(l15 * 32, j18 * 32 - 32, 0);
					this.co_j.x = l15 * 32;
					this.co_j.vx = 0;
					this.co_j.vy = 0;
					this.j_jump_type = 3;
					this.co_j.c = 120;
					this.co_j.c1 = 0;
					this.co_j.pt = 119;
				}
			} else
			if(this.j_tail_f && (this.j_tail_ac <= 0 || this.j_tail_ac >= 8) && (!this.j_hashigo_f || this.gk.x_f) && (this.j_tokugi != 10 && this.j_tokugi != 12 && this.j_tokugi != 13 || this.gk.down_f))
			{
				this.j_tail_ac = 1;
				this.co_j.pt = 116;
				this.j_zan_f = false;
			}
	}
	if(this.j_tail_ac >= 1)
	{
		this.j_zan_f = false;
		this.j_tail_ac++;
		if(this.j_tail_ac <= 4)
		{
			this.co_j.pt = 116;
			if(this.j_tail_type == 1 || this.j_tail_type == 3)
				if(this.co_j.muki == 0)
					this.jZutuki(this.co_j.x - 32, this.co_j.y, 1);
				else
					this.jZutuki(this.co_j.x + 32, this.co_j.y, 1);
		} else
		if(this.j_tail_ac <= 5)
		{
			this.co_j.pt = 1000;
			if(this.j_tail_type == 1 || this.j_tail_type == 3)
				if(this.co_j.muki == 0)
					this.jZutuki(this.co_j.x - 32, this.co_j.y, 1);
				else
					this.jZutuki(this.co_j.x + 32, this.co_j.y, 1);
			if(this.j_tail_type == 2 || this.j_tail_type == 3)
			{
				var i16;
				if(this.co_j.muki == 1)
					i16 = rightShiftIgnoreSign(this.co_j.x + 40, 5);
				else
					i16 = rightShiftIgnoreSign(this.co_j.x - 8, 5);
				var k18 = rightShiftIgnoreSign(this.co_j.y + 15, 5);
				if(this.maps.map_bg[i16][k18] == 20 || this.maps.map_bg[i16][k18] == 69 && this.suberuyuka_hkf == 1)
				{
					if(this.maps.map_bg[i16 - 1][k18] == 4)
						this.maps.putBGCode(i16, k18, 4);
					else
						this.maps.putBGCode(i16, k18, 0);
					this.mSet2(i16 * 32, k18 * 32, 80, 12, -24);
					this.mSet2(i16 * 32, k18 * 32, 80, -12, -24);
					this.gs.rsAddSound(16);
					this.jZutuki(i16 * 32, k18 * 32 - 32, 0);
				}
			}
		} else
		if(this.j_tail_ac <= 7)
			this.co_j.pt = 1000;
		else
		if(this.j_tail_ac <= 9)
		{
			this.co_j.pt = 116;
		} else
		{
			this.co_j.pt = 116;
			this.j_tail_ac = 0;
		}
	}
	if((this.j_tokugi == 12 || this.j_tokugi == 13) && (this.co_j.jimen_f || this.j_hashigo_f))
		if(this.gk.x_f)
		{
			var l18 = rightShiftIgnoreSign(this.co_j.x + 15, 5) + 1;
			var j19 = rightShiftIgnoreSign(this.co_j.y + 32 + 15, 5);
			var word28 = this.maps.map_bg[l18][j19];
			var word37 = this.maps.map_bg[l18][j19 - 1];
			if((word28 == 20 || word28 == 40) && word37 <= 9 && (this.maps.map_bg[l18 - 1][j19 - 1] <= 10 || this.maps.map_bg[l18 - 1][j19 - 1] == 15 || this.maps.map_bg[l18 - 1][j19 - 1] == 18 || this.maps.map_bg[l18 - 1][j19 - 1] == 19))
			{
				var flag3 = false;
				var word39 = this.maps.map_bg[l18 - 1][j19];
				if(word39 >= 20 || word39 == 15 || word39 == 10 || this.maps.map_bg[l18 - 1][j19 - 1] == 10 || this.maps.map_bg[l18 - 1][j19 - 1] == 18 || this.maps.map_bg[l18 - 1][j19 - 1] == 19)
					flag3 = true;
				if(!flag3)
				{
					var j7 = 0;
					do
					{
						if(j7 > this.t_kazu)
							break;
						if((this.co_t[j7].c >= 1200 && this.co_t[j7].c < 1300 || this.co_t[j7].c == 1310) && Math.abs(this.co_j.x - this.co_t[j7].x) < 32 && j19 * 32 <= this.co_t[j7].y && j19 * 32 + 12 >= this.co_t[j7].y)
						{
							flag3 = true;
							break;
						}
						j7++;
					} while(true);
				}
				if(!flag3 && this.j_a_id >= 0 && (this.co_a[this.j_a_id].c >= 100 && this.co_a[this.j_a_id].c <= 120 || this.co_a[this.j_a_id].c >= 400 && this.co_a[this.j_a_id].c <= 600))
					flag3 = true;
				if(flag3)
				{
					if(word28 == 40)
					{
						this.hAttack(l18, j19);
						if(this.j_a_id >= 0)
						{
							if(this.co_a[this.j_a_id].c == 100 || this.co_a[this.j_a_id].c == 400 || this.co_a[this.j_a_id].c == 500)
								this.co_j.x = l18 * 32 - 32;
						} else
						{
							this.co_j.x = l18 * 32 - 32;
							this.co_j.y = j19 * 32 - 32;
						}
						this.co_j.vx = 0;
						this.co_j.c = 130;
						this.co_j.c1 = 0;
						this.co_j.muki = 1;
						if(!this.j_hashigo_f)
							this.co_j.pt = 100;
					} else
					{
						if(word37 == 4 || this.maps.map_bg[l18 - 1][j19] == 4 || this.maps.map_bg[l18 + 1][j19] == 4)
							this.maps.putBGCode(l18, j19, 4);
						else
							this.maps.putBGCode(l18, j19, 0);
						this.anaSet(l18, j19);
						if(this.j_a_id >= 0)
						{
							if(this.co_a[this.j_a_id].c == 100 || this.co_a[this.j_a_id].c == 400 || this.co_a[this.j_a_id].c == 500)
								this.co_j.x = l18 * 32 - 32;
						} else
						{
							this.co_j.x = l18 * 32 - 32;
							this.co_j.y = j19 * 32 - 32;
						}
						this.co_j.vx = 0;
						this.co_j.c = 130;
						this.co_j.c1 = 0;
						this.co_j.muki = 1;
						if(!this.j_hashigo_f)
							this.co_j.pt = 100;
						this.gs.rsAddSound(16);
					}
					var l20 = this.maps.getBGCode(this.co_j.x + 15, this.co_j.y + 31);
					if(l20 == 18 || l20 == 19)
						this.co_j.y = this.getSakamichiY(this.co_j.x + 15, this.co_j.y + 31);
				}
			}
		} else
		if(this.gk.z_f)
		{
			var i19 = rightShiftIgnoreSign(this.co_j.x + 15, 5) - 1;
			var k19 = rightShiftIgnoreSign(this.co_j.y + 32 + 15, 5);
			var word29 = this.maps.map_bg[i19][k19];
			var word38 = this.maps.map_bg[i19][k19 - 1];
			if((word29 == 20 || word29 == 40) && word38 <= 9 && (this.maps.map_bg[i19 + 1][k19 - 1] <= 10 || this.maps.map_bg[i19 + 1][k19 - 1] == 15 || this.maps.map_bg[i19 + 1][k19 - 1] <= 18 || this.maps.map_bg[i19 + 1][k19 - 1] == 19))
			{
				var flag4 = false;
				var word40 = this.maps.map_bg[i19 + 1][k19];
				if(word40 >= 20 || word40 == 15 || word40 == 10 || this.maps.map_bg[i19 + 1][k19 - 1] == 10 || this.maps.map_bg[i19 + 1][k19 - 1] == 18 || this.maps.map_bg[i19 + 1][k19 - 1] == 19)
					flag4 = true;
				if(!flag4)
				{
					var k7 = 0;
					do
					{
						if(k7 > this.t_kazu)
							break;
						if((this.co_t[k7].c >= 1200 && this.co_t[k7].c < 1300 || this.co_t[k7].c == 1310) && Math.abs(this.co_j.x - this.co_t[k7].x) < 32 && k19 * 32 <= this.co_t[k7].y && k19 * 32 + 12 >= this.co_t[k7].y)
						{
							flag4 = true;
							break;
						}
						k7++;
					} while(true);
				}
				if(!flag4 && this.j_a_id >= 0 && (this.co_a[this.j_a_id].c >= 100 && this.co_a[this.j_a_id].c <= 120 || this.co_a[this.j_a_id].c >= 400 && this.co_a[this.j_a_id].c <= 600))
					flag4 = true;
				if(flag4)
				{
					if(word29 == 40)
					{
						this.hAttack(i19, k19);
						if(this.j_a_id >= 0)
						{
							if(this.co_a[this.j_a_id].c == 100 || this.co_a[this.j_a_id].c == 400 || this.co_a[this.j_a_id].c == 500)
								this.co_j.x = i19 * 32 + 32;
						} else
						{
							this.co_j.x = i19 * 32 + 32;
							this.co_j.y = k19 * 32 - 32;
						}
						this.co_j.vx = 0;
						this.co_j.c = 130;
						this.co_j.c1 = 0;
						this.co_j.muki = 0;
						if(!this.j_hashigo_f)
							this.co_j.pt = 100;
					} else
					{
						if(word38 == 4 || this.maps.map_bg[i19 - 1][k19] == 4 || this.maps.map_bg[i19 + 1][k19] == 4)
							this.maps.putBGCode(i19, k19, 4);
						else
							this.maps.putBGCode(i19, k19, 0);
						this.anaSet(i19, k19);
						if(this.j_a_id >= 0)
						{
							if(this.co_a[this.j_a_id].c == 100 || this.co_a[this.j_a_id].c == 400 || this.co_a[this.j_a_id].c == 500)
								this.co_j.x = i19 * 32 + 32;
						} else
						{
							this.co_j.x = i19 * 32 + 32;
							this.co_j.y = k19 * 32 - 32;
						}
						this.co_j.vx = 0;
						this.co_j.c = 130;
						this.co_j.c1 = 0;
						this.co_j.muki = 0;
						if(!this.j_hashigo_f)
							this.co_j.pt = 100;
						this.gs.rsAddSound(16);
					}
					var i21 = this.maps.getBGCode(this.co_j.x + 15, this.co_j.y + 31);
					if(i21 == 18 || i21 == 19)
						this.co_j.y = this.getSakamichiY(this.co_j.x + 15, this.co_j.y + 31);
				}
			}
		}
	l29 = this.maps.map_bg[rightShiftIgnoreSign(this.co_j.x + 15, 5)][rightShiftIgnoreSign(this.co_j.y + 15, 5)];
	switch(l29)
	{
	case 9:
		if(this.maps.map_bg[rightShiftIgnoreSign(this.co_j.x + 15, 5) - 1][rightShiftIgnoreSign(this.co_j.y + 15, 5)] == 4)
		{
			this.maps.putBGCode(rightShiftIgnoreSign(this.co_j.x + 15, 5), rightShiftIgnoreSign(this.co_j.y + 15, 5), 4);
			this.j_mizu_f = true;
		} else
		{
			this.maps.putBGCode(rightShiftIgnoreSign(this.co_j.x + 15, 5), rightShiftIgnoreSign(this.co_j.y + 15, 5), 0);
		}
		this.addScore(5);
		this.gs.rsAddSound(6);
		if(this.clear_type == 2 || this.clear_type == 3)
		{
			var l27 = this.coin_kazu;
			this.getCoinTotal();
			if(l27 > 0 && this.coin_kazu == 0)
			{
				this.gs.rsAddSound(7);
				if(this.clear_type == 3)
					this.showHashigo();
			}
		}
		break;

	case 8:
		if(this.clear_type != 2 && this.clear_type != 3 || this.coin_kazu <= 0)
		{
			if(this.maps.map_bg[rightShiftIgnoreSign(this.co_j.x + 15, 5) - 1][rightShiftIgnoreSign(this.co_j.y + 15, 5)] == 4)
			{
				this.maps.putBGCode(rightShiftIgnoreSign(this.co_j.x + 15, 5), rightShiftIgnoreSign(this.co_j.y + 15, 5), 4);
				this.j_mizu_f = true;
			} else
			{
				this.maps.putBGCode(rightShiftIgnoreSign(this.co_j.x + 15, 5), rightShiftIgnoreSign(this.co_j.y + 15, 5), 0);
			}
			this.gs.rsAddSound(2);
			this.stage_cc = 1;
			if(this.stage_max >= 2 && this.stage >= this.stage_max)
				this.addScore(1000);
			else
				this.addScore(100);
		}
		break;

	case 5:
		this.co_j.y = rightShiftIgnoreSign(this.co_j.y + 15, 5) * 32;
		this.jShinu(1);
		break;

	case 6:
		this.co_j.y = rightShiftIgnoreSign(this.co_j.y + 15, 5) * 32;
		this.jShinu(1);
		break;
	}
	if(this.clear_type == 3 && this.coin_kazu <= 0 && this.co_j.y <= this.maps.wy_mini - 32 && this.stage_cc <= 0)
	{
		this.stage_cc = 1;
		this.co_j.c = 130;
		this.co_j.c1 = -9999;
		this.addScore(100);
		this.gs.rsAddSound(2);
	}
	if(this.co_j.y >= this.ochiru_y || this.j_mizu_f && this.co_j.y >= this.ochiru_y - 16)
	{
		this.co_j.c = 210;
		this.co_j.c1 = 0;
		this.co_j.y = this.ochiru_y + 64;
		this.j_jet_c = 0;
		this.j_v_c = 0;
	}
	this.moveViewPosition();
}

MainProgram.prototype.jM100stg = function()
{
	var flag2 = false;
	this.j_zan_cf = false;
	this.j_mizu_f = false;
	var i7 = this.maps.getBGCode(this.co_j.x + 15, this.co_j.y + 15);
	if(i7 == 4)
	{
		this.j_mizu_f = true;
		this.j_mizu_awa_c++;
		if(this.j_mizu_awa_c == 44 || this.j_mizu_awa_c == 54)
			this.mSet(this.co_j.x, this.co_j.y + 4, 60);
		else
		if(this.j_mizu_awa_c > 54)
			this.j_mizu_awa_c = 0;
	} else
	if(i7 == 8 || i7 == 9)
	{
		if(this.maps.map_bg[rightShiftIgnoreSign(this.co_j.x + 15, 5) - 1][rightShiftIgnoreSign(this.co_j.y + 15, 5)] == 4)
		{
			this.j_mizu_f = true;
			this.j_mizu_awa_c++;
			if(this.j_mizu_awa_c == 44 || this.j_mizu_awa_c == 54)
				this.mSet(this.co_j.x, this.co_j.y + 4, 60);
			else
			if(this.j_mizu_awa_c > 54)
				this.j_mizu_awa_c = 0;
		}
	} else
	if(i7 >= 15 && i7 <= 19 && this.maps.map_bg[rightShiftIgnoreSign(this.co_j.x + 15, 5)][rightShiftIgnoreSign(this.co_j.y + 15, 5) - 1] == 4)
	{
		this.j_mizu_f = true;
		this.j_mizu_awa_c++;
		if(this.j_mizu_awa_c == 44 || this.j_mizu_awa_c == 54)
			this.mSet(this.co_j.x, this.co_j.y + 4, 60);
		else
		if(this.j_mizu_awa_c > 54)
			this.j_mizu_awa_c = 0;
	}
	if(this.gk.tr1_f)
	{
		if(this.tr1_c < 14)
			this.tr1_c++;
		if(this.j_tokugi == 14 && this.tr1_c >= 14)
			this.tr1_c = 1;
	} else
	{
		this.tr1_c = 0;
	}
	if(this.gk.tr1_f)
	{
		if(this.gk.tr1_c < 14)
			this.gk.tr1_c++;
		if(this.j_tokugi == 14 && this.tr1_c >= 14)
			this.tr1_c = 1;
	} else
	{
		this.gk.tr1_c = 0;
	}
	if(this.gk.tr2_f)
	{
		if(this.tr2_c < 2)
			this.tr2_c++;
	} else
	{
		this.tr2_c = 0;
	}
	if(this.gk.x_f)
	{
		if(this.xkey_c < 2)
			this.xkey_c++;
	} else
	{
		this.xkey_c = 0;
	}
	if(this.gk.left_f)
	{
		if(this.gk.left_c < 2)
			this.gk.left_c++;
	} else
	{
		this.gk.left_c = 0;
	}
	if(this.gk.right_f)
	{
		if(this.gk.right_c < 2)
			this.gk.right_c++;
	} else
	{
		this.gk.right_c = 0;
	}
	this.co_j.pt = 100;
	if(this.j_tokugi == 14)
	{
		if(this.gk.right_f)
			this.co_j.vx = this.j_speed;
		else
		if(this.gk.left_f)
			this.co_j.vx = this.j_speed * -1;
		else
			this.co_j.vx = 0;
		if(this.gk.up_f)
			this.co_j.vy = this.j_speed * -1;
		else
		if(this.gk.down_f)
			this.co_j.vy = this.j_speed;
		else
			this.co_j.vy = 0;
		this.co_j.muki = 1;
		if(this.g_c2 <= 1)
			this.co_j.pt = 83;
		else
			this.co_j.pt = 84;
	} else
	{
		if(this.gk.right_f)
		{
			this.co_j.vx = this.j_speed;
			this.co_j.vy = 0;
			this.co_j.muki = 1;
			this.j_4_muki = 1;
			if(this.co_j.x % 32 == 0 && (this.maps.getBGCode(this.co_j.x + 32, this.co_j.y) >= 20 || this.maps.getBGCode(this.co_j.x + 32, this.co_j.y + 31) >= 20))
				if(this.maps.getBGCode(this.co_j.x + 32, this.co_j.y) < 20)
				{
					this.co_j.vx = 0;
					this.co_j.vy = this.j_speed * -1;
					this.j_4_muki = 2;
					if(rightShiftIgnoreSign(this.co_j.y, 5) * 32 > this.co_j.y + rounddown(this.co_j.vy / 10))
						this.co_j.vy = (this.co_j.y - rightShiftIgnoreSign(this.co_j.y, 5) * 32) * 10;
				} else
				if(this.maps.getBGCode(this.co_j.x + 32, this.co_j.y + 31) < 20)
				{
					this.co_j.vx = 0;
					this.co_j.vy = this.j_speed;
					this.j_4_muki = 3;
					if(rightShiftIgnoreSign(this.co_j.y + 31, 5) * 32 < this.co_j.y + rounddown(this.co_j.vy / 10))
						this.co_j.vy = (rightShiftIgnoreSign(this.co_j.y + 31, 5) * 32 - this.co_j.y) * 10;
				}
		} else
		if(this.gk.left_f)
		{
			this.co_j.vx = this.j_speed * -1;
			this.co_j.vy = 0;
			this.co_j.muki = 0;
			this.j_4_muki = 0;
			if(this.co_j.x % 32 == 0 && (this.maps.getBGCode(this.co_j.x - 1, this.co_j.y) >= 20 || this.maps.getBGCode(this.co_j.x - 1, this.co_j.y + 31) >= 20))
				if(this.maps.getBGCode(this.co_j.x - 1, this.co_j.y) < 20)
				{
					this.co_j.vx = 0;
					this.co_j.vy = this.j_speed * -1;
					this.j_4_muki = 2;
					if(rightShiftIgnoreSign(this.co_j.y, 5) * 32 > this.co_j.y + rounddown(this.co_j.vy / 10))
						this.co_j.vy = (this.co_j.y - rightShiftIgnoreSign(this.co_j.y, 5) * 32) * 10;
				} else
				if(this.maps.getBGCode(this.co_j.x - 1, this.co_j.y + 31) < 20)
				{
					this.co_j.vx = 0;
					this.co_j.vy = this.j_speed;
					this.j_4_muki = 3;
					if(rightShiftIgnoreSign(this.co_j.y + 31, 5) * 32 < this.co_j.y + rounddown(this.co_j.vy / 10))
						this.co_j.vy = (rightShiftIgnoreSign(this.co_j.y + 31, 5) * 32 - this.co_j.y) * 10;
				}
		} else
		if(this.gk.up_f)
		{
			this.co_j.vx = 0;
			this.co_j.vy = this.j_speed * -1;
			this.j_4_muki = 2;
			if(this.co_j.y % 32 == 0 && (this.maps.getBGCode(this.co_j.x, this.co_j.y - 1) >= 20 || this.maps.getBGCode(this.co_j.x + 31, this.co_j.y - 1) >= 20))
				if(this.maps.getBGCode(this.co_j.x, this.co_j.y - 1) < 20)
				{
					this.co_j.vx = this.j_speed * -1;
					this.co_j.vy = 0;
					this.co_j.muki = 0;
					this.j_4_muki = 0;
					if(rightShiftIgnoreSign(this.co_j.x, 5) * 32 > this.co_j.x + rounddown(this.co_j.vx / 10))
						this.co_j.vx = (this.co_j.x - rightShiftIgnoreSign(this.co_j.x, 5) * 32) * 10;
				} else
				if(this.maps.getBGCode(this.co_j.x + 31, this.co_j.y - 1) < 20)
				{
					this.co_j.vx = this.j_speed;
					this.co_j.vy = 0;
					this.co_j.muki = 1;
					this.j_4_muki = 1;
					if(rightShiftIgnoreSign(this.co_j.x + 31, 5) * 32 < this.co_j.x + rounddown(this.co_j.vx / 10))
						this.co_j.vx = (rightShiftIgnoreSign(this.co_j.x + 31, 5) * 32 - this.co_j.x) * 10;
				}
		} else
		if(this.gk.down_f)
		{
			this.co_j.vx = 0;
			this.co_j.vy = this.j_speed;
			this.j_4_muki = 3;
			if(this.co_j.y % 32 == 0 && (this.maps.getBGCode(this.co_j.x, this.co_j.y + 32) >= 20 || this.maps.getBGCode(this.co_j.x + 31, this.co_j.y + 32) >= 20))
				if(this.maps.getBGCode(this.co_j.x, this.co_j.y + 32) < 20)
				{
					this.co_j.vx = this.j_speed * -1;
					this.co_j.vy = 0;
					this.co_j.muki = 0;
					this.j_4_muki = 0;
					if(rightShiftIgnoreSign(this.co_j.x, 5) * 32 > this.co_j.x + rounddown(this.co_j.vx / 10))
						this.co_j.vx = (this.co_j.x - rightShiftIgnoreSign(this.co_j.x, 5) * 32) * 10;
				} else
				if(this.maps.getBGCode(this.co_j.x + 31, this.co_j.y + 32) < 20)
				{
					this.co_j.vx = this.j_speed;
					this.co_j.vy = 0;
					this.co_j.muki = 1;
					this.j_4_muki = 1;
					if(rightShiftIgnoreSign(this.co_j.x + 31, 5) * 32 < this.co_j.x + rounddown(this.co_j.vx / 10))
						this.co_j.vx = (rightShiftIgnoreSign(this.co_j.x + 31, 5) * 32 - this.co_j.x) * 10;
				}
		} else
		{
			this.co_j.vx = 0;
			this.co_j.vy = 0;
		}
		if(this.co_j.vx != 0 || this.co_j.vy != 0)
		{
			this.co_j.ac++;
			if(this.co_j.ac > 3)
				this.co_j.ac = 0;
		} else
		{
			this.co_j.ac = 0;
		}
		if(this.co_j.vx != 0)
			this.co_j.pt = 103 + rightShiftIgnoreSign(this.co_j.ac, 1);
		else
		if(this.j_4_muki == 2)
			this.co_j.pt = 204 + rightShiftIgnoreSign(this.co_j.ac, 1);
		else
		if(this.j_4_muki == 3)
			this.co_j.pt = 202 + rightShiftIgnoreSign(this.co_j.ac, 1);
		else
			this.co_j.pt = 100;
	}
	if(this.co_j.vx < 0)
	{
		this.co_j.x += rounddown(this.co_j.vx / 10);
		if(this.a_hf)
		{
			for(var i3 = 0; i3 <= this.a_kazu; i3++)
			{
				if(!this.co_a[i3].gf)
					continue;
				var characterobject = this.co_a[i3];
				if(characterobject.c >= 100 && characterobject.c < 200)
				{
					if(this.co_j.x + 15 >= characterobject.x && this.co_j.x <= characterobject.x + 64 && this.co_j.y + 31 >= characterobject.y && this.co_j.y <= characterobject.y + 13)
					{
						this.co_j.x = characterobject.x + 65;
						this.co_j.vx = 0;
					}
					continue;
				}
				if(characterobject.c == 300)
				{
					if(this.co_j.x + 15 >= characterobject.x && this.co_j.x <= characterobject.x + 48 && this.co_j.y + 31 >= characterobject.y && this.co_j.y <= characterobject.y + 31)
					{
						this.co_j.x = characterobject.x + 49;
						this.co_j.vx = 0;
					}
					continue;
				}
				if(characterobject.c >= 400 && characterobject.c < 500)
				{
					if(this.co_j.x + 15 >= characterobject.x && this.co_j.x <= characterobject.x + 80 && this.co_j.y + 31 >= characterobject.y && this.co_j.y <= characterobject.y + 63)
					{
						this.co_j.x = characterobject.x + 81;
						this.co_j.vx = 0;
					}
					continue;
				}
				if(characterobject.c == 500)
				{
					if(this.co_j.x + 15 >= characterobject.x && this.co_j.x <= characterobject.x + 80 && this.co_j.y + 31 >= characterobject.y && this.co_j.y <= characterobject.y + 13)
					{
						this.co_j.x = characterobject.x + 81;
						this.co_j.vx = 0;
					}
					continue;
				}
				if(characterobject.c >= 600 && characterobject.c < 700)
				{
					if(this.co_j.x + 15 >= characterobject.x && this.co_j.x <= characterobject.x + 48 && this.co_j.y + 31 >= characterobject.y + 16 && this.co_j.y <= characterobject.y + 47)
					{
						this.co_j.x = characterobject.x + 49;
						this.co_j.vx = 0;
					}
					continue;
				}
				if(characterobject.c == 700 && this.j_tokugi != 10 && this.j_tokugi != 12 && this.j_tokugi != 13 && this.co_j.x + 15 >= characterobject.x && this.co_j.x <= characterobject.x + 16 && this.co_j.y + 31 >= characterobject.y && this.co_j.y <= characterobject.y + 31)
				{
					this.co_j.x = characterobject.x + 17;
					this.co_j.vx = 0;
				}
			}

		}
		if(this.yuka_id_max >= 0)
			this.atariYuka(0);
		var j = rightShiftIgnoreSign(this.co_j.x, 5);
		var word6 = this.maps.map_bg[j][rightShiftIgnoreSign(this.co_j.y, 5)];
		var k1 = rightShiftIgnoreSign(this.co_j.y + 31, 5);
		var word2 = this.maps.map_bg[j][k1];
		if(word6 >= 20 || word2 >= 20)
		{
			this.co_j.x = j * 32 + 32;
			this.co_j.vx = 0;
		}
	} else
	if(this.co_j.vx > 0)
	{
		this.co_j.x += rounddown(this.co_j.vx / 10);
		if(this.a_hf)
		{
			for(var j3 = 0; j3 <= this.a_kazu; j3++)
			{
				if(!this.co_a[j3].gf)
					continue;
				var characterobject1 = this.co_a[j3];
				if(characterobject1.c >= 100 && characterobject1.c < 200)
				{
					if(this.co_j.x + 15 >= characterobject1.x && this.co_j.x <= characterobject1.x + 64 && this.co_j.y + 31 >= characterobject1.y && this.co_j.y <= characterobject1.y + 13)
					{
						this.co_j.x = characterobject1.x - 16;
						this.co_j.vx = 0;
					}
					continue;
				}
				if(characterobject1.c == 300)
				{
					if(this.co_j.x + 15 >= characterobject1.x && this.co_j.x <= characterobject1.x + 48 && this.co_j.y + 31 >= characterobject1.y && this.co_j.y <= characterobject1.y + 31)
					{
						this.co_j.x = characterobject1.x - 16;
						this.co_j.vx = 0;
					}
					continue;
				}
				if(characterobject1.c >= 400 && characterobject1.c < 500)
				{
					if(this.co_j.x + 15 >= characterobject1.x && this.co_j.x <= characterobject1.x + 80 && this.co_j.y + 31 >= characterobject1.y && this.co_j.y <= characterobject1.y + 63)
					{
						this.co_j.x = characterobject1.x - 16;
						this.co_j.vx = 0;
					}
					continue;
				}
				if(characterobject1.c == 500)
				{
					if(this.co_j.x + 15 >= characterobject1.x && this.co_j.x <= characterobject1.x + 80 && this.co_j.y + 31 >= characterobject1.y && this.co_j.y <= characterobject1.y + 13)
					{
						this.co_j.x = characterobject1.x - 16;
						this.co_j.vx = 0;
					}
					continue;
				}
				if(characterobject1.c >= 600 && characterobject1.c < 700)
				{
					if(this.co_j.x + 15 >= characterobject1.x && this.co_j.x <= characterobject1.x + 48 && this.co_j.y + 31 >= characterobject1.y + 16 && this.co_j.y <= characterobject1.y + 47)
					{
						this.co_j.x = characterobject1.x - 16;
						this.co_j.vx = 0;
					}
					continue;
				}
				if(characterobject1.c == 700 && this.j_tokugi != 10 && this.j_tokugi != 12 && this.j_tokugi != 13 && this.co_j.x + 15 >= characterobject1.x && this.co_j.x <= characterobject1.x + 16 && this.co_j.y + 31 >= characterobject1.y && this.co_j.y <= characterobject1.y + 31)
				{
					this.co_j.x = characterobject1.x - 16;
					this.co_j.vx = 0;
				}
			}

		}
		if(this.yuka_id_max >= 0)
			this.atariYuka(1);
		var k = rightShiftIgnoreSign(this.co_j.x + 31, 5);
		var word7 = this.maps.map_bg[k][rightShiftIgnoreSign(this.co_j.y, 5)];
		var l1 = rightShiftIgnoreSign(this.co_j.y + 31, 5);
		var word3 = this.maps.map_bg[k][l1];
		if(word7 >= 20 || word3 >= 20)
		{
			this.co_j.x = k * 32 - 16;
			this.co_j.x = k * 32 - 32;
			this.co_j.vx = 0;
		}
	}
	if(this.co_j.vy < 0)
	{
		var k6 = this.co_j.vy;
		if(k6 < -320)
			k6 = -320;
		this.co_j.y += rounddown(k6 / 10);
		if(this.a_hf)
		{
			for(var k3 = 0; k3 <= this.a_kazu; k3++)
			{
				if(!this.co_a[k3].gf)
					continue;
				var characterobject2 = this.co_a[k3];
				if(characterobject2.c >= 100 && characterobject2.c < 200)
				{
					if(this.co_j.x + 15 >= characterobject2.x && this.co_j.x <= characterobject2.x + 64 && this.co_j.y + 31 >= characterobject2.y && this.co_j.y <= characterobject2.y + 13)
					{
						this.co_j.y = characterobject2.y + 14;
						this.co_j.vy = 0;
					}
					continue;
				}
				if(characterobject2.c == 300)
				{
					if(this.co_j.x + 15 >= characterobject2.x && this.co_j.x <= characterobject2.x + 48 && this.co_j.y + 31 >= characterobject2.y && this.co_j.y <= characterobject2.y + 31)
					{
						this.co_j.y = characterobject2.y + 32;
						this.co_j.vy = 0;
					}
					continue;
				}
				if(characterobject2.c >= 400 && characterobject2.c < 500)
				{
					if(this.co_j.x + 15 >= characterobject2.x && this.co_j.x <= characterobject2.x + 80 && this.co_j.y + 31 >= characterobject2.y && this.co_j.y <= characterobject2.y + 63)
					{
						this.co_j.y = characterobject2.y + 64;
						this.co_j.vy = 0;
					}
					continue;
				}
				if(characterobject2.c == 500)
				{
					if(this.co_j.x + 15 >= characterobject2.x && this.co_j.x <= characterobject2.x + 80 && this.co_j.y + 31 >= characterobject2.y && this.co_j.y <= characterobject2.y + 13)
					{
						this.co_j.y = characterobject2.y + 14;
						this.co_j.vy = 0;
					}
					continue;
				}
				if(characterobject2.c >= 600 && characterobject2.c < 700)
				{
					if(this.co_j.x + 15 >= characterobject2.x && this.co_j.x <= characterobject2.x + 48 && this.co_j.y + 31 >= characterobject2.y + 16 && this.co_j.y <= characterobject2.y + 47)
					{
						this.co_j.y = characterobject2.y + 48;
						this.co_j.vy = 0;
					}
					continue;
				}
				if(characterobject2.c == 700 && this.co_j.x + 15 >= characterobject2.x && this.co_j.x <= characterobject2.x + 16 && this.co_j.y + 31 >= characterobject2.y && this.co_j.y <= characterobject2.y + 31)
				{
					this.co_j.y = characterobject2.y + 32;
					this.co_j.vy = 0;
				}
			}

		}
		if(this.yuka_id_max >= 0)
			this.atariYuka(2);
		var j2 = rightShiftIgnoreSign(this.co_j.y, 5);
		var word8 = this.maps.map_bg[rightShiftIgnoreSign(this.co_j.x + 15, 5)][j2];
		var word9 = this.maps.map_bg[rightShiftIgnoreSign(this.co_j.x, 5)][j2];
		var word11 = this.maps.map_bg[rightShiftIgnoreSign(this.co_j.x + 31, 5)][j2];
		if(word9 >= 20 || word11 >= 20)
		{
			this.co_j.y = j2 * 32 + 32;
			this.co_j.vy = 0;
			if(word8 == 40)
			{
				var i4 = rightShiftIgnoreSign(this.co_j.x + 15, 5);
				var i5 = rightShiftIgnoreSign(this.co_j.y - 1, 5);
				this.hAttack(i4, i5);
			}
			if(this.j_helm_f && (word8 == 20 || word8 == 69 && this.suberuyuka_hkf == 1))
			{
				var j4 = rightShiftIgnoreSign(this.co_j.x + 15, 5);
				var j5 = j2;
				if(this.maps.map_bg[j4][j5 + 1] == 4)
					this.maps.putBGCode(j4, j5, 4);
				else
					this.maps.putBGCode(j4, j5, 0);
				this.mSet2(j4 * 32, j5 * 32, 80, 12, -24);
				this.mSet2(j4 * 32, j5 * 32, 80, -12, -24);
				this.gs.rsAddSound(16);
				this.jZutuki(j4 * 32, j5 * 32 - 32, 0);
			}
		}
		if(this.co_j.y < this.maps.wy_mini)
			this.co_j.y = this.maps.wy_mini;
	} else
	if(this.co_j.vy > 0)
	{
		this.co_j.y += rounddown(this.co_j.vy / 10);
		if(this.a_hf)
		{
			for(var l3 = 0; l3 <= this.a_kazu; l3++)
			{
				if(!this.co_a[l3].gf)
					continue;
				var characterobject3 = this.co_a[l3];
				if(characterobject3.c >= 100 && characterobject3.c < 200)
				{
					if(this.co_j.x + 15 >= characterobject3.x && this.co_j.x <= characterobject3.x + 64 && this.co_j.y + 31 >= characterobject3.y && this.co_j.y <= characterobject3.y + 13)
					{
						this.co_j.y = characterobject3.y - 32;
						this.co_j.vy = 0;
					}
					continue;
				}
				if(characterobject3.c == 300)
				{
					if(this.co_j.x + 15 >= characterobject3.x && this.co_j.x <= characterobject3.x + 48 && this.co_j.y + 31 >= characterobject3.y && this.co_j.y <= characterobject3.y + 31)
					{
						this.co_j.y = characterobject3.y - 32;
						this.co_j.vy = 0;
					}
					continue;
				}
				if(characterobject3.c >= 400 && characterobject3.c < 500)
				{
					if(this.co_j.x + 15 >= characterobject3.x && this.co_j.x <= characterobject3.x + 80 && this.co_j.y + 31 >= characterobject3.y && this.co_j.y <= characterobject3.y + 63)
					{
						this.co_j.y = characterobject3.y - 32;
						this.co_j.vy = 0;
					}
					continue;
				}
				if(characterobject3.c == 500)
				{
					if(this.co_j.x + 15 >= characterobject3.x && this.co_j.x <= characterobject3.x + 80 && this.co_j.y + 31 >= characterobject3.y && this.co_j.y <= characterobject3.y + 13)
					{
						this.co_j.y = characterobject3.y - 32;
						this.co_j.vy = 0;
					}
					continue;
				}
				if(characterobject3.c >= 600 && characterobject3.c < 700)
				{
					if(this.co_j.x + 15 >= characterobject3.x && this.co_j.x <= characterobject3.x + 48 && this.co_j.y + 31 >= characterobject3.y + 16 && this.co_j.y <= characterobject3.y + 47)
					{
						this.co_j.y = (characterobject3.y + 16) - 32;
						this.co_j.vy = 0;
					}
					continue;
				}
				if(characterobject3.c == 700 && this.co_j.x + 15 >= characterobject3.x && this.co_j.x <= characterobject3.x + 16 && this.co_j.y + 31 >= characterobject3.y && this.co_j.y <= characterobject3.y + 31)
				{
					this.co_j.y = characterobject3.y - 32;
					this.co_j.vy = 0;
				}
			}

		}
		if(this.yuka_id_max >= 0)
			this.atariYuka(3);
		var i2 = rightShiftIgnoreSign(this.co_j.y + 31, 5);
		var word10 = this.maps.map_bg[rightShiftIgnoreSign(this.co_j.x, 5)][i2];
		var word12 = this.maps.map_bg[rightShiftIgnoreSign(this.co_j.x + 31, 5)][i2];
		if(word10 >= 20 || word12 >= 20 || flag2)
		{
			this.co_j.y = i2 * 32 - 32;
			this.co_j.vy = 0;
			i2 = rightShiftIgnoreSign(this.co_j.y + 31, 5);
		}
		if(this.co_j.y > (this.maps.wy_max + 320) - 32)
			this.co_j.y = (this.maps.wy_max + 320) - 32;
		if(!this.j_mizu_f)
		{
			var i6 = this.maps.getBGCode(this.co_j.x + 15, this.co_j.y + 15);
			if(i6 == 4)
			{
				this.mSet(this.co_j.x, rightShiftIgnoreSign(this.co_j.y + 15, 5) * 32 - 32, 50);
				this.j_mizu_awa_c = 38;
				this.gs.rsAddSound(20);
				if(this.co_j.vx < -60)
					this.co_j.vx = -60;
				else
				if(this.co_j.vx > 60)
					this.co_j.vx = 60;
			} else
			if((i6 == 8 || i6 == 9) && this.maps.map_bg[rightShiftIgnoreSign(this.co_j.x + 15, 5) - 1][rightShiftIgnoreSign(this.co_j.y + 15, 5)] == 4)
			{
				this.mSet(this.co_j.x, rightShiftIgnoreSign(this.co_j.y + 15, 5) * 32 - 32, 50);
				this.j_mizu_awa_c = 38;
				if(this.co_j.vx < -60)
					this.co_j.vx = -60;
				else
				if(this.co_j.vx > 60)
					this.co_j.vx = 60;
			}
		}
	}
	if(this.gk.down_f && this.maps.getBGCode(this.co_j.x + 15, this.co_j.y + 32) == 15)
	{
		this.j_shitakara_mushi_y = rightShiftIgnoreSign(this.co_j.y + 32, 5);
		this.j_jump_type = 2;
		this.co_j.ac = 0;
	}
	if(this.tr1_c == 1)
	{
		if(this.j_fire_f && (!this.j_mizu_f || this.j_fire_mkf))
			if(this.co_j.muki == 0)
			{
				this.jmSet(this.co_j.x, this.co_j.y, 100);
			} else
			{
				this.jmSet(this.co_j.x, this.co_j.y, 105);
				if(this.j_tokugi == 14)
				{
					if(this.j_double_f)
						if(this.grenade_type == 7)
						{
							if(this.co_jm[7].c == 0)
							{
								this.co_jm[7].c = 110;
								this.co_jm[7].x = this.co_j.x;
								this.co_jm[7].y = this.co_j.y;
								this.co_jm[7].vx = 10;
								this.co_jm[7].vy = -10;
								this.gs.rsAddSound(23);
							}
						} else
						if(this.co_jm[7].c == 0)
						{
							this.co_jm[7].c = 106;
							this.co_jm[7].x = this.co_j.x;
							this.co_jm[7].y = this.co_j.y;
							this.co_jm[7].vx = 12;
							this.co_jm[7].vy = -9;
							this.gs.rsAddSound(23);
						} else
						if(this.co_jm[8].c == 0)
						{
							this.co_jm[8].c = 106;
							this.co_jm[8].x = this.co_j.x;
							this.co_jm[8].y = this.co_j.y;
							this.co_jm[8].vx = 12;
							this.co_jm[8].vy = -9;
							this.gs.rsAddSound(23);
						}
					if(this.co_mu[0].c == 100)
						if(this.co_jm[3].c == 0)
						{
							this.co_jm[3].c = 106;
							this.co_jm[3].x = this.co_mu[0].x;
							this.co_jm[3].y = this.co_mu[0].y;
							this.co_jm[3].vx = 16;
							this.co_jm[3].vy = 0;
							this.co_jm[3].c2 = 106;
							this.gs.rsAddSound(23);
						} else
						if(this.co_jm[4].c == 0)
						{
							this.co_jm[4].c = 106;
							this.co_jm[4].x = this.co_mu[0].x;
							this.co_jm[4].y = this.co_mu[0].y;
							this.co_jm[4].vx = 16;
							this.co_jm[4].vy = 0;
							this.co_jm[4].c2 = 106;
							this.gs.rsAddSound(23);
						}
					if(this.co_mu[1].c == 100)
						if(this.co_jm[5].c == 0)
						{
							this.co_jm[5].c = 106;
							this.co_jm[5].x = this.co_mu[1].x;
							this.co_jm[5].y = this.co_mu[1].y;
							this.co_jm[5].vx = 16;
							this.co_jm[5].vy = 0;
							this.co_jm[5].c2 = 106;
							this.gs.rsAddSound(23);
						} else
						if(this.co_jm[6].c == 0)
						{
							this.co_jm[6].c = 106;
							this.co_jm[6].x = this.co_mu[1].x;
							this.co_jm[6].y = this.co_mu[1].y;
							this.co_jm[6].vx = 16;
							this.co_jm[6].vy = 0;
							this.co_jm[6].c2 = 106;
							this.gs.rsAddSound(23);
						}
				}
			}
		if(this.j_tail_f && (this.j_tail_ac <= 0 || this.j_tail_ac >= 8))
		{
			this.j_tail_ac = 1;
			this.co_j.pt = 116;
			this.j_zan_f = false;
		}
	}
	if(this.xkey_c == 1)
	{
		if(this.j_gr_kazu > 0)
			if(this.grenade_type == 7)
				this.jmSet2(this.co_j.x, this.co_j.y, 50, 2);
			else
			if(this.grenade_type == 3 || this.grenade_type == 4)
			{
				if(this.co_j.muki == 0)
					this.jmSet2(this.co_j.x, this.co_j.y, 60, 2);
				else
					this.jmSet2(this.co_j.x, this.co_j.y, 65, 2);
			} else
			if(this.co_j.muki == 0)
				this.jmSet2(this.co_j.x, this.co_j.y, 200, 2);
			else
				this.jmSet2(this.co_j.x, this.co_j.y, 205, 2);
		i7 = this.maps.getBGCode(this.co_j.x + 15, this.co_j.y + 32);
		if(this.j_drell_f && (i7 == 20 || i7 == 69 && this.suberuyuka_hkf == 1))
		{
			var k4 = rightShiftIgnoreSign(this.co_j.x + 15, 5);
			var k5 = rightShiftIgnoreSign(this.co_j.y + 32, 5);
			if(this.maps.map_bg[k4][k5 - 1] == 4 || this.maps.map_bg[k4 - 1][k5] == 4 || this.maps.map_bg[k4 + 1][k5] == 4)
				this.maps.putBGCode(k4, k5, 4);
			else
				this.maps.putBGCode(k4, k5, 0);
			if(this.j_tokugi == 12 || this.j_tokugi == 13)
			{
				this.anaSet(k4, k5);
			} else
			{
				this.mSet2(k4 * 32, k5 * 32, 80, 12, -24);
				this.mSet2(k4 * 32, k5 * 32, 80, -12, -24);
			}
			this.gs.rsAddSound(16);
			this.jZutuki(k4 * 32, k5 * 32 - 32, 0);
			this.co_j.x = k4 * 32;
			this.co_j.vx = 0;
			this.co_j.vy = 0;
			this.j_jump_type = 3;
			this.co_j.c = 120;
			this.co_j.c1 = 0;
			this.co_j.pt = 119;
		}
	}
	if(this.j_tail_ac >= 1)
	{
		this.j_zan_f = false;
		this.j_tail_ac++;
		if(this.j_tail_ac <= 4)
		{
			this.co_j.pt = 116;
			if(this.j_tokugi == 15 && this.j_4_muki == 2)
			{
				this.co_j.pt = 83;
				this.co_j.muki = 0;
			} else
			if(this.j_tokugi == 15 && this.j_4_muki == 3)
			{
				this.co_j.pt = 84;
				this.co_j.muki = 0;
			}
			if(this.j_tail_type == 1 || this.j_tail_type == 3)
				if(this.j_tokugi == 15 && this.j_4_muki == 2)
					this.jZutuki(this.co_j.x, this.co_j.y - 32, 1);
				else
				if(this.j_tokugi == 15 && this.j_4_muki == 3)
					this.jZutuki(this.co_j.x, this.co_j.y + 32, 1);
				else
				if(this.co_j.muki == 0)
					this.jZutuki(this.co_j.x - 32, this.co_j.y, 1);
				else
					this.jZutuki(this.co_j.x + 32, this.co_j.y, 1);
		} else
		if(this.j_tail_ac <= 5)
		{
			this.co_j.pt = 1000;
			if(this.j_tail_type == 1 || this.j_tail_type == 3)
				if(this.j_tokugi == 15 && this.j_4_muki == 2)
					this.jZutuki(this.co_j.x, this.co_j.y - 32, 1);
				else
				if(this.j_tokugi == 15 && this.j_4_muki == 3)
					this.jZutuki(this.co_j.x, this.co_j.y + 32, 1);
				else
				if(this.co_j.muki == 0)
					this.jZutuki(this.co_j.x - 32, this.co_j.y, 1);
				else
					this.jZutuki(this.co_j.x + 32, this.co_j.y, 1);
			if(this.j_tail_type == 2 || this.j_tail_type == 3)
			{
				var l4;
				if(this.co_j.muki == 1)
					l4 = rightShiftIgnoreSign(this.co_j.x + 40, 5);
				else
					l4 = rightShiftIgnoreSign(this.co_j.x - 8, 5);
				var l5 = rightShiftIgnoreSign(this.co_j.y + 15, 5);
				if(this.j_tokugi == 15 && this.j_4_muki == 2)
				{
					l4 = rightShiftIgnoreSign(this.co_j.x + 15, 5);
					l5 = rightShiftIgnoreSign(this.co_j.y - 16, 5);
				} else
				if(this.j_tokugi == 15 && this.j_4_muki == 3)
				{
					l4 = rightShiftIgnoreSign(this.co_j.x + 15, 5);
					l5 = rightShiftIgnoreSign(this.co_j.y + 44, 5);
				}
				if(this.maps.map_bg[l4][l5] == 20 || this.maps.map_bg[l4][l5] == 69 && this.suberuyuka_hkf == 1)
				{
					if(this.maps.map_bg[l4 - 1][l5] == 4)
						this.maps.putBGCode(l4, l5, 4);
					else
						this.maps.putBGCode(l4, l5, 0);
					this.mSet2(l4 * 32, l5 * 32, 80, 12, -24);
					this.mSet2(l4 * 32, l5 * 32, 80, -12, -24);
					this.gs.rsAddSound(16);
					this.jZutuki(l4 * 32, l5 * 32 - 32, 0);
				}
			}
		} else
		if(this.j_tail_ac <= 7)
			this.co_j.pt = 1000;
		else
		if(this.j_tail_ac <= 9)
		{
			this.co_j.pt = 116;
			if(this.j_tokugi == 15 && this.j_4_muki == 2)
			{
				this.co_j.pt = 83;
				this.co_j.muki = 0;
			} else
			if(this.j_tokugi == 15 && this.j_4_muki == 3)
			{
				this.co_j.pt = 84;
				this.co_j.muki = 0;
			}
		} else
		{
			this.co_j.pt = 116;
			this.j_tail_ac = 0;
			if(this.j_tokugi == 15 && this.j_4_muki == 2)
			{
				this.co_j.pt = 83;
				this.co_j.muki = 0;
			} else
			if(this.j_tokugi == 15 && this.j_4_muki == 3)
			{
				this.co_j.pt = 84;
				this.co_j.muki = 0;
			}
		}
	}
	i7 = this.maps.map_bg[rightShiftIgnoreSign(this.co_j.x + 15, 5)][rightShiftIgnoreSign(this.co_j.y + 15, 5)];
	switch(i7)
	{
	case 9:
		if(this.maps.map_bg[rightShiftIgnoreSign(this.co_j.x + 15, 5) - 1][rightShiftIgnoreSign(this.co_j.y + 15, 5)] == 4)
		{
			this.maps.putBGCode(rightShiftIgnoreSign(this.co_j.x + 15, 5), rightShiftIgnoreSign(this.co_j.y + 15, 5), 4);
			this.j_mizu_f = true;
		} else
		{
			this.maps.putBGCode(rightShiftIgnoreSign(this.co_j.x + 15, 5), rightShiftIgnoreSign(this.co_j.y + 15, 5), 0);
		}
		this.addScore(5);
		this.gs.rsAddSound(6);
		if(this.clear_type == 2 || this.clear_type == 3)
		{
			var l6 = this.coin_kazu;
			this.getCoinTotal();
			if(l6 > 0 && this.coin_kazu == 0)
			{
				this.gs.rsAddSound(7);
				if(this.clear_type == 3)
					this.showHashigo();
			}
		}
		break;

	case 8:
		if(this.clear_type != 2 && this.clear_type != 3 || this.coin_kazu <= 0)
		{
			if(this.maps.map_bg[rightShiftIgnoreSign(this.co_j.x + 15, 5) - 1][rightShiftIgnoreSign(this.co_j.y + 15, 5)] == 4)
			{
				this.maps.putBGCode(rightShiftIgnoreSign(this.co_j.x + 15, 5), rightShiftIgnoreSign(this.co_j.y + 15, 5), 4);
				this.j_mizu_f = true;
			} else
			{
				this.maps.putBGCode(rightShiftIgnoreSign(this.co_j.x + 15, 5), rightShiftIgnoreSign(this.co_j.y + 15, 5), 0);
			}
			this.gs.rsAddSound(2);
			this.stage_cc = 1;
			if(this.stage_max >= 2 && this.stage >= this.stage_max)
				this.addScore(1000);
			else
				this.addScore(100);
		}
		break;

	case 5:
		this.co_j.y = rightShiftIgnoreSign(this.co_j.y + 15, 5) * 32;
		this.jShinu(1);
		break;

	case 6:
		this.co_j.y = rightShiftIgnoreSign(this.co_j.y + 15, 5) * 32;
		this.jShinu(1);
		break;
	}
	if(this.clear_type == 3 && this.coin_kazu <= 0 && this.co_j.y <= this.maps.wy_mini - 32 && this.stage_cc <= 0)
	{
		this.stage_cc = 1;
		this.co_j.c = 130;
		this.co_j.c1 = -9999;
		this.addScore(100);
		this.gs.rsAddSound(2);
	}
	if(this.co_j.y >= this.ochiru_y || this.j_mizu_f && this.co_j.y >= this.ochiru_y - 16)
	{
		this.co_j.c = 210;
		this.co_j.c1 = 0;
		this.co_j.y = this.ochiru_y + 64;
		this.j_jet_c = 0;
		this.j_v_c = 0;
	}
	this.co_j.wx = this.co_j.x - this.maps.wx;
	this.co_j.wy = this.co_j.y - this.maps.wy;
	if(this.scroll_area >= 2 && this.scroll_area <= 5 || this.j_tokugi == 14 || this.j_tokugi == 15)
	{
		if(this.co_j.wx < 176)
			this.maps.wx = this.co_j.x - 176;
		else
		if(this.co_j.wx > 304)
			this.maps.wx = this.co_j.x - 304;
		if(this.co_j.wy < 112)
			this.maps.wy = this.co_j.y - 112;
		else
		if(this.co_j.wy > 176)
			this.maps.wy = this.co_j.y - 176;
	} else
	{
		if(this.co_j.wx < 96)
			this.maps.wx = this.co_j.x - 96;
		else
		if(this.co_j.wx > 224)
			this.maps.wx = this.co_j.x - 224;
		if(this.co_j.wy < 78)
			this.maps.wy = this.co_j.y - 78;
		else
		if(this.co_j.wy > 176)
			this.maps.wy = this.co_j.y - 176;
	}
	if(this.maps.wx < this.maps.wx_mini)
		this.maps.wx = this.maps.wx_mini;
	else
	if(this.maps.wx > this.maps.wx_max)
		this.maps.wx = this.maps.wx_max;
	if(this.maps.wy < this.maps.wy_mini)
		this.maps.wy = this.maps.wy_mini;
	else
	if(this.maps.wy > this.maps.wy_max)
		this.maps.wy = this.maps.wy_max;
	if(this.j_tokugi == 14 && (this.gk.up_f || this.gk.down_f || this.gk.left_f || this.gk.right_f))
	{
		this.mu_ato_p++;
		if(this.mu_ato_p > 31)
			this.mu_ato_p = 0;
		this.mu_ato_x[this.mu_ato_p] = this.co_j.x;
		this.mu_ato_y[this.mu_ato_p] = this.co_j.y;
		var j6 = this.mu_ato_p - 7;
		if(j6 < 0)
			j6 += 32;
		this.co_mu[0].x = this.mu_ato_x[j6];
		this.co_mu[0].y = this.mu_ato_y[j6];
		j6 = this.mu_ato_p - 14;
		if(j6 < 0)
			j6 += 32;
		this.co_mu[1].x = this.mu_ato_x[j6];
		this.co_mu[1].y = this.mu_ato_y[j6];
	}
}

MainProgram.prototype.jMove = function()
{
	this.j_mizu_f = false;
	var j7 = this.maps.getBGCode(this.co_j.x + 15, this.co_j.y + 15);
	if(j7 == 4)
	{
		this.j_mizu_f = true;
		this.j_jet_c = 0;
		this.j_mizu_awa_c++;
		if(this.j_mizu_awa_c == 44 || this.j_mizu_awa_c == 54)
			this.mSet(this.co_j.x, this.co_j.y + 4, 60);
		else
		if(this.j_mizu_awa_c > 54)
			this.j_mizu_awa_c = 0;
	} else
	if((j7 == 8 || j7 == 9) && this.maps.map_bg[rightShiftIgnoreSign(this.co_j.x + 15, 5) - 1][rightShiftIgnoreSign(this.co_j.y + 15, 5)] == 4)
	{
		this.j_mizu_f = true;
		this.j_jet_c = 0;
		this.j_mizu_awa_c++;
		if(this.j_mizu_awa_c == 44 || this.j_mizu_awa_c == 54)
			this.mSet(this.co_j.x, this.co_j.y + 4, 60);
		else
		if(this.j_mizu_awa_c > 54)
			this.j_mizu_awa_c = 0;
	}
	if(this.jst_auto_right > 0)
		if(this.jst_auto_right == 1)
		{
			this.gk.right_f = true;
			this.gk.left_f = false;
			this.j_hashiru_f = false;
		} else
		if(this.jst_auto_right == 2)
		{
			this.gk.right_f = true;
			this.gk.left_f = false;
			this.j_hashiru_f = true;
		}
	if(this.gk.tr1_f)
	{
		if(this.tr1_c < 6)
			this.tr1_c++;
	} else
	{
		this.tr1_c = 0;
	}
	if(this.gk.tr1_f)
	{
		if(this.gk.tr1_c < 6)
			this.gk.tr1_c++;
	} else
	{
		this.gk.tr1_c = 0;
	}
	if(this.gk.tr2_f)
	{
		if(this.tr2_c < 2)
			this.tr2_c++;
	} else
	{
		this.tr2_c = 0;
	}
	if(this.gk.x_f)
	{
		if(this.xkey_c < 2)
			this.xkey_c++;
	} else
	{
		this.xkey_c = 0;
	}
	if(this.gk.left_f)
	{
		if(this.gk.left_c < 2)
			this.gk.left_c++;
	} else
	{
		this.gk.left_c = 0;
	}
	if(this.gk.right_f)
	{
		if(this.gk.right_c < 2)
			this.gk.right_c++;
	} else
	{
		this.gk.right_c = 0;
	}
	if(this.gk.left_c == 1)
	{
		if(this.left_dcc > 0)
			this.j_hashiru_f = true;
		else
			this.j_hashiru_f = false;
		this.left_dcc = 8;
	} else
	if(this.left_dcc > 0)
		this.left_dcc--;
	if(this.gk.right_c == 1)
	{
		if(this.right_dcc > 0)
			this.j_hashiru_f = true;
		else
			this.j_hashiru_f = false;
		this.right_dcc = 8;
	} else
	if(this.right_dcc > 0)
		this.right_dcc--;
	if(this.gk.up_f)
	{
		this.up_key_c++;
		if(this.up_key_c > 2)
			this.up_key_c = 2;
	} else
	{
		this.up_key_c = 0;
	}
	if(this.gk.down_f)
	{
		this.down_key_c++;
		if(this.down_key_c > 2)
			this.down_key_c = 2;
	} else
	{
		this.down_key_c = 0;
	}
	if(this.co_j.c == 110)
	{
		if(this.gk.left_f)
		{
			this.co_j.vx -= 10;
			if(this.co_j.vx < -60)
				this.co_j.vx = -60;
		} else
		if(this.gk.right_f)
		{
			this.co_j.vx += 10;
			if(this.co_j.vx > 60)
				this.co_j.vx = 60;
		}
		this.co_j.c1++;
		if(this.co_j.c1 > 2)
		{
			this.co_j.c = 100;
			var i = this.maps.getBGCode(this.co_j.x + 15, this.co_j.y + 31);
			if(i >= 20)
				this.co_j.y = rightShiftIgnoreSign(this.co_j.y + 31, 5) * 32 - 32 - 1;
			i = this.maps.getBGCode(this.co_j.x + 15, this.co_j.y + 31);
			if(i == 18 || i == 19)
				this.co_j.y -= 16;
		}
		this.co_j.wx = this.co_j.x - this.maps.wx;
		this.co_j.wy = this.co_j.y - this.maps.wy;
		this.co_j.pt = 109;
		this.moveViewPosition();
	} else
	if(this.co_j.c == 120)
	{
		this.co_j.c1++;
		if(this.co_j.c1 > 6)
			this.co_j.c = 100;
		this.co_j.pt = 119;
		this.moveViewPosition();
	} else
	if(this.co_j.c == 130)
	{
		this.co_j.c1++;
		if(this.co_j.c1 > 9)
			this.co_j.c = 100;
		this.moveViewPosition();
	} else
	if(this.co_j.c == 140)
	{
		if(this.gk.right_f)
			this.co_j.muki = 1;
		else
		if(this.gk.left_f)
			this.co_j.muki = 0;
		if(this.co_a[this.j_rope_id].c == 3200)
		{
			if(this.gk.up_f)
			{
				this.j_rope_r += 6;
				if(this.j_rope_r > 220)
					this.j_rope_r = 220;
				this.co_j.ac++;
				if(this.co_j.ac > 3)
					this.co_j.ac = 0;
			} else
			if(this.gk.down_f)
			{
				this.j_rope_r -= 6;
				if(this.j_rope_r < 48)
					this.j_rope_r = 48;
				this.co_j.ac++;
				if(this.co_j.ac > 3)
					this.co_j.ac = 0;
			} else
			{
				this.co_j.ac = 0;
			}
		} else
		if(this.gk.up_f)
		{
			this.j_rope_r -= 6;
			if(this.j_rope_r < 48)
				this.j_rope_r = 48;
			this.co_j.ac++;
			if(this.co_j.ac > 3)
				this.co_j.ac = 0;
		} else
		if(this.gk.down_f)
		{
			this.j_rope_r += 6;
			if(this.co_a[this.j_rope_id].c == 2800)
			{
				if(this.j_rope_r > 220)
					this.j_rope_r = 220;
			} else
			if(this.j_rope_r > 176)
				this.j_rope_r = 176;
			this.co_j.ac++;
			if(this.co_j.ac > 3)
				this.co_j.ac = 0;
		} else
		{
			this.co_j.ac = 0;
		}
		this.co_j.x = (this.co_a[this.j_rope_id].x + Math.floor(Math.cos((this.co_a[this.j_rope_id].vy * 3.1415926535897931) / 180) * this.j_rope_r)) - 16;
		this.co_j.y = (this.co_a[this.j_rope_id].y + Math.floor(Math.sin((this.co_a[this.j_rope_id].vy * 3.1415926535897931) / 180) * this.j_rope_r)) - 16;
		this.co_j.vx = 0;
		this.co_j.vy = 0;
		if(this.tr1_c == 1)
		{
			this.co_j.c = 100;
			if(this.co_a[this.j_rope_id].c == 2800 || this.co_a[this.j_rope_id].c == 3200)
				this.co_j.vy = -230;
			else
				this.co_j.vy = -200;
			this.j_jump_level = 1;
			this.j_jump_type = 0;
			this.co_j.pt = 103;
			this.co_j.ac = 0;
			this.j_djump_kf = true;
			this.gs.rsAddSound(3);
			if(this.co_a[this.j_rope_id].c == 2800 || this.co_a[this.j_rope_id].c == 3200)
			{
				if(this.co_j.muki == 0)
					this.co_j.vx = -80;
				else
					this.co_j.vx = 80;
			} else
			if(this.co_j.muki == 0)
				this.co_j.vx = -100;
			else
				this.co_j.vx = 100;
			if(this.co_a[this.j_rope_id].c == 3200)
			{
				var i1 = rightShiftIgnoreSign(this.co_a[this.j_rope_id].y, 5) * 32 - 32 - 2;
				if(this.co_j.y > i1)
					this.co_j.y = i1;
			} else
			{
				var j1 = rightShiftIgnoreSign(this.co_a[this.j_rope_id].y, 5) * 32 + 32;
				if(this.co_j.y < j1)
					this.co_j.y = j1;
			}
			this.j_rope_cf = true;
		}
		var word0 = this.maps.map_bg[rightShiftIgnoreSign(this.co_j.x + 15, 5)][rightShiftIgnoreSign(this.co_j.y + 15, 5)];
		switch(word0)
		{
		case 9:
			if(this.maps.map_bg[rightShiftIgnoreSign(this.co_j.x + 15, 5) - 1][rightShiftIgnoreSign(this.co_j.y + 15, 5)] == 4)
			{
				this.maps.putBGCode(rightShiftIgnoreSign(this.co_j.x + 15, 5), rightShiftIgnoreSign(this.co_j.y + 15, 5), 4);
				this.j_mizu_f = true;
			} else
			{
				this.maps.putBGCode(rightShiftIgnoreSign(this.co_j.x + 15, 5), rightShiftIgnoreSign(this.co_j.y + 15, 5), 0);
			}
			this.addScore(5);
			this.gs.rsAddSound(6);
			if(this.clear_type == 2 || this.clear_type == 3)
			{
				var k1 = this.coin_kazu;
				this.getCoinTotal();
				if(k1 > 0 && this.coin_kazu == 0)
				{
					this.gs.rsAddSound(7);
					if(this.clear_type == 3)
						this.showHashigo();
				}
			}
			break;

		case 8:
			if(this.clear_type != 2 && this.clear_type != 3 || this.coin_kazu <= 0)
			{
				if(this.maps.map_bg[rightShiftIgnoreSign(this.co_j.x + 15, 5) - 1][rightShiftIgnoreSign(this.co_j.y + 15, 5)] == 4)
				{
					this.maps.putBGCode(rightShiftIgnoreSign(this.co_j.x + 15, 5), rightShiftIgnoreSign(this.co_j.y + 15, 5), 4);
					this.j_mizu_f = true;
				} else
				{
					this.maps.putBGCode(rightShiftIgnoreSign(this.co_j.x + 15, 5), rightShiftIgnoreSign(this.co_j.y + 15, 5), 0);
				}
				this.gs.rsAddSound(2);
				this.stage_cc = 1;
				if(this.stage_max >= 2 && this.stage >= this.stage_max)
					this.addScore(1000);
				else
					this.addScore(100);
			}
			break;

		case 5:
			this.co_j.x = rightShiftIgnoreSign(this.co_j.x + 15, 5) * 32;
			this.co_j.y = rightShiftIgnoreSign(this.co_j.y + 15, 5) * 32;
			this.jShinu(1);
			break;

		case 6:
			this.co_j.x = rightShiftIgnoreSign(this.co_j.x + 15, 5) * 32;
			this.co_j.y = rightShiftIgnoreSign(this.co_j.y + 15, 5) * 32;
			this.jShinu(1);
			break;
		}
		if(this.co_j.ac == 1 || this.co_j.ac == 2)
			this.co_j.pt = 1201;
		else
			this.co_j.pt = 1200;
		this.moveViewPosition();
	} else
	if(this.co_j.c == 145)
	{
		if(this.gk.right_f)
		{
			this.co_j.muki = 1;
			this.co_a[this.j_rope_id].x += 4;
			var l2 = rightShiftIgnoreSign(this.co_a[this.j_rope_id].y - 32, 5);
			var l3 = rightShiftIgnoreSign(this.co_a[this.j_rope_id].y - 1, 5);
			var l4 = rightShiftIgnoreSign(this.co_a[this.j_rope_id].y + 31, 5);
			var l5 = rightShiftIgnoreSign(this.co_a[this.j_rope_id].y + 63, 5);
			var l6 = rightShiftIgnoreSign(this.co_a[this.j_rope_id].x + 63, 5);
			if(this.maps.map_bg[l6][l2] >= 18 || this.maps.map_bg[l6][l3] >= 18 || this.maps.map_bg[l6][l4] >= 18 || this.maps.map_bg[l6][l5] >= 18)
				this.co_a[this.j_rope_id].x = l6 * 32 - 64;
		} else
		if(this.gk.left_f)
		{
			this.co_j.muki = 0;
			this.co_a[this.j_rope_id].x -= 4;
			var i3 = rightShiftIgnoreSign(this.co_a[this.j_rope_id].y - 32, 5);
			var i4 = rightShiftIgnoreSign(this.co_a[this.j_rope_id].y - 1, 5);
			var i5 = rightShiftIgnoreSign(this.co_a[this.j_rope_id].y + 31, 5);
			var i6 = rightShiftIgnoreSign(this.co_a[this.j_rope_id].y + 63, 5);
			var i7 = rightShiftIgnoreSign(this.co_a[this.j_rope_id].x, 5);
			if(this.maps.map_bg[i7][i3] >= 18 || this.maps.map_bg[i7][i4] >= 18 || this.maps.map_bg[i7][i5] >= 18 || this.maps.map_bg[i7][i6] >= 18)
				this.co_a[this.j_rope_id].x = i7 * 32 + 32;
		}
		if(this.co_j.muki == 1)
			this.co_a[this.j_rope_id].pt = 605;
		else
			this.co_a[this.j_rope_id].pt = 600;
		if(this.gk.up_f)
		{
			this.co_a[this.j_rope_id].y -= 4;
			if(this.co_a[this.j_rope_id].y < 352)
				this.co_a[this.j_rope_id].y = 352;
			var j3 = rightShiftIgnoreSign(this.co_a[this.j_rope_id].x, 5);
			var j4 = rightShiftIgnoreSign(this.co_a[this.j_rope_id].x + 31, 5);
			var j5 = rightShiftIgnoreSign(this.co_a[this.j_rope_id].x + 63, 5);
			var j6 = rightShiftIgnoreSign(this.co_a[this.j_rope_id].y - 32, 5);
			if(this.maps.map_bg[j3][j6] >= 18 || this.maps.map_bg[j4][j6] >= 18 || this.maps.map_bg[j5][j6] >= 18)
				this.co_a[this.j_rope_id].y = j6 * 32 + 64;
		} else
		if(this.gk.down_f)
		{
			this.co_a[this.j_rope_id].y += 4;
			if(this.co_a[this.j_rope_id].y > this.ochiru_y - 32)
				this.co_a[this.j_rope_id].y = this.ochiru_y - 32;
			var k3 = rightShiftIgnoreSign(this.co_a[this.j_rope_id].x, 5);
			var k4 = rightShiftIgnoreSign(this.co_a[this.j_rope_id].x + 31, 5);
			var k5 = rightShiftIgnoreSign(this.co_a[this.j_rope_id].x + 63, 5);
			var k6 = rightShiftIgnoreSign(this.co_a[this.j_rope_id].y + 63, 5);
			if(this.maps.map_bg[k3][k6] >= 18 || this.maps.map_bg[k4][k6] >= 18 || this.maps.map_bg[k5][k6] >= 18)
				this.co_a[this.j_rope_id].y = k6 * 32 - 64;
		}
		this.co_j.x = this.co_a[this.j_rope_id].x + 16;
		this.co_j.y = this.co_a[this.j_rope_id].y - 16;
		this.co_j.pt = 100;
		if(this.tr1_c == 1)
		{
			this.co_j.c = 100;
			this.co_j.vy = -200;
			this.j_jump_level = 1;
			this.j_jump_type = 0;
			this.co_j.pt = 103;
			this.co_j.ac = 0;
			this.j_djump_kf = true;
			this.co_j.y--;
			this.gs.rsAddSound(3);
			if(this.co_j.muki == 0)
				this.co_j.vx = -60;
			else
				this.co_j.vx = 60;
			this.j_rope_cf = true;
		}
		var word1 = this.maps.map_bg[rightShiftIgnoreSign(this.co_j.x + 15, 5)][rightShiftIgnoreSign(this.co_j.y + 15, 5)];
		switch(word1)
		{
		case 7:
		default:
			break;

		case 9:
			if(this.maps.map_bg[rightShiftIgnoreSign(this.co_j.x + 15, 5) - 1][rightShiftIgnoreSign(this.co_j.y + 15, 5)] == 4)
			{
				this.maps.putBGCode(rightShiftIgnoreSign(this.co_j.x + 15, 5), rightShiftIgnoreSign(this.co_j.y + 15, 5), 4);
				this.j_mizu_f = true;
			} else
			{
				this.maps.putBGCode(rightShiftIgnoreSign(this.co_j.x + 15, 5), rightShiftIgnoreSign(this.co_j.y + 15, 5), 0);
			}
			this.addScore(5);
			this.gs.rsAddSound(6);
			if(this.clear_type != 2 && this.clear_type != 3)
				break;
			var l1 = this.coin_kazu;
			this.getCoinTotal();
			if(l1 <= 0 || this.coin_kazu != 0)
				break;
			this.gs.rsAddSound(7);
			if(this.clear_type == 3)
				this.showHashigo();
			break;

		case 8:
			if((this.clear_type == 2 || this.clear_type == 3) && this.coin_kazu > 0)
				break;
			if(this.maps.map_bg[rightShiftIgnoreSign(this.co_j.x + 15, 5) - 1][rightShiftIgnoreSign(this.co_j.y + 15, 5)] == 4)
			{
				this.maps.putBGCode(rightShiftIgnoreSign(this.co_j.x + 15, 5), rightShiftIgnoreSign(this.co_j.y + 15, 5), 4);
				this.j_mizu_f = true;
			} else
			{
				this.maps.putBGCode(rightShiftIgnoreSign(this.co_j.x + 15, 5), rightShiftIgnoreSign(this.co_j.y + 15, 5), 0);
			}
			this.gs.rsAddSound(2);
			this.stage_cc = 1;
			if(this.stage_max >= 2 && this.stage >= this.stage_max)
				this.addScore(1000);
			else
				this.addScore(100);
			break;

		case 5:
			this.co_j.x = rightShiftIgnoreSign(this.co_j.x + 15, 5) * 32;
			this.co_j.y = rightShiftIgnoreSign(this.co_j.y + 15, 5) * 32;
			this.jShinu(1);
			break;

		case 6:
			this.co_j.x = rightShiftIgnoreSign(this.co_j.x + 15, 5) * 32;
			this.co_j.y = rightShiftIgnoreSign(this.co_j.y + 15, 5) * 32;
			this.jShinu(1);
			break;
		}
		this.moveViewPosition();
	} else
	if(this.co_j.c == 150)
	{
		this.co_j.pt = this.setmyw_pt;
		this.co_j.muki = this.setmyw_muki;
		this.co_j.c1--;
		if(this.co_j.c1 <= 0)
			this.co_j.c = 100;
		this.moveViewPosition();
	} else
	if(this.co_j.c == 200)
	{
		this.co_j.vy += 25;
		if(this.co_j.vy > 100)
			this.co_j.vy = 100;
		this.co_j.y += rounddown(this.co_j.vy / 10);
		this.co_j.wx = this.co_j.x - this.maps.wx;
		this.co_j.wy = this.co_j.y - this.maps.wy;
		if(this.co_j.c2 < 100)
		{
			if(this.co_j.c1 <= 0)
			{
				this.co_j.pt = 110;
				this.co_j.muki = 0;
			} else
			if(this.co_j.c1 <= 1)
			{
				this.co_j.pt = 111;
				this.co_j.muki = 0;
				this.co_j.c2++;
				if(this.co_j.c2 > 4)
					this.co_j.c2 = 100;
			} else
			if(this.co_j.c1 <= 2)
			{
				this.co_j.pt = 112;
				this.co_j.muki = 0;
			} else
			{
				this.co_j.pt = 113;
				this.co_j.muki = 0;
			}
			this.co_j.c1++;
			if(this.co_j.c1 > 3)
				this.co_j.c1 = 0;
		} else
		{
			this.co_j.pt = 112;
			this.co_j.muki = 0;
		}
		if(this.co_j.wy >= 320)
		{
			this.co_j.c = 210;
			this.co_j.c1 = 0;
			this.co_j.y = this.maps.wy + 320 + 32;
			this.co_j.pt = 0;
		}
	} else
	if(this.co_j.c == 210)
	{
		if(this.spot_c == 100)
			this.spot_c = 200;
		if(this.stage_cc <= 0)
		{
			this.co_j.c1++;
			if(this.co_j.c1 > 16)
			{
				this.j_left--;
				if(this.j_left < 0)
				{
					this.j_left = 0;
					this.ml_mode = 300;
				} else
				if(this.stage_select == 2)
					this.ml_mode = 250;
				else
					this.ml_mode = 90;
			}
		}
	} else
	if(this.co_j.c == 220)
	{
		this.co_j.pt = 114;
		this.co_j.c1++;
		if(this.co_j.c1 >= 25)
		{
			this.co_j.c = 210;
			this.co_j.c1 = 0;
		}
	} else
	if(this.co_j.c == 230)
	{
		this.co_j.pt = 115;
		this.co_j.c1++;
		if(this.co_j.c1 >= 25)
		{
			this.co_j.c = 210;
			this.co_j.c1 = 0;
		}
	} else
	if(this.co_j.c == 240)
	{
		if(this.co_j.c2 >= 100)
			this.co_j.y += 10;
		this.co_j.wx = this.co_j.x - this.maps.wx;
		this.co_j.wy = this.co_j.y - this.maps.wy;
		if(this.co_j.c2 < 100)
		{
			if(this.co_j.c1 <= 0)
			{
				this.co_j.pt = 110;
				this.co_j.muki = 0;
			} else
			if(this.co_j.c1 <= 1)
			{
				this.co_j.pt = 111;
				this.co_j.muki = 0;
				this.co_j.c2++;
				if(this.co_j.c2 > 4)
					this.co_j.c2 = 100;
			} else
			if(this.co_j.c1 <= 2)
			{
				this.co_j.pt = 112;
				this.co_j.muki = 0;
			} else
			{
				this.co_j.pt = 113;
				this.co_j.muki = 0;
			}
			this.co_j.c1++;
			if(this.co_j.c1 > 3)
				this.co_j.c1 = 0;
		} else
		{
			this.co_j.pt = 112;
			this.co_j.muki = 0;
		}
		if(this.co_j.wy >= 320)
		{
			this.co_j.c = 210;
			this.co_j.c1 = 0;
			this.co_j.y = this.maps.wy + 320 + 32;
			this.co_j.pt = 0;
		}
	} else
	if(this.co_j.c == 250)
	{
		this.co_j.c1++;
		if(this.co_j.c1 <= 5)
		{
			this.co_j.pt = 110;
			this.co_j.muki = 0;
		} else
		if(this.co_j.c1 <= 10)
		{
			this.co_j.pt = 111;
			this.co_j.muki = 0;
		} else
		if(this.co_j.c1 <= 15)
		{
			this.co_j.pt = 112;
			this.co_j.muki = 0;
		} else
		if(this.co_j.c1 <= 20)
		{
			this.co_j.pt = 113;
			this.co_j.muki = 0;
		} else
		{
			this.co_j.muki = 0;
			this.co_j.c = 210;
			this.co_j.c1 = 0;
			this.co_j.y = this.maps.wy + 320 + 32;
			this.co_j.pt = 0;
		}
		this.co_j.wx = this.co_j.x - this.maps.wx;
		this.co_j.wy = this.co_j.y - this.maps.wy;
	} else
	if(this.co_j.c == 300)
	{
		this.co_j.pt = 1100;
		this.co_j.c1++;
		if(this.co_j.c1 >= 32)
		{
			this.co_j.c = 310;
			this.co_j.c1 = 0;
			this.j_jump_type = 0;
			this.j_djump_kf = true;
			this.co_j.pt = 1110;
		}
		if(this.co_j.c1 == 1)
			this.gs.rsAddSound(21);
		this.moveViewPosition();
	} else
	if(this.co_j.c == 310)
	{
		this.co_j.pt = 1110;
		if(this.stage_cc <= 0)
		{
			this.co_j.c1++;
			if(this.dokan_mode == 2 || this.co_j.c2 >= 100)
			{
				if(this.co_j.c1 >= 10)
				{
					this.co_j.c = 320;
					this.co_j.c1 = 42;
					var k = 0;
					do
					{
						if(k > this.a_kazu)
							break;
						if((this.sl_step == 0 || this.sl_step == 1 || this.sl_step == 10 || this.sl_step == 11) && (this.co_j.c2 < 100 || this.co_j.c2 >= 200 || this.co_j.c5 != 1 ? this.co_j.c2 < 200 || this.co_j.c2 >= 300 ? this.co_j.c2 < 300 || this.co_j.c2 >= 400 ? this.co_j.c2 >= 100 ? this.co_a[k].c == 300 && this.co_a[k].c4 != 1 && this.co_j.c2 == this.co_a[k].c3 && this.co_a[k].c5 != 1 : this.co_a[k].c == 300 && this.co_a[k].c4 != 1 && (this.co_a[k].c3 < 100 || this.co_a[k].c3 >= 200 ? this.co_j.c2 == this.co_a[k].c3 : this.co_j.c2 == this.co_a[k].c3 - 100 && this.co_a[k].c5 != 0) : this.co_a[k].c == 300 && this.co_a[k].c4 != 1 && (this.co_j.c2 == this.co_a[k].c3 || this.co_j.c2 - 100 == this.co_a[k].c3) : this.co_a[k].c == 300 && this.co_a[k].c4 != 1 && (this.co_j.c2 == this.co_a[k].c3 || this.co_j.c2 + 100 == this.co_a[k].c3) : this.co_a[k].c == 300 && this.co_a[k].c4 != 1 && this.co_j.c2 == this.co_a[k].c3 + 100))
						{
							this.co_j.x = this.co_a[k].x + 16;
							this.co_j.y = this.co_a[k].y - 32;
							if(this.co_a[k].c3 >= 100 && this.co_a[k].c3 < 200)
							{
								this.co_j.y = this.co_a[k].y + 32;
								this.co_j.vy = 20;
							} else
							if(this.co_a[k].c3 >= 200 && this.co_a[k].c3 < 300)
							{
								this.co_j.x = this.co_a[k].x - 32;
								this.co_j.y = this.co_a[k].y + 16;
								this.co_j.muki = 0;
								this.co_j.vy = 20;
							} else
							if(this.co_a[k].c3 >= 300 && this.co_a[k].c3 < 400)
							{
								this.co_j.x = this.co_a[k].x + 32;
								this.co_j.y = this.co_a[k].y + 16;
								this.co_j.muki = 1;
								this.co_j.vy = 20;
							}
							this.co_j.c2 = this.co_a[k].c3;
							this.co_a[k].c4 = 1;
							this.nkscroll_con = 0;
							this.nkscroll_zsc = true;
							break;
						}
						k++;
					} while(true);
					if(k > this.a_kazu)
						if(this.co_j.c2 >= 200 && this.co_j.c2 < 300)
						{
							this.co_j.muki = 0;
							this.co_j.vy = 20;
						} else
						if(this.co_j.c2 >= 300 && this.co_j.c2 < 400)
						{
							this.co_j.muki = 1;
							this.co_j.vy = 20;
						}
					for(var l = 0; l <= this.a_kazu; l++)
					{
						if(this.co_a[l].c < 100 && this.co_a[l].c != 60)
							continue;
						this.co_a[l].gf = true;
						if(this.co_a[l].c != 300)
							continue;
						if(this.co_a[l].c3 >= 100 && this.co_a[l].c3 < 200)
						{
							if(this.co_j.x != this.co_a[l].x + 16 || this.co_j.y != this.co_a[l].y + 32)
								this.co_a[l].c4 = 0;
							continue;
						}
						if(this.co_a[l].c3 >= 200 && this.co_a[l].c3 < 300)
						{
							if(this.co_j.x != this.co_a[l].x - 32 || this.co_j.y != this.co_a[l].y + 16)
								this.co_a[l].c4 = 0;
							continue;
						}
						if(this.co_a[l].c3 >= 300 && this.co_a[l].c3 < 400)
						{
							if(this.co_j.x != this.co_a[l].x + 32 || this.co_j.y != this.co_a[l].y + 16)
								this.co_a[l].c4 = 0;
							continue;
						}
						if(this.co_j.x != this.co_a[l].x + 16 || this.co_j.y != this.co_a[l].y - 32)
							this.co_a[l].c4 = 0;
					}

					if(this.sl_step == 10 || this.sl_step == 11)
					{
						this.maps.wx = this.co_j.x - 192;
						this.ks_wx = this.maps.wx;
					}
					this.moveViewPosition();
				}
			} else
			if(this.co_j.c1 == 10)
			{
				var s;
				if(this.co_j.c2 == 1)
					s = this.tdb.getValue("url2");
				else
				if(this.co_j.c2 == 2)
					s = this.tdb.getValue("url3");
				else
				if(this.co_j.c2 == 3)
					s = this.tdb.getValue("url4");
				else
					s = this.tdb.getValue("url1");

				location.href = s;
			} else
			if(this.co_j.c1 > 80)
				this.ml_mode = 50;
		}
	} else
	if(this.co_j.c == 320)
	{
		this.co_j.pt = 1100;
		this.co_j.c1--;
		if(this.co_j.c1 <= 0)
		{
			this.co_j.c = 100;
			this.co_j.c1 = 0;
			this.co_j.pt = 100;
		}
	} else
	if(this.co_j.c == 400)
	{
		if(this.co_j.c1 > 48)
		{
			this.co_j.c1--;
			this.co_j.pt = 100;
			if(this.co_j.c1 <= 48)
				this.co_j.pt = 0;
		} else
		{
			this.co_j.pt = 0;
		}
		if(this.co_a[this.j_rope_id].c3 == 0 || this.co_a[this.j_rope_id].c3 == 4)
		{
			var i2 = this.co_a[this.j_rope_id].c4;
			if(i2 == 345 || i2 == 330 || i2 == 315 || i2 == 300 || i2 == 285)
				this.co_a[this.j_rope_id].vx = 0;
			if(this.gk.up_f)
				this.co_a[this.j_rope_id].vx = -3;
			else
			if(this.gk.down_f)
				this.co_a[this.j_rope_id].vx = 3;
			if(this.co_a[this.j_rope_id].vx < 0)
			{
				if(this.co_a[this.j_rope_id].c4 == 270)
					this.co_a[this.j_rope_id].vx = 0;
			} else
			if(this.co_a[this.j_rope_id].vx > 0 && this.co_a[this.j_rope_id].c4 == 0)
				this.co_a[this.j_rope_id].vx = 0;
			this.co_a[this.j_rope_id].c4 += this.co_a[this.j_rope_id].vx;
			if(this.co_a[this.j_rope_id].c4 < 0)
				this.co_a[this.j_rope_id].c4 += 360;
			if(this.co_a[this.j_rope_id].c4 >= 360)
				this.co_a[this.j_rope_id].c4 -= 360;
			this.co_j.muki = 1;
		} else
		if(this.co_a[this.j_rope_id].c3 == 1 || this.co_a[this.j_rope_id].c3 == 3)
		{
			var j2 = this.co_a[this.j_rope_id].c4;
			if(j2 == 195 || j2 == 210 || j2 == 225 || j2 == 240 || j2 == 255)
				this.co_a[this.j_rope_id].vx = 0;
			if(this.gk.up_f)
				this.co_a[this.j_rope_id].vx = 3;
			else
			if(this.gk.down_f)
				this.co_a[this.j_rope_id].vx = -3;
			if(this.co_a[this.j_rope_id].vx < 0)
			{
				if(this.co_a[this.j_rope_id].c4 == 180)
					this.co_a[this.j_rope_id].vx = 0;
			} else
			if(this.co_a[this.j_rope_id].vx > 0 && this.co_a[this.j_rope_id].c4 == 270)
				this.co_a[this.j_rope_id].vx = 0;
			this.co_a[this.j_rope_id].c4 += this.co_a[this.j_rope_id].vx;
			this.co_j.muki = 0;
		} else
		if(this.co_a[this.j_rope_id].c3 == 2)
		{
			var k2 = this.co_a[this.j_rope_id].c4;
			if(k2 == 15 || k2 == 30 || k2 == 45 || k2 == 60 || k2 == 75)
				this.co_a[this.j_rope_id].vx = 0;
			if(this.gk.up_f)
				this.co_a[this.j_rope_id].vx = -3;
			else
			if(this.gk.down_f)
				this.co_a[this.j_rope_id].vx = 3;
			if(this.co_a[this.j_rope_id].vx < 0)
			{
				if(this.co_a[this.j_rope_id].c4 == 0)
					this.co_a[this.j_rope_id].vx = 0;
			} else
			if(this.co_a[this.j_rope_id].vx > 0 && this.co_a[this.j_rope_id].c4 == 90)
				this.co_a[this.j_rope_id].vx = 0;
			this.co_a[this.j_rope_id].c4 += this.co_a[this.j_rope_id].vx;
			this.co_j.muki = 1;
		}
		if(this.co_j.c1 > 48)
		{
			this.co_j.x = (this.co_a[this.j_rope_id].x + 16 + Math.floor(Math.cos((this.co_a[this.j_rope_id].c4 * 3.1415926535897931) / 180) * this.co_j.c1)) - 16;
			this.co_j.y = (this.co_a[this.j_rope_id].y + 16 + Math.floor(Math.sin((this.co_a[this.j_rope_id].c4 * 3.1415926535897931) / 180) * this.co_j.c1)) - 16;
		} else
		{
			this.co_j.x = this.co_a[this.j_rope_id].x;
			this.co_j.y = this.co_a[this.j_rope_id].y;
		}
		this.j_cannon_c = 1;
		if(this.tr1_c >= 1 && this.tr1_c <= 5 && this.co_a[this.j_rope_id].c4 % 15 == 0 && this.co_j.c1 <= 48)
		{
			this.co_j.x = (this.co_a[this.j_rope_id].x + 16 + Math.floor(Math.cos((this.co_a[this.j_rope_id].c4 * 3.1415926535897931) / 180) * this.co_j.c1)) - 16;
			this.co_j.y = (this.co_a[this.j_rope_id].y + 16 + Math.floor(Math.sin((this.co_a[this.j_rope_id].c4 * 3.1415926535897931) / 180) * this.co_j.c1)) - 16;
			this.j_jump_type = 0;
			this.co_j.ac = 0;
			this.co_j.c = 100;
			this.co_j.vx = Math.floor(Math.cos((this.co_a[this.j_rope_id].c4 * 3.1415926535897931) / 180) * 160);
			this.co_j.vy = Math.floor(Math.sin((this.co_a[this.j_rope_id].c4 * 3.1415926535897931) / 180) * 160);
			this.j_jump_level = 5;
			this.j_djump_kf = true;
			this.co_j.pt = 101;
			if(this.co_j.vy > 0)
				this.co_j.pt = 102;
			if(Math.abs(this.co_j.vy) < 50)
				this.co_j.pt = 83;
			for(var j = 0; j <= 5; j++)
			{
				this.j_zan_x[j] = this.co_j.x;
				this.j_zan_y[j] = this.co_j.y;
				this.j_zan_pt[j] = 0;
				this.j_zan_pth[j] = this.co_j.muki;
			}

			this.j_zan_p = 0;
			this.j_zan_c = 0;
			this.j_zan_nagasa = 5;
			this.j_zan_f = true;
			this.j_zan_cf = true;
			this.j_rope_cf = true;
			this.j_cannon_c = 22;
			this.j_cannon_type = 0;
			this.gs.rsAddSound(19);
		}
		if(this.co_j.c1 <= 48 && this.co_j.c != 100)
		{
			this.co_j.wx = this.co_j.x - this.maps.wx;
			this.co_j.wy = this.co_j.y - this.maps.wy;
			if(this.co_j.c1 <= 48 && this.co_j.c != 100 && (this.scroll_area < 2 || this.scroll_area > 5) && this.j_tokugi != 14 && this.j_tokugi != 15)
			{
				if(this.co_a[this.j_rope_id].c3 == 0 || this.co_a[this.j_rope_id].c3 == 2 || this.co_a[this.j_rope_id].c3 == 4)
				{
					if(this.view_move_type == 2)
					{
						if(this.co_j.wx > 256)
						{
							this.co_j.wx -= 6;
							if(this.co_j.wx < 256)
								this.co_j.wx = 256;
							this.maps.wx = this.co_j.x - this.co_j.wx;
						} else
						if(this.co_j.wx < 256)
						{
							this.co_j.wx += 6;
							if(this.co_j.wx > 256)
								this.co_j.wx = 256;
							this.maps.wx = this.co_j.x - this.co_j.wx;
						}
					} else
					if(this.co_j.wx > 96)
					{
						this.co_j.wx -= 6;
						if(this.co_j.wx < 96)
							this.co_j.wx = 96;
						this.maps.wx = this.co_j.x - this.co_j.wx;
					} else
					if(this.co_j.wx < 96)
					{
						this.co_j.wx += 6;
						if(this.co_j.wx > 96)
							this.co_j.wx = 96;
						this.maps.wx = this.co_j.x - this.co_j.wx;
					}
				} else
				if(this.view_move_type == 2)
				{
					if(this.co_j.wx > 384)
					{
						this.co_j.wx -= 6;
						if(this.co_j.wx < 384)
							this.co_j.wx = 384;
						this.maps.wx = this.co_j.x - this.co_j.wx;
					} else
					if(this.co_j.wx < 384)
					{
						this.co_j.wx += 6;
						if(this.co_j.wx > 384)
							this.co_j.wx = 384;
						this.maps.wx = this.co_j.x - this.co_j.wx;
					}
				} else
				if(this.co_j.wx < 224)
				{
					this.co_j.wx += 6;
					if(this.co_j.wx > 224)
						this.co_j.wx = 224;
					this.maps.wx = this.co_j.x - this.co_j.wx;
				} else
				if(this.co_j.wx > 224)
				{
					this.co_j.wx -= 6;
					if(this.co_j.wx < 224)
						this.co_j.wx = 224;
					this.maps.wx = this.co_j.x - this.co_j.wx;
				}
				if(this.co_a[this.j_rope_id].c3 == 2)
				{
					if(this.co_j.wy > 78)
					{
						this.co_j.wy -= 6;
						if(this.co_j.wy < 78)
							this.co_j.wy = 78;
						this.maps.wy = this.co_j.y - this.co_j.wy;
					} else
					if(this.co_j.wy < 78)
					{
						this.co_j.wy += 6;
						if(this.co_j.wy > 78)
							this.co_j.wy = 78;
						this.maps.wy = this.co_j.y - this.co_j.wy;
					}
				} else
				if(this.co_j.wy < 176)
				{
					this.co_j.wy += 6;
					if(this.co_j.wy > 176)
						this.co_j.wy = 176;
					this.maps.wy = this.co_j.y - this.co_j.wy;
				} else
				if(this.co_j.wy > 176)
				{
					this.co_j.wy -= 6;
					if(this.co_j.wy < 176)
						this.co_j.wy = 176;
					this.maps.wy = this.co_j.y - this.co_j.wy;
				}
			}
		} else
		{
			this.moveViewPosition();
		}
		if(this.maps.wx < this.maps.wx_mini)
			this.maps.wx = this.maps.wx_mini;
		else
		if(this.maps.wx > this.maps.wx_max)
			this.maps.wx = this.maps.wx_max;
		if(this.maps.wy < this.maps.wy_mini)
			this.maps.wy = this.maps.wy_mini;
		else
		if(this.maps.wy > this.maps.wy_max)
			this.maps.wy = this.maps.wy_max;
	}
}

MainProgram.prototype.moveViewPosition = function()
{
	this.co_j.wx = this.co_j.x - this.maps.wx;
	this.co_j.wy = this.co_j.y - this.maps.wy;
	if(this.scroll_area >= 2 && this.scroll_area <= 5 || this.j_tokugi == 14 || this.j_tokugi == 15)
	{
		if(this.co_j.wx < 176)
			this.maps.wx = this.co_j.x - 176;
		else
		if(this.co_j.wx > 304)
			this.maps.wx = this.co_j.x - 304;
		if(this.co_j.wy < 112)
			this.maps.wy = this.co_j.y - 112;
		else
		if(this.co_j.wy > 176)
			this.maps.wy = this.co_j.y - 176;
	} else
	if(this.view_move_type == 2)
	{
		if(this.co_j.wx < 256)
			this.maps.wx = this.co_j.x - 256;
		else
		if(this.co_j.wx > 384)
			this.maps.wx = this.co_j.x - 384;
		if(this.co_j.wy < 78)
			this.maps.wy = this.co_j.y - 78;
		else
		if(this.co_j.wy > 176)
			this.maps.wy = this.co_j.y - 176;
	} else
	{
		if(this.co_j.wx < 96)
			this.maps.wx = this.co_j.x - 96;
		else
		if(this.co_j.wx > 224)
			this.maps.wx = this.co_j.x - 224;
		if(this.co_j.wy < 78)
			this.maps.wy = this.co_j.y - 78;
		else
		if(this.co_j.wy > 176)
			this.maps.wy = this.co_j.y - 176;
	}
	if(this.maps.wx < this.maps.wx_mini)
		this.maps.wx = this.maps.wx_mini;
	else
	if(this.maps.wx > this.maps.wx_max)
		this.maps.wx = this.maps.wx_max;
	if(this.maps.wy < this.maps.wy_mini)
		this.maps.wy = this.maps.wy_mini;
	else
	if(this.maps.wy > this.maps.wy_max)
		this.maps.wy = this.maps.wy_max;
}

MainProgram.prototype.jShinu = function(i)
{
	this.co_j.c1 = 0;
	this.co_j.c2 = 0;
	this.j_zan_f = false;
	this.j_jet_c = 0;
	this.j_v_c = 0;
	this.j_muteki_c = 0;
	this.j_hp = 0;
	this.co_mu[0].c = 0;
	this.co_mu[1].c = 0;
	this.j_cannon_c = 1;
	this.setmyw_w = -1;
	this.km.initAll();
	this.km.mode = 10;
	if(i == 1)
		this.co_j.c = 240;
	else
	if(i == 2)
	{
		this.co_j.c = 200;
		this.co_j.vy = -280;
	} else
	if(i == 3)
		this.co_j.c = 220;
	else
	if(i == 4)
		this.co_j.c = 230;
	else
	if(i == 5)
	{
		this.co_j.c = 210;
		this.co_j.y = this.ochiru_y + 64;
		this.co_j.c1 = -8;
	}
	if(this.j_tokugi == 14 || this.j_tokugi == 15)
		this.co_j.c = 250;
	this.gs.rsAddSound(24);
	this.sendHighscore();
}

MainProgram.prototype.jFumu = function(i)
{
	if(this.co_j.c < 100 || this.co_j.c >= 200)
		return false;
	this.gs.rsAddSound(8);
	this.co_j.y = this.co_j.y - 10;
	this.co_j.vy = -160;
	this.j_jump_type = 1;
	this.co_j.c = 110;
	this.co_j.c1 = 0;
	this.co_j.pt = 109;
	if(i == 2)
		this.co_j.vy = -220;
	else
	if(i == 3)
		this.co_j.vy = -320;
	return true;
}

MainProgram.prototype.getSakamichiY = function(i, j)
{
	var k = 0;
	var l = i - rightShiftIgnoreSign(i, 5) * 32;
	var word0 = this.maps.map_bg[rightShiftIgnoreSign(i, 5)][rightShiftIgnoreSign(j, 5)];
	if(word0 == 18)
	{
		var i1 = 31 - l;
		k = (rightShiftIgnoreSign(j, 5) * 32 + i1) - 31;
	} else
	if(word0 == 19)
	{
		var j1 = l;
		k = (rightShiftIgnoreSign(j, 5) * 32 + j1) - 31;
	} else
	{
		k = j - 31;
	}
	return k;
}

MainProgram.prototype.jZutuki = function(i, j, k)
{
	for(var l = 0; l <= this.t_kazu; l++)
	{
		if(this.co_t[l].c < 100)
			continue;
		var characterobject = this.co_t[l];
		var flag = false;
		if(k == 1)
		{
			if(this.j_tokugi == 15 && (this.j_4_muki == 2 || this.j_4_muki == 3))
			{
				if(Math.abs(i - characterobject.x) < 25 && Math.abs(j - characterobject.y) < 23)
					flag = true;
			} else
			if(Math.abs(i - characterobject.x) < 25 && Math.abs(j - characterobject.y) < 23)
				flag = true;
		} else
		if(k == 2)
		{
			if(Math.abs(i - characterobject.x) < 54 && j == characterobject.y)
				flag = true;
		} else
		if(Math.abs(i - characterobject.x) < 34 && j == characterobject.y)
			flag = true;
		if(!flag)
			continue;
		if(i > characterobject.x)
		{
			characterobject.pth = 1;
			characterobject.vx = -7;
		} else
		{
			characterobject.pth = 0;
			characterobject.vx = 7;
		}
		if(characterobject.c >= 1200 && characterobject.c < 1300)
		{
			characterobject.c = 54;
			characterobject.vy = -25;
		} else
		if(characterobject.c >= 1400 && characterobject.c < 1500)
		{
			characterobject.c = 57;
			characterobject.c1 = 0;
		} else
		if(characterobject.c == 1190)
		{
			characterobject.c = 55;
			characterobject.c1 = 0;
			var i1 = rightShiftIgnoreSign(characterobject.x, 5);
			var j1 = rightShiftIgnoreSign(characterobject.y, 5);
			if(characterobject.c5 == 1)
				this.onASwitch(i1 - 5, j1 - 5, i1 + 5, j1 + 5);
			else
				this.onASwitch(i1 - 10, j1 - 10, i1 + 10, j1 + 10);
		} else
		{
			characterobject.c = 52;
			characterobject.vy = -30;
			if(this.j_tokugi == 14 || this.j_tokugi == 15)
			{
				characterobject.c = 55;
				characterobject.c1 = 0;
			}
		}
		if(k == 1)
			this.gs.rsAddSound(9);
	}

}

MainProgram.prototype.checkWater = function(i, j)
{
	var k = this.maps.getBGCode(i, j);
	if(k == 4)
		return true;
	if(k == 8 || k == 9)
	{
		if(this.maps.getBGCode(i - 32, j) == 4)
			return true;
	} else
	if(k >= 15 && k <= 19 && this.maps.getBGCode(i, j - 32) == 4)
		return true;
	return false;
}

MainProgram.prototype.tSet = function(i, j, k, l)
{
    // 敵の個数に関する後方互換性オプションがONのときは敵の数に上限設定
    var t_limit = this.tdb.options["bc-enemy-number"] ? 219 : Infinity;
	var i1 = 0;
	do
	{
        if(i1 > t_limit)
            break;
		if(i1 > this.t_kazu)
			this.co_t.push(new CharacterObject());
		if(this.co_t[i1].c <= 0)
		{
			this.co_t[i1].init();
			var characterobject = this.co_t[i1];
			characterobject.c = 10;
			characterobject.c1 = l;
			characterobject.c2 = k;
			characterobject.c3 = i;
			characterobject.c4 = j;
			characterobject.x = i;
			characterobject.y = j;
			switch (k) {
				case 200:
				case 201:
				case 202:
				case 203:
					characterobject.c2 = 200;
					characterobject.c3 = k - 200;
					break;

				case 301:
					characterobject.c2 = 300;
					characterobject.c3 = 1;
					break;

				case 310:
					characterobject.c3 = 8;
					characterobject.c4 = 0;
					break;

				case 311:
					characterobject.c2 = 310;
					characterobject.c3 = 999;
					characterobject.c4 = 0;
					break;

				case 312:
					characterobject.c2 = 310;
					characterobject.c3 = 8;
					characterobject.c4 = 1;
					break;

				case 313:
					characterobject.c2 = 310;
					characterobject.c3 = 999;
					characterobject.c4 = 1;
					break;

				case 500:
					characterobject.y = j - 12;
					characterobject.c3 = j - 52;
					characterobject.c4 = j - 12;
					characterobject.vy = -4;
					break;

				case 530:
					characterobject.y = j;
					characterobject.c3 = j;
					characterobject.c4 = 0;
					break;

				case 600:
				case 601:
				case 602:
					characterobject.c2 = 600;
					characterobject.c3 = 0;
					characterobject.c4 = k - 600;
					break;

				case 660:
					characterobject.y = j;
					characterobject.c3 = i;
					characterobject.c4 = 10;
					break;

				case 670:
					characterobject.y = j;
					characterobject.c3 = i;
					characterobject.c4 = 0;
					break;

				case 700:
				case 701:
				case 702:
				case 703:
				case 704:
					characterobject.c2 = 700;
					characterobject.c3 = k - 700;
					break;

				case 710:
					characterobject.c3 = 0;
					break;

				case 711:
					characterobject.c2 = 710;
					characterobject.c3 = 1;
					break;

				case 800:
				case 801:
				case 802:
				case 803:
				case 804:
					characterobject.c2 = 800;
					characterobject.c4 = k - 800;
					break;

				case 920:
					characterobject.c3 = 0;
					break;

				case 921:
					characterobject.c2 = 920;
					characterobject.c3 = 1;
					break;

				case 930:
					characterobject.y = j;
					characterobject.c3 = i;
					characterobject.c4 = 20;
					break;

				case 1070:
					characterobject.c3 = i - 64;
					break;

				case 1080:
					characterobject.c3 = i - 64;
					break;

				case 1170:
					characterobject.c3 = i - 64;
					break;

				case 1180:
					characterobject.c3 = i - 64;
					break;

				case 1190:
					characterobject.c3 = i - 64;
					characterobject.c5 = 0;
					break;

				case 1191:
					characterobject.c2 = 1190;
					characterobject.c3 = i - 64;
					characterobject.c5 = 1;
					break;

				case 1200:
					characterobject.c = 1220;
					break;

				case 1400:
					characterobject.c = 1430;
					characterobject.c2 = this.tpika_p;
					this.tpika_p++;
					if (this.tpika_p > 2)
						this.tpika_p = 2;
					break;
			}
			break;
		}
		i1++;
	} while(true);
}

MainProgram.prototype.tSetBoss = function(i, j, k, l)
{
    var t_limit, i1;
    // 敵の個数に関する後方互換性オプション
    if(this.tdb.options["bc-enemy-number"]){
        t_limit = 229;
        i1 = 220;
    }else{
        t_limit = Infinity;
        i1 = 0;
    }
	do
	{
        if(i1 > t_limit)
            break;
		while(i1 > this.t_kazu)
			this.co_t.push(new CharacterObject());
		if(this.co_t[i1].c <= 0)
		{
			var characterobject = this.co_t[i1];
			characterobject.init();
			characterobject.c = k;
			characterobject.c1 = 0;
			characterobject.c2 = 0;
			characterobject.c3 = i;
			characterobject.c4 = j;
			characterobject.x = i;
			characterobject.y = j;
			characterobject.vx = l;
			switch(k)
			{
			case 150: 
				characterobject.vx = l;
				characterobject.vy = -28;
				if(characterobject.vx <= 0)
					characterobject.muki = 0;
				else
					characterobject.muki = 1;
				break;

			case 450: 
				characterobject.vx = l;
				characterobject.vy = -22;
				if(characterobject.vx <= 0)
					characterobject.muki = 0;
				else
					characterobject.muki = 1;
				break;

			case 650: 
				characterobject.vx = l;
				characterobject.vy = -28;
				if(characterobject.vx <= 0)
					characterobject.muki = 0;
				else
					characterobject.muki = 1;
				break;
			}
			break;
		}
		i1++;
	} while(true);
}

MainProgram.prototype.tMove = function()
{
	var flag = false;
	for(var i = 0; i <= this.t_kazu; i++)
	{
		if(this.co_t[i].c == 0 || this.co_t[i].x < this.maps.wx - 512 && this.co_t[i].c < 1200)
			continue;
		var characterobject = this.co_t[i];
		var l20 = characterobject.x;
		var i21 = characterobject.y;
		switch(characterobject.c)
		{
		case 1310: 
		default:
			break;

		case 10:
			if(this.maps.wx >= characterobject.c1)
			{
				characterobject.c = characterobject.c2;
				characterobject.c1 = 0;
				characterobject.c2 = 0;
			}
			break;

		case 50:
			characterobject.c1++;
			if(characterobject.c2 >= 0 && this.yo[characterobject.c2].con >= 350 && this.yo[characterobject.c2].con < 400)
				i21 = this.getSHCOY(this.yo[characterobject.c2].x, this.yo[characterobject.c2].y, this.yo[characterobject.c2].x2, this.yo[characterobject.c2].y2, l20 + 15);
			if(characterobject.c1 > 14)
			{
				characterobject.c = 0;
				this.addScore(10);
			}
			break;

		case 52:
			l20 += characterobject.vx;
			characterobject.vy += 5;
			if(characterobject.vy > 25)
				characterobject.vy = 25;
			i21 += characterobject.vy;
			if(i21 > this.maps.wy + 320)
			{
				characterobject.c = 0;
				this.addScore(10);
			}
			break;

		case 54:
			l20 += characterobject.vx;
			characterobject.vy += 5;
			if(characterobject.vy > 25)
				characterobject.vy = 25;
			i21 += characterobject.vy;
			if(i21 > this.maps.wy + 320)
			{
				characterobject.c = 60;
				characterobject.c1 = 0;
			}
			break;

		case 55:
			characterobject.c1++;
			if(characterobject.c1 == 1)
				this.addScore(10);
			characterobject.pth = 0;
			if(characterobject.c1 <= 3)
				characterobject.pt = 172;
			else
			if(characterobject.c1 <= 6)
				characterobject.pt = 173;
			else
			if(characterobject.c1 <= 9)
			{
				characterobject.pt = 174;
			} else
			{
				characterobject.pt = 174;
				characterobject.c = 0;
			}
			break;

		case 57:
			characterobject.c1++;
			characterobject.pth = 0;
			if(characterobject.c1 <= 3)
				characterobject.pt = 172;
			else
			if(characterobject.c1 <= 6)
				characterobject.pt = 173;
			else
			if(characterobject.c1 <= 9)
			{
				characterobject.pt = 174;
			} else
			{
				characterobject.pt = 174;
				characterobject.c = 65;
				characterobject.c1 = 0;
			}
			break;

		case 60:
			if(characterobject.c1 == 1)
			{
				i21 = this.maps.wy_mini - 32;
				var j = 0;
				do
				{
					if(j > 15)
						break;
					if(this.scroll_area == 2 || this.scroll_area == 4)
						l20 = 32 + this.ranInt(16) * 32;
					else
					if(this.scroll_area == 3 || this.scroll_area == 5)
					{
						l20 = 32 + this.ranInt(32) * 32;
					} else
					{
						l20 = ((rightShiftIgnoreSign(this.co_j.x, 5) + this.ranInt(17)) - 8) * 32;
						if(l20 < 32)
							l20 = 32;
						else
						if(l20 > this.mapWidth * 32)
							l20 = this.mapWidth * 32;
					}
					var l36 = this.maps.getBGCode(l20 + 15, i21 + 32 + 15);
					if(l36 <= 10 || l36 == 15)
					{
						characterobject.muki = this.ranInt(2);
						characterobject.c1 = 2;
						break;
					}
					j++;
				} while(true);
				characterobject.pt = 0;
			} else
			if(characterobject.c1 < 50)
			{
				characterobject.c1++;
				characterobject.pt = 0;
			} else
			if(characterobject.c1 >= 50)
			{
				if(++i21 >= this.maps.wy_mini)
					characterobject.c = 1220;
				characterobject.pt = 140;
				characterobject.pth = characterobject.muki;
			}
			break;

		case 65:
			characterobject.c1++;
			if(characterobject.c1 < 50)
			{
				i21 = this.maps.wy_mini - 32;
				characterobject.pt = 0;
			} else
			if(characterobject.c1 >= 50)
				if(this.mhouse_c == 100)
				{
					characterobject.c = 1430;
					l20 = this.mhouse_x * 32;
					i21 = this.mhouse_y * 32;
					characterobject.pt = 0;
					characterobject.pth = 0;
				} else
				{
					characterobject.c = 0;
				}
			break;

		case 100:
			if(this.ana_kazu > 0)
			{
				var j21 = this.anaCheckNormal(l20, i21);
				if(j21 >= 0)
				{
					characterobject.c = 1300;
					l20 = this.ana_x[j21] * 32;
					break;
				}
			}
			var j44 = this.maps.getBGCode(l20 + 15, i21 + 31);
			if(j44 != 18 && j44 != 19)
				j44 = 0;
			if(j44 == 0 && this.maps.getBGCode(l20 + 15, i21 + 32) <= 9 || j44 > 0 && this.getSakamichiY(l20 + 15, i21 + 31) > i21)
			{
				i21 += 5;
				if(this.maps.getBGCode(l20 + 15, i21 + 32) >= 20)
					i21 = rightShiftIgnoreSign(i21 + 32, 5) * 32 - 32;
				if((this.maps.getBGCode(l20 + 15, i21 + 31) == 18 || this.maps.getBGCode(l20 + 15, i21 + 31) == 19) && this.getSakamichiY(l20 + 15, i21 + 31) < i21)
					i21 = this.getSakamichiY(l20 + 15, i21 + 31);
				characterobject.pt = 140;
				characterobject.pth = 0;
				if(this.yuka_id_max >= 0)
				{
					var k = 0;
					do
					{
						if(k > this.yuka_id_max)
							break;
						if(this.yo[k].con >= 300 && this.yo[k].con < 350)
						{
							var k21 = this.getSCOY(this.yo[k].x, this.yo[k].y, this.yo[k].x2, this.yo[k].y2, l20 + 15);
							if(k21 >= 0 && k21 <= i21 && k21 + 31 >= i21)
							{
								i21 = k21;
								characterobject.c = 104;
								characterobject.c2 = k;
								characterobject.vx = -1;
								break;
							}
						} else
						if(this.yo[k].con >= 350 && this.yo[k].con < 400)
						{
							var l21 = this.getSHCOY(this.yo[k].x, this.yo[k].y, this.yo[k].x2, this.yo[k].y2, l20 + 15);
							if(l21 >= 0 && l21 - 192 <= i21 && l21 + 31 + 192 >= i21)
							{
								i21 = l21;
								characterobject.c = 104;
								characterobject.c2 = k;
								characterobject.vx = -1;
								break;
							}
						} else
						if(this.yo[k].con >= 400 && this.yo[k].con < 450)
						{
							var i22 = this.getSWUpOY(this.yo[k].x, this.yo[k].y, this.yo[k].x2, this.yo[k].y2, l20 + 15);
							if(i22 >= 0 && i22 <= i21 && i22 + 31 >= i21)
							{
								i21 = i22;
								characterobject.c = 104;
								characterobject.c2 = k;
								characterobject.vx = -1;
								break;
							}
						} else
						if(this.yo[k].con >= 450 && this.yo[k].con < 500)
						{
							var j22 = this.getSWDownOY(this.yo[k].x, this.yo[k].y, this.yo[k].x2, this.yo[k].y2, l20 + 15);
							if(j22 >= 0 && j22 <= i21 && j22 + 31 >= i21)
							{
								i21 = j22;
								characterobject.c = 104;
								characterobject.c2 = k;
								characterobject.vx = -1;
								break;
							}
						}
						k++;
					} while(true);
				}
			} else
			{
				if(rightShiftIgnoreSign(l20 + 15, 5) > rightShiftIgnoreSign((l20 + 15) - 3, 5))
				{
					if(j44 == 18)
						i21 = rightShiftIgnoreSign(i21 + 31, 5) * 32;
					else
					if(j44 == 19)
						i21 = rightShiftIgnoreSign(i21 + 31, 5) * 32 - 32;
					if(this.maps.getBGCode((l20 + 15) - 3, i21 + 32) == 18)
						i21++;
				}
				l20 -= 3;
				var i37 = this.maps.getBGCode(l20 + 15, i21 + 31);
				if(i37 == 18 || i37 == 19)
					i21 = this.getSakamichiY(l20 + 15, i21 + 31);
				i37 = this.maps.getBGCode(l20, i21);
				if(i37 >= 20 || i37 == 15 || i37 == 18)
				{
					l20 = rightShiftIgnoreSign(l20, 5) * 32 + 32;
					characterobject.c = 105;
				}
				if(j44 == 18)
				{
					if(rightShiftIgnoreSign(l20 + 15, 5) < rightShiftIgnoreSign(l20 + 15 + 3, 5) && this.maps.getBGCode(l20 + 15, i21 + 32) <= 9)
					{
						l20 = (rightShiftIgnoreSign(l20, 5) * 32 + 32) - 15;
						characterobject.c = 105;
					}
				} else
				if(j44 == 19)
				{
					if(rightShiftIgnoreSign(l20 + 15, 5) < rightShiftIgnoreSign(l20 + 15 + 3, 5) && this.maps.getBGCode(l20 + 15, i21 + 32) <= 9 && this.maps.getBGCode(l20 + 15, i21 + 31) <= 9)
					{
						l20 = (rightShiftIgnoreSign(l20, 5) * 32 + 32) - 15;
						i21++;
						characterobject.c = 105;
					}
				} else
				if(this.maps.getBGCode(l20, i21 + 32) <= 9 && this.maps.getBGCode(l20, i21 + 31) <= 9)
				{
					l20 = rightShiftIgnoreSign(l20, 5) * 32 + 32;
					characterobject.c = 105;
				}
				characterobject.pt = 140 + this.g_ac;
				characterobject.pth = 0;
			}
			break;

		case 104:
			characterobject.pt = 140 + this.g_ac;
			characterobject.pth = 0;
			if(this.yo[characterobject.c2].con >= 300 && this.yo[characterobject.c2].con < 350)
			{
				var l28 = rounddown((this.yo[characterobject.c2].x2 * 80) / 100);
				if(characterobject.vx < 0)
				{
					if((l20 -= 3) <= this.yo[characterobject.c2].x - l28 - 15)
					{
						l20 = this.yo[characterobject.c2].x - l28 - 15;
						characterobject.vx = 1;
					}
				} else
				{
					characterobject.pth = 1;
					if((l20 += 3) >= (this.yo[characterobject.c2].x + l28) - 15)
					{
						l20 = (this.yo[characterobject.c2].x + l28) - 15;
						characterobject.vx = -1;
					}
				}
				i21 = this.getSCOY(this.yo[characterobject.c2].x, this.yo[characterobject.c2].y, this.yo[characterobject.c2].x2, this.yo[characterobject.c2].y2, l20 + 15);
			} else
			if(this.yo[characterobject.c2].con >= 350 && this.yo[characterobject.c2].con < 400)
			{
				if(characterobject.vx < 0)
				{
					if((l20 -= 3) <= (this.yo[characterobject.c2].x - 15) + 8)
					{
						l20 = (this.yo[characterobject.c2].x - 15) + 8;
						characterobject.vx = 1;
					}
				} else
				{
					characterobject.pth = 1;
					if((l20 += 3) >= (this.yo[characterobject.c2].x + 239) - 15 - 8)
					{
						l20 = (this.yo[characterobject.c2].x + 239) - 15 - 8;
						characterobject.vx = -1;
					}
				}
				i21 = this.getSHCOY(this.yo[characterobject.c2].x, this.yo[characterobject.c2].y, this.yo[characterobject.c2].x2, this.yo[characterobject.c2].y2, l20 + 15);
			} else
			if(this.yo[characterobject.c2].con >= 400 && this.yo[characterobject.c2].con < 450)
			{
				if(characterobject.vx < 0)
				{
					if((l20 -= 3) <= (this.yo[characterobject.c2].x + 8) - 15)
					{
						l20 = (this.yo[characterobject.c2].x + 8) - 15;
						characterobject.vx = 1;
					}
				} else
				{
					characterobject.pth = 1;
					if((l20 += 3) >= (this.yo[characterobject.c2].x + 256) - 8 - 15)
					{
						l20 = (this.yo[characterobject.c2].x + 256) - 8 - 15;
						characterobject.vx = -1;
					}
				}
				i21 = this.getSWUpOY(this.yo[characterobject.c2].x, this.yo[characterobject.c2].y, this.yo[characterobject.c2].x2, this.yo[characterobject.c2].y2, l20 + 15);
			} else
			if(this.yo[characterobject.c2].con >= 450 && this.yo[characterobject.c2].con < 500)
			{
				if(characterobject.vx < 0)
				{
					if((l20 -= 3) <= (this.yo[characterobject.c2].x + 8) - 15)
					{
						l20 = (this.yo[characterobject.c2].x + 8) - 15;
						characterobject.vx = 1;
					}
				} else
				{
					characterobject.pth = 1;
					if((l20 += 3) >= (this.yo[characterobject.c2].x + 256) - 8 - 15)
					{
						l20 = (this.yo[characterobject.c2].x + 256) - 8 - 15;
						characterobject.vx = -1;
					}
				}
				i21 = this.getSWDownOY(this.yo[characterobject.c2].x, this.yo[characterobject.c2].y, this.yo[characterobject.c2].x2, this.yo[characterobject.c2].y2, l20 + 15);
			}
			break;

		case 105:
			if(this.ana_kazu > 0)
			{
				var k22 = this.anaCheckNormal(l20, i21);
				if(k22 >= 0)
				{
					characterobject.c = 1300;
					l20 = this.ana_x[k22] * 32;
					break;
				}
			}
			var k44 = this.maps.getBGCode(l20 + 15, i21 + 31);
			if(k44 != 18 && k44 != 19)
				k44 = 0;
			if(rightShiftIgnoreSign(l20 + 15, 5) < rightShiftIgnoreSign(l20 + 15 + 3, 5))
			{
				if(k44 == 19)
					i21 = rightShiftIgnoreSign(i21 + 31, 5) * 32;
				else
				if(k44 == 18)
					i21 = rightShiftIgnoreSign(i21 + 31, 5) * 32 - 32;
				if(this.maps.getBGCode(l20 + 15 + 3, i21 + 32) == 19)
					i21++;
			}
			l20 += 3;
			var j37 = this.maps.getBGCode(l20 + 15, i21 + 31);
			if(j37 == 18 || j37 == 19)
				i21 = this.getSakamichiY(l20 + 15, i21 + 31);
			j37 = this.maps.getBGCode(l20 + 31, i21);
			if(j37 >= 20 || j37 == 15 || j37 == 19)
			{
				l20 = rightShiftIgnoreSign(l20 + 31, 5) * 32 - 32;
				characterobject.c = 100;
			}
			if(k44 == 19)
			{
				if(rightShiftIgnoreSign(l20 + 15, 5) > rightShiftIgnoreSign((l20 + 15) - 3, 5) && this.maps.getBGCode(l20 + 15, i21 + 32) <= 9)
				{
					l20 = rightShiftIgnoreSign(l20 + 15, 5) * 32 - 16;
					characterobject.c = 100;
				}
			} else
			if(k44 == 18)
			{
				if(rightShiftIgnoreSign(l20 + 15, 5) > rightShiftIgnoreSign((l20 + 15) - 3, 5) && this.maps.getBGCode(l20 + 15, i21 + 32) <= 9 && this.maps.getBGCode(l20 + 15, i21 + 31) <= 9)
				{
					l20 = rightShiftIgnoreSign(l20 + 15, 5) * 32 - 16;
					i21++;
					characterobject.c = 100;
				}
			} else
			if(this.maps.getBGCode(l20 + 31, i21 + 32) <= 9 && this.maps.getBGCode(l20 + 31, i21 + 31) <= 9)
			{
				l20 = rightShiftIgnoreSign(l20 + 31, 5) * 32 - 32;
				characterobject.c = 100;
			}
			characterobject.pt = 140 + this.g_ac;
			characterobject.pth = 1;
			break;

		case 110:
			if(this.ana_kazu > 0)
			{
				var l22 = this.anaCheckNormal(l20, i21);
				if(l22 >= 0)
				{
					characterobject.c = 1300;
					l20 = this.ana_x[l22] * 32;
					break;
				}
			}
			var l44 = this.maps.getBGCode(l20 + 15, i21 + 31);
			if(l44 != 18 && l44 != 19)
				l44 = 0;
			if(rightShiftIgnoreSign(l20 + 15, 5) > rightShiftIgnoreSign((l20 + 15) - 3, 5))
			{
				if(l44 == 18)
					i21 = rightShiftIgnoreSign(i21 + 31, 5) * 32;
				else
				if(l44 == 19)
					i21 = rightShiftIgnoreSign(i21 + 31, 5) * 32 - 32;
				if(this.maps.getBGCode((l20 + 15) - 3, i21 + 32) == 18)
					i21++;
			}
			l20 -= 3;
			var k37 = this.maps.getBGCode(l20 + 15, i21 + 31);
			if(k37 == 18 || k37 == 19)
				i21 = this.getSakamichiY(l20 + 15, i21 + 31);
			if(l20 < 32)
			{
				if(l20 <= 3)
					characterobject.c = 0;
			} else
			{
				var l37 = this.maps.getBGCode(l20, i21);
				if(l37 >= 20 || l37 == 15 || l37 == 18)
				{
					l20 = rightShiftIgnoreSign(l20, 5) * 32 + 32;
					characterobject.c = 115;
				}
			}
			if(i >= 120 && l20 < this.maps.wx - 32)
				characterobject.c = 0;
			if(l44 == 18)
			{
				if(rightShiftIgnoreSign(l20 + 15, 5) < rightShiftIgnoreSign(l20 + 15 + 3, 5) && this.maps.getBGCode(l20 + 15, i21 + 32) <= 9)
					i21 = rightShiftIgnoreSign(i21 + 15, 5) * 32;
			} else
			if(l44 == 19)
			{
				if(rightShiftIgnoreSign(l20 + 15, 5) < rightShiftIgnoreSign(l20 + 15 + 3, 5) && this.maps.getBGCode(l20 + 15, i21 + 32) <= 9 && this.maps.getBGCode(l20 + 15, i21 + 31) <= 9);
			} else
			if(this.maps.getBGCode(l20 + 31, i21 + 32) <= 9 && this.maps.getBGCode(l20 + 15, i21 + 31) != 18 && this.maps.getBGCode(l20 + 15, i21 + 31) != 19 && this.maps.getBGCode(l20 + 31, i21 + 31) != 18)
			{
				l20 = rightShiftIgnoreSign(l20 + 31, 5) * 32;
				characterobject.c = 120;
			}
			characterobject.pt = 140 + this.g_ac;
			characterobject.pth = 0;
			break;

		case 115:
			if(this.ana_kazu > 0)
			{
				var i23 = this.anaCheckNormal(l20, i21);
				if(i23 >= 0)
				{
					characterobject.c = 1300;
					l20 = this.ana_x[i23] * 32;
					break;
				}
			}
			var i45 = this.maps.getBGCode(l20 + 15, i21 + 31);
			if(i45 != 18 && i45 != 19)
				i45 = 0;
			if(rightShiftIgnoreSign(l20 + 15, 5) < rightShiftIgnoreSign(l20 + 15 + 3, 5))
			{
				if(i45 == 19)
					i21 = rightShiftIgnoreSign(i21 + 31, 5) * 32;
				else
				if(i45 == 18)
					i21 = rightShiftIgnoreSign(i21 + 31, 5) * 32 - 32;
				if(this.maps.getBGCode(l20 + 15 + 3, i21 + 32) == 19)
					i21++;
			}
			l20 += 3;
			var i38 = this.maps.getBGCode(l20 + 15, i21 + 31);
			if(i38 == 18 || i38 == 19)
				i21 = this.getSakamichiY(l20 + 15, i21 + 31);
			i38 = this.maps.getBGCode(l20 + 31, i21);
			if(i38 >= 20 || i38 == 15 || i38 == 19)
			{
				l20 = rightShiftIgnoreSign(l20 + 31, 5) * 32 - 32;
				characterobject.c = 110;
			}
			if(i >= 120 && l20 > this.maps.wx + 512)
				characterobject.c = 0;
			if(i45 == 19)
			{
				if(rightShiftIgnoreSign(l20 + 15, 5) > rightShiftIgnoreSign((l20 + 15) - 3, 5) && this.maps.getBGCode(l20 + 15, i21 + 32) <= 9)
					i21 = rightShiftIgnoreSign(i21 + 15, 5) * 32;
			} else
			if(i45 == 18)
			{
				if(rightShiftIgnoreSign(l20 + 15, 5) > rightShiftIgnoreSign((l20 + 15) - 3, 5) && this.maps.getBGCode(l20 + 15, i21 + 32) <= 9 && this.maps.getBGCode(l20 + 15, i21 + 31) <= 9);
			} else
			if(this.maps.getBGCode(l20, i21 + 32) <= 9 && this.maps.getBGCode(l20 + 15, i21 + 31) != 18 && this.maps.getBGCode(l20 + 15, i21 + 31) != 19 && this.maps.getBGCode(l20, i21 + 31) != 19)
			{
				l20 = rightShiftIgnoreSign(l20, 5) * 32;
				characterobject.c = 125;
			}
			characterobject.pt = 140 + this.g_ac;
			characterobject.pth = 1;
			break;

		case 120:
			if(this.ana_kazu > 0)
			{
				var l = 0;
				do
				{
					if(l > 11)
						break;
					if(this.ana_c[l] > 0 && this.ana_y[l] * 32 == i21 + 32 && Math.abs(this.ana_x[l] * 32 - l20) < 32)
					{
						characterobject.c = 1300;
						l20 = this.ana_x[l] * 32;
						break;
					}
					l++;
				} while(true);
				if(characterobject.c == 1300)
					break;
			}
			i21 += 5;
			if(this.maps.getBGCode(l20 + 15, i21 + 32) >= 20)
			{
				i21 = rightShiftIgnoreSign(i21 + 32, 5) * 32 - 32;
				characterobject.c = 110;
			}
			if((this.maps.getBGCode(l20 + 15, i21 + 31) == 18 || this.maps.getBGCode(l20 + 15, i21 + 31) == 19) && this.getSakamichiY(l20 + 15, i21 + 31) < i21)
			{
				i21 = this.getSakamichiY(l20 + 15, i21 + 31);
				characterobject.c = 110;
			}
			if(i21 >= this.ochiru_y)
				characterobject.c = 0;
			characterobject.pt = 140;
			characterobject.pth = 0;
			break;

		case 125:
			if(this.ana_kazu > 0)
			{
				var i1 = 0;
				do
				{
					if(i1 > 11)
						break;
					if(this.ana_c[i1] > 0 && this.ana_y[i1] * 32 == i21 + 32 && Math.abs(this.ana_x[i1] * 32 - l20) < 32)
					{
						characterobject.c = 1300;
						l20 = this.ana_x[i1] * 32;
						break;
					}
					i1++;
				} while(true);
				if(characterobject.c == 1300)
					break;
			}
			i21 += 5;
			if(this.maps.getBGCode(l20 + 15, i21 + 32) >= 20)
			{
				i21 = rightShiftIgnoreSign(i21 + 32, 5) * 32 - 32;
				characterobject.c = 115;
			}
			if((this.maps.getBGCode(l20 + 15, i21 + 31) == 18 || this.maps.getBGCode(l20 + 15, i21 + 31) == 19) && this.getSakamichiY(l20 + 15, i21 + 31) < i21)
			{
				i21 = this.getSakamichiY(l20 + 15, i21 + 31);
				characterobject.c = 115;
			}
			if(i21 >= this.ochiru_y)
				characterobject.c = 0;
			characterobject.pt = 140;
			characterobject.pth = 1;
			break;

		case 150: 
			if(this.ana_kazu > 0)
			{
				var j1 = 0;
				do
				{
					if(j1 > 11)
						break;
					if(this.ana_c[j1] > 0 && this.ana_y[j1] * 32 == i21 + 32 && Math.abs(this.ana_x[j1] * 32 - l20) < 32)
					{
						characterobject.c = 1300;
						l20 = this.ana_x[j1] * 32;
						break;
					}
					j1++;
				} while(true);
				if(characterobject.c == 1300)
					break;
			}
			if(characterobject.vx < 0 && (this.maps.getBGCode(l20, i21) >= 15 || this.maps.getBGCode(l20, i21 + 31) >= 15))
			{
				l20 = rightShiftIgnoreSign(l20, 5) * 32 + 32;
				characterobject.vx = 0;
			}
			if(characterobject.vx > 0 && (this.maps.getBGCode(l20 + 31, i21) >= 15 || this.maps.getBGCode(l20 + 31, i21 + 31) >= 15))
			{
				l20 = rightShiftIgnoreSign(l20 + 31, 5) * 32 - 32;
				characterobject.vx = 0;
			}
			l20 += characterobject.vx;
			characterobject.vy += 2;
			if(characterobject.vy > 18)
				characterobject.vy = 18;
			i21 += characterobject.vy;
			var j23 = rightShiftIgnoreSign(i21 + 31, 5);
			var word0 = this.maps.map_bg[rightShiftIgnoreSign(l20, 5)][j23];
			var word3 = this.maps.map_bg[rightShiftIgnoreSign(l20 + 31, 5)][j23];
			if(word0 >= 15 || word3 >= 15)
			{
				i21 = j23 * 32 - 32;
				if(characterobject.muki == 1)
					characterobject.c = 115;
				else
					characterobject.c = 110;
			}
			if(i21 >= this.ochiru_y)
				characterobject.c = 0;
			characterobject.pt = 140;
			characterobject.pth = characterobject.muki;
			break;

		case 200: 
			if(this.ana_kazu > 0)
			{
				var k1 = 0;
				do
				{
					if(k1 > 11)
						break;
					if(this.ana_c[k1] > 0 && this.ana_y[k1] * 32 == i21 + 32 && Math.abs(this.ana_x[k1] * 32 - l20) < 32)
					{
						characterobject.c = 1300;
						l20 = this.ana_x[k1] * 32;
						break;
					}
					k1++;
				} while(true);
				if(characterobject.c == 1300)
					break;
			}
			if(characterobject.c1 <= 0)
			{
				if(this.co_j.x >= l20 - 240 && this.co_j.x <= l20 + 240)
				{
					characterobject.c = 210;
					characterobject.vy = -14;
				}
			} else
			{
				characterobject.c1--;
			}
			characterobject.pt = 143;
			if(l20 + 8 >= this.co_j.x)
				characterobject.pth = 0;
			else
				characterobject.pth = 1;
			break;

		case 210: 
			if(this.ana_kazu > 0 && characterobject.vy > 0)
			{
				var l1 = 0;
				do
				{
					if(l1 > 11)
						break;
					if(this.ana_c[l1] > 0 && this.ana_y[l1] * 32 <= i21 + 32 && this.ana_y[l1] * 32 >= i21 + 16 && Math.abs(this.ana_x[l1] * 32 - l20) < 32)
					{
						characterobject.c = 1300;
						l20 = this.ana_x[l1] * 32;
						i21 = this.ana_y[l1] * 32 - 32;
						break;
					}
					l1++;
				} while(true);
				if(characterobject.c == 1300)
					break;
			}
			characterobject.vy++;
			if(characterobject.vy > 14)
				characterobject.vy = 14;
			i21 += characterobject.vy;
			if(this.maps.getBGCode(l20 + 15, i21 + 31) >= 10)
			{
				i21 = rightShiftIgnoreSign(i21 + 31, 5) * 32 - 32;
				characterobject.c = 200;
				characterobject.c1 = 30;
			}
			if(this.yuka_id_max >= 0)
			{
				for(var i2 = 0; i2 <= this.yuka_id_max; i2++)
				{
					if(this.yo[i2].con >= 300 && this.yo[i2].con < 350)
					{
						var k23 = this.getSCOY(this.yo[i2].x, this.yo[i2].y, this.yo[i2].x2, this.yo[i2].y2, l20 + 15);
						if(k23 >= 0 && k23 <= i21 && k23 + 31 >= i21)
						{
							i21 = k23;
							characterobject.c = 200;
							characterobject.c1 = 30;
						}
						continue;
					}
					if(this.yo[i2].con >= 350 && this.yo[i2].con < 400)
					{
						var l23 = this.getSHCOY(this.yo[i2].x, this.yo[i2].y, this.yo[i2].x2, this.yo[i2].y2, l20 + 15);
						if(l23 >= 0 && l23 <= i21 && l23 + 31 >= i21)
						{
							i21 = l23;
							characterobject.c = 200;
							characterobject.c1 = 30;
						}
						continue;
					}
					if(this.yo[i2].con >= 400 && this.yo[i2].con < 450)
					{
						var i24 = this.getSWUpOY(this.yo[i2].x, this.yo[i2].y, this.yo[i2].x2, this.yo[i2].y2, l20 + 15);
						if(i24 >= 0 && i24 <= i21 && i24 + 31 >= i21)
						{
							i21 = i24;
							characterobject.c = 200;
							characterobject.c1 = 30;
						}
						continue;
					}
					if(this.yo[i2].con < 450 || this.yo[i2].con >= 500)
						continue;
					var j24 = this.getSWDownOY(this.yo[i2].x, this.yo[i2].y, this.yo[i2].x2, this.yo[i2].y2, l20 + 15);
					if(j24 >= 0 && j24 <= i21 && j24 + 31 >= i21)
					{
						i21 = j24;
						characterobject.c = 200;
						characterobject.c1 = 30;
					}
				}

			}
			if(i21 >= this.ochiru_y)
				characterobject.c = 0;
			if(characterobject.vy == 0 && (Math.abs(this.co_j.x - l20) > 32 || i21 <= this.co_j.y) && i21 >= this.maps.wy - 128 && i21 <= this.maps.wy + 320 + 128)
				if(characterobject.c3 == 1)
				{
					if(l20 + 8 >= this.co_j.x)
					{
						this.mSet2(l20 - 16, rightShiftIgnoreSign(i21, 5) * 32, 732, -10, 0);
						this.gs.rsAddSound(15);
					} else
					{
						this.mSet2(l20 + 16, rightShiftIgnoreSign(i21, 5) * 32, 732, 10, 0);
						this.gs.rsAddSound(15);
					}
				} else
				if(characterobject.c3 == 2)
				{
					if(l20 + 8 >= this.co_j.x)
					{
						var d = 3.1400001049041748;
						this.mSet2(l20, rightShiftIgnoreSign(i21, 5) * 32, 733, Math.floor(Math.cos(d) * 9), Math.floor(Math.sin(d) * 9));
						d = 3.6633334159851074;
						this.mSet2(l20, rightShiftIgnoreSign(i21, 5) * 32, 733, Math.floor(Math.cos(d) * 9), Math.floor(Math.sin(d) * 9));
						d = 2.6166667938232422;
						this.mSet2(l20, rightShiftIgnoreSign(i21, 5) * 32, 733, Math.floor(Math.cos(d) * 9), Math.floor(Math.sin(d) * 9));
						this.gs.rsAddSound(10);
					} else
					{
						var d1 = 0.0;
						this.mSet2(l20, rightShiftIgnoreSign(i21, 5) * 32, 733, Math.floor(Math.cos(d1) * 9), Math.floor(Math.sin(d1) * 9));
						d1 = 5.7566671371459961;
						this.mSet2(l20, rightShiftIgnoreSign(i21, 5) * 32, 733, Math.floor(Math.cos(d1) * 9), Math.floor(Math.sin(d1) * 9));
						d1 = 0.52333337068557739;
						this.mSet2(l20, rightShiftIgnoreSign(i21, 5) * 32, 733, Math.floor(Math.cos(d1) * 9), Math.floor(Math.sin(d1) * 9));
						this.gs.rsAddSound(10);
					}
				} else
				if(characterobject.c3 == 3)
				{
					if(l20 + 8 >= this.co_j.x)
					{
						this.mSet2(l20, rightShiftIgnoreSign(i21, 5) * 32, 810, -12, 0);
						this.gs.rsAddSound(22);
					} else
					{
						this.mSet2(l20, rightShiftIgnoreSign(i21, 5) * 32, 810, 12, 0);
						this.gs.rsAddSound(22);
					}
				} else
				{
					this.mSet(l20, i21, 100);
					this.gs.rsAddSound(10);
				}
			if(characterobject.vy <= -1)
				characterobject.pt = 144;
			else
				characterobject.pt = 145;
			if(l20 + 8 >= this.co_j.x)
				characterobject.pth = 0;
			else
				characterobject.pth = 1;
			break;

		case 300: 
			if(this.ana_kazu > 0)
			{
				var j2 = 0;
				do
				{
					if(j2 > 11)
						break;
					if(this.ana_c[j2] > 0 && this.ana_y[j2] * 32 == i21 + 32 && Math.abs(this.ana_x[j2] * 32 - l20) < 32)
					{
						characterobject.c = 1300;
						l20 = this.ana_x[j2] * 32;
						break;
					}
					j2++;
				} while(true);
				if(characterobject.c == 1300)
					break;
			}
			if(characterobject.c1 > 0)
			{
				characterobject.c1++;
				if(characterobject.c1 == 2 || characterobject.c1 == 10 || characterobject.c1 == 18 || characterobject.c1 == 26)
				{
					if(l20 + 8 >= this.co_j.x)
					{
						if(characterobject.c3 == 1)
							this.mSet(l20, i21, 201);
						else
							this.mSet(l20, i21, 200);
					} else
					if(characterobject.c3 == 1)
						this.mSet(l20, i21, 206);
					else
						this.mSet(l20, i21, 205);
					if(characterobject.c1 == 2 && Math.abs(i21 - this.co_j.y) <= 288)
						this.gs.rsAddSound(11);
				} else
				if(characterobject.c1 > 86)
					characterobject.c1 = 0;
			} else
			if(this.co_j.x >= l20 - 256 && this.co_j.x <= l20 + 256)
				characterobject.c1 = 1;
			characterobject.pt = 150;
			if(l20 + 8 >= this.co_j.x)
				characterobject.pth = 0;
			else
				characterobject.pth = 1;
			break;

		case 310: 
			if(this.ana_kazu > 0)
			{
				var k2 = 0;
				do
				{
					if(k2 > 11)
						break;
					if(this.ana_c[k2] > 0 && this.ana_y[k2] * 32 == i21 + 32 && Math.abs(this.ana_x[k2] * 32 - l20) < 32)
					{
						characterobject.c = 1300;
						l20 = this.ana_x[k2] * 32;
						break;
					}
					k2++;
				} while(true);
				if(characterobject.c == 1300)
					break;
			}
			if(characterobject.c1 <= 0)
			{
				if(l20 >= this.maps.wx && l20 <= (this.maps.wx + 512) - 32 && i21 >= this.maps.wy && i21 <= (this.maps.wy + 320) - 32)
				{
					characterobject.c1 = 100;
					this.gs.rsAddSound(17);
				}
			} else
			if(characterobject.c1 >= 100 && characterobject.c1 < 200)
			{
				characterobject.c1++;
				if(characterobject.c1 == 101)
				{
					if(characterobject.c4 == 1)
						this.tSetBoss(l20, i21, 650, -3);
					else
						this.tSetBoss(l20, i21, 450, -3);
					if(characterobject.c3 < 999)
						characterobject.c3--;
					if(characterobject.c3 <= 0)
						characterobject.c1 = 500;
				} else
				if(characterobject.c1 >= 140)
					characterobject.c1 = 100;
				if(l20 < this.maps.wx)
					characterobject.c1 = 500;
			}
			characterobject.pt = 150;
			characterobject.pth = 0;
			break;

		case 320: 
			if(this.ana_kazu > 0)
			{
				var l2 = 0;
				do
				{
					if(l2 > 11)
						break;
					if(this.ana_c[l2] > 0 && this.ana_y[l2] * 32 == i21 + 32 && Math.abs(this.ana_x[l2] * 32 - l20) < 32)
					{
						characterobject.c = 1300;
						l20 = this.ana_x[l2] * 32;
						break;
					}
					l2++;
				} while(true);
				if(characterobject.c == 1300)
					break;
			}
			if(characterobject.c1 <= 0)
			{
				if(l20 >= this.maps.wx - 16 && l20 <= (this.maps.wx + 512) - 32 && i21 >= this.maps.wy && i21 <= (this.maps.wy + 320) - 32 && this.co_j.x >= l20 - 288 && this.co_j.x <= l20 + 192 && Math.abs(this.co_j.x - l20) >= 88 && this.co_j.y <= i21 + 128)
					if(this.co_j.x <= l20 + 8)
						characterobject.c1 = 100;
					else
						characterobject.c1 = 200;
			} else
			if(characterobject.c1 >= 100 && characterobject.c1 < 200)
			{
				characterobject.c1++;
				if(characterobject.c1 == 101)
				{
					var d2 = 4.7100000381469727;
					this.mSet2(l20, i21, 731, Math.floor(Math.cos(d2) * 10), Math.floor(Math.sin(d2) * 10));
					this.gs.rsAddSound(11);
				} else
				if(characterobject.c1 == 105)
				{
					var d3 = 3.9249999523162842;
					this.mSet2(l20, i21, 731, Math.floor(Math.cos(d3) * 10), Math.floor(Math.sin(d3) * 10));
				} else
				if(characterobject.c1 == 109)
				{
					var d4 = 3.1400001049041748;
					this.mSet2(l20, i21, 731, Math.floor(Math.cos(d4) * 10), Math.floor(Math.sin(d4) * 10));
				} else
				if(characterobject.c1 == 113)
				{
					var d5 = 3.6633334159851074;
					this.mSet2(l20, i21, 731, Math.floor(Math.cos(d5) * 10), Math.floor(Math.sin(d5) * 10));
				} else
				if(characterobject.c1 >= 121)
				{
					var d6 = 4.1866669654846191;
					this.mSet2(l20, i21, 731, Math.floor(Math.cos(d6) * 10), Math.floor(Math.sin(d6) * 10));
					characterobject.c1 = 300;
				}
			} else
			if(characterobject.c1 >= 200 && characterobject.c1 < 300)
			{
				characterobject.c1++;
				if(characterobject.c1 == 201)
				{
					var d7 = 4.7100000381469727;
					this.mSet2(l20, i21, 731, Math.floor(Math.cos(d7) * 10), Math.floor(Math.sin(d7) * 10));
					this.gs.rsAddSound(11);
				} else
				if(characterobject.c1 == 205)
				{
					var d8 = 5.4950003623962402;
					this.mSet2(l20, i21, 731, Math.floor(Math.cos(d8) * 10), Math.floor(Math.sin(d8) * 10));
				} else
				if(characterobject.c1 == 209)
				{
					var d9 = 0.0;
					this.mSet2(l20, i21, 731, Math.floor(Math.cos(d9) * 10), Math.floor(Math.sin(d9) * 10));
				} else
				if(characterobject.c1 == 213)
				{
					var d10 = 5.7566671371459961;
					this.mSet2(l20, i21, 731, Math.floor(Math.cos(d10) * 10), Math.floor(Math.sin(d10) * 10));
				} else
				if(characterobject.c1 >= 221)
				{
					var d11 = 5.2333335876464844;
					this.mSet2(l20, i21, 731, Math.floor(Math.cos(d11) * 10), Math.floor(Math.sin(d11) * 10));
					characterobject.c1 = 300;
				}
			} else
			{
				characterobject.c1++;
				if(characterobject.c1 > 350)
					characterobject.c1 = 0;
			}
			characterobject.pt = 150;
			if(this.co_j.x <= l20 + 8)
				characterobject.pth = 0;
			else
				characterobject.pth = 1;
			break;

		case 330: 
			if(this.ana_kazu > 0)
			{
				var i3 = 0;
				do
				{
					if(i3 > 11)
						break;
					if(this.ana_c[i3] > 0 && this.ana_y[i3] * 32 == i21 + 32 && Math.abs(this.ana_x[i3] * 32 - l20) < 32)
					{
						characterobject.c = 1300;
						l20 = this.ana_x[i3] * 32;
						break;
					}
					i3++;
				} while(true);
				if(characterobject.c == 1300)
					break;
			}
			if(characterobject.c1 <= 0)
			{
				if(l20 >= this.maps.wx - 16 && l20 <= (this.maps.wx + 512) - 32 && i21 >= this.maps.wy && i21 <= (this.maps.wy + 320) - 32 && this.co_j.x >= l20 - 352 && this.co_j.x <= l20 - 72 && Math.abs(this.co_j.y - i21) < 32)
				{
					this.mSet2(l20, i21, 75, i, 0);
					this.gs.rsAddSound(11);
					characterobject.c1 = 300;
				}
			} else
			{
				characterobject.c1++;
				if(characterobject.c1 > 420)
					characterobject.c1 = 0;
			}
			characterobject.pt = 150;
			characterobject.pth = 0;
			break;

		case 335: 
			if(this.ana_kazu > 0)
			{
				var j3 = 0;
				do
				{
					if(j3 > 11)
						break;
					if(this.ana_c[j3] > 0 && this.ana_y[j3] * 32 == i21 + 32 && Math.abs(this.ana_x[j3] * 32 - l20) < 32)
					{
						characterobject.c = 1300;
						l20 = this.ana_x[j3] * 32;
						break;
					}
					j3++;
				} while(true);
				if(characterobject.c == 1300)
					break;
			}
			if(characterobject.c1 <= 0)
			{
				if(l20 >= this.maps.wx - 16 - 144 && l20 <= (this.maps.wx + 512) - 32 && i21 >= this.maps.wy && i21 <= (this.maps.wy + 320) - 32 && this.co_j.x <= l20 + 352 && this.co_j.x >= l20 + 72 && Math.abs(this.co_j.y - i21) < 32)
				{
					this.mSet2(l20, i21, 85, i, 0);
					this.gs.rsAddSound(11);
					characterobject.c1 = 300;
				}
			} else
			{
				characterobject.c1++;
				if(characterobject.c1 > 420)
					characterobject.c1 = 0;
			}
			characterobject.pt = 150;
			characterobject.pth = 1;
			break;

		case 400: 
			if(this.ana_kazu > 0)
			{
				var k3 = 0;
				do
				{
					if(k3 > 11)
						break;
					if(this.ana_c[k3] > 0 && this.ana_y[k3] * 32 == i21 + 32 && Math.abs(this.ana_x[k3] * 32 - l20) < 32)
					{
						characterobject.c = 1300;
						l20 = this.ana_x[k3] * 32;
						break;
					}
					k3++;
				} while(true);
				if(characterobject.c == 1300)
					break;
			}
			if(this.j_tokugi == 14)
			{
				characterobject.c2++;
				if(characterobject.c2 > 24)
				{
					characterobject.c2 = 0;
					if(this.co_j.y < i21 + 8)
						this.mSet(l20, i21, 150);
				}
			}
			var j45 = this.maps.getBGCode(l20 + 15, i21 + 31);
			if(j45 != 18 && j45 != 19)
				j45 = 0;
			if(j45 == 0 && this.maps.getBGCode(l20 + 15, i21 + 32) <= 9 || j45 > 0 && this.getSakamichiY(l20 + 15, i21 + 31) > i21)
			{
				i21 += 5;
				if(this.maps.getBGCode(l20 + 15, i21 + 32) >= 20)
					i21 = rightShiftIgnoreSign(i21 + 32, 5) * 32 - 32;
				if((this.maps.getBGCode(l20 + 15, i21 + 31) == 18 || this.maps.getBGCode(l20 + 15, i21 + 31) == 19) && this.getSakamichiY(l20 + 15, i21 + 31) < i21)
					i21 = this.getSakamichiY(l20 + 15, i21 + 31);
				characterobject.pt = 152;
				characterobject.pth = 0;
				if(this.yuka_id_max >= 0)
				{
					var l3 = 0;
					do
					{
						if(l3 > this.yuka_id_max)
							break;
						if(this.yo[l3].con >= 300 && this.yo[l3].con < 350)
						{
							var k24 = this.getSCOY(this.yo[l3].x, this.yo[l3].y, this.yo[l3].x2, this.yo[l3].y2, l20 + 15);
							if(k24 >= 0 && k24 <= i21 && k24 + 31 >= i21)
							{
								i21 = k24;
								characterobject.c = 404;
								characterobject.c2 = l3;
								characterobject.vx = -1;
								break;
							}
						} else
						if(this.yo[l3].con >= 350 && this.yo[l3].con < 400)
						{
							var l24 = this.getSHCOY(this.yo[l3].x, this.yo[l3].y, this.yo[l3].x2, this.yo[l3].y2, l20 + 15);
							if(l24 >= 0 && l24 - 192 <= i21 && l24 + 31 + 192 >= i21)
							{
								i21 = l24;
								characterobject.c = 404;
								characterobject.c2 = l3;
								characterobject.vx = -1;
								break;
							}
						} else
						if(this.yo[l3].con >= 400 && this.yo[l3].con < 450)
						{
							var i25 = this.getSWUpOY(this.yo[l3].x, this.yo[l3].y, this.yo[l3].x2, this.yo[l3].y2, l20 + 15);
							if(i25 >= 0 && i25 <= i21 && i25 + 31 >= i21)
							{
								i21 = i25;
								characterobject.c = 404;
								characterobject.c2 = l3;
								characterobject.vx = -1;
								break;
							}
						} else
						if(this.yo[l3].con >= 450 && this.yo[l3].con < 500)
						{
							var j25 = this.getSWDownOY(this.yo[l3].x, this.yo[l3].y, this.yo[l3].x2, this.yo[l3].y2, l20 + 15);
							if(j25 >= 0 && j25 <= i21 && j25 + 31 >= i21)
							{
								i21 = j25;
								characterobject.c = 404;
								characterobject.c2 = l3;
								characterobject.vx = -1;
								break;
							}
						}
						l3++;
					} while(true);
				}
			} else
			{
				if(rightShiftIgnoreSign(l20 + 15, 5) > rightShiftIgnoreSign((l20 + 15) - 4, 5))
				{
					if(j45 == 18)
						i21 = rightShiftIgnoreSign(i21 + 31, 5) * 32;
					else
					if(j45 == 19)
						i21 = rightShiftIgnoreSign(i21 + 31, 5) * 32 - 32;
					if(this.maps.getBGCode((l20 + 15) - 4, i21 + 32) == 18)
						i21++;
				}
				l20 -= 4;
				var j38 = this.maps.getBGCode(l20 + 15, i21 + 31);
				if(j38 == 18 || j38 == 19)
					i21 = this.getSakamichiY(l20 + 15, i21 + 31);
				j38 = this.maps.getBGCode(l20, i21);
				if(j38 >= 20 || j38 == 15 || j38 == 18)
				{
					l20 = rightShiftIgnoreSign(l20, 5) * 32 + 32;
					characterobject.c = 405;
				}
				if(j45 == 18)
				{
					if(rightShiftIgnoreSign(l20 + 15, 5) < rightShiftIgnoreSign(l20 + 15 + 4, 5) && this.maps.getBGCode(l20 + 15, i21 + 32) <= 9)
					{
						l20 = (rightShiftIgnoreSign(l20, 5) * 32 + 32) - 15;
						characterobject.c = 405;
					}
				} else
				if(j45 == 19)
				{
					if(rightShiftIgnoreSign(l20 + 15, 5) < rightShiftIgnoreSign(l20 + 15 + 4, 5) && this.maps.getBGCode(l20 + 15, i21 + 32) <= 9 && this.maps.getBGCode(l20 + 15, i21 + 31) <= 9)
					{
						l20 = (rightShiftIgnoreSign(l20, 5) * 32 + 32) - 15;
						i21++;
						characterobject.c = 405;
					}
				} else
				if(this.maps.getBGCode(l20, i21 + 32) <= 9 && this.maps.getBGCode(l20, i21 + 31) <= 9)
				{
					l20 = rightShiftIgnoreSign(l20, 5) * 32 + 32;
					characterobject.c = 405;
				}
				characterobject.pt = 152 + this.g_ac;
				characterobject.pth = 0;
			}
			break;

		case 404: 
			characterobject.pt = 152 + this.g_ac;
			characterobject.pth = 0;
			if(this.yo[characterobject.c2].con >= 300 && this.yo[characterobject.c2].con < 350)
			{
				var i29 = rounddown((this.yo[characterobject.c2].x2 * 80) / 100);
				if(characterobject.vx < 0)
				{
					if((l20 -= 4) <= this.yo[characterobject.c2].x - i29 - 15)
					{
						l20 = this.yo[characterobject.c2].x - i29 - 15;
						characterobject.vx = 1;
					}
				} else
				{
					characterobject.pth = 1;
					if((l20 += 4) >= (this.yo[characterobject.c2].x + i29) - 15)
					{
						l20 = (this.yo[characterobject.c2].x + i29) - 15;
						characterobject.vx = -1;
					}
				}
				i21 = this.getSCOY(this.yo[characterobject.c2].x, this.yo[characterobject.c2].y, this.yo[characterobject.c2].x2, this.yo[characterobject.c2].y2, l20 + 15);
			} else
			if(this.yo[characterobject.c2].con >= 350 && this.yo[characterobject.c2].con < 400)
			{
				if(characterobject.vx < 0)
				{
					if((l20 -= 4) <= (this.yo[characterobject.c2].x - 15) + 8)
					{
						l20 = (this.yo[characterobject.c2].x - 15) + 8;
						characterobject.vx = 1;
					}
				} else
				{
					characterobject.pth = 1;
					if((l20 += 4) >= (this.yo[characterobject.c2].x + 239) - 15 - 8)
					{
						l20 = (this.yo[characterobject.c2].x + 239) - 15 - 8;
						characterobject.vx = -1;
					}
				}
				i21 = this.getSHCOY(this.yo[characterobject.c2].x, this.yo[characterobject.c2].y, this.yo[characterobject.c2].x2, this.yo[characterobject.c2].y2, l20 + 15);
			} else
			if(this.yo[characterobject.c2].con >= 400 && this.yo[characterobject.c2].con < 450)
			{
				if(characterobject.vx < 0)
				{
					if((l20 -= 4) <= (this.yo[characterobject.c2].x + 8) - 15)
					{
						l20 = (this.yo[characterobject.c2].x + 8) - 15;
						characterobject.vx = 1;
					}
				} else
				{
					characterobject.pth = 1;
					if((l20 += 4) >= (this.yo[characterobject.c2].x + 256) - 8 - 15)
					{
						l20 = (this.yo[characterobject.c2].x + 256) - 8 - 15;
						characterobject.vx = -1;
					}
				}
				i21 = this.getSWUpOY(this.yo[characterobject.c2].x, this.yo[characterobject.c2].y, this.yo[characterobject.c2].x2, this.yo[characterobject.c2].y2, l20 + 15);
			} else
			if(this.yo[characterobject.c2].con >= 450 && this.yo[characterobject.c2].con < 500)
			{
				if(characterobject.vx < 0)
				{
					if((l20 -= 4) <= (this.yo[characterobject.c2].x + 8) - 15)
					{
						l20 = (this.yo[characterobject.c2].x + 8) - 15;
						characterobject.vx = 1;
					}
				} else
				{
					characterobject.pth = 1;
					if((l20 += 4) >= (this.yo[characterobject.c2].x + 256) - 8 - 15)
					{
						l20 = (this.yo[characterobject.c2].x + 256) - 8 - 15;
						characterobject.vx = -1;
					}
				}
				i21 = this.getSWDownOY(this.yo[characterobject.c2].x, this.yo[characterobject.c2].y, this.yo[characterobject.c2].x2, this.yo[characterobject.c2].y2, l20 + 15);
			}
			break;

		case 405: 
			if(this.ana_kazu > 0)
			{
				var i4 = 0;
				do
				{
					if(i4 > 11)
						break;
					if(this.ana_c[i4] > 0 && this.ana_y[i4] * 32 == i21 + 32 && Math.abs(this.ana_x[i4] * 32 - l20) < 32)
					{
						characterobject.c = 1300;
						l20 = this.ana_x[i4] * 32;
						break;
					}
					i4++;
				} while(true);
				if(characterobject.c == 1300)
					break;
			}
			if(this.j_tokugi == 14)
			{
				characterobject.c2++;
				if(characterobject.c2 > 24)
				{
					characterobject.c2 = 0;
					if(this.co_j.y < i21 + 8)
						this.mSet(l20, i21, 150);
				}
			}
			var k45 = this.maps.getBGCode(l20 + 15, i21 + 31);
			if(k45 != 18 && k45 != 19)
				k45 = 0;
			if(rightShiftIgnoreSign(l20 + 15, 5) < rightShiftIgnoreSign(l20 + 15 + 4, 5))
			{
				if(k45 == 19)
					i21 = rightShiftIgnoreSign(i21 + 31, 5) * 32;
				else
				if(k45 == 18)
					i21 = rightShiftIgnoreSign(i21 + 31, 5) * 32 - 32;
				if(this.maps.getBGCode(l20 + 15 + 4, i21 + 32) == 19)
					i21++;
			}
			l20 += 4;
			var k38 = this.maps.getBGCode(l20 + 15, i21 + 31);
			if(k38 == 18 || k38 == 19)
				i21 = this.getSakamichiY(l20 + 15, i21 + 31);
			k38 = this.maps.getBGCode(l20 + 31, i21);
			if(k38 >= 20 || k38 == 15 || k38 == 19)
			{
				l20 = rightShiftIgnoreSign(l20 + 31, 5) * 32 - 32;
				characterobject.c = 400;
			}
			if(k45 == 19)
			{
				if(rightShiftIgnoreSign(l20 + 15, 5) > rightShiftIgnoreSign((l20 + 15) - 4, 5) && this.maps.getBGCode(l20 + 15, i21 + 32) <= 9)
				{
					l20 = rightShiftIgnoreSign(l20 + 15, 5) * 32 - 16;
					characterobject.c = 400;
				}
			} else
			if(k45 == 18)
			{
				if(rightShiftIgnoreSign(l20 + 15, 5) > rightShiftIgnoreSign((l20 + 15) - 4, 5) && this.maps.getBGCode(l20 + 15, i21 + 32) <= 9 && this.maps.getBGCode(l20 + 15, i21 + 31) <= 9)
				{
					l20 = rightShiftIgnoreSign(l20 + 15, 5) * 32 - 16;
					i21++;
					characterobject.c = 400;
				}
			} else
			if(this.maps.getBGCode(l20 + 31, i21 + 32) <= 9 && this.maps.getBGCode(l20 + 31, i21 + 31) <= 9)
			{
				l20 = rightShiftIgnoreSign(l20 + 31, 5) * 32 - 32;
				characterobject.c = 400;
			}
			characterobject.pt = 152 + this.g_ac;
			characterobject.pth = 1;
			break;

		case 410: 
			if(this.ana_kazu > 0)
			{
				var j4 = 0;
				do
				{
					if(j4 > 11)
						break;
					if(this.ana_c[j4] > 0 && this.ana_y[j4] * 32 == i21 + 32 && Math.abs(this.ana_x[j4] * 32 - l20) < 32)
					{
						characterobject.c = 1300;
						l20 = this.ana_x[j4] * 32;
						break;
					}
					j4++;
				} while(true);
				if(characterobject.c == 1300)
					break;
			}
			var l45 = this.maps.getBGCode(l20 + 15, i21 + 31);
			if(l45 != 18 && l45 != 19)
				l45 = 0;
			if(rightShiftIgnoreSign(l20 + 15, 5) > rightShiftIgnoreSign((l20 + 15) - 4, 5))
			{
				if(l45 == 18)
					i21 = rightShiftIgnoreSign(i21 + 31, 5) * 32;
				else
				if(l45 == 19)
					i21 = rightShiftIgnoreSign(i21 + 31, 5) * 32 - 32;
				if(this.maps.getBGCode((l20 + 15) - 4, i21 + 32) == 18)
					i21++;
			}
			l20 -= 4;
			var l38 = this.maps.getBGCode(l20 + 15, i21 + 31);
			if(l38 == 18 || l38 == 19)
				i21 = this.getSakamichiY(l20 + 15, i21 + 31);
			if(l20 < 32)
			{
				if(l20 <= 3)
					characterobject.c = 0;
			} else
			{
				var i39 = this.maps.getBGCode(l20, i21);
				if(i39 >= 20 || i39 == 15 || i39 == 18)
				{
					l20 = rightShiftIgnoreSign(l20, 5) * 32 + 32;
					characterobject.c = 415;
				}
			}
			if(i >= 120 && l20 < this.maps.wx - 32)
				characterobject.c = 0;
			if(l45 == 18)
			{
				if(rightShiftIgnoreSign(l20 + 15, 5) < rightShiftIgnoreSign(l20 + 15 + 4, 5) && this.maps.getBGCode(l20 + 15, i21 + 32) <= 9)
					i21 = rightShiftIgnoreSign(i21 + 15, 5) * 32;
			} else
			if(l45 == 19)
			{
				if(rightShiftIgnoreSign(l20 + 15, 5) < rightShiftIgnoreSign(l20 + 15 + 4, 5) && this.maps.getBGCode(l20 + 15, i21 + 32) <= 9 && this.maps.getBGCode(l20 + 15, i21 + 31) <= 9);
			} else
			if(this.maps.getBGCode(l20 + 31, i21 + 32) <= 9 && this.maps.getBGCode(l20 + 15, i21 + 31) != 18 && this.maps.getBGCode(l20 + 15, i21 + 31) != 19 && this.maps.getBGCode(l20 + 31, i21 + 31) != 18)
			{
				l20 = rightShiftIgnoreSign(l20 + 31, 5) * 32;
				characterobject.c = 420;
			}
			characterobject.pt = 152 + this.g_ac;
			characterobject.pth = 0;
			break;

		case 415: 
			if(this.ana_kazu > 0)
			{
				var k4 = 0;
				do
				{
					if(k4 > 11)
						break;
					if(this.ana_c[k4] > 0 && this.ana_y[k4] * 32 == i21 + 32 && Math.abs(this.ana_x[k4] * 32 - l20) < 32)
					{
						characterobject.c = 1300;
						l20 = this.ana_x[k4] * 32;
						break;
					}
					k4++;
				} while(true);
				if(characterobject.c == 1300)
					break;
			}
			var i46 = this.maps.getBGCode(l20 + 15, i21 + 31);
			if(i46 != 18 && i46 != 19)
				i46 = 0;
			if(rightShiftIgnoreSign(l20 + 15, 5) < rightShiftIgnoreSign(l20 + 15 + 4, 5))
			{
				if(i46 == 19)
					i21 = rightShiftIgnoreSign(i21 + 31, 5) * 32;
				else
				if(i46 == 18)
					i21 = rightShiftIgnoreSign(i21 + 31, 5) * 32 - 32;
				if(this.maps.getBGCode(l20 + 15 + 4, i21 + 32) == 19)
					i21++;
			}
			l20 += 4;
			var j39 = this.maps.getBGCode(l20 + 15, i21 + 31);
			if(j39 == 18 || j39 == 19)
				i21 = this.getSakamichiY(l20 + 15, i21 + 31);
			j39 = this.maps.getBGCode(l20 + 31, i21);
			if(j39 >= 20 || j39 == 15 || j39 == 19)
			{
				l20 = rightShiftIgnoreSign(l20 + 31, 5) * 32 - 32;
				characterobject.c = 410;
			}
			if(i >= 120 && l20 > this.maps.wx + 512)
				characterobject.c = 0;
			if(i46 == 19)
			{
				if(rightShiftIgnoreSign(l20 + 15, 5) > rightShiftIgnoreSign((l20 + 15) - 4, 5) && this.maps.getBGCode(l20 + 15, i21 + 32) <= 9)
					i21 = rightShiftIgnoreSign(i21 + 15, 5) * 32;
			} else
			if(i46 == 18)
			{
				if(rightShiftIgnoreSign(l20 + 15, 5) > rightShiftIgnoreSign((l20 + 15) - 4, 5) && this.maps.getBGCode(l20 + 15, i21 + 32) <= 9 && this.maps.getBGCode(l20 + 15, i21 + 31) <= 9);
			} else
			if(this.maps.getBGCode(l20, i21 + 32) <= 9 && this.maps.getBGCode(l20 + 15, i21 + 31) != 18 && this.maps.getBGCode(l20 + 15, i21 + 31) != 19 && this.maps.getBGCode(l20, i21 + 31) != 19)
			{
				l20 = rightShiftIgnoreSign(l20, 5) * 32;
				characterobject.c = 425;
			}
			characterobject.pt = 152 + this.g_ac;
			characterobject.pth = 1;
			break;

		case 420: 
			if(this.ana_kazu > 0)
			{
				var l4 = 0;
				do
				{
					if(l4 > 11)
						break;
					if(this.ana_c[l4] > 0 && this.ana_y[l4] * 32 == i21 + 32 && Math.abs(this.ana_x[l4] * 32 - l20) < 32)
					{
						characterobject.c = 1300;
						l20 = this.ana_x[l4] * 32;
						break;
					}
					l4++;
				} while(true);
				if(characterobject.c == 1300)
					break;
			}
			i21 += 5;
			if(this.maps.getBGCode(l20 + 15, i21 + 32) >= 20)
			{
				i21 = rightShiftIgnoreSign(i21 + 32, 5) * 32 - 32;
				characterobject.c = 410;
			}
			if((this.maps.getBGCode(l20 + 15, i21 + 31) == 18 || this.maps.getBGCode(l20 + 15, i21 + 31) == 19) && this.getSakamichiY(l20 + 15, i21 + 31) < i21)
			{
				i21 = this.getSakamichiY(l20 + 15, i21 + 31);
				characterobject.c = 410;
			}
			if(i21 >= this.ochiru_y)
				characterobject.c = 0;
			characterobject.pt = 152;
			characterobject.pth = 0;
			break;

		case 425: 
			if(this.ana_kazu > 0)
			{
				var i5 = 0;
				do
				{
					if(i5 > 11)
						break;
					if(this.ana_c[i5] > 0 && this.ana_y[i5] * 32 == i21 + 32 && Math.abs(this.ana_x[i5] * 32 - l20) < 32)
					{
						characterobject.c = 1300;
						l20 = this.ana_x[i5] * 32;
						break;
					}
					i5++;
				} while(true);
				if(characterobject.c == 1300)
					break;
			}
			i21 += 5;
			if(this.maps.getBGCode(l20 + 15, i21 + 32) >= 20)
			{
				i21 = rightShiftIgnoreSign(i21 + 32, 5) * 32 - 32;
				characterobject.c = 415;
			}
			if((this.maps.getBGCode(l20 + 15, i21 + 31) == 18 || this.maps.getBGCode(l20 + 15, i21 + 31) == 19) && this.getSakamichiY(l20 + 15, i21 + 31) < i21)
			{
				i21 = this.getSakamichiY(l20 + 15, i21 + 31);
				characterobject.c = 415;
			}
			if(i21 >= this.ochiru_y)
				characterobject.c = 0;
			characterobject.pt = 152;
			characterobject.pth = 1;
			break;

		case 450: 
			if(this.ana_kazu > 0)
			{
				var j5 = 0;
				do
				{
					if(j5 > 11)
						break;
					if(this.ana_c[j5] > 0 && this.ana_y[j5] * 32 == i21 + 32 && Math.abs(this.ana_x[j5] * 32 - l20) < 32)
					{
						characterobject.c = 1300;
						l20 = this.ana_x[j5] * 32;
						break;
					}
					j5++;
				} while(true);
				if(characterobject.c == 1300)
					break;
			}
			if(characterobject.vx < 0 && (this.maps.getBGCode(l20, i21) >= 15 || this.maps.getBGCode(l20, i21 + 31) >= 15))
			{
				l20 = rightShiftIgnoreSign(l20, 5) * 32 + 32;
				characterobject.vx = 0;
			}
			if(characterobject.vx > 0 && (this.maps.getBGCode(l20 + 31, i21) >= 15 || this.maps.getBGCode(l20 + 31, i21 + 31) >= 15))
			{
				l20 = rightShiftIgnoreSign(l20 + 31, 5) * 32 - 32;
				characterobject.vx = 0;
			}
			l20 += characterobject.vx;
			characterobject.vy += 2;
			if(characterobject.vy > 18)
				characterobject.vy = 18;
			i21 += characterobject.vy;
			var k25 = rightShiftIgnoreSign(i21 + 31, 5);
			var word1 = this.maps.map_bg[rightShiftIgnoreSign(l20, 5)][k25];
			var word4 = this.maps.map_bg[rightShiftIgnoreSign(l20 + 31, 5)][k25];
			if(word1 >= 10 || word4 >= 10)
			{
				i21 = k25 * 32 - 32;
				if(characterobject.muki == 1)
					characterobject.c = 415;
				else
					characterobject.c = 410;
			}
			if(i21 >= this.ochiru_y)
				characterobject.c = 0;
			characterobject.pt = 152;
			characterobject.pth = characterobject.muki;
			break;

		case 500: 
			if(i21 <= characterobject.c3)
			{
				characterobject.vy++;
				if(characterobject.vy > 4)
					characterobject.vy = 4;
			} else
			if(i21 >= characterobject.c4)
			{
				characterobject.vy--;
				if(characterobject.vy < -4)
					characterobject.vy = -4;
			}
			i21 += characterobject.vy;
			characterobject.pt = 147 + this.g_ac;
			if(this.co_j.x <= l20 + 8 || this.j_tokugi == 14)
				characterobject.pth = 0;
			else
				characterobject.pth = 1;
			break;

		case 510: 
			if((l20 -= 3) < 48)
			{
				if(l20 <= 3)
					characterobject.c = 0;
			} else
			if(this.maps.getBGCode(l20 - 16, i21 + 31) >= 15)
			{
				l20 = rightShiftIgnoreSign(l20 - 16, 5) * 32 + 32 + 16;
				characterobject.c = 515;
			}
			characterobject.pt = 147 + this.g_ac;
			characterobject.pth = 0;
			break;

		case 515: 
			l20 += 3;
			if(this.maps.getBGCode(l20 + 31 + 16, i21 + 31) >= 15)
			{
				l20 = rightShiftIgnoreSign(l20 + 31 + 16, 5) * 32 - 32 - 16;
				characterobject.c = 510;
			}
			characterobject.pt = 147 + this.g_ac;
			characterobject.pth = 1;
			break;

		case 520: 
			if(characterobject.c1 <= 0)
			{
				if(l20 >= this.maps.wx && l20 <= (this.maps.wx + 512) - 32 && i21 >= this.maps.wy && i21 <= (this.maps.wy + 320) - 32 && this.co_j.x >= l20 - 288 && this.co_j.x <= l20 + 192 && Math.abs(this.co_j.x - l20) >= 64 && Math.abs(this.co_j.y - i21) <= 128)
					characterobject.c1 = 1;
			} else
			if(characterobject.c1 == 1)
			{
				if(l20 + 8 >= this.co_j.x)
				{
					this.mSet(l20, i21, 300);
					this.gs.rsAddSound(14);
				} else
				{
					this.mSet(l20, i21, 305);
					this.gs.rsAddSound(14);
				}
				characterobject.c1 = 2;
			} else
			{
				characterobject.c1++;
				if(characterobject.c1 > 40)
					characterobject.c1 = 0;
			}
			characterobject.pt = 147 + this.g_ac;
			if(this.co_j.x <= l20 + 8 || this.j_tokugi == 14)
				characterobject.pth = 0;
			else
				characterobject.pth = 1;
			break;

		case 530: 
			if(characterobject.c4 <= 0)
			{
				if((i21 -= 2) <= characterobject.c3 - 64)
				{
					i21 = characterobject.c3 - 64;
					characterobject.c4 = 10;
					if(l20 >= this.maps.wx && l20 <= (this.maps.wx + 512) - 32 && i21 >= this.maps.wy && i21 <= (this.maps.wy + 320) - 32 && this.co_j.x >= l20 - 320 && this.co_j.x <= l20 + 256 && Math.abs(this.co_j.x - l20) >= 64 && Math.abs(this.co_j.y - i21) <= 160)
						characterobject.c4 = 20;
				}
			} else
			if(characterobject.c4 == 10)
			{
				if((i21 += 2) >= characterobject.c3)
				{
					i21 = characterobject.c3;
					characterobject.c4 = 0;
				}
			} else
			if(characterobject.c4 == 20)
			{
				if(Math.abs(this.co_j.x - l20) > 32 || i21 <= this.co_j.y)
				{
					if(i21 == characterobject.c3 - 64)
						if(l20 + 8 >= this.co_j.x)
						{
							this.mSet(l20, i21, 300);
							this.gs.rsAddSound(14);
						} else
						{
							this.mSet(l20, i21, 305);
							this.gs.rsAddSound(14);
						}
					if(i21 == characterobject.c3 - 32)
						if(l20 + 8 >= this.co_j.x)
							this.mSet(l20, i21, 300);
						else
							this.mSet(l20, i21, 305);
				}
				if((i21 += 2) >= characterobject.c3)
				{
					i21 = characterobject.c3;
					characterobject.c4 = 0;
					if(Math.abs(this.co_j.x - l20) > 32 || i21 <= this.co_j.y)
						if(l20 + 8 >= this.co_j.x)
							this.mSet(l20, i21, 300);
						else
							this.mSet(l20, i21, 305);
				}
			}
			characterobject.pt = 147 + this.g_ac;
			if(this.co_j.x <= l20 + 8 || this.j_tokugi == 14)
				characterobject.pth = 0;
			else
				characterobject.pth = 1;
			break;

		case 540: 
			if(characterobject.c1 <= 0)
			{
				if(l20 >= this.maps.wx && l20 <= (this.maps.wx + 512) - 32 && i21 >= this.maps.wy && i21 <= (this.maps.wy + 320) - 32 && this.co_j.x >= l20 - 288 && this.co_j.x <= l20 + 192 && Math.abs(this.co_j.x - l20) >= 64 && Math.abs(this.co_j.y - i21) <= 128)
					characterobject.c1 = 1;
			} else
			if(characterobject.c1 == 1)
			{
				if(l20 + 8 >= this.co_j.x)
				{
					var d12 = 3.1400001049041748;
					this.mSet2(l20, i21, 730, Math.floor(Math.cos(d12) * 9), Math.floor(Math.sin(d12) * 9));
					d12 = 3.6633334159851074;
					this.mSet2(l20, i21, 730, Math.floor(Math.cos(d12) * 9), Math.floor(Math.sin(d12) * 9));
					d12 = 2.6166667938232422;
					this.mSet2(l20, i21, 730, Math.floor(Math.cos(d12) * 9), Math.floor(Math.sin(d12) * 9));
					this.gs.rsAddSound(18);
				} else
				{
					var d13 = 0.0;
					this.mSet2(l20, i21, 730, Math.floor(Math.cos(d13) * 9), Math.floor(Math.sin(d13) * 9));
					d13 = 5.7566671371459961;
					this.mSet2(l20, i21, 730, Math.floor(Math.cos(d13) * 9), Math.floor(Math.sin(d13) * 9));
					d13 = 0.52333337068557739;
					this.mSet2(l20, i21, 730, Math.floor(Math.cos(d13) * 9), Math.floor(Math.sin(d13) * 9));
					this.gs.rsAddSound(18);
				}
				characterobject.c1 = 2;
			} else
			{
				characterobject.c1++;
				if(characterobject.c1 > 40)
					characterobject.c1 = 0;
			}
			characterobject.pt = 147 + this.g_ac;
			if(this.co_j.x <= l20 + 8 || this.j_tokugi == 14)
				characterobject.pth = 0;
			else
				characterobject.pth = 1;
			break;

		case 550: 
			if(characterobject.c1 <= 0)
			{
				if(l20 >= this.maps.wx && l20 <= (this.maps.wx + 512) - 32 && i21 >= this.maps.wy && i21 <= (this.maps.wy + 320) - 32 && this.co_j.x >= l20 - 228 && this.co_j.x <= l20 + 192 && Math.abs(this.co_j.x - l20) >= 64 && Math.abs(this.co_j.y - i21) <= 128)
					characterobject.c1 = 1;
			} else
			if(characterobject.c1 == 1)
			{
				for(var k5 = 0; k5 <= 300; k5 += 90)
				{
					this.mSet2(l20, i21, 950, k5, 0);
					this.mSet2(l20, i21, 960, 300 - k5, 0);
					this.gs.rsAddSound(18);
				}

				characterobject.c1 = 2;
			} else
			{
				characterobject.c1++;
				if(characterobject.c1 > 80)
					characterobject.c1 = 0;
			}
			characterobject.pt = 147 + this.g_ac;
			if(this.co_j.x <= l20 + 8 || this.j_tokugi == 14)
				characterobject.pth = 0;
			else
				characterobject.pth = 1;
			break;

		case 600: 
			if(i < 120 && characterobject.c4 == 2 && characterobject.c1 == 20)
			{
				characterobject.c = 605;
				characterobject.c1++;
			}
			if(characterobject.c1 < 25)
			{
				if(this.ana_kazu > 0)
				{
					var l5 = 0;
					do
					{
						if(l5 > 11)
							break;
						if(this.ana_c[l5] > 0 && this.ana_y[l5] * 32 == i21 + 32 && Math.abs(this.ana_x[l5] * 32 - l20) < 32)
						{
							characterobject.c = 1300;
							l20 = this.ana_x[l5] * 32;
							break;
						}
						l5++;
					} while(true);
					if(characterobject.c == 1300)
						break;
				}
				characterobject.c1++;
				characterobject.vy = -17;
				characterobject.c3 = 0;
				if(i < 120 && characterobject.c4 == 1)
					characterobject.vy = -22;
				var l25 = this.maps.getBGCode(l20 + 15, i21 + 32);
				if(l25 == 18 || l25 == 19)
					i21 = this.getSakamichiY(l20 + 15, i21 + 32);
				characterobject.pt = 154;
				characterobject.pth = 0;
				if(i < 120 && characterobject.c4 == 1)
					if(this.co_j.x <= l20 + 8 || this.j_tokugi == 14)
						characterobject.pth = 0;
					else
						characterobject.pth = 1;
			} else
			{
				if(this.ana_kazu > 0 && characterobject.vy > 0)
				{
					var i6 = 0;
					do
					{
						if(i6 > 11)
							break;
						if(this.ana_c[i6] > 0 && this.ana_y[i6] * 32 <= i21 + 32 && this.ana_y[i6] * 32 >= i21 + 16 && Math.abs(this.ana_x[i6] * 32 - l20) < 32)
						{
							characterobject.c = 1300;
							l20 = this.ana_x[i6] * 32;
							i21 = this.ana_y[i6] * 32 - 32;
							break;
						}
						i6++;
					} while(true);
					if(characterobject.c == 1300)
						break;
				}
				if(characterobject.c3 == 0)
				{
					characterobject.vy++;
					characterobject.c3 = 1;
				} else
				{
					characterobject.vy += 2;
					characterobject.c3 = 0;
				}
				if(characterobject.vy > 17)
					characterobject.vy = 17;
				if(i >= 120 || characterobject.c4 != 1)
					l20 -= 5;
				var k32 = i21;
				i21 += characterobject.vy;
				if(characterobject.vy < 4)
				{
					characterobject.pt = 155;
					characterobject.pth = 0;
				} else
				{
					characterobject.pt = 156;
					characterobject.pth = 0;
				}
				if(l20 < 32)
				{
					if(l20 <= 3)
						characterobject.c = 0;
				} else
				{
					if(characterobject.vy < 0 && this.maps.getBGCode(l20 + 15, i21 + 6) >= 18)
					{
						i21 = (rightShiftIgnoreSign(i21 + 6, 5) * 32 + 32) - 6;
						characterobject.vy = 0;
					}
					var k39 = this.maps.getBGCode(l20 + 15, i21 + 31);
					if(k39 >= 20 || k39 == 10 || k39 == 15)
					{
						i21 = rightShiftIgnoreSign(i21 + 31, 5) * 32 - 32;
						characterobject.c1 = 15;
						characterobject.pt = 154;
						characterobject.pth = 0;
					}
					if(k39 == 18 || k39 == 19)
					{
						if(i21 >= this.getSakamichiY(l20 + 15, i21 + 31))
						{
							i21 = this.getSakamichiY(l20 + 15, i21 + 31);
							characterobject.c1 = 15;
							characterobject.pt = 154;
							characterobject.pth = 0;
						}
					} else
					if(rightShiftIgnoreSign(i21 + 31, 5) > rightShiftIgnoreSign(k32 + 31, 5))
					{
						var l39 = this.maps.getBGCode(l20 + 15, k32 + 31);
						if(l39 == 18 || l39 == 19)
						{
							i21 = rightShiftIgnoreSign(k32 + 31, 5) * 32;
							i21 = this.getSakamichiY(l20 + 15, i21 + 31);
							characterobject.c1 = 15;
							characterobject.pt = 154;
							characterobject.pth = 0;
						}
					}
					if(this.yuka_id_max >= 0)
					{
						for(var j6 = 0; j6 <= this.yuka_id_max; j6++)
						{
							if(this.yo[j6].con >= 300 && this.yo[j6].con < 350)
							{
								var i26 = this.getSCOY(this.yo[j6].x, this.yo[j6].y, this.yo[j6].x2, this.yo[j6].y2, l20 + 15);
								if(i26 >= 0 && i26 <= i21 && i26 + 31 >= i21)
								{
									i21 = i26;
									characterobject.c1 = 15;
									characterobject.pt = 154;
									characterobject.pth = 0;
								}
								continue;
							}
							if(this.yo[j6].con >= 350 && this.yo[j6].con < 400)
							{
								var j26 = this.getSHCOY(this.yo[j6].x, this.yo[j6].y, this.yo[j6].x2, this.yo[j6].y2, l20 + 15);
								if(j26 >= 0 && j26 <= i21 && j26 + 31 >= i21)
								{
									i21 = j26;
									characterobject.c1 = 15;
									characterobject.pt = 154;
									characterobject.pth = 0;
								}
								continue;
							}
							if(this.yo[j6].con >= 400 && this.yo[j6].con < 450)
							{
								var k26 = this.getSWUpOY(this.yo[j6].x, this.yo[j6].y, this.yo[j6].x2, this.yo[j6].y2, l20 + 15);
								if(k26 >= 0 && k26 <= i21 && k26 + 31 >= i21)
								{
									i21 = k26;
									characterobject.c1 = 15;
									characterobject.pt = 154;
									characterobject.pth = 0;
								}
								continue;
							}
							if(this.yo[j6].con < 450 || this.yo[j6].con >= 500)
								continue;
							var l26 = this.getSWDownOY(this.yo[j6].x, this.yo[j6].y, this.yo[j6].x2, this.yo[j6].y2, l20 + 15);
							if(l26 >= 0 && l26 <= i21 && l26 + 31 >= i21)
							{
								i21 = l26;
								characterobject.c1 = 15;
								characterobject.pt = 154;
								characterobject.pth = 0;
							}
						}

					}
					if(this.maps.getBGCode(l20 + 15, i21 + 31) != 18 && this.maps.getBGCode(l20 + 15, i21 + 31) != 19 && (this.maps.getBGCode(l20, i21 + 31) >= 20 || this.maps.getBGCode(l20, i21 + 8) >= 20))
					{
						l20 = rightShiftIgnoreSign(l20, 5) * 32 + 32;
						characterobject.c = 605;
					}
					if(i >= 120 && l20 < this.maps.wx - 32)
						characterobject.c = 0;
				}
				if(i < 120 && characterobject.c4 == 1)
					if(this.co_j.x <= l20 + 8 || this.j_tokugi == 14)
						characterobject.pth = 0;
					else
						characterobject.pth = 1;
			}
			if(i21 >= this.ochiru_y)
				characterobject.c = 0;
			break;

		case 605: 
			if(i < 120 && characterobject.c4 == 2 && characterobject.c1 == 20)
			{
				characterobject.c = 600;
				characterobject.c1++;
			}
			if(characterobject.c1 < 25)
			{
				if(this.ana_kazu > 0)
				{
					var k6 = 0;
					do
					{
						if(k6 > 11)
							break;
						if(this.ana_c[k6] > 0 && this.ana_y[k6] * 32 == i21 + 32 && Math.abs(this.ana_x[k6] * 32 - l20) < 32)
						{
							characterobject.c = 1300;
							l20 = this.ana_x[k6] * 32;
							break;
						}
						k6++;
					} while(true);
					if(characterobject.c == 1300)
						break;
				}
				characterobject.c1++;
				characterobject.vy = -17;
				characterobject.c3 = 0;
				characterobject.pt = 154;
				characterobject.pth = 1;
			} else
			{
				if(this.ana_kazu > 0 && characterobject.vy > 0)
				{
					var l6 = 0;
					do
					{
						if(l6 > 11)
							break;
						if(this.ana_c[l6] > 0 && this.ana_y[l6] * 32 <= i21 + 32 && this.ana_y[l6] * 32 >= i21 + 16 && Math.abs(this.ana_x[l6] * 32 - l20) < 32)
						{
							characterobject.c = 1300;
							l20 = this.ana_x[l6] * 32;
							i21 = this.ana_y[l6] * 32 - 32;
							break;
						}
						l6++;
					} while(true);
					if(characterobject.c == 1300)
						break;
				}
				if(characterobject.c3 == 0)
				{
					characterobject.vy++;
					characterobject.c3 = 1;
				} else
				{
					characterobject.vy += 2;
					characterobject.c3 = 0;
				}
				if(characterobject.vy > 17)
					characterobject.vy = 17;
				l20 += 5;
				var l32 = i21;
				i21 += characterobject.vy;
				if(characterobject.vy < 4)
				{
					characterobject.pt = 155;
					characterobject.pth = 1;
				} else
				{
					characterobject.pt = 156;
					characterobject.pth = 1;
				}
				if(characterobject.vy < 0 && this.maps.getBGCode(l20 + 15, i21 + 6) >= 18)
				{
					i21 = (rightShiftIgnoreSign(i21 + 6, 5) * 32 + 32) - 6;
					characterobject.vy = 0;
				}
				var i40 = this.maps.getBGCode(l20 + 15, i21 + 31);
				if(i40 >= 20 || i40 == 10 || i40 == 15)
				{
					i21 = rightShiftIgnoreSign(i21 + 31, 5) * 32 - 32;
					characterobject.c1 = 15;
					characterobject.pt = 154;
					characterobject.pth = 1;
				}
				if(i40 == 18 || i40 == 19)
				{
					if(i21 >= this.getSakamichiY(l20 + 15, i21 + 31))
					{
						i21 = this.getSakamichiY(l20 + 15, i21 + 31);
						characterobject.c1 = 15;
						characterobject.pt = 154;
						characterobject.pth = 1;
					}
				} else
				if(rightShiftIgnoreSign(i21 + 31, 5) > rightShiftIgnoreSign(l32 + 31, 5))
				{
					var j40 = this.maps.getBGCode(l20 + 15, l32 + 31);
					if(j40 == 18 || j40 == 19)
					{
						i21 = rightShiftIgnoreSign(l32 + 31, 5) * 32;
						i21 = this.getSakamichiY(l20 + 15, i21 + 31);
						characterobject.c1 = 15;
						characterobject.pt = 154;
						characterobject.pth = 1;
					}
				}
				if(this.yuka_id_max >= 0)
				{
					for(var i7 = 0; i7 <= this.yuka_id_max; i7++)
					{
						if(this.yo[i7].con >= 300 && this.yo[i7].con < 350)
						{
							var i27 = this.getSCOY(this.yo[i7].x, this.yo[i7].y, this.yo[i7].x2, this.yo[i7].y2, l20 + 15);
							if(i27 >= 0 && i27 <= i21 && i27 + 31 >= i21)
							{
								i21 = i27;
								characterobject.c1 = 15;
								characterobject.pt = 154;
								characterobject.pth = 1;
							}
							continue;
						}
						if(this.yo[i7].con >= 350 && this.yo[i7].con < 400)
						{
							var j27 = this.getSHCOY(this.yo[i7].x, this.yo[i7].y, this.yo[i7].x2, this.yo[i7].y2, l20 + 15);
							if(j27 >= 0 && j27 <= i21 && j27 + 31 >= i21)
							{
								i21 = j27;
								characterobject.c1 = 15;
								characterobject.pt = 154;
								characterobject.pth = 1;
							}
							continue;
						}
						if(this.yo[i7].con >= 400 && this.yo[i7].con < 450)
						{
							var k27 = this.getSWUpOY(this.yo[i7].x, this.yo[i7].y, this.yo[i7].x2, this.yo[i7].y2, l20 + 15);
							if(k27 >= 0 && k27 <= i21 && k27 + 31 >= i21)
							{
								i21 = k27;
								characterobject.c1 = 15;
								characterobject.pt = 154;
								characterobject.pth = 1;
							}
							continue;
						}
						if(this.yo[i7].con < 450 || this.yo[i7].con >= 500)
							continue;
						var l27 = this.getSWDownOY(this.yo[i7].x, this.yo[i7].y, this.yo[i7].x2, this.yo[i7].y2, l20 + 15);
						if(l27 >= 0 && l27 <= i21 && l27 + 31 >= i21)
						{
							i21 = l27;
							characterobject.c1 = 15;
							characterobject.pt = 154;
							characterobject.pth = 1;
						}
					}

				}
				if(this.maps.getBGCode(l20 + 15, i21 + 31) != 18 && this.maps.getBGCode(l20 + 15, i21 + 31) != 19 && (this.maps.getBGCode(l20 + 31, i21 + 31) >= 20 || this.maps.getBGCode(l20 + 31, i21 + 8) >= 20))
				{
					l20 = rightShiftIgnoreSign(l20 + 31, 5) * 32 - 32;
					characterobject.c = 600;
				}
				if(i >= 120 && l20 > this.maps.wx + 512)
					characterobject.c = 0;
			}
			if(i21 >= this.ochiru_y)
				characterobject.c = 0;
			break;

		case 650: 
			if(characterobject.vx < 0 && (this.maps.getBGCode(l20, i21) >= 15 || this.maps.getBGCode(l20, i21 + 31) >= 15))
			{
				l20 = rightShiftIgnoreSign(l20, 5) * 32 + 32;
				characterobject.vx = 0;
			}
			if(characterobject.vx > 0 && (this.maps.getBGCode(l20 + 31, i21) >= 15 || this.maps.getBGCode(l20 + 31, i21 + 31) >= 15))
			{
				l20 = rightShiftIgnoreSign(l20 + 31, 5) * 32 - 32;
				characterobject.vx = 0;
			}
			l20 += characterobject.vx;
			characterobject.vy += 2;
			if(characterobject.vy > 18)
				characterobject.vy = 18;
			i21 += characterobject.vy;
			var i28 = rightShiftIgnoreSign(i21 + 31, 5);
			var word2 = this.maps.map_bg[rightShiftIgnoreSign(l20, 5)][i28];
			var word5 = this.maps.map_bg[rightShiftIgnoreSign(l20 + 31, 5)][i28];
			if(word2 >= 10 || word5 >= 10)
			{
				i21 = i28 * 32 - 32;
				if(characterobject.muki == 1)
					characterobject.c = 605;
				else
					characterobject.c = 600;
				characterobject.c1 = 15;
			}
			if(i21 >= this.ochiru_y)
				characterobject.c = 0;
			if(characterobject.vy < 4)
				characterobject.pt = 155;
			else
				characterobject.pt = 156;
			characterobject.pth = characterobject.muki;
			break;

		case 660: 
			if(characterobject.c4 < 20)
			{
				characterobject.c4++;
				characterobject.pt = 154;
				characterobject.pth = 0;
				if(characterobject.c4 < 10)
					characterobject.pth = 1;
			} else
			if(characterobject.c4 == 20)
			{
				if((l20 -= 8) <= characterobject.c3 - 128)
				{
					l20 = characterobject.c3 - 128;
					characterobject.c4 = 30;
				}
				characterobject.pt = 155 + this.g_ac;
				characterobject.pth = 0;
			} else
			if(characterobject.c4 < 50)
			{
				characterobject.c4++;
				characterobject.pt = 154;
				characterobject.pth = 1;
				if(characterobject.c4 < 40)
					characterobject.pth = 0;
			} else
			if(characterobject.c4 == 50)
			{
				if((l20 += 8) >= characterobject.c3)
				{
					l20 = characterobject.c3;
					characterobject.c4 = 0;
				}
				characterobject.pt = 155 + this.g_ac;
				characterobject.pth = 1;
			}
			break;

		case 670: 
			if(characterobject.c4 < 10)
			{
				characterobject.c4++;
				characterobject.pt = 154;
				if(l20 + 8 >= this.co_j.x)
					characterobject.pth = 0;
				else
					characterobject.pth = 1;
			} else
			if(characterobject.c4 == 10)
			{
				if(l20 - 128 - 16 <= this.co_j.x && l20 - 48 >= this.co_j.x && Math.abs(i21 - this.co_j.y) <= 10)
					characterobject.c4 = 100;
				if(l20 + 128 + 16 >= this.co_j.x && l20 + 48 <= this.co_j.x && Math.abs(i21 - this.co_j.y) <= 10)
					characterobject.c4 = 200;
				characterobject.pt = 154;
				if(l20 + 8 >= this.co_j.x)
					characterobject.pth = 0;
				else
					characterobject.pth = 1;
			} else
			if(characterobject.c4 == 100)
			{
				if((l20 -= 10) <= characterobject.c3 - 160)
				{
					l20 = characterobject.c3 - 160;
					characterobject.c4 = 150;
				}
				characterobject.pt = 155 + this.g_ac;
				characterobject.pth = 0;
			} else
			if(characterobject.c4 == 150)
			{
				if((l20 += 4) >= characterobject.c3)
				{
					l20 = characterobject.c3;
					characterobject.c4 = 0;
				}
				characterobject.pt = 155 + this.g_ac;
				characterobject.pth = 1;
			} else
			if(characterobject.c4 == 200)
			{
				if((l20 += 10) >= characterobject.c3 + 160)
				{
					l20 = characterobject.c3 + 160;
					characterobject.c4 = 250;
				}
				characterobject.pt = 155 + this.g_ac;
				characterobject.pth = 1;
			} else
			if(characterobject.c4 == 250)
			{
				if((l20 -= 4) <= characterobject.c3)
				{
					l20 = characterobject.c3;
					characterobject.c4 = 0;
				}
				characterobject.pt = 155 + this.g_ac;
				characterobject.pth = 0;
			}
			break;

		case 700: 
			if(this.ana_kazu > 0)
			{
				var j7 = 0;
				do
				{
					if(j7 > 11)
						break;
					if(this.ana_c[j7] > 0 && this.ana_y[j7] * 32 == i21 + 32 && Math.abs(this.ana_x[j7] * 32 - l20) < 32)
					{
						characterobject.c = 1300;
						l20 = this.ana_x[j7] * 32;
						break;
					}
					j7++;
				} while(true);
				if(characterobject.c == 1300)
					break;
			}
			if(characterobject.c3 != 1)
				if(characterobject.c1 > 0)
				{
					characterobject.c1++;
					if(characterobject.c1 == 2)
					{
						if(characterobject.c3 == 2)
						{
							if(Math.abs(this.co_j.x - l20) > 32 || i21 <= this.co_j.y)
								if(l20 + 8 >= this.co_j.x)
								{
									this.mSet2(l20, i21, 800, -10, -32);
									this.gs.rsAddSound(22);
								} else
								{
									this.mSet2(l20, i21, 800, 10, -32);
									this.gs.rsAddSound(22);
								}
						} else
						if(characterobject.c3 == 3)
						{
							if(Math.abs(this.co_j.x - l20) > 32 || i21 <= this.co_j.y)
								if(l20 + 8 >= this.co_j.x)
								{
									var d14 = 3.1400001049041748;
									this.mSet2(l20, i21, 731, Math.floor(Math.cos(d14) * 9), Math.floor(Math.sin(d14) * 9));
									d14 = 3.6633334159851074;
									this.mSet2(l20, i21, 731, Math.floor(Math.cos(d14) * 9), Math.floor(Math.sin(d14) * 9));
									d14 = 4.1866669654846191;
									this.mSet2(l20, i21, 731, Math.floor(Math.cos(d14) * 9), Math.floor(Math.sin(d14) * 9));
									this.gs.rsAddSound(11);
								} else
								{
									var d15 = 0.0;
									this.mSet2(l20, i21, 731, Math.floor(Math.cos(d15) * 9), Math.floor(Math.sin(d15) * 9));
									d15 = 5.7566671371459961;
									this.mSet2(l20, i21, 731, Math.floor(Math.cos(d15) * 9), Math.floor(Math.sin(d15) * 9));
									d15 = 5.2333335876464844;
									this.mSet2(l20, i21, 731, Math.floor(Math.cos(d15) * 9), Math.floor(Math.sin(d15) * 9));
									this.gs.rsAddSound(11);
								}
						} else
						if(characterobject.c3 == 4)
						{
							if(Math.abs(this.co_j.x - l20) > 32 || i21 <= this.co_j.y)
								if(l20 + 8 >= this.co_j.x)
								{
									this.mSet2(l20, i21, 810, -12, 0);
									this.gs.rsAddSound(22);
								} else
								{
									this.mSet2(l20, i21, 810, 12, 0);
									this.gs.rsAddSound(22);
								}
						} else
						if(l20 + 8 >= this.co_j.x)
						{
							this.mSet(l20, i21, 300);
							if(Math.abs(i21 - this.co_j.y) <= 288)
								this.gs.rsAddSound(14);
						} else
						{
							this.mSet(l20, i21, 305);
							if(Math.abs(i21 - this.co_j.y) <= 288)
								this.gs.rsAddSound(14);
						}
					} else
					if(characterobject.c3 != 2 && characterobject.c3 != 3 && characterobject.c1 > 40)
						characterobject.c1 = 0;
					else
					if(characterobject.c1 > 52)
						characterobject.c1 = 0;
				} else
				if(l20 >= this.maps.wx && l20 <= (this.maps.wx + 512) - 32 && this.co_j.x >= l20 - 256 && this.co_j.x <= l20 + 192 && Math.abs(this.co_j.x - l20) >= 96)
					characterobject.c1 = 1;
			characterobject.pt = 158;
			if(l20 + 8 >= this.co_j.x)
				characterobject.pth = 0;
			else
				characterobject.pth = 1;
			break;

		case 710: 
			if(this.ana_kazu > 0)
			{
				var k7 = 0;
				do
				{
					if(k7 > 11)
						break;
					if(this.ana_c[k7] > 0 && this.ana_y[k7] * 32 == i21 + 32 && Math.abs(this.ana_x[k7] * 32 - l20) < 32)
					{
						characterobject.c = 1300;
						l20 = this.ana_x[k7] * 32;
						break;
					}
					k7++;
				} while(true);
				if(characterobject.c == 1300)
					break;
			}
			if(characterobject.c1 <= 0)
			{
				if(l20 >= this.maps.wx && l20 <= (this.maps.wx + 512) - 32 && i21 >= this.maps.wy && i21 <= (this.maps.wy + 320) - 32 && this.co_j.x >= l20 - 320 && this.co_j.x <= l20 + 192 && Math.abs(this.co_j.x - l20) >= 64 && Math.abs(this.co_j.y - i21) <= 128)
					if(characterobject.c3 == 0)
						characterobject.c1 = 1;
					else
						characterobject.c1 = 100;
			} else
			if(characterobject.c1 == 1)
			{
				if(l20 + 8 >= this.co_j.x)
				{
					this.mSet(l20, i21, 300);
					this.gs.rsAddSound(14);
				} else
				{
					this.mSet(l20, i21, 305);
					this.gs.rsAddSound(14);
				}
				characterobject.c1 = 300;
			} else
			if(characterobject.c1 >= 100 && characterobject.c1 < 200)
			{
				characterobject.c1++;
				if(characterobject.c1 == 101)
					this.gs.rsAddSound(14);
				if(Math.abs(this.co_j.x - l20) >= 48 && (characterobject.c1 == 101 || characterobject.c1 == 109 || characterobject.c1 == 117))
					if(l20 + 8 >= this.co_j.x)
						this.mSet(l20, i21, 300);
					else
						this.mSet(l20, i21, 305);
				if(characterobject.c1 >= 125)
					characterobject.c1 = 300;
			} else
			{
				characterobject.c1++;
				if(characterobject.c1 > 335)
					characterobject.c1 = 0;
			}
			characterobject.pt = 158;
			if(l20 + 8 >= this.co_j.x)
				characterobject.pth = 0;
			else
				characterobject.pth = 1;
			break;

		case 720: 
			if(this.ana_kazu > 0)
			{
				var l7 = 0;
				do
				{
					if(l7 > 11)
						break;
					if(this.ana_c[l7] > 0 && this.ana_y[l7] * 32 == i21 + 32 && Math.abs(this.ana_x[l7] * 32 - l20) < 32)
					{
						characterobject.c = 1300;
						l20 = this.ana_x[l7] * 32;
						break;
					}
					l7++;
				} while(true);
				if(characterobject.c == 1300)
					break;
			}
			if(characterobject.c1 <= 0)
			{
				if(l20 >= this.maps.wx - 16 && l20 <= (this.maps.wx + 512) - 32 && i21 >= this.maps.wy && i21 <= (this.maps.wy + 320) - 32 && this.co_j.x >= l20 - 352 && this.co_j.x <= l20 - 72 && Math.abs(this.co_j.y - i21) < 64)
				{
					this.mSet2(l20, i21, 77, i, 0);
					this.gs.rsAddSound(14);
					characterobject.c1 = 300;
				}
			} else
			{
				characterobject.c1++;
				if(characterobject.c1 > 380)
					characterobject.c1 = 0;
			}
			characterobject.pt = 158;
			characterobject.pth = 0;
			break;

		case 725: 
			if(this.ana_kazu > 0)
			{
				var i8 = 0;
				do
				{
					if(i8 > 11)
						break;
					if(this.ana_c[i8] > 0 && this.ana_y[i8] * 32 == i21 + 32 && Math.abs(this.ana_x[i8] * 32 - l20) < 32)
					{
						characterobject.c = 1300;
						l20 = this.ana_x[i8] * 32;
						break;
					}
					i8++;
				} while(true);
				if(characterobject.c == 1300)
					break;
			}
			if(characterobject.c1 <= 0)
			{
				if(l20 >= this.maps.wx - 16 - 144 && l20 <= (this.maps.wx + 512) - 32 && i21 >= this.maps.wy && i21 <= (this.maps.wy + 320) - 32 && this.co_j.x <= l20 + 352 && this.co_j.x >= l20 + 72 && Math.abs(this.co_j.y - i21) < 32)
				{
					this.mSet2(l20, i21, 87, i, 0);
					this.gs.rsAddSound(14);
					characterobject.c1 = 300;
				}
			} else
			{
				characterobject.c1++;
				if(characterobject.c1 > 380)
					characterobject.c1 = 0;
			}
			characterobject.pt = 158;
			characterobject.pth = 1;
			break;

		case 800: 
			if(this.ana_kazu > 0)
			{
				var j8 = 0;
				do
				{
					if(j8 > 11)
						break;
					if(this.ana_c[j8] > 0 && this.ana_y[j8] * 32 == i21 + 32 && Math.abs(this.ana_x[j8] * 32 - l20) < 32)
					{
						characterobject.c = 1300;
						l20 = this.ana_x[j8] * 32;
						break;
					}
					j8++;
				} while(true);
				if(characterobject.c == 1300)
					break;
			}
			if(characterobject.c1 > 0)
			{
				characterobject.c1++;
				if(characterobject.c1 == 2)
				{
					if(characterobject.c4 == 1)
					{
						if(l20 + 8 >= this.co_j.x)
						{
							var d16 = 3.1400001049041748;
							this.mSet2(l20, i21, 731, Math.floor(Math.cos(d16) * 9), Math.floor(Math.sin(d16) * 9));
							d16 = 3.6633334159851074;
							this.mSet2(l20, i21, 731, Math.floor(Math.cos(d16) * 9), Math.floor(Math.sin(d16) * 9));
							d16 = 4.1866669654846191;
							this.mSet2(l20, i21, 731, Math.floor(Math.cos(d16) * 9), Math.floor(Math.sin(d16) * 9));
							this.gs.rsAddSound(11);
						} else
						{
							var d17 = 0.0;
							this.mSet2(l20, i21, 731, Math.floor(Math.cos(d17) * 9), Math.floor(Math.sin(d17) * 9));
							d17 = 5.7566671371459961;
							this.mSet2(l20, i21, 731, Math.floor(Math.cos(d17) * 9), Math.floor(Math.sin(d17) * 9));
							d17 = 5.2333335876464844;
							this.mSet2(l20, i21, 731, Math.floor(Math.cos(d17) * 9), Math.floor(Math.sin(d17) * 9));
							this.gs.rsAddSound(11);
						}
					} else
					if(characterobject.c4 == 2)
					{
						this.mSet(l20, i21, 100);
						this.gs.rsAddSound(10);
						characterobject.c1 = 12;
					} else
					if(characterobject.c4 == 3)
					{
						if(l20 + 8 >= this.co_j.x)
						{
							this.mSet2(l20 - 16, i21, 732, -10, 0);
							if(Math.abs(i21 - this.co_j.y) <= 288)
								this.gs.rsAddSound(15);
						} else
						{
							this.mSet2(l20 + 16, i21, 732, 10, 0);
							if(Math.abs(i21 - this.co_j.y) <= 288)
								this.gs.rsAddSound(15);
						}
						characterobject.c1 = 12;
					} else
					if(characterobject.c4 == 4)
					{
						for(var k8 = 0; k8 <= 300; k8 += 90)
						{
							this.mSet2(l20, i21, 950, k8, 0);
							this.mSet2(l20, i21, 960, 300 - k8, 0);
							this.gs.rsAddSound(18);
						}

					} else
					if(l20 + 8 >= this.co_j.x)
					{
						this.mSet(l20, i21, 400);
						if(Math.abs(i21 - this.co_j.y) <= 288)
							this.gs.rsAddSound(15);
					} else
					{
						this.mSet(l20, i21, 405);
						if(Math.abs(i21 - this.co_j.y) <= 288)
							this.gs.rsAddSound(15);
					}
				} else
				if(characterobject.c1 > 20)
				{
					characterobject.c = 810;
					characterobject.c1 = 0;
				}
			} else
			if(characterobject.c1 < 0)
				characterobject.c1++;
			else
			if(this.co_j.x >= l20 - 240 && this.co_j.x <= l20 + 240)
				characterobject.c1 = 1;
			characterobject.pt = 160;
			if(l20 + 8 >= this.co_j.x)
				characterobject.pth = 0;
			else
				characterobject.pth = 1;
			break;

		case 810: 
			if(this.ana_kazu > 0)
			{
				var l8 = 0;
				do
				{
					if(l8 > 11)
						break;
					if(this.ana_c[l8] > 0 && this.ana_y[l8] * 32 == i21 + 32 && Math.abs(this.ana_x[l8] * 32 - l20) < 32)
					{
						characterobject.c = 1300;
						l20 = this.ana_x[l8] * 32;
						break;
					}
					l8++;
				} while(true);
				if(characterobject.c == 1300)
					break;
			}
			if(characterobject.c1 <= 0)
			{
				if((l20 += 3) >= characterobject.c3 + 96)
				{
					l20 = characterobject.c3 + 96;
					characterobject.c1 = 10;
				}
				if(this.maps.getBGCode(l20 + 31, i21 + 32) <= 9)
				{
					l20 = rightShiftIgnoreSign(l20 + 31, 5) * 32 - 32;
					characterobject.c1 = 10;
				}
				characterobject.pt = 161 + this.g_ac;
				characterobject.pth = 1;
			} else
			if(characterobject.c4 != 4 && characterobject.c1 <= 35 || characterobject.c1 <= 50)
			{
				characterobject.c1++;
				if(characterobject.c1 == 15)
					if(characterobject.c4 == 1)
					{
						if(l20 + 8 >= this.co_j.x)
						{
							var d18 = 3.1400001049041748;
							this.mSet2(l20, i21, 731, Math.floor(Math.cos(d18) * 9), Math.floor(Math.sin(d18) * 9));
							d18 = 3.6633334159851074;
							this.mSet2(l20, i21, 731, Math.floor(Math.cos(d18) * 9), Math.floor(Math.sin(d18) * 9));
							d18 = 4.1866669654846191;
							this.mSet2(l20, i21, 731, Math.floor(Math.cos(d18) * 9), Math.floor(Math.sin(d18) * 9));
							this.gs.rsAddSound(11);
						} else
						{
							var d19 = 0.0;
							this.mSet2(l20, i21, 731, Math.floor(Math.cos(d19) * 9), Math.floor(Math.sin(d19) * 9));
							d19 = 5.7566671371459961;
							this.mSet2(l20, i21, 731, Math.floor(Math.cos(d19) * 9), Math.floor(Math.sin(d19) * 9));
							d19 = 5.2333335876464844;
							this.mSet2(l20, i21, 731, Math.floor(Math.cos(d19) * 9), Math.floor(Math.sin(d19) * 9));
							this.gs.rsAddSound(11);
						}
					} else
					if(characterobject.c4 == 2)
					{
						this.mSet(l20, i21, 100);
						this.gs.rsAddSound(10);
					} else
					if(characterobject.c4 == 3)
					{
						if(l20 + 8 >= this.co_j.x)
						{
							this.mSet2(l20 - 16, i21, 732, -10, 0);
							if(Math.abs(i21 - this.co_j.y) <= 288)
								this.gs.rsAddSound(15);
						} else
						{
							this.mSet2(l20 + 16, i21, 732, 10, 0);
							if(Math.abs(i21 - this.co_j.y) <= 288)
								this.gs.rsAddSound(15);
						}
					} else
					if(characterobject.c4 == 4)
					{
						for(var i9 = 0; i9 <= 300; i9 += 90)
						{
							this.mSet2(l20, i21, 950, i9, 0);
							this.mSet2(l20, i21, 960, 300 - i9, 0);
							this.gs.rsAddSound(18);
						}

					} else
					if(l20 + 8 >= this.co_j.x)
					{
						this.mSet(l20, i21, 400);
						this.gs.rsAddSound(15);
					} else
					{
						this.mSet(l20, i21, 405);
						this.gs.rsAddSound(15);
					}
				characterobject.pt = 160;
				if(l20 + 8 >= this.co_j.x)
					characterobject.pth = 0;
				else
					characterobject.pth = 1;
			} else
			{
				if((l20 -= 3) <= characterobject.c3)
				{
					l20 = characterobject.c3;
					characterobject.c = 800;
					characterobject.c1 = -20;
				}
				if(this.maps.getBGCode(l20, i21 + 32) <= 9)
				{
					l20 = rightShiftIgnoreSign(l20, 5) * 32 + 32;
					characterobject.c = 800;
					characterobject.c1 = -20;
				}
				characterobject.pt = 161 + this.g_ac;
				characterobject.pth = 0;
			}
			break;

		case 850: 
			characterobject.pt = 160;
			characterobject.pth = 0;
			if(characterobject.c1 <= 0)
			{
				if((l20 -= 4) - this.maps.wx <= 400)
				{
					l20 = this.maps.wx + 384 + 16;
					characterobject.c1 = 2;
				}
				characterobject.pt = 161 + this.g_ac;
				characterobject.pth = 0;
			} else
			if(characterobject.c1 <= 20)
			{
				characterobject.c1++;
				if(characterobject.c1 == 8)
				{
					var d20 = 3.1400001049041748;
					var k29 = Math.floor(Math.cos(d20) * 12);
					var i33 = Math.floor(Math.sin(d20) * 12) * -1;
					this.mSet2(l20, i21, 730, k29, i33);
					d20 = 2.7038888931274414;
					k29 = Math.floor(Math.cos(d20) * 12);
					i33 = Math.floor(Math.sin(d20) * 12) * -1;
					this.mSet2(l20, i21, 730, k29, i33);
					d20 = 2.2677779197692871;
					k29 = Math.floor(Math.cos(d20) * 12);
					i33 = Math.floor(Math.sin(d20) * 12) * -1;
					this.mSet2(l20, i21, 730, k29, i33);
					d20 = 3.5761110782623291;
					k29 = Math.floor(Math.cos(d20) * 12);
					i33 = Math.floor(Math.sin(d20) * 12) * -1;
					this.mSet2(l20, i21, 730, k29, i33);
					d20 = 4.0122222900390625;
					k29 = Math.floor(Math.cos(d20) * 12);
					i33 = Math.floor(Math.sin(d20) * 12) * -1;
					this.mSet2(l20, i21, 730, k29, i33);
					this.gs.rsAddSound(18);
				}
			} else
			{
				if((l20 += 6) - this.maps.wx >= 512)
					characterobject.c = 0;
				characterobject.pt = 161 + this.g_ac;
				characterobject.pth = 1;
			}
			break;

		case 900: 
			if((l20 -= 4) < 48)
			{
				if(l20 <= 4)
					characterobject.c = 0;
			} else
			{
				characterobject.c1++;
				if(characterobject.c1 == 1)
					this.mSet(l20, i21 + 19, 600);
				else
				if(characterobject.c1 > 26)
					characterobject.c1 = 0;
				if(this.maps.getBGCode(l20, i21 + 31) >= 15)
				{
					l20 = rightShiftIgnoreSign(l20, 5) * 32 + 32;
					characterobject.c = 910;
				}
			}
			characterobject.pt = 164;
			characterobject.pth = 0;
			break;

		case 910: 
			characterobject.pt = 164;
			characterobject.pth = 0;
			break;

		case 920: 
			if(characterobject.c1 <= 0)
			{
				if(l20 >= this.maps.wx && l20 <= (this.maps.wx + 512) - 32 && i21 <= (this.maps.wy + 320) - 32 && this.co_j.x >= l20 - 256 && this.co_j.x <= l20 + 256 && this.co_j.y >= i21 + 16)
					characterobject.c1 = 1;
			} else
			if(characterobject.c1 == 1)
			{
				if(characterobject.c3 == 1)
					this.mSet2(l20, i21, 800, 0, 0);
				else
					this.mSet(l20, i21 + 19, 606);
				characterobject.c1 = 2;
			} else
			{
				characterobject.c1++;
				if(characterobject.c1 > 30)
					characterobject.c1 = 0;
			}
			characterobject.pt = 164;
			if(this.co_j.x <= l20 + 8 || this.j_tokugi == 14)
				characterobject.pth = 0;
			else
				characterobject.pth = 1;
			break;

		case 930: 
			if(characterobject.c4 < 20)
			{
				characterobject.c4++;
				characterobject.pt = 164;
				characterobject.pth = 0;
				if(characterobject.c4 < 10)
					characterobject.pth = 1;
			} else
			if(characterobject.c4 == 20)
			{
				if(((l20 -= 4) == characterobject.c3 - 4 || l20 == characterobject.c3 - 4 - 64 || l20 == characterobject.c3 - 4 - 128) && l20 >= this.maps.wx && l20 <= (this.maps.wx + 512) - 32 && i21 <= (this.maps.wy + 320) - 32 && this.co_j.y >= i21 + 16)
					this.mSet(l20 + 2, i21, 600);
				if(l20 <= characterobject.c3 - 160)
				{
					l20 = characterobject.c3 - 160;
					characterobject.c4 = 30;
				}
				characterobject.pt = 164;
				characterobject.pth = 0;
			} else
			if(characterobject.c4 < 50)
			{
				characterobject.c4++;
				characterobject.pt = 164;
				characterobject.pth = 1;
				if(characterobject.c4 < 40)
					characterobject.pth = 0;
			} else
			if(characterobject.c4 == 50)
			{
				if(((l20 += 4) == (characterobject.c3 + 4) - 32 || l20 == (characterobject.c3 + 4) - 96) && l20 >= this.maps.wx && l20 <= (this.maps.wx + 512) - 32 && i21 <= (this.maps.wy + 320) - 32 && this.co_j.y >= i21 + 16)
					this.mSet(l20 - 2, i21, 605);
				if(l20 >= characterobject.c3)
				{
					l20 = characterobject.c3;
					characterobject.c4 = 0;
				}
				characterobject.pt = 164;
				characterobject.pth = 1;
			}
			break;

		case 950: 
			if((l20 -= 4) < 48)
			{
				if(l20 <= 4)
					characterobject.c = 0;
			} else
			{
				characterobject.c1++;
				if(characterobject.c1 == 1)
					this.mSet(l20, i21 + 19, 600);
				else
				if(characterobject.c1 > 26)
					characterobject.c1 = 0;
				if(this.maps.getBGCode(l20 - 16, i21 + 31) >= 15)
				{
					l20 = rightShiftIgnoreSign(l20 - 16, 5) * 32 + 32 + 16;
					characterobject.c = 960;
					characterobject.c1 = 16;
				}
			}
			characterobject.pt = 164;
			characterobject.pth = 0;
			break;

		case 960: 
			l20 += 4;
			characterobject.c1++;
			if(characterobject.c1 == 1)
				this.mSet(l20, i21 + 19, 605);
			else
			if(characterobject.c1 > 26)
				characterobject.c1 = 0;
			if(this.maps.getBGCode(l20 + 31 + 16, i21 + 31) >= 15)
			{
				l20 = rightShiftIgnoreSign(l20 + 31 + 16, 5) * 32 - 32 - 16;
				characterobject.c = 950;
				characterobject.c1 = 16;
			}
			characterobject.pt = 164;
			characterobject.pth = 1;
			break;

		case 1000: 
			if((l20 -= 3) <= (characterobject.c3 - 256) + 16)
				characterobject.c = 1005;
			if(this.maps.getBGCode(l20 - 16, i21) >= 15 || this.maps.getBGCode(l20 - 16, i21 + 31) >= 15)
			{
				l20 = rightShiftIgnoreSign(l20 - 16, 5) * 32 + 32 + 16;
				characterobject.c = 1005;
			}
			characterobject.pt = 166;
			characterobject.pth = 0;
			break;

		case 1002: 
			if((l20 -= 3) <= this.maps.wx - 32)
				characterobject.c = 0;
			if(l20 >= this.maps.wx + 64 + 24 && l20 <= (this.maps.wx + 512) - 64)
			{
				characterobject.c1++;
				if(characterobject.c1 > 30)
					characterobject.c1 = 0;
				if(characterobject.c1 == 1)
					this.mSet(l20, i21, 150);
			}
			characterobject.pt = 166;
			characterobject.pth = 0;
			break;

		case 1003: 
			if(l20 >= this.maps.wx + 64 + 24 && l20 <= (this.maps.wx + 512) - 64)
			{
				characterobject.c1++;
				if(characterobject.c1 > 30)
					characterobject.c1 = 0;
				if(characterobject.c1 == 1)
					this.mSet(l20, i21, 150);
			}
			characterobject.pt = 166;
			characterobject.pth = 0;
			break;

		case 1005: 
			if((l20 += 3) >= characterobject.c3 + 16)
				characterobject.c = 1000;
			if(this.maps.getBGCode(l20 + 31 + 16, i21) >= 15 || this.maps.getBGCode(l20 + 31 + 16, i21 + 31) >= 15)
			{
				l20 = rightShiftIgnoreSign(l20 + 31 + 16, 5) * 32 - 32 - 16;
				characterobject.c = 1000;
			}
			characterobject.pt = 166;
			characterobject.pth = 1;
			break;

		case 1050: 
			characterobject.pt = 166;
			if(this.co_j.x <= l20 + 8 || this.j_tokugi == 14)
				characterobject.pth = 0;
			else
				characterobject.pth = 1;
			if(characterobject.c1 <= 0)
			{
				var j28 = this.maps.getBGCode(l20 + 15, i21 + 32);
				if(j28 == 18 || j28 == 19)
					i21 = this.getSakamichiY(l20 + 15, i21 + 32);
				if(this.co_j.x >= l20 - 136 && this.co_j.x <= l20 + 136)
				{
					characterobject.vy = -26;
					characterobject.c1 = 100;
				}
			} else
			if(characterobject.c1 == 100)
			{
				characterobject.vy += 2;
				if(characterobject.vy > 18)
					characterobject.vy = 18;
				if(characterobject.vy < -22)
					i21 -= 22;
				else
					i21 += characterobject.vy;
				if(characterobject.vy < 0 && this.maps.getBGCode(l20 + 15, i21) >= 18)
				{
					i21 = rightShiftIgnoreSign(i21, 5) * 32 + 32;
					characterobject.vy = 0;
				}
				var k40 = this.maps.getBGCode(l20 + 15, i21 + 31);
				if(k40 >= 20 || k40 == 10 || k40 == 15)
				{
					i21 = rightShiftIgnoreSign(i21 + 31, 5) * 32 - 32;
					characterobject.c1 = 200;
				}
				if(k40 == 18 || k40 == 19)
				{
					if(i21 >= this.getSakamichiY(l20 + 15, i21 + 31))
					{
						i21 = this.getSakamichiY(l20 + 15, i21 + 31);
						characterobject.c1 = 200;
					}
				} else
				if(rightShiftIgnoreSign(i21 + 31, 5) > rightShiftIgnoreSign(characterobject.y + 31, 5))
				{
					var l40 = this.maps.getBGCode(l20 + 15, characterobject.y + 31);
					if(l40 == 18 || l40 == 19)
					{
						i21 = rightShiftIgnoreSign(characterobject.y + 31, 5) * 32;
						i21 = this.getSakamichiY(l20 + 15, i21 + 31);
						characterobject.c1 = 200;
					}
				}
			} else
			if(characterobject.c1 >= 200)
			{
				characterobject.c1++;
				if(characterobject.c1 > 210)
					characterobject.c1 = 0;
			}
			if(i21 >= this.ochiru_y)
				characterobject.c = 0;
			break;

		case 1060: 
			characterobject.pt = 166;
			characterobject.pth = 0;
			if(characterobject.c1 <= 0)
			{
				if(l20 < this.co_j.x)
					characterobject.pth = 1;
				if(this.co_j.c >= 100 && this.co_j.c < 200 && (characterobject.c3 - 160) + 16 <= this.co_j.x && (characterobject.c3 + 128) - 16 >= this.co_j.x && (characterobject.c4 - 128) + 16 <= this.co_j.y && (characterobject.c4 + 128) - 16 >= this.co_j.y)
				{
					characterobject.c1 = 100;
					if(l20 > this.co_j.x)
					{
						if(this.maps.getBGCode(l20 - 1, i21 + 15) >= 18)
							characterobject.c1 = 0;
					} else
					if(l20 < this.co_j.x && this.maps.getBGCode(l20 + 32, i21 + 15) >= 18)
						characterobject.c1 = 0;
					if(i21 > this.co_j.y)
					{
						if(this.maps.getBGCode(l20 + 15, i21 - 1) >= 18)
							characterobject.c1 = 0;
					} else
					if(i21 < this.co_j.y && this.maps.getBGCode(l20 + 15, i21 + 32) >= 18)
						characterobject.c1 = 0;
				}
			} else
			if(characterobject.c1 == 100)
			{
				if(l20 > this.co_j.x)
				{
					if(this.maps.getBGCode(l20 - 1, i21 + 15) >= 18)
						characterobject.c1 = 200;
				} else
				if(l20 < this.co_j.x && this.maps.getBGCode(l20 + 32, i21 + 15) >= 18)
					characterobject.c1 = 200;
				if(i21 > this.co_j.y)
				{
					if(this.maps.getBGCode(l20 + 15, i21 - 1) >= 18)
						characterobject.c1 = 200;
				} else
				if(i21 < this.co_j.y && this.maps.getBGCode(l20 + 15, i21 + 32) >= 18)
					characterobject.c1 = 200;
				if(characterobject.c1 == 200)
				{
					if(l20 < characterobject.c3)
						characterobject.pth = 1;
					if(l20 == characterobject.c3 && l20 < this.co_j.x)
						characterobject.pth = 1;
				} else
				{
					if(l20 < this.co_j.x)
						characterobject.pth = 1;
					if(Math.abs(l20 - this.co_j.x) <= 3)
						l20 = this.co_j.x;
					else
					if(l20 < this.co_j.x)
						l20 += 3;
					else
					if(l20 > this.co_j.x)
						l20 -= 3;
					if(Math.abs(i21 - this.co_j.y) <= 2)
						i21 = this.co_j.y;
					else
					if(i21 < this.co_j.y)
						i21 += 2;
					else
					if(i21 > this.co_j.y)
						i21 -= 2;
					if(characterobject.c3 - 160 > this.co_j.x || characterobject.c3 + 128 < this.co_j.x || characterobject.c4 - 128 > this.co_j.y || characterobject.c4 + 128 < this.co_j.y)
						characterobject.c1 = 200;
					if(this.co_j.c < 100 || this.co_j.c >= 200)
						characterobject.c1 = 200;
				}
			} else
			if(characterobject.c1 == 200)
			{
				if(l20 < characterobject.c3)
					characterobject.pth = 1;
				if(l20 == characterobject.c3 && l20 < this.co_j.x)
					characterobject.pth = 1;
				if(Math.abs(l20 - characterobject.c3) <= 3)
					l20 = characterobject.c3;
				else
				if(l20 < characterobject.c3)
					l20 += 3;
				else
				if(l20 > characterobject.c3)
					l20 -= 3;
				if(Math.abs(i21 - characterobject.c4) <= 2)
					i21 = characterobject.c4;
				else
				if(i21 < characterobject.c4)
					i21 += 2;
				else
				if(i21 > characterobject.c4)
					i21 -= 2;
				if(l20 == characterobject.c3 && i21 == characterobject.c4)
					characterobject.c1 = 0;
			}
			break;

		case 1070: 
			characterobject.c1 -= 5;
			if(characterobject.c1 < 0)
				characterobject.c1 += 360;
			l20 = characterobject.c3 + Math.floor(Math.cos((characterobject.c1 * 3.14) / 180) * 64);
			i21 = characterobject.c4 + Math.floor(Math.sin((characterobject.c1 * 3.14) / 180) * 64);
			characterobject.pt = 166;
			if(characterobject.c1 < 180)
				characterobject.pth = 1;
			else
				characterobject.pth = 0;
			break;

		case 1080: 
			characterobject.c1 += 5;
			if(characterobject.c1 >= 360)
				characterobject.c1 -= 360;
			l20 = characterobject.c3 + Math.floor(Math.cos((characterobject.c1 * 3.14) / 180) * 64);
			i21 = characterobject.c4 + Math.floor(Math.sin((characterobject.c1 * 3.14) / 180) * 64);
			characterobject.pt = 166;
			if(characterobject.c1 < 180)
				characterobject.pth = 0;
			else
				characterobject.pth = 1;
			break;

		case 1100: 
			if(characterobject.c1 > 0)
			{
				characterobject.c1++;
				if(characterobject.c1 > 77)
					characterobject.c1 = 0;
			} else
			if(Math.abs(this.co_j.x - l20) <= 144 && Math.abs(this.co_j.y - i21) <= 144)
			{
				characterobject.c1 = 1;
				this.mSet2(l20, i21, 700, -3, -3);
				this.mSet2(l20, i21, 700, 3, -3);
				this.mSet2(l20, i21, 700, -3, 3);
				this.mSet2(l20, i21, 700, 3, 3);
				this.mSet2(l20, i21, 700, -4, 0);
				this.mSet2(l20, i21, 700, 4, 0);
				this.mSet2(l20, i21, 700, 0, -4);
				this.mSet2(l20, i21, 700, 0, 4);
			}
			characterobject.pt = 167;
			if(l20 + 8 >= this.co_j.x)
				characterobject.pth = 0;
			else
				characterobject.pth = 1;
			break;

		case 1102: 
			if(l20 <= this.maps.wx - 32)
				characterobject.c = 0;
			if(l20 >= this.maps.wx + 112 && l20 <= (this.maps.wx + 512) - 64)
			{
				characterobject.c1++;
				if(characterobject.c1 > 50)
					characterobject.c1 = 0;
				if(characterobject.c1 == 1 && (this.maps.getBGCode(l20 + 15, i21 + 32) < 20 || this.co_j.y <= i21 + 8) && (this.maps.getBGCode(l20 + 15, i21 - 1) < 20 || this.co_j.y >= i21 - 8))
					this.mSet(l20, i21, 150);
			}
			characterobject.pt = 167;
			characterobject.pth = 0;
			break;

		case 1103: 
			if(l20 <= this.maps.wx - 32)
				characterobject.c = 0;
			if(l20 >= this.maps.wx + 112 && l20 <= (this.maps.wx + 512) - 64)
			{
				characterobject.c1++;
				if(characterobject.c1 > 50)
					characterobject.c1 = 0;
				if(characterobject.c1 == 1)
				{
					for(var j9 = 0; j9 <= 315; j9 += 45)
					{
						var d21 = (j9 * 3.14) / 180;
						var l29 = Math.floor(Math.cos(d21) * 12);
						var j33 = Math.floor(Math.sin(d21) * 12) * -1;
						this.mSet2(l20, i21, 730, l29, j33);
					}

				}
			}
			characterobject.pt = 167;
			characterobject.pth = 0;
			break;

		case 1150: 
			characterobject.pt = 167;
			if(this.co_j.x <= l20 + 8 || this.j_tokugi == 14)
				characterobject.pth = 0;
			else
				characterobject.pth = 1;
			if(characterobject.c1 <= 0)
			{
				var k28 = this.maps.getBGCode(l20 + 15, i21 + 32);
				if(k28 == 18 || k28 == 19)
					i21 = this.getSakamichiY(l20 + 15, i21 + 32);
				if(this.co_j.x >= l20 - 128 && this.co_j.x <= l20 + 128 && i21 + 32 <= this.co_j.y)
				{
					characterobject.vy = 2;
					characterobject.c1 = 100;
				}
			} else
			if(characterobject.c1 == 100)
			{
				characterobject.vy++;
				if(characterobject.vy > 16)
					characterobject.vy = 16;
				if(characterobject.vy < -22)
					i21 -= 22;
				else
					i21 += characterobject.vy;
				if(characterobject.vy < 0 && this.maps.getBGCode(l20 + 15, i21) >= 18)
				{
					i21 = rightShiftIgnoreSign(i21, 5) * 32 + 32;
					characterobject.vy = 0;
				}
				var i41 = this.maps.getBGCode(l20 + 15, i21 + 31);
				if(i41 >= 20 || i41 == 10 || i41 == 15)
				{
					i21 = rightShiftIgnoreSign(i21 + 31, 5) * 32 - 32;
					characterobject.c1 = 200;
				}
				if(i41 == 18 || i41 == 19)
				{
					if(i21 >= this.getSakamichiY(l20 + 15, i21 + 31))
					{
						i21 = this.getSakamichiY(l20 + 15, i21 + 31);
						characterobject.c1 = 200;
					}
				} else
				if(rightShiftIgnoreSign(i21 + 31, 5) > rightShiftIgnoreSign(characterobject.y + 31, 5))
				{
					var j41 = this.maps.getBGCode(l20 + 15, characterobject.y + 31);
					if(j41 == 18 || j41 == 19)
					{
						i21 = rightShiftIgnoreSign(characterobject.y + 31, 5) * 32;
						i21 = this.getSakamichiY(l20 + 15, i21 + 31);
						characterobject.c1 = 200;
					}
				}
			} else
			if(characterobject.c1 >= 200)
			{
				characterobject.c1++;
				if(characterobject.c1 > 210)
					characterobject.c1 = 0;
			}
			if(i21 >= this.ochiru_y)
				characterobject.c = 0;
			break;

		case 1160: 
			characterobject.pt = 167;
			characterobject.pth = 0;
			if(characterobject.c1 <= 0)
			{
				if(l20 < this.co_j.x)
					characterobject.pth = 1;
				if(this.co_j.c >= 100 && this.co_j.c < 200 && (characterobject.c3 - 160) + 16 <= this.co_j.x && (characterobject.c3 + 128) - 16 >= this.co_j.x && (characterobject.c4 - 128) + 16 <= this.co_j.y && (characterobject.c4 + 128) - 16 >= this.co_j.y)
				{
					characterobject.c1 = 100;
					if(l20 > this.co_j.x)
					{
						if(this.maps.getBGCode(l20 - 1, i21 + 15) >= 18)
							characterobject.c1 = 0;
					} else
					if(l20 < this.co_j.x && this.maps.getBGCode(l20 + 32, i21 + 15) >= 18)
						characterobject.c1 = 0;
					if(i21 > this.co_j.y)
					{
						if(this.maps.getBGCode(l20 + 15, i21 - 1) >= 18)
							characterobject.c1 = 0;
					} else
					if(i21 < this.co_j.y && this.maps.getBGCode(l20 + 15, i21 + 32) >= 18)
						characterobject.c1 = 0;
				}
			} else
			if(characterobject.c1 == 100)
			{
				if(l20 > this.co_j.x)
				{
					if(this.maps.getBGCode(l20 - 1, i21 + 15) >= 18)
						characterobject.c1 = 200;
				} else
				if(l20 < this.co_j.x && this.maps.getBGCode(l20 + 32, i21 + 15) >= 18)
					characterobject.c1 = 200;
				if(i21 > this.co_j.y)
				{
					if(this.maps.getBGCode(l20 + 15, i21 - 1) >= 18)
						characterobject.c1 = 200;
				} else
				if(i21 < this.co_j.y && this.maps.getBGCode(l20 + 15, i21 + 32) >= 18)
					characterobject.c1 = 200;
				if(characterobject.c1 == 200)
				{
					if(l20 < characterobject.c3)
						characterobject.pth = 1;
					if(l20 == characterobject.c3 && l20 < this.co_j.x)
						characterobject.pth = 1;
				} else
				{
					if(l20 < this.co_j.x)
						characterobject.pth = 1;
					if(Math.abs(l20 - this.co_j.x) <= 3)
						l20 = this.co_j.x;
					else
					if(l20 < this.co_j.x)
						l20 += 3;
					else
					if(l20 > this.co_j.x)
						l20 -= 3;
					if(Math.abs(i21 - this.co_j.y) <= 2)
						i21 = this.co_j.y;
					else
					if(i21 < this.co_j.y)
						i21 += 2;
					else
					if(i21 > this.co_j.y)
						i21 -= 2;
					if(characterobject.c3 - 160 > this.co_j.x || characterobject.c3 + 128 < this.co_j.x || characterobject.c4 - 128 > this.co_j.y || characterobject.c4 + 128 < this.co_j.y)
						characterobject.c1 = 200;
					if(this.co_j.c < 100 || this.co_j.c >= 200)
						characterobject.c1 = 200;
				}
			} else
			if(characterobject.c1 == 200)
			{
				if(l20 < characterobject.c3)
					characterobject.pth = 1;
				if(l20 == characterobject.c3 && l20 < this.co_j.x)
					characterobject.pth = 1;
				if(Math.abs(l20 - characterobject.c3) <= 3)
					l20 = characterobject.c3;
				else
				if(l20 < characterobject.c3)
					l20 += 3;
				else
				if(l20 > characterobject.c3)
					l20 -= 3;
				if(Math.abs(i21 - characterobject.c4) <= 2)
					i21 = characterobject.c4;
				else
				if(i21 < characterobject.c4)
					i21 += 2;
				else
				if(i21 > characterobject.c4)
					i21 -= 2;
				if(l20 == characterobject.c3 && i21 == characterobject.c4)
					characterobject.c1 = 0;
			}
			break;

		case 1170: 
			characterobject.c1 -= 5;
			if(characterobject.c1 < 0)
				characterobject.c1 += 360;
			l20 = characterobject.c3 + Math.floor(Math.cos((characterobject.c1 * 3.14) / 180) * 64);
			i21 = characterobject.c4 + Math.floor(Math.sin((characterobject.c1 * 3.14) / 180) * 64);
			characterobject.pt = 167;
			if(characterobject.c1 < 180)
				characterobject.pth = 1;
			else
				characterobject.pth = 0;
			break;

		case 1180: 
			characterobject.c1 += 5;
			if(characterobject.c1 >= 360)
				characterobject.c1 -= 360;
			l20 = characterobject.c3 + Math.floor(Math.cos((characterobject.c1 * 3.14) / 180) * 64);
			i21 = characterobject.c4 + Math.floor(Math.sin((characterobject.c1 * 3.14) / 180) * 64);
			characterobject.pt = 167;
			if(characterobject.c1 < 180)
				characterobject.pth = 0;
			else
				characterobject.pth = 1;
			break;

		case 1190: 
			characterobject.pt = 167;
			characterobject.pth = 0;
			break;

		case 1200: 
			l20 -= 4;
			characterobject.muki = 0;
			characterobject.direction = 0;
			if(rightShiftIgnoreSign(l20 + 15, 5) < rightShiftIgnoreSign(l20 + 15 + 4, 5))
			{
				var k41 = this.maps.getBGCode(l20 + 4 + 15, i21 + 31);
				if(k41 == 19)
					i21 = rightShiftIgnoreSign(i21 + 31, 5) * 32 - 32;
				else
				if(k41 == 18)
					i21 = rightShiftIgnoreSign(i21 + 31, 5) * 32;
				k41 = this.maps.getBGCode(l20 + 15, i21 + 32);
				if(k41 == 18)
					i21 = this.getSakamichiY(l20 + 15, i21 + 32);
			}
			var l41 = this.maps.getBGCode(l20, i21 + 8);
			if(l41 >= 20 || l41 == 18)
			{
				l20 = rightShiftIgnoreSign(l20, 5) * 32 + 32;
				if(Math.abs(i21 - this.co_j.y) >= 32 || l20 <= this.co_j.x)
				{
					var i42 = this.maps.getBGCode(l20 + 32, i21 + 15);
					if(i42 <= 10 || i42 == 15)
					{
						characterobject.c = 1210;
						characterobject.muki = 1;
						characterobject.direction = 1;
						characterobject.pt = 140 + this.g_ac;
						var i17 = 0;
						do
						{
							if(i17 > this.t_kazu)
								break;
							if(this.co_t[i17].c > 1200 && this.co_t[i17].c <= 1210 && this.co_t[i17].x == l20 + 32 && Math.abs(this.co_t[i17].y - i21) < 32)
							{
								characterobject.c = 1200;
								break;
							}
							i17++;
						} while(true);
						break;
					}
				}
			}
			if(Math.abs(i21 - this.co_j.y) < 32 && l20 < this.co_j.x)
			{
				characterobject.c = 1210;
				characterobject.pt = 140 + this.g_ac;
			} else
			{
				var flag1 = false;
				for(var j17 = 0; j17 <= this.t_kazu; j17++)
				{
					if((this.co_t[j17].c < 1200 || this.co_t[j17].c >= 1300) && this.co_t[j17].c != 60 || j17 == i || Math.abs(this.co_t[j17].x - l20) >= 32 || Math.abs(this.co_t[j17].y - i21) >= 32)
						continue;
					if(this.co_t[j17].c == 1210)
					{
						var k33 = Math.abs(rightShiftIgnoreSign(i21 + 15, 5) - rightShiftIgnoreSign(this.co_j.y + 15, 5));
						if(k33 <= 1 || k33 >= 5)
						{
							if(l20 > this.co_j.x)
								characterobject.c = 1200;
							else
								characterobject.c = 1210;
						} else
						if(l20 < this.co_j.x)
							characterobject.c = 1200;
						else
							characterobject.c = 1210;
						var i30 = rightShiftIgnoreSign(characterobject.x + 15, 5);
						k33 = rightShiftIgnoreSign(characterobject.y + 15, 5);
						if(k33 < rightShiftIgnoreSign(this.co_j.y + 15, 5))
						{
							var k9 = 1;
							do
							{
								if(k9 > 31 || i30 + k9 >= this.mapWidth || this.maps.map_bg[i30 + k9][k33] >= 19)
									break;
								if(this.maps.map_bg[i30 + k9][k33 + 1] <= 10 || this.maps.map_bg[i30 + k9][k33 + 1] == 15)
								{
									characterobject.c = 1210;
									break;
								}
								k9++;
							} while(true);
						} else
						if(k33 > rightShiftIgnoreSign(this.co_j.y + 15, 5))
						{
							var l9 = 1;
							do
							{
								if(l9 > 31 || i30 + l9 >= this.mapWidth || this.maps.map_bg[i30 + l9][k33] >= 19)
									break;
								if(this.maps.map_bg[i30 + l9][k33] == 10)
								{
									characterobject.c = 1210;
									break;
								}
								l9++;
							} while(true);
						}
						i30 = rightShiftIgnoreSign(characterobject.x + 15, 5);
						k33 = rightShiftIgnoreSign(characterobject.y + 15, 5);
						if(k33 < rightShiftIgnoreSign(this.co_j.y + 15, 5))
						{
							var i10 = 1;
							do
							{
								if(i10 > 31 || i30 - i10 <= 0 || this.maps.map_bg[i30 - i10][k33] >= 20 || this.maps.map_bg[i30 - i10][k33] == 18)
									break;
								if(this.maps.map_bg[i30 - i10][k33 + 1] <= 10 || this.maps.map_bg[i30 - i10][k33 + 1] == 15)
								{
									characterobject.c = 1200;
									break;
								}
								i10++;
							} while(true);
						} else
						if(k33 > rightShiftIgnoreSign(this.co_j.y + 15, 5))
						{
							var j10 = 1;
							do
							{
								if(j10 > 31 || i30 - j10 <= 0 || this.maps.map_bg[i30 - j10][k33] >= 20 || this.maps.map_bg[i30 - j10][k33] == 18)
									break;
								if(this.maps.map_bg[i30 - j10][k33] == 10)
								{
									characterobject.c = 1200;
									break;
								}
								j10++;
							} while(true);
						}
						if(j17 < i && rightShiftIgnoreSign(characterobject.x, 5) * 32 != characterobject.x)
							characterobject.c = 1210;
						if(characterobject.c == 1200 && rightShiftIgnoreSign(characterobject.x, 5) * 32 != characterobject.x)
							if(k33 > rightShiftIgnoreSign(this.co_j.y + 15, 5) && this.maps.getBGCode(characterobject.x + 15, characterobject.y + 15) == 10)
							{
								characterobject.c = 1210;
								for(var k10 = 0; k10 <= this.t_kazu; k10++)
									if(this.co_t[k10].c == 1200 && Math.abs(this.co_t[k10].y - characterobject.y) <= 16 && characterobject.x <= this.co_t[k10].x)
									{
										var j20 = 0;
										do
										{
											if(j20 > this.t_kazu)
												break;
											if(this.co_t[j20].c >= 1200 && this.co_t[j20].c < 1300 && Math.abs(this.co_t[j20].y - this.co_t[k10].y) <= 16 && this.co_t[j20].x >= this.co_t[k10].x - 32 && this.co_t[j20].x < this.co_t[k10].x && k10 != j20)
											{
												this.co_t[k10].c = 1210;
												break;
											}
											j20++;
										} while(true);
									}

							} else
							if(k33 < rightShiftIgnoreSign(this.co_j.y + 15, 5) && this.maps.getBGCode(characterobject.x + 15, characterobject.y + 32 + 15) == 10)
							{
								characterobject.c = 1210;
label0:
								for(var l10 = 0; l10 <= this.t_kazu; l10++)
								{
									if(this.co_t[l10].c != 1200 || Math.abs(this.co_t[l10].y - characterobject.y) > 16 || characterobject.x > this.co_t[l10].x)
										continue;
									var k20 = 0;
									do
									{
										if(k20 > this.t_kazu)
											continue label0;
										if(this.co_t[k20].c >= 1200 && this.co_t[k20].c < 1300 && Math.abs(this.co_t[k20].y - this.co_t[l10].y) <= 16 && this.co_t[k20].x >= this.co_t[l10].x - 32 && this.co_t[k20].x < this.co_t[l10].x && l10 != k20)
										{
											this.co_t[l10].c = 1210;
											continue label0;
										}
										k20++;
									} while(true);
								}

							}
						if(rightShiftIgnoreSign(characterobject.x, 5) * 32 == characterobject.x)
							if(k33 > rightShiftIgnoreSign(this.co_j.y + 15, 5) && this.maps.getBGCode(characterobject.x + 15, characterobject.y + 15) == 10)
								characterobject.c = 1230;
							else
							if(k33 < rightShiftIgnoreSign(this.co_j.y + 15, 5) && (this.maps.getBGCode(characterobject.x + 15, characterobject.y + 32) <= 10 || this.maps.getBGCode(characterobject.x + 15, characterobject.y + 32) <= 15))
								characterobject.c = 1220;
						l20 = characterobject.x;
						flag1 = true;
						break;
					}
					if(this.co_t[j17].x < characterobject.x)
					{
						l20 = characterobject.x;
						flag1 = true;
						break;
					}
					if(this.co_t[j17].x != characterobject.x || j17 >= i)
						continue;
					l20 = characterobject.x;
					flag1 = true;
					break;
				}

				if(flag1)
				{
					characterobject.pt = 140 + this.g_ac;
					characterobject.pth = characterobject.muki;
				} else
				{
					if(rightShiftIgnoreSign(l20, 5) * 32 == l20)
					{
						var j30 = rightShiftIgnoreSign(l20 + 15, 5);
						var l33 = rightShiftIgnoreSign(i21 + 15, 5);
						if(this.maps.map_bg[j30][l33 + 1] <= 9 && this.maps.map_bg[j30][l33] != 10 || (this.maps.map_bg[j30][l33 + 1] <= 10 || this.maps.map_bg[j30][l33 + 1] == 15) && l33 < rightShiftIgnoreSign(this.co_j.y + 15, 5))
						{
							var flag2 = false;
							for(var i11 = 0; i11 <= 11; i11++)
							{
								if(this.ana_c[i11] <= 0 || this.ana_x[i11] * 32 != l20 || i21 + 32 != this.ana_y[i11] * 32)
									continue;
								var k17 = 0;
								do
								{
									if(k17 > this.t_kazu)
										break;
									if((this.co_t[k17].c >= 1200 && this.co_t[k17].c < 1300 || this.co_t[k17].c == 60) && k17 != i && l20 == this.co_t[k17].x && i21 <= this.co_t[k17].y && i21 + 32 >= this.co_t[k17].y)
									{
										flag2 = true;
										break;
									}
									k17++;
								} while(true);
								if(flag2)
									break;
							}

							var l17 = 0;
							do
							{
								if(l17 > this.t_kazu)
									break;
								if(this.co_t[l17].c >= 1200 && this.co_t[l17].c <= 1210 && l17 != i && rightShiftIgnoreSign(this.co_t[l17].x, 5) * 32 == this.co_t[l17].x && l20 == this.co_t[l17].x && i21 <= this.co_t[l17].y && i21 + 32 >= this.co_t[l17].y && this.maps.getBGCode(this.co_t[l17].x + 15, this.co_t[l17].y + 32) >= 20)
								{
									flag2 = true;
									break;
								}
								l17++;
							} while(true);
							if(!flag2)
							{
								characterobject.c = 1220;
								characterobject.c1 = 0;
							}
						} else
						if(this.maps.map_bg[j30][l33] == 10 && l33 > rightShiftIgnoreSign(this.co_j.y + 15, 5))
							characterobject.c = 1230;
						else
						if((this.maps.map_bg[j30 - 1][l33] >= 20 || this.maps.map_bg[j30 - 1][l33] >= 18) && (Math.abs(i21 - this.co_j.y) >= 32 || l20 <= this.co_j.x))
						{
							characterobject.c = 1210;
							var j42 = this.maps.getBGCode(l20 + 32, i21 + 15);
							if(j42 >= 19)
								characterobject.c = 1200;
						}
					}
					var k42 = this.maps.getBGCode(l20 + 15, i21 + 31);
					if(k42 == 18 || k42 == 19)
						i21 = this.getSakamichiY(l20 + 15, i21 + 31);
					characterobject.pt = 140 + this.g_ac;
					characterobject.pth = characterobject.muki;
				}
			}
			break;

		case 1210: 
			l20 += 4;
			characterobject.muki = 1;
			characterobject.direction = 1;
			if(rightShiftIgnoreSign(l20 + 15, 5) > rightShiftIgnoreSign((l20 + 15) - 4, 5))
			{
				var l42 = this.maps.getBGCode((l20 - 4) + 15, i21 + 31);
				if(l42 == 18)
					i21 = rightShiftIgnoreSign(i21 + 31, 5) * 32 - 32;
				else
				if(l42 == 19)
					i21 = rightShiftIgnoreSign(i21 + 31, 5) * 32;
				l42 = this.maps.getBGCode(l20 + 15, i21 + 32);
				if(l42 == 19)
					i21 = this.getSakamichiY(l20 + 15, i21 + 32);
			}
			if(this.maps.getBGCode(l20 + 31, i21 + 8) >= 19)
			{
				l20 = rightShiftIgnoreSign(l20 + 31, 5) * 32 - 32;
				if(Math.abs(i21 - this.co_j.y) >= 32 || l20 >= this.co_j.x)
				{
					var i43 = this.maps.getBGCode(l20 - 1, i21 + 15);
					if(i43 <= 10 || i43 == 15)
					{
						characterobject.c = 1200;
						characterobject.pt = 140 + this.g_ac;
						characterobject.pth = characterobject.muki;
						var i18 = 0;
						do
						{
							if(i18 > this.t_kazu)
								break;
							if(this.co_t[i18].c > 1200 && this.co_t[i18].c <= 1210 && this.co_t[i18].x == l20 - 32 && Math.abs(this.co_t[i18].y - i21) < 32)
							{
								characterobject.c = 1210;
								break;
							}
							i18++;
						} while(true);
						break;
					}
				}
			}
			if(Math.abs(i21 - this.co_j.y) < 32 && l20 > this.co_j.x)
			{
				characterobject.c = 1200;
				characterobject.pt = 140 + this.g_ac;
				characterobject.pth = characterobject.muki;
			} else
			{
				var flag3 = false;
				for(var j18 = 0; j18 <= this.t_kazu; j18++)
				{
					if((this.co_t[j18].c < 1200 || this.co_t[j18].c >= 1300) && this.co_t[j18].c != 60 || j18 == i || Math.abs(this.co_t[j18].x - l20) >= 32 || Math.abs(this.co_t[j18].y - i21) >= 32)
						continue;
					if(this.co_t[j18].c == 1200)
					{
						var i34 = Math.abs(rightShiftIgnoreSign(i21 + 15, 5) - rightShiftIgnoreSign(this.co_j.y + 15, 5));
						if(i34 <= 1 || i34 >= 5)
						{
							if(l20 > this.co_j.x)
								characterobject.c = 1200;
							else
								characterobject.c = 1210;
						} else
						if(l20 < this.co_j.x)
							characterobject.c = 1200;
						else
							characterobject.c = 1210;
						var k30 = rightShiftIgnoreSign(characterobject.x + 15, 5);
						i34 = rightShiftIgnoreSign(characterobject.y + 15, 5);
						if(i34 < rightShiftIgnoreSign(this.co_j.y + 15, 5))
						{
							var j11 = 1;
							do
							{
								if(j11 > 31 || k30 + j11 >= this.mapWidth || this.maps.map_bg[k30 + j11][i34] >= 19)
									break;
								if(this.maps.map_bg[k30 + j11][i34 + 1] <= 10 || this.maps.map_bg[k30 + j11][i34 + 1] == 15)
								{
									characterobject.c = 1210;
									break;
								}
								j11++;
							} while(true);
						} else
						if(i34 > rightShiftIgnoreSign(this.co_j.y + 15, 5))
						{
							var k11 = 1;
							do
							{
								if(k11 > 31 || k30 + k11 >= this.mapWidth || this.maps.map_bg[k30 + k11][i34] >= 19)
									break;
								if(this.maps.map_bg[k30 + k11][i34] == 10)
								{
									characterobject.c = 1210;
									break;
								}
								k11++;
							} while(true);
						}
						k30 = rightShiftIgnoreSign(characterobject.x + 15, 5);
						i34 = rightShiftIgnoreSign(characterobject.y + 15, 5);
						if(i34 < rightShiftIgnoreSign(this.co_j.y + 15, 5))
						{
							var l11 = 1;
							do
							{
								if(l11 > 31 || k30 - l11 <= 0 || this.maps.map_bg[k30 - l11][i34] >= 20 || this.maps.map_bg[k30 - l11][i34] == 18)
									break;
								if(this.maps.map_bg[k30 - l11][i34 + 1] <= 10 || this.maps.map_bg[k30 - l11][i34 + 1] == 15)
								{
									characterobject.c = 1200;
									break;
								}
								l11++;
							} while(true);
						} else
						if(i34 > rightShiftIgnoreSign(this.co_j.y + 15, 5))
						{
							var i12 = 1;
							do
							{
								if(i12 > 31 || k30 - i12 <= 0 || this.maps.map_bg[k30 - i12][i34] >= 20 || this.maps.map_bg[k30 - i12][i34] == 18)
									break;
								if(this.maps.map_bg[k30 - i12][i34] == 10)
								{
									characterobject.c = 1200;
									break;
								}
								i12++;
							} while(true);
						}
						if(j18 < i && rightShiftIgnoreSign(characterobject.x, 5) * 32 != characterobject.x)
							characterobject.c = 1200;
						l20 = characterobject.x;
						flag3 = true;
						break;
					}
					if(this.co_t[j18].x > characterobject.x)
					{
						l20 = characterobject.x;
						flag3 = true;
						break;
					}
					if(this.co_t[j18].x != characterobject.x || j18 >= i)
						continue;
					l20 = characterobject.x;
					flag3 = true;
					break;
				}

				if(flag3)
				{
					characterobject.pt = 140 + this.g_ac;
					characterobject.pth = characterobject.muki;
				} else
				{
					if(rightShiftIgnoreSign(l20, 5) * 32 == l20)
					{
						var l30 = rightShiftIgnoreSign(l20 + 15, 5);
						var j34 = rightShiftIgnoreSign(i21 + 15, 5);
						if(this.maps.map_bg[l30][j34 + 1] <= 9 && this.maps.map_bg[l30][j34] != 10 || (this.maps.map_bg[l30][j34 + 1] <= 10 || this.maps.map_bg[l30][j34 + 1] == 15) && j34 < rightShiftIgnoreSign(this.co_j.y + 15, 5))
						{
							var flag4 = false;
							for(var j12 = 0; j12 <= 11; j12++)
							{
								if(this.ana_c[j12] <= 0 || this.ana_x[j12] * 32 != l20 || i21 + 32 != this.ana_y[j12] * 32)
									continue;
								var k18 = 0;
								do
								{
									if(k18 > this.t_kazu)
										break;
									if((this.co_t[k18].c >= 1200 && this.co_t[k18].c < 1300 || this.co_t[k18].c == 60) && k18 != i && l20 == this.co_t[k18].x && i21 <= this.co_t[k18].y && i21 + 32 >= this.co_t[k18].y)
									{
										flag4 = true;
										break;
									}
									k18++;
								} while(true);
								if(flag4)
									break;
							}

							var l18 = 0;
							do
							{
								if(l18 > this.t_kazu)
									break;
								if(this.co_t[l18].c >= 1200 && this.co_t[l18].c <= 1210 && l18 != i && rightShiftIgnoreSign(this.co_t[l18].x, 5) * 32 == this.co_t[l18].x && l20 == this.co_t[l18].x && i21 <= this.co_t[l18].y && i21 + 32 >= this.co_t[l18].y && this.maps.getBGCode(this.co_t[l18].x + 15, this.co_t[l18].y + 32) >= 20)
								{
									flag4 = true;
									break;
								}
								l18++;
							} while(true);
							if(!flag4)
							{
								characterobject.c = 1220;
								characterobject.c1 = 0;
							}
						} else
						if(this.maps.map_bg[l30][j34] == 10 && j34 > rightShiftIgnoreSign(this.co_j.y + 15, 5))
							characterobject.c = 1230;
						else
						if(this.maps.map_bg[l30 + 1][j34] >= 19 && (Math.abs(i21 - this.co_j.y) >= 32 || l20 >= this.co_j.x))
						{
							characterobject.c = 1200;
							var j43 = this.maps.getBGCode(l20 - 1, i21 + 15);
							if(j43 >= 20 || j43 == 18)
								characterobject.c = 1210;
						}
					}
					var k43 = this.maps.getBGCode(l20 + 15, i21 + 31);
					if(k43 == 18 || k43 == 19)
						i21 = this.getSakamichiY(l20 + 15, i21 + 31);
					characterobject.pt = 140 + this.g_ac;
					characterobject.pth = characterobject.muki;
				}
			}
			break;

		case 1220: 
			if(this.maps.getBGCode(l20 + 15, i21 + 31) == 10)
			{
				if(l20 < this.co_j.x)
					characterobject.muki = 1;
				else
				if(l20 > this.co_j.x)
					characterobject.muki = 0;
				characterobject.direction = 3;
			}
			if(i21 - 20 >= this.co_j.y && this.maps.getBGCode(l20 + 15, i21 + 31) == 10 && (this.maps.getBGCode(l20 + 15, (i21 + 31) - 32) <= 10 || this.maps.getBGCode(l20 + 15, (i21 + 31) - 32) == 15))
			{
				characterobject.c = 1230;
				characterobject.pt = 140 + this.g_ac;
				characterobject.pth = characterobject.muki;
				if(rightShiftIgnoreSign(i21, 5) * 32 != i21)
				{
					var i19 = 0;
					do
					{
						if(i19 > this.t_kazu)
							break;
						if(this.co_t[i19].c >= 1220 && i19 != i && Math.abs(this.co_t[i19].x - l20) < 32 && Math.abs(i21 - 4 - this.co_t[i19].y) < 32)
						{
							characterobject.c = 1220;
							break;
						}
						i19++;
					} while(true);
				}
				if(characterobject.c == 1230)
					break;
			}
			i21 += 4;
			var flag6 = false;
label1:
			for(var j19 = 0; j19 <= this.t_kazu; j19++)
			{
				if((this.co_t[j19].c < 1200 || this.co_t[j19].c >= 1300) && this.co_t[j19].c != 60 || j19 == i || Math.abs(this.co_t[j19].x - l20) >= 32 || Math.abs(this.co_t[j19].y - i21) >= 32)
					continue;
				if(this.co_t[j19].y > characterobject.y)
				{
					i21 = characterobject.y;
					flag6 = true;
					i21 = this.co_t[j19].y - 32;
					var flag9 = false;
					flag9 = false;
					if(this.co_t[j19].c == 1200 && this.maps.getBGCode(this.co_t[j19].x - 1, this.co_t[j19].y + 15) >= 20)
						flag9 = true;
					if(this.co_t[j19].c == 1210 && this.maps.getBGCode(this.co_t[j19].x + 32, this.co_t[j19].y + 15) >= 20)
						flag9 = true;
					if(this.co_t[j19].c == 1200 && this.maps.getBGCode(this.co_t[j19].x + 32, this.co_t[j19].y + 15) >= 20 && this.maps.getBGCode(this.co_t[j19].x + 15, this.co_t[j19].y + 32) >= 20)
						flag9 = true;
					if(this.co_t[j19].c == 1210 && this.maps.getBGCode(this.co_t[j19].x - 1, this.co_t[j19].y + 15) >= 20 && this.maps.getBGCode(this.co_t[j19].x + 15, this.co_t[j19].y + 32) >= 20)
						flag9 = true;
					if(!flag9)
						break;
					var k34 = Math.abs(rightShiftIgnoreSign(i21 + 15, 5) - rightShiftIgnoreSign(this.co_j.y + 15, 5));
					if(k34 <= 1 || k34 >= 5)
					{
						if(l20 > this.co_j.x)
							characterobject.c = 1200;
						else
							characterobject.c = 1210;
					} else
					if(l20 < this.co_j.x)
						characterobject.c = 1200;
					else
						characterobject.c = 1210;
					var i31 = rightShiftIgnoreSign(characterobject.x + 15, 5);
					k34 = rightShiftIgnoreSign(characterobject.y + 15, 5);
					if(k34 < rightShiftIgnoreSign(this.co_j.y + 15, 5))
					{
						var k12 = 1;
						do
						{
							if(k12 > 31 || i31 + k12 >= this.mapWidth || this.maps.map_bg[i31 + k12][k34] >= 19)
								break;
							if(this.maps.map_bg[i31 + k12][k34 + 1] <= 10 || this.maps.map_bg[i31 + k12][k34 + 1] == 15)
							{
								characterobject.c = 1210;
								break;
							}
							k12++;
						} while(true);
					} else
					if(k34 > rightShiftIgnoreSign(this.co_j.y + 15, 5))
					{
						var l12 = 1;
						do
						{
							if(l12 > 31 || i31 + l12 >= this.mapWidth || this.maps.map_bg[i31 + l12][k34] >= 19)
								break;
							if(this.maps.map_bg[i31 + l12][k34] == 10)
							{
								characterobject.c = 1210;
								break;
							}
							l12++;
						} while(true);
					}
					i31 = rightShiftIgnoreSign(characterobject.x + 15, 5);
					k34 = rightShiftIgnoreSign(characterobject.y + 15, 5);
					if(k34 < rightShiftIgnoreSign(this.co_j.y + 15, 5))
					{
						var i13 = 1;
						do
						{
							if(i13 > 31 || i31 - i13 <= 0 || this.maps.map_bg[i31 - i13][k34] >= 20 || this.maps.map_bg[i31 - i13][k34] == 18)
								break label1;
							if(this.maps.map_bg[i31 - i13][k34 + 1] <= 10 || this.maps.map_bg[i31 - i13][k34 + 1] == 15)
							{
								characterobject.c = 1200;
								break label1;
							}
							i13++;
						} while(true);
					}
					if(k34 <= rightShiftIgnoreSign(this.co_j.y + 15, 5))
						break;
					var j13 = 1;
					do
					{
						if(j13 > 31 || i31 - j13 <= 0 || this.maps.map_bg[i31 - j13][k34] >= 20 || this.maps.map_bg[i31 - j13][k34] == 18)
							break label1;
						if(this.maps.map_bg[i31 - j13][k34] == 10)
						{
							characterobject.c = 1200;
							break label1;
						}
						j13++;
					} while(true);
				}
				if(this.co_t[j19].y != characterobject.y || j19 >= i)
					continue;
				i21 = characterobject.y;
				flag6 = true;
				break;
			}

			if(flag6)
			{
				characterobject.pt = 140 + this.g_ac;
				characterobject.pth = characterobject.muki;
				break;
			}
			if(this.maps.getBGCode(l20, i21 + 31) >= 20)
				i21 = rightShiftIgnoreSign(i21 + 31, 5) * 32 - 32;
			var l43 = this.maps.getBGCode(l20 + 15, i21 + 31);
			if((l43 == 18 || l43 == 19) && i21 >= this.getSakamichiY(l20 + 15, i21 + 31))
			{
				i21 = this.getSakamichiY(l20 + 15, i21 + 31);
				var l34 = Math.abs(rightShiftIgnoreSign(i21 + 15, 5) - rightShiftIgnoreSign(this.co_j.y + 15, 5));
				if(l34 <= 1 || l34 >= 5)
				{
					if(l20 > this.co_j.x)
					{
						characterobject.muki = 0;
						characterobject.c = 1200;
					} else
					{
						characterobject.muki = 1;
						characterobject.c = 1210;
					}
				} else
				if(l20 < this.co_j.x)
				{
					characterobject.muki = 0;
					characterobject.c = 1200;
				} else
				{
					characterobject.muki = 1;
					characterobject.c = 1210;
				}
				characterobject.pt = 140 + this.g_ac;
				characterobject.pth = characterobject.muki;
				break;
			}
			if(rightShiftIgnoreSign(i21, 5) * 32 == i21)
			{
				if(this.maps.getBGCode(l20 + 15, i21 + 15) == 10 && i21 > this.co_j.y)
				{
					characterobject.c = 1230;
					characterobject.pt = 140 + this.g_ac;
					characterobject.pth = characterobject.muki;
					var k19 = 0;
					do
					{
						if(k19 > this.t_kazu)
							break;
						if(this.co_t[k19].c == 1220 && k19 != i && Math.abs(this.co_t[k19].x - l20) < 32 && Math.abs(i21 - 4 - this.co_t[k19].y) < 32)
						{
							i21 = characterobject.y;
							characterobject.c = 1220;
							break;
						}
						k19++;
					} while(true);
					break;
				}
				var i44 = this.maps.getBGCode(l20, i21 + 32);
				if(i44 >= 20)
				{
					i21 = rightShiftIgnoreSign(i21 + 32, 5) * 32 - 32;
					var i35 = Math.abs(rightShiftIgnoreSign(i21 + 15, 5) - rightShiftIgnoreSign(this.co_j.y + 15, 5));
					if(i35 <= 1 || i35 >= 5)
					{
						if(l20 > this.co_j.x)
						{
							characterobject.muki = 0;
							characterobject.c = 1200;
						} else
						{
							characterobject.muki = 1;
							characterobject.c = 1210;
						}
					} else
					if(l20 < this.co_j.x)
					{
						characterobject.muki = 0;
						characterobject.c = 1200;
					} else
					{
						characterobject.muki = 1;
						characterobject.c = 1210;
					}
					var j31 = rightShiftIgnoreSign(characterobject.x + 15, 5);
					i35 = rightShiftIgnoreSign(characterobject.y + 15, 5);
					if(i35 < rightShiftIgnoreSign(this.co_j.y + 15, 5))
					{
						var k13 = 1;
						do
						{
							if(k13 > 31 || j31 + k13 >= this.mapWidth || this.maps.map_bg[j31 + k13][i35] >= 19)
								break;
							if(this.maps.map_bg[j31 + k13][i35 + 1] <= 10 || this.maps.map_bg[j31 + k13][i35 + 1] == 15)
							{
								characterobject.c = 1210;
								characterobject.muki = 1;
								break;
							}
							k13++;
						} while(true);
					} else
					if(i35 > rightShiftIgnoreSign(this.co_j.y + 15, 5))
					{
						var l13 = 1;
						do
						{
							if(l13 > 31 || j31 + l13 >= this.mapWidth || this.maps.map_bg[j31 + l13][i35] >= 19)
								break;
							if(this.maps.map_bg[j31 + l13][i35] == 10)
							{
								characterobject.c = 1210;
								characterobject.muki = 1;
								break;
							}
							l13++;
						} while(true);
					}
					j31 = rightShiftIgnoreSign(characterobject.x + 15, 5);
					i35 = rightShiftIgnoreSign(characterobject.y + 15, 5);
					if(i35 < rightShiftIgnoreSign(this.co_j.y + 15, 5))
					{
						var i14 = 1;
						do
						{
							if(i14 > 31 || j31 - i14 <= 0 || this.maps.map_bg[j31 - i14][i35] >= 20 || this.maps.map_bg[j31 - i14][i35] == 18)
								break;
							if(this.maps.map_bg[j31 - i14][i35 + 1] <= 10 || this.maps.map_bg[j31 - i14][i35 + 1] == 15)
							{
								characterobject.c = 1200;
								characterobject.muki = 0;
								break;
							}
							i14++;
						} while(true);
					} else
					if(i35 > rightShiftIgnoreSign(this.co_j.y + 15, 5))
					{
						var j14 = 1;
						do
						{
							if(j14 > 31 || j31 - j14 <= 0 || this.maps.map_bg[j31 - j14][i35] >= 20 || this.maps.map_bg[j31 - j14][i35] == 18)
								break;
							if(this.maps.map_bg[j31 - j14][i35] == 10)
							{
								characterobject.c = 1200;
								characterobject.muki = 0;
								break;
							}
							j14++;
						} while(true);
					}
				} else
				if((i44 == 15 || i44 == 10 || this.maps.getBGCode(l20 + 15, i21 + 15) == 10) && rightShiftIgnoreSign(i21 + 15, 5) >= rightShiftIgnoreSign(this.co_j.y + 15, 5))
				{
					i21 = rightShiftIgnoreSign(i21 + 32, 5) * 32 - 32;
					var j35 = Math.abs(rightShiftIgnoreSign(i21 + 15, 5) - rightShiftIgnoreSign(this.co_j.y + 15, 5));
					if(j35 <= 1 || j35 >= 5)
					{
						if(l20 > this.co_j.x)
						{
							characterobject.muki = 0;
							characterobject.c = 1200;
						} else
						{
							characterobject.muki = 1;
							characterobject.c = 1210;
						}
					} else
					if(l20 < this.co_j.x)
					{
						characterobject.muki = 0;
						characterobject.c = 1200;
					} else
					{
						characterobject.muki = 1;
						characterobject.c = 1210;
					}
					var k31 = rightShiftIgnoreSign(characterobject.x + 15, 5);
					j35 = rightShiftIgnoreSign(characterobject.y + 15, 5);
					if(j35 < rightShiftIgnoreSign(this.co_j.y + 15, 5))
					{
						var k14 = 1;
						do
						{
							if(k14 > 31 || k31 + k14 >= this.mapWidth || this.maps.map_bg[k31 + k14][j35] >= 19)
								break;
							if(this.maps.map_bg[k31 + k14][j35 + 1] <= 10 || this.maps.map_bg[k31 + k14][j35 + 1] == 15)
							{
								characterobject.c = 1210;
								characterobject.muki = 1;
								break;
							}
							k14++;
						} while(true);
					} else
					if(j35 > rightShiftIgnoreSign(this.co_j.y + 15, 5))
					{
						var l14 = 1;
						do
						{
							if(l14 > 31 || k31 + l14 >= this.mapWidth || this.maps.map_bg[k31 + l14][j35] >= 19)
								break;
							if(this.maps.map_bg[k31 + l14][j35] == 10)
							{
								characterobject.c = 1210;
								characterobject.muki = 1;
								break;
							}
							l14++;
						} while(true);
					}
					k31 = rightShiftIgnoreSign(characterobject.x + 15, 5);
					j35 = rightShiftIgnoreSign(characterobject.y + 15, 5);
					if(j35 < rightShiftIgnoreSign(this.co_j.y + 15, 5))
					{
						var i15 = 1;
						do
						{
							if(i15 > 31 || k31 - i15 <= 0 || this.maps.map_bg[k31 - i15][j35] >= 20 || this.maps.map_bg[k31 - i15][j35] == 18)
								break;
							if(this.maps.map_bg[k31 - i15][j35 + 1] <= 10 || this.maps.map_bg[k31 - i15][j35 + 1] == 15)
							{
								characterobject.c = 1200;
								characterobject.muki = 0;
								break;
							}
							i15++;
						} while(true);
					} else
					if(j35 > rightShiftIgnoreSign(this.co_j.y + 15, 5))
					{
						var j15 = 1;
						do
						{
							if(j15 > 31 || k31 - j15 <= 0 || this.maps.map_bg[k31 - j15][j35] >= 20 || this.maps.map_bg[k31 - j15][j35] == 18)
								break;
							if(this.maps.map_bg[k31 - j15][j35] == 10)
							{
								characterobject.c = 1200;
								characterobject.muki = 0;
								break;
							}
							j15++;
						} while(true);
					}
				} else
				if(i44 <= 9)
				{
					var flag7 = false;
					for(var k15 = 0; k15 <= 11; k15++)
					{
						if(this.ana_c[k15] <= 0 || this.ana_x[k15] * 32 != l20 || i21 + 32 != this.ana_y[k15] * 32)
							continue;
						var l19 = 0;
						do
						{
							if(l19 > this.t_kazu)
								break;
							if((this.co_t[l19].c >= 1200 && this.co_t[l19].c < 1300 || this.co_t[l19].c == 60) && l19 != i && l20 == this.co_t[l19].x && i21 <= this.co_t[l19].y && i21 + 32 >= this.co_t[l19].y)
							{
								flag7 = true;
								break;
							}
							l19++;
						} while(true);
						if(flag7)
							break;
					}

					if(flag7)
					{
						var k35 = Math.abs(rightShiftIgnoreSign(i21 + 15, 5) - rightShiftIgnoreSign(this.co_j.y + 15, 5));
						if(k35 <= 1 || k35 >= 5)
						{
							if(l20 > this.co_j.x)
								characterobject.c = 1200;
							else
								characterobject.c = 1210;
						} else
						if(l20 < this.co_j.x)
							characterobject.c = 1200;
						else
							characterobject.c = 1210;
					}
				}
				if(characterobject.c == 1210 && (this.maps.getBGCode(characterobject.x + 32, characterobject.y + 15) >= 20 || this.maps.getBGCode(characterobject.x + 32, characterobject.y + 15) == 18))
				{
					characterobject.c = 1200;
					characterobject.muki = 0;
					if(Math.abs(i21 - this.co_j.y) < 32 && l20 < this.co_j.x)
					{
						characterobject.c = 1210;
						characterobject.muki = 1;
					}
				} else
				if(characterobject.c == 1200 && this.maps.getBGCode(characterobject.x - 1, characterobject.y + 15) >= 19)
				{
					characterobject.c = 1210;
					characterobject.muki = 1;
					if(Math.abs(i21 - this.co_j.y) < 32 && l20 > this.co_j.x)
					{
						characterobject.c = 1200;
						characterobject.muki = 0;
					}
				}
				if(rightShiftIgnoreSign(i21, 5) * 32 == i21)
				{
					for(var l15 = 0; l15 <= 11; l15++)
						if(this.ana_c[l15] > 0 && this.ana_x[l15] * 32 == l20 && this.ana_y[l15] * 32 == i21)
						{
							characterobject.c = 1250;
							characterobject.c1 = 0;
						}

				}
			}
			if((characterobject.c == 1200 || characterobject.c == 1210) && Math.abs(l20 - this.co_j.x) <= 32 && Math.abs(i21 - this.co_j.y) <= 32 && !this.co_j.jimen_f && !this.j_hashigo_f)
				characterobject.c = 1220;
			if(Math.abs(this.co_j.x - characterobject.x) <= 24 && this.co_j.y + 32 == characterobject.y && this.co_j.c != 130 && (rightShiftIgnoreSign(this.co_j.y, 5) * 32 != this.co_j.y || this.maps.getBGCode(this.co_j.x + 15, this.co_j.y + 32) != 15) && !this.j_hashigo_f)
			{
				this.co_j.y = i21 - 32;
				if(this.maps.getBGCode(this.co_j.x + 15, this.co_j.y + 31) >= 20)
					this.co_j.y = rightShiftIgnoreSign(this.co_j.y + 31, 5) * 32 - 32;
			}
			if(i21 >= this.maps.wy_max + 320)
			{
				characterobject.c = 60;
				characterobject.c1 = 0;
			}
			characterobject.pt = 140 + this.g_ac;
			characterobject.pth = characterobject.muki;
			break;

		case 1230: 
			characterobject.direction = 2;
			if(l20 < this.co_j.x)
				characterobject.muki = 1;
			else
			if(l20 > this.co_j.x)
				characterobject.muki = 0;
			if(i21 + 20 <= this.co_j.y)
			{
				characterobject.c = 1220;
				characterobject.pt = 140 + this.g_ac;
				characterobject.pth = characterobject.muki;
			} else
			{
				i21 -= 4;
				var flag8 = false;
				for(var i20 = 0; i20 <= this.t_kazu; i20++)
				{
					if((this.co_t[i20].c < 1200 || this.co_t[i20].c >= 1300) && this.co_t[i20].c != 60 || i20 == i || Math.abs(this.co_t[i20].x - l20) >= 32 || Math.abs(this.co_t[i20].y - i21) >= 32)
						continue;
					if(this.co_t[i20].c == 1220)
					{
						characterobject.c = 1220;
						i21 = characterobject.y;
						flag8 = true;
						break;
					}
					if(this.co_t[i20].y < characterobject.y)
					{
						i21 = characterobject.y;
						flag8 = true;
						break;
					}
					if(this.co_t[i20].y != characterobject.y || i20 >= i)
						continue;
					i21 = characterobject.y;
					flag8 = true;
					break;
				}

				if(flag8)
				{
					characterobject.pt = 140 + this.g_ac;
					characterobject.pth = characterobject.muki;
				} else
				{
					if(this.maps.getBGCode(l20, i21) >= 18)
						i21 = rightShiftIgnoreSign(i21, 5) * 32 + 32;
					if(rightShiftIgnoreSign(i21, 5) * 32 == i21)
						if(this.maps.getBGCode(l20 + 15, i21 + 15) != 10 || this.maps.getBGCode(l20 + 15, i21 - 1) >= 20)
						{
							var l35 = Math.abs(rightShiftIgnoreSign(i21 + 15, 5) - rightShiftIgnoreSign(this.co_j.y + 15, 5));
							if(l35 <= 1 || l35 >= 5)
							{
								if(l20 > this.co_j.x)
									characterobject.c = 1200;
								else
									characterobject.c = 1210;
							} else
							if(l20 < this.co_j.x)
								characterobject.c = 1200;
							else
								characterobject.c = 1210;
							var l31 = rightShiftIgnoreSign(characterobject.x + 15, 5);
							l35 = rightShiftIgnoreSign(characterobject.y + 15, 5);
							if(l35 < rightShiftIgnoreSign(this.co_j.y + 15, 5))
							{
								var i16 = 1;
								do
								{
									if(i16 > 31 || l31 + i16 >= this.mapWidth || this.maps.map_bg[l31 + i16][l35] >= 19)
										break;
									if(this.maps.map_bg[l31 + i16][l35 + 1] <= 10 || this.maps.map_bg[l31 + i16][l35 + 1] == 15)
									{
										characterobject.c = 1210;
										break;
									}
									i16++;
								} while(true);
							} else
							if(l35 > rightShiftIgnoreSign(this.co_j.y + 15, 5))
							{
								var j16 = 1;
								do
								{
									if(j16 > 31 || l31 + j16 >= this.mapWidth || this.maps.map_bg[l31 + j16][l35] >= 19)
										break;
									if(this.maps.map_bg[l31 + j16][l35] == 10)
									{
										characterobject.c = 1210;
										break;
									}
									j16++;
								} while(true);
							}
							l31 = rightShiftIgnoreSign(characterobject.x + 15, 5);
							l35 = rightShiftIgnoreSign(characterobject.y + 15, 5);
							if(l35 < rightShiftIgnoreSign(this.co_j.y + 15, 5))
							{
								var k16 = 1;
								do
								{
									if(k16 > 31 || l31 - k16 <= 0 || this.maps.map_bg[l31 - k16][l35] >= 20 || this.maps.map_bg[l31 - k16][l35] == 18)
										break;
									if(this.maps.map_bg[l31 - k16][l35 + 1] <= 10 || this.maps.map_bg[l31 - k16][l35 + 1] == 15)
									{
										characterobject.c = 1200;
										break;
									}
									k16++;
								} while(true);
							} else
							if(l35 > rightShiftIgnoreSign(this.co_j.y + 15, 5))
							{
								var l16 = 1;
								do
								{
									if(l16 > 31 || l31 - l16 <= 0 || this.maps.map_bg[l31 - l16][l35] >= 20 || this.maps.map_bg[l31 - l16][l35] == 18)
										break;
									if(this.maps.map_bg[l31 - l16][l35] == 10)
									{
										characterobject.c = 1200;
										break;
									}
									l16++;
								} while(true);
							}
						} else
						if(Math.abs(i21 - this.co_j.y) < 32)
						{
							if(l20 > this.co_j.x)
							{
								characterobject.muki = 0;
								characterobject.c = 1200;
							} else
							{
								characterobject.muki = 1;
								characterobject.c = 1210;
							}
						}
					if((characterobject.c == 1200 || characterobject.c == 1210) && Math.abs(l20 - this.co_j.x) <= 32 && Math.abs(i21 - this.co_j.y) <= 32 && !this.co_j.jimen_f && !this.j_hashigo_f)
						characterobject.c = 1230;
					characterobject.pt = 140 + this.g_ac;
					characterobject.pth = characterobject.muki;
				}
			}
			break;

		case 1250: 
			if(characterobject.c1 <= 75)
			{
				characterobject.c1++;
				characterobject.pt = 140;
				characterobject.pth = characterobject.muki;
			} else
			{
				characterobject.c = 1260;
				characterobject.pt = 140 + this.g_ac;
				characterobject.pth = characterobject.muki;
			}
			break;

		case 1260: 
			if(rightShiftIgnoreSign(i21 -= 4, 5) * 32 == i21)
			{
				if(characterobject.muki == 0)
					characterobject.c = 1200;
				else
					characterobject.c = 1210;
				var j36 = Math.abs(rightShiftIgnoreSign(i21 + 15, 5) - rightShiftIgnoreSign(this.co_j.y + 15, 5));
				if(j36 <= 1 || j36 >= 5)
				{
					if(l20 > this.co_j.x)
					{
						characterobject.muki = 0;
						characterobject.c = 1200;
					} else
					{
						characterobject.muki = 1;
						characterobject.c = 1210;
					}
				} else
				if(l20 < this.co_j.x)
				{
					characterobject.muki = 0;
					characterobject.c = 1200;
				} else
				{
					characterobject.muki = 1;
					characterobject.c = 1210;
				}
				if(this.maps.getBGCode(l20 + 15, i21 + 15) >= 20)
				{
					characterobject.c = 60;
					characterobject.c1 = 0;
					this.gs.rsAddSound(19);
				}
			}
			characterobject.pt = 140 + this.g_ac;
			characterobject.pth = characterobject.muki;
			break;

		case 1300: 
			if((i21 += 4) % 32 == 0)
				characterobject.c = 1310;
			break;

		case 1400: 
			l20 -= 4;
			characterobject.muki = 0;
			if(this.maps.getBGCode(l20, i21 + 15) >= 20)
				l20 = rightShiftIgnoreSign(l20, 5) * 32 + 32;
			if(l20 % 32 == 0)
				if(characterobject.c2 == 0)
				{
					if(l20 - 32 >= this.co_j.x && this.maps.getBGCode(l20 - 1, i21 + 15) < 20)
						characterobject.c = 1400;
					else
					if(i21 - 32 >= this.co_j.y && this.maps.getBGCode(l20 + 15, i21 - 1) < 20)
						characterobject.c = 1420;
					else
					if(i21 + 32 <= this.co_j.y && this.maps.getBGCode(l20 + 15, i21 + 32) < 20)
						characterobject.c = 1430;
					else
					if(this.maps.getBGCode(l20 - 1, i21 + 15) < 20)
						characterobject.c = 1400;
					else
					if(this.maps.getBGCode(l20 + 15, i21 - 1) < 20)
						characterobject.c = 1420;
					else
						characterobject.c = 1430;
				} else
				if(characterobject.c2 == 1)
				{
					if(i21 - 32 >= this.co_j.y && this.maps.getBGCode(l20 + 15, i21 - 1) < 20)
						characterobject.c = 1420;
					else
					if(i21 + 32 <= this.co_j.y && this.maps.getBGCode(l20 + 15, i21 + 32) < 20)
						characterobject.c = 1430;
					else
					if(this.maps.getBGCode(l20 - 1, i21 + 15) < 20)
						characterobject.c = 1400;
					else
						characterobject.c = 1410;
				} else
				if(characterobject.c2 == 2)
					if(this.maps.getBGCode(l20 + 15, i21 - 1) < 20 && this.ranInt(2) == 0)
						characterobject.c = 1420;
					else
					if(this.maps.getBGCode(l20 + 15, i21 + 32) < 20 && this.ranInt(2) == 0)
						characterobject.c = 1430;
					else
					if(this.maps.getBGCode(l20 - 1, i21 + 15) < 20)
						characterobject.c = 1400;
					else
						characterobject.c = 1410;
			characterobject.pt = 143 + this.g_ac;
			characterobject.pth = characterobject.muki;
			if(characterobject.c2 == 1)
				characterobject.pt = 152 + this.g_ac;
			else
			if(characterobject.c2 == 2)
				characterobject.pt = 155 + this.g_ac;
			characterobject.direction = 0;
			break;

		case 1410: 
			l20 += 4;
			characterobject.muki = 1;
			if(this.maps.getBGCode(l20 + 31, i21 + 15) >= 20)
				l20 = rightShiftIgnoreSign(l20 + 31, 5) * 32 - 32;
			if(l20 % 32 == 0)
				if(characterobject.c2 == 0)
				{
					if(l20 + 32 <= this.co_j.x && this.maps.getBGCode(l20 + 32, i21 + 15) < 20)
						characterobject.c = 1410;
					else
					if(i21 - 32 >= this.co_j.y && this.maps.getBGCode(l20 + 15, i21 - 1) < 20)
						characterobject.c = 1420;
					else
					if(i21 + 32 <= this.co_j.y && this.maps.getBGCode(l20 + 15, i21 + 32) < 20)
						characterobject.c = 1430;
					else
					if(this.maps.getBGCode(l20 + 32, i21 + 15) < 20)
						characterobject.c = 1410;
					else
					if(this.maps.getBGCode(l20 + 15, i21 - 1) < 20)
						characterobject.c = 1420;
					else
						characterobject.c = 1430;
				} else
				if(characterobject.c2 == 1)
				{
					if(i21 - 32 >= this.co_j.y && this.maps.getBGCode(l20 + 15, i21 - 1) < 20)
						characterobject.c = 1420;
					else
					if(i21 + 32 <= this.co_j.y && this.maps.getBGCode(l20 + 15, i21 + 32) < 20)
						characterobject.c = 1430;
					else
					if(this.maps.getBGCode(l20 + 32, i21 + 15) < 20)
						characterobject.c = 1410;
					else
						characterobject.c = 1400;
				} else
				if(characterobject.c2 == 2)
					if(this.maps.getBGCode(l20 + 15, i21 - 1) < 20 && this.ranInt(2) == 0)
						characterobject.c = 1420;
					else
					if(this.maps.getBGCode(l20 + 15, i21 + 32) < 20 && this.ranInt(2) == 0)
						characterobject.c = 1430;
					else
					if(this.maps.getBGCode(l20 + 32, i21 + 15) < 20)
						characterobject.c = 1410;
					else
						characterobject.c = 1400;
			characterobject.pt = 143 + this.g_ac;
			characterobject.pth = characterobject.muki;
			if(characterobject.c2 == 1)
				characterobject.pt = 152 + this.g_ac;
			else
			if(characterobject.c2 == 2)
				characterobject.pt = 155 + this.g_ac;
			characterobject.direction = 1;
			break;

		case 1420: 
			i21 -= 4;
			if(this.maps.getBGCode(l20 + 15, i21) >= 20)
				i21 = rightShiftIgnoreSign(i21, 5) * 32 + 32;
			if(i21 % 32 == 0)
				if(characterobject.c2 == 0)
				{
					if(l20 - 32 >= this.co_j.x && this.maps.getBGCode(l20 - 1, i21 + 15) < 20)
						characterobject.c = 1400;
					else
					if(l20 + 32 <= this.co_j.x && this.maps.getBGCode(l20 + 32, i21 + 15) < 20)
						characterobject.c = 1410;
					else
					if(this.maps.getBGCode(l20 + 15, i21 - 1) < 20)
						characterobject.c = 1420;
					else
						characterobject.c = 1430;
				} else
				if(characterobject.c2 == 1)
				{
					if(i21 - 32 >= this.co_j.y && this.maps.getBGCode(l20 + 15, i21 - 1) < 20)
						characterobject.c = 1420;
					else
					if(l20 - 32 >= this.co_j.x && this.maps.getBGCode(l20 - 1, i21 + 15) < 20)
						characterobject.c = 1400;
					else
					if(l20 + 32 <= this.co_j.x && this.maps.getBGCode(l20 + 32, i21 + 15) < 20)
						characterobject.c = 1410;
					else
					if(this.maps.getBGCode(l20 + 15, i21 - 1) < 20)
						characterobject.c = 1420;
					else
					if(this.maps.getBGCode(l20 - 1, i21 + 15) < 20)
						characterobject.c = 1400;
					else
						characterobject.c = 1410;
				} else
				if(characterobject.c2 == 2)
					if(this.maps.getBGCode(l20 - 1, i21 + 15) < 20 && this.ranInt(2) == 0)
						characterobject.c = 1400;
					else
					if(this.maps.getBGCode(l20 + 32, i21 + 15) < 20 && this.ranInt(2) == 0)
						characterobject.c = 1410;
					else
					if(this.maps.getBGCode(l20 + 15, i21 - 1) < 20)
						characterobject.c = 1420;
					else
						characterobject.c = 1430;
			characterobject.pt = 143 + this.g_ac;
			characterobject.pth = characterobject.muki;
			if(characterobject.c2 == 1)
				characterobject.pt = 152 + this.g_ac;
			else
			if(characterobject.c2 == 2)
				characterobject.pt = 155 + this.g_ac;
			characterobject.direction = 2;
			break;

		case 1430: 
			i21 += 4;
			if(this.maps.getBGCode(l20 + 15, i21 + 31) >= 20)
				i21 = rightShiftIgnoreSign(i21 + 31, 5) * 32 - 32;
			if(i21 % 32 == 0)
				if(characterobject.c2 == 0)
				{
					if(l20 - 32 >= this.co_j.x && this.maps.getBGCode(l20 - 1, i21 + 15) < 20)
						characterobject.c = 1400;
					else
					if(l20 + 32 <= this.co_j.x && this.maps.getBGCode(l20 + 32, i21 + 15) < 20)
						characterobject.c = 1410;
					else
					if(this.maps.getBGCode(l20 + 15, i21 + 32) < 20)
						characterobject.c = 1430;
					else
						characterobject.c = 1420;
				} else
				if(characterobject.c2 == 1)
				{
					if(i21 + 32 <= this.co_j.y && this.maps.getBGCode(l20 + 15, i21 + 32) < 20)
						characterobject.c = 1430;
					else
					if(l20 - 32 >= this.co_j.x && this.maps.getBGCode(l20 - 1, i21 + 15) < 20)
						characterobject.c = 1400;
					else
					if(l20 + 32 <= this.co_j.x && this.maps.getBGCode(l20 + 32, i21 + 15) < 20)
						characterobject.c = 1410;
					else
					if(this.maps.getBGCode(l20 + 15, i21 + 32) < 20)
						characterobject.c = 1430;
					else
					if(this.maps.getBGCode(l20 - 1, i21 + 15) < 20)
						characterobject.c = 1400;
					else
						characterobject.c = 1410;
				} else
				if(characterobject.c2 == 2)
					if(this.maps.getBGCode(l20 - 1, i21 + 15) < 20 && this.ranInt(2) == 0)
						characterobject.c = 1400;
					else
					if(this.maps.getBGCode(l20 + 32, i21 + 15) < 20 && this.ranInt(2) == 0)
						characterobject.c = 1410;
					else
					if(this.maps.getBGCode(l20 + 15, i21 + 32) < 20)
						characterobject.c = 1430;
					else
						characterobject.c = 1420;
			characterobject.pt = 143 + this.g_ac;
			characterobject.pth = characterobject.muki;
			if(characterobject.c2 == 1)
				characterobject.pt = 152 + this.g_ac;
			else
			if(characterobject.c2 == 2)
				characterobject.pt = 155 + this.g_ac;
			characterobject.direction = 3;
			break;
		}
		if(characterobject.c < 100)
		{
			characterobject.x = l20;
			characterobject.y = i21;
			continue;
		}
		var j29 = Math.abs(l20 - this.co_j.x);
		if(j29 >= 48)
		{
			characterobject.x = l20;
			characterobject.y = i21;
			continue;
		}
		if(this.co_j.c >= 100 && this.co_j.c < 200 && j29 < 30 && (Math.abs(i21 - this.co_j.y) < 23 || (this.j_tokugi == 10 || this.j_tokugi == 12 || this.j_tokugi == 13) && Math.abs(i21 - this.co_j.y) < 28))
			if(this.j_v_c > 0 || this.jst_fast_run_attack == 1 && Math.abs(this.co_j.vx) >= 100 || this.j_cannon_c > 0 && this.j_cannon_type == 0 || this.j_cannon_c > 0 && this.j_cannon_c < 9 && this.j_cannon_type == 2 || this.j_cannon_c > 5 && this.j_cannon_type == 3 || this.j_cannon_c > 5 && this.j_cannon_type == 4 && rounddown(characterobject.c / 100) != 4 || this.j_cannon_c > 0 && this.j_cannon_c < 9 && this.j_cannon_type == 5 && rounddown(characterobject.c / 100) != 4 || this.j_jump_type == 7)
			{
				if(this.co_j.muki == 1)
				{
					characterobject.pth = 0;
					characterobject.vx = 3;
				} else
				{
					characterobject.pth = 1;
					characterobject.vx = -3;
				}
				if(characterobject.c >= 1200 && characterobject.c < 1300)
				{
					characterobject.c = 54;
					characterobject.vy = -25;
				} else
				if(characterobject.c >= 1400 && characterobject.c < 1500)
				{
					characterobject.c = 57;
					characterobject.c1 = 0;
				} else
				if(characterobject.c == 1190)
				{
					characterobject.c = 55;
					characterobject.c1 = 0;
					var j32 = rightShiftIgnoreSign(characterobject.x, 5);
					var k36 = rightShiftIgnoreSign(characterobject.y, 5);
					if(characterobject.c5 == 1)
						this.onASwitch(j32 - 5, k36 - 5, j32 + 5, k36 + 5);
					else
						this.onASwitch(j32 - 10, k36 - 10, j32 + 10, k36 + 10);
				} else
				{
					characterobject.c = 52;
					characterobject.vy = -30;
					if(this.j_tokugi == 14 || this.j_tokugi == 15)
					{
						characterobject.c = 55;
						characterobject.c1 = 0;
					}
				}
				this.gs.rsAddSound(9);
			} else
			if(this.j_enemy_press != 3 || rounddown(characterobject.c / 100) == 4)
				if(characterobject.c >= 400 && characterobject.c < 500 || characterobject.c >= 1000 && characterobject.c < 1200 || this.j_tokugi == 10 || this.j_tokugi >= 12 && this.j_tokugi <= 15 || this.j_enemy_press == 2)
				{
					if(this.j_muteki_c <= 0)
					{
						this.setMyHPDamage("1");
						if(this.getMyHP() <= 0)
							this.jShinu(2);
					}
				} else
				if((j29 < 27 || this.easy_mode == 2) && this.co_j.vy > 0 && !this.j_mizu_f || flag)
				{
					characterobject.pt = 142;
					if(characterobject.c < 200)
						characterobject.pt = 142;
					else
					if(characterobject.c < 300)
						characterobject.pt = 146;
					else
					if(characterobject.c < 400)
						characterobject.pt = 151;
					else
					if(characterobject.c < 600)
						characterobject.pt = 149;
					else
					if(characterobject.c < 700)
						characterobject.pt = 157;
					else
					if(characterobject.c < 800)
						characterobject.pt = 159;
					else
					if(characterobject.c < 900)
						characterobject.pt = 163;
					else
					if(characterobject.c < 1000)
						characterobject.pt = 165;
					if(characterobject.c != 104)
						characterobject.c2 = -1;
					characterobject.c = 50;
					characterobject.c1 = 0;
					this.gs.rsAddSound(8);
					this.co_j.y = i21 - 12;
					this.co_j.vy = -160;
					this.j_jump_type = 1;
					this.co_j.c = 110;
					this.co_j.c1 = 0;
					this.co_j.pt = 109;
					if(characterobject.pt == 149 || characterobject.pt == 165)
					{
						this.co_j.vy = -220;
						characterobject.c1 = -2;
					}
					if(characterobject.c2 >= 0)
						this.co_j.vy = -180;
					flag = true;
				} else
				if(this.j_muteki_c <= 0)
				{
					this.setMyHPDamage("1");
					if(this.getMyHP() <= 0)
						this.jShinu(2);
				}
		characterobject.x = l20;
		characterobject.y = i21;
	}

}

MainProgram.prototype.anaCheckNormal = function(i, j)
{
	var l = -1;
	var k = 0;
	do
	{
		if(k > 11)
			break;
		if(this.ana_c[k] > 0 && Math.abs(this.ana_x[k] * 32 - i) < 32 && j + 32 >= this.ana_y[k] * 32 && j + 16 <= this.ana_y[k] * 32)
		{
			l = k;
			break;
		}
		k++;
	} while(true);
	return l;
}

MainProgram.prototype.sakamichiY = function(i, j)
{
	var k = rightShiftIgnoreSign(i + 15, 5);
	var l = rightShiftIgnoreSign(j + 31, 5);
	var word0 = this.maps.map_bg[k][l];
	var k2 = j;
	switch(word0)
	{
	default:
		break;

	case 10:
		var i1 = l * 32 - (i + 15) % 32;
		if(i1 < j)
			k2 = i1;
		break;

	case 11:
		var j1 = (l * 32 + (i + 15) % 32) - 31;
		if(j1 < j)
			k2 = j1;
		break;

	case 12:
		var k1 = l * 32 - rightShiftIgnoreSign((i + 15) % 32, 1);
		if(k1 < j)
			k2 = k1;
		break;

	case 13:
		var l1 = l * 32 - rightShiftIgnoreSign((i + 15) % 32, 1) - 16;
		if(l1 < j)
			k2 = l1;
		break;

	case 14:
		var i2 = (l * 32 + rightShiftIgnoreSign((i + 15) % 32, 1)) - 31;
		if(i2 < j)
			k2 = i2;
		break;

	case 15:
		var j2 = (l * 32 + rightShiftIgnoreSign((i + 15) % 32, 1)) - 15;
		if(j2 < j)
			k2 = j2;
		break;
	}
	return k2;
}

MainProgram.prototype.mSet = function(i, j, k)
{
	var l = 0;
	do
	{
		if(l > 79)
			break;
		if(this.co_m[l].c <= 0)
		{
			var characterobject = this.co_m[l];
			characterobject.c = k;
			characterobject.x = i;
			characterobject.y = j;
			characterobject.c1 = 0;
			this.m_kazu++;
			switch(k)
			{
			case 90:
				characterobject.c2 = 4;
				characterobject.vx = 0;
				characterobject.vy = 0;
				break;

			case 95:
				characterobject.c2 = 4;
				characterobject.vx = -14;
				characterobject.vy = 0;
				break;

			case 96:
				characterobject.c = 95;
				characterobject.c2 = 4;
				characterobject.vx = 14;
				characterobject.vy = 0;
				break;

			case 100:
				var k1 = this.co_j.x - i;
				var i2 = this.co_j.y - j;
				var i1 = Math.floor(Math.sqrt(k1 * k1 + i2 * i2));
				if(i1 < 48)
				{
					this.m_kazu--;
					characterobject.c = 0;
				} else
				{
					characterobject.vx = rounddown((14 * k1) / i1);
					characterobject.vy = rounddown((14 * i2) / i1);
					characterobject.x += rounddown((characterobject.vx * 16) / 14);
					characterobject.y += rounddown((characterobject.vy * 16) / 14);
				}
				if(this.dengeki_mkf != 2 && characterobject.c > 0 && this.maps.getBGCode(characterobject.x + 15, characterobject.y + 15) == 4)
				{
					this.m_kazu--;
					characterobject.c = 0;
				}
				break;

			case 150: 
				var l1 = this.co_j.x - i;
				var j2 = this.co_j.y - j;
				var j1 = Math.floor(Math.sqrt(l1 * l1 + j2 * j2));
				if(j1 < 32)
				{
					this.m_kazu--;
					characterobject.c = 0;
				} else
				{
					characterobject.vx = (10 * l1) / j1;
					characterobject.vy = (10 * j2) / j1;
					characterobject.x += rounddown((characterobject.vx * 16) / 14);
					characterobject.y += rounddown((characterobject.vy * 16) / 14);
					if(this.sl_step == 11)
						characterobject.vx += this.sl_speed;
				}
				if(this.dengeki_mkf != 2 && characterobject.c > 0 && this.maps.getBGCode(characterobject.x + 15, characterobject.y + 15) == 4)
				{
					this.m_kazu--;
					characterobject.c = 0;
				}
				break;

			case 200: 
				characterobject.c2 = 0;
				characterobject.vx = -4 - this.ranInt(6);
				characterobject.vy = -22;
				characterobject.x += characterobject.vx;
				characterobject.y += characterobject.vy;
				break;

			case 201: 
				characterobject.c = 200;
				characterobject.c2 = 1;
				characterobject.vx = -4 - this.ranInt(6);
				characterobject.vy = -22;
				characterobject.x += characterobject.vx;
				characterobject.y += characterobject.vy;
				break;

			case 205: 
				characterobject.c = 200;
				characterobject.c2 = 0;
				characterobject.vx = 4 + this.ranInt(6);
				characterobject.vy = -22;
				characterobject.x += characterobject.vx;
				characterobject.y += characterobject.vy;
				break;

			case 206: 
				characterobject.c = 200;
				characterobject.c2 = 1;
				characterobject.vx = 4 + this.ranInt(6);
				characterobject.vy = -22;
				characterobject.x += characterobject.vx;
				characterobject.y += characterobject.vy;
				break;

			case 300: 
				characterobject.vx = -12;
				characterobject.x += characterobject.vx;
				break;

			case 305: 
				characterobject.c = 300;
				characterobject.vx = 12;
				characterobject.x += characterobject.vx;
				break;

			case 400: 
				characterobject.vx = -80;
				characterobject.vy = -225;
				break;

			case 405: 
				characterobject.c = 400;
				characterobject.vx = 80;
				characterobject.vy = -225;
				break;

			case 500: 
				characterobject.vx = -4;
				characterobject.vy = -22;
				break;

			case 600: 
				characterobject.vx = -40;
				characterobject.vy = 0;
				break;

			case 605: 
				characterobject.c = 600;
				characterobject.vx = 40;
				characterobject.vy = 0;
				break;

			case 606: 
				characterobject.c = 600;
				characterobject.vx = 0;
				characterobject.vy = 0;
				break;

			case 2000: 
				characterobject.c3 = j;
				characterobject.vy = -210;
				break;

			case 2010: 
				characterobject.c = 2000;
				characterobject.c3 = j - 64;
				characterobject.vy = -280;
				break;

			case 2020: 
				characterobject.c = 2000;
				characterobject.c3 = j - 32;
				characterobject.vy = -250;
				break;

			case 2100: 
				characterobject.c2 = 0;
				break;

			case 2110: 
				characterobject.c = 2100;
				characterobject.c2 = 1;
				break;

			case 2120: 
				characterobject.c = 2100;
				characterobject.c2 = 2;
				break;

			case 2130: 
				characterobject.c = 2100;
				characterobject.c2 = 3;
				break;

			case 2140: 
				characterobject.c = 2100;
				characterobject.c2 = 4;
				break;

			case 2150: 
				characterobject.c = 2100;
				characterobject.c2 = 5;
				break;

			case 2160: 
				characterobject.c = 2100;
				characterobject.c2 = 6;
				break;

			case 2170: 
				characterobject.c = 2100;
				characterobject.c2 = 7;
				break;

			case 2171: 
				characterobject.c = 2100;
				characterobject.c2 = 15;
				break;

			case 2172: 
				characterobject.c = 2100;
				characterobject.c2 = 16;
				break;

			case 2180: 
				characterobject.c = 2100;
				characterobject.c2 = 8;
				break;

			case 2181: 
				characterobject.c = 2100;
				characterobject.c2 = 9;
				break;

			case 2182: 
				characterobject.c = 2100;
				characterobject.c2 = 10;
				break;

			case 2185: 
				characterobject.c = 2100;
				characterobject.c2 = 11;
				break;

			case 2186: 
				characterobject.c = 2100;
				characterobject.c2 = 12;
				break;

			case 2187: 
				characterobject.c = 2100;
				characterobject.c2 = 13;
				break;

			case 2188: 
				characterobject.c = 2100;
				characterobject.c2 = 14;
				break;
			}
			break;
		}
		l++;
	} while(true);
}

MainProgram.prototype.mSet2 = function(i, j, k, l, i1)
{
	var j1 = 0;
	do
	{
		if(j1 > 79)
			break;
		if(this.co_m[j1].c <= 0)
		{
			var characterobject = this.co_m[j1];
			characterobject.c = k;
			characterobject.x = i;
			characterobject.y = j;
			characterobject.vx = l;
			characterobject.vy = i1;
			characterobject.c1 = 0;
			this.m_kazu++;
			switch(k)
			{
			case 75:
				characterobject.c2 = l;
				characterobject.vy = 96;
				break;

			case 77:
				characterobject.c2 = l;
				characterobject.vy = 96;
				break;

			case 85:
				characterobject.c2 = l;
				characterobject.vy = 96;
				break;

			case 87:
				characterobject.c2 = l;
				characterobject.vy = 96;
				break;

			case 500: 
				characterobject.x += characterobject.vx;
				break;

			case 550: 
				characterobject.x += characterobject.vx;
				break;

			case 700: 
				characterobject.c2 = 0;
				break;

			case 710: 
				characterobject.c = 700;
				characterobject.c2 = 1;
				break;

			case 711: 
				characterobject.c = 700;
				characterobject.c2 = 1;
				characterobject.x = i + l * 3;
				characterobject.y = j + i1 * 3;
				break;

			case 720: 
				characterobject.c = 700;
				characterobject.c2 = 2;
				break;

			case 730: 
				characterobject.c = 700;
				characterobject.c2 = 3;
				break;

			case 731: 
				characterobject.c = 700;
				characterobject.c2 = 4;
				break;

			case 732: 
				characterobject.c = 700;
				characterobject.c2 = 5;
				break;

			case 733: 
				characterobject.c = 700;
				characterobject.c2 = 6;
				break;

			case 740: 
				characterobject.x = characterobject.x + characterobject.vx * 2;
				characterobject.y = characterobject.y + characterobject.vy * 2;
				break;

			case 801: 
				characterobject.c = 70;
				characterobject.c1 = 1;
				characterobject.c2 = 20;
				break;

			case 810: 
				characterobject.c = 800;
				characterobject.vy = 9999;
				break;

			case 900: 
				characterobject.vx = i;
				characterobject.vy = j;
				characterobject.c1 = 0;
				characterobject.c2 = l;
				break;

			case 901: 
				characterobject.c = 900;
				characterobject.vx = i;
				characterobject.vy = j;
				characterobject.c1 = 0;
				characterobject.c2 = l;
				characterobject.c3 = 1;
				break;

			case 910: 
				characterobject.vx = i;
				characterobject.vy = j;
				characterobject.c1 = 0;
				characterobject.c2 = l;
				break;

			case 911: 
				characterobject.c = 910;
				characterobject.vx = i;
				characterobject.vy = j;
				characterobject.c1 = 0;
				characterobject.c2 = l;
				characterobject.c3 = 1;
				break;

			case 950: 
				characterobject.vx = i;
				characterobject.vy = j;
				characterobject.c1 = 0;
				characterobject.c2 = l;
				break;

			case 960: 
				characterobject.vx = i;
				characterobject.vy = j;
				characterobject.c1 = 0;
				characterobject.c2 = l;
				break;

			case 970: 
				characterobject.vx = i;
				characterobject.vy = j;
				characterobject.c1 = 10;
				characterobject.c2 = l;
				break;

			case 980: 
				characterobject.vx = i;
				characterobject.vy = j;
				characterobject.c1 = 10;
				characterobject.c2 = l;
				break;
			}
			break;
		}
		j1++;
	} while(true);
}

MainProgram.prototype.mMove = function()
{
	for(var i = 0; i <= 79; i++)
	{
		if(this.co_m[i].c == 0)
			continue;
		var characterobject = this.co_m[i];
		switch(characterobject.c)
		{
		case 50:
			characterobject.c1++;
			if(characterobject.c1 <= 5)
				characterobject.pt = 80;
			else
			if(characterobject.c1 <= 10)
				characterobject.pt = 81;
			else
			if(characterobject.c1 <= 16)
				characterobject.pt = 82;
			else
				characterobject.c = 0;
			characterobject.pth = 0;
			break;

		case 60:
			characterobject.y -= 5;
			var j4 = rightShiftIgnoreSign(characterobject.y, 5);
			var word0 = this.maps.map_bg[rightShiftIgnoreSign(characterobject.x + 11, 5)][j4];
			if(word0 <= 3 || word0 >= 20 || word0 == 10)
				characterobject.c = 0;
			word0 = this.maps.map_bg[rightShiftIgnoreSign(characterobject.x + 20, 5)][j4];
			if(word0 <= 3 || word0 >= 20 || word0 == 10)
				characterobject.c = 0;
			word0 = this.maps.map_bg[rightShiftIgnoreSign(characterobject.x + 15, 5)][j4];
			if((word0 == 8 || word0 == 9) && this.maps.map_bg[rightShiftIgnoreSign(characterobject.x + 15, 5) - 1][j4] != 4)
				characterobject.c = 0;
			if(word0 == 15 && this.maps.map_bg[rightShiftIgnoreSign(characterobject.x + 15, 5)][j4 - 1] != 4)
				characterobject.c = 0;
			if(characterobject.x <= this.maps.wx - 32 || characterobject.x >= this.maps.wx + 512)
				characterobject.c = 0;
			if(characterobject.y <= this.maps.wy - 32 || characterobject.y >= this.maps.wy + 320)
				characterobject.c = 0;
			characterobject.pt = 85;
			characterobject.pth = 0;
			break;

		case 65:
			characterobject.c1++;
			if(characterobject.c1 <= 3)
				characterobject.pt = 172;
			else
			if(characterobject.c1 <= 6)
				characterobject.pt = 173;
			else
			if(characterobject.c1 <= 9)
			{
				characterobject.pt = 174;
			} else
			{
				characterobject.c = 0;
				characterobject.pt = 198;
			}
			characterobject.pth = 0;
			break;

		case 70:
			characterobject.c1++;
			switch(characterobject.c1)
			{
			case 1:
				characterobject.c2 = 20;
				break;

			case 2:
				characterobject.c2 = 34;
				break;

			case 3:
				characterobject.c2 = 46;
				break;

			case 4:
				characterobject.c2 = 56;
				break;

			case 5:
				characterobject.c2 = 64;
				break;

			case 6:
				characterobject.c2 = 70;
				break;

			case 7:
				characterobject.c2 = 74;
				break;

			case 8:
				characterobject.c2 = 77;
				break;

			case 9:
				characterobject.c2 = 79;
				break;

			case 10:
				characterobject.c2 = 80;
				break;
			}
			if(characterobject.c1 > 10)
			{
				characterobject.c2 = 10;
				characterobject.c = 0;
			}
			if(this.co_j.c >= 100 && this.co_j.c < 200)
			{
				var k2 = this.co_j.x - characterobject.x;
				var k4 = this.co_j.y - characterobject.y;
				var k7 = Math.floor(Math.sqrt(k2 * k2 + k4 * k4));
				if(k7 <= characterobject.c2 + 4 && this.j_v_c <= 0)
					this.jShinu(1);
			}
			characterobject.pt = 1100;
			characterobject.pth = 0;
			break;

		case 75:
			characterobject.pt = 1200;
			characterobject.pth = 0;
			characterobject.vy -= 6;
			if(characterobject.vy <= 14)
			{
				characterobject.c = 76;
				characterobject.x = characterobject.x - 16;
				characterobject.vx = characterobject.x + 24;
				characterobject.c3 = 32;
				characterobject.pt = 1210;
				characterobject.pth = 0;
			}
			if(characterobject.c2 >= 0 && this.co_t[characterobject.c2].c < 100)
				characterobject.c = 0;
			break;

		case 76:
			characterobject.x -= 18;
			if(characterobject.x < this.maps.wx - 32)
				characterobject.x = this.maps.wx - 32;
			if(this.maps.map_bg[rightShiftIgnoreSign(characterobject.x, 5)][rightShiftIgnoreSign(characterobject.y + 15, 5)] >= 20)
				characterobject.x = rightShiftIgnoreSign(characterobject.x, 5) * 32 + 32;
			if(characterobject.c3 > 0)
			{
				characterobject.c3--;
				if(characterobject.c2 >= 0 && this.co_t[characterobject.c2].c < 100 && characterobject.x + 18 < characterobject.vx)
					characterobject.c3 = 0;
			} else
			{
				characterobject.vx -= 18;
				if(characterobject.vx <= characterobject.x + 16)
					characterobject.c = 0;
			}
			if(this.co_j.c >= 100 && this.co_j.c < 200 && characterobject.x <= (this.co_j.x + 31) - 8 && characterobject.vx - 20 >= this.co_j.x + 8 && Math.abs(characterobject.y - this.co_j.y) <= 22 && this.j_v_c <= 0)
				this.jShinu(1);
			characterobject.pt = 1210;
			characterobject.pth = 0;
			break;

		case 77:
			characterobject.pt = 1220;
			characterobject.pth = 0;
			characterobject.vy -= 6;
			if(characterobject.vy <= 14)
			{
				characterobject.c = 78;
				characterobject.x = characterobject.x - 16;
				characterobject.vx = characterobject.x + 24;
				characterobject.c3 = 32;
				characterobject.pt = 1230;
				characterobject.pth = 0;
			}
			if(characterobject.c2 >= 0 && this.co_t[characterobject.c2].c < 100)
				characterobject.c = 0;
			break;

		case 78:
			characterobject.x -= 18;
			if(characterobject.x < this.maps.wx - 32)
				characterobject.x = this.maps.wx - 32;
			if(this.maps.map_bg[rightShiftIgnoreSign(characterobject.x, 5)][rightShiftIgnoreSign(characterobject.y + 15, 5)] >= 20)
				characterobject.x = rightShiftIgnoreSign(characterobject.x, 5) * 32 + 32;
			if(characterobject.c3 > 0)
			{
				characterobject.c3--;
				if(characterobject.c2 >= 0 && this.co_t[characterobject.c2].c < 100 && characterobject.x + 18 < characterobject.vx)
					characterobject.c3 = 0;
			} else
			{
				characterobject.vx -= 18;
				if(characterobject.vx <= characterobject.x + 16)
					characterobject.c = 0;
			}
			if(this.co_j.c >= 100 && this.co_j.c < 200 && characterobject.x <= (this.co_j.x + 31) - 8 && characterobject.vx - 20 >= this.co_j.x + 8 && Math.abs(characterobject.y - this.co_j.y) <= 26 && this.j_v_c <= 0)
				this.jShinu(1);
			characterobject.pt = 1230;
			characterobject.pth = 0;
			break;

		case 80:
			if(characterobject.vy >= 5)
				if(characterobject.vx > 2)
					characterobject.vx--;
				else
				if(characterobject.vx < -2)
					characterobject.vx++;
			characterobject.x += characterobject.vx;
			characterobject.vy += 4;
			if(characterobject.vy > 30)
				characterobject.vy = 30;
			characterobject.y += characterobject.vy;
			if(characterobject.y >= this.maps.wy + 320)
				characterobject.c = 0;
			characterobject.pt = 136;
			if(characterobject.vx < 0)
				characterobject.pth = 0;
			else
				characterobject.pth = 1;
			break;

		case 85:
			characterobject.pt = 1200;
			characterobject.pth = 0;
			characterobject.vy -= 6;
			if(characterobject.vy <= 14)
			{
				characterobject.c = 86;
				characterobject.x = characterobject.x + 32 + 16;
				characterobject.vx = characterobject.x - 24;
				characterobject.c3 = 32;
				characterobject.pt = 1215;
				characterobject.pth = 0;
			}
			if(characterobject.c2 >= 0 && this.co_t[characterobject.c2].c < 100)
				characterobject.c = 0;
			break;

		case 86:
			characterobject.x += 18;
			if(characterobject.x > this.maps.wx + 512 + 16)
				characterobject.x = this.maps.wx + 512 + 16;
			if(this.maps.map_bg[rightShiftIgnoreSign(characterobject.x, 5)][rightShiftIgnoreSign(characterobject.y + 15, 5)] >= 20)
				characterobject.x = rightShiftIgnoreSign(characterobject.x, 5) * 32 - 1;
			if(characterobject.c3 > 0)
			{
				characterobject.c3--;
				if(characterobject.c2 >= 0 && this.co_t[characterobject.c2].c < 100 && characterobject.x + 18 < characterobject.vx)
					characterobject.c3 = 0;
			} else
			{
				characterobject.vx += 18;
				if(characterobject.vx >= characterobject.x - 16)
					characterobject.c = 0;
			}
			if(this.co_j.c >= 100 && this.co_j.c < 200 && characterobject.x >= this.co_j.x + 8 && characterobject.vx + 20 <= this.co_j.x + 24 && Math.abs(characterobject.y - this.co_j.y) <= 22 && this.j_v_c <= 0)
				this.jShinu(1);
			characterobject.pt = 1215;
			characterobject.pth = 0;
			break;

		case 87:
			characterobject.pt = 1220;
			characterobject.pth = 0;
			characterobject.vy -= 6;
			if(characterobject.vy <= 14)
			{
				characterobject.c = 88;
				characterobject.x = characterobject.x + 32 + 16;
				characterobject.vx = characterobject.x - 24;
				characterobject.c3 = 32;
				characterobject.pt = 1235;
				characterobject.pth = 0;
			}
			if(characterobject.c2 >= 0 && this.co_t[characterobject.c2].c < 100)
				characterobject.c = 0;
			break;

		case 88:
			characterobject.x += 18;
			if(characterobject.x > this.maps.wx + 512 + 16)
				characterobject.x = this.maps.wx + 512 + 16;
			if(this.maps.map_bg[rightShiftIgnoreSign(characterobject.x, 5)][rightShiftIgnoreSign(characterobject.y + 15, 5)] >= 20)
				characterobject.x = rightShiftIgnoreSign(characterobject.x, 5) * 32 - 1;
			if(characterobject.c3 > 0)
			{
				characterobject.c3--;
				if(characterobject.c2 >= 0 && this.co_t[characterobject.c2].c < 100 && characterobject.x + 18 < characterobject.vx)
					characterobject.c3 = 0;
			} else
			{
				characterobject.vx += 18;
				if(characterobject.vx >= characterobject.x - 16)
					characterobject.c = 0;
			}
			if(this.co_j.c >= 100 && this.co_j.c < 200 && characterobject.x >= this.co_j.x + 8 && characterobject.vx + 20 <= this.co_j.x + 24 && Math.abs(characterobject.y - this.co_j.y) <= 26 && this.j_v_c <= 0)
				this.jShinu(1);
			characterobject.pt = 1235;
			characterobject.pth = 0;
			break;

		case 90:
			if(characterobject.c2 < 48)
			{
				characterobject.c2 += 4;
				if(characterobject.c2 >= 48)
				{
					characterobject.c2 = 48;
					var l2 = this.co_j.x - characterobject.x;
					var l4 = this.co_j.y - characterobject.y;
					var l7 = Math.floor(Math.sqrt(l2 * l2 + l4 * l4));
					if(l7 < 32 || this.co_j.c < 100 || this.co_j.c >= 200)
					{
						if(characterobject.x < this.maps.wx + 256)
							characterobject.vx = 14;
						else
							characterobject.vx = -14;
						characterobject.vy = 0;
					} else
					{
						characterobject.vx = rounddown((14 * l2) / l7);
						characterobject.vy = rounddown((14 * l4) / l7);
					}
				}
			} else
			{
				characterobject.x += characterobject.vx;
				characterobject.y += characterobject.vy;
				if(characterobject.x <= this.maps.wx - 32 - 32 || characterobject.x >= this.maps.wx + 512 + 128 + 32)
					characterobject.c = 0;
				else
				if(characterobject.y <= this.maps.wy - 32 - 200 - 32 || characterobject.y >= this.maps.wy + 320 + 32)
					characterobject.c = 0;
			}
			if(this.co_j.c >= 100 && this.co_j.c < 200)
			{
				var i3 = this.co_j.x - characterobject.x;
				var i5 = this.co_j.y - characterobject.y;
				var i8 = Math.floor(Math.sqrt(i3 * i3 + i5 * i5));
				if(i8 + 4 <= characterobject.c2)
					if(this.j_v_c > 0)
						characterobject.c = 0;
					else
						this.jShinu(1);
			}
			characterobject.pt = 1000;
			break;

		case 95:
			if(characterobject.c2 < 64)
			{
				characterobject.c2 += 4;
				if(characterobject.c2 >= 64)
					characterobject.c2 = 64;
			} else
			{
				characterobject.x += characterobject.vx;
				characterobject.y += characterobject.vy;
				if(characterobject.x <= this.maps.wx - 32 - 64 || characterobject.x >= this.maps.wx + 512 + 128 + 64)
					characterobject.c = 0;
				else
				if(characterobject.y <= this.maps.wy - 32 - 200 - 64 || characterobject.y >= this.maps.wy + 320 + 64)
					characterobject.c = 0;
			}
			if(this.co_j.c >= 100 && this.co_j.c < 200)
			{
				var j3 = this.co_j.x - characterobject.x;
				var j5 = this.co_j.y - characterobject.y;
				var j8 = Math.floor(Math.sqrt(j3 * j3 + j5 * j5));
				if(j8 + 4 <= characterobject.c2)
					if(this.j_v_c > 0)
						characterobject.c = 0;
					else
						this.jShinu(1);
			}
			characterobject.pt = 1010;
			break;

		case 100:
			characterobject.x += characterobject.vx;
			characterobject.y += characterobject.vy;
			var k3 = rightShiftIgnoreSign(characterobject.x + 15, 5);
			if(this.maps.map_bg[k3][rightShiftIgnoreSign(characterobject.y + 12, 5)] >= 20 || this.maps.map_bg[k3][rightShiftIgnoreSign(characterobject.y + 18, 5)] >= 20)
				characterobject.c = 0;
			if(this.dengeki_mkf != 2 && this.maps.getBGCode(characterobject.x + 15, characterobject.y + 15) == 4)
				characterobject.c = 0;
			if(characterobject.x <= this.maps.wx - 32 || characterobject.x >= this.maps.wx + 512 + 128)
				characterobject.c = 0;
			else
			if(characterobject.y <= this.maps.wy - 32 - 200 || characterobject.y >= this.maps.wy + 320)
				characterobject.c = 0;
			if(this.g_c1 == 0)
			{
				characterobject.pt = 120;
				characterobject.pth = 0;
			} else
			{
				characterobject.pt = 121;
				characterobject.pth = 0;
			}
			break;

		case 150: 
			characterobject.x += characterobject.vx;
			characterobject.y += characterobject.vy;
			if(this.maps.map_bg[rightShiftIgnoreSign(characterobject.x + 15, 5)][rightShiftIgnoreSign(characterobject.y + 15, 5)] >= 20)
				characterobject.c = 0;
			if(this.dengeki_mkf != 2 && this.maps.getBGCode(characterobject.x + 15, characterobject.y + 15) == 4)
				characterobject.c = 0;
			if(characterobject.x <= this.maps.wx - 32 || characterobject.x >= this.maps.wx + 512 + 128)
				characterobject.c = 0;
			else
			if(characterobject.y <= this.maps.wy - 32 - 200 || characterobject.y >= this.maps.wy + 320)
				characterobject.c = 0;
			if(this.g_c1 == 0)
			{
				characterobject.pt = 120;
				characterobject.pth = 0;
			} else
			{
				characterobject.pt = 121;
				characterobject.pth = 0;
			}
			break;

		case 200: 
			characterobject.x += characterobject.vx;
			characterobject.vy += 2;
			if(characterobject.vy > 12)
				characterobject.vy = 12;
			var j = characterobject.vy;
			if(j < -18)
				j = -18;
			characterobject.y += j;
			if(characterobject.y >= this.maps.wy + 320)
				characterobject.c = 0;
			if(characterobject.c2 == 1)
			{
				var l3 = rightShiftIgnoreSign(characterobject.x + 15, 5);
				if(this.maps.map_bg[l3][rightShiftIgnoreSign(characterobject.y + 12, 5)] >= 20 || this.maps.map_bg[l3][rightShiftIgnoreSign(characterobject.y + 20, 5)] >= 20)
					characterobject.c = 0;
			}
			switch(this.g_c2)
			{
			case 0:
				characterobject.pt = 122;
				break;

			case 1:
				characterobject.pt = 123;
				break;

			case 2:
				characterobject.pt = 124;
				break;

			case 3:
				characterobject.pt = 125;
				break;
			}
			characterobject.pth = 0;
			break;

		case 300: 
			characterobject.x += characterobject.vx;
			var k5 = rightShiftIgnoreSign(characterobject.y + 15, 5);
			if(this.maps.map_bg[rightShiftIgnoreSign(characterobject.x + 8, 5)][k5] >= 20 || this.maps.map_bg[rightShiftIgnoreSign(characterobject.x + 23, 5)][k5] >= 20)
				characterobject.c = 0;
			if(characterobject.x <= this.maps.wx - 32 || characterobject.x >= this.maps.wx + 512 + 128)
				characterobject.c = 0;
			if(this.g_c1 == 0)
				characterobject.pt = 126;
			else
				characterobject.pt = 127;
			if(characterobject.vx <= 0)
				characterobject.pth = 0;
			else
				characterobject.pth = 1;
			break;

		case 400: 
			characterobject.x += rounddown(characterobject.vx / 10);
			characterobject.vy += 25;
			if(characterobject.vy > 180)
				characterobject.vy = 180;
			characterobject.y += rounddown(characterobject.vy / 10);
			if(characterobject.y >= this.maps.wy + 320)
				characterobject.c = 0;
			var i4 = rightShiftIgnoreSign(characterobject.x + 15, 5);
			if(this.maps.map_bg[i4][rightShiftIgnoreSign(characterobject.y + 15, 5)] >= 20)
				characterobject.c = 0;
			if(this.g_c1 == 0)
				characterobject.pt = 128;
			else
				characterobject.pt = 129;
			if(characterobject.vx <= 0)
				characterobject.pth = 0;
			else
				characterobject.pth = 1;
			break;

		case 500: 
			if(characterobject.vy >= 5)
				if(characterobject.vx > 2)
					characterobject.vx--;
				else
				if(characterobject.vx < -2)
					characterobject.vx++;
			characterobject.x += characterobject.vx;
			characterobject.vy += 2;
			if(characterobject.vy > 12)
				characterobject.vy = 12;
			var k = characterobject.vy;
			if(k < -16)
				k = -16;
			characterobject.y += k;
			if(characterobject.y >= this.maps.wy + 320)
				characterobject.c = 0;
			characterobject.pt = 139;
			characterobject.pth = 0;
			break;

		case 550: 
			if(characterobject.vy >= 5)
				if(characterobject.vx > 2)
					characterobject.vx--;
				else
				if(characterobject.vx < -2)
					characterobject.vx++;
			characterobject.x += characterobject.vx;
			characterobject.vy -= 2;
			if(characterobject.vy < -12)
				characterobject.vy = -12;
			var l = characterobject.vy;
			if(l < -16)
				l = -16;
			characterobject.y += l;
			if(characterobject.y <= this.maps.wy - 32)
				characterobject.c = 0;
			characterobject.pt = 139;
			characterobject.pth = 0;
			break;

		case 600: 
			if(characterobject.vx > 0)
				characterobject.vx -= 2;
			else
			if(characterobject.vx < 0)
				characterobject.vx += 2;
			characterobject.x += rounddown(characterobject.vx / 10);
			characterobject.vy += 8;
			if(characterobject.vy > 200)
				characterobject.vy = 200;
			characterobject.y += rounddown(characterobject.vy / 10);
			if(this.maps.map_bg[rightShiftIgnoreSign(characterobject.x + 15, 5)][rightShiftIgnoreSign(characterobject.y + 15, 5)] >= 20)
			{
				characterobject.c = 610;
				characterobject.c1 = 0;
				characterobject.y = rightShiftIgnoreSign(characterobject.y + 15, 5) * 32 - 16;
				this.gs.rsAddSound(19);
			}
			if(characterobject.x <= this.maps.wx - 32 - 64 || characterobject.x >= this.maps.wx + 512 + 64)
				characterobject.c = 0;
			else
			if(characterobject.y <= this.maps.wy - 32 - 200 || characterobject.y >= this.maps.wy + 320)
				characterobject.c = 0;
			if(characterobject.vx > 28)
			{
				characterobject.pt = 171;
				characterobject.pth = 1;
			} else
			if(characterobject.vx < -28)
			{
				characterobject.pt = 171;
				characterobject.pth = 0;
			} else
			{
				characterobject.pt = 170;
				characterobject.pth = 0;
			}
			break;

		case 610: 
			characterobject.c1++;
			if(characterobject.c1 <= 3)
				characterobject.pt = 172;
			else
			if(characterobject.c1 <= 6)
				characterobject.pt = 173;
			else
			if(characterobject.c1 <= 9)
			{
				characterobject.pt = 174;
			} else
			{
				characterobject.c = 0;
				characterobject.pt = 198;
			}
			characterobject.pth = 0;
			break;

		case 700: 
			characterobject.x += characterobject.vx;
			characterobject.y += characterobject.vy;
			if(characterobject.x <= this.maps.wx - 32 || characterobject.x >= this.maps.wx + 512 + 32)
				characterobject.c = 0;
			else
			if(characterobject.y <= this.maps.wy - 64 || characterobject.y >= this.maps.wy + 320 + 64)
				characterobject.c = 0;
			var i1 = this.maps.getBGCode(characterobject.x + 15, characterobject.y + 15);
			if(characterobject.c2 == 0 && i1 >= 20)
				characterobject.c = 0;
			if(characterobject.c2 == 0 && i1 <= 3)
				characterobject.c = 0;
			if((characterobject.c2 == 3 || characterobject.c2 == 4 || characterobject.c2 == 5 || characterobject.c2 == 6) && i1 >= 20)
				characterobject.c = 0;
			characterobject.pt = 168 + this.g_c1;
			characterobject.pth = 0;
			if(characterobject.c2 == 2)
				characterobject.pt = 134;
			else
			if(characterobject.c2 == 4)
			{
				switch(this.g_c2)
				{
				case 0:
					characterobject.pt = 122;
					break;

				case 1:
					characterobject.pt = 123;
					break;

				case 2:
					characterobject.pt = 124;
					break;

				case 3:
					characterobject.pt = 125;
					break;
				}
				if(characterobject.vx <= 0)
					characterobject.pth = 0;
				else
					characterobject.pth = 1;
			} else
			if(characterobject.c2 == 5)
			{
				if(this.g_c1 == 0)
					characterobject.pt = 128;
				else
					characterobject.pt = 129;
				if(characterobject.vx <= 0)
					characterobject.pth = 0;
				else
					characterobject.pth = 1;
			} else
			if(characterobject.c2 == 6)
			{
				if(this.g_c1 == 0)
					characterobject.pt = 120;
				else
					characterobject.pt = 121;
				if(characterobject.vx <= 0)
					characterobject.pth = 0;
				else
					characterobject.pth = 1;
			}
			break;

		case 740: 
			characterobject.x += characterobject.vx;
			characterobject.y += characterobject.vy;
			if(characterobject.x <= this.maps.wx - 32 || characterobject.x >= this.maps.wx + 512 + 32)
				characterobject.c = 0;
			else
			if(characterobject.y <= this.maps.wy - 64 || characterobject.y >= this.maps.wy + 320 + 64)
				characterobject.c = 0;
			characterobject.pt = 139;
			characterobject.pth = 0;
			break;

		case 800: 
			if(characterobject.vy == 9999)
			{
				characterobject.x += characterobject.vx;
				if(characterobject.x <= this.maps.wx - 16 || characterobject.x >= (this.maps.wx + 512) - 16)
					characterobject.c = 0;
				if(this.maps.getBGCode(characterobject.x, characterobject.y + 15) >= 20 || this.maps.getBGCode(characterobject.x + 31, characterobject.y + 15) >= 20)
				{
					characterobject.c = 70;
					characterobject.c1 = 1;
					characterobject.c2 = 20;
				}
			} else
			{
				if(characterobject.vy >= 5)
					if(characterobject.vx > 2)
						characterobject.vx--;
					else
					if(characterobject.vx < -2)
						characterobject.vx++;
				characterobject.x += characterobject.vx;
				characterobject.vy += 4;
				if(characterobject.vy > 28)
					characterobject.vy = 28;
				characterobject.y += characterobject.vy;
				if(characterobject.y >= this.maps.wy + 320)
					characterobject.c = 0;
				if(this.maps.getBGCode(characterobject.x + 15, characterobject.y + 31) >= 20)
				{
					characterobject.c = 70;
					characterobject.y = rightShiftIgnoreSign(characterobject.y + 31, 5) * 32 - 16;
					characterobject.c1 = 1;
					characterobject.c2 = 20;
				}
			}
			characterobject.pt = 137 + this.g_c1;
			if(characterobject.vx < 0)
				characterobject.pth = 0;
			else
				characterobject.pth = 1;
			break;

		case 900: 
			characterobject.c1 += 4;
			if(characterobject.c1 < 128)
				characterobject.c2 += 3;
			else
			if(characterobject.c1 < 192)
				characterobject.c2 += 3;
			else
			if(characterobject.c1 < 256)
				characterobject.c2 += 2;
			else
			if(characterobject.c1 < 288)
				characterobject.c2 += 2;
			else
			if(characterobject.c1 < 384)
				characterobject.c2++;
			else
			if(characterobject.c1 < 448)
				characterobject.c2++;
			else
				characterobject.c2++;
			if(characterobject.c2 >= 360)
				characterobject.c2 -= 360;
			if(characterobject.c1 > 576)
				characterobject.c = 0;
			characterobject.x = characterobject.vx + Math.floor(Math.cos((characterobject.c2 * 3.14) / 180) * characterobject.c1);
			characterobject.y = characterobject.vy + Math.floor(Math.sin((characterobject.c2 * 3.14) / 180) * -1 * characterobject.c1);
			if(characterobject.c3 == 1)
			{
				characterobject.pt = 168 + this.g_c1;
				characterobject.pth = 0;
			} else
			{
				characterobject.pt = 134;
				characterobject.pth = 0;
			}
			break;

		case 910: 
			characterobject.c1 += 4;
			if(characterobject.c1 < 128)
				characterobject.c2 -= 3;
			else
			if(characterobject.c1 < 192)
				characterobject.c2 -= 3;
			else
			if(characterobject.c1 < 256)
				characterobject.c2 -= 2;
			else
			if(characterobject.c1 < 288)
				characterobject.c2 -= 2;
			else
			if(characterobject.c1 < 384)
				characterobject.c2--;
			else
			if(characterobject.c1 < 416)
				characterobject.c2--;
			else
				characterobject.c2--;
			if(characterobject.c2 < 0)
				characterobject.c2 += 360;
			if(characterobject.c1 > 576)
				characterobject.c = 0;
			characterobject.x = characterobject.vx + Math.floor(Math.cos((characterobject.c2 * 3.14) / 180) * characterobject.c1);
			characterobject.y = characterobject.vy + Math.floor(Math.sin((characterobject.c2 * 3.14) / 180) * -1 * characterobject.c1);
			if(characterobject.c3 == 1)
			{
				characterobject.pt = 168 + this.g_c1;
				characterobject.pth = 0;
			} else
			{
				characterobject.pt = 134;
				characterobject.pth = 0;
			}
			break;

		case 950: 
			characterobject.c1 += 4;
			if(characterobject.c1 < 128)
				characterobject.c2 += 3;
			else
			if(characterobject.c1 < 192)
				characterobject.c2 += 3;
			else
			if(characterobject.c1 < 256)
				characterobject.c2 += 2;
			else
			if(characterobject.c1 < 288)
				characterobject.c2 += 2;
			else
			if(characterobject.c1 < 384)
				characterobject.c2++;
			else
			if(characterobject.c1 < 448)
				characterobject.c2++;
			else
				characterobject.c2++;
			if(characterobject.c2 >= 360)
				characterobject.c2 -= 360;
			if(characterobject.c1 > 204)
				characterobject.c = 0;
			characterobject.x = characterobject.vx + Math.floor(Math.cos((characterobject.c2 * 3.14) / 180) * characterobject.c1);
			characterobject.y = characterobject.vy + Math.floor(Math.sin((characterobject.c2 * 3.14) / 180) * -1 * characterobject.c1);
			characterobject.pt = 168 + this.g_c1;
			characterobject.pth = 0;
			break;

		case 960: 
			characterobject.c1 += 4;
			if(characterobject.c1 < 128)
				characterobject.c2 -= 3;
			else
			if(characterobject.c1 < 192)
				characterobject.c2 -= 3;
			else
			if(characterobject.c1 < 256)
				characterobject.c2 -= 2;
			else
			if(characterobject.c1 < 288)
				characterobject.c2 -= 2;
			else
			if(characterobject.c1 < 384)
				characterobject.c2--;
			else
			if(characterobject.c1 < 416)
				characterobject.c2--;
			else
				characterobject.c2--;
			if(characterobject.c2 < 0)
				characterobject.c2 += 360;
			if(characterobject.c1 > 204)
				characterobject.c = 0;
			characterobject.x = characterobject.vx + Math.floor(Math.cos((characterobject.c2 * 3.14) / 180) * characterobject.c1);
			characterobject.y = characterobject.vy + Math.floor(Math.sin((characterobject.c2 * 3.14) / 180) * -1 * characterobject.c1);
			characterobject.pt = 168 + this.g_c1;
			characterobject.pth = 0;
			break;

		case 970: 
			characterobject.c1 += 4;
			if(characterobject.c1 < 128)
				characterobject.c2 += 5;
			else
			if(characterobject.c1 < 192)
				characterobject.c2 += 5;
			else
			if(characterobject.c1 < 256)
				characterobject.c2 += 5;
			else
			if(characterobject.c1 < 288)
				characterobject.c2 += 4;
			else
			if(characterobject.c1 < 384)
				characterobject.c2 += 3;
			else
			if(characterobject.c1 < 448)
				characterobject.c2 += 2;
			else
				characterobject.c2 += 2;
			if(characterobject.c2 >= 360)
				characterobject.c2 -= 360;
			if(characterobject.c1 > 80)
			{
				characterobject.c1 = 80;
				characterobject.vx -= 6;
			}
			if(characterobject.vx < this.maps.wx - 100)
				characterobject.c = 0;
			characterobject.x = characterobject.vx + Math.floor(Math.cos((characterobject.c2 * 3.14) / 180) * characterobject.c1);
			characterobject.y = characterobject.vy + Math.floor(Math.sin((characterobject.c2 * 3.14) / 180) * -1 * characterobject.c1);
			characterobject.pt = 168 + this.g_c1;
			characterobject.pth = 0;
			break;

		case 980: 
			characterobject.c1 += 4;
			if(characterobject.c1 < 128)
				characterobject.c2 -= 5;
			else
			if(characterobject.c1 < 192)
				characterobject.c2 -= 5;
			else
			if(characterobject.c1 < 256)
				characterobject.c2 -= 5;
			else
			if(characterobject.c1 < 288)
				characterobject.c2 -= 4;
			else
			if(characterobject.c1 < 384)
				characterobject.c2 -= 3;
			else
			if(characterobject.c1 < 448)
				characterobject.c2 -= 2;
			else
				characterobject.c2 -= 2;
			if(characterobject.c2 < 0)
				characterobject.c2 += 360;
			if(characterobject.c1 > 80)
			{
				characterobject.c1 = 80;
				characterobject.vx += 6;
			}
			if(characterobject.vx > this.maps.wx + 512 + 100)
				characterobject.c = 0;
			characterobject.x = characterobject.vx + Math.floor(Math.cos((characterobject.c2 * 3.14) / 180) * characterobject.c1);
			characterobject.y = characterobject.vy + Math.floor(Math.sin((characterobject.c2 * 3.14) / 180) * -1 * characterobject.c1);
			characterobject.pt = 168 + this.g_c1;
			characterobject.pth = 0;
			break;

		case 2000: 
			characterobject.vy += 30;
			if(characterobject.vy > 180)
				characterobject.vy = 180;
			characterobject.y += rounddown(characterobject.vy / 10);
			if(characterobject.vy >= 0 && characterobject.y >= characterobject.c3)
			{
				characterobject.y = characterobject.c3;
				characterobject.vy = 0;
			}
			if((this.scroll_area < 2 || this.scroll_area > 5) && this.j_tokugi != 14 && this.j_tokugi != 15 && (characterobject.x <= this.maps.wx - 32 || characterobject.x >= this.maps.wx + 512))
				characterobject.c = 0;
			characterobject.pt = 90 + this.g_ac2;
			characterobject.pth = 0;
			break;

		case 2100: 
			if((this.scroll_area < 2 || this.scroll_area > 5) && this.j_tokugi != 14 && this.j_tokugi != 15 && characterobject.c2 != 11 && (characterobject.x <= this.maps.wx - 32 || characterobject.x >= this.maps.wx + 512))
				characterobject.c = 0;
			characterobject.pt = 42 + characterobject.c2;
			if(characterobject.c2 == 8)
				characterobject.pt = 59;
			else
			if(characterobject.c2 == 9)
				characterobject.pt = 109;
			else
			if(characterobject.c2 == 10)
				characterobject.pt = 107;
			else
			if(characterobject.c2 == 11)
				characterobject.pt = 97;
			else
			if(characterobject.c2 == 12)
				characterobject.pt = 42;
			else
			if(characterobject.c2 == 13)
				characterobject.pt = 42;
			else
			if(characterobject.c2 == 14)
				characterobject.pt = 42;
			else
			if(characterobject.c2 == 15)
				characterobject.pt = 49;
			else
			if(characterobject.c2 == 16)
				characterobject.pt = 1300;
			characterobject.pth = 0;
			break;

		case 2200: 
			if(characterobject.x < this.maps.wx)
				characterobject.x = this.maps.wx;
			else
			if(characterobject.x > (this.maps.wx + 512) - 32)
				characterobject.x = (this.maps.wx + 512) - 32;
			if(characterobject.y < this.maps.wy + 64)
				characterobject.y = this.maps.wy + 64;
			else
			if(characterobject.y > this.maps.wy + 224)
				characterobject.y = this.maps.wy + 224;
			if(this.stage_max >= 2 && this.stage >= this.stage_max)
			{
				if(this.g_ac2 == 0)
					characterobject.pt = 99;
				else
					characterobject.pt = 98;
			} else
			if(this.g_ac2 == 0)
				characterobject.pt = 95;
			else
				characterobject.pt = 94;
			characterobject.pth = 0;
			break;
		}
		if((characterobject.c == 100 || characterobject.c == 300 || characterobject.c == 400 || characterobject.c == 600 || characterobject.c == 700 && (characterobject.c2 == 3 || characterobject.c2 == 4 || characterobject.c2 == 5 || characterobject.c2 == 6) || characterobject.c == 800) && this.yuka_id_max >= 0)
		{
			for(var l6 = 0; l6 <= this.yuka_id_max; l6++)
			{
				if(this.yo[l6].con >= 300 && this.yo[l6].con < 350)
				{
					var j1 = this.getSCOY(this.yo[l6].x, this.yo[l6].y, this.yo[l6].x2, this.yo[l6].y2, characterobject.x + 15);
					if(j1 < 0 || j1 + 8 > characterobject.y || j1 + 39 < characterobject.y)
						continue;
					if(characterobject.c == 600)
					{
						characterobject.y = j1 + 16;
						characterobject.c = 610;
						characterobject.c1 = 0;
						this.gs.rsAddSound(19);
						continue;
					}
					if(characterobject.c == 800)
					{
						characterobject.c = 70;
						characterobject.y = j1 + 16;
						characterobject.c1 = 1;
						characterobject.c2 = 20;
					} else
					{
						characterobject.c = 0;
					}
					continue;
				}
				if(this.yo[l6].con >= 350 && this.yo[l6].con < 400)
				{
					var k1 = this.getSHCOY(this.yo[l6].x, this.yo[l6].y, this.yo[l6].x2, this.yo[l6].y2, characterobject.x + 15);
					if(k1 < 0 || k1 + 8 > characterobject.y || k1 + 39 < characterobject.y)
						continue;
					if(characterobject.c == 600)
					{
						characterobject.y = k1 + 16;
						characterobject.c = 610;
						characterobject.c1 = 0;
						this.gs.rsAddSound(19);
						continue;
					}
					if(characterobject.c == 800)
					{
						characterobject.c = 70;
						characterobject.y = k1 + 16;
						characterobject.c1 = 1;
						characterobject.c2 = 20;
					} else
					{
						characterobject.c = 0;
					}
					continue;
				}
				if(this.yo[l6].con >= 400 && this.yo[l6].con < 450)
				{
					var l1 = this.getSWUpOY(this.yo[l6].x, this.yo[l6].y, this.yo[l6].x2, this.yo[l6].y2, characterobject.x + 15);
					if(l1 < 0 || l1 + 8 > characterobject.y || l1 + 39 < characterobject.y)
						continue;
					if(characterobject.c == 600)
					{
						characterobject.y = l1 + 16;
						characterobject.c = 610;
						characterobject.c1 = 0;
						this.gs.rsAddSound(19);
						continue;
					}
					if(characterobject.c == 800)
					{
						characterobject.c = 70;
						characterobject.y = l1 + 16;
						characterobject.c1 = 1;
						characterobject.c2 = 20;
					} else
					{
						characterobject.c = 0;
					}
					continue;
				}
				if(this.yo[l6].con < 450 || this.yo[l6].con >= 500)
					continue;
				var i2 = this.getSWDownOY(this.yo[l6].x, this.yo[l6].y, this.yo[l6].x2, this.yo[l6].y2, characterobject.x + 15);
				if(i2 < 0 || i2 + 8 > characterobject.y || i2 + 39 < characterobject.y)
					continue;
				if(characterobject.c == 600)
				{
					characterobject.y = i2 + 16;
					characterobject.c = 610;
					characterobject.c1 = 0;
					this.gs.rsAddSound(19);
					continue;
				}
				if(characterobject.c == 800)
				{
					characterobject.c = 70;
					characterobject.y = i2 + 16;
					characterobject.c1 = 1;
					characterobject.c2 = 20;
				} else
				{
					characterobject.c = 0;
				}
			}

		}
		if(characterobject.c == 0)
		{
			this.m_kazu--;
			continue;
		}
		if(this.co_j.c < 100 || this.co_j.c >= 200)
			continue;
		if(characterobject.c >= 2000)
		{
			if(Math.abs(characterobject.x - this.co_j.x) > 14 || characterobject.y > this.co_j.y + 26 || characterobject.y + 15 < this.co_j.y)
				continue;
			this.addScore(5);
			if(characterobject.c == 2000)
				this.gs.rsAddSound(6);
			else
			if(characterobject.c == 2100)
			{
				this.gs.rsAddSound(7);
				if(characterobject.c2 == 0)
				{
					this.j_fire_f = true;
					this.j_fire_type = this.default_j_fire_type;
					if(this.j_tokugi == 7)
						this.j_fire_type = 2;
					if(this.j_fire_type == 3 || this.j_fire_type == 4)
						this.j_fire_range = 10;
					else
					if(this.j_fire_type == 2)
						this.j_fire_range = 9999;
				} else
				if(characterobject.c2 == 1)
				{
					this.j_v_c = 150;
					this.j_v_kakudo = 0;
				} else
				if(characterobject.c2 == 2)
				{
					if(this.time_max > 0)
						this.time += 30000;
				} else
				if(characterobject.c2 == 3)
					this.j_jet_fuel += 80;
				else
				if(characterobject.c2 == 4)
					this.j_helm_f = true;
				else
				if(characterobject.c2 == 5)
					this.j_tail_f = true;
				else
				if(characterobject.c2 == 6)
					this.j_drell_f = true;
				else
				if(characterobject.c2 == 7)
					this.j_gr_kazu++;
				else
				if(characterobject.c2 == 8)
				{
					if(this.j_tokugi == 17)
					{
						var j2 = this.getMyHP();
						if(j2 < 10)
							this.setMyHP(String(j2 + 1));
					} else
					{
						this.j_left++;
					}
				} else
				if(characterobject.c2 == 9)
					this.j_double_f = true;
				else
				if(characterobject.c2 == 10)
				{
					if(this.co_mu[0].c == 0)
					{
						this.co_mu[0].c = 100;
						if(this.co_b.c == 100 || this.co_b.c == 200 || this.co_b.c == 300)
							this.boss_hp += 10;
						for(var i7 = 0; i7 <= 7; i7++)
						{
							var l5 = this.mu_ato_p - i7;
							if(l5 < 0)
								l5 += 32;
							this.mu_ato_x[l5] = this.co_j.x;
							this.mu_ato_y[l5] = this.co_j.y;
						}

						var i6 = this.mu_ato_p - 7;
						if(i6 < 0)
							i6 += 32;
						this.co_mu[0].x = this.mu_ato_x[i6];
						this.co_mu[0].y = this.mu_ato_y[i6];
					} else
					if(this.co_mu[1].c == 0)
					{
						this.co_mu[1].c = 100;
						if(this.co_b.c == 100 || this.co_b.c == 200 || this.co_b.c == 300)
							this.boss_hp += 10;
						for(var j7 = 8; j7 <= 14; j7++)
						{
							var j6 = this.mu_ato_p - j7;
							if(j6 < 0)
								j6 += 32;
							this.mu_ato_x[j6] = this.co_mu[0].x;
							this.mu_ato_y[j6] = this.co_mu[0].y;
						}

						var k6 = this.mu_ato_p - 14;
						if(k6 < 0)
							k6 += 32;
						this.co_mu[1].x = this.mu_ato_x[k6];
						this.co_mu[1].y = this.mu_ato_y[k6];
					}
				} else
				if(characterobject.c2 == 11)
				{
					if(this.spot_c == 100)
					{
						this.spot_r += 48;
						if(this.spot_r > 400)
							this.spot_c = 0;
					}
				} else
				if(characterobject.c2 == 12)
				{
					this.j_fire_f = true;
					this.j_fire_type = 2;
					this.j_fire_range = 9999;
				} else
				if(characterobject.c2 == 13)
				{
					this.j_fire_f = true;
					this.j_fire_type = 1;
				} else
				if(characterobject.c2 == 14)
				{
					this.j_fire_f = true;
					this.j_fire_type = 4;
					this.j_fire_range = 10;
				} else
				if(characterobject.c2 == 15)
					this.j_gr_kazu += 5;
				else
				if(characterobject.c2 == 16)
				{
					this.cpoint_con = 100;
					this.cpoint_stage = this.stage;
					this.cpoint_x = characterobject.x;
					this.cpoint_y = characterobject.y;
				}
			} else
			if(characterobject.c == 2200)
			{
				this.stage_cc = 1;
				if(this.stage_max >= 2 && this.stage >= this.stage_max)
					this.addScore(995);
				else
					this.addScore(95);
				this.gs.rsAddSound(2);
			}
			characterobject.c = 0;
			this.m_kazu--;
			continue;
		}
		if(characterobject.c < 100)
			continue;
		var flag = false;
		if(this.j_tokugi == 14 || this.j_tokugi == 15)
		{
			if(Math.abs(characterobject.x - this.co_j.x) <= 22 && Math.abs(characterobject.y - this.co_j.y) <= 22)
				flag = true;
		} else
		if(Math.abs(characterobject.x - this.co_j.x) <= 23 && Math.abs(characterobject.y - this.co_j.y) <= 28)
			flag = true;
		if(!flag)
			continue;
		if(this.j_v_c > 0 || this.j_cannon_c > 0 && this.j_cannon_type == 2 || this.j_cannon_c > 5 && this.j_cannon_type == 3 || this.j_jump_type == 7)
		{
			characterobject.c = 0;
			this.m_kazu--;
			continue;
		}
		if(this.j_muteki_c <= 0)
		{
			this.setMyHPDamage("1");
			if(this.getMyHP() <= 0)
				this.jShinu(1);
		}
		if(characterobject.c == 800)
		{
			characterobject.c = 70;
			characterobject.c1 = 1;
			characterobject.c2 = 20;
		}
	}

}

MainProgram.prototype.jmSet = function(i, j, k)
{
	var l = 0;
	do
	{
		if(l > 1)
			break;
		if(this.co_jm[l].c <= 0)
		{
			var characterobject = this.co_jm[l];
			characterobject.c = k;
			characterobject.x = i;
			characterobject.y = j + 8;
			characterobject.c1 = 0;
			characterobject.c2 = 0;
			this.jm_kazu++;
			switch(k)
			{
			case 60:
				characterobject.x = i + 16;
				characterobject.y = j;
				characterobject.vx = i + 16;
				characterobject.c4 = 8;
				this.j_gr_kazu--;
				this.gs.rsAddSound(23);
				break;

			case 65:
				characterobject.x = i + 16;
				characterobject.y = j;
				characterobject.vx = i + 16;
				characterobject.c4 = 8;
				this.j_gr_kazu--;
				this.gs.rsAddSound(23);
				break;

			case 100:
				characterobject.vx = rounddown(this.co_j.vx / 10) - 10;
				characterobject.vy = -28;
				if(Math.abs(characterobject.vx) < 2)
					characterobject.vx = -2;
				if(this.j_tokugi == 14)
				{
					characterobject.c = 101;
					characterobject.y = j;
					characterobject.vx = -16;
					characterobject.vy = 0;
				} else
				if(this.j_tokugi == 15)
				{
					characterobject.c = 101;
					characterobject.y = j;
					characterobject.vx = -16;
					characterobject.vy = 0;
					if(this.j_4_muki == 2)
					{
						characterobject.vx = 0;
						characterobject.vy = -16;
					} else
					if(this.j_4_muki == 3)
					{
						characterobject.vx = 0;
						characterobject.vy = 16;
					}
				} else
				if(this.j_fire_type == 3)
				{
					characterobject.c = 101;
					characterobject.y = j;
					characterobject.vx = -20;
					characterobject.vy = 0;
				} else
				if(this.j_fire_type == 2)
				{
					characterobject.c = 101;
					characterobject.y = j;
					characterobject.vx = rounddown(this.co_j.vx / 10) - 12;
					characterobject.vy = 0;
					if(Math.abs(characterobject.vx) < 6)
						characterobject.vx = -6;
				}
				this.gs.rsAddSound(23);
				break;

			case 105:
				characterobject.vx = rounddown(this.co_j.vx / 10) + 10;
				characterobject.vy = -28;
				if(Math.abs(characterobject.vx) < 2)
					characterobject.vx = 2;
				if(this.j_tokugi == 14)
				{
					characterobject.c = 106;
					characterobject.y = j;
					characterobject.vx = 16;
					characterobject.vy = 0;
				} else
				if(this.j_tokugi == 15)
				{
					characterobject.c = 106;
					characterobject.y = j;
					characterobject.vx = 16;
					characterobject.vy = 0;
					if(this.j_4_muki == 2)
					{
						characterobject.vx = 0;
						characterobject.vy = -16;
					} else
					if(this.j_4_muki == 3)
					{
						characterobject.vx = 0;
						characterobject.vy = 16;
					}
				} else
				if(this.j_fire_type == 3)
				{
					characterobject.c = 106;
					characterobject.y = j;
					characterobject.vx = 20;
					characterobject.vy = 0;
				} else
				if(this.j_fire_type == 2)
				{
					characterobject.c = 106;
					characterobject.y = j;
					characterobject.vx = rounddown(this.co_j.vx / 10) + 12;
					characterobject.vy = 0;
					if(Math.abs(characterobject.vx) < 6)
						characterobject.vx = 6;
				}
				this.gs.rsAddSound(23);
				break;

			case 110:
				characterobject.x = i;
				characterobject.y = j;
				characterobject.vx = -10;
				characterobject.vy = -10;
				this.gs.rsAddSound(23);
				break;

			case 115:
				characterobject.c = 110;
				characterobject.x = i;
				characterobject.y = j;
				characterobject.vx = 10;
				characterobject.vy = -10;
				this.gs.rsAddSound(23);
				break;

			case 200: 
				characterobject.vx = rounddown(this.co_j.vx / 10) - 10;
				characterobject.vy = -35;
				if(Math.abs(characterobject.vx) < 2)
					characterobject.vx = -2;
				if(this.grenade_type == 5 || this.grenade_type == 6)
				{
					characterobject.y = j;
					characterobject.vx = -20;
					characterobject.vy = 0;
				}
				this.j_gr_kazu--;
				this.gs.rsAddSound(23);
				break;

			case 205: 
				characterobject.c = 200;
				if(this.j_tokugi == 14)
				{
					characterobject.vx = 10;
					characterobject.vy = 0;
				} else
				{
					characterobject.vx = rounddown(this.co_j.vx / 10) + 10;
					characterobject.vy = -35;
					if(Math.abs(characterobject.vx) < 2)
						characterobject.vx = 2;
				}
				if(this.grenade_type == 5 || this.grenade_type == 6)
				{
					characterobject.y = j;
					characterobject.vx = 20;
					characterobject.vy = 0;
				}
				this.j_gr_kazu--;
				this.gs.rsAddSound(23);
				break;

			case 1206: 
				characterobject.c = 200;
				characterobject.c4 = 2;
				characterobject.x = (i + 16) - 10;
				characterobject.y = j;
				characterobject.vx = 20;
				characterobject.vy = 0;
				this.j_gr_kazu--;
				this.gs.rsAddSound(23);
				break;

			case 1207: 
				characterobject.c = 200;
				characterobject.c4 = 2;
				characterobject.x = i + 16 + 10;
				characterobject.y = j;
				characterobject.vx = -20;
				characterobject.vy = 0;
				this.j_gr_kazu--;
				this.gs.rsAddSound(23);
				break;
			}
			break;
		}
		l++;
	} while(true);
}

MainProgram.prototype.jmSet2 = function(i, j, k, l)
{
	var i1 = l;
	if(this.co_jm[i1].c > 0)
		return;
	var characterobject = this.co_jm[i1];
	characterobject.c = k;
	characterobject.x = i;
	characterobject.y = j + 8;
	characterobject.c1 = 0;
	characterobject.c2 = 0;
	characterobject.c4 = 0;
	this.jm_kazu++;
	switch(k)
	{
	default:
		break;

	case 50:
		characterobject.x = i;
		characterobject.y = j;
		characterobject.c = 50;
		characterobject.c1 = 1;
		characterobject.c2 = 20;
		this.j_gr_kazu--;
		this.gs.rsAddSound(23);
		break;

	case 60:
		characterobject.x = i + 16;
		characterobject.y = j;
		characterobject.vx = i + 16;
		characterobject.c4 = 8;
		this.j_gr_kazu--;
		this.gs.rsAddSound(23);
		break;

	case 65:
		characterobject.x = i + 16;
		characterobject.y = j;
		characterobject.vx = i + 16;
		characterobject.c4 = 8;
		this.j_gr_kazu--;
		this.gs.rsAddSound(23);
		break;

	case 100:
		characterobject.vx = rounddown(this.co_j.vx / 10) - 10;
		characterobject.vy = -28;
		if(Math.abs(characterobject.vx) < 2)
			characterobject.vx = -2;
		if(this.j_tokugi == 14)
		{
			characterobject.c = 101;
			characterobject.y = j;
			characterobject.vx = -16;
			characterobject.vy = 0;
		} else
		if(this.j_tokugi == 15)
		{
			characterobject.c = 101;
			characterobject.y = j;
			characterobject.vx = -16;
			characterobject.vy = 0;
			if(this.j_4_muki == 2)
			{
				characterobject.vx = 0;
				characterobject.vy = -16;
			} else
			if(this.j_4_muki == 3)
			{
				characterobject.vx = 0;
				characterobject.vy = 16;
			}
		}
		this.gs.rsAddSound(23);
		break;

	case 105:
		characterobject.vx = rounddown(this.co_j.vx / 10) + 10;
		characterobject.vy = -28;
		if(Math.abs(characterobject.vx) < 2)
			characterobject.vx = 2;
		if(this.j_tokugi == 14)
		{
			characterobject.c = 106;
			characterobject.y = j;
			characterobject.vx = 16;
			characterobject.vy = 0;
		} else
		if(this.j_tokugi == 15)
		{
			characterobject.c = 106;
			characterobject.y = j;
			characterobject.vx = 16;
			characterobject.vy = 0;
			if(this.j_4_muki == 2)
			{
				characterobject.vx = 0;
				characterobject.vy = -16;
			} else
			if(this.j_4_muki == 3)
			{
				characterobject.vx = 0;
				characterobject.vy = 16;
			}
		}
		this.gs.rsAddSound(23);
		break;

	case 200: 
		characterobject.vx = rounddown(this.co_j.vx / 10) - 10;
		characterobject.vy = -35;
		if(Math.abs(characterobject.vx) < 2)
			characterobject.vx = -2;
		if(this.grenade_type == 5 || this.grenade_type == 6 || this.j_tokugi == 15)
		{
			characterobject.y = j;
			characterobject.vx = -20;
			characterobject.vy = 0;
			if(this.j_tokugi == 15)
				if(this.j_4_muki == 2)
				{
					characterobject.vx = 0;
					characterobject.vy = -20;
				} else
				if(this.j_4_muki == 3)
				{
					characterobject.vx = 0;
					characterobject.vy = 20;
				}
		}
		this.j_gr_kazu--;
		this.gs.rsAddSound(23);
		break;

	case 205: 
		characterobject.c = 200;
		if(this.j_tokugi == 14)
		{
			characterobject.vx = 10;
			characterobject.vy = 0;
		} else
		{
			characterobject.vx = rounddown(this.co_j.vx / 10) + 10;
			characterobject.vy = -35;
			if(Math.abs(characterobject.vx) < 2)
				characterobject.vx = 2;
		}
		if(this.grenade_type == 5 || this.grenade_type == 6 || this.j_tokugi == 15)
		{
			characterobject.y = j;
			characterobject.vx = 20;
			characterobject.vy = 0;
			if(this.j_tokugi == 15)
				if(this.j_4_muki == 2)
				{
					characterobject.vx = 0;
					characterobject.vy = -20;
				} else
				if(this.j_4_muki == 3)
				{
					characterobject.vx = 0;
					characterobject.vy = 20;
				}
		}
		this.j_gr_kazu--;
		this.gs.rsAddSound(23);
		break;

	case 206: 
		characterobject.c = 200;
		characterobject.c4 = 2;
		characterobject.x = i + 16;
		characterobject.y = j;
		characterobject.vx = 16;
		characterobject.vy = 0;
		this.gs.rsAddSound(23);
		break;

	case 207: 
		characterobject.c = 200;
		characterobject.c4 = 2;
		characterobject.x = i - 16;
		characterobject.y = j;
		characterobject.vx = -16;
		characterobject.vy = 0;
		this.gs.rsAddSound(23);
		break;

	case 208: 
		characterobject.c = 200;
		characterobject.c4 = 2;
		characterobject.y = j - 16;
		characterobject.vx = 0;
		characterobject.vy = -16;
		this.gs.rsAddSound(23);
		break;

	case 209: 
		characterobject.c = 200;
		characterobject.c4 = 2;
		characterobject.y = j + 24;
		characterobject.vx = 0;
		characterobject.vy = 18;
		this.gs.rsAddSound(23);
		break;
	}
}

MainProgram.prototype.jmMove = function()
{
	for(var i = 0; i <= 8; i++)
	{
		if(this.co_jm[i].c == 0)
			continue;
		var characterobject = this.co_jm[i];
		switch(characterobject.c)
		{
		case 50:
			characterobject.c1++;
			switch(characterobject.c1)
			{
			case 1:
				characterobject.c2 = 20;
				break;

			case 2:
				characterobject.c2 = 34;
				break;

			case 3:
				characterobject.c2 = 46;
				break;

			case 4:
				characterobject.c2 = 56;
				break;

			case 5:
				characterobject.c2 = 64;
				break;

			case 6:
				characterobject.c2 = 70;
				break;

			case 7:
				characterobject.c2 = 74;
				break;

			case 8:
				characterobject.c2 = 77;
				break;

			case 9:
				characterobject.c2 = 79;
				break;

			case 10:
				characterobject.c2 = 80;
				break;
			}
			if(characterobject.c1 > 10)
			{
				characterobject.c2 = 10;
				characterobject.c = 0;
			}
			if(characterobject.c4 == 2 && characterobject.c1 == 10)
			{
				var i9 = rightShiftIgnoreSign(characterobject.x + 15, 5);
				var k12 = rightShiftIgnoreSign(characterobject.y + 15, 5);
				characterobject.x = i9 * 32;
				characterobject.y = k12 * 32;
				for(var i16 = -1; i16 <= 1; i16++)
				{
					for(var k15 = -1; k15 <= 1; k15++)
						if(i9 + k15 >= 1 && i9 + k15 <= this.mapWidth && k12 + i16 >= 10 && k12 + i16 <= this.mapHeight + 9 && this.maps.map_bg[i9 + k15][k12 + i16] == 20)
							this.maps.putBGCode(i9 + k15, k12 + i16, 0);

				}

			}
			if(this.grenade_type == 7)
			{
				characterobject.c2 += 16;
				if(this.sl_step == 10 || this.sl_step == 11)
					characterobject.x += this.sl_speed;
				for(var j = 0; j <= 79; j++)
				{
					if(this.co_m[j].c < 100 || this.co_m[j].c > 2000)
						continue;
					var characterobject1 = this.co_m[j];
					var j9 = characterobject1.x - characterobject.x;
					var l12 = characterobject1.y - characterobject.y;
					var k16 = Math.floor(Math.sqrt(j9 * j9 + l12 * l12));
					if(k16 <= characterobject.c2 + 8)
					{
						characterobject1.c = 0;
						this.m_kazu--;
					}
				}

			}
			for(var k = 0; k <= this.t_kazu; k++)
			{
				if(this.co_t[k].c < 100)
					continue;
				var characterobject2 = this.co_t[k];
				var k9 = characterobject2.x - characterobject.x;
				var i13 = characterobject2.y - characterobject.y;
				var l16 = Math.floor(Math.sqrt(k9 * k9 + i13 * i13));
				if(l16 > characterobject.c2 + 8)
					continue;
				if(characterobject.x > characterobject2.x)
				{
					characterobject2.pth = 1;
					characterobject2.vx = -3;
				} else
				{
					characterobject2.pth = 0;
					characterobject2.vx = 3;
				}
				if(characterobject2.c >= 1200 && characterobject2.c < 1300)
				{
					characterobject2.c = 54;
					characterobject2.vy = -25;
				} else
				if(characterobject2.c >= 1400 && characterobject2.c < 1500)
				{
					characterobject2.c = 57;
					characterobject2.c1 = 0;
				} else
				if(characterobject2.c == 1190)
				{
					characterobject2.c = 55;
					characterobject2.c1 = 0;
					var l9 = rightShiftIgnoreSign(characterobject2.x, 5);
					var j13 = rightShiftIgnoreSign(characterobject2.y, 5);
					if(characterobject2.c5 == 1)
						this.onASwitch(l9 - 5, j13 - 5, l9 + 5, j13 + 5);
					else
						this.onASwitch(l9 - 10, j13 - 10, l9 + 10, j13 + 10);
				} else
				{
					characterobject2.c = 52;
					characterobject2.vy = -25;
					if(this.j_tokugi == 14 || this.j_tokugi == 15)
					{
						characterobject2.c = 55;
						characterobject2.c1 = 0;
					}
				}
				this.gs.rsAddSound(9);
			}

			if((this.grenade_type == 1 || this.grenade_type == 5) && this.co_b.c >= 100)
			{
				var i10 = this.co_b.x - characterobject.x;
				var k13 = this.co_b.y - characterobject.y;
				var i17 = Math.floor(Math.sqrt(i10 * i10 + k13 * k13));
				if(i17 <= characterobject.c2 + 20)
					if(this.j_tokugi == 14 || this.j_tokugi == 15)
					{
						if(this.co_b.c < 200)
						{
							this.co_b.c4 = 0;
							this.co_b.c = 60;
							this.co_b.c1 = 0;
							this.co_b.pt = 1010;
							this.co_b.y -= 16;
							this.gs.rsAddSound(8);
						} else
						if(this.co_b.c < 300)
						{
							this.co_b.c4 = 0;
							this.co_b.c = 70;
							this.co_b.c1 = 0;
							this.co_b.pt = 1110;
							this.co_b.y -= 16;
							this.gs.rsAddSound(8);
						} else
						{
							this.co_b.c4 = 0;
							this.co_b.c = 80;
							this.co_b.c1 = 0;
							this.co_b.pt = 1210;
							this.co_b.y -= 16;
							this.gs.rsAddSound(8);
						}
					} else
					if(this.co_b.c < 200)
					{
						this.co_b.c = 67;
						this.co_b.vy = -24;
						this.co_b.c1 = 0;
						if(characterobject.x > this.co_b.x)
						{
							this.co_b.muki = 1;
							this.co_b.pt = 1005;
							this.co_b.vx = -4;
						} else
						{
							this.co_b.muki = 0;
							this.co_b.pt = 1000;
							this.co_b.vx = 4;
						}
						this.gs.rsAddSound(9);
					} else
					if(this.co_b.c < 300)
					{
						this.co_b.c = 77;
						this.co_b.vy = -24;
						this.co_b.c1 = 0;
						if(characterobject.x > this.co_b.x)
						{
							this.co_b.muki = 1;
							this.co_b.pt = 1105;
							this.co_b.vx = -4;
						} else
						{
							this.co_b.muki = 0;
							this.co_b.pt = 1100;
							this.co_b.vx = 4;
						}
						this.gs.rsAddSound(9);
					} else
					{
						this.co_b.c = 87;
						this.co_b.vy = -24;
						this.co_b.c1 = 0;
						if(characterobject.x > this.co_b.x)
						{
							this.co_b.muki = 1;
							this.co_b.pt = 1205;
							this.co_b.vx = -4;
						} else
						{
							this.co_b.muki = 0;
							this.co_b.pt = 1200;
							this.co_b.vx = 4;
						}
						this.gs.rsAddSound(9);
					}
			}
			characterobject.pt = 1000;
			characterobject.pth = 0;
			break;

		case 60:
			characterobject.y = this.co_j.y;
			characterobject.x -= 28;
			if(characterobject.x <= this.maps.wx - 32)
				characterobject.x = this.maps.wx - 32;
			if(characterobject.c4 > 0)
			{
				characterobject.c4--;
				characterobject.vx = this.co_j.x + 16;
			} else
			{
				characterobject.vx -= 28;
				if(characterobject.vx <= characterobject.x)
					characterobject.c = 0;
			}
			for(var l = 0; l <= this.t_kazu; l++)
			{
				if(this.co_t[l].c < 100)
					continue;
				var characterobject3 = this.co_t[l];
				if(characterobject3.x <= characterobject.x - 12 || characterobject3.x >= characterobject.vx + 12 || Math.abs(characterobject3.y - characterobject.y) >= 24)
					continue;
				characterobject3.pth = 0;
				characterobject3.vx = -3;
				if(characterobject3.c >= 1200 && characterobject3.c < 1300)
				{
					characterobject3.c = 54;
					characterobject3.vy = -25;
				} else
				if(characterobject3.c >= 1400 && characterobject3.c < 1500)
				{
					characterobject3.c = 57;
					characterobject3.c1 = 0;
				} else
				if(characterobject3.c == 1190)
				{
					characterobject3.c = 55;
					characterobject3.c1 = 0;
					var j10 = rightShiftIgnoreSign(characterobject3.x, 5);
					var l13 = rightShiftIgnoreSign(characterobject3.y, 5);
					if(characterobject3.c5 == 1)
						this.onASwitch(j10 - 5, l13 - 5, j10 + 5, l13 + 5);
					else
						this.onASwitch(j10 - 10, l13 - 10, j10 + 10, l13 + 10);
				} else
				{
					characterobject3.c = 52;
					characterobject3.vy = -25;
					if(this.j_tokugi == 14 || this.j_tokugi == 15)
					{
						characterobject3.c = 55;
						characterobject3.c1 = 0;
					}
				}
				this.gs.rsAddSound(9);
			}

			if(this.grenade_type == 3 && this.co_b.c >= 100 && this.co_b.x > characterobject.x - 24 && this.co_b.x < characterobject.vx + 24 && Math.abs(this.co_b.y - characterobject.y) < 36)
				if(this.j_tokugi == 14 || this.j_tokugi == 15)
				{
					if(this.co_b.c < 200)
					{
						this.co_b.c4 = 0;
						this.co_b.c = 60;
						this.co_b.c1 = 0;
						this.co_b.pt = 1010;
						this.co_b.y -= 16;
						this.gs.rsAddSound(8);
					} else
					if(this.co_b.c < 300)
					{
						this.co_b.c4 = 0;
						this.co_b.c = 70;
						this.co_b.c1 = 0;
						this.co_b.pt = 1110;
						this.co_b.y -= 16;
						this.gs.rsAddSound(8);
					} else
					{
						this.co_b.c4 = 0;
						this.co_b.c = 80;
						this.co_b.c1 = 0;
						this.co_b.pt = 1210;
						this.co_b.y -= 16;
						this.gs.rsAddSound(8);
					}
				} else
				if(this.co_b.c < 200)
				{
					this.co_b.c = 67;
					this.co_b.vy = -24;
					this.co_b.c1 = 0;
					this.co_b.muki = 1;
					this.co_b.pt = 1005;
					this.co_b.vx = -4;
					this.gs.rsAddSound(9);
				} else
				if(this.co_b.c < 300)
				{
					this.co_b.c = 77;
					this.co_b.vy = -24;
					this.co_b.c1 = 0;
					this.co_b.muki = 1;
					this.co_b.pt = 1105;
					this.co_b.vx = -4;
					this.gs.rsAddSound(9);
				} else
				{
					this.co_b.c = 87;
					this.co_b.vy = -24;
					this.co_b.c1 = 0;
					this.co_b.muki = 1;
					this.co_b.pt = 1205;
					this.co_b.vx = -4;
					this.gs.rsAddSound(9);
				}
			if(this.co_j.c < 100 || this.co_j.c >= 200)
				characterobject.c = 0;
			characterobject.pt = 1200;
			break;

		case 65:
			characterobject.y = this.co_j.y;
			characterobject.x += 28;
			if(characterobject.x >= this.maps.wx + 512 + 32)
				characterobject.x = this.maps.wx + 512 + 32;
			if(characterobject.c4 > 0)
			{
				characterobject.c4--;
				characterobject.vx = this.co_j.x + 16;
			} else
			{
				characterobject.vx += 28;
				if(characterobject.vx >= characterobject.x)
					characterobject.c = 0;
			}
			for(var i1 = 0; i1 <= this.t_kazu; i1++)
			{
				if(this.co_t[i1].c < 100)
					continue;
				var characterobject4 = this.co_t[i1];
				if(characterobject4.x <= characterobject.vx - 12 || characterobject4.x >= characterobject.x + 12 || Math.abs(characterobject4.y - characterobject.y) >= 24)
					continue;
				characterobject4.pth = 0;
				characterobject4.vx = 3;
				if(characterobject4.c >= 1200 && characterobject4.c < 1300)
				{
					characterobject4.c = 54;
					characterobject4.vy = -25;
				} else
				if(characterobject4.c >= 1400 && characterobject4.c < 1500)
				{
					characterobject4.c = 57;
					characterobject4.c1 = 0;
				} else
				if(characterobject4.c == 1190)
				{
					characterobject4.c = 55;
					characterobject4.c1 = 0;
					var k10 = rightShiftIgnoreSign(characterobject4.x, 5);
					var i14 = rightShiftIgnoreSign(characterobject4.y, 5);
					if(characterobject4.c5 == 1)
						this.onASwitch(k10 - 5, i14 - 5, k10 + 5, i14 + 5);
					else
						this.onASwitch(k10 - 10, i14 - 10, k10 + 10, i14 + 10);
				} else
				{
					characterobject4.c = 52;
					characterobject4.vy = -25;
					if(this.j_tokugi == 14 || this.j_tokugi == 15)
					{
						characterobject4.c = 55;
						characterobject4.c1 = 0;
					}
				}
				this.gs.rsAddSound(9);
			}

			if(this.grenade_type == 3 && this.co_b.c >= 100 && this.co_b.x > characterobject.vx - 24 && this.co_b.x < characterobject.x + 24 && Math.abs(this.co_b.y - characterobject.y) < 36)
				if(this.j_tokugi == 14 || this.j_tokugi == 15)
				{
					if(this.co_b.c < 200)
					{
						this.co_b.c4 = 0;
						this.co_b.c = 60;
						this.co_b.c1 = 0;
						this.co_b.pt = 1010;
						this.co_b.y -= 16;
						this.gs.rsAddSound(8);
					} else
					if(this.co_b.c < 300)
					{
						this.co_b.c4 = 0;
						this.co_b.c = 70;
						this.co_b.c1 = 0;
						this.co_b.pt = 1110;
						this.co_b.y -= 16;
						this.gs.rsAddSound(8);
					} else
					{
						this.co_b.c4 = 0;
						this.co_b.c = 80;
						this.co_b.c1 = 0;
						this.co_b.pt = 1210;
						this.co_b.y -= 16;
						this.gs.rsAddSound(8);
					}
				} else
				if(this.co_b.c < 200)
				{
					this.co_b.c = 67;
					this.co_b.vy = -24;
					this.co_b.c1 = 0;
					this.co_b.muki = 0;
					this.co_b.pt = 1000;
					this.co_b.vx = 4;
					this.gs.rsAddSound(9);
				} else
				if(this.co_b.c < 300)
				{
					this.co_b.c = 77;
					this.co_b.vy = -24;
					this.co_b.c1 = 0;
					this.co_b.muki = 0;
					this.co_b.pt = 1100;
					this.co_b.vx = 4;
					this.gs.rsAddSound(9);
				} else
				{
					this.co_b.c = 87;
					this.co_b.vy = -24;
					this.co_b.c1 = 0;
					this.co_b.muki = 0;
					this.co_b.pt = 1200;
					this.co_b.vx = 4;
					this.gs.rsAddSound(9);
				}
			if(this.co_j.c < 100 || this.co_j.c >= 200)
				characterobject.c = 0;
			characterobject.pt = 1205;
			break;

		case 100:
			var l10 = characterobject.x;
			characterobject.x += characterobject.vx;
			if(rightShiftIgnoreSign(l10 + 7, 5) > rightShiftIgnoreSign(characterobject.x + 7, 5) && this.maps.getBGCode(l10 + 7, characterobject.y + 15) == 19 && this.maps.getBGCode(characterobject.x + 7, characterobject.y + 15) >= 20)
				characterobject.y = rightShiftIgnoreSign(characterobject.y + 15, 5) * 32 - 24;
			if(this.maps.getBGCode(characterobject.x + 7, characterobject.y + 15) >= 20)
				characterobject.c = 0;
			characterobject.vy += 5;
			if(characterobject.vy > 25)
				characterobject.vy = 25;
			var j14 = characterobject.y;
			characterobject.y += characterobject.vy;
			if(characterobject.vy < 0 && this.maps.getBGCode(characterobject.x + 15, characterobject.y + 8) >= 20)
				characterobject.c = 0;
			var i3 = this.maps.getBGCode(characterobject.x + 15, characterobject.y + 23);
			if(i3 >= 20 || i3 == 15 || i3 == 10)
			{
				characterobject.y = rightShiftIgnoreSign(characterobject.y + 23, 5) * 32 - 24;
				characterobject.vy = -28;
			} else
			if(rightShiftIgnoreSign(j14 + 23, 5) < rightShiftIgnoreSign(characterobject.y + 23, 5))
			{
				i3 = this.maps.getBGCode(characterobject.x + 15, j14 + 23);
				if(i3 == 18 || i3 == 19)
				{
					characterobject.y = rightShiftIgnoreSign(characterobject.y + 23, 5) * 32 - 24;
					characterobject.vy = -28;
				}
			}
			i3 = this.maps.getBGCode(characterobject.x + 15, characterobject.y + 23);
			if((i3 == 18 || i3 == 19) && this.getSakamichiY(characterobject.x + 15, characterobject.y + 23) + 8 < characterobject.y)
			{
				characterobject.y = this.getSakamichiY(characterobject.x + 15, characterobject.y + 23) + 8;
				characterobject.vy = -28;
			}
			if(this.yuka_id_max >= 0 && characterobject.vy > 0)
			{
				for(var j1 = 0; j1 <= this.yuka_id_max; j1++)
				{
					if(this.yo[j1].con >= 300 && this.yo[j1].con < 350)
					{
						var j3 = this.getSCOY(this.yo[j1].x, this.yo[j1].y, this.yo[j1].x2, this.yo[j1].y2, characterobject.x + 15);
						if(j3 >= 0 && j3 + 8 <= characterobject.y && j3 + 47 >= characterobject.y)
						{
							characterobject.y = j3 + 8;
							characterobject.vy = -28;
						}
						continue;
					}
					if(this.yo[j1].con >= 350 && this.yo[j1].con < 400)
					{
						var k3 = this.getSHCOY(this.yo[j1].x, this.yo[j1].y, this.yo[j1].x2, this.yo[j1].y2, characterobject.x + 15);
						if(k3 >= 0 && k3 + 8 <= characterobject.y && k3 + 47 >= characterobject.y)
						{
							characterobject.y = k3 + 8;
							characterobject.vy = -28;
						}
						continue;
					}
					if(this.yo[j1].con >= 400 && this.yo[j1].con < 450)
					{
						var l3 = this.getSWUpOY(this.yo[j1].x, this.yo[j1].y, this.yo[j1].x2, this.yo[j1].y2, characterobject.x + 15);
						if(l3 >= 0 && l3 + 8 <= characterobject.y && l3 + 47 >= characterobject.y)
						{
							characterobject.y = l3 + 8;
							characterobject.vy = -28;
						}
						continue;
					}
					if(this.yo[j1].con < 450 || this.yo[j1].con >= 500)
						continue;
					var i4 = this.getSWDownOY(this.yo[j1].x, this.yo[j1].y, this.yo[j1].x2, this.yo[j1].y2, characterobject.x + 15);
					if(i4 >= 0 && i4 + 8 <= characterobject.y && i4 + 47 >= characterobject.y)
					{
						characterobject.y = i4 + 8;
						characterobject.vy = -28;
					}
				}

			}
			if(!this.j_fire_mkf && this.maps.getBGCode(characterobject.x + 15, characterobject.y + 15) == 4)
				characterobject.c = 0;
			if(characterobject.x <= this.maps.wx - 24 || characterobject.x >= (this.maps.wx + 512) - 8 || characterobject.y <= this.maps.wy - 128 || characterobject.y >= this.maps.wy + 384)
				characterobject.c = 0;
			characterobject.pt = 130 + this.g_c2;
			characterobject.pth = 0;
			break;

		case 101:
			characterobject.x += characterobject.vx;
			characterobject.y += characterobject.vy;
			if(this.maps.getBGCode(characterobject.x + 7, characterobject.y + 15) >= 20 || this.maps.getBGCode(characterobject.x + 7, characterobject.y + 15) == 18)
				characterobject.c = 0;
			if(this.yuka_id_max >= 0)
			{
				for(var k1 = 0; k1 <= this.yuka_id_max; k1++)
				{
					if(this.yo[k1].con >= 300 && this.yo[k1].con < 350)
					{
						var j4 = this.getSCOY(this.yo[k1].x, this.yo[k1].y, this.yo[k1].x2, this.yo[k1].y2, characterobject.x + 15);
						if(j4 >= 0 && j4 + 8 <= characterobject.y && j4 + 47 >= characterobject.y)
							characterobject.c = 0;
						continue;
					}
					if(this.yo[k1].con >= 350 && this.yo[k1].con < 400)
					{
						var k4 = this.getSHCOY(this.yo[k1].x, this.yo[k1].y, this.yo[k1].x2, this.yo[k1].y2, characterobject.x + 15);
						if(k4 >= 0 && k4 + 8 <= characterobject.y && k4 + 47 >= characterobject.y)
							characterobject.c = 0;
						continue;
					}
					if(this.yo[k1].con >= 400 && this.yo[k1].con < 450)
					{
						var l4 = this.getSWUpOY(this.yo[k1].x, this.yo[k1].y, this.yo[k1].x2, this.yo[k1].y2, characterobject.x + 15);
						if(l4 >= 0 && l4 + 8 <= characterobject.y && l4 + 47 >= characterobject.y)
							characterobject.c = 0;
						continue;
					}
					if(this.yo[k1].con < 450 || this.yo[k1].con >= 500)
						continue;
					var i5 = this.getSWDownOY(this.yo[k1].x, this.yo[k1].y, this.yo[k1].x2, this.yo[k1].y2, characterobject.x + 15);
					if(i5 >= 0 && i5 + 8 <= characterobject.y && i5 + 47 >= characterobject.y)
						characterobject.c = 0;
				}

			}
			characterobject.c2++;
			if(characterobject.c2 > this.j_fire_range)
				characterobject.c = 0;
			if(!this.j_fire_mkf && this.maps.getBGCode(characterobject.x + 15, characterobject.y + 15) == 4)
				characterobject.c = 0;
			if(characterobject.x <= this.maps.wx - 24 || characterobject.x >= (this.maps.wx + 512) - 8 || characterobject.y <= this.maps.wy - 24 || characterobject.y >= (this.maps.wy + 320) - 8)
				characterobject.c = 0;
			characterobject.pt = 130 + this.g_c2;
			characterobject.pth = 0;
			break;

		case 105:
			var j11 = characterobject.x;
			characterobject.x += characterobject.vx;
			if(rightShiftIgnoreSign(j11 + 23, 5) < rightShiftIgnoreSign(characterobject.x + 23, 5) && this.maps.getBGCode(j11 + 23, characterobject.y + 15) == 18 && this.maps.getBGCode(characterobject.x + 23, characterobject.y + 15) >= 20)
				characterobject.y = rightShiftIgnoreSign(characterobject.y + 15, 5) * 32 - 24;
			if(this.maps.getBGCode(characterobject.x + 23, characterobject.y + 15) >= 20)
				characterobject.c = 0;
			characterobject.vy += 5;
			if(characterobject.vy > 25)
				characterobject.vy = 25;
			var k14 = characterobject.y;
			characterobject.y += characterobject.vy;
			if(characterobject.vy < 0 && this.maps.getBGCode(characterobject.x + 15, characterobject.y + 8) >= 20)
				characterobject.c = 0;
			var j5 = this.maps.getBGCode(characterobject.x + 15, characterobject.y + 23);
			if(j5 >= 20 || j5 == 15 || j5 == 10)
			{
				characterobject.y = rightShiftIgnoreSign(characterobject.y + 23, 5) * 32 - 24;
				characterobject.vy = -28;
			} else
			if(rightShiftIgnoreSign(k14 + 23, 5) < rightShiftIgnoreSign(characterobject.y + 23, 5))
			{
				j5 = this.maps.getBGCode(characterobject.x + 15, k14 + 23);
				if(j5 == 18 || j5 == 19)
				{
					characterobject.y = rightShiftIgnoreSign(characterobject.y + 23, 5) * 32 - 24;
					characterobject.vy = -28;
				}
			}
			j5 = this.maps.getBGCode(characterobject.x + 15, characterobject.y + 23);
			if((j5 == 18 || j5 == 19) && this.getSakamichiY(characterobject.x + 15, characterobject.y + 23) + 8 < characterobject.y)
			{
				characterobject.y = this.getSakamichiY(characterobject.x + 15, characterobject.y + 23) + 8;
				characterobject.vy = -28;
			}
			if(this.yuka_id_max >= 0 && characterobject.vy > 0)
			{
				for(var l1 = 0; l1 <= this.yuka_id_max; l1++)
				{
					if(this.yo[l1].con >= 300 && this.yo[l1].con < 350)
					{
						var k5 = this.getSCOY(this.yo[l1].x, this.yo[l1].y, this.yo[l1].x2, this.yo[l1].y2, characterobject.x + 15);
						if(k5 >= 0 && k5 + 8 <= characterobject.y && k5 + 47 >= characterobject.y)
						{
							characterobject.y = k5 + 8;
							characterobject.vy = -28;
						}
						continue;
					}
					if(this.yo[l1].con >= 350 && this.yo[l1].con < 400)
					{
						var l5 = this.getSHCOY(this.yo[l1].x, this.yo[l1].y, this.yo[l1].x2, this.yo[l1].y2, characterobject.x + 15);
						if(l5 >= 0 && l5 + 8 <= characterobject.y && l5 + 47 >= characterobject.y)
						{
							characterobject.y = l5 + 8;
							characterobject.vy = -28;
						}
						continue;
					}
					if(this.yo[l1].con >= 400 && this.yo[l1].con < 450)
					{
						var i6 = this.getSWUpOY(this.yo[l1].x, this.yo[l1].y, this.yo[l1].x2, this.yo[l1].y2, characterobject.x + 15);
						if(i6 >= 0 && i6 + 8 <= characterobject.y && i6 + 47 >= characterobject.y)
						{
							characterobject.y = i6 + 8;
							characterobject.vy = -28;
						}
						continue;
					}
					if(this.yo[l1].con < 450 || this.yo[l1].con >= 500)
						continue;
					var j6 = this.getSWDownOY(this.yo[l1].x, this.yo[l1].y, this.yo[l1].x2, this.yo[l1].y2, characterobject.x + 15);
					if(j6 >= 0 && j6 + 8 <= characterobject.y && j6 + 47 >= characterobject.y)
					{
						characterobject.y = j6 + 8;
						characterobject.vy = -28;
					}
				}

			}
			if(!this.j_fire_mkf && this.maps.getBGCode(characterobject.x + 15, characterobject.y + 15) == 4)
				characterobject.c = 0;
			if(characterobject.x <= this.maps.wx - 24 || characterobject.x >= (this.maps.wx + 512) - 8 || characterobject.y <= this.maps.wy - 128 || characterobject.y >= this.maps.wy + 384)
				characterobject.c = 0;
			characterobject.pt = 130 + this.g_c2;
			characterobject.pth = 1;
			break;

		case 106:
			characterobject.x += characterobject.vx;
			characterobject.y += characterobject.vy;
			if(this.maps.getBGCode(characterobject.x + 23, characterobject.y + 15) >= 19)
				characterobject.c = 0;
			if(this.yuka_id_max >= 0)
			{
				for(var i2 = 0; i2 <= this.yuka_id_max; i2++)
				{
					if(this.yo[i2].con >= 300 && this.yo[i2].con < 350)
					{
						var k6 = this.getSCOY(this.yo[i2].x, this.yo[i2].y, this.yo[i2].x2, this.yo[i2].y2, characterobject.x + 15);
						if(k6 >= 0 && k6 + 8 <= characterobject.y && k6 + 47 >= characterobject.y)
							characterobject.c = 0;
						continue;
					}
					if(this.yo[i2].con >= 350 && this.yo[i2].con < 400)
					{
						var l6 = this.getSHCOY(this.yo[i2].x, this.yo[i2].y, this.yo[i2].x2, this.yo[i2].y2, characterobject.x + 15);
						if(l6 >= 0 && l6 + 8 <= characterobject.y && l6 + 47 >= characterobject.y)
							characterobject.c = 0;
						continue;
					}
					if(this.yo[i2].con >= 400 && this.yo[i2].con < 450)
					{
						var i7 = this.getSWUpOY(this.yo[i2].x, this.yo[i2].y, this.yo[i2].x2, this.yo[i2].y2, characterobject.x + 15);
						if(i7 >= 0 && i7 + 8 <= characterobject.y && i7 + 47 >= characterobject.y)
							characterobject.c = 0;
						continue;
					}
					if(this.yo[i2].con < 450 || this.yo[i2].con >= 500)
						continue;
					var j7 = this.getSWDownOY(this.yo[i2].x, this.yo[i2].y, this.yo[i2].x2, this.yo[i2].y2, characterobject.x + 15);
					if(j7 >= 0 && j7 + 8 <= characterobject.y && j7 + 47 >= characterobject.y)
						characterobject.c = 0;
				}

			}
			characterobject.c2++;
			if(characterobject.c2 > this.j_fire_range)
				characterobject.c = 0;
			if(!this.j_fire_mkf && this.maps.getBGCode(characterobject.x + 15, characterobject.y + 15) == 4)
				characterobject.c = 0;
			if(characterobject.x <= this.maps.wx - 24 || characterobject.x >= (this.maps.wx + 512) - 8 || characterobject.y <= this.maps.wy - 24 || characterobject.y >= (this.maps.wy + 320) - 8)
				characterobject.c = 0;
			characterobject.pt = 130 + this.g_c2;
			characterobject.pth = 1;
			if(i == 7 || i == 8)
				characterobject.pt = 128 + this.g_c1;
			break;

		case 110:
			var j15 = -1;
			var l11 = 9999;
			for(var j2 = 0; j2 <= this.t_kazu; j2++)
			{
				if(this.co_t[j2].c < 100 || this.co_t[j2].x < this.maps.wx - 15 || this.co_t[j2].x > this.maps.wx + 512 + 15 || this.co_t[j2].y < this.maps.wy - 15 || this.co_t[j2].y > this.maps.wy + 320 + 15)
					continue;
				var k7 = Math.abs(this.co_t[j2].x - characterobject.x) + Math.abs(this.co_t[j2].y - characterobject.y);
				if(k7 < l11)
				{
					j15 = j2;
					l11 = k7;
				}
			}

			if(j15 >= 0)
			{
				if(this.co_t[j15].x < characterobject.x - 8)
				{
					characterobject.vx -= 3;
					if(characterobject.vx < -10)
						characterobject.vx = -10;
				} else
				if(this.co_t[j15].x > characterobject.x + 8)
				{
					characterobject.vx += 3;
					if(characterobject.vx > 10)
						characterobject.vx = 10;
				} else
				if(Math.abs(characterobject.vx) <= 3)
					characterobject.vx = 0;
				else
				if(characterobject.vx > 0)
					characterobject.vx -= 3;
				else
				if(characterobject.vx < 0)
					characterobject.vx += 3;
				if(this.co_t[j15].y < characterobject.y - 8)
				{
					characterobject.vy -= 3;
					if(characterobject.vy < -10)
						characterobject.vy = -10;
				} else
				if(this.co_t[j15].y > characterobject.y + 8)
				{
					characterobject.vy += 3;
					if(characterobject.vy > 10)
						characterobject.vy = 10;
				} else
				if(Math.abs(characterobject.vy) <= 3)
					characterobject.vy = 0;
				else
				if(characterobject.vy > 0)
					characterobject.vy -= 3;
				else
				if(characterobject.vy < 0)
					characterobject.vy += 3;
			} else
			if(this.j_tokugi == 14)
			{
				characterobject.vx += 3;
				if(characterobject.vx > 10)
					characterobject.vx = 10;
				characterobject.vy -= 3;
				if(characterobject.vy < -10)
					characterobject.vy = -10;
			} else
			{
				if(this.co_j.muki == 0)
				{
					characterobject.vx -= 3;
					if(characterobject.vx < -10)
						characterobject.vx = -10;
				} else
				{
					characterobject.vx += 3;
					if(characterobject.vx > 10)
						characterobject.vx = 10;
				}
				characterobject.vy -= 3;
				if(characterobject.vy < -10)
					characterobject.vy = -10;
			}
			characterobject.x += characterobject.vx;
			characterobject.y += characterobject.vy;
			if(this.maps.getBGCode(characterobject.x + 23, characterobject.y + 15) >= 19)
				characterobject.c = 0;
			if(!this.j_fire_mkf && this.maps.getBGCode(characterobject.x + 15, characterobject.y + 15) == 4)
				characterobject.c = 0;
			if(characterobject.x <= this.maps.wx - 24 || characterobject.x >= (this.maps.wx + 512) - 8 || characterobject.y <= this.maps.wy - 24 || characterobject.y >= (this.maps.wy + 320) - 8)
				characterobject.c = 0;
			characterobject.pt = 130 + this.g_c2;
			characterobject.pth = 1;
			if(i == 7 || i == 8)
				characterobject.pt = 128 + this.g_c1;
			break;

		case 200: 
			characterobject.x += characterobject.vx;
			if(characterobject.c4 == 2)
				characterobject.y += characterobject.vy;
			else
			if(this.grenade_type != 5 && this.grenade_type != 6 || this.j_tokugi == 15)
			{
				if(this.j_tokugi != 15)
					if(this.j_tokugi == 14)
					{
						characterobject.vy += 2;
						if(characterobject.vy > 30)
							characterobject.vy = 30;
					} else
					{
						characterobject.vy += 5;
						if(characterobject.vy > 30)
							characterobject.vy = 30;
					}
				characterobject.y += characterobject.vy;
				if(characterobject.vy > 0 && this.maps.getBGCode(characterobject.x + 15, characterobject.y + 31) >= 18)
				{
					characterobject.c = 50;
					characterobject.y = rightShiftIgnoreSign(characterobject.y + 31, 5) * 32 - 16;
					characterobject.c1 = 1;
					characterobject.c2 = 20;
				}
			}
			var l7 = this.maps.getBGCode(characterobject.x + 15, characterobject.y + 15);
			if(l7 >= 18 || l7 == 15 && characterobject.vy >= 0)
			{
				characterobject.c = 50;
				characterobject.c1 = 1;
				characterobject.c2 = 20;
				if(characterobject.c4 == 2)
				{
					var i12 = rightShiftIgnoreSign(characterobject.x + 15, 5);
					var l14 = rightShiftIgnoreSign(characterobject.y + 15, 5);
					characterobject.x = i12 * 32;
					characterobject.y = l14 * 32;
					for(var j16 = -1; j16 <= 1; j16++)
					{
						for(var l15 = -1; l15 <= 1; l15++)
							if(i12 + l15 >= 1 && i12 + l15 <= this.mapWidth && l14 + j16 >= 10 && l14 + j16 <= this.mapHeight + 9 && this.maps.map_bg[i12 + l15][l14 + j16] == 20)
								this.gs.rsAddSound(16);

					}

				}
			}
			if(this.yuka_id_max >= 0 && characterobject.vy > 0)
			{
				for(var k2 = 0; k2 <= this.yuka_id_max; k2++)
				{
					if(this.yo[k2].con >= 300 && this.yo[k2].con < 350)
					{
						var i8 = this.getSCOY(this.yo[k2].x, this.yo[k2].y, this.yo[k2].x2, this.yo[k2].y2, characterobject.x + 15);
						if(i8 >= 0 && i8 + 8 <= characterobject.y && i8 + 47 >= characterobject.y)
						{
							characterobject.y = i8 + 16;
							characterobject.c = 50;
							characterobject.c1 = 1;
							characterobject.c2 = 20;
						}
						continue;
					}
					if(this.yo[k2].con >= 350 && this.yo[k2].con < 400)
					{
						var j8 = this.getSHCOY(this.yo[k2].x, this.yo[k2].y, this.yo[k2].x2, this.yo[k2].y2, characterobject.x + 15);
						if(j8 >= 0 && j8 + 8 <= characterobject.y && j8 + 47 >= characterobject.y)
						{
							characterobject.y = j8 + 16;
							characterobject.c = 50;
							characterobject.c1 = 1;
							characterobject.c2 = 20;
						}
						continue;
					}
					if(this.yo[k2].con >= 400 && this.yo[k2].con < 450)
					{
						var k8 = this.getSWUpOY(this.yo[k2].x, this.yo[k2].y, this.yo[k2].x2, this.yo[k2].y2, characterobject.x + 15);
						if(k8 >= 0 && k8 + 8 <= characterobject.y && k8 + 47 >= characterobject.y)
						{
							characterobject.y = k8 + 16;
							characterobject.c = 50;
							characterobject.c1 = 1;
							characterobject.c2 = 20;
						}
						continue;
					}
					if(this.yo[k2].con < 450 || this.yo[k2].con >= 500)
						continue;
					var l8 = this.getSWDownOY(this.yo[k2].x, this.yo[k2].y, this.yo[k2].x2, this.yo[k2].y2, characterobject.x + 15);
					if(l8 >= 0 && l8 + 8 <= characterobject.y && l8 + 47 >= characterobject.y)
					{
						characterobject.y = l8 + 16;
						characterobject.c = 50;
						characterobject.c1 = 1;
						characterobject.c2 = 20;
					}
				}

			}
			if(characterobject.c4 == 2)
			{
				if(characterobject.x <= this.maps.wx - 64 || characterobject.x >= this.maps.wx + 512 + 32 || characterobject.y <= this.maps.wy - 64 || characterobject.y >= this.maps.wy + 320 + 32)
					characterobject.c = 0;
			} else
			if(characterobject.x <= this.maps.wx - 64 || characterobject.x >= this.maps.wx + 512 + 64 || characterobject.y <= this.maps.wy - 128 || characterobject.y >= this.maps.wy + 384)
				characterobject.c = 0;
			characterobject.pt = 137 + this.g_c1;
			if(characterobject.vx < 0)
				characterobject.pth = 0;
			else
				characterobject.pth = 1;
			break;
		}
		if(characterobject.c == 0)
		{
			this.jm_kazu--;
			continue;
		}
		if(characterobject.c < 100)
			continue;
		for(var l2 = 0; l2 <= this.t_kazu; l2++)
		{
			if(this.co_t[l2].c < 100)
				continue;
			var characterobject5 = this.co_t[l2];
			if(Math.abs(characterobject.x - characterobject5.x) >= 22 || Math.abs(characterobject.y - characterobject5.y) >= 22)
				continue;
			if(characterobject.vx < 0)
			{
				characterobject5.pth = 1;
				characterobject5.vx = -3;
			} else
			{
				characterobject5.pth = 0;
				characterobject5.vx = 3;
			}
			if(characterobject5.c >= 1200 && characterobject5.c < 1300)
			{
				characterobject5.c = 54;
				characterobject5.vy = -25;
			} else
			if(characterobject5.c >= 1400 && characterobject5.c < 1500)
			{
				characterobject5.c = 57;
				characterobject5.c1 = 0;
			} else
			if(characterobject5.c >= 1400 && characterobject5.c < 1500)
			{
				characterobject5.c = 57;
				characterobject5.c1 = 0;
			} else
			if(characterobject5.c == 1190)
			{
				characterobject5.c = 55;
				characterobject5.c1 = 0;
				var j12 = rightShiftIgnoreSign(characterobject5.x, 5);
				var i15 = rightShiftIgnoreSign(characterobject5.y, 5);
				if(characterobject5.c5 == 1)
					this.onASwitch(j12 - 5, i15 - 5, j12 + 5, i15 + 5);
				else
					this.onASwitch(j12 - 10, i15 - 10, j12 + 10, i15 + 10);
			} else
			{
				characterobject5.c = 52;
				characterobject5.vy = -25;
				if(this.j_tokugi == 14 || this.j_tokugi == 15)
				{
					characterobject5.c = 55;
					characterobject5.c1 = 0;
				}
			}
			this.gs.rsAddSound(9);
			if(characterobject.c == 200)
			{
				characterobject.c = 50;
				characterobject.c1 = 1;
				characterobject.c2 = 20;
			} else
			{
				characterobject.c = 0;
				this.jm_kazu--;
			}
			break;
		}

	}

}

MainProgram.prototype.anaSet = function(i, j)
{
	var k = 0;
	do
	{
		if(k > 11)
			break;
		if(this.ana_c[k] == 0)
		{
			this.ana_c[k] = 136;
			this.ana_x[k] = i;
			this.ana_y[k] = j;
			this.ana_kazu++;
			break;
		}
		k++;
	} while(true);
}

MainProgram.prototype.anaSet2 = function(i, j)
{
	var k = 0;
	do
	{
		if(k > 11)
			break;
		if(this.ana_c[k] == 0)
		{
			this.ana_c[k] = 236;
			this.ana_x[k] = i;
			this.ana_y[k] = j;
			this.ana_kazu++;
			break;
		}
		k++;
	} while(true);
}

MainProgram.prototype.anaMove = function()
{
	for(var i = 0; i <= 11; i++)
	{
		if(this.ana_c[i] <= 0)
			continue;
		this.ana_c[i]--;
		if(this.ana_c[i] == 200)
			this.ana_c[i] = 100;
		if(this.ana_c[i] > 0)
			continue;
		this.maps.putBGCode(this.ana_x[i], this.ana_y[i], 20);
		this.ana_kazu--;
		if(this.co_j.c >= 100 && this.co_j.c < 200 && this.co_j.x + 15 >= this.ana_x[i] * 32 && this.co_j.x + 15 <= this.ana_x[i] * 32 + 31 && this.co_j.y > this.ana_y[i] * 32 - 32 && this.co_j.y < this.ana_y[i] * 32 + 32)
			this.jShinu(1);
		for(var j = 0; j <= this.t_kazu; j++)
		{
			if(this.co_t[j].c < 60 || this.co_t[j].x <= this.ana_x[i] * 32 - 32 || this.co_t[j].x >= this.ana_x[i] * 32 + 32 || this.co_t[j].y <= this.ana_y[i] * 32 - 32 || this.co_t[j].y >= this.ana_y[i] * 32 + 32)
				continue;
			if(this.co_t[j].c >= 1200 && this.co_t[j].c < 1300 || this.co_t[j].c == 60)
			{
				this.co_t[j].c = 60;
				this.co_t[j].c1 = 0;
			} else
			{
				this.co_t[j].c = 0;
				this.addScore(10);
			}
			this.gs.rsAddSound(19);
		}

	}

}

MainProgram.prototype.aSet = function(i, j, k, l)
{
	var i1 = 0;
	do
	{
		if (i1 > this.a_kazu) {
			this.co_a.push(new CharacterObject());
			this.vo_x.push([0, 0, 0, 0]);
			this.vo_y.push([0, 0, 0, 0]);
		}
		if(this.co_a[i1].c <= 0)
		{
			var characterobject = this.co_a[i1];
			characterobject.c = k;
			characterobject.c1 = l - 512 - 32;
			characterobject.c2 = l + 128;
			characterobject.x = i;
			characterobject.y = j;
			switch(k)
			{
			case 60:
				characterobject.pt = 200;
				break;

			case 70:
				characterobject.vx = -3;
				characterobject.c3 = 0;
				characterobject.c1 = i - 512 - 150;
				characterobject.c2 = i + 150;
				break;

			case 71:
				characterobject.c = 70;
				characterobject.vx = 3;
				characterobject.c3 = 0;
				characterobject.c1 = i - 512 - 150;
				characterobject.c2 = i + 150;
				break;

			case 72:
				characterobject.c = 70;
				characterobject.vx = -2;
				characterobject.c3 = 0;
				characterobject.c1 = i - 512 - 190;
				characterobject.c2 = i + 190;
				break;

			case 73:
				characterobject.c = 70;
				characterobject.vx = 2;
				characterobject.c3 = 0;
				characterobject.c1 = i - 512 - 190;
				characterobject.c2 = i + 190;
				break;

			case 74:
				characterobject.c = 70;
				characterobject.vx = -2;
				characterobject.c3 = 120;
				characterobject.c1 = i - 512 - 190;
				characterobject.c2 = i + 190;
				break;

			case 75:
				characterobject.c = 70;
				characterobject.vx = 2;
				characterobject.c3 = 120;
				characterobject.c1 = i - 512 - 190;
				characterobject.c2 = i + 190;
				break;

			case 76:
				characterobject.c = 70;
				characterobject.vx = -2;
				characterobject.c3 = 240;
				characterobject.c1 = i - 512 - 190;
				characterobject.c2 = i + 190;
				break;

			case 77:
				characterobject.c = 70;
				characterobject.vx = 2;
				characterobject.c3 = 240;
				characterobject.c1 = i - 512 - 190;
				characterobject.c2 = i + 190;
				break;

			case 78:
				characterobject.c = 70;
				characterobject.vx = 2;
				characterobject.c3 = 160;
				characterobject.c1 = i - 512 - 190;
				characterobject.c2 = i + 190;
				characterobject.c4 = 2;
				break;

			case 79:
				characterobject.c = 70;
				characterobject.vx = -2;
				characterobject.c3 = 380;
				characterobject.c1 = i - 512 - 190;
				characterobject.c2 = i + 190;
				characterobject.c4 = 3;
				break;

			case 80:
				characterobject.pt = 800;
				characterobject.c3 = 1;
				break;

			case 81:
				characterobject.c = 80;
				characterobject.pt = 800;
				characterobject.c3 = 2;
				break;

			case 82:
				characterobject.c = 80;
				characterobject.pt = 800;
				characterobject.c3 = 3;
				break;

			case 83:
				characterobject.c = 80;
				characterobject.pt = 800;
				characterobject.c3 = 4;
				break;

			case 85:
				characterobject.c = 85;
				characterobject.pt = 850;
				break;

			case 86:
				characterobject.c = 86;
				characterobject.pt = 860;
				break;

			case 87:
				characterobject.c = 87;
				characterobject.pt = 860;
				break;

			case 88:
				characterobject.c = 88;
				characterobject.pt = 860;
				break;

			case 89:
				characterobject.c = 89;
				characterobject.pt = 860;
				break;

			case 90:
				characterobject.x = i + 16;
				characterobject.y = j;
				characterobject.pt = 1200;
				characterobject.vy = 0;
				characterobject.c = 90;
				characterobject.c1 = l - 512 - 32 - 256;
				characterobject.c2 = l + 128 + 256;
				characterobject.c4 = this.newYuka(String(1), String(1), String(2), String(2), "line");
				this.setYukaColor(String(characterobject.c4), "255", "255", "255", "255");
				break;

			case 91:
				characterobject.x = i + 16;
				characterobject.y = j;
				characterobject.pt = 1200;
				characterobject.vy = -56;
				characterobject.c = 90;
				characterobject.c1 = l - 512 - 32 - 256;
				characterobject.c2 = l + 128 + 256;
				characterobject.c4 = this.newYuka(String(1), String(1), String(2), String(2), "line");
				this.setYukaColor(String(characterobject.c4), "255", "255", "255", "255");
				break;

			case 92:
				characterobject.x = i + 16;
				characterobject.y = j;
				characterobject.pt = 1200;
				characterobject.vy = 56;
				characterobject.c = 90;
				characterobject.c1 = l - 512 - 32 - 256;
				characterobject.c2 = l + 128 + 256;
				characterobject.c4 = this.newYuka(String(1), String(1), String(2), String(2), "line");
				this.setYukaColor(String(characterobject.c4), "255", "255", "255", "255");
				break;

			case 93:
				characterobject.x = i + 16;
				characterobject.y = j + 16;
				characterobject.pt = 1300;
				characterobject.vy = 90;
				characterobject.vx = 30;
				characterobject.c = 93;
				characterobject.c1 = l - 512 - 32 - 256;
				characterobject.c2 = l + 128 + 256 + 384;
				characterobject.c4 = this.newYuka(String(1), String(1), String(2), String(2), "line");
				this.setYukaColor(String(characterobject.c4), "255", "255", "255", "255");
				break;

			case 94:
				characterobject.x = i + 16 + 384;
				characterobject.y = j + 16;
				characterobject.pt = 1300;
				characterobject.vy = 90;
				characterobject.vx = -30;
				characterobject.c = 93;
				characterobject.c1 = l - 512 - 32 - 256;
				characterobject.c2 = l + 128 + 256 + 384;
				characterobject.c3 = 0;
				characterobject.c4 = this.newYuka(String(1), String(1), String(2), String(2), "line");
				this.setYukaColor(String(characterobject.c4), "255", "255", "255", "255");
				break;

			case 95:
				characterobject.x = i + 16;
				characterobject.y = j + 16;
				characterobject.pt = 1400;
				characterobject.c3 = 1;
				characterobject.vy = 180;
				characterobject.vx = -26;
				characterobject.c = 95;
				characterobject.c1 = l - 512 - 32 - 256;
				characterobject.c2 = l + 128 + 256;
				characterobject.c4 = this.newYuka(String(1), String(1), String(2), String(2), "line");
				this.setYukaColor(String(characterobject.c4), "255", "255", "255", "255");
				break;

			case 96:
				characterobject.x = i + 16;
				characterobject.y = j + 16;
				characterobject.pt = 1400;
				characterobject.c3 = 2;
				characterobject.vy = 360;
				characterobject.vx = 26;
				characterobject.c = 95;
				characterobject.c1 = l - 512 - 32 - 256;
				characterobject.c2 = l + 128 + 256;
				characterobject.c4 = this.newYuka(String(1), String(1), String(2), String(2), "line");
				this.setYukaColor(String(characterobject.c4), "255", "255", "255", "255");
				break;

			case 100:
				characterobject.vy = 5;
				characterobject.x = i + 8;
				characterobject.y = j - 212;
				characterobject.c3 = j - 212;
				characterobject.c4 = j + 2;
				characterobject.pt = 100;
				break;

			case 101:
				characterobject.c = 100;
				characterobject.vy = 5;
				characterobject.x = i + 8;
				characterobject.y = j - 212;
				characterobject.c3 = j - 212;
				characterobject.c4 = j + 2;
				characterobject.pt = 100;
				characterobject.c1 = 0;
				characterobject.c2 = 6400;
				break;

			case 110:
				characterobject.vx = -3;
				characterobject.x = i + 208;
				characterobject.c3 = i;
				characterobject.c4 = i + 208;
				characterobject.pt = 100;
				characterobject.c2 = l + 208 + 128 + 32;
				if(this.j_tokugi == 10 || this.j_tokugi == 12 || this.j_tokugi == 13)
				{
					characterobject.c3 = i + 4;
					characterobject.c4 = (i + 208) - 6;
				}
				break;

			case 111:
				characterobject.c = 110;
				characterobject.vx = -3;
				characterobject.x = i + 208;
				characterobject.c3 = i;
				characterobject.c4 = i + 208;
				characterobject.pt = 100;
				characterobject.c1 = 0;
				characterobject.c2 = 6400;
				if(this.j_tokugi == 10 || this.j_tokugi == 12 || this.j_tokugi == 13)
				{
					characterobject.c3 = i + 4;
					characterobject.c4 = (i + 208) - 6;
				}
				break;

			case 115:
				characterobject.c = 110;
				characterobject.vx = -3;
				characterobject.x = i + 208;
				characterobject.c3 = i;
				characterobject.c4 = i + 208;
				characterobject.pt = 100;
				characterobject.c2 = l + 208 + 128 + 342 + 32;
				if(this.j_tokugi == 10 || this.j_tokugi == 12 || this.j_tokugi == 13)
				{
					characterobject.c3 = i + 4;
					characterobject.c4 = (i + 208) - 6;
				}
				break;

			case 116:
				characterobject.c = 110;
				characterobject.vx = 3;
				characterobject.x = i + 320;
				characterobject.c3 = i + 320;
				characterobject.c4 = i + 208 + 320;
				characterobject.pt = 100;
				characterobject.c2 = l + 208 + 128 + 320 + 32;
				if(this.j_tokugi == 10 || this.j_tokugi == 12 || this.j_tokugi == 13)
				{
					characterobject.c3 = i + 320 + 6;
					characterobject.c4 = (i + 208 + 320) - 4;
				}
				break;

			case 120:
				characterobject.vx = i + 160;
				characterobject.vy = j;
				characterobject.x = i + 8;
				characterobject.y = j;
				characterobject.c3 = 0;
				characterobject.muki = 1;
				characterobject.c1 = characterobject.vx - 512 - 32 - 130;
				characterobject.c2 = characterobject.vx + 128 + 130;
				characterobject.pt = 100;
				break;

			case 121:
				characterobject.c = 120;
				characterobject.vx = i + 160;
				characterobject.vy = j;
				characterobject.x = i + 8;
				characterobject.y = j;
				characterobject.c3 = 0;
				characterobject.muki = 0;
				characterobject.c1 = characterobject.vx - 512 - 32 - 130;
				characterobject.c2 = characterobject.vx + 128 + 130;
				characterobject.pt = 100;
				break;

			case 150: 
				characterobject.vx = i;
				characterobject.vy = j;
				characterobject.x = characterobject.vx + 8;
				characterobject.y = characterobject.vy + 8;
				characterobject.c3 = 0;
				characterobject.c4 = 0;
				characterobject.pt = 100;
				characterobject.c1 = 0;
				characterobject.c2 = (this.mapWidth + 1) * 32;
				break;

			case 151: 
				characterobject.c = 150;
				characterobject.vx = i;
				characterobject.vy = j;
				characterobject.x = characterobject.vx + 8;
				characterobject.y = characterobject.vy + 8;
				characterobject.c3 = 0;
				characterobject.c4 = 1;
				characterobject.pt = 100;
				characterobject.c1 = 0;
				characterobject.c2 = (this.mapWidth + 1) * 32;
				break;

			case 152: 
				characterobject.c = 150;
				characterobject.vx = i;
				characterobject.vy = j;
				characterobject.x = characterobject.vx + 8;
				characterobject.y = characterobject.vy + 8;
				characterobject.c3 = 0;
				characterobject.c4 = 2;
				characterobject.pt = 100;
				characterobject.c1 = 0;
				characterobject.c2 = (this.mapWidth + 1) * 32;
				break;

			case 160: 
				characterobject.vx = i;
				characterobject.vy = j;
				characterobject.x = characterobject.vx + 8;
				characterobject.y = characterobject.vy + 8;
				characterobject.c3 = 0;
				characterobject.c4 = 0;
				characterobject.pt = 100;
				characterobject.c1 = 0;
				characterobject.c2 = (this.mapWidth + 1) * 32;
				break;

			case 161: 
				characterobject.c = 160;
				characterobject.vx = i;
				characterobject.vy = j;
				characterobject.x = characterobject.vx + 8;
				characterobject.y = characterobject.vy + 8;
				characterobject.c3 = 0;
				characterobject.c4 = 1;
				characterobject.pt = 100;
				characterobject.c1 = 0;
				characterobject.c2 = (this.mapWidth + 1) * 32;
				break;

			case 162: 
				characterobject.c = 160;
				characterobject.vx = i;
				characterobject.vy = j;
				characterobject.x = characterobject.vx + 8;
				characterobject.y = characterobject.vy + 8;
				characterobject.c3 = 0;
				characterobject.c4 = 2;
				characterobject.pt = 100;
				characterobject.c1 = 0;
				characterobject.c2 = (this.mapWidth + 1) * 32;
				break;

			case 300: 
				characterobject.pt = 300;
				characterobject.c3 = 0;
				characterobject.c4 = 0;
				break;

			case 310: 
				characterobject.c = 300;
				characterobject.pt = 310;
				characterobject.c3 = 1;
				characterobject.c4 = 0;
				break;

			case 320: 
				characterobject.c = 300;
				characterobject.pt = 320;
				characterobject.c3 = 2;
				characterobject.c4 = 0;
				break;

			case 330: 
				characterobject.c = 300;
				characterobject.pt = 330;
				characterobject.c3 = 3;
				characterobject.c4 = 0;
				break;

			case 350: 
				characterobject.c = 300;
				characterobject.pt = 300;
				characterobject.c3 = 100;
				characterobject.c4 = 0;
				characterobject.c5 = 0;
				break;

			case 351: 
				characterobject.c = 300;
				characterobject.pt = 310;
				characterobject.c3 = 101;
				characterobject.c4 = 0;
				characterobject.c5 = 0;
				break;

			case 352: 
				characterobject.c = 300;
				characterobject.pt = 320;
				characterobject.c3 = 102;
				characterobject.c4 = 0;
				characterobject.c5 = 0;
				break;

			case 353: 
				characterobject.c = 300;
				characterobject.pt = 330;
				characterobject.c3 = 103;
				characterobject.c4 = 0;
				characterobject.c5 = 0;
				break;

			case 360: 
				characterobject.c = 300;
				characterobject.pt = 300;
				characterobject.c3 = 100;
				characterobject.c4 = 0;
				characterobject.c5 = 1;
				break;

			case 361: 
				characterobject.c = 300;
				characterobject.pt = 310;
				characterobject.c3 = 101;
				characterobject.c4 = 0;
				characterobject.c5 = 1;
				break;

			case 362: 
				characterobject.c = 300;
				characterobject.pt = 320;
				characterobject.c3 = 102;
				characterobject.c4 = 0;
				characterobject.c5 = 1;
				break;

			case 363: 
				characterobject.c = 300;
				characterobject.pt = 330;
				characterobject.c3 = 103;
				characterobject.c4 = 0;
				characterobject.c5 = 1;
				break;

			case 370: 
				characterobject.c = 300;
				characterobject.pt = 300;
				characterobject.c3 = 200;
				characterobject.c4 = 0;
				break;

			case 371: 
				characterobject.c = 300;
				characterobject.pt = 310;
				characterobject.c3 = 201;
				characterobject.c4 = 0;
				break;

			case 372: 
				characterobject.c = 300;
				characterobject.pt = 320;
				characterobject.c3 = 202;
				characterobject.c4 = 0;
				break;

			case 373: 
				characterobject.c = 300;
				characterobject.pt = 330;
				characterobject.c3 = 203;
				characterobject.c4 = 0;
				break;

			case 380: 
				characterobject.c = 300;
				characterobject.pt = 300;
				characterobject.c3 = 300;
				characterobject.c4 = 0;
				break;

			case 381: 
				characterobject.c = 300;
				characterobject.pt = 310;
				characterobject.c3 = 301;
				characterobject.c4 = 0;
				break;

			case 382: 
				characterobject.c = 300;
				characterobject.pt = 320;
				characterobject.c3 = 302;
				characterobject.c4 = 0;
				break;

			case 383: 
				characterobject.c = 300;
				characterobject.pt = 330;
				characterobject.c3 = 303;
				characterobject.c4 = 0;
				break;

			case 400: 
				characterobject.pt = 400;
				characterobject.c3 = 0;
				characterobject.vy = j;
				break;

			case 410: 
				characterobject.pt = 400;
				characterobject.c3 = 0;
				characterobject.c4 = 1;
				characterobject.vy = j;
				break;

			case 420: 
				characterobject.pt = 400;
				characterobject.c3 = 0;
				characterobject.c4 = 2;
				characterobject.vx = i;
				characterobject.c = 410;
				characterobject.c1 = l - 512 - 32 - 256;
				characterobject.c2 = l + 128;
				break;

			case 430: 
				characterobject.pt = 400;
				characterobject.c3 = 0;
				characterobject.c4 = 3;
				characterobject.vx = i;
				characterobject.c = 410;
				characterobject.c1 = l - 512 - 32;
				characterobject.c2 = l + 128 + 256;
				break;

			case 440: 
				characterobject.pt = 400;
				characterobject.c3 = 0;
				characterobject.c4 = 4;
				characterobject.vx = -3;
				characterobject.vy = 0;
				characterobject.c = 410;
				break;

			case 450: 
				characterobject.pt = 400;
				characterobject.c3 = 0;
				characterobject.c4 = 5;
				characterobject.c = 410;
				break;

			case 460: 
				characterobject.pt = 400;
				characterobject.c3 = 0;
				characterobject.c4 = 6;
				characterobject.vy = j;
				characterobject.c = 410;
				break;

			case 470: 
				characterobject.pt = 400;
				characterobject.c3 = 0;
				characterobject.c4 = 7;
				characterobject.vy = j;
				characterobject.c = 410;
				break;

			case 480: 
				characterobject.pt = 400;
				characterobject.c3 = 0;
				characterobject.c4 = 8;
				characterobject.vy = j;
				characterobject.c = 410;
				break;

			case 481: 
				characterobject.pt = 400;
				characterobject.c3 = 0;
				characterobject.c4 = 9;
				characterobject.vx = i;
				characterobject.c = 410;
				characterobject.c1 = l - 512 - 32 - 256;
				characterobject.c2 = l + 128 + 256;
				break;

			case 482: 
				characterobject.pt = 400;
				characterobject.c3 = 0;
				characterobject.c4 = 10;
				characterobject.vy = j;
				characterobject.c = 410;
				break;

			case 485: 
				characterobject.pt = 400;
				characterobject.c3 = 0;
				characterobject.c4 = 11;
				characterobject.vy = j;
				characterobject.c1 = 0;
				characterobject.c2 = (this.mapWidth + 1) * 32;
				characterobject.c = 410;
				break;

			case 486: 
				characterobject.pt = 400;
				characterobject.c3 = 0;
				characterobject.c4 = 12;
				characterobject.vx = i;
				characterobject.c = 410;
				characterobject.c1 = 0;
				characterobject.c2 = (this.mapWidth + 1) * 32;
				break;

			case 487: 
				characterobject.pt = 400;
				characterobject.c3 = 0;
				characterobject.c4 = 13;
				characterobject.vx = i;
				characterobject.c = 410;
				characterobject.c1 = 0;
				characterobject.c2 = (this.mapWidth + 1) * 32;
				break;

			case 488: 
				characterobject.pt = 400;
				characterobject.c3 = 0;
				characterobject.c4 = 14;
				characterobject.vy = j;
				characterobject.c = 410;
				break;

			case 489: 
				characterobject.pt = 400;
				characterobject.c3 = 0;
				characterobject.c4 = 15;
				characterobject.vy = j;
				characterobject.c = 410;
				break;

			case 490: 
				characterobject.pt = 400;
				characterobject.c3 = 0;
				characterobject.c4 = 16;
				characterobject.vy = j;
				characterobject.vx = 0;
				characterobject.c1 = 0;
				characterobject.c2 = (this.mapWidth + 1) * 32;
				characterobject.c = 410;
				break;

			case 491: 
				characterobject.pt = 400;
				characterobject.c3 = 0;
				characterobject.c4 = 17;
				characterobject.vy = j;
				characterobject.c = 410;
				break;

			case 492: 
				characterobject.pt = 400;
				characterobject.c3 = 0;
				characterobject.c4 = 18;
				characterobject.vx = 0;
				characterobject.vy = 0;
				characterobject.c = 410;
				break;

			case 500: 
				characterobject.vy = 0;
				characterobject.x = i;
				characterobject.y = j;
				characterobject.c3 = 0;
				characterobject.c4 = 0;
				characterobject.pt = 500;
				break;

			case 510: 
				characterobject.c = 500;
				characterobject.vy = 0;
				characterobject.x = i;
				characterobject.y = j;
				characterobject.c3 = 0;
				characterobject.c4 = 1;
				characterobject.pt = 500;
				break;

			case 600: 
				characterobject.pt = 600;
				characterobject.c3 = 0;
				characterobject.c4 = 0;
				characterobject.vx = 0;
				characterobject.vy = j;
				break;

			case 610: 
				characterobject.pt = 600;
				characterobject.c3 = 0;
				characterobject.c4 = 0;
				characterobject.vx = 0;
				characterobject.vy = j;
				break;

			case 700: 
				characterobject.pt = 700;
				characterobject.c3 = 0;
				characterobject.c4 = 0;
				break;

			case 701: 
				characterobject.c = 700;
				characterobject.pt = 700;
				characterobject.c3 = 0;
				characterobject.c4 = 1;
				break;

			case 750: 
				characterobject.c = 700;
				characterobject.pt = 750;
				characterobject.c3 = 0;
				characterobject.c4 = 2;
				break;

			case 751: 
				characterobject.c = 700;
				characterobject.pt = 751;
				characterobject.c3 = 0;
				characterobject.c4 = 3;
				break;

			case 1000: 
				characterobject.vx = 18;
				characterobject.c3 = 0;
				characterobject.c4 = 0;
				characterobject.c1 = i - 512 - 150;
				characterobject.c2 = i + 150;
				break;

			case 1001: 
				characterobject.c = 1000;
				characterobject.vx = 18;
				characterobject.c3 = 1;
				characterobject.c4 = 0;
				characterobject.c1 = i - 512 - 150;
				characterobject.c2 = i + 150;
				break;

			case 1002: 
				characterobject.c = 1000;
				characterobject.vx = 18;
				characterobject.c3 = 2;
				characterobject.c4 = 0;
				characterobject.c1 = i - 512 - 224;
				characterobject.c2 = i + 224;
				break;

			case 1003: 
				characterobject.c = 1000;
				characterobject.vx = 18;
				characterobject.c3 = 3;
				characterobject.c4 = 0;
				characterobject.c1 = i - 512 - 224;
				characterobject.c2 = i + 224;
				break;

			case 1005: 
				characterobject.c = 1000;
				characterobject.vx = 18;
				characterobject.c3 = 10;
				characterobject.c4 = 0;
				characterobject.c1 = i - 512 - 150;
				characterobject.c2 = i + 150;
				break;

			case 1006: 
				characterobject.c = 1000;
				characterobject.vx = 18;
				characterobject.c3 = 11;
				characterobject.c4 = 0;
				characterobject.c1 = i - 512 - 150;
				characterobject.c2 = i + 150;
				break;

			case 1007: 
				characterobject.c = 1000;
				characterobject.vx = 18;
				characterobject.c3 = 12;
				characterobject.c4 = 0;
				characterobject.c1 = i - 512 - 224;
				characterobject.c2 = i + 224;
				break;

			case 1008: 
				characterobject.c = 1000;
				characterobject.vx = 18;
				characterobject.c3 = 13;
				characterobject.c4 = 0;
				characterobject.c1 = i - 512 - 224;
				characterobject.c2 = i + 224;
				break;

			case 1010: 
				characterobject.vx = 0;
				characterobject.c3 = 0;
				characterobject.c4 = 0;
				characterobject.c1 = i - 512 - 150;
				characterobject.c2 = i + 150;
				break;

			case 1020: 
				characterobject.vx = 0;
				characterobject.c3 = 0;
				characterobject.c4 = 0;
				characterobject.c1 = 0;
				characterobject.c2 = (this.mapWidth + 1) * 32;
				break;

			case 1100: 
				characterobject.vx = 0;
				characterobject.c3 = 0;
				characterobject.c4 = 0;
				characterobject.c1 = i - 512 - 150;
				characterobject.c2 = i + 150;
				break;

			case 1150: 
				characterobject.vx = 0;
				characterobject.c3 = 0;
				characterobject.c4 = 0;
				characterobject.c1 = i - 512 - 150;
				characterobject.c2 = i + 150;
				break;

			case 1200: 
				characterobject.x = i + 16;
				characterobject.y = j + 16;
				characterobject.pt = 1900;
				characterobject.vy = 270;
				characterobject.vx = -30;
				characterobject.c = 1200;
				characterobject.c1 = l - 512 - 32 - 256;
				characterobject.c2 = l + 128 + 256 + 416;
				characterobject.c4 = this.newYuka(String(1), String(1), String(2), String(2), "line");
				this.setYukaColor(String(characterobject.c4), "255", "255", "255", "255");
				break;

			case 1201: 
				characterobject.x = i + 16 + 416;
				characterobject.y = j + 16;
				characterobject.pt = 1900;
				characterobject.vy = 270;
				characterobject.vx = 30;
				characterobject.c = 1200;
				characterobject.c1 = l - 512 - 32 - 256;
				characterobject.c2 = l + 128 + 256 + 416;
				characterobject.c3 = 0;
				characterobject.c4 = this.newYuka(String(1), String(1), String(2), String(2), "line");
				this.setYukaColor(String(characterobject.c4), "255", "255", "255", "255");
				break;

			case 1300: 
				characterobject.x = i + 16;
				characterobject.y = j + 16;
				characterobject.pt = 2000;
				characterobject.vy = 90;
				characterobject.vx = 30;
				characterobject.c = 1300;
				characterobject.c1 = l - 512 - 32 - 256;
				characterobject.c2 = l + 128 + 256 + 416;
				break;

			case 1301: 
				characterobject.x = i + 16 + 320;
				characterobject.y = j + 16;
				characterobject.pt = 2000;
				characterobject.vy = 90;
				characterobject.vx = -30;
				characterobject.c = 1300;
				characterobject.c1 = l - 512 - 32 - 256;
				characterobject.c2 = l + 128 + 256 + 416;
				break;

			case 1400: 
				characterobject.pt = 2100;
				characterobject.c3 = 0;
				characterobject.c4 = 1;
				break;

			case 1401: 
				characterobject.c = 1400;
				characterobject.pt = 2110;
				characterobject.c3 = 0;
				characterobject.c4 = 2;
				break;

			case 1402: 
				characterobject.c = 1400;
				characterobject.pt = 2120;
				characterobject.c3 = 0;
				characterobject.c4 = 3;
				break;

			case 1403: 
				characterobject.c = 1400;
				characterobject.pt = 2130;
				characterobject.c3 = 0;
				characterobject.c4 = 4;
				break;

			case 1500: 
				characterobject.pt = 2200;
				characterobject.y = j - 12;
				characterobject.c3 = 0;
				characterobject.c4 = 330;
				characterobject.vx = 0;
				characterobject.vy = j;
				characterobject.c1 = i - 512 - 224;
				characterobject.c2 = i + 224;
				break;

			case 1501: 
				characterobject.c = 1500;
				characterobject.pt = 2200;
				characterobject.y = j - 12;
				characterobject.c3 = 1;
				characterobject.c4 = 225;
				characterobject.vx = 0;
				characterobject.vy = j;
				characterobject.c1 = i - 512 - 224;
				characterobject.c2 = i + 224;
				break;

			case 1502: 
				characterobject.c = 1500;
				characterobject.pt = 2200;
				characterobject.c3 = 2;
				characterobject.c4 = 30;
				characterobject.vx = 0;
				characterobject.vy = j;
				characterobject.c1 = i - 512 - 224;
				characterobject.c2 = i + 224;
				break;

			case 1503: 
				characterobject.c = 1500;
				characterobject.pt = 2200;
				characterobject.c3 = 3;
				characterobject.c4 = 270;
				characterobject.vx = 0;
				characterobject.vy = j;
				characterobject.c1 = i - 512 - 224;
				characterobject.c2 = i + 224;
				break;

			case 1504: 
				characterobject.c = 1500;
				characterobject.pt = 2200;
				characterobject.c3 = 4;
				characterobject.c4 = 300;
				characterobject.vx = 0;
				characterobject.vy = j;
				characterobject.c1 = i - 512 - 224;
				characterobject.c2 = i + 224;
				break;

			case 1600: 
				characterobject.pt = 2300;
				characterobject.c3 = 0;
				characterobject.c4 = 0;
				break;

			case 1601: 
				characterobject.c = 1600;
				characterobject.pt = 2300;
				characterobject.c3 = 0;
				characterobject.c4 = 1;
				break;

			case 1602: 
				characterobject.c = 1600;
				characterobject.pt = 2300;
				characterobject.c3 = 0;
				characterobject.c4 = 2;
				break;

			case 1603: 
				characterobject.c = 1600;
				characterobject.pt = 2300;
				characterobject.c3 = 0;
				characterobject.c4 = 3;
				break;

			case 1700: 
				characterobject.pt = 2400;
				characterobject.c3 = 0;
				characterobject.c4 = 0;
				characterobject.vy = 100;
				characterobject.c1 = i - 512 - 192;
				characterobject.c2 = i + 192;
				break;

			case 1701: 
				characterobject.c = 1700;
				characterobject.pt = 2400;
				characterobject.c3 = 1;
				characterobject.c4 = 0;
				characterobject.vy = 100;
				characterobject.c1 = i - 512 - 192;
				characterobject.c2 = i + 192;
				break;

			case 1702: 
				characterobject.c = 1700;
				characterobject.pt = 2400;
				characterobject.c3 = 2;
				characterobject.c4 = 0;
				characterobject.vy = 100;
				characterobject.c1 = i - 512 - 192;
				characterobject.c2 = i + 192;
				break;

			case 1800: 
				characterobject.x = i + 16;
				characterobject.y = j + 16;
				characterobject.pt = 2500;
				characterobject.vy = 0;
				characterobject.vx = -3;
				characterobject.c1 = 0;
				characterobject.c2 = (this.mapWidth + 1) * 32;
				characterobject.c3 = this.newYuka(String(1), String(1), String(2), String(2), "line");
				this.setYukaColor(String(characterobject.c3), "0", "0", "0", "0");
				characterobject.c4 = this.newYuka(String(1), String(1), String(2), String(2), "line");
				this.setYukaColor(String(characterobject.c4), "0", "0", "0", "0");
				characterobject.c5 = this.newYuka(String(1), String(1), String(2), String(2), "line");
				this.setYukaColor(String(characterobject.c5), "0", "0", "0", "0");
				characterobject.pth = this.newYuka(String(1), String(1), String(2), String(2), "line");
				this.setYukaColor(String(characterobject.pth), "0", "0", "0", "0");
				break;

			case 1801: 
				characterobject.c = 1800;
				characterobject.x = i + 16;
				characterobject.y = j + 16;
				characterobject.pt = 2500;
				characterobject.vy = 0;
				characterobject.vx = 3;
				characterobject.c1 = 0;
				characterobject.c2 = (this.mapWidth + 1) * 32;
				characterobject.c3 = this.newYuka(String(1), String(1), String(2), String(2), "line");
				this.setYukaColor(String(characterobject.c3), "0", "0", "0", "0");
				characterobject.c4 = this.newYuka(String(1), String(1), String(2), String(2), "line");
				this.setYukaColor(String(characterobject.c4), "0", "0", "0", "0");
				characterobject.c5 = this.newYuka(String(1), String(1), String(2), String(2), "line");
				this.setYukaColor(String(characterobject.c5), "0", "0", "0", "0");
				characterobject.pth = this.newYuka(String(1), String(1), String(2), String(2), "line");
				this.setYukaColor(String(characterobject.pth), "0", "0", "0", "0");
				break;

			case 1850: 
				characterobject.x = i + 16;
				characterobject.y = j + 16;
				characterobject.pt = 2600;
				characterobject.vy = 0;
				characterobject.vx = -2;
				characterobject.c1 = 0;
				characterobject.c2 = (this.mapWidth + 1) * 32;
				characterobject.c3 = this.newYuka(String(1), String(1), String(2), String(2), "line");
				this.setYukaColor(String(characterobject.c3), "0", "0", "0", "0");
				characterobject.c4 = this.newYuka(String(1), String(1), String(2), String(2), "line");
				this.setYukaColor(String(characterobject.c4), "0", "0", "0", "0");
				characterobject.c5 = this.newYuka(String(1), String(1), String(2), String(2), "line");
				this.setYukaColor(String(characterobject.c5), "0", "0", "0", "0");
				characterobject.pth = this.newYuka(String(1), String(1), String(2), String(2), "line");
				this.setYukaColor(String(characterobject.pth), "0", "0", "0", "0");
				break;

			case 1851: 
				characterobject.c = 1850;
				characterobject.x = i + 16;
				characterobject.y = j + 16;
				characterobject.pt = 2600;
				characterobject.vy = 0;
				characterobject.vx = 2;
				characterobject.c1 = 0;
				characterobject.c2 = (this.mapWidth + 1) * 32;
				characterobject.c3 = this.newYuka(String(1), String(1), String(2), String(2), "line");
				this.setYukaColor(String(characterobject.c3), "0", "0", "0", "0");
				characterobject.c4 = this.newYuka(String(1), String(1), String(2), String(2), "line");
				this.setYukaColor(String(characterobject.c4), "0", "0", "0", "0");
				characterobject.c5 = this.newYuka(String(1), String(1), String(2), String(2), "line");
				this.setYukaColor(String(characterobject.c5), "0", "0", "0", "0");
				characterobject.pth = this.newYuka(String(1), String(1), String(2), String(2), "line");
				this.setYukaColor(String(characterobject.pth), "0", "0", "0", "0");
				break;

			case 1900: 
				characterobject.c = 1900;
				characterobject.pt = 2300;
				characterobject.c3 = 0;
				characterobject.c4 = 0;
				characterobject.c1 = 0;
				characterobject.c2 = (this.mapWidth + 1) * 32;
				break;

			case 1901: 
				characterobject.c = 1900;
				characterobject.pt = 2300;
				characterobject.c3 = 1;
				characterobject.c4 = 0;
				characterobject.c1 = 0;
				characterobject.c2 = (this.mapWidth + 1) * 32;
				break;

			case 1902: 
				characterobject.c = 1900;
				characterobject.pt = 2300;
				characterobject.c3 = 2;
				characterobject.c4 = 0;
				characterobject.c1 = 0;
				characterobject.c2 = (this.mapWidth + 1) * 32;
				break;

			case 1903: 
				characterobject.c = 1900;
				characterobject.pt = 2300;
				characterobject.c3 = 3;
				characterobject.c4 = 0;
				characterobject.c1 = 0;
				characterobject.c2 = (this.mapWidth + 1) * 32;
				break;

			case 1904: 
				characterobject.c = 1900;
				characterobject.pt = 2300;
				characterobject.c3 = 4;
				characterobject.c4 = 0;
				characterobject.c1 = 0;
				characterobject.c2 = (this.mapWidth + 1) * 32;
				break;

			case 1905: 
				characterobject.c = 1900;
				characterobject.pt = 2300;
				characterobject.c3 = 5;
				characterobject.c4 = 0;
				characterobject.c1 = 0;
				characterobject.c2 = (this.mapWidth + 1) * 32;
				break;

			case 1906: 
				characterobject.c = 1900;
				characterobject.pt = 2300;
				characterobject.c3 = 6;
				characterobject.c4 = 0;
				characterobject.c1 = 0;
				characterobject.c2 = (this.mapWidth + 1) * 32;
				break;

			case 1907: 
				characterobject.c = 1900;
				characterobject.pt = 2300;
				characterobject.c3 = 7;
				characterobject.c4 = 0;
				characterobject.c1 = 0;
				characterobject.c2 = (this.mapWidth + 1) * 32;
				break;

			case 1908: 
				characterobject.c = 1900;
				characterobject.pt = 2300;
				characterobject.c3 = 8;
				characterobject.c4 = 0;
				characterobject.c1 = 0;
				characterobject.c2 = (this.mapWidth + 1) * 32;
				break;

			case 1909: 
				characterobject.c = 1900;
				characterobject.pt = 2300;
				characterobject.c3 = 9;
				characterobject.c4 = 0;
				characterobject.c1 = 0;
				characterobject.c2 = (this.mapWidth + 1) * 32;
				break;

			case 1910: 
				characterobject.c = 1900;
				characterobject.pt = 2300;
				characterobject.c3 = 10;
				characterobject.c4 = 0;
				characterobject.c1 = 0;
				characterobject.c2 = (this.mapWidth + 1) * 32;
				break;

			case 1911: 
				characterobject.c = 1900;
				characterobject.pt = 2300;
				characterobject.c3 = 11;
				characterobject.c4 = 0;
				characterobject.c1 = 0;
				characterobject.c2 = (this.mapWidth + 1) * 32;
				break;

			case 1912: 
				characterobject.c = 1900;
				characterobject.pt = 2300;
				characterobject.c3 = 12;
				characterobject.c4 = 0;
				characterobject.c1 = i - 512 - 150;
				characterobject.c2 = i + 150;
				break;

			case 1913: 
				characterobject.c = 1900;
				characterobject.pt = 2300;
				characterobject.c3 = 13;
				characterobject.c4 = 0;
				characterobject.c1 = i - 512 - 150;
				characterobject.c2 = i + 150;
				break;

			case 1914: 
				characterobject.c = 1900;
				characterobject.pt = 2300;
				characterobject.c3 = 14;
				characterobject.c4 = 0;
				characterobject.c1 = i - 512 - 150;
				characterobject.c2 = i + 150;
				break;

			case 1915: 
				characterobject.c = 1900;
				characterobject.pt = 2300;
				characterobject.c3 = 15;
				characterobject.c4 = 0;
				characterobject.c1 = 0;
				characterobject.c2 = (this.mapWidth + 1) * 32;
				break;

			case 1916: 
				characterobject.c = 1900;
				characterobject.pt = 2300;
				characterobject.c3 = 16;
				characterobject.c4 = 0;
				characterobject.c1 = 0;
				characterobject.c2 = (this.mapWidth + 1) * 32;
				break;

			case 1917: 
				characterobject.c = 1900;
				characterobject.pt = 2300;
				characterobject.c3 = 17;
				characterobject.c4 = 0;
				characterobject.c1 = 0;
				characterobject.c2 = (this.mapWidth + 1) * 32;
				break;

			case 1918: 
				characterobject.c = 1900;
				characterobject.pt = 2300;
				characterobject.c3 = 18;
				characterobject.c4 = 0;
				characterobject.c1 = 0;
				characterobject.c2 = (this.mapWidth + 1) * 32;
				break;

			case 2000: 
				characterobject.c = 2000;
				characterobject.pt = 2700;
				characterobject.x = i;
				characterobject.y = j;
				characterobject.c1 = l - 512 - 32;
				characterobject.c2 = l + 256;
				characterobject.c4 = this.newYuka(String(characterobject.x), String(characterobject.y), "0", "0", "wave_up");
				this.setYukaColor(characterobject.c4, this.gamecolor_firebar2);
				break;

			case 2001: 
				characterobject.c = 2000;
				characterobject.pt = 2700;
				characterobject.x = i;
				characterobject.y = j;
				characterobject.c1 = l - 512 - 32;
				characterobject.c2 = l + 256;
				characterobject.c4 = this.newYuka(String(characterobject.x), String(characterobject.y), "0", "0", "wave_down");
				this.setYukaColor(characterobject.c4, this.gamecolor_firebar2);
				break;

			case 2002: 
				characterobject.c = 2000;
				characterobject.pt = 2700;
				characterobject.x = i;
				characterobject.y = j;
				characterobject.c1 = l - 512 - 32;
				characterobject.c2 = l + 256;
				characterobject.c4 = this.newYuka(String(characterobject.x), String(characterobject.y), "0", "0", "wave_up_line");
				this.setYukaColor(characterobject.c4, this.gamecolor_firebar2);
				break;

			case 2003: 
				characterobject.c = 2000;
				characterobject.pt = 2700;
				characterobject.x = i;
				characterobject.y = j;
				characterobject.c1 = l - 512 - 32;
				characterobject.c2 = l + 256;
				characterobject.c4 = this.newYuka(String(characterobject.x), String(characterobject.y), "0", "0", "wave_down_line");
				this.setYukaColor(characterobject.c4, this.gamecolor_firebar2);
				break;

			case 2010: 
				characterobject.c = 2000;
				characterobject.pt = 2700;
				characterobject.x = i + 16;
				characterobject.y = j + 16;
				characterobject.c1 = l - 512 - 32;
				characterobject.c2 = l + 256;
				characterobject.c4 = this.newYuka(String(characterobject.x), String(characterobject.y), "96", "0", "circle");
				this.setYukaColor(characterobject.c4, this.gamecolor_firebar2);
				break;

			case 2011: 
				characterobject.c = 2000;
				characterobject.pt = 2700;
				characterobject.x = i;
				characterobject.y = j + 16;
				characterobject.c1 = l - 512 - 32;
				characterobject.c2 = l + 256;
				characterobject.c4 = this.newYuka(String(characterobject.x), String(characterobject.y), "144", "0", "circle");
				this.setYukaColor(characterobject.c4, this.gamecolor_firebar2);
				break;

			case 2020: 
				characterobject.c = 2000;
				characterobject.pt = 2700;
				characterobject.x = i;
				characterobject.y = j;
				characterobject.c1 = l - 512 - 32;
				characterobject.c2 = l + 256;
				characterobject.c4 = this.newYuka(String(characterobject.x), String(characterobject.y), "0", "0", "half_circle");
				this.setYukaColor(characterobject.c4, this.gamecolor_firebar2);
				break;

			case 2021: 
				characterobject.c = 2000;
				characterobject.pt = 2700;
				characterobject.x = i;
				characterobject.y = j;
				characterobject.c1 = l - 512 - 32;
				characterobject.c2 = l + 256;
				characterobject.c4 = this.newYuka(String(characterobject.x), String(characterobject.y), "0", "0", "half_circle_line");
				this.setYukaColor(characterobject.c4, this.gamecolor_firebar2);
				break;

			case 2100: 
				characterobject.c = 2100;
				characterobject.pt = 2800;
				characterobject.c1 = i - 512 - 190;
				characterobject.c2 = i + 190;
				break;

			case 2110: 
				characterobject.c = 70;
				characterobject.vx = -2;
				characterobject.c3 = 0;
				characterobject.c1 = i - 512 - 190;
				characterobject.c2 = i + 190;
				break;

			case 2111: 
				characterobject.c = 70;
				characterobject.vx = -2;
				characterobject.c3 = 72;
				characterobject.c1 = i - 512 - 190;
				characterobject.c2 = i + 190;
				break;

			case 2112: 
				characterobject.c = 70;
				characterobject.vx = -2;
				characterobject.c3 = 144;
				characterobject.c1 = i - 512 - 190;
				characterobject.c2 = i + 190;
				break;

			case 2113: 
				characterobject.c = 70;
				characterobject.vx = -2;
				characterobject.c3 = 216;
				characterobject.c1 = i - 512 - 190;
				characterobject.c2 = i + 190;
				break;

			case 2114: 
				characterobject.c = 70;
				characterobject.vx = -2;
				characterobject.c3 = 288;
				characterobject.c1 = i - 512 - 190;
				characterobject.c2 = i + 190;
				break;

			case 2120: 
				characterobject.c = 70;
				characterobject.vx = 2;
				characterobject.c3 = 0;
				characterobject.c1 = i - 512 - 190;
				characterobject.c2 = i + 190;
				break;

			case 2121: 
				characterobject.c = 70;
				characterobject.vx = 2;
				characterobject.c3 = 72;
				characterobject.c1 = i - 512 - 190;
				characterobject.c2 = i + 190;
				break;

			case 2122: 
				characterobject.c = 70;
				characterobject.vx = 2;
				characterobject.c3 = 144;
				characterobject.c1 = i - 512 - 190;
				characterobject.c2 = i + 190;
				break;

			case 2123: 
				characterobject.c = 70;
				characterobject.vx = 2;
				characterobject.c3 = 216;
				characterobject.c1 = i - 512 - 190;
				characterobject.c2 = i + 190;
				break;

			case 2124: 
				characterobject.c = 70;
				characterobject.vx = 2;
				characterobject.c3 = 288;
				characterobject.c1 = i - 512 - 190;
				characterobject.c2 = i + 190;
				break;

			case 2200: 
				characterobject.c = 2200;
				characterobject.vx = -2;
				characterobject.c3 = 0;
				characterobject.c1 = 0;
				characterobject.c2 = (this.mapWidth + 1) * 32;
				break;

			case 2201: 
				characterobject.c = 2200;
				characterobject.vx = -2;
				characterobject.c3 = 120;
				characterobject.c1 = 0;
				characterobject.c2 = (this.mapWidth + 1) * 32;
				break;

			case 2202: 
				characterobject.c = 2200;
				characterobject.vx = -2;
				characterobject.c3 = 240;
				characterobject.c1 = 0;
				characterobject.c2 = (this.mapWidth + 1) * 32;
				break;

			case 2210: 
				characterobject.c = 2200;
				characterobject.vx = 2;
				characterobject.c3 = 0;
				characterobject.c1 = 0;
				characterobject.c2 = (this.mapWidth + 1) * 32;
				break;

			case 2211: 
				characterobject.c = 2200;
				characterobject.vx = 2;
				characterobject.c3 = 120;
				characterobject.c1 = 0;
				characterobject.c2 = (this.mapWidth + 1) * 32;
				break;

			case 2212: 
				characterobject.c = 2200;
				characterobject.vx = 2;
				characterobject.c3 = 240;
				characterobject.c1 = 0;
				characterobject.c2 = (this.mapWidth + 1) * 32;
				break;

			case 2250: 
				characterobject.c = 2250;
				characterobject.vx = -2;
				characterobject.c3 = 0;
				characterobject.c1 = 0;
				characterobject.c2 = (this.mapWidth + 1) * 32;
				break;

			case 2251: 
				characterobject.c = 2250;
				characterobject.vx = -2;
				characterobject.c3 = 180;
				characterobject.c1 = 0;
				characterobject.c2 = (this.mapWidth + 1) * 32;
				break;

			case 2252: 
				characterobject.c = 2250;
				characterobject.vx = -4;
				characterobject.c3 = 0;
				characterobject.c1 = 0;
				characterobject.c2 = (this.mapWidth + 1) * 32;
				break;

			case 2253: 
				characterobject.c = 2250;
				characterobject.vx = -4;
				characterobject.c3 = 180;
				characterobject.c1 = 0;
				characterobject.c2 = (this.mapWidth + 1) * 32;
				break;

			case 2260: 
				characterobject.c = 2250;
				characterobject.vx = 2;
				characterobject.c3 = 0;
				characterobject.c1 = 0;
				characterobject.c2 = (this.mapWidth + 1) * 32;
				break;

			case 2261: 
				characterobject.c = 2250;
				characterobject.vx = 2;
				characterobject.c3 = 180;
				characterobject.c1 = 0;
				characterobject.c2 = (this.mapWidth + 1) * 32;
				break;

			case 2262: 
				characterobject.c = 2250;
				characterobject.vx = 4;
				characterobject.c3 = 0;
				characterobject.c1 = 0;
				characterobject.c2 = (this.mapWidth + 1) * 32;
				break;

			case 2263: 
				characterobject.c = 2250;
				characterobject.vx = 4;
				characterobject.c3 = 180;
				characterobject.c1 = 0;
				characterobject.c2 = (this.mapWidth + 1) * 32;
				break;

			case 2300: 
				characterobject.c = 2300;
				characterobject.pt = 3000;
				characterobject.x = i;
				characterobject.y = j;
				characterobject.c3 = characterobject.y;
				characterobject.vy = -4;
				characterobject.c1 = 0;
				characterobject.c2 = (this.mapWidth + 1) * 32;
				characterobject.c4 = this.newYuka(String(characterobject.x), String(characterobject.y), "0", "0", "half_circle");
				this.setYukaColor(characterobject.c4, this.gamecolor_firebar2);
				break;

			case 2301: 
				characterobject.c = 2300;
				characterobject.pt = 3000;
				characterobject.x = i;
				characterobject.y = j - 160;
				characterobject.c3 = j;
				characterobject.vy = 4;
				characterobject.c1 = 0;
				characterobject.c2 = (this.mapWidth + 1) * 32;
				characterobject.c4 = this.newYuka(String(characterobject.x), String(characterobject.y), "0", "0", "half_circle");
				this.setYukaColor(characterobject.c4, this.gamecolor_firebar2);
				break;

			case 2400: 
				characterobject.c = 2400;
				characterobject.pt = 3000;
				characterobject.x = i;
				characterobject.y = j;
				characterobject.c3 = j;
				characterobject.vy = 4;
				characterobject.c5 = 0;
				characterobject.c1 = 0;
				characterobject.c2 = (this.mapWidth + 1) * 32;
				characterobject.c4 = this.newYuka(String(characterobject.x), String(characterobject.y), "0", "0", "half_circle");
				this.setYukaColor(characterobject.c4, this.gamecolor_firebar2);
				break;

			case 2500: 
				characterobject.c = 2500;
				characterobject.pt = 3000;
				characterobject.x = i;
				characterobject.y = j - 160;
				characterobject.c3 = j;
				characterobject.vy = 4;
				characterobject.c5 = 0;
				characterobject.c1 = 0;
				characterobject.c2 = (this.mapWidth + 1) * 32;
				characterobject.c4 = this.newYuka(String(characterobject.x), String(characterobject.y), "0", "0", "half_circle");
				this.setYukaColor(characterobject.c4, this.gamecolor_firebar2);
				break;

			case 2510: 
				characterobject.c = 2500;
				characterobject.pt = 3000;
				characterobject.x = i;
				characterobject.y = j;
				characterobject.c3 = j;
				characterobject.vy = 4;
				characterobject.c5 = 1000;
				characterobject.c1 = 0;
				characterobject.c2 = (this.mapWidth + 1) * 32;
				characterobject.c4 = this.newYuka(String(characterobject.x), String(characterobject.y), "0", "0", "half_circle");
				this.setYukaColor(characterobject.c4, this.gamecolor_firebar2);
				break;

			case 2600: 
				characterobject.c = 2600;
				characterobject.pt = 2700;
				characterobject.x = i;
				characterobject.y = j + 16;
				characterobject.c3 = j + 16;
				characterobject.vy = 4;
				characterobject.c5 = 0;
				characterobject.c1 = 0;
				characterobject.c2 = (this.mapWidth + 1) * 32;
				characterobject.c4 = this.newYuka(String(characterobject.x), String(characterobject.y), "80", "0", "circle");
				this.setYukaColor(characterobject.c4, new Color(this.gamecolor_mizunohadou.getRed(), this.gamecolor_mizunohadou.getGreen(), this.gamecolor_mizunohadou.getBlue(), 176));
				break;

			case 2610: 
				characterobject.c = 2610;
				characterobject.pt = 2700;
				characterobject.x = i;
				characterobject.y = j + 16;
				characterobject.c3 = j + 16;
				characterobject.vy = 4;
				characterobject.c5 = 0;
				characterobject.c1 = 0;
				characterobject.c2 = (this.mapWidth + 1) * 32;
				characterobject.c4 = this.newYuka(String(characterobject.x), String(characterobject.y), "80", "0", "circle");
				this.setYukaColor(characterobject.c4, new Color(this.gamecolor_mizunohadou.getRed(), this.gamecolor_mizunohadou.getGreen(), this.gamecolor_mizunohadou.getBlue(), 176));
				break;

			case 2700: 
				characterobject.c = 2700;
				characterobject.pt = 2700;
				characterobject.x = i;
				characterobject.y = j + 16 + 24;
				characterobject.c3 = j + 16 + 24;
				characterobject.vy = 40;
				characterobject.c5 = 0;
				characterobject.c1 = 0;
				characterobject.c2 = (this.mapWidth + 1) * 32;
				characterobject.c4 = this.newYuka(String(characterobject.x), String(characterobject.y), "112", "0", "circle");
				this.setYukaColor(characterobject.c4, new Color(this.gamecolor_mizunohadou.getRed(), this.gamecolor_mizunohadou.getGreen(), this.gamecolor_mizunohadou.getBlue(), 176));
				break;

			case 2701: 
				characterobject.c = 2700;
				characterobject.pt = 2700;
				characterobject.x = i;
				characterobject.y = j + 16 + 24 + 106;
				characterobject.c3 = j + 16 + 24;
				characterobject.vy = -40;
				characterobject.c5 = 0;
				characterobject.c1 = 0;
				characterobject.c2 = (this.mapWidth + 1) * 32;
				characterobject.c4 = this.newYuka(String(characterobject.x), String(characterobject.y), "112", "0", "circle");
				this.setYukaColor(characterobject.c4, new Color(this.gamecolor_mizunohadou.getRed(), this.gamecolor_mizunohadou.getGreen(), this.gamecolor_mizunohadou.getBlue(), 176));
				break;

			case 2800: 
				characterobject.x = i + 16;
				characterobject.y = j + 16;
				characterobject.pt = 3100;
				characterobject.vy = 90;
				characterobject.vx = 22;
				characterobject.c3 = 0;
				characterobject.c = 2800;
				characterobject.c1 = 0;
				characterobject.c2 = (this.mapWidth + 1) * 32;
				break;

			case 2801: 
				characterobject.x = i + 16;
				characterobject.y = j + 16;
				characterobject.pt = 3100;
				characterobject.vy = 90;
				characterobject.vx = -22;
				characterobject.c3 = 0;
				characterobject.c = 2800;
				characterobject.c1 = 0;
				characterobject.c2 = (this.mapWidth + 1) * 32;
				break;

			case 2802: 
				characterobject.x = i + 16;
				characterobject.y = j + 16;
				characterobject.pt = 3100;
				characterobject.vy = 90;
				characterobject.vx = 22;
				characterobject.c3 = 1;
				characterobject.c = 2800;
				characterobject.c1 = 0;
				characterobject.c2 = (this.mapWidth + 1) * 32;
				break;

			case 2803: 
				characterobject.x = i + 16;
				characterobject.y = j + 16;
				characterobject.pt = 3100;
				characterobject.vy = 168;
				characterobject.vx = 0;
				characterobject.c3 = 1;
				characterobject.c = 2800;
				characterobject.c1 = 0;
				characterobject.c2 = (this.mapWidth + 1) * 32;
				break;

			case 2900: 
				characterobject.pt = 3200;
				break;

			case 2950: 
				characterobject.pt = 3250;
				break;

			case 3000: 
				characterobject.pt = 3300;
				characterobject.c3 = 0;
				characterobject.c1 = 0;
				characterobject.c2 = (this.mapWidth + 1) * 32;
				break;

			case 3010: 
				characterobject.c = 3000;
				characterobject.pt = 3300;
				characterobject.c3 = 1;
				characterobject.c1 = 0;
				characterobject.c2 = (this.mapWidth + 1) * 32;
				break;

			case 3100: 
				characterobject.pt = 3500;
				characterobject.c3 = 0;
				characterobject.c1 = i - 512 - 160;
				characterobject.c2 = i + 160;
				break;

			case 3101: 
				characterobject.c = 3100;
				characterobject.pt = 3500;
				characterobject.c3 = 1;
				characterobject.c1 = i - 512 - 160;
				characterobject.c2 = i + 160;
				break;

			case 3110: 
				characterobject.pt = 3510;
				characterobject.c3 = 0;
				characterobject.c1 = i - 512 - 160;
				characterobject.c2 = i + 160;
				break;

			case 3111: 
				characterobject.c = 3110;
				characterobject.pt = 3510;
				characterobject.c3 = 1;
				characterobject.c1 = i - 512 - 160;
				characterobject.c2 = i + 160;
				break;

			case 3120: 
				characterobject.pt = 3520;
				characterobject.c3 = 0;
				characterobject.c1 = i - 512 - 160;
				characterobject.c2 = i + 160;
				break;

			case 3121: 
				characterobject.c = 3120;
				characterobject.pt = 3520;
				characterobject.c3 = 1;
				characterobject.c1 = i - 512 - 160;
				characterobject.c2 = i + 160;
				break;

			case 3130: 
				characterobject.pt = 3530;
				characterobject.c3 = 0;
				characterobject.c1 = i - 512 - 160;
				characterobject.c2 = i + 160;
				break;

			case 3131: 
				characterobject.c = 3130;
				characterobject.pt = 3530;
				characterobject.c3 = 1;
				characterobject.c1 = i - 512 - 160;
				characterobject.c2 = i + 160;
				break;

			case 3200: 
				characterobject.c = 3200;
				characterobject.x = i + 16;
				characterobject.y = j + 16;
				characterobject.pt = 3100;
				characterobject.vy = 270;
				characterobject.vx = 22;
				characterobject.c3 = 0;
				characterobject.c4 = 0;
				characterobject.c1 = 0;
				characterobject.c2 = (this.mapWidth + 1) * 32;
				break;

			case 3201: 
				characterobject.c = 3200;
				characterobject.x = i + 16;
				characterobject.y = j + 16;
				characterobject.pt = 3100;
				characterobject.vy = 270;
				characterobject.vx = -22;
				characterobject.c3 = 0;
				characterobject.c4 = 0;
				characterobject.c1 = 0;
				characterobject.c2 = (this.mapWidth + 1) * 32;
				break;

			case 3202: 
				characterobject.c = 3200;
				characterobject.x = i + 16;
				characterobject.y = j + 16;
				characterobject.pt = 3100;
				characterobject.vy = 270;
				characterobject.vx = 22;
				characterobject.c3 = 0;
				characterobject.c4 = 1;
				characterobject.c1 = 0;
				characterobject.c2 = (this.mapWidth + 1) * 32;
				break;

			case 3203: 
				characterobject.c = 3200;
				characterobject.x = i + 16;
				characterobject.y = j + 16;
				characterobject.pt = 3100;
				characterobject.vy = 270;
				characterobject.vx = -22;
				characterobject.c3 = 0;
				characterobject.c4 = 1;
				characterobject.c1 = 0;
				characterobject.c2 = (this.mapWidth + 1) * 32;
				break;

			case 3300: 
				characterobject.c = 3300;
				characterobject.pt = 2700;
				characterobject.x = i + 16;
				characterobject.y = j + 16;
				characterobject.c3 = j + 16;
				characterobject.vy = 0;
				characterobject.c5 = 96;
				characterobject.c1 = 0;
				characterobject.c2 = (this.mapWidth + 1) * 32;
				characterobject.c4 = this.newYuka(String(characterobject.x), String(characterobject.y), "96", "0", "circle");
				this.setYukaColor(characterobject.c4, this.gamecolor_firebar2);
				break;

			case 3301: 
				characterobject.c = 3300;
				characterobject.pt = 2700;
				characterobject.x = i + 16;
				characterobject.y = j + 16;
				characterobject.c3 = j + 16;
				characterobject.vy = 0;
				characterobject.c5 = 128;
				characterobject.c1 = 0;
				characterobject.c2 = (this.mapWidth + 1) * 32;
				characterobject.c4 = this.newYuka(String(characterobject.x), String(characterobject.y), "128", "0", "circle");
				this.setYukaColor(characterobject.c4, this.gamecolor_firebar2);
				break;

			case 3400: 
				characterobject.pt = 3600;
				break;

			case 3500: 
				characterobject.c3 = 0;
				characterobject.c4 = 0;
				characterobject.pt = 3700;
				break;

			case 3501: 
				characterobject.c = 3500;
				characterobject.c3 = 0;
				characterobject.c4 = 1;
				characterobject.pt = 3700;
				break;

			case 3502: 
				characterobject.c = 3500;
				characterobject.c3 = 0;
				characterobject.c4 = 2;
				characterobject.pt = 3700;
				break;

			case 3600: 
				characterobject.c3 = 0;
				characterobject.c4 = 0;
				characterobject.pt = 3700;
				break;

			case 3601: 
				characterobject.c = 3600;
				characterobject.c3 = 0;
				characterobject.c4 = 1;
				characterobject.pt = 3700;
				break;

			case 3602: 
				characterobject.c = 3600;
				characterobject.c3 = 0;
				characterobject.c4 = 2;
				characterobject.pt = 3700;
				break;

			case 3700: 
				characterobject.c3 = 0;
				characterobject.c5 = 0;
				characterobject.c1 = 0;
				characterobject.c2 = (this.mapWidth + 1) * 32;
				break;

			case 3710: 
				characterobject.c3 = 100;
				characterobject.c5 = 0;
				characterobject.c1 = 0;
				characterobject.c2 = (this.mapWidth + 1) * 32;
				break;

			case 3800: 
				characterobject.c3 = 0;
				characterobject.c5 = 0;
				characterobject.c1 = 0;
				characterobject.c2 = (this.mapWidth + 1) * 32;
				break;

			case 3810: 
				characterobject.c3 = 0;
				characterobject.c5 = 0;
				characterobject.c1 = 0;
				characterobject.c2 = (this.mapWidth + 1) * 32;
				break;

			case 3900: 
				characterobject.c3 = 0;
				characterobject.c5 = 0;
				characterobject.c1 = 0;
				characterobject.c2 = (this.mapWidth + 1) * 32;
				break;

			case 3910: 
				characterobject.c3 = 0;
				characterobject.c5 = 0;
				characterobject.c1 = 0;
				characterobject.c2 = (this.mapWidth + 1) * 32;
				break;

			case 4000: 
				characterobject.c3 = 0;
				characterobject.c5 = 0;
				characterobject.c1 = 0;
				characterobject.c2 = (this.mapWidth + 1) * 32;
				break;

			case 4010: 
				characterobject.c3 = 0;
				characterobject.c5 = 0;
				characterobject.c1 = 0;
				characterobject.c2 = (this.mapWidth + 1) * 32;
				break;

			case 4100: 
				characterobject.c3 = 0;
				characterobject.c5 = 0;
				characterobject.c1 = 0;
				characterobject.c2 = (this.mapWidth + 1) * 32;
				break;

			case 4110: 
				characterobject.c3 = 0;
				characterobject.c5 = 0;
				characterobject.c1 = 0;
				characterobject.c2 = (this.mapWidth + 1) * 32;
				break;

			case 4200: 
				characterobject.c3 = 0;
				characterobject.c5 = 0;
				characterobject.c1 = 0;
				characterobject.c2 = (this.mapWidth + 1) * 32;
				break;

			case 4210: 
				characterobject.c3 = 0;
				characterobject.c5 = 0;
				characterobject.c1 = 0;
				characterobject.c2 = (this.mapWidth + 1) * 32;
				break;

			case 4300: 
				characterobject.vx = -3;
				characterobject.c3 = 270;
				characterobject.c4 = 0;
				characterobject.c5 = 0;
				characterobject.vy = 0;
				characterobject.c1 = 0;
				characterobject.c2 = (this.mapWidth + 1) * 32;
				break;

			case 4301: 
				characterobject.c = 4300;
				characterobject.vx = -3;
				characterobject.c3 = 270;
				characterobject.c4 = 1;
				characterobject.c5 = 0;
				characterobject.vy = 0;
				characterobject.c1 = 0;
				characterobject.c2 = (this.mapWidth + 1) * 32;
				break;

			case 4302: 
				characterobject.c = 4300;
				characterobject.vx = -3;
				characterobject.c3 = 180;
				characterobject.c4 = 2;
				characterobject.c5 = 0;
				characterobject.vy = 0;
				characterobject.c1 = 0;
				characterobject.c2 = (this.mapWidth + 1) * 32;
				break;

			case 4303: 
				characterobject.c = 4300;
				characterobject.vx = -3;
				characterobject.c3 = 360;
				characterobject.c4 = 3;
				characterobject.c5 = 0;
				characterobject.vy = 0;
				characterobject.c1 = 0;
				characterobject.c2 = (this.mapWidth + 1) * 32;
				break;

			case 4304: 
				characterobject.c = 4300;
				characterobject.vx = -3;
				characterobject.c3 = 180;
				characterobject.c4 = 4;
				characterobject.c5 = 0;
				characterobject.vy = 0;
				characterobject.c1 = 0;
				characterobject.c2 = (this.mapWidth + 1) * 32;
				break;

			case 4305: 
				characterobject.c = 4300;
				characterobject.vx = -3;
				characterobject.c3 = 0;
				characterobject.c4 = 5;
				characterobject.c5 = 0;
				characterobject.vy = 0;
				characterobject.c1 = 0;
				characterobject.c2 = (this.mapWidth + 1) * 32;
				break;

			case 4306: 
				characterobject.c = 4300;
				characterobject.vx = -3;
				characterobject.c3 = 90;
				characterobject.c4 = 6;
				characterobject.c5 = 0;
				characterobject.vy = 0;
				characterobject.c1 = 0;
				characterobject.c2 = (this.mapWidth + 1) * 32;
				break;

			case 4307: 
				characterobject.c = 4300;
				characterobject.vx = -3;
				characterobject.c3 = 90;
				characterobject.c4 = 7;
				characterobject.c5 = 0;
				characterobject.vy = 0;
				characterobject.c1 = 0;
				characterobject.c2 = (this.mapWidth + 1) * 32;
				break;

			case 4310: 
				characterobject.c = 4300;
				characterobject.vx = -2;
				characterobject.c3 = 360;
				characterobject.c4 = 10;
				characterobject.c5 = 0;
				characterobject.vy = 0;
				characterobject.c1 = 0;
				characterobject.c2 = (this.mapWidth + 1) * 32;
				break;

			case 4311: 
				characterobject.c = 4300;
				characterobject.vx = -2;
				characterobject.c3 = 180;
				characterobject.c4 = 11;
				characterobject.c5 = 0;
				characterobject.vy = 0;
				characterobject.c1 = 0;
				characterobject.c2 = (this.mapWidth + 1) * 32;
				break;

			case 4312: 
				characterobject.c = 4300;
				characterobject.vx = -2;
				characterobject.c3 = 0;
				characterobject.c4 = 12;
				characterobject.c5 = 0;
				characterobject.vy = 0;
				characterobject.c1 = 0;
				characterobject.c2 = (this.mapWidth + 1) * 32;
				break;

			case 4313: 
				characterobject.c = 4300;
				characterobject.vx = -2;
				characterobject.c3 = 180;
				characterobject.c4 = 13;
				characterobject.c5 = 0;
				characterobject.vy = 0;
				characterobject.c1 = 0;
				characterobject.c2 = (this.mapWidth + 1) * 32;
				break;

			case 4314: 
				characterobject.c = 4300;
				characterobject.vx = -2;
				characterobject.c3 = 270;
				characterobject.c4 = 14;
				characterobject.c5 = 0;
				characterobject.vy = 0;
				characterobject.c1 = 0;
				characterobject.c2 = (this.mapWidth + 1) * 32;
				break;

			case 4315: 
				characterobject.c = 4300;
				characterobject.vx = -2;
				characterobject.c3 = 270;
				characterobject.c4 = 15;
				characterobject.c5 = 0;
				characterobject.vy = 0;
				characterobject.c1 = 0;
				characterobject.c2 = (this.mapWidth + 1) * 32;
				break;

			case 4316: 
				characterobject.c = 4300;
				characterobject.vx = -2;
				characterobject.c3 = 90;
				characterobject.c4 = 16;
				characterobject.c5 = 0;
				characterobject.vy = 0;
				characterobject.c1 = 0;
				characterobject.c2 = (this.mapWidth + 1) * 32;
				break;

			case 4317: 
				characterobject.c = 4300;
				characterobject.vx = -2;
				characterobject.c3 = 90;
				characterobject.c4 = 17;
				characterobject.c5 = 0;
				characterobject.vy = 0;
				characterobject.c1 = 0;
				characterobject.c2 = (this.mapWidth + 1) * 32;
				break;

			case 4400: 
				characterobject.c3 = 0;
				characterobject.c5 = 0;
				characterobject.c1 = 0;
				characterobject.c2 = (this.mapWidth + 1) * 32;
				break;

			case 4410: 
				characterobject.c3 = 0;
				characterobject.c5 = 0;
				characterobject.c1 = 0;
				characterobject.c2 = (this.mapWidth + 1) * 32;
				break;

			case 4500: 
				characterobject.x = i + 16;
				characterobject.y = j + 16;
				characterobject.c3 = 0;
				characterobject.pt = 4000;
				characterobject.c5 = 0;
				characterobject.vx = 0;
				characterobject.vy = 322;
				characterobject.c1 = 0;
				characterobject.c2 = (this.mapWidth + 1) * 32;
				characterobject.c4 = this.newYuka(String(1), String(1), String(2), String(2), "line");
				this.setYukaColor(String(characterobject.c4), "255", "255", "255", "255");
				break;

			case 4501: 
				characterobject.c = 4500;
				characterobject.x = i + 16;
				characterobject.y = j + 16;
				characterobject.c3 = 0;
				characterobject.pt = 4000;
				characterobject.c5 = 0;
				characterobject.vx = 1;
				characterobject.vy = 218;
				characterobject.c1 = 0;
				characterobject.c2 = (this.mapWidth + 1) * 32;
				characterobject.c4 = this.newYuka(String(1), String(1), String(2), String(2), "line");
				this.setYukaColor(String(characterobject.c4), "255", "255", "255", "255");
				break;

			case 4502: 
				characterobject.c = 4500;
				characterobject.x = i + 16;
				characterobject.y = j + 16;
				characterobject.c3 = 0;
				characterobject.pt = 4000;
				characterobject.c5 = 0;
				characterobject.vx = 2;
				characterobject.vy = 322;
				characterobject.c1 = 0;
				characterobject.c2 = (this.mapWidth + 1) * 32;
				characterobject.c4 = this.newYuka(String(1), String(1), String(2), String(2), "line");
				this.setYukaColor(String(characterobject.c4), "255", "255", "255", "255");
				break;

			case 4503: 
				characterobject.c = 4500;
				characterobject.x = i + 16;
				characterobject.y = j + 16;
				characterobject.c3 = 0;
				characterobject.pt = 4000;
				characterobject.c5 = 0;
				characterobject.vx = 3;
				characterobject.vy = 218;
				characterobject.c1 = 0;
				characterobject.c2 = (this.mapWidth + 1) * 32;
				characterobject.c4 = this.newYuka(String(1), String(1), String(2), String(2), "line");
				this.setYukaColor(String(characterobject.c4), "255", "255", "255", "255");
				break;

			case 4510: 
				characterobject.c = 4500;
				characterobject.x = i + 16;
				characterobject.y = j + 16;
				characterobject.c3 = 0;
				characterobject.pt = 4000;
				characterobject.c5 = 0;
				characterobject.vx = 10;
				characterobject.vy = 218;
				characterobject.c1 = 0;
				characterobject.c2 = (this.mapWidth + 1) * 32;
				characterobject.c4 = this.newYuka(String(1), String(1), String(2), String(2), "line");
				this.setYukaColor(String(characterobject.c4), "255", "255", "255", "255");
				break;

			case 4511: 
				characterobject.c = 4500;
				characterobject.x = i + 16;
				characterobject.y = j + 16;
				characterobject.c3 = 0;
				characterobject.pt = 4000;
				characterobject.c5 = 0;
				characterobject.vx = 11;
				characterobject.vy = 270;
				characterobject.c1 = 0;
				characterobject.c2 = (this.mapWidth + 1) * 32;
				characterobject.c4 = this.newYuka(String(1), String(1), String(2), String(2), "line");
				this.setYukaColor(String(characterobject.c4), "255", "255", "255", "255");
				break;

			case 4512: 
				characterobject.c = 4500;
				characterobject.x = i + 16;
				characterobject.y = j + 16;
				characterobject.c3 = 0;
				characterobject.pt = 4000;
				characterobject.c5 = 0;
				characterobject.vx = 12;
				characterobject.vy = 322;
				characterobject.c1 = 0;
				characterobject.c2 = (this.mapWidth + 1) * 32;
				characterobject.c4 = this.newYuka(String(1), String(1), String(2), String(2), "line");
				this.setYukaColor(String(characterobject.c4), "255", "255", "255", "255");
				break;

			case 4513: 
				characterobject.c = 4500;
				characterobject.x = i + 16;
				characterobject.y = j + 16;
				characterobject.c3 = 0;
				characterobject.pt = 4000;
				characterobject.c5 = 0;
				characterobject.vx = 13;
				characterobject.vy = 270;
				characterobject.c1 = 0;
				characterobject.c2 = (this.mapWidth + 1) * 32;
				characterobject.c4 = this.newYuka(String(1), String(1), String(2), String(2), "line");
				this.setYukaColor(String(characterobject.c4), "255", "255", "255", "255");
				break;

			case 4600: 
				characterobject.pt = 4100;
				break;

			case 4610: 
				characterobject.pt = 4110;
				break;

			case 4700: 
				characterobject.c3 = 0;
				characterobject.c4 = 0;
				characterobject.pt = 0;
				characterobject.c1 = 0;
				characterobject.c2 = (this.mapWidth + 1) * 32;
				break;

			case 4701: 
				characterobject.c = 4700;
				characterobject.c3 = 0;
				characterobject.c4 = 1;
				characterobject.pt = 0;
				characterobject.c1 = 0;
				characterobject.c2 = (this.mapWidth + 1) * 32;
				break;

			case 4702: 
				characterobject.c = 4700;
				characterobject.c3 = 0;
				characterobject.c4 = 2;
				characterobject.pt = 0;
				characterobject.c1 = 0;
				characterobject.c2 = (this.mapWidth + 1) * 32;
				break;

			case 4703: 
				characterobject.c = 4700;
				characterobject.c3 = 0;
				characterobject.c4 = 3;
				characterobject.pt = 0;
				characterobject.c1 = 0;
				characterobject.c2 = (this.mapWidth + 1) * 32;
				break;

			case 4800: 
				characterobject.pt = 4100;
				characterobject.c3 = 0;
				characterobject.c4 = 0;
				characterobject.c1 = 0;
				characterobject.c2 = (this.mapWidth + 1) * 32;
				break;

			case 4801: 
				characterobject.c = 4800;
				characterobject.pt = 4110;
				characterobject.c3 = 0;
				characterobject.c4 = 1;
				characterobject.c1 = 0;
				characterobject.c2 = (this.mapWidth + 1) * 32;
				break;

			case 4900: 
				characterobject.c = 4900;
				characterobject.pt = 4200;
				break;

			case 4910: 
				characterobject.c = 4910;
				characterobject.pt = 4210;
				break;

			case 5000: 
				characterobject.c3 = 0;
				characterobject.pt = 0;
				characterobject.c1 = l - 512 - 32 - 512;
				characterobject.c2 = l + 128 + 512;
				break;

			case 5100: 
				characterobject.c3 = 0;
				characterobject.c4 = 0;
				characterobject.pt = 4300;
				break;

			case 5101: 
				characterobject.c = 5100;
				characterobject.c3 = 0;
				characterobject.c4 = 1;
				characterobject.pt = 4300;
				break;

			case 5200: 
				characterobject.c3 = 0;
				characterobject.c5 = 0;
				characterobject.c1 = 0;
				characterobject.c2 = (this.mapWidth + 1) * 32;
				break;

			case 5210: 
				characterobject.c3 = 0;
				characterobject.c5 = 0;
				characterobject.c1 = 0;
				characterobject.c2 = (this.mapWidth + 1) * 32;
				break;

			case 5300: 
				characterobject.pt = 4220;
				break;
			}
			break;
		}
		i1++;
	} while(true);
}

MainProgram.prototype.aMove = function()
{
	this.j_a_id = -1;
	this.j_jdai_f = false;
	this.a_hf = false;
	this.souko_count1 = 0;
	this.souko_count2 = 0;
	for(var i = 0; i <= this.a_kazu; i++)
	{
		var characterobject = this.co_a[i];
		if(characterobject.c == 0)
			continue;
		if((this.scroll_area < 2 || this.scroll_area > 5) && (this.maps.wx <= characterobject.c1 || this.maps.wx >= characterobject.c2))
		{
			characterobject.gf = false;
			continue;
		}
		var k3 = characterobject.x;
		var l3 = characterobject.y;
		switch(characterobject.c)
		{
		default:
			break;

		case 60:
			if(k3 > this.maps.wx - 80 && k3 < this.maps.wx + 512 && l3 > this.maps.wy - 96 && l3 < this.maps.wy + 320)
			{
				characterobject.gf = true;
				this.a_hf = true;
				if(this.g_c3 <= 3)
					characterobject.pt = 200;
				else
					characterobject.pt = 210;
			} else
			{
				characterobject.gf = false;
			}
			break;

		case 70:
			if(characterobject.c4 == 2)
			{
				characterobject.c3 += characterobject.vx;
				if(characterobject.c3 <= 110)
				{
					characterobject.c3 = 110;
					characterobject.vx = 2;
				} else
				if(characterobject.c3 >= 250)
				{
					characterobject.c3 = 250;
					characterobject.vx = -2;
				}
			} else
			if(characterobject.c4 == 3)
			{
				characterobject.c3 += characterobject.vx;
				if(characterobject.c3 <= 290)
				{
					characterobject.c3 = 290;
					characterobject.vx = 2;
				} else
				if(characterobject.c3 >= 430)
				{
					characterobject.c3 = 430;
					characterobject.vx = -2;
				}
			} else
			{
				characterobject.c3 += characterobject.vx;
				if(characterobject.c3 < 0)
					characterobject.c3 += 360;
				else
				if(characterobject.c3 >= 360)
					characterobject.c3 -= 360;
			}
			if(k3 > this.maps.wx - 150 && k3 < this.maps.wx + 512 + 150 && l3 > this.maps.wy - 150 && l3 < this.maps.wy + 320 + 150)
			{
				characterobject.gf = true;
				this.a_hf = true;
				characterobject.pt = 1100;
				var i85;
				var j87;
				var k89;
				var j92;
				if(Math.abs(characterobject.vx) == 2)
				{
					var d = 0.017453292519943295;
					i85 = k3 + Math.floor(Math.cos(characterobject.c3 * d) * 25);
					j87 = l3 + Math.floor(Math.sin(characterobject.c3 * d) * 25);
					this.vo_x[i][0] = i85;
					this.vo_y[i][0] = j87;
					k89 = k3 + Math.floor(Math.cos(characterobject.c3 * d) * 172);
					j92 = l3 + Math.floor(Math.sin(characterobject.c3 * d) * 172);
					this.vo_x[i][1] = k89;
					this.vo_y[i][1] = j92;
					this.vo_x[i][2] = k3 + (Math.cos(characterobject.c3 * d) * 31);
					this.vo_y[i][2] = l3 + (Math.sin(characterobject.c3 * d) * 31);
					this.vo_x[i][3] = k3 + (Math.cos(characterobject.c3 * d) * 166);
					this.vo_y[i][3] = l3 + (Math.sin(characterobject.c3 * d) * 166);
				} else
				{
					var d1 = 0.017453292519943295;
					i85 = k3 + Math.floor(Math.cos(characterobject.c3 * d1) * 25);
					j87 = l3 + Math.floor(Math.sin(characterobject.c3 * d1) * 25);
					this.vo_x[i][0] = i85;
					this.vo_y[i][0] = j87;
					k89 = k3 + Math.floor(Math.cos(characterobject.c3 * d1) * 140);
					j92 = l3 + Math.floor(Math.sin(characterobject.c3 * d1) * 140);
					this.vo_x[i][1] = k89;
					this.vo_y[i][1] = j92;
					this.vo_x[i][2] = k3 + (Math.cos(characterobject.c3 * d1) * 31);
					this.vo_y[i][2] = l3 + (Math.sin(characterobject.c3 * d1) * 31);
					this.vo_x[i][3] = k3 + (Math.cos(characterobject.c3 * d1) * 134);
					this.vo_y[i][3] = l3 + (Math.sin(characterobject.c3 * d1) * 134);
				}
				if(this.co_j.c >= 100 && this.co_j.c < 200 && this.j_v_c <= 0)
					if(Math.abs(i85 - k89) >= Math.abs(j87 - j92))
					{
						if(this.co_j.x + 15 > i85 && this.co_j.x + 15 < k89)
						{
							var l5 = k89 - i85;
							var k22 = (this.co_j.x + 15) - i85;
							var i46 = j92 - j87;
							var i62 = rounddown((k22 * i46) / l5) + j87;
							if(i62 > this.co_j.y - 12 && i62 < this.co_j.y + 44)
								this.jShinu(1);
						} else
						if(this.co_j.x + 15 > k89 && this.co_j.x + 15 < i85)
						{
							var i6 = i85 - k89;
							var l22 = (this.co_j.x + 15) - k89;
							var j46 = j87 - j92;
							var j62 = rounddown((l22 * j46) / i6) + j92;
							if(j62 > this.co_j.y - 12 && j62 < this.co_j.y + 44)
								this.jShinu(1);
						}
					} else
					if(this.co_j.y + 15 > j87 && this.co_j.y + 15 < j92)
					{
						var j6 = j92 - j87;
						var i23 = (this.co_j.y + 15) - j87;
						var k46 = k89 - i85;
						var k62 = rounddown((i23 * k46) / j6) + i85;
						if(k62 > this.co_j.x - 12 && k62 < this.co_j.x + 44)
							this.jShinu(1);
					} else
					if(this.co_j.y + 15 > j92 && this.co_j.y + 15 < j87)
					{
						var k6 = j87 - j92;
						var j23 = (this.co_j.y + 15) - j92;
						var l46 = i85 - k89;
						var l62 = rounddown((j23 * l46) / k6) + k89;
						if(l62 > this.co_j.x - 12 && l62 < this.co_j.x + 44)
							this.jShinu(1);
					}
			} else
			{
				characterobject.gf = false;
			}
			break;

		case 80:
			if(k3 > this.maps.wx - 32 && k3 < this.maps.wx + 512 && l3 > this.maps.wy - 32 && l3 < this.maps.wy + 320)
			{
				characterobject.gf = true;
				this.a_hf = true;
				if(this.co_j.x >= k3 - 80 && this.co_j.x <= k3 + 64 && Math.abs(l3 - this.co_j.y) < 32)
				{
					this.hitokoto_c = 10;
					this.hitokoto_num = characterobject.c3;
				}
			} else
			{
				characterobject.gf = false;
			}
			break;

		case 85:
			if(k3 > this.maps.wx - 32 && k3 < this.maps.wx + 512 && l3 > this.maps.wy - 32 && l3 < this.maps.wy + 320)
			{
				characterobject.gf = true;
				this.a_hf = true;
			} else
			{
				characterobject.gf = false;
			}
			break;

		case 86:
			if(k3 > this.maps.wx - 32 && k3 < this.maps.wx + 512 && l3 > this.maps.wy - 32 && l3 < this.maps.wy + 320)
			{
				characterobject.gf = true;
				this.a_hf = true;
				if(this.km.mode == 50)
				{
					if(this.co_j.x < k3 - 80 - 8 || this.co_j.x > k3 + 64 + 8)
						this.km.mode = 100;
				} else
				if(this.km.mode == 100)
				{
					if(this.co_j.x >= k3 - 80 && this.co_j.x <= k3 + 64 && Math.abs(l3 - this.co_j.y) < 8 && !this.gk.tr1_f)
					{
						this.km.init1(3);
						this.km.setMessage(3, this.shop_name);
						this.addSerifu(3, 5, 3);
						this.km.activeSerifu(3, 168, 40, 224, Color.cyan);
						this.km.move();
						this.km.mode = 400;
					}
				} else
				if(this.km.mode == 400)
				{
					if(this.km.cancel_c == 1)
					{
						this.km.off(3);
						this.km.mode = 50;
					} else
					if(this.co_j.x < k3 - 80 - 8 || this.co_j.x > k3 + 64 + 8 || Math.abs(l3 - this.co_j.y) > 16)
					{
						this.km.off(3);
						this.km.mode = 50;
					} else
					if(this.km.kettei_c == 1)
					{
						this.co_j.c = 150;
						if(this.co_j.x <= k3 || this.maps.getBGCode(k3 + 48, l3) >= 18)
						{
							if(this.maps.getBGCode(k3 - 16, l3) >= 18)
							{
								this.co_j.x = k3 - 15;
								this.co_j.muki = 1;
							} else
							{
								this.co_j.x = k3 - 48;
								this.co_j.muki = 1;
							}
						} else
						{
							this.co_j.x = k3 + 48;
							this.co_j.muki = 0;
						}
						this.co_j.y = l3;
						this.co_j.vx = 0;
						this.co_j.vy = 0;
						this.co_j.pt = 100;
						this.setmyw_pt = this.co_j.pt;
						this.setmyw_muki = this.co_j.muki;
						this.co_j.c1 = 10;
						this.km.list_kazu = 0;
						this.km.init1(6);
						this.km.setMessage(6, this.tdb.getValue("shop_serifu1"));
						for(i = 0; i <= 8; i++)
							if(this.shop_item_teika[i] > 0)
							{
								this.km.addItem2(6, this.shop_item_name[i], this.shop_item_teika[i]);
								this.km.list_IDlist[this.km.list_kazu] = i;
								this.km.list_kazu++;
							}

						if(this.km.list_kazu >= 1)
						{
							this.km.activeKaimono(6, 308, 60, 184);
							this.km.mode = 410;
						} else
						{
							this.km.init1(6);
							this.km.init1(8);
							this.km.setMessage(8, "Error");
							this.km.addItem(8, "Please set any item on shop menu.");
							this.km.activeSerifu(8, 250, 100, 216, Color.red);
							this.km.mode = 440;
						}
					}
				} else
				if(this.km.mode == 410)
				{
					this.co_j.c1 = 10;
					if(this.km.cancel_c == 1)
					{
						this.km.off(6);
						this.km.mode = 100;
					} else
					if(this.km.kettei_c == 1)
					{
						this.km.list_s = this.km.list_IDlist[this.km.selectedIndex[6]];
						this.km.init1(7);
						this.km.setMessage(7, "" + this.shop_item_name[this.km.list_s] + this.tdb.getValue("shop_serifu2"));
						this.km.addItem(7, this.tdb.getValue("shop_serifu3"));
						this.km.addItem(7, this.tdb.getValue("shop_serifu4"));
						this.km.activeSerifutuki(7, 16, 86, 236, this.shop_name);
						this.km.mode = 420;
					}
				} else
				if(this.km.mode == 420)
				{
					this.co_j.c1 = 10;
					if(this.km.cancel_c == 1)
					{
						this.km.offActivewindow(7, 6);
						this.km.mode = 410;
					} else
					if(this.km.kettei_c == 1)
						if(this.km.selectedIndex[7] == 0)
						{
							if(this.score >= this.shop_item_teika[this.km.list_s])
							{
								this.km.init1(8);
								this.km.addItem(8, "" + this.shop_item_name[this.km.list_s] + this.tdb.getValue("shop_serifu5"));
								this.km.activeIchigyou(8, 16, 170, 236);
								this.score -= this.shop_item_teika[this.km.list_s];
								this.ig.shop_kattaitem = this.km.list_s;
								switch(this.ig.shop_kattaitem)
								{
								default:
									break;

								case 0:
									this.j_gr_kazu += 3;
									this.gs.rsAddSound(7);
									break;

								case 1:
									this.j_jet_fuel += 80;
									this.gs.rsAddSound(7);
									break;

								case 2:
									this.j_drell_f = true;
									this.gs.rsAddSound(7);
									break;

								case 3:
									this.j_helm_f = true;
									this.gs.rsAddSound(7);
									break;

								case 4:
									this.j_tail_f = true;
									this.gs.rsAddSound(7);
									break;

								case 5:
									this.j_v_c = 150;
									this.j_v_kakudo = 0;
									this.gs.rsAddSound(7);
									break;

								case 6:
									this.j_fire_f = true;
									this.j_fire_type = this.default_j_fire_type;
									if(this.j_fire_type == 3 || this.j_fire_type == 4)
										this.j_fire_range = 10;
									this.gs.rsAddSound(7);
									break;

								case 7:
									if(this.j_tokugi == 17)
										this.setMyHP(String(this.getMyHP() + 1));
									else
										this.j_left++;
									this.gs.rsAddSound(7);
									break;

								case 8:
									if(this.time_max > 0)
										this.time += 30000;
									this.gs.rsAddSound(7);
									break;
								}
								this.km.mode = 430;
							} else
							{
								this.km.init1(8);
								this.km.addItem(8, this.tdb.getValue("shop_serifu6"));
								this.km.activeIchigyou(8, 16, 172, 236);
								this.km.mode = 430;
								this.co_j.c1 = 10;
							}
						} else
						{
							this.km.off(4);
							this.km.off(6);
							this.km.off(7);
							this.km.mode = 100;
						}
				} else
				if(this.km.mode == 430)
				{
					if(this.co_j.x < k3 - 80 - 8 || this.co_j.x > k3 + 64 + 8)
					{
						this.km.off(3);
						this.km.off(6);
						this.km.off(7);
						this.km.off(8);
						this.km.mode = 100;
					} else
					if(this.km.cancel_c == 1)
					{
						this.km.off(7);
						this.km.offActivewindow(8, 6);
						this.co_j.c = 150;
						if(this.co_j.x <= k3 || this.maps.getBGCode(k3 + 48, l3) >= 18)
						{
							if(this.maps.getBGCode(k3 - 16, l3) >= 18)
							{
								this.co_j.x = k3 - 15;
								this.co_j.muki = 1;
							} else
							{
								this.co_j.x = k3 - 48;
								this.co_j.muki = 1;
							}
						} else
						{
							this.co_j.x = k3 + 48;
							this.co_j.muki = 0;
						}
						this.co_j.y = l3;
						this.co_j.vx = 0;
						this.co_j.vy = 0;
						this.co_j.pt = 100;
						this.setmyw_pt = this.co_j.pt;
						this.setmyw_muki = this.co_j.muki;
						this.co_j.c1 = 10;
						this.km.mode = 410;
					} else
					if(this.km.kettei_c == 1)
					{
						this.km.off(3);
						this.km.off(6);
						this.km.off(7);
						this.km.off(8);
						this.km.mode = 50;
					}
				} else
				if(this.km.mode == 440 && (this.co_j.x < k3 - 80 - 8 || this.co_j.x > k3 + 64 + 8 || this.km.cancel_c == 1 || this.km.kettei_c == 1))
				{
					this.km.off(3);
					this.km.off(6);
					this.km.off(7);
					this.km.off(8);
					this.km.mode = 50;
				}
			} else
			{
				characterobject.gf = false;
			}
			break;

		case 87:
			if(k3 > this.maps.wx - 32 && k3 < this.maps.wx + 512 && l3 > this.maps.wy - 32 && l3 < this.maps.wy + 320)
			{
				characterobject.gf = true;
				this.a_hf = true;
				if(this.km.mode == 50)
				{
					if(this.co_j.x < k3 - 80 - 8 || this.co_j.x > k3 + 64 + 8)
						this.km.mode = 100;
				} else
				if(this.km.mode == 100)
				{
					if(this.co_j.x >= k3 - 80 && this.co_j.x <= k3 + 64 && Math.abs(l3 - this.co_j.y) < 8 && !this.gk.tr1_f)
					{
						if(characterobject.c3 == 0)
						{
							this.km.init1(3);
							this.km.setMessage(3, this.mes1_name);
							this.addSerifu(3, 1, 3);
							this.km.activeSerifu(3, 168, 40, 272, Color.cyan);
							this.km.mode = 200;
						} else
						{
							this.km.init1(3);
							this.km.setMessage(3, this.mes1_name);
							this.addSerifu(3, 2, 3);
							this.km.activeSerifu(3, 168, 40, 272, Color.cyan);
							this.km.mode = 250;
						}
						this.km.move();
					}
				} else
				if(this.km.mode == 200)
				{
					if(this.km.cancel_c == 1)
					{
						this.km.off(3);
						this.km.mode = 50;
					} else
					if(this.co_j.x < k3 - 80 - 8 || this.co_j.x > k3 + 64 + 8 || Math.abs(l3 - this.co_j.y) > 16)
					{
						this.km.off(3);
						this.km.mode = 50;
					} else
					if(this.km.kettei_c == 1)
					{
						this.co_j.c = 150;
						if(this.co_j.x <= k3 || this.maps.getBGCode(k3 + 48, l3) >= 18)
						{
							if(this.maps.getBGCode(k3 - 16, l3) >= 18)
							{
								this.co_j.x = k3 - 15;
								this.co_j.muki = 1;
							} else
							{
								this.co_j.x = k3 - 48;
								this.co_j.muki = 1;
							}
						} else
						{
							this.co_j.x = k3 + 48;
							this.co_j.muki = 0;
						}
						this.co_j.y = l3;
						this.co_j.vx = 0;
						this.co_j.vy = 0;
						this.co_j.pt = 100;
						this.setmyw_pt = this.co_j.pt;
						this.setmyw_muki = this.co_j.muki;
						this.co_j.c1 = 10;
						this.km.init1(7);
						this.km.setMessage(7, this.tdb.getValue("shop_serifu1"));
						this.km.addItem(7, this.shop_item_name[3]);
						this.km.addItem(7, this.shop_item_name[2]);
						this.km.activeSerifutuki(7, 72, 86, 160, this.mes1_name);
						this.km.mode = 220;
					}
				} else
				if(this.km.mode == 220)
				{
					this.co_j.c1 = 10;
					if(this.km.cancel_c == 1)
					{
						this.km.offActivewindow(7, 3);
						this.km.mode = 200;
					} else
					if(this.km.kettei_c == 1)
					{
						if(this.km.selectedIndex[7] == 0)
						{
							this.km.init1(8);
							this.km.addItem(8, "" + this.shop_item_name[3] + this.tdb.getValue("shop_serifu5"));
							this.km.activeIchigyou(8, 244, 136, 236);
							this.j_helm_f = true;
							this.gs.rsAddSound(7);
							this.km.mode = 230;
						} else
						{
							this.km.init1(8);
							this.km.addItem(8, "" + this.shop_item_name[2] + this.tdb.getValue("shop_serifu5"));
							this.km.activeIchigyou(8, 244, 136, 236);
							this.j_drell_f = true;
							this.gs.rsAddSound(7);
							this.km.mode = 230;
						}
						characterobject.c3 = 1;
					}
				} else
				if(this.km.mode == 230)
				{
					if(this.co_j.x < k3 - 80 - 8 || this.co_j.x > k3 + 64 + 8 || this.km.kettei_c == 1)
					{
						this.km.off(3);
						this.km.off(7);
						this.km.off(8);
						this.km.mode = 50;
					} else
					if(this.km.cancel_c == 1)
					{
						this.km.off(3);
						this.km.off(7);
						this.km.off(8);
						this.km.init1(3);
						this.km.setMessage(3, this.mes1_name);
						this.addSerifu(3, 2, 3);
						this.km.activeSerifu(3, 168, 40, 272, Color.cyan);
						this.km.mode = 250;
					}
				} else
				if(this.km.mode == 250 && (this.co_j.x < k3 - 80 - 8 || this.co_j.x > k3 + 64 + 8 || this.km.cancel_c == 1 || this.km.kettei_c == 1))
				{
					this.km.off(3);
					this.km.mode = 50;
				}
			} else
			{
				characterobject.gf = false;
			}
			break;

		case 88:
			if(k3 > this.maps.wx - 32 && k3 < this.maps.wx + 512 && l3 > this.maps.wy - 32 && l3 < this.maps.wy + 320)
			{
				characterobject.gf = true;
				this.a_hf = true;
				if(this.km.mode == 50)
				{
					if(this.co_j.x < k3 - 80 - 8 || this.co_j.x > k3 + 64 + 8)
						this.km.mode = 100;
				} else
				if(this.km.mode == 100)
				{
					if(this.co_j.x >= k3 - 80 && this.co_j.x <= k3 + 64 && Math.abs(l3 - this.co_j.y) < 8 && !this.gk.tr1_f)
					{
						if(characterobject.c3 == 0)
						{
							this.km.init1(3);
							this.km.setMessage(3, this.mes2_name);
							this.addSerifu(3, 3, 3);
							this.km.activeSerifu(3, 168, 40, 272, Color.cyan);
							this.km.mode = 300;
						} else
						{
							this.km.init1(3);
							this.km.setMessage(3, this.mes2_name);
							this.addSerifu(3, 4, 3);
							this.km.activeSerifu(3, 168, 40, 272, Color.cyan);
							this.km.mode = 350;
						}
						this.km.move();
					}
				} else
				if(this.km.mode == 300)
				{
					if(this.km.cancel_c == 1)
					{
						this.km.off(3);
						this.km.mode = 50;
					} else
					if(this.co_j.x < k3 - 80 - 8 || this.co_j.x > k3 + 64 + 8 || Math.abs(l3 - this.co_j.y) > 16)
					{
						this.km.off(3);
						this.km.mode = 50;
					} else
					if(this.km.kettei_c == 1)
					{
						this.co_j.c = 150;
						if(this.co_j.x <= k3 || this.maps.getBGCode(k3 + 48, l3) >= 18)
						{
							if(this.maps.getBGCode(k3 - 16, l3) >= 18)
							{
								this.co_j.x = k3 - 15;
								this.co_j.muki = 1;
							} else
							{
								this.co_j.x = k3 - 48;
								this.co_j.muki = 1;
							}
						} else
						{
							this.co_j.x = k3 + 48;
							this.co_j.muki = 0;
						}
						this.co_j.y = l3;
						this.co_j.vx = 0;
						this.co_j.vy = 0;
						this.co_j.pt = 100;
						this.setmyw_pt = this.co_j.pt;
						this.setmyw_muki = this.co_j.muki;
						this.co_j.c1 = 10;
						this.km.init1(7);
						this.km.setMessage(7, this.tdb.getValue("shop_serifu1"));
						this.km.addItem(7, this.shop_item_name[0]);
						this.km.addItem(7, this.shop_item_name[1]);
						this.km.activeSerifutuki(7, 72, 86, 160, this.mes2_name);
						this.km.mode = 320;
					}
				} else
				if(this.km.mode == 320)
				{
					this.co_j.c1 = 10;
					if(this.km.cancel_c == 1)
					{
						this.km.offActivewindow(7, 3);
						this.km.mode = 300;
					} else
					if(this.km.kettei_c == 1)
					{
						if(this.km.selectedIndex[7] == 0)
						{
							this.km.init1(8);
							this.km.addItem(8, "" + this.shop_item_name[0] + this.tdb.getValue("shop_serifu5"));
							this.km.activeIchigyou(8, 244, 136, 236);
							this.j_gr_kazu += 3;
							this.gs.rsAddSound(7);
							this.km.mode = 330;
						} else
						{
							this.km.init1(8);
							this.km.addItem(8, "" + this.shop_item_name[1] + this.tdb.getValue("shop_serifu5"));
							this.km.activeIchigyou(8, 244, 136, 236);
							this.j_jet_fuel += 80;
							this.gs.rsAddSound(7);
							this.km.mode = 330;
						}
						characterobject.c3 = 1;
					}
				} else
				if(this.km.mode == 330)
				{
					if(this.co_j.x < k3 - 80 - 8 || this.co_j.x > k3 + 64 + 8 || this.km.kettei_c == 1)
					{
						this.km.off(3);
						this.km.off(7);
						this.km.off(8);
						this.km.mode = 50;
					} else
					if(this.km.cancel_c == 1)
					{
						this.km.off(3);
						this.km.off(7);
						this.km.off(8);
						this.km.init1(3);
						this.km.setMessage(3, this.mes2_name);
						this.addSerifu(3, 4, 3);
						this.km.activeSerifu(3, 168, 40, 272, Color.cyan);
						this.km.mode = 350;
					}
				} else
				if(this.km.mode == 350 && (this.co_j.x < k3 - 80 - 8 || this.co_j.x > k3 + 64 + 8 || this.km.cancel_c == 1 || this.km.kettei_c == 1))
				{
					this.km.off(3);
					this.km.mode = 50;
				}
			} else
			{
				characterobject.gf = false;
			}
			break;

		case 89:
			if(k3 > this.maps.wx - 32 && k3 < this.maps.wx + 512 && l3 > this.maps.wy - 32 && l3 < this.maps.wy + 320)
			{
				characterobject.gf = true;
				this.a_hf = true;
				if(this.km.mode == 50)
				{
					if(this.co_j.x < k3 - 80 - 8 || this.co_j.x > k3 + 64 + 8)
						this.km.mode = 100;
				} else
				if(this.km.mode == 100)
				{
					if(this.co_j.x >= k3 - 80 && this.co_j.x <= k3 + 64 && Math.abs(l3 - this.co_j.y) < 8 && !this.gk.tr1_f)
					{
						this.km.init1(3);
						this.km.setMessage(3, this.tdb.getValue("fs_name"));
						this.addSerifu(3, 7, 3);
						this.km.activeSerifu(3, 168, 40, 272, Color.cyan);
						this.km.mode = 200;
						this.km.move();
					}
				} else
				if(this.km.mode == 200)
				{
					if(this.km.cancel_c == 1)
					{
						this.km.off(3);
						this.km.mode = 50;
					} else
					if(this.co_j.x < k3 - 80 - 8 || this.co_j.x > k3 + 64 + 8 || Math.abs(l3 - this.co_j.y) > 16)
					{
						this.km.off(3);
						this.km.mode = 50;
					} else
					if(this.km.kettei_c == 1)
					{
						this.co_j.c = 150;
						if(this.co_j.x <= k3 || this.maps.getBGCode(k3 + 48, l3) >= 18)
						{
							if(this.maps.getBGCode(k3 - 16, l3) >= 18)
							{
								this.co_j.x = k3 - 15;
								this.co_j.muki = 1;
							} else
							{
								this.co_j.x = k3 - 48;
								this.co_j.muki = 1;
							}
						} else
						{
							this.co_j.x = k3 + 48;
							this.co_j.muki = 0;
						}
						this.co_j.y = l3;
						this.co_j.vx = 0;
						this.co_j.vy = 0;
						this.co_j.pt = 100;
						this.setmyw_pt = this.co_j.pt;
						this.setmyw_muki = this.co_j.muki;
						this.co_j.c1 = 10;
						this.km.init1(7);
						this.km.setMessage(7, this.tdb.getValue("fs_serifu1"));
						this.km.addItem(7, this.tdb.getValue("fs_item_name1"));
						this.km.addItem(7, this.tdb.getValue("fs_item_name2"));
						this.km.addItem(7, this.tdb.getValue("fs_item_name3"));
						this.km.activeSerifutuki(7, 40, 86, 240, this.tdb.getValue("fs_name"));
						this.km.mode = 220;
					}
				} else
				if(this.km.mode == 220)
				{
					this.co_j.c1 = 10;
					if(this.km.cancel_c == 1)
					{
						this.km.offActivewindow(7, 3);
						this.km.mode = 200;
					} else
					if(this.km.kettei_c == 1)
						if(this.km.selectedIndex[7] == 0)
						{
							this.km.init1(8);
							this.km.addItem(8, "" + this.tdb.getValue("fs_item_name1") + this.tdb.getValue("fs_serifu2"));
							this.km.activeIchigyou(8, 204, 156, 236);
							this.j_fire_f = true;
							this.j_fire_type = 1;
							this.gs.rsAddSound(7);
							this.km.mode = 230;
						} else
						if(this.km.selectedIndex[7] == 1)
						{
							this.km.init1(8);
							this.km.addItem(8, "" + this.tdb.getValue("fs_item_name2") + this.tdb.getValue("fs_serifu2"));
							this.km.activeIchigyou(8, 204, 156, 236);
							this.j_fire_f = true;
							this.j_fire_type = 2;
							this.j_fire_range = 9999;
							this.gs.rsAddSound(7);
							this.km.mode = 230;
						} else
						{
							this.km.init1(8);
							this.km.addItem(8, "" + this.tdb.getValue("fs_item_name3") + this.tdb.getValue("fs_serifu2"));
							this.km.activeIchigyou(8, 204, 156, 236);
							this.j_fire_f = true;
							this.j_fire_type = 4;
							this.j_fire_range = 10;
							this.gs.rsAddSound(7);
							this.km.mode = 230;
						}
				} else
				if(this.km.mode == 230)
				{
					if(this.co_j.x < k3 - 80 - 8 || this.co_j.x > k3 + 64 + 8 || this.km.kettei_c == 1 || this.km.cancel_c == 1)
					{
						this.km.off(3);
						this.km.off(7);
						this.km.off(8);
						this.km.mode = 50;
					}
				} else
				if(this.km.mode == 250 && (this.co_j.x < k3 - 80 - 8 || this.co_j.x > k3 + 64 + 8 || this.km.cancel_c == 1 || this.km.kettei_c == 1))
				{
					this.km.off(3);
					this.km.mode = 50;
				}
			} else
			{
				characterobject.gf = false;
			}
			break;

		case 90:
			if(k3 > this.maps.wx - 180 && k3 < this.maps.wx + 512 + 180 && l3 > this.maps.wy - 180 && l3 < this.maps.wy + 320 + 180)
			{
				characterobject.gf = true;
				this.a_hf = true;
				characterobject.pt = 1200;
				var i4 = this.isRideYuka(String(characterobject.c4));
				if(i4 == 1)
					if(Math.abs((this.co_j.x + 15) - k3) < 16)
					{
						if(characterobject.vy > 0)
							characterobject.vy--;
						else
						if(characterobject.vy < 0)
							characterobject.vy++;
					} else
					if(this.co_j.x + 15 < k3)
					{
						characterobject.vy--;
						if(this.co_j.x + 15 < k3 - 80)
							characterobject.vy--;
						if(characterobject.vy < -56)
							characterobject.vy = -56;
					} else
					{
						characterobject.vy++;
						if(this.co_j.x + 15 > k3 + 80)
							characterobject.vy++;
						if(characterobject.vy > 56)
							characterobject.vy = 56;
					}
				var j85 = k3 + Math.floor(Math.cos(((characterobject.vy + 180) * 3.1415926535897931) / 180) * 160);
				var k87 = l3 + Math.floor(Math.sin(((characterobject.vy + 180) * 3.1415926535897931) / 180) * 160);
				var l89 = k3 + Math.floor(Math.cos((characterobject.vy * 3.1415926535897931) / 180) * 160);
				var k92 = l3 + Math.floor(Math.sin((characterobject.vy * 3.1415926535897931) / 180) * 160);
				j85 += Math.floor(Math.cos(((characterobject.vy + 270) * 3.1415926535897931) / 180) * 12);
				k87 += Math.floor(Math.sin(((characterobject.vy + 270) * 3.1415926535897931) / 180) * 12);
				l89 += Math.floor(Math.cos(((characterobject.vy - 90) * 3.1415926535897931) / 180) * 12);
				k92 += Math.floor(Math.sin(((characterobject.vy - 90) * 3.1415926535897931) / 180) * 12);
				this.setYukaPosition(String(characterobject.c4), String(j85), String(k87), String(l89), String(k92));
			} else
			{
				characterobject.gf = false;
			}
			break;

		case 93:
			if(k3 > this.maps.wx - 180 && k3 < this.maps.wx + 512 + 180 && l3 > this.maps.wy - 180 && l3 < this.maps.wy + 320 + 180)
			{
				characterobject.gf = true;
				this.a_hf = true;
				characterobject.pt = 1300;
				if(characterobject.c3 == 0)
				{
					characterobject.c3 = 1;
					this.maps.putBGCode(rightShiftIgnoreSign(k3, 5), rightShiftIgnoreSign(l3, 5), 50);
				}
			} else
			{
				characterobject.gf = false;
			}
			if(characterobject.vy > 110)
			{
				characterobject.vx -= 2;
				if(characterobject.vx < -40)
					characterobject.vx = -40;
			} else
			if(characterobject.vy < 70)
			{
				characterobject.vx += 2;
				if(characterobject.vx > 40)
					characterobject.vx = 40;
			}
			if(characterobject.vx > 0)
				characterobject.vy += rounddown((characterobject.vx + 5) / 10);
			else
				characterobject.vy += rounddown((characterobject.vx - 5) / 10);
			var k85 = k3 + Math.floor(Math.cos(((characterobject.vy + 20) * 3.1415926535897931) / 180) * 192);
			var l87 = l3 + Math.floor(Math.sin(((characterobject.vy + 20) * 3.1415926535897931) / 180) * 192);
			var i90 = k3 + Math.floor(Math.cos(((characterobject.vy - 20) * 3.1415926535897931) / 180) * 192);
			var l92 = l3 + Math.floor(Math.sin(((characterobject.vy - 20) * 3.1415926535897931) / 180) * 192);
			this.setYukaPosition(String(characterobject.c4), String(k85), String(l87), String(i90), String(l92));
			break;

		case 95:
			if(k3 > this.maps.wx - 180 && k3 < this.maps.wx + 512 + 180 && l3 > this.maps.wy - 180 && l3 < this.maps.wy + 320 + 180)
			{
				characterobject.gf = true;
				this.a_hf = true;
				characterobject.pt = 1400;
				if(characterobject.c3 == 0)
				{
					characterobject.c3 = 1;
					this.maps.putBGCode(rightShiftIgnoreSign(k3, 5), rightShiftIgnoreSign(l3, 5), 50);
				}
			} else
			{
				characterobject.gf = false;
			}
			if(characterobject.c3 == 1)
			{
				if(characterobject.vy > 200)
				{
					characterobject.vx -= 2;
					if(characterobject.vx < -28)
						characterobject.vx = -28;
				} else
				if(characterobject.vy < 160)
				{
					characterobject.vx += 2;
					if(characterobject.vx > 28)
						characterobject.vx = 28;
				}
			} else
			if(characterobject.c3 == 2)
				if(characterobject.vy > 380)
				{
					characterobject.vx -= 2;
					if(characterobject.vx < -28)
						characterobject.vx = -28;
				} else
				if(characterobject.vy < 340)
				{
					characterobject.vx += 2;
					if(characterobject.vx > 28)
						characterobject.vx = 28;
				}
			if(characterobject.vx > 0)
				characterobject.vy += rounddown((characterobject.vx + 5) / 10);
			else
				characterobject.vy += rounddown((characterobject.vx - 5) / 10);
			if(characterobject.c3 == 1)
			{
				var l85 = k3 + Math.floor(Math.cos((characterobject.vy * 3.1415926535897931) / 180) * 192) + Math.floor(Math.cos(((characterobject.vy + 90) * 3.1415926535897931) / 180) * 12);
				var i88 = l3 + Math.floor(Math.sin((characterobject.vy * 3.1415926535897931) / 180) * 192) + Math.floor(Math.sin(((characterobject.vy + 90) * 3.1415926535897931) / 180) * 12);
				var j90 = k3 + Math.floor(Math.cos((characterobject.vy * 3.1415926535897931) / 180) * 60) + Math.floor(Math.cos(((characterobject.vy + 90) * 3.1415926535897931) / 180) * 12);
				var i93 = l3 + Math.floor(Math.sin((characterobject.vy * 3.1415926535897931) / 180) * 60) + Math.floor(Math.sin(((characterobject.vy + 90) * 3.1415926535897931) / 180) * 12);
				this.setYukaPosition(String(characterobject.c4), String(l85), String(i88), String(j90), String(i93));
			} else
			if(characterobject.c3 == 2)
			{
				var i86 = k3 + Math.floor(Math.cos((characterobject.vy * 3.1415926535897931) / 180) * 60) + Math.floor(Math.cos(((characterobject.vy - 90) * 3.1415926535897931) / 180) * 12);
				var j88 = l3 + Math.floor(Math.sin((characterobject.vy * 3.1415926535897931) / 180) * 60) + Math.floor(Math.sin(((characterobject.vy - 90) * 3.1415926535897931) / 180) * 12);
				var k90 = k3 + Math.floor(Math.cos((characterobject.vy * 3.1415926535897931) / 180) * 192) + Math.floor(Math.cos(((characterobject.vy - 90) * 3.1415926535897931) / 180) * 12);
				var j93 = l3 + Math.floor(Math.sin((characterobject.vy * 3.1415926535897931) / 180) * 192) + Math.floor(Math.sin(((characterobject.vy - 90) * 3.1415926535897931) / 180) * 12);
				this.setYukaPosition(String(characterobject.c4), String(i86), String(j88), String(k90), String(j93));
			}
			break;

		case 100:
			if(k3 > this.maps.wx - 80 - 32 && k3 < this.maps.wx + 512 + 32 && l3 > this.maps.wy - 16 && l3 < this.maps.wy + 320 + 32)
			{
				characterobject.gf = true;
				this.a_hf = true;
				if((this.co_j.c == 100 || this.co_j.c == 130) && this.co_j.x + 15 >= k3 && this.co_j.x <= k3 + 64 && this.co_j.y == l3 - 32)
					this.j_a_id = i;
			} else
			{
				characterobject.gf = false;
			}
			if(l3 <= characterobject.c3)
			{
				characterobject.vy++;
				if(characterobject.vy > 5)
					characterobject.vy = 5;
			} else
			if(l3 >= characterobject.c4)
			{
				characterobject.vy--;
				if(characterobject.vy < -5)
					characterobject.vy = -5;
			}
			l3 += characterobject.vy;
			if(this.co_j.c == 100 || this.co_j.c == 130)
			{
				if(this.j_a_id == i)
					this.co_j.y = l3 - 32;
				if(characterobject.vy < 0 && this.maps.getBGCode(this.co_j.x + 15, this.co_j.y) >= 20)
				{
					this.co_j.y = rightShiftIgnoreSign(this.co_j.y, 5) * 32 + 16;
					this.jShinu(3);
				}
				if(this.co_j.x + 15 >= k3 && this.co_j.x <= k3 + 64 && this.co_j.y + 31 >= l3 && this.co_j.y <= l3 + 13)
					if(characterobject.vy > 0)
					{
						this.co_j.y = l3 + 14;
						if(this.maps.getBGCode(this.co_j.x + 15, this.co_j.y + 15) == 10 || this.maps.getBGCode(this.co_j.x + 15, this.co_j.y + 31) == 10)
							this.j_hashigo_f = true;
						if(this.maps.getBGCode(this.co_j.x + 15, this.co_j.y + 31) >= 18)
						{
							this.co_j.y = rightShiftIgnoreSign(this.co_j.y + 31, 5) * 32 - 32;
							this.jShinu(3);
						}
					} else
					{
						this.co_j.y = l3 - 32;
						this.j_a_id = i;
					}
			}
			break;

		case 110:
			if(k3 > this.maps.wx - 80 - 32 && k3 < this.maps.wx + 512 + 32 && l3 > this.maps.wy - 16 && l3 < this.maps.wy + 320 + 32)
			{
				characterobject.gf = true;
				this.a_hf = true;
				if((this.co_j.c == 100 || this.co_j.c == 130) && this.co_j.x + 15 >= k3 && this.co_j.x <= k3 + 64 && this.co_j.y == l3 - 32)
					this.j_a_id = i;
			} else
			{
				characterobject.gf = false;
			}
			if(k3 <= characterobject.c3)
			{
				characterobject.vx++;
				if(characterobject.vx > 3)
					characterobject.vx = 3;
			} else
			if(k3 >= characterobject.c4)
			{
				characterobject.vx--;
				if(characterobject.vx < -3)
					characterobject.vx = -3;
			}
			k3 += characterobject.vx;
			if(this.co_j.c == 100 || this.co_j.c == 130)
			{
				if(this.j_a_id == i)
				{
					this.co_j.x += characterobject.vx;
					if(characterobject.vx > 0)
					{
						var l6 = rightShiftIgnoreSign(this.co_j.x + 15, 5);
						var k23 = rightShiftIgnoreSign(this.co_j.y, 5);
						var i47 = rightShiftIgnoreSign(this.co_j.y + 31, 5);
						if(this.maps.map_bg[l6][k23] >= 20 || this.maps.map_bg[l6][i47] >= 20)
							this.co_j.x = l6 * 32 - 16;
					} else
					if(characterobject.vx < 0)
					{
						var i7 = rightShiftIgnoreSign(this.co_j.x + 15, 5);
						var l23 = rightShiftIgnoreSign(this.co_j.y, 5);
						var j47 = rightShiftIgnoreSign(this.co_j.y + 31, 5);
						if(this.maps.map_bg[i7][l23] >= 20 || this.maps.map_bg[i7][j47] >= 20)
							this.co_j.x = (i7 * 32 + 32) - 14;
					}
				}
				if(this.co_j.x + 15 >= k3 && this.co_j.x <= k3 + 64 && this.co_j.y + 31 >= l3 && this.co_j.y <= l3 + 13)
					if(characterobject.vx > 0)
					{
						this.co_j.x = k3 + 65;
						var j7 = rightShiftIgnoreSign(this.co_j.x + 15, 5);
						var i24 = rightShiftIgnoreSign(this.co_j.y, 5);
						var k47 = rightShiftIgnoreSign(this.co_j.y + 31, 5);
						if(this.maps.map_bg[j7][i24] >= 20 || this.maps.map_bg[j7][k47] >= 20)
						{
							this.co_j.c = 230;
							this.co_j.x = (j7 * 32 - 32) + 11;
							this.co_j.c1 = 0;
							this.j_zan_f = false;
							this.j_jet_c = 0;
							this.j_v_c = 0;
						}
					} else
					{
						this.co_j.x = k3 - 16;
						var k7 = rightShiftIgnoreSign(this.co_j.x + 15, 5);
						var j24 = rightShiftIgnoreSign(this.co_j.y, 5);
						var l47 = rightShiftIgnoreSign(this.co_j.y + 31, 5);
						if(this.maps.map_bg[k7][j24] >= 20 || this.maps.map_bg[k7][l47] >= 20)
						{
							this.co_j.c = 230;
							this.co_j.x = (k7 * 32 + 32) - 11;
							this.co_j.c1 = 0;
							this.j_zan_f = false;
							this.j_jet_c = 0;
							this.j_v_c = 0;
						}
					}
			}
			break;

		case 120:
			if(k3 > this.maps.wx - 80 - 32 && k3 < this.maps.wx + 512 + 32 && l3 > this.maps.wy - 16 && l3 < this.maps.wy + 320 + 32)
			{
				characterobject.gf = true;
				this.a_hf = true;
				if((this.co_j.c == 100 || this.co_j.c == 130) && this.co_j.x + 15 >= k3 && this.co_j.x <= k3 + 64 && this.co_j.y == l3 - 32)
					this.j_a_id = i;
			} else
			{
				characterobject.gf = false;
			}
			if(characterobject.muki == 1)
			{
				characterobject.c3 += 2;
				if(characterobject.c3 >= 360)
					characterobject.c3 -= 360;
			} else
			{
				characterobject.c3 -= 2;
				if(characterobject.c3 < 0)
					characterobject.c3 += 360;
			}
			var d2 = (characterobject.c3 * 3.14) / 180;
			var j86 = (characterobject.vx + Math.floor(Math.cos(d2) * 126) + 16) - 40;
			var k88 = (characterobject.vy + Math.floor(Math.sin(d2) * -126) + 16) - 7;
			var i95 = j86 - k3;
			var j95 = k88 - l3;
			l3 += j95;
			if(this.co_j.c == 100 || this.co_j.c == 130)
			{
				if(this.j_a_id == i)
					this.co_j.y += j95;
				if(j95 < 0 && this.maps.getBGCode(this.co_j.x + 15, this.co_j.y) >= 20)
				{
					this.co_j.y = rightShiftIgnoreSign(this.co_j.y, 5) * 32 + 16;
					this.jShinu(3);
				}
				if(this.co_j.x + 15 >= k3 && this.co_j.x <= k3 + 64 && this.co_j.y + 31 >= l3 && this.co_j.y <= l3 + 13)
					if(j95 > 0)
					{
						this.co_j.y = l3 + 14;
						if(this.maps.getBGCode(this.co_j.x + 15, this.co_j.y + 31) >= 18)
						{
							this.co_j.y = rightShiftIgnoreSign(this.co_j.y + 31, 5) * 32 - 32;
							this.jShinu(3);
						}
					} else
					{
						this.co_j.y = l3 - 32;
						this.j_a_id = i;
					}
			}
			k3 += i95;
			if(this.co_j.c == 100 || this.co_j.c == 130)
			{
				if(this.j_a_id == i)
				{
					this.co_j.x += i95;
					if(i95 > 0)
					{
						var l7 = rightShiftIgnoreSign(this.co_j.x + 15, 5);
						var k24 = rightShiftIgnoreSign(this.co_j.y, 5);
						var i48 = rightShiftIgnoreSign(this.co_j.y + 31, 5);
						if(this.maps.map_bg[l7][k24] >= 20 || this.maps.map_bg[l7][i48] >= 20)
							this.co_j.x = l7 * 32 - 16;
					} else
					if(i95 < 0)
					{
						var i8 = rightShiftIgnoreSign(this.co_j.x + 15, 5);
						var l24 = rightShiftIgnoreSign(this.co_j.y, 5);
						var j48 = rightShiftIgnoreSign(this.co_j.y + 31, 5);
						if(this.maps.map_bg[i8][l24] >= 20 || this.maps.map_bg[i8][j48] >= 20)
							this.co_j.x = (i8 * 32 + 32) - 14;
					}
				}
				if(this.co_j.x + 15 >= k3 && this.co_j.x <= k3 + 64 && this.co_j.y + 31 >= l3 && this.co_j.y <= l3 + 13)
					if(i95 > 0)
					{
						this.co_j.x = k3 + 65;
						var j8 = rightShiftIgnoreSign(this.co_j.x + 15, 5);
						var i25 = rightShiftIgnoreSign(this.co_j.y, 5);
						var k48 = rightShiftIgnoreSign(this.co_j.y + 31, 5);
						if(this.maps.map_bg[j8][i25] >= 20 || this.maps.map_bg[j8][k48] >= 20)
						{
							this.co_j.c = 230;
							this.co_j.x = (j8 * 32 - 32) + 11;
							this.co_j.c1 = 0;
							this.j_zan_f = false;
							this.j_jet_c = 0;
							this.j_v_c = 0;
						}
					} else
					{
						this.co_j.x = k3 - 16;
						var k8 = rightShiftIgnoreSign(this.co_j.x + 15, 5);
						var j25 = rightShiftIgnoreSign(this.co_j.y, 5);
						var l48 = rightShiftIgnoreSign(this.co_j.y + 31, 5);
						if(this.maps.map_bg[k8][j25] >= 20 || this.maps.map_bg[k8][l48] >= 20)
						{
							this.co_j.c = 230;
							this.co_j.x = (k8 * 32 + 32) - 11;
							this.co_j.c1 = 0;
							this.j_zan_f = false;
							this.j_jet_c = 0;
							this.j_v_c = 0;
						}
					}
			}
			break;

		case 150: 
			this.aMoveOption(i);
			k3 = characterobject.x;
			l3 = characterobject.y;
			break;

		case 160: 
			this.aMoveOption(i);
			k3 = characterobject.x;
			l3 = characterobject.y;
			break;

		case 300: 
			if(characterobject.c3 >= 200)
			{
				this.maps.map_bg[rightShiftIgnoreSign(k3, 5)][rightShiftIgnoreSign(l3, 5)] = 31;
				this.maps.map_bg[rightShiftIgnoreSign(k3, 5)][rightShiftIgnoreSign(l3, 5) + 1] = 31;
			} else
			if(this.j_tokugi == 10 || this.j_tokugi == 12 || this.j_tokugi == 13)
			{
				this.maps.map_bg[rightShiftIgnoreSign(k3, 5)][rightShiftIgnoreSign(l3, 5)] = 31;
				this.maps.map_bg[rightShiftIgnoreSign(k3, 5) + 1][rightShiftIgnoreSign(l3, 5)] = 31;
			}
			if(k3 > this.maps.wx - 96 && k3 < this.maps.wx + 512 && l3 > this.maps.wy - 96 && l3 < this.maps.wy + 320)
			{
				characterobject.gf = true;
				this.a_hf = true;
				if(characterobject.c3 < 200 && this.co_j.c == 100 && this.co_j.x + 15 >= k3 && this.co_j.x <= k3 + 48 && this.co_j.y == l3 - 32)
					this.j_a_id = i;
				if(characterobject.c3 >= 100 && characterobject.c3 < 200)
				{
					if(this.co_j.x + 15 >= k3 + 16 && this.co_j.x + 15 <= (k3 + 63) - 16 && this.co_j.y >= l3 + 32 && this.co_j.y < l3 + 32 + 16 && characterobject.c4 != 1 && (this.sl_step == 0 || this.sl_step == 1 || this.sl_step == 10 || this.sl_step == 11 || this.dokan_mode != 2))
					{
						this.co_j.c1 = -10;
						this.co_j.c2 = characterobject.c3;
						this.co_j.c5 = characterobject.c5;
						this.j_zan_f = false;
						this.j_jet_c = 0;
						this.j_v_c = 0;
						this.co_j.c = 300;
						this.co_j.x = k3 + 16;
						this.co_j.y = l3 + 32;
						this.co_j.vx = 0;
						this.co_j.vy = 0;
						characterobject.c4 = 1;
					}
					if(this.co_j.c == 100 && (this.co_j.x + 15 < (k3 + 16) - 4 || this.co_j.x + 15 > ((k3 + 63) - 16) + 4 || this.co_j.y < (l3 + 32) - 4 || this.co_j.y >= l3 + 32 + 16 + 4))
						characterobject.c4 = 0;
				} else
				if(characterobject.c3 >= 200 && characterobject.c3 < 300)
				{
					if(this.co_j.x >= k3 - 32 && this.co_j.x + 15 <= k3 + 31 && this.co_j.y > (l3 + 16) - 14 && this.co_j.y < l3 + 16 + 14 && characterobject.c4 != 1 && (this.sl_step == 0 || this.sl_step == 1 || this.sl_step == 10 || this.sl_step == 11 || this.dokan_mode != 2))
					{
						this.co_j.c1 = -10;
						this.co_j.c2 = characterobject.c3;
						this.co_j.c5 = characterobject.c5;
						this.j_zan_f = false;
						this.j_jet_c = 0;
						this.j_v_c = 0;
						this.co_j.c = 300;
						this.co_j.x = k3 - 32;
						this.co_j.y = l3 + 16;
						this.co_j.muki = 1;
						this.co_j.vx = 0;
						this.co_j.vy = 0;
						characterobject.c4 = 1;
					}
					if(this.co_j.c == 100 && (this.co_j.x < k3 - 32 - 4 || this.co_j.x + 15 > k3 + 31 + 4 || this.co_j.y <= (l3 + 16) - 14 - 1 || this.co_j.y >= l3 + 16 + 14 + 1))
						characterobject.c4 = 0;
				} else
				if(characterobject.c3 >= 300 && characterobject.c3 < 400)
				{
					if(this.co_j.x <= k3 + 32 && this.co_j.x + 15 >= k3 && this.co_j.y > (l3 + 16) - 14 && this.co_j.y < l3 + 16 + 14 && characterobject.c4 != 1 && (this.sl_step == 0 || this.sl_step == 1 || this.sl_step == 10 || this.sl_step == 11 || this.dokan_mode != 2))
					{
						this.co_j.c1 = -10;
						this.co_j.c2 = characterobject.c3;
						this.co_j.c5 = characterobject.c5;
						this.j_zan_f = false;
						this.j_jet_c = 0;
						this.j_v_c = 0;
						this.co_j.c = 300;
						this.co_j.x = k3 + 32;
						this.co_j.y = l3 + 16;
						this.co_j.muki = 0;
						this.co_j.vx = 0;
						this.co_j.vy = 0;
						characterobject.c4 = 1;
					}
					if(this.co_j.c == 100 && (this.co_j.x > k3 + 32 + 4 || this.co_j.x + 15 < k3 - 4 || this.co_j.y <= (l3 + 16) - 14 - 1 || this.co_j.y >= l3 + 16 + 14 + 1))
						characterobject.c4 = 0;
				} else
				{
					if(this.co_j.c == 100 && this.co_j.x + 15 >= k3 && this.co_j.x <= k3 + 48 && this.co_j.y == l3 - 32)
					{
						this.j_a_id = i;
						if(this.co_j.x + 15 >= k3 + 24 && this.co_j.x <= (k3 + 48) - 24 && this.co_j.y == l3 - 32 && characterobject.c4 != 1 && (this.sl_step == 0 || this.sl_step == 1 || this.sl_step == 10 || this.sl_step == 11 || this.dokan_mode != 2))
						{
							this.co_j.c1 = -10;
							this.co_j.c2 = characterobject.c3;
							this.co_j.c5 = characterobject.c5;
							this.j_zan_f = false;
							this.j_jet_c = 0;
							this.j_v_c = 0;
							this.co_j.c = 300;
							this.co_j.x = k3 + 16;
							this.co_j.y = l3 - 32;
							this.co_j.vx = 0;
							this.co_j.vy = 0;
							characterobject.c4 = 1;
						}
					}
					if(this.co_j.c == 100 && this.j_a_id != i)
						characterobject.c4 = 0;
				}
			} else
			{
				characterobject.gf = false;
			}
			break;

		case 400: 
			if(k3 > this.maps.wx - 96 && k3 < this.maps.wx + 512 && l3 > this.maps.wy - 64 && l3 < this.maps.wy + 320)
			{
				characterobject.gf = true;
				this.a_hf = true;
				if((this.co_j.c == 100 || this.co_j.c == 130) && this.co_j.x + 15 >= k3 && this.co_j.x <= k3 + 80 && this.co_j.y == l3 - 32)
					this.j_a_id = i;
			} else
			{
				characterobject.gf = false;
			}
			var byte0 = 0;
			if(characterobject.c3 == 0)
			{
				if(k3 - 64 < this.co_j.x + 15 && k3 + 96 + 64 > this.co_j.x + 15)
					characterobject.c3 = 1;
			} else
			if(characterobject.c3 < 100)
			{
				characterobject.c3++;
				if(characterobject.c3 > 8)
					characterobject.c3 = 100;
			} else
			if(characterobject.c3 == 100)
			{
				l3 += 12;
				byte0 = 1;
				if(l3 >= characterobject.vy + 128)
				{
					l3 = characterobject.vy + 128;
					if(this.a_hf)
						this.gs.rsAddSound(12);
					characterobject.c3 = 200;
				}
			} else
			if(characterobject.c3 == 200)
			{
				l3 -= 3;
				byte0 = -1;
				if(l3 <= characterobject.vy)
				{
					l3 = characterobject.vy;
					characterobject.c3 = 0;
					if(k3 <= this.co_j.x + 15 && k3 + 96 > this.co_j.x + 15)
						characterobject.c3 = 100;
				}
			}
			if(this.co_j.c == 100 || this.co_j.c == 120 || this.co_j.c == 130 || this.co_j.c == 150)
			{
				if(this.j_a_id == i)
				{
					this.co_j.y = l3 - 32;
					if(characterobject.c3 == 200 && this.maps.getBGCode(this.co_j.x + 15, this.co_j.y) >= 20)
					{
						this.co_j.y = rightShiftIgnoreSign(this.co_j.y, 5) * 32 + 16;
						this.jShinu(3);
					}
				}
				if(this.co_j.x + 15 >= k3 && this.co_j.x <= k3 + 80 && this.co_j.y + 31 >= l3 && this.co_j.y <= l3 + 63)
				{
					if(byte0 > 0)
					{
						this.co_j.y = l3 + 64;
						if(this.maps.getBGCode(this.co_j.x + 15, this.co_j.y + 15) == 10 || this.maps.getBGCode(this.co_j.x + 15, this.co_j.y + 31) == 10)
						{
							this.j_hashigo_f = true;
							var j4 = this.maps.getBGCode(this.co_j.x + 15, this.co_j.y + 32);
							if(j4 >= 20 || j4 == 15)
								this.j_hashigo_f = false;
						}
						if(this.maps.getBGCode(this.co_j.x + 15, this.co_j.y + 31) >= 18)
						{
							this.co_j.y = rightShiftIgnoreSign(this.co_j.y + 31, 5) * 32 - 32;
							this.jShinu(3);
						}
					}
					if(byte0 < 0)
					{
						this.co_j.y = l3 - 32;
						this.j_a_id = i;
						if(this.maps.getBGCode(this.co_j.x + 15, this.co_j.y) >= 20)
						{
							this.co_j.y = rightShiftIgnoreSign(this.co_j.y, 5) * 32 + 16;
							this.jShinu(3);
						}
					}
				}
			}
			break;

		case 410: 
			if(k3 > this.maps.wx - 96 && k3 < this.maps.wx + 512 && l3 > this.maps.wy - 64 && l3 < this.maps.wy + 320)
			{
				characterobject.gf = true;
				this.a_hf = true;
				if((this.co_j.c == 100 || this.co_j.c == 130) && this.co_j.x + 15 >= k3 && this.co_j.x <= k3 + 80 && this.co_j.y == l3 - 32)
					this.j_a_id = i;
			} else
			{
				characterobject.gf = false;
			}
			var byte8 = 0;
			if(characterobject.c4 <= 1)
			{
				if(characterobject.c3 == 0)
				{
					if(k3 - 48 < this.co_j.x + 15 && k3 + 96 + 48 > this.co_j.x + 15)
					{
						var l8 = rightShiftIgnoreSign(k3, 5);
						var k25 = rightShiftIgnoreSign(k3 + 31, 5);
						var i49 = rightShiftIgnoreSign(k3 + 63, 5);
						var i63 = rightShiftIgnoreSign(k3 + 95, 5);
						var j39 = rightShiftIgnoreSign(l3 - 1, 5);
						if(this.maps.map_bg[l8][j39] < 18 && this.maps.map_bg[k25][j39] < 18 && this.maps.map_bg[i49][j39] < 18 && this.maps.map_bg[i63][j39] < 18)
							characterobject.c3 = 1;
					}
				} else
				if(characterobject.c3 < 100)
				{
					characterobject.c3++;
					if(characterobject.c3 > 10)
						characterobject.c3 = 100;
				} else
				if(characterobject.c3 == 100)
				{
					l3 -= 12;
					byte8 = -1;
					if(l3 <= characterobject.vy - 128)
					{
						l3 = characterobject.vy - 128;
						if(this.a_hf)
							this.gs.rsAddSound(12);
						characterobject.c3 = 200;
					}
					var i9 = rightShiftIgnoreSign(k3, 5);
					var l25 = rightShiftIgnoreSign(k3 + 31, 5);
					var j49 = rightShiftIgnoreSign(k3 + 63, 5);
					var j63 = rightShiftIgnoreSign(k3 + 95, 5);
					var k39 = rightShiftIgnoreSign(l3 - 1, 5);
					if(this.maps.map_bg[i9][k39] >= 18 || this.maps.map_bg[l25][k39] >= 18 || this.maps.map_bg[j49][k39] >= 18 || this.maps.map_bg[j63][k39] >= 18)
					{
						l3 = k39 * 32 + 32;
						characterobject.c3 = 200;
						if(this.a_hf)
							this.gs.rsAddSound(12);
					}
				} else
				if(characterobject.c3 == 200)
				{
					l3 += 3;
					byte8 = 1;
					if(l3 >= characterobject.vy)
					{
						l3 = characterobject.vy;
						characterobject.c3 = 0;
						if(k3 <= this.co_j.x + 15 && k3 + 96 > this.co_j.x + 15)
							characterobject.c3 = 100;
					}
				}
			} else
			if(characterobject.c4 == 2)
			{
				if(characterobject.c3 == 0)
				{
					if(characterobject.vx - 160 - 40 <= this.co_j.x + 15 && characterobject.vx > this.co_j.x + 15 && l3 - 32 < this.co_j.y && l3 + 64 > this.co_j.y)
					{
						var j9 = rightShiftIgnoreSign(k3 - 1, 5);
						var i26 = rightShiftIgnoreSign(l3, 5);
						var k49 = rightShiftIgnoreSign(l3 + 31, 5);
						var k63 = rightShiftIgnoreSign(l3 + 63, 5);
						if(this.maps.map_bg[j9][i26] < 18 && this.maps.map_bg[j9][k49] < 18 && this.maps.map_bg[j9][k63] < 18)
							characterobject.c3 = 1;
					}
				} else
				if(characterobject.c3 < 100)
				{
					characterobject.c3++;
					if(characterobject.c3 > 10)
						characterobject.c3 = 100;
				} else
				if(characterobject.c3 == 100)
				{
					k3 -= 12;
					if(k3 <= characterobject.vx - 160)
					{
						k3 = characterobject.vx - 160;
						if(this.a_hf)
							this.gs.rsAddSound(12);
						characterobject.c3 = 200;
					}
					var k9 = rightShiftIgnoreSign(k3 - 1, 5);
					var j26 = rightShiftIgnoreSign(l3, 5);
					var l49 = rightShiftIgnoreSign(l3 + 31, 5);
					var l63 = rightShiftIgnoreSign(l3 + 63, 5);
					if(this.maps.map_bg[k9][j26] >= 18 || this.maps.map_bg[k9][l49] >= 18 || this.maps.map_bg[k9][l63] >= 18)
					{
						k3 = k9 * 32 + 32;
						characterobject.c3 = 200;
						if(this.a_hf)
							this.gs.rsAddSound(12);
					}
				} else
				if(characterobject.c3 == 200)
				{
					k3 += 3;
					if(k3 >= characterobject.vx)
					{
						k3 = characterobject.vx;
						characterobject.c3 = 0;
						if(characterobject.vx - 160 - 40 <= this.co_j.x + 15 && characterobject.vx > this.co_j.x + 15 && l3 - 32 < this.co_j.y && l3 + 64 > this.co_j.y)
							characterobject.c3 = 100;
					}
				}
			} else
			if(characterobject.c4 == 3)
			{
				if(characterobject.c3 == 0)
				{
					if(characterobject.vx + 96 + 160 + 40 > this.co_j.x + 15 && characterobject.vx + 96 <= this.co_j.x + 15 && l3 - 32 < this.co_j.y && l3 + 64 > this.co_j.y)
					{
						var l9 = rightShiftIgnoreSign(k3 + 96, 5);
						var k26 = rightShiftIgnoreSign(l3, 5);
						var i50 = rightShiftIgnoreSign(l3 + 31, 5);
						var i64 = rightShiftIgnoreSign(l3 + 63, 5);
						if(this.maps.map_bg[l9][k26] < 18 && this.maps.map_bg[l9][i50] < 18 && this.maps.map_bg[l9][i64] < 18)
							characterobject.c3 = 1;
					}
				} else
				if(characterobject.c3 < 100)
				{
					characterobject.c3++;
					if(characterobject.c3 > 10)
						characterobject.c3 = 100;
				} else
				if(characterobject.c3 == 100)
				{
					k3 += 12;
					if(k3 >= characterobject.vx + 160)
					{
						k3 = characterobject.vx + 160;
						if(this.a_hf)
							this.gs.rsAddSound(12);
						characterobject.c3 = 200;
					}
					var i10 = rightShiftIgnoreSign(k3 + 96, 5);
					var l26 = rightShiftIgnoreSign(l3, 5);
					var j50 = rightShiftIgnoreSign(l3 + 31, 5);
					var j64 = rightShiftIgnoreSign(l3 + 63, 5);
					if(this.maps.map_bg[i10][l26] >= 18 || this.maps.map_bg[i10][j50] >= 18 || this.maps.map_bg[i10][j64] >= 18)
					{
						k3 = i10 * 32 - 96;
						characterobject.c3 = 200;
						if(this.a_hf)
							this.gs.rsAddSound(12);
					}
				} else
				if(characterobject.c3 == 200)
				{
					k3 -= 3;
					if(k3 <= characterobject.vx)
					{
						k3 = characterobject.vx;
						characterobject.c3 = 0;
						if(characterobject.vx + 96 + 160 + 40 > this.co_j.x + 15 && characterobject.vx + 96 <= this.co_j.x + 15 && l3 - 32 < this.co_j.y && l3 + 64 > this.co_j.y)
							characterobject.c3 = 100;
					}
				}
			} else
			if(characterobject.c4 == 4)
			{
				characterobject.c1 = k3 - 512 - 32 - 128;
				characterobject.c2 = k3 + 128 + 128;
				k3 += characterobject.vx;
				if(characterobject.vx < 0)
				{
					var j10 = rightShiftIgnoreSign(k3, 5);
					var i27 = rightShiftIgnoreSign(l3, 5);
					var k50 = rightShiftIgnoreSign(l3 + 31, 5);
					var k64 = rightShiftIgnoreSign(l3 + 63, 5);
					if(this.maps.map_bg[j10][i27] >= 18 || this.maps.map_bg[j10][k50] >= 18 || this.maps.map_bg[j10][k64] >= 18)
					{
						k3 = j10 * 32 + 32;
						characterobject.vx = 3;
					}
				} else
				if(characterobject.vx > 0)
				{
					var k10 = rightShiftIgnoreSign(k3 + 95, 5);
					var j27 = rightShiftIgnoreSign(l3, 5);
					var l50 = rightShiftIgnoreSign(l3 + 31, 5);
					var l64 = rightShiftIgnoreSign(l3 + 63, 5);
					if(this.maps.map_bg[k10][j27] >= 18 || this.maps.map_bg[k10][l50] >= 18 || this.maps.map_bg[k10][l64] >= 18)
					{
						k3 = k10 * 32 - 96;
						characterobject.vx = -3;
					}
				}
			} else
			if(characterobject.c4 == 5)
			{
				if(characterobject.c3 == 0)
				{
					if(k3 - 48 < this.co_j.x + 15 && k3 + 96 + 48 > this.co_j.x + 15 && this.co_j.y >= l3 + 64 && this.co_j.y <= l3 + 64 + 96)
					{
						var l10 = rightShiftIgnoreSign(k3, 5);
						var k27 = rightShiftIgnoreSign(k3 + 31, 5);
						var i51 = rightShiftIgnoreSign(k3 + 63, 5);
						var i65 = rightShiftIgnoreSign(k3 + 95, 5);
						var l39 = rightShiftIgnoreSign(l3 + 64, 5);
						if(this.maps.map_bg[l10][l39] < 18 && this.maps.map_bg[k27][l39] < 18 && this.maps.map_bg[i51][l39] < 18 && this.maps.map_bg[i65][l39] < 18)
							characterobject.c3 = 1;
					}
				} else
				if(characterobject.c3 < 100)
				{
					characterobject.c3++;
					if(characterobject.c3 > 4)
						characterobject.c3 = 100;
				} else
				if(characterobject.c3 == 100)
				{
					l3 += 8;
					byte8 = 1;
					var i11 = rightShiftIgnoreSign(k3, 5);
					var l27 = rightShiftIgnoreSign(k3 + 31, 5);
					var j51 = rightShiftIgnoreSign(k3 + 63, 5);
					var j65 = rightShiftIgnoreSign(k3 + 95, 5);
					var i40 = rightShiftIgnoreSign(l3 + 63, 5);
					if(this.maps.map_bg[i11][i40] >= 18 || this.maps.map_bg[l27][i40] >= 18 || this.maps.map_bg[j51][i40] >= 18 || this.maps.map_bg[j65][i40] >= 18)
					{
						l3 = i40 * 32 - 64;
						characterobject.c3 = 200;
					}
					if(l3 >= this.ochiru_y)
					{
						characterobject.c = 0;
						break;
					}
				} else
				if(characterobject.c3 == 200);
			} else
			if(characterobject.c4 == 6)
			{
				if(characterobject.c3 == 0)
				{
					if(this.j_a_id == i)
					{
						var j11 = rightShiftIgnoreSign(k3, 5);
						var i28 = rightShiftIgnoreSign(k3 + 31, 5);
						var k51 = rightShiftIgnoreSign(k3 + 63, 5);
						var k65 = rightShiftIgnoreSign(k3 + 95, 5);
						var j40 = rightShiftIgnoreSign(l3 - 1, 5);
						if(this.maps.map_bg[j11][j40] < 18 && this.maps.map_bg[i28][j40] < 18 && this.maps.map_bg[k51][j40] < 18 && this.maps.map_bg[k65][j40] < 18)
							characterobject.c3 = 100;
					}
				} else
				if(characterobject.c3 == 100)
				{
					l3 -= 4;
					byte8 = -1;
					var k11 = rightShiftIgnoreSign(k3, 5);
					var j28 = rightShiftIgnoreSign(k3 + 31, 5);
					var l51 = rightShiftIgnoreSign(k3 + 63, 5);
					var l65 = rightShiftIgnoreSign(k3 + 95, 5);
					var k40 = rightShiftIgnoreSign(l3 - 32, 5);
					if(this.maps.map_bg[k11][k40] >= 18 || this.maps.map_bg[j28][k40] >= 18 || this.maps.map_bg[l51][k40] >= 18 || this.maps.map_bg[l65][k40] >= 18)
					{
						l3 = k40 * 32 + 64;
						characterobject.c3 = 200;
					}
					if(l3 <= 352)
					{
						l3 = 352;
						characterobject.c3 = 200;
					}
				} else
				if(characterobject.c3 == 200)
				{
					if(this.j_a_id != i)
						characterobject.c3 = 201;
				} else
				if(characterobject.c3 < 300)
				{
					characterobject.c3++;
					if(characterobject.c3 > 212)
						characterobject.c3 = 300;
				} else
				if(characterobject.c3 == 300)
				{
					l3 += 4;
					byte8 = 1;
					if(l3 >= characterobject.vy)
					{
						l3 = characterobject.vy;
						characterobject.c3 = 0;
					}
				}
			} else
			if(characterobject.c4 == 7)
			{
				if(characterobject.c3 == 0)
				{
					if(this.j_a_id == i)
					{
						var l11 = rightShiftIgnoreSign(k3, 5);
						var k28 = rightShiftIgnoreSign(k3 + 31, 5);
						var i52 = rightShiftIgnoreSign(k3 + 63, 5);
						var i66 = rightShiftIgnoreSign(k3 + 95, 5);
						var l40 = rightShiftIgnoreSign(l3 + 64, 5);
						if(this.maps.map_bg[l11][l40] < 18 && this.maps.map_bg[k28][l40] < 18 && this.maps.map_bg[i52][l40] < 18 && this.maps.map_bg[i66][l40] < 18)
							characterobject.c3 = 100;
					}
				} else
				if(characterobject.c3 == 100)
				{
					l3 += 4;
					byte8 = 1;
					var i12 = rightShiftIgnoreSign(k3, 5);
					var l28 = rightShiftIgnoreSign(k3 + 31, 5);
					var j52 = rightShiftIgnoreSign(k3 + 63, 5);
					var j66 = rightShiftIgnoreSign(k3 + 95, 5);
					var i41 = rightShiftIgnoreSign(l3 + 64, 5);
					if(this.maps.map_bg[i12][i41] >= 18 || this.maps.map_bg[l28][i41] >= 18 || this.maps.map_bg[j52][i41] >= 18 || this.maps.map_bg[j66][i41] >= 18)
					{
						l3 = i41 * 32 - 64;
						characterobject.c3 = 200;
					}
					if(l3 >= this.ochiru_y - 32)
					{
						l3 = this.ochiru_y - 32;
						characterobject.c3 = 200;
					}
				} else
				if(characterobject.c3 == 200)
				{
					if(this.j_a_id != i)
						characterobject.c3 = 201;
				} else
				if(characterobject.c3 < 300)
				{
					characterobject.c3++;
					if(characterobject.c3 > 212)
						characterobject.c3 = 300;
				} else
				if(characterobject.c3 == 300)
				{
					l3 -= 4;
					byte8 = -1;
					if(l3 <= characterobject.vy)
					{
						l3 = characterobject.vy;
						characterobject.c3 = 0;
					}
				}
			} else
			if(characterobject.c4 == 8)
			{
				if(characterobject.c3 == 0)
				{
					if(k3 - 48 < this.co_j.x + 15 && k3 + 96 + 48 > this.co_j.x + 15 && l3 - 16 >= this.co_j.y)
					{
						var j12 = rightShiftIgnoreSign(k3, 5);
						var i29 = rightShiftIgnoreSign(k3 + 31, 5);
						var k52 = rightShiftIgnoreSign(k3 + 63, 5);
						var k66 = rightShiftIgnoreSign(k3 + 95, 5);
						var j41 = rightShiftIgnoreSign(l3 - 1, 5);
						if(this.maps.map_bg[j12][j41] < 18 && this.maps.map_bg[i29][j41] < 18 && this.maps.map_bg[k52][j41] < 18 && this.maps.map_bg[k66][j41] < 18)
							characterobject.c3 = 1;
					}
					if(k3 - 48 < this.co_j.x + 15 && k3 + 96 + 48 > this.co_j.x + 15 && l3 + 48 <= this.co_j.y)
					{
						var k12 = rightShiftIgnoreSign(k3, 5);
						var j29 = rightShiftIgnoreSign(k3 + 31, 5);
						var l52 = rightShiftIgnoreSign(k3 + 63, 5);
						var l66 = rightShiftIgnoreSign(k3 + 95, 5);
						var k41 = rightShiftIgnoreSign(l3 + 64, 5);
						if(this.maps.map_bg[k12][k41] < 18 && this.maps.map_bg[j29][k41] < 18 && this.maps.map_bg[l52][k41] < 18 && this.maps.map_bg[l66][k41] < 18)
							characterobject.c3 = 1001;
					}
				} else
				if(characterobject.c3 < 100)
				{
					characterobject.c3++;
					if(characterobject.c3 > 10)
						characterobject.c3 = 100;
				} else
				if(characterobject.c3 == 100)
				{
					l3 -= 12;
					byte8 = -1;
					if(l3 <= characterobject.vy - 128)
					{
						l3 = characterobject.vy - 128;
						if(this.a_hf)
							this.gs.rsAddSound(12);
						characterobject.c3 = 200;
					}
					var l12 = rightShiftIgnoreSign(k3, 5);
					var k29 = rightShiftIgnoreSign(k3 + 31, 5);
					var i53 = rightShiftIgnoreSign(k3 + 63, 5);
					var i67 = rightShiftIgnoreSign(k3 + 95, 5);
					var l41 = rightShiftIgnoreSign(l3 - 1, 5);
					if(this.maps.map_bg[l12][l41] >= 18 || this.maps.map_bg[k29][l41] >= 18 || this.maps.map_bg[i53][l41] >= 18 || this.maps.map_bg[i67][l41] >= 18)
					{
						l3 = l41 * 32 + 32;
						characterobject.c3 = 200;
						if(this.a_hf)
							this.gs.rsAddSound(12);
					}
				} else
				if(characterobject.c3 == 200)
				{
					l3 += 3;
					byte8 = 1;
					if(l3 >= characterobject.vy)
					{
						l3 = characterobject.vy;
						characterobject.c3 = 0;
						if(k3 - 48 < this.co_j.x + 15 && k3 + 96 + 48 > this.co_j.x + 15 && l3 - 16 >= this.co_j.y)
							characterobject.c3 = 100;
					}
				} else
				if(characterobject.c3 < 1100)
				{
					characterobject.c3++;
					if(characterobject.c3 > 1010)
						characterobject.c3 = 1100;
				} else
				if(characterobject.c3 == 1100)
				{
					l3 += 12;
					byte8 = 1;
					if(l3 >= characterobject.vy + 128)
					{
						l3 = characterobject.vy + 128;
						if(this.a_hf)
							this.gs.rsAddSound(12);
						characterobject.c3 = 1200;
					}
					var i13 = rightShiftIgnoreSign(k3, 5);
					var l29 = rightShiftIgnoreSign(k3 + 31, 5);
					var j53 = rightShiftIgnoreSign(k3 + 63, 5);
					var j67 = rightShiftIgnoreSign(k3 + 95, 5);
					var i42 = rightShiftIgnoreSign(l3 + 64, 5);
					if(this.maps.map_bg[i13][i42] >= 18 || this.maps.map_bg[l29][i42] >= 18 || this.maps.map_bg[j53][i42] >= 18 || this.maps.map_bg[j67][i42] >= 18)
					{
						l3 = i42 * 32 - 64;
						characterobject.c3 = 1200;
						if(this.a_hf)
							this.gs.rsAddSound(12);
					}
				} else
				if(characterobject.c3 == 1200)
				{
					l3 -= 3;
					byte8 = -1;
					if(l3 <= characterobject.vy)
					{
						l3 = characterobject.vy;
						characterobject.c3 = 0;
						if(k3 - 48 < this.co_j.x + 15 && k3 + 96 + 48 > this.co_j.x + 15 && l3 + 48 <= this.co_j.y)
							characterobject.c3 = 1100;
					}
				}
			} else
			if(characterobject.c4 == 9)
			{
				if(characterobject.c3 == 0)
				{
					if(characterobject.vx - 160 - 40 <= this.co_j.x + 15 && characterobject.vx > this.co_j.x + 15 && l3 - 32 < this.co_j.y && l3 + 64 > this.co_j.y)
					{
						var j13 = rightShiftIgnoreSign(k3 - 1, 5);
						var i30 = rightShiftIgnoreSign(l3, 5);
						var k53 = rightShiftIgnoreSign(l3 + 31, 5);
						var k67 = rightShiftIgnoreSign(l3 + 63, 5);
						if(this.maps.map_bg[j13][i30] < 18 && this.maps.map_bg[j13][k53] < 18 && this.maps.map_bg[j13][k67] < 18)
							characterobject.c3 = 1;
					}
					if(characterobject.vx + 96 + 160 + 40 > this.co_j.x + 15 && characterobject.vx + 96 <= this.co_j.x + 15 && l3 - 32 < this.co_j.y && l3 + 64 > this.co_j.y)
					{
						var k13 = rightShiftIgnoreSign(k3 + 96, 5);
						var j30 = rightShiftIgnoreSign(l3, 5);
						var l53 = rightShiftIgnoreSign(l3 + 31, 5);
						var l67 = rightShiftIgnoreSign(l3 + 63, 5);
						if(this.maps.map_bg[k13][j30] < 18 && this.maps.map_bg[k13][l53] < 18 && this.maps.map_bg[k13][l67] < 18)
							characterobject.c3 = 1001;
					}
				} else
				if(characterobject.c3 < 100)
				{
					characterobject.c3++;
					if(characterobject.c3 > 10)
						characterobject.c3 = 100;
				} else
				if(characterobject.c3 == 100)
				{
					k3 -= 12;
					if(k3 <= characterobject.vx - 160)
					{
						k3 = characterobject.vx - 160;
						if(this.a_hf)
							this.gs.rsAddSound(12);
						characterobject.c3 = 200;
					}
					var l13 = rightShiftIgnoreSign(k3 - 1, 5);
					var k30 = rightShiftIgnoreSign(l3, 5);
					var i54 = rightShiftIgnoreSign(l3 + 31, 5);
					var i68 = rightShiftIgnoreSign(l3 + 63, 5);
					if(this.maps.map_bg[l13][k30] >= 18 || this.maps.map_bg[l13][i54] >= 18 || this.maps.map_bg[l13][i68] >= 18)
					{
						k3 = l13 * 32 + 32;
						characterobject.c3 = 200;
						if(this.a_hf)
							this.gs.rsAddSound(12);
					}
				} else
				if(characterobject.c3 == 200)
				{
					k3 += 3;
					if(k3 >= characterobject.vx)
					{
						k3 = characterobject.vx;
						characterobject.c3 = 0;
						if(characterobject.vx - 160 - 40 <= this.co_j.x + 15 && characterobject.vx > this.co_j.x + 15 && l3 - 32 < this.co_j.y && l3 + 64 > this.co_j.y)
							characterobject.c3 = 100;
					}
				} else
				if(characterobject.c3 < 1100)
				{
					characterobject.c3++;
					if(characterobject.c3 > 10)
						characterobject.c3 = 1100;
				} else
				if(characterobject.c3 == 1100)
				{
					k3 += 12;
					if(k3 >= characterobject.vx + 160)
					{
						k3 = characterobject.vx + 160;
						if(this.a_hf)
							this.gs.rsAddSound(12);
						characterobject.c3 = 1200;
					}
					var i14 = rightShiftIgnoreSign(k3 + 96, 5);
					var l30 = rightShiftIgnoreSign(l3, 5);
					var j54 = rightShiftIgnoreSign(l3 + 31, 5);
					var j68 = rightShiftIgnoreSign(l3 + 63, 5);
					if(this.maps.map_bg[i14][l30] >= 18 || this.maps.map_bg[i14][j54] >= 18 || this.maps.map_bg[i14][j68] >= 18)
					{
						k3 = i14 * 32 - 96;
						characterobject.c3 = 1200;
						if(this.a_hf)
							this.gs.rsAddSound(12);
					}
				} else
				if(characterobject.c3 == 1200)
				{
					k3 -= 3;
					if(k3 <= characterobject.vx)
					{
						k3 = characterobject.vx;
						characterobject.c3 = 0;
						if(characterobject.vx + 96 + 160 + 40 > this.co_j.x + 15 && characterobject.vx + 96 <= this.co_j.x + 15 && l3 - 32 < this.co_j.y && l3 + 64 > this.co_j.y)
							characterobject.c3 = 1100;
					}
				}
			} else
			if(characterobject.c4 == 10)
			{
				if(characterobject.c3 == 0)
				{
					if(k3 - 48 < this.co_j.x + 15 && k3 + 96 + 48 > this.co_j.x + 15 && l3 + 48 <= this.co_j.y)
					{
						var j14 = rightShiftIgnoreSign(k3, 5);
						var i31 = rightShiftIgnoreSign(k3 + 31, 5);
						var k54 = rightShiftIgnoreSign(k3 + 63, 5);
						var k68 = rightShiftIgnoreSign(k3 + 95, 5);
						var j42 = rightShiftIgnoreSign(l3 + 64, 5);
						if(this.maps.map_bg[j14][j42] < 18 && this.maps.map_bg[i31][j42] < 18 && this.maps.map_bg[k54][j42] < 18 && this.maps.map_bg[k68][j42] < 18)
							characterobject.c3 = 1;
					}
				} else
				if(characterobject.c3 < 100)
				{
					characterobject.c3++;
					if(characterobject.c3 > 10)
						characterobject.c3 = 100;
				} else
				if(characterobject.c3 == 100)
				{
					l3 += 12;
					byte8 = 1;
					var k14 = rightShiftIgnoreSign(k3, 5);
					var j31 = rightShiftIgnoreSign(k3 + 31, 5);
					var l54 = rightShiftIgnoreSign(k3 + 63, 5);
					var l68 = rightShiftIgnoreSign(k3 + 95, 5);
					var k42 = rightShiftIgnoreSign(l3 + 64, 5);
					if(this.maps.map_bg[k14][k42] >= 18 || this.maps.map_bg[j31][k42] >= 18 || this.maps.map_bg[l54][k42] >= 18 || this.maps.map_bg[l68][k42] >= 18)
					{
						l3 = k42 * 32 - 64;
						characterobject.c3 = 200;
						if(this.a_hf)
							this.gs.rsAddSound(12);
					}
					if(l3 >= this.ochiru_y - 32)
					{
						l3 = this.ochiru_y - 32;
						characterobject.c3 = 200;
						if(this.a_hf)
							this.gs.rsAddSound(12);
					}
				} else
				if(characterobject.c3 == 200)
				{
					l3 -= 3;
					byte8 = -1;
					if(l3 <= characterobject.vy)
					{
						l3 = characterobject.vy;
						characterobject.c3 = 0;
						if(k3 <= this.co_j.x + 15 && k3 + 96 > this.co_j.x + 15 && l3 + 48 <= this.co_j.y)
							characterobject.c3 = 100;
					}
				}
			} else
			if(characterobject.c4 == 11)
			{
				if(characterobject.c3 == 0)
				{
					l3 -= 4;
					byte8 = -1;
					var l14 = rightShiftIgnoreSign(k3, 5);
					var k31 = rightShiftIgnoreSign(k3 + 31, 5);
					var i55 = rightShiftIgnoreSign(k3 + 63, 5);
					var i69 = rightShiftIgnoreSign(k3 + 95, 5);
					var l42 = rightShiftIgnoreSign(l3, 5);
					if(this.maps.map_bg[l14][l42] >= 18 || this.maps.map_bg[k31][l42] >= 18 || this.maps.map_bg[i55][l42] >= 18 || this.maps.map_bg[i69][l42] >= 18)
					{
						l3 = l42 * 32 + 32;
						characterobject.c3 = 1;
					}
					if(l3 <= 320)
					{
						l3 = 320;
						characterobject.c3 = 1;
					}
				} else
				{
					l3 += 4;
					byte8 = 1;
					var i15 = rightShiftIgnoreSign(k3, 5);
					var l31 = rightShiftIgnoreSign(k3 + 31, 5);
					var j55 = rightShiftIgnoreSign(k3 + 63, 5);
					var j69 = rightShiftIgnoreSign(k3 + 95, 5);
					var i43 = rightShiftIgnoreSign(l3 + 64, 5);
					if(this.maps.map_bg[i15][i43] >= 18 || this.maps.map_bg[l31][i43] >= 18 || this.maps.map_bg[j55][i43] >= 18 || this.maps.map_bg[j69][i43] >= 18)
					{
						l3 = i43 * 32 - 64;
						characterobject.c3 = 0;
					}
					if(l3 >= this.ochiru_y - 32)
					{
						l3 = this.ochiru_y - 32;
						characterobject.c3 = 0;
					}
				}
			} else
			if(characterobject.c4 == 12)
			{
				var j15 = rightShiftIgnoreSign(k3 + 47, 5);
				var i32 = rightShiftIgnoreSign(l3 + 63, 5);
				if(this.maps.map_bg[j15][i32] == 19)
				{
					if(characterobject.c3 == 0)
					{
						if(rightShiftIgnoreSign(k3 + 47, 5) != rightShiftIgnoreSign((k3 + 47) - 4, 5))
							l3 = rightShiftIgnoreSign(l3 + 63, 5) * 32 - 64;
						k3 -= 4;
						j15 = rightShiftIgnoreSign(k3 + 47, 5);
						i32 = rightShiftIgnoreSign(l3 + 63, 5);
						if(this.maps.map_bg[j15][i32] == 19 || this.maps.map_bg[j15][i32] == 18)
							l3 = this.getSakamichiY(k3 + 47, l3 + 63) - 32;
					} else
					{
						if(rightShiftIgnoreSign(k3 + 47, 5) != rightShiftIgnoreSign(k3 + 47 + 4, 5))
							l3 = rightShiftIgnoreSign(l3 + 63, 5) * 32 - 32;
						k3 += 4;
						j15 = rightShiftIgnoreSign(k3 + 47, 5);
						i32 = rightShiftIgnoreSign(l3 + 63, 5);
						if(this.maps.map_bg[j15][i32] == 19 || this.maps.map_bg[j15][i32] == 18)
							l3 = this.getSakamichiY(k3 + 47, l3 + 63) - 32;
						j15 = rightShiftIgnoreSign(k3 + 47, 5);
						i32 = rightShiftIgnoreSign(l3 + 64, 5);
						if(this.maps.map_bg[j15][i32] == 19)
							l3 = this.getSakamichiY(k3 + 47, l3 + 64) - 32;
					}
				} else
				if(this.maps.map_bg[j15][i32] == 18)
				{
					if(characterobject.c3 != 0)
					{
						if(rightShiftIgnoreSign(k3 + 47, 5) != rightShiftIgnoreSign(k3 + 47 + 4, 5))
							l3 = rightShiftIgnoreSign(l3 + 63, 5) * 32 - 64;
						k3 += 4;
						var k15 = rightShiftIgnoreSign(k3 + 47, 5);
						var j32 = rightShiftIgnoreSign(l3 + 63, 5);
						if(this.maps.map_bg[k15][j32] == 19 || this.maps.map_bg[k15][j32] == 18)
							l3 = this.getSakamichiY(k3 + 47, l3 + 63) - 32;
					} else
					{
						if(rightShiftIgnoreSign(k3 + 47, 5) != rightShiftIgnoreSign((k3 + 47) - 4, 5))
							l3 = rightShiftIgnoreSign(l3 + 63, 5) * 32 - 32;
						k3 -= 4;
						var l15 = rightShiftIgnoreSign(k3 + 47, 5);
						var k32 = rightShiftIgnoreSign(l3 + 63, 5);
						if(this.maps.map_bg[l15][k32] == 19 || this.maps.map_bg[l15][k32] == 18)
							l3 = this.getSakamichiY(k3 + 47, l3 + 63) - 32;
						l15 = rightShiftIgnoreSign(k3 + 47, 5);
						k32 = rightShiftIgnoreSign(l3 + 64, 5);
						if(this.maps.map_bg[l15][k32] == 18)
							l3 = this.getSakamichiY(k3 + 47, l3 + 64) - 32;
					}
				} else
				if(characterobject.c3 == 0)
				{
					k3 -= 4;
					var i16 = rightShiftIgnoreSign(k3 + 47, 5);
					var l32 = rightShiftIgnoreSign(l3 + 64, 5);
					if(this.maps.map_bg[i16][l32] == 18)
						l3 = this.getSakamichiY(k3 + 47, l3 + 64) - 32;
					i16 = rightShiftIgnoreSign(k3 - 1, 5);
					l32 = rightShiftIgnoreSign(l3, 5);
					var k55 = rightShiftIgnoreSign(l3 + 31, 5);
					var k69 = rightShiftIgnoreSign(l3 + 63, 5);
					if(this.maps.map_bg[rightShiftIgnoreSign(k3 + 16, 5)][k69] == 19 || this.maps.map_bg[rightShiftIgnoreSign(k3 + 32, 5)][k69] == 19)
					{
						if(this.maps.map_bg[i16][l32] >= 20)
						{
							k3 = i16 * 32 + 32;
							characterobject.c3 = 1;
						}
					} else
					if(this.maps.map_bg[i16][l32] >= 20 || this.maps.map_bg[i16][k55] >= 20 || this.maps.map_bg[i16][k69] >= 20)
					{
						k3 = i16 * 32 + 32;
						characterobject.c3 = 1;
					}
				} else
				{
					k3 += 4;
					var j16 = rightShiftIgnoreSign(k3 + 47, 5);
					var i33 = rightShiftIgnoreSign(l3 + 64, 5);
					if(this.maps.map_bg[j16][i33] == 19)
						l3 = this.getSakamichiY(k3 + 47, l3 + 64) - 32;
					j16 = rightShiftIgnoreSign(k3 + 96, 5);
					i33 = rightShiftIgnoreSign(l3, 5);
					var l55 = rightShiftIgnoreSign(l3 + 31, 5);
					var l69 = rightShiftIgnoreSign(l3 + 63, 5);
					if(this.maps.map_bg[rightShiftIgnoreSign((k3 + 96) - 16, 5)][l69] == 18 || this.maps.map_bg[rightShiftIgnoreSign((k3 + 96) - 32, 5)][l69] == 18)
					{
						if(this.maps.map_bg[j16][i33] >= 20)
						{
							k3 = j16 * 32 - 96;
							characterobject.c3 = 0;
						}
					} else
					if(this.maps.map_bg[j16][i33] >= 20 || this.maps.map_bg[j16][l55] >= 20 || this.maps.map_bg[j16][l69] >= 20)
					{
						k3 = j16 * 32 - 96;
						characterobject.c3 = 0;
					}
				}
				characterobject.vy = l3;
				l3 = characterobject.y;
			} else
			if(characterobject.c4 == 13)
			{
				if(characterobject.c3 == 0 && this.j_a_id == i)
				{
					characterobject.c4 = 12;
					characterobject.c3 = 1;
					characterobject.vy = l3;
				}
			} else
			if(characterobject.c4 == 14)
			{
				var k16 = rightShiftIgnoreSign(k3, 5);
				var j33 = rightShiftIgnoreSign(k3 + 31, 5);
				var i56 = rightShiftIgnoreSign(k3 + 63, 5);
				var i70 = rightShiftIgnoreSign(k3 + 95, 5);
				var j43 = rightShiftIgnoreSign(l3 + 64, 5);
				if(this.maps.map_bg[k16][j43] >= 18 || this.maps.map_bg[j33][j43] >= 18 || this.maps.map_bg[i56][j43] >= 18 || this.maps.map_bg[i70][j43] >= 18)
				{
					l3 = j43 * 32 - 64;
					var j = 0;
					do
					{
						if(j > 29)
							break;
						var k43 = rightShiftIgnoreSign(l3 + 63, 5);
						if(this.maps.map_bg[k16][k43] < 18 && this.maps.map_bg[j33][k43] < 18 && this.maps.map_bg[i56][k43] < 18 && this.maps.map_bg[i70][k43] < 18)
							break;
						l3 = k43 * 32 - 64;
						byte8 = -1;
						j++;
					} while(true);
				} else
				{
					l3 += 4;
					byte8 = 1;
					var l16 = rightShiftIgnoreSign(k3, 5);
					var k33 = rightShiftIgnoreSign(k3 + 31, 5);
					var j56 = rightShiftIgnoreSign(k3 + 63, 5);
					var j70 = rightShiftIgnoreSign(k3 + 95, 5);
					var l43 = rightShiftIgnoreSign(l3 + 64, 5);
					if(this.maps.map_bg[l16][l43] >= 18 || this.maps.map_bg[k33][l43] >= 18 || this.maps.map_bg[j56][l43] >= 18 || this.maps.map_bg[j70][l43] >= 18)
					{
						l3 = l43 * 32 - 64;
						characterobject.c3 = 0;
					}
					if(l3 >= this.ochiru_y)
					{
						l3 = this.ochiru_y;
						characterobject.c = 0;
					}
				}
			} else
			if(characterobject.c4 == 15)
			{
				if(this.co_j.x >= k3 && this.co_j.x <= k3 + 64 && this.co_j.y >= l3 + 64)
					characterobject.c4 = 14;
			} else
			if(characterobject.c4 == 16)
			{
				if(this.souko_count3 == 1)
					characterobject.pt = 3400;
				else
					characterobject.pt = 400;
				var i17 = rightShiftIgnoreSign(k3, 5);
				var l33 = rightShiftIgnoreSign(k3 + 31, 5);
				var k56 = rightShiftIgnoreSign(k3 + 63, 5);
				var k70 = rightShiftIgnoreSign(k3 + 95, 5);
				var i44 = rightShiftIgnoreSign(l3 + 64, 5);
				if(characterobject.vx != 1)
					if(this.maps.map_bg[i17][i44] >= 18 || this.maps.map_bg[l33][i44] >= 18 || this.maps.map_bg[k56][i44] >= 18 || this.maps.map_bg[k70][i44] >= 18)
					{
						l3 = i44 * 32 - 64;
						var k = 0;
						do
						{
							if(k > 29)
								break;
							var j44 = rightShiftIgnoreSign(l3 + 63, 5);
							if(this.maps.map_bg[i17][j44] < 18 && this.maps.map_bg[l33][j44] < 18 && this.maps.map_bg[k56][j44] < 18 && this.maps.map_bg[k70][j44] < 18)
								break;
							l3 = j44 * 32 - 64;
							byte8 = -1;
							k++;
						} while(true);
					} else
					{
						var flag13 = false;
						var l = 0;
						do
						{
							if(l > this.a_kazu)
								break;
							if(this.co_a[l].c == 410 && this.co_a[l].c4 == 16 && l != i && this.co_a[l].x + 95 >= k3 && this.co_a[l].x <= k3 + 95 && l3 + 64 >= this.co_a[l].y && l3 + 16 <= this.co_a[l].y)
							{
								flag13 = true;
								l3 = this.co_a[l].y - 64;
								break;
							}
							l++;
						} while(true);
						if(!flag13)
						{
							l3 += 4;
							byte8 = 1;
							var j17 = rightShiftIgnoreSign(k3, 5);
							var i34 = rightShiftIgnoreSign(k3 + 31, 5);
							var l56 = rightShiftIgnoreSign(k3 + 63, 5);
							var l70 = rightShiftIgnoreSign(k3 + 95, 5);
							var k44 = rightShiftIgnoreSign(l3 + 64, 5);
							if(this.maps.map_bg[j17][k44] >= 18 || this.maps.map_bg[i34][k44] >= 18 || this.maps.map_bg[l56][k44] >= 18 || this.maps.map_bg[l70][k44] >= 18)
							{
								l3 = k44 * 32 - 64;
								characterobject.c3 = 0;
							}
							if(l3 >= this.ochiru_y)
							{
								l3 = this.ochiru_y;
								characterobject.c = 0;
							}
						}
					}
			} else
			if(characterobject.c4 == 17)
			{
				if(l3 > characterobject.vy && (l3 -= 8) <= characterobject.vy)
					l3 = characterobject.vy;
			} else
			if(characterobject.c4 == 18)
			{
				characterobject.vy += 5;
				if(characterobject.vy > 100)
					characterobject.vy = 100;
				l3 += rounddown(characterobject.vy / 10);
				if(characterobject.vy > -10 && characterobject.vy >= 10)
				{
					var k17 = rightShiftIgnoreSign(k3, 5);
					var j34 = rightShiftIgnoreSign(k3 + 31, 5);
					var i57 = rightShiftIgnoreSign(k3 + 63, 5);
					var i71 = rightShiftIgnoreSign(k3 + 95, 5);
					var l44 = rightShiftIgnoreSign(l3 + 63, 5);
					if(this.maps.map_bg[k17][l44] >= 20 || this.maps.map_bg[j34][l44] >= 20 || this.maps.map_bg[i57][l44] >= 20 || this.maps.map_bg[i71][l44] >= 20)
					{
						l3 = l44 * 32 - 64;
						characterobject.vy = -100;
					}
					if(l3 >= this.ochiru_y)
					{
						characterobject.c = 0;
						break;
					}
				}
				if(l3 > characterobject.y)
					byte8 = 1;
				else
				if(l3 < characterobject.y)
					byte8 = -1;
			}
			if(this.co_j.c == 100 || this.co_j.c == 120 || this.co_j.c == 130 || this.co_j.c == 150)
			{
				if(this.j_a_id == i)
				{
					this.co_j.x += k3 - characterobject.x;
					if(k3 - characterobject.x > 0)
					{
						var l17 = rightShiftIgnoreSign(this.co_j.x + 15, 5);
						var k34 = rightShiftIgnoreSign(this.co_j.y, 5);
						var j57 = rightShiftIgnoreSign(this.co_j.y + 31, 5);
						if(this.maps.map_bg[l17][k34] >= 20 || this.maps.map_bg[l17][j57] >= 20)
							this.co_j.x = l17 * 32 - 16;
					} else
					if(k3 - characterobject.x < 0)
					{
						var i18 = rightShiftIgnoreSign(this.co_j.x + 15, 5);
						var l34 = rightShiftIgnoreSign(this.co_j.y, 5);
						var k57 = rightShiftIgnoreSign(this.co_j.y + 31, 5);
						if(this.maps.map_bg[i18][l34] >= 20 || this.maps.map_bg[i18][k57] >= 20)
							this.co_j.x = (i18 * 32 + 32) - 14;
					}
				}
				if(this.co_j.x + 15 >= k3 && this.co_j.x <= k3 + 80 && this.co_j.y + 31 >= l3 && this.co_j.y <= l3 + 63)
				{
					if(k3 - characterobject.x > 0)
						if(this.j_hashigo_f || this.gk.down_f && this.maps.getBGCode(this.co_j.x + 15, this.co_j.y + 32) == 10)
						{
							this.co_j.c = 230;
							this.co_j.x = rightShiftIgnoreSign(this.co_j.x + 15, 5) * 32 + 11;
							this.co_j.c1 = 0;
							this.j_zan_f = false;
							this.j_jet_c = 0;
							this.j_v_c = 0;
							this.gs.rsAddSound(24);
						} else
						{
							if(characterobject.c4 == 12 && this.maps.map_bg[rightShiftIgnoreSign(this.co_j.x + 15, 5)][rightShiftIgnoreSign(this.co_j.y + 31, 5)] == 18 && rightShiftIgnoreSign(this.co_j.x + 15, 5) != rightShiftIgnoreSign(k3 + 81 + 15, 5))
								this.co_j.y = rightShiftIgnoreSign(this.co_j.y + 31, 5) * 32 - 32;
							this.co_j.x = k3 + 81;
							var j18 = rightShiftIgnoreSign(this.co_j.x + 15, 5);
							var i35 = rightShiftIgnoreSign(this.co_j.y, 5);
							var l57 = rightShiftIgnoreSign(this.co_j.y + 31, 5);
							if(this.maps.map_bg[j18][i35] >= 20 || this.maps.map_bg[j18][l57] >= 20)
							{
								this.co_j.c = 230;
								this.co_j.x = (j18 * 32 - 32) + 11;
								this.co_j.c1 = 0;
								this.j_zan_f = false;
								this.j_jet_c = 0;
								this.j_v_c = 0;
								this.gs.rsAddSound(24);
							}
						}
					if(k3 - characterobject.x < 0)
						if(this.j_hashigo_f || this.gk.down_f && this.maps.getBGCode(this.co_j.x + 15, this.co_j.y + 32) == 10)
						{
							this.co_j.c = 230;
							this.co_j.x = rightShiftIgnoreSign(this.co_j.x + 15, 5) * 32 - 11;
							this.co_j.c1 = 0;
							this.j_zan_f = false;
							this.j_jet_c = 0;
							this.j_v_c = 0;
							this.gs.rsAddSound(24);
						} else
						{
							if(characterobject.c4 == 12 && this.maps.map_bg[rightShiftIgnoreSign(this.co_j.x + 15, 5)][rightShiftIgnoreSign(this.co_j.y + 31, 5)] == 19 && rightShiftIgnoreSign(this.co_j.x + 15, 5) != rightShiftIgnoreSign((k3 - 16) + 15, 5))
								this.co_j.y = rightShiftIgnoreSign(this.co_j.y + 31, 5) * 32 - 32;
							this.co_j.x = k3 - 16;
							var k18 = rightShiftIgnoreSign(this.co_j.x + 15, 5);
							var j35 = rightShiftIgnoreSign(this.co_j.y, 5);
							var i58 = rightShiftIgnoreSign(this.co_j.y + 31, 5);
							if(this.maps.map_bg[k18][j35] >= 20 || this.maps.map_bg[k18][i58] >= 20)
							{
								this.co_j.c = 230;
								this.co_j.x = (k18 * 32 + 32) - 11;
								this.co_j.c1 = 0;
								this.j_zan_f = false;
								this.j_jet_c = 0;
								this.j_v_c = 0;
								this.gs.rsAddSound(24);
							}
						}
				}
			}
			if(characterobject.c4 == 4)
			{
				characterobject.vy += 5;
				if(characterobject.vy > 100)
					characterobject.vy = 100;
				l3 += rounddown(characterobject.vy / 10);
				if(characterobject.vy <= -10)
				{
					var l18 = rightShiftIgnoreSign(k3, 5);
					var k35 = rightShiftIgnoreSign(k3 + 31, 5);
					var j58 = rightShiftIgnoreSign(k3 + 63, 5);
					var j71 = rightShiftIgnoreSign(k3 + 95, 5);
					var i45 = rightShiftIgnoreSign(l3, 5);
					if(this.maps.map_bg[l18][i45] >= 18 || this.maps.map_bg[k35][i45] >= 18 || this.maps.map_bg[j58][i45] >= 18 || this.maps.map_bg[j71][i45] >= 18)
					{
						l3 = i45 * 32 + 32;
						characterobject.vy = 0;
					}
				} else
				if(characterobject.vy >= 10)
				{
					var i19 = rightShiftIgnoreSign(k3, 5);
					var l35 = rightShiftIgnoreSign(k3 + 31, 5);
					var k58 = rightShiftIgnoreSign(k3 + 63, 5);
					var k71 = rightShiftIgnoreSign(k3 + 95, 5);
					var j45 = rightShiftIgnoreSign(l3 + 63, 5);
					if(this.maps.map_bg[i19][j45] >= 20 || this.maps.map_bg[l35][j45] >= 20 || this.maps.map_bg[k58][j45] >= 20 || this.maps.map_bg[k71][j45] >= 20)
					{
						l3 = j45 * 32 - 64;
						characterobject.vy = -100;
					}
					if(l3 >= this.ochiru_y)
					{
						characterobject.c = 0;
						break;
					}
				}
				if(l3 > characterobject.y)
					byte8 = 1;
				else
				if(l3 < characterobject.y)
					byte8 = -1;
			} else
			if(characterobject.c4 == 12)
			{
				l3 = characterobject.vy;
				if(l3 > characterobject.y)
					byte8 = 1;
				else
				if(l3 < characterobject.y)
					byte8 = -1;
			}
			if(this.co_j.c == 100 || this.co_j.c == 120 || this.co_j.c == 130 || this.co_j.c == 150)
			{
				if((byte8 <= 0 || !this.j_hashigo_f) && (byte8 <= 0 || !this.co_j.jimen_f || this.maps.getBGCode(this.co_j.x + 15, this.co_j.y + 32) != 10) && this.j_a_id == i)
				{
					this.co_j.y = l3 - 32;
					if(byte8 < 0 && this.maps.getBGCode(this.co_j.x + 15, this.co_j.y) >= 20)
					{
						this.co_j.y = rightShiftIgnoreSign(this.co_j.y, 5) * 32 + 16;
						this.jShinu(3);
					}
				}
				if(this.co_j.x + 15 >= k3 && this.co_j.x <= k3 + 80 && this.co_j.y + 31 >= l3 && this.co_j.y <= l3 + 63)
				{
					if(byte8 > 0)
					{
						this.co_j.y = l3 + 64;
						if(this.maps.getBGCode(this.co_j.x + 15, this.co_j.y + 15) == 10 || this.maps.getBGCode(this.co_j.x + 15, this.co_j.y + 31) == 10)
						{
							this.j_hashigo_f = true;
							var k4 = this.maps.getBGCode(this.co_j.x + 15, this.co_j.y + 32);
							if(k4 >= 20 || k4 == 15)
								this.j_hashigo_f = false;
						}
						if(this.maps.getBGCode(this.co_j.x + 15, this.co_j.y + 31) >= 18)
						{
							this.co_j.y = rightShiftIgnoreSign(this.co_j.y + 31, 5) * 32 - 32;
							this.jShinu(3);
							if(characterobject.c4 == 12 && (this.maps.map_bg[rightShiftIgnoreSign(this.co_j.x + 15, 5)][rightShiftIgnoreSign(this.co_j.y + 32, 5)] == 18 || this.maps.map_bg[rightShiftIgnoreSign(this.co_j.x + 15, 5)][rightShiftIgnoreSign(this.co_j.y + 32, 5)] == 19))
								this.co_j.y = this.getSakamichiY(this.co_j.x + 15, this.co_j.y + 32);
						}
					}
					if(byte8 < 0)
					{
						this.co_j.y = l3 - 32;
						this.j_a_id = i;
						if(this.maps.getBGCode(this.co_j.x + 15, this.co_j.y) >= 20)
						{
							this.co_j.y = rightShiftIgnoreSign(this.co_j.y, 5) * 32 + 16;
							this.jShinu(3);
						}
					}
				}
			}
			break;

		case 500: 
			if(k3 > this.maps.wx - 96 - 32 && k3 < this.maps.wx + 512 + 32 && l3 > this.maps.wy - 32 && l3 <= this.maps.wy + 368)
			{
				characterobject.gf = true;
				this.a_hf = true;
				if((this.co_j.c == 100 || this.co_j.c == 130) && this.co_j.x + 15 >= k3 && this.co_j.x <= k3 + 80 && this.co_j.y == l3 - 32)
				{
					this.j_a_id = i;
					if(characterobject.c4 == 1)
					{
						if(characterobject.c3 < 50)
							if(characterobject.c3 <= 0)
								characterobject.c3 = 1;
							else
							if(characterobject.c3 <= 30)
							{
								characterobject.c3++;
							} else
							{
								characterobject.c3 = 55;
								characterobject.vy = 0;
							}
					} else
					if(characterobject.c3 <= 0)
					{
						characterobject.c3 = 51;
						characterobject.vy = 0;
					}
				} else
				if(characterobject.c4 == 1 && characterobject.c3 < 50)
					characterobject.c3 = 0;
			} else
			{
				characterobject.gf = false;
			}
			if(characterobject.c3 > 0)
				if(characterobject.c3 >= 51 && characterobject.c3 <= 54)
					characterobject.c3++;
				else
				if(characterobject.c3 >= 55 && characterobject.c3 < 100)
				{
					if(characterobject.vy < 16)
						characterobject.vy++;
					l3 += characterobject.vy;
					if(this.maps.getBGCode(k3 + 32, l3 + 13) >= 20)
					{
						l3 = rightShiftIgnoreSign(l3 + 13, 5) * 32 - 14;
						characterobject.c3 = 100;
					}
					if(l3 >= this.ochiru_y + 48)
					{
						characterobject.c = 0;
						characterobject.gf = false;
					}
				}
			if((this.co_j.c == 100 || this.co_j.c == 130) && this.j_a_id == i)
				this.co_j.y = l3 - 32;
			break;

		case 600: 
			if(k3 > this.maps.wx - 96 && k3 < this.maps.wx + 512 && l3 > this.maps.wy - 64 && l3 < this.maps.wy + 320)
			{
				characterobject.gf = true;
				this.a_hf = true;
				if((this.co_j.c == 100 || this.co_j.c == 130) && this.co_j.x + 15 >= k3 && this.co_j.x <= k3 + 48 && this.co_j.y == (l3 + 16) - 32)
					this.j_a_id = i;
			} else
			{
				characterobject.gf = false;
			}
			characterobject.pt = 600;
			if(characterobject.c3 <= 0)
			{
				characterobject.vx = 0;
				if(this.j_a_id == i)
				{
					characterobject.c3 = 100;
					characterobject.c4 = 0;
					characterobject.vx = 2;
				}
				if(this.co_j.x >= k3 - 144)
					characterobject.pt = 605;
			} else
			if(characterobject.c3 == 100)
			{
				characterobject.c1 = k3 - 512 - 32;
				characterobject.c2 = k3 + 128;
				if(this.j_a_id != i)
				{
					characterobject.c4++;
					if(characterobject.c4 > 50)
						characterobject.c3 = 0;
				} else
				{
					characterobject.c4 = 0;
				}
				characterobject.pt = 605;
			} else
			if(characterobject.c3 == 200)
			{
				characterobject.pt = 605;
				characterobject.vx = 0;
			}
			k3 += characterobject.vx;
			if(this.maps.getBGCode(k3 + 63 + 16, l3) >= 20 || this.maps.getBGCode(k3 + 63 + 16, l3 + 32) >= 20)
			{
				k3 = rightShiftIgnoreSign(k3 + 63 + 16, 5) * 32 - 64 - 16;
				characterobject.vx = k3 - characterobject.x;
				characterobject.c3 = 200;
			}
			if(this.co_j.c == 100 || this.co_j.c == 130)
			{
				if(this.j_a_id == i)
				{
					this.co_j.x += characterobject.vx;
					if(characterobject.vx > 0)
					{
						var j19 = rightShiftIgnoreSign(this.co_j.x + 15, 5);
						var i36 = rightShiftIgnoreSign(this.co_j.y, 5);
						var l58 = rightShiftIgnoreSign(this.co_j.y + 31, 5);
						if(this.maps.map_bg[j19][i36] >= 20 || this.maps.map_bg[j19][l58] >= 20)
							this.co_j.x = j19 * 32 - 16;
					}
				}
				if(this.co_j.x + 15 >= k3 && this.co_j.x <= k3 + 48 && this.co_j.y + 31 >= l3 + 16 && this.co_j.y <= l3 + 47)
					this.co_j.x = k3 + 49;
			}
			break;

		case 610: 
			characterobject.c1 = k3 - 512 - 32;
			characterobject.c2 = k3 + 128;
			if(k3 > this.maps.wx - 96 && k3 < this.maps.wx + 512 && l3 > this.maps.wy - 64 && l3 < this.maps.wy + 320)
			{
				characterobject.gf = true;
				this.a_hf = true;
				if((this.co_j.c == 100 || this.co_j.c == 130) && this.co_j.x + 15 >= k3 && this.co_j.x <= k3 + 48 && this.co_j.y == (l3 + 16) - 32)
					this.j_a_id = i;
			} else
			{
				characterobject.gf = false;
			}
			if(characterobject.c3 <= 0)
			{
				characterobject.pt = 600;
				if(this.co_j.x >= k3 - 144)
					characterobject.pt = 605;
			} else
			if(characterobject.c3 == 100);
			if(this.co_j.c < 100 || this.co_j.c >= 200)
				characterobject.c3 = 100;
			else
			if(this.j_rope_cf && this.j_rope_id == i)
			{
				if(this.co_j.x <= (k3 + 16) - 14 || this.co_j.x >= k3 + 16 + 14 || this.co_j.y > (l3 - 32) + 16 || this.co_j.y <= l3 - 64)
				{
					this.j_rope_cf = false;
					characterobject.c3 = 100;
				}
			} else
			if(this.co_j.c == 145 && this.j_rope_id == i)
				characterobject.c3 = 200;
			else
			if(this.co_j.c == 100 && this.j_a_id == i && this.co_j.x >= (k3 + 16) - 10 && this.co_j.x <= k3 + 16 + 10)
			{
				characterobject.c3 = 200;
				this.co_j.c = 145;
				this.co_j.ac = 0;
				this.j_rope_id = i;
				this.j_rope_cf = false;
				this.j_zan_f = false;
				this.j_jet_c = 0;
				this.gs.rsAddSound(7);
			}
			break;

		case 700: 
			if(k3 > this.maps.wx - 96 && k3 < this.maps.wx + 512 && l3 > this.maps.wy - 64 && l3 < this.maps.wy + 320)
			{
				characterobject.gf = true;
				this.a_hf = true;
				if(this.co_j.c == 100 && this.co_j.x + 15 >= k3 && this.co_j.x <= k3 + 16)
					if(characterobject.c4 == 2)
					{
						if(this.co_j.y == l3 - 32)
							this.j_a_id = i;
					} else
					if(characterobject.c3 >= 1 && characterobject.c3 <= 2 && this.co_j.y == (l3 - 32) + 10)
						this.j_a_id = i;
					else
					if(characterobject.c3 >= 3 && characterobject.c3 <= 4 && this.co_j.y == (l3 - 32) + 16)
						this.j_a_id = i;
					else
					if(characterobject.c3 >= 5 && characterobject.c3 <= 6 && this.co_j.y == (l3 - 32) + 10)
						this.j_a_id = i;
					else
					if(this.co_j.y == l3 - 32)
						this.j_a_id = i;
			} else
			{
				characterobject.gf = false;
			}
			if(characterobject.c4 == 2)
			{
				characterobject.pt = 750;
				if(characterobject.c3 > 0)
					characterobject.c3--;
				if(this.co_j.x >= k3 - 32 && this.co_j.x < k3 && Math.abs(this.co_j.y - l3) <= 16)
				{
					characterobject.c3 = 5;
					this.co_j.x = k3 - 32;
					this.co_j.y = l3;
					this.co_j.muki = 0;
					this.j_jump_type = 0;
					this.co_j.ac = 0;
					this.co_j.c = 100;
					this.co_j.vx = -160;
					this.co_j.vy = 0;
					this.j_jump_level = 5;
					this.j_djump_kf = true;
					this.co_j.pt = 83;
					for(var i1 = 0; i1 <= 5; i1++)
					{
						this.j_zan_x[i1] = this.co_j.x;
						this.j_zan_y[i1] = this.co_j.y;
						this.j_zan_pt[i1] = 83;
						this.j_zan_pth[i1] = this.co_j.muki;
					}

					this.j_zan_p = 0;
					this.j_zan_c = 0;
					this.j_zan_nagasa = 5;
					this.j_zan_f = true;
					this.j_zan_cf = true;
					this.j_rope_cf = true;
					this.j_rope_id = i;
					this.j_cannon_c = 22;
					this.j_cannon_type = 1;
					this.gs.rsAddSound(4);
				}
			} else
			if(characterobject.c4 == 3)
			{
				characterobject.pt = 751;
				if(characterobject.c3 > 0)
					characterobject.c3--;
				if(this.co_j.x <= k3 + 32 && this.co_j.x > k3 && Math.abs(this.co_j.y - l3) <= 16)
				{
					characterobject.c3 = 5;
					this.co_j.x = k3 + 32;
					this.co_j.y = l3;
					this.co_j.muki = 1;
					this.j_jump_type = 0;
					this.co_j.ac = 0;
					this.co_j.c = 100;
					this.co_j.vx = 160;
					this.co_j.vy = 0;
					this.j_jump_level = 5;
					this.j_djump_kf = true;
					this.co_j.pt = 83;
					for(var j1 = 0; j1 <= 5; j1++)
					{
						this.j_zan_x[j1] = this.co_j.x;
						this.j_zan_y[j1] = this.co_j.y;
						this.j_zan_pt[j1] = 83;
						this.j_zan_pth[j1] = this.co_j.muki;
					}

					this.j_zan_p = 0;
					this.j_zan_c = 0;
					this.j_zan_nagasa = 5;
					this.j_zan_f = true;
					this.j_zan_cf = true;
					this.j_rope_cf = true;
					this.j_rope_id = i;
					this.j_cannon_c = 22;
					this.j_cannon_type = 1;
					this.gs.rsAddSound(4);
				}
			} else
			if(this.j_a_id == i)
			{
				this.co_j.vx = 0;
				this.co_j.vy = 0;
				this.co_j.x = k3;
				this.j_jdai_f = true;
				characterobject.c3++;
				if(characterobject.c3 <= 2)
				{
					characterobject.pt = 710;
					this.co_j.y = (l3 - 32) + 10;
				} else
				if(characterobject.c3 <= 4)
				{
					characterobject.pt = 720;
					this.co_j.y = (l3 - 32) + 16;
				} else
				if(characterobject.c3 <= 6)
				{
					characterobject.pt = 710;
					this.co_j.y = (l3 - 32) + 10;
				} else
				if(characterobject.c3 >= 7)
				{
					characterobject.pt = 700;
					this.co_j.y = l3 - 32;
					characterobject.c3 = 0;
					this.j_a_id = -1;
					this.j_jump_type = 4;
					this.co_j.pt = 101;
					this.co_j.ac = 0;
					this.co_j.vy = -255;
					this.j_jump_level = 1;
					if(this.maps.getBGCode(k3, l3) == 4)
						this.co_j.vy = -75;
				}
			} else
			{
				characterobject.c3 = 0;
				characterobject.pt = 700;
			}
			break;

		case 1000: 
			if(characterobject.vx < 32)
			{
				characterobject.vx++;
				if(characterobject.vx > 28 && (k3 < this.maps.wx || k3 > (this.maps.wx + 512) - 32 || l3 < this.maps.wy - 32 || l3 > this.maps.wy + 320 + 32))
					characterobject.vx = 28;
			} else
			if(characterobject.vx == 32)
			{
				characterobject.c4 += 16;
				if(characterobject.c3 >= 10)
					characterobject.c4 += 8;
				if(characterobject.c4 >= 192)
				{
					characterobject.c4 = 192;
					characterobject.vx = 100;
				}
				if(characterobject.c3 == 1 || characterobject.c3 == 11)
				{
					var k19 = rightShiftIgnoreSign(k3, 5);
					var j36 = rightShiftIgnoreSign(k3 + 32, 5);
					var i59 = rightShiftIgnoreSign(l3 + characterobject.c4 + 1, 5);
					if(this.maps.map_bg[k19][i59] >= 20 || this.maps.map_bg[j36][i59] >= 20)
					{
						characterobject.vx = 100;
						characterobject.c4 = i59 * 32 - l3;
					}
				} else
				if(characterobject.c3 == 2 || characterobject.c3 == 12)
				{
					var l19 = rightShiftIgnoreSign(l3, 5);
					var k36 = rightShiftIgnoreSign(l3 + 32, 5);
					var j59 = rightShiftIgnoreSign(k3 - characterobject.c4 - 1, 5);
					if(this.maps.map_bg[j59][l19] >= 20 || this.maps.map_bg[j59][k36] >= 20)
					{
						characterobject.vx = 100;
						characterobject.c4 = k3 - (j59 * 32 + 32);
					}
				} else
				if(characterobject.c3 == 3 || characterobject.c3 == 13)
				{
					var i20 = rightShiftIgnoreSign(l3, 5);
					var l36 = rightShiftIgnoreSign(l3 + 32, 5);
					var k59 = rightShiftIgnoreSign(k3 + characterobject.c4 + 1, 5);
					if(this.maps.map_bg[k59][i20] >= 20 || this.maps.map_bg[k59][l36] >= 20)
					{
						characterobject.vx = 100;
						characterobject.c4 = k59 * 32 - k3;
					}
				} else
				{
					var j20 = rightShiftIgnoreSign(k3, 5);
					var i37 = rightShiftIgnoreSign(k3 + 32, 5);
					var l59 = rightShiftIgnoreSign(l3 - characterobject.c4 - 1, 5);
					if(this.maps.map_bg[j20][l59] >= 18 || this.maps.map_bg[i37][l59] >= 18)
					{
						characterobject.vx = 100;
						characterobject.c4 = l3 - (l59 * 32 + 32);
					}
				}
			} else
			if(characterobject.c3 >= 10 && characterobject.vx < 108)
				characterobject.vx++;
			else
			if(characterobject.vx < 126)
			{
				characterobject.vx++;
			} else
			{
				characterobject.c4 -= 16;
				if(characterobject.c3 >= 10)
					characterobject.c4 -= 4;
				if(characterobject.c4 <= 0)
				{
					characterobject.c4 = 0;
					characterobject.vx = 0;
					if(characterobject.c3 >= 10)
						characterobject.vx = 28;
				}
			}
			if(k3 > this.maps.wx - 224 && k3 < this.maps.wx + 512 + 224 && l3 > this.maps.wy - 224 && l3 < this.maps.wy + 320 + 224)
			{
				characterobject.gf = true;
				this.a_hf = true;
				characterobject.pt = 1500;
				if(characterobject.c4 > 0 && this.co_j.c >= 100 && this.co_j.c < 200 && this.j_v_c <= 0)
					if(characterobject.c3 == 1 || characterobject.c3 == 11)
					{
						if(k3 <= this.co_j.x + 15 && k3 + 64 > this.co_j.x + 15 && l3 <= this.co_j.y + 31 && l3 + characterobject.c4 >= this.co_j.y)
							this.jShinu(1);
					} else
					if(characterobject.c3 == 2 || characterobject.c3 == 12)
					{
						if(k3 - characterobject.c4 <= this.co_j.x + 15 && k3 > this.co_j.x + 15 && l3 <= (this.co_j.y + 31) - 6 && l3 + 64 > this.co_j.y + 6)
							this.jShinu(1);
					} else
					if(characterobject.c3 == 3 || characterobject.c3 == 13)
					{
						if(k3 <= this.co_j.x + 15 && k3 + characterobject.c4 >= this.co_j.x + 15 && l3 <= (this.co_j.y + 31) - 6 && l3 + 64 > this.co_j.y + 6)
							this.jShinu(1);
					} else
					if(k3 <= this.co_j.x + 15 && k3 + 64 > this.co_j.x + 15 && l3 - characterobject.c4 <= this.co_j.y + 31 && l3 > this.co_j.y)
						this.jShinu(1);
			} else
			{
				characterobject.gf = false;
			}
			break;

		case 1010: 
			if(characterobject.c3 == 0)
			{
				l3 -= 8;
				var k20 = rightShiftIgnoreSign(k3, 5);
				var j37 = rightShiftIgnoreSign(k3 + 31, 5);
				var i60 = rightShiftIgnoreSign(k3 + 63, 5);
				var k45 = rightShiftIgnoreSign(l3, 5);
				if(this.maps.map_bg[k20][k45] >= 18 || this.maps.map_bg[j37][k45] >= 18 || this.maps.map_bg[i60][k45] >= 18)
				{
					l3 = k45 * 32 + 32;
					characterobject.c3 = 1;
				}
				if(l3 <= 320)
				{
					l3 = 320;
					characterobject.c3 = 1;
				}
			} else
			{
				l3 += 8;
				var l20 = rightShiftIgnoreSign(k3, 5);
				var k37 = rightShiftIgnoreSign(k3 + 31, 5);
				var j60 = rightShiftIgnoreSign(k3 + 63, 5);
				var l45 = rightShiftIgnoreSign(l3 + 96, 5);
				if(this.maps.map_bg[l20][l45] >= 18 || this.maps.map_bg[k37][l45] >= 18 || this.maps.map_bg[j60][l45] >= 18)
				{
					l3 = l45 * 32 - 96;
					characterobject.c3 = 0;
				}
				if(l3 >= this.ochiru_y - 96)
				{
					l3 = this.ochiru_y - 96;
					characterobject.c3 = 0;
				}
			}
			if(k3 > this.maps.wx - 150 && k3 < this.maps.wx + 512 + 150 && l3 > this.maps.wy - 150 && l3 < this.maps.wy + 320 + 150)
			{
				characterobject.gf = true;
				this.a_hf = true;
				characterobject.pt = 1600;
				if(this.co_j.c >= 100 && this.co_j.c < 200 && this.j_v_c <= 0 && k3 <= this.co_j.x + 15 && k3 + 63 >= this.co_j.x + 15 && l3 <= this.co_j.y + 31 && l3 + 95 >= this.co_j.y)
					this.jShinu(1);
			} else
			{
				characterobject.gf = false;
			}
			break;

		case 1020: 
			if(characterobject.c3 == 0)
			{
				var i21 = rightShiftIgnoreSign((k3 -= 8) - 1, 5);
				var l37 = rightShiftIgnoreSign(l3, 5);
				var k60 = rightShiftIgnoreSign(l3 + 31, 5);
				var l71 = rightShiftIgnoreSign(l3 + 63, 5);
				if(this.maps.map_bg[i21][l37] >= 18 || this.maps.map_bg[i21][k60] >= 18 || this.maps.map_bg[i21][l71] >= 18)
				{
					k3 = i21 * 32 + 32;
					characterobject.c3 = 1;
				}
			} else
			{
				var j21 = rightShiftIgnoreSign((k3 += 8) + 96, 5);
				var i38 = rightShiftIgnoreSign(l3, 5);
				var l60 = rightShiftIgnoreSign(l3 + 31, 5);
				var i72 = rightShiftIgnoreSign(l3 + 63, 5);
				if(this.maps.map_bg[j21][i38] >= 18 || this.maps.map_bg[j21][l60] >= 18 || this.maps.map_bg[j21][i72] >= 18)
				{
					k3 = j21 * 32 - 96;
					characterobject.c3 = 0;
				}
			}
			if(k3 > this.maps.wx - 150 && k3 < this.maps.wx + 512 + 150 && l3 > this.maps.wy - 150 && l3 < this.maps.wy + 320 + 150)
			{
				characterobject.gf = true;
				this.a_hf = true;
				characterobject.pt = 1700;
				if(this.co_j.c >= 100 && this.co_j.c < 200 && this.j_v_c <= 0 && k3 <= this.co_j.x + 15 && k3 + 95 >= this.co_j.x + 15 && l3 <= this.co_j.y + 31 && l3 + 63 >= this.co_j.y)
					this.jShinu(1);
			} else
			{
				characterobject.gf = false;
			}
			break;

		case 1100: 
			if(characterobject.vx <= 0)
			{
				if(k3 >= this.maps.wx && k3 <= (this.maps.wx + 512) - 32)
					if(this.sl_step == 10 || this.sl_step == 11)
					{
						characterobject.vx = 19;
						this.gs.rsAddSound(17);
					} else
					if(k3 - 224 <= this.co_j.x && k3 + 224 >= this.co_j.x)
					{
						characterobject.vx = 19;
						this.gs.rsAddSound(17);
					}
			} else
			if(characterobject.vx < 52)
			{
				characterobject.vx++;
				if(characterobject.vx % 4 == 0)
					this.mSet2(k3, l3 - 16, 500, -10 + this.ranInt(20), -30);
			} else
			if(characterobject.vx < 63)
			{
				characterobject.vx++;
				if(characterobject.vx % 7 == 0)
					this.mSet2(k3, l3 - 16, 500, -10 + this.ranInt(20), -30);
			} else
			if(characterobject.vx < 140)
				characterobject.vx++;
			else
				characterobject.vx = 0;
			if(k3 > this.maps.wx - 224 && k3 < this.maps.wx + 512 + 224 && l3 > this.maps.wy - 224 && l3 < this.maps.wy + 320 + 224)
			{
				characterobject.gf = true;
				this.a_hf = true;
				characterobject.pt = 1800;
			} else
			{
				characterobject.gf = false;
			}
			break;

		case 1150: 
			if(characterobject.vx <= 0)
			{
				if(k3 >= this.maps.wx && k3 <= (this.maps.wx + 512) - 32)
					if(this.sl_step == 10 || this.sl_step == 11)
					{
						characterobject.vx = 19;
						this.gs.rsAddSound(17);
					} else
					if(k3 - 224 <= this.co_j.x && k3 + 224 >= this.co_j.x)
					{
						characterobject.vx = 31;
						this.gs.rsAddSound(17);
					}
			} else
			if(characterobject.vx < 52)
			{
				characterobject.vx++;
				if(characterobject.vx % 4 == 0)
					this.mSet2(k3, l3 + 8, 550, -12 + this.ranInt(27), 28);
			} else
			if(characterobject.vx < 63)
			{
				characterobject.vx++;
				if(characterobject.vx % 7 == 0)
					this.mSet2(k3, l3 + 8, 550, -12 + this.ranInt(27), 28);
			} else
			if(characterobject.vx < 140)
				characterobject.vx++;
			else
				characterobject.vx = 0;
			if(k3 > this.maps.wx - 224 && k3 < this.maps.wx + 512 + 224 && l3 > this.maps.wy - 224 && l3 < this.maps.wy + 320 + 224)
			{
				characterobject.gf = true;
				this.a_hf = true;
				characterobject.pt = 1800;
			} else
			{
				characterobject.gf = false;
			}
			break;

		case 1200: 
			if(k3 > this.maps.wx - 180 && k3 < this.maps.wx + 512 + 180 && l3 > this.maps.wy - 180 && l3 < this.maps.wy + 320 + 180)
			{
				characterobject.gf = true;
				this.a_hf = true;
				characterobject.pt = 1900;
			} else
			{
				characterobject.gf = false;
			}
			if(characterobject.vy > 292)
			{
				characterobject.vx -= 2;
				if(characterobject.vx < -30)
					characterobject.vx = -30;
			} else
			if(characterobject.vy < 248)
			{
				characterobject.vx += 2;
				if(characterobject.vx > 30)
					characterobject.vx = 30;
			}
			if(characterobject.vx > 0)
				characterobject.vy += rounddown((characterobject.vx + 5) / 10);
			else
				characterobject.vy += rounddown((characterobject.vx - 5) / 10);
			var k86 = k3 + Math.floor(Math.cos(((characterobject.vy + 20) * 3.1415926535897931) / 180) * 192);
			var l88 = l3 + Math.floor(Math.sin(((characterobject.vy + 20) * 3.1415926535897931) / 180) * 192);
			var l90 = k3 + Math.floor(Math.cos(((characterobject.vy - 20) * 3.1415926535897931) / 180) * 192);
			var k93 = l3 + Math.floor(Math.sin(((characterobject.vy - 20) * 3.1415926535897931) / 180) * 192);
			k86 += Math.floor(Math.cos((characterobject.vy * 3.1415926535897931) / 180) * 12);
			l88 += Math.floor(Math.sin((characterobject.vy * 3.1415926535897931) / 180) * 12);
			l90 += Math.floor(Math.cos((characterobject.vy * 3.1415926535897931) / 180) * 12);
			k93 += Math.floor(Math.sin((characterobject.vy * 3.1415926535897931) / 180) * 12);
			this.setYukaPosition(String(characterobject.c4), String(l90), String(k93), String(k86), String(l88));
			break;

		case 1300: 
			if(k3 > this.maps.wx - 180 && k3 < this.maps.wx + 512 + 180 && l3 > this.maps.wy - 180 && l3 < this.maps.wy + 320 + 180)
			{
				characterobject.gf = true;
				this.a_hf = true;
				characterobject.pt = 2000;
				if(characterobject.c3 == 0)
				{
					characterobject.c3 = 1;
					this.maps.putBGCode(rightShiftIgnoreSign(k3, 5), rightShiftIgnoreSign(l3, 5), 50);
				}
			} else
			{
				characterobject.gf = false;
			}
			if(this.co_j.c >= 100 && this.co_j.c < 200)
				if(this.j_rope_cf && this.j_rope_id == i)
				{
					var j79 = l3 + Math.floor(Math.sin((characterobject.vy * 3.1415926535897931) / 180) * 32);
					var l93 = l3 + Math.floor(Math.sin((characterobject.vy * 3.1415926535897931) / 180) * 184);
					if(this.co_j.y + 16 < j79 - 48 || this.co_j.y + 16 > l93 + 24)
						this.j_rope_cf = false;
					var j73 = k3 + Math.floor(Math.cos((characterobject.vy * 3.1415926535897931) / 180) * 32);
					if(this.co_j.x + 16 < j73 - 32 - 76 || this.co_j.x + 16 > j73 + 32 + 76)
						this.j_rope_cf = false;
				} else
				if((this.co_j.c != 140 || this.j_rope_id != i) && this.co_j.c == 100)
				{
					var k79 = l3 + Math.floor(Math.sin((characterobject.vy * 3.1415926535897931) / 180) * 32);
					var i94 = l3 + Math.floor(Math.sin((characterobject.vy * 3.1415926535897931) / 180) * 184);
					if(this.co_j.y + 16 >= k79 && this.co_j.y + 16 <= i94)
					{
						var k73 = k3 + Math.floor(Math.cos((characterobject.vy * 3.1415926535897931) / 180) * 32);
						var j91 = k3 + Math.floor(Math.cos((characterobject.vy * 3.1415926535897931) / 180) * 184);
						var l4 = (this.co_j.y + 16) - k79;
						l4 = k73 + rounddown(((j91 - k73) * l4) / 152);
						if(this.co_j.x + 16 > l4 - 32 && this.co_j.x + 16 < l4 + 32)
						{
							this.co_j.c = 140;
							this.co_j.ac = 0;
							this.j_rope_id = i;
							this.j_rope_cf = false;
							this.j_rope_r = Math.floor(Math.sqrt(((this.co_j.x + 16) - k3) * ((this.co_j.x + 16) - k3) + ((this.co_j.y + 16) - l3) * ((this.co_j.y + 16) - l3)));
							if(this.j_rope_r < 48)
								this.j_rope_r = 48;
							else
							if(this.j_rope_r > 176)
								this.j_rope_r = 176;
							this.j_zan_f = false;
							this.j_jet_c = 0;
						}
					}
				}
			if(characterobject.vy > 116)
			{
				characterobject.vx -= 2;
				if(characterobject.vx < -30)
					characterobject.vx = -30;
			} else
			if(characterobject.vy < 64)
			{
				characterobject.vx += 2;
				if(characterobject.vx > 30)
					characterobject.vx = 30;
			}
			if(characterobject.vx > 0)
				characterobject.vy += rounddown((characterobject.vx + 5) / 10);
			else
				characterobject.vy += rounddown((characterobject.vx - 5) / 10);
			break;

		case 1400: 
			if(k3 > this.maps.wx - 96 && k3 < this.maps.wx + 512 && l3 > this.maps.wy - 64 && l3 < this.maps.wy + 320)
			{
				characterobject.gf = true;
				this.a_hf = true;
			} else
			{
				characterobject.gf = false;
			}
			if(characterobject.c4 == 2)
				characterobject.pt = 2110;
			else
			if(characterobject.c4 == 3)
				characterobject.pt = 2120;
			else
			if(characterobject.c4 == 4)
				characterobject.pt = 2130;
			else
				characterobject.pt = 2100;
			if(characterobject.c3 <= 0)
			{
				if(k3 >= this.maps.wx && k3 <= (this.maps.wx + 512) - 32 && l3 >= this.maps.wy && l3 <= (this.maps.wy + 320) - 32)
					if(characterobject.c4 == 2)
					{
						if(this.getCoinTotal() <= 0)
							characterobject.c3 = 100;
					} else
					if(characterobject.c4 == 3)
					{
						var i5 = 0;
						var k91 = rightShiftIgnoreSign(k3, 5);
						var j94 = rightShiftIgnoreSign(l3, 5);
						var l79 = -10;
						do
						{
							if(l79 > 10)
								break;
							var l73 = -10;
							do
							{
								if(l73 > 10)
									break;
								if(k91 + l73 >= 1 && k91 + l73 <= this.mapWidth && j94 + l79 >= 10 && j94 + l79 <= this.mapHeight + 9 && this.maps.map_bg[k91 + l73][j94 + l79] == 9)
								{
									i5++;
									break;
								}
								l73++;
							} while(true);
							if(i5 > 0)
								break;
							l79++;
						} while(true);
						if(i5 <= 0)
							characterobject.c3 = 100;
					} else
					if(characterobject.c4 == 4)
					{
						var j5 = 0;
						var k1 = 0;
						do
						{
							if(k1 > this.t_kazu)
								break;
							if((this.co_t[k1].c >= 100 || this.co_t[k1].c == 10) && this.co_t[k1].x <= k3 && this.co_t[k1].x >= k3 - 480)
							{
								j5++;
								break;
							}
							k1++;
						} while(true);
						if(j5 <= 0)
							characterobject.c3 = 100;
					} else
					if(this.score >= this.door_score)
						characterobject.c3 = 100;
			} else
			if(characterobject.c3 >= 100)
			{
				characterobject.c3++;
				if(characterobject.c3 <= 101)
				{
					characterobject.pt = 0;
					this.maps.putBGCode(rightShiftIgnoreSign(k3, 5), rightShiftIgnoreSign(l3, 5), 0);
				} else
				if(characterobject.c3 == 102)
					characterobject.pt = 0;
				else
				if(characterobject.c3 >= 105 && characterobject.c3 <= 106)
					characterobject.pt = 0;
				else
				if(characterobject.c3 == 109)
				{
					characterobject.pt = 0;
					this.gs.rsAddSound(7);
				} else
				if(characterobject.c3 == 110)
					characterobject.pt = 0;
				else
				if(characterobject.c3 >= 113)
				{
					characterobject.pt = 0;
					characterobject.c = 0;
				}
			}
			break;

		case 1500: 
			if(k3 > this.maps.wx - 180 && k3 < this.maps.wx + 512 + 180 && l3 > this.maps.wy - 180 && l3 < this.maps.wy + 320 + 180)
			{
				characterobject.gf = true;
				this.a_hf = true;
			} else
			{
				characterobject.gf = false;
			}
			characterobject.pt = 2200;
			if(this.j_rope_cf && this.j_rope_id == i)
			{
				var i74 = k3 + 16 + Math.floor(Math.cos((characterobject.c4 * 3.1415926535897931) / 180) * 60);
				var i80 = l3 + 16 + Math.floor(Math.sin((characterobject.c4 * 3.1415926535897931) / 180) * 60);
				if(Math.abs((this.co_j.x + 16) - i74) >= 40 || Math.abs((this.co_j.y + 16) - i80) >= 36)
					this.j_rope_cf = false;
			} else
			if((this.co_j.c < 400 || this.co_j.c >= 500 || this.j_rope_id != i) && this.co_j.c == 100)
			{
				var j74 = k3 + 16 + Math.floor(Math.cos((characterobject.c4 * 3.1415926535897931) / 180) * 80);
				var j80 = l3 + 16 + Math.floor(Math.sin((characterobject.c4 * 3.1415926535897931) / 180) * 80);
				if(Math.abs((this.co_j.x + 16) - j74) < 20 && Math.abs((this.co_j.y + 16) - j80) < 16)
				{
					this.co_j.c = 400;
					this.co_j.ac = 0;
					this.co_j.c1 = 80;
					this.j_rope_id = i;
					this.j_rope_cf = false;
					this.j_zan_f = false;
					this.j_jet_c = 0;
					this.j_tail_ac = 0;
					this.gs.rsAddSound(7);
				}
			}
			break;

		case 1600: 
			if(k3 > this.maps.wx - 96 && k3 < this.maps.wx + 512 && l3 > this.maps.wy - 64 && l3 < this.maps.wy + 320)
			{
				characterobject.gf = true;
				this.a_hf = true;
			} else
			{
				characterobject.gf = false;
			}
			characterobject.pt = 2300;
			if(characterobject.c3 <= 0 && k3 >= this.maps.wx && k3 <= (this.maps.wx + 512) - 32 && l3 >= this.maps.wy && l3 <= (this.maps.wy + 320) - 32)
			{
				this.spot_c = 100;
				characterobject.c = 0;
				if(characterobject.c4 == 0)
				{
					this.spot_r = 160;
					this.spot_r_mokuhyou = 160;
				} else
				if(characterobject.c4 == 1)
				{
					this.spot_r = 256;
					this.spot_r_mokuhyou = 256;
				} else
				if(characterobject.c4 == 2)
				{
					this.spot_r = 352;
					this.spot_r_mokuhyou = 352;
				} else
				{
					this.spot_c = 0;
				}
			}
			break;

		case 1700: 
			if(k3 > this.maps.wx - 192 && k3 < this.maps.wx + 512 + 192 && l3 > this.maps.wy - 192 && l3 < this.maps.wy + 320 + 192)
			{
				characterobject.gf = true;
				this.a_hf = true;
			} else
			{
				characterobject.gf = false;
			}
			if(characterobject.c4 <= 0)
			{
				if(k3 + 63 >= this.maps.wx + 16 && k3 <= (this.maps.wx + 512) - 16 && l3 + 63 >= this.maps.wy + 16 && l3 <= (this.maps.wy + 320) - 16)
					characterobject.c4 = 100;
			} else
			if(characterobject.c4 == 100)
			{
				characterobject.vy += 5;
				if(characterobject.vy >= 300)
				{
					characterobject.vy = 300;
					characterobject.c4 = 300;
				}
			} else
			if(characterobject.c4 >= 300 && characterobject.c4 < 400)
			{
				characterobject.c4++;
				if(characterobject.c4 >= 312)
					characterobject.c4 = 400;
			} else
			if(characterobject.c4 == 400)
			{
				characterobject.vy -= 5;
				if(characterobject.vy <= 100)
				{
					characterobject.vy = 100;
					characterobject.c4 = 500;
				}
			} else
			if(characterobject.c4 >= 500 && characterobject.c4 < 600)
			{
				characterobject.c4++;
				if(characterobject.c4 >= 512)
					characterobject.c4 = 0;
			}
			if(this.co_j.c >= 100 && this.co_j.c < 200 && this.j_v_c <= 0)
			{
				var k74 = rounddown((characterobject.vy * 64) / 100) - 64;
				if(k3 - rightShiftIgnoreSign(k74, 1) <= this.co_j.x + 15 && k3 + 64 + rightShiftIgnoreSign(k74, 1) >= this.co_j.x + 15)
					if(characterobject.c3 == 0)
					{
						if(l3 - k74 <= this.co_j.y + 31 && l3 + 63 >= this.co_j.y)
							this.jShinu(1);
					} else
					if(characterobject.c3 == 1)
					{
						if(l3 + 63 + k74 >= this.co_j.y && l3 <= this.co_j.y + 31)
							this.jShinu(1);
					} else
					if(characterobject.c3 == 2 && l3 + 63 + rightShiftIgnoreSign(k74, 1) >= this.co_j.y && l3 - rightShiftIgnoreSign(k74, 1) <= this.co_j.y + 31)
						this.jShinu(1);
			}
			characterobject.pt = 2400;
			break;

		case 1800: 
			if(k3 > this.maps.wx - 180 && k3 < this.maps.wx + 512 + 180 && l3 > this.maps.wy - 180 && l3 < this.maps.wy + 320 + 180)
			{
				characterobject.gf = true;
				this.a_hf = true;
				characterobject.pt = 2500;
			} else
			{
				characterobject.gf = false;
			}
			characterobject.vy += characterobject.vx;
			if(characterobject.vy >= 360)
				characterobject.vy -= 360;
			if(characterobject.vy < 0)
				characterobject.vy += 360;
			if(characterobject.gf)
			{
				var l86 = k3 + Math.floor(Math.cos(((characterobject.vy + 180 + 34) * 3.1415926535897931) / 180) * 87);
				var i89 = l3 + Math.floor(Math.sin(((characterobject.vy + 180 + 34) * 3.1415926535897931) / 180) * 87);
				var l91 = k3 + Math.floor(Math.cos((((characterobject.vy + 360) - 34) * 3.1415926535897931) / 180) * 87);
				var k94 = l3 + Math.floor(Math.sin((((characterobject.vy + 360) - 34) * 3.1415926535897931) / 180) * 87);
				this.setYukaPosition(String(characterobject.c3), String(l86), String(i89), String(l91), String(k94));
				l86 = k3 + Math.floor(Math.cos(((characterobject.vy + 34) * 3.1415926535897931) / 180) * 87);
				i89 = l3 + Math.floor(Math.sin(((characterobject.vy + 34) * 3.1415926535897931) / 180) * 87);
				this.setYukaPosition(String(characterobject.c4), String(l91), String(k94), String(l86), String(i89));
				l91 = k3 + Math.floor(Math.cos((((characterobject.vy + 180) - 34) * 3.1415926535897931) / 180) * 87);
				k94 = l3 + Math.floor(Math.sin((((characterobject.vy + 180) - 34) * 3.1415926535897931) / 180) * 87);
				this.setYukaPosition(String(characterobject.c5), String(l86), String(i89), String(l91), String(k94));
				l86 = k3 + Math.floor(Math.cos(((characterobject.vy + 180 + 34) * 3.1415926535897931) / 180) * 87);
				i89 = l3 + Math.floor(Math.sin(((characterobject.vy + 180 + 34) * 3.1415926535897931) / 180) * 87);
				this.setYukaPosition(String(characterobject.pth), String(l91), String(k94), String(l86), String(i89));
			}
			break;

		case 1850: 
			if(k3 > this.maps.wx - 180 && k3 < this.maps.wx + 512 + 180 && l3 > this.maps.wy - 180 && l3 < this.maps.wy + 320 + 180)
			{
				characterobject.gf = true;
				this.a_hf = true;
				characterobject.pt = 2600;
			} else
			{
				characterobject.gf = false;
			}
			characterobject.vy += characterobject.vx;
			if(characterobject.vy >= 360)
				characterobject.vy -= 360;
			if(characterobject.vy < 0)
				characterobject.vy += 360;
			if(characterobject.gf)
			{
				var i87 = k3 + Math.floor(Math.cos(((characterobject.vy + 180 + 34) * 3.1415926535897931) / 180) * 144);
				var j89 = l3 + Math.floor(Math.sin(((characterobject.vy + 180 + 34) * 3.1415926535897931) / 180) * 144);
				var i92 = k3 + Math.floor(Math.cos((((characterobject.vy + 360) - 34) * 3.1415926535897931) / 180) * 144);
				var l94 = l3 + Math.floor(Math.sin((((characterobject.vy + 360) - 34) * 3.1415926535897931) / 180) * 144);
				this.setYukaPosition(String(characterobject.c3), String(i87), String(j89), String(i92), String(l94));
				i87 = k3 + Math.floor(Math.cos(((characterobject.vy + 34) * 3.1415926535897931) / 180) * 144);
				j89 = l3 + Math.floor(Math.sin(((characterobject.vy + 34) * 3.1415926535897931) / 180) * 144);
				this.setYukaPosition(String(characterobject.c4), String(i92), String(l94), String(i87), String(j89));
				i92 = k3 + Math.floor(Math.cos((((characterobject.vy + 180) - 34) * 3.1415926535897931) / 180) * 144);
				l94 = l3 + Math.floor(Math.sin((((characterobject.vy + 180) - 34) * 3.1415926535897931) / 180) * 144);
				this.setYukaPosition(String(characterobject.c5), String(i87), String(j89), String(i92), String(l94));
				i87 = k3 + Math.floor(Math.cos(((characterobject.vy + 180 + 34) * 3.1415926535897931) / 180) * 144);
				j89 = l3 + Math.floor(Math.sin(((characterobject.vy + 180 + 34) * 3.1415926535897931) / 180) * 144);
				this.setYukaPosition(String(characterobject.pth), String(i92), String(l94), String(i87), String(j89));
			}
			break;

		case 1900: 
			if(k3 > this.maps.wx - 96 && k3 < this.maps.wx + 512 && l3 > this.maps.wy - 64 && l3 < this.maps.wy + 320)
			{
				characterobject.gf = true;
				this.a_hf = true;
			} else
			{
				characterobject.gf = false;
			}
			characterobject.pt = 2300;
			if(characterobject.c4 == 1)
			{
				if((characterobject.c3 <= 11 || characterobject.c3 >= 15 && characterobject.c3 <= 18) && (k3 <= this.maps.wx - 32 || k3 >= this.maps.wx + 512 || l3 <= this.maps.wy - 32 || l3 >= this.maps.wy + 320))
					characterobject.c4 = 0;
			} else
			if(characterobject.c3 == 0)
			{
				if(k3 >= this.maps.wx && k3 <= (this.maps.wx + 512) - 32 && l3 >= this.maps.wy && l3 <= (this.maps.wy + 320) - 32)
				{
					this.nkscroll_con = 100;
					if(this.nkscroll_zsc)
					{
						this.nkscroll_view_x = this.maps.wx;
						this.nkscroll_view_y = this.maps.wy;
					} else
					{
						this.nkscroll_view_x = rightShiftIgnoreSign(this.maps.wx, 1) * 2;
						this.nkscroll_view_y = rightShiftIgnoreSign(this.maps.wy + 15, 5) * 32;
						if(this.nkscroll_view_y < this.maps.wy_mini)
							this.nkscroll_view_y = this.maps.wy_mini;
						if(this.nkscroll_view_y > this.maps.wy_max)
							this.nkscroll_view_y = this.maps.wy_max;
					}
					this.nkscroll_vx = 1;
					this.nkscroll_vy = 0;
					characterobject.c4 = 1;
				}
			} else
			if(characterobject.c3 == 1)
			{
				if(k3 >= this.maps.wx && k3 <= (this.maps.wx + 512) - 32 && l3 >= this.maps.wy && l3 <= (this.maps.wy + 320) - 32)
				{
					this.nkscroll_con = 100;
					if(this.nkscroll_zsc)
					{
						this.nkscroll_view_x = this.maps.wx;
						this.nkscroll_view_y = this.maps.wy;
					} else
					{
						this.nkscroll_view_x = rightShiftIgnoreSign(this.maps.wx, 1) * 2;
						this.nkscroll_view_y = rightShiftIgnoreSign(this.maps.wy + 15, 5) * 32;
						if(this.nkscroll_view_y < this.maps.wy_mini)
							this.nkscroll_view_y = this.maps.wy_mini;
						if(this.nkscroll_view_y > this.maps.wy_max)
							this.nkscroll_view_y = this.maps.wy_max;
					}
					this.nkscroll_vx = -1;
					this.nkscroll_vy = 0;
					characterobject.c4 = 1;
				}
			} else
			if(characterobject.c3 == 2)
			{
				if(k3 >= this.maps.wx && k3 <= (this.maps.wx + 512) - 32 && l3 >= this.maps.wy && l3 <= (this.maps.wy + 320) - 32)
				{
					this.nkscroll_con = 100;
					this.nkscroll_view_x = rightShiftIgnoreSign(this.maps.wx + 15, 5) * 32;
					if(this.nkscroll_view_x < this.maps.wx_mini)
						this.nkscroll_view_x = this.maps.wx_mini;
					if(this.nkscroll_view_x > this.maps.wx_max)
						this.nkscroll_view_x = this.maps.wx_max;
					this.nkscroll_view_y = rightShiftIgnoreSign(this.maps.wy, 1) * 2;
					this.nkscroll_vx = 0;
					this.nkscroll_vy = -1;
					characterobject.c4 = 1;
				}
			} else
			if(characterobject.c3 == 3)
			{
				if(k3 >= this.maps.wx && k3 <= (this.maps.wx + 512) - 32 && l3 >= this.maps.wy && l3 <= (this.maps.wy + 320) - 32)
				{
					this.nkscroll_con = 100;
					this.nkscroll_view_x = rightShiftIgnoreSign(this.maps.wx + 15, 5) * 32;
					if(this.nkscroll_view_x < this.maps.wx_mini)
						this.nkscroll_view_x = this.maps.wx_mini;
					if(this.nkscroll_view_x > this.maps.wx_max)
						this.nkscroll_view_x = this.maps.wx_max;
					this.nkscroll_view_y = rightShiftIgnoreSign(this.maps.wy, 1) * 2;
					this.nkscroll_vx = 0;
					this.nkscroll_vy = 1;
					characterobject.c4 = 1;
				}
			} else
			if(characterobject.c3 == 4)
			{
				if(k3 >= this.maps.wx && k3 <= (this.maps.wx + 512) - 32 && l3 >= this.maps.wy && l3 <= (this.maps.wy + 320) - 32)
				{
					this.nkscroll_con = 100;
					this.nkscroll_view_x = rightShiftIgnoreSign(this.maps.wx + 15, 5) * 32;
					this.nkscroll_view_y = rightShiftIgnoreSign(this.maps.wy + 15, 5) * 32;
					if(this.nkscroll_view_x < this.maps.wx_mini)
						this.nkscroll_view_x = this.maps.wx_mini;
					if(this.nkscroll_view_x > this.maps.wx_max)
						this.nkscroll_view_x = this.maps.wx_max;
					if(this.nkscroll_view_y < this.maps.wy_mini)
						this.nkscroll_view_y = this.maps.wy_mini;
					if(this.nkscroll_view_y > this.maps.wy_max)
						this.nkscroll_view_y = this.maps.wy_max;
					this.nkscroll_vx = 1;
					this.nkscroll_vy = -1;
					characterobject.c4 = 1;
				}
			} else
			if(characterobject.c3 == 5)
			{
				if(k3 >= this.maps.wx && k3 <= (this.maps.wx + 512) - 32 && l3 >= this.maps.wy && l3 <= (this.maps.wy + 320) - 32)
				{
					this.nkscroll_con = 100;
					this.nkscroll_view_x = rightShiftIgnoreSign(this.maps.wx + 15, 5) * 32;
					this.nkscroll_view_y = rightShiftIgnoreSign(this.maps.wy + 15, 5) * 32;
					if(this.nkscroll_view_x < this.maps.wx_mini)
						this.nkscroll_view_x = this.maps.wx_mini;
					if(this.nkscroll_view_x > this.maps.wx_max)
						this.nkscroll_view_x = this.maps.wx_max;
					if(this.nkscroll_view_y < this.maps.wy_mini)
						this.nkscroll_view_y = this.maps.wy_mini;
					if(this.nkscroll_view_y > this.maps.wy_max)
						this.nkscroll_view_y = this.maps.wy_max;
					this.nkscroll_vx = 1;
					this.nkscroll_vy = 1;
					characterobject.c4 = 1;
				}
			} else
			if(characterobject.c3 == 6)
			{
				if(k3 >= this.maps.wx && k3 <= (this.maps.wx + 512) - 32 && l3 >= this.maps.wy && l3 <= (this.maps.wy + 320) - 32)
				{
					this.nkscroll_con = 100;
					this.nkscroll_view_x = rightShiftIgnoreSign(this.maps.wx + 15, 5) * 32;
					this.nkscroll_view_y = rightShiftIgnoreSign(this.maps.wy + 15, 5) * 32;
					if(this.nkscroll_view_x < this.maps.wx_mini)
						this.nkscroll_view_x = this.maps.wx_mini;
					if(this.nkscroll_view_x > this.maps.wx_max)
						this.nkscroll_view_x = this.maps.wx_max;
					if(this.nkscroll_view_y < this.maps.wy_mini)
						this.nkscroll_view_y = this.maps.wy_mini;
					if(this.nkscroll_view_y > this.maps.wy_max)
						this.nkscroll_view_y = this.maps.wy_max;
					this.nkscroll_vx = -1;
					this.nkscroll_vy = -1;
					characterobject.c4 = 1;
				}
			} else
			if(characterobject.c3 == 7)
			{
				if(k3 >= this.maps.wx && k3 <= (this.maps.wx + 512) - 32 && l3 >= this.maps.wy && l3 <= (this.maps.wy + 320) - 32)
				{
					this.nkscroll_con = 100;
					this.nkscroll_view_x = rightShiftIgnoreSign(this.maps.wx + 15, 5) * 32;
					this.nkscroll_view_y = rightShiftIgnoreSign(this.maps.wy + 15, 5) * 32;
					if(this.nkscroll_view_x < this.maps.wx_mini)
						this.nkscroll_view_x = this.maps.wx_mini;
					if(this.nkscroll_view_x > this.maps.wx_max)
						this.nkscroll_view_x = this.maps.wx_max;
					if(this.nkscroll_view_y < this.maps.wy_mini)
						this.nkscroll_view_y = this.maps.wy_mini;
					if(this.nkscroll_view_y > this.maps.wy_max)
						this.nkscroll_view_y = this.maps.wy_max;
					this.nkscroll_vx = -1;
					this.nkscroll_vy = 1;
					characterobject.c4 = 1;
				}
			} else
			if(characterobject.c3 == 8)
			{
				if(k3 >= this.maps.wx && k3 <= (this.maps.wx + 512) - 32 && l3 >= this.maps.wy && l3 <= (this.maps.wy + 320) - 32)
				{
					this.nkscroll_speed_x++;
					if(this.nkscroll_speed_x > 8)
						this.nkscroll_speed_x = 8;
					characterobject.c4 = 1;
				}
			} else
			if(characterobject.c3 == 9)
			{
				if(k3 >= this.maps.wx && k3 <= (this.maps.wx + 512) - 32 && l3 >= this.maps.wy && l3 <= (this.maps.wy + 320) - 32)
				{
					this.nkscroll_speed_x--;
					if(this.nkscroll_speed_x < 1)
						this.nkscroll_speed_x = 1;
					characterobject.c4 = 1;
				}
			} else
			if(characterobject.c3 == 10)
			{
				if(k3 >= this.maps.wx && k3 <= (this.maps.wx + 512) - 32 && l3 >= this.maps.wy && l3 <= (this.maps.wy + 320) - 32)
				{
					this.nkscroll_con = 200;
					this.nkscroll_view_x = this.maps.wx;
					this.nkscroll_view_y = this.maps.wy;
					this.nkscroll_my_view_x = this.co_j.x - this.nkscroll_view_x;
					this.nkscroll_my_view_y = this.co_j.y - this.nkscroll_view_y;
					this.nkscroll_vx = 1;
					this.nkscroll_vy = 0;
					characterobject.c4 = 1;
				}
			} else
			if(characterobject.c3 == 11)
			{
				if(k3 >= this.maps.wx && k3 <= (this.maps.wx + 512) - 32 && l3 >= this.maps.wy && l3 <= (this.maps.wy + 320) - 32)
				{
					this.nkscroll_con = 100;
					if(this.nkscroll_zsc)
					{
						this.nkscroll_view_x = this.maps.wx;
						this.nkscroll_view_y = this.maps.wy;
					} else
					{
						this.nkscroll_view_x = rightShiftIgnoreSign(this.maps.wx + 15, 5) * 32;
						this.nkscroll_view_y = rightShiftIgnoreSign(this.maps.wy + 15, 5) * 32;
						if(this.nkscroll_view_x < this.maps.wx_mini)
							this.nkscroll_view_x = this.maps.wx_mini;
						if(this.nkscroll_view_x > this.maps.wx_max)
							this.nkscroll_view_x = this.maps.wx_max;
						if(this.nkscroll_view_y < this.maps.wy_mini)
							this.nkscroll_view_y = this.maps.wy_mini;
						if(this.nkscroll_view_y > this.maps.wy_max)
							this.nkscroll_view_y = this.maps.wy_max;
					}
					this.nkscroll_vx = 0;
					this.nkscroll_vy = 0;
					characterobject.c4 = 1;
				}
			} else
			if(characterobject.c3 == 12)
			{
				if(k3 <= this.co_j.x + 15 && k3 + 31 >= this.co_j.x + 15 && l3 <= this.co_j.y + 31 && l3 + 31 >= this.co_j.y)
				{
					this.nkscroll_con = 100;
					this.nkscroll_view_x = rightShiftIgnoreSign(this.maps.wx, 1) * 2;
					this.nkscroll_view_y = this.maps.wy;
					this.nkscroll_vx = 1;
					this.nkscroll_vy = 0;
					characterobject.c4 = 1;
				}
			} else
			if(characterobject.c3 == 13)
			{
				if(k3 <= this.co_j.x + 15 && k3 + 31 >= this.co_j.x + 15 && l3 <= this.co_j.y + 31 && l3 + 31 >= this.co_j.y)
				{
					this.nkscroll_con = 100;
					this.nkscroll_view_y = rightShiftIgnoreSign(this.maps.wy, 1) * 2;
					this.nkscroll_view_x = rightShiftIgnoreSign(this.maps.wx + 15, 5) * 32;
					if(this.nkscroll_view_x < this.maps.wx_mini)
						this.nkscroll_view_x = this.maps.wx_mini;
					if(this.nkscroll_view_x > this.maps.wx_max)
						this.nkscroll_view_x = this.maps.wx_max;
					this.nkscroll_vx = 0;
					this.nkscroll_vy = -1;
					characterobject.c4 = 1;
				}
			} else
			if(characterobject.c3 == 14)
			{
				if(k3 <= this.co_j.x + 15 && k3 + 31 >= this.co_j.x + 15 && l3 <= this.co_j.y + 31 && l3 + 31 >= this.co_j.y)
				{
					this.nkscroll_con = 200;
					this.nkscroll_view_x = this.maps.wx;
					this.nkscroll_view_y = this.maps.wy;
					this.nkscroll_my_view_x = this.co_j.x - this.nkscroll_view_x;
					this.nkscroll_my_view_y = this.co_j.y - this.nkscroll_view_y;
					this.nkscroll_vx = 1;
					this.nkscroll_vy = 0;
					characterobject.c4 = 1;
				}
			} else
			if(characterobject.c3 == 15)
			{
				if(k3 >= this.maps.wx && k3 <= (this.maps.wx + 512) - 32 && l3 >= this.maps.wy && l3 <= (this.maps.wy + 320) - 32)
				{
					this.nkscroll_con = 300;
					if(this.nkscroll_zsc)
					{
						this.nkscroll_view_x = this.maps.wx;
						this.nkscroll_view_y = this.maps.wy;
					} else
					{
						this.nkscroll_view_y = this.maps.wy;
						this.nkscroll_view_x = rightShiftIgnoreSign(this.maps.wx + 15, 5) * 32;
						if(this.nkscroll_view_x < this.maps.wx_mini)
							this.nkscroll_view_x = this.maps.wx_mini;
						if(this.nkscroll_view_x > this.maps.wx_max)
							this.nkscroll_view_x = this.maps.wx_max;
					}
					this.nkscroll_vx = 0;
					this.nkscroll_vy = 0;
					characterobject.c4 = 1;
				}
			} else
			if(characterobject.c3 == 16)
			{
				if(k3 >= this.maps.wx && k3 <= (this.maps.wx + 512) - 32 && l3 >= this.maps.wy && l3 <= (this.maps.wy + 320) - 32)
				{
					this.nkscroll_con = 400;
					this.nkscroll_view_x = rightShiftIgnoreSign(this.maps.wx, 1) * 2;
					this.nkscroll_view_y = this.maps.wy;
					this.nkscroll_vx = 1;
					this.nkscroll_vy = 0;
					characterobject.c4 = 1;
				}
			} else
			if(characterobject.c3 == 17)
			{
				if(k3 >= this.maps.wx && k3 <= (this.maps.wx + 512) - 32 && l3 >= this.maps.wy && l3 <= (this.maps.wy + 320) - 32)
				{
					if(this.view_move_type != 2)
					{
						this.view_move_type = 2;
						this.nkscroll_con = 200;
						this.nkscroll_view_x = this.maps.wx;
						this.nkscroll_view_y = this.maps.wy;
						this.nkscroll_my_view_x = this.co_j.x - this.nkscroll_view_x;
						this.nkscroll_my_view_y = this.co_j.y - this.nkscroll_view_y;
						this.nkscroll_vx = 1;
						this.nkscroll_vy = 0;
					}
					characterobject.c4 = 1;
				}
			} else
			if(characterobject.c3 == 18 && k3 >= this.maps.wx && k3 <= (this.maps.wx + 512) - 32 && l3 >= this.maps.wy && l3 <= (this.maps.wy + 320) - 32)
			{
				if(this.view_move_type != 1)
				{
					this.view_move_type = 1;
					this.nkscroll_con = 200;
					this.nkscroll_view_x = this.maps.wx;
					this.nkscroll_view_y = this.maps.wy;
					this.nkscroll_my_view_x = this.co_j.x - this.nkscroll_view_x;
					this.nkscroll_my_view_y = this.co_j.y - this.nkscroll_view_y;
					this.nkscroll_vx = 1;
					this.nkscroll_vy = 0;
				}
				characterobject.c4 = 1;
			}
			break;

		case 2000: 
			if(k3 + 256 > this.maps.wx && k3 < this.maps.wx + 512)
			{
				characterobject.gf = true;
				this.a_hf = true;
				characterobject.pt = 2700;
			} else
			{
				characterobject.gf = false;
			}
			break;

		case 2100: 
			if(k3 + 256 > this.maps.wx && k3 - 256 < this.maps.wx + 512)
			{
				characterobject.gf = true;
				this.a_hf = true;
				characterobject.pt = 2800;
			} else
			{
				characterobject.gf = false;
			}
			if(characterobject.gf && this.co_j.c >= 100 && this.co_j.c < 200 && this.j_v_c <= 0)
			{
				var l74 = k3 - (this.co_j.x + 16);
				var k80 = l3 - (this.co_j.y + 16);
				if(Math.sqrt(l74 * l74 + k80 * k80) < 64)
					this.jShinu(1);
			}
			break;

		case 2200: 
			characterobject.c3 += characterobject.vx;
			if(characterobject.c3 < 0)
				characterobject.c3 += 360;
			else
			if(characterobject.c3 >= 360)
				characterobject.c3 -= 360;
			if(k3 > this.maps.wx - 200 && k3 < this.maps.wx + 512 + 200 && l3 > this.maps.wy - 200 && l3 < this.maps.wy + 320 + 200)
			{
				characterobject.gf = true;
				this.a_hf = true;
				characterobject.pt = 2900;
				if(this.co_j.c >= 100 && this.co_j.c < 200)
				{
					var i75 = k3 - (this.co_j.x + 16);
					var l80 = l3 - (this.co_j.y + 16);
					var k21 = Math.floor(Math.sqrt(i75 * i75 + l80 * l80));
					if(k21 <= 162 && k21 >= 110)
					{
						var l21 = Math.floor((Math.atan2((this.co_j.y + 16) - l3, (this.co_j.x + 16) - k3) * 180) / 3.1400001049041748);
						if(l21 < 0)
							l21 += 360;
						if(characterobject.c3 >= l21 && characterobject.c3 - 50 <= l21 || characterobject.c3 >= l21 - 360 && characterobject.c3 - 50 <= l21 - 360)
							this.jShinu(1);
					}
				}
			} else
			{
				characterobject.gf = false;
			}
			break;

		case 2250: 
			characterobject.c3 += characterobject.vx;
			if(characterobject.c3 < 0)
				characterobject.c3 += 360;
			else
			if(characterobject.c3 >= 360)
				characterobject.c3 -= 360;
			if(k3 > this.maps.wx - 200 && k3 < this.maps.wx + 512 + 200 && l3 > this.maps.wy - 200 && l3 < this.maps.wy + 320 + 200)
			{
				characterobject.gf = true;
				this.a_hf = true;
				characterobject.pt = 2950;
				if(this.co_j.c >= 100 && this.co_j.c < 200)
				{
					var j75 = k3 - (this.co_j.x + 16);
					var i81 = l3 - (this.co_j.y + 16);
					var i22 = Math.floor(Math.sqrt(j75 * j75 + i81 * i81));
					if(i22 <= 162 && i22 >= 110)
					{
						var j22 = Math.floor((Math.atan2((this.co_j.y + 16) - l3, (this.co_j.x + 16) - k3) * 180) / 3.1400001049041748);
						if(j22 < 0)
							j22 += 360;
						if(characterobject.c3 >= j22 && characterobject.c3 - 120 <= j22 || characterobject.c3 >= j22 - 360 && characterobject.c3 - 120 <= j22 - 360)
							this.jShinu(1);
					}
				}
			} else
			{
				characterobject.gf = false;
			}
			break;

		case 2300: 
			if(characterobject.vy < 0)
			{
				l3 += characterobject.vy;
				if(l3 <= characterobject.c3 - 160)
				{
					l3 = characterobject.c3 - 160;
					characterobject.vy = 4;
				}
			} else
			{
				l3 += characterobject.vy;
				if(l3 >= characterobject.c3)
				{
					l3 = characterobject.c3;
					characterobject.vy = -4;
				}
			}
			if(k3 + 256 > this.maps.wx && k3 < this.maps.wx + 512 + 256)
			{
				characterobject.gf = true;
				this.a_hf = true;
				characterobject.pt = 3000;
				this.setYukaPosition(String(characterobject.c4), String(k3), String(l3));
			} else
			{
				characterobject.gf = false;
			}
			break;

		case 2400: 
			if(characterobject.c5 <= 0)
			{
				if(this.isRideYuka(String(characterobject.c4)) == 1)
					characterobject.c5 = 100;
			} else
			if(characterobject.c5 == 100)
			{
				if((l3 -= 4) <= characterobject.c3 - 160)
				{
					l3 = characterobject.c3 - 160;
					characterobject.c5 = 200;
				}
			} else
			if(characterobject.c5 == 200)
			{
				if(this.isRideYuka(String(characterobject.c4)) != 1)
					characterobject.c5 = 300;
			} else
			if((l3 += 4) >= characterobject.c3)
			{
				l3 = characterobject.c3;
				characterobject.c5 = 0;
			}
			if(k3 + 256 > this.maps.wx && k3 < this.maps.wx + 512 + 256)
			{
				characterobject.gf = true;
				this.a_hf = true;
				characterobject.pt = 3000;
				this.setYukaPosition(String(characterobject.c4), String(k3), String(l3));
			} else
			{
				characterobject.gf = false;
			}
			break;

		case 2500: 
			if(characterobject.c5 != 1000)
				if(characterobject.c5 <= 0)
				{
					if(this.isRideYuka(String(characterobject.c4)) == 1)
						characterobject.c5 = 100;
				} else
				if(characterobject.c5 == 100)
				{
					if((l3 += 4) >= characterobject.c3)
					{
						l3 = characterobject.c3;
						characterobject.c5 = 200;
					}
				} else
				if(characterobject.c5 == 200)
				{
					if(this.isRideYuka(String(characterobject.c4)) != 1)
						characterobject.c5 = 300;
				} else
				if((l3 -= 4) <= characterobject.c3 - 160)
				{
					l3 = characterobject.c3 - 160;
					characterobject.c5 = 0;
				}
			if(k3 + 256 > this.maps.wx && k3 < this.maps.wx + 512 + 256)
			{
				characterobject.gf = true;
				this.a_hf = true;
				characterobject.pt = 3000;
				this.setYukaPosition(String(characterobject.c4), String(k3), String(l3));
			} else
			{
				characterobject.gf = false;
			}
			break;

		case 2600: 
			if(this.isRideYuka(String(characterobject.c4)) == 1 && (l3 += 2) >= this.ochiru_y + 80)
				l3 = this.ochiru_y + 80 + 64;
			if(k3 + 256 > this.maps.wx && k3 < this.maps.wx + 512 + 256)
			{
				characterobject.gf = true;
				this.a_hf = true;
				characterobject.pt = 2700;
				this.setYukaPosition(String(characterobject.c4), String(k3), String(l3));
			} else
			{
				characterobject.gf = false;
			}
			break;

		case 2610: 
			if(this.isRideYuka(String(characterobject.c4)) == 1)
			{
				if((l3 += 3) >= this.ochiru_y + 80)
					l3 = this.ochiru_y + 80 + 64;
			} else
			if((l3 -= 3) <= characterobject.c3)
				l3 = characterobject.c3;
			if(k3 + 256 > this.maps.wx && k3 < this.maps.wx + 512 + 256)
			{
				characterobject.gf = true;
				this.a_hf = true;
				characterobject.pt = 2700;
				this.setYukaPosition(String(characterobject.c4), String(k3), String(l3));
			} else
			{
				characterobject.gf = false;
			}
			break;

		case 2700: 
			if(l3 <= characterobject.c3)
			{
				characterobject.vy += 4;
				if(characterobject.vy > 44)
					characterobject.vy = 44;
			} else
			if(l3 >= characterobject.c3 + 106)
			{
				characterobject.vy -= 4;
				if(characterobject.vy < -44)
					characterobject.vy = -44;
			}
			l3 += rounddown(characterobject.vy / 10);
			if(k3 + 256 > this.maps.wx && k3 < this.maps.wx + 512 + 256)
			{
				characterobject.gf = true;
				this.a_hf = true;
				characterobject.pt = 2700;
				this.setYukaPosition(String(characterobject.c4), String(k3), String(l3));
			} else
			{
				characterobject.gf = false;
			}
			break;

		case 2800: 
			if(k3 > this.maps.wx - 256 && k3 < this.maps.wx + 512 + 256 && l3 > this.maps.wy - 256 && l3 < this.maps.wy + 320 + 256)
			{
				characterobject.gf = true;
				this.a_hf = true;
				characterobject.pt = 3100;
			} else
			{
				characterobject.gf = false;
			}
			if(this.co_j.c >= 100 && this.co_j.c < 200)
				if(this.j_rope_cf && this.j_rope_id == i)
				{
					var j38 = k3 - (this.co_j.x + 16);
					var i61 = l3 - (this.co_j.y + 16);
					var j72 = Math.floor(Math.sqrt(j38 * j38 + i61 * i61));
					if(j72 >= 12 && j72 <= 244)
					{
						var k75 = k3 + Math.floor(Math.cos((characterobject.vy * 3.1415926535897931) / 180) * j72);
						var j81 = l3 + Math.floor(Math.sin((characterobject.vy * 3.1415926535897931) / 180) * j72);
						if(Math.abs((this.co_j.x + 16) - k75) >= 24 || Math.abs((this.co_j.y + 16) - j81) >= 24)
							this.j_rope_cf = false;
					} else
					{
						this.j_rope_cf = false;
					}
				} else
				if((this.co_j.c != 140 || this.j_rope_id != i) && this.co_j.c == 100 && !this.co_j.jimen_f)
				{
					var k38 = k3 - (this.co_j.x + 16);
					var j61 = l3 - (this.co_j.y + 16);
					var k72 = Math.floor(Math.sqrt(k38 * k38 + j61 * j61));
					if(k72 >= 12 && k72 <= 220)
					{
						var l75 = k3 + Math.floor(Math.cos((characterobject.vy * 3.1415926535897931) / 180) * k72);
						var k81 = l3 + Math.floor(Math.sin((characterobject.vy * 3.1415926535897931) / 180) * k72);
						if(Math.abs((this.co_j.x + 16) - l75) < 20 && Math.abs((this.co_j.y + 16) - k81) < 20)
						{
							this.co_j.c = 140;
							this.co_j.ac = 0;
							this.j_rope_id = i;
							this.j_rope_cf = false;
							this.j_rope_r = Math.floor(Math.sqrt(((this.co_j.x + 16) - k3) * ((this.co_j.x + 16) - k3) + ((this.co_j.y + 16) - l3) * ((this.co_j.y + 16) - l3)));
							if(this.j_rope_r < 48)
								this.j_rope_r = 48;
							else
							if(this.j_rope_r > 220)
								this.j_rope_r = 220;
							if(characterobject.c3 == 1)
							{
								characterobject.c3 = 0;
								if(characterobject.vy == 90)
									if(this.co_j.muki == 0)
										characterobject.vx = 22;
									else
										characterobject.vx = -22;
							}
							this.j_zan_f = false;
							this.j_jet_c = 0;
						}
					}
				}
			if(characterobject.c3 != 1)
			{
				if(characterobject.vy > 156)
				{
					characterobject.vx -= 2;
					if(characterobject.vx < -22)
						characterobject.vx = -22;
				} else
				if(characterobject.vy < 24)
				{
					characterobject.vx += 2;
					if(characterobject.vx > 22)
						characterobject.vx = 22;
				}
				if(characterobject.vx > 0)
					characterobject.vy += rounddown((characterobject.vx + 5) / 10);
				else
					characterobject.vy += rounddown((characterobject.vx - 5) / 10);
			}
			break;

		case 2900: 
			if(k3 > this.maps.wx - 32 - 32 && k3 < this.maps.wx + 512 + 32 && l3 > this.maps.wy - 160 && l3 < this.maps.wy + 320)
			{
				characterobject.gf = true;
				this.a_hf = true;
				characterobject.pt = 3200;
				if(this.co_j.c >= 100 && this.co_j.c < 200 && this.j_v_c <= 0 && this.co_j.x + 15 >= k3 - 4 && this.co_j.x + 15 <= k3 + 31 && this.co_j.y + 15 >= l3 && this.co_j.y + 15 <= l3 + 127)
				{
					this.co_j.x = k3;
					if(this.co_j.y < l3)
						this.co_j.y = l3;
					if(this.co_j.y > l3 + 95)
						this.co_j.y = l3 + 95;
					this.jShinu(1);
				}
			} else
			{
				characterobject.gf = false;
			}
			break;

		case 2950: 
			if(k3 > this.maps.wx - 32 - 32 && k3 < this.maps.wx + 512 + 32 && l3 > this.maps.wy - 160 && l3 < this.maps.wy + 320)
			{
				characterobject.gf = true;
				this.a_hf = true;
				characterobject.pt = 3250;
				if(this.co_j.c >= 100 && this.co_j.c < 200 && this.j_v_c <= 0 && this.co_j.x + 15 >= k3 && this.co_j.x + 15 <= k3 + 31 + 4 && this.co_j.y + 15 >= l3 && this.co_j.y + 15 <= l3 + 127)
				{
					this.co_j.x = k3;
					if(this.co_j.y < l3)
						this.co_j.y = l3;
					if(this.co_j.y > l3 + 95)
						this.co_j.y = l3 + 95;
					this.jShinu(1);
				}
			} else
			{
				characterobject.gf = false;
			}
			break;

		case 3000: 
			if(k3 > this.maps.wx - 96 - 32 && k3 < this.maps.wx + 512 && l3 > this.maps.wy - 64 - 32 && l3 < this.maps.wy + 320)
			{
				characterobject.gf = true;
				this.a_hf = true;
				characterobject.pt = 3300;
			} else
			{
				characterobject.gf = false;
			}
			this.souko_count1++;
			var l1 = 0;
			do
			{
				if(l1 > this.a_kazu)
					break;
				if(this.co_a[l1].c == 410 && this.co_a[l1].c4 == 16 && this.co_a[l1].x == k3 && this.co_a[l1].y == l3)
				{
					this.souko_count2++;
					if(characterobject.c3 == 1)
						this.co_a[l1].vx = 1;
					break;
				}
				l1++;
			} while(true);
			break;

		case 3100: 
			if(k3 > this.maps.wx - 160 && k3 < this.maps.wx + 512 && l3 > this.maps.wy - 160 && l3 < this.maps.wy + 320)
			{
				characterobject.gf = true;
				this.a_hf = true;
				characterobject.pt = 3500;
			} else
			{
				characterobject.gf = false;
			}
			break;

		case 3110: 
			if(k3 > this.maps.wx - 160 && k3 < this.maps.wx + 512 && l3 > this.maps.wy - 160 && l3 < this.maps.wy + 320)
			{
				characterobject.gf = true;
				this.a_hf = true;
				characterobject.pt = 3510;
			} else
			{
				characterobject.gf = false;
			}
			break;

		case 3120: 
			if(k3 > this.maps.wx - 160 && k3 < this.maps.wx + 512 && l3 > this.maps.wy - 160 && l3 < this.maps.wy + 320)
			{
				characterobject.gf = true;
				this.a_hf = true;
				characterobject.pt = 3520;
				if((this.co_j.c == 100 || this.co_j.c == 130) && this.co_j.x + 15 >= k3 && this.co_j.x + 15 <= k3 + 127 && this.co_j.y == l3 - 32 && this.co_j.vy >= 0)
					this.j_a_id = i;
			} else
			{
				characterobject.gf = false;
			}
			break;

		case 3130: 
			if(k3 > this.maps.wx - 160 && k3 < this.maps.wx + 512 && l3 > this.maps.wy - 160 && l3 < this.maps.wy + 320)
			{
				characterobject.gf = true;
				this.a_hf = true;
				characterobject.pt = 3530;
			} else
			{
				characterobject.gf = false;
			}
			break;

		case 3200: 
			if(k3 > this.maps.wx - 256 && k3 < this.maps.wx + 512 + 256 && l3 > this.maps.wy - 256 && l3 < this.maps.wy + 320 + 256)
			{
				characterobject.gf = true;
				this.a_hf = true;
				characterobject.pt = 3100;
			} else
			{
				characterobject.gf = false;
			}
			if(this.co_j.c >= 100 && this.co_j.c < 200)
				if(this.j_rope_cf && this.j_rope_id == i)
				{
					var l38 = k3 - (this.co_j.x + 16);
					var k61 = l3 - (this.co_j.y + 16);
					var l72 = Math.floor(Math.sqrt(l38 * l38 + k61 * k61));
					if(l72 >= 12 && l72 <= 244)
					{
						var i76 = k3 + Math.floor(Math.cos((characterobject.vy * 3.1415926535897931) / 180) * l72);
						var l81 = l3 + Math.floor(Math.sin((characterobject.vy * 3.1415926535897931) / 180) * l72);
						if(Math.abs((this.co_j.x + 16) - i76) >= 24 || Math.abs((this.co_j.y + 16) - l81) >= 24)
							this.j_rope_cf = false;
					} else
					{
						this.j_rope_cf = false;
					}
				} else
				if((this.co_j.c != 140 || this.j_rope_id != i) && this.co_j.c == 100 && !this.co_j.jimen_f)
				{
					var i39 = k3 - (this.co_j.x + 16);
					var l61 = l3 - (this.co_j.y + 16);
					var i73 = Math.floor(Math.sqrt(i39 * i39 + l61 * l61));
					if(i73 >= 12 && i73 <= 220)
					{
						var j76 = k3 + Math.floor(Math.cos((characterobject.vy * 3.1415926535897931) / 180) * i73);
						var i82 = l3 + Math.floor(Math.sin((characterobject.vy * 3.1415926535897931) / 180) * i73);
						if(Math.abs((this.co_j.x + 16) - j76) < 20 && Math.abs((this.co_j.y + 16) - i82) < 20)
						{
							this.co_j.c = 140;
							this.co_j.ac = 0;
							this.j_rope_id = i;
							this.j_rope_cf = false;
							this.j_rope_r = Math.floor(Math.sqrt(((this.co_j.x + 16) - k3) * ((this.co_j.x + 16) - k3) + ((this.co_j.y + 16) - l3) * ((this.co_j.y + 16) - l3)));
							if(this.j_rope_r < 48)
								this.j_rope_r = 48;
							else
							if(this.j_rope_r > 220)
								this.j_rope_r = 220;
							if(characterobject.c3 == 1)
							{
								characterobject.c3 = 0;
								if(characterobject.vy == 90)
									if(this.co_j.muki == 0)
										characterobject.vx = 22;
									else
										characterobject.vx = -22;
							}
							this.j_zan_f = false;
							this.j_jet_c = 0;
						}
					}
				}
			if(characterobject.c3 != 1)
			{
				if(characterobject.c4 == 1)
				{
					if(characterobject.vy > 330)
					{
						characterobject.vx -= 2;
						if(characterobject.vx < -22)
							characterobject.vx = -22;
					} else
					if(characterobject.vy < 210)
					{
						characterobject.vx += 2;
						if(characterobject.vx > 22)
							characterobject.vx = 22;
					}
				} else
				if(characterobject.vy > 300)
				{
					characterobject.vx -= 2;
					if(characterobject.vx < -22)
						characterobject.vx = -22;
				} else
				if(characterobject.vy < 240)
				{
					characterobject.vx += 2;
					if(characterobject.vx > 22)
						characterobject.vx = 22;
				}
				if(characterobject.vx > 0)
					characterobject.vy += rounddown((characterobject.vx + 5) / 10);
				else
					characterobject.vy += rounddown((characterobject.vx - 5) / 10);
			}
			break;

		case 3300: 
			characterobject.vy += 4;
			if(characterobject.vy > 64)
				characterobject.vy = 64;
			if(characterobject.vy < -60)
				l3 -= 6;
			else
				l3 += rounddown(characterobject.vy / 10);
			if(this.maps.getBGCode(k3, l3 + characterobject.c5 + 1) >= 20)
			{
				l3 = rightShiftIgnoreSign(l3 + characterobject.c5 + 1, 5) * 32 - characterobject.c5 - 1;
				characterobject.vy = -92;
			}
			if(l3 - characterobject.c5 >= this.ochiru_y)
				l3 = this.ochiru_y + characterobject.c5 + 64;
			if(k3 + 256 > this.maps.wx && k3 < this.maps.wx + 512 + 256)
			{
				characterobject.gf = true;
				this.a_hf = true;
				characterobject.pt = 2700;
				this.setYukaPosition(String(characterobject.c4), String(k3), String(l3));
			} else
			{
				characterobject.gf = false;
			}
			break;

		case 3400: 
			if(k3 > this.maps.wx - 96 && k3 < this.maps.wx + 512 + 64 && l3 > this.maps.wy - 96 && l3 < this.maps.wy + 320 + 64)
			{
				characterobject.gf = true;
				this.a_hf = true;
				characterobject.pt = 3600;
				if(this.co_j.c >= 100 && this.co_j.c < 200 && this.co_j.x + 15 >= k3 && this.co_j.x + 15 <= k3 + 31 && this.co_j.y + 31 >= l3 + 4 && this.co_j.y <= (l3 + 31) - 4)
				{
					this.cpoint_con = 100;
					this.cpoint_stage = this.stage;
					this.cpoint_x = k3;
					this.cpoint_y = l3;
					characterobject.c = 0;
					this.addScore(5);
					this.gs.rsAddSound(7);
					characterobject.gf = false;
				}
			} else
			{
				characterobject.gf = false;
			}
			break;

		case 3500: 
			if(k3 > this.maps.wx - 96 && k3 < this.maps.wx + 512 + 64 && l3 > this.maps.wy - 96 && l3 < this.maps.wy + 320 + 64)
			{
				characterobject.gf = true;
				this.a_hf = true;
				characterobject.pt = 3700;
				if(characterobject.c3 == 0)
				{
					if(this.co_j.c >= 100 && this.co_j.c < 200 && this.co_j.x >= k3 - 32 && this.co_j.x <= k3 + 32 && this.co_j.y >= l3 - 14 && this.co_j.y <= l3 + 14)
					{
						characterobject.c3 = 1;
						characterobject.pt = 3710;
						this.gs.rsAddSound(23);
						var k76 = rightShiftIgnoreSign(k3, 5);
						var j82 = rightShiftIgnoreSign(l3, 5);
						if(characterobject.c4 == 1)
							this.onASwitch(k76 - 5, j82 - 5, k76 + 5, j82 + 5);
						else
						if(characterobject.c4 == 2)
							this.onASwitch(1, 10, this.mapWidth, this.mapHeight + 10, 2);
						else
							this.onASwitch(k76 - 10, j82 - 10, k76 + 10, j82 + 10);
					}
				} else
				if(characterobject.c3 == 1)
				{
					if(this.co_j.c >= 100 && this.co_j.c < 200 && (this.co_j.x <= k3 - 32 - 8 || this.co_j.x >= k3 + 32 + 8 || this.co_j.y <= l3 - 14 - 8 || this.co_j.y >= l3 + 14 + 8))
						characterobject.c3 = 100;
					characterobject.pt = 3710;
				} else
				if(characterobject.c3 == 100)
				{
					characterobject.pt = 3710;
					if(this.co_j.c >= 100 && this.co_j.c < 200 && this.co_j.x >= k3 - 32 && this.co_j.x <= k3 + 32 && this.co_j.y >= l3 - 14 && this.co_j.y <= l3 + 14)
					{
						characterobject.c3 = 101;
						characterobject.pt = 3700;
						this.gs.rsAddSound(23);
						var l76 = rightShiftIgnoreSign(k3, 5);
						var k82 = rightShiftIgnoreSign(l3, 5);
						if(characterobject.c4 == 1)
							this.offASwitch(l76 - 5, k82 - 5, l76 + 5, k82 + 5);
						else
						if(characterobject.c4 == 2)
							this.offASwitch(1, 10, this.mapWidth, this.mapHeight + 10, 2);
						else
							this.offASwitch(l76 - 10, k82 - 10, l76 + 10, k82 + 10);
					}
				} else
				if(characterobject.c3 == 101 && this.co_j.c >= 100 && this.co_j.c < 200 && (this.co_j.x <= k3 - 32 - 8 || this.co_j.x >= k3 + 32 + 8 || this.co_j.y <= l3 - 14 - 8 || this.co_j.y >= l3 + 14 + 8))
					characterobject.c3 = 0;
			} else
			{
				characterobject.gf = false;
			}
			break;

		case 3600: 
			if(k3 > this.maps.wx - 96 && k3 < this.maps.wx + 512 + 64 && l3 > this.maps.wy - 96 && l3 < this.maps.wy + 320 + 64)
			{
				characterobject.gf = true;
				this.a_hf = true;
				characterobject.pt = 3700;
				if(characterobject.c3 == 0)
				{
					if(this.co_j.c >= 100 && this.co_j.c < 200 && this.co_j.x >= k3 - 32 - 8 && this.co_j.x <= k3 + 32 + 8 && this.co_j.y >= l3 - 12 - 8 && this.co_j.y <= l3 + 12 + 8 && this.up_key_c == 1)
					{
						characterobject.c3 = 100;
						characterobject.pt = 3710;
						this.gs.rsAddSound(23);
						var i77 = rightShiftIgnoreSign(k3, 5);
						var l82 = rightShiftIgnoreSign(l3, 5);
						if(characterobject.c4 == 1)
							this.onASwitch(i77 - 5, l82 - 5, i77 + 5, l82 + 5);
						else
						if(characterobject.c4 == 2)
							this.onASwitch(1, 10, this.mapWidth, this.mapHeight + 10, 2);
						else
							this.onASwitch(i77 - 10, l82 - 10, i77 + 10, l82 + 10);
					}
				} else
				{
					characterobject.pt = 3710;
					if(this.co_j.c >= 100 && this.co_j.c < 200 && this.co_j.x >= k3 - 32 - 8 && this.co_j.x <= k3 + 32 + 8 && this.co_j.y >= l3 - 12 - 8 && this.co_j.y <= l3 + 12 + 8 && this.up_key_c == 1)
					{
						characterobject.c3 = 0;
						characterobject.pt = 3700;
						this.gs.rsAddSound(23);
						var j77 = rightShiftIgnoreSign(k3, 5);
						var i83 = rightShiftIgnoreSign(l3, 5);
						if(characterobject.c4 == 1)
							this.offASwitch(j77 - 5, i83 - 5, j77 + 5, i83 + 5);
						else
						if(characterobject.c4 == 2)
							this.offASwitch(1, 10, this.mapWidth, this.mapHeight + 10, 2);
						else
							this.offASwitch(j77 - 10, i83 - 10, j77 + 10, i83 + 10);
					}
				}
			} else
			{
				characterobject.gf = false;
			}
			break;

		case 3700: 
			this.aMoveOption(i);
			k3 = characterobject.x;
			l3 = characterobject.y;
			break;

		case 3710: 
			this.aMoveOption(i);
			k3 = characterobject.x;
			l3 = characterobject.y;
			break;

		case 3800: 
			this.aMoveOption(i);
			k3 = characterobject.x;
			l3 = characterobject.y;
			break;

		case 3810: 
			this.aMoveOption(i);
			k3 = characterobject.x;
			l3 = characterobject.y;
			break;

		case 3900: 
			this.aMoveOption(i);
			k3 = characterobject.x;
			l3 = characterobject.y;
			break;

		case 3910: 
			this.aMoveOption(i);
			k3 = characterobject.x;
			l3 = characterobject.y;
			break;

		case 4000: 
			this.aMoveOption(i);
			k3 = characterobject.x;
			l3 = characterobject.y;
			break;

		case 4010: 
			this.aMoveOption(i);
			k3 = characterobject.x;
			l3 = characterobject.y;
			break;

		case 4100: 
			this.aMoveOption(i);
			k3 = characterobject.x;
			l3 = characterobject.y;
			break;

		case 4110: 
			this.aMoveOption(i);
			k3 = characterobject.x;
			l3 = characterobject.y;
			break;

		case 4200: 
			this.aMoveOption(i);
			k3 = characterobject.x;
			l3 = characterobject.y;
			break;

		case 4210: 
			this.aMoveOption(i);
			k3 = characterobject.x;
			l3 = characterobject.y;
			break;

		case 4300: 
			this.aMoveOption(i);
			k3 = characterobject.x;
			l3 = characterobject.y;
			break;

		case 4400: 
			this.aMoveOption(i);
			k3 = characterobject.x;
			l3 = characterobject.y;
			break;

		case 4410: 
			this.aMoveOption(i);
			k3 = characterobject.x;
			l3 = characterobject.y;
			break;

		case 4500: 
			this.aMoveOption(i);
			k3 = characterobject.x;
			l3 = characterobject.y;
			break;

		case 4600: 
			if(k3 > this.maps.wx - 96 && k3 < this.maps.wx + 512 + 64 && l3 > this.maps.wy - 96 && l3 < this.maps.wy + 320 + 64)
			{
				characterobject.gf = true;
				this.a_hf = true;
				characterobject.pt = 4100;
				if(this.co_j.c >= 100 && this.co_j.c < 200 && this.dkey_count[0] + this.dkey_count[1] < 5 && this.co_j.x + 15 >= k3 - 4 && this.co_j.x + 15 <= k3 + 31 + 4 && this.co_j.y + 31 >= l3 + 4 && this.co_j.y <= (l3 + 31) - 4)
				{
					this.dkey_count[0]++;
					characterobject.c = 0;
					this.addScore(5);
					this.gs.rsAddSound(7);
					characterobject.gf = false;
				}
			} else
			{
				characterobject.gf = false;
			}
			break;

		case 4610: 
			if(k3 > this.maps.wx - 96 && k3 < this.maps.wx + 512 + 64 && l3 > this.maps.wy - 96 && l3 < this.maps.wy + 320 + 64)
			{
				characterobject.gf = true;
				this.a_hf = true;
				characterobject.pt = 4110;
				if(this.co_j.c >= 100 && this.co_j.c < 200 && this.dkey_count[0] + this.dkey_count[1] < 5 && this.co_j.x + 15 >= k3 - 4 && this.co_j.x + 15 <= k3 + 31 + 4 && this.co_j.y + 31 >= l3 + 4 && this.co_j.y <= (l3 + 31) - 4)
				{
					this.dkey_count[1]++;
					characterobject.c = 0;
					this.addScore(5);
					this.gs.rsAddSound(7);
					characterobject.gf = false;
				}
			} else
			{
				characterobject.gf = false;
			}
			break;

		case 4700: 
			if(k3 > this.maps.wx - 96 && k3 < this.maps.wx + 512 + 64 && l3 > this.maps.wy - 96 && l3 < this.maps.wy + 320 + 64)
			{
				characterobject.gf = true;
				this.a_hf = true;
			} else
			{
				characterobject.gf = false;
			}
			if(characterobject.c3 == 0)
			{
				if(characterobject.gf && this.co_j.c >= 100 && this.co_j.c < 200 && this.co_j.x >= k3 - 32 && this.co_j.x <= k3 + 32 && this.co_j.y >= l3 - 32 && this.co_j.y <= l3 + 32)
					if(characterobject.c4 == 0)
					{
						if(this.dkey_count[0] >= 1)
						{
							this.dkey_count[0]--;
							characterobject.c3 = 100;
							this.maps.putBGCode(rightShiftIgnoreSign(k3, 5), rightShiftIgnoreSign(l3, 5), 31);
							this.gs.rsAddSound(13);
						}
					} else
					if(characterobject.c4 == 1)
					{
						if(this.dkey_count[1] >= 1)
						{
							this.dkey_count[1]--;
							characterobject.c3 = 100;
							this.maps.putBGCode(rightShiftIgnoreSign(k3, 5), rightShiftIgnoreSign(l3, 5), 31);
							this.gs.rsAddSound(13);
						}
					} else
					if(characterobject.c4 == 2)
					{
						if(this.dkey_count[0] >= 3)
						{
							this.dkey_count[0] -= 3;
							characterobject.c3 = 100;
							this.maps.putBGCode(rightShiftIgnoreSign(k3, 5), rightShiftIgnoreSign(l3, 5), 31);
							this.gs.rsAddSound(13);
						}
					} else
					if(characterobject.c4 == 3 && this.dkey_count[1] >= 3)
					{
						this.dkey_count[1] -= 3;
						characterobject.c3 = 100;
						this.maps.putBGCode(rightShiftIgnoreSign(k3, 5), rightShiftIgnoreSign(l3, 5), 31);
						this.gs.rsAddSound(13);
					}
			} else
			if(characterobject.c3 >= 100)
			{
				characterobject.c3++;
				if(characterobject.c3 == 102 || characterobject.c3 == 106)
				{
					if(characterobject.c4 == 0)
						this.maps.putBGCode(rightShiftIgnoreSign(k3, 5), rightShiftIgnoreSign(l3, 5), 213);
					else
					if(characterobject.c4 == 1)
						this.maps.putBGCode(rightShiftIgnoreSign(k3, 5), rightShiftIgnoreSign(l3, 5), 214);
					else
					if(characterobject.c4 == 2)
						this.maps.putBGCode(rightShiftIgnoreSign(k3, 5), rightShiftIgnoreSign(l3, 5), 215);
					else
					if(characterobject.c4 == 3)
						this.maps.putBGCode(rightShiftIgnoreSign(k3, 5), rightShiftIgnoreSign(l3, 5), 212);
				} else
				if(characterobject.c3 == 104)
					this.maps.putBGCode(rightShiftIgnoreSign(k3, 5), rightShiftIgnoreSign(l3, 5), 31);
				else
				if(characterobject.c3 >= 108)
				{
					this.maps.putBGCode(rightShiftIgnoreSign(k3, 5), rightShiftIgnoreSign(l3, 5), 0);
					characterobject.c = 0;
				}
			}
			break;

		case 4800: 
			if(k3 > this.maps.wx - 96 && k3 < this.maps.wx + 512 + 64 && l3 > this.maps.wy - 96 && l3 < this.maps.wy + 320 + 64)
			{
				characterobject.gf = true;
				this.a_hf = true;
				if(characterobject.c4 == 1)
					characterobject.pt = 4110;
				else
					characterobject.pt = 4100;
				if(this.co_j.c >= 100 && this.co_j.c < 200 && this.dkey_count[0] + this.dkey_count[1] < 5 && this.co_j.x + 15 >= k3 - 4 && this.co_j.x + 15 <= k3 + 31 + 4 && this.co_j.y + 31 >= l3 + 4 && this.co_j.y <= (l3 + 31) - 4)
				{
					if(characterobject.c4 == 1)
						this.dkey_count[1]++;
					else
						this.dkey_count[0]++;
					characterobject.c = 0;
					this.addScore(5);
					this.gs.rsAddSound(7);
					characterobject.gf = false;
				}
			} else
			{
				characterobject.gf = false;
			}
			if(characterobject.c3 == 0)
				characterobject.c3 = 1;
			else
			if(((l3 += 4) + 31) % 32 <= 4 && this.maps.getBGCode(k3 + 15, l3 + 31) >= 20)
				l3 = rightShiftIgnoreSign(l3 + 31, 5) * 32 - 32;
			else
			if(l3 >= this.ochiru_y)
			{
				characterobject.c = 0;
				characterobject.gf = false;
			}
			break;

		case 4900: 
			this.aMoveOption(i);
			k3 = characterobject.x;
			l3 = characterobject.y;
			break;

		case 4910: 
			this.aMoveOption(i);
			k3 = characterobject.x;
			l3 = characterobject.y;
			break;

		case 5000: 
			this.aMoveOption(i);
			k3 = characterobject.x;
			l3 = characterobject.y;
			break;

		case 5100: 
			if(k3 > this.maps.wx - 96 && k3 < this.maps.wx + 512 + 64 && l3 > this.maps.wy - 96 && l3 < this.maps.wy + 320 + 64)
			{
				characterobject.gf = true;
				this.a_hf = true;
				if(characterobject.c3 == 0)
				{
					characterobject.pt = 4300;
					var k5 = this.attackTail(String(k3), String(l3), "32", "32");
					if(k5 >= 1)
					{
						characterobject.c3 = 100;
						this.addScore(10);
						characterobject.pt = 0;
						this.mSet(k3, l3, 65);
						characterobject.gf = false;
						var k77 = rightShiftIgnoreSign(k3, 5);
						var j83 = rightShiftIgnoreSign(l3, 5);
						if(characterobject.c4 == 1)
							this.onASwitch(k77 - 5, j83 - 5, k77 + 5, j83 + 5);
						else
							this.onASwitch(k77 - 10, j83 - 10, k77 + 10, j83 + 10);
					}
				} else
				{
					characterobject.c3++;
					if(characterobject.c3 > 108)
					{
						characterobject.c = 0;
						characterobject.gf = false;
						var l77 = rightShiftIgnoreSign(k3, 5);
						var k83 = rightShiftIgnoreSign(l3, 5);
						if(this.maps.map_bg[l77][k83 - 1] == 4)
							this.maps.putBGCode(l77, k83, 4);
						else
							this.maps.putBGCode(l77, k83, 0);
					}
				}
			} else
			{
				characterobject.gf = false;
			}
			break;

		case 5200: 
			characterobject.gf = false;
			this.a_hf = true;
			characterobject.pt = 0;
			if(characterobject.c3 == 0)
			{
				var i78 = rightShiftIgnoreSign(k3, 5);
				var l83 = rightShiftIgnoreSign(l3, 5);
				for(var i2 = 0; i2 <= 3 && (this.maps.map_bg[i78][l83 + i2] == 0 || this.maps.map_bg[i78][l83 + i2] == 4); i2++)
					this.maps.putBGCode(i78, l83 + i2, 23);

				characterobject.c3 = 100;
			}
			if(characterobject.c3 == 100)
			{
				if(characterobject.c5 == 1)
				{
					var j78 = rightShiftIgnoreSign(k3, 5);
					var i84 = rightShiftIgnoreSign(l3, 5);
					for(var j2 = 0; j2 <= 3 && this.maps.map_bg[j78][i84 + j2] == 23; j2++)
						this.maps.putBGCode(j78, i84 + j2, 0);

					characterobject.c3 = 200;
				}
			} else
			if(characterobject.c5 == 0)
			{
				var k78 = rightShiftIgnoreSign(k3, 5);
				var j84 = rightShiftIgnoreSign(l3, 5);
				for(var k2 = 0; k2 <= 3 && (this.maps.map_bg[k78][j84 + k2] == 0 || this.maps.map_bg[k78][j84 + k2] == 4); k2++)
					this.maps.putBGCode(k78, j84 + k2, 23);

				characterobject.c3 = 100;
			}
			break;

		case 5210: 
			characterobject.gf = false;
			this.a_hf = true;
			characterobject.pt = 0;
			if(characterobject.c3 == 100)
			{
				if(characterobject.c5 == 1)
				{
					var l78 = rightShiftIgnoreSign(k3, 5);
					var k84 = rightShiftIgnoreSign(l3, 5);
					for(var l2 = 0; l2 <= 3 && (this.maps.map_bg[l78][k84 + l2] == 0 || this.maps.map_bg[l78][k84 + l2] == 4); l2++)
						this.maps.putBGCode(l78, k84 + l2, 23);

					characterobject.c3 = 200;
				}
			} else
			if(characterobject.c5 == 0)
			{
				var i79 = rightShiftIgnoreSign(k3, 5);
				var l84 = rightShiftIgnoreSign(l3, 5);
				for(var i3 = 0; i3 <= 3 && this.maps.map_bg[i79][l84 + i3] == 23; i3++)
					this.maps.putBGCode(i79, l84 + i3, 0);

				characterobject.c3 = 100;
			}
			break;

		case 5300: 
			this.aMoveOption(i);
			k3 = characterobject.x;
			l3 = characterobject.y;
			break;
		}
		if(this.jm_kazu > 0)
		{
			for(var j3 = 0; j3 <= 8; j3++)
			{
				if(this.co_jm[j3].c < 100)
					continue;
				var characterobject1 = this.co_jm[j3];
				if(characterobject.c < 100)
					continue;
				if(characterobject.c < 200)
				{
					if(characterobject1.x + 15 < k3 || characterobject1.x > k3 + 64 || characterobject1.y + 19 < l3 || characterobject1.y + 4 > l3 + 23)
						continue;
					if(characterobject1.c == 200)
					{
						characterobject1.c = 50;
						characterobject1.y = l3 - 8;
						characterobject1.c1 = 1;
						characterobject1.c2 = 20;
					} else
					{
						characterobject1.c = 0;
						this.jm_kazu--;
					}
					continue;
				}
				if(characterobject.c == 300)
				{
					if(characterobject1.x + 15 < k3 || characterobject1.x > k3 + 48 || characterobject1.y + 29 < l3 || characterobject1.y + 2 > l3 + 31)
						continue;
					if(characterobject1.c == 200)
					{
						characterobject1.c = 50;
						characterobject1.c1 = 1;
						characterobject1.c2 = 20;
					} else
					{
						characterobject1.c = 0;
						this.jm_kazu--;
					}
					continue;
				}
				if(characterobject.c == 400 || characterobject.c == 410)
				{
					if(characterobject1.x + 15 < k3 || characterobject1.x > k3 + 80 || characterobject1.y + 19 < l3 || characterobject1.y + 4 > l3 + 63)
						continue;
					if(characterobject1.c == 200)
					{
						characterobject1.c = 50;
						characterobject1.c1 = 1;
						characterobject1.c2 = 20;
					} else
					{
						characterobject1.c = 0;
						this.jm_kazu--;
					}
					continue;
				}
				if(characterobject.c == 500)
				{
					if(characterobject1.x + 15 < k3 || characterobject1.x > k3 + 80 || characterobject1.y + 29 < l3 || characterobject1.y + 2 > l3 + 13)
						continue;
					if(characterobject1.c == 200)
					{
						characterobject1.c = 50;
						characterobject1.y = l3 - 8;
						characterobject1.c1 = 1;
						characterobject1.c2 = 20;
					} else
					{
						characterobject1.c = 0;
						this.jm_kazu--;
					}
					continue;
				}
				if(characterobject.c == 1800)
				{
					if(Math.sqrt(((characterobject1.x + 16) - k3) * ((characterobject1.x + 16) - k3)) > 56 || Math.sqrt(((characterobject1.y + 16) - l3) * ((characterobject1.y + 16) - l3)) > 56)
						continue;
					if(characterobject1.c == 200)
					{
						characterobject1.c = 50;
						characterobject1.c1 = 1;
						characterobject1.c2 = 20;
					} else
					{
						characterobject1.c = 0;
						this.jm_kazu--;
					}
					continue;
				}
				if(characterobject.c != 1850 || Math.sqrt(((characterobject1.x + 16) - k3) * ((characterobject1.x + 16) - k3)) > 96 || Math.sqrt(((characterobject1.y + 16) - l3) * ((characterobject1.y + 16) - l3)) > 96)
					continue;
				if(characterobject1.c == 200)
				{
					characterobject1.c = 50;
					characterobject1.c1 = 1;
					characterobject1.c2 = 20;
				} else
				{
					characterobject1.c = 0;
					this.jm_kazu--;
				}
			}

		}
		characterobject.x = k3;
		characterobject.y = l3;
	}

	if(this.souko_count1 >= 1 && this.souko_count2 >= this.souko_count1 && this.stage_cc < 1)
	{
		this.stage_cc = 1;
		this.souko_count3 = 1;
		if(this.stage_max >= 2 && this.stage >= this.stage_max)
			this.addScore(1000);
		else
			this.addScore(100);
		this.gs.rsAddSound(2);
	}
}

MainProgram.prototype.aMoveOption = function(i)
{
	var characterobject = this.co_a[i];
	var j = characterobject.x;
	var k = characterobject.y;
	switch(characterobject.c)
	{
	default:
		break;

	case 150: 
		if(j > this.maps.wx - 80 - 32 && j < this.maps.wx + 512 + 32 && k > this.maps.wy - 32 && k < this.maps.wy + 320 + 32)
		{
			characterobject.gf = true;
			this.a_hf = true;
			if((this.co_j.c >= 100 || this.co_j.c < 200) && this.co_j.x + 15 >= j && this.co_j.x + 15 <= j + 79 && this.co_j.y == k - 32)
				this.j_a_id = i;
		} else
		{
			characterobject.gf = false;
		}
		if(characterobject.c4 == 1)
		{
			if(characterobject.c3 == 0)
			{
				if(characterobject.c5 == 1)
					characterobject.c3 = 100;
			} else
			if(characterobject.c3 == 100)
			{
				if((k += 4) >= characterobject.vy + 128 + 8)
				{
					k = characterobject.vy + 128 + 8;
					characterobject.c3 = 200;
				}
			} else
			if(characterobject.c3 == 200)
			{
				if(characterobject.c5 == 0)
					characterobject.c3 = 300;
			} else
			if(characterobject.c3 == 300 && (k -= 4) <= characterobject.vy + 8)
			{
				k = characterobject.vy + 8;
				characterobject.c3 = 0;
			}
		} else
		if(characterobject.c4 == 2)
		{
			if(characterobject.c3 == 0)
			{
				if(characterobject.c5 == 1)
					characterobject.c3 = 100;
			} else
			if(characterobject.c3 == 100)
			{
				if((k -= 2) <= (characterobject.vy - 192) + 8)
				{
					k = (characterobject.vy - 192) + 8;
					characterobject.c3 = 200;
				}
			} else
			if(characterobject.c3 == 200)
			{
				if(characterobject.c5 == 0)
					characterobject.c3 = 300;
			} else
			if(characterobject.c3 == 300 && (k += 2) >= characterobject.vy + 8)
			{
				k = characterobject.vy + 8;
				characterobject.c3 = 0;
			}
		} else
		if(characterobject.c3 == 0)
		{
			if(characterobject.c5 == 1)
				characterobject.c3 = 100;
		} else
		if(characterobject.c3 == 100)
		{
			if((k -= 4) <= (characterobject.vy - 128) + 8)
			{
				k = (characterobject.vy - 128) + 8;
				characterobject.c3 = 200;
			}
		} else
		if(characterobject.c3 == 200)
		{
			if(characterobject.c5 == 0)
				characterobject.c3 = 300;
		} else
		if(characterobject.c3 == 300 && (k += 4) >= characterobject.vy + 8)
		{
			k = characterobject.vy + 8;
			characterobject.c3 = 0;
		}
		if(this.co_j.c >= 100 && this.co_j.c < 200)
		{
			if(this.j_a_id == i)
				this.co_j.y = k - 32;
			if(k < characterobject.y && this.maps.getBGCode(this.co_j.x + 15, this.co_j.y) >= 18)
			{
				this.co_j.y = rightShiftIgnoreSign(this.co_j.y, 5) * 32 + 16;
				this.jShinu(3);
			}
			if(this.co_j.x + 15 >= j && this.co_j.x <= j + 64 && this.co_j.y + 31 >= k && this.co_j.y <= k + 13)
				if(k > characterobject.y)
				{
					this.co_j.y = k + 14;
					if(this.maps.getBGCode(this.co_j.x + 15, this.co_j.y + 15) == 10 || this.maps.getBGCode(this.co_j.x + 15, this.co_j.y + 31) == 10)
						this.j_hashigo_f = true;
					if(this.maps.getBGCode(this.co_j.x + 15, this.co_j.y + 31) >= 18)
					{
						this.co_j.y = rightShiftIgnoreSign(this.co_j.y + 31, 5) * 32 - 32;
						this.jShinu(3);
					}
				} else
				{
					this.co_j.y = k - 32;
					this.j_a_id = i;
				}
		}
		break;

	case 160: 
		if(j > this.maps.wx - 80 - 32 && j < this.maps.wx + 512 + 32 && k > this.maps.wy - 32 && k < this.maps.wy + 320 + 32)
		{
			characterobject.gf = true;
			this.a_hf = true;
			if((this.co_j.c >= 100 || this.co_j.c < 200) && this.co_j.x + 15 >= j && this.co_j.x + 15 <= j + 79 && this.co_j.y == k - 32)
				this.j_a_id = i;
		} else
		{
			characterobject.gf = false;
		}
		if(characterobject.c4 == 0)
		{
			if(characterobject.c3 == 0)
			{
				if(characterobject.c5 == 1)
					characterobject.c3 = 100;
			} else
			if(characterobject.c3 == 100)
			{
				if((j += 4) >= characterobject.vx + 128 + 8)
				{
					j = characterobject.vx + 128 + 8;
					characterobject.c3 = 200;
				}
			} else
			if(characterobject.c3 == 200)
			{
				if(characterobject.c5 == 0)
					characterobject.c3 = 300;
			} else
			if(characterobject.c3 == 300 && (j -= 4) <= characterobject.vx + 8)
			{
				j = characterobject.vx + 8;
				characterobject.c3 = 0;
			}
		} else
		if(characterobject.c4 == 2)
		{
			if(characterobject.c3 == 0)
			{
				if(characterobject.c5 == 1)
					characterobject.c3 = 100;
			} else
			if(characterobject.c3 == 100)
			{
				if((j += 2) >= characterobject.vx + 192 + 8)
				{
					j = characterobject.vx + 192 + 8;
					characterobject.c3 = 200;
				}
			} else
			if(characterobject.c3 == 200)
			{
				if(characterobject.c5 == 0)
					characterobject.c3 = 300;
			} else
			if(characterobject.c3 == 300 && (j -= 2) <= characterobject.vx + 8)
			{
				j = characterobject.vx + 8;
				characterobject.c3 = 0;
			}
		} else
		if(characterobject.c3 == 0)
		{
			if(characterobject.c5 == 1)
				characterobject.c3 = 100;
		} else
		if(characterobject.c3 == 100)
		{
			if((j -= 4) <= (characterobject.vx - 128) + 8)
			{
				j = (characterobject.vx - 128) + 8;
				characterobject.c3 = 200;
			}
		} else
		if(characterobject.c3 == 200)
		{
			if(characterobject.c5 == 0)
				characterobject.c3 = 300;
		} else
		if(characterobject.c3 == 300 && (j += 4) >= characterobject.vx + 8)
		{
			j = characterobject.vx + 8;
			characterobject.c3 = 0;
		}
		if(this.co_j.c < 100 || this.co_j.c >= 200)
			break;
		if(this.j_a_id == i)
		{
			this.co_j.x += j - characterobject.x;
			if(j > characterobject.x)
			{
				var l = rightShiftIgnoreSign(this.co_j.x + 15, 5);
				var k3 = rightShiftIgnoreSign(this.co_j.y, 5);
				var l5 = rightShiftIgnoreSign(this.co_j.y + 31, 5);
				if(this.maps.map_bg[l][k3] >= 18 || this.maps.map_bg[l][l5] >= 18)
					this.co_j.x = l * 32 - 16;
			} else
			if(j < characterobject.x)
			{
				var i1 = rightShiftIgnoreSign(this.co_j.x + 15, 5);
				var l3 = rightShiftIgnoreSign(this.co_j.y, 5);
				var i6 = rightShiftIgnoreSign(this.co_j.y + 31, 5);
				if(this.maps.map_bg[i1][l3] >= 18 || this.maps.map_bg[i1][i6] >= 18)
					this.co_j.x = (i1 * 32 + 32) - 14;
			}
		}
		if(this.co_j.x + 15 < j || this.co_j.x > j + 64 || this.co_j.y + 31 < k || this.co_j.y > k + 13)
			break;
		if(j > characterobject.x)
		{
			this.co_j.x = j + 65;
			var j1 = rightShiftIgnoreSign(this.co_j.x + 15, 5);
			var i4 = rightShiftIgnoreSign(this.co_j.y, 5);
			var j6 = rightShiftIgnoreSign(this.co_j.y + 31, 5);
			if(this.maps.map_bg[j1][i4] >= 20 || this.maps.map_bg[j1][j6] >= 20)
			{
				this.co_j.x = (j1 * 32 - 32) + 11;
				this.jShinu(4);
			}
			break;
		}
		this.co_j.x = j - 16;
		var k1 = rightShiftIgnoreSign(this.co_j.x + 15, 5);
		var j4 = rightShiftIgnoreSign(this.co_j.y, 5);
		var k6 = rightShiftIgnoreSign(this.co_j.y + 31, 5);
		if(this.maps.map_bg[k1][j4] >= 20 || this.maps.map_bg[k1][k6] >= 20)
		{
			this.co_j.x = (k1 * 32 + 32) - 11;
			this.jShinu(4);
		}
		break;

	case 3700: 
		characterobject.gf = false;
		this.a_hf = true;
		characterobject.pt = 0;
		if(characterobject.c3 == 0)
		{
			this.maps.putBGCode(rightShiftIgnoreSign(j, 5), rightShiftIgnoreSign(k, 5), 213);
			characterobject.c3 = 100;
		}
		if(characterobject.c3 == 100)
		{
			if(characterobject.c5 == 1)
			{
				this.maps.putBGCode(rightShiftIgnoreSign(j, 5), rightShiftIgnoreSign(k, 5), 0);
				characterobject.c3 = 200;
			}
			break;
		}
		if(characterobject.c5 == 0)
		{
			this.maps.putBGCode(rightShiftIgnoreSign(j, 5), rightShiftIgnoreSign(k, 5), 213);
			characterobject.c3 = 100;
		}
		break;

	case 3710: 
		characterobject.gf = false;
		this.a_hf = true;
		characterobject.pt = 0;
		if(characterobject.c3 == 100)
		{
			if(characterobject.c5 == 1)
			{
				this.maps.putBGCode(rightShiftIgnoreSign(j, 5), rightShiftIgnoreSign(k, 5), 214);
				characterobject.c3 = 200;
			}
			break;
		}
		if(characterobject.c5 == 0)
		{
			this.maps.putBGCode(rightShiftIgnoreSign(j, 5), rightShiftIgnoreSign(k, 5), 0);
			characterobject.c3 = 100;
		}
		break;

	case 3800: 
		characterobject.gf = false;
		this.a_hf = true;
		characterobject.pt = 0;
		if(characterobject.c3 == 0)
		{
			var l7 = rightShiftIgnoreSign(j, 5);
			var l13 = rightShiftIgnoreSign(k, 5);
			for(var l19 = 0; l19 <= 3 && l7 + l19 <= this.mapWidth && (this.maps.map_bg[l7 + l19][l13] == 0 || this.maps.map_bg[l7 + l19][l13] == 4); l19++)
				this.maps.putBGCode(l7 + l19, l13, 5);

			characterobject.c3 = 100;
		}
		if(characterobject.c3 == 100)
		{
			if(characterobject.c5 != 1)
				break;
			var i8 = rightShiftIgnoreSign(j, 5);
			var i14 = rightShiftIgnoreSign(k, 5);
			for(var i20 = 0; i20 <= 3 && i8 + i20 <= this.mapWidth && (this.maps.map_bg[i8 + i20][i14] == 0 || this.maps.map_bg[i8 + i20][i14] == 4 || this.maps.map_bg[i8 + i20][i14] == 5); i20++)
				this.maps.putBGCode(i8 + i20, i14, 23);

			characterobject.c3 = 200;
			break;
		}
		if(characterobject.c5 != 0)
			break;
		var j8 = rightShiftIgnoreSign(j, 5);
		var j14 = rightShiftIgnoreSign(k, 5);
		for(var j20 = 0; j20 <= 3 && j8 + j20 <= this.mapWidth && (this.maps.map_bg[j8 + j20][j14] == 0 || this.maps.map_bg[j8 + j20][j14] == 4 || this.maps.map_bg[j8 + j20][j14] == 23); j20++)
			this.maps.putBGCode(j8 + j20, j14, 5);

		characterobject.c3 = 100;
		break;

	case 3810: 
		characterobject.gf = false;
		this.a_hf = true;
		characterobject.pt = 0;
		if(characterobject.c3 == 0)
		{
			var k8 = rightShiftIgnoreSign(j, 5);
			var k14 = rightShiftIgnoreSign(k, 5);
			for(var k20 = 0; k20 <= 3 && k8 + k20 <= this.mapWidth && (this.maps.map_bg[k8 + k20][k14] == 0 || this.maps.map_bg[k8 + k20][k14] == 4); k20++)
				this.maps.putBGCode(k8 + k20, k14, 23);

			characterobject.c3 = 100;
		}
		if(characterobject.c3 == 100)
		{
			if(characterobject.c5 != 1)
				break;
			var l8 = rightShiftIgnoreSign(j, 5);
			var l14 = rightShiftIgnoreSign(k, 5);
			for(var l20 = 0; l20 <= 3 && l8 + l20 <= this.mapWidth && (this.maps.map_bg[l8 + l20][l14] == 0 || this.maps.map_bg[l8 + l20][l14] == 4 || this.maps.map_bg[l8 + l20][l14] == 23); l20++)
				this.maps.putBGCode(l8 + l20, l14, 5);

			characterobject.c3 = 200;
			break;
		}
		if(characterobject.c5 != 0)
			break;
		var i9 = rightShiftIgnoreSign(j, 5);
		var i15 = rightShiftIgnoreSign(k, 5);
		for(var i21 = 0; i21 <= 3 && i9 + i21 <= this.mapWidth && (this.maps.map_bg[i9 + i21][i15] == 0 || this.maps.map_bg[i9 + i21][i15] == 4 || this.maps.map_bg[i9 + i21][i15] == 5); i21++)
			this.maps.putBGCode(i9 + i21, i15, 23);

		characterobject.c3 = 100;
		break;

	case 3900: 
		characterobject.gf = false;
		this.a_hf = true;
		characterobject.pt = 0;
		if(characterobject.c3 == 0)
		{
			var j9 = rightShiftIgnoreSign(j, 5);
			var j15 = rightShiftIgnoreSign(k, 5);
			for(var j21 = 0; j21 <= 3 && j9 + j21 <= this.mapWidth && (this.maps.map_bg[j9 + j21][j15] == 0 || this.maps.map_bg[j9 + j21][j15] == 4); j21++)
				this.maps.putBGCode(j9 + j21, j15, 6);

			characterobject.c3 = 100;
		}
		if(characterobject.c3 == 100)
		{
			if(characterobject.c5 != 1)
				break;
			var k9 = rightShiftIgnoreSign(j, 5);
			var k15 = rightShiftIgnoreSign(k, 5);
			for(var k21 = 0; k21 <= 3 && k9 + k21 <= this.mapWidth && this.maps.map_bg[k9 + k21][k15] == 6; k21++)
				this.maps.putBGCode(k9 + k21, k15, 0);

			characterobject.c3 = 200;
			break;
		}
		if(characterobject.c5 != 0)
			break;
		var l9 = rightShiftIgnoreSign(j, 5);
		var l15 = rightShiftIgnoreSign(k, 5);
		for(var l21 = 0; l21 <= 3 && l9 + l21 <= this.mapWidth && (this.maps.map_bg[l9 + l21][l15] == 0 || this.maps.map_bg[l9 + l21][l15] == 4); l21++)
			this.maps.putBGCode(l9 + l21, l15, 6);

		characterobject.c3 = 100;
		break;

	case 3910: 
		characterobject.gf = false;
		this.a_hf = true;
		characterobject.pt = 0;
		if(characterobject.c3 == 100)
		{
			if(characterobject.c5 != 1)
				break;
			var i10 = rightShiftIgnoreSign(j, 5);
			var i16 = rightShiftIgnoreSign(k, 5);
			for(var i22 = 0; i22 <= 3 && i10 + i22 <= this.mapWidth && (this.maps.map_bg[i10 + i22][i16] == 0 || this.maps.map_bg[i10 + i22][i16] == 4); i22++)
				this.maps.putBGCode(i10 + i22, i16, 6);

			characterobject.c3 = 200;
			break;
		}
		if(characterobject.c5 != 0)
			break;
		var j10 = rightShiftIgnoreSign(j, 5);
		var j16 = rightShiftIgnoreSign(k, 5);
		for(var j22 = 0; j22 <= 3 && j10 + j22 <= this.mapWidth && this.maps.map_bg[j10 + j22][j16] == 6; j22++)
			this.maps.putBGCode(j10 + j22, j16, 0);

		characterobject.c3 = 100;
		break;

	case 4000: 
		characterobject.gf = false;
		this.a_hf = true;
		characterobject.pt = 0;
		if(characterobject.c3 == 0)
		{
			var k10 = rightShiftIgnoreSign(j, 5);
			var k16 = rightShiftIgnoreSign(k, 5);
			for(var k22 = 0; k22 <= 9 && k16 + k22 <= this.mapHeight + 9 && (this.maps.map_bg[k10][k16 + k22] == 0 || this.maps.map_bg[k10][k16 + k22] == 4); k22++)
				this.maps.putBGCode(k10, k16 + k22, 10);

			characterobject.c3 = 100;
		}
		if(characterobject.c3 == 100)
		{
			if(characterobject.c5 != 1)
				break;
			var l10 = rightShiftIgnoreSign(j, 5);
			var l16 = rightShiftIgnoreSign(k, 5);
			for(var l22 = 0; l22 <= 9 && l16 + l22 <= this.mapHeight + 9 && this.maps.map_bg[l10][l16 + l22] == 10; l22++)
				this.maps.putBGCode(l10, l16 + l22, 0);

			characterobject.c3 = 200;
			break;
		}
		if(characterobject.c5 != 0)
			break;
		var i11 = rightShiftIgnoreSign(j, 5);
		var i17 = rightShiftIgnoreSign(k, 5);
		for(var i23 = 0; i23 <= 9 && i17 + i23 <= this.mapHeight + 9 && (this.maps.map_bg[i11][i17 + i23] == 0 || this.maps.map_bg[i11][i17 + i23] == 4); i23++)
			this.maps.putBGCode(i11, i17 + i23, 10);

		characterobject.c3 = 100;
		break;

	case 4010: 
		characterobject.gf = false;
		this.a_hf = true;
		characterobject.pt = 0;
		if(characterobject.c3 == 100)
		{
			if(characterobject.c5 != 1)
				break;
			var j11 = rightShiftIgnoreSign(j, 5);
			var j17 = rightShiftIgnoreSign(k, 5);
			for(var j23 = 0; j23 <= 9 && j17 + j23 <= this.mapHeight + 9 && (this.maps.map_bg[j11][j17 + j23] == 0 || this.maps.map_bg[j11][j17 + j23] == 4); j23++)
				this.maps.putBGCode(j11, j17 + j23, 10);

			characterobject.c3 = 200;
			break;
		}
		if(characterobject.c5 != 0)
			break;
		var k11 = rightShiftIgnoreSign(j, 5);
		var k17 = rightShiftIgnoreSign(k, 5);
		for(var k23 = 0; k23 <= 9 && k17 + k23 <= this.mapHeight + 9 && this.maps.map_bg[k11][k17 + k23] == 10; k23++)
			this.maps.putBGCode(k11, k17 + k23, 0);

		characterobject.c3 = 100;
		break;

	case 4100: 
		if(j > this.maps.wx - 64 && j < this.maps.wx + 512 + 32 && k > this.maps.wy - 128 && k < this.maps.wy + 320 + 32 + 128)
		{
			characterobject.gf = true;
			this.a_hf = true;
		} else
		{
			characterobject.gf = false;
		}
		if(characterobject.c3 == 0)
			characterobject.c3 = 100;
		if(characterobject.c3 == 100)
		{
			characterobject.pt = 3800;
			if(this.co_j.c >= 100 && this.co_j.c < 200 && this.co_j.x + 15 >= j && this.co_j.x + 15 <= j + 31 && this.co_j.y + 31 >= k && this.co_j.y <= k + 127 && this.j_muteki_c <= 0)
			{
				this.setMyHPDamage("1");
				if(this.getMyHP() <= 0)
					this.jShinu(1);
			}
			if(characterobject.c5 == 1)
			{
				characterobject.pt = 0;
				characterobject.c3 = 200;
			}
			break;
		}
		characterobject.pt = 0;
		if(characterobject.c5 == 0)
		{
			characterobject.pt = 3800;
			characterobject.c3 = 100;
		}
		break;

	case 4110: 
		if(j > this.maps.wx - 64 && j < this.maps.wx + 512 + 32 && k > this.maps.wy - 128 && k < this.maps.wy + 320 + 32 + 128)
		{
			characterobject.gf = true;
			this.a_hf = true;
		} else
		{
			characterobject.gf = false;
		}
		if(characterobject.c3 == 0)
			characterobject.c3 = 100;
		if(characterobject.c3 == 100)
		{
			characterobject.pt = 0;
			if(characterobject.c5 == 1)
			{
				characterobject.pt = 3800;
				characterobject.c3 = 200;
			}
			break;
		}
		characterobject.pt = 3800;
		if(this.co_j.c >= 100 && this.co_j.c < 200 && this.co_j.x + 15 >= j && this.co_j.x + 15 <= j + 31 && this.co_j.y + 31 >= k && this.co_j.y <= k + 127 && this.j_muteki_c <= 0)
		{
			this.setMyHPDamage("1");
			if(this.getMyHP() <= 0)
				this.jShinu(1);
		}
		if(characterobject.c5 == 0)
		{
			characterobject.pt = 0;
			characterobject.c3 = 100;
		}
		break;

	case 4200: 
		if(j > this.maps.wx - 128 && j < this.maps.wx + 512 + 32 && k > this.maps.wy - 64 && k < this.maps.wy + 320 + 32 + 128)
		{
			characterobject.gf = true;
			this.a_hf = true;
		} else
		{
			characterobject.gf = false;
		}
		if(characterobject.c3 == 0)
			characterobject.c3 = 100;
		if(characterobject.c3 == 100)
		{
			characterobject.pt = 3900;
			if(this.co_j.c >= 100 && this.co_j.c < 200 && this.co_j.x + 15 >= j && this.co_j.x + 15 <= j + 127 && this.co_j.y + 31 >= k && this.co_j.y <= k + 31 && this.j_muteki_c <= 0)
			{
				this.setMyHPDamage("1");
				if(this.getMyHP() <= 0)
					this.jShinu(1);
			}
			if(characterobject.c5 == 1)
			{
				characterobject.pt = 0;
				characterobject.c3 = 200;
			}
			break;
		}
		characterobject.pt = 0;
		if(characterobject.c5 == 0)
		{
			characterobject.pt = 3900;
			characterobject.c3 = 100;
		}
		break;

	case 4210: 
		if(j > this.maps.wx - 128 && j < this.maps.wx + 512 + 32 && k > this.maps.wy - 64 && k < this.maps.wy + 320 + 32 + 128)
		{
			characterobject.gf = true;
			this.a_hf = true;
		} else
		{
			characterobject.gf = false;
		}
		if(characterobject.c3 == 0)
			characterobject.c3 = 100;
		if(characterobject.c3 == 100)
		{
			characterobject.pt = 0;
			if(characterobject.c5 == 1)
			{
				characterobject.pt = 3900;
				characterobject.c3 = 200;
			}
			break;
		}
		characterobject.pt = 3900;
		if(this.co_j.c >= 100 && this.co_j.c < 200 && this.co_j.x + 15 >= j && this.co_j.x + 15 <= j + 127 && this.co_j.y + 31 >= k && this.co_j.y <= k + 31 && this.j_muteki_c <= 0)
		{
			this.setMyHPDamage("1");
			if(this.getMyHP() <= 0)
				this.jShinu(1);
		}
		if(characterobject.c5 == 0)
		{
			characterobject.pt = 0;
			characterobject.c3 = 100;
		}
		break;

	case 4300: 
		if(characterobject.vy == 0)
		{
			if(characterobject.c5 == 1)
				characterobject.vy = 1;
		} else
		if(characterobject.vy == 1)
		{
			if(characterobject.c4 == 0)
			{
				characterobject.c3 -= 2;
				if(characterobject.c3 <= 180)
				{
					characterobject.c3 = 180;
					characterobject.vy = 100;
				}
			} else
			if(characterobject.c4 == 1)
			{
				characterobject.c3 += 2;
				if(characterobject.c3 >= 360)
				{
					characterobject.c3 = 360;
					characterobject.vy = 100;
				}
			} else
			if(characterobject.c4 == 2)
			{
				characterobject.c3 += 2;
				if(characterobject.c3 >= 270)
				{
					characterobject.c3 = 270;
					characterobject.vy = 100;
				}
			} else
			if(characterobject.c4 == 3)
			{
				characterobject.c3 -= 2;
				if(characterobject.c3 <= 270)
				{
					characterobject.c3 = 270;
					characterobject.vy = 100;
				}
			} else
			if(characterobject.c4 == 4)
			{
				characterobject.c3 -= 2;
				if(characterobject.c3 <= 90)
				{
					characterobject.c3 = 90;
					characterobject.vy = 100;
				}
			} else
			if(characterobject.c4 == 5)
			{
				characterobject.c3 += 2;
				if(characterobject.c3 >= 90)
				{
					characterobject.c3 = 90;
					characterobject.vy = 100;
				}
			} else
			if(characterobject.c4 == 6)
			{
				characterobject.c3 += 2;
				if(characterobject.c3 >= 180)
				{
					characterobject.c3 = 180;
					characterobject.vy = 100;
				}
			} else
			if(characterobject.c4 == 7)
			{
				characterobject.c3 -= 2;
				if(characterobject.c3 <= 0)
				{
					characterobject.c3 = 0;
					characterobject.vy = 100;
				}
			} else
			if(characterobject.c4 == 10)
			{
				characterobject.c3 -= 2;
				if(characterobject.c3 <= 180)
				{
					characterobject.c3 = 180;
					characterobject.vy = 100;
				}
			} else
			if(characterobject.c4 == 11)
			{
				characterobject.c3 += 2;
				if(characterobject.c3 >= 360)
				{
					characterobject.c3 = 360;
					characterobject.vy = 100;
				}
			} else
			if(characterobject.c4 == 12)
			{
				characterobject.c3 += 2;
				if(characterobject.c3 >= 180)
				{
					characterobject.c3 = 180;
					characterobject.vy = 100;
				}
			} else
			if(characterobject.c4 == 13)
			{
				characterobject.c3 -= 2;
				if(characterobject.c3 <= 0)
				{
					characterobject.c3 = 0;
					characterobject.vy = 100;
				}
			} else
			if(characterobject.c4 == 14)
			{
				characterobject.c3 -= 2;
				if(characterobject.c3 <= 90)
				{
					characterobject.c3 = 90;
					characterobject.vy = 100;
				}
			} else
			if(characterobject.c4 == 15)
			{
				characterobject.c3 += 2;
				if(characterobject.c3 >= 360)
					characterobject.c3 -= 360;
				if(characterobject.c3 == 90)
					characterobject.vy = 100;
			} else
			if(characterobject.c4 == 16)
			{
				characterobject.c3 += 2;
				if(characterobject.c3 >= 270)
				{
					characterobject.c3 = 270;
					characterobject.vy = 100;
				}
			} else
			if(characterobject.c4 == 17)
			{
				characterobject.c3 -= 2;
				if(characterobject.c3 < 0)
					characterobject.c3 += 360;
				if(characterobject.c3 == 270)
					characterobject.vy = 100;
			}
		} else
		if(characterobject.vy == 100)
		{
			if(characterobject.c5 == 0)
				characterobject.vy = 101;
		} else
		if(characterobject.vy == 101)
			if(characterobject.c4 == 0)
			{
				characterobject.c3 += 2;
				if(characterobject.c3 >= 270)
				{
					characterobject.c3 = 270;
					characterobject.vy = 0;
				}
			} else
			if(characterobject.c4 == 1)
			{
				characterobject.c3 -= 2;
				if(characterobject.c3 <= 270)
				{
					characterobject.c3 = 270;
					characterobject.vy = 0;
				}
			} else
			if(characterobject.c4 == 2)
			{
				characterobject.c3 -= 2;
				if(characterobject.c3 <= 180)
				{
					characterobject.c3 = 180;
					characterobject.vy = 0;
				}
			} else
			if(characterobject.c4 == 3)
			{
				characterobject.c3 += 2;
				if(characterobject.c3 >= 360)
				{
					characterobject.c3 = 360;
					characterobject.vy = 0;
				}
			} else
			if(characterobject.c4 == 4)
			{
				characterobject.c3 += 2;
				if(characterobject.c3 >= 180)
				{
					characterobject.c3 = 180;
					characterobject.vy = 0;
				}
			} else
			if(characterobject.c4 == 5)
			{
				characterobject.c3 -= 2;
				if(characterobject.c3 <= 0)
				{
					characterobject.c3 = 0;
					characterobject.vy = 0;
				}
			} else
			if(characterobject.c4 == 6)
			{
				characterobject.c3 -= 2;
				if(characterobject.c3 <= 90)
				{
					characterobject.c3 = 90;
					characterobject.vy = 0;
				}
			} else
			if(characterobject.c4 == 7)
			{
				characterobject.c3 += 2;
				if(characterobject.c3 >= 90)
				{
					characterobject.c3 = 90;
					characterobject.vy = 0;
				}
			} else
			if(characterobject.c4 == 10)
			{
				characterobject.c3 += 2;
				if(characterobject.c3 >= 360)
				{
					characterobject.c3 = 360;
					characterobject.vy = 0;
				}
			} else
			if(characterobject.c4 == 11)
			{
				characterobject.c3 -= 2;
				if(characterobject.c3 <= 180)
				{
					characterobject.c3 = 180;
					characterobject.vy = 0;
				}
			} else
			if(characterobject.c4 == 12)
			{
				characterobject.c3 -= 2;
				if(characterobject.c3 <= 0)
				{
					characterobject.c3 = 0;
					characterobject.vy = 0;
				}
			} else
			if(characterobject.c4 == 13)
			{
				characterobject.c3 += 2;
				if(characterobject.c3 >= 180)
				{
					characterobject.c3 = 180;
					characterobject.vy = 0;
				}
			} else
			if(characterobject.c4 == 14)
			{
				characterobject.c3 += 2;
				if(characterobject.c3 >= 270)
				{
					characterobject.c3 = 270;
					characterobject.vy = 0;
				}
			} else
			if(characterobject.c4 == 15)
			{
				characterobject.c3 -= 2;
				if(characterobject.c3 < 0)
					characterobject.c3 += 360;
				if(characterobject.c3 == 270)
					characterobject.vy = 0;
			} else
			if(characterobject.c4 == 16)
			{
				characterobject.c3 -= 2;
				if(characterobject.c3 <= 90)
				{
					characterobject.c3 = 90;
					characterobject.vy = 0;
				}
			} else
			if(characterobject.c4 == 17)
			{
				characterobject.c3 += 2;
				if(characterobject.c3 >= 360)
					characterobject.c3 -= 360;
				if(characterobject.c3 == 90)
					characterobject.vy = 0;
			}
		if(j > this.maps.wx - 150 && j < this.maps.wx + 512 + 150 && k > this.maps.wy - 150 && k < this.maps.wy + 320 + 150)
		{
			characterobject.gf = true;
			this.a_hf = true;
			characterobject.pt = 1100;
			var i25;
			var k25;
			var i26;
			var k26;
			if(Math.abs(characterobject.vx) == 2)
			{
				var d = 0.017453292519943295;
				i25 = j + Math.floor(Math.cos(characterobject.c3 * d) * 25);
				k25 = k + Math.floor(Math.sin(characterobject.c3 * d) * 25);
				this.vo_x[i][0] = i25;
				this.vo_y[i][0] = k25;
				i26 = j + Math.floor(Math.cos(characterobject.c3 * d) * 172);
				k26 = k + Math.floor(Math.sin(characterobject.c3 * d) * 172);
				this.vo_x[i][1] = i26;
				this.vo_y[i][1] = k26;
				this.vo_x[i][2] = j + (Math.cos(characterobject.c3 * d) * 31);
				this.vo_y[i][2] = k + (Math.sin(characterobject.c3 * d) * 31);
				this.vo_x[i][3] = j + (Math.cos(characterobject.c3 * d) * 166);
				this.vo_y[i][3] = k + (Math.sin(characterobject.c3 * d) * 166);
			} else
			{
				var d1 = 0.017453292519943295;
				i25 = j + Math.floor(Math.cos(characterobject.c3 * d1) * 25);
				k25 = k + Math.floor(Math.sin(characterobject.c3 * d1) * 25);
				this.vo_x[i][0] = i25;
				this.vo_y[i][0] = k25;
				i26 = j + Math.floor(Math.cos(characterobject.c3 * d1) * 140);
				k26 = k + Math.floor(Math.sin(characterobject.c3 * d1) * 140);
				this.vo_x[i][1] = i26;
				this.vo_y[i][1] = k26;
				this.vo_x[i][2] = j + (Math.cos(characterobject.c3 * d1) * 31);
				this.vo_y[i][2] = k + (Math.sin(characterobject.c3 * d1) * 31);
				this.vo_x[i][3] = j + (Math.cos(characterobject.c3 * d1) * 134);
				this.vo_y[i][3] = k + (Math.sin(characterobject.c3 * d1) * 134);
			}
			if(this.co_j.c < 100 || this.co_j.c >= 200 || this.j_v_c > 0)
				break;
			if(Math.abs(i25 - i26) >= Math.abs(k25 - k26))
			{
				if(this.co_j.x + 15 > i25 && this.co_j.x + 15 < i26)
				{
					var l1 = i26 - i25;
					var k4 = (this.co_j.x + 15) - i25;
					var l6 = k26 - k25;
					var i27 = rounddown((k4 * l6) / l1) + k25;
					if(i27 > this.co_j.y - 12 && i27 < this.co_j.y + 44)
						this.jShinu(1);
					break;
				}
				if(this.co_j.x + 15 <= i26 || this.co_j.x + 15 >= i25)
					break;
				var i2 = i25 - i26;
				var l4 = (this.co_j.x + 15) - i26;
				var i7 = k25 - k26;
				var j27 = rounddown((l4 * i7) / i2) + k26;
				if(j27 > this.co_j.y - 12 && j27 < this.co_j.y + 44)
					this.jShinu(1);
				break;
			}
			if(this.co_j.y + 15 > k25 && this.co_j.y + 15 < k26)
			{
				var j2 = k26 - k25;
				var i5 = (this.co_j.y + 15) - k25;
				var j7 = i26 - i25;
				var k27 = rounddown((i5 * j7) / j2) + i25;
				if(k27 > this.co_j.x - 12 && k27 < this.co_j.x + 44)
					this.jShinu(1);
				break;
			}
			if(this.co_j.y + 15 <= k26 || this.co_j.y + 15 >= k25)
				break;
			var k2 = k25 - k26;
			var j5 = (this.co_j.y + 15) - k26;
			var k7 = i25 - i26;
			var l27 = rounddown((j5 * k7) / k2) + i26;
			if(l27 > this.co_j.x - 12 && l27 < this.co_j.x + 44)
				this.jShinu(1);
		} else
		{
			characterobject.gf = false;
		}
		break;

	case 4400: 
		characterobject.gf = false;
		this.a_hf = true;
		characterobject.pt = 0;
		if(characterobject.c3 == 0)
		{
			var l11 = rightShiftIgnoreSign(j, 5);
			var l17 = rightShiftIgnoreSign(k, 5);
			for(var l23 = 0; l23 <= 3 && l11 + l23 <= this.mapWidth && (this.maps.map_bg[l11 + l23][l17] == 0 || this.maps.map_bg[l11 + l23][l17] == 4); l23++)
				this.maps.putBGCode(l11 + l23, l17, 23);

			characterobject.c3 = 100;
		}
		if(characterobject.c3 == 100)
		{
			if(characterobject.c5 != 1)
				break;
			var i12 = rightShiftIgnoreSign(j, 5);
			var i18 = rightShiftIgnoreSign(k, 5);
			for(var i24 = 0; i24 <= 3 && i12 + i24 <= this.mapWidth && this.maps.map_bg[i12 + i24][i18] == 23; i24++)
				this.maps.putBGCode(i12 + i24, i18, 0);

			characterobject.c3 = 200;
			break;
		}
		if(characterobject.c5 != 0)
			break;
		var j12 = rightShiftIgnoreSign(j, 5);
		var j18 = rightShiftIgnoreSign(k, 5);
		for(var j24 = 0; j24 <= 3 && j12 + j24 <= this.mapWidth && (this.maps.map_bg[j12 + j24][j18] == 0 || this.maps.map_bg[j12 + j24][j18] == 4); j24++)
			this.maps.putBGCode(j12 + j24, j18, 23);

		characterobject.c3 = 100;
		break;

	case 4410: 
		characterobject.gf = false;
		this.a_hf = true;
		characterobject.pt = 0;
		if(characterobject.c3 == 100)
		{
			if(characterobject.c5 != 1)
				break;
			var k12 = rightShiftIgnoreSign(j, 5);
			var k18 = rightShiftIgnoreSign(k, 5);
			for(var k24 = 0; k24 <= 3 && k12 + k24 <= this.mapWidth && (this.maps.map_bg[k12 + k24][k18] == 0 || this.maps.map_bg[k12 + k24][k18] == 4); k24++)
				this.maps.putBGCode(k12 + k24, k18, 23);

			characterobject.c3 = 200;
			break;
		}
		if(characterobject.c5 != 0)
			break;
		var l12 = rightShiftIgnoreSign(j, 5);
		var l18 = rightShiftIgnoreSign(k, 5);
		for(var l24 = 0; l24 <= 3 && l12 + l24 <= this.mapWidth && this.maps.map_bg[l12 + l24][l18] == 23; l24++)
			this.maps.putBGCode(l12 + l24, l18, 0);

		characterobject.c3 = 100;
		break;

	case 4500: 
		if(j > this.maps.wx - 230 && j < this.maps.wx + 512 + 230 && k > this.maps.wy - 230 && k < this.maps.wy + 320 + 230)
		{
			characterobject.gf = true;
			this.a_hf = true;
			characterobject.pt = 4000;
		} else
		{
			characterobject.gf = false;
		}
		if(characterobject.vx == 0 || characterobject.vx == 2)
		{
			if(characterobject.c3 == 0)
			{
				if(characterobject.c5 == 1)
					characterobject.c3 = 100;
			} else
			if(characterobject.c3 == 100)
			{
				characterobject.vy--;
				if(characterobject.vx == 2)
					characterobject.vy--;
				if(characterobject.vy <= 218)
				{
					characterobject.vy = 218;
					characterobject.c3 = 200;
				}
			} else
			if(characterobject.c3 == 200)
			{
				if(characterobject.c5 == 0)
					characterobject.c3 = 300;
			} else
			if(characterobject.c3 == 300)
			{
				characterobject.vy++;
				if(characterobject.vx == 2)
					characterobject.vy++;
				if(characterobject.vy >= 322)
				{
					characterobject.vy = 322;
					characterobject.c3 = 0;
				}
			}
		} else
		if(characterobject.vx == 1 || characterobject.vx == 3)
		{
			if(characterobject.c3 == 0)
			{
				if(characterobject.c5 == 1)
					characterobject.c3 = 100;
			} else
			if(characterobject.c3 == 100)
			{
				characterobject.vy++;
				if(characterobject.vx == 3)
					characterobject.vy++;
				if(characterobject.vy >= 322)
				{
					characterobject.vy = 322;
					characterobject.c3 = 200;
				}
			} else
			if(characterobject.c3 == 200)
			{
				if(characterobject.c5 == 0)
					characterobject.c3 = 300;
			} else
			if(characterobject.c3 == 300)
			{
				characterobject.vy--;
				if(characterobject.vx == 3)
					characterobject.vy--;
				if(characterobject.vy <= 218)
				{
					characterobject.vy = 218;
					characterobject.c3 = 0;
				}
			}
		} else
		if(characterobject.vx == 10)
		{
			if(characterobject.c3 == 0)
			{
				if(characterobject.c5 == 1)
					characterobject.c3 = 100;
			} else
			if(characterobject.c3 == 100)
			{
				characterobject.vy++;
				if(characterobject.vy >= 270)
				{
					characterobject.vy = 270;
					characterobject.c3 = 200;
				}
			} else
			if(characterobject.c3 == 200)
			{
				if(characterobject.c5 == 0)
					characterobject.c3 = 300;
			} else
			if(characterobject.c3 == 300)
			{
				characterobject.vy--;
				if(characterobject.vy <= 218)
				{
					characterobject.vy = 218;
					characterobject.c3 = 0;
				}
			}
		} else
		if(characterobject.vx == 11)
		{
			if(characterobject.c3 == 0)
			{
				if(characterobject.c5 == 1)
					characterobject.c3 = 100;
			} else
			if(characterobject.c3 == 100)
			{
				characterobject.vy--;
				if(characterobject.vy <= 218)
				{
					characterobject.vy = 218;
					characterobject.c3 = 200;
				}
			} else
			if(characterobject.c3 == 200)
			{
				if(characterobject.c5 == 0)
					characterobject.c3 = 300;
			} else
			if(characterobject.c3 == 300)
			{
				characterobject.vy++;
				if(characterobject.vy >= 270)
				{
					characterobject.vy = 270;
					characterobject.c3 = 0;
				}
			}
		} else
		if(characterobject.vx == 12)
		{
			if(characterobject.c3 == 0)
			{
				if(characterobject.c5 == 1)
					characterobject.c3 = 100;
			} else
			if(characterobject.c3 == 100)
			{
				characterobject.vy--;
				if(characterobject.vy <= 270)
				{
					characterobject.vy = 270;
					characterobject.c3 = 200;
				}
			} else
			if(characterobject.c3 == 200)
			{
				if(characterobject.c5 == 0)
					characterobject.c3 = 300;
			} else
			if(characterobject.c3 == 300)
			{
				characterobject.vy++;
				if(characterobject.vy >= 322)
				{
					characterobject.vy = 322;
					characterobject.c3 = 0;
				}
			}
		} else
		if(characterobject.vx == 13)
			if(characterobject.c3 == 0)
			{
				if(characterobject.c5 == 1)
					characterobject.c3 = 100;
			} else
			if(characterobject.c3 == 100)
			{
				characterobject.vy++;
				if(characterobject.vy >= 322)
				{
					characterobject.vy = 322;
					characterobject.c3 = 200;
				}
			} else
			if(characterobject.c3 == 200)
			{
				if(characterobject.c5 == 0)
					characterobject.c3 = 300;
			} else
			if(characterobject.c3 == 300)
			{
				characterobject.vy--;
				if(characterobject.vy <= 270)
				{
					characterobject.vy = 270;
					characterobject.c3 = 0;
				}
			}
		var j25 = j + Math.floor(Math.cos(((characterobject.vy + 17) * 3.1415926535897931) / 180) * 224);
		var l25 = k + Math.floor(Math.sin(((characterobject.vy + 17) * 3.1415926535897931) / 180) * 224);
		var j26 = j + Math.floor(Math.cos(((characterobject.vy - 17) * 3.1415926535897931) / 180) * 224);
		var l26 = k + Math.floor(Math.sin(((characterobject.vy - 17) * 3.1415926535897931) / 180) * 224);
		j25 += Math.floor(Math.cos((characterobject.vy * 3.1415926535897931) / 180) * 12);
		l25 += Math.floor(Math.sin((characterobject.vy * 3.1415926535897931) / 180) * 12);
		j26 += Math.floor(Math.cos((characterobject.vy * 3.1415926535897931) / 180) * 12);
		l26 += Math.floor(Math.sin((characterobject.vy * 3.1415926535897931) / 180) * 12);
		this.setYukaPosition(String(characterobject.c4), String(j26), String(l26), String(j25), String(l25));
		break;

	case 4900: 
		if(j > this.maps.wx - 32 && j < this.maps.wx + 512 && k > this.maps.wy - 32 && k < this.maps.wy + 320)
		{
			characterobject.gf = true;
			this.a_hf = true;
			if(this.km.mode == 50)
			{
				if(this.co_j.x < j - 80 - 8 || this.co_j.x > j + 64 + 8)
					this.km.mode = 100;
				break;
			}
			if(this.km.mode == 100)
			{
				if(this.co_j.x < j - 80 || this.co_j.x > j + 64 || Math.abs(k - this.co_j.y) >= 8 || this.gk.tr1_f)
					break;
				if(characterobject.c3 == 0)
				{
					this.km.init1(3);
					this.km.setMessage(3, this.tdb.getValue("serifu_key1_on_name"));
					this.addSerifu2(3, "serifu_key1_on-", 3);
					this.km.activeSerifu(3, 168, 40, 272, Color.cyan);
					this.km.mode = 200;
				} else
				{
					this.km.init1(3);
					this.km.setMessage(3, this.tdb.getValue("serifu_key1_on_name"));
					this.addSerifu2(3, "serifu_key1_on-", 8, 10);
					this.km.activeSerifu(3, 168, 40, 252, Color.cyan);
					this.km.mode = 250;
				}
				this.km.move();
				break;
			}
			if(this.km.mode == 200)
			{
				if(this.km.cancel_c == 1)
				{
					this.km.off(3);
					this.km.mode = 50;
					break;
				}
				if(this.co_j.x < j - 80 - 8 || this.co_j.x > j + 64 + 8 || Math.abs(k - this.co_j.y) > 16)
				{
					this.km.off(3);
					this.km.mode = 50;
					break;
				}
				if(this.km.kettei_c != 1)
					break;
				this.co_j.c = 150;
				if(this.co_j.x <= j || this.maps.getBGCode(j + 48, k) >= 18)
				{
					if(this.maps.getBGCode(j - 16, k) >= 18)
					{
						this.co_j.x = j - 15;
						this.co_j.muki = 1;
					} else
					{
						this.co_j.x = j - 48;
						this.co_j.muki = 1;
					}
				} else
				{
					this.co_j.x = j + 48;
					this.co_j.muki = 0;
				}
				this.co_j.y = k;
				this.co_j.vx = 0;
				this.co_j.vy = 0;
				this.co_j.pt = 100;
				this.setmyw_pt = this.co_j.pt;
				this.setmyw_muki = this.co_j.muki;
				this.co_j.c1 = 10;
				this.km.init1(7);
				this.km.setMessage(7, this.tdb.getValue("serifu_key1_on-4"));
				this.km.addItem(7, this.tdb.getValue("serifu_key1_on-5"));
				this.km.addItem(7, this.tdb.getValue("serifu_key1_on-6"));
				this.km.active(7, 268, 86, 228);
				this.km.mode = 220;
				break;
			}
			if(this.km.mode == 220)
			{
				this.co_j.c1 = 10;
				if(this.km.cancel_c == 1)
				{
					this.km.offActivewindow(7, 3);
					this.km.mode = 200;
					break;
				}
				if(this.km.kettei_c != 1)
					break;
				if(this.km.selectedIndex[7] == 0)
				{
					var l2 = this.tdb.getValueInt("key1_on_count");
					if(l2 < 1)
						l2 = 1;
					else
					if(l2 > 5)
						l2 = 5;
					if(this.dkey_count[0] >= l2)
					{
						this.km.init1(8);
						this.km.setMessage(8, this.tdb.getValue("serifu_key1_on_name"));
						this.addSerifu2(8, "serifu_key1_on-", 8, 10);
						this.km.activeSerifu(8, 8, 86, 252, Color.cyan);
						this.dkey_count[0] -= l2;
						this.gs.rsAddSound(13);
						var i13 = rightShiftIgnoreSign(j, 5);
						var i19 = rightShiftIgnoreSign(k, 5);
						this.onASwitch(i13 - 10, i19 - 10, i13 + 10, i19 + 10);
						this.km.mode = 230;
						characterobject.c3 = 1;
					} else
					{
						this.km.init1(8);
						this.km.addItem(8, this.tdb.getValue("serifu_key1_on-7"));
						this.km.activeIchigyou(8, 40, 136, 216);
						this.km.mode = 230;
					}
				} else
				{
					this.km.off(3);
					this.km.off(7);
					this.km.off(8);
					this.km.mode = 50;
				}
				break;
			}
			if(this.km.mode == 230)
			{
				if(this.co_j.x < j - 80 - 8 || this.co_j.x > j + 64 + 8 || this.km.kettei_c == 1 || this.km.cancel_c == 1)
				{
					this.km.off(3);
					this.km.off(7);
					this.km.off(8);
					this.km.mode = 50;
				}
				break;
			}
			if(this.km.mode == 250 && (this.co_j.x < j - 80 - 8 || this.co_j.x > j + 64 + 8 || this.km.cancel_c == 1 || this.km.kettei_c == 1))
			{
				this.km.off(3);
				this.km.mode = 50;
			}
		} else
		{
			characterobject.gf = false;
		}
		break;

	case 4910: 
		if(j > this.maps.wx - 32 && j < this.maps.wx + 512 && k > this.maps.wy - 32 && k < this.maps.wy + 320)
		{
			characterobject.gf = true;
			this.a_hf = true;
			if(this.km.mode == 50)
			{
				if(this.co_j.x < j - 80 - 8 || this.co_j.x > j + 64 + 8)
					this.km.mode = 100;
				break;
			}
			if(this.km.mode == 100)
			{
				if(this.co_j.x < j - 80 || this.co_j.x > j + 64 || Math.abs(k - this.co_j.y) >= 8 || this.gk.tr1_f)
					break;
				if(characterobject.c3 == 0)
				{
					this.km.init1(3);
					this.km.setMessage(3, this.tdb.getValue("serifu_key2_on_name"));
					this.addSerifu2(3, "serifu_key2_on-", 3);
					this.km.activeSerifu(3, 168, 40, 272, Color.cyan);
					this.km.mode = 200;
				} else
				{
					this.km.init1(3);
					this.km.setMessage(3, this.tdb.getValue("serifu_key2_on_name"));
					this.addSerifu2(3, "serifu_key2_on-", 8, 10);
					this.km.activeSerifu(3, 168, 40, 252, Color.cyan);
					this.km.mode = 250;
				}
				this.km.move();
				break;
			}
			if(this.km.mode == 200)
			{
				if(this.km.cancel_c == 1)
				{
					this.km.off(3);
					this.km.mode = 50;
					break;
				}
				if(this.co_j.x < j - 80 - 8 || this.co_j.x > j + 64 + 8 || Math.abs(k - this.co_j.y) > 16)
				{
					this.km.off(3);
					this.km.mode = 50;
					break;
				}
				if(this.km.kettei_c != 1)
					break;
				this.co_j.c = 150;
				if(this.co_j.x <= j || this.maps.getBGCode(j + 48, k) >= 18)
				{
					if(this.maps.getBGCode(j - 16, k) >= 18)
					{
						this.co_j.x = j - 15;
						this.co_j.muki = 1;
					} else
					{
						this.co_j.x = j - 48;
						this.co_j.muki = 1;
					}
				} else
				{
					this.co_j.x = j + 48;
					this.co_j.muki = 0;
				}
				this.co_j.y = k;
				this.co_j.vx = 0;
				this.co_j.vy = 0;
				this.co_j.pt = 100;
				this.setmyw_pt = this.co_j.pt;
				this.setmyw_muki = this.co_j.muki;
				this.co_j.c1 = 10;
				this.km.init1(7);
				this.km.setMessage(7, this.tdb.getValue("serifu_key2_on-4"));
				this.km.addItem(7, this.tdb.getValue("serifu_key2_on-5"));
				this.km.addItem(7, this.tdb.getValue("serifu_key2_on-6"));
				this.km.active(7, 268, 86, 228);
				this.km.mode = 220;
				break;
			}
			if(this.km.mode == 220)
			{
				this.co_j.c1 = 10;
				if(this.km.cancel_c == 1)
				{
					this.km.offActivewindow(7, 3);
					this.km.mode = 200;
					break;
				}
				if(this.km.kettei_c != 1)
					break;
				if(this.km.selectedIndex[7] == 0)
				{
					var i3 = this.tdb.getValueInt("key2_on_count");
					if(i3 < 1)
						i3 = 1;
					else
					if(i3 > 5)
						i3 = 5;
					if(this.dkey_count[1] >= i3)
					{
						this.km.init1(8);
						this.km.setMessage(8, this.tdb.getValue("serifu_key2_on_name"));
						this.addSerifu2(8, "serifu_key2_on-", 8, 10);
						this.km.activeSerifu(8, 8, 86, 252, Color.cyan);
						this.dkey_count[1] -= i3;
						this.gs.rsAddSound(13);
						var j13 = rightShiftIgnoreSign(j, 5);
						var j19 = rightShiftIgnoreSign(k, 5);
						this.onASwitch(j13 - 10, j19 - 10, j13 + 10, j19 + 10);
						this.km.mode = 230;
						characterobject.c3 = 1;
					} else
					{
						this.km.init1(8);
						this.km.addItem(8, this.tdb.getValue("serifu_key2_on-7"));
						this.km.activeIchigyou(8, 40, 136, 216);
						this.km.mode = 230;
					}
				} else
				{
					this.km.off(3);
					this.km.off(7);
					this.km.off(8);
					this.km.mode = 50;
				}
				break;
			}
			if(this.km.mode == 230)
			{
				if(this.co_j.x < j - 80 - 8 || this.co_j.x > j + 64 + 8 || this.km.kettei_c == 1 || this.km.cancel_c == 1)
				{
					this.km.off(3);
					this.km.off(7);
					this.km.off(8);
					this.km.mode = 50;
				}
				break;
			}
			if(this.km.mode == 250 && (this.co_j.x < j - 80 - 8 || this.co_j.x > j + 64 + 8 || this.km.cancel_c == 1 || this.km.kettei_c == 1))
			{
				this.km.off(3);
				this.km.mode = 50;
			}
		} else
		{
			characterobject.gf = false;
		}
		break;

	case 5000: 
		if(j > this.maps.wx - 96 && j < this.maps.wx + 512 + 64 && k > this.maps.wy - 96 && k < this.maps.wy + 320 + 64)
		{
			characterobject.gf = true;
			this.a_hf = true;
		} else
		{
			characterobject.gf = false;
		}
		if(characterobject.c3 == 0)
		{
			if(characterobject.gf && this.co_j.c >= 100 && this.co_j.c < 200 && this.co_j.x + 15 >= j && this.co_j.x + 15 <= j + 31 && this.co_j.y == k - 32)
				characterobject.c3 = 100;
			break;
		}
		if(characterobject.c3 < 100)
			break;
		characterobject.c3++;
		if(characterobject.c3 < 108)
			break;
		var k13 = rightShiftIgnoreSign(j, 5);
		var k19 = rightShiftIgnoreSign(k, 5);
		if(this.maps.map_bg[k13][k19 - 1] == 4)
			this.maps.putBGCode(k13, k19, 4);
		else
			this.maps.putBGCode(k13, k19, 0);
		this.mSet2(k13 * 32, k19 * 32, 80, 12, -24);
		this.mSet2(k13 * 32, k19 * 32, 80, -12, -24);
		this.gs.rsAddSound(16);
		this.jZutuki(k13 * 32, k19 * 32 - 32, 2);
		characterobject.c = 0;
		break;

	case 5300: 
		if(j > this.maps.wx - 32 && j < this.maps.wx + 512 && k > this.maps.wy - 32 && k < this.maps.wy + 320)
		{
			characterobject.gf = true;
			this.a_hf = true;
			if(this.km.mode == 50)
			{
				if(this.co_j.x < j - 80 - 8 || this.co_j.x > j + 64 + 8)
					this.km.mode = 100;
				break;
			}
			if(this.km.mode == 100)
			{
				if(this.co_j.x >= j - 80 && this.co_j.x <= j + 64 && Math.abs(k - this.co_j.y) < 8 && !this.gk.tr1_f)
				{
					this.km.init1(3);
					this.km.setMessage(3, this.tdb.getValue("shop_name"));
					this.addSerifu2(3, "serifu_grenade_shop-", 3);
					this.km.activeSerifu(3, 168, 40, 272, Color.cyan);
					this.km.mode = 200;
					this.km.move();
				}
				break;
			}
			if(this.km.mode == 200)
			{
				if(this.km.cancel_c == 1)
				{
					this.km.off(3);
					this.km.mode = 50;
					break;
				}
				if(this.co_j.x < j - 80 - 8 || this.co_j.x > j + 64 + 8 || Math.abs(k - this.co_j.y) > 16)
				{
					this.km.off(3);
					this.km.mode = 50;
					break;
				}
				if(this.km.kettei_c != 1)
					break;
				this.co_j.c = 150;
				if(this.co_j.x <= j || this.maps.getBGCode(j + 48, k) >= 18)
				{
					if(this.maps.getBGCode(j - 16, k) >= 18)
					{
						this.co_j.x = j - 15;
						this.co_j.muki = 1;
					} else
					{
						this.co_j.x = j - 48;
						this.co_j.muki = 1;
					}
				} else
				{
					this.co_j.x = j + 48;
					this.co_j.muki = 0;
				}
				this.co_j.y = k;
				this.co_j.vx = 0;
				this.co_j.vy = 0;
				this.co_j.pt = 100;
				this.setmyw_pt = this.co_j.pt;
				this.setmyw_muki = this.co_j.muki;
				this.co_j.c1 = 10;
				this.km.init1(7);
				this.km.setMessage(7, this.tdb.getValue("serifu_grenade_shop-4"));
				this.km.addItem(7, "\uFF11");
				this.km.addItem(7, "\uFF12");
				this.km.addItem(7, "\uFF13");
				this.km.addItem(7, "\uFF14");
				this.km.addItem(7, "\uFF15");
				this.km.addItem(7, "\uFF16");
				this.km.addItem(7, "\uFF17");
				this.km.addItem(7, "\uFF18");
				this.km.addItem(7, "\uFF19");
				this.km.addItem(7, "\uFF11\uFF10");
				this.km.active(7, 52, 72, 144);
				this.km.mode = 220;
				break;
			}
			if(this.km.mode == 220)
			{
				this.co_j.c1 = 10;
				if(this.km.cancel_c == 1)
				{
					this.km.offActivewindow(7, 3);
					this.km.mode = 200;
					break;
				}
				if(this.km.kettei_c != 1)
					break;
				var k5 = this.km.selectedIndex[7] + 1;
				var j3 = this.tdb.getValueInt("grenade_shop_score");
				if(j3 < 1)
					j3 = 1;
				j3 *= k5;
				if(this.score >= j3)
				{
					this.score -= j3;
					this.j_gr_kazu += k5;
					this.gs.rsAddSound(7);
					this.km.init1(8);
					this.km.addItem(8, this.tdb.getValue("serifu_grenade_shop-6"));
					this.km.activeIchigyou(8, 216, 120, 224);
					this.km.mode = 230;
				} else
				{
					this.km.init1(8);
					this.km.addItem(8, this.tdb.getValue("serifu_grenade_shop-5"));
					this.km.activeIchigyou(8, 216, 120, 224);
					this.km.mode = 240;
				}
				break;
			}
			if(this.km.mode == 230)
			{
				if(this.co_j.x < j - 80 - 8 || this.co_j.x > j + 64 + 8 || this.km.kettei_c == 1 || this.km.cancel_c == 1)
				{
					this.km.off(3);
					this.km.off(7);
					this.km.off(8);
					this.km.mode = 50;
				}
				break;
			}
			if(this.km.mode == 240)
			{
				this.co_j.c1 = 10;
				if(this.co_j.x < j - 80 - 8 || this.co_j.x > j + 64 + 8 || this.km.kettei_c == 1)
				{
					this.km.off(3);
					this.km.off(7);
					this.km.off(8);
					this.co_j.c1 = 6;
					this.km.mode = 50;
					break;
				}
				if(this.km.cancel_c == 1)
				{
					this.km.offActivewindow(8, 7);
					this.km.mode = 220;
				}
				break;
			}
			if(this.km.mode == 250 && (this.co_j.x < j - 80 - 8 || this.co_j.x > j + 64 + 8 || this.km.cancel_c == 1 || this.km.kettei_c == 1))
			{
				this.km.off(3);
				this.km.mode = 50;
			}
		} else
		{
			characterobject.gf = false;
		}
		break;
	}
	characterobject.x = j;
	characterobject.y = k;
}

MainProgram.prototype.onASwitch = function(i, j, k, l, i1)
{
	if(arguments.length == 4) i1 = 1;
	for(var j1 = 0; j1 <= this.a_kazu; j1++)
	{
		var k2 = this.co_a[j1].c;
		if(k2 == 3700 || k2 == 3710 || k2 == 3800 || k2 == 3810 || k2 == 3900 || k2 == 3910 || k2 == 4000 || k2 == 4010 || k2 == 4100 || k2 == 4110 || k2 == 4200 || k2 == 4210 || k2 == 4300 || k2 == 4400 || k2 == 4410 || k2 == 4500 || k2 == 5200 || k2 == 5210)
		{
			var k1 = rightShiftIgnoreSign(this.co_a[j1].x, 5);
			var i2 = rightShiftIgnoreSign(this.co_a[j1].y, 5);
			if(k1 >= i && k1 <= k && i2 >= j && i2 <= l)
				this.co_a[j1].c5 = 1;
			continue;
		}
		if(k2 == 150 || k2 == 160)
		{
			var l1 = rightShiftIgnoreSign(this.co_a[j1].vx, 5);
			var j2 = rightShiftIgnoreSign(this.co_a[j1].vy, 5);
			if(l1 >= i && l1 <= k && j2 >= j && j2 <= l)
				this.co_a[j1].c5 = 1;
			continue;
		}
		if(i1 != 2 || k2 != 3500 && k2 != 3600 || this.co_a[j1].c4 != 2)
			continue;
		this.co_a[j1].c3 = 100;
		if(k2 == 3500)
			this.co_a[j1].c3 = 1;
	}

}

MainProgram.prototype.offASwitch = function(i, j, k, l, i1)
{
	if(arguments.length == 4) i1 = 1;
	for(var j1 = 0; j1 <= this.a_kazu; j1++)
	{
		var k2 = this.co_a[j1].c;
		if(k2 == 3700 || k2 == 3710 || k2 == 3800 || k2 == 3810 || k2 == 3900 || k2 == 3910 || k2 == 4000 || k2 == 4010 || k2 == 4100 || k2 == 4110 || k2 == 4200 || k2 == 4210 || k2 == 4300 || k2 == 4400 || k2 == 4410 || k2 == 4500 || k2 == 5200 || k2 == 5210)
		{
			var k1 = rightShiftIgnoreSign(this.co_a[j1].x, 5);
			var i2 = rightShiftIgnoreSign(this.co_a[j1].y, 5);
			if(k1 >= i && k1 <= k && i2 >= j && i2 <= l)
				this.co_a[j1].c5 = 0;
			continue;
		}
		if(k2 == 150 || k2 == 160)
		{
			var l1 = rightShiftIgnoreSign(this.co_a[j1].vx, 5);
			var j2 = rightShiftIgnoreSign(this.co_a[j1].vy, 5);
			if(l1 >= i && l1 <= k && j2 >= j && j2 <= l)
				this.co_a[j1].c5 = 0;
			continue;
		}
		if(i1 != 2 || k2 != 3500 && k2 != 3600 || this.co_a[j1].c4 != 2)
			continue;
		this.co_a[j1].c3 = 0;
		if(k2 == 3500)
			this.co_a[j1].c3 = 101;
	}

}

MainProgram.prototype.bMove = function()
{
	if(this.co_b.x >= this.maps.wx + 1024)
		return;
	this.boss_attack_mode = false;
	switch(this.co_b.c)
	{
	case 40:
		if(this.co_b.c1 < 20)
			this.co_b.c1++;
		if(this.co_b.c1 == 15)
			if(this.j_tokugi == 14 || this.j_tokugi == 15)
			{
				this.gs.rsAddSound(2);
				this.stage_cc = 1;
			} else
			{
				this.mSet(this.maps.wx + 256, this.maps.wy + 128, 2200);
				this.gs.rsAddSound(13);
			}
		this.co_b.pt = 0;
		break;

	case 60:
		this.co_b.c1++;
		if(this.co_b.c4 <= 0)
		{
			if(this.co_b.c1 >= 26)
			{
				this.co_b.c = 40;
				this.co_b.c1 = 0;
				if(this.j_tokugi == 14 || this.j_tokugi == 15)
					this.addScore(100);
				else
					this.addScore(10);
				if(this.boss_destroy_type == 2)
					this.hideGauge();
			}
		} else
		if(this.co_b.c1 >= 11)
			this.co_b.c = 150;
		this.co_b.pt = 1010;
		break;

	case 65:
		this.co_b.c1++;
		if(this.co_b.c1 >= 11)
			this.co_b.c = 155;
		this.co_b.pt = 1015;
		break;

	case 67:
		this.co_b.vy += 4;
		if(this.co_b.vy > 28)
			this.co_b.vy = 28;
		this.co_b.x += this.co_b.vx;
		this.co_b.y += this.co_b.vy;
		if(this.boss_destroy_type == 2)
		{
			this.boss_hp = 0;
			this.showGauge(String(this.boss_hp), "" + this.tdb.getValue("boss_name") + "  " + this.boss_hp + "/" + this.boss_hp_max);
		}
		if(this.co_b.y >= this.maps.wy + 320 + 16)
		{
			this.co_b.c = 40;
			this.co_b.c1 = 0;
			if(this.j_tokugi == 14 || this.j_tokugi == 15)
				this.addScore(100);
			else
				this.addScore(10);
			if(this.boss_destroy_type == 2)
				this.hideGauge();
		}
		if(this.co_b.muki == 1)
			this.co_b.pt = 1005;
		else
			this.co_b.pt = 1000;
		break;

	case 70:
		this.co_b.c1++;
		if(this.co_b.c4 <= 0)
		{
			if(this.co_b.c1 >= 26)
			{
				this.co_b.c = 40;
				this.co_b.c1 = 0;
				if(this.j_tokugi == 14 || this.j_tokugi == 15)
					this.addScore(100);
				else
					this.addScore(10);
				if(this.boss_destroy_type == 2)
					this.hideGauge();
			}
		} else
		if(this.co_b.c1 >= 11)
			this.co_b.c = 250;
		this.co_b.pt = 1110;
		break;

	case 75:
		this.co_b.c1++;
		if(this.co_b.c1 >= 11)
			this.co_b.c = 255;
		this.co_b.pt = 1115;
		break;

	case 77:
		this.co_b.vy += 4;
		if(this.co_b.vy > 28)
			this.co_b.vy = 28;
		this.co_b.x += this.co_b.vx;
		this.co_b.y += this.co_b.vy;
		if(this.boss_destroy_type == 2)
		{
			this.boss_hp = 0;
			this.showGauge(String(this.boss_hp), "" + this.tdb.getValue("boss2_name") + "  " + this.boss_hp + "/" + this.boss_hp_max);
		}
		if(this.co_b.y >= this.maps.wy + 320 + 16)
		{
			this.co_b.c = 40;
			this.co_b.c1 = 0;
			if(this.j_tokugi == 14 || this.j_tokugi == 15)
				this.addScore(100);
			else
				this.addScore(10);
			if(this.boss_destroy_type == 2)
				this.hideGauge();
		}
		if(this.co_b.muki == 1)
			this.co_b.pt = 1105;
		else
			this.co_b.pt = 1100;
		break;

	case 80:
		this.co_b.c1++;
		if(this.co_b.c4 <= 0)
		{
			if(this.co_b.c1 >= 26)
			{
				this.co_b.c = 40;
				this.co_b.c1 = 0;
				if(this.j_tokugi == 14 || this.j_tokugi == 15)
					this.addScore(100);
				else
					this.addScore(10);
				if(this.boss_destroy_type == 2)
					this.hideGauge();
			}
		} else
		if(this.co_b.c1 >= 11)
			this.co_b.c = 350;
		this.co_b.pt = 1210;
		break;

	case 85:
		this.co_b.c1++;
		if(this.co_b.c1 >= 11)
			this.co_b.c = 355;
		this.co_b.pt = 1215;
		break;

	case 87:
		this.co_b.vy += 4;
		if(this.co_b.vy > 28)
			this.co_b.vy = 28;
		this.co_b.x += this.co_b.vx;
		this.co_b.y += this.co_b.vy;
		if(this.boss_destroy_type == 2)
		{
			this.boss_hp = 0;
			this.showGauge(String(this.boss_hp), "" + this.tdb.getValue("boss3_name") + "  " + this.boss_hp + "/" + this.boss_hp_max);
		}
		if(this.co_b.y >= this.maps.wy + 320 + 16)
		{
			this.co_b.c = 40;
			this.co_b.c1 = 0;
			if(this.j_tokugi == 14 || this.j_tokugi == 15)
				this.addScore(100);
			else
				this.addScore(10);
			if(this.boss_destroy_type == 2)
				this.hideGauge();
		}
		if(this.co_b.muki == 1)
			this.co_b.pt = 1205;
		else
			this.co_b.pt = 1200;
		break;

	case 100:
		if(this.sl_step == 2 || this.sl_step == 3)
			if(this.boss_destroy_type == 2)
			{
				this.co_b.x -= 8;
				if(this.co_b.x <= (this.sl_wx + 512) - 128)
				{
					this.co_b.x = (this.sl_wx + 512) - 128;
					var l4 = Math.floor((this.boss_hp * 200) / this.boss_hp_max);
					this.showGauge(String(l4), "" + this.tdb.getValue("boss_name") + "  " + this.boss_hp + "/" + this.boss_hp_max);
					this.co_b.c = 110;
					this.co_b.c1 = 0;
				}
			} else
			{
				this.co_b.c = 110;
				this.co_b.c1 = 0;
			}
		this.co_b.pt = 1000;
		break;

	case 110:
		this.boss_attack_mode = true;
		if(this.boss_type == 2)
		{
			var c = 150;
			this.co_b.c1++;
			if(this.co_b.c1 == 1)
			{
				this.tSetBoss(this.co_b.x, this.co_b.y, c, -2);
				this.gs.rsAddSound(17);
			} else
			if(this.co_b.c1 == 5)
				this.tSetBoss(this.co_b.x, this.co_b.y, c, -4);
			else
			if(this.co_b.c1 == 7)
				this.tSetBoss(this.co_b.x, this.co_b.y, c, -6);
			else
			if(this.co_b.c1 == 9)
				this.tSetBoss(this.co_b.x, this.co_b.y, c, -8);
			else
			if(this.co_b.c1 == 21)
				this.tSetBoss(this.co_b.x, this.co_b.y, c, -2);
			else
			if(this.co_b.c1 == 91)
				this.tSetBoss(this.co_b.x, this.co_b.y, c, -2);
			else
			if(this.co_b.c1 == 95)
				this.tSetBoss(this.co_b.x, this.co_b.y, c, -4);
			else
			if(this.co_b.c1 == 97)
				this.tSetBoss(this.co_b.x, this.co_b.y, c, -6);
			else
			if(this.co_b.c1 == 99)
				this.tSetBoss(this.co_b.x, this.co_b.y, c, -8);
			else
			if(this.co_b.c1 == 111)
				this.tSetBoss(this.co_b.x, this.co_b.y, c, -2);
			else
			if(this.co_b.c1 == 170)
				this.tSetBoss(this.co_b.x, this.co_b.y, c, -4);
			else
			if(this.co_b.c1 == 180)
				this.tSetBoss(this.co_b.x, this.co_b.y, c, -2);
			else
			if(this.co_b.c1 > 250)
				this.co_b.c1 = 250;
		} else
		if(this.boss_type == 3)
		{
			var c1 = 0x01c2;
			this.co_b.c1++;
			if(this.co_b.c1 == 5)
			{
				this.tSetBoss(this.co_b.x, this.co_b.y, c1, -3);
				this.gs.rsAddSound(17);
			} else
			if(this.co_b.c1 == 20)
				this.tSetBoss(this.co_b.x, this.co_b.y, c1, -3);
			else
			if(this.co_b.c1 == 35)
				this.tSetBoss(this.co_b.x, this.co_b.y, c1, -3);
			else
			if(this.co_b.c1 == 50)
				this.tSetBoss(this.co_b.x, this.co_b.y, c1, -3);
			else
			if(this.co_b.c1 == 65)
				this.tSetBoss(this.co_b.x, this.co_b.y, c1, -3);
			else
			if(this.co_b.c1 == 80)
				this.tSetBoss(this.co_b.x, this.co_b.y, c1, -3);
			else
			if(this.co_b.c1 == 95)
				this.tSetBoss(this.co_b.x, this.co_b.y, c1, -3);
			else
			if(this.co_b.c1 == 110)
				this.tSetBoss(this.co_b.x, this.co_b.y, c1, -3);
			else
			if(this.co_b.c1 > 250)
				this.co_b.c1 = 250;
		} else
		if(this.boss_type == 4)
		{
			var c2 = 0x028a;
			this.co_b.c1++;
			if(this.co_b.c1 == 1)
			{
				this.tSetBoss(this.co_b.x, this.co_b.y, c2, -5);
				this.gs.rsAddSound(17);
			} else
			if(this.co_b.c1 == 15)
				this.tSetBoss(this.co_b.x, this.co_b.y, c2, -3);
			else
			if(this.co_b.c1 == 29)
				this.tSetBoss(this.co_b.x, this.co_b.y, c2, -2);
			else
			if(this.co_b.c1 == 81)
				this.tSetBoss(this.co_b.x, this.co_b.y, c2, -5);
			else
			if(this.co_b.c1 == 95)
				this.tSetBoss(this.co_b.x, this.co_b.y, c2, -3);
			else
			if(this.co_b.c1 == 109)
				this.tSetBoss(this.co_b.x, this.co_b.y, c2, -2);
			else
			if(this.co_b.c1 == 165)
				this.tSetBoss(this.co_b.x, this.co_b.y, c2, -3);
			else
			if(this.co_b.c1 > 250)
				this.co_b.c1 = 250;
		} else
		if(this.boss_type == 5)
		{
			this.co_b.c1++;
			if(this.co_b.c1 == 1)
			{
				this.gs.rsAddSound(17);
				var d = 4.8844447135925293;
				this.mSet2(this.co_b.x, this.co_b.y + 16, 740, Math.floor(Math.cos(d) * 12), Math.floor(Math.sin(d) * 10));
			} else
			if(this.co_b.c1 == 8)
			{
				var d1 = 4.5355558395385742;
				this.mSet2(this.co_b.x, this.co_b.y + 16, 740, Math.floor(Math.cos(d1) * 12), Math.floor(Math.sin(d1) * 10));
			} else
			if(this.co_b.c1 == 16)
			{
				var d2 = 4.1866669654846191;
				this.mSet2(this.co_b.x, this.co_b.y + 16, 740, Math.floor(Math.cos(d2) * 12), Math.floor(Math.sin(d2) * 10));
			} else
			if(this.co_b.c1 == 24)
			{
				var d3 = 3.8377780914306641;
				this.mSet2(this.co_b.x, this.co_b.y + 16, 740, Math.floor(Math.cos(d3) * 12), Math.floor(Math.sin(d3) * 10));
			} else
			if(this.co_b.c1 == 32)
			{
				var d4 = 3.4888889789581299;
				this.mSet2(this.co_b.x, this.co_b.y + 16, 740, Math.floor(Math.cos(d4) * 12), Math.floor(Math.sin(d4) * 10));
			} else
			if(this.co_b.c1 == 40)
			{
				var d5 = 3.1400001049041748;
				this.mSet2(this.co_b.x, this.co_b.y + 16, 740, Math.floor(Math.cos(d5) * 12), Math.floor(Math.sin(d5) * 10));
			} else
			if(this.co_b.c1 == 48)
			{
				var d6 = 3.3144445419311523;
				this.mSet2(this.co_b.x, this.co_b.y + 16, 740, Math.floor(Math.cos(d6) * 12), Math.floor(Math.sin(d6) * 10));
			} else
			if(this.co_b.c1 == 64)
			{
				var d7 = 3.6633334159851074;
				this.mSet2(this.co_b.x, this.co_b.y + 16, 740, Math.floor(Math.cos(d7) * 12), Math.floor(Math.sin(d7) * 10));
			} else
			if(this.co_b.c1 == 72)
			{
				var d8 = 4.0122222900390625;
				this.mSet2(this.co_b.x, this.co_b.y + 16, 740, Math.floor(Math.cos(d8) * 12), Math.floor(Math.sin(d8) * 10));
			} else
			if(this.co_b.c1 == 80)
			{
				var d9 = 4.3611111640930176;
				this.mSet2(this.co_b.x, this.co_b.y + 16, 740, Math.floor(Math.cos(d9) * 12), Math.floor(Math.sin(d9) * 10));
			} else
			if(this.co_b.c1 == 88)
			{
				var d10 = 4.1866669654846191;
				this.mSet2(this.co_b.x, this.co_b.y + 16, 740, Math.floor(Math.cos(d10) * 12), Math.floor(Math.sin(d10) * 10));
			} else
			if(this.co_b.c1 == 96)
			{
				var d11 = 3.8377780914306641;
				this.mSet2(this.co_b.x, this.co_b.y + 16, 740, Math.floor(Math.cos(d11) * 12), Math.floor(Math.sin(d11) * 10));
			} else
			if(this.co_b.c1 == 104)
			{
				var d12 = 3.4888889789581299;
				this.mSet2(this.co_b.x, this.co_b.y + 16, 740, Math.floor(Math.cos(d12) * 12), Math.floor(Math.sin(d12) * 10));
			} else
			if(this.co_b.c1 == 112)
			{
				var d13 = 3.1400001049041748;
				this.mSet2(this.co_b.x, this.co_b.y + 16, 740, Math.floor(Math.cos(d13) * 12), Math.floor(Math.sin(d13) * 10));
			} else
			if(this.co_b.c1 >= 200)
				this.co_b.c1 = 0;
		} else
		{
			this.co_b.c1++;
			if(this.co_b.c1 == 3)
			{
				this.mSet2(this.co_b.x, this.co_b.y, 500, -4, -18);
				this.mSet2(this.co_b.x, this.co_b.y, 500, 4, -18);
				this.gs.rsAddSound(17);
			} else
			if(this.co_b.c1 == 14)
			{
				this.mSet2(this.co_b.x, this.co_b.y, 500, -6, -20);
				this.mSet2(this.co_b.x, this.co_b.y, 500, 6, -20);
			} else
			if(this.co_b.c1 == 20)
			{
				this.mSet2(this.co_b.x, this.co_b.y, 500, -3, -24);
				this.mSet2(this.co_b.x, this.co_b.y, 500, 3, -24);
			} else
			if(this.co_b.c1 >= 28 && this.co_b.c1 <= 98)
			{
				if(this.co_b.c1 % 7 == 0)
					this.mSet2(this.co_b.x, this.co_b.y, 500, -15 + this.ranInt(20), -30);
			} else
			if(this.co_b.c1 == 130)
			{
				var i5 = this.ranInt(8) + 3;
				this.mSet2(this.co_b.x, this.co_b.y, 500, i5, -30);
				this.mSet2(this.co_b.x, this.co_b.y, 500, -i5, -30);
			} else
			if(this.co_b.c1 >= 150)
				this.co_b.c1 = 98;
		}
		this.co_b.pt = 1000;
		break;

	case 115:
		this.boss_attack_mode = true;
		if(this.boss_type == 2)
		{
			var c3 = 150;
			this.co_b.c1++;
			if(this.co_b.c1 == 1)
			{
				this.tSetBoss(this.co_b.x, this.co_b.y, c3, 2);
				this.gs.rsAddSound(17);
			} else
			if(this.co_b.c1 == 5)
				this.tSetBoss(this.co_b.x, this.co_b.y, c3, 4);
			else
			if(this.co_b.c1 == 7)
				this.tSetBoss(this.co_b.x, this.co_b.y, c3, 6);
			else
			if(this.co_b.c1 == 9 && this.boss_type != 3)
				this.tSetBoss(this.co_b.x, this.co_b.y, c3, 8);
			else
			if(this.co_b.c1 == 21)
				this.tSetBoss(this.co_b.x, this.co_b.y, c3, 2);
			else
			if(this.co_b.c1 == 91)
				this.tSetBoss(this.co_b.x, this.co_b.y, c3, 2);
			else
			if(this.co_b.c1 == 95)
				this.tSetBoss(this.co_b.x, this.co_b.y, c3, 4);
			else
			if(this.co_b.c1 == 97)
				this.tSetBoss(this.co_b.x, this.co_b.y, c3, 6);
			else
			if(this.co_b.c1 == 99 && this.boss_type != 3)
				this.tSetBoss(this.co_b.x, this.co_b.y, c3, 8);
			else
			if(this.co_b.c1 == 111)
				this.tSetBoss(this.co_b.x, this.co_b.y, c3, 2);
			else
			if(this.co_b.c1 == 170)
				this.tSetBoss(this.co_b.x, this.co_b.y, c3, 4);
			else
			if(this.co_b.c1 == 180)
				this.tSetBoss(this.co_b.x, this.co_b.y, c3, 2);
			else
			if(this.co_b.c1 > 250)
				this.co_b.c1 = 250;
		} else
		if(this.boss_type == 3)
		{
			var c4 = 0x01c2;
			this.co_b.c1++;
			if(this.co_b.c1 == 5)
			{
				this.tSetBoss(this.co_b.x, this.co_b.y, c4, 3);
				this.gs.rsAddSound(17);
			} else
			if(this.co_b.c1 == 20)
				this.tSetBoss(this.co_b.x, this.co_b.y, c4, 3);
			else
			if(this.co_b.c1 == 35)
				this.tSetBoss(this.co_b.x, this.co_b.y, c4, 3);
			else
			if(this.co_b.c1 == 50)
				this.tSetBoss(this.co_b.x, this.co_b.y, c4, 3);
			else
			if(this.co_b.c1 == 65)
				this.tSetBoss(this.co_b.x, this.co_b.y, c4, 3);
			else
			if(this.co_b.c1 == 80)
				this.tSetBoss(this.co_b.x, this.co_b.y, c4, 3);
			else
			if(this.co_b.c1 == 95)
				this.tSetBoss(this.co_b.x, this.co_b.y, c4, 3);
			else
			if(this.co_b.c1 == 110)
				this.tSetBoss(this.co_b.x, this.co_b.y, c4, 3);
			else
			if(this.co_b.c1 > 250)
				this.co_b.c1 = 250;
		} else
		if(this.boss_type == 4)
		{
			var c5 = 0x028a;
			this.co_b.c1++;
			if(this.co_b.c1 == 1)
			{
				this.tSetBoss(this.co_b.x, this.co_b.y, c5, 5);
				this.gs.rsAddSound(17);
			} else
			if(this.co_b.c1 == 15)
				this.tSetBoss(this.co_b.x, this.co_b.y, c5, 3);
			else
			if(this.co_b.c1 == 29)
				this.tSetBoss(this.co_b.x, this.co_b.y, c5, 2);
			else
			if(this.co_b.c1 == 81)
				this.tSetBoss(this.co_b.x, this.co_b.y, c5, 5);
			else
			if(this.co_b.c1 == 95)
				this.tSetBoss(this.co_b.x, this.co_b.y, c5, 3);
			else
			if(this.co_b.c1 == 109)
				this.tSetBoss(this.co_b.x, this.co_b.y, c5, 2);
			else
			if(this.co_b.c1 == 165)
				this.tSetBoss(this.co_b.x, this.co_b.y, c5, 3);
			else
			if(this.co_b.c1 > 250)
				this.co_b.c1 = 250;
		} else
		if(this.boss_type == 5)
		{
			this.co_b.c1++;
			if(this.co_b.c1 == 1)
			{
				this.gs.rsAddSound(17);
				var d14 = 4.5355558395385742;
				this.mSet2(this.co_b.x, this.co_b.y + 16, 740, Math.floor(Math.cos(d14) * 12), Math.floor(Math.sin(d14) * 10));
			} else
			if(this.co_b.c1 == 8)
			{
				var d15 = 4.8844447135925293;
				this.mSet2(this.co_b.x, this.co_b.y + 16, 740, Math.floor(Math.cos(d15) * 12), Math.floor(Math.sin(d15) * 10));
			} else
			if(this.co_b.c1 == 16)
			{
				var d16 = 5.2333335876464844;
				this.mSet2(this.co_b.x, this.co_b.y + 16, 740, Math.floor(Math.cos(d16) * 12), Math.floor(Math.sin(d16) * 10));
			} else
			if(this.co_b.c1 == 24)
			{
				var d17 = 5.5822224617004395;
				this.mSet2(this.co_b.x, this.co_b.y + 16, 740, Math.floor(Math.cos(d17) * 12), Math.floor(Math.sin(d17) * 10));
			} else
			if(this.co_b.c1 == 32)
			{
				var d18 = 5.9311108589172363;
				this.mSet2(this.co_b.x, this.co_b.y + 16, 740, Math.floor(Math.cos(d18) * 12), Math.floor(Math.sin(d18) * 10));
			} else
			if(this.co_b.c1 == 40)
			{
				var d19 = 0.0;
				this.mSet2(this.co_b.x, this.co_b.y + 16, 740, Math.floor(Math.cos(d19) * 12), Math.floor(Math.sin(d19) * 10));
			} else
			if(this.co_b.c1 == 48)
			{
				var d20 = 6.105555534362793;
				this.mSet2(this.co_b.x, this.co_b.y + 16, 740, Math.floor(Math.cos(d20) * 12), Math.floor(Math.sin(d20) * 10));
			} else
			if(this.co_b.c1 == 64)
			{
				var d21 = 5.7566671371459961;
				this.mSet2(this.co_b.x, this.co_b.y + 16, 740, Math.floor(Math.cos(d21) * 12), Math.floor(Math.sin(d21) * 10));
			} else
			if(this.co_b.c1 == 72)
			{
				var d22 = 5.4077777862548828;
				this.mSet2(this.co_b.x, this.co_b.y + 16, 740, Math.floor(Math.cos(d22) * 12), Math.floor(Math.sin(d22) * 10));
			} else
			if(this.co_b.c1 == 80)
			{
				var d23 = 5.0588889122009277;
				this.mSet2(this.co_b.x, this.co_b.y + 16, 740, Math.floor(Math.cos(d23) * 12), Math.floor(Math.sin(d23) * 10));
			} else
			if(this.co_b.c1 == 88)
			{
				var d24 = 5.2333335876464844;
				this.mSet2(this.co_b.x, this.co_b.y + 16, 740, Math.floor(Math.cos(d24) * 12), Math.floor(Math.sin(d24) * 10));
			} else
			if(this.co_b.c1 == 96)
			{
				var d25 = 5.5822224617004395;
				this.mSet2(this.co_b.x, this.co_b.y + 16, 740, Math.floor(Math.cos(d25) * 12), Math.floor(Math.sin(d25) * 10));
			} else
			if(this.co_b.c1 == 104)
			{
				var d26 = 5.9311108589172363;
				this.mSet2(this.co_b.x, this.co_b.y + 16, 740, Math.floor(Math.cos(d26) * 12), Math.floor(Math.sin(d26) * 10));
			} else
			if(this.co_b.c1 == 112)
			{
				var d27 = 0.0;
				this.mSet2(this.co_b.x, this.co_b.y + 16, 740, Math.floor(Math.cos(d27) * 12), Math.floor(Math.sin(d27) * 10));
			} else
			if(this.co_b.c1 >= 200)
				this.co_b.c1 = 0;
		} else
		{
			this.co_b.c1++;
			if(this.co_b.c1 == 3)
			{
				this.mSet2(this.co_b.x, this.co_b.y, 500, -4, -18);
				this.mSet2(this.co_b.x, this.co_b.y, 500, 4, -18);
				this.gs.rsAddSound(17);
			} else
			if(this.co_b.c1 == 14)
			{
				this.mSet2(this.co_b.x, this.co_b.y, 500, -6, -20);
				this.mSet2(this.co_b.x, this.co_b.y, 500, 6, -20);
			} else
			if(this.co_b.c1 == 20)
			{
				this.mSet2(this.co_b.x, this.co_b.y, 500, -3, -24);
				this.mSet2(this.co_b.x, this.co_b.y, 500, 3, -24);
			} else
			if(this.co_b.c1 >= 28 && this.co_b.c1 <= 98)
			{
				if(this.co_b.c1 % 7 == 0)
					this.mSet2(this.co_b.x, this.co_b.y, 500, 15 - this.ranInt(20), -30);
			} else
			if(this.co_b.c1 == 130)
			{
				var j5 = this.ranInt(8) + 3;
				this.mSet2(this.co_b.x, this.co_b.y, 500, j5, -30);
				this.mSet2(this.co_b.x, this.co_b.y, 500, -j5, -30);
			} else
			if(this.co_b.c1 >= 150)
				this.co_b.c1 = 98;
		}
		this.co_b.pt = 1005;
		break;

	case 150: 
		this.co_b.x -= 14;
		if(this.co_b.x <= this.sl_wx + 96)
		{
			this.co_b.x = this.sl_wx + 96;
			this.co_b.c = 115;
			this.co_b.c1 = 0;
		}
		this.co_b.pt = 1000;
		break;

	case 155: 
		this.co_b.x += 14;
		if(this.co_b.x >= (this.sl_wx + 512) - 96 - 32)
		{
			this.co_b.x = (this.sl_wx + 512) - 96 - 32;
			this.co_b.c = 110;
			this.co_b.c1 = 0;
		}
		this.co_b.pt = 1005;
		break;

	case 200: 
		if(this.sl_step == 2 || this.sl_step == 3)
			if(this.boss_destroy_type == 2)
			{
				this.co_b.x -= 8;
				if(this.co_b.x <= (this.sl_wx + 512) - 128)
				{
					this.co_b.x = (this.sl_wx + 512) - 128;
					var k5 = Math.floor((this.boss_hp * 200) / this.boss_hp_max);
					this.showGauge(String(k5), "" + this.tdb.getValue("boss2_name") + "  " + this.boss_hp + "/" + this.boss_hp_max);
					this.co_b.c = 210;
					this.co_b.c1 = 0;
				}
			} else
			{
				this.co_b.c = 210;
				this.co_b.c1 = 0;
			}
		this.co_b.pt = 1100;
		break;

	case 210: 
		this.boss_attack_mode = true;
		this.co_b.c1++;
		if(this.boss2_type == 2)
		{
			if(this.co_b.c1 == 10 || this.co_b.c1 == 85 || this.co_b.c1 == 215)
			{
				for(var i = 0; i <= 7; i++)
				{
					var d28 = ((i * 45) * 3.14) / 180;
					var k6 = Math.floor(Math.cos(d28) * 8);
					var i8 = Math.floor(Math.sin(d28) * 8) * -1;
					this.mSet2(this.co_b.x, this.co_b.y - 8, 710, k6, i8);
					this.gs.rsAddSound(18);
				}

			} else
			if(this.co_b.c1 == 35 || this.co_b.c1 == 110 || this.co_b.c1 == 295)
			{
				for(var j = 0; j <= 7; j++)
				{
					var d29 = ((j * 45 + 15) * 3.14) / 180;
					var l6 = Math.floor(Math.cos(d29) * 8);
					var j8 = Math.floor(Math.sin(d29) * 8) * -1;
					this.mSet2(this.co_b.x, this.co_b.y - 8, 710, l6, j8);
					this.gs.rsAddSound(18);
				}

			} else
			if(this.co_b.c1 == 60 || this.co_b.c1 == 135 || this.co_b.c1 == 375)
			{
				for(var k = 0; k <= 7; k++)
				{
					var d30 = ((k * 45 + 30) * 3.14) / 180;
					var i7 = Math.floor(Math.cos(d30) * 8);
					var k8 = Math.floor(Math.sin(d30) * 8) * -1;
					this.mSet2(this.co_b.x, this.co_b.y - 8, 710, i7, k8);
					this.gs.rsAddSound(18);
				}

			} else
			if(this.co_b.c1 > 445)
				this.co_b.c1 = 0;
		} else
		if(this.boss2_type == 3)
		{
			if(this.co_b.c1 == 5 || this.co_b.c1 == 125)
			{
				for(var l = 0; l <= 270; l += 90)
					this.mSet2(this.co_b.x, this.co_b.y, 970, l, 0);

				this.gs.rsAddSound(18);
			} else
			if(this.co_b.c1 == 45)
			{
				for(var i1 = 30; i1 <= 300; i1 += 90)
					this.mSet2(this.co_b.x, this.co_b.y, 970, i1, 0);

				this.gs.rsAddSound(18);
			} else
			if(this.co_b.c1 == 85)
			{
				for(var j1 = 60; j1 <= 330; j1 += 90)
					this.mSet2(this.co_b.x, this.co_b.y, 970, j1, 0);

				this.gs.rsAddSound(18);
			} else
			if(this.co_b.c1 > 250)
				this.co_b.c1 = 0;
		} else
		if(this.boss2_type == 4)
		{
			if(this.co_b.c1 == 1)
			{
				this.gs.rsAddSound(18);
				var d31 = 4.8844447135925293;
				this.mSet2(this.co_b.x, this.co_b.y, 710, Math.floor(Math.cos(d31) * 12), Math.floor(Math.sin(d31) * 10));
				d31 = 1.3955556154251099;
				this.mSet2(this.co_b.x, this.co_b.y, 710, Math.floor(Math.cos(d31) * 12), Math.floor(Math.sin(d31) * 10));
			} else
			if(this.co_b.c1 == 8)
			{
				var d32 = 4.5355558395385742;
				this.mSet2(this.co_b.x, this.co_b.y, 710, Math.floor(Math.cos(d32) * 12), Math.floor(Math.sin(d32) * 10));
				d32 = 1.7444444894790649;
				this.mSet2(this.co_b.x, this.co_b.y, 710, Math.floor(Math.cos(d32) * 12), Math.floor(Math.sin(d32) * 10));
			} else
			if(this.co_b.c1 == 16)
			{
				var d33 = 4.1866669654846191;
				this.mSet2(this.co_b.x, this.co_b.y, 710, Math.floor(Math.cos(d33) * 12), Math.floor(Math.sin(d33) * 10));
				d33 = 2.0933334827423096;
				this.mSet2(this.co_b.x, this.co_b.y, 710, Math.floor(Math.cos(d33) * 12), Math.floor(Math.sin(d33) * 10));
			} else
			if(this.co_b.c1 == 24)
			{
				var d34 = 3.8377780914306641;
				this.mSet2(this.co_b.x, this.co_b.y, 710, Math.floor(Math.cos(d34) * 12), Math.floor(Math.sin(d34) * 10));
				d34 = 2.4422223567962646;
				this.mSet2(this.co_b.x, this.co_b.y, 710, Math.floor(Math.cos(d34) * 12), Math.floor(Math.sin(d34) * 10));
			} else
			if(this.co_b.c1 == 32)
			{
				var d35 = 3.4016668796539307;
				this.mSet2(this.co_b.x, this.co_b.y, 710, Math.floor(Math.cos(d35) * 12), Math.floor(Math.sin(d35) * 10));
				d35 = 2.878333568572998;
				this.mSet2(this.co_b.x, this.co_b.y, 710, Math.floor(Math.cos(d35) * 12), Math.floor(Math.sin(d35) * 10));
			} else
			if(this.co_b.c1 == 56)
			{
				var d36 = 3.1400001049041748;
				this.mSet2(this.co_b.x, this.co_b.y, 710, Math.floor(Math.cos(d36) * 12), Math.floor(Math.sin(d36) * 10));
			} else
			if(this.co_b.c1 == 72)
			{
				var d37 = 3.4016668796539307;
				this.mSet2(this.co_b.x, this.co_b.y, 710, Math.floor(Math.cos(d37) * 12), Math.floor(Math.sin(d37) * 10));
				d37 = 2.878333568572998;
				this.mSet2(this.co_b.x, this.co_b.y, 710, Math.floor(Math.cos(d37) * 12), Math.floor(Math.sin(d37) * 10));
			} else
			if(this.co_b.c1 == 80)
			{
				var d38 = 3.8377780914306641;
				this.mSet2(this.co_b.x, this.co_b.y, 710, Math.floor(Math.cos(d38) * 12), Math.floor(Math.sin(d38) * 10));
				d38 = 2.4422223567962646;
				this.mSet2(this.co_b.x, this.co_b.y, 710, Math.floor(Math.cos(d38) * 12), Math.floor(Math.sin(d38) * 10));
			} else
			if(this.co_b.c1 == 88)
			{
				var d39 = 4.1866669654846191;
				this.mSet2(this.co_b.x, this.co_b.y, 710, Math.floor(Math.cos(d39) * 12), Math.floor(Math.sin(d39) * 10));
				d39 = 2.0933334827423096;
				this.mSet2(this.co_b.x, this.co_b.y, 710, Math.floor(Math.cos(d39) * 12), Math.floor(Math.sin(d39) * 10));
			} else
			if(this.co_b.c1 == 96)
			{
				var d40 = 4.5355558395385742;
				this.mSet2(this.co_b.x, this.co_b.y, 710, Math.floor(Math.cos(d40) * 12), Math.floor(Math.sin(d40) * 10));
				d40 = 1.7444444894790649;
				this.mSet2(this.co_b.x, this.co_b.y, 710, Math.floor(Math.cos(d40) * 12), Math.floor(Math.sin(d40) * 10));
			} else
			if(this.co_b.c1 >= 200)
				this.co_b.c1 = 0;
		} else
		if(this.boss2_type == 5)
		{
			if(this.co_b.c1 == 5)
			{
				for(var k1 = 10; k1 <= 310; k1 += 60)
				{
					this.mSet2(this.co_b.x, this.co_b.y, 901, k1, 0);
					this.mSet2(this.co_b.x, this.co_b.y, 911, 300 - k1, 0);
				}

				this.gs.rsAddSound(18);
			} else
			if(this.co_b.c1 == 45)
			{
				for(var l1 = 30; l1 <= 330; l1 += 60)
				{
					this.mSet2(this.co_b.x, this.co_b.y, 901, l1, 0);
					this.mSet2(this.co_b.x, this.co_b.y, 911, 300 - l1, 0);
				}

				this.gs.rsAddSound(18);
			} else
			if(this.co_b.c1 == 85)
			{
				for(var i2 = 50; i2 <= 350; i2 += 60)
				{
					this.mSet2(this.co_b.x, this.co_b.y, 901, i2, 0);
					this.mSet2(this.co_b.x, this.co_b.y, 911, 300 - i2, 0);
				}

				this.gs.rsAddSound(18);
			} else
			if(this.co_b.c1 > 270)
				this.co_b.c1 = 0;
		} else
		if(this.boss2_type == 6)
		{
			this.co_b.c1--;
			if(this.co_b.c1 <= 0)
			{
				this.co_b.c2 = 0;
				this.co_b.c1 = 100;
				this.gs.rsAddSound(18);
				var d41 = 3.1400001049041748;
				this.mSet2(this.co_b.x, this.co_b.y, 711, Math.floor(Math.cos(d41) * 12), Math.floor(Math.sin(d41) * 8));
			} else
			if(this.co_b.c1 <= 100)
			{
				this.co_b.c2 += 10;
				if(this.co_b.c2 == 40)
				{
					var d42 = 3.8377780914306641;
					this.mSet2(this.co_b.x, this.co_b.y, 711, Math.floor(Math.cos(d42) * 12), Math.floor(Math.sin(d42) * 8));
				} else
				if(this.co_b.c2 == 70)
				{
					var d43 = 4.3611111640930176;
					this.mSet2(this.co_b.x, this.co_b.y, 711, Math.floor(Math.cos(d43) * 12), Math.floor(Math.sin(d43) * 8));
				} else
				if(this.co_b.c2 >= 90)
				{
					this.co_b.c2 = 90;
					var d44 = 4.8844447135925293;
					this.mSet2(this.co_b.x, this.co_b.y, 711, Math.floor(Math.cos(d44) * 12), Math.floor(Math.sin(d44) * 8));
					this.co_b.c1 = 200;
				}
			} else
			if(this.co_b.c1 <= 200)
			{
				this.co_b.c2 -= 5;
				if(this.co_b.c2 == 80)
				{
					var d45 = 4.5355558395385742;
					this.mSet2(this.co_b.x, this.co_b.y, 711, Math.floor(Math.cos(d45) * 12), Math.floor(Math.sin(d45) * 8));
				} else
				if(this.co_b.c2 == 60)
				{
					var d46 = 4.1866669654846191;
					this.mSet2(this.co_b.x, this.co_b.y, 711, Math.floor(Math.cos(d46) * 12), Math.floor(Math.sin(d46) * 8));
				} else
				if(this.co_b.c2 == 30)
				{
					var d47 = 3.6633334159851074;
					this.mSet2(this.co_b.x, this.co_b.y, 711, Math.floor(Math.cos(d47) * 12), Math.floor(Math.sin(d47) * 8));
				} else
				if(this.co_b.c2 == 0)
				{
					var d48 = 3.1400001049041748;
					this.mSet2(this.co_b.x, this.co_b.y, 711, Math.floor(Math.cos(d48) * 12), Math.floor(Math.sin(d48) * 8));
				} else
				if(this.co_b.c2 == -40)
				{
					var d49 = 2.4422223567962646;
					this.mSet2(this.co_b.x, this.co_b.y, 711, Math.floor(Math.cos(d49) * 12), Math.floor(Math.sin(d49) * 8));
				} else
				if(this.co_b.c2 == -70)
				{
					var d50 = 1.918889045715332;
					this.mSet2(this.co_b.x, this.co_b.y, 711, Math.floor(Math.cos(d50) * 12), Math.floor(Math.sin(d50) * 8));
				} else
				if(this.co_b.c2 <= -100)
				{
					this.co_b.c2 = -100;
					var d51 = 1.3955556154251099;
					this.mSet2(this.co_b.x, this.co_b.y, 711, Math.floor(Math.cos(d51) * 12), Math.floor(Math.sin(d51) * 8));
					this.co_b.c1 = 300;
				}
			} else
			if(this.co_b.c1 <= 300)
			{
				this.co_b.c2 += 2;
				if(this.co_b.c2 == -60)
				{
					var d52 = 2.0933334827423096;
					this.mSet2(this.co_b.x, this.co_b.y, 711, Math.floor(Math.cos(d52) * 12), Math.floor(Math.sin(d52) * 8));
				} else
				if(this.co_b.c2 == -30)
				{
					var d53 = 2.6166667938232422;
					this.mSet2(this.co_b.x, this.co_b.y, 711, Math.floor(Math.cos(d53) * 12), Math.floor(Math.sin(d53) * 8));
				} else
				if(this.co_b.c2 == 0)
				{
					var d54 = 3.1400001049041748;
					this.mSet2(this.co_b.x, this.co_b.y, 711, Math.floor(Math.cos(d54) * 12), Math.floor(Math.sin(d54) * 8));
				} else
				if(this.co_b.c2 == 30)
				{
					var d55 = 3.6633334159851074;
					this.mSet2(this.co_b.x, this.co_b.y, 711, Math.floor(Math.cos(d55) * 12), Math.floor(Math.sin(d55) * 8));
				} else
				if(this.co_b.c2 == 60)
				{
					var d56 = 4.1866669654846191;
					this.mSet2(this.co_b.x, this.co_b.y, 711, Math.floor(Math.cos(d56) * 12), Math.floor(Math.sin(d56) * 8));
				} else
				if(this.co_b.c2 >= 90)
				{
					this.co_b.c2 = 90;
					var d57 = 4.7100000381469727;
					this.mSet2(this.co_b.x, this.co_b.y, 711, Math.floor(Math.cos(d57) * 12), Math.floor(Math.sin(d57) * 8));
					this.co_b.c1 = 400;
				}
			} else
			{
				this.co_b.c2 -= 2;
				if(this.co_b.c2 == 60)
				{
					var d58 = 4.1866669654846191;
					this.mSet2(this.co_b.x, this.co_b.y, 711, Math.floor(Math.cos(d58) * 12), Math.floor(Math.sin(d58) * 8));
				} else
				if(this.co_b.c2 == 30)
				{
					var d59 = 3.6633334159851074;
					this.mSet2(this.co_b.x, this.co_b.y, 711, Math.floor(Math.cos(d59) * 12), Math.floor(Math.sin(d59) * 8));
				} else
				if(this.co_b.c2 == 0)
				{
					var d60 = 3.1400001049041748;
					this.mSet2(this.co_b.x, this.co_b.y, 711, Math.floor(Math.cos(d60) * 12), Math.floor(Math.sin(d60) * 8));
				} else
				if(this.co_b.c2 == -30)
				{
					var d61 = 2.6166667938232422;
					this.mSet2(this.co_b.x, this.co_b.y, 711, Math.floor(Math.cos(d61) * 12), Math.floor(Math.sin(d61) * 8));
				} else
				if(this.co_b.c2 == -60)
				{
					var d62 = 2.0933334827423096;
					this.mSet2(this.co_b.x, this.co_b.y, 711, Math.floor(Math.cos(d62) * 12), Math.floor(Math.sin(d62) * 8));
				} else
				if(this.co_b.c2 <= -90)
				{
					this.co_b.c2 = -90;
					var d63 = 1.5700000524520874;
					this.mSet2(this.co_b.x, this.co_b.y, 711, Math.floor(Math.cos(d63) * 12), Math.floor(Math.sin(d63) * 8));
					this.co_b.c1 = 300;
				}
			}
		} else
		if(this.boss2_type == 7)
			this.co_b.c1 = 0;
		else
		if(this.boss2_type == 8)
		{
			if(this.co_b.c1 == 5 || this.co_b.c1 == 45 || this.co_b.c1 == 85)
			{
				this.mSet(this.co_b.x, this.co_b.y, 95);
				this.gs.rsAddSound(18);
			} else
			if(this.co_b.c1 > 165)
				this.co_b.c1 = 4;
		} else
		if(this.co_b.c1 == 5 || this.co_b.c1 == 35 || this.co_b.c1 == 65 || this.co_b.c1 == 110 || this.co_b.c1 == 185)
		{
			this.mSet(this.co_b.x, this.co_b.y, 90);
			this.gs.rsAddSound(18);
		} else
		if(this.co_b.c1 > 185)
			this.co_b.c1 = 110;
		this.co_b.pt = 1100;
		if(this.boss2_type == 6)
			this.co_b.pt = 1101;
		break;

	case 215: 
		this.boss_attack_mode = true;
		this.co_b.c1++;
		if(this.boss2_type == 2)
		{
			if(this.co_b.c1 == 10 || this.co_b.c1 == 85 || this.co_b.c1 == 215)
			{
				for(var j2 = 0; j2 <= 7; j2++)
				{
					var d64 = ((j2 * 45) * 3.14) / 180;
					var j7 = Math.floor(Math.cos(d64) * 8);
					var l8 = Math.floor(Math.sin(d64) * 8) * -1;
					this.mSet2(this.co_b.x, this.co_b.y - 8, 710, j7, l8);
					this.gs.rsAddSound(18);
				}

			} else
			if(this.co_b.c1 == 35 || this.co_b.c1 == 110 || this.co_b.c1 == 295)
			{
				for(var k2 = 0; k2 <= 7; k2++)
				{
					var d65 = ((k2 * 45 + 15) * 3.14) / 180;
					var k7 = Math.floor(Math.cos(d65) * 8);
					var i9 = Math.floor(Math.sin(d65) * 8) * -1;
					this.mSet2(this.co_b.x, this.co_b.y - 8, 710, k7, i9);
					this.gs.rsAddSound(18);
				}

			} else
			if(this.co_b.c1 == 60 || this.co_b.c1 == 135 || this.co_b.c1 == 375)
			{
				for(var l2 = 0; l2 <= 7; l2++)
				{
					var d66 = ((l2 * 45 + 30) * 3.14) / 180;
					var l7 = Math.floor(Math.cos(d66) * 8);
					var j9 = Math.floor(Math.sin(d66) * 8) * -1;
					this.mSet2(this.co_b.x, this.co_b.y - 8, 710, l7, j9);
					this.gs.rsAddSound(18);
				}

			} else
			if(this.co_b.c1 > 445)
				this.co_b.c1 = 0;
		} else
		if(this.boss2_type == 3)
		{
			if(this.co_b.c1 == 5 || this.co_b.c1 == 125)
			{
				for(var i3 = 0; i3 <= 270; i3 += 90)
					this.mSet2(this.co_b.x, this.co_b.y, 980, i3, 0);

				this.gs.rsAddSound(18);
			} else
			if(this.co_b.c1 == 45)
			{
				for(var j3 = 30; j3 <= 300; j3 += 90)
					this.mSet2(this.co_b.x, this.co_b.y, 980, j3, 0);

				this.gs.rsAddSound(18);
			} else
			if(this.co_b.c1 == 85)
			{
				for(var k3 = 60; k3 <= 330; k3 += 90)
					this.mSet2(this.co_b.x, this.co_b.y, 980, k3, 0);

				this.gs.rsAddSound(18);
			} else
			if(this.co_b.c1 > 250)
				this.co_b.c1 = 0;
		} else
		if(this.boss2_type == 4)
		{
			if(this.co_b.c1 == 1)
			{
				this.gs.rsAddSound(18);
				var d67 = 4.5355558395385742;
				this.mSet2(this.co_b.x, this.co_b.y, 710, Math.floor(Math.cos(d67) * 12), Math.floor(Math.sin(d67) * 10));
				d67 = 1.7444444894790649;
				this.mSet2(this.co_b.x, this.co_b.y, 710, Math.floor(Math.cos(d67) * 12), Math.floor(Math.sin(d67) * 10));
			} else
			if(this.co_b.c1 == 8)
			{
				var d68 = 4.8844447135925293;
				this.mSet2(this.co_b.x, this.co_b.y, 710, Math.floor(Math.cos(d68) * 12), Math.floor(Math.sin(d68) * 10));
				d68 = 1.3955556154251099;
				this.mSet2(this.co_b.x, this.co_b.y, 710, Math.floor(Math.cos(d68) * 12), Math.floor(Math.sin(d68) * 10));
			} else
			if(this.co_b.c1 == 16)
			{
				var d69 = 5.2333335876464844;
				this.mSet2(this.co_b.x, this.co_b.y, 710, Math.floor(Math.cos(d69) * 12), Math.floor(Math.sin(d69) * 10));
				d69 = 1.0466667413711548;
				this.mSet2(this.co_b.x, this.co_b.y, 710, Math.floor(Math.cos(d69) * 12), Math.floor(Math.sin(d69) * 10));
			} else
			if(this.co_b.c1 == 24)
			{
				var d70 = 5.5822224617004395;
				this.mSet2(this.co_b.x, this.co_b.y, 710, Math.floor(Math.cos(d70) * 12), Math.floor(Math.sin(d70) * 10));
				d70 = 0.69777780771255493;
				this.mSet2(this.co_b.x, this.co_b.y, 710, Math.floor(Math.cos(d70) * 12), Math.floor(Math.sin(d70) * 10));
			} else
			if(this.co_b.c1 == 32)
			{
				var d71 = 6.0183334350585938;
				this.mSet2(this.co_b.x, this.co_b.y, 710, Math.floor(Math.cos(d71) * 12), Math.floor(Math.sin(d71) * 10));
				d71 = 0.2616666853427887;
				this.mSet2(this.co_b.x, this.co_b.y, 710, Math.floor(Math.cos(d71) * 12), Math.floor(Math.sin(d71) * 10));
			} else
			if(this.co_b.c1 == 56)
			{
				var d72 = 0.0;
				this.mSet2(this.co_b.x, this.co_b.y, 710, Math.floor(Math.cos(d72) * 12), Math.floor(Math.sin(d72) * 10));
			} else
			if(this.co_b.c1 == 72)
			{
				var d73 = 6.0183334350585938;
				this.mSet2(this.co_b.x, this.co_b.y, 710, Math.floor(Math.cos(d73) * 12), Math.floor(Math.sin(d73) * 10));
				d73 = 0.2616666853427887;
				this.mSet2(this.co_b.x, this.co_b.y, 710, Math.floor(Math.cos(d73) * 12), Math.floor(Math.sin(d73) * 10));
			} else
			if(this.co_b.c1 == 80)
			{
				var d74 = 5.5822224617004395;
				this.mSet2(this.co_b.x, this.co_b.y, 710, Math.floor(Math.cos(d74) * 12), Math.floor(Math.sin(d74) * 10));
				d74 = 0.69777780771255493;
				this.mSet2(this.co_b.x, this.co_b.y, 710, Math.floor(Math.cos(d74) * 12), Math.floor(Math.sin(d74) * 10));
			} else
			if(this.co_b.c1 == 88)
			{
				var d75 = 5.2333335876464844;
				this.mSet2(this.co_b.x, this.co_b.y, 710, Math.floor(Math.cos(d75) * 12), Math.floor(Math.sin(d75) * 10));
				d75 = 1.0466667413711548;
				this.mSet2(this.co_b.x, this.co_b.y, 710, Math.floor(Math.cos(d75) * 12), Math.floor(Math.sin(d75) * 10));
			} else
			if(this.co_b.c1 == 96)
			{
				var d76 = 4.8844447135925293;
				this.mSet2(this.co_b.x, this.co_b.y, 710, Math.floor(Math.cos(d76) * 12), Math.floor(Math.sin(d76) * 10));
				d76 = 1.3955556154251099;
				this.mSet2(this.co_b.x, this.co_b.y, 710, Math.floor(Math.cos(d76) * 12), Math.floor(Math.sin(d76) * 10));
			} else
			if(this.co_b.c1 >= 200)
				this.co_b.c1 = 0;
		} else
		if(this.boss2_type == 5)
		{
			if(this.co_b.c1 == 5)
			{
				for(var l3 = 10; l3 <= 310; l3 += 60)
				{
					this.mSet2(this.co_b.x, this.co_b.y, 901, l3, 0);
					this.mSet2(this.co_b.x, this.co_b.y, 911, 300 - l3, 0);
				}

				this.gs.rsAddSound(18);
			} else
			if(this.co_b.c1 == 45)
			{
				for(var i4 = 30; i4 <= 330; i4 += 60)
				{
					this.mSet2(this.co_b.x, this.co_b.y, 901, i4, 0);
					this.mSet2(this.co_b.x, this.co_b.y, 911, 300 - i4, 0);
				}

				this.gs.rsAddSound(18);
			} else
			if(this.co_b.c1 == 85)
			{
				for(var j4 = 50; j4 <= 350; j4 += 60)
				{
					this.mSet2(this.co_b.x, this.co_b.y, 901, j4, 0);
					this.mSet2(this.co_b.x, this.co_b.y, 911, 300 - j4, 0);
				}

				this.gs.rsAddSound(18);
			} else
			if(this.co_b.c1 > 270)
				this.co_b.c1 = 0;
		} else
		if(this.boss2_type == 6)
		{
			this.co_b.c1--;
			if(this.co_b.c1 <= 0)
			{
				this.co_b.c2 = 0;
				this.co_b.c1 = 100;
				this.gs.rsAddSound(18);
				var d77 = 0.0;
				this.mSet2(this.co_b.x, this.co_b.y, 711, Math.floor(Math.cos(d77) * 12), Math.floor(Math.sin(d77) * 8));
			} else
			if(this.co_b.c1 <= 100)
			{
				this.co_b.c2 -= 10;
				if(this.co_b.c2 == -40)
				{
					var d78 = 5.5822224617004395;
					this.mSet2(this.co_b.x, this.co_b.y, 711, Math.floor(Math.cos(d78) * 12), Math.floor(Math.sin(d78) * 8));
				} else
				if(this.co_b.c2 == -70)
				{
					var d79 = 5.0588889122009277;
					this.mSet2(this.co_b.x, this.co_b.y, 711, Math.floor(Math.cos(d79) * 12), Math.floor(Math.sin(d79) * 8));
				} else
				if(this.co_b.c2 <= -90)
				{
					this.co_b.c2 = -90;
					var d80 = 4.5355558395385742;
					this.mSet2(this.co_b.x, this.co_b.y, 711, Math.floor(Math.cos(d80) * 12), Math.floor(Math.sin(d80) * 8));
					this.co_b.c1 = 200;
				}
			} else
			if(this.co_b.c1 <= 200)
			{
				this.co_b.c2 += 5;
				if(this.co_b.c2 == -80)
				{
					var d81 = 4.8844447135925293;
					this.mSet2(this.co_b.x, this.co_b.y, 711, Math.floor(Math.cos(d81) * 12), Math.floor(Math.sin(d81) * 8));
				} else
				if(this.co_b.c2 == -60)
				{
					var d82 = 5.2333335876464844;
					this.mSet2(this.co_b.x, this.co_b.y, 711, Math.floor(Math.cos(d82) * 12), Math.floor(Math.sin(d82) * 8));
				} else
				if(this.co_b.c2 == -30)
				{
					var d83 = 5.7566671371459961;
					this.mSet2(this.co_b.x, this.co_b.y, 711, Math.floor(Math.cos(d83) * 12), Math.floor(Math.sin(d83) * 8));
				} else
				if(this.co_b.c2 == 0)
				{
					var d84 = 0.0;
					this.mSet2(this.co_b.x, this.co_b.y, 711, Math.floor(Math.cos(d84) * 12), Math.floor(Math.sin(d84) * 8));
				} else
				if(this.co_b.c2 == 40)
				{
					var d85 = 0.69777780771255493;
					this.mSet2(this.co_b.x, this.co_b.y, 711, Math.floor(Math.cos(d85) * 12), Math.floor(Math.sin(d85) * 8));
				} else
				if(this.co_b.c2 == 70)
				{
					var d86 = 1.2211111783981323;
					this.mSet2(this.co_b.x, this.co_b.y, 711, Math.floor(Math.cos(d86) * 12), Math.floor(Math.sin(d86) * 8));
				} else
				if(this.co_b.c2 >= 100)
				{
					this.co_b.c2 = 100;
					var d87 = 1.7444444894790649;
					this.mSet2(this.co_b.x, this.co_b.y, 711, Math.floor(Math.cos(d87) * 12), Math.floor(Math.sin(d87) * 8));
					this.co_b.c1 = 300;
				}
			} else
			if(this.co_b.c1 <= 300)
			{
				this.co_b.c2 -= 2;
				if(this.co_b.c2 == 60)
				{
					var d88 = 1.0466667413711548;
					this.mSet2(this.co_b.x, this.co_b.y, 711, Math.floor(Math.cos(d88) * 12), Math.floor(Math.sin(d88) * 8));
				} else
				if(this.co_b.c2 == 30)
				{
					var d89 = 0.52333337068557739;
					this.mSet2(this.co_b.x, this.co_b.y, 711, Math.floor(Math.cos(d89) * 12), Math.floor(Math.sin(d89) * 8));
				} else
				if(this.co_b.c2 == 0)
				{
					var d90 = 0.0;
					this.mSet2(this.co_b.x, this.co_b.y, 711, Math.floor(Math.cos(d90) * 12), Math.floor(Math.sin(d90) * 8));
				} else
				if(this.co_b.c2 == -30)
				{
					var d91 = 5.7566671371459961;
					this.mSet2(this.co_b.x, this.co_b.y, 711, Math.floor(Math.cos(d91) * 12), Math.floor(Math.sin(d91) * 8));
				} else
				if(this.co_b.c2 == -60)
				{
					var d92 = 5.2333335876464844;
					this.mSet2(this.co_b.x, this.co_b.y, 711, Math.floor(Math.cos(d92) * 12), Math.floor(Math.sin(d92) * 8));
				} else
				if(this.co_b.c2 <= -90)
				{
					this.co_b.c2 = -90;
					var d93 = 4.7100000381469727;
					this.mSet2(this.co_b.x, this.co_b.y, 711, Math.floor(Math.cos(d93) * 12), Math.floor(Math.sin(d93) * 8));
					this.co_b.c1 = 400;
				}
			} else
			{
				this.co_b.c2 += 2;
				if(this.co_b.c2 == -60)
				{
					var d94 = 5.2333335876464844;
					this.mSet2(this.co_b.x, this.co_b.y, 711, Math.floor(Math.cos(d94) * 12), Math.floor(Math.sin(d94) * 8));
				} else
				if(this.co_b.c2 == -30)
				{
					var d95 = 5.7566671371459961;
					this.mSet2(this.co_b.x, this.co_b.y, 711, Math.floor(Math.cos(d95) * 12), Math.floor(Math.sin(d95) * 8));
				} else
				if(this.co_b.c2 == 0)
				{
					var d96 = 0.0;
					this.mSet2(this.co_b.x, this.co_b.y, 711, Math.floor(Math.cos(d96) * 12), Math.floor(Math.sin(d96) * 8));
				} else
				if(this.co_b.c2 == 30)
				{
					var d97 = 0.52333337068557739;
					this.mSet2(this.co_b.x, this.co_b.y, 711, Math.floor(Math.cos(d97) * 12), Math.floor(Math.sin(d97) * 8));
				} else
				if(this.co_b.c2 == 60)
				{
					var d98 = 1.0466667413711548;
					this.mSet2(this.co_b.x, this.co_b.y, 711, Math.floor(Math.cos(d98) * 12), Math.floor(Math.sin(d98) * 8));
				} else
				if(this.co_b.c2 >= 90)
				{
					this.co_b.c2 = 90;
					var d99 = 1.5700000524520874;
					this.mSet2(this.co_b.x, this.co_b.y, 711, Math.floor(Math.cos(d99) * 12), Math.floor(Math.sin(d99) * 8));
					this.co_b.c1 = 300;
				}
			}
		} else
		if(this.boss2_type == 7)
			this.co_b.c1 = 0;
		else
		if(this.boss2_type == 8)
		{
			if(this.co_b.c1 == 5 || this.co_b.c1 == 45 || this.co_b.c1 == 85)
			{
				this.mSet(this.co_b.x, this.co_b.y, 96);
				this.gs.rsAddSound(18);
			} else
			if(this.co_b.c1 > 165)
				this.co_b.c1 = 4;
		} else
		if(this.co_b.c1 == 5 || this.co_b.c1 == 35 || this.co_b.c1 == 65 || this.co_b.c1 == 110 || this.co_b.c1 == 185)
		{
			this.mSet(this.co_b.x, this.co_b.y, 90);
			this.gs.rsAddSound(18);
		} else
		if(this.co_b.c1 > 185)
			this.co_b.c1 = 110;
		this.co_b.pt = 1105;
		if(this.boss2_type == 6)
			this.co_b.pt = 1106;
		break;

	case 250: 
		this.co_b.x -= 14;
		if(this.co_b.x <= this.sl_wx + 96)
		{
			this.co_b.x = this.sl_wx + 96;
			this.co_b.c = 215;
			this.co_b.c1 = 0;
		}
		this.co_b.pt = 1100;
		break;

	case 255: 
		this.co_b.x += 14;
		if(this.co_b.x >= (this.sl_wx + 512) - 96 - 32)
		{
			this.co_b.x = (this.sl_wx + 512) - 96 - 32;
			this.co_b.c = 210;
			this.co_b.c1 = 0;
		}
		this.co_b.pt = 1105;
		break;

	case 300: 
		if(this.sl_step == 2 || this.sl_step == 3)
			if(this.boss_destroy_type == 2)
			{
				this.co_b.x -= 8;
				if(this.co_b.x <= (this.sl_wx + 512) - 128)
				{
					this.co_b.x = (this.sl_wx + 512) - 128;
					var l5 = Math.floor((this.boss_hp * 200) / this.boss_hp_max);
					this.showGauge(String(l5), "" + this.tdb.getValue("boss3_name") + "  " + this.boss_hp + "/" + this.boss_hp_max);
					if(this.boss3_type >= 2 && this.boss3_type <= 4 || this.boss3_type >= 6 && this.boss3_type <= 8)
					{
						this.co_b.c = 360;
						this.co_b.vy = -24;
					} else
					{
						this.co_b.c = 310;
					}
					this.co_b.c1 = 0;
					this.co_b.c2 = 0;
				}
			} else
			{
				if(this.boss3_type >= 2 && this.boss3_type <= 4 || this.boss3_type >= 6 && this.boss3_type <= 8)
				{
					this.co_b.c = 360;
					this.co_b.vy = -24;
				} else
				{
					this.co_b.c = 310;
				}
				this.co_b.c1 = 0;
				this.co_b.c2 = 0;
			}
		this.co_b.pt = 1200;
		break;

	case 310: 
		this.boss_attack_mode = true;
		this.co_b.c1++;
		if(this.boss3_type == 5)
		{
			if(this.co_b.c1 == 1 || this.co_b.c1 == 20 || this.co_b.c1 == 40 || this.co_b.c1 == 60 || this.co_b.c1 == 80 || this.co_b.c1 == 100 || this.co_b.c1 == 120 || this.co_b.c1 == 140)
			{
				if(this.co_b.c1 == 1)
					this.gs.rsAddSound(22);
				if(this.co_b.c1 <= 45)
					this.mSet2((this.maps.wx + 512) - 32 - this.ranInt(10) * 8, this.maps.wy - 32, 740, -4, 9);
				this.mSet2((this.maps.wx + 512) - 32 - 8 * (this.ranInt(35) + 14), this.maps.wy - 32, 740, -4, 9);
			} else
			if(this.co_b.c1 == 15 || this.co_b.c1 == 35 || this.co_b.c1 == 55 || this.co_b.c1 == 75 || this.co_b.c1 == 95 || this.co_b.c1 == 115 || this.co_b.c1 == 135 || this.co_b.c1 == 155)
			{
				if(this.co_b.c1 <= 55)
					this.mSet2((this.maps.wx + 512) - 32 - this.ranInt(10) * 8, this.maps.wy - 32, 740, -4, 11);
				this.mSet2((this.maps.wx + 512) - 32 - 8 * (this.ranInt(35) + 14), this.maps.wy - 32, 740, -4, 11);
			} else
			if(this.co_b.c1 >= 250)
				this.co_b.c1 = 55;
		} else
		if(this.co_b.c1 == 1)
		{
			this.mSet2(this.co_b.x, this.co_b.y, 800, -5, -32);
			this.gs.rsAddSound(22);
		} else
		if(this.co_b.c1 == 15)
		{
			this.mSet2(this.co_b.x, this.co_b.y, 800, -10, -32);
			this.gs.rsAddSound(22);
			if(this.co_j.x > this.co_b.x - 64)
				this.co_b.c1 = 500;
		} else
		if(this.co_b.c1 == 29)
		{
			this.mSet2(this.co_b.x, this.co_b.y, 800, -15, -32);
			this.gs.rsAddSound(22);
		} else
		if(this.co_b.c1 == 65)
		{
			this.mSet2(this.co_b.x - 2, this.co_b.y, 800, -20, -32);
			this.gs.rsAddSound(22);
		} else
		if(this.co_b.c1 == 80)
		{
			this.mSet2(this.co_b.x, this.co_b.y, 800, -5, -32);
			this.gs.rsAddSound(22);
		} else
		if(this.co_b.c1 == 105)
		{
			this.mSet2(this.co_b.x, this.co_b.y, 800, -15, -32);
			this.gs.rsAddSound(22);
		} else
		if(this.co_b.c1 == 147)
		{
			this.mSet2(this.co_b.x, this.co_b.y, 800, -10, -32);
			this.gs.rsAddSound(22);
		} else
		if(this.co_b.c1 == 237)
			this.co_b.c1 = 0;
		else
		if(this.co_b.c1 == 520)
		{
			this.mSet2(this.co_b.x, this.co_b.y, 800, 4, -32);
			this.gs.rsAddSound(22);
		} else
		if(this.co_b.c1 == 530)
		{
			this.mSet2(this.co_b.x, this.co_b.y, 800, -5, -32);
			this.gs.rsAddSound(22);
			this.co_b.c1 = 1;
		} else
		if(this.co_b.c1 > 530)
			this.co_b.c1 = 1;
		this.co_b.pt = 1200;
		break;

	case 315: 
		this.boss_attack_mode = true;
		this.co_b.c1++;
		if(this.boss3_type == 5)
		{
			if(this.co_b.c1 == 1 || this.co_b.c1 == 20 || this.co_b.c1 == 40 || this.co_b.c1 == 60 || this.co_b.c1 == 80 || this.co_b.c1 == 100 || this.co_b.c1 == 120 || this.co_b.c1 == 140)
			{
				if(this.co_b.c1 == 1)
					this.gs.rsAddSound(22);
				if(this.co_b.c1 <= 45)
					this.mSet2(this.maps.wx + this.ranInt(10) * 8, this.maps.wy - 32, 740, 4, 9);
				this.mSet2(this.maps.wx + 8 * (this.ranInt(35) + 14), this.maps.wy - 32, 740, 4, 9);
			} else
			if(this.co_b.c1 == 15 || this.co_b.c1 == 35 || this.co_b.c1 == 55 || this.co_b.c1 == 75 || this.co_b.c1 == 95 || this.co_b.c1 == 115 || this.co_b.c1 == 135 || this.co_b.c1 == 155)
			{
				if(this.co_b.c1 <= 55)
					this.mSet2(this.maps.wx + this.ranInt(10) * 8, this.maps.wy - 32, 740, 4, 11);
				this.mSet2(this.maps.wx + 8 * (this.ranInt(35) + 14), this.maps.wy - 32, 740, 4, 11);
			} else
			if(this.co_b.c1 >= 250)
				this.co_b.c1 = 55;
		} else
		if(this.co_b.c1 == 1)
		{
			this.mSet2(this.co_b.x, this.co_b.y, 800, 5, -32);
			this.gs.rsAddSound(22);
		} else
		if(this.co_b.c1 == 15)
		{
			this.mSet2(this.co_b.x, this.co_b.y, 800, 10, -32);
			this.gs.rsAddSound(22);
			if(this.co_j.x < this.co_b.x + 64)
				this.co_b.c1 = 500;
		} else
		if(this.co_b.c1 == 29)
		{
			this.mSet2(this.co_b.x, this.co_b.y, 800, 15, -32);
			this.gs.rsAddSound(22);
		} else
		if(this.co_b.c1 == 65)
		{
			this.mSet2(this.co_b.x + 2, this.co_b.y, 800, 20, -32);
			this.gs.rsAddSound(22);
		} else
		if(this.co_b.c1 == 80)
		{
			this.mSet2(this.co_b.x, this.co_b.y, 800, 5, -32);
			this.gs.rsAddSound(22);
		} else
		if(this.co_b.c1 == 105)
		{
			this.mSet2(this.co_b.x, this.co_b.y, 800, 15, -32);
			this.gs.rsAddSound(22);
		} else
		if(this.co_b.c1 == 147)
		{
			this.mSet2(this.co_b.x, this.co_b.y, 800, 10, -32);
			this.gs.rsAddSound(22);
		} else
		if(this.co_b.c1 == 237)
			this.co_b.c1 = 0;
		else
		if(this.co_b.c1 == 520)
		{
			this.mSet2(this.co_b.x, this.co_b.y, 800, -4, -32);
			this.gs.rsAddSound(22);
		} else
		if(this.co_b.c1 == 530)
		{
			this.mSet2(this.co_b.x, this.co_b.y, 800, 5, -32);
			this.gs.rsAddSound(22);
			this.co_b.c1 = 1;
		} else
		if(this.co_b.c1 > 530)
			this.co_b.c1 = 1;
		this.co_b.pt = 1205;
		break;

	case 350: 
		this.co_b.x -= 14;
		if(this.co_b.x <= this.sl_wx + 96)
		{
			this.co_b.x = this.sl_wx + 96;
			if(this.boss3_type >= 2 && this.boss3_type <= 4 || this.boss3_type >= 6 && this.boss3_type <= 8)
			{
				this.co_b.c = 365;
				this.co_b.vy = -24;
			} else
			{
				this.co_b.c = 315;
			}
			this.co_b.c1 = 0;
		}
		this.co_b.pt = 1200;
		break;

	case 355: 
		this.co_b.x += 14;
		if(this.co_b.x >= (this.sl_wx + 512) - 96 - 32)
		{
			this.co_b.x = (this.sl_wx + 512) - 96 - 32;
			if(this.boss3_type >= 2 && this.boss3_type <= 4 || this.boss3_type >= 6 && this.boss3_type <= 8)
			{
				this.co_b.c = 360;
				this.co_b.vy = -24;
			} else
			{
				this.co_b.c = 310;
			}
			this.co_b.c1 = 0;
		}
		this.co_b.pt = 1205;
		break;

	case 360: 
		this.co_b.pt = 1200;
		if(this.co_b.c1 < 5)
		{
			this.co_b.c1++;
			this.co_b.c2 = 0;
		} else
		if(this.co_b.c1 < 25)
		{
			this.co_b.c1++;
			this.boss_attack_mode = true;
			this.co_b.pt = 1250;
			if(this.boss3_type >= 6 && this.boss3_type <= 8)
			{
				this.co_b.pt = 1251;
				this.co_b.c2 -= 15;
				if(this.boss3_type == 7)
					this.co_b.c2 -= 15;
				if(this.co_b.c2 < 0)
					this.co_b.c2 += 360;
			}
		} else
		if(this.co_b.c1 == 25)
		{
			this.boss_attack_mode = true;
			if(this.boss3_type == 3 || this.boss3_type == 7)
			{
				this.co_b.x -= 18;
				if(this.co_b.x <= this.sl_wx + 16)
				{
					this.co_b.x = this.sl_wx + 16;
					this.co_b.c1 = 30;
				}
			} else
			if(this.boss3_type == 4 || this.boss3_type == 8)
			{
				this.co_b.x -= 3;
				this.co_b.vy += 2;
				if(this.co_b.vy > 24)
					this.co_b.vy = 24;
				this.co_b.y += this.co_b.vy;
				if(this.co_b.y >= this.boss_kijyun_y)
				{
					this.co_b.y = this.boss_kijyun_y;
					this.co_b.vy = -24;
					if(this.co_b.x <= this.sl_wx + 16)
						this.co_b.c1 = 30;
				}
			} else
			{
				this.co_b.x -= 12;
				if(this.co_b.x <= this.sl_wx + 16)
				{
					this.co_b.x = this.sl_wx + 16;
					this.co_b.c1 = 30;
				}
			}
			this.co_b.pt = 1250;
			if(this.boss3_type >= 6 && this.boss3_type <= 8)
			{
				this.co_b.pt = 1251;
				this.co_b.c2 -= 15;
				if(this.boss3_type == 7)
					this.co_b.c2 -= 15;
				if(this.co_b.c2 < 0)
					this.co_b.c2 += 360;
			}
		} else
		if(this.co_b.c1 == 30)
		{
			this.boss_attack_mode = true;
			if(this.boss3_type == 3 || this.boss3_type == 7)
			{
				this.co_b.x += 18;
				if(this.co_b.x >= (this.sl_wx + 512) - 48)
				{
					this.co_b.x = (this.sl_wx + 512) - 48;
					this.co_b.c1 = 40;
				}
			} else
			if(this.boss3_type == 4 || this.boss3_type == 8)
			{
				this.co_b.x += 4;
				this.co_b.vy += 2;
				if(this.co_b.vy > 24)
					this.co_b.vy = 24;
				this.co_b.y += this.co_b.vy;
				if(this.co_b.y >= this.boss_kijyun_y)
				{
					this.co_b.y = this.boss_kijyun_y;
					this.co_b.vy = -24;
					if(this.co_b.x >= (this.sl_wx + 512) - 48)
						this.co_b.c1 = 40;
				}
			} else
			{
				this.co_b.x += 8;
				if(this.co_b.x >= (this.sl_wx + 512) - 48)
				{
					this.co_b.x = (this.sl_wx + 512) - 48;
					this.co_b.c1 = 40;
				}
			}
			this.co_b.pt = 1255;
			if(this.boss3_type >= 6 && this.boss3_type <= 8)
			{
				this.co_b.pt = 1256;
				this.co_b.c2 += 15;
				if(this.boss3_type == 7)
					this.co_b.c2 += 15;
				if(this.co_b.c2 >= 360)
					this.co_b.c2 -= 360;
			}
		} else
		if(this.co_b.c1 == 40)
		{
			this.co_b.x -= 2;
			if(this.co_b.x <= (this.sl_wx + 512) - 96 - 32)
			{
				this.co_b.x = (this.sl_wx + 512) - 96 - 32;
				this.co_b.c1 = -20;
			}
		}
		break;

	case 365: 
		this.co_b.pt = 1205;
		if(this.co_b.c1 < 5)
			this.co_b.c1++;
		else
		if(this.co_b.c1 < 25)
		{
			this.co_b.c1++;
			this.boss_attack_mode = true;
			this.co_b.pt = 1255;
			if(this.boss3_type >= 6 && this.boss3_type <= 8)
			{
				this.co_b.pt = 1256;
				this.co_b.c2 += 15;
				if(this.boss3_type == 7)
					this.co_b.c2 += 15;
				if(this.co_b.c2 >= 360)
					this.co_b.c2 -= 360;
			}
		} else
		if(this.co_b.c1 == 25)
		{
			if(this.boss3_type == 3 || this.boss3_type == 7)
			{
				this.co_b.x += 18;
				if(this.co_b.x >= (this.sl_wx + 512) - 48)
				{
					this.co_b.x = (this.sl_wx + 512) - 48;
					this.co_b.c1 = 30;
				}
			} else
			if(this.boss3_type == 4 || this.boss3_type == 8)
			{
				this.co_b.x += 3;
				this.co_b.vy += 2;
				if(this.co_b.vy > 24)
					this.co_b.vy = 24;
				this.co_b.y += this.co_b.vy;
				if(this.co_b.y >= this.boss_kijyun_y)
				{
					this.co_b.y = this.boss_kijyun_y;
					this.co_b.vy = -24;
					if(this.co_b.x >= (this.sl_wx + 512) - 48)
						this.co_b.c1 = 30;
				}
			} else
			{
				this.co_b.x += 12;
				if(this.co_b.x >= (this.sl_wx + 512) - 48)
				{
					this.co_b.x = (this.sl_wx + 512) - 48;
					this.co_b.c1 = 30;
				}
			}
			this.co_b.pt = 1255;
			if(this.boss3_type >= 6 && this.boss3_type <= 8)
			{
				this.co_b.pt = 1256;
				this.co_b.c2 += 15;
				if(this.boss3_type == 7)
					this.co_b.c2 += 15;
				if(this.co_b.c2 >= 360)
					this.co_b.c2 -= 360;
			}
		} else
		if(this.co_b.c1 == 30)
		{
			this.boss_attack_mode = true;
			if(this.boss3_type == 3 || this.boss3_type == 7)
			{
				this.co_b.x -= 18;
				if(this.co_b.x <= this.sl_wx + 16)
				{
					this.co_b.x = this.sl_wx + 16;
					this.co_b.c1 = 40;
				}
			} else
			if(this.boss3_type == 4 || this.boss3_type == 8)
			{
				this.co_b.x -= 4;
				this.co_b.vy += 2;
				if(this.co_b.vy > 24)
					this.co_b.vy = 24;
				this.co_b.y += this.co_b.vy;
				if(this.co_b.y >= this.boss_kijyun_y)
				{
					this.co_b.y = this.boss_kijyun_y;
					this.co_b.vy = -24;
					if(this.co_b.x <= this.sl_wx + 16)
						this.co_b.c1 = 40;
				}
			} else
			{
				this.co_b.x -= 8;
				if(this.co_b.x <= this.sl_wx + 16)
				{
					this.co_b.x = this.sl_wx + 16;
					this.co_b.c1 = 40;
				}
			}
			this.co_b.pt = 1250;
			if(this.boss3_type >= 6 && this.boss3_type <= 8)
			{
				this.co_b.pt = 1251;
				this.co_b.c2 -= 15;
				if(this.boss3_type == 7)
					this.co_b.c2 -= 15;
				if(this.co_b.c2 < 0)
					this.co_b.c2 += 360;
			}
		} else
		if(this.co_b.c1 == 40)
		{
			this.co_b.x += 2;
			if(this.co_b.x >= this.sl_wx + 96)
			{
				this.co_b.x = this.sl_wx + 96;
				this.co_b.c1 = -20;
			}
		}
		break;
	}
	if(this.co_j.c >= 100 && this.co_j.c < 200 && this.co_b.c >= 100 && Math.abs(this.co_b.x - this.co_j.x) < 42 && this.co_j.y > this.co_b.y - 20 && this.co_j.y < this.co_b.y + 40)
		if(this.co_b.pt == 1250 || this.co_b.pt == 1255 || this.co_b.pt == 1251 || this.co_b.pt == 1256 || this.j_tokugi == 10 || this.j_tokugi >= 12 && this.j_tokugi <= 15 || this.boss_destroy_type == 2)
			this.jShinu(2);
		else
		if((Math.abs(this.co_b.x - this.co_j.x) < 34 || this.easy_mode == 2) && this.co_j.vy > 0)
		{
			if(this.co_b.c < 200)
			{
				this.co_b.c4--;
				if(this.co_b.c4 == 1)
				{
					this.co_b.c = 65;
					this.co_b.c1 = 0;
					this.co_b.pt = 1015;
				} else
				{
					this.co_b.c = 60;
					this.co_b.c1 = 0;
					this.co_b.pt = 1010;
				}
				this.gs.rsAddSound(8);
			} else
			if(this.co_b.c < 300)
			{
				this.co_b.c4--;
				if(this.co_b.c4 == 1)
				{
					this.co_b.c = 75;
					this.co_b.c1 = 0;
					this.co_b.pt = 1115;
				} else
				{
					this.co_b.c = 70;
					this.co_b.c1 = 0;
					this.co_b.pt = 1110;
				}
				this.gs.rsAddSound(8);
			} else
			{
				this.co_b.c4--;
				if(this.co_b.c4 == 1)
				{
					this.co_b.c = 85;
					this.co_b.c1 = 0;
					this.co_b.pt = 1215;
				} else
				{
					this.co_b.c = 80;
					this.co_b.c1 = 0;
					this.co_b.pt = 1210;
				}
				this.gs.rsAddSound(8);
			}
			this.co_j.y = this.co_b.y;
			this.co_j.vy = -320;
			this.j_jump_type = 1;
			this.co_j.c = 110;
			this.co_j.c1 = -4;
			this.co_j.pt = 109;
		} else
		{
			this.jShinu(2);
		}
	if(this.jm_kazu > 0 && this.co_b.c >= 100)
	{
		for(var k4 = 0; k4 <= 8; k4++)
		{
			if(this.co_jm[k4].c < 100)
				continue;
			var characterobject = this.co_jm[k4];
			if(Math.abs(this.co_b.x - characterobject.x) >= 34 || Math.abs(this.co_b.y - characterobject.y) >= 30)
				continue;
			if(characterobject.c == 200)
			{
				characterobject.c = 50;
				characterobject.c1 = 1;
				characterobject.c2 = 20;
				if(this.grenade_type != 1 && this.grenade_type != 5)
					continue;
				if(this.j_tokugi == 14 || this.j_tokugi == 15)
				{
					if(this.co_b.c < 200)
					{
						this.co_b.c4 = 0;
						this.co_b.c = 60;
						this.co_b.c1 = 0;
						this.co_b.pt = 1010;
						this.co_b.y -= 16;
						this.gs.rsAddSound(8);
						continue;
					}
					if(this.co_b.c < 300)
					{
						this.co_b.c4 = 0;
						this.co_b.c = 70;
						this.co_b.c1 = 0;
						this.co_b.pt = 1110;
						this.co_b.y -= 16;
						this.gs.rsAddSound(8);
					} else
					{
						this.co_b.c4 = 0;
						this.co_b.c = 80;
						this.co_b.c1 = 0;
						this.co_b.pt = 1210;
						this.co_b.y -= 16;
						this.gs.rsAddSound(8);
					}
					continue;
				}
				if(this.co_b.c < 200)
				{
					this.co_b.c = 67;
					this.co_b.vy = -24;
					this.co_b.c1 = 0;
					if(characterobject.vx < 0)
					{
						this.co_b.muki = 1;
						this.co_b.pt = 1005;
						this.co_b.vx = -4;
					} else
					{
						this.co_b.muki = 0;
						this.co_b.pt = 1000;
						this.co_b.vx = 4;
					}
					this.gs.rsAddSound(9);
					continue;
				}
				if(this.co_b.c < 300)
				{
					this.co_b.c = 77;
					this.co_b.vy = -24;
					this.co_b.c1 = 0;
					if(characterobject.vx < 0)
					{
						this.co_b.muki = 1;
						this.co_b.pt = 1105;
						this.co_b.vx = -4;
					} else
					{
						this.co_b.muki = 0;
						this.co_b.pt = 1100;
						this.co_b.vx = 4;
					}
					this.gs.rsAddSound(9);
					continue;
				}
				this.co_b.c = 87;
				this.co_b.vy = -24;
				this.co_b.c1 = 0;
				if(characterobject.vx < 0)
				{
					this.co_b.muki = 1;
					this.co_b.pt = 1205;
					this.co_b.vx = -4;
				} else
				{
					this.co_b.muki = 0;
					this.co_b.pt = 1200;
					this.co_b.vx = 4;
				}
				this.gs.rsAddSound(9);
				continue;
			}
			characterobject.c = 0;
			this.jm_kazu--;
			if(this.j_tokugi == 10 || this.j_tokugi >= 12 && this.j_tokugi <= 15 || this.boss_destroy_type == 2)
			{
				if((this.boss_destroy_type != 2 || this.co_b.c != 100 && this.co_b.c != 200 && this.co_b.c != 300) && this.co_b.pt != 1250 && this.co_b.pt != 1255)
					this.boss_hp--;
				if(this.boss_hp <= 0)
				{
					this.boss_hp = 0;
					if(this.co_b.c < 200)
					{
						this.co_b.c4 = 0;
						this.co_b.c = 60;
						this.co_b.c1 = 0;
						this.co_b.pt = 1010;
						if(this.boss_destroy_type != 2)
							this.co_b.y -= 16;
						this.gs.rsAddSound(8);
					} else
					if(this.co_b.c < 300)
					{
						this.co_b.c4 = 0;
						this.co_b.c = 70;
						this.co_b.c1 = 0;
						this.co_b.pt = 1110;
						this.co_b.y -= 16;
						this.gs.rsAddSound(8);
					} else
					{
						this.co_b.c4 = 0;
						this.co_b.c = 80;
						this.co_b.c1 = 0;
						this.co_b.pt = 1210;
						this.co_b.y -= 16;
						this.gs.rsAddSound(8);
					}
				}
			}
			if(this.boss_destroy_type != 2 || this.boss_destroy_type == 2 && (this.co_b.c == 100 || this.co_b.c == 200 || this.co_b.c == 300))
				continue;
			var i6 = Math.floor((this.boss_hp * 200) / this.boss_hp_max);
			if(this.co_b.c >= 100 && this.co_b.c < 200 || this.co_b.c == 60)
			{
				this.showGauge(String(i6), "" + this.tdb.getValue("boss_name") + "  " + this.boss_hp + "/" + this.boss_hp_max);
				continue;
			}
			if(this.co_b.c >= 200 && this.co_b.c < 300 || this.co_b.c == 70)
				this.showGauge(String(i6), "" + this.tdb.getValue("boss2_name") + "  " + this.boss_hp + "/" + this.boss_hp_max);
			else
				this.showGauge(String(i6), "" + this.tdb.getValue("boss3_name") + "  " + this.boss_hp + "/" + this.boss_hp_max);
		}

	}
	if(this.boss_destroy_type == 2 && this.j_tail_ap_boss >= 1 && this.j_tail_ac == 5 && this.co_b.c >= 100 && this.co_b.c != 100 && this.co_b.c != 200 && this.co_b.c != 300 && this.co_b.pt != 1250 && this.co_b.pt != 1255)
	{
		var flag = false;
		if(this.co_j.muki == 1)
		{
			if(this.co_j.x + 63 >= this.co_b.x - 16 && this.co_j.x + 16 <= this.co_b.x + 47 && Math.abs(this.co_j.y - this.co_b.y) < 48)
				flag = true;
		} else
		if(this.co_j.x - 32 <= this.co_b.x + 47 && this.co_j.x + 16 >= this.co_b.x - 16 && Math.abs(this.co_j.y - this.co_b.y) < 48)
			flag = true;
		if(flag)
		{
			this.boss_hp -= this.j_tail_ap_boss;
			if(this.boss_hp < 0)
				this.boss_hp = 0;
			this.gs.rsAddSound(9);
			var j6 = Math.floor((this.boss_hp * 200) / this.boss_hp_max);
			if(this.co_b.c >= 100 && this.co_b.c < 200 || this.co_b.c == 60)
				this.showGauge(String(j6), "" + this.tdb.getValue("boss_name") + "  " + this.boss_hp + "/" + this.boss_hp_max);
			else
			if(this.co_b.c >= 200 && this.co_b.c < 300 || this.co_b.c == 70)
				this.showGauge(String(j6), "" + this.tdb.getValue("boss2_name") + "  " + this.boss_hp + "/" + this.boss_hp_max);
			else
				this.showGauge(String(j6), "" + this.tdb.getValue("boss3_name") + "  " + this.boss_hp + "/" + this.boss_hp_max);
			if(this.boss_hp <= 0)
				if(this.co_b.c < 200)
				{
					this.co_b.c4 = 0;
					this.co_b.c = 60;
					this.co_b.c1 = 0;
					this.co_b.pt = 1010;
					if(this.boss_destroy_type != 2)
						this.co_b.y -= 16;
					this.gs.rsAddSound(8);
				} else
				if(this.co_b.c < 300)
				{
					this.co_b.c4 = 0;
					this.co_b.c = 70;
					this.co_b.c1 = 0;
					this.co_b.pt = 1110;
					this.co_b.y -= 16;
					this.gs.rsAddSound(8);
				} else
				{
					this.co_b.c4 = 0;
					this.co_b.c = 80;
					this.co_b.c1 = 0;
					this.co_b.pt = 1210;
					this.co_b.y -= 16;
					this.gs.rsAddSound(8);
				}
		}
	}
}

MainProgram.prototype.hSet = function(i, j, k)
{
	var l = 0;
	do
	{
		if(l > 79)
			break;
		if(this.co_h[l].c <= 0)
		{
			var characterobject = this.co_h[l];
			characterobject.c = k;
			characterobject.x = i;
			characterobject.y = j;
			break;
		}
		l++;
	} while(true);
}

MainProgram.prototype.hDelete = function(i, j, k)
{
	for(var l = 0; l <= 79; l++)
		if(this.co_h[l].c == k && this.co_h[l].x == i && this.co_h[l].y == j)
		{
			this.co_h[l].c = 0;
			this.maps.putBGCode(i, j, 41);
		}

}

MainProgram.prototype.hAttack = function(i, j)
{
	var k = 0;
	do
	{
		if(k > 79)
			break;
		var characterobject = this.co_h[k];
		if(characterobject.c != 0 && characterobject.x == i && characterobject.y == j)
		{
			switch(characterobject.c)
			{
			default:
				break;

			case 100:
				this.mSet(i * 32, j * 32 - 32, 2000);
				this.gs.rsAddSound(6);
				break;

			case 200: 
				this.mSet(i * 32, j * 32 - 32, 2010);
				this.mSet(i * 32, j * 32 - 32, 2020);
				this.mSet(i * 32, j * 32 - 32, 2000);
				this.gs.rsAddSound(6);
				break;

			case 300: 
				this.mSet(i * 32, j * 32 - 32, 2100);
				this.gs.rsAddSound(13);
				break;

			case 400: 
				this.mSet(i * 32, j * 32 - 32, 2110);
				this.gs.rsAddSound(13);
				break;

			case 500: 
				this.mSet(i * 32, j * 32 - 32, 2120);
				this.gs.rsAddSound(13);
				break;

			case 600: 
				this.mSet(i * 32, j * 32 - 32, 2130);
				this.gs.rsAddSound(13);
				break;

			case 700: 
				this.mSet(i * 32, j * 32 - 32, 2140);
				this.gs.rsAddSound(13);
				break;

			case 800: 
				this.mSet(i * 32, j * 32 - 32, 2150);
				this.gs.rsAddSound(13);
				break;

			case 900: 
				this.mSet(i * 32, j * 32 - 32, 2160);
				this.gs.rsAddSound(13);
				break;

			case 1000: 
				this.mSet(i * 32, j * 32 - 32, 2170);
				this.gs.rsAddSound(13);
				break;

			case 1100: 
				this.mSet(i * 32, j * 32 - 32, 2180);
				this.stage_1up_f[this.stage - 1] = false;
				this.gs.rsAddSound(13);
				break;

			case 2000: 
				var l = 1;
				do
				{
					if(l > 10)
						break;
					var k4 = i + l;
					if(k4 > this.mapWidth || this.maps.map_bg[k4][j] != 0 && this.maps.map_bg[k4][j] != 4)
						break;
					this.maps.putBGCode(k4, j, 20);
					l++;
				} while(true);
				this.gs.rsAddSound(13);
				break;

			case 2100: 
				var i1 = -1;
				do
				{
					if(i1 < -10)
						break;
					var l4 = i + i1;
					if(l4 < 1 || this.maps.map_bg[l4][j] != 0 && this.maps.map_bg[l4][j] != 4)
						break;
					this.maps.putBGCode(l4, j, 20);
					i1--;
				} while(true);
				this.gs.rsAddSound(13);
				break;

			case 2200: 
				for(var l2 = -1; l2 >= -10; l2--)
				{
					var i5 = j + l2;
					if(i5 < 10 || this.maps.map_bg[i][i5] != 0 && this.maps.map_bg[i][i5] != 4)
						break;
					this.maps.putBGCode(i, i5, 10);
					if(this.gg.layer_mode == 2 && this.clear_type != 3)
						this.maps.map_bg_layer[i][i5] = 5;
				}

				this.gs.rsAddSound(13);
				break;

			case 2300: 
				var i3 = -1;
				do
				{
					if(i3 < -10)
						break;
					var j5 = j + i3;
					if(j5 < 10 || this.maps.map_bg[i][j5] != 0 && this.maps.map_bg[i][j5] != 4)
						break;
					this.maps.putBGCode(i, j5, 20);
					i3--;
				} while(true);
				this.gs.rsAddSound(13);
				break;

			case 2400: 
				var j3 = -1;
				do
				{
					if(j3 < -2)
						break;
					var k5 = j + j3;
					if(k5 < 10 || this.maps.map_bg[i][k5] != 0 && this.maps.map_bg[i][k5] != 4)
						break;
					this.maps.putBGCode(i, k5, 20);
					j3--;
				} while(true);
				this.gs.rsAddSound(13);
				break;

			case 2500: 
				var j1 = 1;
				do
				{
					if(j1 > 2)
						break;
					var l5 = i + j1;
					if(l5 > this.mapWidth || this.maps.map_bg[l5][j] != 0 && this.maps.map_bg[l5][j] != 4)
						break;
					this.maps.putBGCode(l5, j, 20);
					j1++;
				} while(true);
				this.gs.rsAddSound(13);
				break;

			case 2600: 
				var k1 = -1;
				do
				{
					if(k1 < -2)
						break;
					var i6 = i + k1;
					if(i6 < 1 || this.maps.map_bg[i6][j] != 0 && this.maps.map_bg[i6][j] != 4)
						break;
					this.maps.putBGCode(i6, j, 20);
					k1--;
				} while(true);
				this.gs.rsAddSound(13);
				break;

			case 2700: 
				this.aSet(i * 32, j * 32 - 32, 700, i * 32);
				this.gs.rsAddSound(13);
				break;

			case 2800: 
				this.maps.putBGCode(i, j - 1, 5);
				this.gs.rsAddSound(13);
				break;

			case 2900: 
				for(var k3 = -10; k3 <= 10; k3++)
				{
					for(var l1 = -10; l1 <= 10; l1++)
						if(i + l1 >= 1 && i + l1 <= this.mapWidth && j + k3 >= 10 && j + k3 <= this.mapHeight + 9 && this.maps.map_bg[i + l1][j + k3] == 5)
							this.maps.putBGCode(i + l1, j + k3, 9);

				}

				this.gs.rsAddSound(6);
				break;

			case 3000: 
				for(var l3 = -10; l3 <= 10; l3++)
				{
					for(var i2 = -10; i2 <= 10; i2++)
						if(i + i2 >= 1 && i + i2 <= this.mapWidth && j + l3 >= 10 && j + l3 <= this.mapHeight + 9 && this.maps.map_bg[i + i2][j + l3] == 5)
							this.maps.putBGCode(i + i2, j + l3, 20);

				}

				this.gs.rsAddSound(13);
				break;

			case 3100: 
				for(var i4 = -10; i4 <= 10; i4++)
				{
					for(var j2 = -10; j2 <= 10; j2++)
						if(i + j2 >= 1 && i + j2 <= this.mapWidth && j + i4 >= 10 && j + i4 <= this.mapHeight + 9 && this.maps.map_bg[i + j2][j + i4] == 20)
							this.maps.putBGCode(i + j2, j + i4, 9);

				}

				this.gs.rsAddSound(6);
				break;

			case 3200: 
				for(var j4 = -10; j4 <= 10; j4++)
				{
					for(var k2 = -10; k2 <= 10; k2++)
						if(i + k2 >= 1 && i + k2 <= this.mapWidth && j + j4 >= 10 && j + j4 <= this.mapHeight + 9 && this.maps.map_bg[i + k2][j + j4] == 23)
							this.maps.putBGCode(i + k2, j + j4, 0);

				}

				this.gs.rsAddSound(7);
				break;

			case 3300: 
				this.mSet(i * 32, j * 32 - 32, 2186);
				this.gs.rsAddSound(13);
				break;

			case 3400: 
				this.mSet(i * 32, j * 32 - 32, 2187);
				this.gs.rsAddSound(13);
				break;

			case 3500: 
				this.mSet(i * 32, j * 32 - 32, 2188);
				this.gs.rsAddSound(13);
				break;

			case 3600: 
				if(this.co_jm[6].c == 0)
				{
					this.jmSet2(i * 32, j * 32, 206, 6);
					break;
				}
				if(this.co_jm[7].c == 0)
				{
					this.jmSet2(i * 32, j * 32, 206, 7);
					break;
				}
				if(this.co_jm[8].c == 0)
					this.jmSet2(i * 32, j * 32, 206, 8);
				break;

			case 3700: 
				if(this.co_jm[6].c == 0)
				{
					this.jmSet2(i * 32, j * 32, 207, 6);
					break;
				}
				if(this.co_jm[7].c == 0)
				{
					this.jmSet2(i * 32, j * 32, 207, 7);
					break;
				}
				if(this.co_jm[8].c == 0)
					this.jmSet2(i * 32, j * 32, 207, 8);
				break;

			case 3800: 
				if(this.co_jm[6].c == 0)
				{
					this.jmSet2(i * 32, j * 32, 208, 6);
					break;
				}
				if(this.co_jm[7].c == 0)
				{
					this.jmSet2(i * 32, j * 32, 208, 7);
					break;
				}
				if(this.co_jm[8].c == 0)
					this.jmSet2(i * 32, j * 32, 208, 8);
				break;

			case 3900: 
				if(this.co_jm[6].c == 0)
				{
					this.jmSet2(i * 32, j * 32, 209, 6);
					break;
				}
				if(this.co_jm[7].c == 0)
				{
					this.jmSet2(i * 32, j * 32, 209, 7);
					break;
				}
				if(this.co_jm[8].c == 0)
					this.jmSet2(i * 32, j * 32, 209, 8);
				break;

			case 4000: 
				this.mSet(i * 32, j * 32 - 32, 2171);
				this.gs.rsAddSound(13);
				break;

			case 4100: 
				this.mSet(i * 32, j * 32 - 32, 2172);
				this.gs.rsAddSound(13);
				break;

			case 4200: 
				this.onASwitch(i - 10, j - 10, i + 10, j + 10);
				this.gs.rsAddSound(13);
				break;

			case 4300: 
				this.offASwitch(i - 10, j - 10, i + 10, j + 10);
				this.gs.rsAddSound(13);
				break;

			case 4400: 
				this.onASwitch(i - 5, j - 5, i + 5, j + 5);
				this.gs.rsAddSound(13);
				break;

			case 4500: 
				this.offASwitch(i - 5, j - 5, i + 5, j + 5);
				this.gs.rsAddSound(13);
				break;
			}
			this.maps.putBGCode(i, j, 41);
			characterobject.c = 0;
			break;
		}
		k++;
	} while(true);
}

MainProgram.prototype.newYuka = function(s, s1, s2, s3, s4)
{
	var j = 32;
	var k = 320;
	var l = 96;
	var i1 = 64;
	if(this.ml_mode != 100 && this.ml_mode != 90 && this.ml_mode != 91 && this.ml_mode != 95)
		return -1;

	j = parseInt(s);
	k = parseInt(s1);
	l = parseInt(s2);
	i1 = parseInt(s3);
	if(isNaN(j) || isNaN(k) || isNaN(l) || isNaN(i1))
		j = -9999;
	if(j == -9999)
		return -1;
	var i = 0;
	do
	{
		if (i > this.yuka_id_max)
			this.yo.push(new YukaObject());
		if(this.yo[i].con == 0)
		{
			if(s4 == "line")
			{
				this.yo[i].init();
				this.yo[i].con = 200;
				this.yo[i].x = j;
				this.yo[i].y = k;
				this.yo[i].x2 = l;
				this.yo[i].y2 = i1;
				this.yo[i].color = Color.yellow;
			} else
			if(s4 == "triangle")
			{
				this.yo[i].init();
				this.yo[i].con = 210;
				this.yo[i].x = j;
				this.yo[i].y = k;
				this.yo[i].x2 = l;
				this.yo[i].y2 = i1;
				this.yo[i].color = Color.yellow;
			} else
			if(s4 == "mount")
			{
				this.yo[i].init();
				this.yo[i].con = 220;
				this.yo[i].x = j;
				this.yo[i].y = k;
				this.yo[i].x2 = l;
				this.yo[i].y2 = i1;
				this.yo[i].color = Color.yellow;
			} else
			if(s4 == "circle")
			{
				this.yo[i].init();
				this.yo[i].con = 300;
				this.yo[i].x = j;
				this.yo[i].y = k;
				this.yo[i].x2 = l;
				this.yo[i].y2 = i1;
				this.yo[i].color = Color.yellow;
			} else
			if(s4 == "half_circle")
			{
				this.yo[i].init();
				this.yo[i].con = 350;
				this.yo[i].x = j;
				this.yo[i].y = k;
				this.yo[i].x2 = l;
				this.yo[i].y2 = i1;
				this.yo[i].color = Color.yellow;
			} else
			if(s4 == "half_circle_line")
			{
				this.yo[i].init();
				this.yo[i].con = 360;
				this.yo[i].x = j;
				this.yo[i].y = k;
				this.yo[i].x2 = l;
				this.yo[i].y2 = i1;
				this.yo[i].color = Color.yellow;
			} else
			if(s4 == "wave_up")
			{
				this.yo[i].init();
				this.yo[i].con = 400;
				this.yo[i].x = j;
				this.yo[i].y = k;
				this.yo[i].x2 = l;
				this.yo[i].y2 = i1;
				this.yo[i].color = Color.yellow;
			} else
			if(s4 == "wave_up_line")
			{
				this.yo[i].init();
				this.yo[i].con = 410;
				this.yo[i].x = j;
				this.yo[i].y = k;
				this.yo[i].x2 = l;
				this.yo[i].y2 = i1;
				this.yo[i].color = Color.yellow;
			} else
			if(s4 == "wave_down")
			{
				this.yo[i].init();
				this.yo[i].con = 450;
				this.yo[i].x = j;
				this.yo[i].y = k;
				this.yo[i].x2 = l;
				this.yo[i].y2 = i1;
				this.yo[i].color = Color.yellow;
			} else
			if(s4 == "wave_down_line")
			{
				this.yo[i].init();
				this.yo[i].con = 460;
				this.yo[i].x = j;
				this.yo[i].y = k;
				this.yo[i].x2 = l;
				this.yo[i].y2 = i1;
				this.yo[i].color = Color.yellow;
			} else
			if(s4 == "pattern")
			{
				this.yo[i].init();
				this.yo[i].con = 120;
				this.yo[i].x = j;
				this.yo[i].y = k;
				this.yo[i].width = l;
				this.yo[i].height = i1;
				this.yo[i].pt = 0;
				this.yo[i].pth = 0;
			} else
			if(s4 == "rect")
			{
				this.yo[i].init();
				this.yo[i].con = 110;
				this.yo[i].x = j;
				this.yo[i].y = k;
				this.yo[i].width = l;
				this.yo[i].height = i1;
				this.yo[i].color = Color.yellow;
			} else
			{
				this.yo[i].init();
				this.yo[i].con = 100;
				this.yo[i].x = j;
				this.yo[i].y = k;
				this.yo[i].width = l;
				this.yo[i].height = i1;
				this.yo[i].img = this.gg.loadImage(s4);
			}
			break;
		}
		i++;
	} while(true);
	return i;
}

MainProgram.prototype.setYukaPosition = function(s, s1, s2, s3, s4)
{
	if(arguments.length == 3)
	{
		var i = 0;
		var j = 32;
		var k = 320;
		if(this.ml_mode != 100 && this.ml_mode != 91 && this.ml_mode != 96)
			return false;

		i = parseInt(s);
		j = parseInt(s1);
		k = parseInt(s2);
		if(isNaN(i) || isNaN(j) || isNaN(k))
			i = -1;
		if(i < 0)
			return false;
		if(i > this.yuka_id_max)
			return false;
		var flag = false;
		if(this.yo[i].con >= 100 || this.yo[i].con < 200)
			flag = true;
		else
		if(this.yo[i].con >= 300 || this.yo[i].con < 500)
			flag = true;
		if(!flag)
		{
			return false;
		} else
		{
			this.yo[i].x_buff = j;
			this.yo[i].y_buff = k;
			this.yo[i].buff_f = true;
			return true;
		}
	}
	else
	{
		var i = 0;
		var j = 32;
		var k = 320;
		var l = 32;
		var i1 = 320;
		if(this.ml_mode != 100 && this.ml_mode != 91 && this.ml_mode != 96)
			return false;

		i = parseInt(s);
		j = parseInt(s1);
		k = parseInt(s2);
		l = parseInt(s3);
		i1 = parseInt(s4);
		if(isNaN(i) || isNaN(j) || isNaN(k) || isNaN(l) || isNaN(i1))
			i = -1;
		if(i < 0)
			return false;
		if(i > this.yuka_id_max)
			return false;
		if(this.yo[i].con < 200 || this.yo[i].con >= 300)
		{
			return false;
		} else
		{
			this.yo[i].x_buff = j;
			this.yo[i].y_buff = k;
			this.yo[i].x2_buff = l;
			this.yo[i].y2_buff = i1;
			this.yo[i].buff_f = true;
			return true;
		}
	}
}

MainProgram.prototype.setYukaType = function(s, s1)
{
	var i = 0;
	var j = 1;
	if(this.ml_mode != 100 && this.ml_mode != 91 && this.ml_mode != 96)
		return false;

	i = parseInt(s);
	j = parseInt(s1);
	if(isNaN(i) || isNaN(j))
		j = -1;
	if(i < 0)
		return false;
	if(i > this.yuka_id_max)
		return false;
	if(this.yo[i].con == 0)
		return false;
	if(j >= 1 || j <= 2)
	{
		this.yo[i].type = j;
		return true;
	} else
	{
		return false;
	}
}

MainProgram.prototype.disposeYuka = function(s)
{
	var i = 0;
	var byte0 = 1;
	if(this.ml_mode != 100 && this.ml_mode != 91 && this.ml_mode != 96)
		return false;

	i = parseInt(s);
	if(isNaN(i))
		byte0 = -1;
	if(i < 0)
		return false;
	if(i > this.yuka_id_max)
		return false;
	if(this.yo[i].con == 0)
	{
		return false;
	} else
	{
		this.yo[i].con = 0;
		return true;
	}
}

MainProgram.prototype.setYukaColor = function(index, color)
{
	if(arguments.length == 5)
	{
		var i = 0;
		var j = 255;
		var k = 255;
		var l = 255;
		var i1 = 255;
		if(this.ml_mode != 100 && this.ml_mode != 90 && this.ml_mode != 91 && this.ml_mode != 96)
			return false;

		i = parseInt(arguments[0]);
		j = parseInt(arguments[1]);
		k = parseInt(arguments[2]);
		l = parseInt(arguments[3]);
		i1 = parseInt(arguments[4]);
		if(isNaN(i) || isNaN(j) || isNaN(k) || isNaN(l) || isNaN(i1))
			i = -1;
		if(i < 0)
			return false;
		if(i > this.yuka_id_max)
			return false;
		if((this.yo[i].con < 200 || this.yo[i].con >= 500) && this.yo[i].con != 110)
		{
			return false;
		} else
		{
			this.yo[i].color = new Color(j, k, l, i1);
			return true;
		}
	}
	else
	{
		if(this.ml_mode != 100 && this.ml_mode != 90 && this.ml_mode != 91 && this.ml_mode != 96)
			return false;
		if(index < 0)
			return false;
		if(index > this.yuka_id_max)
			return false;
		if((this.yo[index].con < 200 || this.yo[index].con >= 500) && this.yo[index].con != 110)
		{
			return false;
		} else
		{
			this.yo[index].color = color;
			return true;
		}
	}
}

MainProgram.prototype.setYukaPattern = function(s, s1, s2)
{
	var i = 0;
	var j = 0;
	var k = 0;
	if(this.ml_mode != 100 && this.ml_mode != 91 && this.ml_mode != 96)
		return false;

	i = parseInt(s);
	j = parseInt(s1);
	k = parseInt(s2);
	if(isNaN(i) || isNaN(j) || isNaN(k))
		i = -1;
	if(i < 0)
		return false;
	if(i > this.yuka_id_max)
		return false;
	if(this.yo[i].con < 100 || this.yo[i].con >= 200)
		return false;
	if(j < 0 || j > 249)
		return false;
	if(k < 0 || k > 1)
	{
		return false;
	} else
	{
		this.yo[i].con = 120;
		this.yo[i].pt = j;
		this.yo[i].pth = k;
		return true;
	}
}

MainProgram.prototype.setYukaImage = function(s, a2)
{
	var i = 0;
	if(this.ml_mode != 100 && this.ml_mode != 91 && this.ml_mode != 96)
		return false;

	i = parseInt(s);
	if(isNaN(i))
		i = -1;
	if(i < 0)
		return false;
	if(i > this.yuka_id_max)
		return false;
	if(this.yo[i].con < 100 || this.yo[i].con >= 200)
	{
		return false;
	} else
	{
		this.yo[i].con = 100;
		if(Object.prototype.toString.call(a2) == "[object String]")
			this.yo[i].img = this.gg.loadImage(a2);
		else
			this.yo[i].img = a2;
		return true;
	}
}

MainProgram.prototype.isRideYuka = function(s)
{
	var i = 0;
	if(this.ml_mode != 100 && this.ml_mode != 91 && this.ml_mode != 96)
		return -1;
	if(this.co_j.c < 100 || this.co_j.c >= 200)
		return -1;

	i = parseInt(s);
	if(isNaN(i))
		i = -1;
	if(i < 0)
		return -1;
	if(i > this.yuka_id_max)
		return -1;
	if(this.j_tokugi == 14 || this.j_tokugi == 15)
		return -1;
	if(this.yo[i].con == 0)
		return -1;
	if(this.yo[i].type == 2)
		return 0;
	if(this.yo[i].con >= 100 && this.yo[i].con < 200)
		return this.co_j.vy < 0 || this.co_j.y + 32 != this.yo[i].y || this.co_j.x + 15 < this.yo[i].x || this.co_j.x + 15 >= this.yo[i].x + this.yo[i].width ? 0 : 1;
	if(this.yo[i].con >= 200 && this.yo[i].con < 300)
		return this.getSLOY(this.yo[i].x, this.yo[i].y, this.yo[i].x2, this.yo[i].y2) != this.co_j.y ? 0 : 1;
	if(this.yo[i].con >= 300 && this.yo[i].con < 350)
	{
		var j = this.getSCOY(this.yo[i].x, this.yo[i].y, this.yo[i].x2, this.yo[i].y2);
		return j != this.co_j.y ? 0 : 1;
	}
	if(this.yo[i].con >= 350 && this.yo[i].con < 400)
	{
		var k = this.getSHCOY(this.yo[i].x, this.yo[i].y, this.yo[i].x2, this.yo[i].y2);
		return k != this.co_j.y ? 0 : 1;
	}
	if(this.yo[i].con >= 400 && this.yo[i].con < 450)
	{
		var l = this.getSWUpOY(this.yo[i].x, this.yo[i].y, this.yo[i].x2, this.yo[i].y2);
		return l != this.co_j.y ? 0 : 1;
	}
	if(this.yo[i].con >= 450 && this.yo[i].con < 500)
	{
		var i1 = this.getSWDownOY(this.yo[i].x, this.yo[i].y, this.yo[i].x2, this.yo[i].y2);
		return i1 != this.co_j.y ? 0 : 1;
	} else
	{
		return -1;
	}
}

MainProgram.prototype.isRideGround = function()
{
	if(this.ml_mode != 100 && this.ml_mode != 91 && this.ml_mode != 96)
		return -1;
	if(this.co_j.c < 100 || this.co_j.c >= 200)
		return -1;
	if(this.j_tokugi == 14 || this.j_tokugi == 15)
		return -1;
	var i = this.maps.getBGCode(this.co_j.x + 15, this.co_j.y + 32);
	if(i >= 20 || i == 10)
		return 1;
	if(this.co_j.y % 32 == 0 && i == 15 && this.co_j.vy >= 0)
		return 1;
	i = this.maps.getBGCode(this.co_j.x + 15, this.co_j.y + 15);
	if(i == 10)
		return 1;
	var j = this.maps.getBGCode(this.co_j.x + 15, this.co_j.y + 31);
	if((j == 18 || j == 19) && this.co_j.vy >= 0)
	{
		var k = this.getSakamichiY(this.co_j.x + 15, this.co_j.y + 31);
		if(k <= this.co_j.y)
			return 1;
	}
	return 0;
}

MainProgram.prototype.moveYuka = function()
{
	if(this.yuka_id_max < 0)
		return;
	this.yuka_ride_id = -1;
	for(var i = 0; i <= this.yuka_id_max; i++)
	{
		var yukaobject = this.yo[i];
		if(yukaobject.con == 0)
			continue;
		if(yukaobject.con >= 100 && yukaobject.con < 200)
		{
			if(yukaobject.type == 2 || this.co_j.c < 100 || this.co_j.c >= 200)
			{
				if(yukaobject.buff_f)
				{
					yukaobject.buff_f = false;
					yukaobject.x = yukaobject.x_buff;
					yukaobject.y = yukaobject.y_buff;
				}
				continue;
			}
			if(this.co_j.vy >= 0 && this.j_tokugi != 14 && this.j_tokugi != 15 && this.co_j.x + 15 >= yukaobject.x && this.co_j.x + 15 < yukaobject.x + yukaobject.width && this.co_j.y + 32 == yukaobject.y)
				this.yuka_ride_id = i;
			if(!yukaobject.buff_f)
				continue;
			yukaobject.buff_f = false;
			if(yukaobject.x > yukaobject.x_buff)
			{
				if(this.yuka_ride_id == i)
				{
					var k = yukaobject.x_buff - yukaobject.x;
					yukaobject.x = yukaobject.x_buff;
					this.co_j.x = this.co_j.x + k;
					var i3 = rightShiftIgnoreSign(this.co_j.x + 15, 5);
					var k5 = rightShiftIgnoreSign(this.co_j.y, 5);
					var i8 = rightShiftIgnoreSign(this.co_j.y + 31, 5);
					if(this.maps.map_bg[i3][k5] >= 20 || this.maps.map_bg[i3][i8] >= 20)
						this.co_j.x = (i3 * 32 + 32) - 14;
				} else
				{
					yukaobject.x = yukaobject.x_buff;
					if(this.j_tokugi == 14 || this.j_tokugi == 15)
					{
						if(this.co_j.x + 31 >= yukaobject.x && this.co_j.x < yukaobject.x + yukaobject.width && this.co_j.y + 31 >= yukaobject.y && this.co_j.y < yukaobject.y + yukaobject.height)
						{
							this.co_j.x = yukaobject.x - 32;
							if(this.co_j.vx > 0)
								this.co_j.vx = 0;
							var j3 = rightShiftIgnoreSign(this.co_j.x, 5);
							var l5 = rightShiftIgnoreSign(this.co_j.y, 5);
							var j8 = rightShiftIgnoreSign(this.co_j.y + 31, 5);
							if(this.maps.map_bg[j3][l5] >= 20 || this.maps.map_bg[j3][j8] >= 20)
								this.jShinu(4);
						}
					} else
					if(this.co_j.x + 15 >= yukaobject.x && this.co_j.x + 15 < yukaobject.x + yukaobject.width && this.co_j.y + 31 >= yukaobject.y && this.co_j.y < yukaobject.y + yukaobject.height)
					{
						this.co_j.x = yukaobject.x - 16;
						if(this.co_j.vx > 0)
							this.co_j.vx = 0;
						var k3 = rightShiftIgnoreSign(this.co_j.x + 15, 5);
						var i6 = rightShiftIgnoreSign(this.co_j.y, 5);
						var k8 = rightShiftIgnoreSign(this.co_j.y + 31, 5);
						if(this.maps.map_bg[k3][i6] >= 20 || this.maps.map_bg[k3][k8] >= 20)
						{
							this.co_j.x = k3 * 32 + 15;
							this.jShinu(4);
						}
					}
				}
			} else
			if(yukaobject.x < yukaobject.x_buff)
				if(this.yuka_ride_id == i)
				{
					var l = yukaobject.x_buff - yukaobject.x;
					yukaobject.x = yukaobject.x_buff;
					this.co_j.x = this.co_j.x + l;
					var l3 = rightShiftIgnoreSign(this.co_j.x + 15, 5);
					var j6 = rightShiftIgnoreSign(this.co_j.y, 5);
					var l8 = rightShiftIgnoreSign(this.co_j.y + 31, 5);
					if(this.maps.map_bg[l3][j6] >= 20 || this.maps.map_bg[l3][l8] >= 20)
						this.co_j.x = l3 * 32 - 16;
				} else
				{
					yukaobject.x = yukaobject.x_buff;
					if(this.j_tokugi == 14 || this.j_tokugi == 15)
					{
						if(this.co_j.x + 31 >= yukaobject.x && this.co_j.x < yukaobject.x + yukaobject.width && this.co_j.y + 31 >= yukaobject.y && this.co_j.y < yukaobject.y + yukaobject.height)
						{
							this.co_j.x = yukaobject.x + yukaobject.width;
							if(this.co_j.vx < 0)
								this.co_j.vx = 0;
							var i4 = rightShiftIgnoreSign(this.co_j.x + 31, 5);
							var k6 = rightShiftIgnoreSign(this.co_j.y, 5);
							var i9 = rightShiftIgnoreSign(this.co_j.y + 31, 5);
							if(this.maps.map_bg[i4][k6] >= 20 || this.maps.map_bg[i4][i9] >= 20)
								this.jShinu(4);
						}
					} else
					if(this.co_j.x + 15 >= yukaobject.x && this.co_j.x + 15 < yukaobject.x + yukaobject.width && this.co_j.y + 31 >= yukaobject.y && this.co_j.y < yukaobject.y + yukaobject.height)
					{
						this.co_j.x = (yukaobject.x + yukaobject.width) - 15;
						if(this.co_j.vx < 0)
							this.co_j.vx = 0;
						var j4 = rightShiftIgnoreSign(this.co_j.x + 15, 5);
						var l6 = rightShiftIgnoreSign(this.co_j.y, 5);
						if(this.maps.map_bg[j4][l6] >= 20 || this.maps.map_bg[j4][l6] >= 20)
						{
							this.co_j.x = (j4 * 32 - 32) + 15;
							this.jShinu(4);
						}
					}
				}
			if(yukaobject.y > yukaobject.y_buff)
			{
				if(this.yuka_ride_id == i)
				{
					yukaobject.y = yukaobject.y_buff;
					this.co_j.y = yukaobject.y - 32;
					if(this.maps.getBGCode(this.co_j.x + 15, this.co_j.y) >= 18)
					{
						this.co_j.y = rightShiftIgnoreSign(this.co_j.y, 5) * 32 + 16;
						this.jShinu(3);
					}
					continue;
				}
				yukaobject.y = yukaobject.y_buff;
				if(this.j_tokugi == 14 || this.j_tokugi == 15)
				{
					if(this.co_j.x + 31 < yukaobject.x || this.co_j.x >= yukaobject.x + yukaobject.width || this.co_j.y + 31 < yukaobject.y || this.co_j.y >= yukaobject.y + yukaobject.height)
						continue;
					this.co_j.y = yukaobject.y - 32;
					this.co_j.vy = 0;
					if(this.maps.getBGCode(this.co_j.x, this.co_j.y) >= 20 || this.maps.getBGCode(this.co_j.x + 31, this.co_j.y) >= 20)
						this.jShinu(3);
					continue;
				}
				if(this.co_j.x + 15 < yukaobject.x || this.co_j.x + 15 >= yukaobject.x + yukaobject.width || this.co_j.y + 31 < yukaobject.y || this.co_j.y >= yukaobject.y + yukaobject.height)
					continue;
				this.co_j.y = yukaobject.y - 32;
				this.co_j.vy = 0;
				this.yuka_ride_id = i;
				if(this.maps.getBGCode(this.co_j.x + 15, this.co_j.y) >= 18)
				{
					this.co_j.y = rightShiftIgnoreSign(this.co_j.y, 5) * 32 + 16;
					this.jShinu(3);
				}
				continue;
			}
			if(yukaobject.y >= yukaobject.y_buff)
				continue;
			if(this.yuka_ride_id == i)
			{
				yukaobject.y = yukaobject.y_buff;
				this.co_j.y = yukaobject.y - 32;
				continue;
			}
			var k9 = yukaobject.y_buff - yukaobject.y;
			yukaobject.y = yukaobject.y_buff;
			if(this.j_tokugi == 14 || this.j_tokugi == 15)
			{
				if(this.co_j.x + 31 < yukaobject.x || this.co_j.x >= yukaobject.x + yukaobject.width || this.co_j.y + 31 < yukaobject.y || this.co_j.y >= yukaobject.y + yukaobject.height)
					continue;
				this.co_j.y = yukaobject.y + yukaobject.height;
				this.co_j.vy = 0;
				if(this.maps.getBGCode(this.co_j.x, this.co_j.y + 31) >= 20 || this.maps.getBGCode(this.co_j.x + 31, this.co_j.y + 31) >= 20)
					this.jShinu(3);
				continue;
			}
			if(this.co_j.x + 15 < yukaobject.x || this.co_j.x + 15 >= yukaobject.x + yukaobject.width || this.co_j.y + 31 < yukaobject.y || this.co_j.y >= yukaobject.y + yukaobject.height)
				continue;
			this.co_j.y = yukaobject.y + yukaobject.height;
			this.co_j.vy = 0;
			this.co_j.vy = k9 * 10;
			if(this.co_j.vy > 160)
				this.co_j.vy = 160;
			if(this.maps.getBGCode(this.co_j.x + 15, this.co_j.y + 31) >= 20)
			{
				this.co_j.y = rightShiftIgnoreSign(this.co_j.y + 31, 5) * 32 - 32;
				this.jShinu(3);
			}
			continue;
		}
		if(yukaobject.con >= 200 && yukaobject.con < 300)
		{
			if(yukaobject.type == 2 || this.co_j.c < 100 || this.co_j.c >= 200)
			{
				if(yukaobject.buff_f)
				{
					yukaobject.buff_f = false;
					yukaobject.x = yukaobject.x_buff;
					yukaobject.y = yukaobject.y_buff;
					yukaobject.x2 = yukaobject.x2_buff;
					yukaobject.y2 = yukaobject.y2_buff;
				}
				continue;
			}
			if(this.co_j.vy >= 0)
			{
				var i1 = this.getSLOY(yukaobject.x, yukaobject.y, yukaobject.x2, yukaobject.y2);
				if(i1 == this.co_j.y)
					this.yuka_ride_id = i;
			}
			if(!yukaobject.buff_f)
				continue;
			yukaobject.buff_f = false;
			if(this.yuka_ride_id == i)
			{
				var j11 = Math.floor((Math.atan2(Math.abs(yukaobject.y2_buff - yukaobject.y_buff), Math.abs(yukaobject.x2_buff - yukaobject.x_buff)) * 180) / 3.1400001049041748);
				if(j11 > 70 || yukaobject.x_buff >= yukaobject.x2_buff)
				{
					yukaobject.x = yukaobject.x_buff;
					yukaobject.y = yukaobject.y_buff;
					yukaobject.x2 = yukaobject.x2_buff;
					yukaobject.y2 = yukaobject.y2_buff;
					this.yuka_ride_id = -1;
					this.co_j.vy = 0;
					continue;
				}
				var l9 = yukaobject.x2 - yukaobject.x;
				var i10 = (this.co_j.x + 15) - yukaobject.x;
				var j10 = yukaobject.x2_buff - yukaobject.x_buff;
				var k10 = rounddown((j10 * i10) / l9);
				var l10 = yukaobject.y2_buff - yukaobject.y_buff;
				var i11 = rounddown((l10 * i10) / l9);
				this.co_j.x = (yukaobject.x_buff + k10) - 15;
				this.co_j.y = (yukaobject.y_buff + i11) - 32;
				this.co_j.vy = 0;
				yukaobject.x = yukaobject.x_buff;
				yukaobject.y = yukaobject.y_buff;
				yukaobject.x2 = yukaobject.x2_buff;
				yukaobject.y2 = yukaobject.y2_buff;
				var j1 = this.getSLOY(yukaobject.x, yukaobject.y, yukaobject.x2, yukaobject.y2);
				if(j1 >= 0)
					this.co_j.y = j1;
				if(this.co_j.x < 17)
					this.co_j.x = 17;
				if(this.co_j.x + 15 >= (this.mapWidth + 1) * 32)
					this.co_j.x = this.mapWidth * 32 + 16;
			} else
			{
				yukaobject.x = yukaobject.x_buff;
				yukaobject.y = yukaobject.y_buff;
				yukaobject.x2 = yukaobject.x2_buff;
				yukaobject.y2 = yukaobject.y2_buff;
			}
			continue;
		}
		if(yukaobject.con >= 300 && yukaobject.con < 350)
		{
			if(yukaobject.type == 2 || this.co_j.c < 100 || this.co_j.c >= 200)
			{
				if(yukaobject.buff_f)
				{
					yukaobject.buff_f = false;
					yukaobject.x = yukaobject.x_buff;
					yukaobject.y = yukaobject.y_buff;
				}
				continue;
			}
			if(this.co_j.vy >= 0)
			{
				var k1 = this.getSCOY(yukaobject.x, yukaobject.y, yukaobject.x2, yukaobject.y2);
				if(k1 == this.co_j.y)
					this.yuka_ride_id = i;
			}
			if(!yukaobject.buff_f)
				continue;
			yukaobject.buff_f = false;
			if(this.yuka_ride_id == i)
			{
				var k4 = yukaobject.x_buff - yukaobject.x;
				var i7 = yukaobject.y_buff - yukaobject.y;
				yukaobject.x = yukaobject.x_buff;
				yukaobject.y = yukaobject.y_buff;
				this.co_j.x = this.co_j.x + k4;
				this.co_j.y = this.co_j.y + i7;
				if(i7 < 0 && this.maps.getBGCode(this.co_j.x + 15, this.co_j.y) >= 18)
				{
					this.co_j.y = (rightShiftIgnoreSign(this.co_j.y, 5) * 32 + 32) - 16;
					this.jShinu(3);
				}
				continue;
			}
			if(yukaobject.y < yukaobject.y_buff && yukaobject.y < this.co_j.y)
			{
				yukaobject.x = yukaobject.x_buff;
				yukaobject.y = yukaobject.y_buff;
				var l1 = this.getSCOYCeiling(yukaobject.x, yukaobject.y, yukaobject.x2, yukaobject.y2);
				if(l1 < 0 || this.co_j.y > l1 || this.co_j.y < l1 - 31)
					continue;
				this.co_j.y = l1;
				if(this.co_j.vy < 0)
					this.co_j.vy = 0;
				if(this.maps.getBGCode(this.co_j.x + 15, this.co_j.y + 31) >= 20)
				{
					this.co_j.y = rightShiftIgnoreSign(this.co_j.y + 31, 5) * 32 - 32;
					this.jShinu(3);
				}
			} else
			{
				yukaobject.x = yukaobject.x_buff;
				yukaobject.y = yukaobject.y_buff;
			}
			continue;
		}
		if(yukaobject.con >= 350 && yukaobject.con < 400)
		{
			if(yukaobject.type == 2 || this.co_j.c < 100 || this.co_j.c >= 200)
			{
				if(yukaobject.buff_f)
				{
					yukaobject.buff_f = false;
					yukaobject.x = yukaobject.x_buff;
					yukaobject.y = yukaobject.y_buff;
				}
				continue;
			}
			if(this.co_j.vy >= 0)
			{
				var i2 = this.getSHCOY(yukaobject.x, yukaobject.y, yukaobject.x2, yukaobject.y2);
				if(i2 == this.co_j.y)
					this.yuka_ride_id = i;
			}
			if(!yukaobject.buff_f)
				continue;
			yukaobject.buff_f = false;
			if(this.yuka_ride_id == i)
			{
				var l4 = yukaobject.x_buff - yukaobject.x;
				var j7 = yukaobject.y_buff - yukaobject.y;
				yukaobject.x = yukaobject.x_buff;
				yukaobject.y = yukaobject.y_buff;
				this.co_j.x = this.co_j.x + l4;
				this.co_j.y = this.co_j.y + j7;
			} else
			{
				yukaobject.x = yukaobject.x_buff;
				yukaobject.y = yukaobject.y_buff;
			}
			continue;
		}
		if(yukaobject.con >= 400 && yukaobject.con < 450)
		{
			if(yukaobject.type == 2 || this.co_j.c < 100 || this.co_j.c >= 200)
			{
				if(yukaobject.buff_f)
				{
					yukaobject.buff_f = false;
					yukaobject.x = yukaobject.x_buff;
					yukaobject.y = yukaobject.y_buff;
				}
				continue;
			}
			if(this.co_j.vy >= 0)
			{
				var j2 = this.getSWUpOY(yukaobject.x, yukaobject.y, yukaobject.x2, yukaobject.y2);
				if(j2 == this.co_j.y)
					this.yuka_ride_id = i;
			}
			if(!yukaobject.buff_f)
				continue;
			yukaobject.buff_f = false;
			if(this.yuka_ride_id == i)
			{
				var i5 = yukaobject.x_buff - yukaobject.x;
				var k7 = yukaobject.y_buff - yukaobject.y;
				yukaobject.x = yukaobject.x_buff;
				yukaobject.y = yukaobject.y_buff;
				this.co_j.x = this.co_j.x + i5;
				this.co_j.y = this.co_j.y + k7;
			} else
			{
				yukaobject.x = yukaobject.x_buff;
				yukaobject.y = yukaobject.y_buff;
			}
			continue;
		}
		if(yukaobject.con < 450 || yukaobject.con >= 500)
			continue;
		if(yukaobject.type == 2 || this.co_j.c < 100 || this.co_j.c >= 200)
		{
			if(yukaobject.buff_f)
			{
				yukaobject.buff_f = false;
				yukaobject.x = yukaobject.x_buff;
				yukaobject.y = yukaobject.y_buff;
			}
			continue;
		}
		if(this.co_j.vy >= 0)
		{
			var k2 = this.getSWDownOY(yukaobject.x, yukaobject.y, yukaobject.x2, yukaobject.y2);
			if(k2 == this.co_j.y)
				this.yuka_ride_id = i;
		}
		if(!yukaobject.buff_f)
			continue;
		yukaobject.buff_f = false;
		if(this.yuka_ride_id == i)
		{
			var j5 = yukaobject.x_buff - yukaobject.x;
			var l7 = yukaobject.y_buff - yukaobject.y;
			yukaobject.x = yukaobject.x_buff;
			yukaobject.y = yukaobject.y_buff;
			this.co_j.x = this.co_j.x + j5;
			this.co_j.y = this.co_j.y + l7;
		} else
		{
			yukaobject.x = yukaobject.x_buff;
			yukaobject.y = yukaobject.y_buff;
		}
	}

	if(this.yuka_ride_id == -1)
	{
		for(var j = 0; j <= this.yuka_id_max; j++)
		{
			var yukaobject1 = this.yo[j];
			if(yukaobject1.con < 200 || yukaobject1.con >= 300 || yukaobject1.type == 2 || this.co_j.vy < 0)
				continue;
			var l2 = this.getSLOY(yukaobject1.x, yukaobject1.y, yukaobject1.x2, yukaobject1.y2);
			if(l2 != this.co_j.y)
				continue;
			this.yuka_ride_id = j;
			break;
		}

	}
}

MainProgram.prototype.drawYuka = function()
{
	var j20 = 0;
	var k20 = 0;
	var l20 = 0;
	var i21 = 0;
	var ai = new Array(13);
	var ai1 = new Array(13);
	if(this.yuka_id_max < 0)
		return;
label0:
	for(var i = 0; i <= this.yuka_id_max; i++)
	{
		var yukaobject = this.yo[i];
		if(yukaobject.con == 0)
			continue;
		if(yukaobject.con == 100)
		{
			yukaobject.view_x = this.yo[i].x - this.maps.wx;
			yukaobject.view_y = this.yo[i].y - this.maps.wy;
			if(yukaobject.view_x + yukaobject.width <= 0 || yukaobject.view_x >= 512 || yukaobject.view_y + yukaobject.height <= 0 || yukaobject.view_y >= 320)
			{
				yukaobject.draw_f = false;
				continue;
			}
			yukaobject.draw_f = true;
			if(yukaobject.img != null)
				this.hg.drawImage(yukaobject.img, yukaobject.view_x, yukaobject.view_y, this.ap);
			continue;
		}
		if(yukaobject.con == 110)
		{
			yukaobject.view_x = this.yo[i].x - this.maps.wx;
			yukaobject.view_y = this.yo[i].y - this.maps.wy;
			if(yukaobject.view_x + yukaobject.width <= 0 || yukaobject.view_x >= 512 || yukaobject.view_y + yukaobject.height <= 0 || yukaobject.view_y >= 320)
			{
				yukaobject.draw_f = false;
			} else
			{
				yukaobject.draw_f = true;
				this.hg.setColor(yukaobject.color);
				this.hg.fillRect(yukaobject.view_x, yukaobject.view_y, yukaobject.width, yukaobject.height);
			}
			continue;
		}
		if(yukaobject.con == 120)
		{
			yukaobject.view_x = this.yo[i].x - this.maps.wx;
			yukaobject.view_y = this.yo[i].y - this.maps.wy;
			if(yukaobject.view_x + yukaobject.width <= 0 || yukaobject.view_x >= 512 || yukaobject.view_y + yukaobject.height <= 0 || yukaobject.view_y >= 320)
			{
				yukaobject.draw_f = false;
				continue;
			}
			yukaobject.draw_f = true;
			var i3 = yukaobject.pt;
			if(i3 > 0)
				this.gg.drawPattern(yukaobject.view_x, yukaobject.view_y, i3, yukaobject.pth);
			continue;
		}
		if(yukaobject.con == 200)
		{
			yukaobject.view_x = this.yo[i].x - this.maps.wx;
			yukaobject.view_y = this.yo[i].y - this.maps.wy;
			var j3 = yukaobject.view_x;
			var j8 = this.yo[i].x2 - this.maps.wx;
			if(j3 < 0 && j8 < 0 || j3 >= 512 && j8 >= 512)
			{
				yukaobject.draw_f = false;
			} else
			{
				yukaobject.draw_f = true;
				this.hg.setColor(yukaobject.color);
				//this.hg.drawLine(j3, l5, j8, l10);
			}
			continue;
		}
		if(yukaobject.con == 210)
		{
			yukaobject.view_x = this.yo[i].x - this.maps.wx;
			yukaobject.view_y = this.yo[i].y - this.maps.wy;
			var k3 = yukaobject.view_x;
			var i6 = yukaobject.view_y;
			var k8 = this.yo[i].x2 - this.maps.wx;
			var i11 = this.yo[i].y2 - this.maps.wy;
			if(k3 < 0 && k8 < 0 || k3 >= 512 && k8 >= 512)
			{
				yukaobject.draw_f = false;
				continue;
			}
			yukaobject.draw_f = true;
			if(k3 <= k8)
			{
				var j13;
				var k15;
				if(i6 >= i11)
				{
					j13 = k8;
					k15 = i6;
				} else
				{
					j13 = k3;
					k15 = i11;
				}
				ai[0] = k3;
				ai1[0] = i6;
				ai[1] = k8;
				ai1[1] = i11;
				ai[2] = j13;
				ai1[2] = k15;
			} else
			{
				var k13;
				var l15;
				if(i11 >= i6)
				{
					k13 = k8;
					l15 = i6;
				} else
				{
					k13 = k3;
					l15 = i11;
				}
				ai[0] = k3;
				ai1[0] = i6;
				ai[1] = k8;
				ai1[1] = i11;
				ai[2] = k13;
				ai1[2] = l15;
			}
			this.hg.setColor(yukaobject.color);
			this.hg.fillPolygon(ai, ai1, 3);
			continue;
		}
		if(yukaobject.con == 220)
		{
			yukaobject.view_x = this.yo[i].x - this.maps.wx;
			yukaobject.view_y = this.yo[i].y - this.maps.wy;
			var l3 = yukaobject.view_x;
			var j6 = yukaobject.view_y;
			var l8 = this.yo[i].x2 - this.maps.wx;
			var j11 = this.yo[i].y2 - this.maps.wy;
			if(l3 < 0 && l8 < 0 || l3 >= 512 && l8 >= 512)
			{
				yukaobject.draw_f = false;
				continue;
			}
			yukaobject.draw_f = true;
			if(l3 <= l8)
			{
				var l13;
				var i16;
				if(j6 >= j11)
				{
					l13 = l8;
					i16 = j6;
				} else
				{
					l13 = l3;
					i16 = j11;
				}
				ai[0] = l3;
				ai1[0] = j6;
				ai[1] = l8;
				ai1[1] = j11;
				ai[2] = l13;
				ai1[2] = i16;
			} else
			{
				var i14;
				var j16;
				if(j11 >= j6)
				{
					i14 = l8;
					j16 = j6;
				} else
				{
					i14 = l3;
					j16 = j11;
				}
				ai[0] = l3;
				ai1[0] = j6;
				ai[1] = l8;
				ai1[1] = j11;
				ai[2] = i14;
				ai1[2] = j16;
			}
			this.hg.setColor(yukaobject.color);
			this.hg.fillPolygon(ai, ai1, 3);
			if(l3 <= l8)
			{
				if(j6 >= j11)
				{
					if(j6 < 320)
						this.hg.fillRect(l3, j6, l8 - l3, 320 - j6);
					continue;
				}
				if(j11 < 320)
					this.hg.fillRect(l3, j11, l8 - l3, 320 - j11);
				continue;
			}
			if(j11 >= j6)
			{
				if(j6 > 0)
					this.hg.fillRect(l8, 0, l3 - l8, j6);
				continue;
			}
			if(j11 > 0)
				this.hg.fillRect(l8, 0, l3 - l8, j11);
			continue;
		}
		if(yukaobject.con == 300)
		{
			yukaobject.view_x = this.yo[i].x - this.maps.wx;
			yukaobject.view_y = this.yo[i].y - this.maps.wy;
			var i4 = yukaobject.view_x - yukaobject.x2;
			var k6 = yukaobject.view_y - yukaobject.x2;
			var i9 = yukaobject.view_x + yukaobject.x2;
			var k11 = yukaobject.view_y + yukaobject.x2;
			if(i9 < 0 || i4 >= 512 || k11 < 0 || k6 >= 320)
			{
				yukaobject.draw_f = false;
			} else
			{
				yukaobject.draw_f = true;
				this.hg.setColor(yukaobject.color);
				this.hg.fillOval(i4, k6, i9 - i4, k11 - k6);
			}
			continue;
		}
		if(yukaobject.con == 350)
		{
			yukaobject.view_x = this.yo[i].x - this.maps.wx;
			yukaobject.view_y = this.yo[i].y - this.maps.wy;
			var j4 = yukaobject.view_x;
			var l6 = yukaobject.view_y;
			var j9 = yukaobject.view_x + 240;
			if(j9 < 0 || j4 > 512 || l6 > 320)
			{
				yukaobject.draw_f = false;
				continue;
			}
			yukaobject.draw_f = true;
			this.hg.setColor(yukaobject.color);
			var j21 = 0;
			ai[j21] = j4;
			ai1[j21] = l6 + 64;
			j21++;
			for(var j = 140; j >= 90; j -= 5)
			{
				ai[j21] = Math.floor((j4 + 120) + Math.cos((j * 3.1415926535897931) / 180) * 144);
				ai1[j21] = Math.floor((l6 + 144) - Math.sin((j * 3.1415926535897931) / 180) * 144);
				j21++;
			}

			ai[j21] = j4 + 120;
			ai1[j21] = l6 + 64;
			j21++;
			this.hg.fillPolygon(ai, ai1, j21);
			j21 = 0;
			for(var k = 90; k >= 40; k -= 5)
			{
				ai[j21] = Math.floor((j4 + 120) + Math.cos((k * 3.1415926535897931) / 180) * 144);
				ai1[j21] = Math.floor((l6 + 144) - Math.sin((k * 3.1415926535897931) / 180) * 144);
				j21++;
			}

			ai[j21] = j4 + 240;
			ai1[j21] = l6 + 64;
			j21++;
			ai[j21] = j4 + 120;
			ai1[j21] = l6 + 64;
			j21++;
			this.hg.fillPolygon(ai, ai1, j21);
			continue;
		}
		if(yukaobject.con == 360)
		{
			yukaobject.view_x = this.yo[i].x - this.maps.wx;
			yukaobject.view_y = this.yo[i].y - this.maps.wy;
			var k4 = yukaobject.view_x;
			var i7 = yukaobject.view_y;
			var k9 = yukaobject.view_x + 240;
			if(k9 < 0 || k4 > 512 || i7 > 320)
			{
				yukaobject.draw_f = false;
				continue;
			}
			yukaobject.draw_f = true;
			this.hg.setColor(yukaobject.color);
			var l = 140;
			do
			{
				if(l < 45)
					continue label0;
				var j14 = Math.floor((k4 + 120) + Math.cos((l * 3.1415926535897931) / 180) * 144);
				var k16 = Math.floor((i7 + 144) - Math.sin((l * 3.1415926535897931) / 180) * 144);
				var l17 = Math.floor((k4 + 120) + Math.cos(((l - 5) * 3.1415926535897931) / 180) * 144);
				var i19 = Math.floor((i7 + 144) - Math.sin(((l - 5) * 3.1415926535897931) / 180) * 144);
				this.hg.drawLine(j14, k16, l17, i19);
				if(l == 140)
					this.hg.drawLine(k4, i7 + 63, j14, k16);
				else
				if(l == 45)
					this.hg.drawLine(k4 + 239, i7 + 63, l17, i19);
				l -= 5;
			} while(true);
		}
		if(yukaobject.con == 400)
		{
			yukaobject.view_x = this.yo[i].x - this.maps.wx;
			yukaobject.view_y = this.yo[i].y - this.maps.wy;
			var l4 = yukaobject.view_x;
			var j7 = yukaobject.view_y;
			var l9 = yukaobject.view_x + 256;
			var j12 = yukaobject.view_y + 128;
			if(l9 < 0 || l4 > 512 || j7 > 320)
			{
				yukaobject.draw_f = false;
				continue;
			}
			yukaobject.draw_f = true;
			this.hg.setColor(yukaobject.color);
			var k21 = 0;
			for(var i1 = 0; i1 <= 50; i1 += 5)
			{
				ai[k21] = Math.floor(l4 + Math.sin((i1 * 3.1415926535897931) / 180) * 160);
				ai1[k21] = Math.floor((j7 - 32) + Math.cos((i1 * 3.1415926535897931) / 180) * 160);
				if(i1 == 50)
				{
					j20 = ai[k21];
					k20 = ai1[k21];
				}
				k21++;
			}

			ai[k21] = j20;
			ai1[k21] = j7 + 128;
			this.hg.fillPolygon(ai, ai1, 12);
			k21 = 0;
			for(var j1 = 0; j1 <= 50; j1 += 5)
			{
				ai[k21] = Math.floor((l4 + 256) - Math.sin((j1 * 3.1415926535897931) / 180) * 160);
				ai1[k21] = Math.floor((j7 + 160) - Math.cos((j1 * 3.1415926535897931) / 180) * 160);
				if(j1 == 50)
				{
					l20 = ai[k21];
					i21 = ai1[k21];
				}
				k21++;
			}

			ai[k21] = l20;
			ai1[k21] = j7 + 128;
			k21++;
			ai[k21] = l4 + 256;
			ai1[k21] = j7 + 128;
			this.hg.fillPolygon(ai, ai1, 13);
			ai[0] = j20;
			ai1[0] = k20;
			ai[1] = l20;
			ai1[1] = i21;
			ai[2] = l20;
			ai1[2] = j7 + 128;
			ai[3] = j20;
			ai1[3] = j7 + 128;
			this.hg.fillPolygon(ai, ai1, 4);
			if(j12 < 320)
				this.hg.fillRect(l4, j7 + 128, 256, 320 - (j7 + 128));
			continue;
		}
		if(yukaobject.con == 410)
		{
			yukaobject.view_x = this.yo[i].x - this.maps.wx;
			yukaobject.view_y = this.yo[i].y - this.maps.wy;
			var i5 = yukaobject.view_x;
			var k7 = yukaobject.view_y;
			var i10 = yukaobject.view_x + 256;
			var k12 = yukaobject.view_y + 128;
			if(i10 < 0 || i5 > 512 || k7 > 320 || k12 < 0)
			{
				yukaobject.draw_f = false;
				continue;
			}
			yukaobject.draw_f = true;
			this.hg.setColor(yukaobject.color);
			for(var k1 = 0; k1 <= 45; k1 += 5)
			{
				var k14 = Math.floor(i5 + Math.sin((k1 * 3.1415926535897931) / 180) * 160);
				var l16 = Math.floor((k7 - 32) + Math.cos((k1 * 3.1415926535897931) / 180) * 160);
				var i18 = Math.floor(i5 + Math.sin(((k1 + 5) * 3.1415926535897931) / 180) * 160);
				var j19 = Math.floor((k7 - 32) + Math.cos(((k1 + 5) * 3.1415926535897931) / 180) * 160);
				this.hg.drawLine(k14, l16, i18, j19);
				if(k1 == 45)
				{
					j20 = i18;
					k20 = j19;
				}
			}

			for(var l1 = 0; l1 <= 45; l1 += 5)
			{
				var l14 = Math.floor((i5 + 256) - Math.sin((l1 * 3.1415926535897931) / 180) * 160);
				var i17 = Math.floor((k7 + 160) - Math.cos((l1 * 3.1415926535897931) / 180) * 160);
				var j18 = Math.floor((i5 + 256) - Math.sin(((l1 + 5) * 3.1415926535897931) / 180) * 160);
				var k19 = Math.floor((k7 + 160) - Math.cos(((l1 + 5) * 3.1415926535897931) / 180) * 160);
				this.hg.drawLine(l14, i17, j18, k19);
				if(l1 == 45)
				{
					l20 = j18;
					i21 = k19;
				}
			}

			this.hg.drawLine(j20, k20, l20, i21);
			continue;
		}
		if(yukaobject.con == 450)
		{
			yukaobject.view_x = this.yo[i].x - this.maps.wx;
			yukaobject.view_y = this.yo[i].y - this.maps.wy;
			var j5 = yukaobject.view_x;
			var l7 = yukaobject.view_y;
			var j10 = yukaobject.view_x + 256;
			var l12 = yukaobject.view_y + 128;
			if(j10 < 0 || j5 > 512 || l7 > 320)
			{
				yukaobject.draw_f = false;
				continue;
			}
			yukaobject.draw_f = true;
			this.hg.setColor(yukaobject.color);
			var l21 = 0;
			for(var i2 = 0; i2 <= 50; i2 += 5)
			{
				ai[l21] = Math.floor(j10 - Math.sin((i2 * 3.1415926535897931) / 180) * 160);
				ai1[l21] = Math.floor((l7 - 32) + Math.cos((i2 * 3.1415926535897931) / 180) * 160);
				if(i2 == 50)
				{
					j20 = ai[l21];
					k20 = ai1[l21];
				}
				l21++;
			}

			ai[l21] = j20;
			ai1[l21] = l7 + 128;
			this.hg.fillPolygon(ai, ai1, 12);
			l21 = 0;
			for(var j2 = 0; j2 <= 50; j2 += 5)
			{
				ai[l21] = Math.floor(j5 + Math.sin((j2 * 3.1415926535897931) / 180) * 160);
				ai1[l21] = Math.floor((l7 + 160) - Math.cos((j2 * 3.1415926535897931) / 180) * 160);
				if(j2 == 50)
				{
					l20 = ai[l21];
					i21 = ai1[l21];
				}
				l21++;
			}

			ai[l21] = l20;
			ai1[l21] = l7 + 128;
			l21++;
			ai[l21] = j5;
			ai1[l21] = l7 + 128;
			this.hg.fillPolygon(ai, ai1, 13);
			ai[0] = j20;
			ai1[0] = k20;
			ai[1] = l20;
			ai1[1] = i21;
			ai[2] = l20;
			ai1[2] = l7 + 128;
			ai[3] = j20;
			ai1[3] = l7 + 128;
			this.hg.fillPolygon(ai, ai1, 4);
			if(l12 < 320)
				this.hg.fillRect(j5, l7 + 128, 256, 320 - (l7 + 128));
			continue;
		}
		if(yukaobject.con != 460)
			continue;
		yukaobject.view_x = this.yo[i].x - this.maps.wx;
		yukaobject.view_y = this.yo[i].y - this.maps.wy;
		var k5 = yukaobject.view_x;
		var i8 = yukaobject.view_y;
		var k10 = yukaobject.view_x + 256;
		var i13 = yukaobject.view_y + 128;
		if(k10 < 0 || k5 > 512 || i8 > 320 || i13 < 0)
		{
			yukaobject.draw_f = false;
			continue;
		}
		yukaobject.draw_f = true;
		this.hg.setColor(yukaobject.color);
		for(var k2 = 0; k2 <= 45; k2 += 5)
		{
			var i15 = Math.floor(k10 - Math.sin((k2 * 3.1415926535897931) / 180) * 160);
			var j17 = Math.floor((i8 - 32) + Math.cos((k2 * 3.1415926535897931) / 180) * 160);
			var k18 = Math.floor(k10 - Math.sin(((k2 + 5) * 3.1415926535897931) / 180) * 160);
			var l19 = Math.floor((i8 - 32) + Math.cos(((k2 + 5) * 3.1415926535897931) / 180) * 160);
			this.hg.drawLine(i15, j17, k18, l19);
			if(k2 == 45)
			{
				j20 = k18;
				k20 = l19;
			}
		}

		for(var l2 = 0; l2 <= 45; l2 += 5)
		{
			var j15 = Math.floor(k5 + Math.sin((l2 * 3.1415926535897931) / 180) * 160);
			var k17 = Math.floor((i8 + 160) - Math.cos((l2 * 3.1415926535897931) / 180) * 160);
			var l18 = Math.floor(k5 + Math.sin(((l2 + 5) * 3.1415926535897931) / 180) * 160);
			var i20 = Math.floor((i8 + 160) - Math.cos(((l2 + 5) * 3.1415926535897931) / 180) * 160);
			this.hg.drawLine(j15, k17, l18, i20);
			if(l2 == 45)
			{
				l20 = l18;
				i21 = i20;
			}
		}

		this.hg.drawLine(j20, k20, l20, i21);
	}

}

MainProgram.prototype.atariYuka = function(i)
{
	if(this.yuka_id_max < 0)
		return;
	if(i == 0)
	{
		for(var j = 0; j <= this.yuka_id_max; j++)
		{
			var yukaobject = this.yo[j];
			if(yukaobject.con != 0 && yukaobject.type != 2)
				if(yukaobject.con >= 100 && yukaobject.con < 200)
				{
					if(this.j_tokugi == 14 || this.j_tokugi == 15)
					{
						if(this.co_j.x + 31 >= yukaobject.x && this.co_j.x < yukaobject.x + yukaobject.width && this.co_j.y + 31 >= yukaobject.y && this.co_j.y < yukaobject.y + yukaobject.height)
						{
							this.co_j.x = yukaobject.x + yukaobject.width;
							this.co_j.vx = 0;
						}
					} else
					if(this.co_j.x + 15 >= yukaobject.x && this.co_j.x + 15 < yukaobject.x + yukaobject.width && this.co_j.y + 31 >= yukaobject.y && this.co_j.y < yukaobject.y + yukaobject.height)
					{
						this.co_j.x = (yukaobject.x + yukaobject.width) - 15;
						this.co_j.vx = 0;
					}
				} else
				if(yukaobject.con >= 200 && yukaobject.con < 300)
				{
					if(this.co_j.vy >= 0)
					{
						var j1 = this.getSLOY(yukaobject.x, yukaobject.y, yukaobject.x2, yukaobject.y2);
						if(j1 >= 0 && this.co_j.y >= j1 && this.co_j.y <= j1 + 31)
						{
							this.co_j.y = j1;
							this.co_j.vy = 0;
						}
					}
				} else
				if(yukaobject.con >= 300 && yukaobject.con < 350)
				{
					var k1 = this.getSCOAlign(yukaobject.x, yukaobject.y, yukaobject.x2, yukaobject.y2);
					if(yukaobject.y - k1 < this.co_j.y + 31 && yukaobject.y + k1 > this.co_j.y)
					{
						k1 = rounddown((yukaobject.x2 * 90) / 100);
						if(yukaobject.x <= this.co_j.x + 15 && yukaobject.x + k1 >= this.co_j.x + 15)
						{
							this.co_j.x = (yukaobject.x + k1) - 14;
							if(this.co_j.vx < 0)
								this.co_j.vx = 0;
						}
					}
					k1 = this.getSCOY(yukaobject.x, yukaobject.y, yukaobject.x2, yukaobject.y2);
					if(k1 >= 0 && this.co_j.y >= k1 && this.co_j.y <= k1 + 47)
					{
						this.co_j.y = k1;
						this.co_j.vy = 0;
						if(this.maps.getBGCode(this.co_j.x + 15, this.co_j.y) >= 18 && this.co_j.c < 200)
						{
							this.co_j.y = (rightShiftIgnoreSign(this.co_j.y, 5) * 32 + 32) - 16;
							this.co_j.pt = 114;
							this.jShinu(3);
						}
					}
					if(this.co_j.vy < 0)
					{
						var l1 = this.getSCOYCeiling(yukaobject.x, yukaobject.y, yukaobject.x2, yukaobject.y2);
						if(l1 >= 0 && this.co_j.y <= l1 && this.co_j.y >= l1 - 47)
						{
							this.co_j.y = l1;
							if(this.co_j.vy < 0)
								this.co_j.vy = 0;
						}
					}
				} else
				if(yukaobject.con >= 350 && yukaobject.con < 400)
				{
					if(this.co_j.vy >= 0)
					{
						var i2 = this.getSHCOY(yukaobject.x, yukaobject.y, yukaobject.x2, yukaobject.y2);
						if(i2 >= 0 && this.co_j.y >= i2 && this.co_j.y <= i2 + 31)
						{
							this.co_j.y = i2;
							this.co_j.vy = 0;
						}
					}
				} else
				if(yukaobject.con == 400 || yukaobject.con == 410)
				{
					if(this.co_j.vy >= 0)
					{
						var j2 = this.getSWUpOY(yukaobject.x, yukaobject.y, yukaobject.x2, yukaobject.y2);
						if(j2 >= 0 && this.co_j.y >= j2 && this.co_j.y <= j2 + 31)
						{
							this.co_j.y = j2;
							this.co_j.vy = 0;
						}
					}
				} else
				if((yukaobject.con == 450 || yukaobject.con == 460) && this.co_j.vy >= 0)
				{
					var k2 = this.getSWDownOY(yukaobject.x, yukaobject.y, yukaobject.x2, yukaobject.y2);
					if(k2 >= 0 && this.co_j.y >= k2 && this.co_j.y <= k2 + 31)
					{
						this.co_j.y = k2;
						this.co_j.vy = 0;
					}
				}
		}

	} else
	if(i == 1)
	{
		for(var k = 0; k <= this.yuka_id_max; k++)
		{
			var yukaobject1 = this.yo[k];
			if(yukaobject1.con != 0 && yukaobject1.type != 2)
				if(yukaobject1.con >= 100 && yukaobject1.con < 200)
				{
					if(this.j_tokugi == 14 || this.j_tokugi == 15)
					{
						if(this.co_j.x + 31 >= yukaobject1.x && this.co_j.x < yukaobject1.x + yukaobject1.width && this.co_j.y + 31 >= yukaobject1.y && this.co_j.y < yukaobject1.y + yukaobject1.height)
						{
							this.co_j.x = yukaobject1.x - 32;
							this.co_j.vx = 0;
						}
					} else
					if(this.co_j.x + 15 >= yukaobject1.x && this.co_j.x + 15 < yukaobject1.x + yukaobject1.width && this.co_j.y + 31 >= yukaobject1.y && this.co_j.y < yukaobject1.y + yukaobject1.height)
					{
						this.co_j.x = yukaobject1.x - 16;
						this.co_j.vx = 0;
					}
				} else
				if(yukaobject1.con >= 200 && yukaobject1.con < 300)
				{
					if(this.co_j.vy >= 0)
					{
						var l2 = this.getSLOY(yukaobject1.x, yukaobject1.y, yukaobject1.x2, yukaobject1.y2);
						if(l2 >= 0 && this.co_j.y >= l2 && this.co_j.y <= l2 + 31)
						{
							this.co_j.y = l2;
							this.co_j.vy = 0;
						}
					}
				} else
				if(yukaobject1.con >= 300 && yukaobject1.con < 350)
				{
					var i3 = this.getSCOAlign(yukaobject1.x, yukaobject1.y, yukaobject1.x2, yukaobject1.y2);
					if(yukaobject1.y - i3 < this.co_j.y + 31 && yukaobject1.y + i3 > this.co_j.y)
					{
						i3 = rounddown((yukaobject1.x2 * 90) / 100);
						if(yukaobject1.x - i3 <= this.co_j.x + 15 && yukaobject1.x >= this.co_j.x + 15)
						{
							this.co_j.x = yukaobject1.x - i3 - 16;
							if(this.co_j.vx > 0)
								this.co_j.vx = 0;
						}
					}
					i3 = this.getSCOY(yukaobject1.x, yukaobject1.y, yukaobject1.x2, yukaobject1.y2);
					if(i3 >= 0 && this.co_j.y >= i3 && this.co_j.y <= i3 + 47)
					{
						this.co_j.y = i3;
						this.co_j.vy = 0;
						if(this.maps.getBGCode(this.co_j.x + 15, this.co_j.y) >= 18 && this.co_j.c < 200)
						{
							this.co_j.y = (rightShiftIgnoreSign(this.co_j.y, 5) * 32 + 32) - 16;
							this.co_j.pt = 114;
							this.jShinu(3);
						}
					}
					if(this.co_j.vy < 0)
					{
						var j3 = this.getSCOYCeiling(yukaobject1.x, yukaobject1.y, yukaobject1.x2, yukaobject1.y2);
						if(j3 >= 0 && this.co_j.y <= j3 && this.co_j.y >= j3 - 47)
						{
							this.co_j.y = j3;
							if(this.co_j.vy < 0)
								this.co_j.vy = 0;
						}
					}
				} else
				if(yukaobject1.con >= 350 && yukaobject1.con < 400)
				{
					if(this.co_j.vy >= 0)
					{
						var k3 = this.getSHCOY(yukaobject1.x, yukaobject1.y, yukaobject1.x2, yukaobject1.y2);
						if(k3 >= 0 && this.co_j.y >= k3 && this.co_j.y <= k3 + 31)
						{
							this.co_j.y = k3;
							this.co_j.vy = 0;
						}
					}
				} else
				if(yukaobject1.con == 400 || yukaobject1.con == 410)
				{
					if(this.co_j.vy >= 0)
					{
						var l3 = this.getSWUpOY(yukaobject1.x, yukaobject1.y, yukaobject1.x2, yukaobject1.y2);
						if(l3 >= 0 && this.co_j.y >= l3 && this.co_j.y <= l3 + 31)
						{
							this.co_j.y = l3;
							this.co_j.vy = 0;
						}
					}
				} else
				if((yukaobject1.con == 450 || yukaobject1.con == 460) && this.co_j.vy >= 0)
				{
					var i4 = this.getSWDownOY(yukaobject1.x, yukaobject1.y, yukaobject1.x2, yukaobject1.y2);
					if(i4 >= 0 && this.co_j.y >= i4 && this.co_j.y <= i4 + 31)
					{
						this.co_j.y = i4;
						this.co_j.vy = 0;
					}
				}
		}

	} else
	if(i == 2)
	{
		for(var l = 0; l <= this.yuka_id_max; l++)
		{
			var yukaobject2 = this.yo[l];
			if(yukaobject2.con != 0 && yukaobject2.type != 2)
				if(yukaobject2.con >= 100 && yukaobject2.con < 200)
				{
					if(this.j_tokugi == 14 || this.j_tokugi == 15)
					{
						if(this.co_j.x + 31 >= yukaobject2.x && this.co_j.x < yukaobject2.x + yukaobject2.width && this.co_j.y + 31 >= yukaobject2.y && this.co_j.y < yukaobject2.y + yukaobject2.height)
						{
							this.co_j.y = yukaobject2.y + yukaobject2.height;
							this.co_j.vy = 0;
						}
					} else
					if(this.co_j.x + 15 >= yukaobject2.x && this.co_j.x + 15 < yukaobject2.x + yukaobject2.width && this.co_j.y + 31 >= yukaobject2.y && this.co_j.y < yukaobject2.y + yukaobject2.height)
					{
						this.co_j.y = yukaobject2.y + yukaobject2.height;
						this.co_j.vy = 0;
					}
				} else
				if(yukaobject2.con >= 300 && yukaobject2.con < 350)
				{
					var j4 = this.getSCOYCeiling(yukaobject2.x, yukaobject2.y, yukaobject2.x2, yukaobject2.y2);
					if(j4 >= 0 && this.co_j.y <= j4 && this.co_j.y >= j4 - 63 && this.co_j.y >= yukaobject2.y - 8)
					{
						this.co_j.y = j4;
						if(this.co_j.vy < 0)
							this.co_j.vy = 0;
						if(this.maps.getBGCode(this.co_j.x + 15, this.co_j.y + 31) >= 20 && this.co_j.c < 200)
						{
							this.co_j.y = rightShiftIgnoreSign(this.co_j.y + 31, 5) * 32 - 32;
							this.jShinu(3);
						}
					}
				}
		}

	} else
	if(i == 3)
	{
		for(var i1 = 0; i1 <= this.yuka_id_max; i1++)
		{
			var yukaobject3 = this.yo[i1];
			if(yukaobject3.con == 0 || yukaobject3.type == 2)
				continue;
			if(yukaobject3.con >= 100 && yukaobject3.con < 200)
			{
				if(this.j_tokugi == 14 || this.j_tokugi == 15)
				{
					if(this.co_j.x + 31 >= yukaobject3.x && this.co_j.x < yukaobject3.x + yukaobject3.width && this.co_j.y + 31 >= yukaobject3.y && this.co_j.y < yukaobject3.y + yukaobject3.height)
					{
						this.co_j.y = yukaobject3.y - 32;
						this.co_j.vy = 0;
					}
					continue;
				}
				if(this.co_j.x + 15 >= yukaobject3.x && this.co_j.x + 15 < yukaobject3.x + yukaobject3.width && this.co_j.y + 31 >= yukaobject3.y && this.co_j.y < yukaobject3.y + yukaobject3.height)
				{
					this.co_j.y = yukaobject3.y - 32;
					this.co_j.vy = 0;
				}
				continue;
			}
			if(yukaobject3.con >= 200 && yukaobject3.con < 300)
			{
				var k4 = this.getSLOY(yukaobject3.x, yukaobject3.y, yukaobject3.x2, yukaobject3.y2);
				if(k4 >= 0 && this.co_j.y >= k4 && this.co_j.y <= k4 + 31)
				{
					this.co_j.y = k4;
					this.co_j.vy = 0;
				}
				continue;
			}
			if(yukaobject3.con >= 300 && yukaobject3.con < 350)
			{
				var l4 = this.getSCOY(yukaobject3.x, yukaobject3.y, yukaobject3.x2, yukaobject3.y2);
				if(l4 >= 0 && this.co_j.y >= l4 && this.co_j.y <= l4 + 31)
				{
					this.co_j.y = l4;
					this.co_j.vy = 0;
					if(this.co_j.vx == 0)
						this.co_j.pt = 100;
				}
				if(this.co_j.y <= yukaobject3.y)
					continue;
				l4 = this.getSCOYCeiling(yukaobject3.x, yukaobject3.y, yukaobject3.x2, yukaobject3.y2);
				if(l4 < 0 || this.co_j.y > l4 || this.co_j.y < l4 - 31)
					continue;
				this.co_j.y = l4;
				if(this.co_j.vy < 0)
					this.co_j.vy = 0;
				if(this.maps.getBGCode(this.co_j.x + 15, this.co_j.y + 31) >= 20)
				{
					this.co_j.y = rightShiftIgnoreSign(this.co_j.y + 31, 5) * 32 - 32;
					this.jShinu(3);
				}
				continue;
			}
			if(yukaobject3.con >= 350 && yukaobject3.con < 400)
			{
				var i5 = this.getSHCOY(yukaobject3.x, yukaobject3.y, yukaobject3.x2, yukaobject3.y2);
				if(i5 < 0 || this.co_j.y < i5 || this.co_j.y > i5 + 31)
					continue;
				this.co_j.y = i5;
				this.co_j.vy = 0;
				if(this.co_j.vx == 0)
					this.co_j.pt = 100;
				continue;
			}
			if(yukaobject3.con == 400 || yukaobject3.con == 410)
			{
				var j5 = this.getSWUpOY(yukaobject3.x, yukaobject3.y, yukaobject3.x2, yukaobject3.y2);
				if(j5 < 0 || this.co_j.y < j5 || this.co_j.y > j5 + 31)
					continue;
				this.co_j.y = j5;
				this.co_j.vy = 0;
				if(this.co_j.vx == 0)
					this.co_j.pt = 100;
				continue;
			}
			if(yukaobject3.con != 450 && yukaobject3.con != 460)
				continue;
			var k5 = this.getSWDownOY(yukaobject3.x, yukaobject3.y, yukaobject3.x2, yukaobject3.y2);
			if(k5 < 0 || this.co_j.y < k5 || this.co_j.y > k5 + 31)
				continue;
			this.co_j.y = k5;
			this.co_j.vy = 0;
			if(this.co_j.vx == 0)
				this.co_j.pt = 100;
		}

	}
}

MainProgram.prototype.isYukaCross = function()
{
	var flag = false;
	if(this.yuka_id_max < 0)
		return false;
	if(this.co_j.c < 100 || this.co_j.c >= 200)
		return false;
	for(var i = 0; i <= this.yuka_id_max; i++)
	{
		var yukaobject = this.yo[i];
		if(yukaobject.con == 0 || yukaobject.type == 2 || yukaobject.con < 100 || yukaobject.con >= 200)
			continue;
		if(this.j_tokugi == 14 || this.j_tokugi == 15)
		{
			if(this.co_j.x + 31 < yukaobject.x || this.co_j.x >= yukaobject.x + yukaobject.width || this.co_j.y + 31 < yukaobject.y || this.co_j.y >= yukaobject.y + yukaobject.height)
				continue;
			flag = true;
			break;
		}
		if(this.co_j.x + 15 < yukaobject.x || this.co_j.x + 15 >= yukaobject.x + yukaobject.width || this.co_j.y + 31 < yukaobject.y || this.co_j.y >= yukaobject.y + yukaobject.height)
			continue;
		flag = true;
		break;
	}

	return flag;
}

MainProgram.prototype.getSLOY = function(i, j, k, l)
{
	if(i >= k)
		return -1;
	var i1 = this.co_j.x + 15;
	if(i1 < i || i1 > k)
		return -1;
	var j1 = k - i;
	var k1 = l - j;
	var j2 = Math.floor((Math.atan2(Math.abs(k1), Math.abs(j1)) * 180) / 3.1400001049041748);
	if(j2 > 70)
	{
		return -1;
	} else
	{
		var l1 = i1 - i;
		var i2 = rounddown((k1 * l1) / j1);
		i2 = (j + i2) - 32;
		return i2;
	}
}

MainProgram.prototype.getSCOYCeiling = function(i, j, k, l)
{
	var i1 = this.co_j.x + 15;
	var k1 = rounddown((k * 90) / 100);
	if(i1 < i - k1 || i1 > i + k1)
	{
		return -1;
	} else
	{
		var j1 = j + Math.floor(Math.sqrt(k * k - (i1 - i) * (i1 - i)));
		return j1;
	}
}

MainProgram.prototype.getSCOAlign = function(i, j, k, l)
{
	var j1 = rounddown((k * 90) / 100);
	var i1 = Math.floor(Math.sqrt(k * k - j1 * j1));
	return i1;
}

MainProgram.prototype.getSCOY = function(i, j, k, l, i1)
{
	var j1;
	var l1 = rounddown((k * 90) / 100);
	if(arguments.length == 4) j1 = this.co_j.x + 15;
	else j1 = i1;
	if(j1 < i - l1 || j1 > i + l1)
	{
		return -1;
	} else
	{
		var k1 = j - Math.floor(Math.sqrt(k * k - (j1 - i) * (j1 - i))) - 32;
		return k1;
	}
}

MainProgram.prototype.getSHCOY = function(i, j, k, l, i1)
{
	var j1;
	if(arguments.length == 4) j1 = this.co_j.x + 15;
	else j1 = i1;
	if(j1 < i || j1 > i + 239)
	{
		return -1;
	} else
	{
		var k1 = (j + 144) - Math.floor(Math.sqrt(20736 - Math.abs((i + 120) - j1) * Math.abs((i + 120) - j1))) - 32;
		return k1;
	}
}

MainProgram.prototype.getSWUpOY = function(i, j, k, l, i1)
{
	var j1;
	if(arguments.length == 4) j1 = this.co_j.x + 15;
	else j1 = i1;
	if(j1 < i || j1 > i + 255)
		return -1;
	var k2;
	if(j1 - i <= 127)
	{
		var k1 = j1 - i;
		var i2 = Math.floor(Math.sqrt(25600 - k1 * k1));
		k2 = ((j - 32) + i2) - 32;
	} else
	{
		var l1 = (i + 255) - j1;
		var j2 = Math.floor(Math.sqrt(25600 - l1 * l1));
		k2 = (j + 128 + 32) - j2 - 32;
	}
	return k2;
}

MainProgram.prototype.getSWDownOY = function(i, j, k, l, i1)
{
	var j1;
	if(arguments.length == 4) j1 = this.co_j.x + 15;
	else j1 = i1;
	if(j1 < i || j1 > i + 255)
		return -1;
	var k2;
	if(j1 - i <= 127)
	{
		var k1 = i - j1;
		var i2 = Math.floor(Math.sqrt(25600 - k1 * k1));
		k2 = (j + 128 + 32) - i2 - 32;
	} else
	{
		var l1 = (i + 255) - j1;
		var j2 = Math.floor(Math.sqrt(25600 - l1 * l1));
		k2 = ((j - 32) + j2) - 32;
	}
	return k2;
}


MainProgram.prototype.setChipValue = function (x, y, id) {
	var word1 = -1;
	switch (id) {
		case 46:
		case 0:
			break;
		case 49:
			word1 = 1;
			break;
		case 50:
			word1 = 2;
			break;
		case 51:
			word1 = 3;
			break;
		case 52:
			word1 = 4;
			break;
		case 53:
			word1 = 5;
			break;
		case 54:
			word1 = 6;
			break;
		case 55:
			word1 = 7;
			break;
		case 56:
			word1 = 8;
			break;
		case 57:
			word1 = 9;
			break;
		case 97:
			word1 = 20;
			break;
		case 98:
			word1 = 21;
			break;
		case 99:
			word1 = 22;
			break;
		case 100:
			word1 = 23;
			break;
		case 101:
			word1 = 24;
			break;
		case 102:
			word1 = 25;
			break;
		case 103:
			word1 = 26;
			break;
		case 104:
			word1 = 27;
			break;
		case 105:
			word1 = 28;
			break;
		case 91:
			word1 = 15;
			break;
		case 93:
			word1 = 10;
			break;
		case 60:
			word1 = 18;
			break;
		case 62:
			word1 = 19;
			break;
		case 106:
			word1 = 29;
			break;
		case 107:
			if (this.coin1_type >= 2) {
				word1 = this.setAthleticOnMap(this.coin1_type, x, y);
				if (word1 == -99) {
					word1 = 40;
					this.hSet(x, y, 100);
				}
			} else if (this.j_tokugi == 14)
				this.mSet(x * 32, y * 32, 2181);
			else if (this.j_tokugi == 15) {
				this.mSet(x * 32, y * 32, 2000);
			} else {
				word1 = 40;
				this.hSet(x, y, 100);
			}
			break;
		case 108:
			if (this.coin3_type >= 2) {
				word1 = this.setAthleticOnMap(this.coin3_type, x, y);
				if (word1 == -99) {
					word1 = 40;
					this.hSet(x, y, 200);
				}
			} else if (this.j_tokugi == 14)
				this.mSet(x * 32, y * 32, 2182);
			else if (this.j_tokugi == 15) {
				this.mSet(x * 32, y * 32, 2010);
				this.mSet(x * 32, y * 32, 2020);
				this.mSet(x * 32, y * 32, 2000);
			} else {
				word1 = 40;
				this.hSet(x, y, 200);
			}
			break;
		case 109:
			if (this.j_tokugi == 14 || this.j_tokugi == 15) {
				this.mSet(x * 32, y * 32, 2100);
			} else {
				word1 = 40;
				this.hSet(x, y, 300);
			}
			break;
		case 110:
			if (this.j_tokugi == 14 || this.j_tokugi == 15) {
				this.mSet(x * 32, y * 32, 2110);
			} else {
				word1 = 40;
				this.hSet(x, y, 400);
			}
			break;
		case 111:
			if (this.j_tokugi == 14 || this.j_tokugi == 15) {
				this.mSet(x * 32, y * 32, 2120);
			} else {
				word1 = 40;
				this.hSet(x, y, 500);
			}
			break;
		case 112:
			if (this.j_tokugi == 14 || this.j_tokugi == 15) {
				this.mSet(x * 32, y * 32, 2130);
			} else {
				word1 = 40;
				this.hSet(x, y, 600);
			}
			break;
		case 113:
			if (this.j_tokugi == 14 || this.j_tokugi == 15) {
				this.mSet(x * 32, y * 32, 2140);
			} else {
				word1 = 40;
				this.hSet(x, y, 700);
			}
			break;
		case 114:
			if (this.j_tokugi == 14 || this.j_tokugi == 15) {
				this.mSet(x * 32, y * 32, 2150);
			} else {
				word1 = 40;
				this.hSet(x, y, 800);
			}
			break;
		case 115:
			if (this.j_tokugi == 14 || this.j_tokugi == 15) {
				this.mSet(x * 32, y * 32, 2160);
			} else {
				word1 = 40;
				this.hSet(x, y, 900);
			}
			break;
		case 116:
			if (this.j_tokugi == 14 || this.j_tokugi == 15) {
				this.mSet(x * 32, y * 32, 2170);
			} else {
				word1 = 40;
				this.hSet(x, y, 1000);
			}
			break;
		case 117:
			if (this.dokan1_type >= 2) {
				word1 = this.setAthleticOnMap(this.dokan1_type, x, y);
				if (word1 == -99) {
					this.aSet(x * 32, y * 32, 300, x * 32);
					if (this.maps.map_bg[x - 1][y] == 4)
						word1 = 4;
				}
			} else {
				this.aSet(x * 32, y * 32, 300, x * 32);
				if (this.maps.map_bg[x - 1][y] == 4)
					word1 = 4;
			}
			break;
		case 118:
			if (this.dokan2_type >= 2) {
				word1 = this.setAthleticOnMap(this.dokan2_type, x, y);
				if (word1 == -99) {
					this.aSet(x * 32, y * 32, 310, x * 32);
					if (this.maps.map_bg[x - 1][y] == 4)
						word1 = 4;
				}
			} else {
				this.aSet(x * 32, y * 32, 310, x * 32);
				if (this.maps.map_bg[x - 1][y] == 4)
					word1 = 4;
			}
			break;
		case 119:
			if (this.dokan3_type >= 2) {
				word1 = this.setAthleticOnMap(this.dokan3_type, x, y);
				if (word1 == -99) {
					this.aSet(x * 32, y * 32, 320, x * 32);
					if (this.maps.map_bg[x - 1][y] == 4)
						word1 = 4;
				}
			} else {
				this.aSet(x * 32, y * 32, 320, x * 32);
				if (this.maps.map_bg[x - 1][y] == 4)
					word1 = 4;
			}
			break;
		case 120:
			if (this.dokan4_type >= 2) {
				word1 = this.setAthleticOnMap(this.dokan4_type, x, y);
				if (word1 == -99) {
					this.aSet(x * 32, y * 32, 330, x * 32);
					if (this.maps.map_bg[x - 1][y] == 4)
						word1 = 4;
				}
			} else {
				this.aSet(x * 32, y * 32, 330, x * 32);
				if (this.maps.map_bg[x - 1][y] == 4)
					word1 = 4;
			}
			break;
		case 121:
			if (this.stage_1up_f[this.stage - 1] || this.j_tokugi == 17) {
				if (this.j_tokugi == 14 || this.j_tokugi == 15) {
					this.mSet(x * 32, y * 32, 2180);
				} else {
					word1 = 40;
					this.hSet(x, y, 1100);
				}
			} else {
				word1 = 41;
			}
			break;
		case 122:
			word1 = 69;
			break;
		case 43:
			this.aSet(x * 32, y * 32, 80, x * 32);
			if (this.maps.map_bg[x - 1][y] == 4)
				word1 = 4;
			break;
		case 45:
			this.aSet(x * 32, y * 32, 81, x * 32);
			if (this.maps.map_bg[x - 1][y] == 4)
				word1 = 4;
			break;
		case 42:
			this.aSet(x * 32, y * 32, 82, x * 32);
			if (this.maps.map_bg[x - 1][y] == 4)
				word1 = 4;
			break;
		case 47:
			this.aSet(x * 32, y * 32, 83, x * 32);
			if (this.maps.map_bg[x - 1][y] == 4)
				word1 = 4;
			break;
		case 65:
			this.co_j.x = x * 32;
			this.co_j.y = y * 32;
			if (this.maps.map_bg[x - 1][y] == 4)
				word1 = 4;
			break;
		case 66:
			this.tSet(x * 32, y * 32, 100, x * 32 - 512 - 32);
			if (this.maps.map_bg[x - 1][y] == 4)
				word1 = 4;
			break;
		case 67:
			this.tSet(x * 32, y * 32, 110, x * 32 - 512 - 32);
			if (this.maps.map_bg[x - 1][y] == 4)
				word1 = 4;
			break;
		case 68:
			this.tSet(x * 32, y * 32, 110, x * 32 - 512 - 32);
			this.tSet(x * 32 + 75, y * 32, 110, x * 32 - 512 - 32);
			this.tSet(x * 32 + 150, y * 32, 110, x * 32 - 512 - 32);
			if (this.maps.map_bg[x - 1][y] == 4)
				word1 = 4;
			break;
		case 69:
			if (this.dengeki_mkf == 3)
				this.tSet(x * 32, y * 32, 201, x * 32 - 512 - 32);
			else if (this.dengeki_mkf == 4)
				this.tSet(x * 32, y * 32, 202, x * 32 - 512 - 32);
			else if (this.dengeki_mkf == 5)
				this.tSet(x * 32, y * 32, 203, x * 32 - 512 - 32);
			else
				this.tSet(x * 32, y * 32, 200, x * 32 - 512 - 32);
			if (this.maps.map_bg[x - 1][y] == 4)
				word1 = 4;
			break;
		case 70:
			if (this.chikorin_attack >= 2 && this.chikorin_attack <= 5)
				this.tSet(x * 32, y * 32, 308 + this.chikorin_attack, x * 32 - 512 - 32);
			else if (this.chikorin_attack == 6)
				this.tSet(x * 32, y * 32, 301, x * 32 - 512 - 32);
			else if (this.chikorin_attack == 7)
				this.tSet(x * 32, y * 32, 320, x * 32 - 512 - 32);
			else if (this.chikorin_attack == 8)
				this.tSet(x * 32, y * 32, 330, x * 32 - 512 - 32);
			else if (this.chikorin_attack == 9)
				this.tSet(x * 32, y * 32, 335, x * 32 - 512 - 32);
			else
				this.tSet(x * 32, y * 32, 300, x * 32 - 512 - 32);
			if (this.maps.map_bg[x - 1][y] == 4)
				word1 = 4;
			break;
		case 71:
			this.tSet(x * 32, y * 32, 400, x * 32 - 512 - 32);
			if (this.maps.map_bg[x - 1][y] == 4)
				word1 = 4;
			break;
		case 72:
			this.tSet(x * 32, y * 32, 500, x * 32 - 512 - 32);
			if (this.maps.map_bg[x - 1][y] == 4)
				word1 = 4;
			break;
		case 73:
			if (this.poppie_attack == 2)
				this.tSet(x * 32, y * 32, 520, x * 32 - 512 - 32);
			else if (this.poppie_attack == 3)
				this.tSet(x * 32, y * 32, 530, x * 32 - 512 - 32);
			else if (this.poppie_attack == 4)
				this.tSet(x * 32, y * 32, 540, x * 32 - 512 - 32);
			else if (this.poppie_attack == 5)
				this.tSet(x * 32, y * 32, 550, x * 32 - 512 - 32);
			else
				this.tSet(x * 32, y * 32, 510, x * 32 - 512 - 32);
			if (this.maps.map_bg[x - 1][y] == 4)
				word1 = 4;
			break;
		case 74:
			this.tSet(x * 32, y * 32, 510, x * 32 - 512 - 32 - 32);
			this.tSet(x * 32 + 80, y * 32 - 40, 510, x * 32 - 512 - 32 - 32);
			this.tSet(x * 32 + 140, y * 32 + 38, 510, x * 32 - 512 - 32 - 32);
			if (this.maps.map_bg[x - 1][y] == 4)
				word1 = 4;
			break;
		case 75:
			if (this.maps.map_bg[x - 1][y] == 4)
				word1 = 4;
			if (this.ugokuyuka1_type >= 2) {
				word1 = this.setAthleticOnMap(this.ugokuyuka1_type, x, y);
				if (word1 == -99)
					this.aSet(x * 32, y * 32, 100, x * 32);
			} else {
				this.aSet(x * 32, y * 32, 100, x * 32);
			}
			break;
		case 76:
			if (this.maps.map_bg[x - 1][y] == 4)
				word1 = 4;
			if (this.ugokuyuka2_type >= 2) {
				word1 = this.setAthleticOnMap(this.ugokuyuka2_type, x, y);
				if (word1 == -99)
					this.aSet(x * 32, y * 32 + 9, 110, x * 32 - 16);
			} else {
				this.aSet(x * 32, y * 32 + 9, 110, x * 32 - 16);
			}
			break;
		case 77:
			if (this.maps.map_bg[x - 1][y] == 4)
				word1 = 4;
			if (this.ugokuyuka3_type >= 2) {
				word1 = this.setAthleticOnMap(this.ugokuyuka3_type, x, y);
				if (word1 == -99) {
					this.aSet(x * 32, y * 32 + 9, 115, x * 32 - 16);
					this.aSet(x * 32, y * 32 + 9, 116, x * 32 - 16);
				}
			} else {
				this.aSet(x * 32, y * 32 + 9, 115, x * 32 - 16);
				this.aSet(x * 32, y * 32 + 9, 116, x * 32 - 16);
			}
			break;
		case 78:
			if (this.maps.map_bg[x - 1][y] == 4)
				word1 = 4;
			if (this.dossunsun_type >= 2) {
				word1 = this.setAthleticOnMap(this.dossunsun_type, x, y);
				if (word1 == -99)
					this.aSet(x * 32 - 32, y * 32, 400, x * 32);
			} else {
				this.aSet(x * 32 - 32, y * 32, 400, x * 32);
			}
			break;
		case 79:
			if (this.mariri_attack == 2)
				this.tSet(x * 32, y * 32, 601, x * 32 - 512 - 32);
			else if (this.mariri_attack == 3)
				this.tSet(x * 32, y * 32, 602, x * 32 - 512 - 32);
			else if (this.mariri_attack == 4)
				this.tSet(x * 32, y * 32, 660, x * 32 - 512 - 32);
			else if (this.mariri_attack == 5)
				this.tSet(x * 32, y * 32, 670, x * 32 - 512 - 32);
			else
				this.tSet(x * 32, y * 32, 600, x * 32 - 512 - 32);
			if (this.maps.map_bg[x - 1][y] == 4)
				word1 = 4;
			break;
		case 80:
			if (this.yachamo_attack >= 1 && this.yachamo_attack <= 5)
				this.tSet(x * 32, y * 32, 699 + this.yachamo_attack, x * 32 - 512 - 32);
			else if (this.yachamo_attack == 6)
				this.tSet(x * 32, y * 32, 710, x * 32 - 512 - 32);
			else if (this.yachamo_attack == 7)
				this.tSet(x * 32, y * 32, 711, x * 32 - 512 - 32);
			else if (this.yachamo_attack == 8)
				this.tSet(x * 32, y * 32, 720, x * 32 - 512 - 32);
			else if (this.yachamo_attack == 9)
				this.tSet(x * 32, y * 32, 725, x * 32 - 512 - 32);
			else
				this.tSet(x * 32, y * 32, 700, x * 32 - 512 - 32);
			if (this.maps.map_bg[x - 1][y] == 4)
				word1 = 4;
			break;
		case 81:
			if (this.j_tokugi == 14)
				this.tSet(x * 32, y * 32, 850, x * 32 - 512 - 32);
			else if (this.mizutaro_attack >= 1 && this.mizutaro_attack <= 5)
				this.tSet(x * 32, y * 32, 799 + this.mizutaro_attack, x * 32 - 512 - 32);
			else
				this.tSet(x * 32, y * 32, 800, x * 32 - 512 - 32);
			if (this.maps.map_bg[x - 1][y] == 4)
				word1 = 4;
			break;
		case 82:
			if (this.airms_kf == 2)
				this.tSet(x * 32, y * 32, 950, x * 32 - 512 - 32);
			else if (this.airms_kf == 3)
				this.tSet(x * 32, y * 32, 920, x * 32 - 512 - 32);
			else if (this.airms_kf == 4)
				this.tSet(x * 32, y * 32, 921, x * 32 - 512 - 32);
			else if (this.airms_kf == 5)
				this.tSet(x * 32, y * 32, 930, x * 32 - 512 - 32);
			else
				this.tSet(x * 32, y * 32, 900, x * 32 - 512 - 32);
			if (this.maps.map_bg[x - 1][y] == 4)
				word1 = 4;
			break;
		case 83:
			this.co_b.c = 100;
			this.co_b.c4 = 3;
			this.co_b.x = x * 32;
			this.co_b.y = y * 32 - 16;
			if (this.maps.map_bg[x - 1][y] == 4)
				word1 = 4;
			if (this.co_b.x < 448)
				this.co_b.x = 448;
			else if (this.co_b.x > (this.mapWidth - 3) * 32)
				this.co_b.x = (this.mapWidth - 3) * 32;
			if (this.sl_step == 10)
				this.sl_step = 11;
			else
				this.sl_step = 1;
			this.sl_wx = this.co_b.x - 384;
			this.sl_wy = this.mapHeight * 32;
			if (this.boss_destroy_type == 2)
				this.co_b.x += 160;
			break;
		case 84:
			this.co_b.c = 200;
			this.co_b.c4 = 3;
			this.co_b.x = x * 32;
			this.co_b.y = y * 32 - 16;
			if (this.maps.map_bg[x - 1][y] == 4)
				word1 = 4;
			if (this.co_b.x < 448)
				this.co_b.x = 448;
			else if (this.co_b.x > (this.mapWidth - 3) * 32)
				this.co_b.x = (this.mapWidth - 3) * 32;
			if (this.sl_step == 10)
				this.sl_step = 11;
			else
				this.sl_step = 1;
			this.sl_wx = this.co_b.x - 384;
			this.sl_wy = this.mapHeight * 32;
			if (this.boss_destroy_type == 2)
				this.co_b.x += 160;
			break;
		case 85:
			if (this.maps.map_bg[x - 1][y] == 4)
				word1 = 4;
			if (this.firebar1_type >= 2) {
				word1 = this.setAthleticOnMap(this.firebar1_type, x, y);
				if (word1 == -99) {
					this.aSet(x * 32 + 16, y * 32 + 16, 70, x * 32);
					word1 = 50;
				}
			} else {
				this.aSet(x * 32 + 16, y * 32 + 16, 70, x * 32);
				word1 = 50;
			}
			break;
		case 86:
			if (this.maps.map_bg[x - 1][y] == 4)
				word1 = 4;
			if (this.firebar2_type >= 2) {
				word1 = this.setAthleticOnMap(this.firebar2_type, x, y);
				if (word1 == -99) {
					this.aSet(x * 32 + 16, y * 32 + 16, 71, x * 32);
					word1 = 50;
				}
			} else {
				this.aSet(x * 32 + 16, y * 32 + 16, 71, x * 32);
				word1 = 50;
			}
			break;
		case 87:
			if (this.taiking_attack == 2)
				this.tSet(x * 32, y * 32, 1050, x * 32 - 512 - 32);
			else if (this.taiking_attack == 3)
				this.tSet(x * 32, y * 32, 1060, x * 32 - 512 - 32);
			else if (this.taiking_attack == 4)
				this.tSet(x * 32, y * 32, 1070, x * 32 - 512 - 32);
			else if (this.taiking_attack == 5)
				this.tSet(x * 32, y * 32, 1080, x * 32 - 512 - 32 - 32);
			else if (this.j_tokugi == 14)
				this.tSet(x * 32, y * 32, 1002, x * 32 - 512 - 32 - 32);
			else if (this.j_tokugi == 15)
				this.tSet(x * 32, y * 32, 1003, x * 32 - 512 - 32);
			else {
				this.tSet(x * 32, y * 32 - 16, 1000, x * 32 - 512 - 32 - 32);
				word1 = 4;
			}
			if (this.maps.map_bg[x - 1][y] == 4 || this.maps.map_bg[x][y - 1] == 4)
				word1 = 4;
			break;
		case 88:
			if (this.kuragesso_attack == 2)
				this.tSet(x * 32, y * 32, 1150, x * 32 - 512 - 32);
			else if (this.kuragesso_attack == 3)
				this.tSet(x * 32, y * 32, 1160, x * 32 - 512 - 32);
			else if (this.kuragesso_attack == 4)
				this.tSet(x * 32, y * 32, 1170, x * 32 - 512 - 32);
			else if (this.kuragesso_attack == 5)
				this.tSet(x * 32, y * 32, 1180, x * 32 - 512 - 32 - 32);
			else if (this.j_tokugi == 14)
				this.tSet(x * 32, y * 32, 1102, x * 32 - 512 - 32);
			else if (this.j_tokugi == 15)
				this.tSet(x * 32, y * 32, 1103, x * 32 - 512 - 32);
			else {
				this.tSet(x * 32, y * 32, 1100, x * 32 - 512 - 32);
				word1 = 4;
			}
			if (this.maps.map_bg[x - 1][y] == 4 || this.maps.map_bg[x][y - 1] == 4)
				word1 = 4;
			break;
		case 89:
			this.aSet(x * 32, y * 32, 60, x * 32);
			if (this.maps.map_bg[x - 1][y] == 4)
				word1 = 4;
			break;
		case 90:
			this.co_b.c = 300;
			this.co_b.c4 = 3;
			this.co_b.x = x * 32;
			this.co_b.y = y * 32 - 16;
			this.boss_kijyun_y = this.co_b.y;
			if (this.maps.map_bg[x - 1][y] == 4)
				word1 = 4;
			if (this.co_b.x < 448)
				this.co_b.x = 448;
			else if (this.co_b.x > (this.mapWidth - 3) * 32)
				this.co_b.x = (this.mapWidth - 3) * 32;
			if (this.sl_step == 10)
				this.sl_step = 11;
			else
				this.sl_step = 1;
			this.sl_wx = this.co_b.x - 384;
			this.sl_wy = this.mapHeight * 32;
			if (this.boss_destroy_type == 2)
				this.co_b.x += 160;
			break;
		case 123:
			this.tSet(x * 32, y * 32, 1200, x * 32 - 512 - 32);
			if (this.maps.map_bg[x - 1][y] == 4)
				word1 = 4;
			break;
		case 125:
			this.tSet(x * 32, y * 32, 1400, x * 32 - 512 - 32);
			if (this.maps.map_bg[x - 1][y] == 4)
				word1 = 4;
			break;

		default:
			if (id >= 1000 && id < 5000) {
				word1 = this.setAthleticOnMap(id - 1000, x, y);
			}
			else if (id >= 5000 && id < 10000) {
				this.tSet(x * 32, y * 32, id - 5000, x * 32 - 512 - 32);
				if (this.maps.map_bg[x - 1][y] == 4)
					word1 = 4;
			}
			break;
	}
	return word1;
}

function MapSystem(paramInt1, paramInt2, paramGameGraphics, paramMainProgram)
{
	this.width = paramInt1;
	this.height = paramInt2;
	this.gg = paramGameGraphics;
	this.mp = paramMainProgram;
	this.map_bg = createNDimensionArray(this.width, this.height);
	this.map_bg_layer = createNDimensionArray(this.width, this.height);
	this.map_string = new Array(this.height);
	this.map_string_layer = new Array(this.height);
	this.wx = undefined;
	this.wy = undefined;
	this.wx_mini = undefined;
	this.wy_mini = undefined;
	this.wx_max = undefined;
	this.wy_max = undefined;
	this.os2_wx = undefined;
	this.os2_wy = undefined;
	this.bg_space = "";
	this.hi = this.gg.spt_img[0];
	this.g2 = this.gg.os2_g;
	this.ap = this.gg.ap;
	this.gazou_x = 0;
	this.gazou_y = 0;
	this.second_gazou_x = 0;
	this.second_gazou_y = 0;

	for (var i = 0; i <= this.width; i++) {
		this.bg_space += ".";
	}
	this.init();
}

MapSystem.prototype.init = function()
{
	this.wx = 0;
	this.wy = 0;
	this.os2_wx = 0;
	this.os2_wy = 0;
	for (var j = 0; j < this.height; j++) {
		for (var i = 0; i < this.width; i++)
		{
			this.map_bg[i][j] = 0;
			this.map_bg_layer[i][j] = 0;
		}
	}
	for (j = 0; j < this.height; j++)
	{
		this.map_string[j] = this.bg_space;
		this.map_string_layer[j] = (this.bg_space + this.bg_space);
	}
}

MapSystem.prototype.setBank = function(paramInt)
{
	var j;
	if (paramInt == 1) {
		j = 40;
	} else if (paramInt == 2) {
		j = 50;
	} else if (paramInt == 4) {
		j = 60;
	} else {
		j = 30;
	}
	this.gg.spt_img[0][8] = this.gg.spt_img[0][0];



	this.gg.spt_img[0][31] = this.gg.spt_img[0][0];
	for (var i = 0; i <= 7; i++) {
		this.gg.spt_img[0][(10 + i)] = this.gg.spt_img[0][(j + i)];
	}
}

MapSystem.prototype.drawMap = function(paramInt1, paramInt2)
{
	this.wx = paramInt1;
	this.wy = paramInt2;
	var k = this.wx % 32;
	var m = this.wy % 32;
	this.os2_wx = rightShiftIgnoreSign(this.wx, 5);
	this.os2_wy = rightShiftIgnoreSign(this.wy, 5);


	this.gg.fill2();
	for (var j = 0; j <= 10; j++) {
		for (var i = 0; i <= 16; i++)
		{
			var n = this.map_bg[(this.os2_wx + i)][(this.os2_wy + j)];
			if (n > 0) {
				this.gg.drawPT2(32 + i * 32, 32 + j * 32, this.map_bg[(this.os2_wx + i)][(this.os2_wy + j)]);
			}
		}
	}
	this.gg.os_g.drawImage(this.gg.os2_img, -32 - k, -32 - m, this.gg.ap);
}

MapSystem.prototype.drawMapLayer = function(paramInt1, paramInt2, paramInt3, paramInt4, paramInt5)
{
	var localImage;
	if (this.mp.setbacki_f) {
		localImage = this.mp.setbacki_img;
	} else {
		localImage = this.gg.li[(3 + this.mp.stage_haikei)];
	}
	this.wx = paramInt1;
	this.wy = paramInt2;
	var k = this.wx % 32;
	var m = this.wy % 32;
	this.os2_wx = rightShiftIgnoreSign(this.wx, 5);
	this.os2_wy = rightShiftIgnoreSign(this.wy, 5);
	var n;
	if ((paramInt5 == 3) || (paramInt5 == 4))
	{
		this.gg.os2_g.drawImage(this.gg.os_img, 32 + k, 32 + m, this.gg.ap);
	}
	else
	{
		this.gg.fill2();
		var i1;
		if ((this.mp.second_gazou_visible) && (this.mp.second_gazou_priority == 1) && 
			(this.mp.second_gazou_img != null)) {
			if (this.mp.second_gazou_scroll == 2)
			{
				n = -(rightShiftIgnoreSign(this.wx - 32, 2) % 512);
				this.gg.os2_g.drawImage(this.mp.second_gazou_img, k + 32 + n, m + 32, this.ap);
				this.gg.os2_g.drawImage(this.mp.second_gazou_img, k + 32 + n + 512, m + 32, this.ap);
			}
			else if (this.mp.second_gazou_scroll == 3)
			{
				n = -(rightShiftIgnoreSign(this.wx - 32, 1) % 512);
				this.gg.os2_g.drawImage(this.mp.second_gazou_img, k + 32 + n, m + 32, this.ap);
				this.gg.os2_g.drawImage(this.mp.second_gazou_img, k + 32 + n + 512, m + 32, this.ap);
			}
			else if (this.mp.second_gazou_scroll == 4)
			{
				this.second_gazou_x += this.mp.second_gazou_scroll_speed_x;
				this.second_gazou_y += this.mp.second_gazou_scroll_speed_y;
				if (this.second_gazou_x < -512) {
					this.second_gazou_x += 512;
				}
				if (this.second_gazou_x > 0) {
					this.second_gazou_x -= 512;
				}
				if (this.second_gazou_y < -320) {
					this.second_gazou_y += 320;
				}
				if (this.second_gazou_y > 0) {
					this.second_gazou_y -= 320;
				}
				this.gg.os2_g.drawImage(this.mp.second_gazou_img, k + 32 + this.second_gazou_x, m + 32 + this.second_gazou_y, this.ap);
				this.gg.os2_g.drawImage(this.mp.second_gazou_img, k + 32 + this.second_gazou_x + 512, m + 32 + this.second_gazou_y, this.ap);
				this.gg.os2_g.drawImage(this.mp.second_gazou_img, k + 32 + this.second_gazou_x, m + 32 + this.second_gazou_y + 320, this.ap);
				this.gg.os2_g.drawImage(this.mp.second_gazou_img, k + 32 + this.second_gazou_x + 512, m + 32 + this.second_gazou_y + 320, this.ap);
			}
			else if (this.mp.second_gazou_scroll == 5)
			{
				n = -(rightShiftIgnoreSign((this.wx - 32) * 3, 1) % 512);
				this.gg.os2_g.drawImage(this.mp.second_gazou_img, k + 32 + n, m + 32, this.ap);
				this.gg.os2_g.drawImage(this.mp.second_gazou_img, k + 32 + n + 512, m + 32, this.ap);
			}
			else if (this.mp.second_gazou_scroll == 6)
			{
				n = -(rightShiftIgnoreSign((this.wx - 32) * 3, 1) % 512);
				i1 = -(this.wy - 320);
				this.gg.os2_g.drawImage(this.mp.second_gazou_img, k + 32 + n, m + 32 + i1, this.ap);
				this.gg.os2_g.drawImage(this.mp.second_gazou_img, k + 32 + n + 512, m + 32 + i1, this.ap);
			}
			else if (this.mp.second_gazou_scroll == 7)
			{
				n = -((this.wx - 32) % 512);
				i1 = -((this.wy - 320) % 320);
				this.gg.os2_g.drawImage(this.mp.second_gazou_img, k + 32 + n, m + 32 + i1, this.ap);
				this.gg.os2_g.drawImage(this.mp.second_gazou_img, k + 32 + n + 512, m + 32 + i1, this.ap);
				this.gg.os2_g.drawImage(this.mp.second_gazou_img, k + 32 + n, m + 32 + i1 + 320, this.ap);
				this.gg.os2_g.drawImage(this.mp.second_gazou_img, k + 32 + n + 512, m + 32 + i1 + 320, this.ap);
			}
			else if (this.mp.second_gazou_scroll == 8)
			{
				n = this.mp.second_gazou_scroll_x + 32 - this.wx;
				i1 = this.mp.second_gazou_scroll_y + 320 - this.wy;
				if ((n < 512) && (i1 < 320)) {
					this.gg.os2_g.drawImage(this.mp.second_gazou_img, k + 32 + n, m + 32 + i1, this.ap);
				}
			}
			else
			{
				this.gg.os2_g.drawImage(this.mp.second_gazou_img, k + 32, m + 32, this.ap);
			}
		}
		if (localImage != null) {
			if (paramInt4 == 2)
			{
				n = -(rightShiftIgnoreSign(this.wx - 32, 2) % 512);


				this.gg.os2_g.drawImage(localImage, k + 32 + n, m + 32, this.ap);
				this.gg.os2_g.drawImage(localImage, k + 32 + n + 512, m + 32, this.ap);
			}
			else if (paramInt4 == 3)
			{
				this.gazou_x -= 2;
				if (this.gazou_x <= -512) {
					this.gazou_x += 512;
				}
				this.gg.os2_g.drawImage(localImage, k + 32 + this.gazou_x, m + 32, this.ap);
				this.gg.os2_g.drawImage(localImage, k + 32 + this.gazou_x + 512, m + 32, this.ap);
			}
			else if (paramInt4 == 4)
			{
				this.gazou_x += this.mp.gazou_scroll_speed_x;
				this.gazou_y += this.mp.gazou_scroll_speed_y;
				if (this.gazou_x < -512) {
					this.gazou_x += 512;
				}
				if (this.gazou_x > 0) {
					this.gazou_x -= 512;
				}
				if (this.gazou_y < -320) {
					this.gazou_y += 320;
				}
				if (this.gazou_y > 0) {
					this.gazou_y -= 320;
				}
				this.gg.os2_g.drawImage(localImage, k + 32 + this.gazou_x, m + 32 + this.gazou_y, this.ap);
				this.gg.os2_g.drawImage(localImage, k + 32 + this.gazou_x + 512, m + 32 + this.gazou_y, this.ap);
				this.gg.os2_g.drawImage(localImage, k + 32 + this.gazou_x, m + 32 + this.gazou_y + 320, this.ap);
				this.gg.os2_g.drawImage(localImage, k + 32 + this.gazou_x + 512, m + 32 + this.gazou_y + 320, this.ap);
			}
			else if (paramInt4 == 5)
			{
				n = -(rightShiftIgnoreSign(this.wy - 320, 1) % 320);

				this.gg.os2_g.drawImage(localImage, k + 32, m + 32 + n, this.ap);
				this.gg.os2_g.drawImage(localImage, k + 32, m + 32 + n + 320, this.ap);
			}
			else if (paramInt4 == 6)
			{
				n = -(rightShiftIgnoreSign(this.wy - 320, 1) % 320);
				i1 = -(rightShiftIgnoreSign(this.wx - 32, 1) % 512);

				this.gg.os2_g.drawImage(localImage, k + 32 + i1, m + 32 + n, this.ap);
				this.gg.os2_g.drawImage(localImage, k + 32 + i1 + 512, m + 32 + n, this.ap);
				this.gg.os2_g.drawImage(localImage, k + 32 + i1, m + 32 + n + 320, this.ap);
				this.gg.os2_g.drawImage(localImage, k + 32 + i1 + 512, m + 32 + n + 320, this.ap);
			}
			else if (paramInt4 == 7)
			{
				n = -((this.wy - 320) % 320);
				i1 = -((this.wx - 32) % 512);

				this.gg.os2_g.drawImage(localImage, k + 32 + i1, m + 32 + n, this.ap);
				this.gg.os2_g.drawImage(localImage, k + 32 + i1 + 512, m + 32 + n, this.ap);
				this.gg.os2_g.drawImage(localImage, k + 32 + i1, m + 32 + n + 320, this.ap);
				this.gg.os2_g.drawImage(localImage, k + 32 + i1 + 512, m + 32 + n + 320, this.ap);
			}
			else if (paramInt4 == 8)
			{
				n = -(rightShiftIgnoreSign(this.wy - 320, 1) % 640);
				i1 = -(rightShiftIgnoreSign(this.wx - 32, 1) % 512);

				this.gg.os2_g.drawImage(localImage, k + 32 + i1, m + 32 + n, this.ap);
				this.gg.os2_g.drawImage(localImage, k + 32 + i1 + 512, m + 32 + n, this.ap);
			}
			else if (paramInt4 == 9)
			{
				n = -(rightShiftIgnoreSign(this.wy - 320, 1) % 640);
				i1 = -(rightShiftIgnoreSign(this.wx - 32, 1) % 1024);

				this.gg.os2_g.drawImage(localImage, k + 32 + i1, m + 32 + n, this.ap);
				this.gg.os2_g.drawImage(localImage, k + 32 + i1 + 1024, m + 32 + n, this.ap);
			}
			else if (paramInt4 == 10)
			{
				n = -(rightShiftIgnoreSign(this.wx - 32, 1) % 512);


				this.gg.os2_g.drawImage(localImage, k + 32 + n, m + 32, this.ap);
				this.gg.os2_g.drawImage(localImage, k + 32 + n + 512, m + 32, this.ap);
			}
			else if (paramInt4 == 11)
			{
				n = this.mp.gazou_scroll_x + 32 - this.wx;
				i1 = this.mp.gazou_scroll_y + 320 - this.wy;
				if ((n < 512) && (i1 < 320)) {
					this.gg.os2_g.drawImage(localImage, k + 32 + n, m + 32 + i1, this.ap);
				}
			}
			else
			{
				this.gg.os2_g.drawImage(localImage, k + 32, m + 32, this.ap);
			}
		}
	}
	if (paramInt5 == 2)
	{
		this.gg.os_g.drawImage(this.gg.os2_img, -32 - k, -32 - m, this.gg.ap); return;
	}
	var j;
	var i;
	if ((paramInt5 != 4) && (this.gg.layer_mode == 2)) {
		for (j = 0; j <= 10; j++) {
			for (i = 0; i <= 16; i++)
			{
				n = this.map_bg_layer[(this.os2_wx + i)][(this.os2_wy + j)];
				if ((n > 0) && (n < 255)) {
					this.gg.drawMapchip2(32 + i * 32, 32 + j * 32, this.map_bg_layer[(this.os2_wx + i)][(this.os2_wy + j)]);
				}
			}
		}
	}
	if (paramInt5 != 3) {
		for (j = 0; j <= 10; j++) {
			for (i = 0; i <= 16; i++)
			{
				n = this.map_bg[(this.os2_wx + i)][(this.os2_wy + j)];
				if (this.gg.layer_mode == 2)
				{
					if (this.mp.clear_type == 3)
					{
						if ((n != 4) || (this.mp.water_visible != 2)) {
							if ((n == 29) || (n == 4)) {
								n = 0;
							}
						}
					}
					else if ((n != 4) || (this.mp.water_visible != 2)) {
						if ((n == 29) || (n == 15) || (n == 10) || (n == 4) || (n == 18) || (n == 19)) {
							n = 0;
						}
					}
				}
				else if (this.mp.clear_type == 3) {
					if ((n == 29) || (n == 4)) {
						n = 0;
					}
				}
				if (n == 7)
				{
					if ((paramInt3 == 0) || (paramInt3 == 2)) {
						n = 96;
					} else {
						n = 97;
					}
				}
				else if (n == 9)
				{
					n = 90 + paramInt3;
					if (this.gg.layer_mode != 2)
					{
						if (this.map_bg[(this.os2_wx + i - 1)][(this.os2_wy + j)] == 4) {
							this.gg.drawPT2(32 + i * 32, 32 + j * 32, 4);
						}
					}
					else if ((this.mp.water_visible == 2) && 
						(this.map_bg[(this.os2_wx + i - 1)][(this.os2_wy + j)] == 4)) {
						this.gg.drawPT2(32 + i * 32, 32 + j * 32, 4);
					}
				}
				else if (n == 8)
				{
					if (((this.mp.clear_type != 2) && (this.mp.clear_type != 3)) || (this.mp.coin_kazu <= 0)) {
						if ((this.mp.stage_max >= 2) && (this.mp.stage >= this.mp.stage_max))
						{
							if (paramInt3 >= 2) {
								n = 98;
							} else {
								n = 99;
							}
							if (this.gg.layer_mode != 2)
							{
								if (this.map_bg[(this.os2_wx + i - 1)][(this.os2_wy + j)] == 4) {
									this.gg.drawPT2(32 + i * 32, 32 + j * 32, 4);
								}
							}
							else if ((this.mp.water_visible == 2) && 
								(this.map_bg[(this.os2_wx + i - 1)][(this.os2_wy + j)] == 4)) {
								this.gg.drawPT2(32 + i * 32, 32 + j * 32, 4);
							}
						}
						else
						{
							if (paramInt3 >= 2) {
								n = 95;
							} else {
								n = 94;
							}
							if (this.gg.layer_mode != 2)
							{
								if (this.map_bg[(this.os2_wx + i - 1)][(this.os2_wy + j)] == 4) {
									this.gg.drawPT2(32 + i * 32, 32 + j * 32, 4);
								}
							}
							else if ((this.mp.water_visible == 2) && 
								(this.map_bg[(this.os2_wx + i - 1)][(this.os2_wy + j)] == 4)) {
								this.gg.drawPT2(32 + i * 32, 32 + j * 32, 4);
							}
						}
					}
				}
				else if (n == 10)
				{
					if (this.map_bg[(this.os2_wx + i - 1)][(this.os2_wy + j)] == 4)
					{
						this.gg.drawPT2(32 + i * 32, 32 + j * 32, 4);
						this.gg.drawPT2(32 + i * 32, 32 + j * 32, n);

						n = 0;
					}
				}
				else if (n == 18)
				{
					if (this.mp.map_data_option[(this.os2_wx + i)][(this.os2_wy + j)] == 1)
					{
						n = 0;


						this.gg.os2_g.setColor(Color.white);
						this.gg.os2_g.drawLine(32 + i * 32, 32 + j * 32 + 31, 32 + i * 32 + 31, 32 + j * 32);
					}
					else if (this.map_bg[(this.os2_wx + i)][(this.os2_wy + j - 1)] == 4)
					{
						this.gg.drawPT2(32 + i * 32, 32 + j * 32, 4);
						this.gg.drawPT2(32 + i * 32, 32 + j * 32, n);

						n = 0;
					}
				}
				else if (n == 19)
				{
					if (this.mp.map_data_option[(this.os2_wx + i)][(this.os2_wy + j)] == 1)
					{
						n = 0;


						this.gg.os2_g.setColor(Color.white);
						this.gg.os2_g.drawLine(32 + i * 32, 32 + j * 32, 32 + i * 32 + 31, 32 + j * 32 + 31);
					}
					else if (this.map_bg[(this.os2_wx + i)][(this.os2_wy + j - 1)] == 4)
					{
						this.gg.drawPT2(32 + i * 32, 32 + j * 32, 4);
						this.gg.drawPT2(32 + i * 32, 32 + j * 32, n);

						n = 0;
					}
				}
				if (n > 0) {
					this.gg.drawPT2(32 + i * 32, 32 + j * 32, n);
				}
			}
		}
	}
	this.gg.os_g.drawImage(this.gg.os2_img, -32 - k, -32 - m, this.gg.ap);
}

MapSystem.prototype.drawMapScroll = function(paramInt)
{
	var k = this.wx % 32;
	var m = this.wy % 32;
	var n = rightShiftIgnoreSign(this.wx, 5);
	var i1 = rightShiftIgnoreSign(this.wy, 5);
	var i;
	if ((n > this.os2_wx + 1) || (n < this.os2_wx - 1) || (i1 > this.os2_wy + 1) || (i1 < this.os2_wy - 1))
	{
		this.drawMap(this.wx, this.wy);
	}
	else
	{
		var i2, i3;
		if (i1 > this.os2_wy)
		{
			if (n > this.os2_wx)
			{
				this.g2.copyArea(64, 64, 544, 352, -32, -32);
				this.os2_wx = n;
				this.os2_wy = i1;




				i3 = this.os2_wy + 10;
				for (i = 0; i <= 16; i++) {
					if (this.map_bg[(this.os2_wx + i)][i3] > 0) {
						this.g2.drawImage(this.hi[this.map_bg[(this.os2_wx + i)][i3]], 32 + i * 32, 352, this.ap);
					}
				}
				i2 = this.os2_wx + 16;
				for (j = 0; j <= 9; j++) {
					if (this.map_bg[i2][(this.os2_wy + j)] > 0) {
						this.g2.drawImage(this.hi[this.map_bg[i2][(this.os2_wy + j)]], 544, 32 + j * 32, this.ap);
					}
				}
			}
			else if (n < this.os2_wx)
			{
				this.g2.copyArea(0, 64, 544, 352, 32, -32);
				this.os2_wx = n;
				this.os2_wy = i1;




				i3 = this.os2_wy + 10;
				for (i = 0; i <= 16; i++) {
					if (this.map_bg[(this.os2_wx + i)][i3] > 0) {
						this.g2.drawImage(this.hi[this.map_bg[(this.os2_wx + i)][i3]], 32 + i * 32, 352, this.ap);
					}
				}
				for (j = 0; j <= 9; j++) {
					if (this.map_bg[this.os2_wx][(this.os2_wy + j)] > 0) {
						this.g2.drawImage(this.hi[this.map_bg[this.os2_wx][(this.os2_wy + j)]], 32, 32 + j * 32, this.ap);
					}
				}
			}
			else
			{
				this.g2.copyArea(32, 64, 544, 352, 0, -32);
				this.os2_wy = i1;




				i3 = this.os2_wy + 10;
				for (i = 0; i <= 16; i++) {
					if (this.map_bg[(this.os2_wx + i)][i3] > 0) {
						this.g2.drawImage(this.hi[this.map_bg[(this.os2_wx + i)][i3]], 32 + i * 32, 352, this.ap);
					}
				}
			}
		}
		else if (i1 < this.os2_wy)
		{
			if (n > this.os2_wx)
			{
				this.g2.copyArea(64, 0, 544, 352, -32, 32);
				this.os2_wx = n;
				this.os2_wy = i1;
				for (i = 0; i <= 16; i++) {
					if (this.map_bg[(this.os2_wx + i)][this.os2_wy] > 0) {
						this.g2.drawImage(this.hi[this.map_bg[(this.os2_wx + i)][this.os2_wy]], 32 + i * 32, 32, this.ap);
					}
				}
				i2 = this.os2_wx + 16;
				for (j = 1; j <= 10; j++) {
					if (this.map_bg[i2][(this.os2_wy + j)] > 0) {
						this.g2.drawImage(this.hi[this.map_bg[i2][(this.os2_wy + j)]], 544, 32 + j * 32, this.ap);
					}
				}
			}
			else if (n < this.os2_wx)
			{
				this.g2.copyArea(0, 0, 544, 352, 32, 32);
				this.os2_wx = n;
				this.os2_wy = i1;
				for (i = 0; i <= 16; i++) {
					if (this.map_bg[(this.os2_wx + i)][this.os2_wy] > 0) {
						this.g2.drawImage(this.hi[this.map_bg[(this.os2_wx + i)][this.os2_wy]], 32 + i * 32, 32, this.ap);
					}
				}
				for (j = 1; j <= 10; j++) {
					if (this.map_bg[this.os2_wx][(this.os2_wy + j)] > 0) {
						this.g2.drawImage(this.hi[this.map_bg[this.os2_wx][(this.os2_wy + j)]], 32, 32 + j * 32, this.ap);
					}
				}
			}
			else
			{
				this.g2.copyArea(32, 0, 544, 352, 0, 32);
				this.os2_wy = i1;
				for (i = 0; i <= 16; i++) {
					if (this.map_bg[(this.os2_wx + i)][this.os2_wy] > 0) {
						this.g2.drawImage(this.hi[this.map_bg[(this.os2_wx + i)][this.os2_wy]], 32 + i * 32, 32, this.ap);
					}
				}
			}
		}
		else if (n > this.os2_wx)
		{
			this.g2.copyArea(64, 32, 544, 352, -32, 0);
			this.os2_wx = n;




			i2 = this.os2_wx + 16;
			for (j = 0; j <= 10; j++) {
				if (this.map_bg[i2][(this.os2_wy + j)] > 0) {
					this.g2.drawImage(this.hi[this.map_bg[i2][(this.os2_wy + j)]], 544, 32 + j * 32, this.ap);
				}
			}
		}
		else if (n < this.os2_wx)
		{
			this.g2.copyArea(0, 32, 544, 352, 32, 0);
			this.os2_wx = n;
			for (j = 0; j <= 10; j++) {
				if (this.map_bg[this.os2_wx][(this.os2_wy + j)] > 0) {
					this.g2.drawImage(this.hi[this.map_bg[this.os2_wx][(this.os2_wy + j)]], 32, 32 + j * 32, this.ap);
				}
			}
		}
	}
	var localImage = this.hi[(90 + paramInt)];
	for (var j = 0; j <= 10; j++)
	{
		var i4 = this.os2_wy + j;
		for (i = 0; i <= 16; i++) {
			switch (this.map_bg[(this.os2_wx + i)][i4])
			{
			case 5: 
				if (this.map_bg[(this.os2_wx + i)][(i4 - 1)] == 4)
				{
					this.gg.drawBG2(32 + i * 32, 32 + j * 32, 4);


					this.gg.drawPT2(32 + i * 32, 32 + j * 32, 5);
				}
				break;
			case 6: 
				if (this.map_bg[(this.os2_wx + i)][(i4 + 1)] == 4)
				{
					this.gg.drawBG2(32 + i * 32, 32 + j * 32, 4);


					this.gg.drawPT2(32 + i * 32, 32 + j * 32, 6);
				}
				break;
			case 7: 
				if ((paramInt == 0) || (paramInt == 2)) {
					this.gg.drawBG2(32 + i * 32, 32 + j * 32, 96);
				} else {
					this.gg.drawBG2(32 + i * 32, 32 + j * 32, 97);
				}
				break;
			case 8: 
				if (paramInt == 0)
				{
					if (this.map_bg[(this.os2_wx + i - 1)][i4] == 4)
					{
						this.gg.drawBG2(32 + i * 32, 32 + j * 32, 4);
						if (((this.mp.clear_type != 2) && (this.mp.clear_type != 3)) || (this.mp.coin_kazu <= 0)) {
							if ((this.mp.stage_max >= 2) && (this.mp.stage >= this.mp.stage_max)) {
								this.gg.drawPT2(32 + i * 32, 32 + j * 32, 99);
							} else {
								this.gg.drawPT2(32 + i * 32, 32 + j * 32, 95);
							}
						}
					}
					else if (((this.mp.clear_type != 2) && (this.mp.clear_type != 3)) || (this.mp.coin_kazu <= 0))
					{
						if ((this.mp.stage_max >= 2) && (this.mp.stage >= this.mp.stage_max)) {
							this.gg.drawBG2(32 + i * 32, 32 + j * 32, 99);
						} else {
							this.gg.drawBG2(32 + i * 32, 32 + j * 32, 95);
						}
					}
				}
				else if (this.map_bg[(this.os2_wx + i - 1)][i4] == 4)
				{
					this.gg.drawBG2(32 + i * 32, 32 + j * 32, 4);
					if (((this.mp.clear_type != 2) && (this.mp.clear_type != 3)) || (this.mp.coin_kazu <= 0)) {
						if ((this.mp.stage_max >= 2) && (this.mp.stage >= this.mp.stage_max)) {
							this.gg.drawPT2(32 + i * 32, 32 + j * 32, 98);
						} else {
							this.gg.drawPT2(32 + i * 32, 32 + j * 32, 94);
						}
					}
				}
				else if (((this.mp.clear_type != 2) && (this.mp.clear_type != 3)) || (this.mp.coin_kazu <= 0))
				{
					if ((this.mp.stage_max >= 2) && (this.mp.stage >= this.mp.stage_max)) {
						this.gg.drawBG2(32 + i * 32, 32 + j * 32, 98);
					} else {
						this.gg.drawBG2(32 + i * 32, 32 + j * 32, 94);
					}
				}
				break;
			case 9: 
				if (this.map_bg[(this.os2_wx + i - 1)][i4] == 4)
				{
					this.gg.drawBG2(32 + i * 32, 32 + j * 32, 4);


					this.gg.os2_g.drawImage(localImage, 32 + i * 32, 32 + j * 32, this.gg.ap);
				}
				else
				{
					this.g2.setColor(this.gg.backcolor);
					this.gg.os2_g.fillRect(32 + i * 32, 32 + j * 32, 32, 32);


					this.gg.os2_g.drawImage(localImage, 32 + i * 32, 32 + j * 32, this.gg.ap);
				}
				break;
			case 10: 
				if (this.map_bg[(this.os2_wx + i - 1)][i4] == 4)
				{
					this.gg.drawBG2(32 + i * 32, 32 + j * 32, 4);


					this.gg.drawPT2(32 + i * 32, 32 + j * 32, 10);
				}
				break;
			case 15: 
				if (this.map_bg[(this.os2_wx + i)][(i4 - 1)] == 4)
				{
					this.gg.drawBG2(32 + i * 32, 32 + j * 32, 4);


					this.gg.drawPT2(32 + i * 32, 32 + j * 32, 15);
				}
				break;
			case 18: 
				if (this.mp.map_data_option[(this.os2_wx + i)][i4] == 1)
				{
					if (this.map_bg[(this.os2_wx + i)][(i4 - 1)] == 4)
					{
						this.gg.drawBG2(32 + i * 32, 32 + j * 32, 4);
					}
					else
					{
						this.gg.os2_g.setColor(this.gg.backcolor);

						this.gg.os2_g.fillRect(32 + i * 32, 32 + j * 32, 32, 32);
					}
					this.gg.os2_g.setColor(Color.white);

					this.gg.os2_g.drawLine(32 + i * 32, 32 + j * 32 + 31, 32 + i * 32 + 31, 32 + j * 32);
				}
				else if (this.map_bg[(this.os2_wx + i)][(i4 - 1)] == 4)
				{
					this.gg.drawBG2(32 + i * 32, 32 + j * 32, 4);


					this.gg.drawPT2(32 + i * 32, 32 + j * 32, 18);
				}
				break;
			case 19: 
				if (this.mp.map_data_option[(this.os2_wx + i)][i4] == 1)
				{
					if (this.map_bg[(this.os2_wx + i)][(i4 - 1)] == 4)
					{
						this.gg.drawBG2(32 + i * 32, 32 + j * 32, 4);
					}
					else
					{
						this.gg.os2_g.setColor(this.gg.backcolor);

						this.gg.os2_g.fillRect(32 + i * 32, 32 + j * 32, 32, 32);
					}
					this.gg.os2_g.setColor(Color.white);
					this.gg.os2_g.drawLine(32 + i * 32, 32 + j * 32, 32 + i * 32 + 31, 32 + j * 32 + 31);
				}
				else if (this.map_bg[(this.os2_wx + i)][(i4 - 1)] == 4)
				{
					this.gg.drawBG2(32 + i * 32, 32 + j * 32, 4);


					this.gg.drawPT2(32 + i * 32, 32 + j * 32, 19);
				}
				break;
			}
		}
	}
	this.gg.os_g.drawImage(this.gg.os2_img, -32 - k, -32 - m, this.ap);
}

MapSystem.prototype.getBGCode = function(paramInt1, paramInt2)
{
	return this.map_bg[rightShiftIgnoreSign(paramInt1, 5)][rightShiftIgnoreSign(paramInt2, 5)];
}

MapSystem.prototype.putBGCode = function(paramInt1, paramInt2, paramInt3)
{
	this.map_bg[paramInt1][paramInt2] = paramInt3;
	if ((this.os2_wx <= paramInt1) && (this.os2_wx + 16 >= paramInt1) && (this.os2_wy <= paramInt2) && (this.os2_wy + 10 >= paramInt2)) {
		this.gg.drawBG2((paramInt1 - this.os2_wx) * 32 + 32, (paramInt2 - this.os2_wy) * 32 + 32, paramInt3);
	}
}

function MasaoConstruction(params, __canvas, __game, options)
{
	this.restart_f = false;
	this.th = null;
	this.th_interval = 70;
	this.th_jm = 10;
	this.process_time = 0;
	this.variable_sleep_time = false;
	this.sleep_time_visible = false;
	this.main_time_kiroku = new Array(10);
	this.main_time_kiroku_p = 0;
	this.main_time_kiroku_f = false;
	this.tdb = undefined;
	this.gg = null;
	this.gm = null;
	this.gk = null;
	this.gs = null;
	this.mp = null;
	this.mph_title_lock_f = false;
	this.mph_start_game_f = false;
	this.mph_highscore = 0;
	this.audio_se_no_wave = false;
	this.audio_se_no_mp3 = false;
	this.audio_se_no_ogg = false;
	this.audio_bgm_no_wave = false;
	this.audio_bgm_no_mp3 = false;
	this.audio_bgm_no_ogg = false;

	// GlobalFunctionsより移動
	this.params = params;
	this.__canvas = __canvas;
	this.__appimg = new ImageBuff(512, 320);

    this.__game = __game;

	// 起動オプションの連想配列
	this.options = options;

	// 処理すべきメッセージのキュー（画像読み込みなど）
	this.firstMessage = null;
	this.lastMessage = null;
	// MasaoJSSクラス再現オブジェクト
	this.masaoJSSAppletEmulator = null;
}

// GlobalFunctionsより移動
// __appimg書き換え関数
MasaoConstruction.prototype.__repaint = function()
{
	this.update(this.__appimg.getGraphics());
	var ctx = this.__canvas.getContext("2d");
	ctx.drawImage(this.__appimg._dat, 0, 0);
}

MasaoConstruction.prototype.init = function() {}

MasaoConstruction.prototype.start = function()
{
	if (this.th == null)
	{
		this.th = 1;
	}
	this.th_jm = 10;
}

MasaoConstruction.prototype.stop = function()
{
	if (this.th != null)
	{
		this.th = null;


		this.th_jm = 10;
	}
	if (this.gs != null) {
		this.gs.stopBGM();
	}
}

MasaoConstruction.prototype.destroy = function()
{
	this.th_jm = 10;
}

MasaoConstruction.prototype.paint = function(paramGraphics)
{
	if (this.th_jm <= 0)
	{
		if (!this.mp.draw_lock_f) {
			paramGraphics.drawImage(this.gg.os_img, 0, 0, this);
		}
	}
	else if (!this.restart_f)
	{
		paramGraphics.setColor(Color.black);
		paramGraphics.fillRect(0, 0, 512, 320);
		paramGraphics.setColor(Color.white);
		paramGraphics.setFont(new Font("Dialog", 0, 16));

		var str = this.getParameter("now_loading");
		if (str != null)
		{
			paramGraphics.drawString(this.getParameter("now_loading"), 32, 160);
		}
	}
}

MasaoConstruction.prototype.update = function(paramGraphics)
{
	this.paint(paramGraphics);
}

MasaoConstruction.prototype.run = function()
{
	var k = 0;
	var sleepTime, mode;

	// userJSからメッセージを受け取っている場合、通常の処理を止めてこれらを処理する
	if(this.firstMessage)
	{
		var oldFirstMessage = this.firstMessage;
		this.firstMessage = null;
		this.lastMessage = null;
		for(var cur = oldFirstMessage; cur; cur = cur.next)
		{
			// ファイルロード待ちのメッセージ
			if (cur.type == "load") {
				if (cur.target._dat.complete) {
					continue;
				}
				else {
					this.pushMessage(cur.type, cur.target, cur.parameters);
				}
			}
			// makeChipImageメソッド呼び出し待ち
			else if (cur.type == "makeChipImage") {
				if (cur.target._dat.complete) {
					cur.parameters.chipimage.makeChipImage();
				}
				else {
					this.pushMessage(cur.type, cur.target, cur.parameters);
				}
			}
			// makeReverseChipImagrメソッド呼び出し待ち
			else if (cur.type == "makeReverseChipImage") {
				if (cur.target._dat.complete) {
					cur.parameters.chipimage.makeReverseChipImage();
				}
				else {
					this.pushMessage(cur.type, cur.target, cur.parameters);
				}
			}
			// JSON読み込み待ち
			else if (cur.type == "loadAdvanceMapJson") {
				if (cur.target.complete) {
					continue;
				}
				else {
					this.pushMessage(cur.type, cur.target, cur.parameters);
				}
			}
		}
		// まだメッセージが残っているようならば、以降の処理をせずに制御を返す
		if(this.firstMessage)
		{
			return 70;
		}
	}

	if (this.th_jm == 10)
	{
		this.init_j();


		this.mp.start();

		this.th_jm -= 1;


		sleepTime = 70;
	}
	else if(this.th_jm == 6)
	{
		var f1 = 0, f2 = 0;
		if(this.gg.apt_img._loaded) f1 = 1;
		else if(this.gg.apt_img._error) f1 = 2;
		if(this.gg.layer_mode == 2){
			if(this.gg.amapchip_img._loaded) f2 = 1;
			else if(this.gg.amapchip_img._error) f2 = 2;
		}
		else f2 = 1;
		this.__repaint();
		if(f1 != 0 && f2 != 0) this.th_jm -= 1;
	}
	else if(this.th_jm == 2)
	{
		this.gg.cut();
		this.th_jm -= 1;


		sleepTime = 70;
	}
	else if (this.th_jm >= 2)
	{
		this.th_jm -= 1;
		this.__repaint();

		sleepTime = 70;
	}
	else
	{
		if (this.mp.ml_mode == 100) {
			this.mp.mL100();
		} else {
			this.mp.mainLoop();
		}
		this.userSub(this.gg.os_g, this.gg.os_img);
		if (this.th_jm > 0) {
			this.th_jm -= 1;
		}
		var i = Math.floor(new Date().getTime() - this.process_time);
		var j = this.th_interval - i;
		if (j < 3) {
			j = 3;
		}
		if (this.sleep_time_visible)
		{
			this.main_time_kiroku[this.main_time_kiroku_p] = i;
			this.main_time_kiroku_p += 1;
			if (this.main_time_kiroku_p > 9)
			{
				this.main_time_kiroku_p = 0;
				this.main_time_kiroku_f = true;
			}
			if (this.main_time_kiroku_f)
			{
				k = 0;
				for (var m = 0; m <= 9; m++) {
					k += this.main_time_kiroku[m];
				}
				k = Math.floor(k / 10);
			}
		}
		if (this.variable_sleep_time)
		{
			if (this.sleep_time_visible)
			{
				this.gg.os_g.setColor(this.mp.gamecolor_score);
				this.gg.os_g.setFont(new Font("Dialog", 1, this.mp.moji_size));
				this.gg.os_g.drawString("VARIABLE SLEEP  1", 40, (14 + this.mp.moji_size) * 3);
				this.gg.os_g.drawString("MAIN PROGRAM TIME  " + i, 40, (14 + this.mp.moji_size) * 4);
				this.gg.os_g.drawString("SLEEP TIME  " + j, 40, (14 + this.mp.moji_size) * 5);
				if (this.main_time_kiroku_f) {
					this.gg.os_g.drawString("10 TRY MAIN PROGRAM TIME  " + k, 40, (14 + this.mp.moji_size) * 6);
				}
			}


			sleepTime = j;


			this.process_time = new Date().getTime();
		}
		else
		{
			if (this.sleep_time_visible)
			{
				this.gg.os_g.setColor(this.mp.gamecolor_score);
				this.gg.os_g.setFont(new Font("Dialog", 1, this.mp.moji_size));
				this.gg.os_g.drawString("VARIABLE SLEEP  0", 40, (14 + this.mp.moji_size) * 3);
				this.gg.os_g.drawString("MAIN PROGRAM TIME  " + i, 40, (14 + this.mp.moji_size) * 4);
				this.gg.os_g.drawString("SLEEP TIME  " + this.th_interval, 40, (14 + this.mp.moji_size) * 5);
				if (this.main_time_kiroku_f) {
					this.gg.os_g.drawString("10 TRY MAIN PROGRAM TIME  " + k, 40, (14 + this.mp.moji_size) * 6);
				}
			}


			sleepTime = this.th_interval;


			this.process_time = new Date().getTime();
		}

		// MasaoJSS専用コールバック関数が設定されている場合、これを呼び出す
		if(this.options.userJSCallback)
		{
			mode = this.getMode();
			if(mode >= 100 && mode < 200)
			{
				// 引数にアプレットエミュレータを追加してuserJSを呼び出す
				this.options.userJSCallback(this.gg.os_g_bk, mode, this.mp.maps.wx, this.mp.maps.wy, this.masaoJSSAppletEmulator);
			}
			else
			{
				this.options.userJSCallback(this.gg.os_g_bk, mode, -9999, -9999, this.masaoJSSAppletEmulator);
			}
		}
		this.__repaint();
	}
	return sleepTime;
}

MasaoConstruction.prototype.init_j = function()
{
	if (!this.restart_f)
	{
		this.tdb = new TagDataBase();
		this.tdb.setValueFromHTML(this);
		this.tdb.options = this.options;
	}
	var m = 0;
	for (var p = 0; p < 3; p++) {
		for (var q = 0; q < 30; q++) {
			var str = "map" + p + "-" + q;
			if ((this.tdb.getValue(str) != null) && (this.tdb.getValue(str) != ".") && (this.tdb.getValue(str) != ""))
			{
				m = 1;
				break;
			}
		}
	}
	if (m == 0) {
		this.tdb.setValueStage1();
	}

	// 新形式マップデータがJSONファイルのURLで設定されているときはJSONを読み込む
	var advancedMap = this.options["advanced-map"];
	var advanceMap = this.options["advance-map"];
	if (typeof advancedMap === "string") {
		this.loadAdvanceMapJson(advancedMap);
	}
	else if (typeof advancedMap === "undefined") {
		if (typeof advanceMap === "string") {
			this.loadAdvanceMapJson(advanceMap);
		}
		else if (typeof advanceMap === "object") {
			this.options["advanced-map"] = advanceMap;
		}
	}

	this.th_interval = this.tdb.getValueInt("game_speed");
	if (this.th_interval < 1) {
		this.th_interval = 1;
	} else if (this.th_interval > 500) {
		this.th_interval = 500;
	}
	this.process_time = new Date().getTime();
	this.main_time_kiroku_p = 0;
	for (var j = 0; j <= 9; j++) {
		this.main_time_kiroku[j] = 0;
	}
	if (this.tdb.getValueInt("variable_sleep_time") == 1) {
		this.variable_sleep_time = true;
	} else {
		this.variable_sleep_time = false;
	}
	if (this.tdb.getValueInt("sleep_time_visible") == 1) {
		this.sleep_time_visible = true;
	} else {
		this.sleep_time_visible = false;
	}
	this.gg = new GameGraphicsForApplet(this.tdb, this);
	this.gg.setBackcolor(Color.black);


	var str = this.tdb.getValue("filename_title");
	this.gg.addListImage(0, str);


	str = this.tdb.getValue("filename_ending");
	this.gg.addListImage(1, str);


	str = this.tdb.getValue("filename_gameover");
	this.gg.addListImage(2, str);
	if ((this.gg.layer_mode == 2) || (this.tdb.getValueInt("mcs_haikei_visible") == 1))
	{
		str = this.tdb.getValue("filename_haikei");
		this.gg.addListImage(4, str);
	}
	str = this.tdb.getValue("stage_select");
	var i;
	i = parseInt(str);
	if(isNaN(i))
		i = -1;
	if (i == 2)
	{
		str = this.tdb.getValue("filename_chizu");
		this.gg.addListImage(3, str);
	}
	str = this.tdb.getValue("stage_max");
	var k;
	k = parseInt(str);
	if(isNaN(k))
		k = 1;
	if (((this.gg.layer_mode == 2) || (this.tdb.getValueInt("mcs_haikei_visible") == 1)) && ((i == 2) || (k >= 2)))
	{
		str = this.tdb.getValue("filename_haikei2");
		this.gg.addListImage2(5, str);
		str = this.tdb.getValue("filename_haikei3");
		this.gg.addListImage2(6, str);
		str = this.tdb.getValue("filename_haikei4");
		this.gg.addListImage2(7, str);
	}
	this.gg.loadListImage();



	this.gm = new GameMouse();
	var _gm = this.gm;
	this.__canvas.addEventListener("mousedown", function(e)
	{
		e.stopImmediatePropagation();
		// このオブジェクトにフォーカスを当てる
		Game.focus.focus(this);
		GameMouse_mousePressed(_gm, e);
	}.bind(this));
	this.__canvas.addEventListener("mouseup", function(e)
	{
		GameMouse_mouseReleased(_gm, e);
	});


	this.gk = new GameKey();
	var _gk = this.gk;
    var _handler=function(e){
		if(Game.focus.hasFocus(this))
			GameKey_keyPressed(_gk, e);
	}.bind(this);
	document.addEventListener("keydown", _handler);
    this.__game.__resourceList.push({
        type: "eventListener",
        target: document,
        name: "keydown",
        value: _handler
    });

    _handler=function(e){
		if(Game.focus.hasFocus(this))
			GameKey_keyReleased(_gk, e);
	}.bind(this);
    document.addEventListener("keyup", _handler);
    this.__game.__resourceList.push({
        type: "eventListener",
        target: document,
        name: "keyup",
        value: _handler
    });


	if(this.tdb.getValueInt("audio_se_switch_wave") == 2)
		this.audio_se_no_wave = true;
	if(this.tdb.getValueInt("audio_se_switch_mp3") == 2)
		this.audio_se_no_mp3 = true;
	if(this.tdb.getValueInt("audio_se_switch_ogg") == 2)
		this.audio_se_no_ogg = true;
	if(this.tdb.getValueInt("audio_bgm_switch_wave") == 2)
		this.audio_bgm_no_wave = true;
	if(this.tdb.getValueInt("audio_bgm_switch_mp3") == 2)
		this.audio_bgm_no_mp3 = true;
	if(this.tdb.getValueInt("audio_bgm_switch_ogg") == 2)
		this.audio_bgm_no_ogg = true;
	this.gs = new (GameSoundForApplet.factory(this.tdb))(this.tdb, this);


	this.mp = new MainProgram(this.gg, this.gm, this.gk, this.gs, this.tdb);
	// ハイスコアイベント用のリスナ登録
	this.mp.addHighscoreEvent(this.options.highscoreCallback);
	if (this.mph_start_game_f) {
		this.mp.highscore = this.mph_highscore;
	}
	this.mp.title_lock_f = this.mph_title_lock_f;
	this.mp.start_game_f = this.mph_start_game_f;

	// MasaoJSS専用コールバック関数が設定されている場合、エミュレータオブジェクトを作成
	if(this.options.userJSCallback)
	{
		this.masaoJSSAppletEmulator = new MasaoJSS(this);
	}


	this.__repaint();

	this.userInit();
}

MasaoConstruction.prototype.userInit = function() {}

MasaoConstruction.prototype.userSub = function(paramGraphics, paramImage) {}

MasaoConstruction.prototype.getHighscore = function()
{
	var i = 0;
	if (this.mp != null)
	{
		i = this.mp.highscore;
		if (i < this.mp.score) {
			i = this.mp.score;
		}
	}
	return i;
}

MasaoConstruction.prototype.getScore = function()
{
	var i = 0;
	if (this.mp != null) {
		i = this.mp.score;
	}
	return i;
}

MasaoConstruction.prototype.getMode = function()
{
	var i = 0;
	if (this.mp != null)
	{
		var j = this.mp.ml_mode;
		if ((j >= 50) && (j <= 60))
		{
			i = 1;
		}
		else if ((j >= 200) && (j < 300))
		{
			i = 400;
		}
		else if ((j >= 300) && (j <= 310))
		{
			i = 200;
		}
		else if ((j >= 400) && (j <= 410))
		{
			i = 300;
		}
		else if ((this.mp.ml_mode == 100) && ((this.mp.sl_step == 2) || (this.mp.sl_step == 3)))
		{
			i = 150;
		}
		else
		{
			i = 100;


			i += this.mp.stage;
		}
	}
	return i;
}

MasaoConstruction.prototype.soundOn = function()
{
	if (this.gs != null)
	{
		this.gs.soundOn();
		return true;
	}
	return false;
}

MasaoConstruction.prototype.soundOff = function()
{
	if (this.gs != null)
	{
		this.gs.soundOff();
		return true;
	}
	return false;
}

MasaoConstruction.prototype.onSound = function()
{
	if (this.gs != null)
	{
		this.gs.soundOn();
		return true;
	}
	return false;
}

MasaoConstruction.prototype.offSound = function()
{
	if (this.gs != null)
	{
		this.gs.soundOff();
		return true;
	}
	return false;
}

MasaoConstruction.prototype.getMyX = function()
{
	if (this.mp != null)
	{
		var i;
		if ((this.mp.ml_mode == 100) && (this.mp.co_j.c >= 100) && (this.mp.co_j.c < 200))
		{
			i = rightShiftIgnoreSign(this.mp.co_j.x + 15, 5) - 1;
			if (i < 0) {
				i = 0;
			}
			if (i >= this.mp.mapWidth) {
				i = this.mp.mapWidth - 1;
			}
			return i;
		}
		if (this.mp.ml_mode == 200)
		{
			i = rightShiftIgnoreSign(this.mp.ig.co_j.x + 15, 5);
			return i;
		}
	}
	return -1;
}

MasaoConstruction.prototype.getMyY = function()
{
	if (this.mp != null)
	{
		var i;
		if ((this.mp.ml_mode == 100) && (this.mp.co_j.c >= 100) && (this.mp.co_j.c < 200))
		{
			i = rightShiftIgnoreSign(this.mp.co_j.y + 15, 5) - 10;
			if (i < 0) {
				i = 0;
			}
			if (i >= this.mp.mapHeight) {
				i = this.mp.mapHeight - 1;
			}
			return i;
		}
		if (this.mp.ml_mode == 200)
		{
			i = rightShiftIgnoreSign(this.mp.ig.co_j.y + 15, 5);
			return i;
		}
	}
	return -1;
}

MasaoConstruction.prototype.getViewX = function()
{
	if ((this.mp != null) && 
		(this.mp.ml_mode == 100))
	{
		var i = rightShiftIgnoreSign(this.mp.maps.wx, 5) - 1;
		if (i < 0) {
			i = 0;
		}
		if (i > this.mp.mapWidth - 16) {
			i = this.mp.mapWidth - 1;  // ???
		}
		return i;
	}
	return -1;
}

MasaoConstruction.prototype.getViewY = function()
{
	if ((this.mp != null) && 
		(this.mp.ml_mode == 100))
	{
		var i = rightShiftIgnoreSign(this.mp.maps.wy, 5) - 10;
		if (i < 0) {
			i = 0;
		}
		if (i > this.mp.mapHeight - 10) {
			i = this.mp.mapHeight - 10;
		}
		return i;
	}
	return -1;
}

MasaoConstruction.prototype.setMyPosition = function(paramString1, paramString2)
{
	var i = 0;var j = 0;
	if ((this.mp != null) && 
		(this.mp.ml_mode == 100) && (this.mp.co_j.c >= 100) && (this.mp.co_j.c < 200))
	{
		i = parseInt(paramString1);
		j = parseInt(paramString2);
		if(isNaN(i) || isNaN(j))
		{
			i = -1;
			j = -1;
		}
		if ((i < 0) || (i >= this.mp.mapWidth) || (j < 0) || (j >= this.mp.mapHeight)) {
			return false;
		}
		this.mp.co_j.x = ((i + 1) * 32);
		this.mp.co_j.y = ((j + 10) * 32);

		return true;
	}
	return false;
}

MasaoConstruction.prototype.showMessage = function(paramString1, paramString2, paramString3, paramString4, paramString5)
{
	var bool = false;
	if (this.mp != null)
	{
		bool = this.mp.showmSet(paramString1, paramString2, paramString3, paramString4, paramString5);
		return bool;
	}
	return false;
}

MasaoConstruction.prototype.showImage = function(paramString1, paramString2, paramString3, paramString4)
{
	var bool = false;
	if (this.mp != null)
	{
		bool = this.mp.showiSet(paramString1, paramString2, paramString3, paramString4);
		return bool;
	}
	return false;
}

MasaoConstruction.prototype.setEnemy = function(paramString1, paramString2, paramString3)
{
	var bool = false;
	if (this.mp != null)
	{
		bool = this.mp.sete(paramString1, paramString2, paramString3);
		return bool;
	}
	return false;
}

MasaoConstruction.prototype.setMapchip = function(paramString1, paramString2, paramString3)
{
	var bool = false;
	if (this.mp != null)
	{
		bool = this.mp.setmapc(paramString1, paramString2, paramString3);
		return bool;
	}
	return false;
}

MasaoConstruction.prototype.getMapchip = function(paramString1, paramString2)
{
	if (this.mp != null) {
		return this.mp.getmapc(paramString1, paramString2);
	}
	return -1;
}

MasaoConstruction.prototype.setMapchip2 = function(paramString1, paramString2, paramString3)
{
	var bool = false;
	if (this.mp != null)
	{
		bool = this.mp.setmapc2(paramString1, paramString2, paramString3);
		return bool;
	}
	return false;
}

MasaoConstruction.prototype.getMapchip2 = function(paramString1, paramString2)
{
	if (this.mp != null) {
		return this.mp.getmapc2(paramString1, paramString2);
	}
	return -1;
}

MasaoConstruction.prototype.setBackImage = function(paramString)
{
	var bool = false;
	if (this.mp != null)
	{
		bool = this.mp.setbacki(paramString);
		return bool;
	}
	return false;
}

MasaoConstruction.prototype.pressLeft = function()
{
	if (this.gk != null)
	{
		this.gk.left_f = true;
		return true;
	}
	return false;
}

MasaoConstruction.prototype.pressLeft2 = function()
{
	if ((this.gk != null) && (this.mp != null) && 
		(this.mp.ml_mode == 100) && (this.mp.co_j.c >= 100) && (this.mp.co_j.c < 200))
	{
		this.gk.left_f = true;
		this.gk.left_c = 2;
		this.mp.j_hashiru_f = true;
		return true;
	}
	return false;
}

MasaoConstruction.prototype.releaseLeft = function()
{
	if (this.gk != null)
	{
		this.gk.left_f = false;
		return true;
	}
	return false;
}

MasaoConstruction.prototype.pressRight = function()
{
	if (this.gk != null)
	{
		this.gk.right_f = true;
		return true;
	}
	return false;
}

MasaoConstruction.prototype.pressRight2 = function()
{
	if ((this.gk != null) && (this.mp != null) && 
		(this.mp.ml_mode == 100) && (this.mp.co_j.c >= 100) && (this.mp.co_j.c < 200))
	{
		this.gk.right_f = true;
		this.gk.right_c = 2;
		this.mp.j_hashiru_f = true;
		return true;
	}
	return false;
}

MasaoConstruction.prototype.releaseRight = function()
{
	if (this.gk != null)
	{
		this.gk.right_f = false;
		return true;
	}
	return false;
}

MasaoConstruction.prototype.pressUp = function()
{
	if (this.gk != null)
	{
		this.gk.up_f = true;
		return true;
	}
	return false;
}

MasaoConstruction.prototype.releaseUp = function()
{
	if (this.gk != null)
	{
		this.gk.up_f = false;
		return true;
	}
	return false;
}

MasaoConstruction.prototype.pressDown = function()
{
	if (this.gk != null)
	{
		this.gk.down_f = true;
		this.gk.tr2_f = true;
		return true;
	}
	return false;
}

MasaoConstruction.prototype.releaseDown = function()
{
	if (this.gk != null)
	{
		this.gk.down_f = false;
		this.gk.tr2_f = false;
		return true;
	}
	return false;
}

MasaoConstruction.prototype.pressTrigger1 = function()
{
	if (this.gk != null)
	{
		this.gk.tr1_f = true;
		return true;
	}
	return false;
}

MasaoConstruction.prototype.releaseTrigger1 = function()
{
	if (this.gk != null)
	{
		this.gk.tr1_f = false;
		return true;
	}
	return false;
}

MasaoConstruction.prototype.releaseAll = function()
{
	if (this.gk != null)
	{
		this.gk.up_f = false;
		this.gk.down_f = false;
		this.gk.left_f = false;
		this.gk.right_f = false;
		this.gk.tr1_f = false;
		this.gk.tr2_f = false;
		this.gk.x_f = false;
		return true;
	}
	return false;
}

MasaoConstruction.prototype.getKeyCode = function()
{
	if (this.gk != null) {
		return this.gk.key_code;
	}
	return -1;
}

MasaoConstruction.prototype.resetKeyCode = function()
{
	if (this.gk != null)
	{
		this.gk.key_code = 0;
		return true;
	}
	return false;
}

MasaoConstruction.prototype.equipFire = function()
{
	if ((this.getMode() >= 100) && (this.getMode() < 200))
	{
		this.mp.j_fire_f = true;
		return true;
	}
	return false;
}

MasaoConstruction.prototype.equipBarrier = function(paramString)
{
	var i = 0;
	if ((this.gk != null) && (this.mp != null) && 
		(this.mp.ml_mode == 100) && (this.mp.co_j.c >= 100) && (this.mp.co_j.c < 200))
	{
		i = parseInt(paramString);
		if(isNaN(i))
			i = 0;
		if (i <= 0) {
			return false;
		}
		this.mp.j_v_c = i;

		this.gs.rsAddSound(7);

		return true;
	}
	return false;
}

MasaoConstruction.prototype.setJetFuel = function(paramString)
{
	var i = 0;
	if ((this.gk != null) && (this.mp != null) && 
		(this.mp.ml_mode == 100) && (this.mp.co_j.c >= 100) && (this.mp.co_j.c < 200))
	{
		i = parseInt(paramString);
		if(isNaN(i))
			i = 0;
		if (i < 0) {
			return false;
		}
		this.mp.j_jet_fuel = i;
		return true;
	}
	return false;
}

MasaoConstruction.prototype.equipJet = function(paramString)
{
	var bool = this.setJetFuel(paramString);

	return bool;
}

MasaoConstruction.prototype.restart = function()
{
	this.restart_f = true;
	this.th_jm = 10;
	if (this.mp != null)
	{
		this.mph_title_lock_f = this.mp.title_lock_f;
		this.mph_start_game_f = this.mp.start_game_f;
		if (this.mp.highscore < this.mp.score) {
			this.mp.highscore = this.mp.score;
		}
		this.mph_highscore = this.mp.highscore;
	}
	return true;
}

MasaoConstruction.prototype.getValue = function(paramString)
{
	if (this.th_jm <= 0) {
		return this.tdb.getValue(paramString);
	}
	return null;
}

MasaoConstruction.prototype.getParamValue = function(paramString)
{
	if (this.th_jm <= 0) {
		return this.tdb.getValue(paramString);
	}
	return null;
}

MasaoConstruction.prototype.setValue = function(paramString1, paramString2)
{
	if (this.th_jm <= 0) {
		return this.tdb.setValue(paramString1, paramString2);
	}
	return false;
}

MasaoConstruction.prototype.setParamValue = function(paramString1, paramString2)
{
	if (this.th_jm <= 0) {
		return this.tdb.setValue(paramString1, paramString2);
	}
	return false;
}

MasaoConstruction.prototype.getMyXReal = function()
{
	if ((this.getMode() >= 100) && (this.getMode() < 200) && (this.mp.co_j.c >= 100) && (this.mp.co_j.c < 200))
	{
		var i = this.mp.co_j.x;
		return i;
	}
	return -1;
}

MasaoConstruction.prototype.getMyYReal = function()
{
	if ((this.getMode() >= 100) && (this.getMode() < 200) && (this.mp.co_j.c >= 100) && (this.mp.co_j.c < 200))
	{
		var i = this.mp.co_j.y;
		return i;
	}
	return -1;
}

MasaoConstruction.prototype.setMyXReal = function(paramString)
{
	if ((this.getMode() >= 100) && (this.getMode() < 200) && (this.mp.co_j.c >= 100) && (this.mp.co_j.c < 200))
	{
		var i;
		i = parseInt(paramString);
		if(isNaN(i))
			i = -9999;
		if (i < 0) {
			i = 0;
		}
		this.mp.co_j.x = i;
		return true;
	}
	return false;
}

MasaoConstruction.prototype.setMyYReal = function(paramString)
{
	if ((this.getMode() >= 100) && (this.getMode() < 200) && (this.mp.co_j.c >= 100) && (this.mp.co_j.c < 200))
	{
		var i;
		i = parseInt(paramString);
		if(isNaN(i))
			i = -9999;
		if (i < 0) {
			i = 0;
		}
		this.mp.co_j.y = i;
		return true;
	}
	return false;
}

MasaoConstruction.prototype.getMyVX = function()
{
	if ((this.getMode() >= 100) && (this.getMode() < 200) && (this.mp.co_j.c >= 100) && (this.mp.co_j.c < 200))
	{
		var i = this.mp.co_j.vx;
		return i;
	}
	return -9999;
}

MasaoConstruction.prototype.getMyVY = function()
{
	if ((this.getMode() >= 100) && (this.getMode() < 200) && (this.mp.co_j.c >= 100) && (this.mp.co_j.c < 200))
	{
		var i = this.mp.co_j.vy;
		return i;
	}
	return -9999;
}

MasaoConstruction.prototype.getViewXReal = function()
{
	if ((this.getMode() >= 100) && (this.getMode() < 200))
	{
		var i = this.mp.maps.wx;
		return i;
	}
	return -1;
}

MasaoConstruction.prototype.getViewYReal = function()
{
	if ((this.getMode() >= 100) && (this.getMode() < 200))
	{
		var i = this.mp.maps.wy;
		return i;
	}
	return -1;
}

MasaoConstruction.prototype.getEnemyTotal = function()
{
	if ((this.getMode() >= 100) && (this.getMode() < 200))
	{
		var i = 0;
		for (var j = 0; j <= 229; j++) {
			if ((this.mp.co_t[j].c >= 100) || (this.mp.co_t[j].c == 10)) {
				i++;
			}
		}
		return i;
	}
	return -1;
}

MasaoConstruction.prototype.getBossXReal = function()
{
	if ((this.getMode() >= 100) && (this.getMode() < 200))
	{
		var i = this.mp.co_b.x;
		return i;
	}
	return -1;
}

MasaoConstruction.prototype.getBossYReal = function()
{
	if ((this.getMode() >= 100) && (this.getMode() < 200))
	{
		var i = this.mp.co_b.y;
		return i;
	}
	return -1;
}

MasaoConstruction.prototype.setMyMiss = function(paramString)
{
	if ((this.getMode() >= 100) && (this.getMode() < 200) && (this.mp.co_j.c >= 100) && (this.mp.co_j.c < 200))
	{
		var i;
		i = parseInt(paramString);
		if(isNaN(i))
			i = 1;
		if ((i < 1) || (i > 4)) {
			i = 1;
		}
		this.mp.jShinu(i);

		return true;
	}
	return false;
}

MasaoConstruction.prototype.setMyPress = function(paramString)
{
	if ((this.getMode() >= 100) && (this.getMode() < 200) && (this.mp.co_j.c >= 100) && (this.mp.co_j.c < 200))
	{
		var i;
		i = parseInt(paramString);
		if(isNaN(i))
			i = 1;
		this.mp.jFumu(i);

		return true;
	}
	return false;
}

MasaoConstruction.prototype.playSound = function(paramString)
{
	if (this.gs == null) {
		return false;
	}
	var i;
	i = parseInt(paramString);
	if(isNaN(i))
		i = -1;
	if ((i >= 1) && (i <= 27))
	{
		if ((this.getMode() >= 100) && (this.getMode() < 200)) {
			this.gs.rsAddSound(i - 1);
		} else {
			this.gs.play(i - 1);
		}
		return true;
	}
	return false;
}

MasaoConstruction.prototype.setScrollLock = function(paramString)
{
	var bool = false;
	if ((this.getMode() >= 100) && (this.getMode() < 200)) {
		bool = this.mp.setScrollLock(paramString);
	}
	return bool;
}

MasaoConstruction.prototype.attackFire = function(paramString1, paramString2, paramString3, paramString4)
{
	var i = 0;
	if ((this.getMode() >= 100) && (this.getMode() < 200)) {
		i = this.mp.attackFire(paramString1, paramString2, paramString3, paramString4);
	}
	return i;
}

MasaoConstruction.prototype.addScore = function(paramString)
{
	if (this.mp == null) {
		return false;
	}
	var i;
	i = parseInt(paramString);
	if(isNaN(i))
		i = 0;
	if (i >= 1)
	{
		this.mp.addScore(i);
		return true;
	}
	return false;
}

MasaoConstruction.prototype.setPenColor = function(paramString1, paramString2, paramString3)
{
	if (this.mp != null)
	{
		var bool = this.mp.setPenColor(paramString1, paramString2, paramString3, "255");
		return bool;
	}
	return true;
}

MasaoConstruction.prototype.setPenColor = function(paramString1, paramString2, paramString3, paramString4)
{
	if (this.mp != null)
	{
		var bool = this.mp.setPenColor(paramString1, paramString2, paramString3, paramString4);
		return bool;
	}
	return true;
}

MasaoConstruction.prototype.showRect = function(paramString1, paramString2, paramString3, paramString4, paramString5)
{
	var bool = false;
	if (this.mp != null)
	{
		bool = this.mp.showrSet(paramString1, paramString2, paramString3, paramString4, paramString5);
		return bool;
	}
	return false;
}

MasaoConstruction.prototype.showOval = function(paramString1, paramString2, paramString3, paramString4, paramString5)
{
	var bool = false;
	if (this.mp != null)
	{
		bool = this.mp.showoSet(paramString1, paramString2, paramString3, paramString4, paramString5);
		return bool;
	}
	return false;
}

MasaoConstruction.prototype.getJSMes = function()
{
	var i = 0;
	if (this.mp != null)
	{
		i = this.mp.getJSMes();
		return i;
	}
	return -1;
}

MasaoConstruction.prototype.showGauge = function(paramString1, paramString2)
{
	if (this.mp != null)
	{
		var bool = this.mp.showGauge(paramString1, paramString2);
		return bool;
	}
	return false;
}

MasaoConstruction.prototype.hideGauge = function()
{
	if (this.mp != null)
	{
		var bool = this.mp.hideGauge();
		return bool;
	}
	return false;
}

MasaoConstruction.prototype.setJSMes = function(paramString)
{
	if (this.mp != null)
	{
		this.mp.setJSMes(paramString);
		return true;
	}
	return false;
}

MasaoConstruction.prototype.setTitleLock = function()
{
	if (this.mp != null)
	{
		this.mp.title_lock_f = true;
		return true;
	}
	return false;
}

MasaoConstruction.prototype.startGame = function()
{
	if (this.mp != null)
	{
		this.mp.start_game_f = true;
		return true;
	}
	return false;
}

MasaoConstruction.prototype.equipGrenade = function(paramString)
{
	var i = 0;
	if ((this.getMode() >= 100) && (this.getMode() < 200) && 
		(this.mp.co_j.c >= 100) && (this.mp.co_j.c < 200))
	{
		i = parseInt(paramString);
		if(isNaN(i))
			i = -1;
		if (i < 0) {
			return false;
		}
		this.mp.j_gr_kazu = i;

		return true;
	}
	return false;
}

MasaoConstruction.prototype.setSystemImage = function(paramString1, paramString2)
{
	if (this.mp != null) {
		return this.mp.setSystemImage(paramString1, paramString2);
	}
	return false;
}

MasaoConstruction.prototype.setModeWait = function(paramString1, paramString2)
{
	if (this.mp != null) {
		return this.mp.setModeWait(paramString1, paramString2);
	}
	return false;
}

MasaoConstruction.prototype.showMyHP = function(paramString)
{
	if (this.mp != null) {
		return this.mp.showMyHP(paramString);
	}
	return false;
}

MasaoConstruction.prototype.setMyMaxHP = function(paramString)
{
	if (this.mp != null) {
		return this.mp.setMyMaxHP(paramString);
	}
	return false;
}

MasaoConstruction.prototype.setMyHP = function(paramString)
{
	if (this.mp != null) {
		return this.mp.setMyHP(paramString);
	}
	return false;
}

MasaoConstruction.prototype.getMyHP = function()
{
	if (this.mp != null) {
		return this.mp.getMyHP();
	}
	return 0;
}

MasaoConstruction.prototype.setMyHPDamage = function(paramString)
{
	if (this.mp != null) {
		return this.mp.setMyHPDamage(paramString);
	}
	return false;
}

MasaoConstruction.prototype.setMyWait = function(paramString1, paramString2, paramString3)
{
	if (this.mp != null) {
		return this.mp.setMyWait(paramString1, paramString2, paramString3);
	}
	return false;
}

MasaoConstruction.prototype.setStageClear = function()
{
	if (this.mp != null) {
		return this.mp.setStageClear();
	}
	return false;
}

MasaoConstruction.prototype.equipFire = function(paramString)
{
	var i = -1;
	if ((this.getMode() >= 100) && (this.getMode() < 200))
	{
		i = parseInt(paramString);
		if(isNaN(i))
			i = -1;
		if (i < 0) {
			return false;
		}
		if (i == 0)
		{
			this.mp.j_fire_f = false;

			return true;
		}
		if (i == 1)
		{
			this.mp.j_fire_f = true;

			return true;
		}
	}
	return false;
}

MasaoConstruction.prototype.setFireRange = function(paramString)
{
	var i = 9999;
	if (this.mp != null)
	{
		i = parseInt(paramString);
		if(isNaN(i))
			i = 0;
		if (i <= 0) {
			return false;
		}
		this.mp.j_fire_range = i;

		return true;
	}
	return false;
}

MasaoConstruction.prototype.equipTail = function(paramString)
{
	var i = -1;
	if ((this.getMode() >= 100) && (this.getMode() < 200))
	{
		i = parseInt(paramString);
		if(isNaN(i))
			i = -1;
		if (i < 0) {
			return false;
		}
		if (i == 0)
		{
			this.mp.j_tail_f = false;

			return true;
		}
		if (i == 1)
		{
			this.mp.j_tail_f = true;

			return true;
		}
	}
	return false;
}

MasaoConstruction.prototype.attackTail = function(paramString1, paramString2, paramString3, paramString4)
{
	var i = 0;
	if ((this.getMode() >= 100) && (this.getMode() < 200)) {
		i = this.mp.attackTail(paramString1, paramString2, paramString3, paramString4);
	}
	return i;
}

MasaoConstruction.prototype.destroyEnemy = function(paramString1, paramString2, paramString3, paramString4)
{
	var i = -1;
	if ((this.getMode() >= 100) && (this.getMode() < 200)) {
		i = this.mp.destroyEnemy(paramString1, paramString2, paramString3, paramString4);
	}
	return i;
}

MasaoConstruction.prototype.isPressZKey = function()
{
	if ((this.gk != null) && 
		(this.gk.z_f)) {
		return 1;
	}
	return 0;
}

MasaoConstruction.prototype.isPressXKey = function()
{
	if ((this.gk != null) && 
		(this.gk.x_f)) {
		return 1;
	}
	return 0;
}

MasaoConstruction.prototype.isPressSpaceKey = function()
{
	if ((this.gk != null) && 
		(this.gk.space_f)) {
		return 1;
	}
	return 0;
}

MasaoConstruction.prototype.getMyDirection = function()
{
	var i = -1;
	if ((this.getMode() >= 100) && (this.getMode() < 200))
	{
		if (this.mp.j_tokugi == 15) {
			i = this.mp.j_4_muki;
		} else {
			i = this.mp.co_j.muki;
		}
		return i;
	}
	return -1;
}

MasaoConstruction.prototype.setHTMLText = function(paramString)
{
	if (this.mp != null)
	{
		this.tdb.initParameter();


		this.tdb.setValueFromHTMLText(paramString);


		this.restart();

		return true;
	}
	return false;
}

MasaoConstruction.prototype.newYuka = function(paramString1, paramString2, paramString3, paramString4, paramString5)
{
	if (this.mp != null) {
		return this.mp.newYuka(paramString1, paramString2, paramString3, paramString4, paramString5);
	}
	return -1;
}

MasaoConstruction.prototype.setYukaPosition = function(paramString1, paramString2, paramString3)
{
	if (this.mp != null) {
		return this.mp.setYukaPosition(paramString1, paramString2, paramString3);
	}
	return false;
}

MasaoConstruction.prototype.setYukaPosition = function(paramString1, paramString2, paramString3, paramString4, paramString5)
{
	if (this.mp != null) {
		return this.mp.setYukaPosition(paramString1, paramString2, paramString3, paramString4, paramString5);
	}
	return false;
}

MasaoConstruction.prototype.setYukaType = function(paramString1, paramString2)
{
	if (this.mp != null) {
		return this.mp.setYukaType(paramString1, paramString2);
	}
	return false;
}

MasaoConstruction.prototype.disposeYuka = function(paramString)
{
	if (this.mp != null) {
		return this.mp.disposeYuka(paramString);
	}
	return false;
}

MasaoConstruction.prototype.setYukaColor = function(paramString1, paramString2, paramString3, paramString4, paramString5)
{
	if (this.mp != null) {
		return this.mp.setYukaColor(paramString1, paramString2, paramString3, paramString4, paramString5);
	}
	return false;
}

MasaoConstruction.prototype.isRideYuka = function(paramString)
{
	if (this.mp != null) {
		return this.mp.isRideYuka(paramString);
	}
	return -1;
}

MasaoConstruction.prototype.setMyVX = function(paramString)
{
	var i = 0;
	if ((this.getMode() >= 100) && (this.getMode() < 200) && (this.mp.co_j.c >= 100) && (this.mp.co_j.c < 200))
	{
		i = parseInt(paramString);
		if(isNaN(i))
			i = -9999;
		if (i == -9999) {
			return false;
		}
		this.mp.co_j.vx = i;

		return true;
	}
	return false;
}

MasaoConstruction.prototype.setMyVY = function(paramString)
{
	var i = 0;
	if ((this.getMode() >= 100) && (this.getMode() < 200) && (this.mp.co_j.c >= 100) && (this.mp.co_j.c < 200))
	{
		i = parseInt(paramString);
		if(isNaN(i))
			i = -9999;
		if (i == -9999) {
			return false;
		}
		this.mp.co_j.vy = i;

		return true;
	}
	return false;
}

MasaoConstruction.prototype.isRideGround = function()
{
	if (this.mp != null) {
		return this.mp.isRideGround();
	}
	return -1;
}

MasaoConstruction.prototype.setYukaPattern = function(paramString1, paramString2, paramString3)
{
	if (this.mp != null) {
		return this.mp.setYukaPattern(paramString1, paramString2, paramString3);
	}
	return false;
}

MasaoConstruction.prototype.setYukaImage = function(paramString1, paramString2)
{
	if (this.mp != null) {
		return this.mp.setYukaImage(paramString1, paramString2);
	}
	return false;
}

MasaoConstruction.prototype.setYukaImage = function(paramString, paramImage)
{
	if (this.mp != null) {
		return this.mp.setYukaImage(paramString, paramImage);
	}
	return false;
}

MasaoConstruction.prototype.setMySpeed = function(paramString)
{
	var i = 0;
	if ((this.getMode() >= 100) && (this.getMode() < 200) && (this.mp.co_j.c >= 100) && (this.mp.co_j.c < 200))
	{
		i = parseInt(paramString);
		if(isNaN(i))
			i = -1;
		if ((i < 0) || (i > 16)) {
			return false;
		}
		if ((this.mp.j_tokugi != 14) && (this.mp.j_tokugi != 15)) {
			return false;
		}
		this.mp.j_speed = (i * 10);

		return true;
	}
	return false;
}

MasaoConstruction.prototype.setScrollArea = function(paramString1, paramString2, paramString3, paramString4)
{
	if (this.mp != null) {
		return this.mp.setScrollArea(paramString1, paramString2, paramString3, paramString4);
	}
	return false;
}

/*public String loadTextFile(paramString)
使わない
{
	String str = "";
	if (this.mp != null)
	{
		str = this.tdb.loadTextString(paramString, "UTF-8", this);
		if (str == null) {
			str = "";
		}
	}
	return str;
}*/

MasaoConstruction.prototype.isPressUpKey = function()
{
	if ((this.gk != null) && 
		(this.gk.up_f)) {
		return 1;
	}
	return 0;
}

MasaoConstruction.prototype.isPressDownKey = function()
{
	if ((this.gk != null) && 
		(this.gk.down_f)) {
		return 1;
	}
	return 0;
}

MasaoConstruction.prototype.isPressLeftKey = function()
{
	if ((this.gk != null) && 
		(this.gk.left_f)) {
		return 1;
	}
	return 0;
}

MasaoConstruction.prototype.isPressRightKey = function()
{
	if ((this.gk != null) && 
		(this.gk.right_f)) {
		return 1;
	}
	return 0;
}

MasaoConstruction.prototype.newImageOnLoad = function(paramString)
{
	var localImage = null;


	localImage = this.getImage(paramString);
	var localMediaTracker = [];
	localMediaTracker.push(localImage);
	waitFor(localMediaTracker);
	return localImage;
}

MasaoConstruction.prototype.setSystemDrawMode = function(paramString)
{
	var i = -1;
	if (this.mp != null)
	{
		i = parseInt(paramString);
		if(isNaN(i))
			i = -1;
		if ((i < 1) || (i > 4)) {
			return false;
		}
		this.mp.system_draw_mode = i;

		return true;
	}
	return false;
}

MasaoConstruction.prototype.getMyObjectCondition = function()
{
	if (this.mp != null) {
		return this.mp.co_j.c;
	}
	return 0;
}

MasaoConstruction.prototype.getMyObjectAC = function()
{
	if (this.mp != null) {
		return this.mp.co_j.ac;
	}
	return 0;
}

MasaoConstruction.prototype.getMyObjectPattern = function()
{
	if (this.mp != null) {
		return this.mp.co_j.pt;
	}
	return 0;
}

MasaoConstruction.prototype.getMyDirection4way = function()
{
	var i = -1;
	if ((this.getMode() >= 100) && (this.getMode() < 200))
	{
		if (this.mp.j_tokugi == 15) {
			i = this.mp.j_4_muki;
		} else if ((this.mp.co_j.direction == 2) || (this.mp.co_j.direction == 3)) {
			i = this.mp.co_j.direction;
		} else {
			i = this.mp.co_j.muki;
		}
		return i;
	}
	return -1;
}

MasaoConstruction.prototype.setMyObjectImage = function(paramImage, paramString1, paramString2)
{
	var i = 0;var j = 0;
	if (this.mp != null)
	{
		i = parseInt(paramString1);
		j = parseInt(paramString2);
		if(isNaN(i) || isNaN(j))
		{
			i = 0;
			j = 0;
		}
		this.mp.co_j.img = paramImage;
		this.mp.co_j.zs_x = i;
		this.mp.co_j.zs_y = j;

		return true;
	}
	return false;
}

MasaoConstruction.prototype.getEnemyObjectCondition = function(paramString)
{
	var i = -1;
	if (this.mp != null)
	{
		i = parseInt(paramString);
		if(isNaN(i))
			i = -1;
		if ((i < 0) || (i > this.mp.t_kazu)) {
			return 0;
		}
		return this.mp.co_t[i].c;
	}
	return 0;
}

MasaoConstruction.prototype.getEnemyObjectPattern = function(paramString)
{
	var i = -1;
	if (this.mp != null)
	{
		i = parseInt(paramString);
		if(isNaN(i))
			i = -1;
		if ((i < 0) || (i > this.mp.t_kazu)) {
			return 0;
		}
		return this.mp.co_t[i].pt;
	}
	return 0;
}

MasaoConstruction.prototype.getEnemyObjectDirection = function(paramString)
{
	var i = -1;
	var j = 0;
	var k = 0;
	if (this.mp != null)
	{
		i = parseInt(paramString);
		if(isNaN(i))
			i = -1;
		if ((i < 0) || (i > this.mp.t_kazu)) {
			return 0;
		}
		k = 0;
		j = this.mp.co_t[i].c;
		if ((j >= 1400) && (j < 1500)) {
			k = this.mp.co_t[i].direction;
		} else if ((j >= 1200) && (j <= 1230)) {
			k = this.mp.co_t[i].direction;
		} else {
			k = this.mp.co_t[i].pth;
		}
		return k;
	}
	return 0;
}

MasaoConstruction.prototype.setEnemyObjectImage = function(paramString1, paramImage, paramString2, paramString3)
{
	var i = -1;var j = 0;var k = 0;
	if (this.mp != null)
	{
		i = parseInt(paramString1);
		j = parseInt(paramString2);
		k = parseInt(paramString3);
		if(isNaN(i))
			i = -1;
		if ((i < 0) || (i > this.mp.t_kazu)) {
			return false;
		}
		this.mp.co_t[i].img = paramImage;
		this.mp.co_t[i].zs_x = j;
		this.mp.co_t[i].zs_y = k;

		return false;
	}
	return false;
}

MasaoConstruction.prototype.getEnemyAC = function()
{
	if (this.mp != null) {
		return this.mp.g_c2;
	}
	return 0;
}

MasaoConstruction.prototype.setScrollAreaReal = function(paramString1, paramString2, paramString3, paramString4)
{
	if (this.mp != null) {
		return this.mp.setScrollAreaReal(paramString1, paramString2, paramString3, paramString4);
	}
	return false;
}

MasaoConstruction.prototype.isPressCodeKey = function(paramString)
{
	var i = 0;
	if (this.gk != null)
	{
		i = parseInt(paramString);
		if(isNaN(i))
			i = -1;
		if ((i < 0) || (i > 255)) {
			return 0;
		}
		if (this.gk.codekey_f[i] == 1) {
			return 1;
		}
		return 0;
	}
	return 0;
}

MasaoConstruction.prototype.playBGM = function(paramString)
{
	if (this.gs != null) {
		return this.gs.playUserBGMFile(paramString);
	}
	return false;
}

MasaoConstruction.prototype.playBGMLoop = function(paramString)
{
	if (this.gs != null) {
		return this.gs.playUserBGMFileLoop(paramString);
	}
	return false;
}

MasaoConstruction.prototype.stopBGM = function()
{
	if (this.gs != null)
	{
		this.gs.stopBGM();

		return true;
	}
	return false;
}

MasaoConstruction.prototype.getBossHP = function()
{
	if (this.mp != null) {
		return this.mp.getBossHP();
	}
	return 0;
}

MasaoConstruction.prototype.setBossHP = function(paramString)
{
	var i = 1;
	if (this.mp != null)
	{
		i = parseInt(paramString);
		if(isNaN(i))
			i = 0;
		if (i < 0) {
			i = 0;
		}
		return this.mp.setBossHP(i);
	}
	return false;
}

MasaoConstruction.prototype.getBossDirection = function()
{
	if (this.mp != null) {
		return this.mp.getBossDirection();
	}
	return 0;
}

MasaoConstruction.prototype.isBossAttackMode = function()
{
	if (this.mp != null) {
		return this.mp.isBossAttackMode();
	}
	return 0;
}

MasaoConstruction.prototype.setBossXReal = function(paramString)
{
	var i = 32;
	if (this.mp != null)
	{
		i = parseInt(paramString);
		if(isNaN(i))
			i = -9999;
		if (i < 0) {
			return false;
		}
		return this.mp.setBossXReal(i);
	}
	return false;
}

MasaoConstruction.prototype.setBossYReal = function(paramString)
{
	var i = 320;
	if (this.mp != null)
	{
		i = parseInt(paramString);
		if(isNaN(i))
			i = -9999;
		if (i < 0) {
			return false;
		}
		return this.mp.setBossYReal(i);
	}
	return false;
}

MasaoConstruction.prototype.setBossObjectImage = function(paramImage, paramString1, paramString2)
{
	var i = 0;var j = 0;
	if (this.mp != null)
	{
		i = parseInt(paramString1);
		j = parseInt(paramString2);
		if(isNaN(i) || isNaN(j))
		{
			i = 0;
			j = 0;
		}
		this.mp.co_b.img = paramImage;
		this.mp.co_b.zs_x = i;
		this.mp.co_b.zs_y = j;

		return true;
	}
	return false;
}

MasaoConstruction.prototype.setSystemPattern = function(paramString1, paramString2)
{
	var i = 1;
	var j = 1;
	if (this.mp != null)
	{
		i = parseInt(paramString1);
		j = parseInt(paramString2);
		if(isNaN(i) || isNaN(j))
			i = -1;
		if ((i < 1) || (i > 249)) {
			return false;
		}
		if ((j < 1) || (j > 249)) {
			return false;
		}
		this.mp.hih[0][i] = this.mp.hih[0][j];
		this.mp.hih[1][i] = this.mp.hih[1][j];


		this.mp.setmapc_f = true;

		return true;
	}
	return false;
}

MasaoConstruction.prototype.setSystemPatternImage = function(paramString1, paramString2, paramImage)
{
	var i = 1;
	var j = 0;
	if (this.mp != null)
	{
		i = parseInt(paramString1);
		j = parseInt(paramString2);
		if(isNaN(i) || isNaN(j))
			i = -1;
		if ((i < 1) || (i > 249)) {
			return false;
		}
		if ((j < 0) || (j > 1)) {
			j = 0;
		}
		this.mp.hih[j][i] = paramImage;


		this.mp.setmapc_f = true;

		return true;
	}
	return false;
}

MasaoConstruction.prototype.getCoinCount = function(paramString1, paramString2, paramString3, paramString4)
{
	var i = 0;var j = 0;var k = 0;var m = 0;
	if (this.mp != null)
	{
		i = parseInt(paramString1);
		j = parseInt(paramString2);
		k = parseInt(paramString3);
		m = parseInt(paramString4);
		if(isNaN(i) || isNaN(j) || isNaN(k) || isNaN(m))
			i = -1;
		if (i < 0) {
			return -1;
		}
		return this.mp.getCoinCount(i, j, k, m);
	}
	return -1;
}

MasaoConstruction.prototype.getCoinCount = function()
{
	if (this.mp != null) {
		return this.mp.getCoinCount(0, 0, this.mp.mapWidth - 1, this.mp.mapHeight - 1);
	}
	return -1;
}

MasaoConstruction.prototype.addMyTokugi = function(paramString)
{
	var i = -1;
	var bool = false;
	if ((this.getMode() >= 100) && (this.getMode() < 200))
	{
		i = parseInt(paramString);
		if(isNaN(i))
			i = -1;
		if (i < 0) {
			return false;
		}
		return this.mp.addMyTokugi(i);
	}
	return bool;
}

MasaoConstruction.prototype.removeMyTokugi = function(paramString)
{
	var i = -1;
	var bool = false;
	if ((this.getMode() >= 100) && (this.getMode() < 200))
	{
		i = parseInt(paramString);
		if(isNaN(i))
			i = -1;
		if (i < 0) {
			return false;
		}
		return this.mp.removeMyTokugi(i);
	}
	return bool;
}

MasaoConstruction.prototype.setScore = function(paramString)
{
	var i = 0;
	if (this.mp != null)
	{
		i = parseInt(paramString);
		if(isNaN(i))
			i = 0;
		this.mp.score = i;
		this.mp.addScore(0);


		return true;
	}
	return false;
}

MasaoConstruction.prototype.getBarrierTime = function()
{
	var i = 0;
	if ((this.mp != null) && 
		(this.mp.ml_mode == 100) && (this.mp.co_j.c >= 100) && (this.mp.co_j.c < 200))
	{
		i = this.mp.j_v_c;

		return i;
	}
	return -1;
}

MasaoConstruction.prototype.getTimeLimit = function()
{
	var i = 0;
	if ((this.mp != null) && (this.mp.time_max > 0) && 
		(this.mp.ml_mode == 100))
	{
		i = Math.floor(this.mp.time / 1000);

		return i;
	}
	return -1;
}

MasaoConstruction.prototype.setTimeLimit = function(paramString)
{
	var i = 0;
	if ((this.mp != null) && (this.mp.time_max > 0))
	{
		i = parseInt(paramString);
		if(isNaN(i))
			i = -1;
		if (i < 0) {
			return false;
		}
		this.mp.time = (i * 1000 + 1000 - 70);

		return true;
	}
	return false;
}

MasaoConstruction.prototype.setAthletic = function(paramString1, paramString2, paramString3)
{
	var i = -1;
	var j = 0;
	var k = 0;
	if ((this.getMode() >= 100) && (this.getMode() < 200))
	{
		j = parseInt(paramString1);
		k = parseInt(paramString2);
		i = parseInt(paramString3);
		if(isNaN(i) || isNaN(j) || isNaN(k))
			i = -1;
		if (i < 0) {
			return false;
		}
		if (j < 0) {
			j = 0;
		}
		if (j >= this.mp.mapWidth) {
			j = this.mp.mapWidth - 1;
		}
		if (k < 0) {
			k = 0;
		}
		if (k >= this.mp.mapHeight) {
			k = this.mp.mapHeight - 1;
		}
		j += 1;
		k += 10;


		var m = 0;
		if (this.mp.maps.map_bg[(j - 1)][k] == 4) {
			m = 4;
		}
		if (i >= 2)
		{
			var n = this.mp.setAthleticOnMap(i, j, k);
			if (n == -99)
			{
				this.mp.aSet(j * 32 + 16, k * 32 + 16, 70, j * 32);
				m = 50;
			}
			else
			{
				m = n;
			}
		}
		else
		{
			this.mp.aSet(j * 32 + 16, k * 32 + 16, 70, j * 32);
			m = 50;
		}
		this.mp.maps.map_bg[j][k] = m;


		this.mp.setmapc_f = true;

		return true;
	}
	return false;
}

MasaoConstruction.prototype.setSecondImage = function(paramString)
{
	if ((this.getMode() >= 100) && (this.getMode() < 200))
	{
		var localImage = this.gg.loadImage(paramString);
		this.mp.second_gazou_img = localImage;

		return true;
	}
	return false;
}

MasaoConstruction.prototype.setGrenadeCount = function(paramString)
{
	var i = 0;
	if ((this.getMode() >= 100) && (this.getMode() < 200) && 
		(this.mp.co_j.c >= 100) && (this.mp.co_j.c < 200))
	{
		i = parseInt(paramString);
		if(isNaN(i))
			i = -1;
		if (i < 0) {
			return false;
		}
		this.mp.j_gr_kazu = i;

		return true;
	}
	return false;
}

MasaoConstruction.prototype.setMyLeft = function(paramString)
{
	var i = 0;
	if ((this.getMode() >= 100) && (this.getMode() < 200))
	{
		i = parseInt(paramString);
		if(isNaN(i))
			i = -1;
		if (i < 0) {
			return false;
		}
		this.mp.j_left = i;

		return true;
	}
	return false;
}

MasaoConstruction.prototype.getGrenadeCount = function()
{
	var i = 0;
	if ((this.getMode() >= 100) && (this.getMode() < 200) && 
		(this.mp.co_j.c >= 100) && (this.mp.co_j.c < 200))
	{
		i = this.mp.j_gr_kazu;
		if (i < 0) {
			i = 0;
		}
		return i;
	}
	return i;
}

MasaoConstruction.prototype.getMyLeft = function()
{
	var i = -1;
	if ((this.getMode() >= 100) && (this.getMode() < 200))
	{
		i = this.mp.j_left;

		return i;
	}
	return i;
}

MasaoConstruction.prototype.setEnemyPress = function(paramString)
{
	var i = 1;
	if ((this.getMode() >= 100) && (this.getMode() < 200))
	{
		i = parseInt(paramString);
		if(isNaN(i))
			i = -1;
		if (i < 0) {
			return false;
		}
		if ((i < 1) || (i > 3)) {
			i = 1;
		}
		this.mp.j_enemy_press = i;

		return true;
	}
	return false;
}


MasaoConstruction.prototype.getImage = function(url)
{
	var img = new ImageBuff();
	img.load(url);
	return img;
}

MasaoConstruction.prototype.createImage = function(w, h)
{
	var img = new ImageBuff(w, h);
	return img;
}

MasaoConstruction.prototype.getParameter = function(name)
{
	var s = (name + "").toLowerCase();
	var p = this.params[s];
	if(typeof p === "undefined") return null;
	return this.params[s] + "";
}

/**
 * 音声ファイルのURLの拡張子を適切につけかえる
 *
 * @param {string} url 音声ファイルのURL
 * @param {boolean} bgmflag ファイルがBGM用か
 * @returns {string}
 */
MasaoConstruction.prototype.getAudioURL = function(url, bgmflag)
{
    var i1, i2;
    url = url + "";

	// 拡張子を取り除く作業
	i1 = url.lastIndexOf(".");
	if(i1 != -1)
	{
		// ディレクトリを指定した相対パス・絶対パスかもしれない
		i2 = url.lastIndexOf("/");
		if(i2 != -1)
		{
			// ピリオドがスラッシュの後ろにあるとき、ピリオド以下は拡張子と見なす
			if(i1 > i2)
			{
				url = url.substring(0, i1);
			}
		}
		// カレントディレクトリでファイル名のみの指定では、ピリオド以下は拡張子と見なす
		else
		{
			url = url.substring(0, i1);
		}
	}

	var audio = new Audio();
	if(bgmflag)
	{
		// Wave形式
		if(audio.canPlayType("audio/wav") && !this.audio_bgm_no_wave)
			url += ".wav";
		// MP3形式
		else if(audio.canPlayType("audio/mpeg") && !this.audio_bgm_no_mp3)
			url += ".mp3";
		// Ogg形式
		else if(audio.canPlayType("audio/ogg") && !this.audio_bgm_no_ogg)
			url += ".ogg";
		else
			url = "";
	}
	else
	{
		// Wave形式
		if(audio.canPlayType("audio/wav") && !this.audio_se_no_wave)
			url += ".wav";
		// MP3形式
		else if(audio.canPlayType("audio/mpeg") && !this.audio_se_no_mp3)
			url += ".mp3";
		// Ogg形式
		else if(audio.canPlayType("audio/ogg") && !this.audio_se_no_ogg)
			url += ".ogg";
		else
			url = "";
	}
    return url;
}

MasaoConstruction.prototype.getAudioClip = function(url, flag)
{
	return new AudioClip(this.getAudioURL(url, flag));
}

// メッセージを受け取ってキューの最後に追加する
MasaoConstruction.prototype.pushMessage = function(type, target, parameters)
{
	var newMessage = {};
	newMessage.type = type;
	newMessage.target = target;
	newMessage.parameters = parameters;
	newMessage.next = null;
	if(this.firstMessage == null)
	{
		this.firstMessage = newMessage;
	}
	if(this.lastMessage != null)
	{
		this.lastMessage.next = newMessage;
	}
	this.lastMessage = newMessage;
}


MasaoConstruction.prototype.loadAdvanceMapJson = function (url) {
	var xhr = new XMLHttpRequest();
	var stateObj = { complete: false };
	xhr.open("GET", url, true);
	xhr.onreadystatechange = function () {
		if (xhr.readyState === 4) {
			try {
				this.options["advanced-map"] = JSON.parse(xhr.responseText);
			}
			catch (ex) {
				console.error("Failed to load JSON: " + url);
			}
			stateObj.complete = true;
			xhr.onreadystatechange = null;
		}
	}.bind(this);

	this.pushMessage("loadAdvanceMapJson", stateObj, null);

	xhr.send(null);
}



/**
 * ユーザーJavaScriptから正男を操作するAPIを提供するオブジェクトです。
 * 正男にuserJSCallbackが提供された場合、自動的に生成されます。
 *
 * @constructor
 */
function MasaoJSS(mc)
{
	this.my_offscreen_img = null;
	this.oci = new Array(256);
	this.ci = null;

	this.masaoEvent = function(g, image)
	{
		this.my_offscreen_img = image;
		repaint();
	}

    /**
     * 現在のハイスコアを返します。
     *
     * @returns {number}
     */
	this.getHighscore = function()
	{
		var i = 0;
		if(mc.mp)
		{
			i = mc.mp.highscore;
			if(i < mc.mp.score)
				i = mc.mp.score;
		}
		return i;
	}

    /**
     * 現在のスコアを返します。
     *
     * @returns {number}
     */
	this.getScore = function()
	{
		var i = 0;
		if(mc.mp)
			i = mc.mp.score;
		return i;
	}

    /**
     * 現在のゲームモードを表す数値を返します。
     * ゲーム開始時は1、ゲーム中は、ステージ番号に応じて101〜104、ボス戦中は150、
     * ゲームオーバー時は200、ゲームクリア時は300、
     * マップ画面では400となります。
     *
     * @returns {number}
     */
	this.getMode = function()
	{
		var i = 0;
		if(mc.mp)
		{
			var j = mc.mp.ml_mode;
			if(j >= 50 && j <= 60)
				i = 1;
			else
			if(j >= 200 && j < 300)
				i = 400;
			else
			if(j >= 300 && j <= 310)
				i = 200;
			else
			if(j >= 400 && j <= 410)
				i = 300;
			else
			if(mc.mp.ml_mode == 100 && (mc.mp.sl_step == 2 || mc.mp.sl_step == 3))
			{
				i = 150;
			} else
			{
				i = 100;
				i += mc.mp.stage;
			}
		}
		return i;
	}

    /**
     * 音声をONにします。
     *
     * @returns {boolean}
     */
	this.soundOn = function()
	{
		if(mc.gs)
		{
			mc.gs.soundOn();
			return true;
		} else
		{
			return false;
		}
	}

    /**
     * 音声をOFFにします。
     *
     * @returns {boolean}
     */
	this.soundOff = function()
	{
		if(mc.gs)
		{
			mc.gs.soundOff();
			return true;
		} else
		{
			return false;
		}
	}

    /**
     * 音声をONにします。
     */
	this.onSound = function()
	{
		if(mc.gs)
		{
			mc.gs.soundOn();
			return true;
		} else
		{
			return false;
		}
	}

    /**
     * 音声をOFFにします。
     */
	this.offSound = function()
	{
		if(mc.gs)
		{
			mc.gs.soundOff();
			return true;
		} else
		{
			return false;
		}
	}

    /**
     * 主人公の現在のX座標をブロック単位で返します。
     *
     * 位置は、主人公の中心（左から15pxの位置）で判定されます。マップの左端が0となります。
     *
     * ゲーム中でない場合は-1が返ります。
     *
     * @returns {number}
     */
	this.getMyX = function()
	{
		if(mc.mp)
		{
			if(mc.mp.ml_mode == 100 && mc.mp.co_j.c >= 100 && mc.mp.co_j.c < 200)
			{
				var i = rightShiftIgnoreSign(mc.mp.co_j.x + 15, 5) - 1;
				if(i < 0)
					i = 0;
				if(i >= mc.mp.mapWidth)
					i = mc.mp.mapWidth - 1;
				return i;
			}
			if(mc.mp.ml_mode == 200)
			{
				var j = rightShiftIgnoreSign(mc.mp.ig.co_j.x + 15, 5);
				return j;
			}
		}
		return -1;
	}

    /**
     * 主人公の現在のY座標をブロック単位で返します。
     *
     * 位置は、主人公の中心（上から15pxの位置）で判定されます。マップの上端が0となります。
     *
     * ゲーム中でない場合は-1が返ります。
     *
     * @returns {number}
     */
	this.getMyY = function()
	{
		if(mc.mp)
		{
			if(mc.mp.ml_mode == 100 && mc.mp.co_j.c >= 100 && mc.mp.co_j.c < 200)
			{
				var i = rightShiftIgnoreSign(mc.mp.co_j.y + 15, 5) - 10;
				if(i < 0)
					i = 0;
				if(i >= mc.mp.mapHeight)
					i = mc.mp.mapHeight - 1;
				return i;
			}
			if(mc.mp.ml_mode == 200)
			{
				var j = rightShiftIgnoreSign(mc.mp.ig.co_j.y + 15, 5);
				return j;
			}
		}
		return -1;
	}

    /**
     * 現在のXスクロール位置（画面左端の座標）をブロック単位で返します。
     *
     * マップの左端が0となります。
     *
     * @returns {number}
     */
	this.getViewX = function()
	{
		if(mc.mp && mc.mp.ml_mode == 100)
		{
			var i = rightShiftIgnoreSign(mc.mp.maps.wx, 5) - 1;
			if(i < 0)
				i = 0;
			if(i > mc.mp.mapWidth - 16)
				i = mc.mp.mapWidth - 1;  // ???
			return i;
		} else
		{
			return -1;
		}
	}

    /**
     * 現在のYスクロール位置（画面上端の座標）をブロック単位で返します。
     *
     * マップの上端が0となります。
     *
     * @returns {number}
     */
	this.getViewY = function()
	{
		if(mc.mp && mc.mp.ml_mode == 100)
		{
			var i = rightShiftIgnoreSign(mc.mp.maps.wy, 5) - 10;
			if(i < 0)
				i = 0;
			if(i > mc.mp.mapHeight - 10)
				i = mc.mp.mapHeight - 10;
			return i;
		} else
		{
			return -1;
		}
	}

    /**
     * 主人公の現在の座標をブロック単位で設定します。
     * マップの左上が(0, 0)となります。
     *
     * @param {number} x X座標
     * @param {number} y Y座標
     * @returns {boolean} 
     */
	this.setMyPosition = function(s, s1)
	{
		if(mc.mp && mc.mp.ml_mode == 100 && mc.mp.co_j.c >= 100 && mc.mp.co_j.c < 200)
		{
			var i;
			var j;
			i = parseInt(s);
			j = parseInt(s1);
			if(isNaN(i) || isNaN(j))
			{
				i = -1;
				j = -1;
			}
			if(i < 0 || i >= mc.mp.mapWidth || j < 0 || j >= mc.mp.mapHeight)
			{
				return false;
			} else
			{
				mc.mp.co_j.x = (i + 1) * 32;
				mc.mp.co_j.y = (j + 10) * 32;
				return true;
			}
		} else
		{
			return false;
		}
	}

    /**
     * 一言メッセージを表示します。
     *
     * @param {number} time 表示時間（フレーム数）
     * @param {string} name 名前
     * @param {string} line1 メッセージ（1行目）
     * @param {string} line2 メッセージ（2行目）
     * @param {string} line3 メッセージ（3行目）
     */
	this.showMessage = function(s, s1, s2, s3, s4)
	{
		if(mc.mp)
		{
			var flag1 = mc.mp.showmSet(s, s1, s2, s3, s4);
			return flag1;
		} else
		{
			return false;
		}
	}

    /**
     * マップ上に指定した画像を表示します。
     * 座標はマップ上ではなくスクリーン上の位置で指定します。
     * showImageで表示できる画像は1つだけです。
     *
     * @param {number} time 表示時間（フレーム数）
     * @param {ImageBuff} buf 表示する画像
     * @param {number} x X座標
     * @param {number} y Y座標
     */
	this.showImage = function(s, s1, s2, s3)
	{
		if(mc.mp)
		{
			var flag1 = mc.mp.showiSet(s, s1, s2, s3);
			return flag1;
		} else
		{
			return false;
		}
	}

    /**
     * 指定した位置に敵を設置します。
     * 位置はブロック単位で指定します。
     *
     * @param {number} type 敵の種類
     * @param {number} x X座標
     * @param {number} y Y座標
     */
	this.setEnemy = function(s, s1, s2)
	{
		if(mc.mp)
		{
			var flag1 = mc.mp.sete(s, s1, s2);
			return flag1;
		} else
		{
			return false;
		}
	}

    /**
     * マップチップを1つ変更します。
     *
     * @param {number} x X座標
     * @param {number} y Y座標
     * @param {number} chip マップチップ番号
     */
	this.setMapchip = function(s, s1, s2)
	{
		if(mc.mp)
		{
			var flag1 = mc.mp.setmapc(s, s1, s2);
			return flag1;
		} else
		{
			return false;
		}
	}

    /**
     * マップチップを取得します。
     *
     * @param {number} x X座標
     * @param {number} y Y座標
     * @returns {number} マップチップ番号
     */
	this.getMapchip = function(s, s1)
	{
		if(mc.mp)
			return mc.mp.getmapc(s, s1);
		else
			return -1;
	}

    /**
     * 背景レイヤーのマップチップを1つ変更します。
     *
     * @param {number} x X座標
     * @param {number} y Y座標
     * @param {number} chip マップチップ番号
     */
	this.setMapchip2 = function(s, s1, s2)
	{
		if(mc.mp)
		{
			var flag1 = mc.mp.setmapc2(s, s1, s2);
			return flag1;
		} else
		{
			return false;
		}
	}

    /**
     * 背景レイヤーのマップチップを取得します。
     *
     * @param {number} x X座標
     * @param {number} y Y座標
     * @returns {number} マップチップ番号
     */
	this.getMapchip2 = function(s, s1)
	{
		if(mc.mp)
			return mc.mp.getmapc2(s, s1);
		else
			return -1;
	}

    /**
     * 背景画像を設定します。
     * @param {string} filename 画像のファイル名
     */
	this.setBackImage = function(s)
	{
		if(mc.mp)
		{
			var flag1 = mc.mp.setbacki(s);
			return flag1;
		} else
		{
			return false;
		}
	}

    /**
     * 左キーを入力します。
     */
	this.pressLeft = function()
	{
		if(mc.gk)
		{
			mc.gk.left_f = true;
			return true;
		} else
		{
			return false;
		}
	}

    /**
     * 左キーを入力し、さらにダッシュ状態にします。
     */
	this.pressLeft2 = function()
	{
		if(mc.gk && mc.mp && mc.mp.ml_mode == 100 && mc.mp.co_j.c >= 100 && mc.mp.co_j.c < 200)
		{
			mc.gk.left_f = true;
			mc.gk.left_c = 2;
			mc.mp.j_hashiru_f = true;
			return true;
		} else
		{
			return false;
		}
	}

    /**
     * 左キーを開放します。
     */
	this.releaseLeft = function()
	{
		if(mc.gk)
		{
			mc.gk.left_f = false;
			return true;
		} else
		{
			return false;
		}
	}

    /**
     * 右キーを入力します。
     */
	this.pressRight = function()
	{
		if(mc.gk)
		{
			mc.gk.right_f = true;
			return true;
		} else
		{
			return false;
		}
	}

    /**
     * 右キーを入力し、さらにダッシュ状態にします。
     */
	this.pressRight2 = function()
	{
		if(mc.gk && mc.mp && mc.mp.ml_mode == 100 && mc.mp.co_j.c >= 100 && mc.mp.co_j.c < 200)
		{
			mc.gk.right_f = true;
			mc.gk.right_c = 2;
			mc.mp.j_hashiru_f = true;
			return true;
		} else
		{
			return false;
		}
	}

    /**
     * 右キーを開放します。
     */
	this.releaseRight = function()
	{
		if(mc.gk)
		{
			mc.gk.right_f = false;
			return true;
		} else
		{
			return false;
		}
	}

    /**
     * 上キーを入力します。
     */
	this.pressUp = function()
	{
		if(mc.gk)
		{
			mc.gk.up_f = true;
			return true;
		} else
		{
			return false;
		}
	}

    /**
     * 上キーを開放します。
     */
	this.releaseUp = function()
	{
		if(mc.gk)
		{
			mc.gk.up_f = false;
			return true;
		} else
		{
			return false;
		}
	}

    /**
     * 下キーを入力します。
     */
	this.pressDown = function()
	{
		if(mc.gk)
		{
			mc.gk.down_f = true;
			mc.gk.tr2_f = true;
			return true;
		} else
		{
			return false;
		}
	}

    /**
     * 下キーを開放します。
     */
	this.releaseDown = function()
	{
		if(mc.gk)
		{
			mc.gk.down_f = false;
			mc.gk.tr2_f = false;
			return true;
		} else
		{
			return false;
		}
	}

    /**
     * ジャンプキーを入力します。
     */
	this.pressTrigger1 = function()
	{
		if(mc.gk)
		{
			mc.gk.tr1_f = true;
			return true;
		} else
		{
			return false;
		}
	}

    /**
     * ジャンプキーを開放します。
     */
	this.releaseTrigger1 = function()
	{
		if(mc.gk)
		{
			mc.gk.tr1_f = false;
			return true;
		} else
		{
			return false;
		}
	}

    /**
     * 全てのキーを開放します。
     */
	this.releaseAll = function()
	{
		if(mc.gk)
		{
			mc.gk.up_f = false;
			mc.gk.down_f = false;
			mc.gk.left_f = false;
			mc.gk.right_f = false;
			mc.gk.tr1_f = false;
			mc.gk.tr2_f = false;
			mc.gk.x_f = false;
			return true;
		} else
		{
			return false;
		}
	}

    /**
     * 最後に入力されたキーのキーコードを取得します。
     * @returns {number} キーコード
     */
	this.getKeyCode = function()
	{
		if(mc.gk)
			return mc.gk.key_code;
		else
			return -1;
	}

    /**
     * {@link MasaoJSS#getKeyCode|getKeyCode}で取得できるキーコードを0にリセットします。
     */
	this.resetKeyCode = function()
	{
		if(mc.gk)
		{
			mc.gk.key_code = 0;
			return true;
		} else
		{
			return false;
		}
	}

    /**
     * ファイアボール装備あり/なしを切り替えます。
     * 引数に0を与えるとなし、正の整数を与えるとありになります。
     * その他の値は無効です。
     *
     * @param {number} flag ファイアボールのあり/なし
     */

	this.equipFire = function(s)
	{
		if(typeof(s) == "undefined") s = "1";
		if(this.getMode() >= 100 && this.getMode() < 200)
		{
			var i;
			i = parseInt(s);
			if(isNaN(i))
			{
				i = -1;
			}
			if(i < 0)
				return false;
			if(i == 0)
			{
				mc.mp.j_fire_f = false;
				return true;
			}
			if(i == 1)
			{
				mc.mp.j_fire_f = true;
				return true;
			}
		}
		return false;
	}

    /**
     * 主人公にバリアを装備させます。
     *
     * @param {number} time 持続時間（フレーム数）
     */
	this.equipBarrier = function(s)
	{
		if(mc.gk && mc.mp && mc.mp.ml_mode == 100 && mc.mp.co_j.c >= 100 && mc.mp.co_j.c < 200)
		{
			var i;
			i = parseInt(s);
			if(isNaN(i))
				i = 0;
			if(i <= 0)
			{
				return false;
			} else
			{
				mc.mp.j_v_c = i;
				mc.gs.rsAddSound(7);
				return true;
			}
		} else
		{
			return false;
		}
	}

    /**
     * ジェットの残り燃料数を設定します。
     * 
     * @param {number} fuel 新しい残り燃料数
     */
	this.setJetFuel = function(s)
	{
		if(mc.gk && mc.mp && mc.mp.ml_mode == 100 && mc.mp.co_j.c >= 100 && mc.mp.co_j.c < 200)
		{
			var i;
			i = parseInt(s);
			if(isNaN(i))
			{
				i = 0;
			}
			if(i < 0)
			{
				return false;
			} else
			{
				mc.mp.j_jet_fuel = i;
				return true;
			}
		} else
		{
			return false;
		}
	}

    /**
     * ジェットの残り燃料数を設定します。
     * 
     * @param {number} fuel 新しい残り燃料数
     */
	this.equipJet = function(s)
	{
		var flag = this.setJetFuel(s);
		return flag;
	}

    /**
     * タイトル画面に戻ります。
     */
	this.restart = function()
	{
		return mc.restart();
	}

    /**
     * paramの値を取得します。
     *
     * @param {string} name param名
     * @returns {string} paramの値
     */
	this.getValue = function(s)
	{
		if(mc.th_jm <= 0)
			return mc.tdb.getValue(s);
		else
			return null;
	}

    /**
     * paramの値を取得します。
     *
     * @param {string} name param名
     * @returns {string} paramの値
     */
	this.getParamValue = function(s)
	{
		if(mc.th_jm <= 0)
			return mc.tdb.getValue(s);
		else
			return null;
	}

    /**
     * paramの値を再設定します。
     *
     * @param {string} name param名
     * @param {string} value 新しい値
     */
	this.setValue = function(s, s1)
	{
		if(mc.th_jm <= 0)
			return mc.tdb.setValue(s, s1);
		else
			return false;
	}

    /**
     * paramの値を再設定します。
     *
     * @param {string} name param名
     * @param {string} value 新しい値
     */
	this.setParamValue = function(s, s1)
	{
		if(mc.th_jm <= 0)
			return mc.tdb.setValue(s, s1);
		else
			return false;
	}

    /**
     * 主人公のX座標（px単位）を取得します。
     *
     * マップの左端は32です。
     * @returns {number} 主人公のX座標
     */
	this.getMyXReal = function()
	{
		if(this.getMode() >= 100 && this.getMode() < 200 && mc.mp.co_j.c >= 100 && mc.mp.co_j.c < 200)
		{
			var i = mc.mp.co_j.x;
			return i;
		} else
		{
			return -1;
		}
	}

    /**
     * 主人公のY座標（px単位）を取得します。
     *
     * マップの上端は320です。
     * @returns {number} 主人公のX座標
     */
	this.getMyYReal = function()
	{
		if(this.getMode() >= 100 && this.getMode() < 200 && mc.mp.co_j.c >= 100 && mc.mp.co_j.c < 200)
		{
			var i = mc.mp.co_j.y;
			return i;
		} else
		{
			return -1;
		}
	}

    /**
     * 主人公のX座標をpx単位で設定します。
     * マップの左端は32です。
     *
     * @param {number} x X座標
     */
	this.setMyXReal = function(s)
	{
		if(this.getMode() >= 100 && this.getMode() < 200 && mc.mp.co_j.c >= 100 && mc.mp.co_j.c < 200)
		{
			var i;
			i = parseInt(s);
			if(isNaN(i))
			{
				i = -9999;
			}
			if(i < 0)
				i = 0;
			mc.mp.co_j.x = i;
			return true;
		} else
		{
			return false;
		}
	}

    /**
     * 主人公のY座標をpx単位で設定します。
     * マップの上端は320です。
     *
     * @param {number} y X座標
     */
	this.setMyYReal = function(s)
	{
		if(this.getMode() >= 100 && this.getMode() < 200 && mc.mp.co_j.c >= 100 && mc.mp.co_j.c < 200)
		{
			var i;
			i = parseInt(s);
			if(isNaN(i))
			{
				i = -9999;
			}
			if(i < 0)
				i = 0;
			mc.mp.co_j.y = i;
			return true;
		} else
		{
			return false;
		}
	}

    /**
     * 主人公のX方向速度を取得します。
     *
     * @param {number} 主人公のX方向速度
     */
	this.getMyVX = function()
	{
		if(this.getMode() >= 100 && this.getMode() < 200 && mc.mp.co_j.c >= 100 && mc.mp.co_j.c < 200)
		{
			var i = mc.mp.co_j.vx;
			return i;
		} else
		{
			return -9999;
		}
	}

    /**
     * 主人公のY方向速度を取得します。
     *
     * @param {number} 主人公のY方向速度
     */
	this.getMyVY = function()
	{
		if(this.getMode() >= 100 && this.getMode() < 200 && mc.mp.co_j.c >= 100 && mc.mp.co_j.c < 200)
		{
			var i = mc.mp.co_j.vy;
			return i;
		} else
		{
			return -9999;
		}
	}

    /**
     * 現在のX方向スクロール位置をpx単位で取得します。
     * マップの左端は32です。
     *
     * @returns {number} 現在のX方向スクロール位置
     */
	this.getViewXReal = function()
	{
		if(this.getMode() >= 100 && this.getMode() < 200)
		{
			var i = mc.mp.maps.wx;
			return i;
		} else
		{
			return -1;
		}
	}

    /**
     * 現在のY方向スクロール位置をpx単位で取得します。
     * マップの上端は320です。
     *
     * @returns {number} 現在のY方向スクロール位置
     */
	this.getViewYReal = function()
	{
		if(this.getMode() >= 100 && this.getMode() < 200)
		{
			var i = mc.mp.maps.wy;
			return i;
		} else
		{
			return -1;
		}
	}

    /**
     * 現在存在している敵の総数を取得します。
     *
     * @returns {number} 敵の総数
     */
	this.getEnemyTotal = function()
	{
		if(this.getMode() >= 100 && this.getMode() < 200)
		{
			var i = 0;
			for(var j = 0; j <= mc.mp.t_kazu; j++)
				if(mc.mp.co_t[j].c >= 100 || mc.mp.co_t[j].c == 10)
					i++;

			return i;
		} else
		{
			return -1;
		}
	}

    /**
     * ボスのX座標を取得します。
     *
     * @returns {number} ボスのX座標
     */
	this.getBossXReal = function()
	{
		if(this.getMode() >= 100 && this.getMode() < 200)
		{
			var i = mc.mp.co_b.x;
			return i;
		} else
		{
			return -1;
		}
	}

    /**
     * ボスのY座標を取得します。
     *
     * @returns {number} ボスのY座標
     */
	this.getBossYReal = function()
	{
		if(this.getMode() >= 100 && this.getMode() < 200)
		{
			var i = mc.mp.co_b.y;
			return i;
		} else
		{
			return -1;
		}
	}

    /**
     * 主人公を死亡させます。引数で死亡エフェクトを指定できます。
     *
     * * 1: その場で回転しながら死亡
     * * 2: 飛び上がって回転しながら死亡
     * * 3: 縦に潰れて死亡
     * * 4: 横に潰れて死亡
     *
     * @param {number} [type=1] 死因
     */
	this.setMyMiss = function(s)
	{
		if(this.getMode() >= 100 && this.getMode() < 200 && mc.mp.co_j.c >= 100 && mc.mp.co_j.c < 200)
		{
			var i;
			i = parseInt(s);
			if(isNaN(i))
			{
				i = 1;
			}
			if(i < 1 || i > 4)
				i = 1;
			mc.mp.jShinu(i);
			return true;
		} else
		{
			return false;
		}
	}

    /**
     * 主人公が敵を踏んだエフェクトを発生させます。引数でジャンプの高さを還ることができます。
     * * 1: 亀などの敵を踏んだときの高さ
     * * 2: ポッピー・エアームズを踏んだときの高さ
     * * 3: ボスを踏んだときの高さ
     *
     * @param {number} [type=1] 高さ
     */
	this.setMyPress = function(s)
	{
		if(this.getMode() >= 100 && this.getMode() < 200 && mc.mp.co_j.c >= 100 && mc.mp.co_j.c < 200)
		{
			var i;
			i = parseInt(s);
			if(isNaN(i))
			{
				i = 1;
			}
			mc.mp.jFumu(i);
			return true;
		} else
		{
			return false;
		}
	}

    /**
     * 効果音を再生します。番号は1から27までです。
     *
     * @param {number} type 効果音の番号
     */
	this.playSound = function(s)
	{
		if(!mc.gs)
			return false;
		var i;
		i = parseInt(s);
		if(isNaN(i))
		{
			i = -1;
		}
		if(i >= 1 && i <= 27)
		{
			if(this.getMode() >= 100 && this.getMode() < 200)
				mc.gs.rsAddSound(i - 1);
			else
				mc.gs.play(i - 1);
			return true;
		} else
		{
			return false;
		}
	}

    /**
     * 効果音を変更します。変えられる効果音は1から32までです。
     *
     * @param {number} type 効果音番号
     * @param {string} filename ファイル名
     */
	this.setSound = function(s, s1)
	{
		if(!mc.gs)
			return false;
		var i;
		i = parseInt(s);
		if(isNaN(i))
		{
			i = -1;
		}
		if(i >= 1 && i <= 32)
		{
			mc.gs.setSound(i-1,s1);
			return true;
		} else
		{
			return false;
		}
	}

    /**
     * スクロールロックを設定します。スクロール座標が指定したX座標に到達したら、そこで画面が固定されます。
     *
     * @param {number} x X座標
     */
	this.setScrollLock = function(s)
	{
		var flag = false;
		if(this.getMode() >= 100 && this.getMode() < 200)
			flag = mc.mp.setScrollLock(s);
		return flag;
	}

    /**
     * ファイヤーボールとグレネードに対する当たり判定を指定範囲に発生させます。
     * 指定範囲に入っていたファイヤーボールは消滅し、その数が返り値として返ります。
     * また、グレネードの当たり判定に入っていた場合、1つにつき返り値が10増加します。
     *
     * @param {number} x 範囲の左端のX座標
     * @param {number} y 範囲の上端のY座標
     * @param {number} width 範囲のX方向大きさ
     * @param {number} height 範囲のY方向大きさ
     * @returns {number}
     */
	this.attackFire = function(s, s1, s2, s3)
	{
		var i = 0;
		if(this.getMode() >= 100 && this.getMode() < 200)
			i = mc.mp.attackFire(s, s1, s2, s3);
		return i;
	}

    /**
     * スコアを加算します。負の値を渡してもスコアは減りません。
     *
     * @param {number} score 加算するスコア
     *
     * @see {@link MasaoJSS#setScore|setScore}
     */
	this.addScore = function(s)
	{
		if(!mc.mp)
			return false;
		var i;
		i = parseInt(s);
		if(isNaN(i))
		{
			i = 0;
		}
		if(i >= 1)
		{
			mc.mp.addScore(i);
			return true;
		} else
		{
			return false;
		}
	}

    /**
     * {@link MasaoJSS#showRect|showRect}及び{@link MasaoJSS#showOval|showOval}で表示される図形の色を指定します。各値は0から255までの整数で指定します。
     *
     * @param {number} r R成分
     * @param {number} g G成分
     * @param {number} b B成分
     * @param {number} [alpha=255] 不透明度
     *
     * @see {@link MasaoJSS#showRect|showRect}
     * @see {@link MasaoJSS#showOval|showOval}
     */
	this.setPenColor = function(s, s1, s2, s3)
	{
		if(typeof(s3) == "undefined") s3 = "255";
		if(mc.mp)
		{
			var flag = mc.mp.setPenColor(s, s1, s2, s3);
			return flag;
		} else
		{
			return true;
		}
	}

    /**
     * 一定時間矩形を表示します。表示座標はマップ上の座標ではなくスクリーン上の座標で指定します。
     * showRectによる矩形の表示は1つだけです。
     * 
     * @param {number} time 表示時間（フレーム数）
     * @param {number} x 矩形の左端のX座標
     * @param {number} y 矩形の上端のY座標
     * @param {number} width 矩形の幅
     * @param {number} height 矩形の高さ
     *
     * @see {@link MasaoJSS#setPenColor|setPenColor}
     */
	this.showRect = function(s, s1, s2, s3, s4)
	{
		if(mc.mp)
		{
			var flag1 = mc.mp.showrSet(s, s1, s2, s3, s4);
			return flag1;
		} else
		{
			return false;
		}
	}

    /**
     * 一定時間楕円を表示します。表示座標はマップ上の座標ではなくスクリーン上の座標で指定します。
     * showOvalによる矩形の表示は1つだけです。
     * 
     * @param {number} time 表示時間（フレーム数）
     * @param {number} x 楕円の左端のX座標
     * @param {number} y 楕円の上端のY座標
     * @param {number} width 楕円の幅
     * @param {number} height 楕円の高さ
     *
     * @see {@link MasaoJSS#setPenColor|setPenColor}
     */
	this.showOval = function(s, s1, s2, s3, s4)
	{
		if(mc.mp)
		{
			var flag1 = mc.mp.showoSet(s, s1, s2, s3, s4);
			return flag1;
		} else
		{
			return false;
		}
	}

    /**
     * JavaScript用メッセージを取得します。
     * メッセージはゲーム開始時1になります。
     * メッセージは{@link MasaoJSS#setJSMes|setJSMes}で上書きできます。
     *
     * @returns {number} メッセージ
     */
	this.getJSMes = function()
	{
		if(mc.mp)
		{
			var i = mc.mp.getJSMes();
			return i;
		} else
		{
			return -1;
		}
	}

    /**
     * ゲージを表示します。
     * showGaugeで表示できるゲージは1つだけで、ボスのHPゲージと共有です。
     * ゲージの値は最小が0、最大が200です。
     *
     * @param {number} value ゲージの値
     * @param {string} name ゲージに表示される文字列
     *
     * @see {@link MasaoJSS#hideGauge|hideGauge}
     */
	this.showGauge = function(s, s1)
	{
		if(mc.mp)
		{
			var flag = mc.mp.showGauge(s, s1);
			return flag;
		} else
		{
			return false;
		}
	}

    /**
     * {@link MasaoJSS#showGauge|showGauge}で表示したゲージを非表示にします。
     *
     * @see {@link MasaoJSS#showGauge|showGauge}
     */
	this.hideGauge = function()
	{
		if(mc.mp)
		{
			var flag = mc.mp.hideGauge();
			return flag;
		} else
		{
			return false;
		}
	}

    /**
     * {@link MasaoJSS#getJSMes|getJSMes}で取得できるメッセージを書き換えます。
     *
     * @param {number} value 新しい値
     *
     * @see {@link MasaoJSS#getJSMes|getJSMes}
     */
	this.setJSMes = function(s)
	{
		if(mc.mp)
		{
			mc.mp.setJSMes(s);
			return true;
		} else
		{
			return false;
		}
	}

    /**
     * タイトル画面で、ユーザーの入力によるゲーム開始をできなくします。
     * {@link MasaoJSS#startGame|startGame}によるゲーム開始は可能です。
     */
	this.setTitleLock = function()
	{
		if(mc.mp)
		{
			mc.mp.title_lock_f = true;
			return true;
		} else
		{
			return false;
		}
	}

    /**
     * タイトル画面時、ゲームを開始させます。
     */
	this.startGame = function()
	{
		if(mc.mp)
		{
			mc.mp.start_game_f = true;
			return true;
		} else
		{
			return false;
		}
	}

    /**
     * グレネードの装備数を変更します。
     *
     * @param {number} num 新しい装備数
     *
     * @see {@link MasaoJSS#setGrenadeCount|setGrenadeCount}と同じです。
     */
	this.equipGrenade = function(s)
	{
		if(this.getMode() >= 100 && this.getMode() < 200 && mc.mp.co_j.c >= 100 && mc.mp.co_j.c < 200)
		{
			var i;
			i = parseInt(s);
			if(isNaN(i))
			{
				i = -1;
			}
			if(i < 0)
			{
				return false;
			} else
			{
				mc.mp.j_gr_kazu = i;
				return true;
			}
		} else
		{
			return false;
		}
	}

    /**
     * ゲームで使用されている画像を変更します。画像は数値で指定します。
     *
     * * 0: タイトル画像
     * * 1: エンディング画像
     * * 2: ゲームクリア画像
     * * 8: パターン画像
     * * 9: 背景マップチップ画像
     *
     * @param {number} type 画像の種類
     * @param {string} filename ファイル名
     */
	this.setSystemImage = function(s, s1)
	{
		if(mc.mp)
			return mc.mp.setSystemImage(s, s1);
		else
			return false;
	}

    /**
     * ゲームの各タイミングにおける時間を設定します。タイミングは数値で指定します。
     * * 0: エンディング画像の表示時間
     * * 1: ゲームオーバー画像の表示時間
     * * 2: ステージ開始時のステージ番号表示時間
     *
     * @param {number} type タイミング
     * @param {number} time 時間（フレーム）
     */
	this.setModeWait = function(s, s1)
	{
		if(mc.mp)
			return mc.mp.setModeWait(s, s1);
		else
			return false;
	}

    /**
     * 主人公のHP表示をONにします。
     *
     * @param {string} name HPの名前
     */
	this.showMyHP = function(s)
	{
		if(mc.mp)
			return mc.mp.showMyHP(s);
		else
			return false;
	}

    /**
     * 主人公の最大HPを設定します。
     *
     * @param {number} maxhp 最大HP
     */
	this.setMyMaxHP = function(s)
	{
		if(mc.mp)
			return mc.mp.setMyMaxHP(s);
		else
			return false;
	}

    /**
     * 主人公の現在のHPを設定します。
     *
     * @param {number} hp HP
     */
	this.setMyHP = function(s)
	{
		if(mc.mp)
			return mc.mp.setMyHP(s);
		else
			return false;
	}

    /**
     * 主人公の現在のHPを取得します。
     *
     * @returns {number} 現在のHP
     */
	this.getMyHP = function()
	{
		if(mc.mp)
			return mc.mp.getMyHP();
		else
			return 0;
	}

    /**
     * 主人公にダメージを与えます。
     * このメソッドを使うと、HPが減るのに加えて無敵時間が設定されます。
     *
     * 引数に負の値を与えると回復します。
     *
     * @param {number} damage ダメージ値
     */
	this.setMyHPDamage = function(s)
	{
		if(mc.mp)
			return mc.mp.setMyHPDamage(s);
		else
			return false;
	}

    /**
     * 主人公を一定時間停止させます。
     * 停止している間の主人公の画像（パターンコード）と向きを指定できます。
     *
     * @param {number} time 停止する時間（フレーム数）
     * @param {number} pattern 停止している間のパターンコード
     * @param {number} direction 向き（0なら左、1なら右）
     */
	this.setMyWait = function(s, s1, s2)
	{
		return mc.mp.setMyWait(s, s1, s2);
	}

    /**
     * ステージクリアします。
     */
	this.setStageClear = function()
	{
		if(mc.mp)
			return mc.mp.setStageClear();
		else
			return false;
	}

    /**
     * 水平に飛ぶタイプのファイヤーボールの射程を設定します。
     * 射程は、発射されてから消えるまでのフレーム数で表します。
     *
     * @param {number} range 射程
     */
	this.setFireRange = function(s)
	{
		if(mc.mp)
		{
			var i;
			i = parseInt(s);
			if(isNaN(i))
			{
				i = 0;
			}
			if(i <= 0)
			{
				return false;
			} else
			{
				mc.mp.j_fire_range = i;
				return true;
			}
		} else
		{
			return false;
		}
	}

    /**
     * しっぽの装備を設定します。
     * 引数が1で装備、0で装備解除します。
     *
     * @param {number} tail しっぽの装備
     */
	this.equipTail = function(s)
	{
		if(this.getMode() >= 100 && this.getMode() < 200)
		{
			var i;
			i = parseInt(s);
			if(isNaN(i))
			{
				i = -1;
			}
			if(i < 0)
				return false;
			if(i == 0)
			{
				mc.mp.j_tail_f = false;
				return true;
			}
			if(i == 1)
			{
				mc.mp.j_tail_f = true;
				return true;
			}
		}
		return false;
	}

    /**
     * 指定した矩形範囲にしっぽの攻撃判定を発生させます。
     * 範囲にしっぽが当たった場合は1を、当たっていない場合は0を返します。
     *
     * @param {number} x 範囲左端のX座標
     * @param {number} y 範囲上端のY座標
     * @param {number} width 範囲の横幅
     * @param {number} height 範囲の高さ
     */
	this.attackTail = function(s, s1, s2, s3)
	{
		var i = 0;
		if(this.getMode() >= 100 && this.getMode() < 200)
			i = mc.mp.attackTail(s, s1, s2, s3);
		return i;
	}

    /**
     * 指定した矩形範囲にいる敵を倒します。
     *
     * @param {number} x 範囲左端のX座標
     * @param {number} y 範囲上端のY座標
     * @param {number} width 範囲のX方向大きさ
     * @param {number} height 範囲のY方向大きさ
     * @returns {number} 倒した敵の数
     */
	this.destroyEnemy = function(s, s1, s2, s3)
	{
		var i = -1;
		if(this.getMode() >= 100 && this.getMode() < 200)
			i = mc.mp.destroyEnemy(s, s1, s2, s3);
		return i;
	}

    /**
     * Zキーが押されているか判定し、押されていれば1、押されていなければ0を返します。
     * @returns {number}
     */
	this.isPressZKey = function()
	{
		return !mc.gk || !mc.gk.z_f ? 0 : 1;
	}

    /**
     * Xキーが押されているか判定し、押されていれば1、押されていなければ0を返します。
     * @returns {number}
     */
	this.isPressXKey = function()
	{
		return !mc.gk || !mc.gk.x_f ? 0 : 1;
	}

    /**
     * スペースキーが押されているか判定し、押されていれば1、押されていなければ0を返します。
     * @returns {number}
     */
	this.isPressSpaceKey = function()
	{
		return !mc.gk || !mc.gk.space_f ? 0 : 1;
	}

    /**
     * 主人公の向きを取得します。0が左向きで1が右向きです。
     * 4方向移動の正男の場合、2が上向き、3が下向きになります。
     *
     * @returns {number} 主人公の向き
     * @see {@link MasaoJSS#getMyDirection4way|getMyDirection4way}
     */
	this.getMyDirection = function()
	{
		if(this.getMode() >= 100 && this.getMode() < 200)
		{
			var i;
			if(mc.mp.j_tokugi == 15)
				i = mc.mp.j_4_muki;
			else
				i = mc.mp.co_j.muki;
			return i;
		} else
		{
			return -1;
		}
	}

    /**
     * 主人公の向きを設定します。
     * 向きの値は{@link MasaoJSS#getMyDirection|getMyDirection}を参照してください。
     *
     * @param {number} direction 向き
     * 
     * @see {@link MasaoJSS#getMyDirection|getMyDirection}
     */
	this.setMyDirection = function(s)
	{
		if(this.getMode() >= 100 && this.getMode() < 200 && mc.mp.co_j.c >= 100 && mc.mp.co_j.c < 200)
		{
			var i = parseInt(s);
			if(isNaN(i)) i = -1;
			if(i < 0) return false;
			if(mc.mp.j_tokugi == 15)
			{
				if(i > 3) return false;
				mc.mp.j_4_muki = i;
			} else
			{
				if(i > 1) return false;
				mc.mp.co_j.muki = i;
			}
			return true;
		} else
		{
			return false;
		}
	}

	this.setHTMLText = function(s) // 使用不可
	{
		/*if(mc.mp)
		{
			mc.tdb.initParameter();
			mc.tdb.setValueFromHTMLText(s);
			mc.restart();
			return true;
		} else
		{
			return false;
		}*/
		return false;
	}

    /**
     * 新しく床を生成し、床IDを返します。
     * 床の位置、大きさ、形及び画像を指定できます。
     *
     * 床の形は次のように指定します。
     *
     * * `"line"`: 線分
     * * `"triangle"`: 直角三角形
     * * `"mount"`: 台形
     * * `"circle"`: 円
     * * `"half_circle"`: 上半分の半円
     * * `"half_circle_line"`: 上半分の半円（線のみ）
     * * `"wave_up"`: 右上がりの曲線
     * * `"wave_up_line"`: 右上がりの曲線（線のみ）
     * * `"wave_down"`: 右下がりの曲線
     * * `"wave_down_line"`: 右下がりの曲線（線のみ）
     * * `"rect"`: 矩形
     * * `"pattern"`: 矩形（画像は{@link MasaoJSS#setYukaPattern|setYukaPattern}で設定）
     * * その他: 矩形（ファイル名を指定）
     *
     * 引数`x2`, `y2`の意味は`type`の値によって変わります。
     * `type`が`line`, `triangle`, `mount`の場合は線分の右下の座標です。
     * `rect`, `pattern`および画像の場合は矩形の大きさです。
     * `circie`の場合は`x2`が円の半径となり、`y2`は無視されます。
     * その他の床は大きさが固定となり、`x2`も`y2`も無視されます。
     *
     * @param {number} x 床のX座標
     * @param {number} y 床のY座標
     * @param {number} x2 X方向大きさまたは右下の座標
     * @param {number} y2 Y方向大きさまたは右下の座標
     * @param {string} type 床の形
     *
     * @returns {number} 床ID
     */
	this.newYuka = function(s, s1, s2, s3, s4)
	{
		if(mc.mp)
			return mc.mp.newYuka(s, s1, s2, s3, s4);
		else
			return -1;
	}

    /**
     * {@link MasaoJSS#newYuka|newYuka}で作った床の位置を変更します。
     * 引数が3つの場合位置のみ、5つの場合は床の大きさも変更します。
     *
     * @param {number} id 床ID
     * @param {number} x X座標
     * @param {number} y Y座標
     * @param {number} [x2] X方向大きさまたは右下の座標
     * @param {number} [y2] Y方向大きさまたは右下の座標
     *
     * @see {@link MasaoJSS#newYuka|newYuka}
     */
	this.setYukaPosition = function(s, s1, s2, s3, s4)
	{
		if(mc.mp)
		{
			if(typeof(s3) == "undefined")
				return mc.mp.setYukaPosition(s, s1, s2);
			else
				return mc.mp.setYukaPosition(s, s1, s2, s3, s4);
		}
		else
			return false;
	}

    /**
     * {@link MasaoJSS#newYuka|newYuka}で作った床の当たり判定を変更します。
     * `type`に2を与えると当たり判定がなくなり、その他の値だと当たり判定ありになります。
     *
     * @param {number} id 床ID
     * @param {number} type type値
     */
	this.setYukaType = function(s, s1)
	{
		if(mc.mp)
			return mc.mp.setYukaType(s, s1);
		else
			return false;
	}

    /**
     * {@link MasaoJSS#newYuka|newYuka}で作った床を消去します。
     *
     * @param {number} id 床ID
     */
	this.disposeYuka = function(s)
	{
		if(mc.mp)
			return mc.mp.disposeYuka(s);
		else
			return false;
	}

    /**
     * {@link MasaoJSS#newYuka|newYuka}で作った床の色を設定します。
     * 色の各成分は0から255の整数で与えます。
     *
     * @param {number} id 床ID
     * @param {number} r R値
     * @param {number} g G値
     * @param {number} b B値
     * @param {number} alpha 不透明度
     */
	this.setYukaColor = function(s, s1, s2, s3, s4)
	{
		if(mc.mp)
			return mc.mp.setYukaColor(s, s1, s2, s3, s4);
		else
			return false;
	}

    /**
     * 主人公がある床に乗っているかどうかを判定します。
     * 乗っていれば1、乗っていなければ0が返ります。
     *
     * @param {number} id 床ID
     *
     * @returns {number}
     */
	this.isRideYuka = function(s)
	{
		if(mc.mp)
			return mc.mp.isRideYuka(s);
		else
			return -1;
	}

    /**
     * 主人公のX方向速度を設定します。
     *
     * @param {number} vx X方向速度
     */
	this.setMyVX = function(s)
	{
		if(this.getMode() >= 100 && this.getMode() < 200 && mc.mp.co_j.c >= 100 && mc.mp.co_j.c < 200)
		{
			var i;
			i = parseInt(s);
			if(isNaN(i))
			{
				i = -9999;
			}
			if(i == -9999)
			{
				return false;
			} else
			{
				mc.mp.co_j.vx = i;
				return true;
			}
		} else
		{
			return false;
		}
	}

    /**
     * 主人公のY方向速度を設定します。
     * 
     * @param {number} vy Y方向速度
     */
	this.setMyVY = function(s)
	{
		if(this.getMode() >= 100 && this.getMode() < 200 && mc.mp.co_j.c >= 100 && mc.mp.co_j.c < 200)
		{
			var i;
			i = parseInt(s);
			if(isNaN(i))
			{
				i = -9999;
			}
			if(i == -9999)
			{
				return false;
			} else
			{
				mc.mp.co_j.vy = i;
				return true;
			}
		} else
		{
			return false;
		}
	}

    /**
     * 主人公が地面に立っているかを判定します。
     * 立っているなら1、いないなら0を返します。
     * 地面ではなく床に乗っている場合は0になります。
     *
     * @returns {number} 地面に立っているか
     */
	this.isRideGround = function()
	{
		if(mc.mp)
			return mc.mp.isRideGround();
		else
			return -1;
	}

    /**
     * {@link MasaoJSS#newYuka|newYuka}で作った床のパターン画像を設定します。
     * `type`が`"pattern"`の床に対して有効です。
     *
     * @param {number} id 床ID
     * @param {number} pattern パターンコード
     * @param {number} direction 向き（0ならそのまま、1なら左右逆）
     */
	this.setYukaPattern = function(s, s1, s2)
	{
		if(mc.mp)
			return mc.mp.setYukaPattern(s, s1, s2);
		else
			return false;
	}

    /**
     * {@link MasaoJSS#newYuka|newYuka}で作った床の画像を変更します。
     * `type`が`rect`, `pattern`及びその他で作成した床を対象にできます。
     *
     * @param {number} id 床ID
     * @param {String|ImageBuff} image ファイル名または画像オブジェクト
     */
	this.setYukaImage = function(s, image)
	{
		if(mc.mp)
			return mc.mp.setYukaImage(s, image);
		else
			return false;
	}

    /**
     * 8方向移動または4方向移動モードにおける主人公の移動速度を変更します。
     * 単位はピクセル毎フレームで指定します。
     * 0から16の間の整数を指定可能で、デフォルトは8です。
     *
     * @param {number} speed 主人公の移動速度
     */
	this.setMySpeed = function(s)
	{
		if(this.getMode() >= 100 && this.getMode() < 200 && mc.mp.co_j.c >= 100 && mc.mp.co_j.c < 200)
		{
			var i;
			i = parseInt(s);
			if(isNaN(i))
			{
				i = -1;
			}
			if(i < 0 || i > 16)
				return false;
			if(mc.mp.j_tokugi != 14 && mc.mp.j_tokugi != 15)
			{
				return false;
			} else
			{
				mc.mp.j_speed = i * 10;
				return true;
			}
		} else
		{
			return false;
		}
	}

    /**
     * スクロール可能な範囲をブロック単位で設定します。
     * 引数は全て画面の左上の位置で指定します。
     * マップの左上が(0, 0)です。
     *
     * @param {number} x1 範囲左上の座標
     * @param {number} y1 範囲左上の座標
     * @param {number} x2 範囲右下の座標
     * @param {number} y2 範囲右下の座標
     */
	this.setScrollArea = function(s, s1, s2, s3)
	{
		if(mc.mp)
			return mc.mp.setScrollArea(s, s1, s2, s3);
		else
			return false;
	}

	this.loadTextFile = function(s) // 使用不可
	{
		return null;
	}

    /**
     * 上キーが押されているか判定し、押されていれば1、押されていなければ0を返します。
     *
     * @returns {number}
     */
	this.isPressUpKey = function()
	{
		return !mc.gk || !mc.gk.up_f ? 0 : 1;
	}

    /**
     * 下キーが押されているか判定し、押されていれば1、押されていなければ0を返します。
     *
     * @returns {number}
     */
	this.isPressDownKey = function()
	{
		return !mc.gk || !mc.gk.down_f ? 0 : 1;
	}

    /**
     * 左キーが押されているか判定し、押されていれば1、押されていなければ0を返します。
     *
     * @returns {number}
     */
	this.isPressLeftKey = function()
	{
		return !mc.gk || !mc.gk.left_f ? 0 : 1;
	}

    /**
     * 右キーが押されているか判定し、押されていれば1、押されていなければ0を返します。
     *
     * @returns {number}
     */
	this.isPressRightKey = function()
	{
		return !mc.gk || !mc.gk.right_f ? 0 : 1;
	}

    /**
     * 指定されたファイルを画像オブジェクトとして読み込みます。
     * 読み込んだ画像オブジェクトは他のAPIの引数として使うことができます。
     *
     * @param {string} filename ファイル名
     * 
     * @returns {ImageBuff} 画像オブジェクト
     */
	this.newImageOnLoad = function(s)
	{
		var img = new ImageBuff();
		img.load(s);
		mc.pushMessage("load", img);
		return img;
	}

    /**
     * システムの描画を設定します。引数の値によって次の意味になります。
     *
     * * 1: 全て描画します。
     * * 2: 主人公を描画しません。
     * * 3: 主人公と敵を描画しません。
     * * 4: 何も描画しません。
     *
     * @param {number} mode 描画モード
     */
	this.setSystemDrawMode = function(s)
	{
		if(mc.mp)
		{
			var i;
			i = parseInt(s);
			if(isNaN(i))
			{
				i = -1;
			}
			if(i < 1 || i > 4)
			{
				return false;
			} else
			{
				mc.mp.system_draw_mode = i;
				return true;
			}
		} else
		{
			return false;
		}
	}

    /**
     * 指定されたものを画面に描画します。
     *
     * * 1: 主人公を描画します。
     * * 2: 敵を描画します。
     * * 3: ゲージ、一言メッセージ、{@link MasaoJSS#showOval|showOval}, {@link MasaoJSS#showRect|showRect}, {@link MasaoJSS#showImage|showImage}で指定した描画物を描画します。
     * * 4: 背景を描画します。
     * * 5: 背景レイヤーのマップを描画します。
     * * 6: マップを描画します。
     * * 7: 仕掛けを描画します。
     *
     * @param {number} kind 描画するものの指定
     */
	this.drawSystemObject = function(s)
	{
		if(mc.mp)
		{
			if(mc.mp.ml_mode != 100)
				return false;
			if(mc.mp.dso_cf)
				return false;
			var i;
			i = parseInt(s);
			if(isNaN(i))
			{
				i = -1;
			}
			if(i == 1)
			{
				mc.mp.drawGamescreenMy();
				return true;
			}
			if(i == 2)
			{
				mc.mp.drawGamescreenEnemy();
				return true;
			}
			if(i == 3)
			{
				mc.mp.drawGamescreenWindow();
				mc.mp.drawScore();
				return true;
			}
			if(i == 4)
			{
				mc.mp.maps.drawMapLayer(mc.mp.maps.wx, mc.mp.maps.wy, mc.mp.g_ac2, mc.mp.gazou_scroll, 2);
				return true;
			}
			if(i == 5)
			{
				if(mc.gg.layer_mode == 2)
					mc.mp.maps.drawMapLayer(mc.mp.maps.wx, mc.mp.maps.wy, mc.mp.g_ac2, mc.mp.gazou_scroll, 3);
				return true;
			}
			if(i == 6)
			{
				mc.mp.maps.drawMapLayer(mc.mp.maps.wx, mc.mp.maps.wy, mc.mp.g_ac2, mc.mp.gazou_scroll, 4);
				return true;
			}
			if(i == 7)
			{
				mc.mp.drawGamescreenUgokuyuka();
				return true;
			}
		}
		return false;
	}

    /**
     * 主人公の状態を返します。
     *
     * * 100: 通常の状態
     * * 110: 敵を踏んで硬直している状態
     * * 120: ドリルで床を破壊して硬直している状態
     * * 130: 穴掘りなどで硬直している状態
     * * 140: ロープにつかまっている状態
     * * 145: 乗れるカイオール（方向キーで移動）に乗っている状態
     * * 150: {@link MasaoJSS#setMyWait|setMyWait}で硬直している状態
     * * 200〜250: 死亡
     *
     * @returns {number} 主人公の状態
     */
	this.getMyObjectCondition = function()
	{
		if(mc.mp)
			return mc.mp.co_j.c;
		else
			return 0;
	}

    /**
     * 主人公のアニメーションカウンタを返します。
     * アニメーションカウンタの値は0〜3です。
     *
     * @returns {number} アニメーションカウンタ
     */
	this.getMyObjectAC = function()
	{
		if(mc.mp)
			return mc.mp.co_j.ac;
		else
			return 0;
	}

    /**
     * 主人公の現在の画像のパターンコードを返します。
     *
     * @returns {number} パターンコード
     */
	this.getMyObjectPattern = function()
	{
		if(mc.mp)
			return mc.mp.co_j.pt;
		else
			return 0;
	}

    /**
     * 主人公の向きを取得します。0が左向きで1が右向きです。
     * ハシゴに捕まっている場合、上に移動時は2、下に移動時は3を返します。
     * 4方向移動の正男の場合も、上向きのときは2、下向きのときは3を返します。
     *
     * @returns {number} 主人公の向き
     * @see {@link MasaoJSS#getMyDirection|getMyDirection}
     */
	this.getMyDirection4way = function()
	{
		if(this.getMode() >= 100 && this.getMode() < 200)
		{
			var i;
			if(mc.mp.j_tokugi == 15)
				i = mc.mp.j_4_muki;
			else
			if(mc.mp.co_j.direction == 2 || mc.mp.co_j.direction == 3)
				i = mc.mp.co_j.direction;
			else
				i = mc.mp.co_j.muki;
			return i;
		} else
		{
			return -1;
		}
	}

    /**
     * 主人公の画像をパターンコードで設定します。
     *
     * @param {number} pattern パターンコード
     */
	this.setMyObjectPattern = function(s)
	{
		if(mc.mp)
		{
			var i;
			i = parseInt(s);
			if(isNaN(i))
			{
				i = -1;
			}
			if(i >= 0 && i <= 249)
			{
				mc.mp.co_j.pt = i;
				return true;
			} else
			{
				return false;
			}
		} else
		{
			return false;
		}
	}

    /**
     * 主人公の画像を設定します。
     * 画像の表示位置は主人公の位置からの相対位置で指定します。
     *
     * @param {ImageBuff} image 画像オブジェクト
     * @param {number} x 画像の表示位置
     * @param {number} y 画像の表示位置
     */
	this.setMyObjectImage = function(image, s, s1)
	{
		if(mc.mp)
		{
			var i;
			var j;
			i = parseInt(s);
			j = parseInt(s1);
			if(isNaN(i) || isNaN(j))
			{
				i = 0;
				j = 0;
			}
			mc.mp.co_j.img = image;
			mc.mp.co_j.zs_x = i;
			mc.mp.co_j.zs_y = j;
			return true;
		} else
		{
			return false;
		}
	}

    /**
     * 指定した敵の画像を指定したパターンコードに変更します。
     *
     * @param {number} id 敵ID
     * @param {number} pattern パターンコード
     */
	this.setEnemyObjectPattern = function(s, s1)
	{
		var j = 0;
		if(mc.mp)
		{
			var i;
			i = parseInt(s);
			j = parseInt(s1);
			if(isNaN(i) || isNaN(j))
			{
				i = -1;
			}
			if(i < 0 || i > mc.mp.t_kazu)
				return false;
			if(j >= 0 && j <= 249)
			{
				mc.mp.co_t[i].pt = j;
				return true;
			} else
			{
				return false;
			}
		} else
		{
			return false;
		}
	}

    /**
     * 指定した敵の種類および状態を数値で取得します。
     *
     * * 10: 未出現
     * * 50: 敵（死亡）
     * * 52: 敵（死亡）
     * * 54: 敵（死亡）
     * * 55: 爆風
     * * 57: 爆風
     * * 60: 追跡亀（復活待ち）
     * * 100: 亀（空白で向きを変える、左向き）
     * * 104: 
     * * 105: 亀（空白で向きを変える、右向き）
     * * 110: 亀（空白で落ちる、左向き）
     * * 115: 亀（空白で落ちる、右向き）
     * * 120: 亀（落下中、左向き）
     * * 125: 亀（落下中、右向き）
     * * 150:
     * * 200: ピカチー（地上）
     * * 210: ピカチー（ジャンプ中）
     * * 300: チコリン（はっぱカッター）
     * * 310: チコリン（ヒノララシを投げる/マリリを投げる）
     * * 320: チコリン（はっぱカッター乱れ打ち）
     * * 330: チコリン（ソーラービーム左向き）
     * * 335: チコリン（ソーラービーム右向き）
     * * 400: ヒノララシ（左向き）
     * * 404:
     * * 410: ヒノララシ
     * * 405: ヒノララシ（右向き）
     * * 410: ヒノララシ（穴に落ちる、左向き）
     * * 415: ヒノララシ（穴に落ちる、右向き）
     * * 420: ヒノララシ（落下中、左向き）
     * * 425: ヒノララシ（落下中、右向き）
     * * 450: ヒノララシ（投げられている）
     * * 500: ポッピー（上下移動）
     * * 510: ポッピー（直進、左向き）
     * * 515: ポッピー（直進、右向き）
     * * 520: ポッピー（火の粉）
     * * 530: ポッピー（火の粉3連射）
     * * 540: ポッピー（バブル光線3発）
     * * 550: ポッピー（ハリケンブラスト）
     * * 600: マリリ（左向き）
     * * 605: マリリ（右向き）
     * * 650: マリリ（投げられている）
     * * 660: マリリ（左右移動）
     * * 670: マリリ（体当たり）
     * * 700: ヤチャモ
     * * 710: ヤチャモ（火の粉連射/火の粉3連射）
     * * 720: ヤチャモ（破壊光線左向き）
     * * 725: ヤチャモ（破壊光線右向き）
     * * 800: ミズタロウ（初期位置）
     * * 810: ミズタロウ（移動）
     * * 850: ミズタロウ（シューティング）
     * * 900: エアームズ（壁に当たると止まる）
     * * 910: エアームズ（停止）
     * * 920: エアームズ（その場で爆弾/グレネード投下）
     * * 930: エアームズ（左右に動いて爆弾投下）
     * * 950: エアームズ（壁に当たると向きを変える、左向き）
     * * 960: エアームズ（壁に当たると向きを変える、右向き）
     * * 1000: タイキング（左右移動、左向き）
     * * 1002: タイキング（シューティング）
     * * 1003: タイキング（4方向移動）
     * * 1005: タイキング（左右移動、右向き）
     * * 1050: タイキング（はねる）
     * * 1060: タイキング（縄張りをまもる）
     * * 1070: タイキング（左回り）
     * * 1080: タイキング（右回り）
     * * 1100: クラゲッソ（バブル光線）
     * * 1102: クラゲッソ（シューティング）
     * * 1103: クラゲッソ（4方向移動）
     * * 1150: クラゲッソ（近づくと落ちる）
     * * 1160: クラゲッソ（縄張りをまもる）
     * * 1170: クラゲッソ（左回り）
     * * 1180: クラゲッソ（右回り）
     * * 1200: 追跡亀（左向き）
     * * 1210: 追跡亀（右向き）
     * * 1220: 追跡亀（落下中）
     *
     * @param {number} id 敵ID
     *
     * @returns {number} 敵の状態
     */
	this.getEnemyObjectCondition = function(s)
	{
		if(mc.mp)
		{
			var i;
			i = parseInt(s);
			if(isNaN(i))
			{
				i = -1;
			}
			if(i < 0 || i > mc.mp.t_kazu)
				return 0;
			else
				return mc.mp.co_t[i].c;
		} else
		{
			return 0;
		}
	}

    /**
     * 指定した敵の現在の画像をパターンコードで返します。
     *
     * @param {number} id 敵ID
     *
     * @returns {number} パターンコード
     */
	this.getEnemyObjectPattern = function(s)
	{
		if(mc.mp)
		{
			var i;
			i = parseInt(s);
			if(isNaN(i))
			{
				i = -1;
			}
			if(i < 0 || i > mc.mp.t_kazu)
				return 0;
			else
				return mc.mp.co_t[i].pt;
		} else
		{
			return 0;
		}
	}

    /**
     * 指定した敵のX座標を返します。
     *
     * @param {number} id 敵ID
     * 
     * @returns {number} X座標
     */
	this.getEnemyObjectX = function(s)
	{
		if(mc.mp)
		{
			var i;
			i = parseInt(s);
			if(isNaN(i))
			{
				i = -1;
			}
			if(i < 0 || i > mc.mp.t_kazu)
				return 0;
			else
				return mc.mp.co_t[i].x;
		} else
		{
			return 0;
		}
	}

    /**
     * 指定した敵のY座標を返します。
     *
     * @param {number} id 敵ID
     *
     * @returns {number} Y座標
     */
	this.getEnemyObjectY = function(s)
	{
		if(mc.mp)
		{
			var i;
			i = parseInt(s);
			if(isNaN(i))
			{
				i = -1;
			}
			if(i < 0 || i > mc.mp.t_kazu)
				return 0;
			else
				return mc.mp.co_t[i].y;
		} else
		{
			return 0;
		}
	}

    /**
     * 敵IDの最大値を返します。
     *
     * @returns {number} 敵IDの最大値
     */
	this.getEnemyObjectLength = function()
	{
		if(mc.mp)
			return mc.mp.t_kazu + 1;
		else
			return 0;
	}

    /**
     * 指定した敵の向きを返します。
     * 向きは0が左、1が右です。
     *
     * @param {number} id 敵ID
     *
     * @returns {number} 敵の向き
     */
	this.getEnemyObjectDirection = function(s)
	{
		if(mc.mp)
		{
			var i;
			i = parseInt(s);
			if(isNaN(i))
			{
				i = -1;
			}
			if(i < 0 || i > mc.mp.t_kazu)
				return 0;
			var k = 0;
			var j = mc.mp.co_t[i].c;
			if(j >= 1400 && j < 1500)
				k = mc.mp.co_t[i].direction;
			else
			if(j >= 1200 && j <= 1230)
				k = mc.mp.co_t[i].direction;
			else
				k = mc.mp.co_t[i].pth;
			return k;
		} else
		{
			return 0;
		}
	}

    /**
     * 指定した敵の画像を変更します。
     * 画像の表示位置は敵の位置からの相対位置で指定します。
     *
     * @param {number} id 敵ID
     * @param {ImageBuff} image 画像
     * @param {number} x 表示位置
     * @param {number} y 表示位置
     */
	this.setEnemyObjectImage = function(s, image, s1, s2)
	{
		var j = 0;
		var k = 0;
		if(mc.mp)
		{
			var i;
			i = parseInt(s);
			j = parseInt(s1);
			k = parseInt(s2);
			if(isNaN(i) || isNaN(j) || isNaN(k))
			{
				i = -1;
			}
			if(i < 0 || i > mc.mp.t_kazu)
			{
				return false;
			} else
			{
				mc.mp.co_t[i].img = image;
				mc.mp.co_t[i].zs_x = j;
				mc.mp.co_t[i].zs_y = k;
				return false;
			}
		} else
		{
			return false;
		}
	}

    /**
     * 指定した敵のアニメーションカウンタを取得します。
     * アニメーションカウンタは全ての敵で共通です。
     * 
     * @returns {number} アニメーションカウンタ
     */
	this.getEnemyAC = function()
	{
		if(mc.mp)
			return mc.mp.g_c2;
		else
			return 0;
	}

    /**
     * 新しいチップ画像をロードし、そのIDを返します。
     * 読み込める画像は32個までです。
     * チップ画像は指定した大きさごとに分割され、
     *
     * @param {string} filename ファイル名
     * @param {number} width 1チップの大きさ
     * @param {number} height 1チップの大きさ
     * @param {number} xcount チップの分割数
     * @param {number} ycount チップの分割数
     *
     * @returns {number} チップ画像ID
     */
	this.newChipImage = function(s, s1, s2, s3, s4)
	{
		var i = -1;
		var j = 0;
		var k = 0;
		var l = 0;
		var i1 = 0;
		i = parseInt(s1);
		j = parseInt(s2);
		k = parseInt(s3);
		l = parseInt(s4);
		if(isNaN(i) || isNaN(j) || isNaN(k) || isNaN(l))
		{
			i = -1;
		}
		if(i < 0)
			return -1;
		var j1;
		for(j1 = 0; j1 <= 31 && this.oci[j1]; j1++);
		if(j1 > 31)
			return -1;
		i1 = j1;
		var img = this.newImageOnLoad(s);
		this.oci[i1] = new ChipImage(i, j, k, l, img);
		mc.pushMessage("makeChipImage", img,
			{ chipimage : this.oci[i1] } );
		return i1;
	}

    /**
     * {@link MasaoJSS#newChipImage|newChipImage}で生成したチップ画像に対して左右反転・上下反転・180度回転した画像を生成します。
     * {@link MasaoJSS#getChipImage|getChipImage}の第二引数で0以外の値を使用するには、このメソッドを先に呼び出しておく必要があります。
     * このメソッドはnewChipImage後に1回だけ呼び出してください。
     *
     * @param {number} id チップ画像ID
     */
	this.makeReverseChipImage = function(s)
	{
		var i = 0;
		i = parseInt(s);
		if(isNaN(i))
		{
			i = -1;
		}
		if(i < 0)
			return false;
		else
		{
			this.oci[i].createImageBuffer(1);
			this.oci[i].createImageBuffer(2);
			this.oci[i].createImageBuffer(3);
			mc.pushMessage("makeReverseChipImage", this.oci[i].ai_img,
				{ chipimage : this.oci[i] } );
			return true;
		}
	}

    /**
     * {@link MasaoJSS#getChipImage|getChipImage}で生成したチップ画像から、チップを1つ取得します。
     * 引数`code`はパターンコードのように、数値でチップの位置を指定します。左上が0、その右が、1,2,…となり、行が終わると次の行の左に戻ります。
     * 引数`dir`は画像の向きです。0で普通、1で左右反転、2で上下反転、3で180度回転した画像を返します。ただし、1以上を使用するにはまず{@link MasaoJSS#makeReverseChipImage|makeReverseChipImage}で反転画像を生成する必要があります。
     *
     * @param {number} id チップ画像ID
     * @param {number} code 画像コード
     * @param {number} dir 向き
     *
     * @returns {ImageBuff} チップの画像オブジェクト
     */
	this.getChipImage = function(s, s1, s2)
	{
		var i = 0;
		var j = -1;
		var k = 0;
		if(!s1) s1 = "0";
		if(!s2) s2 = "0";
		i = parseInt(s);
		j = parseInt(s1);
		k = parseInt(s2);
		if(isNaN(i) || isNaN(j) || isNaN(k))
		{
			i = -1;
		}
		if(i < 0)
			return null;
		if(j < 0)
			return null;
		if(k < 0 || k > 3)
			k = 0;
		return this.oci[i].getChipImage(j, k);
	}

    /**
     * {@link MasaoJSS#newChipImage|newChipImage}で生成した画像を破棄します。
     *
     * @param {number} id チップ画像ID
     */
	this.disposeChipImage = function(s)
	{
		var i = 0;
		i = parseInt(s);
		if(isNaN(i))
		{
			i = -1;
		}
		if(i < 0)
		{
			return false;
		} else
		{
			this.oci[i] = null;
			return true;
		}
	}

    /**
     * スクロール可能な領域をピクセル単位で設定します。
     * 引数は全て画面の左上の位置で指定します。
     * マップの左上が(32, 320)です。
     *
     * @param {number} x1 範囲左上の座標
     * @param {number} y1 範囲左上の座標
     * @param {number} x2 範囲右下の座標
     * @param {number} y2 範囲右下の座標
     */
	this.setScrollAreaReal = function(s, s1, s2, s3)
	{
		if(mc.mp)
			return mc.mp.setScrollAreaReal(s, s1, s2, s3);
		else
			return false;
	}

    /**
     * 指定したキーコードのキーが押されているかを返します。
     * 1なら押されていて、0なら押されていません。
     *
     * @param {number} code キーコード
     *
     * @returns {number} 
     */
	this.isPressCodeKey = function(s)
	{
		if(mc.gk)
		{
			var i;
			i = parseInt(s);
			if(isNaN(i))
			{
				i = -1;
			}
			if(i < 0 || i > 255)
				return 0;
			return !mc.gk.codekey_f[i] ? 0 : 1;
		} else
		{
			return 0;
		}
	}

    /**
     * 指定した音声ファイルをBGMとして再生します。
     * 再生終了したら停止します。
     * 
     * @param {string} filename ファイル名
     *
     * @see {@link MasaoJSS#playBGMLoop|playBGMLoop}
     */
	this.playBGM = function(s)
	{
		if(mc.gs)
			return mc.gs.playUserBGMFile(s);
		else
			return false;
	}

    /**
     * 指定した音声ファイルをBGMとして再生します。
     * 再生終了したらループします。
     *
     * @param {string} filename ファイル名
     *
     * @see {@link MasaoJSS#playBGM|playBGM}
     */
	this.playBGMLoop = function(s)
	{
		if(mc.gs)
			return mc.gs.playUserBGMFileLoop(s);
		else
			return false;
	}

    /**
     * BGMを停止します。
     *
     */
	this.stopBGM = function()
	{
		if(mc.gs)
		{
			mc.gs.stopBGM();
			return true;
		} else
		{
			return false;
		}
	}

    /**
     * ボスのHPを取得します。
     *
     * @returns {number} ボスのHP
     */
	this.getBossHP = function()
	{
		if(mc.mp)
			return mc.mp.getBossHP();
		else
			return 0;
	}

    /**
     * ボスのHPを設定します。
     *
     * @param {number} hp 新しいHP
     */
	this.setBossHP = function(s)
	{
		var i = parseInt(s);
		if(isNaN(i))
			return false;
		if(mc.mp)
			return mc.mp.setBossHP(i);
		else
			return false;
	}

    /**
     * ボスの向きを取得します。
     * 0が左向きで1が右向きです。
     *
     * @return {number} ボスの向き
     */
	this.getBossDirection = function()
	{
		if(mc.mp)
			return mc.mp.getBossDirection();
		else
			return 0;
	}

    /**
     * ボスが攻撃中かどうかを取得します。
     * 攻撃中の場合1、そうでない場合は0となります。
     *
     * @returns {number}
     */
	this.isBossAttackMode = function()
	{
		if(mc.mp)
			return mc.mp.isBossAttackMode();
		else
			return 0;
	}

    /**
     * ボスのX座標を取得します。
     *
     * @returns {number} ボスのX座標
     */
	this.setBossXReal = function(s)
	{
		if(mc.mp)
		{
			var i;
			i = parseInt(s);
			if(isNaN(i))
			{
				i = -9999;
			}
			if(i < 0)
				return false;
			else
				return mc.mp.setBossXReal(i);
		} else
		{
			return false;
		}
	}

    /**
     * ボスのY座標を取得します。
     *
     * @returns {number} ボスのY座標
     */
	this.setBossYReal = function(s)
	{
		if(mc.mp)
		{
			var i;
			i = parseInt(s);
			if(isNaN(i))
			{
				i = -9999;
			}
			if(i < 0)
				return false;
			else
				return mc.mp.setBossYReal(i);
		} else
		{
			return false;
		}
	}

    /**
     * ボスの画像を設定します。
     * 画像の位置はボスの位置からの相対座標で指定します。
     *
     * @param {ImageBuff} image ボスの画像
     * @param {number} x 画像の位置
     * @param {number} y 画像の位置
     */
	this.setBossObjectImage = function(image, s, s1)
	{
		if(mc.mp)
		{
			var i;
			var j;
			i = parseInt(s);
			j = parseInt(s1);
			if(isNaN(i) || isNaN(j))
			{
				i = 0;
				j = 0;
			}
			mc.mp.co_b.img = image;
			mc.mp.co_b.zs_x = i;
			mc.mp.co_b.zs_y = j;
			return true;
		} else
		{
			return false;
		}
	}

    /**
     * パターン画像を部分的に書き換えます。
     * パターンコード`dest`の画像をパターンコード`newcode`の画像に書き換えます。
     *
     * @param {number} dest 書き換え対象のパターンコード
     * @param {number} newcode 新しい画像のパターンコード
     */
	this.setSystemPattern = function(s, s1)
	{
		var j = 1;
		if(mc.mp)
		{
			var i;
			i = parseInt(s);
			j = parseInt(s1);
			if(isNaN(i) || isNaN(j))
			{
				i = -1;
			}
			if(i < 1 || i > 249)
				return false;
			if(j < 1 || j > 249)
			{
				return false;
			} else
			{
				mc.mp.hih[0][i] = mc.mp.hih[0][j];
				mc.mp.hih[1][i] = mc.mp.hih[1][j];
				mc.mp.setmapc_f = true;
				return true;
			}
		} else
		{
			return false;
		}
	}

    /**
     * パターン画像を部分的に置き換えます。
     * パターンコード`code`の画像を指定した画像に変更します。
     * `dir`に0を指定すると左向き、1を指定すると右向きの画像を変更します。
     *
     * @param {number} code パターンコード
     * @param {number} dir 向き
     * @param {ImageBuff} image 画像
     */
	this.setSystemPatternImage = function(s, s1, image)
	{
		var j = 0;
		if(mc.mp)
		{
			var i;
			i = parseInt(s);
			j = parseInt(s1);
			if(isNaN(i) || isNaN(j))
			{
				i = -1;
			}
			if(i < 1 || i > 249)
				return false;
			if(j < 0 || j > 1)
				j = 0;
			mc.mp.hih[j][i] = image;
			mc.mp.setmapc_f = true;
			return true;
		} else
		{
			return false;
		}
	}

	this.setFontSize = function(s)
	{
		if(mc.gg)
		{
			var i;
			i = parseInt(s);
			if(isNaN(i))
			{
				i = -1;
			}
			if(i <= 0)
			{
				return false;
			} else
			{
				mc.gg.os_g.setFont(new Font("Dialog", 0, i));
				return true;
			}
		} else
		{
			return false;
		}
	}

    /**
     * 新しいフォントオブジェクトを作って返します。
     * スタイルは次の数値で指定します。
     * * 0: 普通
     * * 1: 太字
     * * 2: 斜体
     * * 3: 太字で斜体
     *
     * @param {string} fontname フォント名
     * @param {number} style スタイル
     * @param {number} size サイズ
     *
     * @returns {Font} フォントオブジェクト
     */
	this.newFont = function(s, s1, s2)
	{
		var j = 0;
		if(mc.gg)
		{
			var i;
			j = parseInt(s1);
			i = parseInt(s2);
			if(isNaN(i) || isNaN(j))
			{
				i = -1;
			}
			if(i <= 0)
				return null;
			if(j == 1)
				j = 1;
			else
			if(j == 2)
				j = 2;
			else
				j = 0;
			var font = new Font(s, j, i);
			return font;
		} else
		{
			return null;
		}
	}

	this.getCoinCount = function(s, s1, s2, s3)
	{
		var j = 0;
		var k = 0;
		var l = 0;
		if(arguments.length == 0)
		{
			s = "0";
			s1 = "0";
			s2 = mc.mp.mapWidth - 1;
			s3 = mc.mp.mapHeight - 1;
		}
		if(mc.mp)
		{
			var i;
			i = parseInt(s);
			j = parseInt(s1);
			k = parseInt(s2);
			l = parseInt(s3);
			if(isNaN(i) || isNaN(j) || isNaN(k) || isNaN(l))
			{
				i = -1;
			}
			if(i < 0)
				return -1;
			else
				return mc.mp.getCoinCount(i, j, k, l);
		} else
		{
			return -1;
		}
	}

    /**
     * マップに残っているコインの数を返します。
     *
     * @returns {number} コインの数
     */
	this.getCoinCount = function()
	{
		if(mc.mp)
			return mc.mp.getCoinCount(0, 0, mc.mp.mapWidth - 1, mc.mp.mapHeight - 1);
		else
			return -1;
	}

    /**
     * 主人公の特技を追加します。
     * 引数の値はparamの`j_add_tokugi`と同じです。
     *
     * @param {number} tokugi 追加の特技
     *
     * @see {@link MasaoJSS#removeMyTokugi|removeMyTokugi}
     */
	this.addMyTokugi = function(s)
	{
		var flag = false;
		if(this.getMode() >= 100 && this.getMode() < 200)
		{
			var i;
			i = parseInt(s);
			if(isNaN(i))
			{
				i = -1;
			}
			if(i < 0)
				return false;
			else
				return mc.mp.addMyTokugi(i);
		} else
		{
			return flag;
		}
	}

    /**
     * 主人公の特技を削除します。
     *
     * @param {number} tokugi 削除する特技
     *
     * @see {@link MasaoJSS#addMyTokugi|addMyTokugi}
     */
	this.removeMyTokugi = function(s)
	{
		var flag = false;
		if(this.getMode() >= 100 && this.getMode() < 200)
		{
			var i;
			i = parseInt(s);
			if(isNaN(i))
			{
				i = -1;
			}
			if(i < 0)
				return false;
			else
				return mc.mp.removeMyTokugi(i);
		} else
		{
			return flag;
		}
	}

    /**
     * スコアの値を設定します。
     *
     * @param {number} score スコア
     *
     * @see {@link MasaoJSS#addScore|addScore}
     */
	this.setScore = function(s)
	{
		if(mc.mp)
		{
			var i;
			i = parseInt(s);
			if(isNaN(i))
			{
				i = 0;
			}
			mc.mp.score = i;
			mc.mp.addScore(0);
			return true;
		} else
		{
			return false;
		}
	}

    /**
     * バリアの残り時間を取得します。
     *
     * @returns {number} バリアの残り時間
     */
	this.getBarrierTime = function()
	{
		if(mc.mp && mc.mp.ml_mode == 100 && mc.mp.co_j.c >= 100 && mc.mp.co_j.c < 200)
		{
			var i = mc.mp.j_v_c;
			return i;
		} else
		{
			return -1;
		}
	}

    /**
     * 残りタイムを取得します。
     * タイムがない場合は-1となります。
     *
     * @returns {number} 残りタイム
     */
	this.getTimeLimit = function()
	{
		if(mc.mp && mc.mp.time_max > 0 && mc.mp.ml_mode == 100)
		{
			var i = Math.floor(mc.mp.time / 1000);
			return i;
		} else
		{
			return -1;
		}
	}

    /**
     * 残りタイムを設定します。
     * タイムがない正男の場合は設定できません。
     *
     * @param {number} time 残りタイム
     */
	this.setTimeLimit = function(s)
	{
		if(mc.mp && mc.mp.time_max > 0)
		{
			var i;
			i = parseInt(s);
			if(isNaN(i))
			{
				i = -1;
			}
			if(i < 0)
			{
				return false;
			} else
			{
				mc.mp.time = (i * 1000 + 1000) - 70;
				return true;
			}
		} else
		{
			return false;
		}
	}

    /**
     * 指定した位置（ブロック単位）に仕掛けを設置します。
     * 仕掛け番号は、paramの`firebar1_type`などで指定する数値と同じです。（1のときはファイヤーバー（左回り）になります。）
     *
     * @param {number} x X座標
     * @param {number} y Y座標
     * @param {number} athletic 仕掛け番号
     */
	this.setAthletic = function(s, s1, s2)
	{
		var j = 0;
		var k = 0;
		if(this.getMode() >= 100 && this.getMode() < 200)
		{
			var i;
			j = parseInt(s);
			k = parseInt(s1);
			i = parseInt(s2);
			if(isNaN(j) || isNaN(k) || isNaN(i))
			{
				i = -1;
			}
			if(i < 0)
				return false;
			if(j < 0)
				j = 0;
			if(j >= mc.mp.mapWidth)
				j = mc.mp.mapWidth - 1;
			if(k < 0)
				k = 0;
			if(k >= mc.mp.mapHeight)
				k = mc.mp.mapHeight - 1;
			j++;
			k += 10;
			var l = 0;
			if(mc.mp.maps.map_bg[j - 1][k] == 4)
				l = 4;
			if(i >= 2)
			{
				var word0 = mc.mp.setAthleticOnMap(i, j, k);
				if(word0 == -99)
				{
					mc.mp.aSet(j * 32 + 16, k * 32 + 16, 70, j * 32);
					l = 50;
				} else
				{
					l = word0;
				}
			} else
			{
				mc.mp.aSet(j * 32 + 16, k * 32 + 16, 70, j * 32);
				l = 50;
			}
			mc.mp.maps.map_bg[j][k] = l;
			mc.mp.setmapc_f = true;
			return true;
		} else
		{
			return false;
		}
	}

    /**
     * セカンド画像を再設定します。
     *
     * @param {string} filename ファイル名
     */
	this.setSecondImage = function(s)
	{
		if(this.getMode() >= 100 && this.getMode() < 200)
		{
			var image = mc.gg.loadImage(s);
			mc.mp.second_gazou_img = image;
			return true;
		} else
		{
			return false;
		}
	}

    /**
     * グレネードの装備数を変更します。
     *
     * @param {number} num 新しい装備数
     *
     * @see {@link MasaoJSS#equipGrenade|equipGrenade}と同じです。
     */
	this.setGrenadeCount = function(s)
	{
		if(this.getMode() >= 100 && this.getMode() < 200 && mc.mp.co_j.c >= 100 && mc.mp.co_j.c < 200)
		{
			var i;
			i = parseInt(s);
			if(isNaN(i))
			{
				i = -1;
			}
			if(i < 0)
			{
				return false;
			} else
			{
				mc.mp.j_gr_kazu = i;
				return true;
			}
		} else
		{
			return false;
		}
	}

    /**
     * 主人公の残りコンティニュー数を設定します。
     *
     * @param {number} left 新しい残りコンティニュー数
     */
	this.setMyLeft = function(s)
	{
		if(this.getMode() >= 100 && this.getMode() < 200)
		{
			var i;
			i = parseInt(s);
			if(isNaN(i))
			{
				i = -1;
			}
			if(i < 0)
			{
				return false;
			} else
			{
				mc.mp.j_left = i;
				return true;
			}
		} else
		{
			return false;
		}
	}

    /**
     * グレネードの残り弾数を取得します。
     *
     * @returns {number} グレネードの残り弾数
     */
	this.getGrenadeCount = function()
	{
		var i = 0;
		if(this.getMode() >= 100 && this.getMode() < 200 && mc.mp.co_j.c >= 100 && mc.mp.co_j.c < 200)
		{
			i = mc.mp.j_gr_kazu;
			if(i < 0)
				i = 0;
			return i;
		} else
		{
			return i;
		}
	}

    /**
     * 主人公の残機数を取得します。
     *
     * @returns {number} 残機数
     */
	this.getMyLeft = function()
	{
		var i = -1;
		if(this.getMode() >= 100 && this.getMode() < 200)
		{
			i = mc.mp.j_left;
			return i;
		} else
		{
			return i;
		}
	}

    /**
     * 雑魚敵を踏めるか否かの設定を変更します。
     * paramの`j_enemy_press`と同じです。
     * 3を設定した場合雑魚敵との全ての当たり判定がなくなります。
     *
     * * 1: 踏める
     * * 2: 踏めない（自分がダメージを受ける）
     * * 3: 当たり判定なし
     *
     * @param {number} j_enemy_press
     */
	this.setEnemyPress = function(s)
	{
		if(this.getMode() >= 100 && this.getMode() < 200)
		{
			var i;
			i = parseInt(s);
			if(isNaN(i))
			{
				i = -1;
			}
			if(i < 0)
				return false;
			if(i < 1 || i > 3)
				i = 1;
			mc.mp.j_enemy_press = i;
			return true;
		} else
		{
			return false;
		}
	}

    /**
     * 画面上の指定した位置にパターン画像を描画します。
     * `dir`は0なら左向き、1なら右向きです。
     *
     * @param {number} x X座標
     * @param {number} y Y座標
     * @param {number} code パターンコード
     * @param {Numbeer} dir 向き
     */
	this.drawPattern = function(s, s1, s2, s3)
	{
		var j = 0;
		var k = 0;
		var l = 0;
		if(mc.gg)
		{
			var i;
			i = parseInt(s);
			j = parseInt(s1);
			k = parseInt(s2);
			l = parseInt(s3);
			if(isNaN(i) || isNaN(j) || isNaN(k) || isNaN(l))
			{
				i = -9999;
			}
			if(i == -9999)
				return false;
			if(k < 0 || k > 249)
				k = 0;
			if(l < 0 || l > 1)
				l = 0;
			mc.gg.drawPattern(i, j, k, l);
			return true;
		} else
		{
			return false;
		}
	}

    /**
     * グラフィクス系の描画メソッドを使用するときの色を設定します。
     * 全ての値は0から255の整数で指定します。
     *
     * @param {number} r R成分
     * @param {number} g G成分
     * @param {number} b B成分
     * @param {number} alpha 不透明度
     */
	this.setOffscreenColor = function(s, s1, s2, s3)
	{
		var j = 0;
		var k = 0;
		var l = 0;
		if(mc.gg)
		{
			var i;
			i = parseInt(s);
			j = parseInt(s1);
			k = parseInt(s2);
			l = parseInt(s3);
			if(isNaN(i) || isNaN(j) || isNaN(k) || isNaN(l))
			{
				i = -9999;
			}
			if(i == -9999)
				return false;
			if(i < 0)
				i = 0;
			if(i > 255)
				i = 255;
			if(j < 0)
				j = 0;
			if(j > 255)
				j = 255;
			if(k < 0)
				k = 0;
			if(k > 255)
				k = 255;
			if(l < 0)
				l = 0;
			if(l > 255)
				l = 255;
			mc.gg.os_g.setColor(new Color(i, j, k, l));
			return true;
		} else
		{
			return false;
		}
	}

	this.drawImage = function(s, s1, s2) // 使用不可
	{
		/*var flag = false;
		var j = 0;
		var obj = null;
		if(mc.gg)
		{
			var i;
			i = parseInt(s1);
			j = parseInt(s2);
			if(isNaN(i) || isNaN(j))
			{
				i = -9999;
			}
			if(i == -9999)
				return false;
			var image = mc.getImage(s);
			MediaTracker mediatracker = new MediaTracker(this);
			mediatracker.addImage(image, 0);
			try
			{
				mediatracker.waitForID(0);
			}
			catch(Exception exception)
			{
				exception.printStackTrace();
			}
			mc.gg.os_g.drawImage(image, i, j, this);
			return true;
		} else
		{
			return false;
		}*/
		return false;
	}

    /**
     * 画面に三角形または四角形を描画します。
     *
     * @param {number} x1 点1のX座標
     * @param {number} y1 点1のY座標
     * @param {number} x2 点2のX座標
     * @param {number} y2 点2のY座標
     * @param {number} x3 点3のX座標
     * @param {number} y3 点3のY座標
     * @param {number} [x4] 点4のX座標
     * @param {number} [y4] 点4のY座標
     */
	this.fillPolygon = function(s, s1, s2, s3, s4, s5, s6, s7)
	{
		var ai, ai1;
		if(mc.gg)
		{
			if(arguments.length == 6)
			{
				ai = new Array(3);
				ai1 = new Array(3);
				ai[0] = parseInt(s);
				ai1[0] = parseInt(s1);
				ai[1] = parseInt(s2);
				ai1[1] = parseInt(s3);
				ai[2] = parseInt(s4);
				ai1[2] = parseInt(s5);
				if(isNaN(ai[0]) || isNaN(ai1[0]) || isNaN(ai[1]) || isNaN(ai1[1]) ||isNaN(ai[2]) || isNaN(ai1[2]))
				{
					ai[0] = -9999;
				}
				if(ai[0] == -9999)
				{
					return false;
				} else
				{
					mc.gg.os_g.fillPolygon(ai, ai1, 3);
					return true;
				}
			}
			else if(arguments.length == 8)
			{
				ai = new Array(3);
				ai1 = new Array(3);
				ai[0] = parseInt(s);
				ai1[0] = parseInt(s1);
				ai[1] = parseInt(s2);
				ai1[1] = parseInt(s3);
				ai[2] = parseInt(s4);
				ai1[2] = parseInt(s5);
				ai[3] = parseInt(s6);
				ai1[3] = parseInt(s7);
				if(isNaN(ai[0]) || isNaN(ai1[0]) || isNaN(ai[1]) || isNaN(ai1[1]) || isNaN(ai[2]) || isNaN(ai1[2]) || isNaN(ai[3]) || isNaN(ai1[3]))
				{
					ai[0] = -9999;
				}
				if(ai[0] == -9999)
				{
					return false;
				} else
				{
					mc.gg.os_g.fillPolygon(ai, ai1, 4);
					return true;
				}
			}
		} else
		{
			return false;
		}
	}

    /**
     * 画面に指定した画像を回転させて描画します。
     * 座標は、無回転のときの画像の左上の位置で指定します。
     *
     * @param {ImageBuff} image 画像オブジェクト
     * @param {number} x X座標
     * @param {number} y Y座標
     * @param {number} angle 角度（度数法）
     */
	this.drawImageRotate = function(image, s, s1, s2)
	{
		var j = 0;
		var k = 0;
		if(mc.gg)
		{
			var i;
			i = parseInt(s);
			j = parseInt(s1);
			k = parseInt(s2);
			if(isNaN(i) || isNaN(j) || isNaN(k))
			{
				i = -9999;
			}
			if(i == -9999)
			{
				return false;
			} else
			{
				var graphics2d = mc.gg.os_img.getGraphics();
				var l = i + image._width / 2;
				var i1 = j + image._height / 2;
				graphics2d.rotate((k * Math.PI) / 180, l, i1);
				graphics2d.drawImage(image, i, j, this);
				graphics2d.dispose();
				return true;
			}
		} else
		{
			return false;
		}
	}

    /**
     * 画面に指定した画像を拡大または縮小して描画します。
     * 座標は画像の左上の位置で指定します。
     * 拡大縮小の中心点も画像の左上となります。
     * 倍率は、パーセント（100で等倍）で指定します。
     *
     * @param {ImageBuff} image 画像オブジェクト
     * @param {number} x X座標
     * @param {number} y Y座標
     * @param {number} scalex X方向倍率
     * @param {number} scaley Y方向倍率
     */
	this.drawImageScale = function(image, s, s1, s2, s3)
	{
		var j = 0;
		var k = 100;
		var l = 100;
		if(mc.gg)
		{
			var i;
			i = parseInt(s);
			j = parseInt(s1);
			k = parseInt(s2);
			l = parseInt(s3);
			if(isNaN(i) || isNaN(j) || isNaN(k) || isNaN(l))
			{
				i = -9999;
			}
			if(i == -9999)
			{
				return false;
			} else
			{
				var graphics2d = mc.gg.os_img.getGraphics();
				graphics2d.translate(i, j);
				graphics2d.scale(k / 100, l / 100);
				graphics2d.drawImage(image, 0, 0, this);
				graphics2d.dispose();
				return true;
			}
		} else
		{
			return false;
		}
	}

    /**
     * 画面に指定した画像を指定した透明度で描画します。
     * 座標は画像の左上の位置で指定します。
     * 不透明度は0から100で、0で完全に透明、100で完全に不透明になります。
     *
     * @param {ImageBuff} image 画像オブジェクト
     * @param {number} x X座標
     * @param {number} y Y座標
     * @param {number} alpha 不透明度
     */
	this.drawImageAlphaComposite = function(image, s, s1, s2)
	{
		var j = 0;
		var k = 100;
		if(mc.gg)
		{
			var i;
			i = parseInt(s);
			j = parseInt(s1);
			k = parseInt(s2);
			if(isNaN(i) || isNaN(j) || isNaN(k))
			{
				i = -9999;
			}
			if(i == -9999)
				return false;
			if(k < 0)
				k = 0;
			else
			if(k > 100)
				k = 100;
			var graphics2d = mc.gg.os_img.getGraphics();
			graphics2d.setGlobalAlpha(k / 100 * 255);
			graphics2d.drawImage(image, i, j, this);
			graphics2d.dispose();
			return true;
		} else
		{
			return false;
		}
	}

    /**
     * ポーズ中かどうか判定します。
     * ポーズ中なら1、そうでなければ0を返します。
     *
     * @returns {number}
     * @since canvas正男
     */
	this.isPaused = function()
	{
		if(mc.mp)
		{
			if(mc.mp.ml_mode == 110)
				return 1;
			else
				return 0;
		}
		return 0;
	}

    /**
     * ポーズまたはポーズ解除します。
     * 引数が1のときポーズ解除、0のときポーズとなります。
     *
     * @param {number} p
     *
     * @since canvas正男
     */
	this.pause = function(s)
	{
		var i;
		if(mc.mp)
		{
			i = parseInt(s);
			if(isNaN(i)) i = -1;
			if(i < 0 || i > 1)
				return false;
			if(i == 0 && mc.mp.ml_mode == 110)
				mc.mp.ml_mode = 100;
			else if(i == 1 && mc.mp.ml_mode == 100) {
				mc.mp.ml_mode = 110;
				mc.mp.ml_mode_c = 0;
			}
			else return false;
			return true;
		}
		return false;
	}

    /**
     * [0.0, 1.0)の範囲の乱数を返します。
     *
     * @returns {number} ゲーム内シードに依存した乱数。ゲームが開始されていないときにはMath.random()を返す。
     * @since canvas正男
     */
	this.getRandomF = function () {
		if (mc.mp) {
			return mc.mp.ranInt(0x80000000) / 0x80000000;
		}
		else {
			return Math.random();
		}
	}

    /**
     * [0, max)の範囲の整数乱数を返します。
     *
     * @param {number} max 返される乱数の最大値。
     *
     * @returns {number} ゲーム内シードに依存した乱数。ゲームが開始されていないときにはMath.random()を使用した乱数を返す。
     * @since canvas正男
     */
	this.getRandom = function (max) {
		if (mc.mp) {
			return mc.mp.ranInt(max);
		}
		else {
			return Math.floor(Math.random() * max);
		}
	}
}

function TagDataBase()
{
	this.tag_kazu = 0;
	this.params = {};
	this.options = {};
	this.initParameter();
}

TagDataBase.prototype.initParameter = function()
{
	this.params = {
		"chizu-0" : "...............",
		"chizu-1" : ".b33E33333c..C.",
		"chizu-2" : "....2.....2..2.",
		"chizu-3" : "....2.....2..2.",
		"chizu-4" : "....A33a331331.",
		"chizu-5" : ".i.....2.......",
		"chizu-6" : ".2.....2.......",
		"chizu-7" : ".B33D3313f3d...",
		"chizu-8" : "...............",
		"mes1_name" : "ダケシ",
		"serifu1-1" : "人の命は、お金では買えないと言われています。",
		"serifu1-2" : "しかし、お店へ行けば、ＳＣＯＲＥで買えます。",
		"serifu1-3" : "0",
		"serifu2-1" : "時は金なりと、言われています。しかし、",
		"serifu2-2" : "お店なら、時間も買えます。",
		"serifu2-3" : "店員さんて、グレートですね。",
		"mes2_name" : "エリコ",
		"serifu3-1" : "おはようございます。星と数字が付いた扉が、",
		"serifu3-2" : "ありますよね。あれは、ですねえ、その数だけ",
		"serifu3-3" : "人面星を取ると、開くので、ございます。",
		"serifu4-1" : "LAST STAGEというのは、最終面の事ですわ。",
		"serifu4-2" : "これをクリアーすると、エンディングに、",
		"serifu4-3" : "行けますのよ。がんばって下さいね。",
		"shop_name" : "店員さん",
		"serifu5-1" : "いらっしゃいませ。",
		"serifu5-2" : "当店では、ＳＣＯＲＥと、アイテムを、",
		"serifu5-3" : "交換いたします。",
		"serifu8-1" : "本日の営業は、終了いたしました。",
		"serifu8-2" : "またのご来店を、",
		"serifu8-3" : "こころより、お待ちしております。",
		"shop_serifu1" : "どれになさいますか？",
		"shop_serifu2" : "で、よろしいですか？",
		"shop_serifu3" : "はい",
		"shop_serifu4" : "いいえ",
		"shop_serifu5" : "を、装備した。",
		"shop_serifu6" : "ＳＣＯＲＥが、足りません。",
		"shop_item_name1" : "グレネード３発",
		"shop_item_name2" : "ジェット",
		"shop_item_name3" : "ドリル",
		"shop_item_name4" : "ヘルメット",
		"shop_item_name5" : "しっぽ",
		"shop_item_name6" : "バリア",
		"shop_item_name7" : "ファイヤーボール",
		"shop_item_name8" : "１ｕｐ",
		"shop_item_name9" : "制限時間増加",
		"shop_item_teika1" : "200",
		"shop_item_teika2" : "150",
		"shop_item_teika3" : "100",
		"shop_item_teika4" : "100",
		"shop_item_teika5" : "250",
		"shop_item_teika6" : "80",
		"shop_item_teika7" : "300",
		"shop_item_teika8" : "980",
		"shop_item_teika9" : "1",
		"setumei_name" : "キドはかせ",
		"serifu9-1" : "よく来た。わしは、キドはかせ。",
		"serifu9-2" : "アイテムの研究をしており、みんなから、",
		"serifu9-3" : "アイテムはかせと呼ばれて、したわれておるよ。",
		"setumei_menu1" : "なんでも、質問してくれたまえよ。",
		"setumei_menu2" : "ファイヤーボール",
		"setumei_menu3" : "バリア",
		"setumei_menu4" : "ジェット",
		"serifu10-1" : "黄色いチューリップのアイテムと言えば、",
		"serifu10-2" : "そう、ファイヤーボールじゃな。はなれた",
		"serifu10-3" : "敵を攻撃できるという、大変便利なものじゃ。",
		"serifu11-1" : "ピンクのキノコのアイテムと言えば、そう、",
		"serifu11-2" : "バリアじゃな。体当たりで敵を倒せるが、うっかり",
		"serifu11-3" : "して、時間切れを忘れぬよう、注意が必要じゃ。",
		"serifu12-1" : "ロケットの形のアイテムと言えば、そう、ジェット",
		"serifu12-2" : "じゃな。空中で、スペースキーを押せば、さらに",
		"serifu12-3" : "上昇できる。燃料切れには、気を付けるのじゃぞ。",
		"door_score" : "800",
		"layer_mode" : "1",
		"filename_mapchip" : "mapchip.gif",
		"filename_haikei" : "haikei.gif",
		"filename_haikei2" : "haikei.gif",
		"filename_haikei3" : "haikei.gif",
		"filename_haikei4" : "haikei.gif",
		"gazou_scroll" : "2",
		"easy_mode" : "1",
		"now_loading" : "ただいまファイルを読み込み中。しばらくお待ち下さい。",
		"time_max" : "300",
		"scroll_mode" : "1",
		"scroll_mode_s" : "1",
		"scroll_mode_t" : "1",
		"scroll_mode_f" : "1",
		"score_v" : "1",
		"stage_max" : "1",
		"stage_kaishi" : "1",
		"jibun_left_shoki" : "1",
		"score_1up_1" : "500",
		"score_1up_2" : "1000",
		"stage_select" : "1",
		"j_tail_type" : "1",
		"j_tail_hf" : "1",
		"j_fire_mkf" : "1",
		"grenade_type" : "1",
		"suberuyuka_hkf" : "1",
		"dengeki_mkf" : "1",
		"yachamo_kf" : "1",
		"airms_kf" : "1",
		"ugokuyuka1_type" : "1",
		"ugokuyuka2_type" : "1",
		"ugokuyuka3_type" : "1",
		"boss_type" : "1",
		"boss2_type" : "1",
		"boss3_type" : "1",
		"url1" : "http:\/\/www.yahoo.co.jp\/",
		"url2" : "http:\/\/www.yahoo.co.jp\/",
		"url3" : "http:\/\/www.yahoo.co.jp\/",
		"url4" : "http:\/\/www.t3.rim.or.jp\/~naoto\/naoto.html",
		"dokan_mode" : "1",
		"j_tokugi" : "1",
		"hitokoto1_name" : "浩二",
		"hitokoto1-1" : "今日は、いい天気だね。",
		"hitokoto1-2" : "0",
		"hitokoto1-3" : "0",
		"hitokoto2_name" : "お姫様",
		"hitokoto2-1" : "ついに、ここまで来ましたね。",
		"hitokoto2-2" : "0",
		"hitokoto2-3" : "0",
		"hitokoto3_name" : "ザトシ",
		"hitokoto3-1" : "オレは、世界一になる男だ。",
		"hitokoto3-2" : "0",
		"hitokoto3-3" : "0",
		"hitokoto4_name" : "クリス",
		"hitokoto4-1" : "んちゃ！",
		"hitokoto4-2" : "0",
		"hitokoto4-3" : "0",
		"backcolor_red" : "0",
		"backcolor_green" : "255",
		"backcolor_blue" : "255",
		"backcolor_red_s" : "0",
		"backcolor_green_s" : "0",
		"backcolor_blue_s" : "0",
		"backcolor_red_t" : "0",
		"backcolor_green_t" : "255",
		"backcolor_blue_t" : "255",
		"backcolor_red_f" : "192",
		"backcolor_green_f" : "48",
		"backcolor_blue_f" : "48",
		"kaishi_red" : "0",
		"kaishi_green" : "0",
		"kaishi_blue" : "0",
		"scorecolor_red" : "0",
		"scorecolor_green" : "0",
		"scorecolor_blue" : "255",
		"grenade_red1" : "255",
		"grenade_green1" : "255",
		"grenade_blue1" : "255",
		"grenade_red2" : "255",
		"grenade_green2" : "255",
		"grenade_blue2" : "0",
		"mizunohadou_red" : "0",
		"mizunohadou_green" : "32",
		"mizunohadou_blue" : "255",
		"firebar_red1" : "255",
		"firebar_green1" : "0",
		"firebar_blue1" : "0",
		"firebar_red2" : "255",
		"firebar_green2" : "192",
		"firebar_blue2" : "0",
		"moji_score" : "SCORE",
		"moji_highscore" : "HIGHSCORE",
		"moji_time" : "TIME",
		"moji_jet" : "JET",
		"moji_grenade" : "GRENADE",
		"moji_left" : "LEFT",
		"moji_size" : "14",
		"filename_title" : "title.gif",
		"filename_ending" : "ending.gif",
		"filename_gameover" : "gameover.gif",
		"filename_pattern" : "pattern.gif",
		"filename_chizu" : "chizu.gif",
		"game_speed" : "70",
		"se_switch" : "2",
		"se_filename" : "1",
		"filename_se_start" : "item.au",
		"filename_se_gameover" : "gameover.au",
		"filename_se_clear" : "clear.au",
		"filename_se_coin" : "coin.au",
		"filename_se_get" : "get.au",
		"filename_se_item" : "item.au",
		"filename_se_jump" : "jump.au",
		"filename_se_sjump" : "sjump.au",
		"filename_se_kiki" : "kiki.au",
		"filename_se_fumu" : "fumu.au",
		"filename_se_tobasu" : "tobasu.au",
		"filename_se_fireball" : "shot.au",
		"filename_se_jet" : "mgan.au",
		"filename_se_miss" : "dosun.au",
		"filename_se_block" : "bakuhatu.au",
		"filename_se_mizu" : "mizu.au",
		"filename_se_dengeki" : "mgan.au",
		"filename_se_happa" : "happa.au",
		"filename_se_hinoko" : "mgan.au",
		"filename_se_mizudeppo" : "happa.au",
		"filename_se_bomb" : "shot.au",
		"filename_se_dosun" : "dosun.au",
		"filename_se_grounder" : "mgan.au",
		"filename_se_kaiole" : "happa.au",
		"filename_se_senkuuza" : "shot.au",
		"filename_se_dokan" : "get.au",
		"filename_se_chizugamen" : "get.au",
		"scroll_area" : "1",
		"clear_type" : "1",
		"fx_bgm_switch" : "0",
		"fx_bgm_loop" : "0",
		"filename_fx_bgm_stage1" : "stage1.mid",
		"filename_fx_bgm_stage2" : "stage2.mid",
		"filename_fx_bgm_stage3" : "stage3.mid",
		"filename_fx_bgm_stage4" : "stage4.mid",
		"filename_fx_bgm_boss" : "boss.mid",
		"filename_fx_bgm_title" : "title.mid",
		"filename_fx_bgm_ending" : "ending.mid",
		"filename_fx_bgm_chizu" : "chizu.mid",
		"variable_sleep_time" : "1",
		"sleep_time_visible" : "0",
		"firebar1_type" : "1",
		"firebar2_type" : "1",
		"dossunsun_type" : "1",
		"mizutaro_attack" : "1",
		"poppie_attack" : "1",
		"mariri_attack" : "1",
		"chikorin_attack" : "1",
		"taiking_attack" : "1",
		"kuragesso_attack" : "1",
		"gazou_scroll_speed_x" : "0",
		"gazou_scroll_speed_y" : "0",
		"mcs_haikei_visible" : "0",
		"pause_switch" : "1",
		"control_parts_visible" : "1",
		"coin1_type" : "1",
		"coin3_type" : "1",
		"dokan1_type" : "1",
		"dokan2_type" : "1",
		"dokan3_type" : "1",
		"dokan4_type" : "1",
		"view_move_type" : "1",
		"j_fire_equip" : "1",
		"j_fire_type" : "1",
		"j_enemy_press" : "1",
		"boss_destroy_type" : "1",
		"boss_hp_max" : "20",
		"j_tail_ap_boss" : "4",
		"boss_name" : "BOSS",
		"boss2_name" : "BOSS",
		"boss3_name" : "BOSS",
		"fs_name" : "ファイヤーボールセレクトの人",
		"serifu7-1" : "好きなファイヤーボールを、３種類から",
		"serifu7-2" : "選んで下さい。私はサービスが良いので、",
		"serifu7-3" : "何度でも選べますよ。",
		"fs_serifu1" : "どのファイヤーボールにしますか？",
		"fs_item_name1" : "バウンド",
		"fs_item_name2" : "ストレート",
		"fs_item_name3" : "ダブル",
		"fs_serifu2" : "を装備しました。",
		"j_add_tokugi" : "1",
		"j_add_tokugi2" : "1",
		"j_add_tokugi3" : "1",
		"j_add_tokugi4" : "1",
		"second_gazou_visible" : "1",
		"filename_second_haikei" : "haikei_second.gif",
		"filename_second_haikei2" : "haikei_second.gif",
		"filename_second_haikei3" : "haikei_second.gif",
		"filename_second_haikei4" : "haikei_second.gif",
		"second_gazou_scroll" : "1",
		"second_gazou_scroll_speed_x" : "0",
		"second_gazou_scroll_speed_y" : "0",
		"second_gazou_scroll_x" : "0",
		"second_gazou_scroll_y" : "0",
		"second_gazou_priority" : "1",
		"gazou_scroll_x" : "0",
		"gazou_scroll_y" : "0",
		"serifu_key1_on_name" : "お姫様",
		"serifu_key1_on-1" : "ここから先へ進むには、",
		"serifu_key1_on-2" : "３つのＫＥＹ１が必要です。",
		"serifu_key1_on-3" : "この世界のどこかに、あるはず。",
		"serifu_key1_on-4" : "ＫＥＹ１を３つ、わたしますか？",
		"serifu_key1_on-5" : "はい",
		"serifu_key1_on-6" : "いいえ",
		"serifu_key1_on-7" : "ＫＥＹ１を３つ、持っていません。",
		"serifu_key1_on-8" : "先へ進む道が、開けました。",
		"serifu_key1_on-9" : "勇者殿、",
		"serifu_key1_on-10" : "お気を付けて。",
		"key1_on_count" : "3",
		"serifu_key2_on_name" : "ザトシ",
		"serifu_key2_on-1" : "３つのＫＥＹ２がないと、",
		"serifu_key2_on-2" : "ここから先へは進めないぜ。",
		"serifu_key2_on-3" : "どこかで見つ付けてくれ。",
		"serifu_key2_on-4" : "ＫＥＹ２を３つ、わたしますか？",
		"serifu_key2_on-5" : "はい",
		"serifu_key2_on-6" : "いいえ",
		"serifu_key2_on-7" : "ＫＥＹ２を３つ、持っていません。",
		"serifu_key2_on-8" : "３つのＫＥＹ２、受け取ったぜ。",
		"serifu_key2_on-9" : "これで、先へ進めるようになったな。",
		"serifu_key2_on-10" : "0",
		"key2_on_count" : "3",
		"water_visible" : "1",
		"water_clear_switch" : "1",
		"water_clear_level" : "128",
		"serifu_grenade_shop_name" : "クリス",
		"serifu_grenade_shop-1" : "グレネード１発を、",
		"serifu_grenade_shop-2" : "２０点で売りますよ。",
		"serifu_grenade_shop-3" : "0",
		"serifu_grenade_shop-4" : "何発にしますか？",
		"serifu_grenade_shop-5" : "得点が、足りません。",
		"serifu_grenade_shop-6" : "グレネードを手に入れた。",
		"grenade_shop_score" : "20",

		"audio_se_switch_wave" : "1",
		"audio_se_switch_mp3" : "1",
		"audio_se_switch_ogg" : "1",
		"audio_bgm_switch_wave" : "2",
		"audio_bgm_switch_mp3" : "1",
		"audio_bgm_switch_ogg" : "1",
	};

	var str2 = "";
	var str3 = "";
	for (var i = 0; i <= 59; i++)
	{
		str2 = str2 + ".";
		str3 = str3 + "..";
	}
	var j;
	var str1;
	for (var k = 0; k <= 2; k++) {
		for (j = 0; j <= 29; j++)
		{
			str1 = "map" + k + "-" + j;
			this.params[str1] = ".";
		}
	}
	for (k = 0; k <= 2; k++) {
		for (j = 0; j <= 29; j++)
		{
			str1 = "map" + k + "-" + j + "-s";
			this.params[str1] = ".";
		}
	}
	for (k = 0; k <= 2; k++) {
		for (j = 0; j <= 29; j++)
		{
			str1 = "map" + k + "-" + j + "-t";
			this.params[str1] = ".";
		}
	}
	for (k = 0; k <= 2; k++) {
		for (j = 0; j <= 29; j++)
		{
			str1 = "map" + k + "-" + j + "-f";
			this.params[str1] = ".";
		}
	}
	for (k = 0; k <= 2; k++) {
		for (j = 0; j <= 29; j++)
		{
			str1 = "layer" + k + "-" + j;
			this.params[str1] = str3;
		}
	}
	for (k = 0; k <= 2; k++) {
		for (j = 0; j <= 29; j++)
		{
			str1 = "layer" + k + "-" + j + "-s";
			this.params[str1] = str3;
		}
	}
	for (k = 0; k <= 2; k++) {
		for (j = 0; j <= 29; j++)
		{
			str1 = "layer" + k + "-" + j + "-t";
			this.params[str1] = str3;
		}
	}
	for (k = 0; k <= 2; k++) {
		for (j = 0; j <= 29; j++)
		{
			str1 = "layer" + k + "-" + j + "-f";
			this.params[str1] = str3;
		}
	}

	this.tag_kazu = this.params.length;
}

TagDataBase.prototype.getValue = function(paramString)
{
	var s = this.params[paramString];
	if ("undefined" !== typeof s) {
		return s;
	}
	console.warn("Error : No param " + paramString);
	return null;
}

TagDataBase.prototype.getValueInt = function(paramString)
{
	var s = this.params[paramString];
	if ("undefined" !== typeof s) {
		var j;
		j = parseInt(s);
		if(isNaN(j))
			j = -1;
		return j;
	}
	console.warn("Error : No param " + paramString);
	return -1;
}

TagDataBase.prototype.setValue = function(paramString1, paramString2)
{
	this.params[paramString1] = paramString2;
	return true;
}

TagDataBase.prototype.setValueFromHTML = function(paramApplet)
{
	for (var name in this.params)
	{
		var str = paramApplet.getParameter(name);
		if (str != null) {
			this.params[name] = str;
		}
	}
	return true;
}

TagDataBase.prototype.setValueStage1 = function()
{
	this.params["map0-0"] = "............................................................";
	this.params["map0-1"] = "............................................................";
	this.params["map0-2"] = "............................................................";
	this.params["map0-3"] = "............................................................";
	this.params["map0-4"] = "............................................................";
	this.params["map0-5"] = "............................................................";
	this.params["map0-6"] = "............................................................";
	this.params["map0-7"] = "............................................................";
	this.params["map0-8"] = "............................................................";
	this.params["map0-9"] = "............................................................";
	this.params["map0-10"] = "............................................................";
	this.params["map0-11"] = "............................................................";
	this.params["map0-12"] = "............................................999.............";
	this.params["map0-13"] = "............................................999.............";
	this.params["map0-14"] = "............................................................";
	this.params["map0-15"] = "............................................aaa.............";
	this.params["map0-16"] = "............................................................";
	this.params["map0-17"] = "............................................................";
	this.params["map0-18"] = "...............................99...........................";
	this.params["map0-19"] = "............................................................";
	this.params["map0-20"] = "............................................................";
	this.params["map0-21"] = "............................................................";
	this.params["map0-22"] = "...12...............12.....9.9...aaa.....aa.aaaaaaaa...12...";
	this.params["map0-23"] = ".............B............aaaaa..............9.aaaaa........";
	this.params["map0-24"] = ".........aaaaa..........................B...aaaaaaaa........";
	this.params["map0-25"] = "....9.9.............................aaaaa...9.9aa999........";
	this.params["map0-26"] = "....aaa...............B.............9.9.9...aaaaaaaa........";
	this.params["map0-27"] = "...........aaaaaa..aaaaaa....................9.aaaaa........";
	this.params["map0-28"] = ".A........aaaaaaa..aaaaaa............D......aaaaaaaa........";
	this.params["map0-29"] = "bbbbbbbbbbbbbbbbb..bbbbbb.bbbbbbbbbbbbbbbbbbbbbbbbbb5bbbbbb.";

	this.params["map1-0"] = "............................................................";
	this.params["map1-1"] = "............................................................";
	this.params["map1-2"] = "............................................................";
	this.params["map1-3"] = "............................................................";
	this.params["map1-4"] = "............................................................";
	this.params["map1-5"] = "............................................................";
	this.params["map1-6"] = "............................................................";
	this.params["map1-7"] = "............................................................";
	this.params["map1-8"] = "............................................................";
	this.params["map1-9"] = "............................................................";
	this.params["map1-10"] = "............................................................";
	this.params["map1-11"] = "............................................................";
	this.params["map1-12"] = "............................................................";
	this.params["map1-13"] = "............................................................";
	this.params["map1-14"] = "............................................................";
	this.params["map1-15"] = "............................................................";
	this.params["map1-16"] = "............................................................";
	this.params["map1-17"] = "............................................................";
	this.params["map1-18"] = "............................................................";
	this.params["map1-19"] = "............................................................";
	this.params["map1-20"] = "............................................................";
	this.params["map1-21"] = "............................................................";
	this.params["map1-22"] = "...12....12.....12.....12....12....12.......................";
	this.params["map1-23"] = "............................................................";
	this.params["map1-24"] = "............................................................";
	this.params["map1-25"] = "...................O........................................";
	this.params["map1-26"] = ".................aaaa...................feef................";
	this.params["map1-27"] = ".............aaaaaaaaaaa................e..e..............E.";
	this.params["map1-28"] = "..........O..aaaaaaaaaaa.O.....O........feefeef..feeeefeeeef";
	this.params["map1-29"] = "..bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb.......e..e..e..e....e....e";

	this.params["map2-0"] = "............................................................";
	this.params["map2-1"] = "............................................................";
	this.params["map2-2"] = "............................................................";
	this.params["map2-3"] = "............................................................";
	this.params["map2-4"] = "............................................................";
	this.params["map2-5"] = "............................................................";
	this.params["map2-6"] = "............................................................";
	this.params["map2-7"] = "............................................................";
	this.params["map2-8"] = "............................................................";
	this.params["map2-9"] = "............................................................";
	this.params["map2-10"] = "............................................................";
	this.params["map2-11"] = "............................................................";
	this.params["map2-12"] = "............................................................";
	this.params["map2-13"] = "............................................................";
	this.params["map2-14"] = "............................................................";
	this.params["map2-15"] = "............................................................";
	this.params["map2-16"] = "............................................................";
	this.params["map2-17"] = "............................................................";
	this.params["map2-18"] = "............................................................";
	this.params["map2-19"] = "............................................................";
	this.params["map2-20"] = "............................................................";
	this.params["map2-21"] = "........................................................8...";
	this.params["map2-22"] = "..................99........12.....12....12....12.......a...";
	this.params["map2-23"] = "..................dd...................................aaa..";
	this.params["map2-24"] = "..e.ef...................9.9.9.9......................aaaaa.";
	this.params["map2-25"] = "..e..e.............................................F.aaaaaaa";
	this.params["map2-26"] = "..e..e.......E..............................aaaaaaaaaaaaaaaa";
	this.params["map2-27"] = "..e..e.feeefeeef..99...................F....aaaaaaaaaaaaaaaa";
	this.params["map2-28"] = "..feef.e...e...e..dd...aaaaaaaaaaaaaaaaaaa..aaaaaaaaaaaaaaaa";
	this.params["map2-29"] = "..e..e.e...e...e.......aaaaaaaaaaaaaaaaaaa..aaaaaaaaaaaaaaaa";
}

TagDataBase.prototype.setValueFromHTMLText = function(paramString)
{
	var str1 = "";
	var arrayOfString1 = new Array(1000);
	var arrayOfString2 = new Array(1000);
	var i = 0;
	for (var m = 0; m <= 999; m++)
	{
		arrayOfString1[m] = null;
		arrayOfString2[m] = null;
	}
	this.initParameter();


	str1 = String(paramString);





	var j = str1.indexOf("<body ");
	if (j < 0) {
		j = str1.indexOf("<BODY ");
	}
	if (j >= 0) {
		str1 = str1.substring(j, str1.length);
	}
	j = str1.indexOf("<applet ");
	if (j < 0) {
		j = str1.indexOf("<APPLET ");
	}
	if (j >= 0) {
		str1 = str1.substring(j, str1.length);
	}
	j = str1.lastIndexOf("</applet>");
	if (j < 0) {
		j = str1.lastIndexOf("</APPLET>");
	}
	if (j >= 0) {
		str1 = str1.substring(0, j + 1 + 8);
	}
	var flag301 = true;
	for (;;)
	{
		j = str1.indexOf("<!--");
		if (j < 0) {
			flag301 = false;
			break;
		}
		var str2 = String(str1.substring(j + 4, str1.length));

		var k = str2.indexOf("-->");
		if (k < 0) {
			break;
		}
		str1 = String(str1.substring(0, j + 1) + str2.substring(k + 3, str2.length));
	}
	if(flag301) str1 = String(str1.substring(0, j + 1));
	var n = 0;
	i = 0;
	for (;;)
	{
		j = str1.indexOf("param");
		if (j < 0) {
			j = str1.indexOf("PARAM");
		}
		if (j < 0) {
			break;
		}
		str1 = String(str1.substring(j + 5, str1.length));


		j = str1.indexOf("name");
		if (j < 0) {
			j = str1.indexOf("NAME");
		}
		if (j < 0) {
			break;
		}
		j = str1.indexOf("=");
		if (j < 0) {
			break;
		}
		str1 = String(str1.substring(j + 1, str1.length));


		j = str1.indexOf("\"");
		if ((j >= 0) && (j <= 7))
		{
			str1 = String(str1.substring(j + 1, str1.length));


			j = str1.indexOf("\"");
			if (j < 0) {
				break;
			}
			arrayOfString1[n] = String(str1.substring(0, j));
		}
		else
		{
			j = str1.indexOf(" ");
			if (j < 0) {
				break;
			}
			if (j == 0)
			{
				str1 = String(str1.substring(1, str1.length));


				j = str1.indexOf(" ");
				if (j < 0) {
					break;
				}
			}
			arrayOfString1[n] = String(str1.substring(0, j));
		}
		j = str1.indexOf("value");
		if (j < 0) {
			j = str1.indexOf("VALUE");
		}
		if (j < 0) {
			break;
		}
		j = str1.indexOf("=");
		if (j < 0) {
			break;
		}
		str1 = String(str1.substring(j + 1, str1.length));


		j = str1.indexOf("\"");
		if ((j >= 0) && (j <= 7))
		{
			str1 = String(str1.substring(j + 1, str1.length));


			j = str1.indexOf("\"");
			if (j < 0) {
				break;
			}
			arrayOfString2[n] = String(str1.substring(0, j));
		}
		else
		{
			j = str1.indexOf(" ");
			if (j < 0) {
				break;
			}
			if (j == 0)
			{
				str1 = str1.substring(1, str1.length);


				j = str1.indexOf(" ");
				if (j < 0) {
					break;
				}
			}
			arrayOfString2[n] = String(str1.substring(0, j));
		}
		n++;
		i++;
	}
	for (m = 0; m < i; m++) {
		setValue(arrayOfString1[m], arrayOfString2[m]);
	}
	return true;
}

function YukaObject()
{
	this.con = 0;
	this.x = 32;
	this.y = 320;
	this.x2 = 32;
	this.y2 = 320;
	this.width = 96;
	this.height = 64;
	this.view_x = 0;
	this.view_y = 0;
	this.x_buff = this.x;
	this.y_buff = this.y;
	this.x2_buff = this.x2;
	this.y2_buff = this.y2;
	this.buff_f = false;
	this.img = null;
	this.color = Color.yellow;
	this.pt = 0;
	this.pth = 0;
	this.draw_f = false;
	this.type = 1;
}

YukaObject.prototype.init = function()
{
	this.con = 0;
	this.x = 32;
	this.y = 320;
	this.x2 = 32;
	this.y2 = 320;
	this.width = 96;
	this.height = 64;
	this.view_x = 0;
	this.view_y = 0;
	this.x_buff = this.x;
	this.y_buff = this.y;
	this.x2_buff = this.x2;
	this.y2_buff = this.y2;
	this.buff_f = false;
	this.img = null;
	this.color = Color.yellow;
	this.pt = 0;
	this.pth = 0;
	this.draw_f = false;
	this.type = 1;
}

YukaObject.prototype.setImage = function(paramImage)
{
	this.img = paramImage;
	return true;
}
	var CanvasMasao = {};
	CanvasMasao.CharacterObject = CharacterObject;
	CanvasMasao.GameGraphicsForApplet = GameGraphicsForApplet;
	CanvasMasao.GameKey = GameKey;
	CanvasMasao.GameMouse = GameMouse;
	CanvasMasao.GameSoundForApplet = GameSoundForApplet;
	CanvasMasao.GameSoundWebAudio = GameSoundWebAudio;
	CanvasMasao.Game = Game;
	CanvasMasao.IdouGamen = IdouGamen;
	CanvasMasao.ImageBuff = ImageBuff;
	CanvasMasao.KeyboardMenu = KeyboardMenu;
	CanvasMasao.MainProgram = MainProgram;
	CanvasMasao.MapSystem = MapSystem;
	CanvasMasao.MasaoConstruction = MasaoConstruction;
	CanvasMasao.TagDataBase = TagDataBase;
	CanvasMasao.YukaObject = YukaObject;
	return CanvasMasao;
}();

var JSMasao = CanvasMasao.Game;
JSMasao.MasaoConstruction = CanvasMasao.MasaoConstruction;
