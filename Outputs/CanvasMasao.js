!function(){"use strict";var t={8257:function(t,i,s){var h=s(9212),e=s(5637),a=TypeError;t.exports=function(t){if(h(t))return t;throw a(e(t)+" is not a function")}},1186:function(t,i,s){var h=s(2097),e=s(5637),a=TypeError;t.exports=function(t){if(h(t))return t;throw a(e(t)+" is not a constructor")}},9882:function(t,i,s){var h=s(9212),e=String,a=TypeError;t.exports=function(t){if("object"==typeof t||h(t))return t;throw a("Can't set "+e(t)+" as a prototype")}},6288:function(t,i,s){var h=s(3649),e=s(3590),a=s(4615).f,c=h("unscopables"),o=Array.prototype;void 0===o[c]&&a(o,c,{configurable:!0,value:e(null)}),t.exports=function(t){o[c][t]=!0}},6733:function(t,i,s){var h=s(6389).charAt;t.exports=function(t,i,s){return i+(s?h(t,i).length:1)}},4761:function(t,i,s){var h=s(2447),e=TypeError;t.exports=function(t,i){if(h(i,t))return t;throw e("Incorrect invocation")}},2569:function(t,i,s){var h=s(794),e=String,a=TypeError;t.exports=function(t){if(h(t))return t;throw a(e(t)+" is not an object")}},3579:function(t,i,s){var h=s(1324),e=s(6782),a=s(1825);t.exports=function(t){for(var i=h(this),s=a(i),c=arguments.length,o=e(c>1?arguments[1]:void 0,s),_=c>2?arguments[2]:void 0,r=void 0===_?s:e(_,s);r>o;)i[o++]=t;return i}},3200:function(t,i,s){var h=s(4805).forEach,e=s(906)("forEach");t.exports=e?[].forEach:function(t){return h(this,t,arguments.length>1?arguments[1]:void 0)}},5513:function(t,i,s){var h=s(2938),e=s(8262),a=s(1324),c=s(5294),o=s(114),_=s(2097),r=s(1825),n=s(5999),m=s(6307),g=s(8272),p=Array;t.exports=function(t){var i=a(t),s=_(this),y=arguments.length,u=y>1?arguments[1]:void 0,d=void 0!==u;d&&(u=h(u,y>2?arguments[2]:void 0));var j,f,l,v,x,k,w=g(i),b=0;if(!w||this===p&&o(w))for(j=r(i),f=s?new this(j):p(j);j>b;b++)k=d?u(i[b],b):i[b],n(f,b,k);else for(x=(v=m(i,w)).next,f=s?new this:[];!(l=e(x,v)).done;b++)k=d?c(v,u,[l.value,b],!0):l.value,n(f,b,k);return f.length=b,f}},5766:function(t,i,s){var h=s(2977),e=s(6782),a=s(1825),c=function(t){return function(i,s,c){var o,_=h(i),r=a(_),n=e(c,r);if(t&&s!=s){for(;r>n;)if((o=_[n++])!=o)return!0}else for(;r>n;n++)if((t||n in _)&&_[n]===s)return t||n||0;return!t&&-1}};t.exports={includes:c(!0),indexOf:c(!1)}},4805:function(t,i,s){var h=s(2938),e=s(7386),a=s(5044),c=s(1324),o=s(1825),_=s(4822),r=e([].push),n=function(t){var i=1===t,s=2===t,e=3===t,n=4===t,m=6===t,g=7===t,p=5===t||m;return function(y,u,d,j){for(var f,l,v=c(y),x=a(v),k=h(u,d),w=o(x),b=0,S=j||_,M=i?S(y,w):s||g?S(y,0):void 0;w>b;b++)if((p||b in x)&&(l=k(f=x[b],b,v),t))if(i)M[b]=l;else if(l)switch(t){case 3:return!0;case 5:return f;case 6:return b;case 2:r(M,f)}else switch(t){case 4:return!1;case 7:r(M,f)}return m?-1:e||n?n:M}};t.exports={forEach:n(0),map:n(1),filter:n(2),some:n(3),every:n(4),find:n(5),findIndex:n(6),filterReject:n(7)}},9269:function(t,i,s){var h=s(6544),e=s(3649),a=s(4061),c=e("species");t.exports=function(t){return a>=51||!h((function(){var i=[];return(i.constructor={})[c]=function(){return{foo:1}},1!==i[t](Boolean).foo}))}},906:function(t,i,s){var h=s(6544);t.exports=function(t,i){var s=[][t];return!!s&&h((function(){s.call(null,i||function(){return 1},1)}))}},4546:function(t,i,s){var h=s(6782),e=s(1825),a=s(5999),c=Array,o=Math.max;t.exports=function(t,i,s){for(var _=e(t),r=h(i,_),n=h(void 0===s?_:s,_),m=c(o(n-r,0)),g=0;r<n;r++,g++)a(m,g,t[r]);return m.length=g,m}},6917:function(t,i,s){var h=s(7386);t.exports=h([].slice)},5289:function(t,i,s){var h=s(4521),e=s(2097),a=s(794),c=s(3649)("species"),o=Array;t.exports=function(t){var i;return h(t)&&(i=t.constructor,(e(i)&&(i===o||h(i.prototype))||a(i)&&null===(i=i[c]))&&(i=void 0)),void 0===i?o:i}},4822:function(t,i,s){var h=s(5289);t.exports=function(t,i){return new(h(t))(0===i?0:i)}},5294:function(t,i,s){var h=s(2569),e=s(7093);t.exports=function(t,i,s,a){try{return a?i(h(s)[0],s[1]):i(s)}catch(i){e(t,"throw",i)}}},3616:function(t,i,s){var h=s(3649)("iterator"),e=!1;try{var a=0,c={next:function(){return{done:!!a++}},return:function(){e=!0}};c[h]=function(){return this},Array.from(c,(function(){throw 2}))}catch(t){}t.exports=function(t,i){try{if(!i&&!e)return!1}catch(t){return!1}var s=!1;try{var a={};a[h]=function(){return{next:function(){return{done:s=!0}}}},t(a)}catch(t){}return s}},9624:function(t,i,s){var h=s(7386),e=h({}.toString),a=h("".slice);t.exports=function(t){return a(e(t),8,-1)}},3058:function(t,i,s){var h=s(8191),e=s(9212),a=s(9624),c=s(3649)("toStringTag"),o=Object,_="Arguments"===a(function(){return arguments}());t.exports=h?a:function(t){var i,s,h;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(s=function(t,i){try{return t[i]}catch(t){}}(i=o(t),c))?s:_?a(i):"Object"===(h=a(i))&&e(i.callee)?"Arguments":h}},3478:function(t,i,s){var h=s(2870),e=s(929),a=s(6683),c=s(4615);t.exports=function(t,i,s){for(var o=e(i),_=c.f,r=a.f,n=0;n<o.length;n++){var m=o[n];h(t,m)||s&&h(s,m)||_(t,m,r(i,m))}}},926:function(t,i,s){var h=s(6544);t.exports=!h((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},1002:function(t){t.exports=function(t,i){return{value:t,done:i}}},57:function(t,i,s){var h=s(8494),e=s(4615),a=s(4677);t.exports=h?function(t,i,s){return e.f(t,i,a(1,s))}:function(t,i,s){return t[i]=s,t}},4677:function(t){t.exports=function(t,i){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:i}}},5999:function(t,i,s){var h=s(8734),e=s(4615),a=s(4677);t.exports=function(t,i,s){var c=h(i);c in t?e.f(t,c,a(0,s)):t[c]=s}},307:function(t,i,s){var h=s(2569),e=s(6252),a=TypeError;t.exports=function(t){if(h(this),"string"===t||"default"===t)t="string";else if("number"!==t)throw a("Incorrect hint");return e(this,t)}},2499:function(t,i,s){var h=s(9594),e=s(4615);t.exports=function(t,i,s){return s.get&&h(s.get,i,{getter:!0}),s.set&&h(s.set,i,{setter:!0}),e.f(t,i,s)}},3746:function(t,i,s){var h=s(9212),e=s(4615),a=s(9594),c=s(2296);t.exports=function(t,i,s,o){o||(o={});var _=o.enumerable,r=void 0!==o.name?o.name:i;if(h(s)&&a(s,r,o),o.global)_?t[i]=s:c(i,s);else{try{o.unsafe?t[i]&&(_=!0):delete t[i]}catch(t){}_?t[i]=s:e.f(t,i,{value:s,enumerable:!1,configurable:!o.nonConfigurable,writable:!o.nonWritable})}return t}},2296:function(t,i,s){var h=s(7583),e=Object.defineProperty;t.exports=function(t,i){try{e(h,t,{value:i,configurable:!0,writable:!0})}catch(s){h[t]=i}return i}},8494:function(t,i,s){var h=s(6544);t.exports=!h((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))},2952:function(t){var i="object"==typeof document&&document.all,s=void 0===i&&void 0!==i;t.exports={all:i,IS_HTMLDDA:s}},6668:function(t,i,s){var h=s(7583),e=s(794),a=h.document,c=e(a)&&e(a.createElement);t.exports=function(t){return c?a.createElement(t):{}}},6768:function(t){var i=TypeError;t.exports=function(t){if(t>9007199254740991)throw i("Maximum allowed index exceeded");return t}},6778:function(t){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},9307:function(t,i,s){var h=s(6668)("span").classList,e=h&&h.constructor&&h.constructor.prototype;t.exports=e===Object.prototype?void 0:e},2274:function(t,i,s){var h=s(733),e=s(5354);t.exports=!h&&!e&&"object"==typeof window&&"object"==typeof document},733:function(t){t.exports="object"==typeof Deno&&Deno&&"object"==typeof Deno.version},3256:function(t,i,s){var h=s(6918);t.exports=/ipad|iphone|ipod/i.test(h)&&"undefined"!=typeof Pebble},7020:function(t,i,s){var h=s(6918);t.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(h)},5354:function(t,i,s){var h=s(7583),e=s(9624);t.exports="process"===e(h.process)},6846:function(t,i,s){var h=s(6918);t.exports=/web0s(?!.*chrome)/i.test(h)},6918:function(t){t.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""},4061:function(t,i,s){var h,e,a=s(7583),c=s(6918),o=a.process,_=a.Deno,r=o&&o.versions||_&&_.version,n=r&&r.v8;n&&(e=(h=n.split("."))[0]>0&&h[0]<4?1:+(h[0]+h[1])),!e&&c&&(!(h=c.match(/Edge\/(\d+)/))||h[1]>=74)&&(h=c.match(/Chrome\/(\d+)/))&&(e=+h[1]),t.exports=e},5690:function(t){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},7263:function(t,i,s){var h=s(7583),e=s(6683).f,a=s(57),c=s(3746),o=s(2296),_=s(3478),r=s(4451);t.exports=function(t,i){var s,n,m,g,p,y=t.target,u=t.global,d=t.stat;if(s=u?h:d?h[y]||o(y,{}):(h[y]||{}).prototype)for(n in i){if(g=i[n],m=t.dontCallGetSet?(p=e(s,n))&&p.value:s[n],!r(u?n:y+(d?".":"#")+n,t.forced)&&void 0!==m){if(typeof g==typeof m)continue;_(g,m)}(t.sham||m&&m.sham)&&a(g,"sham",!0),c(s,n,g,t)}}},6544:function(t){t.exports=function(t){try{return!!t()}catch(t){return!0}}},783:function(t,i,s){s(2322);var h=s(6887),e=s(3746),a=s(8445),c=s(6544),o=s(3649),_=s(57),r=o("species"),n=RegExp.prototype;t.exports=function(t,i,s,m){var g=o(t),p=!c((function(){var i={};return i[g]=function(){return 7},7!==""[t](i)})),y=p&&!c((function(){var i=!1,s=/a/;return"split"===t&&((s={}).constructor={},s.constructor[r]=function(){return s},s.flags="",s[g]=/./[g]),s.exec=function(){return i=!0,null},s[g](""),!i}));if(!p||!y||s){var u=h(/./[g]),d=i(g,""[t],(function(t,i,s,e,c){var o=h(t),_=i.exec;return _===a||_===n.exec?p&&!c?{done:!0,value:u(i,s,e)}:{done:!0,value:o(s,i,e)}:{done:!1}}));e(String.prototype,t,d[0]),e(n,g,d[1])}m&&_(n[g],"sham",!0)}},1611:function(t,i,s){var h=s(8987),e=Function.prototype,a=e.apply,c=e.call;t.exports="object"==typeof Reflect&&Reflect.apply||(h?c.bind(a):function(){return c.apply(a,arguments)})},2938:function(t,i,s){var h=s(6887),e=s(8257),a=s(8987),c=h(h.bind);t.exports=function(t,i){return e(t),void 0===i?t:a?c(t,i):function(){return t.apply(i,arguments)}}},8987:function(t,i,s){var h=s(6544);t.exports=!h((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}))},1335:function(t,i,s){var h=s(7386),e=s(8257),a=s(794),c=s(2870),o=s(6917),_=s(8987),r=Function,n=h([].concat),m=h([].join),g={};t.exports=_?r.bind:function(t){var i=e(this),s=i.prototype,h=o(arguments,1),_=function(){var s=n(h,o(arguments));return this instanceof _?function(t,i,s){if(!c(g,i)){for(var h=[],e=0;e<i;e++)h[e]="a["+e+"]";g[i]=r("C,a","return new C("+m(h,",")+")")}return g[i](t,s)}(i,s.length,s):i.apply(t,s)};return a(s)&&(_.prototype=s),_}},8262:function(t,i,s){var h=s(8987),e=Function.prototype.call;t.exports=h?e.bind(e):function(){return e.apply(e,arguments)}},4340:function(t,i,s){var h=s(8494),e=s(2870),a=Function.prototype,c=h&&Object.getOwnPropertyDescriptor,o=e(a,"name"),_=o&&"something"===function(){}.name,r=o&&(!h||h&&c(a,"name").configurable);t.exports={EXISTS:o,PROPER:_,CONFIGURABLE:r}},4523:function(t,i,s){var h=s(7386),e=s(8257);t.exports=function(t,i,s){try{return h(e(Object.getOwnPropertyDescriptor(t,i)[s]))}catch(t){}}},6887:function(t,i,s){var h=s(9624),e=s(7386);t.exports=function(t){if("Function"===h(t))return e(t)}},7386:function(t,i,s){var h=s(8987),e=Function.prototype,a=e.call,c=h&&e.bind.bind(a,a);t.exports=h?c:function(t){return function(){return a.apply(t,arguments)}}},5897:function(t,i,s){var h=s(7583),e=s(9212);t.exports=function(t,i){return arguments.length<2?(s=h[t],e(s)?s:void 0):h[t]&&h[t][i];var s}},8272:function(t,i,s){var h=s(3058),e=s(911),a=s(8505),c=s(339),o=s(3649)("iterator");t.exports=function(t){if(!a(t))return e(t,o)||e(t,"@@iterator")||c[h(t)]}},6307:function(t,i,s){var h=s(8262),e=s(8257),a=s(2569),c=s(5637),o=s(8272),_=TypeError;t.exports=function(t,i){var s=arguments.length<2?o(t):i;if(e(s))return a(h(s,t));throw _(c(t)+" is not iterable")}},2627:function(t,i,s){var h=s(7386),e=s(4521),a=s(9212),c=s(9624),o=s(8320),_=h([].push);t.exports=function(t){if(a(t))return t;if(e(t)){for(var i=t.length,s=[],h=0;h<i;h++){var r=t[h];"string"==typeof r?_(s,r):"number"!=typeof r&&"Number"!==c(r)&&"String"!==c(r)||_(s,o(r))}var n=s.length,m=!0;return function(t,i){if(m)return m=!1,i;if(e(this))return i;for(var h=0;h<n;h++)if(s[h]===t)return i}}}},911:function(t,i,s){var h=s(8257),e=s(8505);t.exports=function(t,i){var s=t[i];return e(s)?void 0:h(s)}},7583:function(t,i,s){var h=function(t){return t&&t.Math===Math&&t};t.exports=h("object"==typeof globalThis&&globalThis)||h("object"==typeof window&&window)||h("object"==typeof self&&self)||h("object"==typeof s.g&&s.g)||function(){return this}()||this||Function("return this")()},2870:function(t,i,s){var h=s(7386),e=s(1324),a=h({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,i){return a(e(t),i)}},4639:function(t){t.exports={}},2716:function(t){t.exports=function(t,i){try{1===arguments.length?console.error(t):console.error(t,i)}catch(t){}}},482:function(t,i,s){var h=s(5897);t.exports=h("document","documentElement")},275:function(t,i,s){var h=s(8494),e=s(6544),a=s(6668);t.exports=!h&&!e((function(){return 7!==Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a}))},5044:function(t,i,s){var h=s(7386),e=s(6544),a=s(9624),c=Object,o=h("".split);t.exports=e((function(){return!c("z").propertyIsEnumerable(0)}))?function(t){return"String"===a(t)?o(t,""):c(t)}:c},434:function(t,i,s){var h=s(9212),e=s(794),a=s(7496);t.exports=function(t,i,s){var c,o;return a&&h(c=i.constructor)&&c!==s&&e(o=c.prototype)&&o!==s.prototype&&a(t,o),t}},9734:function(t,i,s){var h=s(7386),e=s(9212),a=s(1314),c=h(Function.toString);e(a.inspectSource)||(a.inspectSource=function(t){return c(t)}),t.exports=a.inspectSource},2743:function(t,i,s){var h,e,a,c=s(5307),o=s(7583),_=s(794),r=s(57),n=s(2870),m=s(1314),g=s(9137),p=s(4639),y="Object already initialized",u=o.TypeError,d=o.WeakMap;if(c||m.state){var j=m.state||(m.state=new d);j.get=j.get,j.has=j.has,j.set=j.set,h=function(t,i){if(j.has(t))throw u(y);return i.facade=t,j.set(t,i),i},e=function(t){return j.get(t)||{}},a=function(t){return j.has(t)}}else{var f=g("state");p[f]=!0,h=function(t,i){if(n(t,f))throw u(y);return i.facade=t,r(t,f,i),i},e=function(t){return n(t,f)?t[f]:{}},a=function(t){return n(t,f)}}t.exports={set:h,get:e,has:a,enforce:function(t){return a(t)?e(t):h(t,{})},getterFor:function(t){return function(i){var s;if(!_(i)||(s=e(i)).type!==t)throw u("Incompatible receiver, "+t+" required");return s}}}},114:function(t,i,s){var h=s(3649),e=s(339),a=h("iterator"),c=Array.prototype;t.exports=function(t){return void 0!==t&&(e.Array===t||c[a]===t)}},4521:function(t,i,s){var h=s(9624);t.exports=Array.isArray||function(t){return"Array"===h(t)}},9212:function(t,i,s){var h=s(2952),e=h.all;t.exports=h.IS_HTMLDDA?function(t){return"function"==typeof t||t===e}:function(t){return"function"==typeof t}},2097:function(t,i,s){var h=s(7386),e=s(6544),a=s(9212),c=s(3058),o=s(5897),_=s(9734),r=function(){},n=[],m=o("Reflect","construct"),g=/^\s*(?:class|function)\b/,p=h(g.exec),y=!g.exec(r),u=function(t){if(!a(t))return!1;try{return m(r,n,t),!0}catch(t){return!1}},d=function(t){if(!a(t))return!1;switch(c(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return y||!!p(g,_(t))}catch(t){return!0}};d.sham=!0,t.exports=!m||e((function(){var t;return u(u.call)||!u(Object)||!u((function(){t=!0}))||t}))?d:u},4451:function(t,i,s){var h=s(6544),e=s(9212),a=/#|\.prototype\./,c=function(t,i){var s=_[o(t)];return s===n||s!==r&&(e(i)?h(i):!!i)},o=c.normalize=function(t){return String(t).replace(a,".").toLowerCase()},_=c.data={},r=c.NATIVE="N",n=c.POLYFILL="P";t.exports=c},8505:function(t){t.exports=function(t){return null==t}},794:function(t,i,s){var h=s(9212),e=s(2952),a=e.all;t.exports=e.IS_HTMLDDA?function(t){return"object"==typeof t?null!==t:h(t)||t===a}:function(t){return"object"==typeof t?null!==t:h(t)}},6268:function(t){t.exports=!1},7574:function(t,i,s){var h=s(794),e=s(9624),a=s(3649)("match");t.exports=function(t){var i;return h(t)&&(void 0!==(i=t[a])?!!i:"RegExp"===e(t))}},5871:function(t,i,s){var h=s(5897),e=s(9212),a=s(2447),c=s(7786),o=Object;t.exports=c?function(t){return"symbol"==typeof t}:function(t){var i=h("Symbol");return e(i)&&a(i.prototype,o(t))}},4026:function(t,i,s){var h=s(2938),e=s(8262),a=s(2569),c=s(5637),o=s(114),_=s(1825),r=s(2447),n=s(6307),m=s(8272),g=s(7093),p=TypeError,y=function(t,i){this.stopped=t,this.result=i},u=y.prototype;t.exports=function(t,i,s){var d,j,f,l,v,x,k,w=s&&s.that,b=!(!s||!s.AS_ENTRIES),S=!(!s||!s.IS_RECORD),M=!(!s||!s.IS_ITERATOR),C=!(!s||!s.INTERRUPTED),I=h(i,w),B=function(t){return d&&g(d,"normal",t),new y(!0,t)},G=function(t){return b?(a(t),C?I(t[0],t[1],B):I(t[0],t[1])):C?I(t,B):I(t)};if(S)d=t.iterator;else if(M)d=t;else{if(!(j=m(t)))throw p(c(t)+" is not iterable");if(o(j)){for(f=0,l=_(t);l>f;f++)if((v=G(t[f]))&&r(u,v))return v;return new y(!1)}d=n(t,j)}for(x=S?t.next:d.next;!(k=e(x,d)).done;){try{v=G(k.value)}catch(t){g(d,"throw",t)}if("object"==typeof v&&v&&r(u,v))return v}return new y(!1)}},7093:function(t,i,s){var h=s(8262),e=s(2569),a=s(911);t.exports=function(t,i,s){var c,o;e(t);try{if(!(c=a(t,"return"))){if("throw"===i)throw s;return s}c=h(c,t)}catch(t){o=!0,c=t}if("throw"===i)throw s;if(o)throw c;return e(c),s}},3098:function(t,i,s){var h=s(2365).IteratorPrototype,e=s(3590),a=s(4677),c=s(8821),o=s(339),_=function(){return this};t.exports=function(t,i,s,r){var n=i+" Iterator";return t.prototype=e(h,{next:a(+!r,s)}),c(t,n,!1,!0),o[n]=_,t}},59:function(t,i,s){var h=s(7263),e=s(8262),a=s(6268),c=s(4340),o=s(9212),_=s(3098),r=s(729),n=s(7496),m=s(8821),g=s(57),p=s(3746),y=s(3649),u=s(339),d=s(2365),j=c.PROPER,f=c.CONFIGURABLE,l=d.IteratorPrototype,v=d.BUGGY_SAFARI_ITERATORS,x=y("iterator"),k="keys",w="values",b="entries",S=function(){return this};t.exports=function(t,i,s,c,y,d,M){_(s,i,c);var C,I,B,G=function(t){if(t===y&&O)return O;if(!v&&t&&t in P)return P[t];switch(t){case k:case w:case b:return function(){return new s(this,t)}}return function(){return new s(this)}},z=i+" Iterator",A=!1,P=t.prototype,N=P[x]||P["@@iterator"]||y&&P[y],O=!v&&N||G(y),Y="Array"===i&&P.entries||N;if(Y&&(C=r(Y.call(new t)))!==Object.prototype&&C.next&&(a||r(C)===l||(n?n(C,l):o(C[x])||p(C,x,S)),m(C,z,!0,!0),a&&(u[z]=S)),j&&y===w&&N&&N.name!==w&&(!a&&f?g(P,"name",w):(A=!0,O=function(){return e(N,this)})),y)if(I={values:G(w),keys:d?O:G(k),entries:G(b)},M)for(B in I)(v||A||!(B in P))&&p(P,B,I[B]);else h({target:i,proto:!0,forced:v||A},I);return a&&!M||P[x]===O||p(P,x,O,{name:y}),u[i]=O,I}},2365:function(t,i,s){var h,e,a,c=s(6544),o=s(9212),_=s(794),r=s(3590),n=s(729),m=s(3746),g=s(3649),p=s(6268),y=g("iterator"),u=!1;[].keys&&("next"in(a=[].keys())?(e=n(n(a)))!==Object.prototype&&(h=e):u=!0),!_(h)||c((function(){var t={};return h[y].call(t)!==t}))?h={}:p&&(h=r(h)),o(h[y])||m(h,y,(function(){return this})),t.exports={IteratorPrototype:h,BUGGY_SAFARI_ITERATORS:u}},339:function(t){t.exports={}},1825:function(t,i,s){var h=s(97);t.exports=function(t){return h(t.length)}},9594:function(t,i,s){var h=s(7386),e=s(6544),a=s(9212),c=s(2870),o=s(8494),_=s(4340).CONFIGURABLE,r=s(9734),n=s(2743),m=n.enforce,g=n.get,p=String,y=Object.defineProperty,u=h("".slice),d=h("".replace),j=h([].join),f=o&&!e((function(){return 8!==y((function(){}),"length",{value:8}).length})),l=String(String).split("String"),v=t.exports=function(t,i,s){"Symbol("===u(p(i),0,7)&&(i="["+d(p(i),/^Symbol\(([^)]*)\)/,"$1")+"]"),s&&s.getter&&(i="get "+i),s&&s.setter&&(i="set "+i),(!c(t,"name")||_&&t.name!==i)&&(o?y(t,"name",{value:i,configurable:!0}):t.name=i),f&&s&&c(s,"arity")&&t.length!==s.arity&&y(t,"length",{value:s.arity});try{s&&c(s,"constructor")&&s.constructor?o&&y(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(t){}var h=m(t);return c(h,"source")||(h.source=j(l,"string"==typeof i?i:"")),t};Function.prototype.toString=v((function(){return a(this)&&g(this).source||r(this)}),"toString")},9021:function(t){var i=Math.ceil,s=Math.floor;t.exports=Math.trunc||function(t){var h=+t;return(h>0?s:i)(h)}},2095:function(t,i,s){var h,e,a,c,o,_=s(7583),r=s(2938),n=s(6683).f,m=s(8117).set,g=s(2723),p=s(7020),y=s(3256),u=s(6846),d=s(5354),j=_.MutationObserver||_.WebKitMutationObserver,f=_.document,l=_.process,v=_.Promise,x=n(_,"queueMicrotask"),k=x&&x.value;if(!k){var w=new g,b=function(){var t,i;for(d&&(t=l.domain)&&t.exit();i=w.get();)try{i()}catch(t){throw w.head&&h(),t}t&&t.enter()};p||d||u||!j||!f?!y&&v&&v.resolve?((c=v.resolve(void 0)).constructor=v,o=r(c.then,c),h=function(){o(b)}):d?h=function(){l.nextTick(b)}:(m=r(m,_),h=function(){m(b)}):(e=!0,a=f.createTextNode(""),new j(b).observe(a,{characterData:!0}),h=function(){a.data=e=!e}),k=function(t){w.head||h(),w.add(t)}}t.exports=k},5084:function(t,i,s){var h=s(8257),e=TypeError,a=function(t){var i,s;this.promise=new t((function(t,h){if(void 0!==i||void 0!==s)throw e("Bad Promise constructor");i=t,s=h})),this.resolve=h(i),this.reject=h(s)};t.exports.f=function(t){return new a(t)}},9304:function(t,i,s){var h=s(8494),e=s(7386),a=s(8262),c=s(6544),o=s(5432),_=s(4012),r=s(112),n=s(1324),m=s(5044),g=Object.assign,p=Object.defineProperty,y=e([].concat);t.exports=!g||c((function(){if(h&&1!==g({b:1},g(p({},"a",{enumerable:!0,get:function(){p(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},i={},s=Symbol("assign detection"),e="abcdefghijklmnopqrst";return t[s]=7,e.split("").forEach((function(t){i[t]=t})),7!==g({},t)[s]||o(g({},i)).join("")!==e}))?function(t,i){for(var s=n(t),e=arguments.length,c=1,g=_.f,p=r.f;e>c;)for(var u,d=m(arguments[c++]),j=g?y(o(d),g(d)):o(d),f=j.length,l=0;f>l;)u=j[l++],h&&!a(p,d,u)||(s[u]=d[u]);return s}:g},3590:function(t,i,s){var h,e=s(2569),a=s(8728),c=s(5690),o=s(4639),_=s(482),r=s(6668),n=s(9137),m="prototype",g="script",p=n("IE_PROTO"),y=function(){},u=function(t){return"<"+g+">"+t+"</"+g+">"},d=function(t){t.write(u("")),t.close();var i=t.parentWindow.Object;return t=null,i},j=function(){try{h=new ActiveXObject("htmlfile")}catch(t){}var t,i,s;j="undefined"!=typeof document?document.domain&&h?d(h):(i=r("iframe"),s="java"+g+":",i.style.display="none",_.appendChild(i),i.src=String(s),(t=i.contentWindow.document).open(),t.write(u("document.F=Object")),t.close(),t.F):d(h);for(var e=c.length;e--;)delete j[m][c[e]];return j()};o[p]=!0,t.exports=Object.create||function(t,i){var s;return null!==t?(y[m]=e(t),s=new y,y[m]=null,s[p]=t):s=j(),void 0===i?s:a.f(s,i)}},8728:function(t,i,s){var h=s(8494),e=s(7670),a=s(4615),c=s(2569),o=s(2977),_=s(5432);i.f=h&&!e?Object.defineProperties:function(t,i){c(t);for(var s,h=o(i),e=_(i),r=e.length,n=0;r>n;)a.f(t,s=e[n++],h[s]);return t}},4615:function(t,i,s){var h=s(8494),e=s(275),a=s(7670),c=s(2569),o=s(8734),_=TypeError,r=Object.defineProperty,n=Object.getOwnPropertyDescriptor,m="enumerable",g="configurable",p="writable";i.f=h?a?function(t,i,s){if(c(t),i=o(i),c(s),"function"==typeof t&&"prototype"===i&&"value"in s&&p in s&&!s[p]){var h=n(t,i);h&&h[p]&&(t[i]=s.value,s={configurable:g in s?s[g]:h[g],enumerable:m in s?s[m]:h[m],writable:!1})}return r(t,i,s)}:r:function(t,i,s){if(c(t),i=o(i),c(s),e)try{return r(t,i,s)}catch(t){}if("get"in s||"set"in s)throw _("Accessors not supported");return"value"in s&&(t[i]=s.value),t}},6683:function(t,i,s){var h=s(8494),e=s(8262),a=s(112),c=s(4677),o=s(2977),_=s(8734),r=s(2870),n=s(275),m=Object.getOwnPropertyDescriptor;i.f=h?m:function(t,i){if(t=o(t),i=_(i),n)try{return m(t,i)}catch(t){}if(r(t,i))return c(!e(a.f,t,i),t[i])}},3130:function(t,i,s){var h=s(9624),e=s(2977),a=s(9275).f,c=s(4546),o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return o&&"Window"===h(t)?function(t){try{return a(t)}catch(t){return c(o)}}(t):a(e(t))}},9275:function(t,i,s){var h=s(8356),e=s(5690).concat("length","prototype");i.f=Object.getOwnPropertyNames||function(t){return h(t,e)}},4012:function(t,i){i.f=Object.getOwnPropertySymbols},729:function(t,i,s){var h=s(2870),e=s(9212),a=s(1324),c=s(9137),o=s(926),_=c("IE_PROTO"),r=Object,n=r.prototype;t.exports=o?r.getPrototypeOf:function(t){var i=a(t);if(h(i,_))return i[_];var s=i.constructor;return e(s)&&i instanceof s?s.prototype:i instanceof r?n:null}},2447:function(t,i,s){var h=s(7386);t.exports=h({}.isPrototypeOf)},8356:function(t,i,s){var h=s(7386),e=s(2870),a=s(2977),c=s(5766).indexOf,o=s(4639),_=h([].push);t.exports=function(t,i){var s,h=a(t),r=0,n=[];for(s in h)!e(o,s)&&e(h,s)&&_(n,s);for(;i.length>r;)e(h,s=i[r++])&&(~c(n,s)||_(n,s));return n}},5432:function(t,i,s){var h=s(8356),e=s(5690);t.exports=Object.keys||function(t){return h(t,e)}},112:function(t,i){var s={}.propertyIsEnumerable,h=Object.getOwnPropertyDescriptor,e=h&&!s.call({1:2},1);i.f=e?function(t){var i=h(this,t);return!!i&&i.enumerable}:s},7496:function(t,i,s){var h=s(4523),e=s(2569),a=s(9882);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,i=!1,s={};try{(t=h(Object.prototype,"__proto__","set"))(s,[]),i=s instanceof Array}catch(t){}return function(s,h){return e(s),a(h),i?t(s,h):s.__proto__=h,s}}():void 0)},3060:function(t,i,s){var h=s(8191),e=s(3058);t.exports=h?{}.toString:function(){return"[object "+e(this)+"]"}},6252:function(t,i,s){var h=s(8262),e=s(9212),a=s(794),c=TypeError;t.exports=function(t,i){var s,o;if("string"===i&&e(s=t.toString)&&!a(o=h(s,t)))return o;if(e(s=t.valueOf)&&!a(o=h(s,t)))return o;if("string"!==i&&e(s=t.toString)&&!a(o=h(s,t)))return o;throw c("Can't convert object to primitive value")}},929:function(t,i,s){var h=s(5897),e=s(7386),a=s(9275),c=s(4012),o=s(2569),_=e([].concat);t.exports=h("Reflect","ownKeys")||function(t){var i=a.f(o(t)),s=c.f;return s?_(i,s(t)):i}},1287:function(t,i,s){var h=s(7583);t.exports=h},544:function(t){t.exports=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}}},190:function(t,i,s){var h=s(7583),e=s(4282),a=s(9212),c=s(4451),o=s(9734),_=s(3649),r=s(2274),n=s(733),m=s(6268),g=s(4061),p=e&&e.prototype,y=_("species"),u=!1,d=a(h.PromiseRejectionEvent),j=c("Promise",(function(){var t=o(e),i=t!==String(e);if(!i&&66===g)return!0;if(m&&(!p.catch||!p.finally))return!0;if(!g||g<51||!/native code/.test(t)){var s=new e((function(t){t(1)})),h=function(t){t((function(){}),(function(){}))};if((s.constructor={})[y]=h,!(u=s.then((function(){}))instanceof h))return!0}return!i&&(r||n)&&!d}));t.exports={CONSTRUCTOR:j,REJECTION_EVENT:d,SUBCLASSING:u}},4282:function(t,i,s){var h=s(7583);t.exports=h.Promise},5732:function(t,i,s){var h=s(2569),e=s(794),a=s(5084);t.exports=function(t,i){if(h(t),e(i)&&i.constructor===t)return i;var s=a.f(t);return(0,s.resolve)(i),s.promise}},409:function(t,i,s){var h=s(4282),e=s(3616),a=s(190).CONSTRUCTOR;t.exports=a||!e((function(t){h.all(t).then(void 0,(function(){}))}))},2723:function(t){var i=function(){this.head=null,this.tail=null};i.prototype={add:function(t){var i={item:t,next:null},s=this.tail;s?s.next=i:this.head=i,this.tail=i},get:function(){var t=this.head;if(t)return null===(this.head=t.next)&&(this.tail=null),t.item}},t.exports=i},4214:function(t,i,s){var h=s(8262),e=s(2569),a=s(9212),c=s(9624),o=s(8445),_=TypeError;t.exports=function(t,i){var s=t.exec;if(a(s)){var r=h(s,t,i);return null!==r&&e(r),r}if("RegExp"===c(t))return h(o,t,i);throw _("RegExp#exec called on incompatible receiver")}},8445:function(t,i,s){var h,e,a=s(8262),c=s(7386),o=s(8320),_=s(1118),r=s(5230),n=s(7836),m=s(3590),g=s(2743).get,p=s(4121),y=s(1712),u=n("native-string-replace",String.prototype.replace),d=RegExp.prototype.exec,j=d,f=c("".charAt),l=c("".indexOf),v=c("".replace),x=c("".slice),k=(e=/b*/g,a(d,h=/a/,"a"),a(d,e,"a"),0!==h.lastIndex||0!==e.lastIndex),w=r.BROKEN_CARET,b=void 0!==/()??/.exec("")[1];(k||b||w||p||y)&&(j=function(t){var i,s,h,e,c,r,n,p=this,y=g(p),S=o(t),M=y.raw;if(M)return M.lastIndex=p.lastIndex,i=a(j,M,S),p.lastIndex=M.lastIndex,i;var C=y.groups,I=w&&p.sticky,B=a(_,p),G=p.source,z=0,A=S;if(I&&(B=v(B,"y",""),-1===l(B,"g")&&(B+="g"),A=x(S,p.lastIndex),p.lastIndex>0&&(!p.multiline||p.multiline&&"\n"!==f(S,p.lastIndex-1))&&(G="(?: "+G+")",A=" "+A,z++),s=new RegExp("^(?:"+G+")",B)),b&&(s=new RegExp("^"+G+"$(?!\\s)",B)),k&&(h=p.lastIndex),e=a(d,I?s:p,A),I?e?(e.input=x(e.input,z),e[0]=x(e[0],z),e.index=p.lastIndex,p.lastIndex+=e[0].length):p.lastIndex=0:k&&e&&(p.lastIndex=p.global?e.index+e[0].length:h),b&&e&&e.length>1&&a(u,e[0],s,(function(){for(c=1;c<arguments.length-2;c++)void 0===arguments[c]&&(e[c]=void 0)})),e&&C)for(e.groups=r=m(null),c=0;c<C.length;c++)r[(n=C[c])[0]]=e[n[1]];return e}),t.exports=j},1118:function(t,i,s){var h=s(2569);t.exports=function(){var t=h(this),i="";return t.hasIndices&&(i+="d"),t.global&&(i+="g"),t.ignoreCase&&(i+="i"),t.multiline&&(i+="m"),t.dotAll&&(i+="s"),t.unicode&&(i+="u"),t.unicodeSets&&(i+="v"),t.sticky&&(i+="y"),i}},640:function(t,i,s){var h=s(8262),e=s(2870),a=s(2447),c=s(1118),o=RegExp.prototype;t.exports=function(t){var i=t.flags;return void 0!==i||"flags"in o||e(t,"flags")||!a(o,t)?i:h(c,t)}},5230:function(t,i,s){var h=s(6544),e=s(7583).RegExp,a=h((function(){var t=e("a","y");return t.lastIndex=2,null!==t.exec("abcd")})),c=a||h((function(){return!e("a","y").sticky})),o=a||h((function(){var t=e("^r","gy");return t.lastIndex=2,null!==t.exec("str")}));t.exports={BROKEN_CARET:o,MISSED_STICKY:c,UNSUPPORTED_Y:a}},4121:function(t,i,s){var h=s(6544),e=s(7583).RegExp;t.exports=h((function(){var t=e(".","s");return!(t.dotAll&&t.exec("\n")&&"s"===t.flags)}))},1712:function(t,i,s){var h=s(6544),e=s(7583).RegExp;t.exports=h((function(){var t=e("(?<a>b)","g");return"b"!==t.exec("b").groups.a||"bc"!=="b".replace(t,"$<a>c")}))},3955:function(t,i,s){var h=s(8505),e=TypeError;t.exports=function(t){if(h(t))throw e("Can't call method on "+t);return t}},7730:function(t,i,s){var h=s(5897),e=s(2499),a=s(3649),c=s(8494),o=a("species");t.exports=function(t){var i=h(t);c&&i&&!i[o]&&e(i,o,{configurable:!0,get:function(){return this}})}},8821:function(t,i,s){var h=s(4615).f,e=s(2870),a=s(3649)("toStringTag");t.exports=function(t,i,s){t&&!s&&(t=t.prototype),t&&!e(t,a)&&h(t,a,{configurable:!0,value:i})}},9137:function(t,i,s){var h=s(7836),e=s(8284),a=h("keys");t.exports=function(t){return a[t]||(a[t]=e(t))}},1314:function(t,i,s){var h=s(7583),e=s(2296),a="__core-js_shared__",c=h[a]||e(a,{});t.exports=c},7836:function(t,i,s){var h=s(6268),e=s(1314);(t.exports=function(t,i){return e[t]||(e[t]=void 0!==i?i:{})})("versions",[]).push({version:"3.32.2",mode:h?"pure":"global",copyright:"© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.32.2/LICENSE",source:"https://github.com/zloirock/core-js"})},564:function(t,i,s){var h=s(2569),e=s(1186),a=s(8505),c=s(3649)("species");t.exports=function(t,i){var s,o=h(t).constructor;return void 0===o||a(s=h(o)[c])?i:e(s)}},6389:function(t,i,s){var h=s(7386),e=s(7486),a=s(8320),c=s(3955),o=h("".charAt),_=h("".charCodeAt),r=h("".slice),n=function(t){return function(i,s){var h,n,m=a(c(i)),g=e(s),p=m.length;return g<0||g>=p?t?"":void 0:(h=_(m,g))<55296||h>56319||g+1===p||(n=_(m,g+1))<56320||n>57343?t?o(m,g):h:t?r(m,g,g+2):n-56320+(h-55296<<10)+65536}};t.exports={codeAt:n(!1),charAt:n(!0)}},3812:function(t,i,s){var h=s(7486),e=s(8320),a=s(3955),c=RangeError;t.exports=function(t){var i=e(a(this)),s="",o=h(t);if(o<0||o===1/0)throw c("Wrong number of repetitions");for(;o>0;(o>>>=1)&&(i+=i))1&o&&(s+=i);return s}},5760:function(t,i,s){var h=s(4340).PROPER,e=s(6544),a=s(771);t.exports=function(t){return e((function(){return!!a[t]()||"​᠎"!=="​᠎"[t]()||h&&a[t].name!==t}))}},8940:function(t,i,s){var h=s(7386),e=s(3955),a=s(8320),c=s(771),o=h("".replace),_=RegExp("^["+c+"]+"),r=RegExp("(^|[^"+c+"])["+c+"]+$"),n=function(t){return function(i){var s=a(e(i));return 1&t&&(s=o(s,_,"")),2&t&&(s=o(s,r,"$1")),s}};t.exports={start:n(1),end:n(2),trim:n(3)}},4193:function(t,i,s){var h=s(4061),e=s(6544),a=s(7583).String;t.exports=!!Object.getOwnPropertySymbols&&!e((function(){var t=Symbol("symbol detection");return!a(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&h&&h<41}))},8369:function(t,i,s){var h=s(8262),e=s(5897),a=s(3649),c=s(3746);t.exports=function(){var t=e("Symbol"),i=t&&t.prototype,s=i&&i.valueOf,o=a("toPrimitive");i&&!i[o]&&c(i,o,(function(t){return h(s,this)}),{arity:1})}},2471:function(t,i,s){var h=s(4193);t.exports=h&&!!Symbol.for&&!!Symbol.keyFor},8117:function(t,i,s){var h,e,a,c,o=s(7583),_=s(1611),r=s(2938),n=s(9212),m=s(2870),g=s(6544),p=s(482),y=s(6917),u=s(6668),d=s(7520),j=s(7020),f=s(5354),l=o.setImmediate,v=o.clearImmediate,x=o.process,k=o.Dispatch,w=o.Function,b=o.MessageChannel,S=o.String,M=0,C={},I="onreadystatechange";g((function(){h=o.location}));var B=function(t){if(m(C,t)){var i=C[t];delete C[t],i()}},G=function(t){return function(){B(t)}},z=function(t){B(t.data)},A=function(t){o.postMessage(S(t),h.protocol+"//"+h.host)};l&&v||(l=function(t){d(arguments.length,1);var i=n(t)?t:w(t),s=y(arguments,1);return C[++M]=function(){_(i,void 0,s)},e(M),M},v=function(t){delete C[t]},f?e=function(t){x.nextTick(G(t))}:k&&k.now?e=function(t){k.now(G(t))}:b&&!j?(c=(a=new b).port2,a.port1.onmessage=z,e=r(c.postMessage,c)):o.addEventListener&&n(o.postMessage)&&!o.importScripts&&h&&"file:"!==h.protocol&&!g(A)?(e=A,o.addEventListener("message",z,!1)):e=I in u("script")?function(t){p.appendChild(u("script"))[I]=function(){p.removeChild(this),B(t)}}:function(t){setTimeout(G(t),0)}),t.exports={set:l,clear:v}},8064:function(t,i,s){var h=s(7386);t.exports=h(1..valueOf)},6782:function(t,i,s){var h=s(7486),e=Math.max,a=Math.min;t.exports=function(t,i){var s=h(t);return s<0?e(s+i,0):a(s,i)}},2977:function(t,i,s){var h=s(5044),e=s(3955);t.exports=function(t){return h(e(t))}},7486:function(t,i,s){var h=s(9021);t.exports=function(t){var i=+t;return i!=i||0===i?0:h(i)}},97:function(t,i,s){var h=s(7486),e=Math.min;t.exports=function(t){return t>0?e(h(t),9007199254740991):0}},1324:function(t,i,s){var h=s(3955),e=Object;t.exports=function(t){return e(h(t))}},2670:function(t,i,s){var h=s(8262),e=s(794),a=s(5871),c=s(911),o=s(6252),_=s(3649),r=TypeError,n=_("toPrimitive");t.exports=function(t,i){if(!e(t)||a(t))return t;var s,_=c(t,n);if(_){if(void 0===i&&(i="default"),s=h(_,t,i),!e(s)||a(s))return s;throw r("Can't convert object to primitive value")}return void 0===i&&(i="number"),o(t,i)}},8734:function(t,i,s){var h=s(2670),e=s(5871);t.exports=function(t){var i=h(t,"string");return e(i)?i:i+""}},8191:function(t,i,s){var h={};h[s(3649)("toStringTag")]="z",t.exports="[object z]"===String(h)},8320:function(t,i,s){var h=s(3058),e=String;t.exports=function(t){if("Symbol"===h(t))throw TypeError("Cannot convert a Symbol value to a string");return e(t)}},5637:function(t){var i=String;t.exports=function(t){try{return i(t)}catch(t){return"Object"}}},8284:function(t,i,s){var h=s(7386),e=0,a=Math.random(),c=h(1..toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+c(++e+a,36)}},7786:function(t,i,s){var h=s(4193);t.exports=h&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},7670:function(t,i,s){var h=s(8494),e=s(6544);t.exports=h&&e((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},7520:function(t){var i=TypeError;t.exports=function(t,s){if(t<s)throw i("Not enough arguments");return t}},5307:function(t,i,s){var h=s(7583),e=s(9212),a=h.WeakMap;t.exports=e(a)&&/native code/.test(String(a))},1513:function(t,i,s){var h=s(1287),e=s(2870),a=s(491),c=s(4615).f;t.exports=function(t){var i=h.Symbol||(h.Symbol={});e(i,t)||c(i,t,{value:a.f(t)})}},491:function(t,i,s){var h=s(3649);i.f=h},3649:function(t,i,s){var h=s(7583),e=s(7836),a=s(2870),c=s(8284),o=s(4193),_=s(7786),r=h.Symbol,n=e("wks"),m=_?r.for||r:r&&r.withoutSetter||c;t.exports=function(t){return a(n,t)||(n[t]=o&&a(r,t)?r[t]:m("Symbol."+t)),n[t]}},771:function(t){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},1646:function(t,i,s){var h=s(7263),e=s(6544),a=s(4521),c=s(794),o=s(1324),_=s(1825),r=s(6768),n=s(5999),m=s(4822),g=s(9269),p=s(3649),y=s(4061),u=p("isConcatSpreadable"),d=y>=51||!e((function(){var t=[];return t[u]=!1,t.concat()[0]!==t})),j=function(t){if(!c(t))return!1;var i=t[u];return void 0!==i?!!i:a(t)};h({target:"Array",proto:!0,arity:1,forced:!d||!g("concat")},{concat:function(t){var i,s,h,e,a,c=o(this),g=m(c,0),p=0;for(i=-1,h=arguments.length;i<h;i++)if(j(a=-1===i?c:arguments[i]))for(e=_(a),r(p+e),s=0;s<e;s++,p++)s in a&&n(g,p,a[s]);else r(p+1),n(g,p++,a);return g.length=p,g}})},1271:function(t,i,s){var h=s(7263),e=s(3579),a=s(6288);h({target:"Array",proto:!0},{fill:e}),a("fill")},8833:function(t,i,s){var h=s(7263),e=s(4805).filter;h({target:"Array",proto:!0,forced:!s(9269)("filter")},{filter:function(t){return e(this,t,arguments.length>1?arguments[1]:void 0)}})},3675:function(t,i,s){var h=s(7263),e=s(5513);h({target:"Array",stat:!0,forced:!s(3616)((function(t){Array.from(t)}))},{from:e})},5677:function(t,i,s){var h=s(2977),e=s(6288),a=s(339),c=s(2743),o=s(4615).f,_=s(59),r=s(1002),n=s(6268),m=s(8494),g="Array Iterator",p=c.set,y=c.getterFor(g);t.exports=_(Array,"Array",(function(t,i){p(this,{type:g,target:h(t),index:0,kind:i})}),(function(){var t=y(this),i=t.target,s=t.kind,h=t.index++;if(!i||h>=i.length)return t.target=void 0,r(void 0,!0);switch(s){case"keys":return r(h,!1);case"values":return r(i[h],!1)}return r([h,i[h]],!1)}),"values");var u=a.Arguments=a.Array;if(e("keys"),e("values"),e("entries"),!n&&m&&"values"!==u.name)try{o(u,"name",{value:"values"})}catch(t){}},7441:function(t,i,s){var h=s(7263),e=s(7386),a=s(5044),c=s(2977),o=s(906),_=e([].join);h({target:"Array",proto:!0,forced:a!==Object||!o("join",",")},{join:function(t){return _(c(this),void 0===t?",":t)}})},2070:function(t,i,s){var h=s(7263),e=s(4805).map;h({target:"Array",proto:!0,forced:!s(9269)("map")},{map:function(t){return e(this,t,arguments.length>1?arguments[1]:void 0)}})},288:function(t,i,s){var h=s(7263),e=s(4521),a=s(2097),c=s(794),o=s(6782),_=s(1825),r=s(2977),n=s(5999),m=s(3649),g=s(9269),p=s(6917),y=g("slice"),u=m("species"),d=Array,j=Math.max;h({target:"Array",proto:!0,forced:!y},{slice:function(t,i){var s,h,m,g=r(this),y=_(g),f=o(t,y),l=o(void 0===i?y:i,y);if(e(g)&&(s=g.constructor,(a(s)&&(s===d||e(s.prototype))||c(s)&&null===(s=s[u]))&&(s=void 0),s===d||void 0===s))return p(g,f,l);for(h=new(void 0===s?d:s)(j(l-f,0)),m=0;f<l;f++,m++)f in g&&n(h,m,g[f]);return h.length=m,h}})},2466:function(t,i,s){var h=s(2870),e=s(3746),a=s(307),c=s(3649)("toPrimitive"),o=Date.prototype;h(o,c)||e(o,c,a)},4458:function(t,i,s){var h=s(8494),e=s(4340).EXISTS,a=s(7386),c=s(2499),o=Function.prototype,_=a(o.toString),r=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,n=a(r.exec);h&&!e&&c(o,"name",{configurable:!0,get:function(){try{return n(r,_(this))[1]}catch(t){return""}}})},4415:function(t,i,s){var h=s(7263),e=s(5897),a=s(1611),c=s(8262),o=s(7386),_=s(6544),r=s(9212),n=s(5871),m=s(6917),g=s(2627),p=s(4193),y=String,u=e("JSON","stringify"),d=o(/./.exec),j=o("".charAt),f=o("".charCodeAt),l=o("".replace),v=o(1..toString),x=/[\uD800-\uDFFF]/g,k=/^[\uD800-\uDBFF]$/,w=/^[\uDC00-\uDFFF]$/,b=!p||_((function(){var t=e("Symbol")("stringify detection");return"[null]"!==u([t])||"{}"!==u({a:t})||"{}"!==u(Object(t))})),S=_((function(){return'"\\udf06\\ud834"'!==u("\udf06\ud834")||'"\\udead"'!==u("\udead")})),M=function(t,i){var s=m(arguments),h=g(i);if(r(h)||void 0!==t&&!n(t))return s[1]=function(t,i){if(r(h)&&(i=c(h,this,y(t),i)),!n(i))return i},a(u,null,s)},C=function(t,i,s){var h=j(s,i-1),e=j(s,i+1);return d(k,t)&&!d(w,e)||d(w,t)&&!d(k,h)?"\\u"+v(f(t,0),16):t};u&&h({target:"JSON",stat:!0,arity:3,forced:b||S},{stringify:function(t,i,s){var h=m(arguments),e=a(b?M:u,null,h);return S&&"string"==typeof e?l(e,x,C):e}})},717:function(t,i,s){var h=s(7263),e=s(6268),a=s(8494),c=s(7583),o=s(1287),_=s(7386),r=s(4451),n=s(2870),m=s(434),g=s(2447),p=s(5871),y=s(2670),u=s(6544),d=s(9275).f,j=s(6683).f,f=s(4615).f,l=s(8064),v=s(8940).trim,x="Number",k=c[x],w=o[x],b=k.prototype,S=c.TypeError,M=_("".slice),C=_("".charCodeAt),I=r(x,!k(" 0o1")||!k("0b1")||k("+0x1")),B=function(t){var i,s=arguments.length<1?0:k(function(t){var i=y(t,"number");return"bigint"==typeof i?i:function(t){var i,s,h,e,a,c,o,_,r=y(t,"number");if(p(r))throw S("Cannot convert a Symbol value to a number");if("string"==typeof r&&r.length>2)if(r=v(r),43===(i=C(r,0))||45===i){if(88===(s=C(r,2))||120===s)return NaN}else if(48===i){switch(C(r,1)){case 66:case 98:h=2,e=49;break;case 79:case 111:h=8,e=55;break;default:return+r}for(c=(a=M(r,2)).length,o=0;o<c;o++)if((_=C(a,o))<48||_>e)return NaN;return parseInt(a,h)}return+r}(i)}(t));return g(b,i=this)&&u((function(){l(i)}))?m(Object(s),this,B):s};B.prototype=b,I&&!e&&(b.constructor=B),h({global:!0,constructor:!0,wrap:!0,forced:I},{Number:B});var G=function(t,i){for(var s,h=a?d(i):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),e=0;h.length>e;e++)n(i,s=h[e])&&!n(t,s)&&f(t,s,j(i,s))};e&&w&&G(o[x],w),(I||e)&&G(o[x],k)},4517:function(t,i,s){var h=s(7263),e=s(9304);h({target:"Object",stat:!0,arity:2,forced:Object.assign!==e},{assign:e})},1626:function(t,i,s){var h=s(7263),e=s(4193),a=s(6544),c=s(4012),o=s(1324);h({target:"Object",stat:!0,forced:!e||a((function(){c.f(1)}))},{getOwnPropertySymbols:function(t){var i=c.f;return i?i(o(t)):[]}})},5101:function(t,i,s){var h=s(7263),e=s(6544),a=s(1324),c=s(729),o=s(926);h({target:"Object",stat:!0,forced:e((function(){c(1)})),sham:!o},{getPrototypeOf:function(t){return c(a(t))}})},9751:function(t,i,s){var h=s(7263),e=s(1324),a=s(5432);h({target:"Object",stat:!0,forced:s(6544)((function(){a(1)}))},{keys:function(t){return a(e(t))}})},6394:function(t,i,s){var h=s(8191),e=s(3746),a=s(3060);h||e(Object.prototype,"toString",a,{unsafe:!0})},580:function(t,i,s){var h=s(7263),e=s(8262),a=s(8257),c=s(5084),o=s(544),_=s(4026);h({target:"Promise",stat:!0,forced:s(409)},{all:function(t){var i=this,s=c.f(i),h=s.resolve,r=s.reject,n=o((function(){var s=a(i.resolve),c=[],o=0,n=1;_(t,(function(t){var a=o++,_=!1;n++,e(s,i,t).then((function(t){_||(_=!0,c[a]=t,--n||h(c))}),r)})),--n||h(c)}));return n.error&&r(n.value),s.promise}})},9526:function(t,i,s){var h=s(7263),e=s(6268),a=s(190).CONSTRUCTOR,c=s(4282),o=s(5897),_=s(9212),r=s(3746),n=c&&c.prototype;if(h({target:"Promise",proto:!0,forced:a,real:!0},{catch:function(t){return this.then(void 0,t)}}),!e&&_(c)){var m=o("Promise").prototype.catch;n.catch!==m&&r(n,"catch",m,{unsafe:!0})}},2876:function(t,i,s){var h,e,a,c=s(7263),o=s(6268),_=s(5354),r=s(7583),n=s(8262),m=s(3746),g=s(7496),p=s(8821),y=s(7730),u=s(8257),d=s(9212),j=s(794),f=s(4761),l=s(564),v=s(8117).set,x=s(2095),k=s(2716),w=s(544),b=s(2723),S=s(2743),M=s(4282),C=s(190),I=s(5084),B="Promise",G=C.CONSTRUCTOR,z=C.REJECTION_EVENT,A=C.SUBCLASSING,P=S.getterFor(B),N=S.set,O=M&&M.prototype,Y=M,T=O,R=r.TypeError,E=r.document,V=r.process,W=I.f,L=W,D=!!(E&&E.createEvent&&r.dispatchEvent),F="unhandledrejection",H=function(t){var i;return!(!j(t)||!d(i=t.then))&&i},U=function(t,i){var s,h,e,a=i.value,c=1===i.state,o=c?t.ok:t.fail,_=t.resolve,r=t.reject,m=t.domain;try{o?(c||(2===i.rejection&&X(i),i.rejection=1),!0===o?s=a:(m&&m.enter(),s=o(a),m&&(m.exit(),e=!0)),s===t.promise?r(R("Promise-chain cycle")):(h=H(s))?n(h,s,_,r):_(s)):r(a)}catch(t){m&&!e&&m.exit(),r(t)}},q=function(t,i){t.notified||(t.notified=!0,x((function(){for(var s,h=t.reactions;s=h.get();)U(s,t);t.notified=!1,i&&!t.rejection&&J(t)})))},K=function(t,i,s){var h,e;D?((h=E.createEvent("Event")).promise=i,h.reason=s,h.initEvent(t,!1,!0),r.dispatchEvent(h)):h={promise:i,reason:s},!z&&(e=r["on"+t])?e(h):t===F&&k("Unhandled promise rejection",s)},J=function(t){n(v,r,(function(){var i,s=t.facade,h=t.value;if(Z(t)&&(i=w((function(){_?V.emit("unhandledRejection",h,s):K(F,s,h)})),t.rejection=_||Z(t)?2:1,i.error))throw i.value}))},Z=function(t){return 1!==t.rejection&&!t.parent},X=function(t){n(v,r,(function(){var i=t.facade;_?V.emit("rejectionHandled",i):K("rejectionhandled",i,t.value)}))},$=function(t,i,s){return function(h){t(i,h,s)}},Q=function(t,i,s){t.done||(t.done=!0,s&&(t=s),t.value=i,t.state=2,q(t,!0))},tt=function(t,i,s){if(!t.done){t.done=!0,s&&(t=s);try{if(t.facade===i)throw R("Promise can't be resolved itself");var h=H(i);h?x((function(){var s={done:!1};try{n(h,i,$(tt,s,t),$(Q,s,t))}catch(i){Q(s,i,t)}})):(t.value=i,t.state=1,q(t,!1))}catch(i){Q({done:!1},i,t)}}};if(G&&(T=(Y=function(t){f(this,T),u(t),n(h,this);var i=P(this);try{t($(tt,i),$(Q,i))}catch(t){Q(i,t)}}).prototype,(h=function(t){N(this,{type:B,done:!1,notified:!1,parent:!1,reactions:new b,rejection:!1,state:0,value:void 0})}).prototype=m(T,"then",(function(t,i){var s=P(this),h=W(l(this,Y));return s.parent=!0,h.ok=!d(t)||t,h.fail=d(i)&&i,h.domain=_?V.domain:void 0,0===s.state?s.reactions.add(h):x((function(){U(h,s)})),h.promise})),e=function(){var t=new h,i=P(t);this.promise=t,this.resolve=$(tt,i),this.reject=$(Q,i)},I.f=W=function(t){return t===Y||void 0===t?new e(t):L(t)},!o&&d(M)&&O!==Object.prototype)){a=O.then,A||m(O,"then",(function(t,i){var s=this;return new Y((function(t,i){n(a,s,t,i)})).then(t,i)}),{unsafe:!0});try{delete O.constructor}catch(t){}g&&g(O,T)}c({global:!0,constructor:!0,wrap:!0,forced:G},{Promise:Y}),p(Y,B,!1,!0),y(B)},5334:function(t,i,s){s(2876),s(580),s(9526),s(3723),s(5097),s(3741)},3723:function(t,i,s){var h=s(7263),e=s(8262),a=s(8257),c=s(5084),o=s(544),_=s(4026);h({target:"Promise",stat:!0,forced:s(409)},{race:function(t){var i=this,s=c.f(i),h=s.reject,r=o((function(){var c=a(i.resolve);_(t,(function(t){e(c,i,t).then(s.resolve,h)}))}));return r.error&&h(r.value),s.promise}})},5097:function(t,i,s){var h=s(7263),e=s(8262),a=s(5084);h({target:"Promise",stat:!0,forced:s(190).CONSTRUCTOR},{reject:function(t){var i=a.f(this);return e(i.reject,void 0,t),i.promise}})},3741:function(t,i,s){var h=s(7263),e=s(5897),a=s(6268),c=s(4282),o=s(190).CONSTRUCTOR,_=s(5732),r=e("Promise"),n=a&&!o;h({target:"Promise",stat:!0,forced:a||o},{resolve:function(t){return _(n&&this===r?c:this,t)}})},3080:function(t,i,s){var h=s(7263),e=s(5897),a=s(1611),c=s(1335),o=s(1186),_=s(2569),r=s(794),n=s(3590),m=s(6544),g=e("Reflect","construct"),p=Object.prototype,y=[].push,u=m((function(){function t(){}return!(g((function(){}),[],t)instanceof t)})),d=!m((function(){g((function(){}))})),j=u||d;h({target:"Reflect",stat:!0,forced:j,sham:j},{construct:function(t,i){o(t),_(i);var s=arguments.length<3?t:o(arguments[2]);if(d&&!u)return g(t,i,s);if(t===s){switch(i.length){case 0:return new t;case 1:return new t(i[0]);case 2:return new t(i[0],i[1]);case 3:return new t(i[0],i[1],i[2]);case 4:return new t(i[0],i[1],i[2],i[3])}var h=[null];return a(y,h,i),new(a(c,t,h))}var e=s.prototype,m=n(r(e)?e:p),j=a(t,m,i);return r(j)?j:m}})},2322:function(t,i,s){var h=s(7263),e=s(8445);h({target:"RegExp",proto:!0,forced:/./.exec!==e},{exec:e})},4669:function(t,i,s){var h=s(4340).PROPER,e=s(3746),a=s(2569),c=s(8320),o=s(6544),_=s(640),r="toString",n=RegExp.prototype[r],m=o((function(){return"/a/b"!==n.call({source:"a",flags:"b"})})),g=h&&n.name!==r;(m||g)&&e(RegExp.prototype,r,(function(){var t=a(this);return"/"+c(t.source)+"/"+c(_(t))}),{unsafe:!0})},2129:function(t,i,s){var h=s(6389).charAt,e=s(8320),a=s(2743),c=s(59),o=s(1002),_="String Iterator",r=a.set,n=a.getterFor(_);c(String,"String",(function(t){r(this,{type:_,string:e(t),index:0})}),(function(){var t,i=n(this),s=i.string,e=i.index;return e>=s.length?o(void 0,!0):(t=h(s,e),i.index+=t.length,o(t,!1))}))},5017:function(t,i,s){var h=s(8262),e=s(783),a=s(2569),c=s(8505),o=s(97),_=s(8320),r=s(3955),n=s(911),m=s(6733),g=s(4214);e("match",(function(t,i,s){return[function(i){var s=r(this),e=c(i)?void 0:n(i,t);return e?h(e,i,s):new RegExp(i)[t](_(s))},function(t){var h=a(this),e=_(t),c=s(i,h,e);if(c.done)return c.value;if(!h.global)return g(h,e);var r=h.unicode;h.lastIndex=0;for(var n,p=[],y=0;null!==(n=g(h,e));){var u=_(n[0]);p[y]=u,""===u&&(h.lastIndex=m(e,o(h.lastIndex),r)),y++}return 0===y?null:p}]}))},1142:function(t,i,s){s(7263)({target:"String",proto:!0},{repeat:s(3812)})},9268:function(t,i,s){var h=s(1611),e=s(8262),a=s(7386),c=s(783),o=s(2569),_=s(8505),r=s(7574),n=s(3955),m=s(564),g=s(6733),p=s(97),y=s(8320),u=s(911),d=s(4546),j=s(4214),f=s(8445),l=s(5230),v=s(6544),x=l.UNSUPPORTED_Y,k=4294967295,w=Math.min,b=[].push,S=a(/./.exec),M=a(b),C=a("".slice),I=!v((function(){var t=/(?:)/,i=t.exec;t.exec=function(){return i.apply(this,arguments)};var s="ab".split(t);return 2!==s.length||"a"!==s[0]||"b"!==s[1]}));c("split",(function(t,i,s){var a;return a="c"==="abbc".split(/(b)*/)[1]||4!=="test".split(/(?:)/,-1).length||2!=="ab".split(/(?:ab)*/).length||4!==".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,s){var a=y(n(this)),c=void 0===s?k:s>>>0;if(0===c)return[];if(void 0===t)return[a];if(!r(t))return e(i,a,t,c);for(var o,_,m,g=[],p=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),u=0,j=new RegExp(t.source,p+"g");(o=e(f,j,a))&&!((_=j.lastIndex)>u&&(M(g,C(a,u,o.index)),o.length>1&&o.index<a.length&&h(b,g,d(o,1)),m=o[0].length,u=_,g.length>=c));)j.lastIndex===o.index&&j.lastIndex++;return u===a.length?!m&&S(j,"")||M(g,""):M(g,C(a,u)),g.length>c?d(g,0,c):g}:"0".split(void 0,0).length?function(t,s){return void 0===t&&0===s?[]:e(i,this,t,s)}:i,[function(i,s){var h=n(this),c=_(i)?void 0:u(i,t);return c?e(c,i,h,s):e(a,y(h),i,s)},function(t,h){var e=o(this),c=y(t),_=s(a,e,c,h,a!==i);if(_.done)return _.value;var r=m(e,RegExp),n=e.unicode,u=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(x?"g":"y"),d=new r(x?"^(?:"+e.source+")":e,u),f=void 0===h?k:h>>>0;if(0===f)return[];if(0===c.length)return null===j(d,c)?[c]:[];for(var l=0,v=0,b=[];v<c.length;){d.lastIndex=x?0:v;var S,I=j(d,x?C(c,v):c);if(null===I||(S=w(p(d.lastIndex+(x?v:0)),c.length))===l)v=g(c,v,n);else{if(M(b,C(c,l,v)),b.length===f)return b;for(var B=1;B<=I.length-1;B++)if(M(b,I[B]),b.length===f)return b;v=l=S}}return M(b,C(c,l)),b}]}),!I,x)},3233:function(t,i,s){var h=s(7263),e=s(8940).trim;h({target:"String",proto:!0,forced:s(5760)("trim")},{trim:function(){return e(this)}})},7802:function(t,i,s){var h=s(7263),e=s(7583),a=s(8262),c=s(7386),o=s(6268),_=s(8494),r=s(4193),n=s(6544),m=s(2870),g=s(2447),p=s(2569),y=s(2977),u=s(8734),d=s(8320),j=s(4677),f=s(3590),l=s(5432),v=s(9275),x=s(3130),k=s(4012),w=s(6683),b=s(4615),S=s(8728),M=s(112),C=s(3746),I=s(2499),B=s(7836),G=s(9137),z=s(4639),A=s(8284),P=s(3649),N=s(491),O=s(1513),Y=s(8369),T=s(8821),R=s(2743),E=s(4805).forEach,V=G("hidden"),W="Symbol",L="prototype",D=R.set,F=R.getterFor(W),H=Object[L],U=e.Symbol,q=U&&U[L],K=e.TypeError,J=e.QObject,Z=w.f,X=b.f,$=x.f,Q=M.f,tt=c([].push),it=B("symbols"),st=B("op-symbols"),ht=B("wks"),et=!J||!J[L]||!J[L].findChild,at=_&&n((function(){return 7!==f(X({},"a",{get:function(){return X(this,"a",{value:7}).a}})).a}))?function(t,i,s){var h=Z(H,i);h&&delete H[i],X(t,i,s),h&&t!==H&&X(H,i,h)}:X,ct=function(t,i){var s=it[t]=f(q);return D(s,{type:W,tag:t,description:i}),_||(s.description=i),s},ot=function(t,i,s){t===H&&ot(st,i,s),p(t);var h=u(i);return p(s),m(it,h)?(s.enumerable?(m(t,V)&&t[V][h]&&(t[V][h]=!1),s=f(s,{enumerable:j(0,!1)})):(m(t,V)||X(t,V,j(1,{})),t[V][h]=!0),at(t,h,s)):X(t,h,s)},_t=function(t,i){p(t);var s=y(i),h=l(s).concat(gt(s));return E(h,(function(i){_&&!a(rt,s,i)||ot(t,i,s[i])})),t},rt=function(t){var i=u(t),s=a(Q,this,i);return!(this===H&&m(it,i)&&!m(st,i))&&(!(s||!m(this,i)||!m(it,i)||m(this,V)&&this[V][i])||s)},nt=function(t,i){var s=y(t),h=u(i);if(s!==H||!m(it,h)||m(st,h)){var e=Z(s,h);return!e||!m(it,h)||m(s,V)&&s[V][h]||(e.enumerable=!0),e}},mt=function(t){var i=$(y(t)),s=[];return E(i,(function(t){m(it,t)||m(z,t)||tt(s,t)})),s},gt=function(t){var i=t===H,s=$(i?st:y(t)),h=[];return E(s,(function(t){!m(it,t)||i&&!m(H,t)||tt(h,it[t])})),h};r||(U=function(){if(g(q,this))throw K("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?d(arguments[0]):void 0,i=A(t),s=function(t){this===H&&a(s,st,t),m(this,V)&&m(this[V],i)&&(this[V][i]=!1),at(this,i,j(1,t))};return _&&et&&at(H,i,{configurable:!0,set:s}),ct(i,t)},C(q=U[L],"toString",(function(){return F(this).tag})),C(U,"withoutSetter",(function(t){return ct(A(t),t)})),M.f=rt,b.f=ot,S.f=_t,w.f=nt,v.f=x.f=mt,k.f=gt,N.f=function(t){return ct(P(t),t)},_&&(I(q,"description",{configurable:!0,get:function(){return F(this).description}}),o||C(H,"propertyIsEnumerable",rt,{unsafe:!0}))),h({global:!0,constructor:!0,wrap:!0,forced:!r,sham:!r},{Symbol:U}),E(l(ht),(function(t){O(t)})),h({target:W,stat:!0,forced:!r},{useSetter:function(){et=!0},useSimple:function(){et=!1}}),h({target:"Object",stat:!0,forced:!r,sham:!_},{create:function(t,i){return void 0===i?f(t):_t(f(t),i)},defineProperty:ot,defineProperties:_t,getOwnPropertyDescriptor:nt}),h({target:"Object",stat:!0,forced:!r},{getOwnPropertyNames:mt}),Y(),T(U,W),z[V]=!0},8407:function(t,i,s){var h=s(7263),e=s(8494),a=s(7583),c=s(7386),o=s(2870),_=s(9212),r=s(2447),n=s(8320),m=s(2499),g=s(3478),p=a.Symbol,y=p&&p.prototype;if(e&&_(p)&&(!("description"in y)||void 0!==p().description)){var u={},d=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:n(arguments[0]),i=r(y,this)?new p(t):void 0===t?p():p(t);return""===t&&(u[i]=!0),i};g(d,p),d.prototype=y,y.constructor=d;var j="Symbol(description detection)"===String(p("description detection")),f=c(y.valueOf),l=c(y.toString),v=/^Symbol\((.*)\)[^)]+$/,x=c("".replace),k=c("".slice);m(y,"description",{configurable:!0,get:function(){var t=f(this);if(o(u,t))return"";var i=l(t),s=j?k(i,7,-1):x(i,v,"$1");return""===s?void 0:s}}),h({global:!0,constructor:!0,forced:!0},{Symbol:d})}},113:function(t,i,s){var h=s(7263),e=s(5897),a=s(2870),c=s(8320),o=s(7836),_=s(2471),r=o("string-to-symbol-registry"),n=o("symbol-to-string-registry");h({target:"Symbol",stat:!0,forced:!_},{for:function(t){var i=c(t);if(a(r,i))return r[i];var s=e("Symbol")(i);return r[i]=s,n[s]=i,s}})},8288:function(t,i,s){s(1513)("iterator")},2004:function(t,i,s){s(7802),s(113),s(3385),s(4415),s(1626)},3385:function(t,i,s){var h=s(7263),e=s(2870),a=s(5871),c=s(5637),o=s(7836),_=s(2471),r=o("symbol-to-string-registry");h({target:"Symbol",stat:!0,forced:!_},{keyFor:function(t){if(!a(t))throw TypeError(c(t)+" is not a symbol");if(e(r,t))return r[t]}})},9831:function(t,i,s){var h=s(1513),e=s(8369);h("toPrimitive"),e()},5090:function(t,i,s){var h=s(7583),e=s(6778),a=s(9307),c=s(3200),o=s(57),_=function(t){if(t&&t.forEach!==c)try{o(t,"forEach",c)}catch(i){t.forEach=c}};for(var r in e)e[r]&&_(h[r]&&h[r].prototype);_(a)},4655:function(t,i,s){var h=s(7583),e=s(6778),a=s(9307),c=s(5677),o=s(57),_=s(3649),r=_("iterator"),n=_("toStringTag"),m=c.values,g=function(t,i){if(t){if(t[r]!==m)try{o(t,r,m)}catch(i){t[r]=m}if(t[n]||o(t,n,i),e[i])for(var s in c)if(t[s]!==c[s])try{o(t,s,c[s])}catch(i){t[s]=c[s]}}};for(var p in e)g(h[p]&&h[p].prototype,p);g(a,"DOMTokenList")}},i={};function s(h){var e=i[h];if(void 0!==e)return e.exports;var a=i[h]={exports:{}};return t[h].call(a.exports,a,a.exports,s),a.exports}s.d=function(t,i){for(var h in i)s.o(i,h)&&!s.o(t,h)&&Object.defineProperty(t,h,{enumerable:!0,get:i[h]})},s.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),s.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},function(){var t={};function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function h(t,s){for(var h=0;h<s.length;h++){var e=s[h];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,(void 0,a=function(t,s){if("object"!==i(t)||null===t)return t;var h=t[Symbol.toPrimitive];if(void 0!==h){var e=h.call(t,"string");if("object"!==i(e))return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(e.key),"symbol"===i(a)?a:String(a)),e)}var a}s.r(t),s.d(t,{CharacterObject:function(){return e},Game:function(){return ui},GameGraphicsForApplet:function(){return Ii},GameKey:function(){return o},GameMouse:function(){return n},GameSoundForApplet:function(){return v},GameSoundWebAudio:function(){return x},IdouGamen:function(){return ut},ImageBuff:function(){return I},KeyboardMenu:function(){return ft},MainProgram:function(){return Jt},MapSystem:function(){return wt},MasaoConstruction:function(){return _i},TagDataBase:function(){return ai},YukaObject:function(){return Ct}}),s(9831),s(2466),s(2004),s(8407),s(6394),s(717),s(8288),s(5677),s(2129),s(4655);var e=function(){function t(){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.c=0,this.x=0,this.y=0,this.vx=0,this.vy=0,this.wx=0,this.wy=0,this.c1=0,this.c2=0,this.c3=0,this.c4=0,this.c5=0,this.pt=0,this.pth=0,this.img=null,this.zs_x=0,this.zs_y=0,this.ac=0,this.level=0,this.jimen_f=!1,this.muki=0,this.direction=0,this.score=0,this.ss=0,this.gf=!1,this.controller=void 0}var i,s;return i=t,(s=[{key:"init",value:function(){this.c=0,this.x=0,this.y=0,this.vx=0,this.vy=0,this.wx=0,this.wy=0,this.c1=0,this.c2=0,this.c3=0,this.c4=0,this.c5=0,this.pt=0,this.pth=0,this.img=null,this.zs_x=0,this.zs_y=0,this.ac=0,this.level=0,this.jimen_f=!1,this.muki=0,this.direction=0,this.score=0,this.ss=0,this.gf=!1,this.controller=void 0}},{key:"setPattern",value:function(t){}}])&&h(i.prototype,s),Object.defineProperty(i,"prototype",{writable:!1}),t}();function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function c(t,i){for(var s=0;s<i.length;s++){var h=i[s];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(t,(void 0,e=function(t,i){if("object"!==a(t)||null===t)return t;var s=t[Symbol.toPrimitive];if(void 0!==s){var h=s.call(t,"string");if("object"!==a(h))return h;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(h.key),"symbol"===a(e)?e:String(e)),h)}var e}s(4669),s(1646),s(1271),s(2322),s(5017),s(4458),s(288),s(7441),s(9268),s(3233),s(5090),s(9751);var o=function(){function t(){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.key_code=0,this.up_f=!1,this.down_f=!1,this.left_f=!1,this.right_f=!1,this.tr1_f=!1,this.tr2_f=!1,this.tr3_f=!1,this.start_f=!1,this.x_f=!1,this.z_f=!1,this.space_f=!1,this.left_c=0,this.right_c=0,this.up_c=0,this.down_c=0,this.tr1_c=0,this.codekey_f=new Array(256),this.left_right_lock=!1,this.key_char=0}var i,s;return i=t,(s=[{key:"init",value:function(){this.key_code=0,this.up_f=!1,this.down_f=!1,this.left_f=!1,this.right_f=!1,this.tr1_f=!1,this.tr2_f=!1,this.tr3_f=!1,this.start_f=!1,this.x_f=!1,this.z_f=!1,this.space_f=!1,this.left_c=0,this.right_c=0,this.up_c=0,this.down_c=0,this.tr1_c=0,this.left_right_lock=!1;for(var t=0;t<=255;t++)this.codekey_f[t]=!1}},{key:"keyPressed",value:function(t){switch(this.key_code=t.keyCode,this.key_char=t.keyCode,this.key_code>=0&&this.key_code<=255&&(this.codekey_f[this.key_code]=!0),this.key_code){case 38:case 104:t.preventDefault(),this.up_f=!0;break;case 40:case 98:t.preventDefault(),this.down_f=!0,this.tr2_f=!0;break;case 37:case 100:t.preventDefault(),this.left_right_lock||(this.left_f=!0);break;case 39:case 102:t.preventDefault(),this.left_right_lock||(this.right_f=!0);break;case 90:t.preventDefault(),this.tr1_f=!0,this.z_f=!0;break;case 88:t.preventDefault(),this.tr2_f=!0,this.x_f=!0;break;case 67:t.preventDefault(),this.tr3_f=!0;break;case 32:t.preventDefault(),this.tr1_f=!0,this.space_f=!0,this.tr1_c=0;break;case 83:t.preventDefault(),this.start_f=!0}}},{key:"keyReleased",value:function(t){var i=t.keyCode;switch(i>=0&&i<=255&&(this.codekey_f[i]=!1),i){case 38:case 104:this.up_f=!1;break;case 40:case 98:this.down_f=!1,this.tr2_f=!1;break;case 37:case 100:this.left_right_lock||(this.left_f=!1,this.left_c=0);break;case 39:case 102:this.left_right_lock||(this.right_f=!1,this.right_c=0);break;case 90:this.tr1_f=!1,this.z_f=!1,this.tr1_c=0;break;case 88:this.tr2_f=!1,this.x_f=!1;break;case 67:this.tr3_f=!1;break;case 32:this.tr1_f=!1,this.space_f=!1,this.tr1_c=0;break;case 83:this.start_f=!1}}},{key:"getKeyCode",value:function(){return this.key_code}}])&&c(i.prototype,s),Object.defineProperty(i,"prototype",{writable:!1}),t}();function _(t){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_(t)}function r(t,i){for(var s=0;s<i.length;s++){var h=i[s];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(t,(void 0,e=function(t,i){if("object"!==_(t)||null===t)return t;var s=t[Symbol.toPrimitive];if(void 0!==s){var h=s.call(t,"string");if("object"!==_(h))return h;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(h.key),"symbol"===_(e)?e:String(e)),h)}var e}var n=function(){function t(){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.button_f=!1,this.click_x=0,this.click_y=0}var i,s;return i=t,(s=[{key:"init",value:function(){this.button_f=!1,this.click_x=0,this.click_y=0}},{key:"mousePressed",value:function(t){var i=t.target;if(i instanceof HTMLCanvasElement){var s=i.getBoundingClientRect();this.button_f=!0,this.click_x=(t.clientX-s.left)/s.width*i.width,this.click_y=(t.clientY-s.top)/s.height*i.height}}},{key:"mouseReleased",value:function(t){this.button_f=!1}}])&&r(i.prototype,s),Object.defineProperty(i,"prototype",{writable:!1}),t}();function m(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),i&&g(t,i)}function g(t,i){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,i){return t.__proto__=i,t},g(t,i)}function p(t){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var s,h=y(t);if(i){var e=y(this).constructor;s=Reflect.construct(h,arguments,e)}else s=h.apply(this,arguments);return function(t,i){if(i&&("object"===u(i)||"function"==typeof i))return i;if(void 0!==i)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,s)}}function y(t){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},y(t)}function u(t){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(t)}function d(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}function j(t,i){for(var s=0;s<i.length;s++){var h=i[s];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(t,(void 0,e=function(t,i){if("object"!==u(t)||null===t)return t;var s=t[Symbol.toPrimitive];if(void 0!==s){var h=s.call(t,"string");if("object"!==u(h))return h;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(h.key),"symbol"===u(e)?e:String(e)),h)}var e}function f(t,i,s){return i&&j(t.prototype,i),s&&j(t,s),Object.defineProperty(t,"prototype",{writable:!1}),t}s(5334),s(5101),s(3080);var l=function(){function t(i,s){d(this,t),this.ap=s,this.tdb=i,this.s_data=new Array(32),this.use_f=!0,this.mute_f=!1,this.rs_b=-1,this.bgm_switch=!1,this.bgm_loop=!1,this.bgm=new Array(20),this.bgm_filename=new Array(20),this.bgm_genzai=-1;for(var h=0;h<this.s_data.length;h++)this.s_data[h]=null;2===parseInt(this.tdb.getValue("se_switch"))&&(this.use_f=!1),1===parseInt(this.tdb.getValue("fx_bgm_switch"))?this.bgm_switch=!0:this.bgm_switch=!1,1===parseInt(this.tdb.getValue("fx_bgm_loop"))?this.bgm_loop=!0:this.bgm_loop=!1,this.bgm_genzai=-1,this._init(),this._load()}return f(t,[{key:"_getSEFilenames",value:function(){var t=this.tdb;return 2===parseInt(t.getValue("se_filename"))?["item.au","gameover.au","clear.au","jump.au","sjump.au","kiki.au","coin.au","get.au","fumu.au","tobasu.au","mgan.au","happa.au","dosun.au","item.au","mgan.au","happa.au","bakuhatu.au","mgan.au","happa.au","shot.au","mizu.au","get.au","shot.au","shot.au","dosun.au","get.au","mgan.au"]:[t.getValue("filename_se_start"),t.getValue("filename_se_gameover"),t.getValue("filename_se_clear"),t.getValue("filename_se_jump"),t.getValue("filename_se_sjump"),t.getValue("filename_se_kiki"),t.getValue("filename_se_coin"),t.getValue("filename_se_get"),t.getValue("filename_se_fumu"),t.getValue("filename_se_tobasu"),t.getValue("filename_se_dengeki"),t.getValue("filename_se_happa"),t.getValue("filename_se_dosun"),t.getValue("filename_se_item"),t.getValue("filename_se_hinoko"),t.getValue("filename_se_mizudeppo"),t.getValue("filename_se_block"),t.getValue("filename_se_grounder"),t.getValue("filename_se_kaiole"),t.getValue("filename_se_bomb"),t.getValue("filename_se_mizu"),t.getValue("filename_se_dokan"),t.getValue("filename_se_senkuuza"),t.getValue("filename_se_fireball"),t.getValue("filename_se_miss"),t.getValue("filename_se_chizugamen"),t.getValue("filename_se_jet")]}},{key:"_getBGMFilenames",value:function(){var t=this.tdb;return[t.getValue("filename_fx_bgm_stage1"),t.getValue("filename_fx_bgm_stage2"),t.getValue("filename_fx_bgm_stage3"),t.getValue("filename_fx_bgm_stage4"),t.getValue("filename_fx_bgm_boss"),t.getValue("filename_fx_bgm_title"),t.getValue("filename_fx_bgm_ending"),t.getValue("filename_fx_bgm_chizu")]}},{key:"resetSound",value:function(){}},{key:"soundOff",value:function(){this.mute_f=!0,this.stopBGM()}},{key:"soundOn",value:function(){this.mute_f=!1,this.rs_b=-1}},{key:"rsInit",value:function(){this.rs_b=-1}}]),t}(),v=function(t){m(s,t);var i=p(s);function s(t,h){return d(this,s),i.call(this,t,h)}return f(s,[{key:"_init",value:function(){}},{key:"_load",value:function(){var t;if(this.use_f){var i=this._getSEFilenames();for(t=0;t<i.length;t++)this.s_data[t]=this.ap.getAudioClip(i[t])}if(this.bgm_switch){var s=this._getBGMFilenames();for(t=0;t<s.length;t++)this.bgm[t]=this.ap.getAudioClip(s[t],!0),this.bgm_filename[t]=s[t]}}},{key:"setSound",value:function(t,i){t<0||t>=this.s_data.length||(this.s_data[t]=this.ap.getAudioClip(i))}},{key:"play",value:function(t){if(this.use_f&&!this.mute_f&&null!=this.s_data[t]){var i=this.s_data[t];i&&i.play()}}},{key:"stop",value:function(t){if(this.use_f&&null!=this.s_data[t]){var i=this.s_data[t];i&&i.stop()}}},{key:"stopAll",value:function(t){if(this.use_f)for(var i=0;i<this.s_data.length;i++){var s=this.s_data[i];null!=s&&s.stop()}}},{key:"rsAddSound",value:function(t){this.rs_b=t}},{key:"rsPlay",value:function(){if(this.use_f&&!this.mute_f&&-1!=this.rs_b&&null!=this.s_data[this.rs_b]){var t=this.s_data[this.rs_b];t&&(t.stop(),t.play()),this.rs_b=-1}}},{key:"playBGM",value:function(t,i){this.mute_f||this.bgm_genzai!=t&&(this.bgm_genzai>=0&&t>=0&&null!=this.bgm_filename[this.bgm_genzai]&&null!=this.bgm_filename[t]&&this.bgm_filename[this.bgm_genzai]==this.bgm_filename[t]||(this.bgm_genzai>=0&&null!=this.bgm[this.bgm_genzai]&&this.bgm[this.bgm_genzai].stop(),null!=this.bgm[t]&&(this.bgm_loop?this.bgm[t].loop():this.bgm[t].play(),this.bgm_genzai=t)))}},{key:"stopBGM",value:function(){this.bgm_genzai>=0&&null!=this.bgm[this.bgm_genzai]&&this.bgm[this.bgm_genzai].stop(),this.bgm_genzai=-1}},{key:"playUserBGMFile",value:function(t,i){return this.stopBGM(),this.bgm[19]=this.ap.getAudioClip(t,!0),null!=this.bgm[19]&&(this.bgm[19].play(),this.bgm_genzai=19,this.bgm_filename[19]=t,!0)}},{key:"playUserBGMFileLoop",value:function(t){return this.stopBGM(),this.bgm[19]=this.ap.getAudioClip(t,!0),null!=this.bgm[19]&&(this.bgm[19].loop(),this.bgm_genzai=19,this.bgm_filename[19]=t,!0)}},{key:"userInteract",value:function(){}},{key:"kill",value:function(){}}],[{key:"factory",value:function(t){return"undefined"==typeof AudioContext&&"undefined"==typeof webkitAudioContext||!/^https?:$/i.test(location.protocol)||t.options["bc-no-webaudio"]?s:x}}]),s}(l),x=function(t){m(s,t);var i=p(s);function s(t,h){var e;return d(this,s),(e=i.call(this,t,h)).noOverlapFlag=t.options["bc-no-overlap-sound"],e}return f(s,[{key:"_init",value:function(){var t="undefined"!=typeof AudioContext?AudioContext:webkitAudioContext;this.context=new t,this.dest=this.context.createDynamicsCompressor(),this.dest.connect(this.context.destination),this.sourceNodes={},this.bgmSourceNodes={},this.audioCache={}}},{key:"_load",value:function(){var t,i=this.ap;if(this.use_f){var s=this._getSEFilenames();for(t=0;t<s.length;t++)this._loadAudioBufferInto(i.getAudioURL(s[t],!1),this.s_data,t)}if(this.bgm_switch){var h=this._getBGMFilenames();for(t=0;t<h.length;t++){var e=i.getAudioURL(h[t],!0);this.bgm_filename[t]=e,this._loadAudioBufferInto(e,this.bgm,t)}}}},{key:"_loadAudioBufferInto",value:function(t,i,s,h){var e=this.audioCache,a=this.context,c=e[t];if(null==c){var o=e[t]=[],_=new XMLHttpRequest;_.open("GET",t),_.responseType="arraybuffer",_.onload=function(){var c=_.response;null==c||0===_.status||_.status>=400||function(t,i){return new Promise((function(s,h){t.decodeAudioData(i,s,h)}))}(a,c).then((function(a){i[s]=a,"function"==typeof h&&h(a),o.forEach((function(t){t(a)})),e[t]=a}),(function(t){console.error(t),"function"==typeof h&&h(null)}))},_.onerror=function(t){console.error(t),"function"==typeof h&&h(null)},_.send()}else c instanceof Array?c.push((function(t){i[s]=t,"function"==typeof h&&h(t)})):setTimeout((function(){i[s]=c,"function"==typeof h&&h(c)}),0)}},{key:"setSound",value:function(t,i){t<0||t>=this.s_data.length||this._loadAudioBufferInto(i,this.s_data,t)}},{key:"play",value:function(t){if(this.use_f&&!this.mute_f&&null!=this.s_data[t]&&"running"===this.context.state){if(!0===this.noOverlapFlag){var i=this.sourceNodes[t];if(null!=i){var s=this.context.createGain();s.connect(this.dest),s.gain.value=1,s.gain.linearRampToValueAtTime(0,this.context.currentTime+.1),i.disconnect(),i.connect(s)}}var h=this.context.createBufferSource();h.buffer=this.s_data[t],h.connect(this.dest),this.sourceNodes[t]=h,h.start(0)}}},{key:"stop",value:function(t){if(this.use_f){var i=this.sourceNodes[t];null!=i&&(i.disconnect(),this.sourceNodes[t]=void 0)}}},{key:"stopAll",value:function(t){if(this.use_f)for(var i=0;i<this.s_data.length;i++)this.stop(i)}},{key:"rsAddSound",value:function(t){this.play(t)}},{key:"rsPlay",value:function(){}},{key:"playBGM",value:function(t,i){if(!(this.mute_f||"running"!==this.context.state||this.bgm_genzai===t||this.bgm_genzai>=0&&t>=0&&null!=this.bgm_filename[this.bgm_genzai]&&null!=this.bgm_filename[t]&&this.bgm_filename[this.bgm_genzai]==this.bgm_filename[t])){if(this.bgm_genzai>=0){var s=this.bgmSourceNodes[this.bgm_genzai];null!=s&&s.disconnect()}if(null!=this.bgm[t]){var h=this.context.createBufferSource();h.buffer=this.bgm[t],h.connect(this.dest),(i||this.bgm_loop)&&(h.loop=!0,h.loopStart=0,h.loopEnd=h.buffer.duration),h.start(0),this.bgmSourceNodes[t]=h,this.bgm_genzai=t}}}},{key:"stopBGM",value:function(){var t=this.bgmSourceNodes[this.bgm_genzai];null!=t&&t.disconnect(),this.bgmSourceNodes[this.bgm_genzai]=void 0,this.bgm_genzai=-1}},{key:"playUserBGMFile",value:function(t,i){var s=this,h=this.ap.getAudioURL(t,!0);return this._loadAudioBufferInto(h,this.bgm,19,(function(t){s.stopBGM(),null!=t&&(s.bgm_filename[19]=h,s.playBGM(19,i))})),!1}},{key:"playUserBGMFileLoop",value:function(t){return this.playUserBGMFile(t,!0)}},{key:"userInteract",value:function(){var t=this.context;"suspended"===t.state&&t.resume().catch((function(t){console.error(t)}))}},{key:"kill",value:function(){this.context.close().catch((function(t){console.error(t)}))}}]),s}(l);function k(t,i){return k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,i){return t.__proto__=i,t},k(t,i)}function w(t){return w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},w(t)}function b(t){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},b(t)}function S(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}function M(t,i){for(var s=0;s<i.length;s++){var h=i[s];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(t,(void 0,e=function(t,i){if("object"!==b(t)||null===t)return t;var s=t[Symbol.toPrimitive];if(void 0!==s){var h=s.call(t,"string");if("object"!==b(h))return h;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(h.key),"symbol"===b(e)?e:String(e)),h)}var e}function C(t,i,s){return i&&M(t.prototype,i),s&&M(t,s),Object.defineProperty(t,"prototype",{writable:!1}),t}var I=function(){function t(i,s){if(S(this,t),void 0!==i&&void 0!==s){this._dat=document.createElement("canvas"),this._dat.width=i,this._dat.height=s,this._width=i,this._height=s;var h=this._dat.getContext("2d");h&&(h.lineWidth=1.6,h.lineCap="round",h.save())}else this._dat=null,this._width=-1,this._height=-1;this._loaded=!1,this._error=!1,this._g=null,this._g_bk=null}return C(t,[{key:"load",value:function(t){this._loaded=!1,this._error=!1,this._width=-1,this._height=-1,this._dat=new Image;var i=this;this._dat.onload=function(){i.onload()},this._dat.onerror=function(){B(i)},this._dat.onabort=function(){B(i)},this._dat.src=t,this._dat.complete&&this.onload()}},{key:"onload",value:function(){this._loaded=!0,this._dat instanceof Image&&(this._width=this._dat.naturalWidth,this._height=this._dat.naturalHeight)}},{key:"onerror",value:function(){this._error=!0,this._dat=null}},{key:"getGraphics",value:function(){return this._width<0?null:(this._g=new G(this),this._g)}},{key:"createGraphics",value:function(){return this.getGraphics()}},{key:"getGraphicsBk",value:function(){return this._width<0?null:(this._g_bk=new z(this),this._g_bk)}}]),t}();function B(t){t.onerror()}var G=function(){function t(i){S(this,t),this._ctx=null,i._dat&&!("src"in i._dat)&&(this._ctx=i._dat.getContext("2d")),this._ctx&&(this._ctx.restore(),this._ctx.save()),this._color=A.black,this._font=new P(P.DIALOG,P.PLAIN,10)}return C(t,[{key:"drawLine",value:function(t,i,s,h){return null!=this._ctx&&(this._ctx.beginPath(),this._ctx.moveTo(t,i),this._ctx.lineTo(s,h),this._ctx.stroke(),!0)}},{key:"drawImage",value:function(t,i,s,h,e,a,c,o,_,r){if(null==t._dat)return!1;if(null==this._ctx)return!1;try{return void 0===h||void 0===e?(this._ctx.drawImage(t._dat,i,s),!0):void 0===a||void 0===c||void 0===o||void 0===_?(this._ctx.drawImage(t._dat,i,s,h,e),!0):(this._ctx.drawImage(t._dat,i,s,h,e,a,c,o,_),!0)}catch(t){}return!1}},{key:"drawRect",value:function(t,i,s,h){return null!=this._ctx&&(this._ctx.strokeRect(t,i,s,h),!0)}},{key:"fillRect",value:function(t,i,s,h){return null!=this._ctx&&(this._ctx.fillRect(t,i,s,h),!0)}},{key:"drawPolygon",value:function(t,i,s){if(null==this._ctx)return!1;this._ctx.beginPath(),this._ctx.moveTo(t[0],i[0]);for(var h=1;h<s;h++)this._ctx.lineTo(t[h],i[h]);return this._ctx.closePath(),this._ctx.stroke(),!0}},{key:"fillPolygon",value:function(t,i,s){if(null==this._ctx)return!1;this._ctx.beginPath(),this._ctx.moveTo(t[0],i[0]);for(var h=1;h<s;h++)this._ctx.lineTo(t[h],i[h]);return this._ctx.closePath(),this._ctx.fill(),!0}},{key:"drawOval",value:function(t,i,s,h){return null!=this._ctx&&(this.drawArc(t,i,s,h,0,2*Math.PI),!0)}},{key:"fillOval",value:function(t,i,s,h){return null!=this._ctx&&(this.fillArc(t,i,s,h,0,2*Math.PI),!0)}},{key:"drawArc",value:function(t,i,s,h,e,a){if(null==this._ctx)return!1;var c=h/s;return this._ctx.save(),this._ctx.beginPath(),this._ctx.scale(1,c),this._ctx.arc(t+s/2,(i+h/2)/c,s/2,e,e+a,a<0),this._ctx.stroke(),this._ctx.restore(),!0}},{key:"fillArc",value:function(t,i,s,h,e,a){if(null==this._ctx)return!1;var c=h/s;return this._ctx.save(),this._ctx.beginPath(),this._ctx.scale(1,c),this._ctx.arc(t+s/2,(i+h/2)/c,s/2,e,e+a,a<0),this._ctx.lineTo(t+s/2,(i+h/2)/c),this._ctx.closePath(),this._ctx.fill(),this._ctx.restore(),!0}},{key:"setGlobalAlpha",value:function(t){return null!=this._ctx&&(t<0&&(t=0),t>255&&(t=255),this._ctx.globalAlpha=t/255,!0)}},{key:"setColor",value:function(t){if(null==this._ctx)return!1;this._color=new A(t.r,t.g,t.b,t.a);var i="rgba(".concat(t.r,",").concat(t.g,",").concat(t.b,",").concat(t.a/255,")");return this._ctx.strokeStyle=i,this._ctx.fillStyle=i,!0}},{key:"setFont",value:function(t){if(null==this._ctx)return!1;var i="";return t._style&P.ITALIC&&(i+="italic "),t._style&P.BOLD&&(i+="bold "),i+="".concat(t._size,"px "),t._name===P.SERIF?i+=P.SERIF_str:t._name===P.SANS_SERIF?i+=P.SANS_SERIF_str:t._name===P.MONOSPACED?i+=P.MONOSPACED_str:t._name===P.DIALOG?i+=P.DIALOG_str:t._name.split(",").length>1||t._name.match(/^(sans-serif|serif|monospace|cursive|fantasy|system-ui)$/)?i+=t._name:i+='"'.concat(t._name,'"'),this._ctx.font=i,this._font=t,!0}},{key:"drawString",value:function(t,i,s){return null!=this._ctx&&(this._ctx.fillText(t,i,s),!0)}},{key:"translate",value:function(t,i){return null!=this._ctx&&(this._ctx.translate(t,i),!0)}},{key:"rotate",value:function(t,i,s){return null!=this._ctx&&(1==arguments.length?this._ctx.rotate(t):(this._ctx.translate(i,s),this._ctx.rotate(t),this._ctx.translate(-i,-s)),!0)}},{key:"scale",value:function(t,i){return null!=this._ctx&&(this._ctx.scale(t,i),!0)}},{key:"setClip",value:function(t,i,s,h,e){if(null==this._ctx)return!1;if("ellipse"==t){var a=e/h;return this._ctx.beginPath(),this._ctx.save(),this._ctx.scale(1,a),this._ctx.arc(i+h/2,(s+e/2)/a,h/2,0,2*Math.PI,!1),this._ctx.restore(),this._ctx.clip(),!0}if("rect"==t)return this._ctx.beginPath(),this._ctx.rect(i,s,h,e),this._ctx.clip(),!0;if("polygon"==t){this._ctx.beginPath(),this._ctx.moveTo(i[0],s[0]);for(var c=1;c<h;c++)this._ctx.lineTo(i[c],s[c]);return this._ctx.closePath(),this._ctx.clip(),!0}return!1}},{key:"copyArea",value:function(t,i,s,h,e,a){return null!=this._ctx&&(this._ctx.drawImage(this._ctx.canvas,t,i,s,h,t+e,i+a,s,h),!0)}},{key:"dispose",value:function(){this._ctx&&(this._ctx.restore(),this._ctx.save())}}]),t}(),z=function(t){!function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),i&&k(t,i)}(e,t);var i,s,h=(i=e,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,h=w(i);if(s){var e=w(this).constructor;t=Reflect.construct(h,arguments,e)}else t=h.apply(this,arguments);return function(t,i){if(i&&("object"===b(i)||"function"==typeof i))return i;if(void 0!==i)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function e(t){return S(this,e),h.call(this,t)}return C(e,[{key:"drawImage",value:function(t,i,s,h,e,a,c,o,_,r){return null!=t._dat&&null!=this._ctx&&(void 0===h||void 0===e?(this._ctx.drawImage(t._dat,i,s),!0):void 0===a||void 0===c||void 0===o||void 0===_?(this._ctx.save(),h<0&&(this._ctx.translate(-i,0),this._ctx.scale(-1,1),this._ctx.translate(i,0)),e<0&&(this._ctx.translate(0,-s),this._ctx.scale(1,-1),this._ctx.translate(0,s)),this._ctx.drawImage(t._dat,i,s,Math.abs(h),Math.abs(e)),this._ctx.restore(),!0):(this._ctx.save(),h<i&&(this._ctx.translate(i,0),this._ctx.scale(-1,1),this._ctx.translate(-i,0)),e<s&&(this._ctx.translate(0,s),this._ctx.scale(1,-1),this._ctx.translate(0,-s)),o<a&&(this._ctx.translate(h,0),this._ctx.scale(-1,1),this._ctx.translate(-i,0)),_<c&&(this._ctx.translate(0,e),this._ctx.scale(1,-1),this._ctx.translate(0,-s)),this._ctx.drawImage(t._dat,a,c,o-a,_-c,i,s,Math.abs(h-i),Math.abs(e-s)),this._ctx.restore(),!0))}}]),e}(G),A=function(){function t(i,s,h,e){S(this,t),this.r=i>255?255:i<0?0:i,this.g=s>255?255:s<0?0:s,this.b=h>255?255:h<0?0:h,this.a=void 0!==e?e>255?255:e<0?0:e:255}return C(t,[{key:"getRed",value:function(){return this.r}},{key:"getGreen",value:function(){return this.g}},{key:"getBlue",value:function(){return this.b}},{key:"getAlpha",value:function(){return this.a}}]),t}();A.white=new A(255,255,255),A.WHITE=A.white,A.lightGray=new A(192,192,192),A.LIGHT_GRAY=A.lightGray,A.gray=new A(128,128,128),A.GRAY=A.gray,A.darkGray=new A(64,64,64),A.DARK_GRAY=A.darkGray,A.black=new A(0,0,0),A.BLACK=A.black,A.red=new A(255,0,0),A.RED=A.red,A.pink=new A(255,175,175),A.PINK=A.pink,A.orange=new A(255,200,0),A.ORANGE=A.orange,A.yellow=new A(255,255,0),A.YELLOW=A.yellow,A.green=new A(0,255,0),A.GREEN=A.green,A.magenta=new A(255,0,255),A.MAGENTA=A.magenta,A.cyan=new A(0,255,255),A.CYAN=A.cyan,A.blue=new A(0,0,255),A.BLUE=A.blue;var P=C((function t(i,s,h){S(this,t),this._name=i,this._style=s,this._size=h}));function N(t){return N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},N(t)}function O(t,i){return function(t){if(Array.isArray(t))return t}(t)||function(t,i){var s=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=s){var h,e,a,c,o=[],_=!0,r=!1;try{if(a=(s=s.call(t)).next,0===i){if(Object(s)!==s)return;_=!1}else for(;!(_=(h=a.call(s)).done)&&(o.push(h.value),o.length!==i);_=!0);}catch(t){r=!0,e=t}finally{try{if(!_&&null!=s.return&&(c=s.return(),Object(c)!==c))return}finally{if(r)throw e}}return o}}(t,i)||T(t,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Y(t,i){var s="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!s){if(Array.isArray(t)||(s=T(t))||i&&t&&"number"==typeof t.length){s&&(t=s);var h=0,e=function(){};return{s:e,n:function(){return h>=t.length?{done:!0}:{done:!1,value:t[h++]}},e:function(t){throw t},f:e}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,c=!0,o=!1;return{s:function(){s=s.call(t)},n:function(){var t=s.next();return c=t.done,t},e:function(t){o=!0,a=t},f:function(){try{c||null==s.return||s.return()}finally{if(o)throw a}}}}function T(t,i){if(t){if("string"==typeof t)return R(t,i);var s=Object.prototype.toString.call(t).slice(8,-1);return"Object"===s&&t.constructor&&(s=t.constructor.name),"Map"===s||"Set"===s?Array.from(t):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?R(t,i):void 0}}function R(t,i){(null==i||i>t.length)&&(i=t.length);for(var s=0,h=new Array(i);s<i;s++)h[s]=t[s];return h}function E(t,i){for(var s=0;s<i.length;s++){var h=i[s];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(t,(void 0,e=function(t,i){if("object"!==N(t)||null===t)return t;var s=t[Symbol.toPrimitive];if(void 0!==s){var h=s.call(t,"string");if("object"!==N(h))return h;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(h.key),"symbol"===N(e)?e:String(e)),h)}var e}function V(t,i){return V=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,i){return t.__proto__=i,t},V(t,i)}function W(t){return W=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},W(t)}P.DIALOG="Dialog",P.DIALOG_INPUT="DialogInput",P.MONOSPACED="Monospaced",P.SANS_SERIF="SansSerif",P.SERIF="Serif",P.PLAIN=0,P.BOLD=1,P.ITALIC=2,P.SERIF_str="'Times New Roman','ＭＳ 明朝',serif",P.SANS_SERIF_str="Arial,'ＭＳ ゴシック',sans-serif",P.MONOSPACED_str="'Courier New',monospace",P.DIALOG_str="'Helvetica','Arial','ＭＳ ゴシック','HG ゴシックB Sun','HG ゴシックB',monospace",s(2070),s(4517),s(3675);var L=110,D=210,F=310,H=360,U=1e3,q=1005,K=1010,J=1015,Z=1100,X=1105,$=1106,Q=1110,tt=1115,it=1200,st=1205,ht=1210,et=1215,at=1250,ct=1251,ot=1255,_t=1256,rt=function(t){return(t%360+360)%360},nt=function(t,i){if(t.length!==i.length)throw new Error("The given arrays do not have the same length.");return t.map((function(t,s){return[t,i[s]]}))},mt=function(t){!function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),i&&V(t,i)}(c,t);var i,s,h,e,a=(h=c,e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=W(h);if(e){var s=W(this).constructor;t=Reflect.construct(i,arguments,s)}else t=i.apply(this,arguments);return function(t,i){if(i&&("object"===N(i)||"function"==typeof i))return i;if(void 0!==i)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function c(){return function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,c),a.apply(this,arguments)}return i=c,(s=[{key:"update",value:function(t){this.x>=t.maps.wx+1024||(t.boss_attack_mode=!1,this.move(t),this.checkCollision(t))}},{key:"move",value:function(t){var i=t.sl_wx+96,s=t.sl_wx+t.gg.di.width-96-32;switch(this.c){case 40:this.c1<20&&this.c1++,15===this.c1&&(14===t.j_tokugi||15===t.j_tokugi?t.setStageClear():(t.mSet(t.maps.wx+li(t.gg.di.width/2),t.maps.wy+t.gg.di.height-192,2200),t.gs.rsAddSound(13))),this.pt=0;break;case 60:this.updateDamage(t,150),this.pt=K;break;case 65:this.updateDamage(t,155),this.pt=J;break;case 67:this.dyingByGrenade(t),1===this.muki?this.pt=q:this.pt=U;break;case 70:this.updateDamage(t,250),this.pt=Q;break;case 75:this.updateDamage(t,255),this.pt=tt;break;case 77:this.dyingByGrenade(t),1===this.muki?this.pt=X:this.pt=Z;break;case 80:this.updateDamage(t,350),this.pt=ht;break;case 85:this.updateDamage(t,355),this.pt=et;break;case 87:this.dyingByGrenade(t),1===this.muki?this.pt=st:this.pt=it;break;case 100:2!==t.sl_step&&3!==t.sl_step||(2===t.boss_destroy_type?(this.x-=8,this.x<=t.sl_wx+t.gg.di.width-128&&(this.x=t.sl_wx+t.gg.di.width-128,this.showBossHPGauge(t),this.c=L,this.c1=0)):(this.c=L,this.c1=0)),this.pt=U;break;case L:this.boss1Attack(t,0),this.pt=U;break;case 115:this.boss1Attack(t,1),this.pt=q;break;case 150:this.x-=14,this.x<=i&&(this.x=i,this.c=115,this.c1=0),this.pt=U;break;case 155:this.x+=14,this.x>=s&&(this.x=s,this.c=L,this.c1=0),this.pt=q;break;case 200:2!==t.sl_step&&3!==t.sl_step||(2===t.boss_destroy_type?(this.x-=8,this.x<=t.sl_wx+t.gg.di.width-128&&(this.x=t.sl_wx+t.gg.di.width-128,this.showBossHPGauge(t),this.c=D,this.c1=0)):(this.c=D,this.c1=0)),this.pt=Z;break;case D:this.boss2Attack(t,0),this.pt=Z,6===t.boss2_type&&(this.pt=1101);break;case 215:this.boss2Attack(t,1),this.pt=X,6===t.boss2_type&&(this.pt=$);break;case 250:this.x-=14,this.x<=i&&(this.x=i,this.c=215,this.c1=0),this.pt=Z;break;case 255:this.x+=14,this.x>=s&&(this.x=s,this.c=D,this.c1=0),this.pt=X;break;case 300:2!==t.sl_step&&3!==t.sl_step||(2===t.boss_destroy_type?(this.x-=8,this.x<=t.sl_wx+t.gg.di.width-128&&(this.x=t.sl_wx+t.gg.di.width-128,this.showBossHPGauge(t),t.boss3_type>=2&&t.boss3_type<=4||t.boss3_type>=6&&t.boss3_type<=8?(this.c=H,this.vy=-24):this.c=F,this.c1=0,this.c2=0)):(t.boss3_type>=2&&t.boss3_type<=4||t.boss3_type>=6&&t.boss3_type<=8?(this.c=H,this.vy=-24):this.c=F,this.c1=0,this.c2=0)),this.pt=it;break;case F:this.boss3Attack(t,0),this.pt=it;break;case 315:this.boss3Attack(t,1),this.pt=st;break;case 350:this.x-=14,this.x<=i&&(this.x=i,t.boss3_type>=2&&t.boss3_type<=4||t.boss3_type>=6&&t.boss3_type<=8?(this.c=365,this.vy=-24):this.c=315,this.c1=0),this.pt=it;break;case 355:this.x+=14,this.x>=s&&(this.x=s,t.boss3_type>=2&&t.boss3_type<=4||t.boss3_type>=6&&t.boss3_type<=8?(this.c=H,this.vy=-24):this.c=F,this.c1=0),this.pt=st;break;case H:this.pt=it;var h=t.boss3_type>=6&&t.boss3_type<=8;this.c1>=5&&this.c1<=25?this.pt=h?ct:at:30===this.c1&&(this.pt=h?_t:ot),this.boss3TackleAttack(t,0);break;case 365:this.pt=st;var e=t.boss3_type>=6&&t.boss3_type<=8;this.c1>=5&&this.c1<=25?this.pt=e?_t:ot:30===this.c1&&(this.pt=e?ct:at),this.boss3TackleAttack(t,1)}}},{key:"checkCollision",value:function(t){var i=t.co_j;if(i.c>=100&&i.c<200&&this.c>=100&&Math.abs(this.x-i.x)<42&&i.y>this.y-20&&i.y<this.y+40&&((Math.abs(this.x-i.x)<34||2===t.easy_mode)&&i.vy>0&&this.isFumuable(t)?(this.fumu(t),i.y=this.y,i.vy=-320,t.j_jump_type=1,i.c=110,i.c1=-4,i.pt=109):t.jShinu(2)),t.jm_kazu>0&&this.c>=100)for(var s=0;s<=8;s++){var h=t.co_jm[s];h.c<100||Math.abs(this.x-h.x)<34&&Math.abs(this.y-h.y)<30&&(200===h.c?this.hitWithGrenade(t,h):(h.c=0,t.jm_kazu--,this.hitWithFireball(t)))}var e=1===i.muki?i.x+16:i.x-32,a=1===i.muki?i.x+63:i.x+16;e<=this.x+47&&a>=this.x-16&&Math.abs(i.y-this.y)<48&&this.hitWithTail(t)}},{key:"boss1Attack",value:function(t,i){var s=1===i?-1:1;if(t.boss_attack_mode=!0,this.c1++,2===t.boss_type){1===this.c1&&t.gs.rsAddSound(17);var h,e=Y(nt([1,5,7,9,21,91,95,97,99,111,170,180],[-2,-4,-6,-8,-2,-2,-4,-6,-8,-2,-4,-2]));try{for(e.s();!(h=e.n()).done;){var a=O(h.value,2),c=a[0],o=a[1];if(this.c1===c){t.tSetBoss(this.x,this.y,150,o*s);break}}}catch(t){e.e(t)}finally{e.f()}this.c1>250&&(this.c1=250)}else if(3===t.boss_type){5===this.c1&&t.gs.rsAddSound(17);for(var _=0,r=[5,20,35,50,65,80,95,110];_<r.length;_++){var n=r[_];if(this.c1===n){t.tSetBoss(this.x,this.y,450,-3*s);break}}this.c1>250&&(this.c1=250)}else if(4===t.boss_type){1===this.c1&&t.gs.rsAddSound(17);var m,g=Y(nt([1,15,29,81,95,109,165],[-5,-3,-2,-5,-3,-2,-3]));try{for(g.s();!(m=g.n()).done;){var p=O(m.value,2),y=p[0],u=p[1];if(this.c1===y){t.tSetBoss(this.x,this.y,650,u*s);break}}}catch(t){g.e(t)}finally{g.f()}this.c1>250&&(this.c1=250)}else if(5===t.boss_type){1===this.c1&&t.gs.rsAddSound(17);var d,j=Y(nt([1,8,16,24,32,40,48,64,72,80,88,96,104,112],[100,80,60,40,20,0,10,30,50,70,60,40,20,0]));try{for(j.s();!(d=j.n()).done;){var f=O(d.value,2),l=f[0],v=f[1];if(this.c1===l){var x=3.14*rt(v*s+(1!==i?180:0))/180,k=li(12*Math.cos(x),!0,t),w=li(10*Math.sin(x),!0,t);t.mSet2(this.x,this.y+16,740,k,w);break}}}catch(t){j.e(t)}finally{j.f()}this.c1>=200&&(this.c1=0)}else{if(3===this.c1&&t.gs.rsAddSound(17),3===this.c1)t.mSet2(this.x,this.y,500,-4,-18),t.mSet2(this.x,this.y,500,4,-18);else if(14===this.c1)t.mSet2(this.x,this.y,500,-6,-20),t.mSet2(this.x,this.y,500,6,-20);else if(20===this.c1)t.mSet2(this.x,this.y,500,-3,-24),t.mSet2(this.x,this.y,500,3,-24);else if(this.c1>=28&&this.c1<=98)this.c1%7==0&&t.mSet2(this.x,this.y,500,li((-15+t.ranInt(20))*s*t.gg.di.width/512),-30);else if(130===this.c1){var b=t.ranInt(8)+3;t.mSet2(this.x,this.y,500,b,-30),t.mSet2(this.x,this.y,500,-b,-30)}this.c1>=150&&(this.c1=98)}}},{key:"boss2Attack",value:function(t,i){var s=this;if(t.boss_attack_mode=!0,this.c1++,2===t.boss2_type)10===this.c1||85===this.c1||215===this.c1?this.boss2BubbleBeam(t,0):35===this.c1||110===this.c1||295===this.c1?this.boss2BubbleBeam(t,15):60!==this.c1&&135!==this.c1&&375!==this.c1||this.boss2BubbleBeam(t,30),this.c1>445&&(this.c1=0);else if(3===t.boss2_type){var h=function(h){for(var e=0;e<360;e+=90){var a=1===i?980:970;t.mSet2(s.x,s.y,a,e+h,0)}t.gs.rsAddSound(18)};5===this.c1||125===this.c1?h(0):45===this.c1?h(30):85===this.c1&&h(60),this.c1>250&&(this.c1=0)}else if(4===t.boss2_type){1===this.c1&&t.gs.rsAddSound(18);var e,a=Y(nt([1,8,16,24,32,56,72,80,88,96],[100,80,60,40,15,0,15,40,60,80]));try{for(a.s();!(e=a.n()).done;){var c=O(e.value,2),o=c[0],_=c[1];if(this.c1===o){var r=rt(_+(1!==i?180:0)),n=rt(-1*r),m=[];m.push(3.14*r/180),r!==n&&m.push(3.14*n/180);for(var g=0,p=m;g<p.length;g++){var y=p[g],u=li(12*Math.cos(y),!0,t),d=li(10*Math.sin(y),!0,t);t.mSet2(this.x,this.y,710,u,d)}break}}}catch(t){a.e(t)}finally{a.f()}this.c1>=200&&(this.c1=0)}else if(5===t.boss2_type){var j=function(i){for(var h=0;h<360;h+=60)t.mSet2(s.x,s.y,901,h+i,0),t.mSet2(s.x,s.y,911,300-(h+i),0);t.gs.rsAddSound(18)};5===this.c1?j(10):45===this.c1?j(30):85===this.c1&&j(50),this.c1>270&&(this.c1=0)}else if(6===t.boss2_type)this.boss2Attack6(t,i);else if(7===t.boss2_type)this.c1=0;else if(8===t.boss2_type){if(5===this.c1||45===this.c1||85===this.c1){var f=1===i?96:95;t.mSet(this.x,this.y,f),t.gs.rsAddSound(18)}this.c1>165&&(this.c1=4)}else 5!==this.c1&&35!==this.c1&&65!==this.c1&&110!==this.c1&&185!==this.c1||(t.mSet(this.x,this.y,90),t.gs.rsAddSound(18)),this.c1>185&&(this.c1=110)}},{key:"boss2BubbleBeam",value:function(t,i){for(var s=0;s<8;s++){var h=3.14*rt(45*s+i)/180,e=li(8*Math.cos(h),!0,t),a=-li(8*Math.sin(h),!0,t);t.mSet2(this.x,this.y-8,710,e,a),t.gs.rsAddSound(18)}}},{key:"boss2Attack6",value:function(t,i){var s=1===i?-1:1;this.c1--,this.c1<=100?this.c2+=10*s:this.c1<=200?this.c2-=5*s:this.c1<=300?this.c2+=2*s:this.c2-=2*s,this.c1<=0&&t.gs.rsAddSound(18);var h=null;if(this.c1<=0)h=1!==i?3.14:0;else{var e=[],a=[];this.c1<=100?(e=[40,70,90],a=[40,70,100]):a=e=this.c1<=200?[80,60,30,0,-40,-70,-100]:this.c1<=300?[-60,-30,0,30,60,90]:[60,30,0,-30,-60,-90];var c,o=Y(nt(e,a));try{for(o.s();!(c=o.n()).done;){var _=O(c.value,2),r=_[0],n=_[1],m=1!==i?180:0;if(this.c2===r*s){h=3.14*rt(n*s+m)/180;break}}}catch(t){o.e(t)}finally{o.f()}}if(null!==h){var g=li(12*Math.cos(h),!0,t),p=li(8*Math.sin(h),!0,t);t.mSet2(this.x,this.y,711,g,p)}this.c1<=0?(this.c2=0,this.c1=100):this.c1<=100?this.c2*s>=90&&(this.c2=90*s,this.c1=200):this.c1<=200?this.c2*s<=-100&&(this.c2=-100*s,this.c1=300):this.c1<=300?this.c2*s>=90&&(this.c2=90*s,this.c1=400):this.c2*s<=-90&&(this.c2=-90*s,this.c1=300)}},{key:"boss3Attack",value:function(t,i){var s=1===i?-1:1;if(t.boss_attack_mode=!0,this.c1++,5===t.boss3_type){if(1===this.c1&&t.gs.rsAddSound(22),1===this.c1||20===this.c1||40===this.c1||60===this.c1||80===this.c1||100===this.c1||120===this.c1||140===this.c1){var h=1===i?0:t.gg.di.width-32;this.c1<=45&&t.mSet2(t.maps.wx+h-li(8*t.ranInt(10)*s*t.gg.di.width/512),t.maps.wy-32,740,-4*s,9),t.mSet2(t.maps.wx+h-li(8*(t.ranInt(35)+14)*s*t.gg.di.width/512),t.maps.wy-32,740,-4*s,9)}else if(15===this.c1||35===this.c1||55===this.c1||75===this.c1||95===this.c1||115===this.c1||135===this.c1||155===this.c1){var e=1===i?0:t.gg.di.width-32;this.c1<=55&&t.mSet2(t.maps.wx+e-li(8*t.ranInt(10)*s*t.gg.di.width/512),t.maps.wy-32,740,-4*s,11),t.mSet2(t.maps.wx+e-li(8*(t.ranInt(35)+14)*s*t.gg.di.width/512),t.maps.wy-32,740,-4*s,11)}this.c1>=250&&(this.c1=55)}else{var a,c=Y(nt([1,15,29,65,80,105,147,520,530],[-5,-10,-15,-20,-5,-15,-10,4,-5]));try{for(c.s();!(a=c.n()).done;){var o=O(a.value,2),_=o[0],r=o[1];if(this.c1===_){t.mSet2(this.x,this.y,800,li(r*s*t.gg.di.width/512),-32),t.gs.rsAddSound(22);break}}}catch(t){c.e(t)}finally{c.f()}15===this.c1?(1!==i&&t.co_j.x>this.x-64&&(this.c1=500),1===i&&t.co_j.x<this.x+64&&(this.c1=500)):237===this.c1?this.c1=0:this.c1>=530&&(this.c1=1)}}},{key:"boss3TackleAttack",value:function(t,i){var s=this,h=1===i?-1:1,e=t.sl_wx+16,a=t.sl_wx+16+t.gg.di.width-64,c=t.sl_wx+96,o=t.sl_wx+t.gg.di.width-96-32,_=3===t.boss3_type||7===t.boss3_type,r=4===t.boss3_type||8===t.boss3_type,n=t.boss3_type>=6&&t.boss3_type<=8,m=function(t,i,h,e,a){t<=0&&s.x<=i?(e&&(s.x=i),s.c1=a):t>=0&&s.x>=h&&(e&&(s.x=h),s.c1=a)};if((this.c1>=5&&this.c1<25||1!==i&&25===this.c1||30===this.c1)&&(t.boss_attack_mode=!0),this.c1<5&&1!==i&&(this.c2=0),n){var g=0;this.c1>=5&&this.c1<25||25===this.c1?g=-15:30===this.c1&&(g=15),7===t.boss3_type&&(g*=2),0!==g&&(this.c2=rt(this.c2+g*h))}if(this.c1<25)this.c1++;else if(25===this.c1||30===this.c1){var p=25===this.c1,y=p?30:40;if(r){var u=(p?-3:4)*h;this.x+=u,this.vy<24&&(this.vy=Math.min(this.vy+2,24)),this.y+=this.vy,this.y>=t.boss_kijyun_y&&(this.y=t.boss_kijyun_y,this.vy=-24,m(u,e,a,!1,y))}else{var d=0;d=p?_?-18:-12:_?18:8,d*=h,this.x+=d,m(d,e,a,!0,y)}}else if(40===this.c1){var j=-2*h;this.x+=j,m(j,o,c,!0,-20)}}},{key:"updateDamage",value:function(t,i){this.c1++,this.c4<=0?this.c1>=26&&(this.c=40,this.c1=0,14===t.j_tokugi||15===t.j_tokugi?t.addScore(100):t.addScore(10),2===t.boss_destroy_type&&t.hideGauge()):this.c1>=11&&(this.c=i)}},{key:"dyingByGrenade",value:function(t){this.vy+=4,this.vy>28&&(this.vy=28),this.x+=this.vx,this.y+=this.vy,2===t.boss_destroy_type&&(t.boss_hp=0,this.showBossHPGauge(t)),this.y>=t.maps.wy+t.gg.di.height+16&&(this.c=40,this.c1=0,14===t.j_tokugi||15===t.j_tokugi?t.addScore(100):t.addScore(10),2===t.boss_destroy_type&&t.hideGauge())}},{key:"isFumuable",value:function(t){return!(10===t.j_tokugi||t.j_tokugi>=12&&t.j_tokugi<=15||2===t.boss_destroy_type||this.pt===at||this.pt===ot||this.pt===ct||this.pt===_t)}},{key:"fumu",value:function(t){this.c4--,this.c1=0;var i=1===this.c4?1:0;switch(this.getBossNumber()){case 1:this.c=i?65:60,this.pt=i?J:K;break;case 2:this.c=i?75:70,this.pt=i?tt:Q;break;case 3:this.c=i?85:80,this.pt=i?et:ht}t.gs.rsAddSound(8)}},{key:"hitWithGrenade",value:function(t,i){200===i.c&&(this.c<100||(i.c=50,i.c1=1,i.c2=20,1!==t.grenade_type&&5!==t.grenade_type||(14===t.j_tokugi||15===t.j_tokugi?this.killNormalAttack(t):this.killGrenade(t,i.vx<0?1:0))))}},{key:"hitWithFireball",value:function(t){this.pt!==at&&this.pt!==ot&&this.setHP(t,t.boss_hp-1)}},{key:"hitWithTail",value:function(t){2===t.boss_destroy_type&&this.pt!==at&&this.pt!==ot&&(t.j_tail_ap_boss<1||5!==t.j_tail_ac||this.setHP(t,t.boss_hp-t.j_tail_ap_boss)&&t.gs.rsAddSound(9))}},{key:"killNormalAttack",value:function(t){switch(this.c4=0,this.c1=0,this.y-=16,this.getBossNumber()){case 1:this.c=60,this.pt=K;break;case 2:this.c=70,this.pt=Q;break;case 3:this.c=80,this.pt=ht}t.gs.rsAddSound(8)}},{key:"killGrenade",value:function(t,i){switch(this.vy=-24,this.c1=0,this.muki=i,this.vx=this.muki?-4:4,this.getBossNumber()){case 1:this.c=67,this.pt=this.muki?q:U;break;case 2:this.c=77,this.pt=this.muki?X:Z;break;case 3:this.c=87,this.pt=this.muki?st:it}t.gs.rsAddSound(9)}},{key:"setHP",value:function(t,i){if(this.c<100)return!1;if(2===t.boss_destroy_type){if(100===this.c||200===this.c||300===this.c)return!0}else if(!(10===t.j_tokugi||t.j_tokugi>=12&&t.j_tokugi<=15))return!1;return t.boss_hp=i,t.boss_hp<=0&&(t.boss_hp=0,this.killNormalAttack(t)),2===t.boss_destroy_type&&this.showBossHPGauge(t),!0}},{key:"getBossNumber",value:function(){return this.c>=60&&this.c<70||this.c>=100&&this.c<200?1:this.c>=70&&this.c<80||this.c>=200&&this.c<300?2:this.c>=80&&this.c<90||this.c>=300&&this.c<400?3:-1}},{key:"showBossHPGauge",value:function(t){var i=this.getBossNumber(),s="boss_name";2===i?s="boss2_name":3===i&&(s="boss3_name");var h=t.tdb.getValue(s),e=Math.floor(200*t.boss_hp/t.boss_hp_max);t.showGauge(e,"".concat(h,"  ").concat(t.boss_hp,"/").concat(t.boss_hp_max))}},{key:"getBossDirectionFromPattern",value:function(){switch(this.pt){case q:case J:case X:case $:case tt:case st:case et:case ot:case _t:return 1;default:return 0}}}])&&E(i.prototype,s),Object.defineProperty(i,"prototype",{writable:!1}),c}(e);function gt(t){return gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gt(t)}function pt(t,i){(null==i||i>t.length)&&(i=t.length);for(var s=0,h=new Array(i);s<i;s++)h[s]=t[s];return h}function yt(t,i){for(var s=0;s<i.length;s++){var h=i[s];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(t,(void 0,e=function(t,i){if("object"!==gt(t)||null===t)return t;var s=t[Symbol.toPrimitive];if(void 0!==s){var h=s.call(t,"string");if("object"!==gt(h))return h;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(h.key),"symbol"===gt(e)?e:String(e)),h)}var e}var ut=function(){function t(i,s,h,a){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.gg=i,this.gk=s,this.km=h,this.mp=a,this.tdb=this.mp.tdb,this.co_j=new e,this.map_string=new Array(li(this.gg.di.height/32)-1),this.map_bg=fi(li(this.gg.di.width/32)-1,li(this.gg.di.height/32)-1),this.stage_c=new Array(10),this.stage_x=new Array(10),this.stage_y=new Array(10),this.stage_cf=new Array(10),this.stage_kcID=0,this.door_koID=0,this.dokan_khID=0,this.door_score_open=0,this.ie_c=new Array(16),this.ie_x=new Array(16),this.ie_y=new Array(16),this.zure_x=16,this.zure_y=24,this.mp_mode=0,this.shop_kattaitem=0,this.cc_hankei=0,this.cc_hankei_max=12*li((this.gg.di.width/2*Math.SQRT2-50)/12),this.cc_kakudo=0,this.cc_p1_x=new Array(17),this.cc_p1_y=new Array(17),this.cc_p2_x=new Array(17),this.cc_p2_y=new Array(17),this.cc_p1_x[13]=-200,this.cc_p1_y[13]=160,this.cc_p1_x[14]=-200,this.cc_p1_y[14]=520,this.cc_p1_x[15]=712,this.cc_p1_y[15]=520,this.cc_p1_x[16]=712,this.cc_p1_y[16]=160,this.cc_p2_x[13]=712,this.cc_p2_y[13]=160,this.cc_p2_x[14]=712,this.cc_p2_y[14]=-200,this.cc_p2_x[15]=-200,this.cc_p2_y[15]=-200,this.cc_p2_x[16]=-200,this.cc_p2_y[16]=160}var i,s;return i=t,(s=[{key:"worldInit",value:function(){for(var t=this,i=0;i<=9;i++)this.stage_c[i]=0,this.stage_cf[i]=!1;this.stage_kcID=0,this.door_koID=0,this.dokan_khID=0,this.door_score_open=0;for(var s=0;s<=15;s++)this.ie_c[s]=0;this.co_j.x=0,this.co_j.y=0,this.co_j.vx=0,this.co_j.vy=0,this.co_j.muki=1,this.co_j.ac=0,this.mp.tr1_c=2,this.shop_kattaitem=-1,this.mp_mode=0,this.km.initAll(),this.km.mode=100;for(var h=function(){var i,s=t.tdb.getValue("chizu-".concat(e));(i=Array(li(t.gg.di.width/32)-1),function(t){if(Array.isArray(t))return pt(t)}(i)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(i)||function(t,i){if(t){if("string"==typeof t)return pt(t,i);var s=Object.prototype.toString.call(t).slice(8,-1);return"Object"===s&&t.constructor&&(s=t.constructor.name),"Map"===s||"Set"===s?Array.from(t):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?pt(t,i):void 0}}(i)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map((function(){s+="."})),t.map_string[e]=s},e=0;e<=li(this.gg.di.height/32)-2;e++)h();for(var a=0;a<=li(this.gg.di.height/32)-2;a++)for(var c=0;c<=li(this.gg.di.width/32)-2;c++){var o=this.map_string[a].charAt(c);"A"==o?(this.co_j.x=c<<5,this.co_j.y=a<<5,this.map_bg[c][a]=220):"B"==o?(this.map_bg[c][a]=216,this.ie_c[3]=100,this.ie_x[3]=c<<5,this.ie_y[3]=a<<5):"C"==o?(this.map_bg[c][a]=217,this.ie_c[4]=100,this.ie_x[4]=c<<5,this.ie_y[4]=a<<5):"D"==o?(this.map_bg[c][a]=218,this.ie_c[10]=100,this.ie_x[10]=c<<5,this.ie_y[10]=a<<5):"E"==o?(this.map_bg[c][a]=219,this.ie_c[11]=100,this.ie_x[11]=c<<5,this.ie_y[11]=a<<5):"a"==o?0==this.stage_c[0]?(this.map_bg[c][a]=223,this.stage_c[0]=100,this.stage_x[0]=c<<5,this.stage_y[0]=a<<5):this.map_bg[c][a]=220:"b"==o?0==this.stage_c[1]?(this.map_bg[c][a]=224,this.stage_c[1]=100,this.stage_x[1]=c<<5,this.stage_y[1]=a<<5):this.map_bg[c][a]=220:"c"==o?0==this.stage_c[2]?(this.map_bg[c][a]=225,this.stage_c[2]=100,this.stage_x[2]=c<<5,this.stage_y[2]=a<<5):this.map_bg[c][a]=220:"d"==o?0==this.stage_c[3]?(this.map_bg[c][a]=226,this.stage_c[3]=100,this.stage_x[3]=c<<5,this.stage_y[3]=a<<5):this.map_bg[c][a]=220:"e"==o?(this.map_bg[c][a]=213,this.ie_c[0]=100,this.ie_x[0]=c<<5,this.ie_y[0]=a<<5):"f"==o?(this.map_bg[c][a]=214,this.ie_c[1]=100,this.ie_x[1]=c<<5,this.ie_y[1]=a<<5):"g"==o?(this.map_bg[c][a]=215,this.ie_c[2]=100,this.ie_x[2]=c<<5,this.ie_y[2]=a<<5):"h"==o?(this.map_bg[c][a]=212,this.ie_c[9]=100,this.ie_x[9]=c<<5,this.ie_y[9]=a<<5):"i"==o?(this.map_bg[c][a]=206,this.ie_c[5]=100,this.ie_x[5]=c<<5,this.ie_y[5]=a<<5):"j"==o?(this.map_bg[c][a]=207,this.ie_c[6]=100,this.ie_x[6]=c<<5,this.ie_y[6]=a<<5):"k"==o?(this.map_bg[c][a]=208,this.ie_c[7]=100,this.ie_x[7]=c<<5,this.ie_y[7]=a<<5):"l"==o?(this.map_bg[c][a]=209,this.ie_c[8]=100,this.ie_x[8]=c<<5,this.ie_y[8]=a<<5):this.map_bg[c][a]="1"==o?220:"2"==o?221:"3"==o?222:0}this.co_j.x+16>li(this.gg.di.width/2)&&(this.co_j.muki=0),this.drawOs2()}},{key:"worldInit2",value:function(){this.co_j.vx=0,this.co_j.vy=0,this.co_j.muki=1,this.co_j.ac=0,this.mp.tr1_c=2,this.mp_mode=200,this.cc_hankei=12,this.stage_kcID=0,this.door_koID=0,this.shop_kattaitem=-1,this.door_score_open=0,100==this.ie_c[9]&&this.mp.score>=this.mp.door_score&&(this.ie_c[9]=50,this.door_score_open=1),this.km.initAll(),this.km.mode=100,this.drawOs2()}},{key:"worldInit3",value:function(){this.stage_kcID=this.checkStage(),this.stage_cf[this.stage_kcID-1]=!0,this.stage_c[this.stage_kcID-1]=50;for(var t=0,i=0;i<=2;i++)1==this.stage_cf[i]&&t++;this.door_koID=0,t>=1&&100==this.ie_c[t-1]&&(this.ie_c[t-1]=50,this.door_koID=t),this.door_score_open=0,100==this.ie_c[9]&&this.mp.score>=this.mp.door_score&&(this.ie_c[9]=50,this.door_score_open=1),this.co_j.vx=0,this.co_j.vy=0,this.co_j.muki=1,this.co_j.ac=0,this.mp.tr1_c=2,this.co_j.pt=0,this.shop_kattaitem=-1,this.mp_mode=200,this.cc_hankei=12,this.km.initAll(),this.km.mode=100,this.drawOs2()}},{key:"drawOs2",value:function(){this.gg.setBackcolor(new A(0,127,0)),this.gg.fill2(),this.gg.os2_g.drawImage(this.gg.li[3],0,0,this.gg.ap);for(var t=0;t<=li(this.gg.di.height/32)-2;t++)for(var i=0;i<=li(this.gg.di.width/32)-2;i++){var s=this.map_bg[i][t];221==s?(this.gg.drawPT2(16+(i<<5),24+(t<<5)-16,221),this.gg.drawPT2(16+(i<<5),24+(t<<5)+16,221)):222==s&&(this.gg.drawPT2(16+(i<<5)-16,24+(t<<5),222),this.gg.drawPT2(16+(i<<5)+16,24+(t<<5),222))}for(var h=0;h<=li(this.gg.di.height/32)-2;h++)for(var e=0;e<=li(this.gg.di.width/32)-2;e++){var a=this.map_bg[e][h];61!=a&&62!=a&&256!=a&&(a>=216&&a<=219||a>=206&&a<=209?this.gg.drawPT2(16+(e<<5),24+(h<<5)-7,a):a>=212&&a<=215?(this.gg.drawPT2(16+(e<<5)-16,24+(h<<5),222),this.gg.drawPT2(16+(e<<5)+16,24+(h<<5),222),this.gg.drawPT2(16+(e<<5),24+(h<<5)-7,a)):this.gg.drawPT2(16+(e<<5),24+(h<<5),a))}}},{key:"drawMap",value:function(){this.gg.os_g.drawImage(this.gg.os2_img,0,0,this.gg.ap)}},{key:"getBGZ",value:function(t,i){if(t<0||t>this.gg.di.width-32-1||i<0||i>this.gg.di.height-32-1)return 0;var s=t>>5,h=i>>5;return this.map_bg[s][h]}},{key:"checkStage",value:function(){for(var t=-1,i=0;i<=9;i++)if(100==this.stage_c[i]&&this.co_j.x==this.stage_x[i]&&this.co_j.y==this.stage_y[i]){t=i+1;break}return t}},{key:"mainProgram",value:function(){if(this.gk.tr1_f?this.mp.tr1_c<2&&(this.mp.tr1_c+=1):this.mp.tr1_c=0,0==this.mp_mode){if(100==this.km.mode)this.jMove();else if(200==this.km.mode)1==this.km.cancel_c?(this.km.off(3),this.km.off(4),this.km.mode=100):1==this.km.kettei_c&&(this.km.init1(3),this.km.setMessage(3,this.mp.mes1_name),this.mp.addSerifu(3,2,3),this.km.activeSerifu(3,li((this.gg.di.width-272)/2),li(this.gg.di.height/2),272,this.mp.gamecolor_message_name),this.km.mode=210);else if(210==this.km.mode)1!=this.km.cancel_c&&1!=this.km.kettei_c||(this.km.off(3),this.km.off(4),this.km.mode=100);else if(300==this.km.mode)1==this.km.cancel_c?(this.km.off(3),this.km.off(4),this.km.mode=100):1==this.km.kettei_c&&(this.km.init1(3),this.km.setMessage(3,this.mp.mes2_name),this.mp.addSerifu(3,4,3),this.km.activeSerifu(3,li((this.gg.di.width-272)/2),li(this.gg.di.height/2),272,this.mp.gamecolor_message_name),this.km.mode=210);else if(400==this.km.mode){if(1==this.km.cancel_c)this.km.off(3),this.km.off(4),this.km.mode=100;else if(1==this.km.kettei_c){this.km.off(3),this.km.list_kazu=0,this.km.init1(6),this.km.setMessage(6,this.tdb.getValue("shop_serifu1"));for(var t=0;t<=8;t++)this.mp.shop_item_teika[t]>0&&(this.km.addItem2(6,this.mp.shop_item_name[t],this.mp.shop_item_teika[t]),this.km.list_IDlist[this.km.list_kazu]=t,this.km.list_kazu+=1);this.km.list_kazu>=1?(this.km.activeKaimono(6,li((this.gg.di.width-272)/2)+176,li(this.gg.di.height/2)-84,184),this.km.mode=410):(this.km.init1(6),this.km.init1(3),this.km.setMessage(3,"Error"),this.km.addItem(3,"Please set any item on shop menu."),this.km.activeSerifu(3,li((this.gg.di.width-272)/2),li(this.gg.di.height/2),216,A.red),this.km.mode=210)}}else 410==this.km.mode?1==this.km.cancel_c?(this.km.off(4),this.km.off(6),this.km.mode=100):1==this.km.kettei_c&&(this.km.list_s=this.km.list_IDlist[this.km.selectedIndex[6]],this.km.init1(7),this.km.setMessage(7,this.mp.shop_item_name[this.km.list_s]+this.tdb.getValue("shop_serifu2")),this.km.addItem(7,this.tdb.getValue("shop_serifu3")),this.km.addItem(7,this.tdb.getValue("shop_serifu4")),this.km.activeSerifutuki(7,li((this.gg.di.width-272)/2)-72,li(this.gg.di.height/2),236,this.mp.shop_name),this.km.mode=420):420==this.km.mode?1==this.km.cancel_c?(this.km.offActivewindow(7,6),this.km.mode=410):1==this.km.kettei_c&&(0==this.km.selectedIndex[7]?this.mp.score>=this.mp.shop_item_teika[this.km.list_s]?(this.km.init1(3),this.km.addItem(3,this.mp.shop_item_name[this.km.list_s]+this.tdb.getValue("shop_serifu5")),this.km.activeIchigyou(3,li((this.gg.di.width-272)/2)-72,li(this.gg.di.height/2)+80,236),this.mp.score-=this.mp.shop_item_teika[this.km.list_s],this.shop_kattaitem=this.km.list_s,7==this.shop_kattaitem&&(this.mp.j_left+=1),this.km.mode=430):(this.km.init1(3),this.km.addItem(3,this.tdb.getValue("shop_serifu6")),this.km.activeIchigyou(3,li((this.gg.di.width-272)/2)-72,li(this.gg.di.height/2)+80,236),this.km.mode=430):(this.km.off(4),this.km.off(6),this.km.off(7),this.km.mode=100)):430==this.km.mode?1!=this.km.cancel_c&&1!=this.km.kettei_c||(this.km.off(3),this.km.off(4),this.km.off(6),this.km.off(7),this.km.mode=100):500==this.km.mode?1==this.km.cancel_c?(this.km.off(4),this.km.off(3),this.km.mode=100):1==this.km.kettei_c&&(this.km.off(3),this.km.init1(2),this.km.setMessage(2,this.tdb.getValue("setumei_menu1")),this.km.addItem(2,this.tdb.getValue("setumei_menu2")),this.km.addItem(2,this.tdb.getValue("setumei_menu3")),this.km.addItem(2,this.tdb.getValue("setumei_menu4")),this.km.activeSerifutuki(2,li((this.gg.di.width-272)/2),li(this.gg.di.height/2),224,this.mp.setumei_name),this.km.mode=510):510==this.km.mode?1==this.km.cancel_c?(this.km.off(2),this.km.off(4),this.km.mode=100):1==this.km.kettei_c&&(this.km.init1(3),this.km.setMessage(3,this.mp.setumei_name),1==this.km.selectedIndex[2]?this.mp.addSerifu(3,11,3):2==this.km.selectedIndex[2]?this.mp.addSerifu(3,12,3):this.mp.addSerifu(3,10,3),this.km.activeSerifu(3,li((this.gg.di.width-272)/2)+80,li(this.gg.di.height/2)+31,272,this.mp.gamecolor_message_name),this.km.mode=520):520==this.km.mode&&(1==this.km.cancel_c?(this.km.offActivewindow(3,2),this.km.mode=510):1==this.km.kettei_c&&(this.km.off(2),this.km.off(3),this.km.off(4),this.km.mode=100));this.km.move()}if(1e3==this.co_j.pt?this.gg.drawPT(this.co_j.x+16,this.co_j.y+24-12-6,100,this.co_j.muki):1010==this.co_j.pt?this.gg.drawPT(this.co_j.x+16,this.co_j.y+24-12+5,100,this.co_j.muki):this.co_j.pt>=202&&this.co_j.pt<=205?this.gg.drawPT(this.co_j.x+16,this.co_j.y+24-12,this.co_j.pt,0):this.gg.drawPT(this.co_j.x+16,this.co_j.y+24-12,this.co_j.pt,this.co_j.muki),this.km.drawMenus(),100==this.mp_mode)this.circleCLS(this.cc_hankei),this.cc_hankei-=12,this.cc_hankei<0&&(this.cc_hankei=0,this.mp_mode=110);else if(110==this.mp_mode)this.circleCLS(this.cc_hankei);else if(200==this.mp_mode){if(this.circleCLS(this.cc_hankei),this.cc_hankei+=12,this.cc_hankei>this.cc_hankei_max)if(this.stage_kcID>=1){this.mp_mode=300,this.cc_hankei=0;var i=this.stage_y[this.stage_kcID-1]>>5;this.map_bg[this.stage_x[this.stage_kcID-1]>>5][i]=227,this.door_koID>=1&&(this.map_bg[this.ie_x[this.door_koID-1]>>5][this.ie_y[this.door_koID-1]>>5]=222),1==this.door_score_open&&(this.map_bg[this.ie_x[9]>>5][this.ie_y[9]>>5]=222),this.drawOs2()}else this.mp_mode=0,1==this.door_score_open&&(this.mp_mode=400,this.cc_hankei=0,this.map_bg[this.ie_x[9]>>5][this.ie_y[9]>>5]=222,this.drawOs2())}else if(300==this.mp_mode){var s;this.cc_hankei+=1,this.cc_hankei<=3?s=0:this.cc_hankei<=6?s=1:this.cc_hankei<=9?s=0:this.cc_hankei<=12?s=1:this.cc_hankei<=15?s=0:this.cc_hankei<=18?s=1:this.cc_hankei<=21?s=0:this.cc_hankei<=24?s=1:this.cc_hankei<=26?s=0:(s=0,this.mp_mode=0),s>0&&this.gg.drawPT(this.stage_x[this.stage_kcID-1]+16,this.stage_y[this.stage_kcID-1]+24,222+this.stage_kcID,0),s>0&&this.door_koID>=1&&this.gg.drawPT(this.ie_x[this.door_koID-1]+16,this.ie_y[this.door_koID-1]+24-7,212+this.door_koID,0),s>0&&1==this.door_score_open&&this.gg.drawPT(this.ie_x[9]+16,this.ie_y[9]+24-7,212,0)}else if(400==this.mp_mode){var h;this.cc_hankei+=1,this.cc_hankei<=3?h=0:this.cc_hankei<=6?h=1:this.cc_hankei<=9?h=0:this.cc_hankei<=12?h=1:this.cc_hankei<=15?h=0:this.cc_hankei<=18?h=1:this.cc_hankei<=21?h=0:this.cc_hankei<=24?h=1:this.cc_hankei<=26?h=0:(h=0,this.mp_mode=0),h>0&&this.gg.drawPT(this.ie_x[9]+16,this.ie_y[9]+24-7,212,0)}}},{key:"jMove",value:function(){var t=this.co_j.x,i=this.co_j.y;if(this.co_j.pt=100,0==this.co_j.vx&&0==this.co_j.vy){if(this.co_j.ac+=1,this.co_j.ac>7&&(this.co_j.ac=0),this.co_j.ac>3){this.co_j.pt=1e3;var s=this.getBGZ(t,i);(s>=216&&s<=219||s>=206&&s<=209)&&(this.co_j.pt=1010)}if(1==this.mp.tr1_c)if(this.checkStage()>=1)this.mp_mode=100,this.cc_hankei=this.cc_hankei_max,this.co_j.ac=0,this.dokan_khID=0,this.co_j.pt=100,this.mp.gs.play(25);else if(this.getBGZ(t,i)>=206&&this.getBGZ(t,i)<=209)if(2==this.mp.dokan_mode)for(var h=!1,e=0;e<=li(this.gg.di.height/32)-2;e++){for(var a=0;a<=li(this.gg.di.width/32)-2;a++)if((a<<5!=t||e<<5!=i)&&this.map_bg[a][e]==this.getBGZ(t,i)){t=a<<5,i=e<<5,this.co_j.ac=0,this.co_j.pt=1010,h=!0;break}if(h)break}else this.mp_mode=100,this.cc_hankei=this.cc_hankei_max,this.co_j.ac=0,this.dokan_khID=this.getBGZ(t,i)-205,this.co_j.pt=1010,this.mp.gs.play(25);else 216==this.getBGZ(t,i)?(this.km.init1(4),this.km.onKao(4,li((this.gg.di.width-272)/2),li(this.gg.di.height/2)-108,272,230),this.km.init1(3),this.km.setMessage(3,this.mp.mes1_name),this.mp.addSerifu(3,1,3),this.km.activeSerifu(3,li((this.gg.di.width-272)/2),li(this.gg.di.height/2),272,this.mp.gamecolor_message_name),this.km.mode=200,this.co_j.pt=1010,this.co_j.ac=0):217==this.getBGZ(t,i)?(this.km.init1(4),this.km.onKao(4,li((this.gg.di.width-272)/2),li(this.gg.di.height/2)-108,272,232),this.km.init1(3),this.km.setMessage(3,this.mp.mes2_name),this.mp.addSerifu(3,3,3),this.km.activeSerifu(3,li((this.gg.di.width-272)/2),li(this.gg.di.height/2),272,this.mp.gamecolor_message_name),this.km.mode=300,this.co_j.pt=1010,this.co_j.ac=0):218==this.getBGZ(t,i)?(this.km.init1(4),this.km.onKao(4,li((this.gg.di.width-272)/2),li(this.gg.di.height/2)-108,216,234),this.shop_kattaitem<0?(this.km.init1(3),this.km.setMessage(3,this.mp.shop_name),this.mp.addSerifu(3,5,3),this.km.activeSerifu(3,li((this.gg.di.width-272)/2),li(this.gg.di.height/2),216,this.mp.gamecolor_message_name),this.km.mode=400):(this.km.init1(3),this.km.setMessage(3,this.mp.shop_name),this.mp.addSerifu(3,8,3),this.km.activeSerifu(3,li((this.gg.di.width-272)/2),li(this.gg.di.height/2),216,this.mp.gamecolor_message_name),this.km.mode=210),this.co_j.pt=1010,this.co_j.ac=0):219==this.getBGZ(t,i)&&(this.km.init1(4),this.km.onKao(4,li((this.gg.di.width-272)/2),li(this.gg.di.height/2)-108,272,236),this.km.init1(3),this.km.setMessage(3,this.mp.setumei_name),this.mp.addSerifu(3,9,3),this.km.activeSerifu(3,li((this.gg.di.width-272)/2),li(this.gg.di.height/2),272,this.mp.gamecolor_message_name),this.km.mode=500,this.co_j.pt=1010,this.co_j.ac=0);else this.gk.up_f?221==this.getBGZ(t,i-32)&&(this.co_j.vy=-4,this.co_j.ac=-1):this.gk.down_f?221==this.getBGZ(t,i+32)&&(this.co_j.vy=4,this.co_j.ac=-1):this.gk.left_f?(this.co_j.muki=0,222==this.getBGZ(t-32,i)&&(this.co_j.vx=-4,this.co_j.ac=-1),this.getBGZ(t+32,i)>=212&&this.getBGZ(t+32,i)<=215&&(this.co_j.vx=-4,this.co_j.ac=-1)):this.gk.right_f&&(this.co_j.muki=1,222==this.getBGZ(t+32,i)&&(this.co_j.vx=4,this.co_j.ac=-1),this.getBGZ(t-32,i)>=212&&this.getBGZ(t-32,i)<=215&&(this.co_j.vx=4,this.co_j.ac=-1))}if(0!=this.co_j.vx||0!=this.co_j.vy){if(this.co_j.ac+=1,this.co_j.ac>3&&(this.co_j.ac=0),t+=this.co_j.vx,i+=this.co_j.vy,0!=this.co_j.vx?this.co_j.ac<=1?this.co_j.pt=103:this.co_j.pt=104:this.co_j.vy>=0?this.co_j.ac<=1?this.co_j.pt=202:this.co_j.pt=203:this.co_j.ac<=1?this.co_j.pt=204:this.co_j.pt=205,t%32==0&&i%32==0){var c=this.getBGZ(t,i);(220==c||c>=223&&c<=227||c>=216&&c<=219||c>=206&&c<=209)&&(this.co_j.vx=0,this.co_j.vy=0,this.co_j.ac=0),c=0,this.co_j.vx>0?c=this.getBGZ(t+32,i):this.co_j.vx<0&&(c=this.getBGZ(t-32,i)),c>=212&&c<=215&&(this.co_j.vx=0,this.co_j.vy=0,this.co_j.pt=100,this.co_j.ac=0)}t<=-32?(t=-32,this.co_j.vx=0,this.co_j.vy=0,this.co_j.ac=0):t>=this.gg.di.width-32&&(t=this.gg.di.width-32,this.co_j.vx=0,this.co_j.vy=0,this.co_j.ac=0),i<=-32?(i=-32,this.co_j.vx=0,this.co_j.vy=0,this.co_j.ac=0):i>=this.gg.di.height-32&&(i=this.gg.di.height-32,this.co_j.vx=0,this.co_j.vy=0,this.co_j.ac=0)}this.co_j.x=t,this.co_j.y=i}},{key:"circleCLS",value:function(t){for(var i=0;i<=12;i++){var s=Math.sin(.2617992*i);this.cc_p1_y[i]=li(this.gg.di.height/2)+Math.floor(s*t);var h=Math.cos(.2617992*i);this.cc_p1_x[i]=li(this.gg.di.width/2)+Math.floor(h*t),this.cc_p2_y[i]=li(this.gg.di.height/2)-Math.floor(s*t),this.cc_p2_x[i]=li(this.gg.di.width/2)-Math.floor(h*t)}this.gg.os_g.setColor(A.black),this.gg.os_g.fillPolygon(this.cc_p1_x,this.cc_p1_y,17),this.gg.os_g.fillPolygon(this.cc_p2_x,this.cc_p2_y,17)}},{key:"squareCLS",value:function(t,i){var s=.0174532925199433;this.cc_p1_x[0]=Math.floor(Math.cos((this.cc_kakudo+0)*s)*t)+li(this.gg.di.width/2),this.cc_p1_y[0]=Math.floor(Math.sin((this.cc_kakudo+0)*s)*t)+li(this.gg.di.height/2),this.cc_p1_x[1]=Math.floor(Math.cos((this.cc_kakudo+90)*s)*t)+li(this.gg.di.width/2),this.cc_p1_y[1]=Math.floor(Math.sin((this.cc_kakudo+90)*s)*t)+li(this.gg.di.height/2),this.cc_p1_x[2]=Math.floor(Math.cos((this.cc_kakudo+180)*s)*t)+li(this.gg.di.width/2),this.cc_p1_y[2]=Math.floor(Math.sin((this.cc_kakudo+180)*s)*t)+li(this.gg.di.height/2),this.cc_p1_x[3]=Math.floor(500*Math.cos((this.cc_kakudo+180)*s))+li(this.gg.di.width/2),this.cc_p1_y[3]=Math.floor(500*Math.sin((this.cc_kakudo+180)*s))+li(this.gg.di.height/2),this.cc_p1_x[4]=Math.floor(700*Math.cos((this.cc_kakudo+135)*s))+li(this.gg.di.width/2),this.cc_p1_y[4]=Math.floor(700*Math.sin((this.cc_kakudo+135)*s))+li(this.gg.di.height/2),this.cc_p1_x[5]=Math.floor(700*Math.cos((this.cc_kakudo+45)*s))+li(this.gg.di.width/2),this.cc_p1_y[5]=Math.floor(700*Math.sin((this.cc_kakudo+45)*s))+li(this.gg.di.height/2),this.cc_p1_x[6]=Math.floor(500*Math.cos((this.cc_kakudo+0)*s))+li(this.gg.di.width/2),this.cc_p1_y[6]=Math.floor(500*Math.sin((this.cc_kakudo+0)*s))+li(this.gg.di.height/2),this.cc_p2_x[0]=Math.floor(Math.cos((this.cc_kakudo+180)*s)*t)+li(this.gg.di.width/2),this.cc_p2_y[0]=Math.floor(Math.sin((this.cc_kakudo+180)*s)*t)+li(this.gg.di.height/2),this.cc_p2_x[1]=Math.floor(Math.cos((this.cc_kakudo+270)*s)*t)+li(this.gg.di.width/2),this.cc_p2_y[1]=Math.floor(Math.sin((this.cc_kakudo+270)*s)*t)+li(this.gg.di.height/2),this.cc_p2_x[2]=Math.floor(Math.cos((this.cc_kakudo+360)*s)*t)+li(this.gg.di.width/2),this.cc_p2_y[2]=Math.floor(Math.sin((this.cc_kakudo+360)*s)*t)+li(this.gg.di.height/2),this.cc_p2_x[3]=Math.floor(500*Math.cos((this.cc_kakudo+360)*s))+li(this.gg.di.width/2),this.cc_p2_y[3]=Math.floor(500*Math.sin((this.cc_kakudo+360)*s))+li(this.gg.di.height/2),this.cc_p2_x[4]=Math.floor(700*Math.cos((this.cc_kakudo+315)*s))+li(this.gg.di.width/2),this.cc_p2_y[4]=Math.floor(700*Math.sin((this.cc_kakudo+315)*s))+li(this.gg.di.height/2),this.cc_p2_x[5]=Math.floor(700*Math.cos((this.cc_kakudo+225)*s))+li(this.gg.di.width/2),this.cc_p2_y[5]=Math.floor(700*Math.sin((this.cc_kakudo+225)*s))+li(this.gg.di.height/2),this.cc_p2_x[6]=Math.floor(500*Math.cos((this.cc_kakudo+180)*s))+li(this.gg.di.width/2),this.cc_p2_y[6]=Math.floor(500*Math.sin((this.cc_kakudo+180)*s))+li(this.gg.di.height/2),this.gg.os_g.setColor(A.black),this.gg.os_g.fillPolygon(this.cc_p1_x,this.cc_p1_y,7),this.gg.os_g.fillPolygon(this.cc_p2_x,this.cc_p2_y,7)}}])&&yt(i.prototype,s),Object.defineProperty(i,"prototype",{writable:!1}),t}();function dt(t){return dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dt(t)}function jt(t,i){for(var s=0;s<i.length;s++){var h=i[s];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(t,(void 0,e=function(t,i){if("object"!==dt(t)||null===t)return t;var s=t[Symbol.toPrimitive];if(void 0!==s){var h=s.call(t,"string");if("object"!==dt(h))return h;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(h.key),"symbol"===dt(e)?e:String(e)),h)}var e}var ft=function(){function t(i,s,h){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.gg=i,this.gk=s,this.name_crys=h,this.hi=this.gg.spt_img[0],this.hih=this.gg.spt_img,this.hg=this.gg.os_g,this.ap=this.gg.ap,this.c=new Array(16),this.x=new Array(16),this.y=new Array(16),this.width=new Array(16),this.selectedIndex=new Array(16),this.item_kazu=new Array(16),this.message=new Array(16),this.item=fi(16,16),this.item_int=fi(16,16),this.item_color=new Array(16),this.list_IDlist=new Array(16),this.list_kazu=0,this.list_s=0,this.aw=-1,this.mode=0,this.kettei_c=0,this.cancel_c=0,this.c_fc=0,this.initAll()}var i,s;return i=t,(s=[{key:"initAll",value:function(){for(var t=0;t<=15;t++)this.init1(t);this.c_fc=0,this.gk.up_c=0,this.gk.down_c=0,this.aw=-1,this.kettei_c=2,this.cancel_c=2;for(var i=0;i<=15;i++)this.list_IDlist[i]=0;this.list_kazu=0,this.list_s=0}},{key:"init1",value:function(t){this.c[t]=0,this.x[t]=0,this.y[t]=0,this.width[t]=180,this.selectedIndex[t]=0,this.item_kazu[t]=0,this.message[t]="どうしますか？";for(var i=0;i<=15;i++)this.item[t][i]="";for(var s=0;s<=15;s++)this.item_int[t][s]=0}},{key:"setMessage",value:function(t,i){this.message[t]=i}},{key:"addItem",value:function(t,i){this.item[t][this.item_kazu[t]]=i,this.item_kazu[t]+=1}},{key:"addIntitem",value:function(t,i){this.item_int[t][this.item_kazu[t]]=i,this.item_kazu[t]+=1}},{key:"addItem2",value:function(t,i,s){this.item[t][this.item_kazu[t]]=i,this.item_int[t][this.item_kazu[t]]=s,this.item_kazu[t]+=1}},{key:"active",value:function(t,i,s,h){this.c[t]=100,this.x[t]=i,this.y[t]=s,this.width[t]=void 0!==h?h:180,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=t,this.kettei_c=2,this.cancel_c=2}},{key:"activeSerifutuki",value:function(t,i,s,h,e){this.c[t]=700,this.x[t]=i,this.y[t]=s,this.width[t]=h,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=t,this.kettei_c=2,this.cancel_c=2,this.item[t][15]=e}},{key:"activeKaimono",value:function(t,i,s,h){this.c[t]=900,this.x[t]=i,this.y[t]=s,this.width[t]=h,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=t,this.kettei_c=2,this.cancel_c=2}},{key:"activeIchigyou",value:function(t,i,s,h){this.c[t]=300,this.x[t]=i,this.y[t]=s,this.width[t]=h,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=t,this.kettei_c=2,this.cancel_c=2}},{key:"activeNigyou",value:function(t,i,s,h,e){this.c[t]=310,this.x[t]=i,this.y[t]=s,this.width[t]=h,this.item_color[t]=e,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=t,this.kettei_c=2,this.cancel_c=2}},{key:"activeYongyou",value:function(t,i,s,h){this.c[t]=320,this.x[t]=i,this.y[t]=s,this.width[t]=h,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=t,this.kettei_c=2,this.cancel_c=2}},{key:"activeYongyou2",value:function(t,i,s,h){this.c[t]=321,this.x[t]=i,this.y[t]=s,this.width[t]=h,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=t,this.kettei_c=2,this.cancel_c=2}},{key:"activeSerifu",value:function(t,i,s,h,e){this.c[t]=330,this.x[t]=i,this.y[t]=s,this.width[t]=h,this.item_color[t]=e,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=t,this.kettei_c=2,this.cancel_c=2}},{key:"activeYasumu",value:function(t,i,s){this.c[t]=1e3,this.x[t]=i,this.y[t]=s,this.width[t]=272,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=t,this.kettei_c=2,this.cancel_c=2}},{key:"onKao",value:function(t,i,s,h,e){this.c[t]=600,this.x[t]=i,this.y[t]=s,this.width[t]=h,this.item_int[t][0]=e}},{key:"onMituketa",value:function(t,i,s){this.c[t]=610,this.x[t]=i,this.y[t]=s,this.width[t]=200}},{key:"onOkozukai",value:function(t,i,s,h,e){this.c[t]=800,this.x[t]=i,this.y[t]=s,this.width[t]=h,this.item_int[t][0]=e}},{key:"activeIchigyouTime",value:function(t,i,s,h){this.c[t]=350,this.x[t]=i,this.y[t]=s,this.width[t]=h,this.item_int[t][0]=100}},{key:"activeNigyouTime",value:function(t,i,s,h,e){this.c[t]=360,this.x[t]=i,this.y[t]=s,this.width[t]=h,this.item_color[t]=e,this.item_int[t][0]=100}},{key:"activeJibun",value:function(t,i,s,h,e,a,c,o){this.c[t]=400,this.x[t]=i,this.y[t]=s,this.item_int[14][0]=e,this.item_int[14][1]=a,this.item_int[14][2]=c,this.item_int[14][3]=o,this.width[t]=h,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=t,this.kettei_c=2,this.cancel_c=2}},{key:"activeToujou",value:function(t,i,s,h,e,a){this.c[t]=420,this.x[t]=i,this.y[t]=s,this.item_int[t][2]=e,this.item[t][0]=a,this.width[t]=h,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=t,this.kettei_c=2,this.cancel_c=2}},{key:"initCS",value:function(){this.item_kazu[0]=8,this.selectedIndex[0]=0}},{key:"activeCS",value:function(){this.c[0]=500,this.x[0]=0,this.y[0]=0,this.width[0]=0,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=0,this.kettei_c=2}},{key:"off",value:function(t){this.c[t]=0}},{key:"offActivewindow",value:function(t,i){this.c[t]=0,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=i,this.kettei_c=2,this.cancel_c=2}},{key:"move",value:function(){this.c_fc+=1,this.c_fc>6&&(this.c_fc=0),this.aw>=0&&(this.gk.up_f?(this.gk.up_c+=1,this.gk.up_c>3&&(this.gk.up_c=1)):this.gk.up_c=0,this.gk.down_f?(this.gk.down_c+=1,this.gk.down_c>3&&(this.gk.down_c=1)):this.gk.down_c=0,1==this.gk.up_c?(this.selectedIndex[this.aw]-=1,this.c_fc=-1,this.selectedIndex[this.aw]<0&&(this.selectedIndex[this.aw]=this.item_kazu[this.aw]-1)):1==this.gk.down_c&&(this.selectedIndex[this.aw]+=1,this.c_fc=-1,this.selectedIndex[this.aw]>this.item_kazu[this.aw]-1&&(this.selectedIndex[this.aw]=0))),this.gk.tr1_f?0==this.kettei_c&&(this.kettei_c=1):this.kettei_c=0,this.gk.x_f?0==this.cancel_c&&(this.cancel_c=1):this.cancel_c=0}},{key:"drawMenus",value:function(){var t=this.hg._font;this.hg.setFont(new P(this.gg.font_message,0,12));for(var i=0;i<=15;i++){var s=this.c[i];if(0!=s)switch(s){case 100:if(this.drawWindowbox(this.x[i],this.y[i],this.width[i],30+14*this.item_kazu[i]),this.hg.setColor(this.ap.mp.gamecolor_message_text),this.hg.drawString(this.message[i],this.x[i]+24,this.y[i]+6+12),this.item_kazu[i]>=1)for(var h=0;h<=this.item_kazu[i]-1;h++)this.hg.drawString(this.item[i][h],this.x[i]+24,this.y[i]+6+18+14*h+12);i==this.aw?this.c_fc<=3&&this.hg.drawImage(this.hi[200],this.x[i]+6,this.y[i]+24+14*this.selectedIndex[i],this.ap):this.hg.drawImage(this.hi[200],this.x[i]+6,this.y[i]+24+14*this.selectedIndex[i],this.ap);break;case 200:this.hg.setColor(this.ap.mp.gamecolor_message_border),this.hg.fillRect(12,12,128,2),this.hg.fillRect(12,14,2,54),this.hg.fillRect(138,14,2,54),this.hg.fillRect(12,68,128,2),this.hg.setColor(this.ap.mp.gamecolor_message_back),this.hg.fillRect(14,14,124,54),this.hg.setColor(this.ap.mp.gamecolor_message_name),this.hg.drawString(this.item[14][0],18,30),(this.item_int[14][0]<=0||this.item_int[14][2]<=0)&&(this.hg.setColor(A.red),this.hg.drawString("戦闘不能",82,30)),this.hg.setColor(this.ap.mp.gamecolor_message_text),this.hg.drawString("HP\t"+this.item_int[14][0]+" / "+this.item_int[14][1],18,48),this.hg.drawString("PP\t"+this.item_int[14][2]+" / "+this.item_int[14][3],18,62);break;case 210:this.hg.setColor(this.ap.mp.gamecolor_message_border),this.hg.fillRect(160,12,128,2),this.hg.fillRect(160,14,2,54),this.hg.fillRect(286,14,2,54),this.hg.fillRect(160,68,128,2),this.hg.setColor(this.ap.mp.gamecolor_message_back),this.hg.fillRect(162,14,124,54),this.hg.setColor(A.green),this.hg.drawString(this.item[15][0],166,30),this.item_int[15][0]<=0&&(this.hg.setColor(A.red),this.hg.drawString("戦闘不能",230,30)),this.hg.setColor(this.ap.mp.gamecolor_message_text),this.hg.drawString("HP\t"+this.item_int[15][0]+" / "+this.item_int[15][1],166,48),this.hg.drawString("PP\t"+this.item_int[15][2]+" / "+this.item_int[15][3],166,62);break;case 220:this.hg.setColor(this.ap.mp.gamecolor_message_border),this.hg.fillRect(372,12,128,2),this.hg.fillRect(372,14,2,54),this.hg.fillRect(498,14,2,54),this.hg.fillRect(372,68,128,2),this.hg.setColor(this.ap.mp.gamecolor_message_back),this.hg.fillRect(374,14,124,54),this.hg.setColor(this.ap.mp.gamecolor_message_name),this.hg.drawString(this.item[15][0],378,30),(this.item_int[15][0]<=0||this.item_int[15][2]<=0)&&(this.hg.setColor(A.red),this.hg.drawString("戦闘不能",442,30)),this.hg.setColor(this.ap.mp.gamecolor_message_text),this.hg.drawString("HP\t"+this.item_int[15][0]+" / "+this.item_int[15][1],378,48),this.hg.drawString("PP\t"+this.item_int[15][2]+" / "+this.item_int[15][3],378,62);break;case 300:this.drawWindowbox(this.x[i],this.y[i],this.width[i],40),this.hg.setColor(this.ap.mp.gamecolor_message_text),this.hg.drawString(this.item[i][0],this.x[i]+6,this.y[i]+6+12),this.c_fc<=3&&this.gg.drawPT(this.x[i]+vi(this.width[i]-14,1),this.y[i]+6+14+0+2,201,0);break;case 310:this.drawWindowbox(this.x[i],this.y[i],this.width[i],58),this.hg.setColor(this.item_color[i]),this.hg.drawString(this.item[i][0],this.x[i]+6,this.y[i]+6+12),this.hg.setColor(this.ap.mp.gamecolor_message_text),this.hg.drawString(this.item[i][1],this.x[i]+6,this.y[i]+6+18+12),this.c_fc<=3&&this.gg.drawPT(this.x[i]+vi(this.width[i]-14,1),this.y[i]+6+18+14+2,71,0);break;case 320:this.drawWindowbox(this.x[i],this.y[i],this.width[i],66+14*(this.item_kazu[i]-3)+14),this.hg.setColor(A.magenta),this.hg.drawString(this.item[i][0],this.x[i]+6,this.y[i]+6+12),this.hg.setColor(this.ap.mp.gamecolor_message_text),this.hg.drawString(this.item[i][1],this.x[i]+6,this.y[i]+6+18+12),this.hg.setColor(this.ap.mp.gamecolor_message_name),this.hg.drawString(this.item[i][2],this.x[i]+6,this.y[i]+6+36+12),this.hg.setColor(this.ap.mp.gamecolor_message_text);for(var e=0;e<=this.item_kazu[3]-4;e++)this.hg.drawString(this.item[3][e+3],this.x[3]+6,this.y[3]+6+54+14*e+12);this.c_fc<=3&&this.gg.drawPT(this.x[i]+vi(this.width[i]-14,1),this.y[i]+6+18+36+14*(this.item_kazu[i]-3)+2,71,0);break;case 321:this.drawWindowbox(this.x[i],this.y[i],this.width[i],108),this.hg.setColor(this.ap.mp.gamecolor_message_name),this.hg.drawString(this.item[i][0],this.x[i]+6,this.y[i]+6+12),this.hg.setColor(this.ap.mp.gamecolor_message_text),this.hg.drawString(this.item[i][1],this.x[i]+6,this.y[i]+6+18+12),this.hg.setColor(A.magenta),this.hg.drawString(this.item[i][2],this.x[i]+6,this.y[i]+6+36+12),this.hg.setColor(this.ap.mp.gamecolor_message_text),this.hg.drawString(this.item[i][3],this.x[i]+6,this.y[i]+6+54+12),this.hg.setColor(this.ap.mp.gamecolor_message_text),this.hg.drawString(this.item[i][4],this.x[i]+6,this.y[i]+6+54+14+12),this.c_fc<=3&&this.gg.drawPT(this.x[i]+vi(this.width[i]-14,1),this.y[i]+6+18+36+14+14+2,71,0);break;case 330:if(this.drawWindowbox(this.x[i],this.y[i],this.width[i],30+14*(this.item_kazu[i]+1)),this.hg.setColor(this.item_color[i]),this.hg.drawString(this.message[i],this.x[i]+6,this.y[i]+6+12),this.hg.setColor(this.ap.mp.gamecolor_message_text),this.item_kazu[i]>=1)for(var a=0;a<=this.item_kazu[i]-1;a++)this.hg.drawString(this.item[i][a],this.x[i]+6,this.y[i]+6+18+14*a+12);i==this.aw?this.c_fc<=3&&this.gg.drawPT(this.x[i]+vi(this.width[i]-14,1),this.y[i]+6+18+14*this.item_kazu[i]+2,201,0):this.gg.drawPT(this.x[i]+vi(this.width[i]-14,1),this.y[i]+6+18+14*this.item_kazu[i]+2,201,0);break;case 350:if(100==this.item_int[i][0]){this.item_int[i][0]=55;break}this.drawWindowbox(this.x[i],this.y[i],this.width[i],26),this.hg.setColor(this.ap.mp.gamecolor_message_text),this.hg.drawString(this.item[i][0],this.x[i]+6,this.y[i]+6+12),this.item_int[i][0]-=1,this.item_int[i][0]<=0&&this.off(i);break;case 360:200==this.item_int[i][0]?(this.drawWindowbox(this.x[i],this.y[i],this.width[i],44),this.hg.setColor(this.item_color[i]),this.hg.drawString(this.item[i][0],this.x[i]+6,this.y[i]+6+12),this.hg.setColor(this.ap.mp.gamecolor_message_text),this.hg.drawString(this.item[i][1],this.x[i]+6,this.y[i]+6+18+12)):100==this.item_int[i][0]?this.item_int[i][0]=55:(this.drawWindowbox(this.x[i],this.y[i],this.width[i],44),this.hg.setColor(this.item_color[i]),this.hg.drawString(this.item[i][0],this.x[i]+6,this.y[i]+6+12),this.hg.setColor(this.ap.mp.gamecolor_message_text),this.hg.drawString(this.item[i][1],this.x[i]+6,this.y[i]+6+18+12),this.item_int[i][0]-=1,this.item_int[i][0]<=0&&this.off(i));break;case 400:this.drawWindowbox(this.x[i],this.y[i],this.width[i],128),this.hg.setColor(A.yellow),this.hg.drawString(this.name_crys+"のステータス",this.x[i]+6,this.y[i]+6+12),this.hg.setColor(this.ap.mp.gamecolor_message_text),this.hg.drawString("HP\t"+this.item_int[14][0]+" / "+this.item_int[14][1],this.x[i]+6,this.y[i]+6+18+0+12),this.hg.drawString("おこづかい\t",this.x[i]+6,this.y[i]+6+18+28+12),this.hg.drawString(this.item_int[14][2]+"円",this.x[i]+6+72,this.y[i]+6+18+42+12),this.hg.drawString("得点",this.x[i]+6,this.y[i]+6+18+56+12),this.hg.drawString(this.item_int[14][3]+"点",this.x[i]+6+72,this.y[i]+6+18+70+12),this.c_fc<=3&&this.gg.drawPT(this.x[i]+vi(this.width[i]-14,1),this.y[i]+6+18+84+2,71,0);break;case 420:this.drawWindowbox(this.x[i],this.y[i],this.width[i],116),this.hg.setColor(new A(96,96,96)),this.hg.fillRect(this.x[i]+12,this.y[i]+12,this.width[i]-24,48),this.gg.drawPT(this.x[i]+12+vi(this.width[i]-24-32,1),this.y[i]+12+8,this.item_int[i][2],0),this.hg.setColor(this.ap.mp.gamecolor_message_name),this.hg.drawString(this.item[i][0],this.x[i]+12,this.y[i]+64+12),this.hg.setColor(this.ap.mp.gamecolor_message_text),this.hg.drawString("これからも、よろしくね！",this.x[i]+12,this.y[i]+68+14+12),this.c_fc<=3&&this.gg.drawPT(this.x[i]+vi(this.width[i]-14,1),this.y[i]+68+28+2,71,0);break;case 410:-2==this.item_int[i][0]?(this.drawWindowbox(this.x[i],this.y[i],this.width[i],116),this.hg.setColor(new A(96,96,96)),this.hg.fillRect(this.x[i]+12,this.y[i]+12,this.width[i]-24,48),this.gg.drawPT(this.x[i]+12+vi(this.width[i]-24-32,1),this.y[i]+12+8,this.item_int[i][2],0),this.hg.setColor(A.yellow),this.hg.drawString(this.item[i][0],this.x[i]+12,this.y[i]+64+12),this.hg.setColor(this.ap.mp.gamecolor_message_text),this.hg.drawString("捕獲不可能",this.x[i]+12,this.y[i]+68+14+12),this.c_fc<=3&&this.gg.drawPT(this.x[i]+vi(this.width[i]-14,1),this.y[i]+68+28+2,71,0)):this.item_int[i][0]<0?(this.drawWindowbox(this.x[i],this.y[i],this.width[i],116),this.hg.setColor(new A(96,96,96)),this.hg.fillRect(this.x[i]+12,this.y[i]+12,this.width[i]-24,48),this.gg.drawPT(this.x[i]+12+vi(this.width[i]-24-32,1),this.y[i]+12+8,this.item_int[i][2],0),this.hg.setColor(A.yellow),this.hg.drawString(this.item[i][0],this.x[i]+12,this.y[i]+64+12),this.hg.setColor(this.ap.mp.gamecolor_message_text),this.hg.drawString("現在調査中",this.x[i]+12,this.y[i]+68+14+12),this.c_fc<=3&&this.gg.drawPT(this.x[i]+vi(this.width[i]-14,1),this.y[i]+68+28+2,71,0)):(this.drawWindowbox(this.x[i],this.y[i],this.width[i],158),this.hg.setColor(new A(96,96,96)),this.hg.fillRect(this.x[i]+12,this.y[i]+12,this.width[i]-24,48),this.gg.drawPT(this.x[i]+12+vi(this.width[i]-24-32,1),this.y[i]+12+8,this.item_int[i][2],0),this.hg.setColor(A.yellow),this.hg.drawString(this.item[i][0],this.x[i]+12,this.y[i]+64+12),this.hg.setColor(this.ap.mp.gamecolor_message_text),this.hg.drawString("最大HP",this.x[i]+12,this.y[i]+68+14+12),this.hg.drawString(""+this.item_int[i][0],this.x[i]+56,this.y[i]+68+28+12),this.hg.drawString("最大PP",this.x[i]+12,this.y[i]+68+42+12),this.hg.drawString(""+this.item_int[i][1],this.x[i]+56,this.y[i]+68+56+12),this.c_fc<=3&&this.gg.drawPT(this.x[i]+vi(this.width[i]-14,1),this.y[i]+68+70+2,71,0));break;case 500:this.c_fc<=3||0!=this.aw?this.hg.drawImage(this.hi[72],12+28*this.selectedIndex[i],288,this.ap):this.hg.drawImage(this.hi[73],12+28*this.selectedIndex[i],288,this.ap);break;case 600:this.drawWindowbox(this.x[i],this.y[i],this.width[i],96);var c=this.item_int[i][0],o=this.x[i]+vi(this.width[i]-64,1),_=this.y[i]+16;this.gg.drawPT(o,_,c,0),this.gg.drawPT(o+32,_,c+1,0),this.gg.drawPT(o,_+32,c+10,0),this.gg.drawPT(o+32,_+32,c+11,0);break;case 610:this.drawWindowbox(this.x[i],this.y[i],this.width[i],30+14*this.item_kazu[i]),this.hg.setColor(A.yellow),this.hg.drawString("モンスターずかん",this.x[i]+6,this.y[i]+6+12),this.hg.setColor(this.ap.mp.gamecolor_message_text),this.hg.drawString("見つけた数\t"+this.item_int[i][0],this.x[i]+6,this.y[i]+6+18+0+12),this.hg.drawString("捕まえた数\t"+this.item_int[i][1],this.x[i]+6,this.y[i]+6+18+14+12);break;case 700:if(this.drawWindowbox(this.x[i],this.y[i],this.width[i],30+14*this.item_kazu[i]+18),this.hg.setColor(this.ap.mp.gamecolor_message_name),this.hg.drawString(this.item[i][15],this.x[i]+24,this.y[i]+6+12),this.hg.setColor(this.ap.mp.gamecolor_message_text),this.hg.drawString(this.message[i],this.x[i]+24,this.y[i]+6+12+18),this.item_kazu[i]>=1)for(var r=0;r<=this.item_kazu[i]-1;r++)this.hg.drawString(this.item[i][r],this.x[i]+24,this.y[i]+6+18+14*r+12+18);i==this.aw?this.c_fc<=3&&this.gg.drawPT(this.x[i]+6,this.y[i]+6+18+14*this.selectedIndex[i]+18,200,0):this.gg.drawPT(this.x[i]+6,this.y[i]+6+18+14*this.selectedIndex[i]+18,200,0);break;case 800:this.drawWindowbox(this.x[i],this.y[i],this.width[i],44),this.hg.setColor(A.yellow),this.hg.drawString("おこづかい",this.x[i]+6,this.y[i]+6+12),this.hg.setColor(this.ap.mp.gamecolor_message_text),this.hg.drawString(this.item_int[i][0]+"円",this.x[i]+6,this.y[i]+6+18+12);break;case 900:if(this.drawWindowbox(this.x[i],this.y[i],this.width[i],30+14*this.item_kazu[i]),this.hg.setColor(this.ap.mp.gamecolor_message_text),this.hg.drawString(this.message[i],this.x[i]+24,this.y[i]+6+12),this.item_kazu[i]>=1)for(var n=0;n<=this.item_kazu[i]-1;n++)this.hg.drawString(this.item[i][n],this.x[i]+24,this.y[i]+6+18+14*n+12),this.hg.drawString(""+this.item_int[i][n],this.x[i]+24+116,this.y[i]+6+18+14*n+12);i==this.aw?this.c_fc<=3&&this.gg.drawPT(this.x[i]+6,this.y[i]+6+18+14*this.selectedIndex[i],200,0):this.gg.drawPT(this.x[i]+6,this.y[i]+6+18+14*this.selectedIndex[i],200,0);break;case 1e3:this.drawWindowbox(this.x[i],this.y[i],this.width[i],98),this.hg.setColor(new A(96,96,96)),this.hg.fillRect(this.x[i]+12,this.y[i]+12,248,48);for(var m=0;m<=5;m++)this.item_int[i][m]>0&&this.gg.drawPT(this.x[i]+12+8+40*m,this.y[i]+12+8,this.item_int[i][m],0);this.hg.setColor(this.ap.mp.gamecolor_message_text),this.hg.drawString("みんな、元気になった。",this.x[i]+12,this.y[i]+64+12),this.c_fc<=3&&this.gg.drawPT(this.x[i]+vi(this.width[i]-14,1),this.y[i]+64+14+2,71,0)}}this.hg.setFont(t)}},{key:"drawWindowbox",value:function(t,i,s,h){this.hg.setColor(this.ap.mp.gamecolor_message_border),this.hg.fillRect(t,i,s,2),this.hg.fillRect(t,i+2,2,h-4),this.hg.fillRect(t+s-2,i+2,2,h-4),this.hg.fillRect(t,i+h-2,s,2),this.hg.setColor(this.ap.mp.gamecolor_message_back),this.hg.fillRect(t+2,i+2,s-4,h-4)}}])&&jt(i.prototype,s),Object.defineProperty(i,"prototype",{writable:!1}),t}();function lt(t){return lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lt(t)}function vt(t,i){return function(t){if(Array.isArray(t))return t}(t)||function(t,i){var s=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=s){var h,e,a,c,o=[],_=!0,r=!1;try{if(a=(s=s.call(t)).next,0===i){if(Object(s)!==s)return;_=!1}else for(;!(_=(h=a.call(s)).done)&&(o.push(h.value),o.length!==i);_=!0);}catch(t){r=!0,e=t}finally{try{if(!_&&null!=s.return&&(c=s.return(),Object(c)!==c))return}finally{if(r)throw e}}return o}}(t,i)||function(t,i){if(t){if("string"==typeof t)return xt(t,i);var s=Object.prototype.toString.call(t).slice(8,-1);return"Object"===s&&t.constructor&&(s=t.constructor.name),"Map"===s||"Set"===s?Array.from(t):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?xt(t,i):void 0}}(t,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xt(t,i){(null==i||i>t.length)&&(i=t.length);for(var s=0,h=new Array(i);s<i;s++)h[s]=t[s];return h}function kt(t,i){for(var s=0;s<i.length;s++){var h=i[s];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(t,(void 0,e=function(t,i){if("object"!==lt(t)||null===t)return t;var s=t[Symbol.toPrimitive];if(void 0!==s){var h=s.call(t,"string");if("object"!==lt(h))return h;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(h.key),"symbol"===lt(e)?e:String(e)),h)}var e}s(1142);var wt=function(){function t(i,s,h,e){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.width=i,this.height=s,this.gg=h,this.mp=e,this.map_bg=fi(this.width,this.height),this.map_bg_layer=fi(this.width,this.height),this.map_string=new Array(this.height),this.map_string_layer=new Array(this.height),this.wx=0,this.wy=0,this.wx_mini=0,this.wy_mini=0,this.wx_max=0,this.wy_max=0,this.os2_wx=0,this.os2_wy=0,this.hi=this.gg.spt_img[0],this.gazou_x=0,this.gazou_y=0,this.second_gazou_x=0,this.second_gazou_y=0,this.my_wx_mini=0,this.my_wx_max=0,this.my_wy_mini=0,this.my_wy_max=0,this.init()}var i,s;return i=t,(s=[{key:"init",value:function(){this.wx=0,this.wy=0,this.os2_wx=0,this.os2_wy=0;for(var t=0;t<this.height;t++)for(var i=0;i<this.width;i++)this.map_bg[i][t]=0,this.map_bg_layer[i][t]=0;for(var s=".".repeat(this.width+1),h=0;h<this.height;h++)this.map_string[h]=s,this.map_string_layer[h]=s.repeat(2)}},{key:"setBank",value:function(t){var i=30;1===t?i=40:2===t?i=50:4===t&&(i=60),this.gg.spt_img[0][8]=this.gg.spt_img[0][0],this.gg.spt_img[0][31]=this.gg.spt_img[0][0];for(var s=0;s<=7;s++)this.gg.spt_img[0][10+s]=this.gg.spt_img[0][i+s]}},{key:"drawMap",value:function(t,i){this.wx=t,this.wy=i;var s=this.wx%32,h=this.wy%32;this.os2_wx=vi(this.wx,5),this.os2_wy=vi(this.wy,5),this.gg.fill2();for(var e=0;e<=li(this.gg.di.height/32);e++)for(var a=0;a<=li(this.gg.di.width/32);a++)this.map_bg[this.os2_wx+a][this.os2_wy+e]>0&&this.gg.drawPT2(32+32*a,32+32*e,this.map_bg[this.os2_wx+a][this.os2_wy+e]);this.gg.os_g.drawImage(this.gg.os2_img,-32-s,-32-h)}},{key:"drawMapLayer",value:function(t,i,s,h,e){var a=this;this.wx=t,this.wy=i;var c,o,_=this.wx%32,r=this.wy%32;if(this.os2_wx=vi(this.wx,5),this.os2_wy=vi(this.wy,5),3===e||4===e)this.gg.os2_g.drawImage(this.gg.os_img,32+_,32+r);else{if(this.gg.fill2(),this.mp.second_gazou_visible&&1===this.mp.second_gazou_priority&&null!=this.mp.second_gazou_img){var n=[1,1],m=0,g=0,p=this.gg.di.width,y=this.gg.di.height;2===this.mp.second_gazou_scroll?(m=-vi(this.wx-32,2)%p,n[0]=2):3===this.mp.second_gazou_scroll?(m=-vi(this.wx-32,1)%p,n[0]=2):4===this.mp.second_gazou_scroll?(this.second_gazou_x+=this.mp.second_gazou_scroll_speed_x,this.second_gazou_y+=this.mp.second_gazou_scroll_speed_y,this.second_gazou_x<-this.gg.di.width&&(this.second_gazou_x+=this.gg.di.width),this.second_gazou_x>0&&(this.second_gazou_x-=this.gg.di.width),this.second_gazou_y<-this.gg.di.height&&(this.second_gazou_y+=this.gg.di.height),this.second_gazou_y>0&&(this.second_gazou_y-=this.gg.di.height),m=this.second_gazou_x,g=this.second_gazou_y,n=[2,2]):5===this.mp.second_gazou_scroll?(m=-vi(3*(this.wx-32),1)%p,n[0]=2):6===this.mp.second_gazou_scroll?(y=960,m=-vi(3*(this.wx-32),1)%p,g=-(this.wy-320),n[0]=2):7===this.mp.second_gazou_scroll?(m=-(this.wx-32)%p,g=-(this.wy-320)%y,n=[2,2]):8===this.mp.second_gazou_scroll&&(m=this.mp.second_gazou_scroll_x+32-this.wx,g=this.mp.second_gazou_scroll_y+320-this.wy,(m>=this.gg.di.width||g>=this.gg.di.height)&&(n=[0,0]));for(var u=0;u<n[0];u++)for(var d=0;d<n[1];d++)c=m+u*p,o=g+d*y,a.gg.os2_g.drawImage(a.mp.second_gazou_img,c+_+32,o+r+32)}var j=this.mp.setbacki_f?this.mp.setbacki_img:this.gg.li[3+this.mp.stage_haikei];if(null!=j){var f=function(t,i){a.gg.os2_g.drawImage(j,t+_+32,i+r+32)},l=[1,1],v=0,x=0,k=this.gg.di.width,w=this.gg.di.height;2===h?(v=-vi(this.wx-32,2)%k,l[0]=2):3===h?(this.gazou_x-=2,this.gazou_x<=-this.gg.di.width&&(this.gazou_x+=this.gg.di.width),v=this.gazou_x,l[0]=2):4===h?(this.gazou_x+=this.mp.gazou_scroll_speed_x,this.gazou_y+=this.mp.gazou_scroll_speed_y,this.gazou_x<-this.gg.di.width&&(this.gazou_x+=this.gg.di.width),this.gazou_x>0&&(this.gazou_x-=this.gg.di.width),this.gazou_y<-this.gg.di.height&&(this.gazou_y+=this.gg.di.height),this.gazou_y>0&&(this.gazou_y-=this.gg.di.height),v=this.gazou_x,x=this.gazou_y,l=[2,2]):5===h?(x=-vi(this.wy-320,1)%w,l[1]=2):6===h?(v=-vi(this.wx-32,1)%k,x=-vi(this.wy-320,1)%w,l=[2,2]):7===h?(v=-(this.wx-32)%k,x=-(this.wy-320)%w,l=[2,2]):8===h?(w=640,v=-vi(this.wx-32,1)%k,x=-vi((this.wy-320)*w/(2*this.gg.di.height),1)%w,l[0]=2):9===h?(k=1024,w=640,v=-vi(this.wx-32,1)%k,x=-vi((this.wy-320)*w/(2*this.gg.di.height),1)%w,l[0]=2):10===h?(v=-vi(this.wx-32,1)%k,l[0]=2):11===h&&(v=this.mp.gazou_scroll_x+32-this.wx,x=this.mp.gazou_scroll_y+320-this.wy,(v>=this.gg.di.width||x>=this.gg.di.height)&&(l=[0,0]));for(var b=0;b<l[0];b++)for(var S=0;S<l[1];S++)f(v+b*k,x+S*w)}}if(2!==e){if(4!==e&&2===this.gg.layer_mode)for(var M=0;M<=li(this.gg.di.height/32);M++)for(var C=0;C<=li(this.gg.di.width/32);C++){var I=this.map_bg_layer[this.os2_wx+C][this.os2_wy+M];I>0&&I<255&&this.gg.drawMapchip2(32+32*C,32+32*M,I)}if(3!==e)for(var B=2!==this.gg.layer_mode||2===this.mp.water_visible&&2===this.gg.layer_mode,G=0;G<=li(this.gg.di.height/32);G++)for(var z=0;z<=li(this.gg.di.width/32);z++){var P=this.os2_wx+z,N=this.os2_wy+G,O=this.map_bg[P][N],Y=this.mp.map_data_option[P][N];switch(3===this.mp.clear_type?2===this.gg.layer_mode&&2===this.mp.water_visible&&(4===O&&2!==this.mp.water_visible||29===O)&&(O=0):2===this.gg.layer_mode&&(4===O&&2!==this.mp.water_visible||15===O||18===O||19===O||29===O||10===O&&!Y)&&(O=0),O){case 5:case 15:case 18:case 19:B&&4===this.map_bg[P][N-1]&&this.gg.drawPT2(32+32*z,32+32*G,4);break;case 6:B&&4===this.map_bg[P][N+1]&&this.gg.drawPT2(32+32*z,32+32*G,4);break;case 7:O=96+s%2;break;case 8:var T=this.mp.stage_max>=2&&this.mp.stage>=this.mp.stage_max;(2!==this.mp.clear_type&&3!==this.mp.clear_type||this.mp.coin_kazu<=0)&&(O=94,T&&(O=98),s>=2&&(O+=1),B&&4===this.map_bg[P-1][N]&&this.gg.drawPT2(32+32*z,32+32*G,4));break;case 9:O=90+s,B&&4===this.map_bg[P-1][N]&&this.gg.drawPT2(32+32*z,32+32*G,4);break;case 10:B&&4===this.map_bg[P-1][N]&&this.gg.drawPT2(32+32*z,32+32*G,4)}if(O>0){if((18===O||19===O)&&Y){this.gg.os2_g.setColor(A.white);for(var R=0;R<32;R++)18===O?this.gg.os2_g.fillRect(32+32*z+R,32+32*G+31-R,1,1):this.gg.os2_g.fillRect(32+32*z+R,32+32*G+R,1,1);O=0}this.gg.drawPT2(32+32*z,32+32*G,O)}}this.gg.os_g.drawImage(this.gg.os2_img,-32-_,-32-r)}else this.gg.os_g.drawImage(this.gg.os2_img,-32-_,-32-r)}},{key:"drawMapScroll",value:function(t){var i=this.wx%32,s=this.wy%32,h=vi(this.wx,5),e=vi(this.wy,5),a=h-this.os2_wx,c=e-this.os2_wy;if(Math.abs(a)>1||Math.abs(c)>1)this.drawMap(this.wx,this.wy);else if(0===a&&0===c);else{this.gg.os2_g.copyArea(32+32*a,32+32*c,this.gg.di.width+32,this.gg.di.height+32,32*-a,32*-c),0!==a&&(this.os2_wx=h),0!==c&&(this.os2_wy=e);var o=[];if(0!==c)for(var _=c<0?0:li(this.gg.di.height/32),r=0;r<=li(this.gg.di.width/32);r++)o.push([this.map_bg[this.os2_wx+r][this.os2_wy+_],1+r,1+_]);if(0!==a)for(var n=a<0?0:li(this.gg.di.width/32),m=0;m<=li(this.gg.di.height/32);m++)0===m&&c<0||m===li(this.gg.di.height/32)&&c>0||o.push([this.map_bg[this.os2_wx+n][this.os2_wy+m],1+n,1+m]);for(var g=0,p=o;g<p.length;g++){var y=vt(p[g],3),u=y[0],d=y[1],j=y[2];u<=0||this.gg.os2_g.drawImage(this.hi[u],32*d,32*j)}}for(var f=0;f<=li(this.gg.di.height/32);f++)for(var l=0;l<=li(this.gg.di.width/32);l++){var v=this.os2_wx+l,x=this.os2_wy+f,k=this.mp.map_data_option[v][x];switch(this.map_bg[v][x]){case 5:4===this.map_bg[v][x-1]&&(this.gg.drawBG2(32+32*l,32+32*f,4),this.gg.drawPT2(32+32*l,32+32*f,5));break;case 6:4===this.map_bg[v][x+1]&&(this.gg.drawBG2(32+32*l,32+32*f,4),this.gg.drawPT2(32+32*l,32+32*f,6));break;case 7:var w=96+t%2;this.gg.drawBG2(32+32*l,32+32*f,w);break;case 8:var b=this.mp.stage_max>=2&&this.mp.stage>=this.mp.stage_max,S=2!==this.mp.clear_type&&3!==this.mp.clear_type||this.mp.coin_kazu<=0,M=94;if(b&&(M=98),0===t&&(M+=1),4===this.map_bg[v-1][x]){if(this.gg.drawBG2(32+32*l,32+32*f,4),!S)break;this.gg.drawPT2(32+32*l,32+32*f,M)}else{if(!S)break;this.gg.drawBG2(32+32*l,32+32*f,M)}break;case 9:4===this.map_bg[v-1][x]?(this.gg.drawBG2(32+32*l,32+32*f,4),this.gg.drawPT2(32+32*l,32+32*f,90+t)):this.gg.drawBG2(32+32*l,32+32*f,90+t);break;case 10:4===this.map_bg[v-1][x]&&(this.gg.drawBG2(32+32*l,32+32*f,4),this.gg.drawPT2(32+32*l,32+32*f,10));break;case 15:4===this.map_bg[v][x-1]&&(this.gg.drawBG2(32+32*l,32+32*f,4),this.gg.drawPT2(32+32*l,32+32*f,15));break;case 18:if(k){4===this.map_bg[v][x-1]?this.gg.drawBG2(32+32*l,32+32*f,4):(this.gg.os2_g.setColor(this.gg.backcolor),this.gg.os2_g.fillRect(32+32*l,32+32*f,32,32)),this.gg.os2_g.setColor(A.white);for(var C=0;C<32;C++)this.gg.os2_g.fillRect(32+32*l+C,32+32*f+31-C,1,1)}else 4===this.map_bg[v][x-1]&&(this.gg.drawBG2(32+32*l,32+32*f,4),this.gg.drawPT2(32+32*l,32+32*f,18));break;case 19:if(k){4===this.map_bg[v][x-1]?this.gg.drawBG2(32+32*l,32+32*f,4):(this.gg.os2_g.setColor(this.gg.backcolor),this.gg.os2_g.fillRect(32+32*l,32+32*f,32,32)),this.gg.os2_g.setColor(A.white);for(var I=0;I<32;I++)this.gg.os2_g.fillRect(32+32*l+I,32+32*f+I,1,1)}else 4===this.map_bg[v][x-1]&&(this.gg.drawBG2(32+32*l,32+32*f,4),this.gg.drawPT2(32+32*l,32+32*f,19))}}this.gg.os_g.drawImage(this.gg.os2_img,-32-i,-32-s)}},{key:"getBGCode",value:function(t,i){return this.map_bg[vi(t,5)][vi(i,5)]}},{key:"putBGCode",value:function(t,i,s){this.map_bg[t][i]=s,this.os2_wx<=t&&this.os2_wx+li(this.gg.di.width/32)>=t&&this.os2_wy<=i&&this.os2_wy+li(this.gg.di.height/32)>=i&&this.gg.drawBG2(32*(t-this.os2_wx)+32,32*(i-this.os2_wy)+32,s)}}])&&kt(i.prototype,s),Object.defineProperty(i,"prototype",{writable:!1}),t}();function bt(t){return bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bt(t)}function St(t,i){for(var s=0;s<i.length;s++){var h=i[s];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(t,(void 0,e=function(t,i){if("object"!==bt(t)||null===t)return t;var s=t[Symbol.toPrimitive];if(void 0!==s){var h=s.call(t,"string");if("object"!==bt(h))return h;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(h.key),"symbol"===bt(e)?e:String(e)),h)}var e}var Mt,Ct=function(){function t(){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.con=0,this.x=32,this.y=320,this.x2=32,this.y2=320,this.width=96,this.height=64,this.view_x=0,this.view_y=0,this.x_buff=this.x,this.y_buff=this.y,this.x2_buff=this.x2,this.y2_buff=this.y2,this.buff_f=!1,this.img=null,this.color=A.yellow,this.pt=0,this.pth=0,this.draw_f=!1,this.type=1}var i,s;return i=t,(s=[{key:"init",value:function(){this.con=0,this.x=32,this.y=320,this.x2=32,this.y2=320,this.width=96,this.height=64,this.view_x=0,this.view_y=0,this.x_buff=this.x,this.y_buff=this.y,this.x2_buff=this.x2,this.y2_buff=this.y2,this.buff_f=!1,this.img=null,this.color=A.yellow,this.pt=0,this.pth=0,this.draw_f=!1,this.type=1}},{key:"setImage",value:function(t){return this.img=t,!0}}])&&St(i.prototype,s),Object.defineProperty(i,"prototype",{writable:!1}),t}();function It(t,i){return function(t){if(Array.isArray(t))return t}(t)||function(t,i){var s=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=s){var h,e,a,c,o=[],_=!0,r=!1;try{if(a=(s=s.call(t)).next,0===i){if(Object(s)!==s)return;_=!1}else for(;!(_=(h=a.call(s)).done)&&(o.push(h.value),o.length!==i);_=!0);}catch(t){r=!0,e=t}finally{try{if(!_&&null!=s.return&&(c=s.return(),Object(c)!==c))return}finally{if(r)throw e}}return o}}(t,i)||Bt(t,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Bt(t,i){if(t){if("string"==typeof t)return Gt(t,i);var s=Object.prototype.toString.call(t).slice(8,-1);return"Object"===s&&t.constructor&&(s=t.constructor.name),"Map"===s||"Set"===s?Array.from(t):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?Gt(t,i):void 0}}function Gt(t,i){(null==i||i>t.length)&&(i=t.length);for(var s=0,h=new Array(i);s<i;s++)h[s]=t[s];return h}!function(t){t.Turtle={properties:{walk_speed:3},initFactory:function(t,i){return function(t){}},controllerFactory:function(t){return function(i,s){var h=i.x,e=i.y;if(100===i.c){if(s.ana_kazu>0){var a=s.anaCheckNormal(h,e);if(a>=0)return i.c=1300,i.x=32*s.ana_x[a],!0}var c=s.maps.getBGCode(h+15,e+31);if(18!==c&&19!==c&&(c=0),0===c&&s.maps.getBGCode(h+15,e+32)<=9||c>0&&s.getSakamichiY(h+15,e+31)>e){if(e+=5,s.maps.getBGCode(h+15,e+32)>=20&&(e=32*vi(e+32,5)-32),(18==s.maps.getBGCode(h+15,e+31)||19==s.maps.getBGCode(h+15,e+31))&&s.getSakamichiY(h+15,e+31)<e&&(e=s.getSakamichiY(h+15,e+31)),i.pt=140,i.pth=0,s.yuka_id_max>=0)for(var o=0;!(o>s.yuka_id_max);){if((p=s.yo[o]).con>=300&&p.con<350){var _=s.getSCOY(p.x,p.y,p.x2,p.y2,h+15);if(_>=0&&_<=e&&_+31>=e){e=_,i.c=104,i.c2=o,i.vx=-1;break}}else if(p.con>=350&&p.con<400){var r=s.getSHCOY(p.x,p.y,p.x2,p.y2,h+15);if(r>=0&&r-192<=e&&r+31+192>=e){e=r,i.c=104,i.c2=o,i.vx=-1;break}}else if(p.con>=400&&p.con<450){var n=s.getSWUpOY(p.x,p.y,p.x2,p.y2,h+15);if(n>=0&&n<=e&&n+31>=e){e=n,i.c=104,i.c2=o,i.vx=-1;break}}else if(p.con>=450&&p.con<500){var m=s.getSWDownOY(p.x,p.y,p.x2,p.y2,h+15);if(m>=0&&m<=e&&m+31>=e){e=m,i.c=104,i.c2=o,i.vx=-1;break}}o++}}else{vi(h+15,5)>vi(h+15-3,5)&&(18==c?e=32*vi(e+31,5):19==c&&(e=32*vi(e+31,5)-32),18==s.maps.getBGCode(h+15-3,e+32)&&e++),h-=t.walk_speed;var g=s.maps.getBGCode(h+15,e+31);18!=g&&19!=g||(e=s.getSakamichiY(h+15,e+31)),((g=s.maps.getBGCode(h,e))>=20||15==g||18==g)&&(h=32*vi(h,5)+32,i.c=105),18==c?vi(h+15,5)<vi(h+15+3,5)&&s.maps.getBGCode(h+15,e+32)<=9&&(h=32*vi(h,5)+32-15,i.c=105):19==c?vi(h+15,5)<vi(h+15+3,5)&&s.maps.getBGCode(h+15,e+32)<=9&&s.maps.getBGCode(h+15,e+31)<=9&&(h=32*vi(h,5)+32-15,e++,i.c=105):s.maps.getBGCode(h,e+32)<=9&&s.maps.getBGCode(h,e+31)<=9&&(h=32*vi(h,5)+32,i.c=105),i.pt=140+s.g_ac,i.pth=0}return i.x=h,i.y=e,!0}if(104===i.c){var p;if(i.pt=140+s.g_ac,i.pth=0,(p=s.yo[i.c2]).con>=300&&p.con<350){var y=li(80*p.x2/100);i.vx<0?(h-=t.walk_speed)<=p.x-y-15&&(h=p.x-y-15,i.vx=1):(i.pth=1,(h+=t.walk_speed)>=p.x+y-15&&(h=p.x+y-15,i.vx=-1)),e=s.getSCOY(p.x,p.y,p.x2,p.y2,h+15)}else p.con>=350&&p.con<400?(i.vx<0?(h-=t.walk_speed)<=p.x-15+8&&(h=p.x-15+8,i.vx=1):(i.pth=1,(h+=t.walk_speed)>=p.x+239-15-8&&(h=p.x+239-15-8,i.vx=-1)),e=s.getSHCOY(p.x,p.y,p.x2,p.y2,h+15)):p.con>=400&&p.con<450?(i.vx<0?(h-=t.walk_speed)<=p.x+8-15&&(h=p.x+8-15,i.vx=1):(i.pth=1,(h+=t.walk_speed)>=p.x+256-8-15&&(h=p.x+256-8-15,i.vx=-1)),e=s.getSWUpOY(p.x,p.y,p.x2,p.y2,h+15)):p.con>=450&&p.con<500&&(i.vx<0?(h-=t.walk_speed)<=p.x+8-15&&(h=p.x+8-15,i.vx=1):(i.pth=1,(h+=t.walk_speed)>=p.x+256-8-15&&(h=p.x+256-8-15,i.vx=-1)),e=s.getSWDownOY(p.x,p.y,p.x2,p.y2,h+15));return i.x=h,i.y=e,!0}if(105===i.c){if(s.ana_kazu>0){var u=s.anaCheckNormal(h,e);if(u>=0)return i.c=1300,i.x=32*s.ana_x[u],!0}var d=s.maps.getBGCode(h+15,e+31);18!=d&&19!=d&&(d=0),vi(h+15,5)<vi(h+15+3,5)&&(19==d?e=32*vi(e+31,5):18==d&&(e=32*vi(e+31,5)-32),19==s.maps.getBGCode(h+15+3,e+32)&&e++),h+=t.walk_speed;var j=s.maps.getBGCode(h+15,e+31);return 18!=j&&19!=j||(e=s.getSakamichiY(h+15,e+31)),((j=s.maps.getBGCode(h+31,e))>=20||15==j||19==j)&&(h=32*vi(h+31,5)-32,i.c=100),19==d?vi(h+15,5)>vi(h+15-3,5)&&s.maps.getBGCode(h+15,e+32)<=9&&(h=32*vi(h+15,5)-16,i.c=100):18==d?vi(h+15,5)>vi(h+15-3,5)&&s.maps.getBGCode(h+15,e+32)<=9&&s.maps.getBGCode(h+15,e+31)<=9&&(h=32*vi(h+15,5)-16,e++,i.c=100):s.maps.getBGCode(h+31,e+32)<=9&&s.maps.getBGCode(h+31,e+31)<=9&&(h=32*vi(h+31,5)-32,i.c=100),i.pt=140+s.g_ac,i.pth=1,i.x=h,i.y=e,!0}return!1}}},t.TurtleFall={properties:{walk_speed:3,fall_speed:5},initFactory:function(t,i){return function(i){150===t&&(i.vy=-28,i.vx<=0?i.muki=0:i.muki=1)}},controllerFactory:function(t){return function(i,s,h){var e=i.x,a=i.y;if(110===i.c){if(s.ana_kazu>0){var c=s.anaCheckNormal(e,a);if(c>=0)return i.c=1300,i.x=32*s.ana_x[c],!0}var o=s.maps.getBGCode(e+15,a+31);18!=o&&19!=o&&(o=0),vi(e+15,5)>vi(e+15-3,5)&&(18==o?a=32*vi(a+31,5):19==o&&(a=32*vi(a+31,5)-32),18==s.maps.getBGCode(e+15-3,a+32)&&a++),e-=t.walk_speed;var _=s.maps.getBGCode(e+15,a+31);if(18!=_&&19!=_||(a=s.getSakamichiY(e+15,a+31)),e<32)e<=3&&(i.c=0);else{var r=s.maps.getBGCode(e,a);(r>=20||15==r||18==r)&&(e=32*vi(e,5)+32,i.c=115)}return h>=120&&e<s.maps.wx-32&&(i.c=0),18==o?vi(e+15,5)<vi(e+15+3,5)&&s.maps.getBGCode(e+15,a+32)<=9&&(a=32*vi(a+15,5)):19==o?vi(e+15,5)<vi(e+15+3,5)&&s.maps.getBGCode(e+15,a+32)<=9&&s.maps.getBGCode(e+15,a+31):s.maps.getBGCode(e+31,a+32)<=9&&18!=s.maps.getBGCode(e+15,a+31)&&19!=s.maps.getBGCode(e+15,a+31)&&18!=s.maps.getBGCode(e+31,a+31)&&(e=32*vi(e+31,5),i.c=120),i.pt=140+s.g_ac,i.pth=0,i.x=e,i.y=a,!0}if(115===i.c){if(s.ana_kazu>0){var n=s.anaCheckNormal(e,a);if(n>=0)return i.c=1300,i.x=32*s.ana_x[n],!0}var m=s.maps.getBGCode(e+15,a+31);18!=m&&19!=m&&(m=0),vi(e+15,5)<vi(e+15+3,5)&&(19==m?a=32*vi(a+31,5):18==m&&(a=32*vi(a+31,5)-32),19==s.maps.getBGCode(e+15+3,a+32)&&a++),e+=t.walk_speed;var g=s.maps.getBGCode(e+15,a+31);return 18!=g&&19!=g||(a=s.getSakamichiY(e+15,a+31)),((g=s.maps.getBGCode(e+31,a))>=20||15==g||19==g)&&(e=32*vi(e+31,5)-32,i.c=110),h>=120&&e>s.maps.wx+s.gg.di.width&&(i.c=0),19==m?vi(e+15,5)>vi(e+15-3,5)&&s.maps.getBGCode(e+15,a+32)<=9&&(a=32*vi(a+15,5)):18==m?vi(e+15,5)>vi(e+15-3,5)&&s.maps.getBGCode(e+15,a+32)<=9&&s.maps.getBGCode(e+15,a+31):s.maps.getBGCode(e,a+32)<=9&&18!=s.maps.getBGCode(e+15,a+31)&&19!=s.maps.getBGCode(e+15,a+31)&&19!=s.maps.getBGCode(e,a+31)&&(e=32*vi(e,5),i.c=125),i.pt=140+s.g_ac,i.pth=1,i.x=e,i.y=a,!0}if(120===i.c){if(s.ana_kazu>0){for(var p=0;!(p>11);){if(s.ana_c[p]>0&&32*s.ana_y[p]==a+32&&Math.abs(32*s.ana_x[p]-e)<32){i.c=1300,e=32*s.ana_x[p];break}p++}if(1300===i.c)return i.x=e,!0}return a+=t.fall_speed,s.maps.getBGCode(e+15,a+32)>=20&&(a=32*vi(a+32,5)-32,i.c=110),(18==s.maps.getBGCode(e+15,a+31)||19==s.maps.getBGCode(e+15,a+31))&&s.getSakamichiY(e+15,a+31)<a&&(a=s.getSakamichiY(e+15,a+31),i.c=110),a>=s.ochiru_y&&(i.c=0),i.pt=140,i.pth=0,i.x=e,i.y=a,!0}if(125===i.c){if(s.ana_kazu>0){for(var y=0;!(y>11);){if(s.ana_c[y]>0&&32*s.ana_y[y]==a+32&&Math.abs(32*s.ana_x[y]-e)<32){i.c=1300,e=32*s.ana_x[y];break}y++}if(1300==i.c)return i.x=e,!0}return a+=t.fall_speed,s.maps.getBGCode(e+15,a+32)>=20&&(a=32*vi(a+32,5)-32,i.c=115),(18==s.maps.getBGCode(e+15,a+31)||19==s.maps.getBGCode(e+15,a+31))&&s.getSakamichiY(e+15,a+31)<a&&(a=s.getSakamichiY(e+15,a+31),i.c=115),a>=s.ochiru_y&&(i.c=0),i.pt=140,i.pth=1,i.x=e,i.y=a,!0}if(150===i.c){if(s.ana_kazu>0){for(var u=0;!(u>11);){if(s.ana_c[u]>0&&32*s.ana_y[u]==a+32&&Math.abs(32*s.ana_x[u]-e)<32){i.c=1300,e=32*s.ana_x[u];break}u++}if(1300===i.c)return i.x=e,!0}i.vx<0&&(s.maps.getBGCode(e,a)>=15||s.maps.getBGCode(e,a+31)>=15)&&(e=32*vi(e,5)+32,i.vx=0),i.vx>0&&(s.maps.getBGCode(e+31,a)>=15||s.maps.getBGCode(e+31,a+31)>=15)&&(e=32*vi(e+31,5)-32,i.vx=0),e+=i.vx,i.vy+=2,i.vy>18&&(i.vy=18);var d=vi((a+=i.vy)+31,5),j=s.maps.map_bg[vi(e,5)][d],f=s.maps.map_bg[vi(e+31,5)][d];return(j>=15||f>=15)&&(a=32*d-32,1==i.muki?i.c=115:i.c=110),a>=s.ochiru_y&&(i.c=0),i.pt=140,i.pth=i.muki,i.x=e,i.y=a,!0}return!1}}},t.Pikachie={properties:{jump_vy:-14,search_range:240,interval:30},initFactory:function(t,i){return function(i){i.c2=200,i.c3=t-200}},controllerFactory:function(t){return function(i,s){var h=i.x,e=i.y;if(200===i.c){if(s.ana_kazu>0){for(var a=0;!(a>11);){if(s.ana_c[a]>0&&32*s.ana_y[a]===i.y+32&&Math.abs(32*s.ana_x[a]-h)<32){i.c=1300,i.controller=void 0,h=32*s.ana_x[a];break}a++}if(1300===i.c)return}return i.c1<=0?s.co_j.x>=h-t.search_range&&s.co_j.x<=h+t.search_range&&(i.c=210,i.vy=t.jump_vy):i.c1--,i.pt=143,h+8>=s.co_j.x?i.pth=0:i.pth=1,!0}if(210===i.c){if(s.ana_kazu>0&&i.vy>0){for(var c=0;!(c>11);){if(s.ana_c[c]>0&&32*s.ana_y[c]<=e+32&&32*s.ana_y[c]>=e+16&&Math.abs(32*s.ana_x[c]-h)<32){i.c=1300,i.controller=void 0,h=32*s.ana_x[c],e=32*s.ana_y[c]-32;break}c++}if(1300===i.c)return}if(i.vy++,i.vy>14&&(i.vy=14),e+=i.vy,s.maps.getBGCode(h+15,e+31)>=10&&(e=32*vi(e+31,5)-32,i.c=200,i.c1=t.interval),s.yuka_id_max>=0)for(var o=0;o<=s.yuka_id_max;o++){var _=s.yo[o];if(_.con>=300&&_.con<350){var r=s.getSCOY(_.x,_.y,_.x2,_.y2,h+15);r>=0&&r<=e&&r+31>=e&&(e=r,i.c=200,i.c1=t.interval)}else if(_.con>=350&&_.con<400){var n=s.getSHCOY(_.x,_.y,_.x2,_.y2,h+15);n>=0&&n<=e&&n+31>=e&&(e=n,i.c=200,i.c1=t.interval)}else if(_.con>=400&&_.con<450){var m=s.getSWUpOY(_.x,_.y,_.x2,_.y2,h+15);m>=0&&m<=e&&m+31>=e&&(e=m,i.c=200,i.c1=t.interval)}else if(!(_.con<450||_.con>=500)){var g=s.getSWDownOY(_.x,_.y,_.x2,_.y2,h+15);g>=0&&g<=e&&g+31>=e&&(e=g,i.c=200,i.c1=t.interval)}}if(e>=s.ochiru_y&&(i.c=0,i.controller=void 0),0===i.vy&&(Math.abs(s.co_j.x-h)>32||e<=s.co_j.y)&&e>=s.maps.wy-128&&e<=s.maps.wy+s.gg.di.height+128)if(1===i.c3)h+8>=s.co_j.x?(s.mSet2(h-16,32*vi(e,5),732,-10,0),s.gs.rsAddSound(15)):(s.mSet2(h+16,32*vi(e,5),732,10,0),s.gs.rsAddSound(15));else if(2===i.c3)if(h+8>=s.co_j.x){var p=3.140000104904175;s.mSet2(h,32*vi(e,5),733,li(9*Math.cos(p),!0,s),li(9*Math.sin(p),!0,s)),p=3.6633334159851074,s.mSet2(h,32*vi(e,5),733,li(9*Math.cos(p),!0,s),li(9*Math.sin(p),!0,s)),p=2.616666793823242,s.mSet2(h,32*vi(e,5),733,li(9*Math.cos(p),!0,s),li(9*Math.sin(p),!0,s)),s.gs.rsAddSound(10)}else{var y=0;s.mSet2(h,32*vi(e,5),733,li(9*Math.cos(y),!0,s),li(9*Math.sin(y),!0,s)),y=5.756667137145996,s.mSet2(h,32*vi(e,5),733,li(9*Math.cos(y),!0,s),li(9*Math.sin(y),!0,s)),y=.5233333706855774,s.mSet2(h,32*vi(e,5),733,li(9*Math.cos(y),!0,s),li(9*Math.sin(y),!0,s)),s.gs.rsAddSound(10)}else 3===i.c3?h+8>=s.co_j.x?(s.mSet2(h,32*vi(e,5),810,-12,0),s.gs.rsAddSound(22)):(s.mSet2(h,32*vi(e,5),810,12,0),s.gs.rsAddSound(22)):(s.mSet(h,e,100),s.gs.rsAddSound(10));return i.vy<=-1?i.pt=144:i.pt=145,h+8>=s.co_j.x?i.pth=0:i.pth=1,i.x=h,i.y=e,!0}return!1}}},t.Chikorin={properties:{period:86,attack_timing:{2:2,10:1,18:1,26:1}},initFactory:function(t,i){return function(i){i.c2=300,301===t&&(i.c3=1)}},controllerFactory:function(t){return function(i,s){var h=i.x,e=i.y;if(300===i.c){if(s.ana_kazu>0){for(var a=0;!(a>11);){if(s.ana_c[a]>0&&32*s.ana_y[a]==e+32&&Math.abs(32*s.ana_x[a]-h)<32){i.c=1300,h=32*s.ana_x[a];break}a++}if(1300==i.c)return i.x=h,!0}if(i.c1>0){i.c1++;var c=t.attack_timing[i.c1];c?(h+8>=s.co_j.x?1===i.c3?s.mSet(h,e,201):s.mSet(h,e,200):1===i.c3?s.mSet(h,e,206):s.mSet(h,e,205),2===c&&Math.abs(e-s.co_j.y)<=288&&s.gs.rsAddSound(11)):i.c1>t.period&&(i.c1=0)}else s.co_j.x>=h-256&&s.co_j.x<=h+256&&(i.c1=1);return i.pt=150,h+8>=s.co_j.x?i.pth=0:i.pth=1,!0}return!1}}},t.ChikorinThrower={properties:{interval:40},initFactory:function(t,i){return function(i){switch(i.c2=310,t){case 310:i.c3=8,i.c4=0;break;case 311:i.c3=999,i.c4=0;break;case 312:i.c3=8,i.c4=1;break;case 313:i.c3=999,i.c4=1}}},controllerFactory:function(t){return function(i,s){var h=i.x,e=i.y;if(310===i.c){if(s.ana_kazu>0){for(var a=0;!(a>11);){if(s.ana_c[a]>0&&32*s.ana_y[a]==e+32&&Math.abs(32*s.ana_x[a]-h)<32){i.c=1300,h=32*s.ana_x[a];break}a++}if(1300===i.c)return i.x=h,!0}i.c1<=0?h>=s.maps.wx&&h<=s.maps.wx+s.gg.di.width-32&&e>=s.maps.wy&&e<=s.maps.wy+s.gg.di.height-32&&(i.c1=100,s.gs.rsAddSound(17)):i.c1>=100&&i.c1<200&&(i.c1++,101===i.c1?(1===i.c4?s.tSetBoss(h,e,650,-3):s.tSetBoss(h,e,450,-3),i.c3<999&&i.c3--,i.c3<=0&&(i.c1=500)):i.c1>=100+t.interval&&(i.c1=100),h<s.maps.wx&&(i.c1=500)),i.pt=150,i.pth=0}}}},t.ChikorinMidareuchi={properties:{},initFactory:function(t,i){return function(t){}},controllerFactory:function(t){return function(t,i){if(320===t.c){var s=t.x,h=t.y;if(i.ana_kazu>0){for(var e=0;!(e>11);){if(i.ana_c[e]>0&&32*i.ana_y[e]==h+32&&Math.abs(32*i.ana_x[e]-s)<32){t.c=1300,s=32*i.ana_x[e];break}e++}if(1300==t.c)return t.x=s,!0}if(t.c1<=0)s>=i.maps.wx-16&&s<=i.maps.wx+i.gg.di.width-32&&h>=i.maps.wy&&h<=i.maps.wy+i.gg.di.height-32&&i.co_j.x>=s-288&&i.co_j.x<=s+192&&Math.abs(i.co_j.x-s)>=88&&i.co_j.y<=h+128&&(i.co_j.x<=s+8?t.c1=100:t.c1=200);else if(t.c1>=100&&t.c1<200){if(t.c1++,101==t.c1){var a=4.710000038146973;i.mSet2(s,h,731,li(10*Math.cos(a),!0,i),li(10*Math.sin(a),!0,i)),i.gs.rsAddSound(11)}else if(105==t.c1){var c=3.924999952316284;i.mSet2(s,h,731,li(10*Math.cos(c),!0,i),li(10*Math.sin(c),!0,i))}else if(109==t.c1){var o=3.140000104904175;i.mSet2(s,h,731,li(10*Math.cos(o),!0,i),li(10*Math.sin(o),!0,i))}else if(113==t.c1){var _=3.6633334159851074;i.mSet2(s,h,731,li(10*Math.cos(_),!0,i),li(10*Math.sin(_),!0,i))}else if(t.c1>=121){var r=4.186666965484619;i.mSet2(s,h,731,li(10*Math.cos(r),!0,i),li(10*Math.sin(r),!0,i)),t.c1=300}}else if(t.c1>=200&&t.c1<300){if(t.c1++,201==t.c1){var n=4.710000038146973;i.mSet2(s,h,731,li(10*Math.cos(n),!0,i),li(10*Math.sin(n),!0,i)),i.gs.rsAddSound(11)}else if(205==t.c1){var m=5.49500036239624;i.mSet2(s,h,731,li(10*Math.cos(m),!0,i),li(10*Math.sin(m),!0,i))}else if(209==t.c1)i.mSet2(s,h,731,li(10*Math.cos(0),!0,i),li(10*Math.sin(0),!0,i));else if(213==t.c1){var g=5.756667137145996;i.mSet2(s,h,731,li(10*Math.cos(g),!0,i),li(10*Math.sin(g),!0,i))}else if(t.c1>=221){var p=5.233333587646484;i.mSet2(s,h,731,li(10*Math.cos(p),!0,i),li(10*Math.sin(p),!0,i)),t.c1=300}}else t.c1++,t.c1>350&&(t.c1=0);return t.pt=150,i.co_j.x<=s+8?t.pth=0:t.pth=1,!0}return!1}}},t.ChikorinSolarBeam={properties:{interval:120},initFactory:function(t,i){return function(t){}},controllerFactory:function(t){return function(i,s,h){var e=i.x,a=i.y;if(330===i.c){if(s.ana_kazu>0){for(var c=0;!(c>11);){if(s.ana_c[c]>0&&32*s.ana_y[c]==a+32&&Math.abs(32*s.ana_x[c]-e)<32){i.c=1300,e=32*s.ana_x[c];break}c++}if(1300===i.c)return i.x=e,!0}return i.c1<=0?e>=s.maps.wx-16&&e<=s.maps.wx+s.gg.di.width-32&&a>=s.maps.wy&&a<=s.maps.wy+s.gg.di.height-32&&s.co_j.x>=e-352&&s.co_j.x<=e-72&&Math.abs(s.co_j.y-a)<32&&(s.mSet2(e,a,75,h,0),s.gs.rsAddSound(11),i.c1=300):(i.c1++,i.c1>300+t.interval&&(i.c1=0)),i.pt=150,i.pth=0,!0}if(335===i.c){if(s.ana_kazu>0){for(var o=0;!(o>11);){if(s.ana_c[o]>0&&32*s.ana_y[o]==a+32&&Math.abs(32*s.ana_x[o]-e)<32){i.c=1300,e=32*s.ana_x[o];break}o++}if(1300===i.c)return i.x=e,!0}return i.c1<=0?e>=s.maps.wx-16-144&&e<=s.maps.wx+s.gg.di.width-32&&a>=s.maps.wy&&a<=s.maps.wy+s.gg.di.height-32&&s.co_j.x<=e+352&&s.co_j.x>=e+72&&Math.abs(s.co_j.y-a)<32&&(s.mSet2(e,a,85,h,0),s.gs.rsAddSound(11),i.c1=300):(i.c1++,i.c1>300+t.interval&&(i.c1=0)),i.pt=150,i.pth=1,!0}return!1}}},t.Hinorarashi={properties:{walk_speed:4},initFactory:function(t,i){return function(t){}},controllerFactory:function(t){return function(i,s){var h=i.x,e=i.y;if(400===i.c){if(s.ana_kazu>0){for(var a=0;!(a>11);){if(s.ana_c[a]>0&&32*s.ana_y[a]==e+32&&Math.abs(32*s.ana_x[a]-h)<32){i.c=1300,h=32*s.ana_x[a];break}a++}if(1300===i.c)return i.x=h,!0}14===s.j_tokugi&&(i.c2++,i.c2>24&&(i.c2=0,s.co_j.y<e+8&&s.mSet(h,e,150)));var c=s.maps.getBGCode(h+15,e+31);if(18!==c&&19!==c&&(c=0),0===c&&s.maps.getBGCode(h+15,e+32)<=9||c>0&&s.getSakamichiY(h+15,e+31)>e){if(e+=5,s.maps.getBGCode(h+15,e+32)>=20&&(e=32*vi(e+32,5)-32),(18===s.maps.getBGCode(h+15,e+31)||19===s.maps.getBGCode(h+15,e+31))&&s.getSakamichiY(h+15,e+31)<e&&(e=s.getSakamichiY(h+15,e+31)),i.pt=152,i.pth=0,s.yuka_id_max>=0)for(var o=0;!(o>s.yuka_id_max);){if((p=s.yo[o]).con>=300&&p.con<350){var _=s.getSCOY(p.x,p.y,p.x2,p.y2,h+15);if(_>=0&&_<=e&&_+31>=e){e=_,i.c=404,i.c2=o,i.vx=-1;break}}else if(p.con>=350&&p.con<400){var r=s.getSHCOY(p.x,p.y,p.x2,p.y2,h+15);if(r>=0&&r-192<=e&&r+31+192>=e){e=r,i.c=404,i.c2=o,i.vx=-1;break}}else if(p.con>=400&&p.con<450){var n=s.getSWUpOY(p.x,p.y,p.x2,p.y2,h+15);if(n>=0&&n<=e&&n+31>=e){e=n,i.c=404,i.c2=o,i.vx=-1;break}}else if(p.con>=450&&p.con<500){var m=s.getSWDownOY(p.x,p.y,p.x2,p.y2,h+15);if(m>=0&&m<=e&&m+31>=e){e=m,i.c=404,i.c2=o,i.vx=-1;break}}o++}}else{vi(h+15,5)>vi(h+15-t.walk_speed,5)&&(18===c?e=32*vi(e+31,5):19===c&&(e=32*vi(e+31,5)-32),18===s.maps.getBGCode(h+15-t.walk_speed,e+32)&&e++),h-=t.walk_speed;var g=s.maps.getBGCode(h+15,e+31);18!==g&&19!==g||(e=s.getSakamichiY(h+15,e+31)),((g=s.maps.getBGCode(h,e))>=20||15===g||18===g)&&(h=32*vi(h,5)+32,i.c=405),18===c?vi(h+15,5)<vi(h+15+t.walk_speed,5)&&s.maps.getBGCode(h+15,e+32)<=9&&(h=32*vi(h,5)+32-15,i.c=405):19===c?vi(h+15,5)<vi(h+15+t.walk_speed,5)&&s.maps.getBGCode(h+15,e+32)<=9&&s.maps.getBGCode(h+15,e+31)<=9&&(h=32*vi(h,5)+32-15,e++,i.c=405):s.maps.getBGCode(h,e+32)<=9&&s.maps.getBGCode(h,e+31)<=9&&(h=32*vi(h,5)+32,i.c=405),i.pt=152+s.g_ac,i.pth=0}return i.x=h,i.y=e,!0}if(404===i.c){var p;if(i.pt=152+s.g_ac,i.pth=0,(p=s.yo[i.c2]).con>=300&&p.con<350){var y=li(80*s.yo[i.c2].x2/100);i.vx<0?(h-=t.walk_speed)<=p.x-y-15&&(h=p.x-y-15,i.vx=1):(i.pth=1,(h+=t.walk_speed)>=p.x+y-15&&(h=p.x+y-15,i.vx=-1)),e=s.getSCOY(p.x,p.y,p.x2,p.y2,h+15)}else p.con>=350&&p.con<400?(i.vx<0?(h-=t.walk_speed)<=p.x-15+8&&(h=p.x-15+8,i.vx=1):(i.pth=1,(h+=t.walk_speed)>=p.x+239-15-8&&(h=p.x+239-15-8,i.vx=-1)),e=s.getSHCOY(p.x,p.y,p.x2,p.y2,h+15)):p.con>=400&&p.con<450?(i.vx<0?(h-=t.walk_speed)<=p.x+8-15&&(h=p.x+8-15,i.vx=1):(i.pth=1,(h+=t.walk_speed)>=p.x+256-8-15&&(h=p.x+256-8-15,i.vx=-1)),e=s.getSWUpOY(p.x,p.y,p.x2,p.y2,h+15)):p.con>=450&&p.con<500&&(i.vx<0?(h-=t.walk_speed)<=p.x+8-15&&(h=p.x+8-15,i.vx=1):(i.pth=1,(h+=t.walk_speed)>=p.x+256-8-15&&(h=p.x+256-8-15,i.vx=-1)),e=s.getSWDownOY(p.x,p.y,p.x2,p.y2,h+15));return i.x=h,i.y=e,!0}if(405===i.c){if(s.ana_kazu>0){for(var u=0;!(u>11);){if(s.ana_c[u]>0&&32*s.ana_y[u]==e+32&&Math.abs(32*s.ana_x[u]-h)<32){i.c=1300,h=32*s.ana_x[u];break}u++}if(1300===i.c)return i.x=h,!0}14===s.j_tokugi&&(i.c2++,i.c2>24&&(i.c2=0,s.co_j.y<e+8&&s.mSet(h,e,150)));var d=s.maps.getBGCode(h+15,e+31);18!==d&&19!==d&&(d=0),vi(h+15,5)<vi(h+15+t.walk_speed,5)&&(19===d?e=32*vi(e+31,5):18===d&&(e=32*vi(e+31,5)-32),19===s.maps.getBGCode(h+15+t.walk_speed,e+32)&&e++),h+=t.walk_speed;var j=s.maps.getBGCode(h+15,e+31);return 18!==j&&19!=j||(e=s.getSakamichiY(h+15,e+31)),((j=s.maps.getBGCode(h+31,e))>=20||15===j||19===j)&&(h=32*vi(h+31,5)-32,i.c=400),19===d?vi(h+15,5)>vi(h+15-t.walk_speed,5)&&s.maps.getBGCode(h+15,e+32)<=9&&(h=32*vi(h+15,5)-16,i.c=400):18===d?vi(h+15,5)>vi(h+15-t.walk_speed,5)&&s.maps.getBGCode(h+15,e+32)<=9&&s.maps.getBGCode(h+15,e+31)<=9&&(h=32*vi(h+15,5)-16,e++,i.c=400):s.maps.getBGCode(h+31,e+32)<=9&&s.maps.getBGCode(h+31,e+31)<=9&&(h=32*vi(h+31,5)-32,i.c=400),i.pt=152+s.g_ac,i.pth=1,i.x=h,i.y=e,!0}return!1}}},t.HinorarashiFall={properties:{walk_speed:4},initFactory:function(t,i){return function(t){t.vy=-22,t.vx<=0?t.muki=0:t.muki=1}},controllerFactory:function(t){return function(i,s,h){var e=i.x,a=i.y;if(410===i.c){if(s.ana_kazu>0){for(var c=0;!(c>11);){if(s.ana_c[c]>0&&32*s.ana_y[c]===a+32&&Math.abs(32*s.ana_x[c]-e)<32){i.c=1300,e=32*s.ana_x[c];break}c++}if(1300===i.c)return i.x=e,!0}var o=s.maps.getBGCode(e+15,a+31);18!==o&&19!==o&&(o=0),vi(e+15,5)>vi(e+15-t.walk_speed,5)&&(18===o?a=32*vi(a+31,5):19===o&&(a=32*vi(a+31,5)-32),18===s.maps.getBGCode(e+15-t.walk_speed,a+32)&&a++),e-=t.walk_speed;var _=s.maps.getBGCode(e+15,a+31);if(18!==_&&19!==_||(a=s.getSakamichiY(e+15,a+31)),e<32)e<=3&&(i.c=0);else{var r=s.maps.getBGCode(e,a);(r>=20||15===r||18===r)&&(e=32*vi(e,5)+32,i.c=415)}return h>=120&&e<s.maps.wx-32&&(i.c=0),18===o?vi(e+15,5)<vi(e+15+t.walk_speed,5)&&s.maps.getBGCode(e+15,a+32)<=9&&(a=32*vi(a+15,5)):19===o?vi(e+15,5)<vi(e+15+t.walk_speed,5)&&s.maps.getBGCode(e+15,a+32)<=9&&s.maps.getBGCode(e+15,a+31):s.maps.getBGCode(e+31,a+32)<=9&&18!==s.maps.getBGCode(e+15,a+31)&&19!==s.maps.getBGCode(e+15,a+31)&&18!==s.maps.getBGCode(e+31,a+31)&&(e=32*vi(e+31,5),i.c=420),i.pt=152+s.g_ac,i.pth=0,i.x=e,i.y=a,!0}if(415===i.c){if(s.ana_kazu>0){for(var n=0;!(n>11);){if(s.ana_c[n]>0&&32*s.ana_y[n]===a+32&&Math.abs(32*s.ana_x[n]-e)<32){i.c=1300,e=32*s.ana_x[n];break}n++}if(1300===i.c)return i.x=e,!0}var m=s.maps.getBGCode(e+15,a+31);18!==m&&19!==m&&(m=0),vi(e+15,5)<vi(e+15+t.walk_speed,5)&&(19===m?a=32*vi(a+31,5):18===m&&(a=32*vi(a+31,5)-32),19==s.maps.getBGCode(e+15+4,a+32)&&a++),e+=t.walk_speed;var g=s.maps.getBGCode(e+15,a+31);return 18!==g&&19!==g||(a=s.getSakamichiY(e+15,a+31)),((g=s.maps.getBGCode(e+31,a))>=20||15===g||19===g)&&(e=32*vi(e+31,5)-32,i.c=410),h>=120&&e>s.maps.wx+s.gg.di.width&&(i.c=0),19===m?vi(e+15,5)>vi(e+15-t.walk_speed,5)&&s.maps.getBGCode(e+15,a+32)<=9&&(a=32*vi(a+15,5)):18===m?vi(e+15,5)>vi(e+15-t.walk_speed,5)&&s.maps.getBGCode(e+15,a+32)<=9&&s.maps.getBGCode(e+15,a+31):s.maps.getBGCode(e,a+32)<=9&&18!==s.maps.getBGCode(e+15,a+31)&&19!==s.maps.getBGCode(e+15,a+31)&&19!==s.maps.getBGCode(e,a+31)&&(e=32*vi(e,5),i.c=425),i.pt=152+s.g_ac,i.pth=1,i.x=e,i.y=a,!0}if(420===i.c){if(s.ana_kazu>0){for(var p=0;!(p>11);){if(s.ana_c[p]>0&&32*s.ana_y[p]===a+32&&Math.abs(32*s.ana_x[p]-e)<32){i.c=1300,e=32*s.ana_x[p];break}p++}if(1300===i.c)return i.x=e,!0}return a+=5,s.maps.getBGCode(e+15,a+32)>=20&&(a=32*vi(a+32,5)-32,i.c=410),(18===s.maps.getBGCode(e+15,a+31)||19===s.maps.getBGCode(e+15,a+31))&&s.getSakamichiY(e+15,a+31)<a&&(a=s.getSakamichiY(e+15,a+31),i.c=410),a>=s.ochiru_y&&(i.c=0),i.pt=152,i.pth=0,i.x=e,i.y=a,!0}if(425===i.c){if(s.ana_kazu>0){for(var y=0;!(y>11);){if(s.ana_c[y]>0&&32*s.ana_y[y]===a+32&&Math.abs(32*s.ana_x[y]-e)<32){i.c=1300,e=32*s.ana_x[y];break}y++}if(1300===i.c)return i.x=e,!0}return a+=5,s.maps.getBGCode(e+15,a+32)>=20&&(a=32*vi(a+32,5)-32,i.c=415),(18===s.maps.getBGCode(e+15,a+31)||19===s.maps.getBGCode(e+15,a+31))&&s.getSakamichiY(e+15,a+31)<a&&(a=s.getSakamichiY(e+15,a+31),i.c=415),a>=s.ochiru_y&&(i.c=0),i.pt=152,i.pth=1,i.x=e,i.y=a,!0}if(450===i.c){if(s.ana_kazu>0){for(var u=0;!(u>11);){if(s.ana_c[u]>0&&32*s.ana_y[u]===a+32&&Math.abs(32*s.ana_x[u]-e)<32){i.c=1300,e=32*s.ana_x[u];break}u++}if(1300===i.c)return i.x=e,!0}i.vx<0&&(s.maps.getBGCode(e,a)>=15||s.maps.getBGCode(e,a+31)>=15)&&(e=32*vi(e,5)+32,i.vx=0),i.vx>0&&(s.maps.getBGCode(e+31,a)>=15||s.maps.getBGCode(e+31,a+31)>=15)&&(e=32*vi(e+31,5)-32,i.vx=0),e+=i.vx,i.vy+=2,i.vy>18&&(i.vy=18);var d=vi((a+=i.vy)+31,5),j=s.maps.map_bg[vi(e,5)][d],f=s.maps.map_bg[vi(e+31,5)][d];return(j>=10||f>=10)&&(a=32*d-32,1===i.muki?i.c=415:i.c=410),a>=s.ochiru_y&&(i.c=0),i.pt=152,i.pth=i.muki,i.x=e,i.y=a,!0}return!1}}},t.PoppieUpDown={properties:{speed:4,accel:1},initFactory:function(t,i){return function(t){var i=t.y;t.y=i-12,t.c3=i-52,t.c4=i-12,t.vy=-4}},controllerFactory:function(t){return function(i,s){if(500===i.c){var h=i.x,e=i.y;return e<=i.c3?(i.vy+=t.accel,i.vy>t.speed&&(i.vy=t.speed)):e>=i.c4&&(i.vy-=t.accel,i.vy<-t.speed&&(i.vy=-t.speed)),e+=i.vy,i.pt=147+s.g_ac,s.co_j.x<=h+8||14===s.j_tokugi?i.pth=0:i.pth=1,i.x=h,i.y=e,!0}return!1}}},t.PoppieLeftRight={properties:{speed:3},initFactory:function(t,i){return function(t){}},controllerFactory:function(t){return function(i,s){var h=i.x,e=i.y;return 510===i.c?((h-=t.speed)<48?h<=3&&(i.c=0):s.maps.getBGCode(h-16,e+31)>=15&&(h=32*vi(h-16,5)+32+16,i.c=515),i.pt=147+s.g_ac,i.pth=0,i.x=h,i.y=e,!0):515===i.c&&(h+=t.speed,s.maps.getBGCode(h+31+16,e+31)>=15&&(h=32*vi(h+31+16,5)-32-16,i.c=510),i.pt=147+s.g_ac,i.pth=1,i.x=h,i.y=e,!0)}}},t.PoppieFire={properties:{interval:40},initFactory:function(t,i){return function(t){}},controllerFactory:function(t){return function(i,s){var h=i.x,e=i.y;return 520===i.c&&(i.c1<=0?h>=s.maps.wx&&h<=s.maps.wx+s.gg.di.width-32&&e>=s.maps.wy&&e<=s.maps.wy+s.gg.di.height-32&&s.co_j.x>=h-288&&s.co_j.x<=h+192&&Math.abs(s.co_j.x-h)>=64&&Math.abs(s.co_j.y-e)<=128&&(i.c1=1):1===i.c1?(h+8>=s.co_j.x?(s.mSet(h,e,300),s.gs.rsAddSound(14)):(s.mSet(h,e,305),s.gs.rsAddSound(14)),i.c1=2):(i.c1++,i.c1>t.interval&&(i.c1=0)),i.pt=147+s.g_ac,s.co_j.x<=h+8||14===s.j_tokugi?i.pth=0:i.pth=1,!0)}}},t.PoppieFire3={properties:{},initFactory:function(t,i){return function(t){var i=t.y;t.c3=i,t.c4=0}},controllerFactory:function(t){return function(t,i){var s=t.x,h=t.y;return 530===t.c&&(t.c4<=0?(h-=2)<=t.c3-64&&(h=t.c3-64,t.c4=10,s>=i.maps.wx&&s<=i.maps.wx+i.gg.di.width-32&&h>=i.maps.wy&&h<=i.maps.wy+i.gg.di.height-32&&i.co_j.x>=s-320&&i.co_j.x<=s+256&&Math.abs(i.co_j.x-s)>=64&&Math.abs(i.co_j.y-h)<=160&&(t.c4=20)):10===t.c4?(h+=2)>=t.c3&&(h=t.c3,t.c4=0):20===t.c4&&((Math.abs(i.co_j.x-s)>32||h<=i.co_j.y)&&(h===t.c3-64&&(s+8>=i.co_j.x?(i.mSet(s,h,300),i.gs.rsAddSound(14)):(i.mSet(s,h,305),i.gs.rsAddSound(14))),h===t.c3-32&&(s+8>=i.co_j.x?i.mSet(s,h,300):i.mSet(s,h,305))),(h+=2)>=t.c3&&(h=t.c3,t.c4=0,(Math.abs(i.co_j.x-s)>32||h<=i.co_j.y)&&(s+8>=i.co_j.x?i.mSet(s,h,300):i.mSet(s,h,305)))),t.pt=147+i.g_ac,i.co_j.x<=s+8||14===i.j_tokugi?t.pth=0:t.pth=1,t.x=s,t.y=h,!0)}}},t.PoppieBubble3={properties:{interval:40},initFactory:function(t,i){return function(t){}},controllerFactory:function(t){return function(i,s){var h=i.x,e=i.y;if(540===i.c){if(i.c1<=0)h>=s.maps.wx&&h<=s.maps.wx+s.gg.di.width-32&&e>=s.maps.wy&&e<=s.maps.wy+s.gg.di.height-32&&s.co_j.x>=h-288&&s.co_j.x<=h+192&&Math.abs(s.co_j.x-h)>=64&&Math.abs(s.co_j.y-e)<=128&&(i.c1=1);else if(1===i.c1){if(h+8>=s.co_j.x){var a=3.140000104904175;s.mSet2(h,e,730,li(9*Math.cos(a),!0,s),li(9*Math.sin(a),!0,s)),a=3.6633334159851074,s.mSet2(h,e,730,li(9*Math.cos(a),!0,s),li(9*Math.sin(a),!0,s)),a=2.616666793823242,s.mSet2(h,e,730,li(9*Math.cos(a),!0,s),li(9*Math.sin(a),!0,s)),s.gs.rsAddSound(18)}else{var c=0;s.mSet2(h,e,730,li(9*Math.cos(c),!0,s),li(9*Math.sin(c),!0,s)),c=5.756667137145996,s.mSet2(h,e,730,li(9*Math.cos(c),!0,s),li(9*Math.sin(c),!0,s)),c=.5233333706855774,s.mSet2(h,e,730,li(9*Math.cos(c),!0,s),li(9*Math.sin(c),!0,s)),s.gs.rsAddSound(18)}i.c1=2}else i.c1++,i.c1>t.interval&&(i.c1=0);return i.pt=147+s.g_ac,s.co_j.x<=h+8||14===s.j_tokugi?i.pth=0:i.pth=1,!0}return!1}}},t.PoppieHurricaneBlast={properties:{interval:80},initFactory:function(t,i){return function(t){}},controllerFactory:function(t){return function(i,s){var h=i.x,e=i.y;if(550===i.c){if(i.c1<=0)h>=s.maps.wx&&h<=s.maps.wx+s.gg.di.width-32&&e>=s.maps.wy&&e<=s.maps.wy+s.gg.di.height-32&&s.co_j.x>=h-228&&s.co_j.x<=h+192&&Math.abs(s.co_j.x-h)>=64&&Math.abs(s.co_j.y-e)<=128&&(i.c1=1);else if(1===i.c1){for(var a=0;a<=300;a+=90)s.mSet2(h,e,950,a,0),s.mSet2(h,e,960,300-a,0),s.gs.rsAddSound(18);i.c1=2}else i.c1++,i.c1>t.interval&&(i.c1=0);return i.pt=147+s.g_ac,s.co_j.x<=h+8||14===s.j_tokugi?i.pth=0:i.pth=1,!0}return!1}}},t.Mariri={properties:{jump_vy:null,speed:5},initFactory:function(t,i){return function(i){650===t?(i.vy=-28,i.vx<=0?i.muki=0:i.muki=1):(i.c2=600,i.c3=0,i.c4=t-600)}},controllerFactory:function(t){return function(i,s,h){var e=i.x,a=i.y;if(600===i.c){if(h<120&&2===i.c4&&20===i.c1&&(i.c=605,i.c1++),i.c1<25){if(s.ana_kazu>0){for(var c=0;!(c>11);){if(s.ana_c[c]>0&&32*s.ana_y[c]==a+32&&Math.abs(32*s.ana_x[c]-e)<32){i.c=1300,e=32*s.ana_x[c];break}c++}if(1300===i.c)return i.x=e,!0}i.c1++,i.vy=null!=t.jump_vy?t.jump_vy:-17,i.c3=0,h<120&&1===i.c4&&null==t.jump_vy&&(i.vy=-22);var o=s.maps.getBGCode(e+15,a+32);18!==o&&19!==o||(a=s.getSakamichiY(e+15,a+32)),i.pt=154,i.pth=0,h<120&&1===i.c4&&(s.co_j.x<=e+8||14===s.j_tokugi?i.pth=0:i.pth=1)}else{if(s.ana_kazu>0&&i.vy>0){for(var _=0;!(_>11);){if(s.ana_c[_]>0&&32*s.ana_y[_]<=a+32&&32*s.ana_y[_]>=a+16&&Math.abs(32*s.ana_x[_]-e)<32){i.c=1300,e=32*s.ana_x[_],a=32*s.ana_y[_]-32;break}_++}if(1300===i.c)return i.x=e,i.y=a,!0}0===i.c3?(i.vy++,i.c3=1):(i.vy+=2,i.c3=0),i.vy>17&&(i.vy=17),(h>=120||1!==i.c4)&&(e-=t.speed);var r=a;if(a+=i.vy,i.vy<4?(i.pt=155,i.pth=0):(i.pt=156,i.pth=0),e<32)e<=3&&(i.c=0);else{i.vy<0&&s.maps.getBGCode(e+15,a+6)>=18&&(a=32*vi(a+6,5)+32-6,i.vy=0);var n=s.maps.getBGCode(e+15,a+31);if((n>=20||10===n||15===n)&&(a=32*vi(a+31,5)-32,i.c1=15,i.pt=154,i.pth=0),18===n||19===n)a>=s.getSakamichiY(e+15,a+31)&&(a=s.getSakamichiY(e+15,a+31),i.c1=15,i.pt=154,i.pth=0);else if(vi(a+31,5)>vi(r+31,5)){var m=s.maps.getBGCode(e+15,r+31);18!==m&&19!==m||(a=32*vi(r+31,5),a=s.getSakamichiY(e+15,a+31),i.c1=15,i.pt=154,i.pth=0)}if(s.yuka_id_max>=0)for(var g=0;g<=s.yuka_id_max;g++)if((w=s.yo[g]).con>=300&&w.con<350){var p=s.getSCOY(w.x,w.y,w.x2,w.y2,e+15);p>=0&&p<=a&&p+31>=a&&(a=p,i.c1=15,i.pt=154,i.pth=0)}else if(w.con>=350&&w.con<400){var y=s.getSHCOY(w.x,w.y,w.x2,w.y2,e+15);y>=0&&y<=a&&y+31>=a&&(a=y,i.c1=15,i.pt=154,i.pth=0)}else if(w.con>=400&&w.con<450){var u=s.getSWUpOY(w.x,w.y,w.x2,w.y2,e+15);u>=0&&u<=a&&u+31>=a&&(a=u,i.c1=15,i.pt=154,i.pth=0)}else if(!(w.con<450||w.con>=500)){var d=s.getSWDownOY(w.x,w.y,w.x2,w.y2,e+15);d>=0&&d<=a&&d+31>=a&&(a=d,i.c1=15,i.pt=154,i.pth=0)}18!=s.maps.getBGCode(e+15,a+31)&&19!=s.maps.getBGCode(e+15,a+31)&&(s.maps.getBGCode(e,a+31)>=20||s.maps.getBGCode(e,a+8)>=20)&&(e=32*vi(e,5)+32,i.c=605),h>=120&&e<s.maps.wx-32&&(i.c=0)}h<120&&1===i.c4&&(s.co_j.x<=e+8||14==s.j_tokugi?i.pth=0:i.pth=1)}return a>=s.ochiru_y&&(i.c=0),i.x=e,i.y=a,!0}if(605===i.c){if(h<120&&2===i.c4&&20===i.c1&&(i.c=600,i.c1++),i.c1<25){if(s.ana_kazu>0){for(var j=0;!(j>11);){if(s.ana_c[j]>0&&32*s.ana_y[j]==a+32&&Math.abs(32*s.ana_x[j]-e)<32){i.c=1300,e=32*s.ana_x[j];break}j++}if(1300===i.c)return i.x=e,!0}i.c1++,i.vy=null!=t.jump_vy?t.jump_vy:-17,i.c3=0,i.pt=154,i.pth=1}else{if(s.ana_kazu>0&&i.vy>0){for(var f=0;!(f>11);){if(s.ana_c[f]>0&&32*s.ana_y[f]<=a+32&&32*s.ana_y[f]>=a+16&&Math.abs(32*s.ana_x[f]-e)<32){i.c=1300,e=32*s.ana_x[f],a=32*s.ana_y[f]-32;break}f++}if(1300===i.c)return i.x=e,i.y=a,!0}0===i.c3?(i.vy++,i.c3=1):(i.vy+=2,i.c3=0),i.vy>17&&(i.vy=17),e+=t.speed;var l=a;a+=i.vy,i.vy<4?(i.pt=155,i.pth=1):(i.pt=156,i.pth=1),i.vy<0&&s.maps.getBGCode(e+15,a+6)>=18&&(a=32*vi(a+6,5)+32-6,i.vy=0);var v=s.maps.getBGCode(e+15,a+31);if((v>=20||10===v||15===v)&&(a=32*vi(a+31,5)-32,i.c1=15,i.pt=154,i.pth=1),18===v||19===v)a>=s.getSakamichiY(e+15,a+31)&&(a=s.getSakamichiY(e+15,a+31),i.c1=15,i.pt=154,i.pth=1);else if(vi(a+31,5)>vi(l+31,5)){var x=s.maps.getBGCode(e+15,l+31);18!==x&&19!==x||(a=32*vi(l+31,5),a=s.getSakamichiY(e+15,a+31),i.c1=15,i.pt=154,i.pth=1)}if(s.yuka_id_max>=0)for(var k=0;k<=s.yuka_id_max;k++){var w;if((w=s.yo[k]).con>=300&&w.con<350){var b=s.getSCOY(w.x,w.y,w.x2,w.y2,e+15);b>=0&&b<=a&&b+31>=a&&(a=b,i.c1=15,i.pt=154,i.pth=1)}else if(w.con>=350&&w.con<400){var S=s.getSHCOY(w.x,w.y,w.x2,w.y2,e+15);S>=0&&S<=a&&S+31>=a&&(a=S,i.c1=15,i.pt=154,i.pth=1)}else if(w.con>=400&&w.con<450){var M=s.getSWUpOY(w.x,w.y,w.x2,w.y2,e+15);M>=0&&M<=a&&M+31>=a&&(a=M,i.c1=15,i.pt=154,i.pth=1)}else if(!(w.con<450||w.con>=500)){var C=s.getSWDownOY(w.x,w.y,w.x2,w.y2,e+15);C>=0&&C<=a&&C+31>=a&&(a=C,i.c1=15,i.pt=154,i.pth=1)}}18!=s.maps.getBGCode(e+15,a+31)&&19!=s.maps.getBGCode(e+15,a+31)&&(s.maps.getBGCode(e+31,a+31)>=20||s.maps.getBGCode(e+31,a+8)>=20)&&(e=32*vi(e+31,5)-32,i.c=600),h>=120&&e>s.maps.wx+s.gg.di.width&&(i.c=0)}return a>=s.ochiru_y&&(i.c=0),i.x=e,i.y=a,!0}if(650===i.c){i.vx<0&&(s.maps.getBGCode(e,a)>=15||s.maps.getBGCode(e,a+31)>=15)&&(e=32*vi(e,5)+32,i.vx=0),i.vx>0&&(s.maps.getBGCode(e+31,a)>=15||s.maps.getBGCode(e+31,a+31)>=15)&&(e=32*vi(e+31,5)-32,i.vx=0),e+=i.vx,i.vy+=2,i.vy>18&&(i.vy=18);var I=vi((a+=i.vy)+31,5),B=s.maps.map_bg[vi(e,5)][I],G=s.maps.map_bg[vi(e+31,5)][I];return(B>=10||G>=10)&&(a=32*I-32,1===i.muki?i.c=605:i.c=600,i.c1=15),a>=s.ochiru_y&&(i.c=0),i.vy<4?i.pt=155:i.pt=156,i.pth=i.muki,i.x=e,i.y=a,!0}return!1}}},t.MaririLeftRight={properties:{speed:8,distance:128,interval:20},initFactory:function(t,i){return function(t){t.c3=t.x,t.c4=i.interval>>1}},controllerFactory:function(t){var i=t.interval>>1,s=t.interval,h=2*t.interval+10;return function(e,a){if(660===e.c){var c=e.x;return e.y,e.c4<s?(e.c4++,e.pt=154,e.pth=0,e.c4<i&&(e.pth=1)):e.c4===s?((c-=t.speed)<=e.c3-t.distance&&(c=e.c3-t.distance,e.c4+=10),e.pt=155+a.g_ac,e.pth=0):e.c4<h?(e.c4++,e.pt=154,e.pth=1,e.c4<h-i&&(e.pth=0)):e.c4===h&&((c+=t.speed)>=e.c3&&(c=e.c3,e.c4=0),e.pt=155+a.g_ac,e.pth=1),e.x=c,!0}return!1}}},t.MaririTackle={properties:{attack_speed:10,return_speed:4},initFactory:function(t,i){return function(t){t.c3=t.x,t.c4=0}},controllerFactory:function(t){return function(i,s){if(670===i.c){var h=i.x,e=i.y;return i.c4<10?(i.c4++,i.pt=154,h+8>=s.co_j.x?i.pth=0:i.pth=1):10===i.c4?(h-128-16<=s.co_j.x&&h-48>=s.co_j.x&&Math.abs(e-s.co_j.y)<=10&&(i.c4=100),h+128+16>=s.co_j.x&&h+48<=s.co_j.x&&Math.abs(e-s.co_j.y)<=10&&(i.c4=200),i.pt=154,h+8>=s.co_j.x?i.pth=0:i.pth=1):100===i.c4?((h-=t.attack_speed)<=i.c3-160&&(h=i.c3-160,i.c4=150),i.pt=155+s.g_ac,i.pth=0):150===i.c4?((h+=t.return_speed)>=i.c3&&(h=i.c3,i.c4=0),i.pt=155+s.g_ac,i.pth=1):200===i.c4?((h+=t.attack_speed)>=i.c3+160&&(h=i.c3+160,i.c4=250),i.pt=155+s.g_ac,i.pth=1):250===i.c4&&((h-=t.return_speed)<=i.c3&&(h=i.c3,i.c4=0),i.pt=155+s.g_ac,i.pth=0),i.x=h,!0}return!1}}},t.Yachamo={properties:{interval:null},initFactory:function(t,i){return function(i){i.c2=700,i.c3=t-700}},controllerFactory:function(t){return function(i,s){if(700===i.c){var h=i.x,e=i.y;if(s.ana_kazu>0){for(var a=0;!(a>11);){if(s.ana_c[a]>0&&32*s.ana_y[a]==e+32&&Math.abs(32*s.ana_x[a]-h)<32){i.c=1300,h=32*s.ana_x[a];break}a++}if(1300===i.c)return i.x=h,!0}if(1!==i.c3)if(i.c1>0)if(i.c1++,2===i.c1)if(2===i.c3)(Math.abs(s.co_j.x-h)>32||e<=s.co_j.y)&&(h+8>=s.co_j.x?(s.mSet2(h,e,800,-10,-32),s.gs.rsAddSound(22)):(s.mSet2(h,e,800,10,-32),s.gs.rsAddSound(22)));else if(3===i.c3){if(Math.abs(s.co_j.x-h)>32||e<=s.co_j.y)if(h+8>=s.co_j.x){var c=3.140000104904175;s.mSet2(h,e,731,li(9*Math.cos(c),!0,s),li(9*Math.sin(c),!0,s)),c=3.6633334159851074,s.mSet2(h,e,731,li(9*Math.cos(c),!0,s),li(9*Math.sin(c),!0,s)),c=4.186666965484619,s.mSet2(h,e,731,li(9*Math.cos(c),!0,s),li(9*Math.sin(c),!0,s)),s.gs.rsAddSound(11)}else{var o=0;s.mSet2(h,e,731,li(9*Math.cos(o),!0,s),li(9*Math.sin(o),!0,s)),o=5.756667137145996,s.mSet2(h,e,731,li(9*Math.cos(o),!0,s),li(9*Math.sin(o),!0,s)),o=5.233333587646484,s.mSet2(h,e,731,li(9*Math.cos(o),!0,s),li(9*Math.sin(o),!0,s)),s.gs.rsAddSound(11)}}else 4===i.c3?(Math.abs(s.co_j.x-h)>32||e<=s.co_j.y)&&(h+8>=s.co_j.x?(s.mSet2(h,e,810,-12,0),s.gs.rsAddSound(22)):(s.mSet2(h,e,810,12,0),s.gs.rsAddSound(22))):h+8>=s.co_j.x?(s.mSet(h,e,300),Math.abs(e-s.co_j.y)<=288&&s.gs.rsAddSound(14)):(s.mSet(h,e,305),Math.abs(e-s.co_j.y)<=288&&s.gs.rsAddSound(14));else{var _=null==t.interval?2!==i.c3&&3!==i.c3?40:52:t.interval;i.c1>_&&(i.c1=0)}else h>=s.maps.wx&&h<=s.maps.wx+s.gg.di.width-32&&s.co_j.x>=h-256&&s.co_j.x<=h+192&&Math.abs(s.co_j.x-h)>=96&&(i.c1=1);return i.pt=158,h+8>=s.co_j.x?i.pth=0:i.pth=1,!0}return!1}}},t.YachamoFast={properties:{interval:35},initFactory:function(t,i){return function(i){i.c2=710,i.c3=t-710}},controllerFactory:function(t){return function(i,s){if(710===i.c){var h=i.x,e=i.y;if(s.ana_kazu>0){for(var a=0;!(a>11);){if(s.ana_c[a]>0&&32*s.ana_y[a]==e+32&&Math.abs(32*s.ana_x[a]-h)<32){i.c=1300,h=32*s.ana_x[a];break}a++}if(1300===i.c)return i.x=h,!0}return i.c1<=0?h>=s.maps.wx&&h<=s.maps.wx+s.gg.di.width-32&&e>=s.maps.wy&&e<=s.maps.wy+s.gg.di.height-32&&s.co_j.x>=h-320&&s.co_j.x<=h+192&&Math.abs(s.co_j.x-h)>=64&&Math.abs(s.co_j.y-e)<=128&&(0===i.c3?i.c1=1:i.c1=100):1===i.c1?(h+8>=s.co_j.x?(s.mSet(h,e,300),s.gs.rsAddSound(14)):(s.mSet(h,e,305),s.gs.rsAddSound(14)),i.c1=300):i.c1>=100&&i.c1<200?(i.c1++,101===i.c1&&s.gs.rsAddSound(14),Math.abs(s.co_j.x-h)>=48&&(101==i.c1||109==i.c1||117==i.c1)&&(h+8>=s.co_j.x?s.mSet(h,e,300):s.mSet(h,e,305)),i.c1>=125&&(i.c1=300)):(i.c1++,i.c1>300+t.interval&&(i.c1=0)),i.pt=158,h+8>=s.co_j.x?i.pth=0:i.pth=1,!0}return!1}}},t.YachamoHyperBeam={properties:{interval:80},initFactory:function(t,i){return function(t){}},controllerFactory:function(t){return function(i,s,h){var e=i.x,a=i.y;if(720===i.c){if(s.ana_kazu>0){for(var c=0;!(c>11);){if(s.ana_c[c]>0&&32*s.ana_y[c]==a+32&&Math.abs(32*s.ana_x[c]-e)<32){i.c=1300,e=32*s.ana_x[c];break}c++}if(1300===i.c)return i.x=e,!0}return i.c1<=0?e>=s.maps.wx-16&&e<=s.maps.wx+s.gg.di.width-32&&a>=s.maps.wy&&a<=s.maps.wy+s.gg.di.height-32&&s.co_j.x>=e-352&&s.co_j.x<=e-72&&Math.abs(s.co_j.y-a)<64&&(s.mSet2(e,a,77,h,0),s.gs.rsAddSound(14),i.c1=300):(i.c1++,i.c1>300+t.interval&&(i.c1=0)),i.pt=158,i.pth=0,!0}if(725===i.c){if(s.ana_kazu>0){for(var o=0;!(o>11);){if(s.ana_c[o]>0&&32*s.ana_y[o]==a+32&&Math.abs(32*s.ana_x[o]-e)<32){i.c=1300,e=32*s.ana_x[o];break}o++}if(1300===i.c)return i.x=e,!0}return i.c1<=0?e>=s.maps.wx-16-144&&e<=s.maps.wx+s.gg.di.width-32&&a>=s.maps.wy&&a<=s.maps.wy+s.gg.di.height-32&&s.co_j.x<=e+352&&s.co_j.x>=e+72&&Math.abs(s.co_j.y-a)<32&&(s.mSet2(e,a,87,h,0),s.gs.rsAddSound(14),i.c1=300):(i.c1++,i.c1>300+t.interval&&(i.c1=0)),i.pt=158,i.pth=1,!0}return!1}}},t.Mizutaro={properties:{walk_speed:3},initFactory:function(t,i){return function(i){i.c2=800,i.c4=t-800}},controllerFactory:function(t){return function(i,s){var h=i.x,e=i.y;if(800===i.c){if(s.ana_kazu>0){for(var a=0;!(a>11);){if(s.ana_c[a]>0&&32*s.ana_y[a]==e+32&&Math.abs(32*s.ana_x[a]-h)<32){i.c=1300,h=32*s.ana_x[a];break}a++}if(1300===i.c)return i.x=h,!0}if(i.c1>0)if(i.c1++,2===i.c1)if(1===i.c4)if(h+8>=s.co_j.x){var c=3.140000104904175;s.mSet2(h,e,731,li(9*Math.cos(c),!0,s),li(9*Math.sin(c),!0,s)),c=3.6633334159851074,s.mSet2(h,e,731,li(9*Math.cos(c),!0,s),li(9*Math.sin(c),!0,s)),c=4.186666965484619,s.mSet2(h,e,731,li(9*Math.cos(c),!0,s),li(9*Math.sin(c),!0,s)),s.gs.rsAddSound(11)}else{var o=0;s.mSet2(h,e,731,li(9*Math.cos(o),!0,s),li(9*Math.sin(o),!0,s)),o=5.756667137145996,s.mSet2(h,e,731,li(9*Math.cos(o),!0,s),li(9*Math.sin(o),!0,s)),o=5.233333587646484,s.mSet2(h,e,731,li(9*Math.cos(o),!0,s),li(9*Math.sin(o),!0,s)),s.gs.rsAddSound(11)}else if(2===i.c4)s.mSet(h,e,100),s.gs.rsAddSound(10),i.c1=12;else if(3===i.c4)h+8>=s.co_j.x?(s.mSet2(h-16,e,732,-10,0),Math.abs(e-s.co_j.y)<=288&&s.gs.rsAddSound(15)):(s.mSet2(h+16,e,732,10,0),Math.abs(e-s.co_j.y)<=288&&s.gs.rsAddSound(15)),i.c1=12;else if(4===i.c4)for(var _=0;_<=300;_+=90)s.mSet2(h,e,950,_,0),s.mSet2(h,e,960,300-_,0),s.gs.rsAddSound(18);else h+8>=s.co_j.x?(s.mSet(h,e,400),Math.abs(e-s.co_j.y)<=288&&s.gs.rsAddSound(15)):(s.mSet(h,e,405),Math.abs(e-s.co_j.y)<=288&&s.gs.rsAddSound(15));else i.c1>20&&(i.c=810,i.c1=0);else i.c1<0?i.c1++:s.co_j.x>=h-240&&s.co_j.x<=h+240&&(i.c1=1);return i.pt=160,h+8>=s.co_j.x?i.pth=0:i.pth=1,!0}if(810===i.c){if(s.ana_kazu>0){for(var r=0;!(r>11);){if(s.ana_c[r]>0&&32*s.ana_y[r]==e+32&&Math.abs(32*s.ana_x[r]-h)<32){i.c=1300,h=32*s.ana_x[r];break}r++}if(1300===i.c)return i.x=h,!0}if(i.c1<=0)(h+=t.walk_speed)>=i.c3+96&&(h=i.c3+96,i.c1=10),s.maps.getBGCode(h+31,e+32)<=9&&(h=32*vi(h+31,5)-32,i.c1=10),i.pt=161+s.g_ac,i.pth=1;else if(4!==i.c4&&i.c1<=35||i.c1<=50){if(i.c1++,15===i.c1)if(1===i.c4)if(h+8>=s.co_j.x){var n=3.140000104904175;s.mSet2(h,e,731,li(9*Math.cos(n),!0,s),li(9*Math.sin(n),!0,s)),n=3.6633334159851074,s.mSet2(h,e,731,li(9*Math.cos(n),!0,s),li(9*Math.sin(n),!0,s)),n=4.186666965484619,s.mSet2(h,e,731,li(9*Math.cos(n),!0,s),li(9*Math.sin(n),!0,s)),s.gs.rsAddSound(11)}else{var m=0;s.mSet2(h,e,731,li(9*Math.cos(m),!0,s),li(9*Math.sin(m),!0,s)),m=5.756667137145996,s.mSet2(h,e,731,li(9*Math.cos(m),!0,s),li(9*Math.sin(m),!0,s)),m=5.233333587646484,s.mSet2(h,e,731,li(9*Math.cos(m),!0,s),li(9*Math.sin(m),!0,s)),s.gs.rsAddSound(11)}else if(2===i.c4)s.mSet(h,e,100),s.gs.rsAddSound(10);else if(3===i.c4)h+8>=s.co_j.x?(s.mSet2(h-16,e,732,-10,0),Math.abs(e-s.co_j.y)<=288&&s.gs.rsAddSound(15)):(s.mSet2(h+16,e,732,10,0),Math.abs(e-s.co_j.y)<=288&&s.gs.rsAddSound(15));else if(4===i.c4)for(var g=0;g<=300;g+=90)s.mSet2(h,e,950,g,0),s.mSet2(h,e,960,300-g,0),s.gs.rsAddSound(18);else h+8>=s.co_j.x?(s.mSet(h,e,400),s.gs.rsAddSound(15)):(s.mSet(h,e,405),s.gs.rsAddSound(15));i.pt=160,h+8>=s.co_j.x?i.pth=0:i.pth=1}else(h-=t.walk_speed)<=i.c3&&(h=i.c3,i.c=800,i.c1=-20),s.maps.getBGCode(h,e+32)<=9&&(h=32*vi(h,5)+32,i.c=800,i.c1=-20),i.pt=161+s.g_ac,i.pth=0;return i.x=h,!0}return!1}}},t.AirmsStop={properties:{speed:4,interval:26},initFactory:function(t,i){return function(t){}},controllerFactory:function(t){return function(i,s){if(900===i.c){var h=i.x,e=i.y;return(h-=t.speed)<48?h<=4&&(i.c=0):(i.c1++,1===i.c1?s.mSet(h,e+19,600):i.c1>t.interval&&(i.c1=0),s.maps.getBGCode(h,e+31)>=15&&(h=32*vi(h,5)+32,i.c=910)),i.pt=164,i.pth=0,i.x=h,!0}return 910===i.c&&(i.pt=164,i.pth=0,!0)}}},t.AirmsStay={properties:{interval:30},initFactory:function(t,i){return function(i){i.c2=920,i.c3=t-920}},controllerFactory:function(t){return function(i,s){if(920===i.c){var h=i.x,e=i.y;return i.c1<=0?h>=s.maps.wx&&h<=s.maps.wx+s.gg.di.width-32&&e<=s.maps.wy+s.gg.di.height-32&&s.co_j.x>=h-256&&s.co_j.x<=h+256&&s.co_j.y>=e+16&&(i.c1=1):1===i.c1?(1===i.c3?s.mSet2(h,e,800,0,0):s.mSet(h,e+19,606),i.c1=2):(i.c1++,i.c1>t.interval&&(i.c1=0)),i.pt=164,s.co_j.x<=h+8||14===s.j_tokugi?i.pth=0:i.pth=1,!0}return!1}}},t.AirmsLeftRight={properties:{speed:4},initFactory:function(t,i){return function(t){t.c3=t.x,t.c4=20}},controllerFactory:function(t){return function(i,s){if(930===i.c){var h=i.x,e=i.y;return i.c4<20?(i.c4++,i.pt=164,i.pth=0,i.c4<10&&(i.pth=1)):20===i.c4?(((h-=t.speed)==i.c3-4||h==i.c3-4-64||h==i.c3-4-128)&&h>=s.maps.wx&&h<=s.maps.wx+s.gg.di.width-32&&e<=s.maps.wy+s.gg.di.height-32&&s.co_j.y>=e+16&&s.mSet(h+2,e,600),h<=i.c3-160&&(h=i.c3-160,i.c4=30),i.pt=164,i.pth=0):i.c4<50?(i.c4++,i.pt=164,i.pth=1,i.c4<40&&(i.pth=0)):50===i.c4&&(((h+=t.speed)===i.c3+4-32||h===i.c3+4-96)&&h>=s.maps.wx&&h<=s.maps.wx+s.gg.di.width-32&&e<=s.maps.wy+s.gg.di.height-32&&s.co_j.y>=e+16&&s.mSet(h-2,e,605),h>=i.c3&&(h=i.c3,i.c4=0),i.pt=164,i.pth=1),i.x=h,!0}return!1}}},t.AirmsReturn={properties:{speed:4,interval:26},initFactory:function(t,i){return function(t){}},controllerFactory:function(t){return function(i,s){var h=i.x,e=i.y;return 950===i.c?((h-=t.speed)<48?h<=t.speed&&(i.c=0):(i.c1++,1===i.c1?s.mSet(h,e+19,600):i.c1>t.interval&&(i.c1=0),s.maps.getBGCode(h-16,e+31)>=15&&(h=32*vi(h-16,5)+32+16,i.c=960,i.c1=t.interval-10)),i.pt=164,i.pth=0,i.x=h,!0):960===i.c&&(h+=t.speed,i.c1++,1===i.c1?s.mSet(h,e+19,605):i.c1>t.interval&&(i.c1=0),s.maps.getBGCode(h+31+16,e+31)>=15&&(h=32*vi(h+31+16,5)-32-16,i.c=950,i.c1=t.interval-10),i.pt=164,i.pth=1,i.x=h,!0)}}},t.Taiking={properties:{speed:3},initFactory:function(t,i){return function(t){}},controllerFactory:function(t){return function(i,s){var h=i.x,e=i.y;return 1e3===i.c?((h-=t.speed)<=i.c3-256+16&&(i.c=1005),(s.maps.getBGCode(h-16,e)>=15||s.maps.getBGCode(h-16,e+31)>=15)&&(h=32*vi(h-16,5)+32+16,i.c=1005),i.pt=166,i.pth=0,i.x=h,!0):1005===i.c&&((h+=t.speed)>=i.c3+16&&(i.c=1e3),(s.maps.getBGCode(h+31+16,e)>=15||s.maps.getBGCode(h+31+16,e+31)>=15)&&(h=32*vi(h+31+16,5)-32-16,i.c=1e3),i.pt=166,i.pth=1,i.x=h,!0)}}},t.TaikingJump={properties:{jump_vy:-26,interval:10},initFactory:function(t,i){return function(t){}},controllerFactory:function(t){return function(i,s){var h=i.x,e=i.y;if(1050===i.c){if(i.pt=166,s.co_j.x<=h+8||14===s.j_tokugi?i.pth=0:i.pth=1,i.c1<=0){var a=s.maps.getBGCode(h+15,e+32);18!==a&&19!==a||(e=s.getSakamichiY(h+15,e+32)),s.co_j.x>=h-136&&s.co_j.x<=h+136&&(i.vy=t.jump_vy,i.c1=100)}else if(100===i.c1){i.vy+=2,i.vy>18&&(i.vy=18),i.vy<-22?e-=22:e+=i.vy,i.vy<0&&s.maps.getBGCode(h+15,e)>=18&&(e=32*vi(e,5)+32,i.vy=0);var c=s.maps.getBGCode(h+15,e+31);if((c>=20||10===c||15===c)&&(e=32*vi(e+31,5)-32,i.c1=200),18===c||19===c)e>=s.getSakamichiY(h+15,e+31)&&(e=s.getSakamichiY(h+15,e+31),i.c1=200);else if(vi(e+31,5)>vi(i.y+31,5)){var o=s.maps.getBGCode(h+15,i.y+31);18!==o&&19!==o||(e=32*vi(i.y+31,5),e=s.getSakamichiY(h+15,e+31),i.c1=200)}}else i.c1>=200&&(i.c1++,i.c1>200+t.interval&&(i.c1=0));return e>=s.ochiru_y&&(i.c=0),i.x=h,i.y=e,!0}return!1}}},t.TaikingTerritory={properties:{speed_x:3,speed_y:2},initFactory:function(t,i){return function(t){}},controllerFactory:function(t){return function(i,s){var h=i.x,e=i.y;return 1060===i.c&&(i.pt=166,i.pth=0,i.c1<=0?(h<s.co_j.x&&(i.pth=1),s.co_j.c>=100&&s.co_j.c<200&&i.c3-160+16<=s.co_j.x&&i.c3+128-16>=s.co_j.x&&i.c4-128+16<=s.co_j.y&&i.c4+128-16>=s.co_j.y&&(i.c1=100,h>s.co_j.x?s.maps.getBGCode(h-1,e+15)>=18&&(i.c1=0):h<s.co_j.x&&s.maps.getBGCode(h+32,e+15)>=18&&(i.c1=0),e>s.co_j.y?s.maps.getBGCode(h+15,e-1)>=18&&(i.c1=0):e<s.co_j.y&&s.maps.getBGCode(h+15,e+32)>=18&&(i.c1=0))):100===i.c1?(h>s.co_j.x?s.maps.getBGCode(h-1,e+15)>=18&&(i.c1=200):h<s.co_j.x&&s.maps.getBGCode(h+32,e+15)>=18&&(i.c1=200),e>s.co_j.y?s.maps.getBGCode(h+15,e-1)>=18&&(i.c1=200):e<s.co_j.y&&s.maps.getBGCode(h+15,e+32)>=18&&(i.c1=200),200===i.c1?(h<i.c3&&(i.pth=1),h==i.c3&&h<s.co_j.x&&(i.pth=1)):(h<s.co_j.x&&(i.pth=1),Math.abs(h-s.co_j.x)<=t.speed_x?h=s.co_j.x:h<s.co_j.x?h+=t.speed_x:h>s.co_j.x&&(h-=t.speed_x),Math.abs(e-s.co_j.y)<=t.speed_y?e=s.co_j.y:e<s.co_j.y?e+=t.speed_y:e>s.co_j.y&&(e-=t.speed_y),(i.c3-160>s.co_j.x||i.c3+128<s.co_j.x||i.c4-128>s.co_j.y||i.c4+128<s.co_j.y)&&(i.c1=200),(s.co_j.c<100||s.co_j.c>=200)&&(i.c1=200))):200===i.c1&&(h<i.c3&&(i.pth=1),h==i.c3&&h<s.co_j.x&&(i.pth=1),Math.abs(h-i.c3)<=t.speed_x?h=i.c3:h<i.c3?h+=t.speed_x:h>i.c3&&(h-=t.speed_x),Math.abs(e-i.c4)<=t.speed_y?e=i.c4:e<i.c4?e+=t.speed_y:e>i.c4&&(e-=t.speed_y),h==i.c3&&e==i.c4&&(i.c1=0)),i.x=h,i.y=e,!0)}}},t.TaikingLeft={properties:{speed:5,radius:64},initFactory:function(t,i){return function(t){t.c3=t.x-64}},controllerFactory:function(t){return function(i,s){if(1070===i.c){i.c1-=t.speed,i.c1<0&&(i.c1+=360);var h=i.c3+li(Math.cos(3.14*i.c1/180)*t.radius,!0,s),e=i.c4+li(Math.sin(3.14*i.c1/180)*t.radius,!0,s);return i.pt=166,i.c1<180?i.pth=1:i.pth=0,i.x=h,i.y=e,!0}return!1}}},t.TaikingRight={properties:{speed:5,radius:64},initFactory:function(t,i){return function(t){t.c3=t.x-64}},controllerFactory:function(t){return function(i,s){if(1080===i.c){i.c1+=t.speed,i.c1>=360&&(i.c1-=360);var h=i.c3+li(Math.cos(3.14*i.c1/180)*t.radius,!0,s),e=i.c4+li(Math.sin(3.14*i.c1/180)*t.radius,!0,s);return i.pt=166,i.c1<180?i.pth=0:i.pth=1,i.x=h,i.y=e,!0}return!1}}},t.Kuragesso={properties:{interval:77},initFactory:function(t,i){return function(t){}},controllerFactory:function(t){return function(i,s){if(1100===i.c){var h=i.x,e=i.y;return i.c1>0?(i.c1++,i.c1>t.interval&&(i.c1=0)):Math.abs(s.co_j.x-h)<=144&&Math.abs(s.co_j.y-e)<=144&&(i.c1=1,s.mSet2(h,e,700,-3,-3),s.mSet2(h,e,700,3,-3),s.mSet2(h,e,700,-3,3),s.mSet2(h,e,700,3,3),s.mSet2(h,e,700,-4,0),s.mSet2(h,e,700,4,0),s.mSet2(h,e,700,0,-4),s.mSet2(h,e,700,0,4)),i.pt=167,h+8>=s.co_j.x?i.pth=0:i.pth=1,!0}return!1}}},t.KuragessoFall={properties:{init_vy:2},initFactory:function(t,i){return function(t){}},controllerFactory:function(t){return function(i,s){if(1150===i.c){var h=i.x,e=i.y;if(i.pt=167,s.co_j.x<=h+8||14===s.j_tokugi?i.pth=0:i.pth=1,i.c1<=0){var a=s.maps.getBGCode(h+15,e+32);18!==a&&19!==a||(e=s.getSakamichiY(h+15,e+32)),s.co_j.x>=h-128&&s.co_j.x<=h+128&&e+32<=s.co_j.y&&(i.vy=t.init_vy,i.c1=100)}else if(100===i.c1){i.vy++,i.vy>16&&(i.vy=16),i.vy<-22?e-=22:e+=i.vy,i.vy<0&&s.maps.getBGCode(h+15,e)>=18&&(e=32*vi(e,5)+32,i.vy=0);var c=s.maps.getBGCode(h+15,e+31);if((c>=20||10===c||15===c)&&(e=32*vi(e+31,5)-32,i.c1=200),18===c||19===c)e>=s.getSakamichiY(h+15,e+31)&&(e=s.getSakamichiY(h+15,e+31),i.c1=200);else if(vi(e+31,5)>vi(i.y+31,5)){var o=s.maps.getBGCode(h+15,i.y+31);18!==o&&19!==o||(e=32*vi(i.y+31,5),e=s.getSakamichiY(h+15,e+31),i.c1=200)}}else i.c1>=200&&(i.c1++,i.c1>210&&(i.c1=0));return e>=s.ochiru_y&&(i.c=0),i.x=h,i.y=e,!0}return!1}}},t.KuragessoTerritory={properties:{speed_x:3,speed_y:2},initFactory:function(t,i){return function(t){}},controllerFactory:function(t){return function(i,s){if(1160===i.c){var h=i.x,e=i.y;return i.pt=167,i.pth=0,i.c1<=0?(h<s.co_j.x&&(i.pth=1),s.co_j.c>=100&&s.co_j.c<200&&i.c3-160+16<=s.co_j.x&&i.c3+128-16>=s.co_j.x&&i.c4-128+16<=s.co_j.y&&i.c4+128-16>=s.co_j.y&&(i.c1=100,h>s.co_j.x?s.maps.getBGCode(h-1,e+15)>=18&&(i.c1=0):h<s.co_j.x&&s.maps.getBGCode(h+32,e+15)>=18&&(i.c1=0),e>s.co_j.y?s.maps.getBGCode(h+15,e-1)>=18&&(i.c1=0):e<s.co_j.y&&s.maps.getBGCode(h+15,e+32)>=18&&(i.c1=0))):100===i.c1?(h>s.co_j.x?s.maps.getBGCode(h-1,e+15)>=18&&(i.c1=200):h<s.co_j.x&&s.maps.getBGCode(h+32,e+15)>=18&&(i.c1=200),e>s.co_j.y?s.maps.getBGCode(h+15,e-1)>=18&&(i.c1=200):e<s.co_j.y&&s.maps.getBGCode(h+15,e+32)>=18&&(i.c1=200),200==i.c1?(h<i.c3&&(i.pth=1),h==i.c3&&h<s.co_j.x&&(i.pth=1)):(h<s.co_j.x&&(i.pth=1),Math.abs(h-s.co_j.x)<=t.speed_x?h=s.co_j.x:h<s.co_j.x?h+=t.speed_x:h>s.co_j.x&&(h-=t.speed_x),Math.abs(e-s.co_j.y)<=t.speed_y?e=s.co_j.y:e<s.co_j.y?e+=t.speed_y:e>s.co_j.y&&(e-=t.speed_y),(i.c3-160>s.co_j.x||i.c3+128<s.co_j.x||i.c4-128>s.co_j.y||i.c4+128<s.co_j.y)&&(i.c1=200),(s.co_j.c<100||s.co_j.c>=200)&&(i.c1=200))):200===i.c1&&(h<i.c3&&(i.pth=1),h==i.c3&&h<s.co_j.x&&(i.pth=1),Math.abs(h-i.c3)<=t.speed_x?h=i.c3:h<i.c3?h+=t.speed_x:h>i.c3&&(h-=t.speed_x),Math.abs(e-i.c4)<=t.speed_y?e=i.c4:e<i.c4?e+=t.speed_y:e>i.c4&&(e-=t.speed_y),h==i.c3&&e==i.c4&&(i.c1=0)),i.x=h,i.y=e,!0}return!1}}},t.KuragessoLeft={properties:{speed:5,radius:64},initFactory:function(t,i){return function(t){t.c3=t.x-64}},controllerFactory:function(t){return function(i,s){if(1170===i.c){i.c1-=t.speed,i.c1<0&&(i.c1+=360);var h=i.c3+li(Math.cos(3.14*i.c1/180)*t.radius,!0,s),e=i.c4+li(Math.sin(3.14*i.c1/180)*t.radius,!0,s);return i.pt=167,i.c1<180?i.pth=1:i.pth=0,i.x=h,i.y=e,!0}return!1}}},t.KuragessoRight={properties:{speed:5,radius:64},initFactory:function(t,i){return function(t){t.c3=t.x-64}},controllerFactory:function(t){return function(i,s){if(1180===i.c){i.c1+=t.speed,i.c1>=360&&(i.c1-=360);var h=i.c3+li(Math.cos(3.14*i.c1/180)*t.radius,!0,s),e=i.c4+li(Math.sin(3.14*i.c1/180)*t.radius,!0,s);return i.pt=167,i.c1<180?i.pth=0:i.pth=1,i.x=h,i.y=e,!0}return!1}}},t.TurtleChaser={properties:{walk_speed:4},initFactory:function(t,i){return function(t){t.c=1220}},controllerFactory:function(t){return function(i,s,h){var e=i.x,a=i.y;if(1200===i.c){if(e-=t.walk_speed,i.muki=0,i.direction=0,vi(e+15,5)<vi(e+15+t.walk_speed,5)){var c=s.maps.getBGCode(e+4+15,a+31);19===c?a=32*vi(a+31,5)-32:18===c&&(a=32*vi(a+31,5)),18===(c=s.maps.getBGCode(e+15,a+32))&&(a=s.getSakamichiY(e+15,a+32))}var o=s.maps.getBGCode(e,a+8);if((o>=20||18===o)&&(e=32*vi(e,5)+32,Math.abs(a-s.co_j.y)>=32||e<=s.co_j.x)){var _=s.maps.getBGCode(e+32,a+15);if(_<=10||15===_){i.c=1210,i.muki=1,i.direction=1,i.pt=140+s.g_ac;for(var r=0;!(r>s.t_kazu);){if(s.co_t[r].c>1200&&s.co_t[r].c<=1210&&s.co_t[r].x===e+32&&Math.abs(s.co_t[r].y-a)<32){i.c=1200;break}r++}return i.x=e,i.y=a,!0}}if(Math.abs(a-s.co_j.y)<32&&e<s.co_j.x)i.c=1210,i.pt=140+s.g_ac;else{for(var n=!1,m=0;m<=s.t_kazu;m++)if(!((s.co_t[m].c<1200||s.co_t[m].c>=1300)&&60!=s.co_t[m].c||m===h||Math.abs(s.co_t[m].x-e)>=32||Math.abs(s.co_t[m].y-a)>=32)){if(1210===s.co_t[m].c){var g=Math.abs(vi(a+15,5)-vi(s.co_j.y+15,5));g<=1||g>=5?e>s.co_j.x?i.c=1200:i.c=1210:e<s.co_j.x?i.c=1200:i.c=1210;var p=vi(i.x+15,5);if((g=vi(i.y+15,5))<vi(s.co_j.y+15,5))for(var y=1;!(y>31||p+y>=s.mapWidth||s.maps.map_bg[p+y][g]>=19);){if(s.maps.map_bg[p+y][g+1]<=10||15===s.maps.map_bg[p+y][g+1]){i.c=1210;break}y++}else if(g>vi(s.co_j.y+15,5))for(var u=1;!(u>31||p+u>=s.mapWidth||s.maps.map_bg[p+u][g]>=19);){if(10===s.maps.map_bg[p+u][g]){i.c=1210;break}u++}if(p=vi(i.x+15,5),(g=vi(i.y+15,5))<vi(s.co_j.y+15,5))for(var d=1;!(d>31||p-d<=0||s.maps.map_bg[p-d][g]>=20||18===s.maps.map_bg[p-d][g]);){if(s.maps.map_bg[p-d][g+1]<=10||15===s.maps.map_bg[p-d][g+1]){i.c=1200;break}d++}else if(g>vi(s.co_j.y+15,5))for(var j=1;!(j>31||p-j<=0||s.maps.map_bg[p-j][g]>=20||18===s.maps.map_bg[p-j][g]);){if(10===s.maps.map_bg[p-j][g]){i.c=1200;break}j++}if(m<h&&32*vi(i.x,5)!==i.x&&(i.c=1210),1200===i.c&&32*vi(i.x,5)!==i.x)if(g>vi(s.co_j.y+15,5)&&10===s.maps.getBGCode(i.x+15,i.y+15)){i.c=1210;for(var f=0;f<=s.t_kazu;f++)if(1200===s.co_t[f].c&&Math.abs(s.co_t[f].y-i.y)<=16&&i.x<=s.co_t[f].x)for(var l=0;!(l>s.t_kazu);){if(s.co_t[l].c>=1200&&s.co_t[l].c<1300&&Math.abs(s.co_t[l].y-s.co_t[f].y)<=16&&s.co_t[l].x>=s.co_t[f].x-32&&s.co_t[l].x<s.co_t[f].x&&f!=l){s.co_t[f].c=1210;break}l++}}else if(g<vi(s.co_j.y+15,5)&&10===s.maps.getBGCode(i.x+15,i.y+32+15)){i.c=1210;t:for(var v=0;v<=s.t_kazu;v++)if(!(1200!==s.co_t[v].c||Math.abs(s.co_t[v].y-i.y)>16||i.x>s.co_t[v].x))for(var x=0;;){if(x>s.t_kazu)continue t;if(s.co_t[x].c>=1200&&s.co_t[x].c<1300&&Math.abs(s.co_t[x].y-s.co_t[v].y)<=16&&s.co_t[x].x>=s.co_t[v].x-32&&s.co_t[x].x<s.co_t[v].x&&v!==x){s.co_t[v].c=1210;continue t}x++}}32*vi(i.x,5)==i.x&&(g>vi(s.co_j.y+15,5)&&10===s.maps.getBGCode(i.x+15,i.y+15)?i.c=1230:g<vi(s.co_j.y+15,5)&&(s.maps.getBGCode(i.x+15,i.y+32)<=10||s.maps.getBGCode(i.x+15,i.y+32)<=15)&&(i.c=1220)),e=i.x,n=!0;break}if(s.co_t[m].x<i.x){e=i.x,n=!0;break}if(!(s.co_t[m].x!==i.x||m>=h)){e=i.x,n=!0;break}}if(n)i.pt=140+s.g_ac,i.pth=i.muki;else{if(32*vi(e,5)===e){var k=vi(e+15,5),w=vi(a+15,5);if(s.maps.map_bg[k][w+1]<=9&&10!==s.maps.map_bg[k][w]||(s.maps.map_bg[k][w+1]<=10||15===s.maps.map_bg[k][w+1])&&w<vi(s.co_j.y+15,5)){for(var b=!1,S=0;S<=11;S++)if(!(s.ana_c[S]<=0||32*s.ana_x[S]!==e||a+32!==32*s.ana_y[S])){for(var M=0;!(M>s.t_kazu);){if((s.co_t[M].c>=1200&&s.co_t[M].c<1300||60===s.co_t[M].c)&&M!==h&&e===s.co_t[M].x&&a<=s.co_t[M].y&&a+32>=s.co_t[M].y){b=!0;break}M++}if(b)break}for(var C=0;!(C>s.t_kazu);){if(s.co_t[C].c>=1200&&s.co_t[C].c<=1210&&C!==h&&32*vi(s.co_t[C].x,5)===s.co_t[C].x&&e===s.co_t[C].x&&a<=s.co_t[C].y&&a+32>=s.co_t[C].y&&s.maps.getBGCode(s.co_t[C].x+15,s.co_t[C].y+32)>=20){b=!0;break}C++}b||(i.c=1220,i.c1=0)}else 10===s.maps.map_bg[k][w]&&w>vi(s.co_j.y+15,5)?i.c=1230:(s.maps.map_bg[k-1][w]>=20||s.maps.map_bg[k-1][w]>=18)&&(Math.abs(a-s.co_j.y)>=32||e<=s.co_j.x)&&(i.c=1210,s.maps.getBGCode(e+32,a+15)>=19&&(i.c=1200))}var I=s.maps.getBGCode(e+15,a+31);18!==I&&19!==I||(a=s.getSakamichiY(e+15,a+31)),i.pt=140+s.g_ac,i.pth=i.muki}}return i.x=e,i.y=a,!0}if(1210===i.c){if(e+=t.walk_speed,i.muki=1,i.direction=1,vi(e+15,5)>vi(e+15-t.walk_speed,5)){var B=s.maps.getBGCode(e-4+15,a+31);18===B?a=32*vi(a+31,5)-32:19===B&&(a=32*vi(a+31,5)),19===(B=s.maps.getBGCode(e+15,a+32))&&(a=s.getSakamichiY(e+15,a+32))}if(s.maps.getBGCode(e+31,a+8)>=19&&(e=32*vi(e+31,5)-32,Math.abs(a-s.co_j.y)>=32||e>=s.co_j.x)){var G=s.maps.getBGCode(e-1,a+15);if(G<=10||15===G){i.c=1200,i.pt=140+s.g_ac,i.pth=i.muki;for(var z=0;!(z>s.t_kazu);){if(s.co_t[z].c>1200&&s.co_t[z].c<=1210&&s.co_t[z].x===e-32&&Math.abs(s.co_t[z].y-a)<32){i.c=1210;break}z++}return i.x=e,i.y=a,!0}}if(Math.abs(a-s.co_j.y)<32&&e>s.co_j.x)i.c=1200,i.pt=140+s.g_ac,i.pth=i.muki;else{for(var A=!1,P=0;P<=s.t_kazu;P++)if(!((s.co_t[P].c<1200||s.co_t[P].c>=1300)&&60!==s.co_t[P].c||P===h||Math.abs(s.co_t[P].x-e)>=32||Math.abs(s.co_t[P].y-a)>=32)){if(1200===s.co_t[P].c){var N=Math.abs(vi(a+15,5)-vi(s.co_j.y+15,5));N<=1||N>=5?e>s.co_j.x?i.c=1200:i.c=1210:e<s.co_j.x?i.c=1200:i.c=1210;var O=vi(i.x+15,5);if((N=vi(i.y+15,5))<vi(s.co_j.y+15,5))for(var Y=1;!(Y>31||O+Y>=s.mapWidth||s.maps.map_bg[O+Y][N]>=19);){if(s.maps.map_bg[O+Y][N+1]<=10||15===s.maps.map_bg[O+Y][N+1]){i.c=1210;break}Y++}else if(N>vi(s.co_j.y+15,5))for(var T=1;!(T>31||O+T>=s.mapWidth||s.maps.map_bg[O+T][N]>=19);){if(10===s.maps.map_bg[O+T][N]){i.c=1210;break}T++}if(O=vi(i.x+15,5),(N=vi(i.y+15,5))<vi(s.co_j.y+15,5))for(var R=1;!(R>31||O-R<=0||s.maps.map_bg[O-R][N]>=20||18===s.maps.map_bg[O-R][N]);){if(s.maps.map_bg[O-R][N+1]<=10||15===s.maps.map_bg[O-R][N+1]){i.c=1200;break}R++}else if(N>vi(s.co_j.y+15,5))for(var E=1;!(E>31||O-E<=0||s.maps.map_bg[O-E][N]>=20||18===s.maps.map_bg[O-E][N]);){if(10===s.maps.map_bg[O-E][N]){i.c=1200;break}E++}P<h&&32*vi(i.x,5)!==i.x&&(i.c=1200),e=i.x,A=!0;break}if(s.co_t[P].x>i.x){e=i.x,A=!0;break}if(!(s.co_t[P].x!=i.x||P>=h)){e=i.x,A=!0;break}}if(A)i.pt=140+s.g_ac,i.pth=i.muki;else{if(32*vi(e,5)===e){var V=vi(e+15,5),W=vi(a+15,5);if(s.maps.map_bg[V][W+1]<=9&&10!==s.maps.map_bg[V][W]||(s.maps.map_bg[V][W+1]<=10||15===s.maps.map_bg[V][W+1])&&W<vi(s.co_j.y+15,5)){for(var L=!1,D=0;D<=11;D++)if(!(s.ana_c[D]<=0||32*s.ana_x[D]!==e||a+32!==32*s.ana_y[D])){for(var F=0;!(F>s.t_kazu);){if((s.co_t[F].c>=1200&&s.co_t[F].c<1300||60===s.co_t[F].c)&&F!==h&&e===s.co_t[F].x&&a<=s.co_t[F].y&&a+32>=s.co_t[F].y){L=!0;break}F++}if(L)break}for(var H=0;!(H>s.t_kazu);){if(s.co_t[H].c>=1200&&s.co_t[H].c<=1210&&H!==h&&32*vi(s.co_t[H].x,5)===s.co_t[H].x&&e===s.co_t[H].x&&a<=s.co_t[H].y&&a+32>=s.co_t[H].y&&s.maps.getBGCode(s.co_t[H].x+15,s.co_t[H].y+32)>=20){L=!0;break}H++}L||(i.c=1220,i.c1=0)}else if(10===s.maps.map_bg[V][W]&&W>vi(s.co_j.y+15,5))i.c=1230;else if(s.maps.map_bg[V+1][W]>=19&&(Math.abs(a-s.co_j.y)>=32||e>=s.co_j.x)){i.c=1200;var U=s.maps.getBGCode(e-1,a+15);(U>=20||18===U)&&(i.c=1210)}}var q=s.maps.getBGCode(e+15,a+31);18!==q&&19!==q||(a=s.getSakamichiY(e+15,a+31)),i.pt=140+s.g_ac,i.pth=i.muki}}i.x=e,i.y=a}else{if(1220===i.c){if(10===s.maps.getBGCode(e+15,a+31)&&(e<s.co_j.x?i.muki=1:e>s.co_j.x&&(i.muki=0),i.direction=3),a-20>=s.co_j.y&&10===s.maps.getBGCode(e+15,a+31)&&(s.maps.getBGCode(e+15,a+31-32)<=10||15===s.maps.getBGCode(e+15,a+31-32))){if(i.c=1230,i.pt=140+s.g_ac,i.pth=i.muki,32*vi(a,5)!==a)for(var K=0;!(K>s.t_kazu);){if(s.co_t[K].c>=1220&&K!==h&&Math.abs(s.co_t[K].x-e)<32&&Math.abs(a-4-s.co_t[K].y)<32){i.c=1220;break}K++}if(1230===i.c)return!0}a+=4;var J=!1;t:for(var Z=0;Z<=s.t_kazu;Z++){var X=s.co_t[Z];if(!((X.c<1200||X.c>=1300)&&60!==X.c||Z===h||Math.abs(X.x-e)>=32||Math.abs(X.y-a)>=32)){if(X.y>i.y){J=!0,a=X.y-32;var $=!1;if(1200===X.c&&s.maps.getBGCode(X.x-1,X.y+15)>=20&&($=!0),1210===X.c&&s.maps.getBGCode(X.x+32,X.y+15)>=20&&($=!0),1200===X.c&&s.maps.getBGCode(X.x+32,X.y+15)>=20&&s.maps.getBGCode(X.x+15,X.y+32)>=20&&($=!0),1210===X.c&&s.maps.getBGCode(X.x-1,X.y+15)>=20&&s.maps.getBGCode(X.x+15,X.y+32)>=20&&($=!0),!$)break;var Q=Math.abs(vi(a+15,5)-vi(s.co_j.y+15,5));Q<=1||Q>=5?e>s.co_j.x?i.c=1200:i.c=1210:e<s.co_j.x?i.c=1200:i.c=1210;var tt=vi(i.x+15,5);if((Q=vi(i.y+15,5))<vi(s.co_j.y+15,5))for(var it=1;!(it>31||tt+it>=s.mapWidth||s.maps.map_bg[tt+it][Q]>=19);){if(s.maps.map_bg[tt+it][Q+1]<=10||15===s.maps.map_bg[tt+it][Q+1]){i.c=1210;break}it++}else if(Q>vi(s.co_j.y+15,5))for(var st=1;!(st>31||tt+st>=s.mapWidth||s.maps.map_bg[tt+st][Q]>=19);){if(10===s.maps.map_bg[tt+st][Q]){i.c=1210;break}st++}if(tt=vi(i.x+15,5),(Q=vi(i.y+15,5))<vi(s.co_j.y+15,5))for(var ht=1;;){if(ht>31||tt-ht<=0||s.maps.map_bg[tt-ht][Q]>=20||18===s.maps.map_bg[tt-ht][Q])break t;if(s.maps.map_bg[tt-ht][Q+1]<=10||15==s.maps.map_bg[tt-ht][Q+1]){i.c=1200;break t}ht++}if(Q<=vi(s.co_j.y+15,5))break;for(var et=1;;){if(et>31||tt-et<=0||s.maps.map_bg[tt-et][Q]>=20||18===s.maps.map_bg[tt-et][Q])break t;if(10===s.maps.map_bg[tt-et][Q]){i.c=1200;break t}et++}}if(!(s.co_t[Z].y!=i.y||Z>=h)){a=i.y,J=!0;break}}}if(J)return i.pt=140+s.g_ac,i.pth=i.muki,i.x=e,i.y=a,!0;s.maps.getBGCode(e,a+31)>=20&&(a=32*vi(a+31,5)-32);var at=s.maps.getBGCode(e+15,a+31);if((18===at||19===at)&&a>=s.getSakamichiY(e+15,a+31)){a=s.getSakamichiY(e+15,a+31);var ct=Math.abs(vi(a+15,5)-vi(s.co_j.y+15,5));return ct<=1||ct>=5?e>s.co_j.x?(i.muki=0,i.c=1200):(i.muki=1,i.c=1210):e<s.co_j.x?(i.muki=0,i.c=1200):(i.muki=1,i.c=1210),i.pt=140+s.g_ac,i.pth=i.muki,i.x=e,i.y=a,!0}if(32*vi(a,5)===a){if(10===s.maps.getBGCode(e+15,a+15)&&a>s.co_j.y){i.c=1230,i.pt=140+s.g_ac,i.pth=i.muki;for(var ot=0;!(ot>s.t_kazu);){if(1220===s.co_t[ot].c&&ot!==h&&Math.abs(s.co_t[ot].x-e)<32&&Math.abs(a-4-s.co_t[ot].y)<32){a=i.y,i.c=1220;break}ot++}return i.x=e,i.y=a,!0}var _t=s.maps.getBGCode(e,a+32);if(_t>=20){a=32*vi(a+32,5)-32;var rt=Math.abs(vi(a+15,5)-vi(s.co_j.y+15,5));rt<=1||rt>=5?e>s.co_j.x?(i.muki=0,i.c=1200):(i.muki=1,i.c=1210):e<s.co_j.x?(i.muki=0,i.c=1200):(i.muki=1,i.c=1210);var nt=vi(i.x+15,5);if((rt=vi(i.y+15,5))<vi(s.co_j.y+15,5))for(var mt=1;!(mt>31||nt+mt>=s.mapWidth||s.maps.map_bg[nt+mt][rt]>=19);){if(s.maps.map_bg[nt+mt][rt+1]<=10||15===s.maps.map_bg[nt+mt][rt+1]){i.c=1210,i.muki=1;break}mt++}else if(rt>vi(s.co_j.y+15,5))for(var gt=1;!(gt>31||nt+gt>=s.mapWidth||s.maps.map_bg[nt+gt][rt]>=19);){if(10===s.maps.map_bg[nt+gt][rt]){i.c=1210,i.muki=1;break}gt++}if(nt=vi(i.x+15,5),(rt=vi(i.y+15,5))<vi(s.co_j.y+15,5))for(var pt=1;!(pt>31||nt-pt<=0||s.maps.map_bg[nt-pt][rt]>=20||18===s.maps.map_bg[nt-pt][rt]);){if(s.maps.map_bg[nt-pt][rt+1]<=10||15===s.maps.map_bg[nt-pt][rt+1]){i.c=1200,i.muki=0;break}pt++}else if(rt>vi(s.co_j.y+15,5))for(var yt=1;!(yt>31||nt-yt<=0||s.maps.map_bg[nt-yt][rt]>=20||18===s.maps.map_bg[nt-yt][rt]);){if(10===s.maps.map_bg[nt-yt][rt]){i.c=1200,i.muki=0;break}yt++}}else if((15===_t||10===_t||10===s.maps.getBGCode(e+15,a+15))&&vi(a+15,5)>=vi(s.co_j.y+15,5)){a=32*vi(a+32,5)-32;var ut=Math.abs(vi(a+15,5)-vi(s.co_j.y+15,5));ut<=1||ut>=5?e>s.co_j.x?(i.muki=0,i.c=1200):(i.muki=1,i.c=1210):e<s.co_j.x?(i.muki=0,i.c=1200):(i.muki=1,i.c=1210);var dt=vi(i.x+15,5);if((ut=vi(i.y+15,5))<vi(s.co_j.y+15,5))for(var jt=1;!(jt>31||dt+jt>=s.mapWidth||s.maps.map_bg[dt+jt][ut]>=19);){if(s.maps.map_bg[dt+jt][ut+1]<=10||15===s.maps.map_bg[dt+jt][ut+1]){i.c=1210,i.muki=1;break}jt++}else if(ut>vi(s.co_j.y+15,5))for(var ft=1;!(ft>31||dt+ft>=s.mapWidth||s.maps.map_bg[dt+ft][ut]>=19);){if(10===s.maps.map_bg[dt+ft][ut]){i.c=1210,i.muki=1;break}ft++}if(dt=vi(i.x+15,5),(ut=vi(i.y+15,5))<vi(s.co_j.y+15,5))for(var lt=1;!(lt>31||dt-lt<=0||s.maps.map_bg[dt-lt][ut]>=20||18===s.maps.map_bg[dt-lt][ut]);){if(s.maps.map_bg[dt-lt][ut+1]<=10||15===s.maps.map_bg[dt-lt][ut+1]){i.c=1200,i.muki=0;break}lt++}else if(ut>vi(s.co_j.y+15,5))for(var vt=1;!(vt>31||dt-vt<=0||s.maps.map_bg[dt-vt][ut]>=20||18===s.maps.map_bg[dt-vt][ut]);){if(10===s.maps.map_bg[dt-vt][ut]){i.c=1200,i.muki=0;break}vt++}}else if(_t<=9){for(var xt=!1,kt=0;kt<=11;kt++)if(!(s.ana_c[kt]<=0||32*s.ana_x[kt]!==e||a+32!==32*s.ana_y[kt])){for(var wt=0;!(wt>s.t_kazu);){if((s.co_t[wt].c>=1200&&s.co_t[wt].c<1300||60==s.co_t[wt].c)&&wt!==h&&e===s.co_t[wt].x&&a<=s.co_t[wt].y&&a+32>=s.co_t[wt].y){xt=!0;break}wt++}if(xt)break}if(xt){var bt=Math.abs(vi(a+15,5)-vi(s.co_j.y+15,5));bt<=1||bt>=5?e>s.co_j.x?i.c=1200:i.c=1210:e<s.co_j.x?i.c=1200:i.c=1210}}if(1210===i.c&&(s.maps.getBGCode(i.x+32,i.y+15)>=20||18===s.maps.getBGCode(i.x+32,i.y+15))?(i.c=1200,i.muki=0,Math.abs(a-s.co_j.y)<32&&e<s.co_j.x&&(i.c=1210,i.muki=1)):1200===i.c&&s.maps.getBGCode(i.x-1,i.y+15)>=19&&(i.c=1210,i.muki=1,Math.abs(a-s.co_j.y)<32&&e>s.co_j.x&&(i.c=1200,i.muki=0)),32*vi(a,5)===a)for(var St=0;St<=11;St++)s.ana_c[St]>0&&32*s.ana_x[St]===e&&32*s.ana_y[St]==a&&(i.c=1250,i.c1=0)}return(1200===i.c||1210==i.c)&&Math.abs(e-s.co_j.x)<=32&&Math.abs(a-s.co_j.y)<=32&&!s.co_j.jimen_f&&!s.j_hashigo_f&&(i.c=1220),Math.abs(s.co_j.x-i.x)<=24&&s.co_j.y+32===i.y&&130!==s.co_j.c&&(32*vi(s.co_j.y,5)!==s.co_j.y||15!==s.maps.getBGCode(s.co_j.x+15,s.co_j.y+32))&&!s.j_hashigo_f&&(s.co_j.y=a-32,s.maps.getBGCode(s.co_j.x+15,s.co_j.y+31)>=20&&(s.co_j.y=32*vi(s.co_j.y+31,5)-32)),a>=s.maps.wy_max+s.gg.di.height&&(i.c=60,i.c1=0),i.pt=140+s.g_ac,i.pth=i.muki,i.x=e,i.y=a,!0}if(1230===i.c){if(i.direction=2,e<s.co_j.x?i.muki=1:e>s.co_j.x&&(i.muki=0),a+20<=s.co_j.y)i.c=1220,i.pt=140+s.g_ac,i.pth=i.muki;else{a-=4;for(var Mt=!1,Ct=0;Ct<=s.t_kazu;Ct++)if(!((s.co_t[Ct].c<1200||s.co_t[Ct].c>=1300)&&60!==s.co_t[Ct].c||Ct===h||Math.abs(s.co_t[Ct].x-e)>=32||Math.abs(s.co_t[Ct].y-a)>=32)){if(1220===s.co_t[Ct].c){i.c=1220,a=i.y,Mt=!0;break}if(s.co_t[Ct].y<i.y){a=i.y,Mt=!0;break}if(!(s.co_t[Ct].y!==i.y||Ct>=h)){a=i.y,Mt=!0;break}}if(Mt)i.pt=140+s.g_ac,i.pth=i.muki;else{if(s.maps.getBGCode(e,a)>=18&&(a=32*vi(a,5)+32),32*vi(a,5)===a)if(10!==s.maps.getBGCode(e+15,a+15)||s.maps.getBGCode(e+15,a-1)>=20){var It=Math.abs(vi(a+15,5)-vi(s.co_j.y+15,5));It<=1||It>=5?e>s.co_j.x?i.c=1200:i.c=1210:e<s.co_j.x?i.c=1200:i.c=1210;var Bt=vi(i.x+15,5);if((It=vi(i.y+15,5))<vi(s.co_j.y+15,5))for(var Gt=1;!(Gt>31||Bt+Gt>=s.mapWidth||s.maps.map_bg[Bt+Gt][It]>=19);){if(s.maps.map_bg[Bt+Gt][It+1]<=10||15===s.maps.map_bg[Bt+Gt][It+1]){i.c=1210;break}Gt++}else if(It>vi(s.co_j.y+15,5))for(var zt=1;!(zt>31||Bt+zt>=s.mapWidth||s.maps.map_bg[Bt+zt][It]>=19);){if(10===s.maps.map_bg[Bt+zt][It]){i.c=1210;break}zt++}if(Bt=vi(i.x+15,5),(It=vi(i.y+15,5))<vi(s.co_j.y+15,5))for(var At=1;!(At>31||Bt-At<=0||s.maps.map_bg[Bt-At][It]>=20||18===s.maps.map_bg[Bt-At][It]);){if(s.maps.map_bg[Bt-At][It+1]<=10||15===s.maps.map_bg[Bt-At][It+1]){i.c=1200;break}At++}else if(It>vi(s.co_j.y+15,5))for(var Pt=1;!(Pt>31||Bt-Pt<=0||s.maps.map_bg[Bt-Pt][It]>=20||18===s.maps.map_bg[Bt-Pt][It]);){if(10===s.maps.map_bg[Bt-Pt][It]){i.c=1200;break}Pt++}}else Math.abs(a-s.co_j.y)<32&&(e>s.co_j.x?(i.muki=0,i.c=1200):(i.muki=1,i.c=1210));(1200===i.c||1210===i.c)&&Math.abs(e-s.co_j.x)<=32&&Math.abs(a-s.co_j.y)<=32&&!s.co_j.jimen_f&&!s.j_hashigo_f&&(i.c=1230),i.pt=140+s.g_ac,i.pth=i.muki}}return i.x=e,i.y=a,!0}if(1250===i.c)return i.c1<=75?(i.c1++,i.pt=140,i.pth=i.muki):(i.c=1260,i.pt=140+s.g_ac,i.pth=i.muki),!0;if(1260===i.c){if(32*vi(a-=4,5)===a){0===i.muki?i.c=1200:i.c=1210;var Nt=Math.abs(vi(a+15,5)-vi(s.co_j.y+15,5));Nt<=1||Nt>=5?e>s.co_j.x?(i.muki=0,i.c=1200):(i.muki=1,i.c=1210):e<s.co_j.x?(i.muki=0,i.c=1200):(i.muki=1,i.c=1210),s.maps.getBGCode(e+15,a+15)>=20&&(i.c=60,i.c1=0,s.gs.rsAddSound(19))}return i.pt=140+s.g_ac,i.pth=i.muki,i.x=e,i.y=a,!0}}return!1}}},t.PikachieChaser={properties:{speed:4},initFactory:function(t,i){return function(t,i){t.c=1430,t.c2=i.tpika_p,i.tpika_p++,i.tpika_p>2&&(i.tpika_p=2)}},controllerFactory:function(t){return function(i,s,h){var e=i.x,a=i.y;return 1400===i.c?(e-=t.speed,i.muki=0,s.maps.getBGCode(e,a+15)>=20&&(e=32*vi(e,5)+32),e%32==0&&(0===i.c2?e-32>=s.co_j.x&&s.maps.getBGCode(e-1,a+15)<20?i.c=1400:a-32>=s.co_j.y&&s.maps.getBGCode(e+15,a-1)<20?i.c=1420:a+32<=s.co_j.y&&s.maps.getBGCode(e+15,a+32)<20?i.c=1430:s.maps.getBGCode(e-1,a+15)<20?i.c=1400:s.maps.getBGCode(e+15,a-1)<20?i.c=1420:i.c=1430:1===i.c2?a-32>=s.co_j.y&&s.maps.getBGCode(e+15,a-1)<20?i.c=1420:a+32<=s.co_j.y&&s.maps.getBGCode(e+15,a+32)<20?i.c=1430:s.maps.getBGCode(e-1,a+15)<20?i.c=1400:i.c=1410:2===i.c2&&(s.maps.getBGCode(e+15,a-1)<20&&0===s.ranInt(2)?i.c=1420:s.maps.getBGCode(e+15,a+32)<20&&0===s.ranInt(2)?i.c=1430:s.maps.getBGCode(e-1,a+15)<20?i.c=1400:i.c=1410)),i.pt=143+s.g_ac,i.pth=i.muki,1===i.c2?i.pt=152+s.g_ac:2===i.c2&&(i.pt=155+s.g_ac),i.direction=0,i.x=e,i.y=a,!0):1410===i.c?(e+=t.speed,i.muki=1,s.maps.getBGCode(e+31,a+15)>=20&&(e=32*vi(e+31,5)-32),e%32==0&&(0===i.c2?e+32<=s.co_j.x&&s.maps.getBGCode(e+32,a+15)<20?i.c=1410:a-32>=s.co_j.y&&s.maps.getBGCode(e+15,a-1)<20?i.c=1420:a+32<=s.co_j.y&&s.maps.getBGCode(e+15,a+32)<20?i.c=1430:s.maps.getBGCode(e+32,a+15)<20?i.c=1410:s.maps.getBGCode(e+15,a-1)<20?i.c=1420:i.c=1430:1===i.c2?a-32>=s.co_j.y&&s.maps.getBGCode(e+15,a-1)<20?i.c=1420:a+32<=s.co_j.y&&s.maps.getBGCode(e+15,a+32)<20?i.c=1430:s.maps.getBGCode(e+32,a+15)<20?i.c=1410:i.c=1400:2===i.c2&&(s.maps.getBGCode(e+15,a-1)<20&&0===s.ranInt(2)?i.c=1420:s.maps.getBGCode(e+15,a+32)<20&&0===s.ranInt(2)?i.c=1430:s.maps.getBGCode(e+32,a+15)<20?i.c=1410:i.c=1400)),i.pt=143+s.g_ac,i.pth=i.muki,1===i.c2?i.pt=152+s.g_ac:2===i.c2&&(i.pt=155+s.g_ac),i.direction=1,i.x=e,i.y=a,!0):1420===i.c?(a-=t.speed,s.maps.getBGCode(e+15,a)>=20&&(a=32*vi(a,5)+32),a%32==0&&(0===i.c2?e-32>=s.co_j.x&&s.maps.getBGCode(e-1,a+15)<20?i.c=1400:e+32<=s.co_j.x&&s.maps.getBGCode(e+32,a+15)<20?i.c=1410:s.maps.getBGCode(e+15,a-1)<20?i.c=1420:i.c=1430:1===i.c2?a-32>=s.co_j.y&&s.maps.getBGCode(e+15,a-1)<20?i.c=1420:e-32>=s.co_j.x&&s.maps.getBGCode(e-1,a+15)<20?i.c=1400:e+32<=s.co_j.x&&s.maps.getBGCode(e+32,a+15)<20?i.c=1410:s.maps.getBGCode(e+15,a-1)<20?i.c=1420:s.maps.getBGCode(e-1,a+15)<20?i.c=1400:i.c=1410:2===i.c2&&(s.maps.getBGCode(e-1,a+15)<20&&0===s.ranInt(2)?i.c=1400:s.maps.getBGCode(e+32,a+15)<20&&0===s.ranInt(2)?i.c=1410:s.maps.getBGCode(e+15,a-1)<20?i.c=1420:i.c=1430)),i.pt=143+s.g_ac,i.pth=i.muki,1===i.c2?i.pt=152+s.g_ac:2===i.c2&&(i.pt=155+s.g_ac),i.direction=2,i.x=e,i.y=a,!0):1430===i.c&&(a+=t.speed,s.maps.getBGCode(e+15,a+31)>=20&&(a=32*vi(a+31,5)-32),a%32==0&&(0===i.c2?e-32>=s.co_j.x&&s.maps.getBGCode(e-1,a+15)<20?i.c=1400:e+32<=s.co_j.x&&s.maps.getBGCode(e+32,a+15)<20?i.c=1410:s.maps.getBGCode(e+15,a+32)<20?i.c=1430:i.c=1420:1===i.c2?a+32<=s.co_j.y&&s.maps.getBGCode(e+15,a+32)<20?i.c=1430:e-32>=s.co_j.x&&s.maps.getBGCode(e-1,a+15)<20?i.c=1400:e+32<=s.co_j.x&&s.maps.getBGCode(e+32,a+15)<20?i.c=1410:s.maps.getBGCode(e+15,a+32)<20?i.c=1430:s.maps.getBGCode(e-1,a+15)<20?i.c=1400:i.c=1410:2===i.c2&&(s.maps.getBGCode(e-1,a+15)<20&&0===s.ranInt(2)?i.c=1400:s.maps.getBGCode(e+32,a+15)<20&&0===s.ranInt(2)?i.c=1410:s.maps.getBGCode(e+15,a+32)<20?i.c=1430:i.c=1420)),i.pt=143+s.g_ac,i.pth=i.muki,1===i.c2?i.pt=152+s.g_ac:2===i.c2&&(i.pt=155+s.g_ac),i.direction=3,i.x=e,i.y=a,!0)}}},t.available={100:t.Turtle,110:t.TurtleFall,150:t.TurtleFall,200:t.Pikachie,201:t.Pikachie,202:t.Pikachie,203:t.Pikachie,300:t.Chikorin,301:t.Chikorin,310:t.ChikorinThrower,311:t.ChikorinThrower,312:t.ChikorinThrower,313:t.ChikorinThrower,320:t.ChikorinMidareuchi,330:t.ChikorinSolarBeam,335:t.ChikorinSolarBeam,400:t.Hinorarashi,450:t.HinorarashiFall,500:t.PoppieUpDown,510:t.PoppieLeftRight,520:t.PoppieFire,530:t.PoppieFire3,540:t.PoppieBubble3,550:t.PoppieHurricaneBlast,600:t.Mariri,601:t.Mariri,602:t.Mariri,650:t.Mariri,660:t.MaririLeftRight,670:t.MaririTackle,700:t.Yachamo,701:t.Yachamo,702:t.Yachamo,703:t.Yachamo,704:t.Yachamo,710:t.YachamoFast,711:t.YachamoFast,720:t.YachamoHyperBeam,725:t.YachamoHyperBeam,800:t.Mizutaro,801:t.Mizutaro,802:t.Mizutaro,803:t.Mizutaro,804:t.Mizutaro,900:t.AirmsStop,920:t.AirmsStay,921:t.AirmsStay,930:t.AirmsLeftRight,950:t.AirmsReturn,1e3:t.Taiking,1050:t.TaikingJump,1060:t.TaikingTerritory,1070:t.TaikingLeft,1080:t.TaikingRight,1100:t.Kuragesso,1150:t.KuragessoFall,1160:t.KuragessoTerritory,1170:t.KuragessoLeft,1180:t.KuragessoRight,1200:t.TurtleChaser,1400:t.PikachieChaser}}(Mt||(Mt={}));var zt=function(){var t=this.maps.wx,i=this.maps.wy;if(this.ana_kazu>0&&Pt.apply(this),this.a_hf&&Nt.apply(this),this.yuka_id_max>=0&&this.drawYuka(),this.m_kazu>0&&Ot.apply(this),this.jm_kazu>0&&Rt.apply(this),14===this.j_tokugi)for(var s=0;s<=1;s++)this.co_mu[s].c>=50&&this.hg.drawImage(this.hih[1][105+this.g_ac],this.co_mu[s].x-t,this.co_mu[s].y-i,this.ap);Et.apply(this)},At=function(){for(var t=this.maps.wx,i=this.maps.wy,s=0;s<=this.t_kazu;s++)if(!(this.co_t[s].c<50)){var h=this.co_t[s].x-t,e=this.co_t[s].y-i;if(!(h<-64||e>576)){var a=this.co_t[s].img;null!==a?this.hg.drawImage(a,h+this.co_t[s].zs_x,e+this.co_t[s].zs_y,this.ap):this.hg.drawImage(this.hih[this.co_t[s].pth][this.co_t[s].pt],h,e,this.ap)}}},Pt=function(){for(var t=this.maps.wx,i=this.maps.wy,s=0;s<=11;s++)if(!(this.ana_c[s]<=0))if(this.ana_c[s]<=135&&this.ana_c[s]>=129){var h=4*(136-this.ana_c[s]);this.gg.drawPatternCut(32*this.ana_x[s]-t,32*this.ana_y[s]-i,20,0,h)}else if(this.ana_c[s]<=235&&this.ana_c[s]>=229){var e=4*(236-this.ana_c[s]);this.gg.drawPatternCut(32*this.ana_x[s]-t,32*this.ana_y[s]-i,20,0,-1*e)}else if(this.ana_c[s]>=1&&this.ana_c[s]<=15){var a=2*this.ana_c[s];this.gg.drawPatternCut(32*this.ana_x[s]-t,32*this.ana_y[s]-i,20,0,a)}},Nt=function(){for(var t=this,i=new Array(26),s=new Array(26),h=function(i,s,h,e,a){for(var c=0;c<h;c++)for(var o=0;o<s;o++)t.hg.drawImage(t.hih[0][i+10*c+o],e+32*o,a+32*c,t.ap)},e=function(i,s,h,e,a){for(var c=0;c<h;c++)for(var o=0;o<s;o++){var _=s-1-o;t.hg.drawImage(t.hih[1][i+10*c+_],e+32*o,a+32*c,t.ap)}},a=this.maps.wx,c=this.maps.wy,o=0;o<=this.a_kazu;o++)if(this.co_a[o].gf){var _=this.co_a[o],r=_.x-a,n=_.y-c;switch(_.pt){case 850:case 2700:default:break;case 100:h(190,3,1,r,n);break;case 200:h(76,2,2,r,n);break;case 210:h(78,2,2,r,n);break;case 300:case 310:case 320:case 330:var m=_.c3%100,g=Math.floor(_.c3/100);Tt.apply(this,[m,g,r,n]);break;case 400:h(183,3,2,r,n);break;case 500:h(180,3,1,r,n);break;case 600:h(188,2,2,r,n);break;case 605:e(188,2,2,r,n);break;case 700:this.hg.drawImage(this.hi[32],r,n,this.ap);break;case 710:this.hg.drawImage(this.hi[33],r,n,this.ap);break;case 720:this.hg.drawImage(this.hi[34],r,n,this.ap);break;case 750:var p=_.c3>0?32:33;this.hg.dispose(),this.hg.rotate(-Math.PI/2,r+16,n+16),this.hg.drawImage(this.hi[p],r,n,this.ap),this.hg.dispose();break;case 751:var y=_.c3>0?32:33;this.hg.dispose(),this.hg.rotate(Math.PI/2,r+16,n+16),this.hg.drawImage(this.hi[y],r,n,this.ap),this.hg.dispose();break;case 800:var u=_.x>=this.co_j.x?0:1;this.hg.drawImage(this.hih[u][35+_.c3],r,n,this.ap);break;case 860:var d=39;87===_.c?d=37:88===_.c&&(d=38);var j=_.x>=this.co_j.x?0:1;this.hg.drawImage(this.hih[j][d],r,n,this.ap);break;case 1100:var f=(_.c3+90)*Math.PI/180,l=16*Math.cos(f),v=16*Math.sin(f);if(this.vo_pa_x[0]=this.vo_x[o][0]-a+l,this.vo_pa_y[0]=this.vo_y[o][0]-c+v,this.vo_pa_x[1]=this.vo_x[o][0]-a-l,this.vo_pa_y[1]=this.vo_y[o][0]-c-v,this.vo_pa_x[2]=this.vo_x[o][1]-a-l,this.vo_pa_y[2]=this.vo_y[o][1]-c-v,this.vo_pa_x[3]=this.vo_x[o][1]-a+l,this.vo_pa_y[3]=this.vo_y[o][1]-c+v,this.hg.setColor(this.gamecolor_firebar1),this.hg.fillPolygon(this.vo_pa_x,this.vo_pa_y,4),this.g_c2>=2){this.hg.setColor(this.gamecolor_firebar2);var x=10*Math.cos(f),k=10*Math.sin(f);this.vo_pa_x[0]=this.vo_x[o][2]-a+x,this.vo_pa_y[0]=this.vo_y[o][2]-c+k,this.vo_pa_x[1]=this.vo_x[o][2]-a-x,this.vo_pa_y[1]=this.vo_y[o][2]-c-k,this.vo_pa_x[2]=this.vo_x[o][3]-a-x,this.vo_pa_y[2]=this.vo_y[o][3]-c-k,this.vo_pa_x[3]=this.vo_x[o][3]-a+x,this.vo_pa_y[3]=this.vo_y[o][3]-c+k,this.hg.fillPolygon(this.vo_pa_x,this.vo_pa_y,4)}break;case 1200:var w=_.vy*Math.PI/180;this.vo_pa_x[0]=r+160*Math.cos(w+Math.PI),this.vo_pa_y[0]=n+160*Math.sin(w+Math.PI),this.vo_pa_x[1]=r+160*Math.cos(w),this.vo_pa_y[1]=n+160*Math.sin(w),this.vo_pa_x[2]=this.vo_pa_x[1]+12*Math.cos(w-Math.PI/2),this.vo_pa_y[2]=this.vo_pa_y[1]+12*Math.sin(w-Math.PI/2),this.vo_pa_x[3]=this.vo_pa_x[0]+12*Math.cos(w-Math.PI/2),this.vo_pa_y[3]=this.vo_pa_y[0]+12*Math.sin(w-Math.PI/2),this.hg.setColor(this.gamecolor_firebar2),this.hg.fillPolygon(this.vo_pa_x,this.vo_pa_y,4),this.vo_pa_x[0]=r,this.vo_pa_y[0]=n,this.vo_pa_x[1]=r-16,this.vo_pa_y[1]=n+128,this.vo_pa_x[2]=r+16,this.vo_pa_y[2]=n+128,this.hg.setColor(this.gamecolor_firebar1),this.hg.fillPolygon(this.vo_pa_x,this.vo_pa_y,3);break;case 1300:var b=_.vy*Math.PI/180;this.vo_pa_x[0]=r+192*Math.cos(b+Math.PI/9),this.vo_pa_y[0]=n+192*Math.sin(b+Math.PI/9),this.vo_pa_x[1]=r+192*Math.cos(b-Math.PI/9),this.vo_pa_y[1]=n+192*Math.sin(b-Math.PI/9),this.vo_pa_x[2]=this.vo_pa_x[1]+12*Math.cos(b),this.vo_pa_y[2]=this.vo_pa_y[1]+12*Math.sin(b),this.vo_pa_x[3]=this.vo_pa_x[0]+12*Math.cos(b),this.vo_pa_y[3]=this.vo_pa_y[0]+12*Math.sin(b),this.vo_pa_x[4]=r+12*Math.cos(b),this.vo_pa_y[4]=n+12*Math.sin(b);var S=80*Math.cos(b),M=80*Math.sin(b);this.hg.setColor(this.gamecolor_firebar1),this.hg.drawLine(this.vo_pa_x[4],this.vo_pa_y[4],r+S,n+M),this.hg.drawLine(this.vo_pa_x[0],this.vo_pa_y[0],r+S,n+M),this.hg.drawLine(this.vo_pa_x[1],this.vo_pa_y[1],r+S,n+M),this.hg.setColor(this.gamecolor_firebar2),this.hg.fillPolygon(this.vo_pa_x,this.vo_pa_y,4);break;case 1400:var C=_.vy*Math.PI/180;this.vo_pa_x[0]=r+192*Math.cos(C)+12*Math.cos(C+Math.PI/2),this.vo_pa_y[0]=n+192*Math.sin(C)+12*Math.sin(C+Math.PI/2),this.vo_pa_x[1]=r+60*Math.cos(C)+12*Math.cos(C+Math.PI/2),this.vo_pa_y[1]=n+60*Math.sin(C)+12*Math.sin(C+Math.PI/2),this.vo_pa_x[2]=r+60*Math.cos(C)+12*Math.cos(C-Math.PI/2),this.vo_pa_y[2]=n+60*Math.sin(C)+12*Math.sin(C-Math.PI/2),this.vo_pa_x[3]=r+192*Math.cos(C)+12*Math.cos(C-Math.PI/2),this.vo_pa_y[3]=n+192*Math.sin(C)+12*Math.sin(C-Math.PI/2),this.hg.setColor(this.gamecolor_firebar2),this.hg.fillPolygon(this.vo_pa_x,this.vo_pa_y,4);break;case 1500:if(_.c4<=0)break;this.hg.setColor(this.gamecolor_firebar1),1===_.c3||11===_.c3?(this.hg.fillRect(r+8,n,48,_.c4),this.g_c2>=2&&_.c4>8&&(this.hg.setColor(this.gamecolor_firebar2),this.hg.fillRect(r+16,n,32,_.c4-8))):2===_.c3||12===_.c3?(this.hg.fillRect(r-_.c4,n+8,_.c4,48),this.g_c2>=2&&_.c4>8&&(this.hg.setColor(this.gamecolor_firebar2),this.hg.fillRect(r-_.c4+8,n+16,_.c4-8,32))):3===_.c3||13===_.c3?(this.hg.fillRect(r,n+8,_.c4,48),this.g_c2>=2&&_.c4>8&&(this.hg.setColor(this.gamecolor_firebar2),this.hg.fillRect(r,n+16,_.c4-8,32))):(this.hg.fillRect(r+8,n-_.c4,48,_.c4),this.g_c2>=2&&_.c4>8&&(this.hg.setColor(this.gamecolor_firebar2),this.hg.fillRect(r+16,n-_.c4+8,32,_.c4-8)));break;case 1600:this.hg.setColor(this.gamecolor_firebar1),this.hg.fillRect(r,n,64,96),this.g_c2>=2&&(this.hg.setColor(this.gamecolor_firebar2),this.hg.fillRect(r+8,n+8,48,80));break;case 1700:this.hg.setColor(this.gamecolor_firebar1),this.hg.fillRect(r,n,96,64),this.g_c2>=2&&(this.hg.setColor(this.gamecolor_firebar2),this.hg.fillRect(r+8,n+8,80,48));break;case 1800:this.hg.drawImage(this.hi[26],r,n,this.ap);break;case 1900:this.vo_pa_x[0]=r+182*Math.cos((_.vy+6)*Math.PI/180),this.vo_pa_y[0]=n+182*Math.sin((_.vy+6)*Math.PI/180),this.vo_pa_x[1]=r+182*Math.cos((_.vy-6)*Math.PI/180),this.vo_pa_y[1]=n+182*Math.sin((_.vy-6)*Math.PI/180),this.vo_pa_x[2]=r,this.vo_pa_y[2]=n,this.hg.setColor(this.gamecolor_firebar1),this.hg.fillPolygon(this.vo_pa_x,this.vo_pa_y,3),this.vo_pa_x[0]=r+192*Math.cos((_.vy+20)*Math.PI/180),this.vo_pa_y[0]=n+192*Math.sin((_.vy+20)*Math.PI/180),this.vo_pa_x[1]=r+192*Math.cos((_.vy-20)*Math.PI/180),this.vo_pa_y[1]=n+192*Math.sin((_.vy-20)*Math.PI/180),this.vo_pa_x[2]=this.vo_pa_x[1]+12*Math.cos(_.vy*Math.PI/180),this.vo_pa_y[2]=this.vo_pa_y[1]+12*Math.sin(_.vy*Math.PI/180),this.vo_pa_x[3]=this.vo_pa_x[0]+12*Math.cos(_.vy*Math.PI/180),this.vo_pa_y[3]=this.vo_pa_y[0]+12*Math.sin(_.vy*Math.PI/180),this.vo_pa_x[4]=r+12*Math.cos(_.vy*Math.PI/180),this.vo_pa_y[4]=n+12*Math.sin(_.vy*Math.PI/180),this.hg.setColor(this.gamecolor_firebar2),this.hg.fillPolygon(this.vo_pa_x,this.vo_pa_y,4);break;case 2e3:this.vo_pa_x[0]=r+12*Math.cos(_.vy*Math.PI/180)+5*Math.cos((_.vy+90)*Math.PI/180),this.vo_pa_y[0]=n+12*Math.sin(_.vy*Math.PI/180)+5*Math.sin((_.vy+90)*Math.PI/180),this.vo_pa_x[1]=r+12*Math.cos(_.vy*Math.PI/180)+5*Math.cos((_.vy-90)*Math.PI/180),this.vo_pa_y[1]=n+12*Math.sin(_.vy*Math.PI/180)+5*Math.sin((_.vy-90)*Math.PI/180),this.vo_pa_x[2]=r+182*Math.cos(_.vy*Math.PI/180)+5*Math.cos((_.vy-90)*Math.PI/180),this.vo_pa_y[2]=n+182*Math.sin(_.vy*Math.PI/180)+5*Math.sin((_.vy-90)*Math.PI/180),this.vo_pa_x[3]=r+182*Math.cos(_.vy*Math.PI/180)+5*Math.cos((_.vy+90)*Math.PI/180),this.vo_pa_y[3]=n+182*Math.sin(_.vy*Math.PI/180)+5*Math.sin((_.vy+90)*Math.PI/180),this.hg.setColor(this.gamecolor_firebar2),this.hg.fillPolygon(this.vo_pa_x,this.vo_pa_y,4);break;case 2100:this.hg.drawImage(this.hi[212],r,n,this.ap);break;case 2110:this.hg.drawImage(this.hi[213],r,n,this.ap);break;case 2120:this.hg.drawImage(this.hi[214],r,n,this.ap);break;case 2130:this.hg.drawImage(this.hi[215],r,n,this.ap);break;case 2200:this.hg.setColor(this.gamecolor_mizunohadou),this.hg.fillOval(r+16-19,n+16-19,38,38),this.vo_pa_x[0]=r+16+20*Math.cos((_.c4+90)*Math.PI/180),this.vo_pa_y[0]=n+16+20*Math.sin((_.c4+90)*Math.PI/180),this.vo_pa_x[1]=r+16+20*Math.cos((_.c4-90)*Math.PI/180),this.vo_pa_y[1]=n+16+20*Math.sin((_.c4-90)*Math.PI/180),this.vo_pa_x[2]=r+16+68*Math.cos(_.c4*Math.PI/180)+20*Math.cos((_.c4-90)*Math.PI/180),this.vo_pa_y[2]=n+16+68*Math.sin(_.c4*Math.PI/180)+20*Math.sin((_.c4-90)*Math.PI/180),this.vo_pa_x[3]=r+16+68*Math.cos(_.c4*Math.PI/180)+20*Math.cos((_.c4+90)*Math.PI/180),this.vo_pa_y[3]=n+16+68*Math.sin(_.c4*Math.PI/180)+20*Math.sin((_.c4+90)*Math.PI/180),this.hg.fillPolygon(this.vo_pa_x,this.vo_pa_y,4),this.hg.setColor(this.gamecolor_firebar2),0===_.c3||1===_.c3?(this.vo_pa_x[0]=r+16-6,this.vo_pa_y[0]=n+16-4,this.vo_pa_x[1]=r+16+6,this.vo_pa_y[1]=n+16-4,this.vo_pa_x[2]=r+16+12,this.vo_pa_y[2]=n+32+12,this.vo_pa_x[3]=r+16-12,this.vo_pa_y[3]=n+32+12):2===_.c3?(this.vo_pa_x[0]=r+16-6,this.vo_pa_y[0]=n+16+4,this.vo_pa_x[1]=r+16+6,this.vo_pa_y[1]=n+16+4,this.vo_pa_x[2]=r+16+12,this.vo_pa_y[2]=n-32,this.vo_pa_x[3]=r+16-12,this.vo_pa_y[3]=n-32):3===_.c3?(this.vo_pa_x[0]=r+16-4,this.vo_pa_y[0]=n+16-6,this.vo_pa_x[1]=r+16-4,this.vo_pa_y[1]=n+16+6,this.vo_pa_x[2]=r+64,this.vo_pa_y[2]=n+16+12,this.vo_pa_x[3]=r+64,this.vo_pa_y[3]=n+16-12):(this.vo_pa_x[0]=r+16+4,this.vo_pa_y[0]=n+16-6,this.vo_pa_x[1]=r+16+4,this.vo_pa_y[1]=n+16+6,this.vo_pa_x[2]=r-32,this.vo_pa_y[2]=n+16+12,this.vo_pa_x[3]=r-32,this.vo_pa_y[3]=n+16-12),this.hg.fillPolygon(this.vo_pa_x,this.vo_pa_y,4);break;case 2300:if(2===this.control_parts_visible&&1900===_.c){this.hg.setColor(A.black),this.hg.fillRect(r,n,32,32);var I="S ".concat(_.c3);this.hg.setColor(A.white),this.hg.setFont(new P(P.DIALOG,1,12)),this.hg.drawString(I,r+2,n+this.moji_size+4)}break;case 2400:if(0===_.c3){this.hg.dispose(),this.hg.translate(r+32,n+64),this.hg.scale(_.vy/100,_.vy/100),this.g_c3<=3?(this.hg.drawImage(this.hi[76],-32,-64,this.ap),this.hg.drawImage(this.hi[77],0,-64,this.ap),this.hg.drawImage(this.hi[86],-32,-32,this.ap),this.hg.drawImage(this.hi[87],0,-32,this.ap)):(this.hg.drawImage(this.hi[78],-32,-64,this.ap),this.hg.drawImage(this.hi[79],0,-64,this.ap),this.hg.drawImage(this.hi[88],-32,-32,this.ap),this.hg.drawImage(this.hi[89],0,-32,this.ap)),this.hg.dispose();break}if(1===_.c3){this.hg.dispose(),this.hg.translate(r+32,n),this.hg.scale(_.vy/100,_.vy/100),this.g_c3<=3?(this.hg.drawImage(this.hi[76],-32,0,this.ap),this.hg.drawImage(this.hi[77],0,0,this.ap),this.hg.drawImage(this.hi[86],-32,32,this.ap),this.hg.drawImage(this.hi[87],0,32,this.ap)):(this.hg.drawImage(this.hi[78],-32,0,this.ap),this.hg.drawImage(this.hi[79],0,0,this.ap),this.hg.drawImage(this.hi[88],-32,32,this.ap),this.hg.drawImage(this.hi[89],0,32,this.ap)),this.hg.dispose();break}if(2!==_.c3)break;this.hg.dispose(),this.hg.translate(r+32,n+32),this.hg.scale(_.vy/100,_.vy/100),this.g_c3<=3?(this.hg.drawImage(this.hi[76],-32,-32,this.ap),this.hg.drawImage(this.hi[77],0,-32,this.ap),this.hg.drawImage(this.hi[86],-32,0,this.ap),this.hg.drawImage(this.hi[87],0,0,this.ap)):(this.hg.drawImage(this.hi[78],-32,-32,this.ap),this.hg.drawImage(this.hi[79],0,-32,this.ap),this.hg.drawImage(this.hi[88],-32,0,this.ap),this.hg.drawImage(this.hi[89],0,0,this.ap)),this.hg.dispose();break;case 2500:this.hg.dispose(),this.hg.translate(r,n),this.hg.scale(1.5,1.5),this.hg.rotate(_.vy*Math.PI/180,0,0),this.hg.drawImage(this.hi[183],-48,-32,this.ap),this.hg.drawImage(this.hi[184],-16,-32,this.ap),this.hg.drawImage(this.hi[185],16,-32,this.ap),this.hg.drawImage(this.hi[193],-48,0,this.ap),this.hg.drawImage(this.hi[194],-16,0,this.ap),this.hg.drawImage(this.hi[195],16,0,this.ap),this.hg.dispose();break;case 2600:this.hg.dispose(),this.hg.translate(r,n),this.hg.scale(2.5,2.5),this.hg.rotate(_.vy*Math.PI/180,0,0),this.hg.drawImage(this.hi[183],-48,-32,this.ap),this.hg.drawImage(this.hi[184],-16,-32,this.ap),this.hg.drawImage(this.hi[185],16,-32,this.ap),this.hg.drawImage(this.hi[193],-48,0,this.ap),this.hg.drawImage(this.hi[194],-16,0,this.ap),this.hg.drawImage(this.hi[195],16,0,this.ap),this.hg.dispose();break;case 2800:this.hg.setColor(this.gamecolor_firebar1),this.hg.fillOval(r-64,n-64+8,128,128),this.g_c2>=2&&(this.hg.setColor(this.gamecolor_firebar2),this.hg.fillOval(r-20,n-20+8,40,40));break;case 2900:for(var B=0,G=0;G>=-50;G-=10)i[B]=r+160*Math.cos((_.c3+G)*Math.PI/180),s[B]=n+160*Math.sin((_.c3+G)*Math.PI/180),B++;for(var z=-50;z<=0;z+=10)i[B]=r+112*Math.cos((_.c3+z)*Math.PI/180),s[B]=n+112*Math.sin((_.c3+z)*Math.PI/180),B++;if(this.hg.setColor(this.gamecolor_firebar1),this.hg.fillPolygon(i,s,B),this.g_c2<2)break;B=0;for(var N=-5;N>=-45;N-=8)i[B]=r+148*Math.cos((_.c3+N)*Math.PI/180),s[B]=n+148*Math.sin((_.c3+N)*Math.PI/180),B++;for(var O=-45;O<=-5;O+=8)i[B]=r+124*Math.cos((_.c3+O)*Math.PI/180),s[B]=n+124*Math.sin((_.c3+O)*Math.PI/180),B++;this.hg.setColor(this.gamecolor_firebar2),this.hg.fillPolygon(i,s,B);break;case 2950:for(var Y=0,T=0;T>=-120;T-=10)i[Y]=r+160*Math.cos((_.c3+T)*Math.PI/180),s[Y]=n+160*Math.sin((_.c3+T)*Math.PI/180),Y++;for(var R=-120;R<=0;R+=10)i[Y]=r+112*Math.cos((_.c3+R)*Math.PI/180),s[Y]=n+112*Math.sin((_.c3+R)*Math.PI/180),Y++;if(this.hg.setColor(this.gamecolor_firebar1),this.hg.fillPolygon(i,s,Y),this.g_c2<2)break;Y=0;for(var E=-5;E>=-115;E-=10)i[Y]=r+148*Math.cos((_.c3+E)*Math.PI/180),s[Y]=n+148*Math.sin((_.c3+E)*Math.PI/180),Y++;for(var V=-115;V<=-5;V+=10)i[Y]=r+124*Math.cos((_.c3+V)*Math.PI/180),s[Y]=n+124*Math.sin((_.c3+V)*Math.PI/180),Y++;this.hg.setColor(this.gamecolor_firebar2),this.hg.fillPolygon(i,s,Y);break;case 3e3:var W=n+64;W<320&&(this.hg.setColor(this.gamecolor_firebar1),this.hg.fillRect(r+120-20,W,40,320-W));break;case 3100:this.vo_pa_x[0]=r+12*Math.cos(_.vy*Math.PI/180)+5*Math.cos((_.vy+90)*Math.PI/180),this.vo_pa_y[0]=n+12*Math.sin(_.vy*Math.PI/180)+5*Math.sin((_.vy+90)*Math.PI/180),this.vo_pa_x[1]=r+12*Math.cos(_.vy*Math.PI/180)+5*Math.cos((_.vy-90)*Math.PI/180),this.vo_pa_y[1]=n+12*Math.sin(_.vy*Math.PI/180)+5*Math.sin((_.vy-90)*Math.PI/180),this.vo_pa_x[2]=r+226*Math.cos(_.vy*Math.PI/180)+5*Math.cos((_.vy-90)*Math.PI/180),this.vo_pa_y[2]=n+226*Math.sin(_.vy*Math.PI/180)+5*Math.sin((_.vy-90)*Math.PI/180),this.vo_pa_x[3]=r+226*Math.cos(_.vy*Math.PI/180)+5*Math.cos((_.vy+90)*Math.PI/180),this.vo_pa_y[3]=n+226*Math.sin(_.vy*Math.PI/180)+5*Math.sin((_.vy+90)*Math.PI/180),this.hg.setColor(this.gamecolor_firebar2),this.hg.fillPolygon(this.vo_pa_x,this.vo_pa_y,4);break;case 3200:this.hg.dispose(),this.hg.rotate(Math.PI/2,r+16,n+16),this.hg.drawImage(this.hi[6],r,n,this.ap),this.hg.translate(32,0),this.hg.drawImage(this.hi[6],r,n,this.ap),this.hg.translate(32,0),this.hg.drawImage(this.hi[6],r,n,this.ap),this.hg.translate(32,0),this.hg.drawImage(this.hi[6],r,n,this.ap),this.hg.dispose();break;case 3250:this.hg.dispose(),this.hg.rotate(-Math.PI/2,r+16,n+16),this.hg.drawImage(this.hi[6],r,n,this.ap),this.hg.translate(-32,0),this.hg.drawImage(this.hi[6],r,n,this.ap),this.hg.translate(-32,0),this.hg.drawImage(this.hi[6],r,n,this.ap),this.hg.translate(-32,0),this.hg.drawImage(this.hi[6],r,n,this.ap),this.hg.dispose();break;case 3400:0===this.g_ac?this.hg.setColor(this.gamecolor_grenade1):this.hg.setColor(this.gamecolor_grenade2),this.hg.fillRect(r,n,96,64);break;case 3500:1!==_.c3&&2!==this.control_parts_visible&&(this.hg.setColor(this.gamecolor_firebar2),this.hg.fillRect(r+30,n,2,128));break;case 3510:1!==_.c3&&2!==this.control_parts_visible&&(this.hg.setColor(this.gamecolor_firebar2),this.hg.fillRect(r,n,2,128));break;case 3520:1!==_.c3&&2!==this.control_parts_visible&&(this.hg.setColor(this.gamecolor_firebar2),this.hg.fillRect(r,n,128,2));break;case 3530:1!==_.c3&&2!==this.control_parts_visible&&(this.hg.setColor(this.gamecolor_firebar2),this.hg.fillRect(r,n+30,128,2));break;case 3600:this.hg.drawImage(this.gg.spt_option_img[0],r,n,this.ap);break;case 3700:this.hg.drawImage(this.gg.spt_option_img[1],r,n,this.ap);break;case 3710:this.hg.drawImage(this.gg.spt_option_img[2],r,n,this.ap);break;case 3800:0===this.g_c1?(this.hg.drawImage(this.hi[120],r,n,this.ap),this.hg.drawImage(this.hi[120],r,n+32,this.ap),this.hg.drawImage(this.hi[120],r,n+64,this.ap),this.hg.drawImage(this.hi[120],r,n+96,this.ap)):(this.hg.drawImage(this.hi[121],r,n,this.ap),this.hg.drawImage(this.hi[121],r,n+32,this.ap),this.hg.drawImage(this.hi[121],r,n+64,this.ap),this.hg.drawImage(this.hi[121],r,n+96,this.ap));break;case 3900:0===this.g_c1?(this.hg.drawImage(this.hi[120],r,n,this.ap),this.hg.drawImage(this.hi[120],r+32,n,this.ap),this.hg.drawImage(this.hi[120],r+64,n,this.ap),this.hg.drawImage(this.hi[120],r+96,n,this.ap)):(this.hg.drawImage(this.hi[121],r,n,this.ap),this.hg.drawImage(this.hi[121],r+32,n,this.ap),this.hg.drawImage(this.hi[121],r+64,n,this.ap),this.hg.drawImage(this.hi[121],r+96,n,this.ap));break;case 4e3:this.vo_pa_x[0]=r+216*Math.cos((_.vy+5)*Math.PI/180),this.vo_pa_y[0]=n+216*Math.sin((_.vy+5)*Math.PI/180),this.vo_pa_x[1]=r+216*Math.cos((_.vy-5)*Math.PI/180),this.vo_pa_y[1]=n+216*Math.sin((_.vy-5)*Math.PI/180),this.vo_pa_x[2]=r,this.vo_pa_y[2]=n,this.hg.setColor(this.gamecolor_firebar1),this.hg.fillPolygon(this.vo_pa_x,this.vo_pa_y,3),this.vo_pa_x[0]=r+224*Math.cos((_.vy+17)*Math.PI/180),this.vo_pa_y[0]=n+224*Math.sin((_.vy+17)*Math.PI/180),this.vo_pa_x[1]=r+224*Math.cos((_.vy-17)*Math.PI/180),this.vo_pa_y[1]=n+224*Math.sin((_.vy-17)*Math.PI/180),this.vo_pa_x[2]=this.vo_pa_x[1]+12*Math.cos(_.vy*Math.PI/180),this.vo_pa_y[2]=this.vo_pa_y[1]+12*Math.sin(_.vy*Math.PI/180),this.vo_pa_x[3]=this.vo_pa_x[0]+12*Math.cos(_.vy*Math.PI/180),this.vo_pa_y[3]=this.vo_pa_y[0]+12*Math.sin(_.vy*Math.PI/180),this.vo_pa_x[4]=r+12*Math.cos(_.vy*Math.PI/180),this.vo_pa_y[4]=n+12*Math.sin(_.vy*Math.PI/180),this.hg.setColor(this.gamecolor_firebar2),this.hg.fillPolygon(this.vo_pa_x,this.vo_pa_y,4);break;case 4100:this.hg.drawImage(this.gg.spt_option_img[3],r,n,this.ap);break;case 4110:this.hg.drawImage(this.gg.spt_option_img[4],r,n,this.ap);break;case 4200:_.x>=this.co_j.x?this.hg.drawImage(this.hi[37],r,n,this.ap):this.hg.drawImage(this.hih[1][37],r,n,this.ap);break;case 4210:_.x>=this.co_j.x?this.hg.drawImage(this.hi[38],r,n,this.ap):this.hg.drawImage(this.hih[1][38],r,n,this.ap);break;case 4220:_.x>=this.co_j.x?this.hg.drawImage(this.hi[39],r,n,this.ap):this.hg.drawImage(this.hih[1][39],r,n,this.ap);break;case 4300:_.x>=this.co_j.x?this.hg.drawImage(this.hi[167],r,n,this.ap):this.hg.drawImage(this.hih[1][167],r,n,this.ap)}}},Ot=function(){for(var t=this.maps.wx,i=this.maps.wy,s=0;s<=79;s++)if(!(this.co_m[s].c<50)){var h=this.co_m[s],e=h.x-t,a=h.y-i;if(50===h.c){this.hg.drawImage(this.hih[h.pth][h.pt],e,a,this.ap);for(var c=0;c<2;c++){var o=h.x+31*c,_=h.y,r=this.maps.getBGCode(o,_);r<20||2===this.gg.layer_mode&&29===r||this.gg.drawPT(32*vi(o,5)-t,32*vi(_,5)-i,r,0)}}else if(1e3===h.pt){this.hg.setColor(this.gamecolor_mizunohadou);var n=h.c2;this.hg.fillOval(e+16-n,a+16-n,2*n,2*n)}else if(1010===h.pt){this.hg.setColor(new A(this.gamecolor_mizunohadou.getRed(),this.gamecolor_mizunohadou.getGreen(),this.gamecolor_mizunohadou.getBlue(),255===this.gamecolor_mizunohadou.getAlpha()?176:this.gamecolor_mizunohadou.getAlpha()));var m=h.c2;this.hg.fillOval(e+16-m,a+16-m,2*m,2*m)}else if(1100===h.pt){0===this.g_ac?this.hg.setColor(this.gamecolor_grenade1):this.hg.setColor(this.gamecolor_grenade2);var g=h.c2;this.hg.fillOval(e+16-g,a+16-g,2*g,2*g)}else if(1200===h.pt){0===this.g_ac?this.hg.setColor(this.gamecolor_grenade1):this.hg.setColor(this.gamecolor_grenade2);var p=h.vy;this.hg.drawOval(e+16-p,a+16-p,2*p,2*p)}else if(1210===h.pt)0===this.g_ac?this.hg.setColor(this.gamecolor_grenade1):this.hg.setColor(this.gamecolor_grenade2),this.hg.fillRect(e,a+11,h.vx-h.x+1,10);else if(1215===h.pt)0===this.g_ac?this.hg.setColor(this.gamecolor_grenade1):this.hg.setColor(this.gamecolor_grenade2),this.hg.fillRect(h.vx-t,a+11,h.x-h.vx+1,10);else if(1220===h.pt){this.hg.setColor(this.gamecolor_grenade1);var y=h.vy;this.hg.drawOval(e+16-y,a+16-y,2*y,2*y)}else 1230===h.pt?(this.hg.setColor(new A(this.gamecolor_grenade1.getRed(),this.gamecolor_grenade1.getGreen(),this.gamecolor_grenade1.getBlue(),192)),this.hg.fillRect(e,a+9,h.vx-h.x+1,14)):1235===h.pt?(this.hg.setColor(new A(this.gamecolor_grenade1.getRed(),this.gamecolor_grenade1.getGreen(),this.gamecolor_grenade1.getBlue(),192)),this.hg.fillRect(h.vx-t,a+9,h.x-h.vx+1,14)):1300===h.pt?this.hg.drawImage(this.gg.spt_option_img[0],e,a,this.ap):this.hg.drawImage(this.hih[h.pth][h.pt],e,a,this.ap)}},Yt=function(){var t=this.maps.wx,i=this.maps.wy;if(this.co_j.wx=this.co_j.x-t,this.co_j.wy=this.co_j.y-i,this.j_jet_c>=96&&(0===this.g_c1?this.hg.drawImage(this.hi[134],this.co_j.wx,this.co_j.wy+36,this.ap):this.hg.drawImage(this.hi[135],this.co_j.wx,this.co_j.wy+36,this.ap)),this.j_v_c>0&&(this.j_v_c--,this.j_v_kakudo+=2,this.j_v_kakudo>360&&(this.j_v_kakudo-=360),this.j_v_c>40||1===this.g_ac)){var s=this.co_j.wx+16,h=this.co_j.wy+16;this.hg.setColor(A.white);for(var e=0;e<6;e++){var a=(this.j_v_kakudo+60*e)*Math.PI/180;this.vo_pa_x[e]=s+Math.floor(38*Math.cos(a)),this.vo_pa_y[e]=h+Math.floor(38*Math.sin(a))}this.hg.drawPolygon(this.vo_pa_x,this.vo_pa_y,6);for(var c=0;c<6;c++){var o=(360-this.j_v_kakudo+60*c)*Math.PI/180;this.vo_pa_x[c]=s+Math.floor(38*Math.cos(o)),this.vo_pa_y[c]=h+Math.floor(38*Math.sin(o))}this.hg.drawPolygon(this.vo_pa_x,this.vo_pa_y,6)}if(this.j_zan_cf){this.j_zan_cf=!1;for(var _=0;_<6;_++)null!==this.co_j.img?(this.j_zan_img[_]=this.co_j.img,this.j_zan_zs_x[_]=this.co_j.zs_x,this.j_zan_zs_y[_]=this.co_j.zs_y):(this.j_zan_img[_]=null,this.j_zan_pt[_]=this.co_j.pt)}if(this.j_zan_f){for(var r=this.j_zan_p+6,n=r-this.j_zan_nagasa;n<=r;n++){var m=n%6,g=this.j_zan_x[m]-t,p=this.j_zan_y[m]-i,y=this.j_zan_pth[m],u=this.j_zan_img[m];null!==u?this.hg.drawImage(u,g+this.j_zan_zs_x[m],p+this.j_zan_zs_y[m],this.ap):this.hg.drawImage(this.hih[y][this.j_zan_pt[m]],g,p,this.ap)}this.j_zan_p++,this.j_zan_p>5&&(this.j_zan_p=0),this.j_zan_x[this.j_zan_p]=this.co_j.x,this.j_zan_y[this.j_zan_p]=this.co_j.y,this.j_zan_pt[this.j_zan_p]=this.co_j.pt,this.j_zan_pth[this.j_zan_p]=this.co_j.muki,this.j_zan_c<9?(this.j_zan_c++,this.j_cannon_c<=0&&this.co_j.vy>=0&&(this.j_zan_c=9)):(this.j_zan_nagasa--,this.j_zan_nagasa<0&&(this.j_zan_f=!1))}if(this.j_muteki_c<=0||this.j_muteki_c%2!=1)if(null!==this.co_j.img)this.hg.drawImage(this.co_j.img,this.co_j.wx+this.co_j.zs_x,this.co_j.wy+this.co_j.zs_y,this.ap);else if(this.j_cannon_c>0&&1500===this.co_a[this.j_rope_id].c&&this.co_j.pt<1e3){this.gg.drawPT(this.co_j.wx,this.co_j.wy,this.co_j.pt,this.co_j.muki);var d=this.co_a[this.j_rope_id],j=d.x-t,f=d.y-i,l=d.c4*Math.PI/180;this.hg.setColor(this.gamecolor_mizunohadou),this.hg.fillOval(j+16-19,f+16-19,38,38),this.vo_pa_x[0]=j+16+20*Math.cos(l+Math.PI/2),this.vo_pa_y[0]=f+16+20*Math.sin(l+Math.PI/2),this.vo_pa_x[1]=j+16+20*Math.cos(l-Math.PI/2),this.vo_pa_y[1]=f+16+20*Math.sin(l-Math.PI/2),this.vo_pa_x[2]=j+16+68*Math.cos(l)+20*Math.cos(l-Math.PI/2),this.vo_pa_y[2]=f+16+68*Math.sin(l)+20*Math.sin(l-Math.PI/2),this.vo_pa_x[3]=j+16+68*Math.cos(l)+20*Math.cos(l+Math.PI/2),this.vo_pa_y[3]=f+16+68*Math.sin(l)+20*Math.sin(l+Math.PI/2),this.hg.fillPolygon(this.vo_pa_x,this.vo_pa_y,4),this.hg.setColor(this.gamecolor_firebar2),0===d.c3||1===d.c3?(this.vo_pa_x[0]=j+16-6,this.vo_pa_y[0]=f+16-4,this.vo_pa_x[1]=j+16+6,this.vo_pa_y[1]=f+16-4,this.vo_pa_x[2]=j+16+12,this.vo_pa_y[2]=f+32+12,this.vo_pa_x[3]=j+16-12,this.vo_pa_y[3]=f+32+12):2===d.c3?(this.vo_pa_x[0]=j+16-6,this.vo_pa_y[0]=f+16+4,this.vo_pa_x[1]=j+16+6,this.vo_pa_y[1]=f+16+4,this.vo_pa_x[2]=j+16+12,this.vo_pa_y[2]=f-32,this.vo_pa_x[3]=j+16-12,this.vo_pa_y[3]=f-32):3===d.c3?(this.vo_pa_x[0]=j+16-4,this.vo_pa_y[0]=f+16-6,this.vo_pa_x[1]=j+16-4,this.vo_pa_y[1]=f+16+6,this.vo_pa_x[2]=j+64,this.vo_pa_y[2]=f+16+12,this.vo_pa_x[3]=j+64,this.vo_pa_y[3]=f+16-12):(this.vo_pa_x[0]=j+16+4,this.vo_pa_y[0]=f+16-6,this.vo_pa_x[1]=j+16+4,this.vo_pa_y[1]=f+16+6,this.vo_pa_x[2]=j-32,this.vo_pa_y[2]=f+16+12,this.vo_pa_x[3]=j-32,this.vo_pa_y[3]=f+16-12),this.hg.fillPolygon(this.vo_pa_x,this.vo_pa_y,4)}else if(this.co_j.pt<1e3)this.gg.drawPT(this.co_j.wx,this.co_j.wy,this.co_j.pt,this.co_j.muki);else if(1e3===this.co_j.pt)15===this.j_tokugi&&2===this.j_4_muki?(this.gg.drawPT(this.co_j.wx,this.co_j.wy,211,0),this.gg.drawPT(this.co_j.wx,this.co_j.wy-32,210,0)):15===this.j_tokugi&&3===this.j_4_muki?(this.gg.drawPT(this.co_j.wx,this.co_j.wy,105,0),this.gg.drawPT(this.co_j.wx,this.co_j.wy+32,106,0)):0===this.co_j.muki?(this.gg.drawPT(this.co_j.wx,this.co_j.wy,118,this.co_j.muki),this.gg.drawPT(this.co_j.wx-32,this.co_j.wy,117,this.co_j.muki)):(this.gg.drawPT(this.co_j.wx,this.co_j.wy,118,1),this.gg.drawPT(this.co_j.wx+32,this.co_j.wy,117,1));else if(1100===this.co_j.pt){var v=this.co_j.c2%100,x=Math.floor(this.co_j.c2/100),k=0,w=0,b=Math.max(0,Math.min(32,this.co_j.c1));1===x?w=-b:2===x?k=b:3===x?k=-b:w=b,this.gg.drawPT(this.co_j.wx+k,this.co_j.wy+w,100,this.co_j.muki);var S=It([[-16,32],[-16,-32],[32,-16],[-32,-16]][x],2),M=S[0],C=S[1],I=this.co_j.wx+M,B=this.co_j.wy+C;Tt.apply(this,[v,x,I,B])}else 1110!==this.co_j.pt&&(1200===this.co_j.pt?(this.hg.dispose(),3200===this.co_a[this.j_rope_id].c?this.hg.rotate((this.co_a[this.j_rope_id].vy+90)*Math.PI/180,this.co_j.wx+16,this.co_j.wy+16):this.hg.rotate((this.co_a[this.j_rope_id].vy-90)*Math.PI/180,this.co_j.wx+16,this.co_j.wy+16),this.hg.drawImage(this.hih[this.co_j.muki][210],this.co_j.wx,this.co_j.wy,this.ap),this.hg.dispose()):1201===this.co_j.pt?(this.hg.dispose(),3200===this.co_a[this.j_rope_id].c?this.hg.rotate((this.co_a[this.j_rope_id].vy+90)*Math.PI/180,this.co_j.wx+16,this.co_j.wy+16):this.hg.rotate((this.co_a[this.j_rope_id].vy-90)*Math.PI/180,this.co_j.wx+16,this.co_j.wy+16),this.hg.drawImage(this.hih[this.co_j.muki][211],this.co_j.wx,this.co_j.wy,this.ap),this.hg.dispose()):1300===this.co_j.pt?(0===this.g_ac?this.hg.setColor(this.gamecolor_grenade1):this.hg.setColor(this.gamecolor_grenade2),this.hg.fillOval(this.co_j.wx-8,this.co_j.wy-8,48,48),this.gg.drawPT(this.co_j.wx,this.co_j.wy,101,this.co_j.muki)):1400===this.co_j.pt?(0===this.g_ac?this.hg.setColor(this.gamecolor_grenade1):this.hg.setColor(this.gamecolor_grenade2),this.hg.fillOval(this.co_j.wx-8,this.co_j.wy-8,48,48),this.gg.drawPT(this.co_j.wx,this.co_j.wy,83,this.co_j.muki)):1500===this.co_j.pt&&(0===this.g_ac?this.hg.setColor(this.gamecolor_grenade1):this.hg.setColor(this.gamecolor_grenade2),this.hg.fillOval(this.co_j.wx-8,this.co_j.wy-8,48,48),this.gg.drawPT(this.co_j.wx,this.co_j.wy,202,this.co_j.muki)))},Tt=function(t,i,s,h){var e=60+2*t,a=0;1===i?a=Math.PI:2===i?a=-Math.PI/2:3===i&&(a=Math.PI/2);var c=s+32,o=h+16;2!==i&&3!==i||(c=s+16,o=h+32),this.hg.dispose(),this.hg.rotate(a,c,o),this.hg.drawImage(this.hi[e],c-32,o-16,this.ap),this.hg.drawImage(this.hi[e+1],c,o-16,this.ap),this.hg.dispose()},Rt=function(){for(var t=this.maps.wx,i=this.maps.wy,s=0;s<=8;s++){var h=this.co_jm[s];if(!(h.c<50)){var e=h.x-t,a=h.y-i;if(h.pt<1e3)this.hg.drawImage(this.hih[h.pth][h.pt],e,a,this.ap);else{var c=0===this.g_ac?this.gamecolor_grenade1:this.gamecolor_grenade2;if(this.hg.setColor(c),1200===h.pt){var o=h.vx-h.x+1;this.hg.fillRect(e,a+12,o,8)}else if(1205===h.pt){var _=h.x-h.vx+1;this.hg.fillRect(h.vx-t,a+12,_,8)}else{var r=h.c2;this.hg.fillOval(e+16-r,a+16-r,2*r,2*r)}}}}},Et=function(){var t=this;if(!(this.co_b.c<=50)){var i=this.maps,s=i.wx,h=i.wy,e=this.co_b.x-s,a=this.co_b.y-h;if(!(e>this.gg.di.width+48))if(null===this.co_b.img){var c=function(i,s,h,e,a){for(var c=0;c<h;c++)for(var o=0;o<s;o++)t.hg.drawImage(t.hih[0][i+10*c+o],e+32*o,a+32*c,t.ap)},o=function(i,s,h,e,a){for(var c=0;c<h;c++)for(var o=0;o<s;o++){var _=s-1-o;t.hg.drawImage(t.hih[1][i+10*c+_],e+32*o,a+32*c,t.ap)}};switch(this.co_b.pt){default:break;case U:c(186,2,2,e-16,a-16);break;case q:o(186,2,2,e-16,a-16);break;case K:c(176,2,1,e-16,a+16);break;case J:o(176,2,1,e-16,a+16);break;case Z:c(188,2,2,e-16,a-16);break;case 1101:this.hg.dispose(),this.hg.rotate(this.co_b.c2*Math.PI/180,e+16,a+16),c(188,2,2,e-16,a-16),this.hg.dispose();break;case X:o(188,2,2,e-16,a-16);break;case $:this.hg.dispose(),this.hg.rotate(this.co_b.c2*Math.PI/180,e+16,a+16),o(188,2,2,e-16,a-16),this.hg.dispose();break;case Q:c(178,2,1,e-16,a+16);break;case tt:o(178,2,1,e-16,a+16);break;case it:c(238,2,2,e-16,a-16);break;case st:o(238,2,2,e-16,a-16);break;case ht:c(228,2,1,e-16,a+16);break;case et:o(228,2,1,e-16,a+16);break;case at:c(238,2,2,e-16,a-16),this.j_v_c<=0&&(this.j_v_kakudo+=2,this.j_v_kakudo>360&&(this.j_v_kakudo-=360)),this.hg.setColor(A.white);for(var _=0;_<6;_++){var r=(this.j_v_kakudo+60*_)*Math.PI/180;this.vo_pa_x[_]=e+16+Math.floor(50*Math.cos(r)),this.vo_pa_y[_]=a+16+Math.floor(50*Math.sin(r))}this.hg.drawPolygon(this.vo_pa_x,this.vo_pa_y,6);for(var n=0;n<6;n++){var m=(360-this.j_v_kakudo+60*n)*Math.PI/180;this.vo_pa_x[n]=e+16+Math.floor(50*Math.cos(m)),this.vo_pa_y[n]=a+16+Math.floor(50*Math.sin(m))}this.hg.drawPolygon(this.vo_pa_x,this.vo_pa_y,6);break;case ct:this.hg.dispose(),this.hg.rotate(this.co_b.c2*Math.PI/180,e+16,a+16),c(238,2,2,e-16,a-16),this.hg.dispose();break;case ot:o(238,2,2,e-16,a-16),this.j_v_c<=0&&(this.j_v_kakudo+=2,this.j_v_kakudo>360&&(this.j_v_kakudo-=360)),this.hg.setColor(A.white);for(var g=0;g<6;g++){var p=(this.j_v_kakudo+60*g)*Math.PI/180;this.vo_pa_x[g]=e+16+Math.floor(50*Math.cos(p)),this.vo_pa_y[g]=a+16+Math.floor(50*Math.sin(p))}this.hg.drawPolygon(this.vo_pa_x,this.vo_pa_y,6);for(var y=0;y<6;y++){var u=(360-this.j_v_kakudo+60*y)*Math.PI/180;this.vo_pa_x[y]=e+16+Math.floor(50*Math.cos(u)),this.vo_pa_y[y]=a+16+Math.floor(50*Math.sin(u))}this.hg.drawPolygon(this.vo_pa_x,this.vo_pa_y,6);break;case _t:this.hg.dispose(),this.hg.rotate(this.co_b.c2*Math.PI/180,e+16,a+16),o(238,2,2,e-16,a-16),this.hg.dispose()}}else this.hg.drawImage(this.co_b.img,e+this.co_b.zs_x,a+this.co_b.zs_y,this.ap)}},Vt=function(){this.showr_c>0&&(this.hg.setColor(this.js_pen_color),this.hg.fillRect(this.showr_x,this.showr_y,this.showr_width,this.showr_height)),this.showo_c>0&&(this.hg.setColor(this.js_pen_color),this.hg.fillOval(this.showo_x,this.showo_y,this.showo_width,this.showo_height)),this.showi_c>0&&this.showi_img&&(null!==this.gg.ap?this.hg.drawImage(this.showi_img,this.showi_x,this.showi_y,this.gg.ap):this.hg.drawImage(this.showi_img,this.showi_x,this.showi_y,this.gg.oya)),this.gauge_v&&Wt.apply(this),this.hitokoto_c>-1&&Dt.apply(this)},Wt=function(){var t=this.j_hp_v?40:64,i=this.j_hp_v?2*(14+this.moji_size)-6+32:64;this.hg.setFont(new P(P.DIALOG,1,16)),this.hg.setColor(this.gamecolor_score),this.hg.drawString(this.gauge_text,t,i-6),this.hg.setColor(this.gamecolor_gauge_back2),this.hg.fillRect(t+this.gauge_value,i,200-this.gauge_value,8),this.hg.setColor(this.gamecolor_gauge_back1),this.hg.fillRect(t,i,this.gauge_value,8),this.hg.setColor(this.gamecolor_gauge_border),this.hg.fillRect(t-1,i-1,202,1),this.hg.fillRect(t-1,i,1,8),this.hg.fillRect(t+200,i,1,8),this.hg.fillRect(t-1,i+8,202,1)},Lt=function(){if(100===this.spot_c){var t=vi(this.spot_r,1),i=this.spot_r;this.hg.setColor(A.black);var s=this.co_j.wx+16-t;s>0&&this.hg.fillRect(0,0,s,this.gg.di.height);var h=this.co_j.wx+16+t;h<this.gg.di.width&&this.hg.fillRect(h,0,this.gg.di.width-h,this.gg.di.height);var e=this.co_j.wy+16-t;e>0&&this.hg.fillRect(s,0,h-s,e);var a=this.co_j.wy+16+t;a<this.gg.di.height&&this.hg.fillRect(s,a,h-s,this.gg.di.height-a),this.spot_g.drawImage(this.gg.os_img,0,0,this.ap),this.hg.setColor(A.black),this.hg.fillRect(0,0,this.gg.di.width,this.gg.di.height),this.hg.dispose(),this.hg.setClip("ellipse",this.co_j.wx+16-t,this.co_j.wy+16-t,i,i),this.hg.drawImage(this.spot_img,0,0,this.ap),this.hg.setColor(new A(0,0,0,96)),this.hg.fillRect(0,0,this.gg.di.width,this.gg.di.height),this.hg.setClip("ellipse",this.co_j.wx+16-(t-24),this.co_j.wy+16-(t-24),i-48,i-48),this.hg.drawImage(this.spot_img,0,0,this.ap),this.hg.dispose()}else 200===this.spot_c&&(this.hg.setColor(A.black),this.hg.fillRect(0,0,this.gg.di.width,this.gg.di.height))},Dt=function(){for(var t=li(.625*this.gg.di.width-112),i=li(.2875*this.gg.di.height-36),s=[],h=1;h<=3;h++){var e="hitokoto".concat(this.hitokoto_num,"-").concat(h),a=5===this.hitokoto_num?this.showm_data[h]:this.tdb.getValue(e);0!==parseInt(a)&&s.push(a)}this.km.drawWindowbox(t,i,224,30+14*s.length);var c=this.hg._font;this.hg.setFont(new P(this.gg.font_message,0,12)),this.hg.setColor(this.gamecolor_message_name);var o="hitokoto".concat(this.hitokoto_num,"_name"),_=5===this.hitokoto_num?this.showm_data[0]:this.tdb.getValue(o);this.hg.drawString(_,t+6,i+6+12),this.hg.setColor(this.gamecolor_message_text);var r,n=function(t,i){var s="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!s){if(Array.isArray(t)||(s=Bt(t))){s&&(t=s);var h=0,e=function(){};return{s:e,n:function(){return h>=t.length?{done:!0}:{done:!1,value:t[h++]}},e:function(t){throw t},f:e}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,c=!0,o=!1;return{s:function(){s=s.call(t)},n:function(){var t=s.next();return c=t.done,t},e:function(t){o=!0,a=t},f:function(){try{c||null==s.return||s.return()}finally{if(o)throw a}}}}(s.entries());try{for(n.s();!(r=n.n()).done;){var m=It(r.value,2),g=m[0],p=m[1],y=18+14*g+12;this.hg.drawString(p,t+6,i+6+y)}}catch(t){n.e(t)}finally{n.f()}this.hg.setFont(c)},Ft=function(){2===this.gg.layer_mode||1===this.mcs_haikei_visible?this.maps.drawMapLayer(this.maps.wx,this.maps.wy,this.g_ac2,this.gazou_scroll,1):this.setmapc_f?(this.setmapc_f=!1,this.maps.drawMap(this.maps.wx,this.maps.wy)):this.maps.drawMapScroll(this.g_ac2);var t,i,s=this.maps.wx,h=this.maps.wy;if(this.co_j.wx=this.co_j.x-s,this.co_j.wy=this.co_j.y-h,this.ana_kazu>0&&Pt.apply(this),this.souko_count1>=1)for(var e=0;e<=this.a_kazu;e++)if(3300===this.co_a[e].pt&&this.co_a[e].gf){var a=this.co_a[e],c=a.x-s,o=a.y-h;3300===a.pt&&this.g_c3>=3&&(this.hg.setColor(this.gamecolor_firebar1),this.hg.drawRect(c,o,95,63),this.hg.drawLine(c,o,c+95,o+63),this.hg.drawLine(c,o+63,c+95,o))}if(this.a_hf&&Nt.apply(this),this.yuka_id_max>=0&&this.drawYuka(),this.m_kazu>0&&Ot.apply(this),this.jm_kazu>0&&Rt.apply(this),14===this.j_tokugi)for(var _=0;_<=1;_++)this.co_mu[_].c>=50&&this.hg.drawImage(this.hih[1][105+this.g_ac],this.co_mu[_].x-s,this.co_mu[_].y-h,this.ap);if(this.system_draw_mode<3&&At.apply(this),Et.apply(this),this.system_draw_mode<2&&Yt.apply(this),this.j_muteki_c>0&&this.j_muteki_c--,this.showr_c>0&&(this.hg.setColor(this.js_pen_color),this.hg.fillRect(this.showr_x,this.showr_y,this.showr_width,this.showr_height)),this.showo_c>0&&(this.hg.setColor(this.js_pen_color),this.hg.fillOval(this.showo_x,this.showo_y,this.showo_width,this.showo_height)),this.showi_c>0&&this.showi_img&&(null!==this.gg.ap?this.hg.drawImage(this.showi_img,this.showi_x,this.showi_y,this.gg.ap):this.hg.drawImage(this.showi_img,this.showi_x,this.showi_y,this.gg.oya)),this.showr_c>0&&this.showr_c--,this.showo_c>0&&this.showo_c--,this.showi_c>0&&this.showi_c--,this.second_gazou_visible&&2===this.second_gazou_priority&&null!==this.second_gazou_img){var r=[1,1],n=0,m=0,g=this.gg.di.width,p=this.gg.di.height;2===this.second_gazou_scroll?(n=-vi(s-32,2)%g,r[0]=2):3===this.second_gazou_scroll?(n=-vi(s-32,1)%g,r[0]=2):4===this.second_gazou_scroll?(this.maps.second_gazou_x+=this.second_gazou_scroll_speed_x,this.maps.second_gazou_y+=this.second_gazou_scroll_speed_y,this.maps.second_gazou_x<-this.gg.di.width&&(this.maps.second_gazou_x+=this.gg.di.width),this.maps.second_gazou_x>0&&(this.maps.second_gazou_x-=this.gg.di.width),this.maps.second_gazou_y<-this.gg.di.height&&(this.maps.second_gazou_y+=this.gg.di.height),this.maps.second_gazou_y>0&&(this.maps.second_gazou_y-=this.gg.di.height),n=this.second_gazou_x,m=this.second_gazou_y,r=[2,2]):5===this.second_gazou_scroll?(n=-vi(3*(s-32),1)%g,r[0]=2):6===this.second_gazou_scroll?(p=960,n=-vi(3*(s-32),1)%g,m=-(h-320),r[0]=2):7===this.second_gazou_scroll?(n=-(s-32)%g,m=-(h-320)%p,r=[2,2]):8===this.second_gazou_scroll&&(n=this.second_gazou_scroll_x+32-s,m=this.second_gazou_scroll_y+320-h,(n>=this.gg.di.width||m>=this.gg.di.height)&&(r=[0,0]));for(var y=0;y<r[0];y++)for(var u=0;u<r[1];u++)t=n+y*g,i=m+u*p,this.hg.drawImage(this.second_gazou_img,t,i)}this.gauge_v&&Wt.apply(this),Lt.apply(this),0===this.hitokoto_c?this.hitokoto_c=-1:this.hitokoto_c>0&&(this.hitokoto_c--,Dt.apply(this)),this.km.drawMenus()};function Ht(t){return Ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ht(t)}function Ut(t,i){if(t){if("string"==typeof t)return qt(t,i);var s=Object.prototype.toString.call(t).slice(8,-1);return"Object"===s&&t.constructor&&(s=t.constructor.name),"Map"===s||"Set"===s?Array.from(t):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?qt(t,i):void 0}}function qt(t,i){(null==i||i>t.length)&&(i=t.length);for(var s=0,h=new Array(i);s<i;s++)h[s]=t[s];return h}function Kt(t,i){for(var s=0;s<i.length;s++){var h=i[s];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(t,(void 0,e=function(t,i){if("object"!==Ht(t)||null===t)return t;var s=t[Symbol.toPrimitive];if(void 0!==s){var h=s.call(t,"string");if("object"!==Ht(h))return h;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(h.key),"symbol"===Ht(e)?e:String(e)),h)}var e}var Jt=function(){function t(i,s,h,a,c){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.mapWidth=180,this.mapHeight=30,this.customParts=null,this.ran=void 0,this.ran_seed=void 0,this.gamecolor_back=void 0,this.gamecolor_back_s=void 0,this.gamecolor_back_t=void 0,this.gamecolor_back_f=void 0,this.gamecolor_score=void 0,this.gamecolor_grenade1=void 0,this.gamecolor_grenade2=void 0,this.gamecolor_firebar1=void 0,this.gamecolor_firebar2=void 0,this.gamecolor_mizunohadou=void 0,this.gamecolor_kaishi=void 0,this.gamecolor_message_back=void 0,this.gamecolor_message_border=void 0,this.gamecolor_message_name=void 0,this.gamecolor_message_text=void 0,this.gamecolor_gauge_border=void 0,this.gamecolor_gauge_back1=void 0,this.gamecolor_gauge_back2=void 0,this.ana_kazu=void 0,this.ochiru_y=void 0,this.j_hashiru_f=void 0,this.j_jump_level=void 0,this.j_jump_type=void 0,this.j_zan_f=void 0,this.j_zan_cf=void 0,this.j_zan_p=void 0,this.j_zan_nagasa=void 0,this.j_zan_c=void 0,this.j_a_id=void 0,this.j_mizu_f=void 0,this.j_mizu_ac=void 0,this.j_mizu_awa_c=void 0,this.j_left=void 0,this.j_left_shoki=void 0,this.j_jdai_f=void 0,this.boss_hp=void 0,this.showm_c=void 0,this.showi_c=void 0,this.showi_x=void 0,this.showi_y=void 0,this.time=void 0,this.time_max=void 0,this.m_kazu=void 0,this.jm_kazu=void 0,this.a_hf=void 0,this.j_fire_f=void 0,this.j_v_c=void 0,this.j_v_kakudo=void 0,this.j_jet_c=void 0,this.j_jet_kf=void 0,this.j_jet_fuel=void 0,this.j_helm_f=void 0,this.j_drell_f=void 0,this.j_tail_f=void 0,this.j_tail_ac=void 0,this.j_gr_kazu=void 0,this.sl_step=void 0,this.sl_wx=void 0,this.sl_wy=void 0,this.sl_speed=void 0,this.ks_wx=void 0,this.ks_wy=void 0,this.moji_score=void 0,this.moji_highscore=void 0,this.moji_time=void 0,this.moji_jet=void 0,this.moji_grenade=void 0,this.moji_left=void 0,this.moji_size=void 0,this.j_tail_hf=void 0,this.j_tail_type=void 0,this.default_j_tail_type=void 0,this.grenade_type=void 0,this.suberuyuka_hkf=void 0,this.j_fire_mkf=void 0,this.dengeki_mkf=void 0,this.yachamo_attack=void 0,this.poppie_attack=void 0,this.mizutaro_attack=void 0,this.mariri_attack=void 0,this.chikorin_attack=void 0,this.airms_kf=void 0,this.taiking_attack=void 0,this.kuragesso_attack=void 0,this.ugokuyuka1_type=void 0,this.ugokuyuka2_type=void 0,this.ugokuyuka3_type=void 0,this.firebar1_type=void 0,this.firebar2_type=void 0,this.dossunsun_type=void 0,this.coin1_type=void 0,this.coin3_type=void 0,this.dokan1_type=void 0,this.dokan2_type=void 0,this.dokan3_type=void 0,this.dokan4_type=void 0,this.boss_type=void 0,this.boss2_type=void 0,this.boss3_type=void 0,this.dokan_mode=void 0,this.mes1_name=void 0,this.mes2_name=void 0,this.shop_name=void 0,this.setumei_name=void 0,this.hitokoto_num=void 0,this.boss_kijyun_y=void 0,this.scroll_area=void 0,this.clear_type=void 0,this.coin_kazu=void 0,this.tpika_p=void 0,this.setmyw_w=void 0,this.setmyw_pt=void 0,this.setmyw_muki=void 0,this.souko_count1=void 0,this.souko_count2=void 0,this.souko_count3=void 0,this.heh=null,this.system_draw_mode=1,this.ml_mode=0,this.ml_mode_c=0,this.score=0,this.highscore=0,this.score_1up_1=0,this.score_1up_2=0,this.score_1up_1_para=0,this.score_1up_2_para=0,this.score_v=!0,this.stage=1,this.stage_cc=0,this.stage_max=1,this.stage_kaishi=1,this.g_c1=0,this.g_c2=0,this.g_c3=0,this.g_ac=0,this.g_ac2=0,this.tr1_c=0,this.tr2_c=0,this.left_dcc=0,this.right_dcc=0,this.xkey_c=0,this.map_data_option=fi(this.mapWidth+20,this.mapHeight+70),this.co_t=[],this.co_m=new Array(80),this.co_a=[],this.co_h=new Array(80),this.co_jm=new Array(9),this.co_mu=new Array(2),this.yo=[],this.vo_x=[],this.vo_y=[],this.ana_c=new Array(12),this.ana_x=new Array(12),this.ana_y=new Array(12),this.j_zan_x=new Array(6),this.j_zan_y=new Array(6),this.j_zan_pt=new Array(6),this.j_zan_pth=new Array(6),this.j_zan_img=new Array(6),this.j_zan_zs_x=new Array(6),this.j_zan_zs_y=new Array(6),this.j_shitakara_mushi_y=-1,this.j_hashigo_f=!1,this.j_hashigo_mushi_x=-1,this.j_djump_kf=!0,this.j_speed=80,this.j_fire_range=9999,this.j_rope_id=0,this.j_rope_r=32,this.j_rope_cf=!1,this.j_cannon_c=0,this.j_cannon_type=0,this.saka_mushi_y=-1,this.dkey_count=new Array(2),this.dkey_back_color=new A(0,0,0,96),this.j_hp_v=!1,this.j_hp=1,this.j_hp_max=1,this.j_hp_moji="HP",this.j_muteki_c=0,this.j_4_muki=0,this.showm_data=new Array(4),this.showi_img=null,this.setmapc_f=!1,this.setbacki_f=!1,this.setbacki_img=null,this.js_pen_color=new A(255,255,255),this.showr_c=0,this.showr_x=0,this.showr_y=0,this.showr_width=32,this.showr_height=32,this.showo_c=0,this.showo_x=0,this.showo_y=0,this.showo_width=32,this.showo_height=32,this.js_mes=0,this.gauge_v=!1,this.gauge_value=0,this.gauge_text="",this.vo_pa_x=new Array(6),this.vo_pa_y=new Array(6),this.stage_1up_f=new Array(3),this.j_fire_type=1,this.default_j_fire_type=1,this.j_enemy_press=1,this.boss_destroy_type=1,this.boss_hp_max=20,this.j_tail_ap_boss=4,this.j_tokugi=1,this.mu_ato_x=new Array(32),this.mu_ato_y=new Array(32),this.mu_ato_p=0,this.j_double_f=!1,this.pause_switch=1,this.control_parts_visible=1,this.view_move_type=1,this.shop_item_name=new Array(16),this.shop_item_teika=new Array(16),this.door_score=10,this.water_visible=1,this.hitokoto_c=-1,this.gazou_scroll=1,this.gazou_scroll_speed_x=1,this.gazou_scroll_speed_y=1,this.gazou_scroll_x=0,this.gazou_scroll_y=0,this.mcs_haikei_visible=0,this.easy_mode=1,this.title_lock_f=!1,this.start_game_f=!1,this.mode_wait_ending=120,this.mode_wait_gameover=45,this.mode_wait_stagestart=35,this.attacktail_yf=!0,this.mhouse_c=0,this.mhouse_x=0,this.mhouse_y=0,this.yuka_ride_id=-1,this.dso_cf=!1,this.spot_c=0,this.spot_r=128,this.spot_r_mokuhyou=128,this.draw_lock_f=!1,this.nkscroll_con=0,this.nkscroll_view_x=0,this.nkscroll_view_y=0,this.nkscroll_my_view_x=0,this.nkscroll_my_view_y=0,this.nkscroll_speed_x=2,this.nkscroll_vx=0,this.nkscroll_vy=0,this.nkscroll_zsc=!1,this.boss_attack_mode=!1,this.cpoint_con=0,this.cpoint_stage=0,this.cpoint_x=32,this.cpoint_y=320,this.jst_slow_down=0,this.jst_key_down=0,this.jst_fast_run_attack=0,this.jst_fly_left_right=0,this.jst_fire_xkey_only=0,this.jst_kabe_kick=0,this.jst_double_jump=0,this.jst_fast_run=0,this.jst_high_sjump=0,this.jst_jump_level_fix=0,this.jst_auto_right=0,this.jst_syouryuuken=0,this.jst_pc_attack=0,this.up_key_c=0,this.down_key_c=0,this.j_add_tokugi=0,this.j_add_tokugi2=0,this.j_add_tokugi3=0,this.j_add_tokugi4=0,this.second_gazou_visible=!1,this.second_gazou_img=null,this.second_gazou_stage_img=new Array(4),this.second_gazou_scroll=1,this.second_gazou_scroll_speed_x=1,this.second_gazou_scroll_speed_y=1,this.second_gazou_scroll_x=0,this.second_gazou_scroll_y=0,this.second_gazou_priority=1,this.stage_haikei=1,this.gg=i,this.gm=s,this.gk=h,this.gs=a,this.tdb=c,this.spot_img=new I(this.gg.di.width,this.gg.di.height),this.spot_g=this.spot_img.createGraphics(),this.maps=new wt(this.mapWidth+20,this.mapHeight+70,this.gg,this),this.km=new ft(this.gg,this.gk,"まさお"),this.co_j=new e;for(var o=0;o<=79;o++)this.co_m[o]=new e;for(var _=0;_<=79;_++)this.co_h[_]=new e;for(var r=0;r<=8;r++)this.co_jm[r]=new e;this.co_b=new mt;for(var n=0;n<=1;n++)this.co_mu[n]=new e;2==this.tdb.getValueInt("stage_select")?(this.stage_select=2,this.stage_max=4):this.stage_select=1,this.ig=new ut(this.gg,this.gk,this.km,this),this.ranInit(),this.hi=this.gg.spt_img[0],this.hih=this.gg.spt_img,this.hg=this.gg.os_g,this.ap=this.gg.ap,this.init1()}var i,s;return i=t,s=[{key:"t_kazu",get:function(){return this.co_t?this.co_t.length-1:-1}},{key:"a_kazu",get:function(){return this.co_a?this.co_a.length-1:-1}},{key:"yuka_id_max",get:function(){return this.yo?this.yo.length-1:-1}},{key:"addHighscoreEvent",value:function(t){return this.heh=t,!0}},{key:"sendHighscore",value:function(){if("[object Function]"==Object.prototype.toString.call(this.heh)){var t=this.highscore;t<this.score&&(t=this.score),this.heh(t)}}},{key:"start",value:function(){this.ml_mode=50}},{key:"addMyTokugi",value:function(t){var i=!1;switch(t){case 1:case 30:this.j_helm_f=!0,i=!0;break;case 2:this.j_drell_f=!0,i=!0;break;case 3:this.jst_slow_down=1,i=!0;break;case 4:this.jst_key_down=1,i=!0;break;case 5:this.jst_fast_run_attack=1,i=!0;break;case 6:this.jst_fly_left_right=1,i=!0;break;case 7:this.jst_fast_run=1,i=!0;break;case 8:this.jst_fast_run=2,i=!0;break;case 9:this.jst_double_jump=1,i=!0;break;case 10:this.jst_kabe_kick=1,i=!0;break;case 11:this.jst_kabe_kick=2,i=!0;break;case 12:this.jst_fire_xkey_only=1,i=!0;break;case 13:this.jst_jump_level_fix=1,i=!0;break;case 14:this.jst_jump_level_fix=2,i=!0;break;case 15:this.jst_jump_level_fix=3,i=!0;break;case 16:this.jst_jump_level_fix=4,i=!0;break;case 17:this.j_tail_type=1,this.j_tail_f=!0,i=!0;break;case 18:this.j_tail_type=2,this.j_tail_f=!0,i=!0;break;case 19:this.j_tail_type=3,this.j_tail_f=!0,i=!0;break;case 20:this.j_fire_type=1,this.j_fire_f=!0,i=!0;break;case 21:this.j_fire_type=2,this.j_fire_range=9999,this.j_fire_f=!0,i=!0;break;case 22:this.j_fire_type=4,this.j_fire_range=10,this.j_fire_f=!0,i=!0;break;case 23:this.j_fire_type=3,this.j_fire_range=10,this.j_fire_f=!0,i=!0;break;case 24:this.j_fire_type=5,this.j_fire_f=!0,i=!0;break;case 25:this.jst_syouryuuken=1,i=!0;break;case 26:this.jst_pc_attack=1,i=!0;break;case 27:this.jst_pc_attack=2,i=!0;break;case 28:this.jst_syouryuuken=2,i=!0;break;case 29:this.jst_key_down=2,i=!0}return i}},{key:"removeMyTokugi",value:function(t){var i=!1;switch(t){case 1:case 30:this.j_helm_f=!1,i=!0;break;case 2:this.j_drell_f=!1,i=!0;break;case 3:this.jst_slow_down=0,i=!0;break;case 4:case 29:this.jst_key_down=0,i=!0;break;case 5:this.jst_fast_run_attack=0,i=!0;break;case 6:this.jst_fly_left_right=0,i=!0;break;case 7:case 8:this.jst_fast_run=0,i=!0;break;case 9:this.jst_double_jump=0,i=!0;break;case 10:case 11:this.jst_kabe_kick=0,i=!0;break;case 12:this.jst_fire_xkey_only=0,i=!0;break;case 13:case 14:case 15:case 16:this.jst_jump_level_fix=0,i=!0;break;case 17:this.j_tail_type=1,this.j_tail_f=!1,i=!0;break;case 18:this.j_tail_type=2,this.j_tail_f=!1,i=!0;break;case 19:this.j_tail_type=3,this.j_tail_f=!1,i=!0;break;case 20:this.j_fire_type=1,this.j_fire_f=!1,i=!0;break;case 21:this.j_fire_type=2,this.j_fire_range=9999,this.j_fire_f=!1,i=!0;break;case 22:this.j_fire_type=4,this.j_fire_range=10,this.j_fire_f=!1,i=!0;break;case 23:this.j_fire_type=3,this.j_fire_range=10,this.j_fire_f=!1,i=!0;break;case 24:this.j_fire_type=5,this.j_fire_f=!1,i=!0;break;case 25:case 28:this.jst_syouryuuken=0,i=!0;break;case 26:case 27:this.jst_pc_attack=0,i=!0}return i}},{key:"moveGameCounter",value:function(){switch(this.g_c3){case 0:this.g_c3=1,this.g_c1=1,this.g_c2=1,this.g_ac=0,this.g_ac2=0;break;case 1:this.g_c3=2,this.g_c1=0,this.g_c2=2,this.g_ac=1,this.g_ac2=1;break;case 2:this.g_c3=3,this.g_c1=1,this.g_c2=3,this.g_ac=1,this.g_ac2=1;break;case 3:this.g_c3=4,this.g_c1=0,this.g_c2=0,this.g_ac=0,this.g_ac2=2;break;case 4:this.g_c3=5,this.g_c1=1,this.g_c2=1,this.g_ac=0,this.g_ac2=2;break;case 5:this.g_c3=6,this.g_c1=0,this.g_c2=2,this.g_ac=1,this.g_ac2=3;break;case 6:this.g_c3=7,this.g_c1=1,this.g_c2=3,this.g_ac=1,this.g_ac2=3;break;case 7:this.g_c3=0,this.g_c1=0,this.g_c2=0,this.g_ac=0,this.g_ac2=0}}},{key:"showmSet",value:function(t,i,s,h,e){return 100==this.ml_mode&&(this.showm_c=parseInt(t),isNaN(this.showm_c)&&(this.showm_c=0),!(this.showm_c<=0||(this.showm_data[0]=i,this.showm_data[1]=s,this.showm_data[2]=h,this.showm_data[3]=e,0)))}},{key:"showmMove",value:function(){this.showm_c>0&&(this.hitokoto_c=this.showm_c,this.showm_c=0,this.hitokoto_num=5)}},{key:"showiSet",value:function(t,i,s,h){return 100==this.ml_mode&&(this.showi_c=parseInt(t),this.showi_x=parseInt(i),this.showi_y=parseInt(s),(isNaN(this.showi_c)||isNaN(this.showi_x)||isNaN(this.showi_y))&&(this.showi_c=0),!(this.showi_c<=0||(this.showi_img=this.gg.loadImage(h),0)))}},{key:"setbacki",value:function(t){return 100==this.ml_mode&&(2==this.gg.layer_mode||1==this.mcs_haikei_visible)&&(this.setbacki_f=!0,this.setbacki_img=this.gg.loadImage(t),!0)}},{key:"setMyWait",value:function(t,i,s){var h=-1,e=100,a=1;return 100==this.ml_mode&&(h=parseInt(t),e=parseInt(i),a=parseInt(s),(isNaN(h)||isNaN(e)||isNaN(a))&&(h=-1),!(h<0||this.co_j.c>=200||((e<0||e>249)&&(e=0),(a<0||a>1)&&(a=0),this.setmyw_w=h,this.setmyw_pt=e,this.setmyw_muki=a,this.system_draw_mode>=2&&(this.co_j.muki=a,this.co_j.pt=e,this.co_j.pth=a),0)))}},{key:"getBossHP",value:function(){return this.ml_mode<100||this.ml_mode>=200?0:2==this.boss_destroy_type?this.boss_hp:this.co_b.c4}},{key:"setBossHP",value:function(t){return!(this.ml_mode<100||this.ml_mode>=200)&&this.co_b.setHP(this,t)}},{key:"getBossDirection",value:function(){return this.ml_mode<100||this.ml_mode>=200?0:this.co_b.getBossDirectionFromPattern()}},{key:"isBossAttackMode",value:function(){return this.ml_mode<100||this.ml_mode>=200?0:this.boss_attack_mode?1:0}},{key:"setBossXReal",value:function(t){return!(this.ml_mode<100||this.ml_mode>=200||this.co_b.c<100||(this.co_b.x=t,0))}},{key:"setBossYReal",value:function(t){return!(this.ml_mode<100||this.ml_mode>=200||this.co_b.c<100||(this.co_b.y=t,0))}},{key:"setStageClear",value:function(){return 100==this.ml_mode&&0==this.stage_cc&&(this.stage_cc=1,this.gs.rsAddSound(2),!0)}},{key:"setSystemImage",value:function(t,i){var s;if(s=parseInt(t),isNaN(s)&&(s=-1),s<0||s>9)return!1;if(8==s)this.gg.setPatternImage(i);else if(9==s)this.gg.setMapchipImage(i);else{if(2!=this.gg.layer_mode&&1!=this.mcs_haikei_visible&&s>3)return!1;this.gg.li[s]=this.gg.loadImage(i),3==s&&200==this.ml_mode&&this.ig.drawOs2()}return!0}},{key:"setScrollArea",value:function(t,i,s,h){var e=0,a=0,c=this.mapWidth-li(this.gg.di.width/32),o=this.mapHeight-li(this.gg.di.height/32);if(100!=this.ml_mode&&91!=this.ml_mode&&96!=this.ml_mode)return!1;if(e=parseInt(t),a=parseInt(i),c=parseInt(s),o=parseInt(h),(isNaN(e)||isNaN(a)||isNaN(c)||isNaN(o))&&(e=-1),e<0||e>this.mapWidth-li(this.gg.di.width/32))return!1;if(c<0||c>this.mapWidth-li(this.gg.di.width/32))return!1;if(a<0||a>this.mapHeight-li(this.gg.di.height/32))return!1;if(o<0||o>this.mapHeight-li(this.gg.di.height/32))return!1;if(e>c){var _=e;e=c,c=_}if(a>o){var r=a;a=o,o=r}return this.maps.wx_mini=32*(e+1),this.maps.wx_max=32*(c+1),this.maps.wy_mini=32*(a+10),this.maps.wy_max=32*(o+10),!0}},{key:"setScrollAreaReal",value:function(t,i,s,h){var e=0,a=0,c=this.mapWidth-li(this.gg.di.width/32),o=this.mapHeight-li(this.gg.di.height/32);if(100!=this.ml_mode&&91!=this.ml_mode&&96!=this.ml_mode)return!1;if(e=parseInt(t),a=parseInt(i),c=parseInt(s),o=parseInt(h),(isNaN(e)||isNaN(a)||isNaN(c)||isNaN(o))&&(e=-1),e<32||e>32*(this.mapWidth-15))return!1;if(c<32||c>32*(this.mapWidth-15))return!1;if(a<320||a>32*this.mapHeight)return!1;if(o<320||o>32*this.mapHeight)return!1;if(e>c){var _=e;e=c,c=_}if(a>o){var r=a;a=o,o=r}return this.maps.wx_mini=e,this.maps.wx_max=c,this.maps.wy_mini=a,this.maps.wy_max=o,!0}},{key:"setModeWait",value:function(t,i){var s,h=0;return h=parseInt(t),s=parseInt(i),(isNaN(h)||isNaN(s))&&(h=-1),!(h<0||h>2||s<0||(0==h?this.mode_wait_ending=s:1==h?this.mode_wait_gameover=s:2==h&&(this.mode_wait_stagestart=s),0))}},{key:"setPenColor",value:function(t,i,s,h){var e,a,c,o=255;return o=parseInt(t),e=parseInt(i),a=parseInt(s),c=parseInt(h),(isNaN(o)||isNaN(e)||isNaN(a)||isNaN(c))&&(o=-1),!(o<0||(this.js_pen_color=new A(o,e,a,c),0))}},{key:"showrSet",value:function(t,i,s,h,e){return 100==this.ml_mode&&(this.showr_c=parseInt(t),this.showr_x=parseInt(i),this.showr_y=parseInt(s),this.showr_width=parseInt(h),this.showr_height=parseInt(e),(isNaN(this.showr_c)||isNaN(this.showr_x)||isNaN(this.showr_y)||isNaN(this.showr_width)||isNaN(this.showr_height))&&(this.showr_c=0),this.showr_c>0)}},{key:"showoSet",value:function(t,i,s,h,e){return 100==this.ml_mode&&(this.showo_c=parseInt(t),this.showo_x=parseInt(i),this.showo_y=parseInt(s),this.showo_width=parseInt(h),this.showo_height=parseInt(e),(isNaN(this.showo_c)||isNaN(this.showo_x)||isNaN(this.showo_y)||isNaN(this.showo_width)||isNaN(this.showo_height))&&(this.showo_c=0),this.showr_c>0)}},{key:"getJSMes",value:function(){return this.js_mes}},{key:"showGauge",value:function(t,i){var s=0;return 100==this.ml_mode&&(s=parseInt(t),isNaN(s)&&(s=0),s<0&&(s=0),s>200&&(s=200),this.gauge_v=!0,this.gauge_value=s,this.gauge_text=i,!0)}},{key:"hideGauge",value:function(){return 100==this.ml_mode&&(this.gauge_v=!1,!0)}},{key:"setJSMes",value:function(t){return this.js_mes=parseInt(t),isNaN(this.js_mes)&&(this.js_mes=0),!0}},{key:"sete",value:function(t,i,s){var h=0,e=0,a=0,c=!1;if(100!=this.ml_mode)return!1;if(h=parseInt(t),e=parseInt(i),a=parseInt(s),(isNaN(h)||isNaN(e)||isNaN(a))&&(a=0),a<=0)return!1;if(h<0||h>=this.mapWidth||e<0||e>=this.mapHeight)return!1;switch(h=32*(h+1),e=32*(e+10),a){default:break;case 1:this.tSet(h,e,100,h-this.gg.di.width-32),c=!0;break;case 2:this.tSet(h,e,110,h-this.gg.di.width-32),c=!0;break;case 3:this.tSet(h,e,110,h-this.gg.di.width-32),this.tSet(h+75,e,110,h-this.gg.di.width-32),this.tSet(h+150,e,110,h-this.gg.di.width-32),c=!0;break;case 4:this.tSet(h,e,200,h-this.gg.di.width-32),c=!0;break;case 5:this.tSet(h,e,300,h-this.gg.di.width-32),c=!0;break;case 6:this.tSet(h,e,400,h-this.gg.di.width-32),c=!0;break;case 7:this.tSet(h,e,500,h-this.gg.di.width-32),c=!0;break;case 8:this.tSet(h,e,510,h-this.gg.di.width-32),c=!0;break;case 9:this.tSet(h,e,510,h-this.gg.di.width-32-32),this.tSet(h+80,e-40,510,h-this.gg.di.width-32-32),this.tSet(h+140,e+38,510,h-this.gg.di.width-32-32),c=!0;break;case 10:this.tSet(h,e,600,h-this.gg.di.width-32),c=!0;break;case 11:this.tSet(h,e,700,h-this.gg.di.width-32),c=!0;break;case 12:this.tSet(h,e,800,h-this.gg.di.width-32),c=!0;break;case 13:this.tSet(h,e,900,h-this.gg.di.width-32),c=!0;break;case 14:this.tSet(h,e-16,1e3,h-this.gg.di.width-32-32),c=!0;break;case 15:this.tSet(h,e,1100,h-this.gg.di.width-32),c=!0;break;case 16:this.mSet(h,e,100),this.gs.rsAddSound(10),c=!0;break;case 17:this.mSet(h,e,200),this.gs.rsAddSound(11),c=!0;break;case 18:this.mSet(h,e,205),this.gs.rsAddSound(11),c=!0;break;case 19:this.mSet(h,e,300),this.gs.rsAddSound(14),c=!0;break;case 20:this.mSet(h,e,305),this.gs.rsAddSound(14),c=!0;break;case 21:this.mSet(h,e,400),this.gs.rsAddSound(15),c=!0;break;case 22:this.mSet(h,e,405),this.gs.rsAddSound(15),c=!0;break;case 23:this.mSet(h,e+19,600),c=!0;break;case 24:this.mSet(h,e+19,605),c=!0;break;case 25:this.mSet(h,e+19,606),c=!0;break;case 26:this.mSet(h,e,90),this.gs.rsAddSound(18),c=!0;break;case 27:this.mSet2(h,e,800,-5,-32),this.gs.rsAddSound(22),c=!0;break;case 28:this.mSet2(h,e,800,-10,-32),this.gs.rsAddSound(22),c=!0;break;case 29:this.mSet2(h,e,800,-15,-32),this.gs.rsAddSound(22),c=!0;break;case 30:this.mSet2(h,e,500,8-this.ranInt(17),-25),c=!0;break;case 31:this.mSet2(h,e,500,12-this.ranInt(25),-30),c=!0;break;case 32:for(var o=0;o<=7;o++){var _=45*o*3.14/180,r=li(8*Math.cos(_),!0,this),n=-1*li(8*Math.sin(_),!0,this);this.mSet2(h,e,710,r,n),this.gs.rsAddSound(18)}c=!0;break;case 33:var m=3.140000104904175,g=li(12*Math.cos(m),!0,this),p=-1*li(12*Math.sin(m),!0,this);this.mSet2(h,e,710,g,p),m=2.7038888931274414,g=li(12*Math.cos(m),!0,this),p=-1*li(12*Math.sin(m),!0,this),this.mSet2(h,e,710,g,p),m=3.576111078262329,g=li(12*Math.cos(m),!0,this),p=-1*li(12*Math.sin(m),!0,this),this.mSet2(h,e,710,g,p),this.gs.rsAddSound(18),c=!0;break;case 34:var y=3.3144445419311523,u=li(12*Math.cos(y),!0,this),d=-1*li(12*Math.sin(y),!0,this);this.mSet2(h,e,710,u,d),y=2.965555429458618,u=li(12*Math.cos(y),!0,this),d=-1*li(12*Math.sin(y),!0,this),this.mSet2(h,e,710,u,d),y=3.6633334159851074,u=li(12*Math.cos(y),!0,this),d=-1*li(12*Math.sin(y),!0,this),this.mSet2(h,e,710,u,d),y=2.616666793823242,u=li(12*Math.cos(y),!0,this),d=-1*li(12*Math.sin(y),!0,this),this.mSet2(h,e,710,u,d),this.gs.rsAddSound(18),c=!0;break;case 35:this.aSet(h+16,e+16,70,h),c=!0;break;case 36:this.aSet(h+16,e+16,71,h),c=!0;break;case 37:this.aSet(h+16,e+16,72,h),this.aSet(h+16,e+16,74,h),this.aSet(h+16,e+16,76,h),c=!0;break;case 38:this.aSet(h+16,e+16,73,h),this.aSet(h+16,e+16,75,h),this.aSet(h+16,e+16,77,h),c=!0;break;case 39:this.aSet(h,e,101,h),c=!0;break;case 40:this.aSet(h,e+9,111,h),c=!0;break;case 41:this.tSet(h,e,320,h-this.gg.di.width-32),c=!0;break;case 42:this.tSet(h,e,330,h-this.gg.di.width-32),c=!0;break;case 43:this.tSet(h,e,660,h-this.gg.di.width-32),c=!0;break;case 44:this.tSet(h,e,670,h-this.gg.di.width-32),c=!0;break;case 45:this.tSet(h,e,710,h-this.gg.di.width-32),c=!0;break;case 46:this.tSet(h,e,720,h-this.gg.di.width-32),c=!0;break;case 47:this.tSet(h,e,930,h-this.gg.di.width-32),c=!0;break;case 48:this.tSet(h,e,920,h-this.gg.di.width-32),c=!0;break;case 49:this.tSet(h,e,1050,h-this.gg.di.width-32),c=!0;break;case 50:this.tSet(h,e,1060,h-this.gg.di.width-32),c=!0;break;case 51:this.tSet(h,e,1070,h-this.gg.di.width-32),c=!0;break;case 52:this.tSet(h,e,1080,h-this.gg.di.width-32),c=!0;break;case 53:this.tSet(h,e,1150,h-this.gg.di.width-32),c=!0;break;case 54:this.tSet(h,e,1160,h-this.gg.di.width-32),c=!0;break;case 55:this.tSet(h,e,1170,h-this.gg.di.width-32),c=!0;break;case 56:this.tSet(h,e,1180,h-this.gg.di.width-32),c=!0;break;case 57:this.tSetBoss(h,e,150,-4);break;case 58:this.tSetBoss(h,e,450,-3);break;case 59:this.tSetBoss(h,e,650,-3);break;case 60:for(var j=0;j<=300;j+=90)this.mSet2(h,e,950,j,0),this.mSet2(h,e,960,300-j,0);this.gs.rsAddSound(18),c=!0;break;case 61:var f=3.140000104904175;this.mSet2(h,e,731,li(9*Math.cos(f),!0,this),li(9*Math.sin(f),!0,this)),f=3.6633334159851074,this.mSet2(h,e,731,li(9*Math.cos(f),!0,this),li(9*Math.sin(f),!0,this)),f=4.186666965484619,this.mSet2(h,e,731,li(9*Math.cos(f),!0,this),li(9*Math.sin(f),!0,this)),this.gs.rsAddSound(11),c=!0;break;case 62:var l=0;this.mSet2(h,e,731,li(9*Math.cos(l),!0,this),li(9*Math.sin(l),!0,this)),l=5.756667137145996,this.mSet2(h,e,731,li(9*Math.cos(l),!0,this),li(9*Math.sin(l),!0,this)),l=5.233333587646484,this.mSet2(h,e,731,li(9*Math.cos(l),!0,this),li(9*Math.sin(l),!0,this)),this.gs.rsAddSound(11),c=!0;break;case 63:this.mSet2(h-16,e,732,-10,0),this.gs.rsAddSound(15),c=!0;break;case 64:this.mSet2(h-16,e,732,10,0),this.gs.rsAddSound(15),c=!0;break;case 65:this.mSet2(h,e,75,-1,0),this.gs.rsAddSound(11),c=!0;break;case 66:this.mSet2(h,e,810,-12,0),this.gs.rsAddSound(22),c=!0;break;case 67:this.mSet2(h,e,810,12,0),this.gs.rsAddSound(22),c=!0;break;case 68:this.mSet2(h,e,77,-1,0),this.gs.rsAddSound(14),c=!0;break;case 69:var v=3.140000104904175;this.mSet2(h,e,733,li(9*Math.cos(v),!0,this),li(9*Math.sin(v),!0,this)),v=3.6633334159851074,this.mSet2(h,e,733,li(9*Math.cos(v),!0,this),li(9*Math.sin(v),!0,this)),v=2.616666793823242,this.mSet2(h,e,733,li(9*Math.cos(v),!0,this),li(9*Math.sin(v),!0,this)),this.gs.rsAddSound(10),c=!0;break;case 70:var x=0;this.mSet2(h,e,733,li(9*Math.cos(x),!0,this),li(9*Math.sin(x),!0,this)),x=5.756667137145996,this.mSet2(h,e,733,li(9*Math.cos(x),!0,this),li(9*Math.sin(x),!0,this)),x=.5233333706855774,this.mSet2(h,e,733,li(9*Math.cos(x),!0,this),li(9*Math.sin(x),!0,this)),this.gs.rsAddSound(10),c=!0;break;case 71:for(var k=0;k<=270;k+=90)this.mSet2(h,e,970,k,0);this.gs.rsAddSound(18),c=!0;break;case 72:for(var w=0;w<=270;w+=90)this.mSet2(h,e,980,w,0);this.gs.rsAddSound(18),c=!0;break;case 73:this.mSet2(h,e,740,-4,9),c=!0;break;case 74:this.mSet2(h,e,740,-4,11),c=!0;break;case 75:this.mSet2(h,e,740,4,9),c=!0;break;case 76:this.mSet2(h,e,740,4,11),c=!0;break;case 77:this.mSet2(h,e,800,5,-32),this.gs.rsAddSound(22),c=!0;break;case 78:this.mSet2(h,e,800,10,-32),this.gs.rsAddSound(22),c=!0;break;case 79:this.mSet2(h,e,800,15,-32),this.gs.rsAddSound(22),c=!0;break;case 80:this.mSet2(h,e,80,12,-24),this.mSet2(h,e,80,-12,-24),this.gs.rsAddSound(16),c=!0;break;case 81:this.mSet2(h,e,800,0,0),this.gs.rsAddSound(22),c=!0;break;case 82:this.mSet2(h,e,801,0,0),this.gs.rsAddSound(22),c=!0;break;case 83:this.mSet2(h,e,85,-1,0),this.gs.rsAddSound(11),c=!0;break;case 84:this.mSet2(h,e,87,-1,0),this.gs.rsAddSound(14),c=!0}return c}},{key:"setScrollLock",value:function(t){var i=32;return(100==this.ml_mode||91==this.ml_mode||96==this.ml_mode)&&(i=parseInt(t),isNaN(i)&&(i=32),i<32&&(i=32),10==this.sl_step||11==this.sl_step?this.sl_step=11:this.sl_step=1,this.sl_wx=i,this.sl_wy=32*(this.mapHeight-li((this.gg.di.height-this.maps.wy_mini)/32)),!0)}},{key:"attackFire",value:function(t,i,s,h){var e,a,c,o=0,_=0;if(100!=this.ml_mode)return-1;if(o=parseInt(t),e=parseInt(i),a=parseInt(s),c=parseInt(h),(isNaN(o)||isNaN(e)||isNaN(a)||isNaN(c))&&(o=-1),o<0)return-1;if(this.jm_kazu>0)for(var r=0;r<=8;r++)if(!(this.co_jm[r].c<100)){var n=this.co_jm[r];n.x<o||n.x>=o+a||n.y<e||n.y>=e+c||(200==n.c?(n.c=50,n.c1=1,n.c2=20,this.gs.rsAddSound(9),_+=10):(n.c=0,this.jm_kazu--,_++))}return _}},{key:"attackTail",value:function(t,i,s,h){var e,a,c,o=0,_=0;return 100!=this.ml_mode?-1:(o=parseInt(t),e=parseInt(i),a=parseInt(s),c=parseInt(h),(isNaN(o)||isNaN(e)||isNaN(a)||isNaN(c))&&(o=-1),o<0?-1:(this.j_tail_ac>=3&&this.j_tail_ac<=7&&this.attacktail_yf&&(_=0,15!=this.j_tokugi||2!=this.j_4_muki&&3!=this.j_4_muki?this.co_j.y<e+c-4&&this.co_j.y+32>e+4&&(0==this.co_j.muki?this.co_j.x-32<=o+a&&this.co_j.x+4>=o&&(_=1):this.co_j.x+32+32>=o&&this.co_j.x+28<=o+a&&(_=1)):this.co_j.x<o+a-4&&this.co_j.x+32>o+4&&(2==this.j_4_muki?this.co_j.y-32<=e+c&&this.co_j.y+4>=e&&(_=1):this.co_j.y+32+32>=e&&this.co_j.y+28<=e+c&&(_=1)),1==_&&(this.attacktail_yf=!1,this.gs.rsAddSound(9))),_))}},{key:"destroyEnemy",value:function(t,i,s,h){var e,a,c,o=0,_=0;if(100!=this.ml_mode)return-1;if(o=parseInt(t),e=parseInt(i),a=parseInt(s),c=parseInt(h),(isNaN(o)||isNaN(e)||isNaN(a)||isNaN(c))&&(o=-1),o<0)return-1;for(var r=0;r<=this.t_kazu;r++)if(!(this.co_t[r].c<100)){var n=this.co_t[r];if(!(o>=n.x+32||o+a<=n.x||e>=n.y+32||e+c<=n.y)){if(n.x<this.co_j.x?(n.pth=1,n.vx=-3):(n.pth=0,n.vx=3),n.c>=1200&&n.c<1300)n.c=54,n.vy=-25;else if(n.c>=1400&&n.c<1500)n.c=57,n.c1=0;else if(n.c>=1400&&n.c<1500)n.c=57,n.c1=0;else if(1190==n.c){n.c=55,n.c1=0;var m=vi(n.x,5),g=vi(n.y,5);1==n.c5?this.onASwitch(m-5,g-5,m+5,g+5):this.onASwitch(m-10,g-10,m+10,g+10)}else n.c=52,n.vy=-25,14!=this.j_tokugi&&15!=this.j_tokugi||(n.c=55,n.c1=0);_++,this.gs.rsAddSound(9)}}return _}},{key:"setmapc",value:function(t,i,s){var h=0,e=0,a=0;return 100==this.ml_mode&&(h=parseInt(t),e=parseInt(i),a=parseInt(s),(isNaN(h)||isNaN(e)||isNaN(a))&&(a=-1),!(a<0||a>249||h<0||h>=this.mapWidth||e<0||e>=this.mapHeight||(h++,e+=10,this.maps.map_bg[h][e]=a,this.map_data_option[h][e]&&(this.map_data_option[h][e]=!1),this.setmapc_f=!0,0)))}},{key:"getmapc",value:function(t,i){var s=0,h=0,e=0;return 100!=this.ml_mode?-1:(s=parseInt(t),h=parseInt(i),(isNaN(s)||isNaN(h))&&(e=-1),e<0||s<0||s>=this.mapWidth||h<0||h>=this.mapHeight?-1:(s++,h+=10,this.maps.map_bg[s][h]))}},{key:"setmapc2",value:function(t,i,s){var h=0,e=0,a=0;return 100==this.ml_mode&&2==this.gg.layer_mode&&(h=parseInt(t),e=parseInt(i),a=parseInt(s),(isNaN(h)||isNaN(e)||isNaN(a))&&(a=-1),!(a<0||a>255||h<0||h>=this.mapWidth||e<0||e>=this.mapHeight||(h++,e+=10,this.maps.map_bg_layer[h][e]=a,0)))}},{key:"getmapc2",value:function(t,i){var s=0,h=0,e=0;return 100!=this.ml_mode||2!=this.gg.layer_mode?-1:(s=parseInt(t),h=parseInt(i),(isNaN(s)||isNaN(h))&&(e=-1),e<0||s<0||s>=this.mapWidth||h<0||h>=this.mapHeight?-1:(s++,h+=10,this.maps.map_bg_layer[s][h]))}},{key:"showMyHP",value:function(t){return this.j_hp_v=!0,this.j_hp_moji=null!=t?t:"",!0}},{key:"setMyMaxHP",value:function(t){var i=-1;return i=parseInt(t),isNaN(i)&&(i=-1),!(i<0||(this.j_hp_max=i,(100==this.ml_mode||90==this.ml_mode||91==this.ml_mode||96==this.ml_mode)&&this.co_j.c>=100&&this.co_j.c<200&&(this.j_hp=this.j_hp_max),0))}},{key:"setMyHP",value:function(t){var i;return(100==this.ml_mode||90==this.ml_mode||91==this.ml_mode||96==this.ml_mode)&&this.co_j.c>=100&&this.co_j.c<200&&(i=parseInt(t),isNaN(i)&&(i=-1),!(i<0||(this.j_hp=i,0)))}},{key:"getMyHP",value:function(){return 100==this.ml_mode&&this.co_j.c>=100&&this.co_j.c<200?this.j_hp:0}},{key:"setMyHPDamage",value:function(t){var i;return 100==this.ml_mode&&this.co_j.c>=100&&this.co_j.c<200&&(i=parseInt(t),isNaN(i)&&(i=4294867297),4294867297!=i&&(this.j_muteki_c>0||(this.j_hp-=i,this.j_hp<=0?this.j_hp=0:(this.setMyMuteki(),this.gs.rsAddSound(24))),!0))}},{key:"setMyMuteki",value:function(){this.j_muteki_c=17}},{key:"ranInit",value:function(){this.ran_seed=4294967296*Math.random()|0}},{key:"ranInt",value:function(t){var i=this.ran_seed;return i=((i=(i^i<<9)>>>0)^i>>>11)>>>0,this.ran_seed=i=(i^i<<19)>>>0,2.3283064365386963e-10*i*t|0}},{key:"drawScore",value:function(){var t=this.hg._font;this.hg.setColor(this.gamecolor_score),this.hg.setFont(new P(this.gg.font_score,1,this.moji_size));var i=this.moji_size+14,s=this.score_v?"":" ",h="";if(this.score_v&&(h+="".concat(this.moji_score," ").concat(this.score,"    ").concat(this.moji_highscore," ").concat(this.highscore)),(this.j_left_shoki>0||this.j_left>0)&&(h+="".concat(this.moji_left).concat(s).concat(this.j_left).concat(s).concat(s).concat(s).concat(s)),this.time_max>0){var e=Math.floor(this.time/1e3);h+="".concat(this.moji_time).concat(s).concat(e)}this.hg.drawString(h,40,i);var a=2*i-6;if(this.j_hp_v&&100===this.ml_mode){var c="".concat(this.j_hp_moji," ").concat(this.j_hp);this.hg.drawString(c,40,a)}this.hg.setFont(t)}},{key:"drawItem",value:function(){var t=this,i=this.hg._font,s=this.gg.di.height-33;if(this.dkey_count[0]+this.dkey_count[1]>=1){var h=8,e=this.gg.di.height-40,a=function(i){var a;t.dkey_count[i-1]>0&&(a=Array(t.dkey_count[i-1]),function(t){if(Array.isArray(t))return qt(t)}(a)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(a)||Ut(a)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map((function(){t.hg.setColor(t.dkey_back_color),t.hg.fillRect(h-2,e-2,36,36),t.hg.drawImage(t.gg.spt_option_img[i+2],h,e,t.ap),h+=36,s=t.gg.di.height-65}))};a(1),a(2)}if(this.j_jet_fuel>0||this.j_gr_kazu>0){var c="";this.hg.setColor(this.gamecolor_score),this.hg.setFont(new P(this.gg.font_score,1,this.moji_size)),this.j_jet_fuel>0&&(c+="".concat(this.moji_jet," ").concat(this.j_jet_fuel)),this.j_gr_kazu>0&&(this.j_jet_fuel>0&&(c+="    "),c+=this.moji_grenade,1!==this.j_gr_kazu&&(c+=" ".concat(this.j_gr_kazu))),this.hg.drawString(c,40,s+this.moji_size),this.hg.setFont(i)}}},{key:"drawScore2",value:function(){var t=this.hg._font;this.hg.setColor(this.gamecolor_score),this.hg.setFont(new P(this.gg.font_score,1,this.moji_size));var i=this.moji_size+14,s="";this.score_v&&(s="".concat(this.moji_score," ").concat(this.score,"    ").concat(this.moji_highscore," ").concat(this.highscore)),(this.j_left_shoki>0||this.j_left>0)&&(s+="".concat(this.moji_left).concat(this.j_left)),this.hg.drawString(s,40,i),this.hg.setFont(t)}},{key:"addScore",value:function(t){this.score+=t,this.score_1up_1>0&&this.score>=this.score_1up_1&&(this.j_left++,this.score_1up_1=0),this.score_1up_2>0&&this.score>=this.score_1up_2&&(this.j_left++,this.score_1up_2=0)}},{key:"getCoinTotal",value:function(){var t=this.mapWidth,i=0;2==this.scroll_area||4==this.scroll_area?t=li(this.gg.di.width/32):3!=this.scroll_area&&5!=this.scroll_area||(t=li(2*this.gg.di.width/32));for(var s=10;s<=this.mapHeight+9;s++)for(var h=1;h<=t;h++)9==this.maps.map_bg[h][s]&&i++;return this.coin_kazu=i,i}},{key:"getCoinCount",value:function(t,i,s,h){if(100==this.ml_mode||90==this.ml_mode||91==this.ml_mode||96==this.ml_mode){var e=t+1,a=i+10,c=s+1,o=h+10;if(e<1&&(e=1),e>this.mapWidth&&(e=this.mapWidth),c<1&&(c=1),c>this.mapWidth&&(c=this.mapWidth),a<10&&(a=10),a>this.mapHeight+9&&(a=this.mapHeight+9),o<10&&(o=10),o>this.mapHeight+9&&(o=this.mapHeight+9),e>c){var _=e;e=c,c=_}if(a>o){var r=a;a=o,o=r}for(var n=0,m=a;m<=o;m++)for(var g=e;g<=c;g++)9==this.maps.map_bg[g][m]&&n++;return n}return-1}},{key:"showHashigo",value:function(){var t=this.mapWidth;2==this.scroll_area||4==this.scroll_area?t=li(this.gg.di.width/32):3!=this.scroll_area&&5!=this.scroll_area||(t=li(2*this.gg.di.width/32));for(var i=10;i<=this.mapHeight+9;i++)for(var s=1;s<=t;s++)8==this.maps.map_bg[s][i]&&(this.maps.map_bg[s][i]=10);this.setmapc_f=!0}},{key:"addSerifu",value:function(t,i,s){for(var h=1;h<=s;h++){var e=this.tdb.getValue("serifu".concat(i,"-").concat(h));0!=parseInt(e||"",10)&&this.km.addItem(t,e||"")}}},{key:"addSerifu2",value:function(t,i,s,h){var e,a,c;for(null==h?(a=1,c=s):(a=s,c=h),e=a;e<=c;e++){var o=this.tdb.getValue("".concat(i).concat(e)),_=void 0;_=parseInt(o),isNaN(_)&&(_=-1),0!=_&&this.km.addItem(t,o||"")}}},{key:"mL100",value:function(){var t=this,i=function(){for(var i=!1,s=0;s<=t.a_kazu;s++)if(t.co_a[s].gf){var h=t.co_a[s];h.c>=100&&h.c<200?t.co_j.x+15>=h.x&&t.co_j.x<=h.x+64&&t.co_j.y+31>=h.y&&t.co_j.y<=h.y+13&&(i=!0):300!=h.c?h.c>=400&&h.c<500?t.co_j.x+15>=h.x&&t.co_j.x<=h.x+80&&t.co_j.y+31>=h.y&&t.co_j.y<=h.y+63&&(i=!0):500!=h.c?600!=h.c?700==h.c&&10!=t.j_tokugi&&12!=t.j_tokugi&&13!=t.j_tokugi&&t.co_j.x+15>=h.x&&t.co_j.x<=h.x+16&&t.co_j.y+31>=h.y&&t.co_j.y<=h.y+31&&(i=!0):t.co_j.x+15>=h.x&&t.co_j.x<=h.x+48&&t.co_j.y+31>=h.y+16&&t.co_j.y<=h.y+47&&(i=!0):t.co_j.x+15>=h.x&&t.co_j.x<=h.x+80&&t.co_j.y+31>=h.y&&t.co_j.y<=h.y+13&&(i=!0):h.c3<200&&t.co_j.x+15>=h.x&&t.co_j.x<=h.x+48&&t.co_j.y+31>=h.y&&t.co_j.y<=h.y+31&&(i=!0)}return i};if(this.showmMove(),this.setmyw_w>=0&&this.co_j.c>=100&&this.co_j.c<200&&(0==this.setmyw_w?this.co_j.c=100:(this.co_j.c=150,this.co_j.c1=this.setmyw_w,this.co_j.vx=0,this.co_j.vy=0),this.j_zan_f=!1,this.j_jet_c=0,this.j_jump_type=0,this.setmyw_w=-1),14==this.j_tokugi&&(this.jm_kazu=9999),this.moveGameCounter(),this.km.move(),this.aMove(),this.nkscroll_zsc=!1,this.yuka_id_max>=0&&this.moveYuka(),100==this.co_j.c?14==this.j_tokugi||15==this.j_tokugi?this.jM100stg():this.jM100():this.jMove(),2==this.j_tail_ac&&(this.attacktail_yf=!0),this.ana_kazu>0&&this.anaMove(),this.sl_step>0)if(10==this.sl_step||11==this.sl_step){if(this.ks_wx+=this.sl_speed,this.ks_wx>this.maps.wx_max&&(this.ks_wx=this.maps.wx_max),this.maps.wx=this.ks_wx,this.maps.wy=this.ks_wy,14==this.j_tokugi){this.co_j.x+=this.sl_speed;var s=this.sl_speed;(this.maps.getBGCode(this.co_j.x+31,this.co_j.y)>=20||this.maps.getBGCode(this.co_j.x+31,this.co_j.y+31)>=20)&&(s=32*vi(this.co_j.x+31,5)-32-(this.co_j.x-this.sl_speed),this.co_j.x=32*vi(this.co_j.x+31,5)-32),this.co_j.wx=this.co_j.x-this.maps.wx;for(var h=0;h<=31;h++)this.mu_ato_x[h]+=s;(s=this.mu_ato_p-7)<0&&(s+=32),this.co_mu[0].x=this.mu_ato_x[s],this.co_mu[0].y=this.mu_ato_y[s],(s=this.mu_ato_p-14)<0&&(s+=32),this.co_mu[1].x=this.mu_ato_x[s],this.co_mu[1].y=this.mu_ato_y[s]}if(300!=this.co_j.c&&310!=this.co_j.c)if(14==this.j_tokugi)this.co_j.x<this.ks_wx?(this.co_j.x=this.ks_wx,this.co_j.vx<0&&(this.co_j.vx=0),(this.maps.getBGCode(this.co_j.x+31,this.co_j.y)>=20||this.maps.getBGCode(this.co_j.x+31,this.co_j.y+31)>=20)&&this.co_j.c>=100&&this.co_j.c<200&&this.jShinu(1)):this.co_j.x>this.ks_wx+this.gg.di.width-32&&(this.co_j.x=this.ks_wx+this.gg.di.width-32,this.co_j.vx=0,this.co_j.vx>0&&(this.co_j.vx=0),this.co_j.wx=this.co_j.x-this.maps.wx),this.co_j.c>=100&&this.co_j.c<200&&(this.co_j.y<this.maps.wy?(this.co_j.y=this.maps.wy,this.co_j.vy=0,this.co_j.wy=this.co_j.y-this.maps.wy):this.co_j.y>this.maps.wy+this.gg.di.height-32&&(this.co_j.y=this.maps.wy+this.gg.di.height-32,this.co_j.vy=0,this.co_j.wy=this.co_j.y-this.maps.wy));else if(this.co_j.x<this.ks_wx-16){this.co_j.x=this.ks_wx-16,this.co_j.vx<0&&(this.co_j.vx=0);var e=this.maps.getBGCode(this.co_j.x+15,this.co_j.y),a=this.maps.getBGCode(this.co_j.x+15,this.co_j.y+31);(e>=18&&19!=e||a>=18&&19!=a||this.j_hashigo_f)&&this.co_j.c>=100&&this.co_j.c<200&&(this.co_j.c=210,this.co_j.y=this.maps.wy-64,this.co_j.c1=0,this.j_jet_c=0,this.j_v_c=0,this.j_zan_f=!1,this.j_muteki_c=0,this.j_hp=0,this.km.initAll(),this.km.mode=10),this.a_hf&&i()&&this.co_j.c>=100&&this.co_j.c<200&&(this.co_j.c=210,this.co_j.y=this.maps.wy-64,this.co_j.c1=0,this.j_jet_c=0,this.j_v_c=0,this.j_zan_f=!1,this.j_muteki_c=0,this.j_hp=0,this.km.initAll(),this.km.mode=10),this.yuka_ride_id>=0&&this.yo[this.yuka_ride_id].con>=200&&this.yo[this.yuka_ride_id].con<300&&this.co_j.c>=100&&this.co_j.c<200&&(this.co_j.c=210,this.co_j.y=this.maps.wy-64,this.co_j.c1=0,this.j_jet_c=0,this.j_v_c=0,this.j_zan_f=!1,this.j_muteki_c=0,this.j_hp=0,this.km.initAll(),this.km.mode=10)}else this.co_j.x>this.ks_wx+this.gg.di.width-16&&(this.co_j.x=this.ks_wx+this.gg.di.width-16,this.co_j.vx=0,this.co_j.vx>0&&(this.co_j.vx=0));11==this.sl_step&&this.maps.wx>=this.sl_wx&&(this.maps.wx=this.sl_wx,this.sl_wy=this.ks_wy,this.sl_step=3,this.gs.playBGM(4))}else 1==this.sl_step?100==this.nkscroll_con?this.nkscroll_view_x>=this.sl_wx&&(this.maps.wx=this.sl_wx,this.sl_step=2,this.gs.playBGM(4)):this.maps.wx>=this.sl_wx&&(this.maps.wx=this.sl_wx,this.sl_step=2,this.gs.playBGM(4)):2==this.sl_step?(this.maps.wx=this.sl_wx,this.co_j.x<this.sl_wx-16?(this.co_j.x=this.sl_wx-16,this.co_j.vx=0):this.co_j.x>this.sl_wx+this.gg.di.width-16&&(this.co_j.x=this.sl_wx+this.gg.di.width-16,this.co_j.vx=0),this.maps.wy>=this.sl_wy&&(this.maps.wy=this.sl_wy,this.sl_step=3)):(this.maps.wx=this.sl_wx,this.maps.wy=this.sl_wy,this.j_tokugi>=14&&this.j_tokugi<=15?(this.co_j.c>=100&&this.co_j.c<200&&(this.co_j.y<this.maps.wy?(this.co_j.y=this.maps.wy,this.co_j.vy=0,this.co_j.wy=this.co_j.y-this.maps.wy):this.co_j.y>this.maps.wy+this.gg.di.height-32&&(this.co_j.y=this.maps.wy+this.gg.di.height-32,this.co_j.vy=0,this.co_j.wy=this.co_j.y-this.maps.wy)),this.co_j.x<this.sl_wx?(this.co_j.x=this.sl_wx,this.co_j.vx=0):this.co_j.x>this.sl_wx+this.gg.di.width-32&&(this.co_j.x=this.sl_wx+this.gg.di.width-32,this.co_j.vx=0)):this.co_j.x<this.sl_wx-16?(this.co_j.x=this.sl_wx-16,this.co_j.vx=0):this.co_j.x>this.sl_wx+this.gg.di.width-16&&(this.co_j.x=this.sl_wx+this.gg.di.width-16,this.co_j.vx=0));if(100!=this.nkscroll_con||0!=this.sl_step&&1!=this.sl_step){if(200==this.nkscroll_con){var c=!1;this.nkscroll_my_view_x>this.maps.my_wx_max?(this.nkscroll_my_view_x-=8,this.nkscroll_my_view_x<=this.maps.my_wx_max&&(this.nkscroll_my_view_x=this.maps.my_wx_max,c=!0),this.nkscroll_view_x=this.co_j.x-this.nkscroll_my_view_x,this.nkscroll_view_x>=this.maps.wx_max&&(this.nkscroll_view_x=this.maps.wx_max,c=!0)):this.nkscroll_my_view_x<this.maps.my_wx_mini?(this.nkscroll_my_view_x+=8,this.nkscroll_my_view_x>=this.maps.my_wx_mini&&(this.nkscroll_my_view_x=this.maps.my_wx_mini,c=!0),this.nkscroll_view_x=this.co_j.x-this.nkscroll_my_view_x,this.nkscroll_view_x<=this.maps.wx_mini&&(this.nkscroll_view_x=this.maps.wx_mini,c=!0)):(c=!0,this.nkscroll_view_x=this.co_j.x-this.nkscroll_my_view_x);var o=!1;this.nkscroll_my_view_y>this.maps.my_wy_max?(this.nkscroll_my_view_y-=4,this.nkscroll_my_view_y<=this.maps.my_wy_max&&(this.nkscroll_my_view_y=this.maps.my_wy_max,o=!0),this.nkscroll_view_y=this.co_j.y-this.nkscroll_my_view_y,this.nkscroll_view_y>=this.maps.wy_max&&(this.nkscroll_view_y=this.maps.wy_max,o=!0)):this.nkscroll_my_view_y<this.maps.my_wy_mini?(this.nkscroll_my_view_y+=4,this.nkscroll_my_view_y>=this.maps.my_wy_mini&&(this.nkscroll_my_view_y=this.maps.my_wy_mini,o=!0),this.nkscroll_view_y=this.co_j.y-this.nkscroll_my_view_y,this.nkscroll_view_y<=this.maps.wy_mini&&(this.nkscroll_view_y=this.maps.wy_mini,o=!0)):(o=!0,this.nkscroll_view_y=this.co_j.y-this.nkscroll_my_view_y),c&&o&&(this.nkscroll_con=0),this.maps.wx=this.nkscroll_view_x,this.maps.wy=this.nkscroll_view_y,this.maps.wx<this.maps.wx_mini?this.maps.wx=this.maps.wx_mini:this.maps.wx>this.maps.wx_max&&(this.maps.wx=this.maps.wx_max),this.maps.wy<this.maps.wy_mini?this.maps.wy=this.maps.wy_mini:this.maps.wy>this.maps.wy_max&&(this.maps.wy=this.maps.wy_max),this.nkscroll_my_view_x=this.co_j.x-this.maps.wx,this.nkscroll_my_view_y=this.co_j.y-this.maps.wy,this.nkscroll_view_x=this.co_j.x-this.nkscroll_my_view_x,this.nkscroll_view_y=this.co_j.y-this.nkscroll_my_view_y}else if(300==this.nkscroll_con)this.co_j.x>this.nkscroll_view_x+this.gg.di.width-16?(this.co_j.x=this.nkscroll_view_x+this.gg.di.width-16,this.co_j.vx>0&&(this.co_j.vx=0)):this.co_j.x<this.nkscroll_view_x-15&&(this.co_j.x=this.nkscroll_view_x-15,this.co_j.vx<0&&(this.co_j.vx=0)),this.maps.wx=this.nkscroll_view_x;else if(400==this.nkscroll_con){if(this.nkscroll_vx>0){if(this.nkscroll_view_x+=this.nkscroll_speed_x,this.nkscroll_view_x>=this.maps.wx_max&&(this.nkscroll_view_x=this.maps.wx_max,this.nkscroll_vx=0),300!=this.co_j.c&&310!=this.co_j.c)if(this.co_j.x<this.nkscroll_view_x-15){this.co_j.x=this.nkscroll_view_x-15,this.co_j.vx<0&&(this.co_j.vx=0);var _=this.maps.getBGCode(this.co_j.x+15,this.co_j.y),r=this.maps.getBGCode(this.co_j.x+15,this.co_j.y+31);(_>=18&&19!=_||r>=18&&19!=r||this.j_hashigo_f)&&this.co_j.c>=100&&this.co_j.c<200&&this.jShinu(5),this.a_hf&&i()&&this.co_j.c>=100&&this.co_j.c<200&&this.jShinu(5),this.yuka_ride_id>=0&&this.yo[this.yuka_ride_id].con>=200&&this.yo[this.yuka_ride_id].con<300&&this.co_j.c>=100&&this.co_j.c<200&&this.jShinu(5),this.isYukaCross()&&this.jShinu(5)}else this.co_j.x>this.nkscroll_view_x+this.gg.di.width-16&&(this.co_j.x=this.nkscroll_view_x+this.gg.di.width-16,this.co_j.vx>0&&(this.co_j.vx=0))}else this.co_j.x>this.nkscroll_view_x+this.gg.di.width-16?(this.co_j.x=this.nkscroll_view_x+this.gg.di.width-16,this.co_j.vx>0&&(this.co_j.vx=0)):this.co_j.x<this.nkscroll_view_x-15&&(this.co_j.x=this.nkscroll_view_x-15,this.co_j.vx<0&&(this.co_j.vx=0));if(this.maps.wx=this.nkscroll_view_x,this.co_j.c>=100&&this.co_j.c<200&&this.co_j.y<this.maps.wy-16){this.co_j.y=this.maps.wy-16,this.co_j.vy<0&&(this.co_j.vy=0);var n=this.maps.getBGCode(this.co_j.x+15,this.co_j.y),m=this.maps.getBGCode(this.co_j.x+15,this.co_j.y+31);(n>=18||m>=18)&&this.jShinu(5)}this.co_j.c>=100&&this.co_j.c<200&&this.co_j.y>=this.maps.wy+this.gg.di.height&&this.jShinu(5)}}else{if(this.nkscroll_vx>0){if(this.nkscroll_view_x+=this.nkscroll_speed_x,this.nkscroll_view_x>=this.maps.wx_max&&(this.nkscroll_view_x=this.maps.wx_max,this.nkscroll_vx=0),14==this.j_tokugi&&300!=this.co_j.c&&310!=this.co_j.c){var g=this.co_j.x;this.co_j.x+=this.nkscroll_speed_x,(this.maps.getBGCode(this.co_j.x+31,this.co_j.y)>=20||this.maps.getBGCode(this.co_j.x+31,this.co_j.y+31)>=20)&&(this.co_j.x=32*vi(this.co_j.x+31,5)-32),this.co_j.c>=100&&this.co_j.c<200&&(this.co_j.x>this.nkscroll_view_x+this.gg.di.width-32&&(this.co_j.x=this.nkscroll_view_x+this.gg.di.width-32),this.co_j.x<this.nkscroll_view_x&&(this.co_j.x=this.nkscroll_view_x),this.co_j.y>this.nkscroll_view_y+this.gg.di.height-32&&(this.co_j.y=this.nkscroll_view_y+this.gg.di.height-32),this.co_j.y<this.nkscroll_view_y&&(this.co_j.y=this.nkscroll_view_y));var p=this.maps.getBGCode(this.co_j.x+31,this.co_j.y),y=this.maps.getBGCode(this.co_j.x+31,this.co_j.y+31);(p>=18||y>=18)&&this.co_j.c>=100&&this.co_j.c<200&&this.jShinu(5),this.co_j.wx=this.co_j.x-this.maps.wx;for(var u=0;u<=31;u++)this.mu_ato_x[u]+=this.co_j.x-g;(g=this.mu_ato_p-7)<0&&(g+=32),this.co_mu[0].x=this.mu_ato_x[g],this.co_mu[0].y=this.mu_ato_y[g],(g=this.mu_ato_p-14)<0&&(g+=32),this.co_mu[1].x=this.mu_ato_x[g],this.co_mu[1].y=this.mu_ato_y[g]}if(300!=this.co_j.c&&310!=this.co_j.c)if(this.co_j.x<this.nkscroll_view_x-15){this.co_j.x=this.nkscroll_view_x-15,this.co_j.vx<0&&(this.co_j.vx=0);var d=this.maps.getBGCode(this.co_j.x+15,this.co_j.y),j=this.maps.getBGCode(this.co_j.x+15,this.co_j.y+31);(d>=18&&19!=d||j>=18&&19!=j||this.j_hashigo_f)&&this.co_j.c>=100&&this.co_j.c<200&&this.jShinu(5),this.a_hf&&i()&&this.co_j.c>=100&&this.co_j.c<200&&this.jShinu(5),this.yuka_ride_id>=0&&this.yo[this.yuka_ride_id].con>=200&&this.yo[this.yuka_ride_id].con<300&&this.co_j.c>=100&&this.co_j.c<200&&this.jShinu(5),this.isYukaCross()&&this.jShinu(5)}else this.co_j.x>this.nkscroll_view_x+this.gg.di.width-16&&(this.co_j.x=this.nkscroll_view_x+this.gg.di.width-16,this.co_j.vx>0&&(this.co_j.vx=0))}else if(this.nkscroll_vx<0){if(this.nkscroll_view_x-=this.nkscroll_speed_x,this.nkscroll_view_x<=this.maps.wx_mini&&(this.nkscroll_view_x=this.maps.wx_mini,this.nkscroll_vx=0),14==this.j_tokugi&&300!=this.co_j.c&&310!=this.co_j.c){var f=this.co_j.x;this.co_j.x-=this.nkscroll_speed_x,(this.maps.getBGCode(this.co_j.x,this.co_j.y)>=20||this.maps.getBGCode(this.co_j.x,this.co_j.y+31)>=20)&&(this.co_j.x=32*vi(this.co_j.x,5)+32),this.co_j.c>=100&&this.co_j.c<200&&(this.co_j.x>this.nkscroll_view_x+this.gg.di.width-32&&(this.co_j.x=this.nkscroll_view_x+this.gg.di.width-32),this.co_j.x<this.nkscroll_view_x&&(this.co_j.x=this.nkscroll_view_x),this.co_j.y>this.nkscroll_view_y+this.gg.di.height-32&&(this.co_j.y=this.nkscroll_view_y+this.gg.di.height-32),this.co_j.y>this.nkscroll_view_y+this.gg.di.height-32&&(this.co_j.y=this.nkscroll_view_y+this.gg.di.height-32));var l=this.maps.getBGCode(this.co_j.x,this.co_j.y),v=this.maps.getBGCode(this.co_j.x,this.co_j.y+31);(l>=18||v>=18)&&this.co_j.c>=100&&this.co_j.c<200&&this.jShinu(5),this.co_j.wx=this.co_j.x-this.maps.wx;for(var x=0;x<=31;x++)this.mu_ato_x[x]+=this.co_j.x-f;(f=this.mu_ato_p-7)<0&&(f+=32),this.co_mu[0].x=this.mu_ato_x[f],this.co_mu[0].y=this.mu_ato_y[f],(f=this.mu_ato_p-14)<0&&(f+=32),this.co_mu[1].x=this.mu_ato_x[f],this.co_mu[1].y=this.mu_ato_y[f]}if(300!=this.co_j.c&&310!=this.co_j.c)if(this.co_j.x>this.nkscroll_view_x+this.gg.di.width-16){this.co_j.x=this.nkscroll_view_x+this.gg.di.width-16,this.co_j.vx>0&&(this.co_j.vx=0),this.co_j.c>=100&&this.co_j.c<200&&(this.co_j.y>this.nkscroll_view_y+this.gg.di.height-32&&(this.co_j.y=this.nkscroll_view_y+this.gg.di.height-32),this.co_j.y<this.nkscroll_view_y&&(this.co_j.y=this.nkscroll_view_y));var k=this.maps.getBGCode(this.co_j.x+15,this.co_j.y),w=this.maps.getBGCode(this.co_j.x+15,this.co_j.y+31);(k>=19||w>=19||this.j_hashigo_f)&&this.co_j.c>=100&&this.co_j.c<200&&this.jShinu(5),this.a_hf&&i()&&this.co_j.c>=100&&this.co_j.c<200&&this.jShinu(5),this.yuka_ride_id>=0&&this.yo[this.yuka_ride_id].con>=200&&this.yo[this.yuka_ride_id].con<300&&this.co_j.c>=100&&this.co_j.c<200&&this.jShinu(5),this.isYukaCross()&&this.jShinu(5)}else this.co_j.x<this.nkscroll_view_x-15&&(this.co_j.x=this.nkscroll_view_x-15,this.co_j.vx<0&&(this.co_j.vx=0))}else this.co_j.x>this.nkscroll_view_x+this.gg.di.width-16?(this.co_j.x=this.nkscroll_view_x+this.gg.di.width-16,this.co_j.vx>0&&(this.co_j.vx=0)):this.co_j.x<this.nkscroll_view_x-15&&(this.co_j.x=this.nkscroll_view_x-15,this.co_j.vx<0&&(this.co_j.vx=0));if(this.nkscroll_vy>0){if(this.nkscroll_view_y+=this.nkscroll_speed_x,this.nkscroll_view_y>=this.maps.wy_max&&(this.nkscroll_view_y=this.maps.wy_max,this.nkscroll_vy=0),14==this.j_tokugi&&300!=this.co_j.c&&310!=this.co_j.c){var b=this.co_j.y;this.co_j.y+=this.nkscroll_speed_x,(this.maps.getBGCode(this.co_j.x,this.co_j.y+31)>=20||this.maps.getBGCode(this.co_j.x+31,this.co_j.y+31)>=20)&&(this.co_j.y=32*vi(this.co_j.y+31,5)-32),this.co_j.c>=100&&this.co_j.c<200&&(this.co_j.x>this.nkscroll_view_x+this.gg.di.width-32&&(this.co_j.x=this.nkscroll_view_x+this.gg.di.width-32),this.co_j.x<this.nkscroll_view_x&&(this.co_j.x=this.nkscroll_view_x),this.co_j.y>this.nkscroll_view_y+this.gg.di.height-32&&(this.co_j.y=this.nkscroll_view_y+this.gg.di.height-32),this.co_j.y<this.nkscroll_view_y&&(this.co_j.y=this.nkscroll_view_y)),this.co_j.wy=this.co_j.y-this.maps.wy;for(var S=0;S<=31;S++)this.mu_ato_y[S]+=this.co_j.y-b;(b=this.mu_ato_p-7)<0&&(b+=32),this.co_mu[0].x=this.mu_ato_x[b],this.co_mu[0].y=this.mu_ato_y[b],(b=this.mu_ato_p-14)<0&&(b+=32),this.co_mu[1].x=this.mu_ato_x[b],this.co_mu[1].y=this.mu_ato_y[b]}if(300!=this.co_j.c&&310!=this.co_j.c&&this.co_j.y<this.nkscroll_view_y-16){this.co_j.y=this.nkscroll_view_y-16,this.co_j.vy<0&&(this.co_j.vy=0);var M=this.maps.getBGCode(this.co_j.x+15,this.co_j.y),C=this.maps.getBGCode(this.co_j.x+15,this.co_j.y+31);(M>=18||C>=18)&&this.co_j.c>=100&&this.co_j.c<200&&this.jShinu(5),this.a_hf&&i()&&this.co_j.c>=100&&this.co_j.c<200&&this.jShinu(5),this.yuka_ride_id>=0&&this.yo[this.yuka_ride_id].con>=200&&this.yo[this.yuka_ride_id].con<300&&this.co_j.c>=100&&this.co_j.c<200&&this.jShinu(5),this.isYukaCross()&&this.jShinu(5)}}else if(this.nkscroll_vy<0&&(this.nkscroll_view_y-=this.nkscroll_speed_x,this.nkscroll_view_y<=this.maps.wy_mini&&(this.nkscroll_view_y=this.maps.wy_mini,this.nkscroll_vy=0),14==this.j_tokugi&&300!=this.co_j.c&&310!=this.co_j.c)){var I=this.co_j.y;this.co_j.y-=this.nkscroll_speed_x,(this.maps.getBGCode(this.co_j.x,this.co_j.y)>=20||this.maps.getBGCode(this.co_j.x+31,this.co_j.y)>=20)&&(this.co_j.y=32*vi(this.co_j.y,5)+32),this.co_j.c>=100&&this.co_j.c<200&&(this.co_j.x>this.nkscroll_view_x+this.gg.di.width-32&&(this.co_j.x=this.nkscroll_view_x+this.gg.di.width-32),this.co_j.x<this.nkscroll_view_x&&(this.co_j.x=this.nkscroll_view_x),this.co_j.y>this.nkscroll_view_y+this.gg.di.height-32&&(this.co_j.y=this.nkscroll_view_y+this.gg.di.height-32),this.co_j.y<this.nkscroll_view_y&&(this.co_j.y=this.nkscroll_view_y)),this.co_j.wy=this.co_j.y-this.maps.wy;for(var B=0;B<=31;B++)this.mu_ato_y[B]+=this.co_j.y-I;(I=this.mu_ato_p-7)<0&&(I+=32),this.co_mu[0].x=this.mu_ato_x[I],this.co_mu[0].y=this.mu_ato_y[I],(I=this.mu_ato_p-14)<0&&(I+=32),this.co_mu[1].x=this.mu_ato_x[I],this.co_mu[1].y=this.mu_ato_y[I];var G=this.maps.getBGCode(this.co_j.x,this.co_j.y),z=this.maps.getBGCode(this.co_j.x+31,this.co_j.y);(G>=18||z>=18)&&this.co_j.c>=100&&this.co_j.c<200&&this.jShinu(5)}if(this.maps.wx=this.nkscroll_view_x,this.maps.wy=this.nkscroll_view_y,this.co_j.c>=100&&this.co_j.c<200&&this.co_j.y<this.maps.wy-16){this.co_j.y=this.maps.wy-16,this.co_j.vy<0&&(this.co_j.vy=0);var P=this.maps.getBGCode(this.co_j.x+15,this.co_j.y),N=this.maps.getBGCode(this.co_j.x+15,this.co_j.y+31);(P>=18||N>=18)&&this.jShinu(5)}14==this.j_tokugi&&300!=this.co_j.c&&310!=this.co_j.c&&this.co_j.c>=100&&this.co_j.c<200&&(this.co_j.x>this.nkscroll_view_x+this.gg.di.width-32&&(this.co_j.x=this.nkscroll_view_x+this.gg.di.width-32),this.co_j.x<this.nkscroll_view_x&&(this.co_j.x=this.nkscroll_view_x),this.co_j.y>this.nkscroll_view_y+this.gg.di.height-32&&(this.co_j.y=this.nkscroll_view_y+this.gg.di.height-32),this.co_j.y<this.nkscroll_view_y&&(this.co_j.y=this.nkscroll_view_y)),this.co_j.c>=100&&this.co_j.c<200&&this.co_j.y>=this.maps.wy+this.gg.di.height&&this.jShinu(5)}this.jm_kazu>0&&this.jmMove(),this.tMove(),this.co_b.c>0&&this.bMove(),this.m_kazu>0&&this.mMove(),this.time_max>0&&this.stage_cc<=0&&(this.time-=70,this.time<0&&(this.time=0,this.j_left--,this.j_left<0?(this.j_left=0,this.ml_mode=300):this.ml_mode=90)),this.stage_cc>0&&(this.stage_cc++,this.stage_cc>28&&(this.time_max>0&&this.addScore(Math.floor(this.time/1e3)),2==this.stage_select?this.stage>=4?this.ml_mode=400:this.ml_mode=260:this.stage>=this.stage_max?this.ml_mode=400:(this.stage++,this.ml_mode=90))),4!=this.system_draw_mode&&(this.draw_lock_f=!0,this.drawGamescreen(),this.draw_lock_f=!1),this.dso_cf=!1,4!=this.system_draw_mode&&this.drawScore(),this.gs.rsPlay(),4!=this.system_draw_mode&&this.drawItem(),84==this.gk.key_code&&(this.gk.key_code=0,this.ml_mode=50,this.gg.drawListImage(0,0,0),(this.score>0||this.highscore>0)&&this.drawScore()),2==this.pause_switch&&80==this.gk.key_code&&(this.gk.key_code=0,this.ml_mode=110,this.ml_mode_c=0),100!=this.ml_mode&&(300==this.ml_mode?(this.gg.setBackcolor(A.black),this.gg.fill(),this.gg.drawListImage(0,0,2),this.drawScore()):400==this.ml_mode?(this.gg.drawListImage(0,0,1),this.drawScore()):250!=this.ml_mode&&260!=this.ml_mode||(this.hg.setColor(A.black),this.hg.fillRect(0,0,this.gg.di.width,this.gg.di.height),this.drawScore()))}},{key:"mainLoop",value:function(){var t=this;this.gk.left_right_lock=!1;var i=function(){t.hg.setColor(A.black),t.hg.fillRect(0,0,t.gg.di.width,t.gg.di.height)},s=function(){t.gg.drawListImage(0,0,0),(t.score>0||t.highscore>0)&&t.drawScore()},h=function(){t.gg.setBackcolor(A.black),t.gg.fill(),t.gg.drawListImage(0,0,2),t.drawScore()},e=function(){84==t.gk.key_code&&(t.gk.key_code=0,t.ml_mode=50)},a=function(){t.stage>=1&&t.stage<=4&&t.gs.playBGM(t.stage-1)};switch(this.ml_mode){default:break;case 50:if(this.draw_lock_f=!1,this.start_game_f){if(this.gs.play(0),this.start_game_f=!1,2==this.stage_select){this.init2(),this.ig.worldInit(),i(),this.ml_mode=200,this.gs.playBGM(7);break}this.init2(),this.init3(),s(),this.j_left<=0&&this.stage_max<=1?this.ml_mode=100:this.ml_mode=90,a();break}this.gs.playBGM(5),s(),this.stage=1,this.gm.button_f||this.gk.tr1_f||this.gk.tr2_f||(this.ml_mode=60,this.g_c1=0,this.sendHighscore());break;case 60:if(s(),0==this.g_c1?this.gk.key_char=="v".toUpperCase().charCodeAt(0)&&(this.g_c1=1):1==this.g_c1?this.gk.key_char=="e".toUpperCase().charCodeAt(0)?this.g_c1=2:this.gk.key_char!="v".toUpperCase().charCodeAt(0)&&(this.g_c1=0):2==this.g_c1&&(this.gk.key_char=="r".toUpperCase().charCodeAt(0)?this.ml_mode=1e3:this.gk.key_char!="e".toUpperCase().charCodeAt(0)&&(this.g_c1=0)),this.title_lock_f&&!this.start_game_f||(!this.gm.button_f||this.gm.click_x>=this.gg.di.width||this.gm.click_y>=this.gg.di.height)&&!this.gk.tr1_f&&!this.gk.tr2_f&&!this.start_game_f)break;if(this.gs.play(0),this.start_game_f=!1,2==this.stage_select){this.init2(),this.ig.worldInit(),i(),this.ml_mode=200,this.gs.playBGM(7);break}this.init2(),this.ml_mode=100,this.init3(),s(),this.j_left<=0&&this.stage_max<=1?this.ml_mode=100:this.ml_mode=90,a();break;case 80:this.init2(),this.ml_mode=100,this.init3(),s(),this.j_left<=0?this.ml_mode=100:this.ml_mode=90,a();break;case 90:this.dso_cf=!0,this.init3(),0==this.mode_wait_stagestart&&(this.ml_mode=100),function(){t.hg.setColor(t.gamecolor_kaishi),t.hg.fillRect(0,0,t.gg.di.width,t.gg.di.height);var i=li(t.gg.di.width/2)-64,s=li(t.gg.di.height/2)-16;if(t.stage>=t.stage_max)for(var h=0;h<6;h++)t.gg.drawPT(i-32+32*h,s,52+h,0);else{for(var e=0;e<3;e++)t.gg.drawPT(i+32*e,s,70+e,0);t.stage>=t.stage_max&&t.gg.drawPT(i+96,s,75,0),3==t.stage?t.gg.drawPT(i+96,s,75,0):2==t.stage?t.gg.drawPT(i+96,s,74,0):t.gg.drawPT(i+96,s,73,0)}t.drawScore()}(),this.ml_mode=91,this.ml_mode_c=0,a();break;case 91:this.ml_mode_c++,this.ml_mode_c>this.mode_wait_stagestart&&(this.ml_mode=100),e();break;case 95:switch(this.stage=this.ig.checkStage(),this.init3(),this.ig.shop_kattaitem){case 7:default:break;case 0:this.j_gr_kazu=3;break;case 1:this.j_jet_fuel=80;break;case 2:this.j_drell_f=!0;break;case 3:this.j_helm_f=!0;break;case 4:this.j_tail_f=!0;break;case 5:this.j_v_c=150,this.j_v_kakudo=0;break;case 6:this.j_fire_f=!0;break;case 8:this.time_max>0&&(this.time+=3e4)}i(),this.drawScore(),this.ml_mode=96,this.ml_mode_c=0,a();break;case 96:this.ml_mode_c++,this.ml_mode_c>8&&(this.ml_mode=100),i(),this.drawScore(),e();break;case 110:this.ml_mode_c<8&&this.ml_mode_c++,1==this.ml_mode_c&&(this.hg.setColor(new A(0,0,0,160)),this.hg.fillRect(0,0,this.gg.di.width,this.gg.di.height),this.drawItem(),this.drawScore(),this.hg.setColor(A.white),this.hg.setFont(new P(P.DIALOG,1,32)),this.hg.drawString("PAUSE",li(this.gg.di.width/2)-56,li(this.gg.di.height/2)-16)),80==this.gk.key_code&&this.ml_mode_c>=8&&(this.gk.key_code=0,this.ml_mode=100,this.gk.init()),e();break;case 200:this.ig.drawMap(),this.ig.mainProgram(),this.time=0,this.drawScore2(),110==this.ig.mp_mode&&(this.ig.dokan_khID>=1?this.ml_mode=230:this.ml_mode=95),e();break;case 230:i(),this.drawScore2(),this.ml_mode=231,this.ml_mode_c=0,this.gs.stopBGM();break;case 231:var c;i(),this.drawScore2(),this.ml_mode_c++,5==this.ml_mode_c?(c=2==this.ig.dokan_khID?this.tdb.getValue("url2"):3==this.ig.dokan_khID?this.tdb.getValue("url3"):4==this.ig.dokan_khID?this.tdb.getValue("url4"):this.tdb.getValue("url1"),location.href=c):this.ml_mode_c>80&&(this.ml_mode=50),e();break;case 250:this.addScore(0),this.ig.worldInit2(),this.ml_mode=251,this.ml_mode_c=0,i(),this.drawScore(),this.gs.playBGM(7);break;case 251:case 261:this.ml_mode_c++,this.ml_mode_c>8&&(this.ml_mode=200),i(),this.drawScore(),e();break;case 260:this.addScore(0),this.ig.worldInit3(),this.ml_mode=261,this.ml_mode_c=0,i(),this.drawScore(),this.gs.playBGM(7);break;case 300:0==this.mode_wait_gameover?(this.gk.key_code=0,this.ml_mode=50):(h(),this.ml_mode=310,this.ml_mode_c=0,this.gs.play(1),this.gs.stopBGM(),this.sendHighscore());break;case 310:if(h(),this.ml_mode_c++,this.ml_mode_c>this.mode_wait_gameover&&(this.ml_mode=50,this.gk.key_code=0,s()),84!=this.gk.key_code)break;this.gk.key_code=0,this.ml_mode=50,s();break;case 400:if(0==this.mode_wait_ending){this.gk.key_code=0,this.ml_mode=50;break}this.gg.drawListImage(0,0,1),this.drawScore(),this.gs.playBGM(6),this.sendHighscore(),this.ml_mode=410,this.ml_mode_c=0;break;case 410:if(this.ml_mode_c++,this.ml_mode_c>this.mode_wait_ending&&(this.ml_mode=50,s(),this.gk.key_code=0),84!=this.gk.key_code)break;this.gk.key_code=0,this.ml_mode=50,s();break;case 500:this.gg.setBackcolor(A.black),this.gg.fill(),s(),this.ml_mode=50;break;case 1e3:this.gg.setBackcolor(A.black),this.gg.fill(),this.ml_mode=1010,this.ml_mode_c=0;break;case 1010:this.gg.setBackcolor(A.black),this.gg.fill(),this.hg.setFont(new P(P.DIALOG,0,46)),this.hg.setColor(A.white),this.hg.setFont(new P(P.DIALOG,0,20)),["Title    MASAO CONSTRUCTION FX","Version    Update 16 Build 62","Language   Java2 SDK 1.6.0 Update 16","OS      Windows Vista","Browser    InternetExplorer 8.0","Programing   Fukuda Naoto","Date     2011/5"].forEach((function(i,s){t.hg.drawString(i,50+li((t.gg.di.width-512)/2),50+30*s+li((t.gg.di.height-320)/2))})),this.ml_mode_c++,this.ml_mode_c>40&&(this.ml_mode=50)}}},{key:"init1",value:function(){var t=this,i=function(i,s,h,e){var a=[i,s,h].map((function(i){var s=t.tdb.getValueInt(i);return s<0?s=0:s>255&&(s=255),s}));t[e]=new A(a[0],a[1],a[2])};this.mode_wait_ending=120,this.mode_wait_gameover=45,this.mode_wait_stagestart=35,this.j_hp_v=!1,this.j_hp=1,this.j_hp_max=1,this.j_hp_moji="HP",this.j_fire_range=9999,this.time_max=this.tdb.getValueInt("time_max");var s=this.tdb.getValueInt("score_v");this.score_v=2!=s,["","_s","_t","_f"].forEach((function(t){i("backcolor_red".concat(t),"backcolor_green".concat(t),"backcolor_blue".concat(t),ki("gamecolor_back",t))})),["kaishi","mizunohadou","message_back","message_border","message_name","message_text","gauge_border"].forEach((function(t){i("".concat(t,"_red"),"".concat(t,"_green"),"".concat(t,"_blue"),ki("gamecolor_",t))})),i("scorecolor_red","scorecolor_green","scorecolor_blue","gamecolor_score"),["grenade","firebar","gauge_back"].forEach((function(t){[1,2].forEach((function(s){i("".concat(t,"_red").concat(s),"".concat(t,"_green").concat(s),"".concat(t,"_blue").concat(s),ki("gamecolor_",t,s))}))})),["score","highscore","jet","grenade"].forEach((function(i){t[ki("moji_",i)]=t.tdb.getValue(ki("moji_",i))})),this.moji_time="    ".concat(this.tdb.getValue("moji_time")," "),this.moji_left="    ".concat(this.tdb.getValue("moji_left")," "),this.moji_size=this.tdb.getValueInt("moji_size"),this.moji_size<10?this.moji_size=10:this.moji_size>30&&(this.moji_size=30),this.j_left_shoki=this.tdb.getValueInt("jibun_left_shoki"),this.j_left_shoki<1&&(this.j_left_shoki=1),this.j_left_shoki--,this.stage_max=this.tdb.getValueInt("stage_max"),this.stage_max<1?this.stage_max=1:this.stage_max>4&&(this.stage_max=4),2==this.stage_select&&(this.stage_max=4),this.stage_kaishi=this.tdb.getValueInt("stage_kaishi"),this.stage_kaishi<1&&(this.stage_kaishi=1),this.stage_kaishi>this.stage_max&&(this.stage_kaishi=this.stage_max),[1,2].forEach((function(i){var s=ki("score_1up_",i,"_para");t[s]=t.tdb.getValueInt(ki("score_1up_",i)),t[s]<0&&(t[s]=0),t.stage_max<=1&&t.j_left_shoki<=0&&(t[s]=0)})),this.default_j_tail_type=this.tdb.getValueInt("j_tail_type"),(this.default_j_tail_type<1||this.default_j_tail_type>3)&&(this.default_j_tail_type=1),this.j_tail_type=this.default_j_tail_type,this.default_j_fire_type=this.tdb.getValueInt("j_fire_type"),(this.default_j_fire_type<1||this.default_j_fire_type>4)&&(this.default_j_fire_type=1),this.j_fire_type=this.default_j_fire_type;var h=this.tdb.getValueInt("j_tail_hf");this.j_tail_hf=2==h,this.grenade_type=this.tdb.getValueInt("grenade_type"),(this.grenade_type<1||this.grenade_type>9)&&(this.grenade_type=1),this.boss_destroy_type=this.tdb.getValueInt("boss_destroy_type"),2!=this.boss_destroy_type&&(this.boss_destroy_type=1),this.j_tail_ap_boss=this.tdb.getValueInt("j_tail_ap_boss"),this.j_tail_ap_boss<0&&(this.j_tail_ap_boss=4),this.suberuyuka_hkf=this.tdb.getValueInt("suberuyuka_hkf"),2==this.suberuyuka_hkf?this.suberuyuka_hkf=2:this.suberuyuka_hkf=1,h=this.tdb.getValueInt("j_fire_mkf"),this.j_fire_mkf=2==h,h=this.tdb.getValueInt("j_tokugi"),this.j_tokugi=h>=1&&h<=19?h:1,["","2","3","4"].forEach((function(i){var s=ki("j_add_tokugi",i),h=t.tdb.getValueInt(s);t[s]=h>=1?h:0})),h=this.tdb.getValueInt("dengeki_mkf"),this.dengeki_mkf=h>=1&&h<=5?h:1,h=this.tdb.getValueInt("yachamo_kf"),this.yachamo_attack=h>=1&&h<=9?h:1,h=this.tdb.getValueInt("mizutaro_attack"),this.mizutaro_attack=h>=1&&h<=5?h:1,h=this.tdb.getValueInt("poppie_attack"),this.poppie_attack=h>=1&&h<=5?h:1,h=this.tdb.getValueInt("mariri_attack"),this.mariri_attack=h>=1&&h<=5?h:1,h=this.tdb.getValueInt("chikorin_attack"),this.chikorin_attack=h>=1&&h<=9?h:1,h=this.tdb.getValueInt("airms_kf"),this.airms_kf=h>=1&&h<=5?h:1,h=this.tdb.getValueInt("taiking_attack"),this.taiking_attack=h>=1&&h<=5?h:1,h=this.tdb.getValueInt("kuragesso_attack"),this.kuragesso_attack=h>=1&&h<=5?h:1,["ugokuyuka1","ugokuyuka2","ugokuyuka3","firebar1","firebar2","dossunsun","coin1","coin3","dokan1","dokan2","dokan3","dokan4"].forEach((function(i){var s=ki(i,"_type");t[s]=t.tdb.getValueInt(s),(t[s]<1||t[s]>1249)&&(t[s]=1)})),this.pause_switch=this.tdb.getValueInt("pause_switch"),2!=this.pause_switch&&(this.pause_switch=1),this.control_parts_visible=this.tdb.getValueInt("control_parts_visible"),2!=this.control_parts_visible&&(this.control_parts_visible=1),this.boss_type=this.tdb.getValueInt("boss_type"),(this.boss_type<1||this.boss_type>5)&&(this.boss_type=1),this.boss2_type=this.tdb.getValueInt("boss2_type"),(this.boss2_type<1||this.boss2_type>8)&&(this.boss2_type=1),this.boss3_type=this.tdb.getValueInt("boss3_type"),(this.boss3_type<1||this.boss3_type>8)&&(this.boss3_type=1),this.gazou_scroll=this.tdb.getValueInt("gazou_scroll"),(this.gazou_scroll<2||this.gazou_scroll>11)&&(this.gazou_scroll=1),["gazou_scroll_speed_x","gazou_scroll_speed_y","second_gazou_scroll_speed_x","second_gazou_scroll_speed_y"].forEach((function(i){t[i]=t.tdb.getValueInt(i),t[i]<-32?t[i]=-32:t[i]>32&&(t[i]=32)})),this.gazou_scroll_x=this.tdb.getValueInt("gazou_scroll_x"),this.gazou_scroll_x<0&&(this.gazou_scroll_x=0),this.gazou_scroll_y=this.tdb.getValueInt("gazou_scroll_y"),this.gazou_scroll_y<0&&(this.gazou_scroll_y=0),this.mcs_haikei_visible=this.tdb.getValueInt("mcs_haikei_visible"),1!=this.mcs_haikei_visible&&(this.mcs_haikei_visible=0),this.easy_mode=this.tdb.getValueInt("easy_mode"),2!=this.easy_mode&&(this.easy_mode=1),this.dokan_mode=this.tdb.getValueInt("dokan_mode"),(this.dokan_mode<1||this.dokan_mode>2)&&(this.dokan_mode=1),1==this.gg.mode&&(this.dokan_mode=2),this.mes1_name=this.tdb.getValue("mes1_name"),this.mes2_name=this.tdb.getValue("mes2_name"),this.shop_name=this.tdb.getValue("shop_name"),this.setumei_name=this.tdb.getValue("setumei_name"),this.door_score=this.tdb.getValueInt("door_score"),this.door_score<10&&(this.door_score=10),[1,2,3,4,5,6,7,8,9].forEach((function(i){t.shop_item_name[i-1]=t.tdb.getValue(ki("shop_item_name",i));var s=t.tdb.getValueInt(ki("shop_item_teika",i));s<0&&(s=0),t.shop_item_teika[i-1]=s})),this.scroll_area=this.tdb.getValueInt("scroll_area"),(this.scroll_area<1||this.scroll_area>5)&&(this.scroll_area=1),this.clear_type=this.tdb.getValueInt("clear_type"),(this.clear_type<1||this.clear_type>3)&&(this.clear_type=1),this.second_gazou_img=null;for(var e=0;e<=3;e++)this.second_gazou_stage_img[e]=null;this.second_gazou_visible=!1,2!=this.gg.layer_mode&&1!=this.tdb.getValueInt("mcs_haikei_visible")||2!=this.tdb.getValueInt("second_gazou_visible")||(this.second_gazou_visible=!0,this.second_gazou_stage_img[0]=this.gg.loadImage(this.tdb.getValue("filename_second_haikei")),(2==this.stage_select||this.stage_max>=2)&&[2,3,4].forEach((function(i){t.second_gazou_stage_img[i-1]=t.gg.loadImage(t.tdb.getValue(ki("filename_second_haikei",i)))}))),this.second_gazou_scroll=this.tdb.getValueInt("second_gazou_scroll"),(this.second_gazou_scroll<1||this.second_gazou_scroll>8)&&(this.second_gazou_scroll=1),this.second_gazou_scroll_x=this.tdb.getValueInt("second_gazou_scroll_x"),this.second_gazou_scroll_y=this.tdb.getValueInt("second_gazou_scroll_y"),this.second_gazou_priority=this.tdb.getValueInt("second_gazou_priority"),(this.second_gazou_priority<1||this.second_gazou_priority>2)&&(this.second_gazou_priority=1),this.water_visible=this.tdb.getValueInt("water_visible"),2!=this.water_visible&&(this.water_visible=1)}},{key:"init2",value:function(){this.score>this.highscore&&(this.highscore=this.score),this.j_left=this.j_left_shoki,this.score_1up_1=this.score_1up_1_para,this.score_1up_2=this.score_1up_2_para;for(var t=0;t<=2;t++)this.stage_1up_f[t]=!0;this.cpoint_con=0,this.cpoint_stage=0,this.cpoint_x=32,this.cpoint_y=320,this.gk.key_code=0,this.score=0,this.stage=this.stage_kaishi,this.time_max>0?this.time=1e3*this.time_max+1e3-70:this.time=0,this.gs.rsInit()}},{key:"init3",value:function(){var t,i=this;switch(this.g_c1=0,this.g_c2=0,this.g_c3=0,this.g_ac=0,this.g_ac2=0,this.stage_cc=0,this.co_j.init(),this.co_j.c=100,this.co_j.x=100,this.co_j.y=100,this.co_j.pt=100,this.co_j.muki=1,this.co_j.jimen_f=!1,this.j_hashiru_f=!1,this.j_jump_level=0,this.j_jump_type=0,this.j_shitakara_mushi_y=-1,this.j_hashigo_f=!1,this.j_hashigo_mushi_x=-1,this.j_a_id=-1,this.tr1_c=6,this.gk.tr1_c=6,this.tr2_c=0,this.gk.left_c=0,this.gk.right_c=0,this.left_dcc=0,this.right_dcc=0,this.xkey_c=0,this.ochiru_y=9999,this.j_fire_f=!1,this.j_v_c=0,this.j_v_kakudo=0,this.j_jet_c=0,this.j_jet_kf=!1,this.j_jet_fuel=0,this.j_helm_f=!1,this.j_drell_f=!1,this.j_tail_f=!1,this.j_tail_ac=0,this.j_gr_kazu=0,this.j_rope_id=0,this.j_rope_r=32,this.j_rope_cf=!1,this.j_cannon_c=0,this.j_cannon_type=0,this.saka_mushi_y=-1,this.maps.gazou_x=0,this.maps.gazou_y=0,this.maps.second_gazou_x=0,this.maps.second_gazou_y=0,this.stage_haikei=this.stage,this.second_gazou_img=this.second_gazou_stage_img[this.stage-1],this.j_djump_kf=!0,this.coin_kazu=100,this.dkey_count[0]=0,this.dkey_count[1]=0,this.j_mizu_f=!1,this.j_mizu_ac=0,this.j_mizu_awa_c=0,this.j_jdai_f=!1,this.j_double_f=!1,this.j_hp=this.j_hp_max,this.j_muteki_c=0,this.j_4_muki=1,this.j_speed=80,this.boss_hp_max=this.tdb.getValueInt("boss_hp_max"),this.boss_hp_max<1&&(this.boss_hp_max=1),this.boss_hp=this.boss_hp_max,this.tpika_p=0,this.hitokoto_c=-1,this.hitokoto_num=1,this.j_tail_hf&&(this.j_tail_f=!0),2==this.tdb.getValueInt("j_fire_equip")&&(this.j_fire_f=!0),this.j_fire_type=this.default_j_fire_type,14==this.j_tokugi&&(this.j_fire_f=!0),this.j_fire_range=9999,15==this.j_tokugi&&(this.j_fire_range=9),3!=this.j_fire_type&&4!=this.j_fire_type||(this.j_fire_range=10),17==this.j_tokugi&&(this.j_hp_max=3,this.j_hp=this.j_hp_max,this.showMyHP("HP")),this.j_enemy_press=this.tdb.getValueInt("j_enemy_press"),(this.j_enemy_press<1||this.j_enemy_press>3)&&(this.j_enemy_press=1),this.view_move_type=this.tdb.getValueInt("view_move_type"),(this.view_move_type<1||this.view_move_type>3)&&(this.view_move_type=1),2==this.view_move_type&&(this.co_j.muki=0),this.jst_slow_down=0,this.jst_key_down=0,this.jst_fast_run_attack=0,this.jst_fly_left_right=0,this.jst_fire_xkey_only=0,this.jst_kabe_kick=0,this.jst_double_jump=0,this.jst_fast_run=0,this.jst_high_sjump=0,this.jst_jump_level_fix=0,this.jst_auto_right=0,this.gk.left_right_lock=!1,this.jst_syouryuuken=0,this.jst_pc_attack=0,this.up_key_c=0,this.down_key_c=0,this.j_tokugi){case 2:this.jst_slow_down=1;break;case 3:this.jst_key_down=1;break;case 4:this.jst_fast_run_attack=1;break;case 5:this.jst_fly_left_right=1;break;case 6:this.jst_kabe_kick=1;break;case 7:this.j_fire_type=2,this.j_fire_range=9999,this.jst_fire_xkey_only=1;break;case 8:this.jst_double_jump=1;break;case 9:this.jst_fast_run=1;break;case 11:this.jst_high_sjump=1;break;case 13:this.jst_fast_run=2;break;case 16:this.jst_kabe_kick=2;break;case 18:this.jst_auto_right=1,this.gk.left_right_lock=!0;break;case 19:this.jst_auto_right=2,this.gk.left_right_lock=!0}this.j_tail_type=this.default_j_tail_type,["","2","3","4"].forEach((function(t){var s=ki("j_add_tokugi",t);i[s]>=2&&i.addMyTokugi(i[s])}));for(var s=0;s<=5;s++)this.j_zan_x[s]=0,this.j_zan_y[s]=0,this.j_zan_pt[s]=0,this.j_zan_pth[s]=0,this.j_zan_img[s]=null,this.j_zan_zs_x[s]=0,this.j_zan_zs_y[s]=0;this.j_zan_p=0,this.j_zan_c=0,this.j_zan_nagasa=0,this.j_zan_f=!1,this.j_zan_cf=!1,this.spot_c=0,this.spot_r=160,this.spot_r_mokuhyou=160,this.km.initAll(),this.km.mode=100;for(var h=0;h<=1;h++)this.co_mu[h].init();for(var a=0;a<=31;a++)this.mu_ato_x[a]=this.co_j.x,this.mu_ato_y[a]=this.co_j.y;this.mu_ato_p=0,this.mhouse_c=0,this.mhouse_x=0,this.mhouse_y=0,this.souko_count1=0,this.souko_count2=0,this.souko_count3=0,this.yuka_ride_id=-1,this.yo=[],this.sl_step=0,this.sl_speed=0,this.sl_wx=0,this.sl_wy=0,this.showm_c=0;for(var c=0;c<=3;c++)this.showm_data[c]=null;this.showi_c=0,this.showi_x=0,this.showi_y=0,this.showi_img=null,this.showr_c=0,this.showo_c=0,this.setmapc_f=!1,this.setbacki_f=!1,this.setmyw_w=-1,this.setmyw_pt=100,this.setmyw_muki=1,this.attacktail_yf=!0,this.gauge_v=!1,2==(t=2==this.stage?this.tdb.getValueInt("scroll_mode_s"):3==this.stage?this.tdb.getValueInt("scroll_mode_t"):4==this.stage?this.tdb.getValueInt("scroll_mode_f"):this.tdb.getValueInt("scroll_mode"))?(this.sl_step=10,this.ks_wx=32,this.ks_wy=32*(this.mapHeight-li((this.gg.di.height-320)/32)),this.sl_speed=2):3==t&&(this.sl_step=10,this.ks_wx=32,this.ks_wy=32*(this.mapHeight-li((this.gg.di.height-320)/32)),this.sl_speed=4),this.nkscroll_con=0,this.nkscroll_view_x=0,this.nkscroll_view_y=0,this.nkscroll_speed_x=2,this.nkscroll_vx=0,this.nkscroll_vy=0,this.nkscroll_zsc=!1,this.co_a=[new e],this.vo_x=[[0,0,0,0]],this.vo_y=[[0,0,0,0]],this.a_hf=!1,this.co_t=[],this.co_b.init(),this.boss_kijyun_y=0,this.boss_attack_mode=!1;for(var o=0;o<=79;o++)this.co_m[o].init();this.m_kazu=0;for(var _=0;_<=8;_++)this.co_jm[_].init();this.jm_kazu=0;for(var r=0;r<=79;r++)this.co_h[r].init();this.time_max>0?this.time=1e3*this.time_max+1e3-70:this.time=0,this.ana_kazu=0;for(var n=0;n<=11;n++)this.ana_c[n]=0;if(this.mapsMakeStageData(100+this.stage),100==this.cpoint_con)if(this.stage==this.cpoint_stage){this.co_j.x=this.cpoint_x,this.co_j.y=this.cpoint_y;for(var m=0;m<=this.a_kazu;m++)3400==this.co_a[m].c&&this.co_a[m].x==this.cpoint_x&&this.co_a[m].y==this.cpoint_y&&(this.co_a[m].c=0);this.hDelete(vi(this.co_j.x,5),vi(this.co_j.y,5)+1,4100),this.maps.wx=this.co_j.x-(2===this.view_move_type?this.maps.my_wx_max:this.maps.my_wx_mini),this.maps.wy=this.co_j.y-this.maps.my_wy_max}else this.cpoint_con=0;if(10!=this.sl_step&&11!=this.sl_step||(this.ks_wx=this.maps.wx,this.ks_wx<=128&&(this.ks_wx=32)),2==this.scroll_area){this.maps.wx_max=32,this.maps.wy_mini=32*(this.mapHeight-li((this.gg.di.height-this.maps.wy_mini)/32));for(var g=0;g<=this.maps.height-1;g++)this.maps.map_bg[li(this.gg.di.width/32)+1][g]=21}else if(3==this.scroll_area){this.maps.wx_max=this.gg.di.width+32,this.maps.wy_mini=32*(this.mapHeight-li((this.gg.di.height-this.maps.wy_mini)/32));for(var p=0;p<=this.maps.height-1;p++)this.maps.map_bg[li(2*this.gg.di.width/32)+1][p]=21}else if(4==this.scroll_area){this.maps.wx_max=32,this.maps.wy_mini=32*(this.mapHeight-10);for(var y=0;y<=this.maps.height-1;y++)this.maps.map_bg[li(this.gg.di.width/32)+1][y]=21}else if(5==this.scroll_area){this.maps.wx_max=this.gg.di.width+32,this.maps.wy_mini=32*(this.mapHeight-10);for(var u=0;u<=this.maps.height-1;u++)this.maps.map_bg[li(2*this.gg.di.width/32)+1][u]=21}if(15==this.j_tokugi)if(this.scroll_area>=2&&this.scroll_area<=5)for(var d=1;d<this.maps.width;d++)this.maps.map_bg[d][19]=21;else for(var j=1;j<this.maps.width;j++)this.maps.map_bg[j][40]=21;if(2==this.gg.layer_mode||1==this.mcs_haikei_visible?this.maps.drawMapLayer(this.maps.wx,this.maps.wy,this.g_ac2,this.gazou_scroll,1):this.maps.drawMap(this.maps.wx,this.maps.wy),this.gs.rsInit(),2==this.clear_type||3==this.clear_type){var f=this.coin_kazu;this.getCoinTotal(),f>0&&0==this.coin_kazu&&(this.gs.rsAddSound(7),3==this.clear_type&&this.showHashigo())}t:for(var l=10;l<=this.mapHeight+9;l++)for(var v=1;;){if(v>this.mapWidth)continue t;if(28==this.maps.map_bg[v][l]){this.mhouse_c=100,this.mhouse_x=v,this.mhouse_y=l;continue t}v++}this.js_mes=1}},{key:"mapsMakeStageData",value:function(t){var i,s,h,e,a,c;a="0123456789abcdef",c="0123456789ABCDEF";var o,_,r,n,m=this.tdb.options["advanced-map"],g=null,p=void 0,y=void 0;if(m){g=m.stages[t-101],this.mapWidth=g.size.x,this.mapHeight=g.size.y;var u,d=function(t,i){var s="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!s){if(Array.isArray(t)||(s=Ut(t))){s&&(t=s);var h=0,e=function(){};return{s:e,n:function(){return h>=t.length?{done:!0}:{done:!1,value:t[h++]}},e:function(t){throw t},f:e}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,c=!0,o=!1;return{s:function(){s=s.call(t)},n:function(){var t=s.next();return c=t.done,t},e:function(t){o=!0,a=t},f:function(){try{c||null==s.return||s.return()}finally{if(o)throw a}}}}(g.layers);try{for(d.s();!(u=d.n()).done;){var j=u.value;"main"===j.type?p=j:"mapchip"===j.type&&(y=j)}}catch(t){d.e(t)}finally{d.f()}null!=m.customParts&&(this.customParts=this.readCustomParts(m.customParts))}else this.mapWidth=180,this.mapHeight=30;this.maps=new wt(this.mapWidth+20,this.mapHeight+70,this.gg,this),this.maps.init(),this.map_data_option=fi(this.mapWidth+20,this.mapHeight+70);for(var f=0;f<this.mapHeight+70;f++)for(var l=0;l<this.mapWidth+20;l++)this.map_data_option[l][f]=!1;if(s=this.maps.map_string,h=this.maps.map_string_layer,this.maps.wx=32,this.maps.wy=32,this.maps.wx_mini=32,this.maps.wy_mini=320,this.maps.wx_max=32*(this.mapWidth-li((this.gg.di.width-this.maps.wx_mini)/32)),this.maps.wy_max=32*(this.mapHeight-li((this.gg.di.height-this.maps.wy_mini)/32)),1===this.gg.system_screen_size){if(this.scroll_area>=2&&this.scroll_area<=5||14==this.j_tokugi||15==this.j_tokugi||3===this.view_move_type)this.maps.my_wx_mini=212,this.maps.my_wx_max=this.gg.di.width-this.maps.my_wx_mini-32,this.maps.my_wy_mini=148;else{if(this.maps.my_wx_mini=132,this.maps.my_wx_max=252,2===this.view_move_type){var v=this.maps.my_wx_mini;this.maps.my_wx_mini=this.maps.my_wx_max+32,this.maps.my_wx_max=this.gg.di.width-v-32}this.maps.my_wy_mini=116}this.maps.my_wy_max=300}else if(2===this.gg.system_screen_size){if(this.scroll_area>=2&&this.scroll_area<=5||14==this.j_tokugi||15==this.j_tokugi||3===this.view_move_type)this.maps.my_wx_mini=176,this.maps.my_wx_max=this.gg.di.width-this.maps.my_wx_mini-32,this.maps.my_wy_mini=112;else{if(this.maps.my_wx_mini=96,this.maps.my_wx_max=224,2===this.view_move_type){var x=this.maps.my_wx_mini;this.maps.my_wx_mini=this.maps.my_wx_max+32,this.maps.my_wx_max=this.gg.di.width-x-32}this.maps.my_wy_mini=78}this.maps.my_wy_max=176}if(e=this.mapWidth+19,this.gg.setBackcolor(A.blue),!m)switch(t){default:break;case 101:for(var k=0;k<this.mapHeight;k++){var w=".".concat(this.tdb.getValue("map0-".concat(k)));if(w+=this.tdb.getValue("map1-".concat(k)),w+=this.tdb.getValue("map2-".concat(k)),s[k+10]=w,2==this.gg.layer_mode){var b="00".concat(this.tdb.getValue("layer0-".concat(k)));b+=this.tdb.getValue("layer1-".concat(k)),b+=this.tdb.getValue("layer2-".concat(k)),h[k+10]=b}}break;case 102:for(var S=0;S<this.mapHeight;S++){var M=".".concat(this.tdb.getValue("map0-".concat(S,"-s")));if(M+=this.tdb.getValue("map1-".concat(S,"-s")),M+=this.tdb.getValue("map2-".concat(S,"-s")),s[S+10]=M,2==this.gg.layer_mode){var C="00".concat(this.tdb.getValue("layer0-".concat(S,"-s")));C+=this.tdb.getValue("layer1-".concat(S,"-s")),C+=this.tdb.getValue("layer2-".concat(S,"-s")),h[S+10]=C}}break;case 103:for(var I=0;I<this.mapHeight;I++){var B=".".concat(this.tdb.getValue("map0-".concat(I,"-t")));if(B+=this.tdb.getValue("map1-".concat(I,"-t")),B+=this.tdb.getValue("map2-".concat(I,"-t")),s[I+10]=B,2==this.gg.layer_mode){var G="00".concat(this.tdb.getValue("layer0-".concat(I,"-t")));G+=this.tdb.getValue("layer1-".concat(I,"-t")),G+=this.tdb.getValue("layer2-".concat(I,"-t")),h[I+10]=G}}break;case 104:for(var z=0;z<this.mapHeight;z++){var P=".".concat(this.tdb.getValue("map0-".concat(z,"-f")));if(P+=this.tdb.getValue("map1-".concat(z,"-f")),P+=this.tdb.getValue("map2-".concat(z,"-f")),s[z+10]=P,2==this.gg.layer_mode){var N="00".concat(this.tdb.getValue("layer0-".concat(z,"-f")));N+=this.tdb.getValue("layer1-".concat(z,"-f")),N+=this.tdb.getValue("layer2-".concat(z,"-f")),h[z+10]=N}}}for(this.maps.setBank(0),101==t?this.gg.setBackcolor(this.gamecolor_back):102==t?this.gg.setBackcolor(this.gamecolor_back_s):103==t?this.gg.setBackcolor(this.gamecolor_back_t):104==t&&this.gg.setBackcolor(this.gamecolor_back_f),i=0;i<this.maps.height;i++)if(s[i].length<this.maps.width){var O=s[i].length;for(l=O;l<this.maps.width;l++)(_=s)[o=i]=_[o]+".";if(2==this.gg.layer_mode)for(l=O=h[i].length;l<2*this.maps.width;l++)(n=h)[r=i]=n[r]+"0"}if(2==this.gg.layer_mode)for(var Y=0;Y<this.maps.height;Y++)for(var T=0;T<this.maps.width;T++){var R=0;if(y)R=y.map[Y-10]?y.map[Y-10][T-1]:0;else{var E=h[Y].charAt(2*T);if("."==E)continue;for(var V=0;!(V>15);){if(E==a.charAt(V)){R=Math.floor(16*V);break}if(E==c.charAt(V)){R=Math.floor(16*V);break}V++}for(E=h[Y].charAt(2*T+1),V=0;!(V>15);){if(E==a.charAt(V)){R+=V;break}if(E==c.charAt(V)){R+=V;break}V++}}this.maps.map_bg_layer[T][Y]=R}for(var W=0;W<this.maps.height;W++)for(var L=0;L<this.maps.width;L++){var D=0;p?(D=p.map[W-10]?p.map[W-10][L-1]:0)||(D=0):D=s[W].charCodeAt(L);var F=this.setChipValue(L,W,D);F>=0&&(this.maps.map_bg[L][W]=F)}for(var H=0;H<=this.maps.width-1;H++)this.maps.map_bg[H][0]=21,this.maps.map_bg[H][this.maps.height-1]=21;for(var U=0;U<=this.maps.height-1;U++)this.maps.map_bg[0][U]=21,this.maps.map_bg[this.mapWidth+1][U]=21,this.maps.map_bg[e][U]=21;this.ochiru_y=this.maps.wy_max+this.gg.di.height,this.maps.wx=this.co_j.x-(2===this.view_move_type?this.maps.my_wx_max:this.maps.my_wx_mini),this.maps.wy=this.co_j.y-this.maps.my_wy_max,this.maps.wx<this.maps.wx_mini?this.maps.wx=this.maps.wx_mini:this.maps.wx>this.maps.wx_max&&(this.maps.wx=this.maps.wx_max),this.maps.wy<this.maps.wy_mini?this.maps.wy=this.maps.wy_mini:this.maps.wy>this.maps.wy_max&&(this.maps.wy=this.maps.wy_max),this.co_j.wx=this.co_j.x-this.maps.wx,this.co_j.wy=this.co_j.y-this.maps.wy}},{key:"readCustomParts",value:function(t){for(var i,s={},h=Object.keys(t);h.length>0;){var e=!1;i=[];for(var a=0;a<h.length;a++){var c=h[a],o=t[c];if("number"==typeof o.extends){var _=5e3<=o.extends&&o.extends<1e4?Mt.available[o.extends-5e3]:null;if(!_){console.warn("パーツコード"+o.extends+"は拡張できません");continue}s[c]={properties:Object.assign({},_.properties,o.properties),native:_,nativeCode:o.extends}}else{if(!(o.extends in s)){i.push(c);continue}s[c]={properties:Object.assign({},s[o.extends].properties,o.properties),native:s[o.extends].native,nativeCode:s[o.extends].nativeCode}}e=!0}if(h=i,!e)break}return h.length>0&&h.forEach((function(t){console.warn("カスタムパーツコード"+t+"を解決できませんでした")})),s}},{key:"setAthleticOnMap",value:function(t,i,s){var h=-1;if(4==this.maps.map_bg[i-1][s]&&(h=4),2==t)this.aSet(32*i,32*s,500,32*i);else if(3==t)this.aSet(32*i,32*s,510,32*i);else if(4==t)this.aSet(32*i,32*s,120,32*i);else if(5==t)this.aSet(32*i,32*s,121,32*i);else if(6==t)this.aSet(32*i,32*s,600,32*i);else if(7==t)this.aSet(32*i,32*s,700,32*i);else if(8==t)this.aSet(32*i-32,32*s,410,32*i);else if(9==t)this.aSet(32*i-32,32*s,420,32*i);else if(10==t)this.aSet(32*i-32,32*s,430,32*i);else if(11==t)this.aSet(32*i-32,32*s,440,32*i);else if(12==t)this.aSet(32*i-32,32*s,450,32*i);else if(13==t)this.aSet(32*i-32,32*s,460,32*i);else if(14==t)this.aSet(32*i-32,32*s,470,32*i);else if(15==t)this.aSet(32*i-32,32*s,480,32*i);else if(16==t)this.aSet(32*i-32,32*s,481,32*i);else if(17==t)this.aSet(32*i-32,32*s,482,32*i);else if(18==t)this.aSet(32*i+16,32*s+16,72,32*i),this.aSet(32*i+16,32*s+16,73,32*i),h=50;else if(19==t)this.aSet(32*i+16,32*s+16,72,32*i),this.aSet(32*i+16,32*s+16,74,32*i),this.aSet(32*i+16,32*s+16,76,32*i),h=50;else if(20==t)this.aSet(32*i+16,32*s+16,73,32*i),this.aSet(32*i+16,32*s+16,75,32*i),this.aSet(32*i+16,32*s+16,77,32*i),h=50;else if(21==t)this.aSet(32*i,32*s,85,32*i);else if(22==t)h=40,this.hSet(i,s,2e3);else if(23==t)h=40,this.hSet(i,s,2100);else if(24==t)h=40,this.hSet(i,s,2200);else if(25==t)this.aSet(32*i,32*s,90,32*i);else if(26==t)this.aSet(32*i,32*s,91,32*i);else if(27==t)this.aSet(32*i,32*s,92,32*i);else if(28==t)this.aSet(32*i,32*s,93,32*i),h=50;else if(29==t)this.aSet(32*i,32*s,93,32*i),this.aSet(32*i,32*s,94,32*i),h=50;else if(30==t)this.aSet(32*i,32*s,95,32*i),h=50;else if(31==t)this.aSet(32*i,32*s,96,32*i),h=50;else if(32==t)this.aSet(32*i+16,32*s+16,78,32*i),h=50;else if(33==t)this.aSet(32*i+16,32*s+16,79,32*i),h=50;else if(34==t)h=40,this.hSet(i,s,2300);else if(35==t)h=40,this.hSet(i,s,2400);else if(36==t)h=40,this.hSet(i,s,2500);else if(37==t)h=40,this.hSet(i,s,2600);else if(38==t)h=40,this.hSet(i,s,2700);else if(39==t)h=40,this.hSet(i,s,2800);else if(40==t)h=40,this.hSet(i,s,2900);else if(41==t)h=40,this.hSet(i,s,3e3);else if(42==t)h=40,this.hSet(i,s,3100);else if(43==t)h=40,this.hSet(i,s,3200);else if(44==t)this.aSet(32*i,32*s,86,32*i);else if(45==t)this.aSet(32*i,32*s,87,32*i);else if(46==t)this.aSet(32*i,32*s,88,32*i);else if(47==t)this.aSet(32*i,32*s+32,1e3,32*i);else if(48==t)this.aSet(32*i,32*s,1001,32*i);else if(49==t)this.aSet(32*i+32,32*s,1002,32*i);else if(50==t)this.aSet(32*i,32*s,1003,32*i);else if(51==t)this.aSet(32*i,32*s,1010,32*i);else if(52==t)this.aSet(32*i,32*s,1020,32*i);else if(53==t)this.aSet(32*i-32,32*s,485,32*i);else if(54==t)this.aSet(32*i-32,32*s,486,32*i);else if(55==t)this.aSet(32*i-32,32*s,487,32*i);else if(56==t)this.aSet(32*i,32*s,1100,32*i),h=26;else if(57==t)this.aSet(32*i,32*s,1150,32*i),h=26;else if(58==t)this.aSet(32*i,32*s+32,1200,32*i);else if(59==t)this.aSet(32*i,32*s+32,1200,32*i),this.aSet(32*i,32*s+32,1201,32*i);else if(60==t)this.aSet(32*i,32*s,1300,32*i),h=50;else if(61==t)this.aSet(32*i,32*s,1300,32*i),this.aSet(32*i,32*s,1301,32*i),h=50;else if(62==t)this.aSet(32*i,32*s,610,32*i);else if(63==t)this.aSet(32*i,32*s+32,1005,32*i);else if(64==t)this.aSet(32*i,32*s,1006,32*i);else if(65==t)this.aSet(32*i+32,32*s,1007,32*i);else if(66==t)this.aSet(32*i,32*s,1008,32*i);else if(67==t)h=212,this.aSet(32*i,32*s,1400,32*i);else if(68==t)h=213,this.aSet(32*i,32*s,1401,32*i);else if(69==t)h=214,this.aSet(32*i,32*s,1402,32*i);else if(70==t)h=215,this.aSet(32*i,32*s,1403,32*i);else if(71==t)this.aSet(32*i,32*s,1500,32*i);else if(72==t)this.aSet(32*i,32*s,1501,32*i);else if(73==t)this.aSet(32*i,32*s,1502,32*i);else if(74==t)this.aSet(32*i,32*s,1503,32*i);else if(75==t)this.aSet(32*i,32*s,1504,32*i);else if(76==t)this.aSet(32*i,32*s,701,32*i);else if(77==t)this.aSet(32*i,32*s,750,32*i);else if(78==t)this.aSet(32*i,32*s,751,32*i);else if(79==t)this.aSet(32*i,32*s,1600,32*i);else if(80==t)this.aSet(32*i,32*s,1601,32*i);else if(81==t)this.aSet(32*i,32*s,1602,32*i);else if(82==t)this.aSet(32*i,32*s,1603,32*i);else if(83==t)this.mSet(32*i,32*s,2185);else if(84==t)this.aSet(32*i,32*s,1700,32*i);else if(85==t)this.aSet(32*i,32*s,1701,32*i);else if(86==t)this.aSet(32*i,32*s,1702,32*i);else if(87==t)h=40,this.hSet(i,s,3300);else if(88==t)h=40,this.hSet(i,s,3400);else if(89==t)h=40,this.hSet(i,s,3500);else if(90==t)this.aSet(32*i,32*s,89,32*i);else if(91==t)h=40,this.hSet(i,s,3600);else if(92==t)h=40,this.hSet(i,s,3700);else if(93==t)h=40,this.hSet(i,s,3800);else if(94==t)h=40,this.hSet(i,s,3900);else if(95==t)h=40,this.hSet(i,s,4e3);else if(96==t)this.aSet(32*i,32*s,1800,32*i);else if(97==t)this.aSet(32*i,32*s,1801,32*i);else if(98==t)this.aSet(32*i,32*s,1850,32*i);else if(99==t)this.aSet(32*i,32*s,1851,32*i);else if(100==t){this.aSet(32*i,32*s,1900,32*i);var e=this.maps.map_bg[i-1][s];e>=20&&e<=29&&(h=e)}else if(101==t){this.aSet(32*i,32*s,1901,32*i);var a=this.maps.map_bg[i-1][s];a>=20&&a<=29&&(h=a)}else if(102==t){this.aSet(32*i,32*s,1902,32*i);var c=this.maps.map_bg[i-1][s];c>=20&&c<=29&&(h=c)}else if(103==t){this.aSet(32*i,32*s,1903,32*i);var o=this.maps.map_bg[i-1][s];o>=20&&o<=29&&(h=o)}else if(104==t){this.aSet(32*i,32*s,1904,32*i);var _=this.maps.map_bg[i-1][s];_>=20&&_<=29&&(h=_)}else if(105==t){this.aSet(32*i,32*s,1905,32*i);var r=this.maps.map_bg[i-1][s];r>=20&&r<=29&&(h=r)}else if(106==t){this.aSet(32*i,32*s,1906,32*i);var n=this.maps.map_bg[i-1][s];n>=20&&n<=29&&(h=n)}else if(107==t){this.aSet(32*i,32*s,1907,32*i);var m=this.maps.map_bg[i-1][s];m>=20&&m<=29&&(h=m)}else if(108==t){this.aSet(32*i,32*s,1908,32*i);var g=this.maps.map_bg[i-1][s];g>=20&&g<=29&&(h=g)}else if(109==t){this.aSet(32*i,32*s,1909,32*i);var p=this.maps.map_bg[i-1][s];p>=20&&p<=29&&(h=p)}else if(110==t){this.aSet(32*i,32*s,1910,32*i);var y=this.maps.map_bg[i-1][s];y>=20&&y<=29&&(h=y)}else if(111==t){this.aSet(32*i,32*s,1911,32*i);var u=this.maps.map_bg[i-1][s];u>=20&&u<=29&&(h=u)}else if(112==t)this.aSet(32*i,32*s,1912,32*i);else if(113==t)this.aSet(32*i,32*s,1913,32*i);else if(114==t)this.aSet(32*i,32*s,1914,32*i);else if(115==t){this.aSet(32*i,32*s,1915,32*i);var d=this.maps.map_bg[i-1][s];d>=20&&d<=29&&(h=d)}else if(116==t){this.aSet(32*i,32*s,1916,32*i);var j=this.maps.map_bg[i-1][s];j>=20&&j<=29&&(h=j)}else if(117==t){this.aSet(32*i,32*s,1917,32*i);var f=this.maps.map_bg[i-1][s];f>=20&&f<=29&&(h=f)}else if(118==t){this.aSet(32*i,32*s,1918,32*i);var l=this.maps.map_bg[i-1][s];l>=20&&l<=29&&(h=l)}else 119==t?this.aSet(32*i,32*s,2e3,32*i):120==t?this.aSet(32*i,32*s,2001,32*i):121==t?this.aSet(32*i,32*s,2002,32*i):122==t?this.aSet(32*i,32*s,2003,32*i):123==t?this.aSet(32*i,32*s,2010,32*i):124==t?this.aSet(32*i,32*s,2011,32*i):125==t?this.aSet(32*i,32*s,2020,32*i):126==t?this.aSet(32*i,32*s,2021,32*i):127==t?(this.aSet(32*i,32*s+8,72,32*i),this.aSet(32*i,32*s+8,74,32*i),this.aSet(32*i,32*s+8,76,32*i),this.aSet(32*i,32*s,2100,32*i)):128==t?(this.aSet(32*i,32*s+8,73,32*i),this.aSet(32*i,32*s+8,75,32*i),this.aSet(32*i,32*s+8,77,32*i),this.aSet(32*i,32*s,2100,32*i)):129==t?(this.aSet(32*i,32*s+8,2110,32*i),this.aSet(32*i,32*s+8,2111,32*i),this.aSet(32*i,32*s+8,2112,32*i),this.aSet(32*i,32*s+8,2113,32*i),this.aSet(32*i,32*s+8,2114,32*i),this.aSet(32*i,32*s,2100,32*i)):130==t?(this.aSet(32*i,32*s+8,2120,32*i),this.aSet(32*i,32*s+8,2121,32*i),this.aSet(32*i,32*s+8,2122,32*i),this.aSet(32*i,32*s+8,2123,32*i),this.aSet(32*i,32*s+8,2124,32*i),this.aSet(32*i,32*s,2100,32*i)):131==t?(this.aSet(32*i+160,32*s+160,2200,32*i),this.aSet(32*i+160,32*s+160,2201,32*i),this.aSet(32*i+160,32*s+160,2202,32*i)):132==t?(this.aSet(32*i+160,32*s+160,2210,32*i),this.aSet(32*i+160,32*s+160,2211,32*i),this.aSet(32*i+160,32*s+160,2212,32*i)):133==t?this.aSet(32*i,32*s,2300,32*i):134==t?this.aSet(32*i,32*s,2301,32*i):135==t?this.aSet(32*i,32*s,2400,32*i):136==t?this.aSet(32*i,32*s,2500,32*i):137==t?this.aSet(32*i,32*s,2510,32*i):138==t?this.aSet(32*i,32*s,2600,32*i):139==t?this.aSet(32*i,32*s,2610,32*i):140==t?this.aSet(32*i,32*s,2700,32*i):141==t?this.aSet(32*i,32*s,2701,32*i):142==t?(this.aSet(32*i+160,32*s+160,2250,32*i),this.aSet(32*i+160,32*s+160,2251,32*i)):143==t?(this.aSet(32*i+160,32*s+160,2260,32*i),this.aSet(32*i+160,32*s+160,2261,32*i)):144==t?(this.aSet(32*i+160,32*s+160,2252,32*i),this.aSet(32*i+160,32*s+160,2253,32*i)):145==t?(this.aSet(32*i+160,32*s+160,2262,32*i),this.aSet(32*i+160,32*s+160,2263,32*i)):146==t?this.aSet(32*i-32,32*s,489,32*i):147==t?this.aSet(32*i-32,32*s,488,32*i):148==t?this.aSet(32*i-32,32*s,490,32*i):149==t?this.aSet(32*i-32,32*s,491,32*i):150==t?this.aSet(32*i-32,32*s,492,32*i):151==t?(this.aSet(32*i,32*s,2800,32*i),h=50):152==t?(this.aSet(32*i,32*s,2801,32*i),h=50):153==t?(this.aSet(32*i,32*s,2802,32*i),h=50):154==t?(this.aSet(32*i,32*s,2803,32*i),h=50):155==t?this.aSet(32*i,32*s,2900,32*i):156==t?this.aSet(32*i,32*s,2950,32*i):157==t?this.aSet(32*i-32,32*s,3e3,32*i-32):158==t?this.aSet(32*i-32,32*s,3010,32*i-32):159==t?this.aSet(32*i,32*s,3100,32*i):160==t?this.aSet(32*i,32*s,3110,32*i):161==t?this.aSet(32*i,32*s,3120,32*i):162==t?this.aSet(32*i,32*s,3130,32*i):163==t?this.aSet(32*i,32*s,3101,32*i):164==t?this.aSet(32*i,32*s,3111,32*i):165==t?this.aSet(32*i,32*s,3121,32*i):166==t?this.aSet(32*i,32*s,3131,32*i):167==t?(this.aSet(32*i,32*s,3200,32*i),h=50):168==t?(this.aSet(32*i,32*s,3201,32*i),h=50):169==t?(this.aSet(32*i,32*s,3202,32*i),h=50):170==t?(this.aSet(32*i,32*s,3203,32*i),h=50):171==t?this.aSet(32*i,32*s,3300,32*i):172==t?this.aSet(32*i,32*s,3301,32*i):173==t?this.aSet(32*i,32*s,350,32*i):174==t?this.aSet(32*i,32*s,351,32*i):175==t?this.aSet(32*i,32*s,352,32*i):176==t?this.aSet(32*i,32*s,353,32*i):177==t?this.aSet(32*i,32*s,360,32*i):178==t?this.aSet(32*i,32*s,361,32*i):179==t?this.aSet(32*i,32*s,362,32*i):180==t?this.aSet(32*i,32*s,363,32*i):181==t?this.aSet(32*i,32*s,3400,32*i):182==t?(h=40,this.hSet(i,s,4100)):183==t?this.aSet(32*i,32*s,370,32*i):184==t?this.aSet(32*i,32*s,371,32*i):185==t?this.aSet(32*i,32*s,372,32*i):186==t?this.aSet(32*i,32*s,373,32*i):187==t?this.aSet(32*i,32*s,380,32*i):188==t?this.aSet(32*i,32*s,381,32*i):189==t?this.aSet(32*i,32*s,382,32*i):190==t?this.aSet(32*i,32*s,383,32*i):191==t?this.aSet(32*i,32*s,3500,32*i):192==t?this.aSet(32*i,32*s,3600,32*i):193==t?this.aSet(32*i,32*s,3700,32*i):194==t?this.aSet(32*i,32*s,3710,32*i):195==t?this.aSet(32*i,32*s,3800,32*i):196==t?this.aSet(32*i,32*s,3810,32*i):197==t?this.aSet(32*i,32*s,3900,32*i):198==t?this.aSet(32*i,32*s,3910,32*i):199==t?this.aSet(32*i,32*s,4e3,32*i):200==t?this.aSet(32*i,32*s,4010,32*i):201==t?this.aSet(32*i,32*s,4100,32*i):202==t?this.aSet(32*i,32*s,4110,32*i):203==t?this.aSet(32*i,32*s,4200,32*i):204==t?this.aSet(32*i,32*s,4210,32*i):205==t?this.aSet(32*i,32*s,150,32*i):206==t?this.aSet(32*i,32*s,151,32*i):207==t?this.aSet(32*i,32*s,160,32*i):208==t?this.aSet(32*i,32*s,161,32*i):209==t?this.aSet(32*i,32*s,152,32*i):210==t?this.aSet(32*i,32*s,162,32*i):211==t?this.aSet(32*i,32*s,3501,32*i):212==t?this.aSet(32*i,32*s,3601,32*i):213==t?(h=40,this.hSet(i,s,4200)):214==t?(h=40,this.hSet(i,s,4300)):215==t?(h=40,this.hSet(i,s,4400)):216==t?(h=40,this.hSet(i,s,4500)):217==t?this.aSet(32*i,32*s,3502,32*i):218==t?this.aSet(32*i,32*s,3602,32*i):219==t?(this.aSet(32*i+16,32*s+16,4300,32*i),h=50):220==t?(this.aSet(32*i+16,32*s+16,4301,32*i),h=50):221==t?(this.aSet(32*i+16,32*s+16,4302,32*i),h=50):222==t?(this.aSet(32*i+16,32*s+16,4303,32*i),h=50):223==t?(this.aSet(32*i+16,32*s+16,4304,32*i),h=50):224==t?(this.aSet(32*i+16,32*s+16,4305,32*i),h=50):225==t?(this.aSet(32*i+16,32*s+16,4306,32*i),h=50):226==t?(this.aSet(32*i+16,32*s+16,4307,32*i),h=50):227==t?(this.aSet(32*i+16,32*s+16,4310,32*i),h=50):228==t?(this.aSet(32*i+16,32*s+16,4311,32*i),h=50):229==t?(this.aSet(32*i+16,32*s+16,4312,32*i),h=50):230==t?(this.aSet(32*i+16,32*s+16,4313,32*i),h=50):231==t?(this.aSet(32*i+16,32*s+16,4314,32*i),h=50):232==t?(this.aSet(32*i+16,32*s+16,4315,32*i),h=50):233==t?(this.aSet(32*i+16,32*s+16,4316,32*i),h=50):234==t?(this.aSet(32*i+16,32*s+16,4317,32*i),h=50):235==t?this.aSet(32*i,32*s,4400,32*i):236==t?this.aSet(32*i,32*s,4410,32*i):237==t?this.aSet(32*i,32*s+32,4500,32*i):238==t?this.aSet(32*i,32*s+32,4501,32*i):239==t?this.aSet(32*i,32*s+32,4502,32*i):240==t?this.aSet(32*i,32*s+32,4503,32*i):241==t?this.aSet(32*i,32*s+32,4510,32*i):242==t?this.aSet(32*i,32*s+32,4511,32*i):243==t?this.aSet(32*i,32*s+32,4512,32*i):244==t?this.aSet(32*i,32*s+32,4513,32*i):245==t?this.aSet(32*i,32*s,4600,32*i):246==t?this.aSet(32*i,32*s,4610,32*i):247==t?(this.aSet(32*i,32*s,4700,32*i),h=213):248==t?(this.aSet(32*i,32*s,4701,32*i),h=214):249==t?this.aSet(32*i,32*s,4800,32*i):250==t?this.aSet(32*i,32*s,4801,32*i):251==t?(this.aSet(32*i,32*s,4702,32*i),h=215):252==t?(this.aSet(32*i,32*s,4703,32*i),h=212):253==t?(this.aSet(32*i,32*s,5e3,32*i),h=28):254==t?this.aSet(32*i,32*s,4900,32*i):255==t?this.aSet(32*i,32*s,4910,32*i):256==t?this.aSet(32*i,32*s,5200,32*i):257==t?this.aSet(32*i,32*s,5210,32*i):258==t?this.tSet(32*i,32*s,1190,32*i-this.gg.di.width-32-32):259==t?this.tSet(32*i,32*s,1191,32*i-this.gg.di.width-32-32):260==t?(this.aSet(32*i,32*s,5100,32*i),h=31):261==t?(this.aSet(32*i,32*s,5101,32*i),h=31):262==t?this.aSet(32*i,32*s,5300,32*i):263==t?(h=18,this.map_data_option[i][s]=!0):264==t?(h=19,this.map_data_option[i][s]=!0):h=t>=1001&&t<=1249?Math.floor(t-1e3):-99;return h}},{key:"drawGamescreen",value:function(){Ft.apply(this)}},{key:"drawGamescreenMy",value:function(){Yt.apply(this)}},{key:"drawGamescreenEnemy",value:function(){At.apply(this)}},{key:"drawGamescreenWindow",value:function(){Vt.apply(this)}},{key:"drawGamescreenUgokuyuka",value:function(){zt.apply(this)}},{key:"AwaMove",value:function(t,i){(4==t||(8==t||9==t)&&4==this.maps.map_bg[vi(this.co_j.x+15,5)-1][vi(this.co_j.y+15,5)]||2!==i&&t>=15&&t<=19&&4==this.maps.map_bg[vi(this.co_j.x+15,5)][vi(this.co_j.y+15,5)-1])&&(this.j_mizu_f=!0,0===i&&(this.j_djump_kf=!0),1!==i&&(this.j_jet_c=0),this.j_mizu_awa_c++,44==this.j_mizu_awa_c||54==this.j_mizu_awa_c?this.mSet(this.co_j.x,this.co_j.y+4,60):this.j_mizu_awa_c>54&&(this.j_mizu_awa_c=0))}},{key:"jM100",value:function(){var t=!1,i=!1,s=!1,h=!1;this.j_mizu_f=!1;var e=this.maps.getBGCode(this.co_j.x+15,this.co_j.y+15);this.AwaMove(e,0),this.jst_auto_right>0&&(1==this.jst_auto_right?(this.gk.right_f=!0,this.gk.left_f=!1,this.j_hashiru_f=!1):2==this.jst_auto_right&&(this.gk.right_f=!0,this.gk.left_f=!1,this.j_hashiru_f=!0)),this.gk.tr1_f?this.tr1_c<6&&this.tr1_c++:this.tr1_c=0,this.gk.tr1_f?this.gk.tr1_c<6&&this.gk.tr1_c++:this.gk.tr1_c=0,this.gk.tr2_f?this.tr2_c<2&&this.tr2_c++:this.tr2_c=0,this.gk.left_f?this.gk.left_c<2&&this.gk.left_c++:this.gk.left_c=0,this.gk.right_f?this.gk.right_c<2&&this.gk.right_c++:this.gk.right_c=0,1==this.gk.left_c?(this.left_dcc>0&&2!=this.jst_fast_run?this.j_hashiru_f=!0:this.j_hashiru_f=!1,this.left_dcc=8):this.left_dcc>0&&this.left_dcc--,1==this.gk.right_c?(this.right_dcc>0&&2!=this.jst_fast_run?this.j_hashiru_f=!0:this.j_hashiru_f=!1,this.right_dcc=8):this.right_dcc>0&&this.right_dcc--,this.gk.up_f?(this.up_key_c++,this.up_key_c>2&&(this.up_key_c=2)):this.up_key_c=0,this.gk.down_f?(this.down_key_c++,this.down_key_c>2&&(this.down_key_c=2)):this.down_key_c=0;var a=this.co_j.x,c=this.co_j.y;this.co_j.pt=100;var o=vi(a+15,5),_=vi(c+31,5),r=this.maps.map_bg[o][_],n=this.map_data_option[o][_],m=vi(c+32,5),g=this.maps.map_bg[o][m];if(this.j_shitakara_mushi_y>0&&this.j_shitakara_mushi_y!=m&&(this.j_shitakara_mushi_y=-1),s=!1,15==g&&32*vi(c,5)==c&&this.co_j.vy>=0&&(s=!0,this.j_shitakara_mushi_y>0&&this.j_shitakara_mushi_y==m&&(s=!1)),(g>=20||10==g||this.j_a_id>=0||s)&&this.j_hashigo_mushi_x!=vi(this.co_j.x+15,5)?(this.co_j.jimen_f=!0,this.j_jump_type=2,69==g&&(i=!0)):this.co_j.jimen_f=!1,this.yuka_ride_id>=0&&(this.co_j.jimen_f=!0,this.j_jump_type=2),18==r||19==r){var p=this.getSakamichiY(this.co_j.x+15,this.co_j.y+31);this.map_data_option[o][_]?(this.saka_mushi_y<=0||this.saka_mushi_y!=_)&&p==this.co_j.y&&this.co_j.vy>=0&&(this.co_j.jimen_f=!0,this.j_jump_type=2):p<=this.co_j.y&&(this.co_j.y=p,this.co_j.vy>=0&&(this.co_j.jimen_f=!0,this.j_jump_type=2))}if(10==r&&32*vi(this.co_j.y,5)==this.co_j.y&&(this.co_j.jimen_f=!0,this.j_tokugi<=11&&vi(this.co_j.x+15,5)!=this.j_hashigo_mushi_x&&10!=this.maps.getBGCode(this.co_j.x+15-32,this.co_j.y+31)&&10!=this.maps.getBGCode(this.co_j.x+15+32,this.co_j.y+31)&&this.maps.getBGCode(this.co_j.x+15-32,this.co_j.y+32)<=9&&this.maps.getBGCode(this.co_j.x+15+32,this.co_j.y+32)<=9)){var y=!1;if(32*vi(this.co_j.x,5)!=this.co_j.x)for(var u=0;!(u>this.a_kazu);){if(410==this.co_a[u].c&&this.co_a[u].x<=32*vi(this.co_j.x+15,5)+15&&this.co_a[u].x+95>=32*vi(this.co_j.x+15,5)+15&&this.co_j.y+31>=this.co_a[u].y&&this.co_j.y<=this.co_a[u].y+63){y=!0;break}u++}y||(this.j_hashigo_f=!0,this.co_j.x=32*vi(this.co_j.x+15,5))}if(this.j_hashigo_mushi_x==vi(this.co_j.x+15,5)&&0!=this.co_j.vx||(this.j_hashigo_mushi_x=-1),this.saka_mushi_y>=0&&(this.co_j.y+31>32*this.saka_mushi_y+32+23||this.co_j.y+31<32*this.saka_mushi_y||this.co_j.jimen_f||this.j_hashigo_f)&&(this.saka_mushi_y=-1),10==this.maps.getBGCode(this.co_j.x+15,this.co_j.y+15)||10==this.maps.getBGCode(this.co_j.x+15,this.co_j.y+31)){if(this.j_hashigo_mushi_x!=vi(this.co_j.x+15,5)&&(this.j_jump_type=2),this.gk.up_f){var d=!1;if(32*vi(this.co_j.x,5)!=this.co_j.x)for(var j=0;!(j>this.a_kazu);){if(410==this.co_a[j].c&&this.co_a[j].x<=32*vi(this.co_j.x+15,5)+15&&this.co_a[j].x+95>=32*vi(this.co_j.x+15,5)+15&&this.co_j.y+31>=this.co_a[j].y&&this.co_j.y<=this.co_a[j].y+63){d=!0;break}j++}d||(this.j_hashigo_f=!0,this.co_j.jimen_f=!1,this.j_jet_c=0,this.co_j.direction=2)}if(this.gk.down_f&&this.maps.getBGCode(this.co_j.x+15,this.co_j.y+32)<20&&15!=this.maps.getBGCode(this.co_j.x+15,this.co_j.y+32)){var f=!1;if(32*vi(this.co_j.x,5)!=this.co_j.x)for(var l=0;!(l>this.a_kazu);){if(410==this.co_a[l].c&&this.co_a[l].x<=32*vi(this.co_j.x+15,5)+15&&this.co_a[l].x+95>=32*vi(this.co_j.x+15,5)+15&&this.co_j.y+31>=this.co_a[l].y&&this.co_j.y<=this.co_a[l].y+63){f=!0;break}l++}f||(this.j_hashigo_f=!0,this.co_j.jimen_f=!1,this.j_jet_c=0,this.co_j.direction=3)}!this.co_j.jimen_f&&10==this.maps.getBGCode(this.co_j.x+15,this.co_j.y+31)&&this.maps.getBGCode(this.co_j.x+15,this.co_j.y+32)<20&&15!=this.maps.getBGCode(this.co_j.x+15,this.co_j.y+32)&&(this.co_j.jimen_f=!1,this.j_jet_c=0)}else this.j_hashigo_f=!1,this.co_j.direction=0;if(this.j_hashigo_f){if(this.gk.left_f){var v=vi(this.co_j.y+15,5),x=this.maps.map_bg[vi(this.co_j.x+15,5)-1][v],k=this.maps.map_bg[vi(this.co_j.x+15,5)-1][v+1];if(10!=this.j_tokugi&&12!=this.j_tokugi&&13!=this.j_tokugi||!(x<=10||15==x)){if(10==x)this.j_hashigo_f=!1,this.co_j.jimen_f=!0,this.co_j.y=32*v,this.j_shitakara_mushi_y=-1,this.co_j.direction=0;else if((x<=10||15==x)&&(k>=20||15==k||10==k)){var w=this.maps.map_bg[vi(this.co_j.x+15,5)][v+1];(10==w||15==w||w>=20)&&(this.j_hashigo_f=!1,this.co_j.jimen_f=!0,this.co_j.y=32*v,this.j_shitakara_mushi_y=-1,this.co_j.direction=0)}}else this.j_hashigo_f=!1,this.co_j.jimen_f=!0,this.co_j.y=32*v,this.j_shitakara_mushi_y=-1,this.co_j.direction=0}if(this.gk.right_f){var b=vi(this.co_j.y+15,5),S=this.maps.map_bg[vi(this.co_j.x+15,5)+1][b],M=this.maps.map_bg[vi(this.co_j.x+15,5)+1][b+1];if(10!=this.j_tokugi&&12!=this.j_tokugi&&13!=this.j_tokugi||!(S<=10||15==S)||(this.j_hashigo_f=!1,this.co_j.jimen_f=!0,this.co_j.y=32*b,this.j_shitakara_mushi_y=-1,this.co_j.direction=0),10==S)this.j_hashigo_f=!1,this.co_j.jimen_f=!0,this.co_j.y=32*b,this.j_shitakara_mushi_y=-1,this.co_j.direction=0;else if((S<=10||15==S)&&(M>=20||15==M||10==M)){var C=this.maps.map_bg[vi(this.co_j.x+15,5)][b+1];(10==C||15==C||C>=20)&&(this.j_hashigo_f=!1,this.co_j.jimen_f=!0,this.co_j.y=32*b,this.j_shitakara_mushi_y=-1,this.co_j.direction=0)}}}if(10==this.j_tokugi||12==this.j_tokugi||13==this.j_tokugi){if(this.ana_kazu>0)for(var I=0;!(I>this.t_kazu);){if((1250==this.co_t[I].c||1310==this.co_t[I].c)&&this.co_j.x+15>=this.co_t[I].x&&this.co_j.x+15<=this.co_t[I].x+31&&this.co_j.y==this.co_t[I].y-32){this.co_j.jimen_f=!0;break}I++}for(var B=0;!(B>this.t_kazu);){if(this.co_t[B].c>=1200&&this.co_t[B].c<=1220&&Math.abs(this.co_j.x-this.co_t[B].x)<=24&&this.co_j.y==this.co_t[B].y-32){this.co_j.y=this.co_t[B].y-32,this.co_j.jimen_f=!0;break}B++}}if(this.j_hashigo_f&&(this.co_j.jimen_f=!1),this.j_cannon_c>0&&(this.j_cannon_c--,(this.co_j.jimen_f||this.j_hashigo_f||0==this.j_cannon_c)&&(this.jst_pc_attack>=1&&this.j_cannon_c>0&&(3==this.j_cannon_type||4==this.j_cannon_type)?this.j_hashigo_f&&(this.j_cannon_c=0,this.co_j.vx<-120&&(this.co_j.vx=-120),this.co_j.vx>120&&(this.co_j.vx=120)):(this.j_cannon_c=0,this.co_j.vx<-120&&(this.co_j.vx=-120),this.co_j.vx>120&&(this.co_j.vx=120),3!=this.j_cannon_type&&4!=this.j_cannon_type||(this.co_j.vx=0,this.co_j.vy=20,this.j_jump_type=0)))),this.j_hashigo_f)this.j_djump_kf=!0,this.gk.left_f?this.co_j.muki=0:this.gk.right_f&&(this.co_j.muki=1),!this.gk.up_f||this.gk.left_f||this.gk.right_f?!this.gk.down_f||this.gk.left_f||this.gk.right_f?(this.co_j.vy=0,this.co_j.ac=0):(this.co_j.vy=80,this.co_j.ac++,this.co_j.ac>3&&(this.co_j.ac=0)):(this.co_j.vy=-80,this.co_j.ac++,this.co_j.ac>3&&(this.co_j.ac=0)),this.co_j.vx=0;else if(!this.gk.down_f||10!=this.maps.getBGCode(this.co_j.x+15,this.co_j.y+32)||this.gk.left_f||this.gk.right_f)if(this.co_j.jimen_f)this.j_djump_kf=!0,this.j_zan_f=!1,this.j_jet_c=0,this.gk.left_f&&(this.j_cannon_c<=0||3!=this.j_cannon_type&&4!=this.j_cannon_type)?(i?(this.co_j.vx-=4,1==this.gk.left_c&&this.co_j.vx>30&&this.gs.rsAddSound(5)):(this.co_j.vx-=15,1==this.gk.left_c&&this.co_j.vx>60&&this.gs.rsAddSound(5)),this.j_hashiru_f?(this.j_mizu_f?this.co_j.vx<-60&&(this.co_j.vx=-60):1==this.jst_fast_run?this.co_j.vx<-180&&(this.co_j.vx=-180):this.co_j.vx<-120&&(this.co_j.vx=-120),this.co_j.vx>0&&!i?(this.co_j.pt=108,this.co_j.ac=0):(this.co_j.pt=105+vi(this.co_j.ac,1),this.co_j.ac++,this.co_j.ac>3&&(this.co_j.ac=0))):(this.j_mizu_f?this.co_j.vx<-40&&(this.co_j.vx=-40):this.co_j.vx<-60&&(this.co_j.vx=-60),this.co_j.vx>0&&!i?(this.co_j.pt=108,this.co_j.ac=0):(this.co_j.pt=103+vi(this.co_j.ac,1),this.co_j.ac++,this.co_j.ac>3&&(this.co_j.ac=0))),this.co_j.muki=0):this.gk.right_f&&(this.j_cannon_c<=0||3!=this.j_cannon_type&&4!=this.j_cannon_type)?(i?(this.co_j.vx+=4,1==this.gk.right_c&&this.co_j.vx<-30&&this.gs.rsAddSound(5)):(this.co_j.vx+=15,1==this.gk.right_c&&this.co_j.vx<-60&&this.gs.rsAddSound(5)),this.j_hashiru_f?(this.j_mizu_f?this.co_j.vx>60&&(this.co_j.vx=60):1==this.jst_fast_run?this.co_j.vx>180&&(this.co_j.vx=180):this.co_j.vx>120&&(this.co_j.vx=120),this.co_j.vx<0&&!i?(this.co_j.pt=108,this.co_j.ac=0):(this.co_j.pt=105+vi(this.co_j.ac,1),this.co_j.ac++,this.co_j.ac>3&&(this.co_j.ac=0))):(this.j_mizu_f?this.co_j.vx>40&&(this.co_j.vx=40):this.co_j.vx>60&&(this.co_j.vx=60),this.co_j.vx<0&&!i?(this.co_j.pt=108,this.co_j.ac=0):(this.co_j.pt=103+vi(this.co_j.ac,1),this.co_j.ac++,this.co_j.ac>3&&(this.co_j.ac=0))),this.co_j.muki=1):this.co_j.vx<0?((this.j_cannon_c<=0||3!=this.j_cannon_type&&4!=this.j_cannon_type)&&(i?this.co_j.vx++:this.co_j.vx+=5),this.co_j.vx>0&&(this.co_j.vx=0),this.j_hashiru_f||i?(this.co_j.pt=107,this.co_j.ac=0):(this.co_j.pt=103+vi(this.co_j.ac,1),this.co_j.ac++,this.co_j.ac>3&&(this.co_j.ac=0)),this.co_j.muki=0):this.co_j.vx>0?((this.j_cannon_c<=0||3!=this.j_cannon_type&&4!=this.j_cannon_type)&&(i?this.co_j.vx--:this.co_j.vx-=5),this.co_j.vx<0&&(this.co_j.vx=0),this.j_hashiru_f||i?(this.co_j.pt=107,this.co_j.ac=0):(this.co_j.pt=103+vi(this.co_j.ac,1),this.co_j.ac++,this.co_j.ac>3&&(this.co_j.ac=0)),this.co_j.muki=1):this.co_j.ac=0;else{if(10!=this.j_tokugi&&12!=this.j_tokugi&&13!=this.j_tokugi||this.j_mizu_f?this.gk.left_f?this.j_cannon_c<=0&&!this.j_mizu_f&&(1==this.jst_fly_left_right?(this.co_j.vx-=15,this.co_j.vx<-120&&(this.co_j.vx=-120)):this.co_j.vx>-60&&(this.co_j.vx-=10,this.co_j.vx<-60&&(this.co_j.vx=-60))):this.gk.right_f&&this.j_cannon_c<=0&&!this.j_mizu_f&&(1==this.jst_fly_left_right?(this.co_j.vx+=15,this.co_j.vx>120&&(this.co_j.vx=120)):this.co_j.vx<60&&(this.co_j.vx+=10,this.co_j.vx>60&&(this.co_j.vx=60))):(this.co_j.vy<0?(this.co_j.vx<0&&(this.co_j.vx=-30),this.co_j.vx>0&&(this.co_j.vx=30)):(this.co_j.vx<0&&(this.co_j.vx=-60),this.co_j.vx>0&&(this.co_j.vx=60)),this.co_j.vy<0?Math.abs(32*vi(this.co_j.x,5)-this.co_j.x)<3&&(this.co_j.x=32*vi(this.co_j.x+15,5),this.co_j.vx=0):Math.abs(32*vi(this.co_j.x,5)-this.co_j.x)<6&&(this.co_j.x=32*vi(this.co_j.x+15,5),this.co_j.vx=0),this.co_j.vy>90&&(this.co_j.vy=90)),(1==this.jst_kabe_kick||2==this.jst_kabe_kick)&&1==this.gk.tr1_c&&!this.j_mizu_f){var G=this.maps.getBGCode(this.co_j.x+14,this.co_j.y),z=this.maps.getBGCode(this.co_j.x+14,this.co_j.y+31);(G>=20||18==G||z>=20||18==z)&&(2==this.jst_kabe_kick?(this.co_j.vx=60,this.co_j.vy=-260,this.co_j.muki=1,this.j_jump_level=3,this.j_jump_type=0,this.gs.rsAddSound(3)):(this.co_j.vx=60,this.j_mizu_f||(this.co_j.vx=120),this.j_jump_type=5,this.co_j.muki=0,this.co_j.vy>0?this.co_j.vy=-25:this.co_j.vy-=50),h=!0,this.j_djump_kf=!0),G=this.maps.getBGCode(this.co_j.x+16,this.co_j.y),z=this.maps.getBGCode(this.co_j.x+16,this.co_j.y+31),(G>=19||z>=19)&&(2==this.jst_kabe_kick?(this.co_j.vx=-60,this.co_j.vy=-260,this.co_j.muki=0,this.j_jump_level=3,this.j_jump_type=0,this.gs.rsAddSound(3)):(this.co_j.vx=-60,this.j_mizu_f||(this.co_j.vx=-120),this.j_jump_type=5,this.co_j.muki=1,this.co_j.vy>0?this.co_j.vy=-25:this.co_j.vy-=50),h=!0,this.j_djump_kf=!0)}this.j_mizu_f?this.j_mizu_ac>1?this.co_j.pt=84:this.co_j.pt=83:0==this.j_jump_type?this.j_cannon_c>0&&2==this.j_cannon_type?this.co_j.pt=1300:this.j_cannon_c>0&&5==this.j_cannon_type?this.co_j.pt=210:this.j_cannon_c>0&&Math.abs(this.co_j.vy)<50?this.co_j.pt=83:this.co_j.vy<20?this.co_j.pt=101:this.co_j.pt=102:2==this.j_jump_type?Math.abs(this.co_j.vx)<=60?this.co_j.pt=103:this.co_j.pt=105:3==this.j_jump_type?this.co_j.pt=119:4==this.j_jump_type?this.co_j.pt=100:5==this.j_jump_type?this.co_j.pt=107:6==this.j_jump_type?this.co_j.pt=109:7==this.j_jump_type?(this.co_j.pt=1500,this.j_zan_f=!1):this.co_j.pt=109,this.co_j.ac=2}else{for(var A=!1,P=0;!(P>this.a_kazu);){if(410==this.co_a[P].c&&this.co_a[P].x<=32*vi(this.co_j.x+15,5)+15&&this.co_a[P].x+95>=32*vi(this.co_j.x+15,5)+15&&this.co_j.y+31>=this.co_a[P].y&&this.co_j.y<=this.co_a[P].y+63){A=!0;break}P++}A||(this.j_djump_kf=!0,this.co_j.vy=80,this.co_j.vx=0,this.co_j.jimen_f=!1,this.j_hashigo_f=!0)}if(this.j_cannon_c>0&&(3==this.j_cannon_type?(this.co_j.pt=1400,this.j_cannon_c<=5&&(this.co_j.pt=102,this.co_j.vx=0,this.co_j.jimen_f&&(this.co_j.pt=100))):4==this.j_cannon_type&&(this.co_j.pt=84,this.j_cannon_c<=5&&(this.co_j.pt=102,this.co_j.vx=0,this.co_j.jimen_f&&(this.co_j.pt=100)))),this.j_jdai_f&&(this.co_j.vx=0,this.co_j.pt=100,this.co_j.ac=0,10!=this.j_tokugi&&12!=this.j_tokugi&&13!=this.j_tokugi||this.co_j.y%32!=0||(this.gk.left_f?(this.co_j.vx=-30,this.co_j.x=32*vi(this.co_j.x+15,5)-6):this.gk.right_f&&(this.co_j.vx=30,this.co_j.x=32*vi(this.co_j.x+15,5)+6))),this.j_hashigo_f)this.co_j.x=32*vi(this.co_j.x+15,5);else if(this.co_j.vx<0){if(this.co_j.x+=li(this.co_j.vx/10),this.yuka_ride_id>=0)if(this.yo[this.yuka_ride_id].con>=200&&this.yo[this.yuka_ride_id].con<300){var N=this.getSLOY(this.yo[this.yuka_ride_id].x,this.yo[this.yuka_ride_id].y,this.yo[this.yuka_ride_id].x2,this.yo[this.yuka_ride_id].y2);if(N>=0)this.co_j.y=N,this.yo[this.yuka_ride_id].y>this.yo[this.yuka_ride_id].y2&&this.maps.getBGCode(this.co_j.x+15,this.co_j.y+31)>=20&&(this.co_j.y=32*vi(this.co_j.y+31,5)-32);else{var O;for(this.co_j.y=this.yo[this.yuka_ride_id].y-32,O=0;O<=this.yuka_id_max;O++)if(!(this.yo[O].con<200||this.yo[O].con>=300||this.yo[O].x2!=this.yo[this.yuka_ride_id].x||this.yo[O].y2!=this.yo[this.yuka_ride_id].y)){var Y=this.getSLOY(this.yo[O].x,this.yo[O].y,this.yo[O].x2,this.yo[O].y2);if(!(Y<0)){this.co_j.y=Y;break}}O>this.yuka_id_max&&(this.yo[this.yuka_ride_id].y<=this.yo[this.yuka_ride_id].y2?this.co_j.vy=0:this.co_j.vy=75)}}else if(this.yo[this.yuka_ride_id].con>=300&&this.yo[this.yuka_ride_id].con<350){var T=this.getSCOY(this.yo[this.yuka_ride_id].x,this.yo[this.yuka_ride_id].y,this.yo[this.yuka_ride_id].x2,this.yo[this.yuka_ride_id].y2);if(T>=0)this.co_j.y=T,this.maps.getBGCode(this.co_j.x+15,this.co_j.y+31)>=20&&(this.co_j.y=32*vi(this.co_j.y+31,5)-32);else{var R=li(90*this.yo[this.yuka_ride_id].x2/100);this.co_j.y=this.yo[this.yuka_ride_id].y-Math.floor(Math.sqrt(this.yo[this.yuka_ride_id].x2*this.yo[this.yuka_ride_id].x2-R*R))-32}}else if(this.yo[this.yuka_ride_id].con>=350&&this.yo[this.yuka_ride_id].con<400){var E=this.getSHCOY(this.yo[this.yuka_ride_id].x,this.yo[this.yuka_ride_id].y,this.yo[this.yuka_ride_id].x2,this.yo[this.yuka_ride_id].y2);E>=0?(this.co_j.y=E,this.maps.getBGCode(this.co_j.x+15,this.co_j.y+31)>=20&&(this.co_j.y=32*vi(this.co_j.y+31,5)-32)):this.co_j.y=this.yo[this.yuka_ride_id].y+32}else if(this.yo[this.yuka_ride_id].con>=400&&this.yo[this.yuka_ride_id].con<450){var V=this.getSWUpOY(this.yo[this.yuka_ride_id].x,this.yo[this.yuka_ride_id].y,this.yo[this.yuka_ride_id].x2,this.yo[this.yuka_ride_id].y2);if(V>=0)this.co_j.y=V,this.maps.getBGCode(this.co_j.x+15,this.co_j.y+31)>=20&&(this.co_j.y=32*vi(this.co_j.y+31,5)-32);else{this.co_j.y=this.yo[this.yuka_ride_id].y+128-32;for(var W=0;!(W>this.yuka_id_max);){if(this.yo[W].con>=400&&this.yo[W].con<450&&this.yo[W].x==this.yo[this.yuka_ride_id].x-256&&this.yo[W].y==this.yo[this.yuka_ride_id].y+128){var L=this.getSWUpOY(this.yo[W].x,this.yo[W].y,this.yo[W].x2,this.yo[W].y2);if(L>=0){this.co_j.y=L;break}}W++}}}else if(this.yo[this.yuka_ride_id].con>=450&&this.yo[this.yuka_ride_id].con<500){var D=this.getSWDownOY(this.yo[this.yuka_ride_id].x,this.yo[this.yuka_ride_id].y,this.yo[this.yuka_ride_id].x2,this.yo[this.yuka_ride_id].y2);if(D>=0)this.co_j.y=D,this.maps.getBGCode(this.co_j.x+15,this.co_j.y+31)>=20&&(this.co_j.y=32*vi(this.co_j.y+31,5)-32);else{this.co_j.y=this.yo[this.yuka_ride_id].y-32;for(var F=0;F<=this.yuka_id_max;F++)if(!(this.yo[F].con<400||this.yo[F].con>=450||this.yo[F].x!=this.yo[this.yuka_ride_id].x-256||this.yo[F].y!=this.yo[this.yuka_ride_id].y)){var H=this.getSWUpOY(this.yo[F].x,this.yo[F].y,this.yo[F].x2,this.yo[F].y2);if(!(H<0)){this.co_j.y=H;break}}}}if(this.co_j.jimen_f&&(19==r?o>vi(this.co_j.x+15,5)?(this.co_j.y=32*(_-1),19==this.maps.map_bg[vi(this.co_j.x+15,5)][_-1]?this.co_j.y=this.getSakamichiY(this.co_j.x+15,this.co_j.y+31):18==this.maps.map_bg[vi(this.co_j.x+15,5)][_]?this.co_j.y=this.getSakamichiY(this.co_j.x+15,this.co_j.y+32):this.maps.map_bg[vi(this.co_j.x+15,5)][_]<19&&15!=this.maps.map_bg[vi(this.co_j.x+15,5)][_]&&(this.co_j.vy=this.co_j.vx,(10==this.j_tokugi||12==this.j_tokugi||13==this.j_tokugi)&&this.co_j.vy<-40&&(this.co_j.vy=-40),this.co_j.vy>=0&&(this.co_j.y-=li(-this.co_j.vy/-10)))):this.co_j.y=this.getSakamichiY(this.co_j.x+15,this.co_j.y+31):18==r?o>vi(this.co_j.x+15,5)?(this.co_j.y=32*_,19==this.maps.map_bg[vi(this.co_j.x+15,5)][_]?this.co_j.y=this.getSakamichiY(this.co_j.x+15,this.co_j.y+31):18==this.maps.map_bg[vi(this.co_j.x+15,5)][_+1]?this.co_j.y=this.getSakamichiY(this.co_j.x+15,32*(_+1)):this.maps.map_bg[vi(this.co_j.x+15,5)][_+1]<18&&(this.co_j.vy=-1*this.co_j.vx,this.co_j.y+=li(this.co_j.vx/-10))):this.co_j.y=this.getSakamichiY(this.co_j.x+15,this.co_j.y+31):(g>=20||10==g||15==g)&&o>vi(this.co_j.x+15,5)&&(this.co_j.y=32*_,18==this.maps.map_bg[vi(this.co_j.x+15,5)][_+1]&&(this.co_j.y=this.getSakamichiY(this.co_j.x+15,32*(_+1))))),this.co_j.jimen_f){var U=vi(this.co_j.x+15,5),q=this.maps.map_bg[U][vi(this.co_j.y,5)],K=vi(this.co_j.y+31,5),J=this.maps.map_bg[U][K];(18==q&&!this.map_data_option[U][vi(this.co_j.y,5)]||18==J&&!this.map_data_option[U][K])&&o>U&&this.co_j.y>this.getSakamichiY(this.co_j.x+15,this.co_j.y+31)&&(this.co_j.x=32*U+17,this.co_j.vx=0)}else{var Z=vi(this.co_j.x+15,5),X=this.maps.map_bg[Z][vi(this.co_j.y,5)],$=vi(this.co_j.y+31,5),Q=this.maps.map_bg[Z][$];19==r&&n&&o>Z&&(this.saka_mushi_y<0||$!=this.saka_mushi_y&&$!=this.saka_mushi_y+1)&&(this.co_j.y=32*_-32,19==this.maps.map_bg[Z][$]&&(this.co_j.y=this.getSakamichiY(this.co_j.x+15,this.co_j.y+31))),(18==X&&!this.map_data_option[Z][vi(this.co_j.y,5)]||18==Q&&!this.map_data_option[Z][$])&&o>Z&&(this.co_j.x=32*Z+17,this.co_j.vx=0),19==X&&!this.map_data_option[Z][vi(this.co_j.y,5)]&&o>Z&&(this.co_j.x=32*Z+17,this.co_j.vx=0)}if(this.a_hf)for(var tt=0;tt<=this.a_kazu;tt++)if(this.co_a[tt].gf){var it=this.co_a[tt];if(it.c>=100&&it.c<200)this.co_j.x+15>=it.x&&this.co_j.x<=it.x+64&&this.co_j.y+31>=it.y&&this.co_j.y<=it.y+13&&(this.co_j.x=it.x+65,this.co_j.vx=0);else if(300!=it.c)if(it.c>=400&&it.c<500){if(this.co_j.x+15<it.x||this.co_j.x>it.x+80||this.co_j.y+31<it.y||this.co_j.y>it.y+63)continue;if(16==it.c4&&410==it.c&&1!=this.souko_count3&&1!=it.vx){if(this.maps.getBGCode(it.x,it.y+64)<18&&this.maps.getBGCode(it.x+31,it.y+64)<18&&this.maps.getBGCode(it.x+63,it.y+64)<18&&this.maps.getBGCode(it.x+95,it.y+64)<18){for(var st=!1,ht=-1,et=0;!(et>this.a_kazu);){if(410==this.co_a[et].c&&16==this.co_a[et].c4&&et!=tt&&this.co_a[et].x+95>=it.x&&this.co_a[et].x<=it.x+95&&it.y+64>=this.co_a[et].y&&it.y+16<=this.co_a[et].y){st=!0,it.y=this.co_a[et].y-64,ht=et;break}et++}if(st){var at=it.x,ct=it.x;it.x=this.co_j.x+15-96,it.x<at-4&&(it.x=at-4,this.co_j.vx<-40&&(this.co_j.vx=-40)),(this.maps.getBGCode(it.x,it.y)>=18||this.maps.getBGCode(it.x,it.y+31)>=18||this.maps.getBGCode(it.x,it.y+63)>=18)&&(it.x=32*vi(it.x,5)+32,this.co_j.vx=0);for(var ot=0;ot<=this.a_kazu;ot++)3e3!=this.co_a[ot].c||this.co_a[ot].y!=it.y||ct<=this.co_a[ot].x||it.x>this.co_a[ot].x||(it.x=this.co_a[ot].x,this.co_j.vx=0,1==this.co_a[ot].c3&&(it.vx=1));for(var _t=!1,rt=0;!(rt>this.a_kazu);){if(410==this.co_a[rt].c&&16==this.co_a[rt].c4&&rt!=tt&&this.co_a[rt].x+95>=it.x&&this.co_a[rt].x<=it.x+95&&it.y+64>=this.co_a[rt].y&&it.y+16<=this.co_a[rt].y){_t=!0,it.y=this.co_a[rt].y-64;break}rt++}!_t&&this.maps.getBGCode(it.x,it.y+64)<18&&this.maps.getBGCode(it.x+31,it.y+64)<18&&this.maps.getBGCode(it.x+63,it.y+64)<18&&this.maps.getBGCode(it.x+95,it.y+64)<18&&(it.x=ht>=0?this.co_a[ht].x-96:32*vi(it.x+31,5),this.co_j.vx=0),ht>=0&&this.co_a[ht].x-96>=it.x&&this.maps.getBGCode(this.co_a[ht].x-96,it.y+64)<18&&this.maps.getBGCode(this.co_a[ht].x-96+31,it.y+64)<18&&this.maps.getBGCode(this.co_a[ht].x-96+63,it.y+64)<18&&this.maps.getBGCode(this.co_a[ht].x-96+95,it.y+64)<18&&(it.x=this.co_a[ht].x-96),this.co_j.x=it.x+81}else this.co_j.x=it.x+81,this.co_j.vx=0;continue}var nt=it.x,mt=it.x;it.x=this.co_j.x+15-96,it.x<nt-4&&(it.x=nt-4,this.co_j.vx<-40&&(this.co_j.vx=-40)),(this.maps.getBGCode(it.x,it.y)>=18||this.maps.getBGCode(it.x,it.y+31)>=18||this.maps.getBGCode(it.x,it.y+63)>=18)&&(it.x=32*vi(it.x,5)+32,this.co_j.vx=0);for(var gt=0;gt<=this.a_kazu;gt++)410==this.co_a[gt].c&&16==this.co_a[gt].c4&&gt!=tt&&this.co_a[gt].x+95>=it.x&&this.co_a[gt].x<=it.x+95&&it.y+63>=this.co_a[gt].y&&it.y<=this.co_a[gt].y+63&&(it.x=this.co_a[gt].x+96);this.maps.getBGCode(it.x,it.y+64)<18&&this.maps.getBGCode(it.x+31,it.y+64)<18&&this.maps.getBGCode(it.x+63,it.y+64)<18&&this.maps.getBGCode(it.x+95,it.y+64)<18&&(it.x=32*vi(it.x+31,5)),vi(it.x+31,5)<vi(mt+31,5)&&this.maps.getBGCode(32*vi(it.x+31,5),it.y+64)<18&&this.maps.getBGCode(32*vi(it.x+31,5)+31,it.y+64)<18&&this.maps.getBGCode(32*vi(it.x+31,5)+63,it.y+64)<18&&this.maps.getBGCode(32*vi(it.x+31,5)+95,it.y+64)<18&&(it.x=32*vi(it.x+31,5));for(var pt=0;pt<=this.a_kazu;pt++)3e3!=this.co_a[pt].c||this.co_a[pt].y!=it.y||mt<=this.co_a[pt].x||it.x>this.co_a[pt].x||(it.x=this.co_a[pt].x,this.co_j.vx=0,1==this.co_a[pt].c3&&(it.vx=1));this.co_j.x=it.x+81}else this.co_j.x=it.x+81,this.co_j.vx=0}else 500!=it.c?it.c>=600&&it.c<700?this.co_j.x+15>=it.x&&this.co_j.x<=it.x+48&&this.co_j.y+31>=it.y+16&&this.co_j.y<=it.y+47&&(this.co_j.x=it.x+49,this.co_j.vx=0):700!=it.c?3100==it.c&&this.co_j.x+15>=it.x&&this.co_j.x+15<=it.x+31&&this.co_j.y+31>=it.y&&this.co_j.y<=it.y+127&&a+15>=it.x+32&&(this.co_j.x=it.x+32-15,this.co_j.vx=0):10!=this.j_tokugi&&12!=this.j_tokugi&&13!=this.j_tokugi&&this.co_j.x+15>=it.x&&this.co_j.x<=it.x+16&&this.co_j.y+31>=it.y&&this.co_j.y<=it.y+31&&(this.co_j.x=it.x+17,this.co_j.vx=0):this.co_j.x+15>=it.x&&this.co_j.x<=it.x+80&&this.co_j.y+31>=it.y&&this.co_j.y<=it.y+13&&(this.co_j.x=it.x+81,this.co_j.vx=0);else it.c3<200&&this.co_j.x+15>=it.x&&this.co_j.x<=it.x+48&&this.co_j.y+31>=it.y&&this.co_j.y<=it.y+31&&(this.co_j.x=it.x+49,this.co_j.vx=0)}this.yuka_id_max>=0&&this.atariYuka(0);var yt=vi(this.co_j.x+15,5),ut=this.maps.map_bg[yt][vi(this.co_j.y,5)],dt=vi(this.co_j.y+31,5),jt=this.maps.map_bg[yt][dt];(ut>=20||jt>=20)&&(this.co_j.x=32*yt+17,this.co_j.vx=0),this.co_j.vx>=0&&(this.j_cannon_c=0)}else if(this.co_j.vx>0){if(this.co_j.x+=li(this.co_j.vx/10),this.yuka_ride_id>=0)if(this.yo[this.yuka_ride_id].con>=200&&this.yo[this.yuka_ride_id].con<300){var ft=this.getSLOY(this.yo[this.yuka_ride_id].x,this.yo[this.yuka_ride_id].y,this.yo[this.yuka_ride_id].x2,this.yo[this.yuka_ride_id].y2);if(ft>=0)this.co_j.y=ft,this.yo[this.yuka_ride_id].y<this.yo[this.yuka_ride_id].y2&&this.maps.getBGCode(this.co_j.x+15,this.co_j.y+31)>=20&&(this.co_j.y=32*vi(this.co_j.y+31,5)-32);else{var lt;for(this.co_j.y=this.yo[this.yuka_ride_id].y2-32,lt=0;lt<=this.yuka_id_max;lt++)if(!(this.yo[lt].con<200||this.yo[lt].con>=300||this.yo[lt].x!=this.yo[this.yuka_ride_id].x2||this.yo[lt].y!=this.yo[this.yuka_ride_id].y2)){var vt=this.getSLOY(this.yo[lt].x,this.yo[lt].y,this.yo[lt].x2,this.yo[lt].y2);if(!(vt<0)){this.co_j.y=vt;break}}lt>this.yuka_id_max&&(this.yo[this.yuka_ride_id].y>=this.yo[this.yuka_ride_id].y2?this.co_j.vy=0:this.co_j.vy=75)}}else if(this.yo[this.yuka_ride_id].con>=300&&this.yo[this.yuka_ride_id].con<350){var xt=this.getSCOY(this.yo[this.yuka_ride_id].x,this.yo[this.yuka_ride_id].y,this.yo[this.yuka_ride_id].x2,this.yo[this.yuka_ride_id].y2);if(xt>=0)this.co_j.y=xt,this.maps.getBGCode(this.co_j.x+15,this.co_j.y+31)>=20&&(this.co_j.y=32*vi(this.co_j.y+31,5)-32);else{var kt=li(90*this.yo[this.yuka_ride_id].x2/100);this.co_j.y=this.yo[this.yuka_ride_id].y-Math.floor(Math.sqrt(this.yo[this.yuka_ride_id].x2*this.yo[this.yuka_ride_id].x2-kt*kt))-32}}else if(this.yo[this.yuka_ride_id].con>=350&&this.yo[this.yuka_ride_id].con<400){var wt=this.getSHCOY(this.yo[this.yuka_ride_id].x,this.yo[this.yuka_ride_id].y,this.yo[this.yuka_ride_id].x2,this.yo[this.yuka_ride_id].y2);wt>=0?(this.co_j.y=wt,this.maps.getBGCode(this.co_j.x+15,this.co_j.y+31)>=20&&(this.co_j.y=32*vi(this.co_j.y+31,5)-32)):this.co_j.y=this.yo[this.yuka_ride_id].y+32}else if(this.yo[this.yuka_ride_id].con>=400&&this.yo[this.yuka_ride_id].con<450){var bt=this.getSWUpOY(this.yo[this.yuka_ride_id].x,this.yo[this.yuka_ride_id].y,this.yo[this.yuka_ride_id].x2,this.yo[this.yuka_ride_id].y2);if(bt>=0)this.co_j.y=bt,this.maps.getBGCode(this.co_j.x+15,this.co_j.y+31)>=20&&(this.co_j.y=32*vi(this.co_j.y+31,5)-32);else{this.co_j.y=this.yo[this.yuka_ride_id].y-32;for(var St=0;!(St>this.yuka_id_max);){if(this.yo[St].con>=450&&this.yo[St].con<500&&this.yo[St].x==this.yo[this.yuka_ride_id].x+256&&this.yo[St].y==this.yo[this.yuka_ride_id].y){var Mt=this.getSWDownOY(this.yo[St].x,this.yo[St].y,this.yo[St].x2,this.yo[St].y2);if(Mt>=0){this.co_j.y=Mt;break}}St++}}}else if(this.yo[this.yuka_ride_id].con>=450&&this.yo[this.yuka_ride_id].con<500){var Ct=this.getSWDownOY(this.yo[this.yuka_ride_id].x,this.yo[this.yuka_ride_id].y,this.yo[this.yuka_ride_id].x2,this.yo[this.yuka_ride_id].y2);if(Ct>=0)this.co_j.y=Ct,this.maps.getBGCode(this.co_j.x+15,this.co_j.y+31)>=20&&(this.co_j.y=32*vi(this.co_j.y+31,5)-32);else{this.co_j.y=this.yo[this.yuka_ride_id].y+128-32;for(var It=0;It<=this.yuka_id_max;It++)if(!(this.yo[It].con<450||this.yo[It].con>=500||this.yo[It].x!=this.yo[this.yuka_ride_id].x+256||this.yo[It].y!=this.yo[this.yuka_ride_id].y+128)){var Bt=this.getSWDownOY(this.yo[It].x,this.yo[It].y,this.yo[It].x2,this.yo[It].y2);if(!(Bt<0)){this.co_j.y=Bt;break}}}}if(this.co_j.jimen_f&&(18==r?o<vi(this.co_j.x+15,5)?(this.co_j.y=32*(_-1),18==this.maps.map_bg[vi(this.co_j.x+15,5)][_-1]?this.co_j.y=this.getSakamichiY(this.co_j.x+15,this.co_j.y+31):19==this.maps.map_bg[vi(this.co_j.x+15,5)][_]?this.co_j.y=this.getSakamichiY(this.co_j.x+15,this.co_j.y+32):this.maps.map_bg[vi(this.co_j.x+15,5)][_]<18&&15!=this.maps.map_bg[vi(this.co_j.x+15,5)][_]&&(this.co_j.vy=-1*this.co_j.vx,(10==this.j_tokugi||12==this.j_tokugi||13==this.j_tokugi)&&this.co_j.vy<-40&&(this.co_j.vy=-40),this.co_j.y+=li(this.co_j.vy/-10))):this.co_j.y=this.getSakamichiY(this.co_j.x+15,this.co_j.y+31):19==r?o<vi(this.co_j.x+15,5)?(this.co_j.y=32*_,18==this.maps.map_bg[vi(this.co_j.x+15,5)][_]?this.co_j.y=this.getSakamichiY(this.co_j.x+15,this.co_j.y+31):19==this.maps.map_bg[vi(this.co_j.x+15,5)][_+1]?this.co_j.y=this.getSakamichiY(this.co_j.x+15,32*(_+1)):this.maps.map_bg[vi(this.co_j.x+15,5)][_+1]<18&&(this.co_j.vy=this.co_j.vx,this.co_j.y+=li(this.co_j.vx/10))):this.co_j.y=this.getSakamichiY(this.co_j.x+15,this.co_j.y+31):(g>=20||10==g||15==g)&&o<vi(this.co_j.x+15,5)&&(this.co_j.y=32*_,19==this.maps.map_bg[vi(this.co_j.x+15,5)][_+1]&&(this.co_j.y=this.getSakamichiY(this.co_j.x+15,32*(_+1))))),this.co_j.jimen_f){var Gt=vi(this.co_j.x+15,5),zt=this.maps.map_bg[Gt][vi(this.co_j.y,5)],At=vi(this.co_j.y+31,5),Pt=this.maps.map_bg[Gt][At];(19==zt&&!this.map_data_option[Gt][vi(this.co_j.y,5)]||19==Pt&&!this.map_data_option[Gt][At])&&o<Gt&&this.co_j.y>this.getSakamichiY(this.co_j.x+15,this.co_j.y+31)&&(this.co_j.x=32*Gt-16,this.co_j.vx=0)}else{var Nt=vi(this.co_j.x+15,5),Ot=this.maps.map_bg[Nt][vi(this.co_j.y,5)],Yt=vi(this.co_j.y+31,5),Tt=this.maps.map_bg[Nt][Yt];18==r&&n&&o<Nt&&(this.saka_mushi_y<0||Yt!=this.saka_mushi_y&&Yt!=this.saka_mushi_y+1)&&(this.co_j.y=32*_-32,18==this.maps.map_bg[Nt][Yt]&&(this.co_j.y=this.getSakamichiY(this.co_j.x+15,this.co_j.y+31))),(19==Ot&&!this.map_data_option[Nt][vi(this.co_j.y,5)]||19==Tt&&!this.map_data_option[Nt][Yt])&&o<Nt&&(this.co_j.x=32*Nt-16,this.co_j.vx=0),18==Ot&&!this.map_data_option[Nt][vi(this.co_j.y,5)]&&o<Nt&&(this.co_j.x=32*Nt-16,this.co_j.vx=0)}if(this.a_hf)for(var Rt=0;Rt<=this.a_kazu;Rt++)if(this.co_a[Rt].gf){var Et=this.co_a[Rt];if(Et.c>=100&&Et.c<200)this.co_j.x+15>=Et.x&&this.co_j.x<=Et.x+64&&this.co_j.y+31>=Et.y&&this.co_j.y<=Et.y+13&&(this.co_j.x=Et.x-16,this.co_j.vx=0);else if(300!=Et.c)if(Et.c>=400&&Et.c<500){if(this.co_j.x+15<Et.x||this.co_j.x>Et.x+80||this.co_j.y+31<Et.y||this.co_j.y>Et.y+63)continue;if(16==Et.c4&&410==Et.c&&1!=this.souko_count3&&1!=Et.vx){if(this.maps.getBGCode(Et.x,Et.y+64)<18&&this.maps.getBGCode(Et.x+31,Et.y+64)<18&&this.maps.getBGCode(Et.x+63,Et.y+64)<18&&this.maps.getBGCode(Et.x+95,Et.y+64)<18){for(var Vt=!1,Wt=-1,Lt=0;!(Lt>this.a_kazu);){if(410==this.co_a[Lt].c&&16==this.co_a[Lt].c4&&Lt!=Rt&&this.co_a[Lt].x+95>=Et.x&&this.co_a[Lt].x<=Et.x+95&&Et.y+64>=this.co_a[Lt].y&&Et.y+16<=this.co_a[Lt].y){Vt=!0,Et.y=this.co_a[Lt].y-64,Wt=Lt;break}Lt++}if(Vt){var Dt=Et.x,Ft=Et.x;Et.x=this.co_j.x+16,Et.x>Dt+4&&(Et.x=Dt+4,this.co_j.vx>40&&(this.co_j.vx=40)),(this.maps.getBGCode(Et.x+95,Et.y)>=18||this.maps.getBGCode(Et.x+95,Et.y+31)>=18||this.maps.getBGCode(Et.x+95,Et.y+63)>=18)&&(Et.x=32*vi(Et.x+95,5)-96,this.co_j.vx=0);for(var Ht=0;Ht<=this.a_kazu;Ht++)3e3!=this.co_a[Ht].c||this.co_a[Ht].y!=Et.y||Ft>=this.co_a[Ht].x||Et.x<this.co_a[Ht].x||(Et.x=this.co_a[Ht].x,this.co_j.vx=0,1==this.co_a[Ht].c3&&(Et.vx=1));for(var Ut=!1,qt=0;!(qt>this.a_kazu);){if(410==this.co_a[qt].c&&16==this.co_a[qt].c4&&qt!=Rt&&this.co_a[qt].x+95>=Et.x&&this.co_a[qt].x<=Et.x+95&&Et.y+64>=this.co_a[qt].y&&Et.y+16<=this.co_a[qt].y){Ut=!0,Et.y=this.co_a[qt].y-64;break}qt++}!Ut&&this.maps.getBGCode(Et.x,Et.y+64)<18&&this.maps.getBGCode(Et.x+31,Et.y+64)<18&&this.maps.getBGCode(Et.x+63,Et.y+64)<18&&this.maps.getBGCode(Et.x+95,Et.y+64)<18&&(Et.x=Wt>=0?this.co_a[Wt].x+96:32*vi(Et.x,5),this.co_j.vx=0),Wt>=0&&this.co_a[Wt].x+96<=Et.x&&this.maps.getBGCode(this.co_a[Wt].x+96,Et.y+64)<18&&this.maps.getBGCode(this.co_a[Wt].x+96+31,Et.y+64)<18&&this.maps.getBGCode(this.co_a[Wt].x+96+63,Et.y+64)<18&&this.maps.getBGCode(this.co_a[Wt].x+96+95,Et.y+64)<18&&(Et.x=this.co_a[Wt].x+96),this.co_j.x=Et.x-16}else this.co_j.x=Et.x-16,this.co_j.vx=0;continue}var Kt=Et.x,Jt=Et.x;Et.x=this.co_j.x+16,Et.x>Kt+4&&(Et.x=Kt+4,this.co_j.vx>40&&(this.co_j.vx=40)),(this.maps.getBGCode(Et.x+95,Et.y)>=18||this.maps.getBGCode(Et.x+95,Et.y+31)>=18||this.maps.getBGCode(Et.x+95,Et.y+63)>=18)&&(Et.x=32*vi(Et.x+95,5)-96,this.co_j.vx=0);for(var Zt=0;Zt<=this.a_kazu;Zt++)410==this.co_a[Zt].c&&16==this.co_a[Zt].c4&&Zt!=Rt&&this.co_a[Zt].x+95>=Et.x&&this.co_a[Zt].x<=Et.x+95&&Et.y+63>=this.co_a[Zt].y&&Et.y<=this.co_a[Zt].y+63&&(Et.x=this.co_a[Zt].x-96);this.maps.getBGCode(Et.x,Et.y+64)<18&&this.maps.getBGCode(Et.x+31,Et.y+64)<18&&this.maps.getBGCode(Et.x+63,Et.y+64)<18&&this.maps.getBGCode(Et.x+95,Et.y+64)<18&&(Et.x=32*vi(Et.x,5)),vi(Et.x,5)>vi(Jt,5)&&this.maps.getBGCode(32*vi(Et.x,5),Et.y+64)<18&&this.maps.getBGCode(32*vi(Et.x,5)+31,Et.y+64)<18&&this.maps.getBGCode(32*vi(Et.x,5)+63,Et.y+64)<18&&this.maps.getBGCode(32*vi(Et.x,5)+95,Et.y+64)<18&&(Et.x=32*vi(Et.x,5));for(var Xt=0;Xt<=this.a_kazu;Xt++)3e3!=this.co_a[Xt].c||this.co_a[Xt].y!=Et.y||Jt>=this.co_a[Xt].x||Et.x<this.co_a[Xt].x||(Et.x=this.co_a[Xt].x,this.co_j.vx=0,1==this.co_a[Xt].c3&&(Et.vx=1));this.co_j.x=Et.x-16}else this.co_j.x=Et.x-16,this.co_j.vx=0}else 500!=Et.c?Et.c>=600&&Et.c<700?this.co_j.x+15>=Et.x&&this.co_j.x<=Et.x+48&&this.co_j.y+31>=Et.y+16&&this.co_j.y<=Et.y+47&&(this.co_j.x=Et.x-16,this.co_j.vx=0):700!=Et.c?3110==Et.c&&this.co_j.x+15>=Et.x&&this.co_j.x+15<=Et.x+31&&this.co_j.y+31>=Et.y&&this.co_j.y<=Et.y+127&&a+15<Et.x&&(this.co_j.x=Et.x-16,this.co_j.vx=0):10!=this.j_tokugi&&12!=this.j_tokugi&&13!=this.j_tokugi&&this.co_j.x+15>=Et.x&&this.co_j.x<=Et.x+16&&this.co_j.y+31>=Et.y&&this.co_j.y<=Et.y+31&&(this.co_j.x=Et.x-16,this.co_j.vx=0):this.co_j.x+15>=Et.x&&this.co_j.x<=Et.x+80&&this.co_j.y+31>=Et.y&&this.co_j.y<=Et.y+13&&(this.co_j.x=Et.x-16,this.co_j.vx=0);else Et.c3<200&&this.co_j.x+15>=Et.x&&this.co_j.x<=Et.x+48&&this.co_j.y+31>=Et.y&&this.co_j.y<=Et.y+31&&(this.co_j.x=Et.x-16,this.co_j.vx=0)}this.yuka_id_max>=0&&this.atariYuka(1);var $t=vi(this.co_j.x+15,5),Qt=this.maps.map_bg[$t][vi(this.co_j.y,5)],ti=vi(this.co_j.y+31,5),ii=this.maps.map_bg[$t][ti];(Qt>=20||ii>=20)&&(this.co_j.x=32*$t-16,this.co_j.vx=0),this.co_j.vx<=0&&(this.j_cannon_c=0)}if(!this.j_mizu_f&&this.checkWater(this.co_j.x+15,this.co_j.y+15)?(this.j_mizu_f=!0,this.j_mizu_awa_c=38):this.j_mizu_f&&!this.checkWater(this.co_j.x+15,this.co_j.y+15)&&(this.j_jump_type=2,this.co_j.pt=101,this.co_j.ac=0,this.co_j.vy=0,this.j_jump_level=1),this.co_j.jimen_f)if(this.gk.tr1_c>=1&&this.gk.tr1_c<=5){if(1==this.jst_pc_attack&&1==this.gk.tr1_c&&this.gk.down_f&&this.j_cannon_c<=0&&(0==this.co_j.muki&&this.maps.getBGCode(this.co_j.x+14,this.co_j.y+31)<20||1==this.co_j.muki&&this.maps.getBGCode(this.co_j.x+16,this.co_j.y+31)<20))this.j_zan_f=!1,this.j_jet_c=0,0==this.co_j.muki?this.co_j.vx=-140:this.co_j.vx=140,this.co_j.vy=0,this.j_jump_type=0,this.co_j.ac=0,this.j_jump_level=5,this.j_djump_kf=!0,this.co_j.pt=1400,this.j_cannon_c=18,this.j_cannon_type=3,this.gs.rsAddSound(17);else if(2==this.jst_pc_attack&&1==this.gk.tr1_c&&this.gk.down_f&&this.j_cannon_c<=0&&(0==this.co_j.muki&&this.maps.getBGCode(this.co_j.x+14,this.co_j.y+31)<20||1==this.co_j.muki&&this.maps.getBGCode(this.co_j.x+16,this.co_j.y+31)<20))this.j_zan_f=!1,this.j_jet_c=0,0==this.co_j.muki?this.co_j.vx=-140:this.co_j.vx=140,this.co_j.vy=0,this.j_jump_type=0,this.co_j.ac=0,this.j_jump_level=5,this.j_djump_kf=!0,this.co_j.pt=84,this.j_cannon_c=18,this.j_cannon_type=4,this.gs.rsAddSound(23);else if(this.maps.getBGCode(this.co_j.x+15,this.co_j.y-1)>=20||18==this.maps.getBGCode(this.co_j.x+15,this.co_j.y-1)&&!this.map_data_option[vi(this.co_j.x+15,5)][vi(this.co_j.y-1,5)]){if((10!=this.j_tokugi&&12!=this.j_tokugi&&13!=this.j_tokugi||!this.gk.z_f)&&1==this.gk.tr1_c&&40==this.maps.getBGCode(this.co_j.x+15,this.co_j.y-1)){var si=vi(this.co_j.x+15,5),hi=vi(this.co_j.y-1,5);this.hAttack(si,hi)}if(e=this.maps.getBGCode(this.co_j.x+15,this.co_j.y-1),(12!=this.j_tokugi&&13!=this.j_tokugi||!this.gk.z_f)&&this.j_helm_f&&(20==e||69==e&&1==this.suberuyuka_hkf)){this.gk.tr1_c=6;var ei=vi(this.co_j.x+15,5),ai=vi(this.co_j.y-1,5);4==this.maps.map_bg[vi(this.co_j.x+15,5)][vi(this.co_j.y-1,5)+1]?this.maps.putBGCode(ei,ai,4):this.maps.putBGCode(ei,ai,0),12==this.j_tokugi||13==this.j_tokugi?this.anaSet2(ei,ai):(this.mSet2(32*ei,32*ai,80,12,-24),this.mSet2(32*ei,32*ai,80,-12,-24)),this.gs.rsAddSound(16),this.jZutuki(32*ei,32*ai-32,0)}}else if(10!=this.j_tokugi&&12!=this.j_tokugi&&13!=this.j_tokugi||(1==this.gk.tr1_c&&this.j_fire_f&&(this.gk.z_f||0==this.co_j.muki?this.jmSet(this.co_j.x,this.co_j.y,100):this.jmSet(this.co_j.x,this.co_j.y,105)),this.gk.tr1_c>0&&this.j_jet_fuel>0&&!this.j_mizu_f&&!this.gk.z_f&&!this.gk.x_f&&10!=this.maps.getBGCode(this.co_j.x+15,this.co_j.y+31)&&(this.j_jet_c=100,this.j_jet_kf=!0,this.co_j.vy=-90,this.j_jump_level=1,this.co_j.x=32*vi(this.co_j.x+15,5),this.co_j.vx=0,2==this.j_jump_type&&(this.j_jump_type=0),1==this.gk.tr1_c&&this.gs.rsAddSound(26))),(10!=this.j_tokugi&&12!=this.j_tokugi&&13!=this.j_tokugi||this.j_mizu_f)&&10!=this.maps.getBGCode(this.co_j.x+15,this.co_j.y+31))if(this.j_mizu_f)this.j_jump_type=0,this.co_j.pt=83,this.co_j.ac=0,this.j_mizu_ac=0,this.j_jet_kf=!1,this.j_jdai_f?(this.co_j.y=32*vi(this.co_j.y,5),this.co_j.vy=-120,this.j_jump_level=0,this.gs.rsAddSound(3)):Math.abs(this.co_j.vx)>50?(this.co_j.vy=-90,this.j_jump_level=0):(this.co_j.vy=-70,this.j_jump_level=0);else{this.j_jump_type=0,this.co_j.pt=101,this.co_j.ac=0,1!=this.jst_fire_xkey_only&&this.j_fire_f&&(4==this.j_fire_type?(0==this.co_jm[0].c&&(this.co_jm[0].c=106,this.co_jm[0].x=this.co_j.x,this.co_jm[0].y=this.co_j.y,this.co_jm[0].vx=20,this.co_jm[0].vy=0,this.co_jm[0].c1=0,this.co_jm[0].c2=0,0==this.co_j.muki&&(this.co_jm[0].c=101,this.co_jm[0].vx=-20),this.jm_kazu++,this.gs.rsAddSound(23)),0==this.co_jm[1].c&&(this.co_jm[1].c=106,this.co_jm[1].x=this.co_j.x,this.co_jm[1].y=this.co_j.y,this.co_jm[1].vx=14,this.co_jm[1].vy=-14,this.co_jm[1].c1=0,this.co_jm[1].c2=0,0==this.co_j.muki&&(this.co_jm[1].c=101,this.co_jm[1].vx=-14),this.jm_kazu++,this.gs.rsAddSound(23))):5==this.j_fire_type?0==this.co_j.muki?this.jmSet(this.co_j.x,this.co_j.y,110):this.jmSet(this.co_j.x,this.co_j.y,115):0==this.co_j.muki?this.jmSet(this.co_j.x,this.co_j.y,100):this.jmSet(this.co_j.x,this.co_j.y,105)),this.j_jet_kf=!1;var ci=Math.abs(this.co_j.vx);if(this.j_jdai_f){if(this.co_j.y=32*vi(this.co_j.y,5),this.co_j.vy=-410,this.j_jump_level=5,this.co_a[this.j_a_id].c3<=1)this.co_j.vy=-230,this.gs.rsAddSound(3);else if(this.gs.rsAddSound(4),1==this.co_a[this.j_a_id].c4&&(this.co_j.vy=-460,(e=this.maps.map_bg[vi(this.co_j.x+15,5)][vi(this.co_j.y-1,5)])<=9)){for(var oi=0;oi<=5;oi++)this.j_zan_x[oi]=a,this.j_zan_y[oi]=this.co_a[this.j_a_id].y-32,this.j_zan_pt[oi]=101,this.j_zan_pth[oi]=this.co_j.muki;this.j_zan_p=0,this.j_zan_c=0,this.j_zan_nagasa=5,this.j_zan_f=!0,this.j_zan_cf=!0}}else if(1==this.jst_pc_attack&&this.j_cannon_c>0&&3==this.j_cannon_type)this.co_j.pt=1400,this.j_cannon_c<=5&&(this.co_j.pt=102,this.co_j.vx=0,this.co_j.jimen_f&&(this.co_j.pt=100));else if(2==this.jst_pc_attack&&this.j_cannon_c>0&&4==this.j_cannon_type)this.co_j.pt=84,this.j_cannon_c<=5&&(this.co_j.pt=102,this.co_j.vx=0,this.co_j.jimen_f&&(this.co_j.pt=100));else if(1==this.jst_syouryuuken&&1==this.gk.tr1_c&&this.gk.up_f)this.j_zan_f=!1,this.j_jet_c=0,this.co_j.vx=0,this.co_j.vy=-140,this.j_jump_type=0,this.co_j.ac=0,this.j_jump_level=5,this.j_djump_kf=!0,this.co_j.pt=1300,this.j_cannon_c=9,this.j_cannon_type=2,this.gs.rsAddSound(26);else if(2==this.jst_syouryuuken&&1==this.gk.tr1_c&&this.gk.up_f)this.j_zan_f=!1,this.j_jet_c=0,this.co_j.vx=0,this.co_j.vy=-140,this.j_jump_type=0,this.co_j.ac=0,this.j_jump_level=5,this.j_djump_kf=!0,this.co_j.pt=210,this.j_cannon_c=9,this.j_cannon_type=5,this.gs.rsAddSound(23);else if(1==this.jst_jump_level_fix)this.co_j.vy=-150,this.j_jump_level=1,this.gs.rsAddSound(3);else if(2==this.jst_jump_level_fix)this.co_j.vy=-190,this.j_jump_level=1,this.gs.rsAddSound(3);else if(3==this.jst_jump_level_fix)this.co_j.vy=-230,this.j_jump_level=1,this.gs.rsAddSound(3);else if(4==this.jst_jump_level_fix)this.co_j.vy=-260,this.j_jump_level=1,this.gs.rsAddSound(3);else if(0==ci)this.co_j.vy=-150,this.j_jump_level=1,this.gs.rsAddSound(3);else if(ci<60)this.co_j.vy=-230,this.j_jump_level=2,this.gs.rsAddSound(3);else if(60==ci)this.co_j.vy=-260,this.j_jump_level=3,this.gs.rsAddSound(3);else if(ci<120)this.co_j.vy=-290,this.j_jump_level=4,this.gs.rsAddSound(3);else{this.co_j.vy=-340,this.j_jump_level=5,1==this.jst_high_sjump&&(this.co_j.vy=-390),e=this.maps.map_bg[vi(this.co_j.x+15,5)][vi(this.co_j.y-1,5)];var _i=this.maps.mp.map_data_option[vi(this.co_j.x+15,5)][vi(this.co_j.y-1,5)];if(e<=9||15===e||18===e&&_i||19===e&&_i){for(var ri=0;ri<=5;ri++)this.j_zan_x[ri]=a,this.j_zan_y[ri]=c,this.j_zan_pt[ri]=101,this.j_zan_pth[ri]=this.co_j.muki;this.j_zan_p=0,this.j_zan_c=0,this.j_zan_nagasa=5,this.j_zan_f=!0,this.j_zan_cf=!0,this.gs.rsAddSound(4)}}}}else(18!=r&&19!=r||this.maps.map_bg[vi(this.co_j.x+15,5)][vi(this.co_j.y+31,5)]>=18)&&(this.co_j.vy=0);else if(10!=this.j_tokugi&&12!=this.j_tokugi&&13!=this.j_tokugi||this.j_hashigo_f||this.j_mizu_f||!(Math.abs(32*vi(this.co_j.x,5)-this.co_j.x)<6)||(this.co_j.x=32*vi(this.co_j.x+15,5)),this.j_mizu_f)if(this.gk.left_f?this.co_j.muki=0:this.gk.right_f&&(this.co_j.muki=1),1==this.gk.tr1_c){var ni=!1;(e=this.maps.map_bg[vi(this.co_j.x+15,5)][vi(this.co_j.y+15,5)-1])<=9&&4!=e&&(ni=!0),8!=e&&9!=e||4!=this.maps.map_bg[vi(this.co_j.x+15,5)-1][vi(this.co_j.y+15,5)-1]||(ni=!1),ni&&(this.co_j.y+15)%32<=8?(this.j_jump_type=0,this.co_j.pt=101,this.co_j.ac=0,this.co_j.vy=-180,this.j_jump_level=1,this.co_j.y=32*vi(this.co_j.y+15,5)-14,this.j_jet_kf=!1,t=!0,10!=this.j_tokugi&&12!=this.j_tokugi&&13!=this.j_tokugi||((this.co_j.x+15)%32<=6&&(this.maps.map_bg[vi(this.co_j.x+15,5)-1][vi(this.co_j.y+15,5)]>=20||18==this.maps.map_bg[vi(this.co_j.x+15,5)-1][vi(this.co_j.y+15,5)])?(this.co_j.vx=-30,this.co_j.x=32*vi(this.co_j.x+15,5)-15):(this.co_j.x+15)%32>=25&&this.maps.map_bg[vi(this.co_j.x+15,5)+1][vi(this.co_j.y+15,5)]>=19?(this.co_j.vx=30,this.co_j.x=32*vi(this.co_j.x+15,5)+16):this.co_j.x=32*vi(this.co_j.x+15,5)),this.mSet(this.co_j.x,32*vi(this.co_j.y+15,5)-32,50),this.gs.rsAddSound(20)):(this.j_jump_type=0,this.co_j.ac=0,this.j_mizu_ac<=0&&(this.j_mizu_ac=4,this.co_j.pt=84),this.co_j.vy=-40,this.j_jump_level=0,0==this.co_j.muki?(this.co_j.vx-=30,this.co_j.vx<-60&&(this.co_j.vx=-60)):(this.co_j.vx+=30,this.co_j.vx>60&&(this.co_j.vx=60)))}else this.co_j.vx<0?(0==this.co_j.muki?this.co_j.vx++:this.co_j.vx+=2,this.co_j.vx>0&&(this.co_j.vx=0)):this.co_j.vx>0&&(1==this.co_j.muki?this.co_j.vx--:this.co_j.vx-=2,this.co_j.vx<0&&(this.co_j.vx=0)),this.co_j.vy<40?(this.co_j.vy+=5,this.co_j.vy>40&&(this.co_j.vy=40)):this.co_j.vy>40&&(this.co_j.vy-=20,this.co_j.vy<40&&(this.co_j.vy=40)),this.j_mizu_ac>0?(this.j_mizu_ac--,this.j_mizu_ac>1?this.co_j.pt=84:this.co_j.pt=83):this.co_j.pt=83;else this.j_hashigo_f?10==this.j_tokugi||12==this.j_tokugi||13==this.j_tokugi||1!=this.gk.tr1_c||this.gk.up_f||this.gk.down_f||(0==this.co_j.muki&&this.maps.getBGCode(this.co_j.x-1,this.co_j.y+31)<18&&this.maps.getBGCode(this.co_j.x-1,this.co_j.y)<18&&10!=this.maps.getBGCode(this.co_j.x-1,this.co_j.y+31)&&10!=this.maps.getBGCode(this.co_j.x-1,this.co_j.y)?(this.co_j.vy=0,this.j_jump_level=1,this.j_jump_type=0,this.co_j.pt=103,this.co_j.ac=0,this.gs.rsAddSound(3),this.co_j.vx=-100,this.maps.getBGCode(this.co_j.x-1,this.co_j.y-32)<20&&(this.co_j.vy=-150,this.co_j.x-=6),this.co_j.y=32*vi(this.co_j.y+15,5),this.j_hashigo_mushi_x=vi(this.co_j.x+15,5),this.j_hashigo_f=!1):1==this.co_j.muki&&this.maps.getBGCode(this.co_j.x+32,this.co_j.y+31)<18&&this.maps.getBGCode(this.co_j.x+32,this.co_j.y)<18&&10!=this.maps.getBGCode(this.co_j.x+32,this.co_j.y+31)&&10!=this.maps.getBGCode(this.co_j.x+32,this.co_j.y)&&(this.co_j.vy=0,this.j_jump_level=1,this.j_jump_type=0,this.co_j.pt=103,this.co_j.ac=0,this.gs.rsAddSound(3),this.co_j.vx=100,this.maps.getBGCode(this.co_j.x+32,this.co_j.y-32)<20&&(this.co_j.vy=-150,this.co_j.x+=6),this.co_j.y=32*vi(this.co_j.y+15,5),this.j_hashigo_mushi_x=vi(this.co_j.x+15,5),this.j_hashigo_f=!1)):(this.j_cannon_c<=0&&(this.co_j.vy+=25),this.co_j.vy>160&&(this.co_j.vy=160),1==this.jst_slow_down&&this.j_cannon_c<=0&&6!=this.j_jump_type&&7!=this.j_jump_type&&this.co_j.vy>0&&(this.co_j.vy-=10,this.co_j.vy>70&&(this.co_j.vy=70)),10!=this.j_tokugi&&12!=this.j_tokugi&&13!=this.j_tokugi||(this.co_j.vy>=0&&(this.co_j.vy+=5),this.co_j.vy>90&&(this.co_j.vy=90)),1==this.jst_key_down&&1==this.down_key_c?6!=this.j_jump_type&&(1==this.j_jump_type?this.co_j.vy<100?(this.co_j.vx=0,this.j_jump_type=6,this.co_j.vy=100):this.j_jump_type=6:(this.co_j.vx=0,this.j_jump_type=6,this.co_j.vy<100&&(this.co_j.vy=100))):2==this.jst_key_down&&1==this.down_key_c&&7!=this.j_jump_type&&(this.co_j.vx=0,this.j_jump_type=7,this.co_j.vy<100&&(this.co_j.vy=100),this.gs.rsAddSound(18)),1==this.jst_double_jump&&this.j_djump_kf&&1==this.gk.tr1_c&&!h&&(this.j_djump_kf=!1,Math.abs(this.co_j.vx)<60?(this.co_j.vy=-230,this.j_jump_level=2,this.j_jump_type=0,this.gs.rsAddSound(3)):(this.co_j.vy=-260,this.j_jump_level=3,this.j_jump_type=0,this.gs.rsAddSound(3))),5==this.j_jump_type&&this.co_j.vy>0&&(this.co_j.vy-=5,this.co_j.vy>140&&(this.co_j.vy=140))),1!=this.jst_fire_xkey_only&&1==this.gk.tr1_c&&this.j_fire_f&&(10==this.j_tokugi||12==this.j_tokugi||13==this.j_tokugi?this.gk.z_f||0==this.co_j.muki?this.jmSet(this.co_j.x,this.co_j.y,100):this.jmSet(this.co_j.x,this.co_j.y,105):4==this.j_fire_type?(0==this.co_jm[0].c&&(this.co_jm[0].c=106,this.co_jm[0].x=this.co_j.x,this.co_jm[0].y=this.co_j.y,this.co_jm[0].vx=20,this.co_jm[0].vy=0,this.co_jm[0].c1=0,this.co_jm[0].c2=0,0==this.co_j.muki&&(this.co_jm[0].c=101,this.co_jm[0].vx=-20),this.jm_kazu++,this.gs.rsAddSound(23)),0==this.co_jm[1].c&&(this.co_jm[1].c=106,this.co_jm[1].x=this.co_j.x,this.co_jm[1].y=this.co_j.y,this.co_jm[1].vx=14,this.co_jm[1].vy=-14,this.co_jm[1].c1=0,this.co_jm[1].c2=0,0==this.co_j.muki&&(this.co_jm[1].c=101,this.co_jm[1].vx=-14),this.jm_kazu++,this.gs.rsAddSound(23))):5==this.j_fire_type?0==this.co_j.muki?this.jmSet(this.co_j.x,this.co_j.y,110):this.jmSet(this.co_j.x,this.co_j.y,115):0==this.co_j.muki?this.jmSet(this.co_j.x,this.co_j.y,100):this.jmSet(this.co_j.x,this.co_j.y,105)),0==this.gk.tr1_c&&(this.j_jet_kf=!0),this.j_hashigo_f&&(this.j_jet_kf=!1),(10!=this.j_tokugi&&12!=this.j_tokugi&&13!=this.j_tokugi||!this.gk.z_f&&!this.gk.x_f)&&(this.j_jet_kf&&this.gk.tr1_c>0&&this.j_jet_fuel>0&&!this.j_mizu_f?(this.j_jet_c=100,2==this.j_jump_type&&(this.j_jump_type=0),1==this.gk.tr1_c&&this.gs.rsAddSound(26)):this.j_jet_c>96?this.j_jet_c--:this.j_jet_c=0),this.j_jet_c>=96&&(this.j_jet_fuel--,this.j_jet_fuel<0&&(this.j_jet_fuel=0,this.j_jet_c=0),this.gk.left_f?this.co_j.muki=0:this.gk.right_f&&(this.co_j.muki=1),this.co_j.vy>-150&&(this.co_j.vy-=50,this.co_j.vy<-150&&(this.co_j.vy=-150),(10==this.j_tokugi||12==this.j_tokugi||13==this.j_tokugi)&&this.co_j.vy<-90&&(this.co_j.vy=-90)));if(this.co_j.vy<0){var mi=vi(this.co_j.y,5),gi=this.co_j.vy;if(gi<-320&&(gi=-320),this.co_j.y+=li(gi/10),this.j_hashigo_f&&this.maps.getBGCode(this.co_j.x+15,this.co_j.y+31)<=9&&(this.j_hashigo_f=!1,this.co_j.vy=0),this.j_mizu_f&&!t){var pi=this.maps.getBGCode(this.co_j.x+15,this.co_j.y+15),yi=!1;pi<=9&&4!=pi&&(yi=!0),8!=pi&&9!=pi||4!=this.maps.map_bg[vi(this.co_j.x+15,5)-1][vi(this.co_j.y+15,5)]||(yi=!1),yi&&(this.co_j.y=32*vi(this.co_j.y+15,5)+17,this.co_j.vy=-10)}if(vi(this.co_j.x+15,5)!=this.j_hashigo_mushi_x&&(10==this.maps.getBGCode(this.co_j.x+15,this.co_j.y+15)||10==this.maps.getBGCode(this.co_j.x+15,this.co_j.y+31))){for(var ui=!1,di=0;!(di>this.a_kazu);){if(410==this.co_a[di].c&&this.co_a[di].x<=32*vi(this.co_j.x+15,5)+15&&this.co_a[di].x+95>=32*vi(this.co_j.x+15,5)+15&&8*vi(this.co_j.y,3)+31>=this.co_a[di].y&&8*vi(this.co_j.y,3)<=this.co_a[di].y+63){ui=!0;break}di++}ui||(this.j_hashigo_f=!0,this.co_j.y=8*vi(this.co_j.y,3))}if(this.a_hf)for(var ji=0;ji<=this.a_kazu;ji++)if(this.co_a[ji].gf){var fi=this.co_a[ji];if(85!=fi.c)if(fi.c>=100&&fi.c<200)this.co_j.x+15>=fi.x&&this.co_j.x<=fi.x+64&&this.co_j.y+31>=fi.y&&this.co_j.y<=fi.y+13&&(this.co_j.y=fi.y+14,this.co_j.vy=0);else if(300!=fi.c)if(fi.c>=400&&fi.c<500){if(this.co_j.x+15<fi.x||this.co_j.x>fi.x+80||this.co_j.y+31<fi.y||this.co_j.y>fi.y+63)continue;if(17==fi.c4&&410==fi.c){if(this.co_j.y=fi.y+64,this.co_j.vy=0,fi.y!=fi.vy||this.maps.getBGCode(fi.x,fi.y-1)>=18&&this.maps.getBGCode(fi.x+31,fi.y-1)>=18&&this.maps.getBGCode(fi.x+63,fi.y-1)>=18&&this.maps.getBGCode(fi.x+95,fi.y-1)>=18)continue;fi.vy=32*vi(fi.vy-32,5),fi.vy<320?fi.vy=320:this.gs.rsAddSound(12)}else this.co_j.y=fi.y+64,this.co_j.vy=0}else 500!=fi.c?fi.c>=600&&fi.c<700?this.co_j.x+15>=fi.x&&this.co_j.x<=fi.x+48&&this.co_j.y+31>=fi.y+16&&this.co_j.y<=fi.y+47&&(this.co_j.y=fi.y+48,this.co_j.vy=0):700!=fi.c?3130==fi.c&&this.co_j.x+15>=fi.x&&this.co_j.x+15<=fi.x+127&&this.co_j.y+31>=fi.y&&this.co_j.y<=fi.y+31&&c>fi.y+31&&(this.co_j.y=fi.y+32,this.co_j.vy=0):this.co_j.x+15>=fi.x&&this.co_j.x<=fi.x+16&&this.co_j.y+31>=fi.y&&this.co_j.y<=fi.y+31&&(this.co_j.y=fi.y+32,this.co_j.vy=0):this.co_j.x+15>=fi.x&&this.co_j.x<=fi.x+80&&this.co_j.y+31>=fi.y&&this.co_j.y<=fi.y+13&&(this.co_j.y=fi.y+14,this.co_j.vy=0);else fi.c3<200&&this.co_j.x+15>=fi.x&&this.co_j.x<=fi.x+48&&this.co_j.y+31>=fi.y&&this.co_j.y<=fi.y+31&&(this.co_j.y=fi.y+32,this.co_j.vy=0);else this.co_j.x+15>=fi.x&&this.co_j.x+15<=fi.x+31&&this.co_j.y>=fi.y&&this.co_j.y<=fi.y+31&&(this.co_j.y=fi.y+32,this.co_j.vy=0,fi.c=0,this.maps.putBGCode(vi(fi.x,5),vi(fi.y,5),23),this.gs.rsAddSound(13))}this.yuka_id_max>=0&&this.atariYuka(2);var xi=vi(this.co_j.y,5),ki=this.maps.map_bg[vi(this.co_j.x+15,5)][xi];if(ki>=20){if(this.co_j.y=32*xi+32,this.co_j.vy=0,40==ki){var wi=vi(this.co_j.x+15,5),bi=vi(this.co_j.y-1,5);this.hAttack(wi,bi)}if(this.j_helm_f&&(20==ki||69==ki&&1==this.suberuyuka_hkf)){var Si=vi(this.co_j.x+15,5),Mi=xi;4==this.maps.map_bg[Si][Mi+1]?this.maps.putBGCode(Si,Mi,4):this.maps.putBGCode(Si,Mi,0),12==this.j_tokugi||13==this.j_tokugi?this.anaSet2(Si,Mi):(this.mSet2(32*Si,32*Mi,80,12,-24),this.mSet2(32*Si,32*Mi,80,-12,-24)),this.gs.rsAddSound(16),this.jZutuki(32*Si,32*Mi-32,0)}}if(xi=vi(this.co_j.y,5),ki=this.maps.map_bg[vi(this.co_j.x+15,5)][xi],mi>xi&&(18==ki||19==ki)&&!this.map_data_option[vi(this.co_j.x+15,5)][xi]&&(this.co_j.y=32*xi+32,this.co_j.vy=0,xi=vi(this.co_j.y,5)),mi>xi){if(this.gk.right_f){var Ci=this.maps.map_bg[vi(this.co_j.x+16,5)][mi],Ii=this.maps.map_bg[vi(this.co_j.x+16,5)][xi];Ci<=17&&Ii>=20&&(this.co_j.y=32*xi+32,this.co_j.vy=0)}if(this.gk.left_f){var Bi=this.maps.map_bg[vi(this.co_j.x+14,5)][mi],Gi=this.maps.map_bg[vi(this.co_j.x+14,5)][xi];Bi<=17&&Gi>=20&&(this.co_j.y=32*xi+32,this.co_j.vy=0)}}this.j_cannon_c>0&&this.co_j.vy>=0&&(this.j_cannon_c=0,this.co_j.vx<-120&&(this.co_j.vx=-120),this.co_j.vx>120&&(this.co_j.vx=120))}else if(this.co_j.vy>0){var zi=vi(this.co_j.x+15,5),Ai=vi(this.co_j.y+31,5);if(this.co_j.y+=li(this.co_j.vy/10),vi(this.co_j.x+15,5)!=this.j_hashigo_mushi_x&&10==this.maps.getBGCode(this.co_j.x+15,this.co_j.y+15)){for(var Pi=!1,Ni=0;!(Ni>this.a_kazu);){if(410==this.co_a[Ni].c&&this.co_a[Ni].x<=32*vi(this.co_j.x+15,5)+15&&this.co_a[Ni].x+95>=32*vi(this.co_j.x+15,5)+15&&8*vi(this.co_j.y,3)+31>=this.co_a[Ni].y&&8*vi(this.co_j.y,3)<=this.co_a[Ni].y+63){Pi=!0;break}Ni++}Pi||(this.j_hashigo_f=!0,this.co_j.y=8*vi(this.co_j.y,3))}if(this.a_hf)for(var Oi=0;Oi<=this.a_kazu;Oi++)if(this.co_a[Oi].gf){var Yi=this.co_a[Oi];Yi.c>=100&&Yi.c<200?this.co_j.x+15>=Yi.x&&this.co_j.x<=Yi.x+64&&this.co_j.y+31>=Yi.y&&this.co_j.y<=Yi.y+13&&(this.co_j.y=Yi.y-32,this.co_j.vy=0):300!=Yi.c?Yi.c>=400&&Yi.c<500?this.co_j.x+15>=Yi.x&&this.co_j.x<=Yi.x+80&&this.co_j.y+31>=Yi.y&&this.co_j.y<=Yi.y+63&&(this.co_j.y=Yi.y-32,this.co_j.vy=0):500!=Yi.c?Yi.c>=600&&Yi.c<700?this.co_j.x+15>=Yi.x&&this.co_j.x<=Yi.x+48&&this.co_j.y+31>=Yi.y+16&&this.co_j.y<=Yi.y+47&&(this.co_j.y=Yi.y+16-32,this.co_j.vy=0):700!=Yi.c?3120==Yi.c&&this.co_j.x+15>=Yi.x&&this.co_j.x+15<=Yi.x+127&&this.co_j.y+31>=Yi.y&&this.co_j.y<=Yi.y&&c<=Yi.y-32&&(this.co_j.y=Yi.y-32,this.co_j.vy=0):this.co_j.x+15>=Yi.x&&this.co_j.x<=Yi.x+16&&this.co_j.y+31>=Yi.y&&this.co_j.y<=Yi.y+31&&(this.co_j.y=Yi.y-32,this.co_j.vy=0):this.co_j.x+15>=Yi.x&&this.co_j.x<=Yi.x+80&&this.co_j.y+31>=Yi.y&&this.co_j.y<=Yi.y+13&&(this.co_j.y=Yi.y-32,this.co_j.vy=0):Yi.c3<200&&this.co_j.x+15>=Yi.x&&this.co_j.x<=Yi.x+48&&this.co_j.y+31>=Yi.y&&this.co_j.y<=Yi.y+31&&(this.co_j.y=Yi.y-32,this.co_j.vy=0)}if(this.yuka_id_max>=0&&this.atariYuka(3),10==this.j_tokugi||12==this.j_tokugi||13==this.j_tokugi){if(this.ana_kazu>0)for(var Ti=0;Ti<=this.t_kazu;Ti++)(1250==this.co_t[Ti].c||1310==this.co_t[Ti].c)&&this.co_j.x+15>=this.co_t[Ti].x&&this.co_j.x+15<=this.co_t[Ti].x+31&&this.co_j.y+31>=this.co_t[Ti].y&&this.co_j.y<=this.co_t[Ti].y+31&&(this.co_j.y=this.co_t[Ti].y-32);for(var Ri=0;!(Ri>this.t_kazu);){if(this.co_t[Ri].c>=1200&&this.co_t[Ri].c<=1220&&Math.abs(this.co_j.x-this.co_t[Ri].x)<=24&&this.co_j.y+32>this.co_t[Ri].y&&this.co_j.y+32-12<this.co_t[Ri].y){this.co_j.y=this.co_t[Ri].y-32;break}Ri++}}var Ei,Vi=vi(this.co_j.y+31,5),Wi=this.maps.map_bg[zi][Vi];if(Ai<Vi){var Li=this.maps.map_bg[vi(this.co_j.x+15,5)][Ai];18!=Li&&19!=Li||(this.map_data_option[vi(this.co_j.x+15,5)][Ai]?(this.saka_mushi_y<0||Ai!=this.saka_mushi_y&&Ai!=this.saka_mushi_y+1)&&(this.co_j.vy=0,this.co_j.y=32*Ai,18!=this.maps.map_bg[vi(this.co_j.x+15,5)][vi(this.co_j.y+31,5)]&&19!=this.maps.map_bg[vi(this.co_j.x+15,5)][vi(this.co_j.y+31,5)]||(this.co_j.y=this.getSakamichiY(this.co_j.x+15,this.co_j.y+31))):(this.co_j.y=32*Ai,this.co_j.vy=0))}if(18==(e=this.maps.map_bg[vi(this.co_j.x+15,5)][vi(this.co_j.y+31,5)])||19==e)if(this.map_data_option[vi(this.co_j.x+15,5)][vi(this.co_j.y+31,5)]){if(this.saka_mushi_y<0||vi(this.co_j.y+31,5)!=this.saka_mushi_y){var Di=this.getSakamichiY(this.co_j.x+15,this.co_j.y+31);Di<this.co_j.y&&Di>=c&&(this.co_j.y=Di)}}else{var Fi=this.getSakamichiY(this.co_j.x+15,this.co_j.y+31);Fi<this.co_j.y&&(this.co_j.y=Fi)}if(Vi=vi(this.co_j.y+31,5),15==(Wi=this.maps.map_bg[zi][Vi])&&Ai<Vi?(Ei=!0,this.j_jump_type=2,this.j_shitakara_mushi_y>0&&this.j_shitakara_mushi_y==Vi&&(Ei=!1)):Ei=!1,10!=Wi||this.j_hashigo_f||(Ei=!0),(Wi>=20||Ei)&&(this.co_j.y=32*Vi-32,this.co_j.vy=0,Vi=vi(this.co_j.y+31,5)),this.j_hashigo_f&&this.maps.map_bg[zi][vi(this.co_j.y+32,5)]>=20&&(this.j_hashigo_f=!1,this.j_shitakara_mushi_y=-1,this.co_j.direction=0),Ai<Vi&&!this.j_hashigo_f){if(this.gk.right_f||10==this.j_tokugi||12==this.j_tokugi||13==this.j_tokugi){var Hi=this.maps.map_bg[vi(this.co_j.x+16,5)][Ai],Ui=this.maps.map_bg[vi(this.co_j.x+16,5)][Vi];10==Ui&&(Ui=20),Hi<=17&&Ui>=20&&(this.co_j.y=32*Vi-32,this.co_j.vy=0,this.co_j.pt=103,this.co_j.ac=1,this.co_j.x++,18!=Ui&&19!=Ui||(this.co_j.y=this.getSakamichiY(this.co_j.x,this.co_j.y+32)))}if(this.gk.left_f||10==this.j_tokugi||12==this.j_tokugi||13==this.j_tokugi){var qi=this.maps.map_bg[vi(this.co_j.x+14,5)][Ai],Ki=this.maps.map_bg[vi(this.co_j.x+14,5)][Vi];10==Ki&&(Ki=20),qi<=17&&Ki>=20&&(this.co_j.y=32*Vi-32,this.co_j.vy=0,this.co_j.pt=103,this.co_j.ac=1,this.co_j.x--,18!=Ki&&19!=Ki||(this.co_j.y=this.getSakamichiY(this.co_j.x,this.co_j.y+32)))}}if(!this.j_mizu_f){var Ji=this.maps.getBGCode(this.co_j.x+15,this.co_j.y+15);4==Ji?(this.j_mizu_awa_c=38,10!=this.maps.getBGCode(this.co_j.x+15,this.co_j.y+15-32)&&(this.mSet(this.co_j.x,32*vi(this.co_j.y+15,5)-32,50),this.gs.rsAddSound(20)),this.co_j.vx<-60?this.co_j.vx=-60:this.co_j.vx>60&&(this.co_j.vx=60)):8!=Ji&&9!=Ji||4!=this.maps.map_bg[vi(this.co_j.x+15,5)-1][vi(this.co_j.y+15,5)]||(this.mSet(this.co_j.x,32*vi(this.co_j.y+15,5)-32,50),this.j_mizu_awa_c=38,this.co_j.vx<-60?this.co_j.vx=-60:this.co_j.vx>60&&(this.co_j.vx=60))}this.j_cannon_c>0&&this.co_j.vy<=0&&(this.j_cannon_c=0,this.co_j.vx<-120&&(this.co_j.vx=-120),this.co_j.vx>120&&(this.co_j.vx=120))}if(this.gk.down_f){var Zi=this.maps.getBGCode(this.co_j.x+15,this.co_j.y+31);if(18!=Zi&&19!=Zi||!this.map_data_option[vi(this.co_j.x+15,5)][vi(this.co_j.y+31,5)]||(this.saka_mushi_y=vi(this.co_j.y+31,5),this.co_j.vy<25&&(this.co_j.vy=25)),15==this.maps.getBGCode(this.co_j.x+15,this.co_j.y+32)&&(this.j_shitakara_mushi_y=vi(this.co_j.y+32,5),this.j_jump_type=2,this.co_j.ac=0,this.saka_mushi_y=vi(this.co_j.y+31,5),10!=this.j_tokugi&&12!=this.j_tokugi&&13!=this.j_tokugi||(this.co_j.x=32*vi(this.co_j.x+15,5),this.co_j.vx=0),10==this.maps.getBGCode(this.co_j.x+15,this.co_j.y+15))){for(var Xi=!1,$i=0;!($i>this.a_kazu);){if(410==this.co_a[$i].c&&this.co_a[$i].x<=32*vi(this.co_j.x+15,5)+15&&this.co_a[$i].x+95>=32*vi(this.co_j.x+15,5)+15&&this.co_j.y+31>=this.co_a[$i].y&&this.co_j.y<=this.co_a[$i].y+63){Xi=!0;break}$i++}Xi||(this.j_hashigo_f=!0)}}if(this.j_hashigo_f&&(this.co_j.pt=210+vi(this.co_j.ac,1)),10!=this.j_tokugi&&12!=this.j_tokugi&&13!=this.j_tokugi||1!=this.gk.tr1_c||this.gk.z_f||(this.j_tail_f&&(this.j_tail_ac<=0||this.j_tail_ac>=8)&&(this.j_tail_ac=1,this.co_j.pt=116,this.j_zan_f=!1),this.j_gr_kazu>0&&(8==this.grenade_type?(this.j_fire_f&&(this.j_gr_kazu=1),0!=this.co_jm[0].c&&0!=this.co_jm[1].c||(this.j_gr_kazu--,4==this.j_fire_type?(0==this.co_jm[0].c&&(this.co_jm[0].c=106,this.co_jm[0].x=this.co_j.x,this.co_jm[0].y=this.co_j.y,this.co_jm[0].vx=20,this.co_jm[0].vy=0,this.co_jm[0].c1=0,this.co_jm[0].c2=0,0==this.co_j.muki&&(this.co_jm[0].c=101,this.co_jm[0].vx=-20),this.jm_kazu++,this.gs.rsAddSound(23)),0==this.co_jm[1].c&&(this.co_jm[1].c=106,this.co_jm[1].x=this.co_j.x,this.co_jm[1].y=this.co_j.y,this.co_jm[1].vx=14,this.co_jm[1].vy=-14,this.co_jm[1].c1=0,this.co_jm[1].c2=0,0==this.co_j.muki&&(this.co_jm[1].c=101,this.co_jm[1].vx=-14),this.jm_kazu++,this.gs.rsAddSound(23))):5==this.j_fire_type?0==this.co_j.muki?this.jmSet(this.co_j.x,this.co_j.y,110):this.jmSet(this.co_j.x,this.co_j.y,115):0==this.co_j.muki?this.jmSet(this.co_j.x,this.co_j.y,100):this.jmSet(this.co_j.x,this.co_j.y,105))):7==this.grenade_type?this.jmSet2(this.co_j.x,this.co_j.y,50,2):3==this.grenade_type||4==this.grenade_type?0==this.co_j.muki?this.jmSet(this.co_j.x,this.co_j.y,60):this.jmSet(this.co_j.x,this.co_j.y,65):9==this.grenade_type?0==this.co_j.muki?this.jmSet(this.co_j.x,this.co_j.y,1207):this.jmSet(this.co_j.x,this.co_j.y,1206):0==this.co_j.muki?this.jmSet(this.co_j.x,this.co_j.y,200):this.jmSet(this.co_j.x,this.co_j.y,205))),8==this.grenade_type&&this.j_fire_f&&(this.j_gr_kazu=0),1==this.tr2_c&&(this.j_hashigo_f&&!this.gk.x_f||(this.j_gr_kazu>0?10!=this.j_tokugi&&12!=this.j_tokugi&&13!=this.j_tokugi&&(8==this.grenade_type?(this.j_fire_f&&(this.j_gr_kazu=1),0!=this.co_jm[0].c&&0!=this.co_jm[1].c||(this.j_gr_kazu--,4==this.j_fire_type?(0==this.co_jm[0].c&&(this.co_jm[0].c=106,this.co_jm[0].x=this.co_j.x,this.co_jm[0].y=this.co_j.y,this.co_jm[0].vx=20,this.co_jm[0].vy=0,this.co_jm[0].c1=0,this.co_jm[0].c2=0,0==this.co_j.muki&&(this.co_jm[0].c=101,this.co_jm[0].vx=-20),this.jm_kazu++,this.gs.rsAddSound(23)),0==this.co_jm[1].c&&(this.co_jm[1].c=106,this.co_jm[1].x=this.co_j.x,this.co_jm[1].y=this.co_j.y,this.co_jm[1].vx=14,this.co_jm[1].vy=-14,this.co_jm[1].c1=0,this.co_jm[1].c2=0,0==this.co_j.muki&&(this.co_jm[1].c=101,this.co_jm[1].vx=-14),this.jm_kazu++,this.gs.rsAddSound(23))):5==this.j_fire_type?0==this.co_j.muki?this.jmSet(this.co_j.x,this.co_j.y,110):this.jmSet(this.co_j.x,this.co_j.y,115):0==this.co_j.muki?this.jmSet(this.co_j.x,this.co_j.y,100):this.jmSet(this.co_j.x,this.co_j.y,105))):7==this.grenade_type?this.jmSet2(this.co_j.x,this.co_j.y,50,2):9==this.grenade_type?0==this.co_j.muki?this.jmSet(this.co_j.x,this.co_j.y,1207):this.jmSet(this.co_j.x,this.co_j.y,1206):3==this.grenade_type||4==this.grenade_type?0==this.co_j.muki?this.jmSet(this.co_j.x,this.co_j.y,60):this.jmSet(this.co_j.x,this.co_j.y,65):0==this.co_j.muki?this.jmSet(this.co_j.x,this.co_j.y,200):this.jmSet(this.co_j.x,this.co_j.y,205)):!this.j_fire_f||this.j_mizu_f&&!this.j_fire_mkf||(10==this.j_tokugi||12==this.j_tokugi||13==this.j_tokugi?this.gk.down_f||this.jmSet(this.co_j.x,this.co_j.y,105):4==this.j_fire_type?(0==this.co_jm[0].c&&(this.co_jm[0].c=106,this.co_jm[0].x=this.co_j.x,this.co_jm[0].y=this.co_j.y,this.co_jm[0].vx=20,this.co_jm[0].vy=0,this.co_jm[0].c1=0,this.co_jm[0].c2=0,0==this.co_j.muki&&(this.co_jm[0].c=101,this.co_jm[0].vx=-20),this.jm_kazu++,this.gs.rsAddSound(23)),0==this.co_jm[1].c&&(this.co_jm[1].c=106,this.co_jm[1].x=this.co_j.x,this.co_jm[1].y=this.co_j.y,this.co_jm[1].vx=14,this.co_jm[1].vy=-14,this.co_jm[1].c1=0,this.co_jm[1].c2=0,0==this.co_j.muki&&(this.co_jm[1].c=101,this.co_jm[1].vx=-14),this.jm_kazu++,this.gs.rsAddSound(23))):0==this.co_j.muki?this.jmSet(this.co_j.x,this.co_j.y,100):this.jmSet(this.co_j.x,this.co_j.y,105))),e=this.maps.getBGCode(this.co_j.x+15,this.co_j.y+32),12!=this.j_tokugi&&13!=this.j_tokugi||!this.gk.x_f))if(this.j_drell_f&&(20==e||69==e&&1==this.suberuyuka_hkf)){for(var Qi=!1,ts=0;!(ts>this.a_kazu);){if(410==this.co_a[ts].c&&this.co_a[ts].x<=32*vi(this.co_j.x+15,5)+15&&this.co_a[ts].x+95>=32*vi(this.co_j.x+15,5)+15&&this.co_j.y+31>=this.co_a[ts].y&&this.co_j.y<=this.co_a[ts].y+63){Qi=!0;break}ts++}if(!Qi){var is=vi(this.co_j.x+15,5),ss=vi(this.co_j.y+32,5);4==this.maps.map_bg[is][ss-1]||4==this.maps.map_bg[is-1][ss]||4==this.maps.map_bg[is+1][ss]?this.maps.putBGCode(is,ss,4):this.maps.putBGCode(is,ss,0),12==this.j_tokugi||13==this.j_tokugi?this.anaSet(is,ss):(this.mSet2(32*is,32*ss,80,12,-24),this.mSet2(32*is,32*ss,80,-12,-24)),this.gs.rsAddSound(16),this.jZutuki(32*is,32*ss-32,0),this.co_j.x=32*is,this.co_j.vx=0,this.co_j.vy=0,this.j_jump_type=3,this.co_j.c=120,this.co_j.c1=0,this.co_j.pt=119}}else this.j_tail_f&&(this.j_tail_ac<=0||this.j_tail_ac>=8)&&(!this.j_hashigo_f||this.gk.x_f)&&(10!=this.j_tokugi&&12!=this.j_tokugi&&13!=this.j_tokugi||this.gk.down_f)&&(this.j_tail_ac=1,this.co_j.pt=116,this.j_zan_f=!1);if(this.j_tail_ac>=1)if(this.j_zan_f=!1,this.j_tail_ac++,this.j_tail_ac<=4)this.co_j.pt=116,1!=this.j_tail_type&&3!=this.j_tail_type||(0==this.co_j.muki?this.jZutuki(this.co_j.x-32,this.co_j.y,1):this.jZutuki(this.co_j.x+32,this.co_j.y,1));else if(this.j_tail_ac<=5){if(this.co_j.pt=1e3,1!=this.j_tail_type&&3!=this.j_tail_type||(0==this.co_j.muki?this.jZutuki(this.co_j.x-32,this.co_j.y,1):this.jZutuki(this.co_j.x+32,this.co_j.y,1)),2==this.j_tail_type||3==this.j_tail_type){var hs;hs=1==this.co_j.muki?vi(this.co_j.x+40,5):vi(this.co_j.x-8,5);var es=vi(this.co_j.y+15,5);(20==this.maps.map_bg[hs][es]||69==this.maps.map_bg[hs][es]&&1==this.suberuyuka_hkf)&&(4==this.maps.map_bg[hs-1][es]?this.maps.putBGCode(hs,es,4):this.maps.putBGCode(hs,es,0),this.mSet2(32*hs,32*es,80,12,-24),this.mSet2(32*hs,32*es,80,-12,-24),this.gs.rsAddSound(16),this.jZutuki(32*hs,32*es-32,0))}}else this.j_tail_ac<=7?this.co_j.pt=1e3:this.j_tail_ac<=9?this.co_j.pt=116:(this.co_j.pt=116,this.j_tail_ac=0);if((12==this.j_tokugi||13==this.j_tokugi)&&(this.co_j.jimen_f||this.j_hashigo_f))if(this.gk.x_f){var as=vi(this.co_j.x+15,5)+1,cs=vi(this.co_j.y+32+15,5),os=this.maps.map_bg[as][cs],_s=this.maps.map_bg[as][cs-1];if((20==os||40==os)&&_s<=9&&(this.maps.map_bg[as-1][cs-1]<=10||15==this.maps.map_bg[as-1][cs-1]||18==this.maps.map_bg[as-1][cs-1]||19==this.maps.map_bg[as-1][cs-1])){var rs=!1,ns=this.maps.map_bg[as-1][cs];if((ns>=20||15==ns||10==ns||10==this.maps.map_bg[as-1][cs-1]||18==this.maps.map_bg[as-1][cs-1]||19==this.maps.map_bg[as-1][cs-1])&&(rs=!0),!rs)for(var ms=0;!(ms>this.t_kazu);){if((this.co_t[ms].c>=1200&&this.co_t[ms].c<1300||1310==this.co_t[ms].c)&&Math.abs(this.co_j.x-this.co_t[ms].x)<32&&32*cs<=this.co_t[ms].y&&32*cs+12>=this.co_t[ms].y){rs=!0;break}ms++}if(!rs&&this.j_a_id>=0&&(this.co_a[this.j_a_id].c>=100&&this.co_a[this.j_a_id].c<=120||this.co_a[this.j_a_id].c>=400&&this.co_a[this.j_a_id].c<=600)&&(rs=!0),rs){40==os?(this.hAttack(as,cs),this.j_a_id>=0?100!=this.co_a[this.j_a_id].c&&400!=this.co_a[this.j_a_id].c&&500!=this.co_a[this.j_a_id].c||(this.co_j.x=32*as-32):(this.co_j.x=32*as-32,this.co_j.y=32*cs-32),this.co_j.vx=0,this.co_j.c=130,this.co_j.c1=0,this.co_j.muki=1,this.j_hashigo_f||(this.co_j.pt=100)):(4==_s||4==this.maps.map_bg[as-1][cs]||4==this.maps.map_bg[as+1][cs]?this.maps.putBGCode(as,cs,4):this.maps.putBGCode(as,cs,0),this.anaSet(as,cs),this.j_a_id>=0?100!=this.co_a[this.j_a_id].c&&400!=this.co_a[this.j_a_id].c&&500!=this.co_a[this.j_a_id].c||(this.co_j.x=32*as-32):(this.co_j.x=32*as-32,this.co_j.y=32*cs-32),this.co_j.vx=0,this.co_j.c=130,this.co_j.c1=0,this.co_j.muki=1,this.j_hashigo_f||(this.co_j.pt=100),this.gs.rsAddSound(16));var gs=this.maps.getBGCode(this.co_j.x+15,this.co_j.y+31);18!=gs&&19!=gs||(this.co_j.y=this.getSakamichiY(this.co_j.x+15,this.co_j.y+31))}}}else if(this.gk.z_f){var ps=vi(this.co_j.x+15,5)-1,ys=vi(this.co_j.y+32+15,5),us=this.maps.map_bg[ps][ys],ds=this.maps.map_bg[ps][ys-1];if((20==us||40==us)&&ds<=9&&(this.maps.map_bg[ps+1][ys-1]<=10||15==this.maps.map_bg[ps+1][ys-1]||this.maps.map_bg[ps+1][ys-1]<=18||19==this.maps.map_bg[ps+1][ys-1])){var js=!1,fs=this.maps.map_bg[ps+1][ys];if((fs>=20||15==fs||10==fs||10==this.maps.map_bg[ps+1][ys-1]||18==this.maps.map_bg[ps+1][ys-1]||19==this.maps.map_bg[ps+1][ys-1])&&(js=!0),!js)for(var ls=0;!(ls>this.t_kazu);){if((this.co_t[ls].c>=1200&&this.co_t[ls].c<1300||1310==this.co_t[ls].c)&&Math.abs(this.co_j.x-this.co_t[ls].x)<32&&32*ys<=this.co_t[ls].y&&32*ys+12>=this.co_t[ls].y){js=!0;break}ls++}if(!js&&this.j_a_id>=0&&(this.co_a[this.j_a_id].c>=100&&this.co_a[this.j_a_id].c<=120||this.co_a[this.j_a_id].c>=400&&this.co_a[this.j_a_id].c<=600)&&(js=!0),js){40==us?(this.hAttack(ps,ys),this.j_a_id>=0?100!=this.co_a[this.j_a_id].c&&400!=this.co_a[this.j_a_id].c&&500!=this.co_a[this.j_a_id].c||(this.co_j.x=32*ps+32):(this.co_j.x=32*ps+32,this.co_j.y=32*ys-32),this.co_j.vx=0,this.co_j.c=130,this.co_j.c1=0,this.co_j.muki=0,this.j_hashigo_f||(this.co_j.pt=100)):(4==ds||4==this.maps.map_bg[ps-1][ys]||4==this.maps.map_bg[ps+1][ys]?this.maps.putBGCode(ps,ys,4):this.maps.putBGCode(ps,ys,0),this.anaSet(ps,ys),this.j_a_id>=0?100!=this.co_a[this.j_a_id].c&&400!=this.co_a[this.j_a_id].c&&500!=this.co_a[this.j_a_id].c||(this.co_j.x=32*ps+32):(this.co_j.x=32*ps+32,this.co_j.y=32*ys-32),this.co_j.vx=0,this.co_j.c=130,this.co_j.c1=0,this.co_j.muki=0,this.j_hashigo_f||(this.co_j.pt=100),this.gs.rsAddSound(16));var vs=this.maps.getBGCode(this.co_j.x+15,this.co_j.y+31);18!=vs&&19!=vs||(this.co_j.y=this.getSakamichiY(this.co_j.x+15,this.co_j.y+31))}}}switch(e=this.maps.map_bg[vi(this.co_j.x+15,5)][vi(this.co_j.y+15,5)]){case 9:if(4==this.maps.map_bg[vi(this.co_j.x+15,5)-1][vi(this.co_j.y+15,5)]?(this.maps.putBGCode(vi(this.co_j.x+15,5),vi(this.co_j.y+15,5),4),this.j_mizu_f=!0):this.maps.putBGCode(vi(this.co_j.x+15,5),vi(this.co_j.y+15,5),0),this.addScore(5),this.gs.rsAddSound(6),2==this.clear_type||3==this.clear_type){var xs=this.coin_kazu;this.getCoinTotal(),xs>0&&0==this.coin_kazu&&(this.gs.rsAddSound(7),3==this.clear_type&&this.showHashigo())}break;case 8:(2!=this.clear_type&&3!=this.clear_type||this.coin_kazu<=0)&&(4==this.maps.map_bg[vi(this.co_j.x+15,5)-1][vi(this.co_j.y+15,5)]?(this.maps.putBGCode(vi(this.co_j.x+15,5),vi(this.co_j.y+15,5),4),this.j_mizu_f=!0):this.maps.putBGCode(vi(this.co_j.x+15,5),vi(this.co_j.y+15,5),0),this.gs.rsAddSound(2),this.stage_cc=1,this.stage_max>=2&&this.stage>=this.stage_max?this.addScore(1e3):this.addScore(100));break;case 5:case 6:this.co_j.y=32*vi(this.co_j.y+15,5),this.jShinu(1)}3==this.clear_type&&this.coin_kazu<=0&&this.co_j.y<=this.maps.wy_mini-32&&this.stage_cc<=0&&(this.stage_cc=1,this.co_j.c=130,this.co_j.c1=-9999,this.addScore(100),this.gs.rsAddSound(2)),(this.co_j.y>=this.ochiru_y||this.j_mizu_f&&this.co_j.y>=this.ochiru_y-16)&&(this.co_j.c=210,this.co_j.c1=0,this.co_j.y=this.ochiru_y+64,this.j_jet_c=0,this.j_v_c=0),this.moveViewPosition()}},{key:"jM100stg",value:function(){this.j_zan_cf=!1,this.j_mizu_f=!1;var t=this.maps.getBGCode(this.co_j.x+15,this.co_j.y+15);if(this.AwaMove(t,1),this.gk.tr1_f?(this.tr1_c<14&&this.tr1_c++,14==this.j_tokugi&&this.tr1_c>=14&&(this.tr1_c=1)):this.tr1_c=0,this.gk.tr1_f?(this.gk.tr1_c<14&&this.gk.tr1_c++,14==this.j_tokugi&&this.tr1_c>=14&&(this.tr1_c=1)):this.gk.tr1_c=0,this.gk.tr2_f?this.tr2_c<2&&this.tr2_c++:this.tr2_c=0,this.gk.x_f?this.xkey_c<2&&this.xkey_c++:this.xkey_c=0,this.gk.left_f?this.gk.left_c<2&&this.gk.left_c++:this.gk.left_c=0,this.gk.right_f?this.gk.right_c<2&&this.gk.right_c++:this.gk.right_c=0,this.co_j.pt=100,14==this.j_tokugi?(this.gk.right_f?this.co_j.vx=this.j_speed:this.gk.left_f?this.co_j.vx=-1*this.j_speed:this.co_j.vx=0,this.gk.up_f?this.co_j.vy=-1*this.j_speed:this.gk.down_f?this.co_j.vy=this.j_speed:this.co_j.vy=0,this.co_j.muki=1,this.g_c2<=1?this.co_j.pt=83:this.co_j.pt=84):(this.gk.right_f?(this.co_j.vx=this.j_speed,this.co_j.vy=0,this.co_j.muki=1,this.j_4_muki=1,this.co_j.x%32==0&&(this.maps.getBGCode(this.co_j.x+32,this.co_j.y)>=20||this.maps.getBGCode(this.co_j.x+32,this.co_j.y+31)>=20)&&(this.maps.getBGCode(this.co_j.x+32,this.co_j.y)<20?(this.co_j.vx=0,this.co_j.vy=-1*this.j_speed,this.j_4_muki=2,32*vi(this.co_j.y,5)>this.co_j.y+li(this.co_j.vy/10)&&(this.co_j.vy=10*(this.co_j.y-32*vi(this.co_j.y,5)))):this.maps.getBGCode(this.co_j.x+32,this.co_j.y+31)<20&&(this.co_j.vx=0,this.co_j.vy=this.j_speed,this.j_4_muki=3,32*vi(this.co_j.y+31,5)<this.co_j.y+li(this.co_j.vy/10)&&(this.co_j.vy=10*(32*vi(this.co_j.y+31,5)-this.co_j.y))))):this.gk.left_f?(this.co_j.vx=-1*this.j_speed,this.co_j.vy=0,this.co_j.muki=0,this.j_4_muki=0,this.co_j.x%32==0&&(this.maps.getBGCode(this.co_j.x-1,this.co_j.y)>=20||this.maps.getBGCode(this.co_j.x-1,this.co_j.y+31)>=20)&&(this.maps.getBGCode(this.co_j.x-1,this.co_j.y)<20?(this.co_j.vx=0,this.co_j.vy=-1*this.j_speed,this.j_4_muki=2,32*vi(this.co_j.y,5)>this.co_j.y+li(this.co_j.vy/10)&&(this.co_j.vy=10*(this.co_j.y-32*vi(this.co_j.y,5)))):this.maps.getBGCode(this.co_j.x-1,this.co_j.y+31)<20&&(this.co_j.vx=0,this.co_j.vy=this.j_speed,this.j_4_muki=3,32*vi(this.co_j.y+31,5)<this.co_j.y+li(this.co_j.vy/10)&&(this.co_j.vy=10*(32*vi(this.co_j.y+31,5)-this.co_j.y))))):this.gk.up_f?(this.co_j.vx=0,this.co_j.vy=-1*this.j_speed,this.j_4_muki=2,this.co_j.y%32==0&&(this.maps.getBGCode(this.co_j.x,this.co_j.y-1)>=20||this.maps.getBGCode(this.co_j.x+31,this.co_j.y-1)>=20)&&(this.maps.getBGCode(this.co_j.x,this.co_j.y-1)<20?(this.co_j.vx=-1*this.j_speed,this.co_j.vy=0,this.co_j.muki=0,this.j_4_muki=0,32*vi(this.co_j.x,5)>this.co_j.x+li(this.co_j.vx/10)&&(this.co_j.vx=10*(this.co_j.x-32*vi(this.co_j.x,5)))):this.maps.getBGCode(this.co_j.x+31,this.co_j.y-1)<20&&(this.co_j.vx=this.j_speed,this.co_j.vy=0,this.co_j.muki=1,this.j_4_muki=1,32*vi(this.co_j.x+31,5)<this.co_j.x+li(this.co_j.vx/10)&&(this.co_j.vx=10*(32*vi(this.co_j.x+31,5)-this.co_j.x))))):this.gk.down_f?(this.co_j.vx=0,this.co_j.vy=this.j_speed,this.j_4_muki=3,this.co_j.y%32==0&&(this.maps.getBGCode(this.co_j.x,this.co_j.y+32)>=20||this.maps.getBGCode(this.co_j.x+31,this.co_j.y+32)>=20)&&(this.maps.getBGCode(this.co_j.x,this.co_j.y+32)<20?(this.co_j.vx=-1*this.j_speed,this.co_j.vy=0,this.co_j.muki=0,this.j_4_muki=0,32*vi(this.co_j.x,5)>this.co_j.x+li(this.co_j.vx/10)&&(this.co_j.vx=10*(this.co_j.x-32*vi(this.co_j.x,5)))):this.maps.getBGCode(this.co_j.x+31,this.co_j.y+32)<20&&(this.co_j.vx=this.j_speed,this.co_j.vy=0,this.co_j.muki=1,this.j_4_muki=1,32*vi(this.co_j.x+31,5)<this.co_j.x+li(this.co_j.vx/10)&&(this.co_j.vx=10*(32*vi(this.co_j.x+31,5)-this.co_j.x))))):(this.co_j.vx=0,this.co_j.vy=0),0!=this.co_j.vx||0!=this.co_j.vy?(this.co_j.ac++,this.co_j.ac>3&&(this.co_j.ac=0)):this.co_j.ac=0,0!=this.co_j.vx?this.co_j.pt=103+vi(this.co_j.ac,1):2==this.j_4_muki?this.co_j.pt=204+vi(this.co_j.ac,1):3==this.j_4_muki?this.co_j.pt=202+vi(this.co_j.ac,1):this.co_j.pt=100),this.co_j.vx<0){if(this.co_j.x+=li(this.co_j.vx/10),this.a_hf)for(var i=0;i<=this.a_kazu;i++)if(this.co_a[i].gf){var s=this.co_a[i];s.c>=100&&s.c<200?this.co_j.x+15>=s.x&&this.co_j.x<=s.x+64&&this.co_j.y+31>=s.y&&this.co_j.y<=s.y+13&&(this.co_j.x=s.x+65,this.co_j.vx=0):300!=s.c?s.c>=400&&s.c<500?this.co_j.x+15>=s.x&&this.co_j.x<=s.x+80&&this.co_j.y+31>=s.y&&this.co_j.y<=s.y+63&&(this.co_j.x=s.x+81,this.co_j.vx=0):500!=s.c?s.c>=600&&s.c<700?this.co_j.x+15>=s.x&&this.co_j.x<=s.x+48&&this.co_j.y+31>=s.y+16&&this.co_j.y<=s.y+47&&(this.co_j.x=s.x+49,this.co_j.vx=0):700==s.c&&10!=this.j_tokugi&&12!=this.j_tokugi&&13!=this.j_tokugi&&this.co_j.x+15>=s.x&&this.co_j.x<=s.x+16&&this.co_j.y+31>=s.y&&this.co_j.y<=s.y+31&&(this.co_j.x=s.x+17,this.co_j.vx=0):this.co_j.x+15>=s.x&&this.co_j.x<=s.x+80&&this.co_j.y+31>=s.y&&this.co_j.y<=s.y+13&&(this.co_j.x=s.x+81,this.co_j.vx=0):this.co_j.x+15>=s.x&&this.co_j.x<=s.x+48&&this.co_j.y+31>=s.y&&this.co_j.y<=s.y+31&&(this.co_j.x=s.x+49,this.co_j.vx=0)}this.yuka_id_max>=0&&this.atariYuka(0);var h=vi(this.co_j.x,5),e=this.maps.map_bg[h][vi(this.co_j.y,5)],a=vi(this.co_j.y+31,5),c=this.maps.map_bg[h][a];(e>=20||c>=20)&&(this.co_j.x=32*h+32,this.co_j.vx=0)}else if(this.co_j.vx>0){if(this.co_j.x+=li(this.co_j.vx/10),this.a_hf)for(var o=0;o<=this.a_kazu;o++)if(this.co_a[o].gf){var _=this.co_a[o];_.c>=100&&_.c<200?this.co_j.x+15>=_.x&&this.co_j.x<=_.x+64&&this.co_j.y+31>=_.y&&this.co_j.y<=_.y+13&&(this.co_j.x=_.x-16,this.co_j.vx=0):300!=_.c?_.c>=400&&_.c<500?this.co_j.x+15>=_.x&&this.co_j.x<=_.x+80&&this.co_j.y+31>=_.y&&this.co_j.y<=_.y+63&&(this.co_j.x=_.x-16,this.co_j.vx=0):500!=_.c?_.c>=600&&_.c<700?this.co_j.x+15>=_.x&&this.co_j.x<=_.x+48&&this.co_j.y+31>=_.y+16&&this.co_j.y<=_.y+47&&(this.co_j.x=_.x-16,this.co_j.vx=0):700==_.c&&10!=this.j_tokugi&&12!=this.j_tokugi&&13!=this.j_tokugi&&this.co_j.x+15>=_.x&&this.co_j.x<=_.x+16&&this.co_j.y+31>=_.y&&this.co_j.y<=_.y+31&&(this.co_j.x=_.x-16,this.co_j.vx=0):this.co_j.x+15>=_.x&&this.co_j.x<=_.x+80&&this.co_j.y+31>=_.y&&this.co_j.y<=_.y+13&&(this.co_j.x=_.x-16,this.co_j.vx=0):this.co_j.x+15>=_.x&&this.co_j.x<=_.x+48&&this.co_j.y+31>=_.y&&this.co_j.y<=_.y+31&&(this.co_j.x=_.x-16,this.co_j.vx=0)}this.yuka_id_max>=0&&this.atariYuka(1);var r=vi(this.co_j.x+31,5),n=this.maps.map_bg[r][vi(this.co_j.y,5)],m=vi(this.co_j.y+31,5),g=this.maps.map_bg[r][m];(n>=20||g>=20)&&(this.co_j.x=32*r-16,this.co_j.x=32*r-32,this.co_j.vx=0)}if(this.co_j.vy<0){var p=this.co_j.vy;if(p<-320&&(p=-320),this.co_j.y+=li(p/10),this.a_hf)for(var y=0;y<=this.a_kazu;y++)if(this.co_a[y].gf){var u=this.co_a[y];u.c>=100&&u.c<200?this.co_j.x+15>=u.x&&this.co_j.x<=u.x+64&&this.co_j.y+31>=u.y&&this.co_j.y<=u.y+13&&(this.co_j.y=u.y+14,this.co_j.vy=0):300!=u.c?u.c>=400&&u.c<500?this.co_j.x+15>=u.x&&this.co_j.x<=u.x+80&&this.co_j.y+31>=u.y&&this.co_j.y<=u.y+63&&(this.co_j.y=u.y+64,this.co_j.vy=0):500!=u.c?u.c>=600&&u.c<700?this.co_j.x+15>=u.x&&this.co_j.x<=u.x+48&&this.co_j.y+31>=u.y+16&&this.co_j.y<=u.y+47&&(this.co_j.y=u.y+48,this.co_j.vy=0):700==u.c&&this.co_j.x+15>=u.x&&this.co_j.x<=u.x+16&&this.co_j.y+31>=u.y&&this.co_j.y<=u.y+31&&(this.co_j.y=u.y+32,this.co_j.vy=0):this.co_j.x+15>=u.x&&this.co_j.x<=u.x+80&&this.co_j.y+31>=u.y&&this.co_j.y<=u.y+13&&(this.co_j.y=u.y+14,this.co_j.vy=0):this.co_j.x+15>=u.x&&this.co_j.x<=u.x+48&&this.co_j.y+31>=u.y&&this.co_j.y<=u.y+31&&(this.co_j.y=u.y+32,this.co_j.vy=0)}this.yuka_id_max>=0&&this.atariYuka(2);var d=vi(this.co_j.y,5),j=this.maps.map_bg[vi(this.co_j.x+15,5)][d],f=this.maps.map_bg[vi(this.co_j.x,5)][d],l=this.maps.map_bg[vi(this.co_j.x+31,5)][d];if(f>=20||l>=20){if(this.co_j.y=32*d+32,this.co_j.vy=0,40==j){var v=vi(this.co_j.x+15,5),x=vi(this.co_j.y-1,5);this.hAttack(v,x)}if(this.j_helm_f&&(20==j||69==j&&1==this.suberuyuka_hkf)){var k=vi(this.co_j.x+15,5),w=d;4==this.maps.map_bg[k][w+1]?this.maps.putBGCode(k,w,4):this.maps.putBGCode(k,w,0),this.mSet2(32*k,32*w,80,12,-24),this.mSet2(32*k,32*w,80,-12,-24),this.gs.rsAddSound(16),this.jZutuki(32*k,32*w-32,0)}}this.co_j.y<this.maps.wy_mini&&(this.co_j.y=this.maps.wy_mini)}else if(this.co_j.vy>0){if(this.co_j.y+=li(this.co_j.vy/10),this.a_hf)for(var b=0;b<=this.a_kazu;b++)if(this.co_a[b].gf){var S=this.co_a[b];S.c>=100&&S.c<200?this.co_j.x+15>=S.x&&this.co_j.x<=S.x+64&&this.co_j.y+31>=S.y&&this.co_j.y<=S.y+13&&(this.co_j.y=S.y-32,this.co_j.vy=0):300!=S.c?S.c>=400&&S.c<500?this.co_j.x+15>=S.x&&this.co_j.x<=S.x+80&&this.co_j.y+31>=S.y&&this.co_j.y<=S.y+63&&(this.co_j.y=S.y-32,this.co_j.vy=0):500!=S.c?S.c>=600&&S.c<700?this.co_j.x+15>=S.x&&this.co_j.x<=S.x+48&&this.co_j.y+31>=S.y+16&&this.co_j.y<=S.y+47&&(this.co_j.y=S.y+16-32,this.co_j.vy=0):700==S.c&&this.co_j.x+15>=S.x&&this.co_j.x<=S.x+16&&this.co_j.y+31>=S.y&&this.co_j.y<=S.y+31&&(this.co_j.y=S.y-32,this.co_j.vy=0):this.co_j.x+15>=S.x&&this.co_j.x<=S.x+80&&this.co_j.y+31>=S.y&&this.co_j.y<=S.y+13&&(this.co_j.y=S.y-32,this.co_j.vy=0):this.co_j.x+15>=S.x&&this.co_j.x<=S.x+48&&this.co_j.y+31>=S.y&&this.co_j.y<=S.y+31&&(this.co_j.y=S.y-32,this.co_j.vy=0)}this.yuka_id_max>=0&&this.atariYuka(3);var M=vi(this.co_j.y+31,5),C=this.maps.map_bg[vi(this.co_j.x,5)][M],I=this.maps.map_bg[vi(this.co_j.x+31,5)][M];if((C>=20||I>=20)&&(this.co_j.y=32*M-32,this.co_j.vy=0,M=vi(this.co_j.y+31,5)),this.co_j.y>this.maps.wy_max+this.gg.di.height-32&&(this.co_j.y=this.maps.wy_max+this.gg.di.height-32),!this.j_mizu_f){var B=this.maps.getBGCode(this.co_j.x+15,this.co_j.y+15);4==B?(this.mSet(this.co_j.x,32*vi(this.co_j.y+15,5)-32,50),this.j_mizu_awa_c=38,this.gs.rsAddSound(20),this.co_j.vx<-60?this.co_j.vx=-60:this.co_j.vx>60&&(this.co_j.vx=60)):8!=B&&9!=B||4!=this.maps.map_bg[vi(this.co_j.x+15,5)-1][vi(this.co_j.y+15,5)]||(this.mSet(this.co_j.x,32*vi(this.co_j.y+15,5)-32,50),this.j_mizu_awa_c=38,this.co_j.vx<-60?this.co_j.vx=-60:this.co_j.vx>60&&(this.co_j.vx=60))}}if(this.gk.down_f&&15==this.maps.getBGCode(this.co_j.x+15,this.co_j.y+32)&&(this.j_shitakara_mushi_y=vi(this.co_j.y+32,5),this.j_jump_type=2,this.co_j.ac=0),1==this.tr1_c&&(!this.j_fire_f||this.j_mizu_f&&!this.j_fire_mkf||(0==this.co_j.muki?this.jmSet(this.co_j.x,this.co_j.y,100):(this.jmSet(this.co_j.x,this.co_j.y,105),14==this.j_tokugi&&(this.j_double_f&&(7==this.grenade_type?0==this.co_jm[7].c&&(this.co_jm[7].c=110,this.co_jm[7].x=this.co_j.x,this.co_jm[7].y=this.co_j.y,this.co_jm[7].vx=10,this.co_jm[7].vy=-10,this.gs.rsAddSound(23)):0==this.co_jm[7].c?(this.co_jm[7].c=106,this.co_jm[7].x=this.co_j.x,this.co_jm[7].y=this.co_j.y,this.co_jm[7].vx=12,this.co_jm[7].vy=-9,this.gs.rsAddSound(23)):0==this.co_jm[8].c&&(this.co_jm[8].c=106,this.co_jm[8].x=this.co_j.x,this.co_jm[8].y=this.co_j.y,this.co_jm[8].vx=12,this.co_jm[8].vy=-9,this.gs.rsAddSound(23))),100==this.co_mu[0].c&&(0==this.co_jm[3].c?(this.co_jm[3].c=106,this.co_jm[3].x=this.co_mu[0].x,this.co_jm[3].y=this.co_mu[0].y,this.co_jm[3].vx=16,this.co_jm[3].vy=0,this.co_jm[3].c2=106,this.gs.rsAddSound(23)):0==this.co_jm[4].c&&(this.co_jm[4].c=106,this.co_jm[4].x=this.co_mu[0].x,this.co_jm[4].y=this.co_mu[0].y,this.co_jm[4].vx=16,this.co_jm[4].vy=0,this.co_jm[4].c2=106,this.gs.rsAddSound(23))),100==this.co_mu[1].c&&(0==this.co_jm[5].c?(this.co_jm[5].c=106,this.co_jm[5].x=this.co_mu[1].x,this.co_jm[5].y=this.co_mu[1].y,this.co_jm[5].vx=16,this.co_jm[5].vy=0,this.co_jm[5].c2=106,this.gs.rsAddSound(23)):0==this.co_jm[6].c&&(this.co_jm[6].c=106,this.co_jm[6].x=this.co_mu[1].x,this.co_jm[6].y=this.co_mu[1].y,this.co_jm[6].vx=16,this.co_jm[6].vy=0,this.co_jm[6].c2=106,this.gs.rsAddSound(23)))))),this.j_tail_f&&(this.j_tail_ac<=0||this.j_tail_ac>=8)&&(this.j_tail_ac=1,this.co_j.pt=116,this.j_zan_f=!1)),1==this.xkey_c&&(this.j_gr_kazu>0&&(7==this.grenade_type?this.jmSet2(this.co_j.x,this.co_j.y,50,2):3==this.grenade_type||4==this.grenade_type?0==this.co_j.muki?this.jmSet2(this.co_j.x,this.co_j.y,60,2):this.jmSet2(this.co_j.x,this.co_j.y,65,2):0==this.co_j.muki?this.jmSet2(this.co_j.x,this.co_j.y,200,2):this.jmSet2(this.co_j.x,this.co_j.y,205,2)),t=this.maps.getBGCode(this.co_j.x+15,this.co_j.y+32),this.j_drell_f&&(20==t||69==t&&1==this.suberuyuka_hkf))){var G=vi(this.co_j.x+15,5),z=vi(this.co_j.y+32,5);4==this.maps.map_bg[G][z-1]||4==this.maps.map_bg[G-1][z]||4==this.maps.map_bg[G+1][z]?this.maps.putBGCode(G,z,4):this.maps.putBGCode(G,z,0),12==this.j_tokugi||13==this.j_tokugi?this.anaSet(G,z):(this.mSet2(32*G,32*z,80,12,-24),this.mSet2(32*G,32*z,80,-12,-24)),this.gs.rsAddSound(16),this.jZutuki(32*G,32*z-32,0),this.co_j.x=32*G,this.co_j.vx=0,this.co_j.vy=0,this.j_jump_type=3,this.co_j.c=120,this.co_j.c1=0,this.co_j.pt=119}if(this.j_tail_ac>=1)if(this.j_zan_f=!1,this.j_tail_ac++,this.j_tail_ac<=4)this.co_j.pt=116,15==this.j_tokugi&&2==this.j_4_muki?(this.co_j.pt=83,this.co_j.muki=0):15==this.j_tokugi&&3==this.j_4_muki&&(this.co_j.pt=84,this.co_j.muki=0),1!=this.j_tail_type&&3!=this.j_tail_type||(15==this.j_tokugi&&2==this.j_4_muki?this.jZutuki(this.co_j.x,this.co_j.y-32,1):15==this.j_tokugi&&3==this.j_4_muki?this.jZutuki(this.co_j.x,this.co_j.y+32,1):0==this.co_j.muki?this.jZutuki(this.co_j.x-32,this.co_j.y,1):this.jZutuki(this.co_j.x+32,this.co_j.y,1));else if(this.j_tail_ac<=5){if(this.co_j.pt=1e3,1!=this.j_tail_type&&3!=this.j_tail_type||(15==this.j_tokugi&&2==this.j_4_muki?this.jZutuki(this.co_j.x,this.co_j.y-32,1):15==this.j_tokugi&&3==this.j_4_muki?this.jZutuki(this.co_j.x,this.co_j.y+32,1):0==this.co_j.muki?this.jZutuki(this.co_j.x-32,this.co_j.y,1):this.jZutuki(this.co_j.x+32,this.co_j.y,1)),2==this.j_tail_type||3==this.j_tail_type){var A;A=1==this.co_j.muki?vi(this.co_j.x+40,5):vi(this.co_j.x-8,5);var P=vi(this.co_j.y+15,5);15==this.j_tokugi&&2==this.j_4_muki?(A=vi(this.co_j.x+15,5),P=vi(this.co_j.y-16,5)):15==this.j_tokugi&&3==this.j_4_muki&&(A=vi(this.co_j.x+15,5),P=vi(this.co_j.y+44,5)),(20==this.maps.map_bg[A][P]||69==this.maps.map_bg[A][P]&&1==this.suberuyuka_hkf)&&(4==this.maps.map_bg[A-1][P]?this.maps.putBGCode(A,P,4):this.maps.putBGCode(A,P,0),this.mSet2(32*A,32*P,80,12,-24),this.mSet2(32*A,32*P,80,-12,-24),this.gs.rsAddSound(16),this.jZutuki(32*A,32*P-32,0))}}else this.j_tail_ac<=7?this.co_j.pt=1e3:this.j_tail_ac<=9?(this.co_j.pt=116,15==this.j_tokugi&&2==this.j_4_muki?(this.co_j.pt=83,this.co_j.muki=0):15==this.j_tokugi&&3==this.j_4_muki&&(this.co_j.pt=84,this.co_j.muki=0)):(this.co_j.pt=116,this.j_tail_ac=0,15==this.j_tokugi&&2==this.j_4_muki?(this.co_j.pt=83,this.co_j.muki=0):15==this.j_tokugi&&3==this.j_4_muki&&(this.co_j.pt=84,this.co_j.muki=0));switch(t=this.maps.map_bg[vi(this.co_j.x+15,5)][vi(this.co_j.y+15,5)]){case 9:if(4==this.maps.map_bg[vi(this.co_j.x+15,5)-1][vi(this.co_j.y+15,5)]?(this.maps.putBGCode(vi(this.co_j.x+15,5),vi(this.co_j.y+15,5),4),this.j_mizu_f=!0):this.maps.putBGCode(vi(this.co_j.x+15,5),vi(this.co_j.y+15,5),0),this.addScore(5),this.gs.rsAddSound(6),2==this.clear_type||3==this.clear_type){var N=this.coin_kazu;this.getCoinTotal(),N>0&&0==this.coin_kazu&&(this.gs.rsAddSound(7),3==this.clear_type&&this.showHashigo())}break;case 8:(2!=this.clear_type&&3!=this.clear_type||this.coin_kazu<=0)&&(4==this.maps.map_bg[vi(this.co_j.x+15,5)-1][vi(this.co_j.y+15,5)]?(this.maps.putBGCode(vi(this.co_j.x+15,5),vi(this.co_j.y+15,5),4),this.j_mizu_f=!0):this.maps.putBGCode(vi(this.co_j.x+15,5),vi(this.co_j.y+15,5),0),this.gs.rsAddSound(2),this.stage_cc=1,this.stage_max>=2&&this.stage>=this.stage_max?this.addScore(1e3):this.addScore(100));break;case 5:case 6:this.co_j.y=32*vi(this.co_j.y+15,5),this.jShinu(1)}if(3==this.clear_type&&this.coin_kazu<=0&&this.co_j.y<=this.maps.wy_mini-32&&this.stage_cc<=0&&(this.stage_cc=1,this.co_j.c=130,this.co_j.c1=-9999,this.addScore(100),this.gs.rsAddSound(2)),(this.co_j.y>=this.ochiru_y||this.j_mizu_f&&this.co_j.y>=this.ochiru_y-16)&&(this.co_j.c=210,this.co_j.c1=0,this.co_j.y=this.ochiru_y+64,this.j_jet_c=0,this.j_v_c=0),this.co_j.wx=this.co_j.x-this.maps.wx,this.co_j.wy=this.co_j.y-this.maps.wy,this.co_j.wx<this.maps.my_wx_mini?this.maps.wx=this.co_j.x-this.maps.my_wx_mini:this.co_j.wx>this.maps.my_wx_max&&(this.maps.wx=this.co_j.x-this.maps.my_wx_max),this.co_j.wy<this.maps.my_wy_mini?this.maps.wy=this.co_j.y-this.maps.my_wy_mini:this.co_j.wy>this.maps.my_wy_max&&(this.maps.wy=this.co_j.y-this.maps.my_wy_max),this.maps.wx<this.maps.wx_mini?this.maps.wx=this.maps.wx_mini:this.maps.wx>this.maps.wx_max&&(this.maps.wx=this.maps.wx_max),this.maps.wy<this.maps.wy_mini?this.maps.wy=this.maps.wy_mini:this.maps.wy>this.maps.wy_max&&(this.maps.wy=this.maps.wy_max),14==this.j_tokugi&&(this.gk.up_f||this.gk.down_f||this.gk.left_f||this.gk.right_f)){this.mu_ato_p++,this.mu_ato_p>31&&(this.mu_ato_p=0),this.mu_ato_x[this.mu_ato_p]=this.co_j.x,this.mu_ato_y[this.mu_ato_p]=this.co_j.y;var O=this.mu_ato_p-7;O<0&&(O+=32),this.co_mu[0].x=this.mu_ato_x[O],this.co_mu[0].y=this.mu_ato_y[O],(O=this.mu_ato_p-14)<0&&(O+=32),this.co_mu[1].x=this.mu_ato_x[O],this.co_mu[1].y=this.mu_ato_y[O]}}},{key:"jMove",value:function(){this.j_mizu_f=!1;var t=this.maps.getBGCode(this.co_j.x+15,this.co_j.y+15);if(this.AwaMove(t,2),this.jst_auto_right>0&&(1==this.jst_auto_right?(this.gk.right_f=!0,this.gk.left_f=!1,this.j_hashiru_f=!1):2==this.jst_auto_right&&(this.gk.right_f=!0,this.gk.left_f=!1,this.j_hashiru_f=!0)),this.gk.tr1_f?this.tr1_c<6&&this.tr1_c++:this.tr1_c=0,this.gk.tr1_f?this.gk.tr1_c<6&&this.gk.tr1_c++:this.gk.tr1_c=0,this.gk.tr2_f?this.tr2_c<2&&this.tr2_c++:this.tr2_c=0,this.gk.x_f?this.xkey_c<2&&this.xkey_c++:this.xkey_c=0,this.gk.left_f?this.gk.left_c<2&&this.gk.left_c++:this.gk.left_c=0,this.gk.right_f?this.gk.right_c<2&&this.gk.right_c++:this.gk.right_c=0,1==this.gk.left_c?(this.left_dcc>0?this.j_hashiru_f=!0:this.j_hashiru_f=!1,this.left_dcc=8):this.left_dcc>0&&this.left_dcc--,1==this.gk.right_c?(this.right_dcc>0?this.j_hashiru_f=!0:this.j_hashiru_f=!1,this.right_dcc=8):this.right_dcc>0&&this.right_dcc--,this.gk.up_f?(this.up_key_c++,this.up_key_c>2&&(this.up_key_c=2)):this.up_key_c=0,this.gk.down_f?(this.down_key_c++,this.down_key_c>2&&(this.down_key_c=2)):this.down_key_c=0,110==this.co_j.c){if(this.gk.left_f?(this.co_j.vx-=10,this.co_j.vx<-60&&(this.co_j.vx=-60)):this.gk.right_f&&(this.co_j.vx+=10,this.co_j.vx>60&&(this.co_j.vx=60)),this.co_j.c1++,this.co_j.c1>2){this.co_j.c=100;var i=this.maps.getBGCode(this.co_j.x+15,this.co_j.y+31);i>=20&&(this.co_j.y=32*vi(this.co_j.y+31,5)-32-1),18!=(i=this.maps.getBGCode(this.co_j.x+15,this.co_j.y+31))&&19!=i||(this.co_j.y-=16)}this.co_j.wx=this.co_j.x-this.maps.wx,this.co_j.wy=this.co_j.y-this.maps.wy,this.co_j.pt=109,this.moveViewPosition()}else if(120==this.co_j.c)this.co_j.c1++,this.co_j.c1>6&&(this.co_j.c=100),this.co_j.pt=119,this.moveViewPosition();else if(130==this.co_j.c)this.co_j.c1++,this.co_j.c1>9&&(this.co_j.c=100),this.moveViewPosition();else if(140==this.co_j.c){if(this.gk.right_f?this.co_j.muki=1:this.gk.left_f&&(this.co_j.muki=0),3200==this.co_a[this.j_rope_id].c?this.gk.up_f?(this.j_rope_r+=6,this.j_rope_r>220&&(this.j_rope_r=220),this.co_j.ac++,this.co_j.ac>3&&(this.co_j.ac=0)):this.gk.down_f?(this.j_rope_r-=6,this.j_rope_r<48&&(this.j_rope_r=48),this.co_j.ac++,this.co_j.ac>3&&(this.co_j.ac=0)):this.co_j.ac=0:this.gk.up_f?(this.j_rope_r-=6,this.j_rope_r<48&&(this.j_rope_r=48),this.co_j.ac++,this.co_j.ac>3&&(this.co_j.ac=0)):this.gk.down_f?(this.j_rope_r+=6,2800==this.co_a[this.j_rope_id].c?this.j_rope_r>220&&(this.j_rope_r=220):this.j_rope_r>176&&(this.j_rope_r=176),this.co_j.ac++,this.co_j.ac>3&&(this.co_j.ac=0)):this.co_j.ac=0,this.co_j.x=this.co_a[this.j_rope_id].x+li(Math.cos(3.141592653589793*this.co_a[this.j_rope_id].vy/180)*this.j_rope_r,!0,this)-16,this.co_j.y=this.co_a[this.j_rope_id].y+li(Math.sin(3.141592653589793*this.co_a[this.j_rope_id].vy/180)*this.j_rope_r,!0,this)-16,this.co_j.vx=0,this.co_j.vy=0,1==this.tr1_c){if(this.co_j.c=100,2800==this.co_a[this.j_rope_id].c||3200==this.co_a[this.j_rope_id].c?this.co_j.vy=-230:this.co_j.vy=-200,this.j_jump_level=1,this.j_jump_type=0,this.co_j.pt=103,this.co_j.ac=0,this.j_djump_kf=!0,this.gs.rsAddSound(3),2800==this.co_a[this.j_rope_id].c||3200==this.co_a[this.j_rope_id].c?0==this.co_j.muki?this.co_j.vx=-80:this.co_j.vx=80:0==this.co_j.muki?this.co_j.vx=-100:this.co_j.vx=100,3200==this.co_a[this.j_rope_id].c){var s=32*vi(this.co_a[this.j_rope_id].y,5)-32-2;this.co_j.y>s&&(this.co_j.y=s)}else{var h=32*vi(this.co_a[this.j_rope_id].y,5)+32;this.co_j.y<h&&(this.co_j.y=h)}this.j_rope_cf=!0}switch(this.maps.map_bg[vi(this.co_j.x+15,5)][vi(this.co_j.y+15,5)]){case 9:if(4==this.maps.map_bg[vi(this.co_j.x+15,5)-1][vi(this.co_j.y+15,5)]?(this.maps.putBGCode(vi(this.co_j.x+15,5),vi(this.co_j.y+15,5),4),this.j_mizu_f=!0):this.maps.putBGCode(vi(this.co_j.x+15,5),vi(this.co_j.y+15,5),0),this.addScore(5),this.gs.rsAddSound(6),2==this.clear_type||3==this.clear_type){var e=this.coin_kazu;this.getCoinTotal(),e>0&&0==this.coin_kazu&&(this.gs.rsAddSound(7),3==this.clear_type&&this.showHashigo())}break;case 8:(2!=this.clear_type&&3!=this.clear_type||this.coin_kazu<=0)&&(4==this.maps.map_bg[vi(this.co_j.x+15,5)-1][vi(this.co_j.y+15,5)]?(this.maps.putBGCode(vi(this.co_j.x+15,5),vi(this.co_j.y+15,5),4),this.j_mizu_f=!0):this.maps.putBGCode(vi(this.co_j.x+15,5),vi(this.co_j.y+15,5),0),this.gs.rsAddSound(2),this.stage_cc=1,this.stage_max>=2&&this.stage>=this.stage_max?this.addScore(1e3):this.addScore(100));break;case 5:case 6:this.co_j.x=32*vi(this.co_j.x+15,5),this.co_j.y=32*vi(this.co_j.y+15,5),this.jShinu(1)}1==this.co_j.ac||2==this.co_j.ac?this.co_j.pt=1201:this.co_j.pt=1200,this.moveViewPosition()}else if(145==this.co_j.c){if(this.gk.right_f){this.co_j.muki=1,this.co_a[this.j_rope_id].x+=4;var a=vi(this.co_a[this.j_rope_id].y-32,5),c=vi(this.co_a[this.j_rope_id].y-1,5),o=vi(this.co_a[this.j_rope_id].y+31,5),_=vi(this.co_a[this.j_rope_id].y+63,5),r=vi(this.co_a[this.j_rope_id].x+63,5);(this.maps.map_bg[r][a]>=18||this.maps.map_bg[r][c]>=18||this.maps.map_bg[r][o]>=18||this.maps.map_bg[r][_]>=18)&&(this.co_a[this.j_rope_id].x=32*r-64)}else if(this.gk.left_f){this.co_j.muki=0,this.co_a[this.j_rope_id].x-=4;var n=vi(this.co_a[this.j_rope_id].y-32,5),m=vi(this.co_a[this.j_rope_id].y-1,5),g=vi(this.co_a[this.j_rope_id].y+31,5),p=vi(this.co_a[this.j_rope_id].y+63,5),y=vi(this.co_a[this.j_rope_id].x,5);(this.maps.map_bg[y][n]>=18||this.maps.map_bg[y][m]>=18||this.maps.map_bg[y][g]>=18||this.maps.map_bg[y][p]>=18)&&(this.co_a[this.j_rope_id].x=32*y+32)}if(1==this.co_j.muki?this.co_a[this.j_rope_id].pt=605:this.co_a[this.j_rope_id].pt=600,this.gk.up_f){this.co_a[this.j_rope_id].y-=4,this.co_a[this.j_rope_id].y<352&&(this.co_a[this.j_rope_id].y=352);var u=vi(this.co_a[this.j_rope_id].x,5),d=vi(this.co_a[this.j_rope_id].x+31,5),j=vi(this.co_a[this.j_rope_id].x+63,5),f=vi(this.co_a[this.j_rope_id].y-32,5);(this.maps.map_bg[u][f]>=18||this.maps.map_bg[d][f]>=18||this.maps.map_bg[j][f]>=18)&&(this.co_a[this.j_rope_id].y=32*f+64)}else if(this.gk.down_f){this.co_a[this.j_rope_id].y+=4,this.co_a[this.j_rope_id].y>this.ochiru_y-32&&(this.co_a[this.j_rope_id].y=this.ochiru_y-32);var l=vi(this.co_a[this.j_rope_id].x,5),v=vi(this.co_a[this.j_rope_id].x+31,5),x=vi(this.co_a[this.j_rope_id].x+63,5),k=vi(this.co_a[this.j_rope_id].y+63,5);(this.maps.map_bg[l][k]>=18||this.maps.map_bg[v][k]>=18||this.maps.map_bg[x][k]>=18)&&(this.co_a[this.j_rope_id].y=32*k-64)}switch(this.co_j.x=this.co_a[this.j_rope_id].x+16,this.co_j.y=this.co_a[this.j_rope_id].y-16,this.co_j.pt=100,1==this.tr1_c&&(this.co_j.c=100,this.co_j.vy=-200,this.j_jump_level=1,this.j_jump_type=0,this.co_j.pt=103,this.co_j.ac=0,this.j_djump_kf=!0,this.co_j.y--,this.gs.rsAddSound(3),0==this.co_j.muki?this.co_j.vx=-60:this.co_j.vx=60,this.j_rope_cf=!0),this.maps.map_bg[vi(this.co_j.x+15,5)][vi(this.co_j.y+15,5)]){case 7:default:break;case 9:if(4==this.maps.map_bg[vi(this.co_j.x+15,5)-1][vi(this.co_j.y+15,5)]?(this.maps.putBGCode(vi(this.co_j.x+15,5),vi(this.co_j.y+15,5),4),this.j_mizu_f=!0):this.maps.putBGCode(vi(this.co_j.x+15,5),vi(this.co_j.y+15,5),0),this.addScore(5),this.gs.rsAddSound(6),2!=this.clear_type&&3!=this.clear_type)break;var w=this.coin_kazu;if(this.getCoinTotal(),w<=0||0!=this.coin_kazu)break;this.gs.rsAddSound(7),3==this.clear_type&&this.showHashigo();break;case 8:if((2==this.clear_type||3==this.clear_type)&&this.coin_kazu>0)break;4==this.maps.map_bg[vi(this.co_j.x+15,5)-1][vi(this.co_j.y+15,5)]?(this.maps.putBGCode(vi(this.co_j.x+15,5),vi(this.co_j.y+15,5),4),this.j_mizu_f=!0):this.maps.putBGCode(vi(this.co_j.x+15,5),vi(this.co_j.y+15,5),0),this.gs.rsAddSound(2),this.stage_cc=1,this.stage_max>=2&&this.stage>=this.stage_max?this.addScore(1e3):this.addScore(100);break;case 5:case 6:this.co_j.x=32*vi(this.co_j.x+15,5),this.co_j.y=32*vi(this.co_j.y+15,5),this.jShinu(1)}this.moveViewPosition()}else if(150==this.co_j.c)this.co_j.pt=this.setmyw_pt,this.co_j.muki=this.setmyw_muki,this.co_j.c1--,this.co_j.c1<=0&&(this.co_j.c=100),this.moveViewPosition();else if(200==this.co_j.c)this.co_j.vy+=25,this.co_j.vy>100&&(this.co_j.vy=100),this.co_j.y+=li(this.co_j.vy/10),this.co_j.wx=this.co_j.x-this.maps.wx,this.co_j.wy=this.co_j.y-this.maps.wy,this.co_j.c2<100?(this.co_j.c1<=0?(this.co_j.pt=110,this.co_j.muki=0):this.co_j.c1<=1?(this.co_j.pt=111,this.co_j.muki=0,this.co_j.c2++,this.co_j.c2>4&&(this.co_j.c2=100)):this.co_j.c1<=2?(this.co_j.pt=112,this.co_j.muki=0):(this.co_j.pt=113,this.co_j.muki=0),this.co_j.c1++,this.co_j.c1>3&&(this.co_j.c1=0)):(this.co_j.pt=112,this.co_j.muki=0),this.co_j.wy>=this.gg.di.height&&(this.co_j.c=210,this.co_j.c1=0,this.co_j.y=this.maps.wy+this.gg.di.height+32,this.co_j.pt=0);else if(210==this.co_j.c)100==this.spot_c&&(this.spot_c=200),this.stage_cc<=0&&(this.co_j.c1++,this.co_j.c1>16&&(this.j_left--,this.j_left<0?(this.j_left=0,this.ml_mode=300):2==this.stage_select?this.ml_mode=250:this.ml_mode=90));else if(220==this.co_j.c||230==this.co_j.c)220==this.co_j.c?this.co_j.pt=114:230==this.co_j.c&&(this.co_j.pt=115),this.co_j.c1++,this.co_j.c1>=25&&(this.co_j.c=210,this.co_j.c1=0);else if(240==this.co_j.c)this.co_j.c2>=100&&(this.co_j.y+=10),this.co_j.wx=this.co_j.x-this.maps.wx,this.co_j.wy=this.co_j.y-this.maps.wy,this.co_j.c2<100?(this.co_j.c1<=0?(this.co_j.pt=110,this.co_j.muki=0):this.co_j.c1<=1?(this.co_j.pt=111,this.co_j.muki=0,this.co_j.c2++,this.co_j.c2>4&&(this.co_j.c2=100)):this.co_j.c1<=2?(this.co_j.pt=112,this.co_j.muki=0):(this.co_j.pt=113,this.co_j.muki=0),this.co_j.c1++,this.co_j.c1>3&&(this.co_j.c1=0)):(this.co_j.pt=112,this.co_j.muki=0),this.co_j.wy>=this.gg.di.height&&(this.co_j.c=210,this.co_j.c1=0,this.co_j.y=this.maps.wy+this.gg.di.height+32,this.co_j.pt=0);else if(250==this.co_j.c)this.co_j.c1++,this.co_j.c1<=5?(this.co_j.pt=110,this.co_j.muki=0):this.co_j.c1<=10?(this.co_j.pt=111,this.co_j.muki=0):this.co_j.c1<=15?(this.co_j.pt=112,this.co_j.muki=0):this.co_j.c1<=20?(this.co_j.pt=113,this.co_j.muki=0):(this.co_j.muki=0,this.co_j.c=210,this.co_j.c1=0,this.co_j.y=this.maps.wy+this.gg.di.height+32,this.co_j.pt=0),this.co_j.wx=this.co_j.x-this.maps.wx,this.co_j.wy=this.co_j.y-this.maps.wy;else if(300==this.co_j.c)this.co_j.pt=1100,this.co_j.c1++,this.co_j.c1>=32&&(this.co_j.c=310,this.co_j.c1=0,this.j_jump_type=0,this.j_djump_kf=!0,this.co_j.pt=1110),1==this.co_j.c1&&this.gs.rsAddSound(21),this.moveViewPosition();else if(310==this.co_j.c){if(this.co_j.pt=1110,this.stage_cc<=0)if(this.co_j.c1++,2==this.dokan_mode||this.co_j.c2>=100){if(this.co_j.c1>=10){this.co_j.c=320,this.co_j.c1=42;for(var b=0;!(b>this.a_kazu);){if(!(0!=this.sl_step&&1!=this.sl_step&&10!=this.sl_step&&11!=this.sl_step||(this.co_j.c2<100||this.co_j.c2>=200||1!=this.co_j.c5?this.co_j.c2<200||this.co_j.c2>=300?this.co_j.c2<300||this.co_j.c2>=400?this.co_j.c2>=100?300!=this.co_a[b].c||1==this.co_a[b].c4||this.co_j.c2!=this.co_a[b].c3||1==this.co_a[b].c5:300!=this.co_a[b].c||1==this.co_a[b].c4||(this.co_a[b].c3<100||this.co_a[b].c3>=200?this.co_j.c2!=this.co_a[b].c3:this.co_j.c2!=this.co_a[b].c3-100||0==this.co_a[b].c5):300!=this.co_a[b].c||1==this.co_a[b].c4||this.co_j.c2!=this.co_a[b].c3&&this.co_j.c2-100!=this.co_a[b].c3:300!=this.co_a[b].c||1==this.co_a[b].c4||this.co_j.c2!=this.co_a[b].c3&&this.co_j.c2+100!=this.co_a[b].c3:300!=this.co_a[b].c||1==this.co_a[b].c4||this.co_j.c2!=this.co_a[b].c3+100))){this.co_j.x=this.co_a[b].x+16,this.co_j.y=this.co_a[b].y-32,this.co_a[b].c3>=100&&this.co_a[b].c3<200?(this.co_j.y=this.co_a[b].y+32,this.co_j.vy=20):this.co_a[b].c3>=200&&this.co_a[b].c3<300?(this.co_j.x=this.co_a[b].x-32,this.co_j.y=this.co_a[b].y+16,this.co_j.muki=0,this.co_j.vy=20):this.co_a[b].c3>=300&&this.co_a[b].c3<400&&(this.co_j.x=this.co_a[b].x+32,this.co_j.y=this.co_a[b].y+16,this.co_j.muki=1,this.co_j.vy=20),this.co_j.c2=this.co_a[b].c3,this.co_a[b].c4=1,this.nkscroll_con=0,this.nkscroll_zsc=!0;break}b++}b>this.a_kazu&&(this.co_j.c2>=200&&this.co_j.c2<300?(this.co_j.muki=0,this.co_j.vy=20):this.co_j.c2>=300&&this.co_j.c2<400&&(this.co_j.muki=1,this.co_j.vy=20));for(var S=0;S<=this.a_kazu;S++)this.co_a[S].c<100&&60!=this.co_a[S].c||(this.co_a[S].gf=!0,300==this.co_a[S].c&&(this.co_a[S].c3>=100&&this.co_a[S].c3<200?this.co_j.x==this.co_a[S].x+16&&this.co_j.y==this.co_a[S].y+32||(this.co_a[S].c4=0):this.co_a[S].c3>=200&&this.co_a[S].c3<300?this.co_j.x==this.co_a[S].x-32&&this.co_j.y==this.co_a[S].y+16||(this.co_a[S].c4=0):this.co_a[S].c3>=300&&this.co_a[S].c3<400?this.co_j.x==this.co_a[S].x+32&&this.co_j.y==this.co_a[S].y+16||(this.co_a[S].c4=0):this.co_j.x==this.co_a[S].x+16&&this.co_j.y==this.co_a[S].y-32||(this.co_a[S].c4=0)));10!=this.sl_step&&11!=this.sl_step||(this.maps.wx=this.co_j.x-192,this.ks_wx=this.maps.wx),this.moveViewPosition()}}else 10==this.co_j.c1?location.href=this.tdb.getValue(ki("url",this.co_j.c2+1)):this.co_j.c1>80&&(this.ml_mode=50)}else if(320==this.co_j.c)this.co_j.pt=1100,this.co_j.c1--,this.co_j.c1<=0&&(this.co_j.c=100,this.co_j.c1=0,this.co_j.pt=100);else if(400==this.co_j.c){if(this.co_j.c1>48?(this.co_j.c1--,this.co_j.pt=100,this.co_j.c1<=48&&(this.co_j.pt=0)):this.co_j.pt=0,0==this.co_a[this.j_rope_id].c3||4==this.co_a[this.j_rope_id].c3){var M=this.co_a[this.j_rope_id].c4;345!=M&&330!=M&&315!=M&&300!=M&&285!=M||(this.co_a[this.j_rope_id].vx=0),this.gk.up_f?this.co_a[this.j_rope_id].vx=-3:this.gk.down_f&&(this.co_a[this.j_rope_id].vx=3),this.co_a[this.j_rope_id].vx<0?270==this.co_a[this.j_rope_id].c4&&(this.co_a[this.j_rope_id].vx=0):this.co_a[this.j_rope_id].vx>0&&0==this.co_a[this.j_rope_id].c4&&(this.co_a[this.j_rope_id].vx=0),this.co_a[this.j_rope_id].c4+=this.co_a[this.j_rope_id].vx,this.co_a[this.j_rope_id].c4<0&&(this.co_a[this.j_rope_id].c4+=360),this.co_a[this.j_rope_id].c4>=360&&(this.co_a[this.j_rope_id].c4-=360),this.co_j.muki=1}else if(1==this.co_a[this.j_rope_id].c3||3==this.co_a[this.j_rope_id].c3){var C=this.co_a[this.j_rope_id].c4;195!=C&&210!=C&&225!=C&&240!=C&&255!=C||(this.co_a[this.j_rope_id].vx=0),this.gk.up_f?this.co_a[this.j_rope_id].vx=3:this.gk.down_f&&(this.co_a[this.j_rope_id].vx=-3),this.co_a[this.j_rope_id].vx<0?180==this.co_a[this.j_rope_id].c4&&(this.co_a[this.j_rope_id].vx=0):this.co_a[this.j_rope_id].vx>0&&270==this.co_a[this.j_rope_id].c4&&(this.co_a[this.j_rope_id].vx=0),this.co_a[this.j_rope_id].c4+=this.co_a[this.j_rope_id].vx,this.co_j.muki=0}else if(2==this.co_a[this.j_rope_id].c3){var I=this.co_a[this.j_rope_id].c4;15!=I&&30!=I&&45!=I&&60!=I&&75!=I||(this.co_a[this.j_rope_id].vx=0),this.gk.up_f?this.co_a[this.j_rope_id].vx=-3:this.gk.down_f&&(this.co_a[this.j_rope_id].vx=3),this.co_a[this.j_rope_id].vx<0?0==this.co_a[this.j_rope_id].c4&&(this.co_a[this.j_rope_id].vx=0):this.co_a[this.j_rope_id].vx>0&&90==this.co_a[this.j_rope_id].c4&&(this.co_a[this.j_rope_id].vx=0),this.co_a[this.j_rope_id].c4+=this.co_a[this.j_rope_id].vx,this.co_j.muki=1}if(this.co_j.c1>48?(this.co_j.x=this.co_a[this.j_rope_id].x+16+li(Math.cos(3.141592653589793*this.co_a[this.j_rope_id].c4/180)*this.co_j.c1,!0,this)-16,this.co_j.y=this.co_a[this.j_rope_id].y+16+li(Math.sin(3.141592653589793*this.co_a[this.j_rope_id].c4/180)*this.co_j.c1,!0,this)-16):(this.co_j.x=this.co_a[this.j_rope_id].x,this.co_j.y=this.co_a[this.j_rope_id].y),this.j_cannon_c=1,this.tr1_c>=1&&this.tr1_c<=5&&this.co_a[this.j_rope_id].c4%15==0&&this.co_j.c1<=48){this.co_j.x=this.co_a[this.j_rope_id].x+16+li(Math.cos(3.141592653589793*this.co_a[this.j_rope_id].c4/180)*this.co_j.c1,!0,this)-16,this.co_j.y=this.co_a[this.j_rope_id].y+16+li(Math.sin(3.141592653589793*this.co_a[this.j_rope_id].c4/180)*this.co_j.c1,!0,this)-16,this.j_jump_type=0,this.co_j.ac=0,this.co_j.c=100,this.co_j.vx=li(160*Math.cos(3.141592653589793*this.co_a[this.j_rope_id].c4/180),!0,this),this.co_j.vy=li(160*Math.sin(3.141592653589793*this.co_a[this.j_rope_id].c4/180),!0,this),this.j_jump_level=5,this.j_djump_kf=!0,this.co_j.pt=101,this.co_j.vy>0&&(this.co_j.pt=102),Math.abs(this.co_j.vy)<50&&(this.co_j.pt=83);for(var B=0;B<=5;B++)this.j_zan_x[B]=this.co_j.x,this.j_zan_y[B]=this.co_j.y,this.j_zan_pt[B]=0,this.j_zan_pth[B]=this.co_j.muki;this.j_zan_p=0,this.j_zan_c=0,this.j_zan_nagasa=5,this.j_zan_f=!0,this.j_zan_cf=!0,this.j_rope_cf=!0,this.j_cannon_c=22,this.j_cannon_type=0,this.gs.rsAddSound(19)}this.co_j.c1<=48&&100!=this.co_j.c?(this.co_j.wx=this.co_j.x-this.maps.wx,this.co_j.wy=this.co_j.y-this.maps.wy,this.co_j.c1<=48&&100!=this.co_j.c&&(this.scroll_area<2||this.scroll_area>5)&&14!=this.j_tokugi&&15!=this.j_tokugi&&(0==this.co_a[this.j_rope_id].c3||2==this.co_a[this.j_rope_id].c3||4==this.co_a[this.j_rope_id].c3?this.co_j.wx>this.maps.my_wx_mini?(this.co_j.wx-=6,this.co_j.wx<this.maps.my_wx_mini&&(this.co_j.wx=this.maps.my_wx_mini),this.maps.wx=this.co_j.x-this.co_j.wx):this.co_j.wx<this.maps.my_wx_mini&&(this.co_j.wx+=6,this.co_j.wx>this.maps.my_wx_mini&&(this.co_j.wx=this.maps.my_wx_mini),this.maps.wx=this.co_j.x-this.co_j.wx):this.co_j.wx<this.maps.my_wx_max?(this.co_j.wx+=6,this.co_j.wx>this.maps.my_wx_max&&(this.co_j.wx=this.maps.my_wx_max),this.maps.wx=this.co_j.x-this.co_j.wx):this.co_j.wx>this.maps.my_wx_max&&(this.co_j.wx-=6,this.co_j.wx<this.maps.my_wx_max&&(this.co_j.wx=this.maps.my_wx_max),this.maps.wx=this.co_j.x-this.co_j.wx),2==this.co_a[this.j_rope_id].c3?this.co_j.wy>this.maps.my_wy_mini?(this.co_j.wy-=6,this.co_j.wy<this.maps.my_wy_mini&&(this.co_j.wy=this.maps.my_wy_mini),this.maps.wy=this.co_j.y-this.co_j.wy):this.co_j.wy<this.maps.my_wy_mini&&(this.co_j.wy+=6,this.co_j.wy>this.maps.my_wy_mini&&(this.co_j.wy=this.maps.my_wy_mini),this.maps.wy=this.co_j.y-this.co_j.wy):this.co_j.wy<this.maps.my_wy_max?(this.co_j.wy+=6,this.co_j.wy>this.maps.my_wy_max&&(this.co_j.wy=this.maps.my_wy_max),this.maps.wy=this.co_j.y-this.co_j.wy):this.co_j.wy>this.maps.my_wy_max&&(this.co_j.wy-=6,this.co_j.wy<this.maps.my_wy_max&&(this.co_j.wy=this.maps.my_wy_max),this.maps.wy=this.co_j.y-this.co_j.wy))):this.moveViewPosition(),this.maps.wx<this.maps.wx_mini?this.maps.wx=this.maps.wx_mini:this.maps.wx>this.maps.wx_max&&(this.maps.wx=this.maps.wx_max),this.maps.wy<this.maps.wy_mini?this.maps.wy=this.maps.wy_mini:this.maps.wy>this.maps.wy_max&&(this.maps.wy=this.maps.wy_max)}}},{key:"moveViewPosition",value:function(){this.co_j.wx=this.co_j.x-this.maps.wx,this.co_j.wy=this.co_j.y-this.maps.wy,this.co_j.wx<this.maps.my_wx_mini?this.maps.wx=this.co_j.x-this.maps.my_wx_mini:this.co_j.wx>this.maps.my_wx_max&&(this.maps.wx=this.co_j.x-this.maps.my_wx_max),this.co_j.wy<this.maps.my_wy_mini?this.maps.wy=this.co_j.y-this.maps.my_wy_mini:this.co_j.wy>this.maps.my_wy_max&&(this.maps.wy=this.co_j.y-this.maps.my_wy_max),this.maps.wx<this.maps.wx_mini?this.maps.wx=this.maps.wx_mini:this.maps.wx>this.maps.wx_max&&(this.maps.wx=this.maps.wx_max),this.maps.wy<this.maps.wy_mini?this.maps.wy=this.maps.wy_mini:this.maps.wy>this.maps.wy_max&&(this.maps.wy=this.maps.wy_max)}},{key:"jShinu",value:function(t){this.co_j.c1=0,this.co_j.c2=0,this.j_zan_f=!1,this.j_jet_c=0,this.j_v_c=0,this.j_muteki_c=0,this.j_hp=0,this.co_mu[0].c=0,this.co_mu[1].c=0,this.j_cannon_c=1,this.setmyw_w=-1,this.km.initAll(),this.km.mode=10,1==t?this.co_j.c=240:2==t?(this.co_j.c=200,this.co_j.vy=-280):3==t?this.co_j.c=220:4==t?this.co_j.c=230:5==t&&(this.co_j.c=210,this.co_j.y=this.ochiru_y+64,this.co_j.c1=-8),14!=this.j_tokugi&&15!=this.j_tokugi||(this.co_j.c=250),this.gs.rsAddSound(24),this.sendHighscore()}},{key:"jFumu",value:function(t){return!(this.co_j.c<100||this.co_j.c>=200||(this.gs.rsAddSound(8),this.co_j.y=this.co_j.y-10,this.co_j.vy=-160,this.j_jump_type=1,this.co_j.c=110,this.co_j.c1=0,this.co_j.pt=109,2==t?this.co_j.vy=-220:3==t&&(this.co_j.vy=-320),0))}},{key:"getSakamichiY",value:function(t,i){var s=0,h=t-32*vi(t,5),e=this.maps.map_bg[vi(t,5)][vi(i,5)];if(18==e){var a=31-h;s=32*vi(i,5)+a-31}else if(19==e){var c=h;s=32*vi(i,5)+c-31}else s=i-31;return s}},{key:"jZutuki",value:function(t,i,s){for(var h=0;h<=this.t_kazu;h++)if(!(this.co_t[h].c<100)){var e=this.co_t[h],a=!1;if(1==s?(15!=this.j_tokugi||2!=this.j_4_muki&&this.j_4_muki,Math.abs(t-e.x)<25&&Math.abs(i-e.y)<23&&(a=!0)):2==s?Math.abs(t-e.x)<54&&i==e.y&&(a=!0):Math.abs(t-e.x)<34&&i==e.y&&(a=!0),a){if(t>e.x?(e.pth=1,e.vx=-7):(e.pth=0,e.vx=7),e.c>=1200&&e.c<1300)e.c=54,e.vy=-25;else if(e.c>=1400&&e.c<1500)e.c=57,e.c1=0;else if(1190==e.c){e.c=55,e.c1=0;var c=vi(e.x,5),o=vi(e.y,5);1==e.c5?this.onASwitch(c-5,o-5,c+5,o+5):this.onASwitch(c-10,o-10,c+10,o+10)}else e.c=52,e.vy=-30,14!=this.j_tokugi&&15!=this.j_tokugi||(e.c=55,e.c1=0);1==s&&this.gs.rsAddSound(9)}}}},{key:"checkWater",value:function(t,i){var s=this.maps.getBGCode(t,i);if(4==s)return!0;if(8==s||9==s){if(4==this.maps.getBGCode(t-32,i))return!0}else if(s>=15&&s<=19&&4==this.maps.getBGCode(t,i-32))return!0;return!1}},{key:"tSet",value:function(t,i,s,h){for(var a=this.tdb.options["bc-enemy-number"]?219:1/0,c=0;!(c>a);){if(c>this.t_kazu&&this.co_t.push(new e),this.co_t[c].c<=0){this.co_t[c].init();var o=this.co_t[c];o.c=10,o.c1=h,o.c2=s,o.c3=t,o.c4=i,o.x=t,o.y=i;var _=this.getEnemyDefinition(s);if(null!=_){o.c2=_.nativeCode-5e3,_.native.initFactory(o.c2,_.properties)(o,this),o.controller=_.native.controllerFactory(_.properties);break}switch(s){case 1190:o.c3=t-64,o.c5=0;break;case 1191:o.c2=1190,o.c3=t-64,o.c5=1}break}c++}}},{key:"tSetBoss",value:function(t,i,s,h){var a,c;for(this.tdb.options["bc-enemy-number"]?(a=229,c=220):(a=1/0,c=0);!(c>a);){for(;c>this.t_kazu;)this.co_t.push(new e);if(this.co_t[c].c<=0){var o=this.co_t[c];o.init(),o.c=s,o.c1=0,o.c2=0,o.c3=t,o.c4=i,o.x=t,o.y=i,o.vx=h;var _=this.getEnemyDefinition(s);null!=_&&(o.c=_.nativeCode-5e3,_.native.initFactory(o.c,_.properties)(o,this),o.controller=_.native.controllerFactory(_.properties));break}c++}}},{key:"getEnemyDefinition",value:function(t){var i=this.customParts;if(i&&i[t])return i[t];if(t in Mt.available){var s=Mt.available[t];return{properties:s.properties,native:s,nativeCode:t+5e3}}return null}},{key:"tMove",value:function(){for(var t=!1,i=0;i<=this.t_kazu;i++)if(!(0==this.co_t[i].c||this.co_t[i].x<this.maps.wx-this.gg.di.width&&this.co_t[i].c<1200)){var s=this.co_t[i];null!=s.controller&&s.controller(s,this,i);var h=s.x,e=s.y;switch(s.c){case 1310:default:case 200:case 210:break;case 10:this.maps.wx>=s.c1&&(s.c=s.c2,s.c1=0,s.c2=0);break;case 50:s.c1++,s.c2>=0&&this.yo[s.c2].con>=350&&this.yo[s.c2].con<400&&(e=this.getSHCOY(this.yo[s.c2].x,this.yo[s.c2].y,this.yo[s.c2].x2,this.yo[s.c2].y2,h+15)),s.c1>14&&(s.c=0,this.addScore(10));break;case 52:h+=s.vx,s.vy+=5,s.vy>25&&(s.vy=25),(e+=s.vy)>this.maps.wy+this.gg.di.height&&(s.c=0,this.addScore(10));break;case 54:h+=s.vx,s.vy+=5,s.vy>25&&(s.vy=25),(e+=s.vy)>this.maps.wy+this.gg.di.height&&(s.c=60,s.c1=0);break;case 55:s.c1++,1==s.c1&&this.addScore(10),s.pth=0,s.c1<=3?s.pt=172:s.c1<=6?s.pt=173:s.c1<=9?s.pt=174:(s.pt=174,s.c=0);break;case 57:s.c1++,s.pth=0,s.c1<=3?s.pt=172:s.c1<=6?s.pt=173:s.c1<=9?s.pt=174:(s.pt=174,s.c=65,s.c1=0);break;case 60:if(1==s.c1){e=this.maps.wy_mini-32;for(var a=0;!(a>15);){2==this.scroll_area||4==this.scroll_area?h=32+32*this.ranInt(li(this.gg.di.width/32)):3==this.scroll_area||5==this.scroll_area?h=32+32*this.ranInt(li(2*this.gg.di.width/32)):(h=32*(vi(this.co_j.x,5)+this.ranInt(17)-8))<32?h=32:h>32*this.mapWidth&&(h=32*this.mapWidth);var c=this.maps.getBGCode(h+15,e+32+15);if(c<=10||15==c){s.muki=this.ranInt(2),s.c1=2;break}a++}s.pt=0}else s.c1<50?(s.c1++,s.pt=0):s.c1>=50&&(++e>=this.maps.wy_mini&&(s.c=1220),s.pt=140,s.pth=s.muki);break;case 65:s.c1++,s.c1<50?(e=this.maps.wy_mini-32,s.pt=0):s.c1>=50&&(100==this.mhouse_c?(s.c=1430,h=32*this.mhouse_x,e=32*this.mhouse_y,s.pt=0,s.pth=0):s.c=0);break;case 850:if(s.pt=160,s.pth=0,s.c1<=0)(h-=4)-this.maps.wx<=400&&(h=this.maps.wx+384+16,s.c1=2),s.pt=161+this.g_ac,s.pth=0;else if(s.c1<=20){if(s.c1++,8==s.c1){var o=3.140000104904175,_=li(12*Math.cos(o),!0,this),r=-1*li(12*Math.sin(o),!0,this);this.mSet2(h,e,730,_,r),o=2.7038888931274414,_=li(12*Math.cos(o),!0,this),r=-1*li(12*Math.sin(o),!0,this),this.mSet2(h,e,730,_,r),o=2.267777919769287,_=li(12*Math.cos(o),!0,this),r=-1*li(12*Math.sin(o),!0,this),this.mSet2(h,e,730,_,r),o=3.576111078262329,_=li(12*Math.cos(o),!0,this),r=-1*li(12*Math.sin(o),!0,this),this.mSet2(h,e,730,_,r),o=4.0122222900390625,_=li(12*Math.cos(o),!0,this),r=-1*li(12*Math.sin(o),!0,this),this.mSet2(h,e,730,_,r),this.gs.rsAddSound(18)}}else(h+=6)-this.maps.wx>=this.gg.di.width&&(s.c=0),s.pt=161+this.g_ac,s.pth=1;break;case 1002:(h-=3)<=this.maps.wx-32&&(s.c=0),h>=this.maps.wx+64+24&&h<=this.maps.wx+this.gg.di.width-64&&(s.c1++,s.c1>30&&(s.c1=0),1==s.c1&&this.mSet(h,e,150)),s.pt=166,s.pth=0;break;case 1003:h>=this.maps.wx+64+24&&h<=this.maps.wx+this.gg.di.width-64&&(s.c1++,s.c1>30&&(s.c1=0),1==s.c1&&this.mSet(h,e,150)),s.pt=166,s.pth=0;break;case 1102:h<=this.maps.wx-32&&(s.c=0),h>=this.maps.wx+112&&h<=this.maps.wx+this.gg.di.width-64&&(s.c1++,s.c1>50&&(s.c1=0),1==s.c1&&(this.maps.getBGCode(h+15,e+32)<20||this.co_j.y<=e+8)&&(this.maps.getBGCode(h+15,e-1)<20||this.co_j.y>=e-8)&&this.mSet(h,e,150)),s.pt=167,s.pth=0;break;case 1103:if(h<=this.maps.wx-32&&(s.c=0),h>=this.maps.wx+112&&h<=this.maps.wx+this.gg.di.width-64&&(s.c1++,s.c1>50&&(s.c1=0),1==s.c1))for(var n=0;n<=315;n+=45){var m=3.14*n/180,g=li(12*Math.cos(m),!0,this),p=-1*li(12*Math.sin(m),!0,this);this.mSet2(h,e,730,g,p)}s.pt=167,s.pth=0;break;case 1190:s.pt=167,s.pth=0;break;case 1300:(e+=4)%32==0&&(s.c=1310)}if(s.c<100)s.x=h,s.y=e;else{var y=Math.abs(h-this.co_j.x);if(y>=48)s.x=h,s.y=e;else{if(this.co_j.c>=100&&this.co_j.c<200&&y<30&&(Math.abs(e-this.co_j.y)<23||(10==this.j_tokugi||12==this.j_tokugi||13==this.j_tokugi)&&Math.abs(e-this.co_j.y)<28))if(this.j_v_c>0||1==this.jst_fast_run_attack&&Math.abs(this.co_j.vx)>=100||this.j_cannon_c>0&&0==this.j_cannon_type||this.j_cannon_c>0&&this.j_cannon_c<9&&2==this.j_cannon_type||this.j_cannon_c>5&&3==this.j_cannon_type||this.j_cannon_c>5&&4==this.j_cannon_type&&4!=li(s.c/100)||this.j_cannon_c>0&&this.j_cannon_c<9&&5==this.j_cannon_type&&4!=li(s.c/100)||7==this.j_jump_type){if(1==this.co_j.muki?(s.pth=0,s.vx=3):(s.pth=1,s.vx=-3),s.c>=1200&&s.c<1300)s.c=54,s.vy=-25;else if(s.c>=1400&&s.c<1500)s.c=57,s.c1=0;else if(1190==s.c){s.c=55,s.c1=0;var u=vi(s.x,5),d=vi(s.y,5);1==s.c5?this.onASwitch(u-5,d-5,u+5,d+5):this.onASwitch(u-10,d-10,u+10,d+10)}else s.c=52,s.vy=-30,14!=this.j_tokugi&&15!=this.j_tokugi||(s.c=55,s.c1=0);this.gs.rsAddSound(9)}else 3==this.j_enemy_press&&4!=li(s.c/100)||(s.c>=400&&s.c<500||s.c>=1e3&&s.c<1200||10==this.j_tokugi||this.j_tokugi>=12&&this.j_tokugi<=15||2==this.j_enemy_press?this.j_muteki_c<=0&&(this.setMyHPDamage("1"),this.getMyHP()<=0&&this.jShinu(2)):(y<27||2==this.easy_mode)&&this.co_j.vy>0&&!this.j_mizu_f||t?(s.pt=142,s.c<200?s.pt=142:s.c<300?s.pt=146:s.c<400?s.pt=151:s.c<600?s.pt=149:s.c<700?s.pt=157:s.c<800?s.pt=159:s.c<900?s.pt=163:s.c<1e3&&(s.pt=165),104!=s.c&&(s.c2=-1),s.c=50,s.c1=0,this.gs.rsAddSound(8),this.co_j.y=e-12,this.co_j.vy=-160,this.j_jump_type=1,this.co_j.c=110,this.co_j.c1=0,this.co_j.pt=109,149!=s.pt&&165!=s.pt||(this.co_j.vy=-220,s.c1=-2),s.c2>=0&&(this.co_j.vy=-180),t=!0):this.j_muteki_c<=0&&(this.setMyHPDamage("1"),this.getMyHP()<=0&&this.jShinu(2)));s.x=h,s.y=e}}}}},{key:"anaCheckNormal",value:function(t,i){for(var s=-1,h=0;!(h>11);){if(this.ana_c[h]>0&&Math.abs(32*this.ana_x[h]-t)<32&&i+32>=32*this.ana_y[h]&&i+16<=32*this.ana_y[h]){s=h;break}h++}return s}},{key:"sakamichiY",value:function(t,i){var s=vi(t+15,5),h=vi(i+31,5),e=i;switch(this.maps.map_bg[s][h]){default:break;case 10:var a=32*h-(t+15)%32;a<i&&(e=a);break;case 11:var c=32*h+(t+15)%32-31;c<i&&(e=c);break;case 12:var o=32*h-vi((t+15)%32,1);o<i&&(e=o);break;case 13:var _=32*h-vi((t+15)%32,1)-16;_<i&&(e=_);break;case 14:var r=32*h+vi((t+15)%32,1)-31;r<i&&(e=r);break;case 15:var n=32*h+vi((t+15)%32,1)-15;n<i&&(e=n)}return e}},{key:"mSet",value:function(t,i,s){for(var h=0;!(h>79);){if(this.co_m[h].c<=0){var e=this.co_m[h];switch(e.c=s,e.x=t,e.y=i,e.c1=0,this.m_kazu++,s){case 90:e.c2=4,e.vx=0,e.vy=0;break;case 95:e.c2=4,e.vx=-14,e.vy=0;break;case 96:e.c=95,e.c2=4,e.vx=14,e.vy=0;break;case 100:var a=this.co_j.x-t,c=this.co_j.y-i,o=Math.floor(Math.sqrt(a*a+c*c));o<48?(this.m_kazu--,e.c=0):(e.vx=li(14*a/o),e.vy=li(14*c/o),e.x+=li(16*e.vx/14),e.y+=li(16*e.vy/14)),2!=this.dengeki_mkf&&e.c>0&&4==this.maps.getBGCode(e.x+15,e.y+15)&&(this.m_kazu--,e.c=0);break;case 150:var _=this.co_j.x-t,r=this.co_j.y-i,n=Math.floor(Math.sqrt(_*_+r*r));n<32?(this.m_kazu--,e.c=0):(e.vx=10*_/n,e.vy=10*r/n,e.x+=li(16*e.vx/14),e.y+=li(16*e.vy/14),11==this.sl_step&&(e.vx+=this.sl_speed)),2!=this.dengeki_mkf&&e.c>0&&4==this.maps.getBGCode(e.x+15,e.y+15)&&(this.m_kazu--,e.c=0);break;case 200:e.c2=0,e.vx=-4-this.ranInt(6),e.vy=-22,e.x+=e.vx,e.y+=e.vy;break;case 201:e.c=200,e.c2=1,e.vx=-4-this.ranInt(6),e.vy=-22,e.x+=e.vx,e.y+=e.vy;break;case 205:e.c=200,e.c2=0,e.vx=4+this.ranInt(6),e.vy=-22,e.x+=e.vx,e.y+=e.vy;break;case 206:e.c=200,e.c2=1,e.vx=4+this.ranInt(6),e.vy=-22,e.x+=e.vx,e.y+=e.vy;break;case 300:e.vx=-12,e.x+=e.vx;break;case 305:e.c=300,e.vx=12,e.x+=e.vx;break;case 400:e.vx=-80,e.vy=-225;break;case 405:e.c=400,e.vx=80,e.vy=-225;break;case 500:e.vx=-4,e.vy=-22;break;case 600:e.vx=-40,e.vy=0;break;case 605:e.c=600,e.vx=40,e.vy=0;break;case 606:e.c=600,e.vx=0,e.vy=0;break;case 2e3:e.c3=i,e.vy=-210;break;case 2010:e.c=2e3,e.c3=i-64,e.vy=-280;break;case 2020:e.c=2e3,e.c3=i-32,e.vy=-250;break;case 2100:e.c2=0;break;case 2110:e.c=2100,e.c2=1;break;case 2120:e.c=2100,e.c2=2;break;case 2130:e.c=2100,e.c2=3;break;case 2140:e.c=2100,e.c2=4;break;case 2150:e.c=2100,e.c2=5;break;case 2160:e.c=2100,e.c2=6;break;case 2170:e.c=2100,e.c2=7;break;case 2171:e.c=2100,e.c2=15;break;case 2172:e.c=2100,e.c2=16;break;case 2180:e.c=2100,e.c2=8;break;case 2181:e.c=2100,e.c2=9;break;case 2182:e.c=2100,e.c2=10;break;case 2185:e.c=2100,e.c2=11;break;case 2186:e.c=2100,e.c2=12;break;case 2187:e.c=2100,e.c2=13;break;case 2188:e.c=2100,e.c2=14}break}h++}}},{key:"mSet2",value:function(t,i,s,h,e){for(var a=0;!(a>79);){if(this.co_m[a].c<=0){var c=this.co_m[a];switch(c.c=s,c.x=t,c.y=i,c.vx=h,c.vy=e,c.c1=0,this.m_kazu++,s){case 75:case 77:case 85:case 87:c.c2=h,c.vy=96;break;case 500:case 550:c.x+=c.vx;break;case 700:c.c2=0;break;case 710:c.c=700,c.c2=1;break;case 711:c.c=700,c.c2=1,c.x=t+3*h,c.y=i+3*e;break;case 720:c.c=700,c.c2=2;break;case 730:c.c=700,c.c2=3;break;case 731:c.c=700,c.c2=4;break;case 732:c.c=700,c.c2=5;break;case 733:c.c=700,c.c2=6;break;case 740:c.x=c.x+2*c.vx,c.y=c.y+2*c.vy;break;case 801:c.c=70,c.c1=1,c.c2=20;break;case 810:c.c=800,c.vy=9999;break;case 900:case 910:case 950:case 960:c.vx=t,c.vy=i,c.c1=0,c.c2=h;break;case 901:c.c=900,c.vx=t,c.vy=i,c.c1=0,c.c2=h,c.c3=1;break;case 911:c.c=910,c.vx=t,c.vy=i,c.c1=0,c.c2=h,c.c3=1;break;case 970:case 980:c.vx=t,c.vy=i,c.c1=10,c.c2=h}break}a++}}},{key:"mMove",value:function(){for(var t=0;t<=79;t++)if(0!=this.co_m[t].c){var i=this.co_m[t];switch(i.c){case 50:i.c1++,i.c1<=5?i.pt=80:i.c1<=10?i.pt=81:i.c1<=16?i.pt=82:i.c=0,i.pth=0;break;case 60:i.y-=5;var s=vi(i.y,5),h=this.maps.map_bg[vi(i.x+11,5)][s];(h<=3||h>=20||10==h)&&(i.c=0),((h=this.maps.map_bg[vi(i.x+20,5)][s])<=3||h>=20||10==h)&&(i.c=0),8!=(h=this.maps.map_bg[vi(i.x+15,5)][s])&&9!=h||4==this.maps.map_bg[vi(i.x+15,5)-1][s]||(i.c=0),15==h&&4!=this.maps.map_bg[vi(i.x+15,5)][s-1]&&(i.c=0),(i.x<=this.maps.wx-32||i.x>=this.maps.wx+this.gg.di.width)&&(i.c=0),(i.y<=this.maps.wy-32||i.y>=this.maps.wy+this.gg.di.height)&&(i.c=0),i.pt=85,i.pth=0;break;case 65:case 610:i.c1++,i.c1<=3?i.pt=172:i.c1<=6?i.pt=173:i.c1<=9?i.pt=174:(i.c=0,i.pt=198),i.pth=0;break;case 70:switch(i.c1++,i.c1){case 1:i.c2=20;break;case 2:i.c2=34;break;case 3:i.c2=46;break;case 4:i.c2=56;break;case 5:i.c2=64;break;case 6:i.c2=70;break;case 7:i.c2=74;break;case 8:i.c2=77;break;case 9:i.c2=79;break;case 10:i.c2=80}if(i.c1>10&&(i.c2=10,i.c=0),this.co_j.c>=100&&this.co_j.c<200){var e=this.co_j.x-i.x,a=this.co_j.y-i.y;Math.floor(Math.sqrt(e*e+a*a))<=i.c2+4&&this.j_v_c<=0&&this.jShinu(1)}i.pt=1100,i.pth=0;break;case 75:i.pt=1200,i.pth=0,i.vy-=6,i.vy<=14&&(i.c=76,i.x=i.x-16,i.vx=i.x+24,i.c3=32,i.pt=1210,i.pth=0),i.c2>=0&&this.co_t[i.c2].c<100&&(i.c=0);break;case 76:i.x-=18,i.x<this.maps.wx-32&&(i.x=this.maps.wx-32),this.maps.map_bg[vi(i.x,5)][vi(i.y+15,5)]>=20&&(i.x=32*vi(i.x,5)+32),i.c3>0?(i.c3--,i.c2>=0&&this.co_t[i.c2].c<100&&i.x+18<i.vx&&(i.c3=0)):(i.vx-=18,i.vx<=i.x+16&&(i.c=0)),this.co_j.c>=100&&this.co_j.c<200&&i.x<=this.co_j.x+31-8&&i.vx-20>=this.co_j.x+8&&Math.abs(i.y-this.co_j.y)<=22&&this.j_v_c<=0&&this.jShinu(1),i.pt=1210,i.pth=0;break;case 77:i.pt=1220,i.pth=0,i.vy-=6,i.vy<=14&&(i.c=78,i.x=i.x-16,i.vx=i.x+24,i.c3=32,i.pt=1230,i.pth=0),i.c2>=0&&this.co_t[i.c2].c<100&&(i.c=0);break;case 78:i.x-=18,i.x<this.maps.wx-32&&(i.x=this.maps.wx-32),this.maps.map_bg[vi(i.x,5)][vi(i.y+15,5)]>=20&&(i.x=32*vi(i.x,5)+32),i.c3>0?(i.c3--,i.c2>=0&&this.co_t[i.c2].c<100&&i.x+18<i.vx&&(i.c3=0)):(i.vx-=18,i.vx<=i.x+16&&(i.c=0)),this.co_j.c>=100&&this.co_j.c<200&&i.x<=this.co_j.x+31-8&&i.vx-20>=this.co_j.x+8&&Math.abs(i.y-this.co_j.y)<=26&&this.j_v_c<=0&&this.jShinu(1),i.pt=1230,i.pth=0;break;case 80:i.vy>=5&&(i.vx>2?i.vx--:i.vx<-2&&i.vx++),i.x+=i.vx,i.vy+=4,i.vy>30&&(i.vy=30),i.y+=i.vy,i.y>=this.maps.wy+this.gg.di.height&&(i.c=0),i.pt=136,i.vx<0?i.pth=0:i.pth=1;break;case 85:i.pt=1200,i.pth=0,i.vy-=6,i.vy<=14&&(i.c=86,i.x=i.x+32+16,i.vx=i.x-24,i.c3=32,i.pt=1215,i.pth=0),i.c2>=0&&this.co_t[i.c2].c<100&&(i.c=0);break;case 86:i.x+=18,i.x>this.maps.wx+this.gg.di.width+16&&(i.x=this.maps.wx+this.gg.di.width+16),this.maps.map_bg[vi(i.x,5)][vi(i.y+15,5)]>=20&&(i.x=32*vi(i.x,5)-1),i.c3>0?(i.c3--,i.c2>=0&&this.co_t[i.c2].c<100&&i.x+18<i.vx&&(i.c3=0)):(i.vx+=18,i.vx>=i.x-16&&(i.c=0)),this.co_j.c>=100&&this.co_j.c<200&&i.x>=this.co_j.x+8&&i.vx+20<=this.co_j.x+24&&Math.abs(i.y-this.co_j.y)<=22&&this.j_v_c<=0&&this.jShinu(1),i.pt=1215,i.pth=0;break;case 87:i.pt=1220,i.pth=0,i.vy-=6,i.vy<=14&&(i.c=88,i.x=i.x+32+16,i.vx=i.x-24,i.c3=32,i.pt=1235,i.pth=0),i.c2>=0&&this.co_t[i.c2].c<100&&(i.c=0);break;case 88:i.x+=18,i.x>this.maps.wx+this.gg.di.width+16&&(i.x=this.maps.wx+this.gg.di.width+16),this.maps.map_bg[vi(i.x,5)][vi(i.y+15,5)]>=20&&(i.x=32*vi(i.x,5)-1),i.c3>0?(i.c3--,i.c2>=0&&this.co_t[i.c2].c<100&&i.x+18<i.vx&&(i.c3=0)):(i.vx+=18,i.vx>=i.x-16&&(i.c=0)),this.co_j.c>=100&&this.co_j.c<200&&i.x>=this.co_j.x+8&&i.vx+20<=this.co_j.x+24&&Math.abs(i.y-this.co_j.y)<=26&&this.j_v_c<=0&&this.jShinu(1),i.pt=1235,i.pth=0;break;case 90:if(i.c2<48){if(i.c2+=4,i.c2>=48){i.c2=48;var c=this.co_j.x-i.x,o=this.co_j.y-i.y,_=Math.floor(Math.sqrt(c*c+o*o));_<32||this.co_j.c<100||this.co_j.c>=200?(i.x<this.maps.wx+256?i.vx=14:i.vx=-14,i.vy=0):(i.vx=li(14*c/_),i.vy=li(14*o/_))}}else i.x+=i.vx,i.y+=i.vy,(i.x<=this.maps.wx-32-32||i.x>=this.maps.wx+this.gg.di.width+128+32||i.y<=this.maps.wy-32-200-32||i.y>=this.maps.wy+this.gg.di.height+32)&&(i.c=0);if(this.co_j.c>=100&&this.co_j.c<200){var r=this.co_j.x-i.x,n=this.co_j.y-i.y;Math.floor(Math.sqrt(r*r+n*n))+4<=i.c2&&(this.j_v_c>0?i.c=0:this.jShinu(1))}i.pt=1e3;break;case 95:if(i.c2<64?(i.c2+=4,i.c2>=64&&(i.c2=64)):(i.x+=i.vx,i.y+=i.vy,(i.x<=this.maps.wx-32-64||i.x>=this.maps.wx+this.gg.di.width+128+64||i.y<=this.maps.wy-32-200-64||i.y>=this.maps.wy+this.gg.di.height+64)&&(i.c=0)),this.co_j.c>=100&&this.co_j.c<200){var m=this.co_j.x-i.x,g=this.co_j.y-i.y;Math.floor(Math.sqrt(m*m+g*g))+4<=i.c2&&(this.j_v_c>0?i.c=0:this.jShinu(1))}i.pt=1010;break;case 100:i.x+=i.vx,i.y+=i.vy;var p=vi(i.x+15,5);(this.maps.map_bg[p][vi(i.y+12,5)]>=20||this.maps.map_bg[p][vi(i.y+18,5)]>=20)&&(i.c=0),2!=this.dengeki_mkf&&4==this.maps.getBGCode(i.x+15,i.y+15)&&(i.c=0),(i.x<=this.maps.wx-32||i.x>=this.maps.wx+this.gg.di.width+128||i.y<=this.maps.wy-32-200||i.y>=this.maps.wy+this.gg.di.height)&&(i.c=0),0==this.g_c1?(i.pt=120,i.pth=0):(i.pt=121,i.pth=0);break;case 150:i.x+=i.vx,i.y+=i.vy,this.maps.map_bg[vi(i.x+15,5)][vi(i.y+15,5)]>=20&&(i.c=0),2!=this.dengeki_mkf&&4==this.maps.getBGCode(i.x+15,i.y+15)&&(i.c=0),(i.x<=this.maps.wx-32||i.x>=this.maps.wx+this.gg.di.width+128||i.y<=this.maps.wy-32-200||i.y>=this.maps.wy+this.gg.di.height)&&(i.c=0),0==this.g_c1?(i.pt=120,i.pth=0):(i.pt=121,i.pth=0);break;case 200:i.x+=i.vx,i.vy+=2,i.vy>12&&(i.vy=12);var y=i.vy;if(y<-18&&(y=-18),i.y+=y,i.y>=this.maps.wy+this.gg.di.height&&(i.c=0),1==i.c2){var u=vi(i.x+15,5);(this.maps.map_bg[u][vi(i.y+12,5)]>=20||this.maps.map_bg[u][vi(i.y+20,5)]>=20)&&(i.c=0)}switch(this.g_c2){case 0:i.pt=122;break;case 1:i.pt=123;break;case 2:i.pt=124;break;case 3:i.pt=125}i.pth=0;break;case 300:i.x+=i.vx;var d=vi(i.y+15,5);(this.maps.map_bg[vi(i.x+8,5)][d]>=20||this.maps.map_bg[vi(i.x+23,5)][d]>=20)&&(i.c=0),(i.x<=this.maps.wx-32||i.x>=this.maps.wx+this.gg.di.width+128)&&(i.c=0),0==this.g_c1?i.pt=126:i.pt=127,i.vx<=0?i.pth=0:i.pth=1;break;case 400:i.x+=li(i.vx/10),i.vy+=25,i.vy>180&&(i.vy=180),i.y+=li(i.vy/10),i.y>=this.maps.wy+this.gg.di.height&&(i.c=0);var j=vi(i.x+15,5);this.maps.map_bg[j][vi(i.y+15,5)]>=20&&(i.c=0),0==this.g_c1?i.pt=128:i.pt=129,i.vx<=0?i.pth=0:i.pth=1;break;case 500:i.vy>=5&&(i.vx>2?i.vx--:i.vx<-2&&i.vx++),i.x+=i.vx,i.vy+=2,i.vy>12&&(i.vy=12);var f=i.vy;f<-16&&(f=-16),i.y+=f,i.y>=this.maps.wy+this.gg.di.height&&(i.c=0),i.pt=139,i.pth=0;break;case 550:i.vy>=5&&(i.vx>2?i.vx--:i.vx<-2&&i.vx++),i.x+=i.vx,i.vy-=2,i.vy<-12&&(i.vy=-12);var l=i.vy;l<-16&&(l=-16),i.y+=l,i.y<=this.maps.wy-32&&(i.c=0),i.pt=139,i.pth=0;break;case 600:i.vx>0?i.vx-=2:i.vx<0&&(i.vx+=2),i.x+=li(i.vx/10),i.vy+=8,i.vy>200&&(i.vy=200),i.y+=li(i.vy/10),this.maps.map_bg[vi(i.x+15,5)][vi(i.y+15,5)]>=20&&(i.c=610,i.c1=0,i.y=32*vi(i.y+15,5)-16,this.gs.rsAddSound(19)),(i.x<=this.maps.wx-32-64||i.x>=this.maps.wx+this.gg.di.width+64||i.y<=this.maps.wy-32-200||i.y>=this.maps.wy+this.gg.di.height)&&(i.c=0),i.vx>28?(i.pt=171,i.pth=1):i.vx<-28?(i.pt=171,i.pth=0):(i.pt=170,i.pth=0);break;case 700:i.x+=i.vx,i.y+=i.vy,(i.x<=this.maps.wx-32||i.x>=this.maps.wx+this.gg.di.width+32||i.y<=this.maps.wy-64||i.y>=this.maps.wy+this.gg.di.height+64)&&(i.c=0);var v=this.maps.getBGCode(i.x+15,i.y+15);if(0==i.c2&&v>=20&&(i.c=0),0==i.c2&&v<=3&&(i.c=0),(3==i.c2||4==i.c2||5==i.c2||6==i.c2)&&v>=20&&(i.c=0),i.pt=168+this.g_c1,i.pth=0,2==i.c2)i.pt=134;else if(4==i.c2){switch(this.g_c2){case 0:i.pt=122;break;case 1:i.pt=123;break;case 2:i.pt=124;break;case 3:i.pt=125}i.vx<=0?i.pth=0:i.pth=1}else 5==i.c2?(0==this.g_c1?i.pt=128:i.pt=129,i.vx<=0?i.pth=0:i.pth=1):6==i.c2&&(0==this.g_c1?i.pt=120:i.pt=121,i.vx<=0?i.pth=0:i.pth=1);break;case 740:i.x+=i.vx,i.y+=i.vy,(i.x<=this.maps.wx-32||i.x>=this.maps.wx+this.gg.di.width+32||i.y<=this.maps.wy-64||i.y>=this.maps.wy+this.gg.di.height+64)&&(i.c=0),i.pt=139,i.pth=0;break;case 800:9999==i.vy?(i.x+=i.vx,(i.x<=this.maps.wx-16||i.x>=this.maps.wx+this.gg.di.width-16)&&(i.c=0),(this.maps.getBGCode(i.x,i.y+15)>=20||this.maps.getBGCode(i.x+31,i.y+15)>=20)&&(i.c=70,i.c1=1,i.c2=20)):(i.vy>=5&&(i.vx>2?i.vx--:i.vx<-2&&i.vx++),i.x+=i.vx,i.vy+=4,i.vy>28&&(i.vy=28),i.y+=i.vy,i.y>=this.maps.wy+this.gg.di.height&&(i.c=0),this.maps.getBGCode(i.x+15,i.y+31)>=20&&(i.c=70,i.y=32*vi(i.y+31,5)-16,i.c1=1,i.c2=20)),i.pt=137+this.g_c1,i.vx<0?i.pth=0:i.pth=1;break;case 900:i.c1+=4,i.c1<128||i.c1<192?i.c2+=3:i.c1<256||i.c1<288?i.c2+=2:(i.c1<384||i.c1,i.c2++),i.c2>=360&&(i.c2-=360),i.c1>576&&(i.c=0),i.x=i.vx+li(Math.cos(3.14*i.c2/180)*i.c1,!0,this),i.y=i.vy+li(-1*Math.sin(3.14*i.c2/180)*i.c1,!0,this),1==i.c3?(i.pt=168+this.g_c1,i.pth=0):(i.pt=134,i.pth=0);break;case 910:i.c1+=4,i.c1<128||i.c1<192?i.c2-=3:i.c1<256||i.c1<288?i.c2-=2:(i.c1<384||i.c1,i.c2--),i.c2<0&&(i.c2+=360),i.c1>576&&(i.c=0),i.x=i.vx+li(Math.cos(3.14*i.c2/180)*i.c1,!0,this),i.y=i.vy+li(-1*Math.sin(3.14*i.c2/180)*i.c1,!0,this),1==i.c3?(i.pt=168+this.g_c1,i.pth=0):(i.pt=134,i.pth=0);break;case 950:i.c1+=4,i.c1<128||i.c1<192?i.c2+=3:i.c1<256||i.c1<288?i.c2+=2:(i.c1<384||i.c1,i.c2++),i.c2>=360&&(i.c2-=360),i.c1>204&&(i.c=0),i.x=i.vx+li(Math.cos(3.14*i.c2/180)*i.c1,!0,this),i.y=i.vy+li(-1*Math.sin(3.14*i.c2/180)*i.c1,!0,this),i.pt=168+this.g_c1,i.pth=0;break;case 960:i.c1+=4,i.c1<128||i.c1<192?i.c2-=3:i.c1<256||i.c1<288?i.c2-=2:(i.c1<384||i.c1,i.c2--),i.c2<0&&(i.c2+=360),i.c1>204&&(i.c=0),i.x=i.vx+li(Math.cos(3.14*i.c2/180)*i.c1,!0,this),i.y=i.vy+li(-1*Math.sin(3.14*i.c2/180)*i.c1,!0,this),i.pt=168+this.g_c1,i.pth=0;break;case 970:i.c1+=4,i.c1<128||i.c1<192||i.c1<256?i.c2+=5:i.c1<288?i.c2+=4:i.c1<384?i.c2+=3:(i.c1,i.c2+=2),i.c2>=360&&(i.c2-=360),i.c1>80&&(i.c1=80,i.vx-=6),i.vx<this.maps.wx-100&&(i.c=0),i.x=i.vx+li(Math.cos(3.14*i.c2/180)*i.c1,!0,this),i.y=i.vy+li(-1*Math.sin(3.14*i.c2/180)*i.c1,!0,this),i.pt=168+this.g_c1,i.pth=0;break;case 980:i.c1+=4,i.c1<128||i.c1<192||i.c1<256?i.c2-=5:i.c1<288?i.c2-=4:i.c1<384?i.c2-=3:(i.c1,i.c2-=2),i.c2<0&&(i.c2+=360),i.c1>80&&(i.c1=80,i.vx+=6),i.vx>this.maps.wx+this.gg.di.width+100&&(i.c=0),i.x=i.vx+li(Math.cos(3.14*i.c2/180)*i.c1,!0,this),i.y=i.vy+li(-1*Math.sin(3.14*i.c2/180)*i.c1,!0,this),i.pt=168+this.g_c1,i.pth=0;break;case 2e3:i.vy+=30,i.vy>180&&(i.vy=180),i.y+=li(i.vy/10),i.vy>=0&&i.y>=i.c3&&(i.y=i.c3,i.vy=0),(this.scroll_area<2||this.scroll_area>5)&&14!=this.j_tokugi&&15!=this.j_tokugi&&(i.x<=this.maps.wx-32||i.x>=this.maps.wx+this.gg.di.width)&&(i.c=0),i.pt=90+this.g_ac2,i.pth=0;break;case 2100:(this.scroll_area<2||this.scroll_area>5)&&14!=this.j_tokugi&&15!=this.j_tokugi&&11!=i.c2&&(i.x<=this.maps.wx-32||i.x>=this.maps.wx+this.gg.di.width)&&(i.c=0),i.pt=42+i.c2,8==i.c2?i.pt=59:9==i.c2?i.pt=109:10==i.c2?i.pt=107:11==i.c2?i.pt=97:12==i.c2||13==i.c2||14==i.c2?i.pt=42:15==i.c2?i.pt=49:16==i.c2&&(i.pt=1300),i.pth=0;break;case 2200:i.x<this.maps.wx?i.x=this.maps.wx:i.x>this.maps.wx+this.gg.di.width-32&&(i.x=this.maps.wx+this.gg.di.width-32),i.y<this.maps.wy+64?i.y=this.maps.wy+64:i.y>this.maps.wy+this.gg.di.height-96&&(i.y=this.maps.wy+this.gg.di.height-96),this.stage_max>=2&&this.stage>=this.stage_max?0==this.g_ac2?i.pt=99:i.pt=98:0==this.g_ac2?i.pt=95:i.pt=94,i.pth=0}if((100==i.c||300==i.c||400==i.c||600==i.c||700==i.c&&(3==i.c2||4==i.c2||5==i.c2||6==i.c2)||800==i.c)&&this.yuka_id_max>=0)for(var x=0;x<=this.yuka_id_max;x++)if(this.yo[x].con>=300&&this.yo[x].con<350){var k=this.getSCOY(this.yo[x].x,this.yo[x].y,this.yo[x].x2,this.yo[x].y2,i.x+15);if(k<0||k+8>i.y||k+39<i.y)continue;if(600==i.c){i.y=k+16,i.c=610,i.c1=0,this.gs.rsAddSound(19);continue}800==i.c?(i.c=70,i.y=k+16,i.c1=1,i.c2=20):i.c=0}else if(this.yo[x].con>=350&&this.yo[x].con<400){var w=this.getSHCOY(this.yo[x].x,this.yo[x].y,this.yo[x].x2,this.yo[x].y2,i.x+15);if(w<0||w+8>i.y||w+39<i.y)continue;if(600==i.c){i.y=w+16,i.c=610,i.c1=0,this.gs.rsAddSound(19);continue}800==i.c?(i.c=70,i.y=w+16,i.c1=1,i.c2=20):i.c=0}else if(this.yo[x].con>=400&&this.yo[x].con<450){var b=this.getSWUpOY(this.yo[x].x,this.yo[x].y,this.yo[x].x2,this.yo[x].y2,i.x+15);if(b<0||b+8>i.y||b+39<i.y)continue;if(600==i.c){i.y=b+16,i.c=610,i.c1=0,this.gs.rsAddSound(19);continue}800==i.c?(i.c=70,i.y=b+16,i.c1=1,i.c2=20):i.c=0}else if(!(this.yo[x].con<450||this.yo[x].con>=500)){var S=this.getSWDownOY(this.yo[x].x,this.yo[x].y,this.yo[x].x2,this.yo[x].y2,i.x+15);S<0||S+8>i.y||S+39<i.y||(600!=i.c?800==i.c?(i.c=70,i.y=S+16,i.c1=1,i.c2=20):i.c=0:(i.y=S+16,i.c=610,i.c1=0,this.gs.rsAddSound(19)))}if(0!=i.c){if(!(this.co_j.c<100||this.co_j.c>=200))if(i.c>=2e3){if(Math.abs(i.x-this.co_j.x)>14||i.y>this.co_j.y+26||i.y+15<this.co_j.y)continue;if(this.addScore(5),2e3==i.c)this.gs.rsAddSound(6);else if(2100==i.c)if(this.gs.rsAddSound(7),0==i.c2)this.j_fire_f=!0,this.j_fire_type=this.default_j_fire_type,7==this.j_tokugi&&(this.j_fire_type=2),3==this.j_fire_type||4==this.j_fire_type?this.j_fire_range=10:2==this.j_fire_type&&(this.j_fire_range=9999);else if(1==i.c2)this.j_v_c=150,this.j_v_kakudo=0;else if(2==i.c2)this.time_max>0&&(this.time+=3e4);else if(3==i.c2)this.j_jet_fuel+=80;else if(4==i.c2)this.j_helm_f=!0;else if(5==i.c2)this.j_tail_f=!0;else if(6==i.c2)this.j_drell_f=!0;else if(7==i.c2)this.j_gr_kazu++;else if(8==i.c2)if(17==this.j_tokugi){var M=this.getMyHP();M<10&&this.setMyHP(String(M+1))}else this.j_left++;else if(9==i.c2)this.j_double_f=!0;else if(10==i.c2){if(0==this.co_mu[0].c){this.co_mu[0].c=100,100!=this.co_b.c&&200!=this.co_b.c&&300!=this.co_b.c||(this.boss_hp=this.boss_hp_max+=10);for(var C=0;C<=7;C++){var I=this.mu_ato_p-C;I<0&&(I+=32),this.mu_ato_x[I]=this.co_j.x,this.mu_ato_y[I]=this.co_j.y}var B=this.mu_ato_p-7;B<0&&(B+=32),this.co_mu[0].x=this.mu_ato_x[B],this.co_mu[0].y=this.mu_ato_y[B]}else if(0==this.co_mu[1].c){this.co_mu[1].c=100,100!=this.co_b.c&&200!=this.co_b.c&&300!=this.co_b.c||(this.boss_hp=this.boss_hp_max+=10);for(var G=8;G<=14;G++){var z=this.mu_ato_p-G;z<0&&(z+=32),this.mu_ato_x[z]=this.co_mu[0].x,this.mu_ato_y[z]=this.co_mu[0].y}var A=this.mu_ato_p-14;A<0&&(A+=32),this.co_mu[1].x=this.mu_ato_x[A],this.co_mu[1].y=this.mu_ato_y[A]}}else 11==i.c2?100==this.spot_c&&(this.spot_r+=48,this.spot_r>400&&(this.spot_c=0)):12==i.c2?(this.j_fire_f=!0,this.j_fire_type=2,this.j_fire_range=9999):13==i.c2?(this.j_fire_f=!0,this.j_fire_type=1):14==i.c2?(this.j_fire_f=!0,this.j_fire_type=4,this.j_fire_range=10):15==i.c2?this.j_gr_kazu+=5:16==i.c2&&(this.cpoint_con=100,this.cpoint_stage=this.stage,this.cpoint_x=i.x,this.cpoint_y=i.y);else 2200==i.c&&(this.stage_cc=1,this.stage_max>=2&&this.stage>=this.stage_max?this.addScore(995):this.addScore(95),this.gs.rsAddSound(2));i.c=0,this.m_kazu--}else if(!(i.c<100)){var P=!1;14==this.j_tokugi||15==this.j_tokugi?Math.abs(i.x-this.co_j.x)<=22&&Math.abs(i.y-this.co_j.y)<=22&&(P=!0):Math.abs(i.x-this.co_j.x)<=23&&Math.abs(i.y-this.co_j.y)<=28&&(P=!0),P&&(this.j_v_c>0||this.j_cannon_c>0&&2==this.j_cannon_type||this.j_cannon_c>5&&3==this.j_cannon_type||7==this.j_jump_type?(i.c=0,this.m_kazu--):(this.j_muteki_c<=0&&(this.setMyHPDamage("1"),this.getMyHP()<=0&&this.jShinu(1)),800==i.c&&(i.c=70,i.c1=1,i.c2=20)))}}else this.m_kazu--}}},{key:"jmSet",value:function(t,i,s){for(var h=0;!(h>1);){if(this.co_jm[h].c<=0){var e=this.co_jm[h];switch(e.c=s,e.x=t,e.y=i+8,e.c1=0,e.c2=0,this.jm_kazu++,s){case 60:case 65:e.x=t+16,e.y=i,e.vx=t+16,e.c4=8,this.j_gr_kazu--,this.gs.rsAddSound(23);break;case 100:e.vx=li(this.co_j.vx/10)-10,e.vy=-28,Math.abs(e.vx)<2&&(e.vx=-2),14==this.j_tokugi?(e.c=101,e.y=i,e.vx=-16,e.vy=0):15==this.j_tokugi?(e.c=101,e.y=i,e.vx=-16,e.vy=0,2==this.j_4_muki?(e.vx=0,e.vy=-16):3==this.j_4_muki&&(e.vx=0,e.vy=16)):3==this.j_fire_type?(e.c=101,e.y=i,e.vx=-20,e.vy=0):2==this.j_fire_type&&(e.c=101,e.y=i,e.vx=li(this.co_j.vx/10)-12,e.vy=0,Math.abs(e.vx)<6&&(e.vx=-6)),this.gs.rsAddSound(23);break;case 105:e.vx=li(this.co_j.vx/10)+10,e.vy=-28,Math.abs(e.vx)<2&&(e.vx=2),14==this.j_tokugi?(e.c=106,e.y=i,e.vx=16,e.vy=0):15==this.j_tokugi?(e.c=106,e.y=i,e.vx=16,e.vy=0,2==this.j_4_muki?(e.vx=0,e.vy=-16):3==this.j_4_muki&&(e.vx=0,e.vy=16)):3==this.j_fire_type?(e.c=106,e.y=i,e.vx=20,e.vy=0):2==this.j_fire_type&&(e.c=106,e.y=i,e.vx=li(this.co_j.vx/10)+12,e.vy=0,Math.abs(e.vx)<6&&(e.vx=6)),this.gs.rsAddSound(23);break;case 110:e.x=t,e.y=i,e.vx=-10,e.vy=-10,this.gs.rsAddSound(23);break;case 115:e.c=110,e.x=t,e.y=i,e.vx=10,e.vy=-10,this.gs.rsAddSound(23);break;case 200:e.vx=li(this.co_j.vx/10)-10,e.vy=-35,Math.abs(e.vx)<2&&(e.vx=-2),5!=this.grenade_type&&6!=this.grenade_type||(e.y=i,e.vx=-20,e.vy=0),this.j_gr_kazu--,this.gs.rsAddSound(23);break;case 205:e.c=200,14==this.j_tokugi?(e.vx=10,e.vy=0):(e.vx=li(this.co_j.vx/10)+10,e.vy=-35,Math.abs(e.vx)<2&&(e.vx=2)),5!=this.grenade_type&&6!=this.grenade_type||(e.y=i,e.vx=20,e.vy=0),this.j_gr_kazu--,this.gs.rsAddSound(23);break;case 1206:e.c=200,e.c4=2,e.x=t+16-10,e.y=i,e.vx=20,e.vy=0,this.j_gr_kazu--,this.gs.rsAddSound(23);break;case 1207:e.c=200,e.c4=2,e.x=t+16+10,e.y=i,e.vx=-20,e.vy=0,this.j_gr_kazu--,this.gs.rsAddSound(23)}break}h++}}},{key:"jmSet2",value:function(t,i,s,h){var e=h;if(!(this.co_jm[e].c>0)){var a=this.co_jm[e];switch(a.c=s,a.x=t,a.y=i+8,a.c1=0,a.c2=0,a.c4=0,this.jm_kazu++,s){default:break;case 50:a.x=t,a.y=i,a.c=50,a.c1=1,a.c2=20,this.j_gr_kazu--,this.gs.rsAddSound(23);break;case 60:case 65:a.x=t+16,a.y=i,a.vx=t+16,a.c4=8,this.j_gr_kazu--,this.gs.rsAddSound(23);break;case 100:a.vx=li(this.co_j.vx/10)-10,a.vy=-28,Math.abs(a.vx)<2&&(a.vx=-2),14==this.j_tokugi?(a.c=101,a.y=i,a.vx=-16,a.vy=0):15==this.j_tokugi&&(a.c=101,a.y=i,a.vx=-16,a.vy=0,2==this.j_4_muki?(a.vx=0,a.vy=-16):3==this.j_4_muki&&(a.vx=0,a.vy=16)),this.gs.rsAddSound(23);break;case 105:a.vx=li(this.co_j.vx/10)+10,a.vy=-28,Math.abs(a.vx)<2&&(a.vx=2),14==this.j_tokugi?(a.c=106,a.y=i,a.vx=16,a.vy=0):15==this.j_tokugi&&(a.c=106,a.y=i,a.vx=16,a.vy=0,2==this.j_4_muki?(a.vx=0,a.vy=-16):3==this.j_4_muki&&(a.vx=0,a.vy=16)),this.gs.rsAddSound(23);break;case 200:a.vx=li(this.co_j.vx/10)-10,a.vy=-35,Math.abs(a.vx)<2&&(a.vx=-2),5!=this.grenade_type&&6!=this.grenade_type&&15!=this.j_tokugi||(a.y=i,a.vx=-20,a.vy=0,15==this.j_tokugi&&(2==this.j_4_muki?(a.vx=0,a.vy=-20):3==this.j_4_muki&&(a.vx=0,a.vy=20))),this.j_gr_kazu--,this.gs.rsAddSound(23);break;case 205:a.c=200,14==this.j_tokugi?(a.vx=10,a.vy=0):(a.vx=li(this.co_j.vx/10)+10,a.vy=-35,Math.abs(a.vx)<2&&(a.vx=2)),5!=this.grenade_type&&6!=this.grenade_type&&15!=this.j_tokugi||(a.y=i,a.vx=20,a.vy=0,15==this.j_tokugi&&(2==this.j_4_muki?(a.vx=0,a.vy=-20):3==this.j_4_muki&&(a.vx=0,a.vy=20))),this.j_gr_kazu--,this.gs.rsAddSound(23);break;case 206:a.c=200,a.c4=2,a.x=t+16,a.y=i,a.vx=16,a.vy=0,this.gs.rsAddSound(23);break;case 207:a.c=200,a.c4=2,a.x=t-16,a.y=i,a.vx=-16,a.vy=0,this.gs.rsAddSound(23);break;case 208:a.c=200,a.c4=2,a.y=i-16,a.vx=0,a.vy=-16,this.gs.rsAddSound(23);break;case 209:a.c=200,a.c4=2,a.y=i+24,a.vx=0,a.vy=18,this.gs.rsAddSound(23)}}}},{key:"jmMove",value:function(){for(var t=0;t<=8;t++)if(0!=this.co_jm[t].c){var i=this.co_jm[t];switch(i.c){case 50:switch(i.c1++,i.c1){case 1:i.c2=20;break;case 2:i.c2=34;break;case 3:i.c2=46;break;case 4:i.c2=56;break;case 5:i.c2=64;break;case 6:i.c2=70;break;case 7:i.c2=74;break;case 8:i.c2=77;break;case 9:i.c2=79;break;case 10:i.c2=80}if(i.c1>10&&(i.c2=10,i.c=0),2==i.c4&&10==i.c1){var s=vi(i.x+15,5),h=vi(i.y+15,5);i.x=32*s,i.y=32*h;for(var e=-1;e<=1;e++)for(var a=-1;a<=1;a++)s+a>=1&&s+a<=this.mapWidth&&h+e>=10&&h+e<=this.mapHeight+9&&20==this.maps.map_bg[s+a][h+e]&&this.maps.putBGCode(s+a,h+e,0)}if(7==this.grenade_type){i.c2+=16,10!=this.sl_step&&11!=this.sl_step||(i.x+=this.sl_speed);for(var c=0;c<=79;c++)if(!(this.co_m[c].c<100||this.co_m[c].c>2e3)){var o=this.co_m[c],_=o.x-i.x,r=o.y-i.y;Math.floor(Math.sqrt(_*_+r*r))<=i.c2+8&&(o.c=0,this.m_kazu--)}}for(var n=0;n<=this.t_kazu;n++)if(!(this.co_t[n].c<100)){var m=this.co_t[n],g=m.x-i.x,p=m.y-i.y;if(!(Math.floor(Math.sqrt(g*g+p*p))>i.c2+8)){if(i.x>m.x?(m.pth=1,m.vx=-3):(m.pth=0,m.vx=3),m.c>=1200&&m.c<1300)m.c=54,m.vy=-25;else if(m.c>=1400&&m.c<1500)m.c=57,m.c1=0;else if(1190==m.c){m.c=55,m.c1=0;var y=vi(m.x,5),u=vi(m.y,5);1==m.c5?this.onASwitch(y-5,u-5,y+5,u+5):this.onASwitch(y-10,u-10,y+10,u+10)}else m.c=52,m.vy=-25,14!=this.j_tokugi&&15!=this.j_tokugi||(m.c=55,m.c1=0);this.gs.rsAddSound(9)}}if((1==this.grenade_type||5==this.grenade_type)&&this.co_b.c>=100){var d=this.co_b.x-i.x,j=this.co_b.y-i.y;Math.floor(Math.sqrt(d*d+j*j))<=i.c2+20&&(14==this.j_tokugi||15==this.j_tokugi?this.co_b.killNormalAttack(this):this.co_b.killGrenade(this,i.x>this.co_b.x?1:0))}i.pt=1e3,i.pth=0;break;case 60:i.y=this.co_j.y,i.x-=28,i.x<=this.maps.wx-32&&(i.x=this.maps.wx-32),i.c4>0?(i.c4--,i.vx=this.co_j.x+16):(i.vx-=28,i.vx<=i.x&&(i.c=0));for(var f=0;f<=this.t_kazu;f++)if(!(this.co_t[f].c<100)){var l=this.co_t[f];if(!(l.x<=i.x-12||l.x>=i.vx+12||Math.abs(l.y-i.y)>=24)){if(l.pth=0,l.vx=-3,l.c>=1200&&l.c<1300)l.c=54,l.vy=-25;else if(l.c>=1400&&l.c<1500)l.c=57,l.c1=0;else if(1190==l.c){l.c=55,l.c1=0;var v=vi(l.x,5),x=vi(l.y,5);1==l.c5?this.onASwitch(v-5,x-5,v+5,x+5):this.onASwitch(v-10,x-10,v+10,x+10)}else l.c=52,l.vy=-25,14!=this.j_tokugi&&15!=this.j_tokugi||(l.c=55,l.c1=0);this.gs.rsAddSound(9)}}3==this.grenade_type&&this.co_b.c>=100&&this.co_b.x>i.x-24&&this.co_b.x<i.vx+24&&Math.abs(this.co_b.y-i.y)<36&&(14==this.j_tokugi||15==this.j_tokugi?this.co_b.killNormalAttack(this):this.co_b.killGrenade(this,1)),(this.co_j.c<100||this.co_j.c>=200)&&(i.c=0),i.pt=1200;break;case 65:i.y=this.co_j.y,i.x+=28,i.x>=this.maps.wx+this.gg.di.width+32&&(i.x=this.maps.wx+this.gg.di.width+32),i.c4>0?(i.c4--,i.vx=this.co_j.x+16):(i.vx+=28,i.vx>=i.x&&(i.c=0));for(var k=0;k<=this.t_kazu;k++)if(!(this.co_t[k].c<100)){var w=this.co_t[k];if(!(w.x<=i.vx-12||w.x>=i.x+12||Math.abs(w.y-i.y)>=24)){if(w.pth=0,w.vx=3,w.c>=1200&&w.c<1300)w.c=54,w.vy=-25;else if(w.c>=1400&&w.c<1500)w.c=57,w.c1=0;else if(1190==w.c){w.c=55,w.c1=0;var b=vi(w.x,5),S=vi(w.y,5);1==w.c5?this.onASwitch(b-5,S-5,b+5,S+5):this.onASwitch(b-10,S-10,b+10,S+10)}else w.c=52,w.vy=-25,14!=this.j_tokugi&&15!=this.j_tokugi||(w.c=55,w.c1=0);this.gs.rsAddSound(9)}}3==this.grenade_type&&this.co_b.c>=100&&this.co_b.x>i.vx-24&&this.co_b.x<i.x+24&&Math.abs(this.co_b.y-i.y)<36&&(14==this.j_tokugi||15==this.j_tokugi?this.co_b.killNormalAttack(this):this.co_b.killGrenade(this,0)),(this.co_j.c<100||this.co_j.c>=200)&&(i.c=0),i.pt=1205;break;case 100:var M=i.x;i.x+=i.vx,vi(M+7,5)>vi(i.x+7,5)&&19==this.maps.getBGCode(M+7,i.y+15)&&this.maps.getBGCode(i.x+7,i.y+15)>=20&&(i.y=32*vi(i.y+15,5)-24),this.maps.getBGCode(i.x+7,i.y+15)>=20&&(i.c=0),i.vy+=5,i.vy>25&&(i.vy=25);var C=i.y;i.y+=i.vy,i.vy<0&&this.maps.getBGCode(i.x+15,i.y+8)>=20&&(i.c=0);var I=this.maps.getBGCode(i.x+15,i.y+23);if(I>=20||15==I||10==I?(i.y=32*vi(i.y+23,5)-24,i.vy=-28):vi(C+23,5)<vi(i.y+23,5)&&(18!=(I=this.maps.getBGCode(i.x+15,C+23))&&19!=I||(i.y=32*vi(i.y+23,5)-24,i.vy=-28)),(18==(I=this.maps.getBGCode(i.x+15,i.y+23))||19==I)&&this.getSakamichiY(i.x+15,i.y+23)+8<i.y&&(i.y=this.getSakamichiY(i.x+15,i.y+23)+8,i.vy=-28),this.yuka_id_max>=0&&i.vy>0)for(var B=0;B<=this.yuka_id_max;B++)if(this.yo[B].con>=300&&this.yo[B].con<350){var G=this.getSCOY(this.yo[B].x,this.yo[B].y,this.yo[B].x2,this.yo[B].y2,i.x+15);G>=0&&G+8<=i.y&&G+47>=i.y&&(i.y=G+8,i.vy=-28)}else if(this.yo[B].con>=350&&this.yo[B].con<400){var z=this.getSHCOY(this.yo[B].x,this.yo[B].y,this.yo[B].x2,this.yo[B].y2,i.x+15);z>=0&&z+8<=i.y&&z+47>=i.y&&(i.y=z+8,i.vy=-28)}else if(this.yo[B].con>=400&&this.yo[B].con<450){var A=this.getSWUpOY(this.yo[B].x,this.yo[B].y,this.yo[B].x2,this.yo[B].y2,i.x+15);A>=0&&A+8<=i.y&&A+47>=i.y&&(i.y=A+8,i.vy=-28)}else if(!(this.yo[B].con<450||this.yo[B].con>=500)){var P=this.getSWDownOY(this.yo[B].x,this.yo[B].y,this.yo[B].x2,this.yo[B].y2,i.x+15);P>=0&&P+8<=i.y&&P+47>=i.y&&(i.y=P+8,i.vy=-28)}this.j_fire_mkf||4!=this.maps.getBGCode(i.x+15,i.y+15)||(i.c=0),(i.x<=this.maps.wx-24||i.x>=this.maps.wx+this.gg.di.width-8||i.y<=this.maps.wy-128||i.y>=this.maps.wy+this.gg.di.height+64)&&(i.c=0),i.pt=130+this.g_c2,i.pth=0;break;case 101:if(i.x+=i.vx,i.y+=i.vy,(this.maps.getBGCode(i.x+7,i.y+15)>=20||18==this.maps.getBGCode(i.x+7,i.y+15))&&(i.c=0),this.yuka_id_max>=0)for(var N=0;N<=this.yuka_id_max;N++)if(this.yo[N].con>=300&&this.yo[N].con<350){var O=this.getSCOY(this.yo[N].x,this.yo[N].y,this.yo[N].x2,this.yo[N].y2,i.x+15);O>=0&&O+8<=i.y&&O+47>=i.y&&(i.c=0)}else if(this.yo[N].con>=350&&this.yo[N].con<400){var Y=this.getSHCOY(this.yo[N].x,this.yo[N].y,this.yo[N].x2,this.yo[N].y2,i.x+15);Y>=0&&Y+8<=i.y&&Y+47>=i.y&&(i.c=0)}else if(this.yo[N].con>=400&&this.yo[N].con<450){var T=this.getSWUpOY(this.yo[N].x,this.yo[N].y,this.yo[N].x2,this.yo[N].y2,i.x+15);T>=0&&T+8<=i.y&&T+47>=i.y&&(i.c=0)}else if(!(this.yo[N].con<450||this.yo[N].con>=500)){var R=this.getSWDownOY(this.yo[N].x,this.yo[N].y,this.yo[N].x2,this.yo[N].y2,i.x+15);R>=0&&R+8<=i.y&&R+47>=i.y&&(i.c=0)}i.c2++,i.c2>this.j_fire_range&&(i.c=0),this.j_fire_mkf||4!=this.maps.getBGCode(i.x+15,i.y+15)||(i.c=0),(i.x<=this.maps.wx-24||i.x>=this.maps.wx+this.gg.di.width-8||i.y<=this.maps.wy-24||i.y>=this.maps.wy+this.gg.di.height-8)&&(i.c=0),i.pt=130+this.g_c2,i.pth=0;break;case 105:var E=i.x;i.x+=i.vx,vi(E+23,5)<vi(i.x+23,5)&&18==this.maps.getBGCode(E+23,i.y+15)&&this.maps.getBGCode(i.x+23,i.y+15)>=20&&(i.y=32*vi(i.y+15,5)-24),this.maps.getBGCode(i.x+23,i.y+15)>=20&&(i.c=0),i.vy+=5,i.vy>25&&(i.vy=25);var V=i.y;i.y+=i.vy,i.vy<0&&this.maps.getBGCode(i.x+15,i.y+8)>=20&&(i.c=0);var W=this.maps.getBGCode(i.x+15,i.y+23);if(W>=20||15==W||10==W?(i.y=32*vi(i.y+23,5)-24,i.vy=-28):vi(V+23,5)<vi(i.y+23,5)&&(18!=(W=this.maps.getBGCode(i.x+15,V+23))&&19!=W||(i.y=32*vi(i.y+23,5)-24,i.vy=-28)),(18==(W=this.maps.getBGCode(i.x+15,i.y+23))||19==W)&&this.getSakamichiY(i.x+15,i.y+23)+8<i.y&&(i.y=this.getSakamichiY(i.x+15,i.y+23)+8,i.vy=-28),this.yuka_id_max>=0&&i.vy>0)for(var L=0;L<=this.yuka_id_max;L++)if(this.yo[L].con>=300&&this.yo[L].con<350){var D=this.getSCOY(this.yo[L].x,this.yo[L].y,this.yo[L].x2,this.yo[L].y2,i.x+15);D>=0&&D+8<=i.y&&D+47>=i.y&&(i.y=D+8,i.vy=-28)}else if(this.yo[L].con>=350&&this.yo[L].con<400){var F=this.getSHCOY(this.yo[L].x,this.yo[L].y,this.yo[L].x2,this.yo[L].y2,i.x+15);F>=0&&F+8<=i.y&&F+47>=i.y&&(i.y=F+8,i.vy=-28)}else if(this.yo[L].con>=400&&this.yo[L].con<450){var H=this.getSWUpOY(this.yo[L].x,this.yo[L].y,this.yo[L].x2,this.yo[L].y2,i.x+15);H>=0&&H+8<=i.y&&H+47>=i.y&&(i.y=H+8,i.vy=-28)}else if(!(this.yo[L].con<450||this.yo[L].con>=500)){var U=this.getSWDownOY(this.yo[L].x,this.yo[L].y,this.yo[L].x2,this.yo[L].y2,i.x+15);U>=0&&U+8<=i.y&&U+47>=i.y&&(i.y=U+8,i.vy=-28)}this.j_fire_mkf||4!=this.maps.getBGCode(i.x+15,i.y+15)||(i.c=0),(i.x<=this.maps.wx-24||i.x>=this.maps.wx+this.gg.di.width-8||i.y<=this.maps.wy-128||i.y>=this.maps.wy+this.gg.di.height+64)&&(i.c=0),i.pt=130+this.g_c2,i.pth=1;break;case 106:if(i.x+=i.vx,i.y+=i.vy,this.maps.getBGCode(i.x+23,i.y+15)>=19&&(i.c=0),this.yuka_id_max>=0)for(var q=0;q<=this.yuka_id_max;q++)if(this.yo[q].con>=300&&this.yo[q].con<350){var K=this.getSCOY(this.yo[q].x,this.yo[q].y,this.yo[q].x2,this.yo[q].y2,i.x+15);K>=0&&K+8<=i.y&&K+47>=i.y&&(i.c=0)}else if(this.yo[q].con>=350&&this.yo[q].con<400){var J=this.getSHCOY(this.yo[q].x,this.yo[q].y,this.yo[q].x2,this.yo[q].y2,i.x+15);J>=0&&J+8<=i.y&&J+47>=i.y&&(i.c=0)}else if(this.yo[q].con>=400&&this.yo[q].con<450){var Z=this.getSWUpOY(this.yo[q].x,this.yo[q].y,this.yo[q].x2,this.yo[q].y2,i.x+15);Z>=0&&Z+8<=i.y&&Z+47>=i.y&&(i.c=0)}else if(!(this.yo[q].con<450||this.yo[q].con>=500)){var X=this.getSWDownOY(this.yo[q].x,this.yo[q].y,this.yo[q].x2,this.yo[q].y2,i.x+15);X>=0&&X+8<=i.y&&X+47>=i.y&&(i.c=0)}i.c2++,i.c2>this.j_fire_range&&(i.c=0),this.j_fire_mkf||4!=this.maps.getBGCode(i.x+15,i.y+15)||(i.c=0),(i.x<=this.maps.wx-24||i.x>=this.maps.wx+this.gg.di.width-8||i.y<=this.maps.wy-24||i.y>=this.maps.wy+this.gg.di.height-8)&&(i.c=0),i.pt=130+this.g_c2,i.pth=1,7!=t&&8!=t||(i.pt=128+this.g_c1);break;case 110:for(var $=-1,Q=9999,tt=0;tt<=this.t_kazu;tt++)if(!(this.co_t[tt].c<100||this.co_t[tt].x<this.maps.wx-15||this.co_t[tt].x>this.maps.wx+this.gg.di.width+15||this.co_t[tt].y<this.maps.wy-15||this.co_t[tt].y>this.maps.wy+this.gg.di.height+15)){var it=Math.abs(this.co_t[tt].x-i.x)+Math.abs(this.co_t[tt].y-i.y);it<Q&&($=tt,Q=it)}$>=0?(this.co_t[$].x<i.x-8?(i.vx-=3,i.vx<-10&&(i.vx=-10)):this.co_t[$].x>i.x+8?(i.vx+=3,i.vx>10&&(i.vx=10)):Math.abs(i.vx)<=3?i.vx=0:i.vx>0?i.vx-=3:i.vx<0&&(i.vx+=3),this.co_t[$].y<i.y-8?(i.vy-=3,i.vy<-10&&(i.vy=-10)):this.co_t[$].y>i.y+8?(i.vy+=3,i.vy>10&&(i.vy=10)):Math.abs(i.vy)<=3?i.vy=0:i.vy>0?i.vy-=3:i.vy<0&&(i.vy+=3)):14==this.j_tokugi?(i.vx+=3,i.vx>10&&(i.vx=10),i.vy-=3,i.vy<-10&&(i.vy=-10)):(0==this.co_j.muki?(i.vx-=3,i.vx<-10&&(i.vx=-10)):(i.vx+=3,i.vx>10&&(i.vx=10)),i.vy-=3,i.vy<-10&&(i.vy=-10)),i.x+=i.vx,i.y+=i.vy,this.maps.getBGCode(i.x+23,i.y+15)>=19&&(i.c=0),this.j_fire_mkf||4!=this.maps.getBGCode(i.x+15,i.y+15)||(i.c=0),(i.x<=this.maps.wx-24||i.x>=this.maps.wx+this.gg.di.width-8||i.y<=this.maps.wy-24||i.y>=this.maps.wy+this.gg.di.height-8)&&(i.c=0),i.pt=130+this.g_c2,i.pth=1,7!=t&&8!=t||(i.pt=128+this.g_c1);break;case 200:i.x+=i.vx,2==i.c4?i.y+=i.vy:(5!=this.grenade_type&&6!=this.grenade_type||15==this.j_tokugi)&&(15!=this.j_tokugi&&(14==this.j_tokugi?(i.vy+=2,i.vy>30&&(i.vy=30)):(i.vy+=5,i.vy>30&&(i.vy=30))),i.y+=i.vy,i.vy>0&&this.maps.getBGCode(i.x+15,i.y+31)>=18&&(i.c=50,i.y=32*vi(i.y+31,5)-16,i.c1=1,i.c2=20));var st=this.maps.getBGCode(i.x+15,i.y+15);if((st>=18||15==st&&i.vy>=0)&&(i.c=50,i.c1=1,i.c2=20,2==i.c4)){var ht=vi(i.x+15,5),et=vi(i.y+15,5);i.x=32*ht,i.y=32*et;for(var at=-1;at<=1;at++)for(var ct=-1;ct<=1;ct++)ht+ct>=1&&ht+ct<=this.mapWidth&&et+at>=10&&et+at<=this.mapHeight+9&&20==this.maps.map_bg[ht+ct][et+at]&&this.gs.rsAddSound(16)}if(this.yuka_id_max>=0&&i.vy>0)for(var ot=0;ot<=this.yuka_id_max;ot++)if(this.yo[ot].con>=300&&this.yo[ot].con<350){var _t=this.getSCOY(this.yo[ot].x,this.yo[ot].y,this.yo[ot].x2,this.yo[ot].y2,i.x+15);_t>=0&&_t+8<=i.y&&_t+47>=i.y&&(i.y=_t+16,i.c=50,i.c1=1,i.c2=20)}else if(this.yo[ot].con>=350&&this.yo[ot].con<400){var rt=this.getSHCOY(this.yo[ot].x,this.yo[ot].y,this.yo[ot].x2,this.yo[ot].y2,i.x+15);rt>=0&&rt+8<=i.y&&rt+47>=i.y&&(i.y=rt+16,i.c=50,i.c1=1,i.c2=20)}else if(this.yo[ot].con>=400&&this.yo[ot].con<450){var nt=this.getSWUpOY(this.yo[ot].x,this.yo[ot].y,this.yo[ot].x2,this.yo[ot].y2,i.x+15);nt>=0&&nt+8<=i.y&&nt+47>=i.y&&(i.y=nt+16,i.c=50,i.c1=1,i.c2=20)}else if(!(this.yo[ot].con<450||this.yo[ot].con>=500)){var mt=this.getSWDownOY(this.yo[ot].x,this.yo[ot].y,this.yo[ot].x2,this.yo[ot].y2,i.x+15);mt>=0&&mt+8<=i.y&&mt+47>=i.y&&(i.y=mt+16,i.c=50,i.c1=1,i.c2=20)}2==i.c4?(i.x<=this.maps.wx-64||i.x>=this.maps.wx+this.gg.di.width+32||i.y<=this.maps.wy-64||i.y>=this.maps.wy+this.gg.di.height+32)&&(i.c=0):(i.x<=this.maps.wx-64||i.x>=this.maps.wx+this.gg.di.width+64||i.y<=this.maps.wy-128||i.y>=this.maps.wy+this.gg.di.height+64)&&(i.c=0),i.pt=137+this.g_c1,i.vx<0?i.pth=0:i.pth=1}if(0!=i.c){if(!(i.c<100))for(var gt=0;gt<=this.t_kazu;gt++)if(!(this.co_t[gt].c<100)){var pt=this.co_t[gt];if(!(Math.abs(i.x-pt.x)>=22||Math.abs(i.y-pt.y)>=22)){if(i.vx<0?(pt.pth=1,pt.vx=-3):(pt.pth=0,pt.vx=3),pt.c>=1200&&pt.c<1300)pt.c=54,pt.vy=-25;else if(pt.c>=1400&&pt.c<1500)pt.c=57,pt.c1=0;else if(pt.c>=1400&&pt.c<1500)pt.c=57,pt.c1=0;else if(1190==pt.c){pt.c=55,pt.c1=0;var yt=vi(pt.x,5),ut=vi(pt.y,5);1==pt.c5?this.onASwitch(yt-5,ut-5,yt+5,ut+5):this.onASwitch(yt-10,ut-10,yt+10,ut+10)}else pt.c=52,pt.vy=-25,14!=this.j_tokugi&&15!=this.j_tokugi||(pt.c=55,pt.c1=0);this.gs.rsAddSound(9),200==i.c?(i.c=50,i.c1=1,i.c2=20):(i.c=0,this.jm_kazu--);break}}}else this.jm_kazu--}}},{key:"anaSet",value:function(t,i){for(var s=0;!(s>11);){if(0==this.ana_c[s]){this.ana_c[s]=136,this.ana_x[s]=t,this.ana_y[s]=i,this.ana_kazu++;break}s++}}},{key:"anaSet2",value:function(t,i){for(var s=0;!(s>11);){if(0==this.ana_c[s]){this.ana_c[s]=236,this.ana_x[s]=t,this.ana_y[s]=i,this.ana_kazu++;break}s++}}},{key:"anaMove",value:function(){for(var t=0;t<=11;t++)if(!(this.ana_c[t]<=0||(this.ana_c[t]--,200==this.ana_c[t]&&(this.ana_c[t]=100),this.ana_c[t]>0))){this.maps.putBGCode(this.ana_x[t],this.ana_y[t],20),this.ana_kazu--,this.co_j.c>=100&&this.co_j.c<200&&this.co_j.x+15>=32*this.ana_x[t]&&this.co_j.x+15<=32*this.ana_x[t]+31&&this.co_j.y>32*this.ana_y[t]-32&&this.co_j.y<32*this.ana_y[t]+32&&this.jShinu(1);for(var i=0;i<=this.t_kazu;i++)this.co_t[i].c<60||this.co_t[i].x<=32*this.ana_x[t]-32||this.co_t[i].x>=32*this.ana_x[t]+32||this.co_t[i].y<=32*this.ana_y[t]-32||this.co_t[i].y>=32*this.ana_y[t]+32||(this.co_t[i].c>=1200&&this.co_t[i].c<1300||60==this.co_t[i].c?(this.co_t[i].c=60,this.co_t[i].c1=0):(this.co_t[i].c=0,this.addScore(10)),this.gs.rsAddSound(19))}}},{key:"aSet",value:function(t,i,s,h){for(var a=0;;){if(a>this.a_kazu&&(this.co_a.push(new e),this.vo_x.push([0,0,0,0]),this.vo_y.push([0,0,0,0])),this.co_a[a].c<=0){var c=this.co_a[a];switch(c.c=s,c.c1=h-this.gg.di.width-32,c.c2=h+128,c.x=t,c.y=i,s){case 60:c.pt=200;break;case 70:c.vx=-3,c.c3=0,c.c1=t-this.gg.di.width-150,c.c2=t+150;break;case 71:c.c=70,c.vx=3,c.c3=0,c.c1=t-this.gg.di.width-150,c.c2=t+150;break;case 72:case 2110:c.c=70,c.vx=-2,c.c3=0,c.c1=t-this.gg.di.width-190,c.c2=t+190;break;case 73:case 2120:c.c=70,c.vx=2,c.c3=0,c.c1=t-this.gg.di.width-190,c.c2=t+190;break;case 74:c.c=70,c.vx=-2,c.c3=120,c.c1=t-this.gg.di.width-190,c.c2=t+190;break;case 75:c.c=70,c.vx=2,c.c3=120,c.c1=t-this.gg.di.width-190,c.c2=t+190;break;case 76:c.c=70,c.vx=-2,c.c3=240,c.c1=t-this.gg.di.width-190,c.c2=t+190;break;case 77:c.c=70,c.vx=2,c.c3=240,c.c1=t-this.gg.di.width-190,c.c2=t+190;break;case 78:c.c=70,c.vx=2,c.c3=160,c.c1=t-this.gg.di.width-190,c.c2=t+190,c.c4=2;break;case 79:c.c=70,c.vx=-2,c.c3=380,c.c1=t-this.gg.di.width-190,c.c2=t+190,c.c4=3;break;case 80:c.pt=800,c.c3=1;break;case 81:c.c=80,c.pt=800,c.c3=2;break;case 82:c.c=80,c.pt=800,c.c3=3;break;case 83:c.c=80,c.pt=800,c.c3=4;break;case 85:c.c=85,c.pt=850;break;case 86:c.c=86,c.pt=860;break;case 87:c.c=87,c.pt=860;break;case 88:c.c=88,c.pt=860;break;case 89:c.c=89,c.pt=860;break;case 90:c.x=t+16,c.y=i,c.pt=1200,c.vy=0,c.c=90,c.c1=h-this.gg.di.width-32-256,c.c2=h+128+256,c.c4=this.newYuka(String(1),String(1),String(2),String(2),"line"),this.setYukaColor(String(c.c4),"255","255","255","255");break;case 91:c.x=t+16,c.y=i,c.pt=1200,c.vy=-56,c.c=90,c.c1=h-this.gg.di.width-32-256,c.c2=h+128+256,c.c4=this.newYuka(String(1),String(1),String(2),String(2),"line"),this.setYukaColor(String(c.c4),"255","255","255","255");break;case 92:c.x=t+16,c.y=i,c.pt=1200,c.vy=56,c.c=90,c.c1=h-this.gg.di.width-32-256,c.c2=h+128+256,c.c4=this.newYuka(String(1),String(1),String(2),String(2),"line"),this.setYukaColor(String(c.c4),"255","255","255","255");break;case 93:c.x=t+16,c.y=i+16,c.pt=1300,c.vy=90,c.vx=30,c.c=93,c.c1=h-this.gg.di.width-32-256,c.c2=h+128+256+384,c.c4=this.newYuka(String(1),String(1),String(2),String(2),"line"),this.setYukaColor(String(c.c4),"255","255","255","255");break;case 94:c.x=t+16+384,c.y=i+16,c.pt=1300,c.vy=90,c.vx=-30,c.c=93,c.c1=h-this.gg.di.width-32-256,c.c2=h+128+256+384,c.c3=0,c.c4=this.newYuka(String(1),String(1),String(2),String(2),"line"),this.setYukaColor(String(c.c4),"255","255","255","255");break;case 95:c.x=t+16,c.y=i+16,c.pt=1400,c.c3=1,c.vy=180,c.vx=-26,c.c=95,c.c1=h-this.gg.di.width-32-256,c.c2=h+128+256,c.c4=this.newYuka(String(1),String(1),String(2),String(2),"line"),this.setYukaColor(String(c.c4),"255","255","255","255");break;case 96:c.x=t+16,c.y=i+16,c.pt=1400,c.c3=2,c.vy=360,c.vx=26,c.c=95,c.c1=h-this.gg.di.width-32-256,c.c2=h+128+256,c.c4=this.newYuka(String(1),String(1),String(2),String(2),"line"),this.setYukaColor(String(c.c4),"255","255","255","255");break;case 100:c.vy=5,c.x=t+8,c.y=i-212,c.c3=i-212,c.c4=i+2,c.pt=100;break;case 101:c.c=100,c.vy=5,c.x=t+8,c.y=i-212,c.c3=i-212,c.c4=i+2,c.pt=100,c.c1=0,c.c2=6400;break;case 110:c.vx=-3,c.x=t+208,c.c3=t,c.c4=t+208,c.pt=100,c.c2=h+208+128+32,10!=this.j_tokugi&&12!=this.j_tokugi&&13!=this.j_tokugi||(c.c3=t+4,c.c4=t+208-6);break;case 111:c.c=110,c.vx=-3,c.x=t+208,c.c3=t,c.c4=t+208,c.pt=100,c.c1=0,c.c2=6400,10!=this.j_tokugi&&12!=this.j_tokugi&&13!=this.j_tokugi||(c.c3=t+4,c.c4=t+208-6);break;case 115:c.c=110,c.vx=-3,c.x=t+208,c.c3=t,c.c4=t+208,c.pt=100,c.c2=h+208+128+342+32,10!=this.j_tokugi&&12!=this.j_tokugi&&13!=this.j_tokugi||(c.c3=t+4,c.c4=t+208-6);break;case 116:c.c=110,c.vx=3,c.x=t+320,c.c3=t+320,c.c4=t+208+320,c.pt=100,c.c2=h+208+128+320+32,10!=this.j_tokugi&&12!=this.j_tokugi&&13!=this.j_tokugi||(c.c3=t+320+6,c.c4=t+208+320-4);break;case 120:c.vx=t+160,c.vy=i,c.x=t+8,c.y=i,c.c3=0,c.muki=1,c.c1=c.vx-this.gg.di.width-32-130,c.c2=c.vx+128+130,c.pt=100;break;case 121:c.c=120,c.vx=t+160,c.vy=i,c.x=t+8,c.y=i,c.c3=0,c.muki=0,c.c1=c.vx-this.gg.di.width-32-130,c.c2=c.vx+128+130,c.pt=100;break;case 150:case 160:c.vx=t,c.vy=i,c.x=c.vx+8,c.y=c.vy+8,c.c3=0,c.c4=0,c.pt=100,c.c1=0,c.c2=32*(this.mapWidth+1);break;case 151:c.c=150,c.vx=t,c.vy=i,c.x=c.vx+8,c.y=c.vy+8,c.c3=0,c.c4=1,c.pt=100,c.c1=0,c.c2=32*(this.mapWidth+1);break;case 152:c.c=150,c.vx=t,c.vy=i,c.x=c.vx+8,c.y=c.vy+8,c.c3=0,c.c4=2,c.pt=100,c.c1=0,c.c2=32*(this.mapWidth+1);break;case 161:c.c=160,c.vx=t,c.vy=i,c.x=c.vx+8,c.y=c.vy+8,c.c3=0,c.c4=1,c.pt=100,c.c1=0,c.c2=32*(this.mapWidth+1);break;case 162:c.c=160,c.vx=t,c.vy=i,c.x=c.vx+8,c.y=c.vy+8,c.c3=0,c.c4=2,c.pt=100,c.c1=0,c.c2=32*(this.mapWidth+1);break;case 300:c.pt=300,c.c3=0,c.c4=0;break;case 310:c.c=300,c.pt=310,c.c3=1,c.c4=0;break;case 320:c.c=300,c.pt=320,c.c3=2,c.c4=0;break;case 330:c.c=300,c.pt=330,c.c3=3,c.c4=0;break;case 350:c.c=300,c.pt=300,c.c3=100,c.c4=0,c.c5=0;break;case 351:c.c=300,c.pt=310,c.c3=101,c.c4=0,c.c5=0;break;case 352:c.c=300,c.pt=320,c.c3=102,c.c4=0,c.c5=0;break;case 353:c.c=300,c.pt=330,c.c3=103,c.c4=0,c.c5=0;break;case 360:c.c=300,c.pt=300,c.c3=100,c.c4=0,c.c5=1;break;case 361:c.c=300,c.pt=310,c.c3=101,c.c4=0,c.c5=1;break;case 362:c.c=300,c.pt=320,c.c3=102,c.c4=0,c.c5=1;break;case 363:c.c=300,c.pt=330,c.c3=103,c.c4=0,c.c5=1;break;case 370:c.c=300,c.pt=300,c.c3=200,c.c4=0;break;case 371:c.c=300,c.pt=310,c.c3=201,c.c4=0;break;case 372:c.c=300,c.pt=320,c.c3=202,c.c4=0;break;case 373:c.c=300,c.pt=330,c.c3=203,c.c4=0;break;case 380:c.c=300,c.pt=300,c.c3=300,c.c4=0;break;case 381:c.c=300,c.pt=310,c.c3=301,c.c4=0;break;case 382:c.c=300,c.pt=320,c.c3=302,c.c4=0;break;case 383:c.c=300,c.pt=330,c.c3=303,c.c4=0;break;case 400:c.pt=400,c.c3=0,c.vy=i;break;case 410:c.pt=400,c.c3=0,c.c4=1,c.vy=i;break;case 420:c.pt=400,c.c3=0,c.c4=2,c.vx=t,c.c=410,c.c1=h-this.gg.di.width-32-256,c.c2=h+128;break;case 430:c.pt=400,c.c3=0,c.c4=3,c.vx=t,c.c=410,c.c1=h-this.gg.di.width-32,c.c2=h+128+256;break;case 440:c.pt=400,c.c3=0,c.c4=4,c.vx=-3,c.vy=0,c.c=410;break;case 450:c.pt=400,c.c3=0,c.c4=5,c.c=410;break;case 460:c.pt=400,c.c3=0,c.c4=6,c.vy=i,c.c=410;break;case 470:c.pt=400,c.c3=0,c.c4=7,c.vy=i,c.c=410;break;case 480:c.pt=400,c.c3=0,c.c4=8,c.vy=i,c.c=410;break;case 481:c.pt=400,c.c3=0,c.c4=9,c.vx=t,c.c=410,c.c1=h-this.gg.di.width-32-256,c.c2=h+128+256;break;case 482:c.pt=400,c.c3=0,c.c4=10,c.vy=i,c.c=410;break;case 485:c.pt=400,c.c3=0,c.c4=11,c.vy=i,c.c1=0,c.c2=32*(this.mapWidth+1),c.c=410;break;case 486:c.pt=400,c.c3=0,c.c4=12,c.vx=t,c.c=410,c.c1=0,c.c2=32*(this.mapWidth+1);break;case 487:c.pt=400,c.c3=0,c.c4=13,c.vx=t,c.c=410,c.c1=0,c.c2=32*(this.mapWidth+1);break;case 488:c.pt=400,c.c3=0,c.c4=14,c.vy=i,c.c=410;break;case 489:c.pt=400,c.c3=0,c.c4=15,c.vy=i,c.c=410;break;case 490:c.pt=400,c.c3=0,c.c4=16,c.vy=i,c.vx=0,c.c1=0,c.c2=32*(this.mapWidth+1),c.c=410;break;case 491:c.pt=400,c.c3=0,c.c4=17,c.vy=i,c.c=410;break;case 492:c.pt=400,c.c3=0,c.c4=18,c.vx=0,c.vy=0,c.c=410;break;case 500:c.vy=0,c.x=t,c.y=i,c.c3=0,c.c4=0,c.pt=500;break;case 510:c.c=500,c.vy=0,c.x=t,c.y=i,c.c3=0,c.c4=1,c.pt=500;break;case 600:case 610:c.pt=600,c.c3=0,c.c4=0,c.vx=0,c.vy=i;break;case 700:c.pt=700,c.c3=0,c.c4=0;break;case 701:c.c=700,c.pt=700,c.c3=0,c.c4=1;break;case 750:c.c=700,c.pt=750,c.c3=0,c.c4=2;break;case 751:c.c=700,c.pt=751,c.c3=0,c.c4=3;break;case 1e3:c.vx=18,c.c3=0,c.c4=0,c.c1=t-this.gg.di.width-150,c.c2=t+150;break;case 1001:c.c=1e3,c.vx=18,c.c3=1,c.c4=0,c.c1=t-this.gg.di.width-150,c.c2=t+150;break;case 1002:c.c=1e3,c.vx=18,c.c3=2,c.c4=0,c.c1=t-this.gg.di.width-224,c.c2=t+224;break;case 1003:c.c=1e3,c.vx=18,c.c3=3,c.c4=0,c.c1=t-this.gg.di.width-224,c.c2=t+224;break;case 1005:c.c=1e3,c.vx=18,c.c3=10,c.c4=0,c.c1=t-this.gg.di.width-150,c.c2=t+150;break;case 1006:c.c=1e3,c.vx=18,c.c3=11,c.c4=0,c.c1=t-this.gg.di.width-150,c.c2=t+150;break;case 1007:c.c=1e3,c.vx=18,c.c3=12,c.c4=0,c.c1=t-this.gg.di.width-224,c.c2=t+224;break;case 1008:c.c=1e3,c.vx=18,c.c3=13,c.c4=0,c.c1=t-this.gg.di.width-224,c.c2=t+224;break;case 1010:case 1100:case 1150:c.vx=0,c.c3=0,c.c4=0,c.c1=t-this.gg.di.width-150,c.c2=t+150;break;case 1020:c.vx=0,c.c3=0,c.c4=0,c.c1=0,c.c2=32*(this.mapWidth+1);break;case 1200:c.x=t+16,c.y=i+16,c.pt=1900,c.vy=270,c.vx=-30,c.c=1200,c.c1=h-this.gg.di.width-32-256,c.c2=h+128+256+416,c.c4=this.newYuka(String(1),String(1),String(2),String(2),"line"),this.setYukaColor(String(c.c4),"255","255","255","255");break;case 1201:c.x=t+16+416,c.y=i+16,c.pt=1900,c.vy=270,c.vx=30,c.c=1200,c.c1=h-this.gg.di.width-32-256,c.c2=h+128+256+416,c.c3=0,c.c4=this.newYuka(String(1),String(1),String(2),String(2),"line"),this.setYukaColor(String(c.c4),"255","255","255","255");break;case 1300:c.x=t+16,c.y=i+16,c.pt=2e3,c.vy=90,c.vx=30,c.c=1300,c.c1=h-this.gg.di.width-32-256,c.c2=h+128+256+416;break;case 1301:c.x=t+16+320,c.y=i+16,c.pt=2e3,c.vy=90,c.vx=-30,c.c=1300,c.c1=h-this.gg.di.width-32-256,c.c2=h+128+256+416;break;case 1400:c.pt=2100,c.c3=0,c.c4=1;break;case 1401:c.c=1400,c.pt=2110,c.c3=0,c.c4=2;break;case 1402:c.c=1400,c.pt=2120,c.c3=0,c.c4=3;break;case 1403:c.c=1400,c.pt=2130,c.c3=0,c.c4=4;break;case 1500:c.pt=2200,c.y=i-12,c.c3=0,c.c4=330,c.vx=0,c.vy=i,c.c1=t-this.gg.di.width-224,c.c2=t+224;break;case 1501:c.c=1500,c.pt=2200,c.y=i-12,c.c3=1,c.c4=225,c.vx=0,c.vy=i,c.c1=t-this.gg.di.width-224,c.c2=t+224;break;case 1502:c.c=1500,c.pt=2200,c.c3=2,c.c4=30,c.vx=0,c.vy=i,c.c1=t-this.gg.di.width-224,c.c2=t+224;break;case 1503:c.c=1500,c.pt=2200,c.c3=3,c.c4=270,c.vx=0,c.vy=i,c.c1=t-this.gg.di.width-224,c.c2=t+224;break;case 1504:c.c=1500,c.pt=2200,c.c3=4,c.c4=300,c.vx=0,c.vy=i,c.c1=t-this.gg.di.width-224,c.c2=t+224;break;case 1600:c.pt=2300,c.c3=0,c.c4=0;break;case 1601:c.c=1600,c.pt=2300,c.c3=0,c.c4=1;break;case 1602:c.c=1600,c.pt=2300,c.c3=0,c.c4=2;break;case 1603:c.c=1600,c.pt=2300,c.c3=0,c.c4=3;break;case 1700:c.pt=2400,c.c3=0,c.c4=0,c.vy=100,c.c1=t-this.gg.di.width-192,c.c2=t+192;break;case 1701:c.c=1700,c.pt=2400,c.c3=1,c.c4=0,c.vy=100,c.c1=t-this.gg.di.width-192,c.c2=t+192;break;case 1702:c.c=1700,c.pt=2400,c.c3=2,c.c4=0,c.vy=100,c.c1=t-this.gg.di.width-192,c.c2=t+192;break;case 1800:c.x=t+16,c.y=i+16,c.pt=2500,c.vy=0,c.vx=-3,c.c1=0,c.c2=32*(this.mapWidth+1),c.c3=this.newYuka(String(1),String(1),String(2),String(2),"line"),this.setYukaColor(String(c.c3),"0","0","0","0"),c.c4=this.newYuka(String(1),String(1),String(2),String(2),"line"),this.setYukaColor(String(c.c4),"0","0","0","0"),c.c5=this.newYuka(String(1),String(1),String(2),String(2),"line"),this.setYukaColor(String(c.c5),"0","0","0","0"),c.pth=this.newYuka(String(1),String(1),String(2),String(2),"line"),this.setYukaColor(String(c.pth),"0","0","0","0");break;case 1801:c.c=1800,c.x=t+16,c.y=i+16,c.pt=2500,c.vy=0,c.vx=3,c.c1=0,c.c2=32*(this.mapWidth+1),c.c3=this.newYuka(String(1),String(1),String(2),String(2),"line"),this.setYukaColor(String(c.c3),"0","0","0","0"),c.c4=this.newYuka(String(1),String(1),String(2),String(2),"line"),this.setYukaColor(String(c.c4),"0","0","0","0"),c.c5=this.newYuka(String(1),String(1),String(2),String(2),"line"),this.setYukaColor(String(c.c5),"0","0","0","0"),c.pth=this.newYuka(String(1),String(1),String(2),String(2),"line"),this.setYukaColor(String(c.pth),"0","0","0","0");break;case 1850:c.x=t+16,c.y=i+16,c.pt=2600,c.vy=0,c.vx=-2,c.c1=0,c.c2=32*(this.mapWidth+1),c.c3=this.newYuka(String(1),String(1),String(2),String(2),"line"),this.setYukaColor(String(c.c3),"0","0","0","0"),c.c4=this.newYuka(String(1),String(1),String(2),String(2),"line"),this.setYukaColor(String(c.c4),"0","0","0","0"),c.c5=this.newYuka(String(1),String(1),String(2),String(2),"line"),this.setYukaColor(String(c.c5),"0","0","0","0"),c.pth=this.newYuka(String(1),String(1),String(2),String(2),"line"),this.setYukaColor(String(c.pth),"0","0","0","0");break;case 1851:c.c=1850,c.x=t+16,c.y=i+16,c.pt=2600,c.vy=0,c.vx=2,c.c1=0,c.c2=32*(this.mapWidth+1),c.c3=this.newYuka(String(1),String(1),String(2),String(2),"line"),this.setYukaColor(String(c.c3),"0","0","0","0"),c.c4=this.newYuka(String(1),String(1),String(2),String(2),"line"),this.setYukaColor(String(c.c4),"0","0","0","0"),c.c5=this.newYuka(String(1),String(1),String(2),String(2),"line"),this.setYukaColor(String(c.c5),"0","0","0","0"),c.pth=this.newYuka(String(1),String(1),String(2),String(2),"line"),this.setYukaColor(String(c.pth),"0","0","0","0");break;case 1900:c.c=1900,c.pt=2300,c.c3=0,c.c4=0,c.c1=0,c.c2=32*(this.mapWidth+1);break;case 1901:c.c=1900,c.pt=2300,c.c3=1,c.c4=0,c.c1=0,c.c2=32*(this.mapWidth+1);break;case 1902:c.c=1900,c.pt=2300,c.c3=2,c.c4=0,c.c1=0,c.c2=32*(this.mapWidth+1);break;case 1903:c.c=1900,c.pt=2300,c.c3=3,c.c4=0,c.c1=0,c.c2=32*(this.mapWidth+1);break;case 1904:c.c=1900,c.pt=2300,c.c3=4,c.c4=0,c.c1=0,c.c2=32*(this.mapWidth+1);break;case 1905:c.c=1900,c.pt=2300,c.c3=5,c.c4=0,c.c1=0,c.c2=32*(this.mapWidth+1);break;case 1906:c.c=1900,c.pt=2300,c.c3=6,c.c4=0,c.c1=0,c.c2=32*(this.mapWidth+1);break;case 1907:c.c=1900,c.pt=2300,c.c3=7,c.c4=0,c.c1=0,c.c2=32*(this.mapWidth+1);break;case 1908:c.c=1900,c.pt=2300,c.c3=8,c.c4=0,c.c1=0,c.c2=32*(this.mapWidth+1);break;case 1909:c.c=1900,c.pt=2300,c.c3=9,c.c4=0,c.c1=0,c.c2=32*(this.mapWidth+1);break;case 1910:c.c=1900,c.pt=2300,c.c3=10,c.c4=0,c.c1=0,c.c2=32*(this.mapWidth+1);break;case 1911:c.c=1900,c.pt=2300,c.c3=11,c.c4=0,c.c1=0,c.c2=32*(this.mapWidth+1);break;case 1912:c.c=1900,c.pt=2300,c.c3=12,c.c4=0,c.c1=t-this.gg.di.width-150,c.c2=t+150;break;case 1913:c.c=1900,c.pt=2300,c.c3=13,c.c4=0,c.c1=t-this.gg.di.width-150,c.c2=t+150;break;case 1914:c.c=1900,c.pt=2300,c.c3=14,c.c4=0,c.c1=t-this.gg.di.width-150,c.c2=t+150;break;case 1915:c.c=1900,c.pt=2300,c.c3=15,c.c4=0,c.c1=0,c.c2=32*(this.mapWidth+1);break;case 1916:c.c=1900,c.pt=2300,c.c3=16,c.c4=0,c.c1=0,c.c2=32*(this.mapWidth+1);break;case 1917:c.c=1900,c.pt=2300,c.c3=17,c.c4=0,c.c1=0,c.c2=32*(this.mapWidth+1);break;case 1918:c.c=1900,c.pt=2300,c.c3=18,c.c4=0,c.c1=0,c.c2=32*(this.mapWidth+1);break;case 2e3:c.c=2e3,c.pt=2700,c.x=t,c.y=i,c.c1=h-this.gg.di.width-32,c.c2=h+256,c.c4=this.newYuka(String(c.x),String(c.y),"0","0","wave_up"),this.setYukaColor(c.c4,this.gamecolor_firebar2);break;case 2001:c.c=2e3,c.pt=2700,c.x=t,c.y=i,c.c1=h-this.gg.di.width-32,c.c2=h+256,c.c4=this.newYuka(String(c.x),String(c.y),"0","0","wave_down"),this.setYukaColor(c.c4,this.gamecolor_firebar2);break;case 2002:c.c=2e3,c.pt=2700,c.x=t,c.y=i,c.c1=h-this.gg.di.width-32,c.c2=h+256,c.c4=this.newYuka(String(c.x),String(c.y),"0","0","wave_up_line"),this.setYukaColor(c.c4,this.gamecolor_firebar2);break;case 2003:c.c=2e3,c.pt=2700,c.x=t,c.y=i,c.c1=h-this.gg.di.width-32,c.c2=h+256,c.c4=this.newYuka(String(c.x),String(c.y),"0","0","wave_down_line"),this.setYukaColor(c.c4,this.gamecolor_firebar2);break;case 2010:c.c=2e3,c.pt=2700,c.x=t+16,c.y=i+16,c.c1=h-this.gg.di.width-32,c.c2=h+256,c.c4=this.newYuka(String(c.x),String(c.y),"96","0","circle"),this.setYukaColor(c.c4,this.gamecolor_firebar2);break;case 2011:c.c=2e3,c.pt=2700,c.x=t,c.y=i+16,c.c1=h-this.gg.di.width-32,c.c2=h+256,c.c4=this.newYuka(String(c.x),String(c.y),"144","0","circle"),this.setYukaColor(c.c4,this.gamecolor_firebar2);break;case 2020:c.c=2e3,c.pt=2700,c.x=t,c.y=i,c.c1=h-this.gg.di.width-32,c.c2=h+256,c.c4=this.newYuka(String(c.x),String(c.y),"0","0","half_circle"),this.setYukaColor(c.c4,this.gamecolor_firebar2);break;case 2021:c.c=2e3,c.pt=2700,c.x=t,c.y=i,c.c1=h-this.gg.di.width-32,c.c2=h+256,c.c4=this.newYuka(String(c.x),String(c.y),"0","0","half_circle_line"),this.setYukaColor(c.c4,this.gamecolor_firebar2);break;case 2100:c.c=2100,c.pt=2800,c.c1=t-this.gg.di.width-190,c.c2=t+190;break;case 2111:c.c=70,c.vx=-2,c.c3=72,c.c1=t-this.gg.di.width-190,c.c2=t+190;break;case 2112:c.c=70,c.vx=-2,c.c3=144,c.c1=t-this.gg.di.width-190,c.c2=t+190;break;case 2113:c.c=70,c.vx=-2,c.c3=216,c.c1=t-this.gg.di.width-190,c.c2=t+190;break;case 2114:c.c=70,c.vx=-2,c.c3=288,c.c1=t-this.gg.di.width-190,c.c2=t+190;break;case 2121:c.c=70,c.vx=2,c.c3=72,c.c1=t-this.gg.di.width-190,c.c2=t+190;break;case 2122:c.c=70,c.vx=2,c.c3=144,c.c1=t-this.gg.di.width-190,c.c2=t+190;break;case 2123:c.c=70,c.vx=2,c.c3=216,c.c1=t-this.gg.di.width-190,c.c2=t+190;break;case 2124:c.c=70,c.vx=2,c.c3=288,c.c1=t-this.gg.di.width-190,c.c2=t+190;break;case 2200:c.c=2200,c.vx=-2,c.c3=0,c.c1=0,c.c2=32*(this.mapWidth+1);break;case 2201:c.c=2200,c.vx=-2,c.c3=120,c.c1=0,c.c2=32*(this.mapWidth+1);break;case 2202:c.c=2200,c.vx=-2,c.c3=240,c.c1=0,c.c2=32*(this.mapWidth+1);break;case 2210:c.c=2200,c.vx=2,c.c3=0,c.c1=0,c.c2=32*(this.mapWidth+1);break;case 2211:c.c=2200,c.vx=2,c.c3=120,c.c1=0,c.c2=32*(this.mapWidth+1);break;case 2212:c.c=2200,c.vx=2,c.c3=240,c.c1=0,c.c2=32*(this.mapWidth+1);break;case 2250:c.c=2250,c.vx=-2,c.c3=0,c.c1=0,c.c2=32*(this.mapWidth+1);break;case 2251:c.c=2250,c.vx=-2,c.c3=180,c.c1=0,c.c2=32*(this.mapWidth+1);break;case 2252:c.c=2250,c.vx=-4,c.c3=0,c.c1=0,c.c2=32*(this.mapWidth+1);break;case 2253:c.c=2250,c.vx=-4,c.c3=180,c.c1=0,c.c2=32*(this.mapWidth+1);break;case 2260:c.c=2250,c.vx=2,c.c3=0,c.c1=0,c.c2=32*(this.mapWidth+1);break;case 2261:c.c=2250,c.vx=2,c.c3=180,c.c1=0,c.c2=32*(this.mapWidth+1);break;case 2262:c.c=2250,c.vx=4,c.c3=0,c.c1=0,c.c2=32*(this.mapWidth+1);break;case 2263:c.c=2250,c.vx=4,c.c3=180,c.c1=0,c.c2=32*(this.mapWidth+1);break;case 2300:c.c=2300,c.pt=3e3,c.x=t,c.y=i,c.c3=c.y,c.vy=-4,c.c1=0,c.c2=32*(this.mapWidth+1),c.c4=this.newYuka(String(c.x),String(c.y),"0","0","half_circle"),this.setYukaColor(c.c4,this.gamecolor_firebar2);break;case 2301:c.c=2300,c.pt=3e3,c.x=t,c.y=i-160,c.c3=i,c.vy=4,c.c1=0,c.c2=32*(this.mapWidth+1),c.c4=this.newYuka(String(c.x),String(c.y),"0","0","half_circle"),this.setYukaColor(c.c4,this.gamecolor_firebar2);break;case 2400:c.c=2400,c.pt=3e3,c.x=t,c.y=i,c.c3=i,c.vy=4,c.c5=0,c.c1=0,c.c2=32*(this.mapWidth+1),c.c4=this.newYuka(String(c.x),String(c.y),"0","0","half_circle"),this.setYukaColor(c.c4,this.gamecolor_firebar2);break;case 2500:c.c=2500,c.pt=3e3,c.x=t,c.y=i-160,c.c3=i,c.vy=4,c.c5=0,c.c1=0,c.c2=32*(this.mapWidth+1),c.c4=this.newYuka(String(c.x),String(c.y),"0","0","half_circle"),this.setYukaColor(c.c4,this.gamecolor_firebar2);break;case 2510:c.c=2500,c.pt=3e3,c.x=t,c.y=i,c.c3=i,c.vy=4,c.c5=1e3,c.c1=0,c.c2=32*(this.mapWidth+1),c.c4=this.newYuka(String(c.x),String(c.y),"0","0","half_circle"),this.setYukaColor(c.c4,this.gamecolor_firebar2);break;case 2600:c.c=2600,c.pt=2700,c.x=t,c.y=i+16,c.c3=i+16,c.vy=4,c.c5=0,c.c1=0,c.c2=32*(this.mapWidth+1),c.c4=this.newYuka(String(c.x),String(c.y),"80","0","circle"),this.setYukaColor(c.c4,new A(this.gamecolor_mizunohadou.getRed(),this.gamecolor_mizunohadou.getGreen(),this.gamecolor_mizunohadou.getBlue(),176));break;case 2610:c.c=2610,c.pt=2700,c.x=t,c.y=i+16,c.c3=i+16,c.vy=4,c.c5=0,c.c1=0,c.c2=32*(this.mapWidth+1),c.c4=this.newYuka(String(c.x),String(c.y),"80","0","circle"),this.setYukaColor(c.c4,new A(this.gamecolor_mizunohadou.getRed(),this.gamecolor_mizunohadou.getGreen(),this.gamecolor_mizunohadou.getBlue(),176));break;case 2700:c.c=2700,c.pt=2700,c.x=t,c.y=i+16+24,c.c3=i+16+24,c.vy=40,c.c5=0,c.c1=0,c.c2=32*(this.mapWidth+1),c.c4=this.newYuka(String(c.x),String(c.y),"112","0","circle"),this.setYukaColor(c.c4,new A(this.gamecolor_mizunohadou.getRed(),this.gamecolor_mizunohadou.getGreen(),this.gamecolor_mizunohadou.getBlue(),176));break;case 2701:c.c=2700,c.pt=2700,c.x=t,c.y=i+16+24+106,c.c3=i+16+24,c.vy=-40,c.c5=0,c.c1=0,c.c2=32*(this.mapWidth+1),c.c4=this.newYuka(String(c.x),String(c.y),"112","0","circle"),this.setYukaColor(c.c4,new A(this.gamecolor_mizunohadou.getRed(),this.gamecolor_mizunohadou.getGreen(),this.gamecolor_mizunohadou.getBlue(),176));break;case 2800:c.x=t+16,c.y=i+16,c.pt=3100,c.vy=90,c.vx=22,c.c3=0,c.c=2800,c.c1=0,c.c2=32*(this.mapWidth+1);break;case 2801:c.x=t+16,c.y=i+16,c.pt=3100,c.vy=90,c.vx=-22,c.c3=0,c.c=2800,c.c1=0,c.c2=32*(this.mapWidth+1);break;case 2802:c.x=t+16,c.y=i+16,c.pt=3100,c.vy=90,c.vx=22,c.c3=1,c.c=2800,c.c1=0,c.c2=32*(this.mapWidth+1);break;case 2803:c.x=t+16,c.y=i+16,c.pt=3100,c.vy=168,c.vx=0,c.c3=1,c.c=2800,c.c1=0,c.c2=32*(this.mapWidth+1);break;case 2900:c.pt=3200;break;case 2950:c.pt=3250;break;case 3e3:c.pt=3300,c.c3=0,c.c1=0,c.c2=32*(this.mapWidth+1);break;case 3010:c.c=3e3,c.pt=3300,c.c3=1,c.c1=0,c.c2=32*(this.mapWidth+1);break;case 3100:c.pt=3500,c.c3=0,c.c1=t-this.gg.di.width-160,c.c2=t+160;break;case 3101:c.c=3100,c.pt=3500,c.c3=1,c.c1=t-this.gg.di.width-160,c.c2=t+160;break;case 3110:c.pt=3510,c.c3=0,c.c1=t-this.gg.di.width-160,c.c2=t+160;break;case 3111:c.c=3110,c.pt=3510,c.c3=1,c.c1=t-this.gg.di.width-160,c.c2=t+160;break;case 3120:c.pt=3520,c.c3=0,c.c1=t-this.gg.di.width-160,c.c2=t+160;break;case 3121:c.c=3120,c.pt=3520,c.c3=1,c.c1=t-this.gg.di.width-160,c.c2=t+160;break;case 3130:c.pt=3530,c.c3=0,c.c1=t-this.gg.di.width-160,c.c2=t+160;break;case 3131:c.c=3130,c.pt=3530,c.c3=1,c.c1=t-this.gg.di.width-160,c.c2=t+160;break;case 3200:c.c=3200,c.x=t+16,c.y=i+16,c.pt=3100,c.vy=270,c.vx=22,c.c3=0,c.c4=0,c.c1=0,c.c2=32*(this.mapWidth+1);break;case 3201:c.c=3200,c.x=t+16,c.y=i+16,c.pt=3100,c.vy=270,c.vx=-22,c.c3=0,c.c4=0,c.c1=0,c.c2=32*(this.mapWidth+1);break;case 3202:c.c=3200,c.x=t+16,c.y=i+16,c.pt=3100,c.vy=270,c.vx=22,c.c3=0,c.c4=1,c.c1=0,c.c2=32*(this.mapWidth+1);break;case 3203:c.c=3200,c.x=t+16,c.y=i+16,c.pt=3100,c.vy=270,c.vx=-22,c.c3=0,c.c4=1,c.c1=0,c.c2=32*(this.mapWidth+1);break;case 3300:c.c=3300,c.pt=2700,c.x=t+16,c.y=i+16,c.c3=i+16,c.vy=0,c.c5=96,c.c1=0,c.c2=32*(this.mapWidth+1),c.c4=this.newYuka(String(c.x),String(c.y),"96","0","circle"),this.setYukaColor(c.c4,this.gamecolor_firebar2);break;case 3301:c.c=3300,c.pt=2700,c.x=t+16,c.y=i+16,c.c3=i+16,c.vy=0,c.c5=128,c.c1=0,c.c2=32*(this.mapWidth+1),c.c4=this.newYuka(String(c.x),String(c.y),"128","0","circle"),this.setYukaColor(c.c4,this.gamecolor_firebar2);break;case 3400:c.pt=3600;break;case 3500:case 3600:c.c3=0,c.c4=0,c.pt=3700;break;case 3501:c.c=3500,c.c3=0,c.c4=1,c.pt=3700;break;case 3502:c.c=3500,c.c3=0,c.c4=2,c.pt=3700;break;case 3601:c.c=3600,c.c3=0,c.c4=1,c.pt=3700;break;case 3602:c.c=3600,c.c3=0,c.c4=2,c.pt=3700;break;case 3700:case 3800:case 3810:case 3900:case 3910:case 4e3:case 4010:case 4100:case 4110:case 4200:case 4210:case 4400:case 4410:case 5200:case 5210:c.c3=0,c.c5=0,c.c1=0,c.c2=32*(this.mapWidth+1);break;case 3710:c.c3=100,c.c5=0,c.c1=0,c.c2=32*(this.mapWidth+1);break;case 4300:c.vx=-3,c.c3=270,c.c4=0,c.c5=0,c.vy=0,c.c1=0,c.c2=32*(this.mapWidth+1);break;case 4301:c.c=4300,c.vx=-3,c.c3=270,c.c4=1,c.c5=0,c.vy=0,c.c1=0,c.c2=32*(this.mapWidth+1);break;case 4302:c.c=4300,c.vx=-3,c.c3=180,c.c4=2,c.c5=0,c.vy=0,c.c1=0,c.c2=32*(this.mapWidth+1);break;case 4303:c.c=4300,c.vx=-3,c.c3=360,c.c4=3,c.c5=0,c.vy=0,c.c1=0,c.c2=32*(this.mapWidth+1);break;case 4304:c.c=4300,c.vx=-3,c.c3=180,c.c4=4,c.c5=0,c.vy=0,c.c1=0,c.c2=32*(this.mapWidth+1);break;case 4305:c.c=4300,c.vx=-3,c.c3=0,c.c4=5,c.c5=0,c.vy=0,c.c1=0,c.c2=32*(this.mapWidth+1);break;case 4306:c.c=4300,c.vx=-3,c.c3=90,c.c4=6,c.c5=0,c.vy=0,c.c1=0,c.c2=32*(this.mapWidth+1);break;case 4307:c.c=4300,c.vx=-3,c.c3=90,c.c4=7,c.c5=0,c.vy=0,c.c1=0,c.c2=32*(this.mapWidth+1);break;case 4310:c.c=4300,c.vx=-2,c.c3=360,c.c4=10,c.c5=0,c.vy=0,c.c1=0,c.c2=32*(this.mapWidth+1);break;case 4311:c.c=4300,c.vx=-2,c.c3=180,c.c4=11,c.c5=0,c.vy=0,c.c1=0,c.c2=32*(this.mapWidth+1);break;case 4312:c.c=4300,c.vx=-2,c.c3=0,c.c4=12,c.c5=0,c.vy=0,c.c1=0,c.c2=32*(this.mapWidth+1);break;case 4313:c.c=4300,c.vx=-2,c.c3=180,c.c4=13,c.c5=0,c.vy=0,c.c1=0,c.c2=32*(this.mapWidth+1);break;case 4314:c.c=4300,c.vx=-2,c.c3=270,c.c4=14,c.c5=0,c.vy=0,c.c1=0,c.c2=32*(this.mapWidth+1);break;case 4315:c.c=4300,c.vx=-2,c.c3=270,c.c4=15,c.c5=0,c.vy=0,c.c1=0,c.c2=32*(this.mapWidth+1);break;case 4316:c.c=4300,c.vx=-2,c.c3=90,c.c4=16,c.c5=0,c.vy=0,c.c1=0,c.c2=32*(this.mapWidth+1);break;case 4317:c.c=4300,c.vx=-2,c.c3=90,c.c4=17,c.c5=0,c.vy=0,c.c1=0,c.c2=32*(this.mapWidth+1);break;case 4500:c.x=t+16,c.y=i+16,c.c3=0,c.pt=4e3,c.c5=0,c.vx=0,c.vy=322,c.c1=0,c.c2=32*(this.mapWidth+1),c.c4=this.newYuka(String(1),String(1),String(2),String(2),"line"),this.setYukaColor(String(c.c4),"255","255","255","255");break;case 4501:c.c=4500,c.x=t+16,c.y=i+16,c.c3=0,c.pt=4e3,c.c5=0,c.vx=1,c.vy=218,c.c1=0,c.c2=32*(this.mapWidth+1),c.c4=this.newYuka(String(1),String(1),String(2),String(2),"line"),this.setYukaColor(String(c.c4),"255","255","255","255");break;case 4502:c.c=4500,c.x=t+16,c.y=i+16,c.c3=0,c.pt=4e3,c.c5=0,c.vx=2,c.vy=322,c.c1=0,c.c2=32*(this.mapWidth+1),c.c4=this.newYuka(String(1),String(1),String(2),String(2),"line"),this.setYukaColor(String(c.c4),"255","255","255","255");break;case 4503:c.c=4500,c.x=t+16,c.y=i+16,c.c3=0,c.pt=4e3,c.c5=0,c.vx=3,c.vy=218,c.c1=0,c.c2=32*(this.mapWidth+1),c.c4=this.newYuka(String(1),String(1),String(2),String(2),"line"),this.setYukaColor(String(c.c4),"255","255","255","255");break;case 4510:c.c=4500,c.x=t+16,c.y=i+16,c.c3=0,c.pt=4e3,c.c5=0,c.vx=10,c.vy=218,c.c1=0,c.c2=32*(this.mapWidth+1),c.c4=this.newYuka(String(1),String(1),String(2),String(2),"line"),this.setYukaColor(String(c.c4),"255","255","255","255");break;case 4511:c.c=4500,c.x=t+16,c.y=i+16,c.c3=0,c.pt=4e3,c.c5=0,c.vx=11,c.vy=270,c.c1=0,c.c2=32*(this.mapWidth+1),c.c4=this.newYuka(String(1),String(1),String(2),String(2),"line"),this.setYukaColor(String(c.c4),"255","255","255","255");break;case 4512:c.c=4500,c.x=t+16,c.y=i+16,c.c3=0,c.pt=4e3,c.c5=0,c.vx=12,c.vy=322,c.c1=0,c.c2=32*(this.mapWidth+1),c.c4=this.newYuka(String(1),String(1),String(2),String(2),"line"),this.setYukaColor(String(c.c4),"255","255","255","255");break;case 4513:c.c=4500,c.x=t+16,c.y=i+16,c.c3=0,c.pt=4e3,c.c5=0,c.vx=13,c.vy=270,c.c1=0,c.c2=32*(this.mapWidth+1),c.c4=this.newYuka(String(1),String(1),String(2),String(2),"line"),this.setYukaColor(String(c.c4),"255","255","255","255");break;case 4600:c.pt=4100;break;case 4610:c.pt=4110;break;case 4700:c.c3=0,c.c4=0,c.pt=0,c.c1=0,c.c2=32*(this.mapWidth+1);break;case 4701:c.c=4700,c.c3=0,c.c4=1,c.pt=0,c.c1=0,c.c2=32*(this.mapWidth+1);break;case 4702:c.c=4700,c.c3=0,c.c4=2,c.pt=0,c.c1=0,c.c2=32*(this.mapWidth+1);break;case 4703:c.c=4700,c.c3=0,c.c4=3,c.pt=0,c.c1=0,c.c2=32*(this.mapWidth+1);break;case 4800:c.pt=4100,c.c3=0,c.c4=0,c.c1=0,c.c2=32*(this.mapWidth+1);break;case 4801:c.c=4800,c.pt=4110,c.c3=0,c.c4=1,c.c1=0,c.c2=32*(this.mapWidth+1);break;case 4900:c.c=4900,c.pt=4200;break;case 4910:c.c=4910,c.pt=4210;break;case 5e3:c.c3=0,c.pt=0,c.c1=h-this.gg.di.width-32-this.gg.di.width,c.c2=h+128+this.gg.di.width;break;case 5100:c.c3=0,c.c4=0,c.pt=4300;break;case 5101:c.c=5100,c.c3=0,c.c4=1,c.pt=4300;break;case 5300:c.pt=4220}break}a++}}},{key:"aMove",value:function(){this.j_a_id=-1,this.j_jdai_f=!1,this.a_hf=!1,this.souko_count1=0,this.souko_count2=0;for(var t=0;t<=this.a_kazu;t++){var i=this.co_a[t];if(0!=i.c)if((this.scroll_area<2||this.scroll_area>5)&&(this.maps.wx<=i.c1||this.maps.wx>=i.c2))i.gf=!1;else{var s=i.x,h=i.y;switch(i.c){default:break;case 60:s>this.maps.wx-80&&s<this.maps.wx+this.gg.di.width&&h>this.maps.wy-96&&h<this.maps.wy+this.gg.di.height?(i.gf=!0,this.a_hf=!0,this.g_c3<=3?i.pt=200:i.pt=210):i.gf=!1;break;case 70:if(2==i.c4?(i.c3+=i.vx,i.c3<=110?(i.c3=110,i.vx=2):i.c3>=250&&(i.c3=250,i.vx=-2)):3==i.c4?(i.c3+=i.vx,i.c3<=290?(i.c3=290,i.vx=2):i.c3>=430&&(i.c3=430,i.vx=-2)):(i.c3+=i.vx,i.c3<0?i.c3+=360:i.c3>=360&&(i.c3-=360)),s>this.maps.wx-150&&s<this.maps.wx+this.gg.di.width+150&&h>this.maps.wy-150&&h<this.maps.wy+this.gg.di.height+150){var e,a,c,o;if(i.gf=!0,this.a_hf=!0,i.pt=1100,2==Math.abs(i.vx)){var _=.017453292519943295;e=s+li(25*Math.cos(i.c3*_),!0,this),a=h+li(25*Math.sin(i.c3*_),!0,this),this.vo_x[t][0]=e,this.vo_y[t][0]=a,c=s+li(172*Math.cos(i.c3*_),!0,this),o=h+li(172*Math.sin(i.c3*_),!0,this),this.vo_x[t][1]=c,this.vo_y[t][1]=o,this.vo_x[t][2]=s+31*Math.cos(i.c3*_),this.vo_y[t][2]=h+31*Math.sin(i.c3*_),this.vo_x[t][3]=s+166*Math.cos(i.c3*_),this.vo_y[t][3]=h+166*Math.sin(i.c3*_)}else{var r=.017453292519943295;e=s+li(25*Math.cos(i.c3*r),!0,this),a=h+li(25*Math.sin(i.c3*r),!0,this),this.vo_x[t][0]=e,this.vo_y[t][0]=a,c=s+li(140*Math.cos(i.c3*r),!0,this),o=h+li(140*Math.sin(i.c3*r),!0,this),this.vo_x[t][1]=c,this.vo_y[t][1]=o,this.vo_x[t][2]=s+31*Math.cos(i.c3*r),this.vo_y[t][2]=h+31*Math.sin(i.c3*r),this.vo_x[t][3]=s+134*Math.cos(i.c3*r),this.vo_y[t][3]=h+134*Math.sin(i.c3*r)}if(this.co_j.c>=100&&this.co_j.c<200&&this.j_v_c<=0)if(Math.abs(e-c)>=Math.abs(a-o)){if(this.co_j.x+15>e&&this.co_j.x+15<c){var n=c-e,m=li((this.co_j.x+15-e)*(o-a)/n)+a;m>this.co_j.y-12&&m<this.co_j.y+44&&this.jShinu(1)}else if(this.co_j.x+15>c&&this.co_j.x+15<e){var g=e-c,p=li((this.co_j.x+15-c)*(a-o)/g)+o;p>this.co_j.y-12&&p<this.co_j.y+44&&this.jShinu(1)}}else if(this.co_j.y+15>a&&this.co_j.y+15<o){var y=o-a,u=li((this.co_j.y+15-a)*(c-e)/y)+e;u>this.co_j.x-12&&u<this.co_j.x+44&&this.jShinu(1)}else if(this.co_j.y+15>o&&this.co_j.y+15<a){var d=a-o,j=li((this.co_j.y+15-o)*(e-c)/d)+c;j>this.co_j.x-12&&j<this.co_j.x+44&&this.jShinu(1)}}else i.gf=!1;break;case 80:s>this.maps.wx-32&&s<this.maps.wx+this.gg.di.width&&h>this.maps.wy-32&&h<this.maps.wy+this.gg.di.height?(i.gf=!0,this.a_hf=!0,this.co_j.x>=s-80&&this.co_j.x<=s+64&&Math.abs(h-this.co_j.y)<32&&(this.hitokoto_c=10,this.hitokoto_num=i.c3)):i.gf=!1;break;case 85:s>this.maps.wx-32&&s<this.maps.wx+this.gg.di.width&&h>this.maps.wy-32&&h<this.maps.wy+this.gg.di.height?(i.gf=!0,this.a_hf=!0):i.gf=!1;break;case 86:if(s>this.maps.wx-32&&s<this.maps.wx+this.gg.di.width&&h>this.maps.wy-32&&h<this.maps.wy+this.gg.di.height)if(i.gf=!0,this.a_hf=!0,50==this.km.mode)(this.co_j.x<s-80-8||this.co_j.x>s+64+8)&&(this.km.mode=100);else if(100==this.km.mode)this.co_j.x>=s-80&&this.co_j.x<=s+64&&Math.abs(h-this.co_j.y)<8&&!this.gk.tr1_f&&(this.km.init1(3),this.km.setMessage(3,this.shop_name),this.addSerifu(3,5,3),this.km.activeSerifu(3,li(.625*this.gg.di.width-112)-40,li(.2875*this.gg.di.height-36)-16,224,this.gamecolor_message_name),this.km.move(),this.km.mode=400);else if(400==this.km.mode){if(1==this.km.cancel_c)this.km.off(3),this.km.mode=50;else if(this.co_j.x<s-80-8||this.co_j.x>s+64+8||Math.abs(h-this.co_j.y)>16)this.km.off(3),this.km.mode=50;else if(1==this.km.kettei_c){for(this.co_j.c=150,this.co_j.x<=s||this.maps.getBGCode(s+48,h)>=18?this.maps.getBGCode(s-16,h)>=18?(this.co_j.x=s-15,this.co_j.muki=1):(this.co_j.x=s-48,this.co_j.muki=1):(this.co_j.x=s+48,this.co_j.muki=0),this.co_j.y=h,this.co_j.vx=0,this.co_j.vy=0,this.co_j.pt=100,this.setmyw_pt=this.co_j.pt,this.setmyw_muki=this.co_j.muki,this.co_j.c1=10,this.km.list_kazu=0,this.km.init1(6),this.km.setMessage(6,this.tdb.getValue("shop_serifu1")),t=0;t<=8;t++)this.shop_item_teika[t]>0&&(this.km.addItem2(6,this.shop_item_name[t],this.shop_item_teika[t]),this.km.list_IDlist[this.km.list_kazu]=t,this.km.list_kazu++);this.km.list_kazu>=1?(this.km.activeKaimono(6,li(.625*this.gg.di.width-112)-40+140,li(.2875*this.gg.di.height-36)-16+20,184),this.km.mode=410):(this.km.init1(6),this.km.init1(8),this.km.setMessage(8,"Error"),this.km.addItem(8,"Please set any item on shop menu."),this.km.activeSerifu(8,li(.625*this.gg.di.width-112)-40+82,li(.2875*this.gg.di.height-36)-16+60,216,A.red),this.km.mode=440)}}else if(410==this.km.mode)this.co_j.c1=10,1==this.km.cancel_c?(this.km.off(6),this.km.mode=100):1==this.km.kettei_c&&(this.km.list_s=this.km.list_IDlist[this.km.selectedIndex[6]],this.km.init1(7),this.km.setMessage(7,"".concat(this.shop_item_name[this.km.list_s]).concat(this.tdb.getValue("shop_serifu2"))),this.km.addItem(7,this.tdb.getValue("shop_serifu3")),this.km.addItem(7,this.tdb.getValue("shop_serifu4")),this.km.activeSerifutuki(7,li(.625*this.gg.di.width-112)-40-152,li(.2875*this.gg.di.height-36)-16+46,236,this.shop_name),this.km.mode=420);else if(420==this.km.mode){if(this.co_j.c1=10,1==this.km.cancel_c)this.km.offActivewindow(7,6),this.km.mode=410;else if(1==this.km.kettei_c)if(0==this.km.selectedIndex[7])if(this.score>=this.shop_item_teika[this.km.list_s]){switch(this.km.init1(8),this.km.addItem(8,"".concat(this.shop_item_name[this.km.list_s]).concat(this.tdb.getValue("shop_serifu5"))),this.km.activeIchigyou(8,li(.625*this.gg.di.width-112)-40-152,li(.2875*this.gg.di.height-36)-16+130,236),this.score-=this.shop_item_teika[this.km.list_s],this.ig.shop_kattaitem=this.km.list_s,this.ig.shop_kattaitem){default:break;case 0:this.j_gr_kazu+=3,this.gs.rsAddSound(7);break;case 1:this.j_jet_fuel+=80,this.gs.rsAddSound(7);break;case 2:this.j_drell_f=!0,this.gs.rsAddSound(7);break;case 3:this.j_helm_f=!0,this.gs.rsAddSound(7);break;case 4:this.j_tail_f=!0,this.gs.rsAddSound(7);break;case 5:this.j_v_c=150,this.j_v_kakudo=0,this.gs.rsAddSound(7);break;case 6:this.j_fire_f=!0,this.j_fire_type=this.default_j_fire_type,3!=this.j_fire_type&&4!=this.j_fire_type||(this.j_fire_range=10),this.gs.rsAddSound(7);break;case 7:17==this.j_tokugi?this.setMyHP(String(this.getMyHP()+1)):this.j_left++,this.gs.rsAddSound(7);break;case 8:this.time_max>0&&(this.time+=3e4),this.gs.rsAddSound(7)}this.km.mode=430}else this.km.init1(8),this.km.addItem(8,this.tdb.getValue("shop_serifu6")),this.km.activeIchigyou(8,li(.625*this.gg.di.width-112)-40-152,li(.2875*this.gg.di.height-36)-16+132,236),this.km.mode=430,this.co_j.c1=10;else this.km.off(4),this.km.off(6),this.km.off(7),this.km.mode=100}else 430==this.km.mode?this.co_j.x<s-80-8||this.co_j.x>s+64+8?(this.km.off(3),this.km.off(6),this.km.off(7),this.km.off(8),this.km.mode=100):1==this.km.cancel_c?(this.km.off(7),this.km.offActivewindow(8,6),this.co_j.c=150,this.co_j.x<=s||this.maps.getBGCode(s+48,h)>=18?this.maps.getBGCode(s-16,h)>=18?(this.co_j.x=s-15,this.co_j.muki=1):(this.co_j.x=s-48,this.co_j.muki=1):(this.co_j.x=s+48,this.co_j.muki=0),this.co_j.y=h,this.co_j.vx=0,this.co_j.vy=0,this.co_j.pt=100,this.setmyw_pt=this.co_j.pt,this.setmyw_muki=this.co_j.muki,this.co_j.c1=10,this.km.mode=410):1==this.km.kettei_c&&(this.km.off(3),this.km.off(6),this.km.off(7),this.km.off(8),this.km.mode=50):440==this.km.mode&&(this.co_j.x<s-80-8||this.co_j.x>s+64+8||1==this.km.cancel_c||1==this.km.kettei_c)&&(this.km.off(3),this.km.off(6),this.km.off(7),this.km.off(8),this.km.mode=50);else i.gf=!1;break;case 87:s>this.maps.wx-32&&s<this.maps.wx+this.gg.di.width&&h>this.maps.wy-32&&h<this.maps.wy+this.gg.di.height?(i.gf=!0,this.a_hf=!0,50==this.km.mode?(this.co_j.x<s-80-8||this.co_j.x>s+64+8)&&(this.km.mode=100):100==this.km.mode?this.co_j.x>=s-80&&this.co_j.x<=s+64&&Math.abs(h-this.co_j.y)<8&&!this.gk.tr1_f&&(0==i.c3?(this.km.init1(3),this.km.setMessage(3,this.mes1_name),this.addSerifu(3,1,3),this.km.activeSerifu(3,li(.625*this.gg.di.width-112)-40,li(.2875*this.gg.di.height-36)-16,272,this.gamecolor_message_name),this.km.mode=200):(this.km.init1(3),this.km.setMessage(3,this.mes1_name),this.addSerifu(3,2,3),this.km.activeSerifu(3,li(.625*this.gg.di.width-112)-40,li(.2875*this.gg.di.height-36)-16,272,this.gamecolor_message_name),this.km.mode=250),this.km.move()):200==this.km.mode?1==this.km.cancel_c||this.co_j.x<s-80-8||this.co_j.x>s+64+8||Math.abs(h-this.co_j.y)>16?(this.km.off(3),this.km.mode=50):1==this.km.kettei_c&&(this.co_j.c=150,this.co_j.x<=s||this.maps.getBGCode(s+48,h)>=18?this.maps.getBGCode(s-16,h)>=18?(this.co_j.x=s-15,this.co_j.muki=1):(this.co_j.x=s-48,this.co_j.muki=1):(this.co_j.x=s+48,this.co_j.muki=0),this.co_j.y=h,this.co_j.vx=0,this.co_j.vy=0,this.co_j.pt=100,this.setmyw_pt=this.co_j.pt,this.setmyw_muki=this.co_j.muki,this.co_j.c1=10,this.km.init1(7),this.km.setMessage(7,this.tdb.getValue("shop_serifu1")),this.km.addItem(7,this.shop_item_name[3]),this.km.addItem(7,this.shop_item_name[2]),this.km.activeSerifutuki(7,li(.625*this.gg.di.width-112)-40-96,li(.2875*this.gg.di.height-36)-16+46,160,this.mes1_name),this.km.mode=220):220==this.km.mode?(this.co_j.c1=10,1==this.km.cancel_c?(this.km.offActivewindow(7,3),this.km.mode=200):1==this.km.kettei_c&&(0==this.km.selectedIndex[7]?(this.km.init1(8),this.km.addItem(8,"".concat(this.shop_item_name[3]).concat(this.tdb.getValue("shop_serifu5"))),this.km.activeIchigyou(8,li(.625*this.gg.di.width-112)-40+76,li(.2875*this.gg.di.height-36)-16+96,236),this.j_helm_f=!0,this.gs.rsAddSound(7),this.km.mode=230):(this.km.init1(8),this.km.addItem(8,"".concat(this.shop_item_name[2]).concat(this.tdb.getValue("shop_serifu5"))),this.km.activeIchigyou(8,li(.625*this.gg.di.width-112)-40+76,li(.2875*this.gg.di.height-36)-16+96,236),this.j_drell_f=!0,this.gs.rsAddSound(7),this.km.mode=230),i.c3=1)):230==this.km.mode?this.co_j.x<s-80-8||this.co_j.x>s+64+8||1==this.km.kettei_c?(this.km.off(3),this.km.off(7),this.km.off(8),this.km.mode=50):1==this.km.cancel_c&&(this.km.off(3),this.km.off(7),this.km.off(8),this.km.init1(3),this.km.setMessage(3,this.mes1_name),this.addSerifu(3,2,3),this.km.activeSerifu(3,li(.625*this.gg.di.width-112)-40,li(.2875*this.gg.di.height-36)-16,272,this.gamecolor_message_name),this.km.mode=250):250==this.km.mode&&(this.co_j.x<s-80-8||this.co_j.x>s+64+8||1==this.km.cancel_c||1==this.km.kettei_c)&&(this.km.off(3),this.km.mode=50)):i.gf=!1;break;case 88:s>this.maps.wx-32&&s<this.maps.wx+this.gg.di.width&&h>this.maps.wy-32&&h<this.maps.wy+this.gg.di.height?(i.gf=!0,this.a_hf=!0,50==this.km.mode?(this.co_j.x<s-80-8||this.co_j.x>s+64+8)&&(this.km.mode=100):100==this.km.mode?this.co_j.x>=s-80&&this.co_j.x<=s+64&&Math.abs(h-this.co_j.y)<8&&!this.gk.tr1_f&&(0==i.c3?(this.km.init1(3),this.km.setMessage(3,this.mes2_name),this.addSerifu(3,3,3),this.km.activeSerifu(3,li(.625*this.gg.di.width-112)-40,li(.2875*this.gg.di.height-36)-16,272,this.gamecolor_message_name),this.km.mode=300):(this.km.init1(3),this.km.setMessage(3,this.mes2_name),this.addSerifu(3,4,3),this.km.activeSerifu(3,li(.625*this.gg.di.width-112)-40,li(.2875*this.gg.di.height-36)-16,272,this.gamecolor_message_name),this.km.mode=350),this.km.move()):300==this.km.mode?1==this.km.cancel_c||this.co_j.x<s-80-8||this.co_j.x>s+64+8||Math.abs(h-this.co_j.y)>16?(this.km.off(3),this.km.mode=50):1==this.km.kettei_c&&(this.co_j.c=150,this.co_j.x<=s||this.maps.getBGCode(s+48,h)>=18?this.maps.getBGCode(s-16,h)>=18?(this.co_j.x=s-15,this.co_j.muki=1):(this.co_j.x=s-48,this.co_j.muki=1):(this.co_j.x=s+48,this.co_j.muki=0),this.co_j.y=h,this.co_j.vx=0,this.co_j.vy=0,this.co_j.pt=100,this.setmyw_pt=this.co_j.pt,this.setmyw_muki=this.co_j.muki,this.co_j.c1=10,this.km.init1(7),this.km.setMessage(7,this.tdb.getValue("shop_serifu1")),this.km.addItem(7,this.shop_item_name[0]),this.km.addItem(7,this.shop_item_name[1]),this.km.activeSerifutuki(7,li(.625*this.gg.di.width-112)-40-96,li(.2875*this.gg.di.height-36)-16+46,160,this.mes2_name),this.km.mode=320):320==this.km.mode?(this.co_j.c1=10,1==this.km.cancel_c?(this.km.offActivewindow(7,3),this.km.mode=300):1==this.km.kettei_c&&(0==this.km.selectedIndex[7]?(this.km.init1(8),this.km.addItem(8,"".concat(this.shop_item_name[0]).concat(this.tdb.getValue("shop_serifu5"))),this.km.activeIchigyou(8,li(.625*this.gg.di.width-112)-40+76,li(.2875*this.gg.di.height-36)-16+96,236),this.j_gr_kazu+=3,this.gs.rsAddSound(7),this.km.mode=330):(this.km.init1(8),this.km.addItem(8,"".concat(this.shop_item_name[1]).concat(this.tdb.getValue("shop_serifu5"))),this.km.activeIchigyou(8,li(.625*this.gg.di.width-112)-40+76,li(.2875*this.gg.di.height-36)-16+96,236),this.j_jet_fuel+=80,this.gs.rsAddSound(7),this.km.mode=330),i.c3=1)):330==this.km.mode?this.co_j.x<s-80-8||this.co_j.x>s+64+8||1==this.km.kettei_c?(this.km.off(3),this.km.off(7),this.km.off(8),this.km.mode=50):1==this.km.cancel_c&&(this.km.off(3),this.km.off(7),this.km.off(8),this.km.init1(3),this.km.setMessage(3,this.mes2_name),this.addSerifu(3,4,3),this.km.activeSerifu(3,li(.625*this.gg.di.width-112)-40,li(.2875*this.gg.di.height-36)-16,272,this.gamecolor_message_name),this.km.mode=350):350==this.km.mode&&(this.co_j.x<s-80-8||this.co_j.x>s+64+8||1==this.km.cancel_c||1==this.km.kettei_c)&&(this.km.off(3),this.km.mode=50)):i.gf=!1;break;case 89:s>this.maps.wx-32&&s<this.maps.wx+this.gg.di.width&&h>this.maps.wy-32&&h<this.maps.wy+this.gg.di.height?(i.gf=!0,this.a_hf=!0,50==this.km.mode?(this.co_j.x<s-80-8||this.co_j.x>s+64+8)&&(this.km.mode=100):100==this.km.mode?this.co_j.x>=s-80&&this.co_j.x<=s+64&&Math.abs(h-this.co_j.y)<8&&!this.gk.tr1_f&&(this.km.init1(3),this.km.setMessage(3,this.tdb.getValue("fs_name")),this.addSerifu(3,7,3),this.km.activeSerifu(3,li(.625*this.gg.di.width-112)-40,li(.2875*this.gg.di.height-36)-16,272,this.gamecolor_message_name),this.km.mode=200,this.km.move()):200==this.km.mode?1==this.km.cancel_c||this.co_j.x<s-80-8||this.co_j.x>s+64+8||Math.abs(h-this.co_j.y)>16?(this.km.off(3),this.km.mode=50):1==this.km.kettei_c&&(this.co_j.c=150,this.co_j.x<=s||this.maps.getBGCode(s+48,h)>=18?this.maps.getBGCode(s-16,h)>=18?(this.co_j.x=s-15,this.co_j.muki=1):(this.co_j.x=s-48,this.co_j.muki=1):(this.co_j.x=s+48,this.co_j.muki=0),this.co_j.y=h,this.co_j.vx=0,this.co_j.vy=0,this.co_j.pt=100,this.setmyw_pt=this.co_j.pt,this.setmyw_muki=this.co_j.muki,this.co_j.c1=10,this.km.init1(7),this.km.setMessage(7,this.tdb.getValue("fs_serifu1")),this.km.addItem(7,this.tdb.getValue("fs_item_name1")),this.km.addItem(7,this.tdb.getValue("fs_item_name2")),this.km.addItem(7,this.tdb.getValue("fs_item_name3")),this.km.activeSerifutuki(7,li(.625*this.gg.di.width-112)-40-128,li(.2875*this.gg.di.height-36)-16+46,240,this.tdb.getValue("fs_name")),this.km.mode=220):220==this.km.mode?(this.co_j.c1=10,1==this.km.cancel_c?(this.km.offActivewindow(7,3),this.km.mode=200):1==this.km.kettei_c&&(this.km.init1(8),this.km.addItem(8,"".concat(this.tdb.getValue("fs_item_name".concat(this.km.selectedIndex[7]+1))).concat(this.tdb.getValue("fs_serifu2"))),this.km.activeIchigyou(8,li(.625*this.gg.di.width-112)-40+36,li(.2875*this.gg.di.height-36)-16+116,236),this.j_fire_f=!0,0==this.km.selectedIndex[7]?this.j_fire_type=1:1==this.km.selectedIndex[7]?(this.j_fire_type=2,this.j_fire_range=9999):(this.j_fire_type=4,this.j_fire_range=10),this.gs.rsAddSound(7),this.km.mode=230)):230==this.km.mode?(this.co_j.x<s-80-8||this.co_j.x>s+64+8||1==this.km.kettei_c||1==this.km.cancel_c)&&(this.km.off(3),this.km.off(7),this.km.off(8),this.km.mode=50):250==this.km.mode&&(this.co_j.x<s-80-8||this.co_j.x>s+64+8||1==this.km.cancel_c||1==this.km.kettei_c)&&(this.km.off(3),this.km.mode=50)):i.gf=!1;break;case 90:if(s>this.maps.wx-180&&s<this.maps.wx+this.gg.di.width+180&&h>this.maps.wy-180&&h<this.maps.wy+this.gg.di.height+180){i.gf=!0,this.a_hf=!0,i.pt=1200,1==this.isRideYuka(String(i.c4))&&(Math.abs(this.co_j.x+15-s)<16?i.vy>0?i.vy--:i.vy<0&&i.vy++:this.co_j.x+15<s?(i.vy--,this.co_j.x+15<s-80&&i.vy--,i.vy<-56&&(i.vy=-56)):(i.vy++,this.co_j.x+15>s+80&&i.vy++,i.vy>56&&(i.vy=56)));var f=s+li(160*Math.cos(3.141592653589793*(i.vy+180)/180),!0,this),l=h+li(160*Math.sin(3.141592653589793*(i.vy+180)/180),!0,this),v=s+li(160*Math.cos(3.141592653589793*i.vy/180),!0,this),x=h+li(160*Math.sin(3.141592653589793*i.vy/180),!0,this);f+=li(12*Math.cos(3.141592653589793*(i.vy+270)/180),!0,this),l+=li(12*Math.sin(3.141592653589793*(i.vy+270)/180),!0,this),v+=li(12*Math.cos(3.141592653589793*(i.vy-90)/180),!0,this),x+=li(12*Math.sin(3.141592653589793*(i.vy-90)/180),!0,this),this.setYukaPosition(String(i.c4),String(f),String(l),String(v),String(x))}else i.gf=!1;break;case 93:s>this.maps.wx-180&&s<this.maps.wx+this.gg.di.width+180&&h>this.maps.wy-180&&h<this.maps.wy+this.gg.di.height+180?(i.gf=!0,this.a_hf=!0,i.pt=1300,0==i.c3&&(i.c3=1,this.maps.putBGCode(vi(s,5),vi(h,5),50))):i.gf=!1,i.vy>110?(i.vx-=2,i.vx<-40&&(i.vx=-40)):i.vy<70&&(i.vx+=2,i.vx>40&&(i.vx=40)),i.vx>0?i.vy+=li((i.vx+5)/10):i.vy+=li((i.vx-5)/10);var k=s+li(192*Math.cos(3.141592653589793*(i.vy+20)/180),!0,this),w=h+li(192*Math.sin(3.141592653589793*(i.vy+20)/180),!0,this),b=s+li(192*Math.cos(3.141592653589793*(i.vy-20)/180),!0,this),S=h+li(192*Math.sin(3.141592653589793*(i.vy-20)/180),!0,this);this.setYukaPosition(String(i.c4),String(k),String(w),String(b),String(S));break;case 95:if(s>this.maps.wx-180&&s<this.maps.wx+this.gg.di.width+180&&h>this.maps.wy-180&&h<this.maps.wy+this.gg.di.height+180?(i.gf=!0,this.a_hf=!0,i.pt=1400,0==i.c3&&(i.c3=1,this.maps.putBGCode(vi(s,5),vi(h,5),50))):i.gf=!1,1==i.c3?i.vy>200?(i.vx-=2,i.vx<-28&&(i.vx=-28)):i.vy<160&&(i.vx+=2,i.vx>28&&(i.vx=28)):2==i.c3&&(i.vy>380?(i.vx-=2,i.vx<-28&&(i.vx=-28)):i.vy<340&&(i.vx+=2,i.vx>28&&(i.vx=28))),i.vx>0?i.vy+=li((i.vx+5)/10):i.vy+=li((i.vx-5)/10),1==i.c3){var M=s+li(192*Math.cos(3.141592653589793*i.vy/180),!0,this)+li(12*Math.cos(3.141592653589793*(i.vy+90)/180),!0,this),C=h+li(192*Math.sin(3.141592653589793*i.vy/180),!0,this)+li(12*Math.sin(3.141592653589793*(i.vy+90)/180),!0,this),I=s+li(60*Math.cos(3.141592653589793*i.vy/180),!0,this)+li(12*Math.cos(3.141592653589793*(i.vy+90)/180),!0,this),B=h+li(60*Math.sin(3.141592653589793*i.vy/180),!0,this)+li(12*Math.sin(3.141592653589793*(i.vy+90)/180),!0,this);this.setYukaPosition(String(i.c4),String(M),String(C),String(I),String(B))}else if(2==i.c3){var G=s+li(60*Math.cos(3.141592653589793*i.vy/180),!0,this)+li(12*Math.cos(3.141592653589793*(i.vy-90)/180),!0,this),z=h+li(60*Math.sin(3.141592653589793*i.vy/180),!0,this)+li(12*Math.sin(3.141592653589793*(i.vy-90)/180),!0,this),P=s+li(192*Math.cos(3.141592653589793*i.vy/180),!0,this)+li(12*Math.cos(3.141592653589793*(i.vy-90)/180),!0,this),N=h+li(192*Math.sin(3.141592653589793*i.vy/180),!0,this)+li(12*Math.sin(3.141592653589793*(i.vy-90)/180),!0,this);this.setYukaPosition(String(i.c4),String(G),String(z),String(P),String(N))}break;case 100:s>this.maps.wx-80-32&&s<this.maps.wx+this.gg.di.width+32&&h>this.maps.wy-16&&h<this.maps.wy+this.gg.di.height+32?(i.gf=!0,this.a_hf=!0,(100==this.co_j.c||130==this.co_j.c)&&this.co_j.x+15>=s&&this.co_j.x<=s+64&&this.co_j.y==h-32&&(this.j_a_id=t)):i.gf=!1,h<=i.c3?(i.vy++,i.vy>5&&(i.vy=5)):h>=i.c4&&(i.vy--,i.vy<-5&&(i.vy=-5)),h+=i.vy,100!=this.co_j.c&&130!=this.co_j.c||(this.j_a_id==t&&(this.co_j.y=h-32),i.vy<0&&this.maps.getBGCode(this.co_j.x+15,this.co_j.y)>=20&&(this.co_j.y=32*vi(this.co_j.y,5)+16,this.jShinu(3)),this.co_j.x+15>=s&&this.co_j.x<=s+64&&this.co_j.y+31>=h&&this.co_j.y<=h+13&&(i.vy>0?(this.co_j.y=h+14,10!=this.maps.getBGCode(this.co_j.x+15,this.co_j.y+15)&&10!=this.maps.getBGCode(this.co_j.x+15,this.co_j.y+31)||(this.j_hashigo_f=!0),this.maps.getBGCode(this.co_j.x+15,this.co_j.y+31)>=18&&(this.co_j.y=32*vi(this.co_j.y+31,5)-32,this.jShinu(3))):(this.co_j.y=h-32,this.j_a_id=t)));break;case 110:if(s>this.maps.wx-80-32&&s<this.maps.wx+this.gg.di.width+32&&h>this.maps.wy-16&&h<this.maps.wy+this.gg.di.height+32?(i.gf=!0,this.a_hf=!0,(100==this.co_j.c||130==this.co_j.c)&&this.co_j.x+15>=s&&this.co_j.x<=s+64&&this.co_j.y==h-32&&(this.j_a_id=t)):i.gf=!1,s<=i.c3?(i.vx++,i.vx>3&&(i.vx=3)):s>=i.c4&&(i.vx--,i.vx<-3&&(i.vx=-3)),s+=i.vx,100==this.co_j.c||130==this.co_j.c){if(this.j_a_id==t)if(this.co_j.x+=i.vx,i.vx>0){var O=vi(this.co_j.x+15,5),Y=vi(this.co_j.y,5),T=vi(this.co_j.y+31,5);(this.maps.map_bg[O][Y]>=20||this.maps.map_bg[O][T]>=20)&&(this.co_j.x=32*O-16)}else if(i.vx<0){var R=vi(this.co_j.x+15,5),E=vi(this.co_j.y,5),V=vi(this.co_j.y+31,5);(this.maps.map_bg[R][E]>=20||this.maps.map_bg[R][V]>=20)&&(this.co_j.x=32*R+32-14)}if(this.co_j.x+15>=s&&this.co_j.x<=s+64&&this.co_j.y+31>=h&&this.co_j.y<=h+13)if(i.vx>0){this.co_j.x=s+65;var W=vi(this.co_j.x+15,5),L=vi(this.co_j.y,5),D=vi(this.co_j.y+31,5);(this.maps.map_bg[W][L]>=20||this.maps.map_bg[W][D]>=20)&&(this.co_j.c=230,this.co_j.x=32*W-32+11,this.co_j.c1=0,this.j_zan_f=!1,this.j_jet_c=0,this.j_v_c=0)}else{this.co_j.x=s-16;var F=vi(this.co_j.x+15,5),H=vi(this.co_j.y,5),U=vi(this.co_j.y+31,5);(this.maps.map_bg[F][H]>=20||this.maps.map_bg[F][U]>=20)&&(this.co_j.c=230,this.co_j.x=32*F+32-11,this.co_j.c1=0,this.j_zan_f=!1,this.j_jet_c=0,this.j_v_c=0)}}break;case 120:s>this.maps.wx-80-32&&s<this.maps.wx+this.gg.di.width+32&&h>this.maps.wy-16&&h<this.maps.wy+this.gg.di.height+32?(i.gf=!0,this.a_hf=!0,(100==this.co_j.c||130==this.co_j.c)&&this.co_j.x+15>=s&&this.co_j.x<=s+64&&this.co_j.y==h-32&&(this.j_a_id=t)):i.gf=!1,1==i.muki?(i.c3+=2,i.c3>=360&&(i.c3-=360)):(i.c3-=2,i.c3<0&&(i.c3+=360));var q=3.14*i.c3/180,K=i.vx+li(126*Math.cos(q),!0,this)+16-40-s,J=i.vy+li(-126*Math.sin(q),!0,this)+16-7-h;if(h+=J,100!=this.co_j.c&&130!=this.co_j.c||(this.j_a_id==t&&(this.co_j.y+=J),J<0&&this.maps.getBGCode(this.co_j.x+15,this.co_j.y)>=20&&(this.co_j.y=32*vi(this.co_j.y,5)+16,this.jShinu(3)),this.co_j.x+15>=s&&this.co_j.x<=s+64&&this.co_j.y+31>=h&&this.co_j.y<=h+13&&(J>0?(this.co_j.y=h+14,this.maps.getBGCode(this.co_j.x+15,this.co_j.y+31)>=18&&(this.co_j.y=32*vi(this.co_j.y+31,5)-32,this.jShinu(3))):(this.co_j.y=h-32,this.j_a_id=t))),s+=K,100==this.co_j.c||130==this.co_j.c){if(this.j_a_id==t)if(this.co_j.x+=K,K>0){var Z=vi(this.co_j.x+15,5),X=vi(this.co_j.y,5),$=vi(this.co_j.y+31,5);(this.maps.map_bg[Z][X]>=20||this.maps.map_bg[Z][$]>=20)&&(this.co_j.x=32*Z-16)}else if(K<0){var Q=vi(this.co_j.x+15,5),tt=vi(this.co_j.y,5),it=vi(this.co_j.y+31,5);(this.maps.map_bg[Q][tt]>=20||this.maps.map_bg[Q][it]>=20)&&(this.co_j.x=32*Q+32-14)}if(this.co_j.x+15>=s&&this.co_j.x<=s+64&&this.co_j.y+31>=h&&this.co_j.y<=h+13)if(K>0){this.co_j.x=s+65;var st=vi(this.co_j.x+15,5),ht=vi(this.co_j.y,5),et=vi(this.co_j.y+31,5);(this.maps.map_bg[st][ht]>=20||this.maps.map_bg[st][et]>=20)&&(this.co_j.c=230,this.co_j.x=32*st-32+11,this.co_j.c1=0,this.j_zan_f=!1,this.j_jet_c=0,this.j_v_c=0)}else{this.co_j.x=s-16;var at=vi(this.co_j.x+15,5),ct=vi(this.co_j.y,5),ot=vi(this.co_j.y+31,5);(this.maps.map_bg[at][ct]>=20||this.maps.map_bg[at][ot]>=20)&&(this.co_j.c=230,this.co_j.x=32*at+32-11,this.co_j.c1=0,this.j_zan_f=!1,this.j_jet_c=0,this.j_v_c=0)}}break;case 150:case 160:case 3700:case 3710:case 3800:case 3810:case 3900:case 3910:case 4e3:case 4010:case 4100:case 4110:case 4200:case 4210:case 4300:case 4400:case 4410:case 4500:case 4900:case 4910:case 5e3:case 5300:this.aMoveOption(t),s=i.x,h=i.y;break;case 300:i.c3>=200?(this.maps.map_bg[vi(s,5)][vi(h,5)]=31,this.maps.map_bg[vi(s,5)][vi(h,5)+1]=31):10!=this.j_tokugi&&12!=this.j_tokugi&&13!=this.j_tokugi||(this.maps.map_bg[vi(s,5)][vi(h,5)]=31,this.maps.map_bg[vi(s,5)+1][vi(h,5)]=31),s>this.maps.wx-96&&s<this.maps.wx+this.gg.di.width&&h>this.maps.wy-96&&h<this.maps.wy+this.gg.di.height?(i.gf=!0,this.a_hf=!0,i.c3<200&&100==this.co_j.c&&this.co_j.x+15>=s&&this.co_j.x<=s+48&&this.co_j.y==h-32&&(this.j_a_id=t),i.c3>=100&&i.c3<200?(this.co_j.x+15>=s+16&&this.co_j.x+15<=s+63-16&&this.co_j.y>=h+32&&this.co_j.y<h+32+16&&1!=i.c4&&(0==this.sl_step||1==this.sl_step||10==this.sl_step||11==this.sl_step||2!=this.dokan_mode)&&(this.co_j.c1=-10,this.co_j.c2=i.c3,this.co_j.c5=i.c5,this.j_zan_f=!1,this.j_jet_c=0,this.j_v_c=0,this.co_j.c=300,this.co_j.x=s+16,this.co_j.y=h+32,this.co_j.vx=0,this.co_j.vy=0,i.c4=1),100==this.co_j.c&&(this.co_j.x+15<s+16-4||this.co_j.x+15>s+63-16+4||this.co_j.y<h+32-4||this.co_j.y>=h+32+16+4)&&(i.c4=0)):i.c3>=200&&i.c3<300?(this.co_j.x>=s-32&&this.co_j.x+15<=s+31&&this.co_j.y>h+16-14&&this.co_j.y<h+16+14&&1!=i.c4&&(0==this.sl_step||1==this.sl_step||10==this.sl_step||11==this.sl_step||2!=this.dokan_mode)&&(this.co_j.c1=-10,this.co_j.c2=i.c3,this.co_j.c5=i.c5,this.j_zan_f=!1,this.j_jet_c=0,this.j_v_c=0,this.co_j.c=300,this.co_j.x=s-32,this.co_j.y=h+16,this.co_j.muki=1,this.co_j.vx=0,this.co_j.vy=0,i.c4=1),100==this.co_j.c&&(this.co_j.x<s-32-4||this.co_j.x+15>s+31+4||this.co_j.y<=h+16-14-1||this.co_j.y>=h+16+14+1)&&(i.c4=0)):i.c3>=300&&i.c3<400?(this.co_j.x<=s+32&&this.co_j.x+15>=s&&this.co_j.y>h+16-14&&this.co_j.y<h+16+14&&1!=i.c4&&(0==this.sl_step||1==this.sl_step||10==this.sl_step||11==this.sl_step||2!=this.dokan_mode)&&(this.co_j.c1=-10,this.co_j.c2=i.c3,this.co_j.c5=i.c5,this.j_zan_f=!1,this.j_jet_c=0,this.j_v_c=0,this.co_j.c=300,this.co_j.x=s+32,this.co_j.y=h+16,this.co_j.muki=0,this.co_j.vx=0,this.co_j.vy=0,i.c4=1),100==this.co_j.c&&(this.co_j.x>s+32+4||this.co_j.x+15<s-4||this.co_j.y<=h+16-14-1||this.co_j.y>=h+16+14+1)&&(i.c4=0)):(100==this.co_j.c&&this.co_j.x+15>=s&&this.co_j.x<=s+48&&this.co_j.y==h-32&&(this.j_a_id=t,this.co_j.x+15>=s+24&&this.co_j.x<=s+48-24&&this.co_j.y==h-32&&1!=i.c4&&(0==this.sl_step||1==this.sl_step||10==this.sl_step||11==this.sl_step||2!=this.dokan_mode)&&(this.co_j.c1=-10,this.co_j.c2=i.c3,this.co_j.c5=i.c5,this.j_zan_f=!1,this.j_jet_c=0,this.j_v_c=0,this.co_j.c=300,this.co_j.x=s+16,this.co_j.y=h-32,this.co_j.vx=0,this.co_j.vy=0,i.c4=1)),100==this.co_j.c&&this.j_a_id!=t&&(i.c4=0))):i.gf=!1;break;case 400:s>this.maps.wx-96&&s<this.maps.wx+this.gg.di.width&&h>this.maps.wy-64&&h<this.maps.wy+this.gg.di.height?(i.gf=!0,this.a_hf=!0,(100==this.co_j.c||130==this.co_j.c)&&this.co_j.x+15>=s&&this.co_j.x<=s+80&&this.co_j.y==h-32&&(this.j_a_id=t)):i.gf=!1;var _t=0;if(0==i.c3?s-64<this.co_j.x+15&&s+96+64>this.co_j.x+15&&(i.c3=1):i.c3<100?(i.c3++,i.c3>8&&(i.c3=100)):100==i.c3?(_t=1,(h+=12)>=i.vy+128&&(h=i.vy+128,this.a_hf&&this.gs.rsAddSound(12),i.c3=200)):200==i.c3&&(_t=-1,(h-=3)<=i.vy&&(h=i.vy,i.c3=0,s<=this.co_j.x+15&&s+96>this.co_j.x+15&&(i.c3=100))),(100==this.co_j.c||120==this.co_j.c||130==this.co_j.c||150==this.co_j.c)&&(this.j_a_id==t&&(this.co_j.y=h-32,200==i.c3&&this.maps.getBGCode(this.co_j.x+15,this.co_j.y)>=20&&(this.co_j.y=32*vi(this.co_j.y,5)+16,this.jShinu(3))),this.co_j.x+15>=s&&this.co_j.x<=s+80&&this.co_j.y+31>=h&&this.co_j.y<=h+63)){if(_t>0){if(this.co_j.y=h+64,10==this.maps.getBGCode(this.co_j.x+15,this.co_j.y+15)||10==this.maps.getBGCode(this.co_j.x+15,this.co_j.y+31)){this.j_hashigo_f=!0;var rt=this.maps.getBGCode(this.co_j.x+15,this.co_j.y+32);(rt>=20||15==rt)&&(this.j_hashigo_f=!1)}this.maps.getBGCode(this.co_j.x+15,this.co_j.y+31)>=18&&(this.co_j.y=32*vi(this.co_j.y+31,5)-32,this.jShinu(3))}_t<0&&(this.co_j.y=h-32,this.j_a_id=t,this.maps.getBGCode(this.co_j.x+15,this.co_j.y)>=20&&(this.co_j.y=32*vi(this.co_j.y,5)+16,this.jShinu(3)))}break;case 410:s>this.maps.wx-96&&s<this.maps.wx+this.gg.di.width&&h>this.maps.wy-64&&h<this.maps.wy+this.gg.di.height?(i.gf=!0,this.a_hf=!0,(100==this.co_j.c||130==this.co_j.c)&&this.co_j.x+15>=s&&this.co_j.x<=s+80&&this.co_j.y==h-32&&(this.j_a_id=t)):i.gf=!1;var nt=0;if(i.c4<=1)if(0==i.c3){if(s-48<this.co_j.x+15&&s+96+48>this.co_j.x+15){var mt=vi(s,5),gt=vi(s+31,5),pt=vi(s+63,5),yt=vi(s+95,5),ut=vi(h-1,5);this.maps.map_bg[mt][ut]<18&&this.maps.map_bg[gt][ut]<18&&this.maps.map_bg[pt][ut]<18&&this.maps.map_bg[yt][ut]<18&&(i.c3=1)}}else if(i.c3<100)i.c3++,i.c3>10&&(i.c3=100);else if(100==i.c3){nt=-1,(h-=12)<=i.vy-128&&(h=i.vy-128,this.a_hf&&this.gs.rsAddSound(12),i.c3=200);var dt=vi(s,5),jt=vi(s+31,5),ft=vi(s+63,5),lt=vi(s+95,5),vt=vi(h-1,5);(this.maps.map_bg[dt][vt]>=18||this.maps.map_bg[jt][vt]>=18||this.maps.map_bg[ft][vt]>=18||this.maps.map_bg[lt][vt]>=18)&&(h=32*vt+32,i.c3=200,this.a_hf&&this.gs.rsAddSound(12))}else 200==i.c3&&(nt=1,(h+=3)>=i.vy&&(h=i.vy,i.c3=0,s<=this.co_j.x+15&&s+96>this.co_j.x+15&&(i.c3=100)));else if(2==i.c4)if(0==i.c3){if(i.vx-160-40<=this.co_j.x+15&&i.vx>this.co_j.x+15&&h-32<this.co_j.y&&h+64>this.co_j.y){var xt=vi(s-1,5),kt=vi(h,5),wt=vi(h+31,5),bt=vi(h+63,5);this.maps.map_bg[xt][kt]<18&&this.maps.map_bg[xt][wt]<18&&this.maps.map_bg[xt][bt]<18&&(i.c3=1)}}else if(i.c3<100)i.c3++,i.c3>10&&(i.c3=100);else if(100==i.c3){(s-=12)<=i.vx-160&&(s=i.vx-160,this.a_hf&&this.gs.rsAddSound(12),i.c3=200);var St=vi(s-1,5),Mt=vi(h,5),Ct=vi(h+31,5),It=vi(h+63,5);(this.maps.map_bg[St][Mt]>=18||this.maps.map_bg[St][Ct]>=18||this.maps.map_bg[St][It]>=18)&&(s=32*St+32,i.c3=200,this.a_hf&&this.gs.rsAddSound(12))}else 200==i.c3&&(s+=3)>=i.vx&&(s=i.vx,i.c3=0,i.vx-160-40<=this.co_j.x+15&&i.vx>this.co_j.x+15&&h-32<this.co_j.y&&h+64>this.co_j.y&&(i.c3=100));else if(3==i.c4)if(0==i.c3){if(i.vx+96+160+40>this.co_j.x+15&&i.vx+96<=this.co_j.x+15&&h-32<this.co_j.y&&h+64>this.co_j.y){var Bt=vi(s+96,5),Gt=vi(h,5),zt=vi(h+31,5),At=vi(h+63,5);this.maps.map_bg[Bt][Gt]<18&&this.maps.map_bg[Bt][zt]<18&&this.maps.map_bg[Bt][At]<18&&(i.c3=1)}}else if(i.c3<100)i.c3++,i.c3>10&&(i.c3=100);else if(100==i.c3){(s+=12)>=i.vx+160&&(s=i.vx+160,this.a_hf&&this.gs.rsAddSound(12),i.c3=200);var Pt=vi(s+96,5),Nt=vi(h,5),Ot=vi(h+31,5),Yt=vi(h+63,5);(this.maps.map_bg[Pt][Nt]>=18||this.maps.map_bg[Pt][Ot]>=18||this.maps.map_bg[Pt][Yt]>=18)&&(s=32*Pt-96,i.c3=200,this.a_hf&&this.gs.rsAddSound(12))}else 200==i.c3&&(s-=3)<=i.vx&&(s=i.vx,i.c3=0,i.vx+96+160+40>this.co_j.x+15&&i.vx+96<=this.co_j.x+15&&h-32<this.co_j.y&&h+64>this.co_j.y&&(i.c3=100));else if(4==i.c4){if(i.c1=s-this.gg.di.width-32-128,i.c2=s+128+128,s+=i.vx,i.vx<0){var Tt=vi(s,5),Rt=vi(h,5),Et=vi(h+31,5),Vt=vi(h+63,5);(this.maps.map_bg[Tt][Rt]>=18||this.maps.map_bg[Tt][Et]>=18||this.maps.map_bg[Tt][Vt]>=18)&&(s=32*Tt+32,i.vx=3)}else if(i.vx>0){var Wt=vi(s+95,5),Lt=vi(h,5),Dt=vi(h+31,5),Ft=vi(h+63,5);(this.maps.map_bg[Wt][Lt]>=18||this.maps.map_bg[Wt][Dt]>=18||this.maps.map_bg[Wt][Ft]>=18)&&(s=32*Wt-96,i.vx=-3)}}else if(5==i.c4)if(0==i.c3){if(s-48<this.co_j.x+15&&s+96+48>this.co_j.x+15&&this.co_j.y>=h+64&&this.co_j.y<=h+64+96){var Ht=vi(s,5),Ut=vi(s+31,5),qt=vi(s+63,5),Kt=vi(s+95,5),Jt=vi(h+64,5);this.maps.map_bg[Ht][Jt]<18&&this.maps.map_bg[Ut][Jt]<18&&this.maps.map_bg[qt][Jt]<18&&this.maps.map_bg[Kt][Jt]<18&&(i.c3=1)}}else if(i.c3<100)i.c3++,i.c3>4&&(i.c3=100);else if(100==i.c3){h+=8,nt=1;var Zt=vi(s,5),Xt=vi(s+31,5),$t=vi(s+63,5),Qt=vi(s+95,5),ti=vi(h+63,5);if((this.maps.map_bg[Zt][ti]>=18||this.maps.map_bg[Xt][ti]>=18||this.maps.map_bg[$t][ti]>=18||this.maps.map_bg[Qt][ti]>=18)&&(h=32*ti-64,i.c3=200),h>=this.ochiru_y){i.c=0;break}}else i.c3;else if(6==i.c4)if(0==i.c3){if(this.j_a_id==t){var ii=vi(s,5),si=vi(s+31,5),hi=vi(s+63,5),ei=vi(s+95,5),ai=vi(h-1,5);this.maps.map_bg[ii][ai]<18&&this.maps.map_bg[si][ai]<18&&this.maps.map_bg[hi][ai]<18&&this.maps.map_bg[ei][ai]<18&&(i.c3=100)}}else if(100==i.c3){h-=4,nt=-1;var ci=vi(s,5),oi=vi(s+31,5),_i=vi(s+63,5),ri=vi(s+95,5),ni=vi(h-32,5);(this.maps.map_bg[ci][ni]>=18||this.maps.map_bg[oi][ni]>=18||this.maps.map_bg[_i][ni]>=18||this.maps.map_bg[ri][ni]>=18)&&(h=32*ni+64,i.c3=200),h<=352&&(h=352,i.c3=200)}else 200==i.c3?this.j_a_id!=t&&(i.c3=201):i.c3<300?(i.c3++,i.c3>212&&(i.c3=300)):300==i.c3&&(nt=1,(h+=4)>=i.vy&&(h=i.vy,i.c3=0));else if(7==i.c4)if(0==i.c3){if(this.j_a_id==t){var mi=vi(s,5),gi=vi(s+31,5),pi=vi(s+63,5),yi=vi(s+95,5),ui=vi(h+64,5);this.maps.map_bg[mi][ui]<18&&this.maps.map_bg[gi][ui]<18&&this.maps.map_bg[pi][ui]<18&&this.maps.map_bg[yi][ui]<18&&(i.c3=100)}}else if(100==i.c3){h+=4,nt=1;var di=vi(s,5),ji=vi(s+31,5),fi=vi(s+63,5),xi=vi(s+95,5),ki=vi(h+64,5);(this.maps.map_bg[di][ki]>=18||this.maps.map_bg[ji][ki]>=18||this.maps.map_bg[fi][ki]>=18||this.maps.map_bg[xi][ki]>=18)&&(h=32*ki-64,i.c3=200),h>=this.ochiru_y-32&&(h=this.ochiru_y-32,i.c3=200)}else 200==i.c3?this.j_a_id!=t&&(i.c3=201):i.c3<300?(i.c3++,i.c3>212&&(i.c3=300)):300==i.c3&&(nt=-1,(h-=4)<=i.vy&&(h=i.vy,i.c3=0));else if(8==i.c4)if(0==i.c3){if(s-48<this.co_j.x+15&&s+96+48>this.co_j.x+15&&h-16>=this.co_j.y){var wi=vi(s,5),bi=vi(s+31,5),Si=vi(s+63,5),Mi=vi(s+95,5),Ci=vi(h-1,5);this.maps.map_bg[wi][Ci]<18&&this.maps.map_bg[bi][Ci]<18&&this.maps.map_bg[Si][Ci]<18&&this.maps.map_bg[Mi][Ci]<18&&(i.c3=1)}if(s-48<this.co_j.x+15&&s+96+48>this.co_j.x+15&&h+48<=this.co_j.y){var Ii=vi(s,5),Bi=vi(s+31,5),Gi=vi(s+63,5),zi=vi(s+95,5),Ai=vi(h+64,5);this.maps.map_bg[Ii][Ai]<18&&this.maps.map_bg[Bi][Ai]<18&&this.maps.map_bg[Gi][Ai]<18&&this.maps.map_bg[zi][Ai]<18&&(i.c3=1001)}}else if(i.c3<100)i.c3++,i.c3>10&&(i.c3=100);else if(100==i.c3){nt=-1,(h-=12)<=i.vy-128&&(h=i.vy-128,this.a_hf&&this.gs.rsAddSound(12),i.c3=200);var Pi=vi(s,5),Ni=vi(s+31,5),Oi=vi(s+63,5),Yi=vi(s+95,5),Ti=vi(h-1,5);(this.maps.map_bg[Pi][Ti]>=18||this.maps.map_bg[Ni][Ti]>=18||this.maps.map_bg[Oi][Ti]>=18||this.maps.map_bg[Yi][Ti]>=18)&&(h=32*Ti+32,i.c3=200,this.a_hf&&this.gs.rsAddSound(12))}else if(200==i.c3)nt=1,(h+=3)>=i.vy&&(h=i.vy,i.c3=0,s-48<this.co_j.x+15&&s+96+48>this.co_j.x+15&&h-16>=this.co_j.y&&(i.c3=100));else if(i.c3<1100)i.c3++,i.c3>1010&&(i.c3=1100);else if(1100==i.c3){nt=1,(h+=12)>=i.vy+128&&(h=i.vy+128,this.a_hf&&this.gs.rsAddSound(12),i.c3=1200);var Ri=vi(s,5),Ei=vi(s+31,5),Vi=vi(s+63,5),Wi=vi(s+95,5),Li=vi(h+64,5);(this.maps.map_bg[Ri][Li]>=18||this.maps.map_bg[Ei][Li]>=18||this.maps.map_bg[Vi][Li]>=18||this.maps.map_bg[Wi][Li]>=18)&&(h=32*Li-64,i.c3=1200,this.a_hf&&this.gs.rsAddSound(12))}else 1200==i.c3&&(nt=-1,(h-=3)<=i.vy&&(h=i.vy,i.c3=0,s-48<this.co_j.x+15&&s+96+48>this.co_j.x+15&&h+48<=this.co_j.y&&(i.c3=1100)));else if(9==i.c4)if(0==i.c3){if(i.vx-160-40<=this.co_j.x+15&&i.vx>this.co_j.x+15&&h-32<this.co_j.y&&h+64>this.co_j.y){var Di=vi(s-1,5),Fi=vi(h,5),Hi=vi(h+31,5),Ui=vi(h+63,5);this.maps.map_bg[Di][Fi]<18&&this.maps.map_bg[Di][Hi]<18&&this.maps.map_bg[Di][Ui]<18&&(i.c3=1)}if(i.vx+96+160+40>this.co_j.x+15&&i.vx+96<=this.co_j.x+15&&h-32<this.co_j.y&&h+64>this.co_j.y){var qi=vi(s+96,5),Ki=vi(h,5),Ji=vi(h+31,5),Zi=vi(h+63,5);this.maps.map_bg[qi][Ki]<18&&this.maps.map_bg[qi][Ji]<18&&this.maps.map_bg[qi][Zi]<18&&(i.c3=1001)}}else if(i.c3<100)i.c3++,i.c3>10&&(i.c3=100);else if(100==i.c3){(s-=12)<=i.vx-160&&(s=i.vx-160,this.a_hf&&this.gs.rsAddSound(12),i.c3=200);var Xi=vi(s-1,5),$i=vi(h,5),Qi=vi(h+31,5),ts=vi(h+63,5);(this.maps.map_bg[Xi][$i]>=18||this.maps.map_bg[Xi][Qi]>=18||this.maps.map_bg[Xi][ts]>=18)&&(s=32*Xi+32,i.c3=200,this.a_hf&&this.gs.rsAddSound(12))}else if(200==i.c3)(s+=3)>=i.vx&&(s=i.vx,i.c3=0,i.vx-160-40<=this.co_j.x+15&&i.vx>this.co_j.x+15&&h-32<this.co_j.y&&h+64>this.co_j.y&&(i.c3=100));else if(i.c3<1100)i.c3++,i.c3>10&&(i.c3=1100);else if(1100==i.c3){(s+=12)>=i.vx+160&&(s=i.vx+160,this.a_hf&&this.gs.rsAddSound(12),i.c3=1200);var is=vi(s+96,5),ss=vi(h,5),hs=vi(h+31,5),es=vi(h+63,5);(this.maps.map_bg[is][ss]>=18||this.maps.map_bg[is][hs]>=18||this.maps.map_bg[is][es]>=18)&&(s=32*is-96,i.c3=1200,this.a_hf&&this.gs.rsAddSound(12))}else 1200==i.c3&&(s-=3)<=i.vx&&(s=i.vx,i.c3=0,i.vx+96+160+40>this.co_j.x+15&&i.vx+96<=this.co_j.x+15&&h-32<this.co_j.y&&h+64>this.co_j.y&&(i.c3=1100));else if(10==i.c4)if(0==i.c3){if(s-48<this.co_j.x+15&&s+96+48>this.co_j.x+15&&h+48<=this.co_j.y){var as=vi(s,5),cs=vi(s+31,5),os=vi(s+63,5),_s=vi(s+95,5),rs=vi(h+64,5);this.maps.map_bg[as][rs]<18&&this.maps.map_bg[cs][rs]<18&&this.maps.map_bg[os][rs]<18&&this.maps.map_bg[_s][rs]<18&&(i.c3=1)}}else if(i.c3<100)i.c3++,i.c3>10&&(i.c3=100);else if(100==i.c3){h+=12,nt=1;var ns=vi(s,5),ms=vi(s+31,5),gs=vi(s+63,5),ps=vi(s+95,5),ys=vi(h+64,5);(this.maps.map_bg[ns][ys]>=18||this.maps.map_bg[ms][ys]>=18||this.maps.map_bg[gs][ys]>=18||this.maps.map_bg[ps][ys]>=18)&&(h=32*ys-64,i.c3=200,this.a_hf&&this.gs.rsAddSound(12)),h>=this.ochiru_y-32&&(h=this.ochiru_y-32,i.c3=200,this.a_hf&&this.gs.rsAddSound(12))}else 200==i.c3&&(nt=-1,(h-=3)<=i.vy&&(h=i.vy,i.c3=0,s<=this.co_j.x+15&&s+96>this.co_j.x+15&&h+48<=this.co_j.y&&(i.c3=100)));else if(11==i.c4)if(0==i.c3){h-=4,nt=-1;var us=vi(s,5),ds=vi(s+31,5),js=vi(s+63,5),fs=vi(s+95,5),ls=vi(h,5);(this.maps.map_bg[us][ls]>=18||this.maps.map_bg[ds][ls]>=18||this.maps.map_bg[js][ls]>=18||this.maps.map_bg[fs][ls]>=18)&&(h=32*ls+32,i.c3=1),h<=320&&(h=320,i.c3=1)}else{h+=4,nt=1;var vs=vi(s,5),xs=vi(s+31,5),ks=vi(s+63,5),ws=vi(s+95,5),bs=vi(h+64,5);(this.maps.map_bg[vs][bs]>=18||this.maps.map_bg[xs][bs]>=18||this.maps.map_bg[ks][bs]>=18||this.maps.map_bg[ws][bs]>=18)&&(h=32*bs-64,i.c3=0),h>=this.ochiru_y-32&&(h=this.ochiru_y-32,i.c3=0)}else if(12==i.c4){var Ss=vi(s+47,5),Ms=vi(h+63,5);if(19==this.maps.map_bg[Ss][Ms])0==i.c3?(vi(s+47,5)!=vi(s+47-4,5)&&(h=32*vi(h+63,5)-64),Ss=vi(47+(s-=4),5),Ms=vi(h+63,5),19!=this.maps.map_bg[Ss][Ms]&&18!=this.maps.map_bg[Ss][Ms]||(h=this.getSakamichiY(s+47,h+63)-32)):(vi(s+47,5)!=vi(s+47+4,5)&&(h=32*vi(h+63,5)-32),Ss=vi((s+=4)+47,5),Ms=vi(h+63,5),19!=this.maps.map_bg[Ss][Ms]&&18!=this.maps.map_bg[Ss][Ms]||(h=this.getSakamichiY(s+47,h+63)-32),Ss=vi(s+47,5),Ms=vi(h+64,5),19==this.maps.map_bg[Ss][Ms]&&(h=this.getSakamichiY(s+47,h+64)-32));else if(18==this.maps.map_bg[Ss][Ms])if(0!=i.c3){vi(s+47,5)!=vi(s+47+4,5)&&(h=32*vi(h+63,5)-64);var Cs=vi((s+=4)+47,5),Is=vi(h+63,5);19!=this.maps.map_bg[Cs][Is]&&18!=this.maps.map_bg[Cs][Is]||(h=this.getSakamichiY(s+47,h+63)-32)}else{vi(s+47,5)!=vi(s+47-4,5)&&(h=32*vi(h+63,5)-32);var Bs=vi(47+(s-=4),5),Gs=vi(h+63,5);19!=this.maps.map_bg[Bs][Gs]&&18!=this.maps.map_bg[Bs][Gs]||(h=this.getSakamichiY(s+47,h+63)-32),Bs=vi(s+47,5),Gs=vi(h+64,5),18==this.maps.map_bg[Bs][Gs]&&(h=this.getSakamichiY(s+47,h+64)-32)}else if(0==i.c3){var zs=vi(47+(s-=4),5),As=vi(h+64,5);18==this.maps.map_bg[zs][As]&&(h=this.getSakamichiY(s+47,h+64)-32),zs=vi(s-1,5),As=vi(h,5);var Ps=vi(h+31,5),Ns=vi(h+63,5);19==this.maps.map_bg[vi(s+16,5)][Ns]||19==this.maps.map_bg[vi(s+32,5)][Ns]?this.maps.map_bg[zs][As]>=20&&(s=32*zs+32,i.c3=1):(this.maps.map_bg[zs][As]>=20||this.maps.map_bg[zs][Ps]>=20||this.maps.map_bg[zs][Ns]>=20)&&(s=32*zs+32,i.c3=1)}else{var Os=vi((s+=4)+47,5),Ys=vi(h+64,5);19==this.maps.map_bg[Os][Ys]&&(h=this.getSakamichiY(s+47,h+64)-32),Os=vi(s+96,5),Ys=vi(h,5);var Ts=vi(h+31,5),Rs=vi(h+63,5);18==this.maps.map_bg[vi(s+96-16,5)][Rs]||18==this.maps.map_bg[vi(s+96-32,5)][Rs]?this.maps.map_bg[Os][Ys]>=20&&(s=32*Os-96,i.c3=0):(this.maps.map_bg[Os][Ys]>=20||this.maps.map_bg[Os][Ts]>=20||this.maps.map_bg[Os][Rs]>=20)&&(s=32*Os-96,i.c3=0)}i.vy=h,h=i.y}else if(13==i.c4)0==i.c3&&this.j_a_id==t&&(i.c4=12,i.c3=1,i.vy=h);else if(14==i.c4){var Es=vi(s,5),Vs=vi(s+31,5),Ws=vi(s+63,5),Ls=vi(s+95,5),Ds=vi(h+64,5);if(this.maps.map_bg[Es][Ds]>=18||this.maps.map_bg[Vs][Ds]>=18||this.maps.map_bg[Ws][Ds]>=18||this.maps.map_bg[Ls][Ds]>=18){h=32*Ds-64;for(var Fs=0;!(Fs>29);){var Hs=vi(h+63,5);if(this.maps.map_bg[Es][Hs]<18&&this.maps.map_bg[Vs][Hs]<18&&this.maps.map_bg[Ws][Hs]<18&&this.maps.map_bg[Ls][Hs]<18)break;h=32*Hs-64,nt=-1,Fs++}}else{h+=4,nt=1;var Us=vi(s,5),qs=vi(s+31,5),Ks=vi(s+63,5),Js=vi(s+95,5),Zs=vi(h+64,5);(this.maps.map_bg[Us][Zs]>=18||this.maps.map_bg[qs][Zs]>=18||this.maps.map_bg[Ks][Zs]>=18||this.maps.map_bg[Js][Zs]>=18)&&(h=32*Zs-64,i.c3=0),h>=this.ochiru_y&&(h=this.ochiru_y,i.c=0)}}else if(15==i.c4)this.co_j.x>=s&&this.co_j.x<=s+64&&this.co_j.y>=h+64&&(i.c4=14);else if(16==i.c4){1==this.souko_count3?i.pt=3400:i.pt=400;var Xs=vi(s,5),$s=vi(s+31,5),Qs=vi(s+63,5),th=vi(s+95,5),ih=vi(h+64,5);if(1!=i.vx)if(this.maps.map_bg[Xs][ih]>=18||this.maps.map_bg[$s][ih]>=18||this.maps.map_bg[Qs][ih]>=18||this.maps.map_bg[th][ih]>=18){h=32*ih-64;for(var sh=0;!(sh>29);){var hh=vi(h+63,5);if(this.maps.map_bg[Xs][hh]<18&&this.maps.map_bg[$s][hh]<18&&this.maps.map_bg[Qs][hh]<18&&this.maps.map_bg[th][hh]<18)break;h=32*hh-64,nt=-1,sh++}}else{for(var eh=!1,ah=0;!(ah>this.a_kazu);){if(410==this.co_a[ah].c&&16==this.co_a[ah].c4&&ah!=t&&this.co_a[ah].x+95>=s&&this.co_a[ah].x<=s+95&&h+64>=this.co_a[ah].y&&h+16<=this.co_a[ah].y){eh=!0,h=this.co_a[ah].y-64;break}ah++}if(!eh){h+=4,nt=1;var ch=vi(s,5),oh=vi(s+31,5),_h=vi(s+63,5),rh=vi(s+95,5),nh=vi(h+64,5);(this.maps.map_bg[ch][nh]>=18||this.maps.map_bg[oh][nh]>=18||this.maps.map_bg[_h][nh]>=18||this.maps.map_bg[rh][nh]>=18)&&(h=32*nh-64,i.c3=0),h>=this.ochiru_y&&(h=this.ochiru_y,i.c=0)}}}else if(17==i.c4)h>i.vy&&(h-=8)<=i.vy&&(h=i.vy);else if(18==i.c4){if(i.vy+=5,i.vy>100&&(i.vy=100),h+=li(i.vy/10),i.vy>-10&&i.vy>=10){var mh=vi(s,5),gh=vi(s+31,5),ph=vi(s+63,5),yh=vi(s+95,5),uh=vi(h+63,5);if((this.maps.map_bg[mh][uh]>=20||this.maps.map_bg[gh][uh]>=20||this.maps.map_bg[ph][uh]>=20||this.maps.map_bg[yh][uh]>=20)&&(h=32*uh-64,i.vy=-100),h>=this.ochiru_y){i.c=0;break}}h>i.y?nt=1:h<i.y&&(nt=-1)}if(100==this.co_j.c||120==this.co_j.c||130==this.co_j.c||150==this.co_j.c){if(this.j_a_id==t)if(this.co_j.x+=s-i.x,s-i.x>0){var dh=vi(this.co_j.x+15,5),jh=vi(this.co_j.y,5),fh=vi(this.co_j.y+31,5);(this.maps.map_bg[dh][jh]>=20||this.maps.map_bg[dh][fh]>=20)&&(this.co_j.x=32*dh-16)}else if(s-i.x<0){var lh=vi(this.co_j.x+15,5),vh=vi(this.co_j.y,5),xh=vi(this.co_j.y+31,5);(this.maps.map_bg[lh][vh]>=20||this.maps.map_bg[lh][xh]>=20)&&(this.co_j.x=32*lh+32-14)}if(this.co_j.x+15>=s&&this.co_j.x<=s+80&&this.co_j.y+31>=h&&this.co_j.y<=h+63){if(s-i.x>0)if(this.j_hashigo_f||this.gk.down_f&&10==this.maps.getBGCode(this.co_j.x+15,this.co_j.y+32))this.co_j.c=230,this.co_j.x=32*vi(this.co_j.x+15,5)+11,this.co_j.c1=0,this.j_zan_f=!1,this.j_jet_c=0,this.j_v_c=0,this.gs.rsAddSound(24);else{12==i.c4&&18==this.maps.map_bg[vi(this.co_j.x+15,5)][vi(this.co_j.y+31,5)]&&vi(this.co_j.x+15,5)!=vi(s+81+15,5)&&(this.co_j.y=32*vi(this.co_j.y+31,5)-32),this.co_j.x=s+81;var kh=vi(this.co_j.x+15,5),wh=vi(this.co_j.y,5),bh=vi(this.co_j.y+31,5);(this.maps.map_bg[kh][wh]>=20||this.maps.map_bg[kh][bh]>=20)&&(this.co_j.c=230,this.co_j.x=32*kh-32+11,this.co_j.c1=0,this.j_zan_f=!1,this.j_jet_c=0,this.j_v_c=0,this.gs.rsAddSound(24))}if(s-i.x<0)if(this.j_hashigo_f||this.gk.down_f&&10==this.maps.getBGCode(this.co_j.x+15,this.co_j.y+32))this.co_j.c=230,this.co_j.x=32*vi(this.co_j.x+15,5)-11,this.co_j.c1=0,this.j_zan_f=!1,this.j_jet_c=0,this.j_v_c=0,this.gs.rsAddSound(24);else{12==i.c4&&19==this.maps.map_bg[vi(this.co_j.x+15,5)][vi(this.co_j.y+31,5)]&&vi(this.co_j.x+15,5)!=vi(s-16+15,5)&&(this.co_j.y=32*vi(this.co_j.y+31,5)-32),this.co_j.x=s-16;var Sh=vi(this.co_j.x+15,5),Mh=vi(this.co_j.y,5),Ch=vi(this.co_j.y+31,5);(this.maps.map_bg[Sh][Mh]>=20||this.maps.map_bg[Sh][Ch]>=20)&&(this.co_j.c=230,this.co_j.x=32*Sh+32-11,this.co_j.c1=0,this.j_zan_f=!1,this.j_jet_c=0,this.j_v_c=0,this.gs.rsAddSound(24))}}}if(4==i.c4){if(i.vy+=5,i.vy>100&&(i.vy=100),h+=li(i.vy/10),i.vy<=-10){var Ih=vi(s,5),Bh=vi(s+31,5),Gh=vi(s+63,5),zh=vi(s+95,5),Ah=vi(h,5);(this.maps.map_bg[Ih][Ah]>=18||this.maps.map_bg[Bh][Ah]>=18||this.maps.map_bg[Gh][Ah]>=18||this.maps.map_bg[zh][Ah]>=18)&&(h=32*Ah+32,i.vy=0)}else if(i.vy>=10){var Ph=vi(s,5),Nh=vi(s+31,5),Oh=vi(s+63,5),Yh=vi(s+95,5),Th=vi(h+63,5);if((this.maps.map_bg[Ph][Th]>=20||this.maps.map_bg[Nh][Th]>=20||this.maps.map_bg[Oh][Th]>=20||this.maps.map_bg[Yh][Th]>=20)&&(h=32*Th-64,i.vy=-100),h>=this.ochiru_y){i.c=0;break}}h>i.y?nt=1:h<i.y&&(nt=-1)}else 12==i.c4&&((h=i.vy)>i.y?nt=1:h<i.y&&(nt=-1));if((100==this.co_j.c||120==this.co_j.c||130==this.co_j.c||150==this.co_j.c)&&((nt<=0||!this.j_hashigo_f)&&(nt<=0||!this.co_j.jimen_f||10!=this.maps.getBGCode(this.co_j.x+15,this.co_j.y+32))&&this.j_a_id==t&&(this.co_j.y=h-32,nt<0&&this.maps.getBGCode(this.co_j.x+15,this.co_j.y)>=20&&(this.co_j.y=32*vi(this.co_j.y,5)+16,this.jShinu(3))),this.co_j.x+15>=s&&this.co_j.x<=s+80&&this.co_j.y+31>=h&&this.co_j.y<=h+63)){if(nt>0){if(this.co_j.y=h+64,10==this.maps.getBGCode(this.co_j.x+15,this.co_j.y+15)||10==this.maps.getBGCode(this.co_j.x+15,this.co_j.y+31)){this.j_hashigo_f=!0;var Rh=this.maps.getBGCode(this.co_j.x+15,this.co_j.y+32);(Rh>=20||15==Rh)&&(this.j_hashigo_f=!1)}this.maps.getBGCode(this.co_j.x+15,this.co_j.y+31)>=18&&(this.co_j.y=32*vi(this.co_j.y+31,5)-32,this.jShinu(3),12!=i.c4||18!=this.maps.map_bg[vi(this.co_j.x+15,5)][vi(this.co_j.y+32,5)]&&19!=this.maps.map_bg[vi(this.co_j.x+15,5)][vi(this.co_j.y+32,5)]||(this.co_j.y=this.getSakamichiY(this.co_j.x+15,this.co_j.y+32)))}nt<0&&(this.co_j.y=h-32,this.j_a_id=t,this.maps.getBGCode(this.co_j.x+15,this.co_j.y)>=20&&(this.co_j.y=32*vi(this.co_j.y,5)+16,this.jShinu(3)))}break;case 500:s>this.maps.wx-96-32&&s<this.maps.wx+this.gg.di.width+32&&h>this.maps.wy-32&&h<=this.maps.wy+this.gg.di.height+48?(i.gf=!0,this.a_hf=!0,(100==this.co_j.c||130==this.co_j.c)&&this.co_j.x+15>=s&&this.co_j.x<=s+80&&this.co_j.y==h-32?(this.j_a_id=t,1==i.c4?i.c3<50&&(i.c3<=0?i.c3=1:i.c3<=30?i.c3++:(i.c3=55,i.vy=0)):i.c3<=0&&(i.c3=51,i.vy=0)):1==i.c4&&i.c3<50&&(i.c3=0)):i.gf=!1,i.c3>0&&(i.c3>=51&&i.c3<=54?i.c3++:i.c3>=55&&i.c3<100&&(i.vy<16&&i.vy++,h+=i.vy,this.maps.getBGCode(s+32,h+13)>=20&&(h=32*vi(h+13,5)-14,i.c3=100),h>=this.ochiru_y+48&&(i.c=0,i.gf=!1))),100!=this.co_j.c&&130!=this.co_j.c||this.j_a_id!=t||(this.co_j.y=h-32);break;case 600:if(s>this.maps.wx-96&&s<this.maps.wx+this.gg.di.width&&h>this.maps.wy-64&&h<this.maps.wy+this.gg.di.height?(i.gf=!0,this.a_hf=!0,(100==this.co_j.c||130==this.co_j.c)&&this.co_j.x+15>=s&&this.co_j.x<=s+48&&this.co_j.y==h+16-32&&(this.j_a_id=t)):i.gf=!1,i.pt=600,i.c3<=0?(i.vx=0,this.j_a_id==t&&(i.c3=100,i.c4=0,i.vx=2),this.co_j.x>=s-144&&(i.pt=605)):100==i.c3?(i.c1=s-this.gg.di.width-32,i.c2=s+128,this.j_a_id!=t?(i.c4++,i.c4>50&&(i.c3=0)):i.c4=0,i.pt=605):200==i.c3&&(i.pt=605,i.vx=0),s+=i.vx,(this.maps.getBGCode(s+63+16,h)>=20||this.maps.getBGCode(s+63+16,h+32)>=20)&&(s=32*vi(s+63+16,5)-64-16,i.vx=s-i.x,i.c3=200),100==this.co_j.c||130==this.co_j.c){if(this.j_a_id==t&&(this.co_j.x+=i.vx,i.vx>0)){var Eh=vi(this.co_j.x+15,5),Vh=vi(this.co_j.y,5),Wh=vi(this.co_j.y+31,5);(this.maps.map_bg[Eh][Vh]>=20||this.maps.map_bg[Eh][Wh]>=20)&&(this.co_j.x=32*Eh-16)}this.co_j.x+15>=s&&this.co_j.x<=s+48&&this.co_j.y+31>=h+16&&this.co_j.y<=h+47&&(this.co_j.x=s+49)}break;case 610:i.c1=s-this.gg.di.width-32,i.c2=s+128,s>this.maps.wx-96&&s<this.maps.wx+this.gg.di.width&&h>this.maps.wy-64&&h<this.maps.wy+this.gg.di.height?(i.gf=!0,this.a_hf=!0,(100==this.co_j.c||130==this.co_j.c)&&this.co_j.x+15>=s&&this.co_j.x<=s+48&&this.co_j.y==h+16-32&&(this.j_a_id=t)):i.gf=!1,i.c3<=0?(i.pt=600,this.co_j.x>=s-144&&(i.pt=605)):i.c3,this.co_j.c<100||this.co_j.c>=200?i.c3=100:this.j_rope_cf&&this.j_rope_id==t?(this.co_j.x<=s+16-14||this.co_j.x>=s+16+14||this.co_j.y>h-32+16||this.co_j.y<=h-64)&&(this.j_rope_cf=!1,i.c3=100):145==this.co_j.c&&this.j_rope_id==t?i.c3=200:100==this.co_j.c&&this.j_a_id==t&&this.co_j.x>=s+16-10&&this.co_j.x<=s+16+10&&(i.c3=200,this.co_j.c=145,this.co_j.ac=0,this.j_rope_id=t,this.j_rope_cf=!1,this.j_zan_f=!1,this.j_jet_c=0,this.gs.rsAddSound(7));break;case 700:if(s>this.maps.wx-96&&s<this.maps.wx+this.gg.di.width&&h>this.maps.wy-64&&h<this.maps.wy+this.gg.di.height?(i.gf=!0,this.a_hf=!0,100==this.co_j.c&&this.co_j.x+15>=s&&this.co_j.x<=s+16&&(2==i.c4?this.co_j.y==h-32&&(this.j_a_id=t):(i.c3>=1&&i.c3<=2&&this.co_j.y==h-32+10||i.c3>=3&&i.c3<=4&&this.co_j.y==h-32+16||i.c3>=5&&i.c3<=6&&this.co_j.y==h-32+10||this.co_j.y==h-32)&&(this.j_a_id=t))):i.gf=!1,2==i.c4){if(i.pt=750,i.c3>0&&i.c3--,this.co_j.x>=s-32&&this.co_j.x<s&&Math.abs(this.co_j.y-h)<=16){i.c3=5,this.co_j.x=s-32,this.co_j.y=h,this.co_j.muki=0,this.j_jump_type=0,this.co_j.ac=0,this.co_j.c=100,this.co_j.vx=-160,this.co_j.vy=0,this.j_jump_level=5,this.j_djump_kf=!0,this.co_j.pt=83;for(var Lh=0;Lh<=5;Lh++)this.j_zan_x[Lh]=this.co_j.x,this.j_zan_y[Lh]=this.co_j.y,this.j_zan_pt[Lh]=83,this.j_zan_pth[Lh]=this.co_j.muki;this.j_zan_p=0,this.j_zan_c=0,this.j_zan_nagasa=5,this.j_zan_f=!0,this.j_zan_cf=!0,this.j_rope_cf=!0,this.j_rope_id=t,this.j_cannon_c=22,this.j_cannon_type=1,this.gs.rsAddSound(4)}}else if(3==i.c4){if(i.pt=751,i.c3>0&&i.c3--,this.co_j.x<=s+32&&this.co_j.x>s&&Math.abs(this.co_j.y-h)<=16){i.c3=5,this.co_j.x=s+32,this.co_j.y=h,this.co_j.muki=1,this.j_jump_type=0,this.co_j.ac=0,this.co_j.c=100,this.co_j.vx=160,this.co_j.vy=0,this.j_jump_level=5,this.j_djump_kf=!0,this.co_j.pt=83;for(var Dh=0;Dh<=5;Dh++)this.j_zan_x[Dh]=this.co_j.x,this.j_zan_y[Dh]=this.co_j.y,this.j_zan_pt[Dh]=83,this.j_zan_pth[Dh]=this.co_j.muki;this.j_zan_p=0,this.j_zan_c=0,this.j_zan_nagasa=5,this.j_zan_f=!0,this.j_zan_cf=!0,this.j_rope_cf=!0,this.j_rope_id=t,this.j_cannon_c=22,this.j_cannon_type=1,this.gs.rsAddSound(4)}}else this.j_a_id==t?(this.co_j.vx=0,this.co_j.vy=0,this.co_j.x=s,this.j_jdai_f=!0,i.c3++,i.c3<=2?(i.pt=710,this.co_j.y=h-32+10):i.c3<=4?(i.pt=720,this.co_j.y=h-32+16):i.c3<=6?(i.pt=710,this.co_j.y=h-32+10):i.c3>=7&&(i.pt=700,this.co_j.y=h-32,i.c3=0,this.j_a_id=-1,this.j_jump_type=4,this.co_j.pt=101,this.co_j.ac=0,this.co_j.vy=-255,this.j_jump_level=1,4==this.maps.getBGCode(s,h)&&(this.co_j.vy=-75))):(i.c3=0,i.pt=700);break;case 1e3:if(i.vx<32)i.vx++,i.vx>28&&(s<this.maps.wx||s>this.maps.wx+this.gg.di.width-32||h<this.maps.wy-32||h>this.maps.wy+this.gg.di.height+32)&&(i.vx=28);else if(32==i.vx)if(i.c4+=16,i.c3>=10&&(i.c4+=8),i.c4>=192&&(i.c4=192,i.vx=100),1==i.c3||11==i.c3){var Fh=vi(s,5),Hh=vi(s+32,5),Uh=vi(h+i.c4+1,5);(this.maps.map_bg[Fh][Uh]>=20||this.maps.map_bg[Hh][Uh]>=20)&&(i.vx=100,i.c4=32*Uh-h)}else if(2==i.c3||12==i.c3){var qh=vi(h,5),Kh=vi(h+32,5),Jh=vi(s-i.c4-1,5);(this.maps.map_bg[Jh][qh]>=20||this.maps.map_bg[Jh][Kh]>=20)&&(i.vx=100,i.c4=s-(32*Jh+32))}else if(3==i.c3||13==i.c3){var Zh=vi(h,5),Xh=vi(h+32,5),$h=vi(s+i.c4+1,5);(this.maps.map_bg[$h][Zh]>=20||this.maps.map_bg[$h][Xh]>=20)&&(i.vx=100,i.c4=32*$h-s)}else{var Qh=vi(s,5),te=vi(s+32,5),ie=vi(h-i.c4-1,5);(this.maps.map_bg[Qh][ie]>=18||this.maps.map_bg[te][ie]>=18)&&(i.vx=100,i.c4=h-(32*ie+32))}else i.c3>=10&&i.vx<108||i.vx<126?i.vx++:(i.c4-=16,i.c3>=10&&(i.c4-=4),i.c4<=0&&(i.c4=0,i.vx=0,i.c3>=10&&(i.vx=28)));s>this.maps.wx-224&&s<this.maps.wx+this.gg.di.width+224&&h>this.maps.wy-224&&h<this.maps.wy+this.gg.di.height+224?(i.gf=!0,this.a_hf=!0,i.pt=1500,i.c4>0&&this.co_j.c>=100&&this.co_j.c<200&&this.j_v_c<=0&&(1==i.c3||11==i.c3?s<=this.co_j.x+15&&s+64>this.co_j.x+15&&h<=this.co_j.y+31&&h+i.c4>=this.co_j.y&&this.jShinu(1):2==i.c3||12==i.c3?s-i.c4<=this.co_j.x+15&&s>this.co_j.x+15&&h<=this.co_j.y+31-6&&h+64>this.co_j.y+6&&this.jShinu(1):3==i.c3||13==i.c3?s<=this.co_j.x+15&&s+i.c4>=this.co_j.x+15&&h<=this.co_j.y+31-6&&h+64>this.co_j.y+6&&this.jShinu(1):s<=this.co_j.x+15&&s+64>this.co_j.x+15&&h-i.c4<=this.co_j.y+31&&h>this.co_j.y&&this.jShinu(1))):i.gf=!1;break;case 1010:if(0==i.c3){h-=8;var se=vi(s,5),he=vi(s+31,5),ee=vi(s+63,5),ae=vi(h,5);(this.maps.map_bg[se][ae]>=18||this.maps.map_bg[he][ae]>=18||this.maps.map_bg[ee][ae]>=18)&&(h=32*ae+32,i.c3=1),h<=320&&(h=320,i.c3=1)}else{h+=8;var ce=vi(s,5),oe=vi(s+31,5),_e=vi(s+63,5),re=vi(h+96,5);(this.maps.map_bg[ce][re]>=18||this.maps.map_bg[oe][re]>=18||this.maps.map_bg[_e][re]>=18)&&(h=32*re-96,i.c3=0),h>=this.ochiru_y-96&&(h=this.ochiru_y-96,i.c3=0)}s>this.maps.wx-150&&s<this.maps.wx+this.gg.di.width+150&&h>this.maps.wy-150&&h<this.maps.wy+this.gg.di.height+150?(i.gf=!0,this.a_hf=!0,i.pt=1600,this.co_j.c>=100&&this.co_j.c<200&&this.j_v_c<=0&&s<=this.co_j.x+15&&s+63>=this.co_j.x+15&&h<=this.co_j.y+31&&h+95>=this.co_j.y&&this.jShinu(1)):i.gf=!1;break;case 1020:if(0==i.c3){var ne=vi((s-=8)-1,5),me=vi(h,5),ge=vi(h+31,5),pe=vi(h+63,5);(this.maps.map_bg[ne][me]>=18||this.maps.map_bg[ne][ge]>=18||this.maps.map_bg[ne][pe]>=18)&&(s=32*ne+32,i.c3=1)}else{var ye=vi((s+=8)+96,5),ue=vi(h,5),de=vi(h+31,5),je=vi(h+63,5);(this.maps.map_bg[ye][ue]>=18||this.maps.map_bg[ye][de]>=18||this.maps.map_bg[ye][je]>=18)&&(s=32*ye-96,i.c3=0)}s>this.maps.wx-150&&s<this.maps.wx+this.gg.di.width+150&&h>this.maps.wy-150&&h<this.maps.wy+this.gg.di.height+150?(i.gf=!0,this.a_hf=!0,i.pt=1700,this.co_j.c>=100&&this.co_j.c<200&&this.j_v_c<=0&&s<=this.co_j.x+15&&s+95>=this.co_j.x+15&&h<=this.co_j.y+31&&h+63>=this.co_j.y&&this.jShinu(1)):i.gf=!1;break;case 1100:i.vx<=0?s>=this.maps.wx&&s<=this.maps.wx+this.gg.di.width-32&&(10==this.sl_step||11==this.sl_step||s-224<=this.co_j.x&&s+224>=this.co_j.x)&&(i.vx=19,this.gs.rsAddSound(17)):i.vx<52?(i.vx++,i.vx%4==0&&this.mSet2(s,h-16,500,-10+this.ranInt(20),-30)):i.vx<63?(i.vx++,i.vx%7==0&&this.mSet2(s,h-16,500,-10+this.ranInt(20),-30)):i.vx<140?i.vx++:i.vx=0,s>this.maps.wx-224&&s<this.maps.wx+this.gg.di.width+224&&h>this.maps.wy-224&&h<this.maps.wy+this.gg.di.height+224?(i.gf=!0,this.a_hf=!0,i.pt=1800):i.gf=!1;break;case 1150:i.vx<=0?s>=this.maps.wx&&s<=this.maps.wx+this.gg.di.width-32&&(10==this.sl_step||11==this.sl_step?(i.vx=19,this.gs.rsAddSound(17)):s-224<=this.co_j.x&&s+224>=this.co_j.x&&(i.vx=31,this.gs.rsAddSound(17))):i.vx<52?(i.vx++,i.vx%4==0&&this.mSet2(s,h+8,550,-12+this.ranInt(27),28)):i.vx<63?(i.vx++,i.vx%7==0&&this.mSet2(s,h+8,550,-12+this.ranInt(27),28)):i.vx<140?i.vx++:i.vx=0,s>this.maps.wx-224&&s<this.maps.wx+this.gg.di.width+224&&h>this.maps.wy-224&&h<this.maps.wy+this.gg.di.height+224?(i.gf=!0,this.a_hf=!0,i.pt=1800):i.gf=!1;break;case 1200:s>this.maps.wx-180&&s<this.maps.wx+this.gg.di.width+180&&h>this.maps.wy-180&&h<this.maps.wy+this.gg.di.height+180?(i.gf=!0,this.a_hf=!0,i.pt=1900):i.gf=!1,i.vy>292?(i.vx-=2,i.vx<-30&&(i.vx=-30)):i.vy<248&&(i.vx+=2,i.vx>30&&(i.vx=30)),i.vx>0?i.vy+=li((i.vx+5)/10):i.vy+=li((i.vx-5)/10);var fe=s+li(192*Math.cos(3.141592653589793*(i.vy+20)/180),!0,this),le=h+li(192*Math.sin(3.141592653589793*(i.vy+20)/180),!0,this),ve=s+li(192*Math.cos(3.141592653589793*(i.vy-20)/180),!0,this),xe=h+li(192*Math.sin(3.141592653589793*(i.vy-20)/180),!0,this);fe+=li(12*Math.cos(3.141592653589793*i.vy/180),!0,this),le+=li(12*Math.sin(3.141592653589793*i.vy/180),!0,this),ve+=li(12*Math.cos(3.141592653589793*i.vy/180),!0,this),xe+=li(12*Math.sin(3.141592653589793*i.vy/180),!0,this),this.setYukaPosition(String(i.c4),String(ve),String(xe),String(fe),String(le));break;case 1300:if(s>this.maps.wx-180&&s<this.maps.wx+this.gg.di.width+180&&h>this.maps.wy-180&&h<this.maps.wy+this.gg.di.height+180?(i.gf=!0,this.a_hf=!0,i.pt=2e3,0==i.c3&&(i.c3=1,this.maps.putBGCode(vi(s,5),vi(h,5),50))):i.gf=!1,this.co_j.c>=100&&this.co_j.c<200)if(this.j_rope_cf&&this.j_rope_id==t){var ke=h+li(32*Math.sin(3.141592653589793*i.vy/180),!0,this),we=h+li(184*Math.sin(3.141592653589793*i.vy/180),!0,this);(this.co_j.y+16<ke-48||this.co_j.y+16>we+24)&&(this.j_rope_cf=!1);var be=s+li(32*Math.cos(3.141592653589793*i.vy/180),!0,this);(this.co_j.x+16<be-32-76||this.co_j.x+16>be+32+76)&&(this.j_rope_cf=!1)}else if((140!=this.co_j.c||this.j_rope_id!=t)&&100==this.co_j.c){var Se=h+li(32*Math.sin(3.141592653589793*i.vy/180),!0,this),Me=h+li(184*Math.sin(3.141592653589793*i.vy/180),!0,this);if(this.co_j.y+16>=Se&&this.co_j.y+16<=Me){var Ce=s+li(32*Math.cos(3.141592653589793*i.vy/180),!0,this),Ie=s+li(184*Math.cos(3.141592653589793*i.vy/180),!0,this),Be=this.co_j.y+16-Se;Be=Ce+li((Ie-Ce)*Be/152),this.co_j.x+16>Be-32&&this.co_j.x+16<Be+32&&(this.co_j.c=140,this.co_j.ac=0,this.j_rope_id=t,this.j_rope_cf=!1,this.j_rope_r=Math.floor(Math.sqrt((this.co_j.x+16-s)*(this.co_j.x+16-s)+(this.co_j.y+16-h)*(this.co_j.y+16-h))),this.j_rope_r<48?this.j_rope_r=48:this.j_rope_r>176&&(this.j_rope_r=176),this.j_zan_f=!1,this.j_jet_c=0)}}i.vy>116?(i.vx-=2,i.vx<-30&&(i.vx=-30)):i.vy<64&&(i.vx+=2,i.vx>30&&(i.vx=30)),i.vx>0?i.vy+=li((i.vx+5)/10):i.vy+=li((i.vx-5)/10);break;case 1400:if(s>this.maps.wx-96&&s<this.maps.wx+this.gg.di.width&&h>this.maps.wy-64&&h<this.maps.wy+this.gg.di.height?(i.gf=!0,this.a_hf=!0):i.gf=!1,2==i.c4?i.pt=2110:3==i.c4?i.pt=2120:4==i.c4?i.pt=2130:i.pt=2100,i.c3<=0){if(s>=this.maps.wx&&s<=this.maps.wx+this.gg.di.width-32&&h>=this.maps.wy&&h<=this.maps.wy+this.gg.di.height-32)if(2==i.c4)this.getCoinTotal()<=0&&(i.c3=100);else if(3==i.c4){for(var Ge=0,ze=vi(s,5),Ae=vi(h,5),Pe=-10;!(Pe>10);){for(var Ne=-10;!(Ne>10);){if(ze+Ne>=1&&ze+Ne<=this.mapWidth&&Ae+Pe>=10&&Ae+Pe<=this.mapHeight+9&&9==this.maps.map_bg[ze+Ne][Ae+Pe]){Ge++;break}Ne++}if(Ge>0)break;Pe++}Ge<=0&&(i.c3=100)}else if(4==i.c4){for(var Oe=0,Ye=0;!(Ye>this.t_kazu);){if((this.co_t[Ye].c>=100||10==this.co_t[Ye].c)&&this.co_t[Ye].x<=s&&this.co_t[Ye].x>=s-480){Oe++;break}Ye++}Oe<=0&&(i.c3=100)}else this.score>=this.door_score&&(i.c3=100)}else i.c3>=100&&(i.c3++,i.c3<=101?(i.pt=0,this.maps.putBGCode(vi(s,5),vi(h,5),0)):102==i.c3||i.c3>=105&&i.c3<=106?i.pt=0:109==i.c3?(i.pt=0,this.gs.rsAddSound(7)):110==i.c3?i.pt=0:i.c3>=113&&(i.pt=0,i.c=0));break;case 1500:if(s>this.maps.wx-180&&s<this.maps.wx+this.gg.di.width+180&&h>this.maps.wy-180&&h<this.maps.wy+this.gg.di.height+180?(i.gf=!0,this.a_hf=!0):i.gf=!1,i.pt=2200,this.j_rope_cf&&this.j_rope_id==t){var Te=s+16+li(60*Math.cos(3.141592653589793*i.c4/180),!0,this),Re=h+16+li(60*Math.sin(3.141592653589793*i.c4/180),!0,this);(Math.abs(this.co_j.x+16-Te)>=40||Math.abs(this.co_j.y+16-Re)>=36)&&(this.j_rope_cf=!1)}else if((this.co_j.c<400||this.co_j.c>=500||this.j_rope_id!=t)&&100==this.co_j.c){var Ee=s+16+li(80*Math.cos(3.141592653589793*i.c4/180),!0,this),Ve=h+16+li(80*Math.sin(3.141592653589793*i.c4/180),!0,this);Math.abs(this.co_j.x+16-Ee)<20&&Math.abs(this.co_j.y+16-Ve)<16&&(this.co_j.c=400,this.co_j.ac=0,this.co_j.c1=80,this.j_rope_id=t,this.j_rope_cf=!1,this.j_zan_f=!1,this.j_jet_c=0,this.j_tail_ac=0,this.gs.rsAddSound(7))}break;case 1600:s>this.maps.wx-96&&s<this.maps.wx+this.gg.di.width&&h>this.maps.wy-64&&h<this.maps.wy+this.gg.di.height?(i.gf=!0,this.a_hf=!0):i.gf=!1,i.pt=2300,i.c3<=0&&s>=this.maps.wx&&s<=this.maps.wx+this.gg.di.width-32&&h>=this.maps.wy&&h<=this.maps.wy+this.gg.di.height-32&&(this.spot_c=100,i.c=0,0==i.c4?(this.spot_r=160,this.spot_r_mokuhyou=160):1==i.c4?(this.spot_r=256,this.spot_r_mokuhyou=256):2==i.c4?(this.spot_r=352,this.spot_r_mokuhyou=352):this.spot_c=0);break;case 1700:if(s>this.maps.wx-192&&s<this.maps.wx+this.gg.di.width+192&&h>this.maps.wy-192&&h<this.maps.wy+this.gg.di.height+192?(i.gf=!0,this.a_hf=!0):i.gf=!1,i.c4<=0?s+63>=this.maps.wx+16&&s<=this.maps.wx+this.gg.di.width-16&&h+63>=this.maps.wy+16&&h<=this.maps.wy+this.gg.di.height-16&&(i.c4=100):100==i.c4?(i.vy+=5,i.vy>=300&&(i.vy=300,i.c4=300)):i.c4>=300&&i.c4<400?(i.c4++,i.c4>=312&&(i.c4=400)):400==i.c4?(i.vy-=5,i.vy<=100&&(i.vy=100,i.c4=500)):i.c4>=500&&i.c4<600&&(i.c4++,i.c4>=512&&(i.c4=0)),this.co_j.c>=100&&this.co_j.c<200&&this.j_v_c<=0){var We=li(64*i.vy/100)-64;s-vi(We,1)<=this.co_j.x+15&&s+64+vi(We,1)>=this.co_j.x+15&&(0==i.c3?h-We<=this.co_j.y+31&&h+63>=this.co_j.y&&this.jShinu(1):1==i.c3?h+63+We>=this.co_j.y&&h<=this.co_j.y+31&&this.jShinu(1):2==i.c3&&h+63+vi(We,1)>=this.co_j.y&&h-vi(We,1)<=this.co_j.y+31&&this.jShinu(1))}i.pt=2400;break;case 1800:if(s>this.maps.wx-180&&s<this.maps.wx+this.gg.di.width+180&&h>this.maps.wy-180&&h<this.maps.wy+this.gg.di.height+180?(i.gf=!0,this.a_hf=!0,i.pt=2500):i.gf=!1,i.vy+=i.vx,i.vy>=360&&(i.vy-=360),i.vy<0&&(i.vy+=360),i.gf){var Le=s+li(87*Math.cos(3.141592653589793*(i.vy+180+34)/180),!0,this),De=h+li(87*Math.sin(3.141592653589793*(i.vy+180+34)/180),!0,this),Fe=s+li(87*Math.cos(3.141592653589793*(i.vy+360-34)/180),!0,this),He=h+li(87*Math.sin(3.141592653589793*(i.vy+360-34)/180),!0,this);this.setYukaPosition(String(i.c3),String(Le),String(De),String(Fe),String(He)),Le=s+li(87*Math.cos(3.141592653589793*(i.vy+34)/180),!0,this),De=h+li(87*Math.sin(3.141592653589793*(i.vy+34)/180),!0,this),this.setYukaPosition(String(i.c4),String(Fe),String(He),String(Le),String(De)),Fe=s+li(87*Math.cos(3.141592653589793*(i.vy+180-34)/180),!0,this),He=h+li(87*Math.sin(3.141592653589793*(i.vy+180-34)/180),!0,this),this.setYukaPosition(String(i.c5),String(Le),String(De),String(Fe),String(He)),Le=s+li(87*Math.cos(3.141592653589793*(i.vy+180+34)/180),!0,this),De=h+li(87*Math.sin(3.141592653589793*(i.vy+180+34)/180),!0,this),this.setYukaPosition(String(i.pth),String(Fe),String(He),String(Le),String(De))}break;case 1850:if(s>this.maps.wx-180&&s<this.maps.wx+this.gg.di.width+180&&h>this.maps.wy-180&&h<this.maps.wy+this.gg.di.height+180?(i.gf=!0,this.a_hf=!0,i.pt=2600):i.gf=!1,i.vy+=i.vx,i.vy>=360&&(i.vy-=360),i.vy<0&&(i.vy+=360),i.gf){var Ue=s+li(144*Math.cos(3.141592653589793*(i.vy+180+34)/180),!0,this),qe=h+li(144*Math.sin(3.141592653589793*(i.vy+180+34)/180),!0,this),Ke=s+li(144*Math.cos(3.141592653589793*(i.vy+360-34)/180),!0,this),Je=h+li(144*Math.sin(3.141592653589793*(i.vy+360-34)/180),!0,this);this.setYukaPosition(String(i.c3),String(Ue),String(qe),String(Ke),String(Je)),Ue=s+li(144*Math.cos(3.141592653589793*(i.vy+34)/180),!0,this),qe=h+li(144*Math.sin(3.141592653589793*(i.vy+34)/180),!0,this),this.setYukaPosition(String(i.c4),String(Ke),String(Je),String(Ue),String(qe)),Ke=s+li(144*Math.cos(3.141592653589793*(i.vy+180-34)/180),!0,this),Je=h+li(144*Math.sin(3.141592653589793*(i.vy+180-34)/180),!0,this),this.setYukaPosition(String(i.c5),String(Ue),String(qe),String(Ke),String(Je)),Ue=s+li(144*Math.cos(3.141592653589793*(i.vy+180+34)/180),!0,this),qe=h+li(144*Math.sin(3.141592653589793*(i.vy+180+34)/180),!0,this),this.setYukaPosition(String(i.pth),String(Ke),String(Je),String(Ue),String(qe))}break;case 1900:if(s>this.maps.wx-96&&s<this.maps.wx+this.gg.di.width&&h>this.maps.wy-64&&h<this.maps.wy+this.gg.di.height?(i.gf=!0,this.a_hf=!0):i.gf=!1,i.pt=2300,1==i.c4)(i.c3<=11||i.c3>=15&&i.c3<=18)&&(s<=this.maps.wx-32||s>=this.maps.wx+this.gg.di.width||h<=this.maps.wy-32||h>=this.maps.wy+this.gg.di.height)&&(i.c4=0);else if(0==i.c3||1==i.c3)s>=this.maps.wx&&s<=this.maps.wx+this.gg.di.width-32&&h>=this.maps.wy&&h<=this.maps.wy+this.gg.di.height-32&&(this.nkscroll_con=100,this.nkscroll_zsc?(this.nkscroll_view_x=this.maps.wx,this.nkscroll_view_y=this.maps.wy):(this.nkscroll_view_x=2*vi(this.maps.wx,1),this.nkscroll_view_y=32*vi(this.maps.wy+15,5),this.nkscroll_view_y<this.maps.wy_mini&&(this.nkscroll_view_y=this.maps.wy_mini),this.nkscroll_view_y>this.maps.wy_max&&(this.nkscroll_view_y=this.maps.wy_max)),0==i.c3?this.nkscroll_vx=1:1==i.c3&&(this.nkscroll_vx=-1),this.nkscroll_vy=0,i.c4=1);else if(2==i.c3||3==i.c3)s>=this.maps.wx&&s<=this.maps.wx+this.gg.di.width-32&&h>=this.maps.wy&&h<=this.maps.wy+this.gg.di.height-32&&(this.nkscroll_con=100,this.nkscroll_view_x=32*vi(this.maps.wx+15,5),this.nkscroll_view_x<this.maps.wx_mini&&(this.nkscroll_view_x=this.maps.wx_mini),this.nkscroll_view_x>this.maps.wx_max&&(this.nkscroll_view_x=this.maps.wx_max),this.nkscroll_view_y=2*vi(this.maps.wy,1),this.nkscroll_vx=0,2==i.c3?this.nkscroll_vy=-1:3==i.c3&&(this.nkscroll_vy=1),i.c4=1);else if(i.c3>=4&&i.c3<=7)s>=this.maps.wx&&s<=this.maps.wx+this.gg.di.width-32&&h>=this.maps.wy&&h<=this.maps.wy+this.gg.di.height-32&&(this.nkscroll_con=100,this.nkscroll_view_x=32*vi(this.maps.wx+15,5),this.nkscroll_view_y=32*vi(this.maps.wy+15,5),this.nkscroll_view_x<this.maps.wx_mini&&(this.nkscroll_view_x=this.maps.wx_mini),this.nkscroll_view_x>this.maps.wx_max&&(this.nkscroll_view_x=this.maps.wx_max),this.nkscroll_view_y<this.maps.wy_mini&&(this.nkscroll_view_y=this.maps.wy_mini),this.nkscroll_view_y>this.maps.wy_max&&(this.nkscroll_view_y=this.maps.wy_max),4==i.c3?(this.nkscroll_vx=1,this.nkscroll_vy=-1):5==i.c3?(this.nkscroll_vx=1,this.nkscroll_vy=1):6==i.c3?(this.nkscroll_vx=-1,this.nkscroll_vy=-1):7==i.c3&&(this.nkscroll_vx=-1,this.nkscroll_vy=1),i.c4=1);else if(8==i.c3||9==i.c3)s>=this.maps.wx&&s<=this.maps.wx+this.gg.di.width-32&&h>=this.maps.wy&&h<=this.maps.wy+this.gg.di.height-32&&(8==i.c3?(this.nkscroll_speed_x++,this.nkscroll_speed_x>8&&(this.nkscroll_speed_x=8)):9==i.c3&&(this.nkscroll_speed_x--,this.nkscroll_speed_x<1&&(this.nkscroll_speed_x=1)),i.c4=1);else if(10==i.c3)s>=this.maps.wx&&s<=this.maps.wx+this.gg.di.width-32&&h>=this.maps.wy&&h<=this.maps.wy+this.gg.di.height-32&&(this.nkscroll_con=200,this.nkscroll_view_x=this.maps.wx,this.nkscroll_view_y=this.maps.wy,this.nkscroll_my_view_x=this.co_j.x-this.nkscroll_view_x,this.nkscroll_my_view_y=this.co_j.y-this.nkscroll_view_y,this.nkscroll_vx=1,this.nkscroll_vy=0,i.c4=1);else if(11==i.c3)s>=this.maps.wx&&s<=this.maps.wx+this.gg.di.width-32&&h>=this.maps.wy&&h<=this.maps.wy+this.gg.di.height-32&&(this.nkscroll_con=100,this.nkscroll_zsc?(this.nkscroll_view_x=this.maps.wx,this.nkscroll_view_y=this.maps.wy):(this.nkscroll_view_x=32*vi(this.maps.wx+15,5),this.nkscroll_view_y=32*vi(this.maps.wy+15,5),this.nkscroll_view_x<this.maps.wx_mini&&(this.nkscroll_view_x=this.maps.wx_mini),this.nkscroll_view_x>this.maps.wx_max&&(this.nkscroll_view_x=this.maps.wx_max),this.nkscroll_view_y<this.maps.wy_mini&&(this.nkscroll_view_y=this.maps.wy_mini),this.nkscroll_view_y>this.maps.wy_max&&(this.nkscroll_view_y=this.maps.wy_max)),this.nkscroll_vx=0,this.nkscroll_vy=0,i.c4=1);else if(12==i.c3||13==i.c3)s<=this.co_j.x+15&&s+31>=this.co_j.x+15&&h<=this.co_j.y+31&&h+31>=this.co_j.y&&(this.nkscroll_con=100,12==i.c3?(this.nkscroll_view_x=2*vi(this.maps.wx,1),this.nkscroll_view_y=this.maps.wy,this.nkscroll_vx=1,this.nkscroll_vy=0):13==i.c3&&(this.nkscroll_view_y=2*vi(this.maps.wy,1),this.nkscroll_view_x=32*vi(this.maps.wx+15,5),this.nkscroll_view_x<this.maps.wx_mini&&(this.nkscroll_view_x=this.maps.wx_mini),this.nkscroll_view_x>this.maps.wx_max&&(this.nkscroll_view_x=this.maps.wx_max),this.nkscroll_vx=0,this.nkscroll_vy=-1),i.c4=1);else if(14==i.c3)s<=this.co_j.x+15&&s+31>=this.co_j.x+15&&h<=this.co_j.y+31&&h+31>=this.co_j.y&&(this.nkscroll_con=200,this.nkscroll_view_x=this.maps.wx,this.nkscroll_view_y=this.maps.wy,this.nkscroll_my_view_x=this.co_j.x-this.nkscroll_view_x,this.nkscroll_my_view_y=this.co_j.y-this.nkscroll_view_y,this.nkscroll_vx=1,this.nkscroll_vy=0,i.c4=1);else if(15==i.c3)s>=this.maps.wx&&s<=this.maps.wx+this.gg.di.width-32&&h>=this.maps.wy&&h<=this.maps.wy+this.gg.di.height-32&&(this.nkscroll_con=300,this.nkscroll_zsc?(this.nkscroll_view_x=this.maps.wx,this.nkscroll_view_y=this.maps.wy):(this.nkscroll_view_y=this.maps.wy,this.nkscroll_view_x=32*vi(this.maps.wx+15,5),this.nkscroll_view_x<this.maps.wx_mini&&(this.nkscroll_view_x=this.maps.wx_mini),this.nkscroll_view_x>this.maps.wx_max&&(this.nkscroll_view_x=this.maps.wx_max)),this.nkscroll_vx=0,this.nkscroll_vy=0,i.c4=1);else if(16==i.c3)s>=this.maps.wx&&s<=this.maps.wx+this.gg.di.width-32&&h>=this.maps.wy&&h<=this.maps.wy+this.gg.di.height-32&&(this.nkscroll_con=400,this.nkscroll_view_x=2*vi(this.maps.wx,1),this.nkscroll_view_y=this.maps.wy,this.nkscroll_vx=1,this.nkscroll_vy=0,i.c4=1);else if(17==i.c3){if(s>=this.maps.wx&&s<=this.maps.wx+this.gg.di.width-32&&h>=this.maps.wy&&h<=this.maps.wy+this.gg.di.height-32){if(2!=this.view_move_type){this.view_move_type=2,this.nkscroll_con=200,this.nkscroll_view_x=this.maps.wx,this.nkscroll_view_y=this.maps.wy,this.nkscroll_my_view_x=this.co_j.x-this.nkscroll_view_x,this.nkscroll_my_view_y=this.co_j.y-this.nkscroll_view_y,this.nkscroll_vx=1,this.nkscroll_vy=0;var Ze=this.maps.my_wx_mini;this.maps.my_wx_mini=this.maps.my_wx_max+32,this.maps.my_wx_max=this.gg.di.width-Ze-32}i.c4=1}}else if(18==i.c3&&s>=this.maps.wx&&s<=this.maps.wx+this.gg.di.width-32&&h>=this.maps.wy&&h<=this.maps.wy+this.gg.di.height-32){if(1!=this.view_move_type){this.view_move_type=1,this.nkscroll_con=200,this.nkscroll_view_x=this.maps.wx,this.nkscroll_view_y=this.maps.wy,this.nkscroll_my_view_x=this.co_j.x-this.nkscroll_view_x,this.nkscroll_my_view_y=this.co_j.y-this.nkscroll_view_y,this.nkscroll_vx=1,this.nkscroll_vy=0;var Xe=this.maps.my_wx_mini;this.maps.my_wx_mini=this.gg.di.width-this.maps.my_wx_max-32,this.maps.my_wx_max=Xe-32}i.c4=1}break;case 2e3:s+256>this.maps.wx&&s<this.maps.wx+this.gg.di.width?(i.gf=!0,this.a_hf=!0,i.pt=2700):i.gf=!1;break;case 2100:if(s+256>this.maps.wx&&s-256<this.maps.wx+this.gg.di.width?(i.gf=!0,this.a_hf=!0,i.pt=2800):i.gf=!1,i.gf&&this.co_j.c>=100&&this.co_j.c<200&&this.j_v_c<=0){var $e=s-(this.co_j.x+16),Qe=h-(this.co_j.y+16);Math.sqrt($e*$e+Qe*Qe)<64&&this.jShinu(1)}break;case 2200:if(i.c3+=i.vx,i.c3<0?i.c3+=360:i.c3>=360&&(i.c3-=360),s>this.maps.wx-200&&s<this.maps.wx+this.gg.di.width+200&&h>this.maps.wy-200&&h<this.maps.wy+this.gg.di.height+200){if(i.gf=!0,this.a_hf=!0,i.pt=2900,this.co_j.c>=100&&this.co_j.c<200){var ta=s-(this.co_j.x+16),ia=h-(this.co_j.y+16),sa=Math.floor(Math.sqrt(ta*ta+ia*ia));if(sa<=162&&sa>=110){var ha=Math.floor(180*Math.atan2(this.co_j.y+16-h,this.co_j.x+16-s)/3.140000104904175);ha<0&&(ha+=360),(i.c3>=ha&&i.c3-50<=ha||i.c3>=ha-360&&i.c3-50<=ha-360)&&this.jShinu(1)}}}else i.gf=!1;break;case 2250:if(i.c3+=i.vx,i.c3<0?i.c3+=360:i.c3>=360&&(i.c3-=360),s>this.maps.wx-200&&s<this.maps.wx+this.gg.di.width+200&&h>this.maps.wy-200&&h<this.maps.wy+this.gg.di.height+200){if(i.gf=!0,this.a_hf=!0,i.pt=2950,this.co_j.c>=100&&this.co_j.c<200){var ea=s-(this.co_j.x+16),aa=h-(this.co_j.y+16),ca=Math.floor(Math.sqrt(ea*ea+aa*aa));if(ca<=162&&ca>=110){var oa=Math.floor(180*Math.atan2(this.co_j.y+16-h,this.co_j.x+16-s)/3.140000104904175);oa<0&&(oa+=360),(i.c3>=oa&&i.c3-120<=oa||i.c3>=oa-360&&i.c3-120<=oa-360)&&this.jShinu(1)}}}else i.gf=!1;break;case 2300:i.vy<0?(h+=i.vy)<=i.c3-160&&(h=i.c3-160,i.vy=4):(h+=i.vy)>=i.c3&&(h=i.c3,i.vy=-4),s+256>this.maps.wx&&s<this.maps.wx+this.gg.di.width+256?(i.gf=!0,this.a_hf=!0,i.pt=3e3,this.setYukaPosition(String(i.c4),String(s),String(h))):i.gf=!1;break;case 2400:i.c5<=0?1==this.isRideYuka(String(i.c4))&&(i.c5=100):100==i.c5?(h-=4)<=i.c3-160&&(h=i.c3-160,i.c5=200):200==i.c5?1!=this.isRideYuka(String(i.c4))&&(i.c5=300):(h+=4)>=i.c3&&(h=i.c3,i.c5=0),s+256>this.maps.wx&&s<this.maps.wx+this.gg.di.width+256?(i.gf=!0,this.a_hf=!0,i.pt=3e3,this.setYukaPosition(String(i.c4),String(s),String(h))):i.gf=!1;break;case 2500:1e3!=i.c5&&(i.c5<=0?1==this.isRideYuka(String(i.c4))&&(i.c5=100):100==i.c5?(h+=4)>=i.c3&&(h=i.c3,i.c5=200):200==i.c5?1!=this.isRideYuka(String(i.c4))&&(i.c5=300):(h-=4)<=i.c3-160&&(h=i.c3-160,i.c5=0)),s+256>this.maps.wx&&s<this.maps.wx+this.gg.di.width+256?(i.gf=!0,this.a_hf=!0,i.pt=3e3,this.setYukaPosition(String(i.c4),String(s),String(h))):i.gf=!1;break;case 2600:1==this.isRideYuka(String(i.c4))&&(h+=2)>=this.ochiru_y+80&&(h=this.ochiru_y+80+64),s+256>this.maps.wx&&s<this.maps.wx+this.gg.di.width+256?(i.gf=!0,this.a_hf=!0,i.pt=2700,this.setYukaPosition(String(i.c4),String(s),String(h))):i.gf=!1;break;case 2610:1==this.isRideYuka(String(i.c4))?(h+=3)>=this.ochiru_y+80&&(h=this.ochiru_y+80+64):(h-=3)<=i.c3&&(h=i.c3),s+256>this.maps.wx&&s<this.maps.wx+this.gg.di.width+256?(i.gf=!0,this.a_hf=!0,i.pt=2700,this.setYukaPosition(String(i.c4),String(s),String(h))):i.gf=!1;break;case 2700:h<=i.c3?(i.vy+=4,i.vy>44&&(i.vy=44)):h>=i.c3+106&&(i.vy-=4,i.vy<-44&&(i.vy=-44)),h+=li(i.vy/10),s+256>this.maps.wx&&s<this.maps.wx+this.gg.di.width+256?(i.gf=!0,this.a_hf=!0,i.pt=2700,this.setYukaPosition(String(i.c4),String(s),String(h))):i.gf=!1;break;case 2800:if(s>this.maps.wx-256&&s<this.maps.wx+this.gg.di.width+256&&h>this.maps.wy-256&&h<this.maps.wy+this.gg.di.height+256?(i.gf=!0,this.a_hf=!0,i.pt=3100):i.gf=!1,this.co_j.c>=100&&this.co_j.c<200)if(this.j_rope_cf&&this.j_rope_id==t){var _a=s-(this.co_j.x+16),ra=h-(this.co_j.y+16),na=Math.floor(Math.sqrt(_a*_a+ra*ra));if(na>=12&&na<=244){var ma=s+li(Math.cos(3.141592653589793*i.vy/180)*na,!0,this),ga=h+li(Math.sin(3.141592653589793*i.vy/180)*na,!0,this);(Math.abs(this.co_j.x+16-ma)>=24||Math.abs(this.co_j.y+16-ga)>=24)&&(this.j_rope_cf=!1)}else this.j_rope_cf=!1}else if((140!=this.co_j.c||this.j_rope_id!=t)&&100==this.co_j.c&&!this.co_j.jimen_f){var pa=s-(this.co_j.x+16),ya=h-(this.co_j.y+16),ua=Math.floor(Math.sqrt(pa*pa+ya*ya));if(ua>=12&&ua<=220){var da=s+li(Math.cos(3.141592653589793*i.vy/180)*ua,!0,this),ja=h+li(Math.sin(3.141592653589793*i.vy/180)*ua,!0,this);Math.abs(this.co_j.x+16-da)<20&&Math.abs(this.co_j.y+16-ja)<20&&(this.co_j.c=140,this.co_j.ac=0,this.j_rope_id=t,this.j_rope_cf=!1,this.j_rope_r=Math.floor(Math.sqrt((this.co_j.x+16-s)*(this.co_j.x+16-s)+(this.co_j.y+16-h)*(this.co_j.y+16-h))),this.j_rope_r<48?this.j_rope_r=48:this.j_rope_r>220&&(this.j_rope_r=220),1==i.c3&&(i.c3=0,90==i.vy&&(0==this.co_j.muki?i.vx=22:i.vx=-22)),this.j_zan_f=!1,this.j_jet_c=0)}}1!=i.c3&&(i.vy>156?(i.vx-=2,i.vx<-22&&(i.vx=-22)):i.vy<24&&(i.vx+=2,i.vx>22&&(i.vx=22)),i.vx>0?i.vy+=li((i.vx+5)/10):i.vy+=li((i.vx-5)/10));break;case 2900:s>this.maps.wx-32-32&&s<this.maps.wx+this.gg.di.width+32&&h>this.maps.wy-160&&h<this.maps.wy+this.gg.di.height?(i.gf=!0,this.a_hf=!0,i.pt=3200,this.co_j.c>=100&&this.co_j.c<200&&this.j_v_c<=0&&this.co_j.x+15>=s-4&&this.co_j.x+15<=s+31&&this.co_j.y+15>=h&&this.co_j.y+15<=h+127&&(this.co_j.x=s,this.co_j.y<h&&(this.co_j.y=h),this.co_j.y>h+95&&(this.co_j.y=h+95),this.jShinu(1))):i.gf=!1;break;case 2950:s>this.maps.wx-32-32&&s<this.maps.wx+this.gg.di.width+32&&h>this.maps.wy-160&&h<this.maps.wy+this.gg.di.height?(i.gf=!0,this.a_hf=!0,i.pt=3250,this.co_j.c>=100&&this.co_j.c<200&&this.j_v_c<=0&&this.co_j.x+15>=s&&this.co_j.x+15<=s+31+4&&this.co_j.y+15>=h&&this.co_j.y+15<=h+127&&(this.co_j.x=s,this.co_j.y<h&&(this.co_j.y=h),this.co_j.y>h+95&&(this.co_j.y=h+95),this.jShinu(1))):i.gf=!1;break;case 3e3:s>this.maps.wx-96-32&&s<this.maps.wx+this.gg.di.width&&h>this.maps.wy-64-32&&h<this.maps.wy+this.gg.di.height?(i.gf=!0,this.a_hf=!0,i.pt=3300):i.gf=!1,this.souko_count1++;for(var fa=0;!(fa>this.a_kazu);){if(410==this.co_a[fa].c&&16==this.co_a[fa].c4&&this.co_a[fa].x==s&&this.co_a[fa].y==h){this.souko_count2++,1==i.c3&&(this.co_a[fa].vx=1);break}fa++}break;case 3100:s>this.maps.wx-160&&s<this.maps.wx+this.gg.di.width&&h>this.maps.wy-160&&h<this.maps.wy+this.gg.di.height?(i.gf=!0,this.a_hf=!0,i.pt=3500):i.gf=!1;break;case 3110:s>this.maps.wx-160&&s<this.maps.wx+this.gg.di.width&&h>this.maps.wy-160&&h<this.maps.wy+this.gg.di.height?(i.gf=!0,this.a_hf=!0,i.pt=3510):i.gf=!1;break;case 3120:s>this.maps.wx-160&&s<this.maps.wx+this.gg.di.width&&h>this.maps.wy-160&&h<this.maps.wy+this.gg.di.height?(i.gf=!0,this.a_hf=!0,i.pt=3520,(100==this.co_j.c||130==this.co_j.c)&&this.co_j.x+15>=s&&this.co_j.x+15<=s+127&&this.co_j.y==h-32&&this.co_j.vy>=0&&(this.j_a_id=t)):i.gf=!1;break;case 3130:s>this.maps.wx-160&&s<this.maps.wx+this.gg.di.width&&h>this.maps.wy-160&&h<this.maps.wy+this.gg.di.height?(i.gf=!0,this.a_hf=!0,i.pt=3530):i.gf=!1;break;case 3200:if(s>this.maps.wx-256&&s<this.maps.wx+this.gg.di.width+256&&h>this.maps.wy-256&&h<this.maps.wy+this.gg.di.height+256?(i.gf=!0,this.a_hf=!0,i.pt=3100):i.gf=!1,this.co_j.c>=100&&this.co_j.c<200)if(this.j_rope_cf&&this.j_rope_id==t){var la=s-(this.co_j.x+16),va=h-(this.co_j.y+16),xa=Math.floor(Math.sqrt(la*la+va*va));if(xa>=12&&xa<=244){var ka=s+li(Math.cos(3.141592653589793*i.vy/180)*xa,!0,this),wa=h+li(Math.sin(3.141592653589793*i.vy/180)*xa,!0,this);(Math.abs(this.co_j.x+16-ka)>=24||Math.abs(this.co_j.y+16-wa)>=24)&&(this.j_rope_cf=!1)}else this.j_rope_cf=!1}else if((140!=this.co_j.c||this.j_rope_id!=t)&&100==this.co_j.c&&!this.co_j.jimen_f){var ba=s-(this.co_j.x+16),Sa=h-(this.co_j.y+16),Ma=Math.floor(Math.sqrt(ba*ba+Sa*Sa));if(Ma>=12&&Ma<=220){var Ca=s+li(Math.cos(3.141592653589793*i.vy/180)*Ma,!0,this),Ia=h+li(Math.sin(3.141592653589793*i.vy/180)*Ma,!0,this);Math.abs(this.co_j.x+16-Ca)<20&&Math.abs(this.co_j.y+16-Ia)<20&&(this.co_j.c=140,this.co_j.ac=0,this.j_rope_id=t,this.j_rope_cf=!1,this.j_rope_r=Math.floor(Math.sqrt((this.co_j.x+16-s)*(this.co_j.x+16-s)+(this.co_j.y+16-h)*(this.co_j.y+16-h))),this.j_rope_r<48?this.j_rope_r=48:this.j_rope_r>220&&(this.j_rope_r=220),1==i.c3&&(i.c3=0,90==i.vy&&(0==this.co_j.muki?i.vx=22:i.vx=-22)),this.j_zan_f=!1,this.j_jet_c=0)}}1!=i.c3&&(1==i.c4?i.vy>330?(i.vx-=2,i.vx<-22&&(i.vx=-22)):i.vy<210&&(i.vx+=2,i.vx>22&&(i.vx=22)):i.vy>300?(i.vx-=2,i.vx<-22&&(i.vx=-22)):i.vy<240&&(i.vx+=2,i.vx>22&&(i.vx=22)),i.vx>0?i.vy+=li((i.vx+5)/10):i.vy+=li((i.vx-5)/10));break;case 3300:i.vy+=4,i.vy>64&&(i.vy=64),i.vy<-60?h-=6:h+=li(i.vy/10),this.maps.getBGCode(s,h+i.c5+1)>=20&&(h=32*vi(h+i.c5+1,5)-i.c5-1,i.vy=-92),h-i.c5>=this.ochiru_y&&(h=this.ochiru_y+i.c5+64),s+256>this.maps.wx&&s<this.maps.wx+this.gg.di.width+256?(i.gf=!0,this.a_hf=!0,i.pt=2700,this.setYukaPosition(String(i.c4),String(s),String(h))):i.gf=!1;break;case 3400:s>this.maps.wx-96&&s<this.maps.wx+this.gg.di.width+64&&h>this.maps.wy-96&&h<this.maps.wy+this.gg.di.height+64?(i.gf=!0,this.a_hf=!0,i.pt=3600,this.co_j.c>=100&&this.co_j.c<200&&this.co_j.x+15>=s&&this.co_j.x+15<=s+31&&this.co_j.y+31>=h+4&&this.co_j.y<=h+31-4&&(this.cpoint_con=100,this.cpoint_stage=this.stage,this.cpoint_x=s,this.cpoint_y=h,i.c=0,this.addScore(5),this.gs.rsAddSound(7),i.gf=!1)):i.gf=!1;break;case 3500:if(s>this.maps.wx-96&&s<this.maps.wx+this.gg.di.width+64&&h>this.maps.wy-96&&h<this.maps.wy+this.gg.di.height+64)if(i.gf=!0,this.a_hf=!0,i.pt=3700,0==i.c3){if(this.co_j.c>=100&&this.co_j.c<200&&this.co_j.x>=s-32&&this.co_j.x<=s+32&&this.co_j.y>=h-14&&this.co_j.y<=h+14){i.c3=1,i.pt=3710,this.gs.rsAddSound(23);var Ba=vi(s,5),Ga=vi(h,5);1==i.c4?this.onASwitch(Ba-5,Ga-5,Ba+5,Ga+5):2==i.c4?this.onASwitch(1,10,this.mapWidth,this.mapHeight+10,2):this.onASwitch(Ba-10,Ga-10,Ba+10,Ga+10)}}else if(1==i.c3)this.co_j.c>=100&&this.co_j.c<200&&(this.co_j.x<=s-32-8||this.co_j.x>=s+32+8||this.co_j.y<=h-14-8||this.co_j.y>=h+14+8)&&(i.c3=100),i.pt=3710;else if(100==i.c3){if(i.pt=3710,this.co_j.c>=100&&this.co_j.c<200&&this.co_j.x>=s-32&&this.co_j.x<=s+32&&this.co_j.y>=h-14&&this.co_j.y<=h+14){i.c3=101,i.pt=3700,this.gs.rsAddSound(23);var za=vi(s,5),Aa=vi(h,5);1==i.c4?this.offASwitch(za-5,Aa-5,za+5,Aa+5):2==i.c4?this.offASwitch(1,10,this.mapWidth,this.mapHeight+10,2):this.offASwitch(za-10,Aa-10,za+10,Aa+10)}}else 101==i.c3&&this.co_j.c>=100&&this.co_j.c<200&&(this.co_j.x<=s-32-8||this.co_j.x>=s+32+8||this.co_j.y<=h-14-8||this.co_j.y>=h+14+8)&&(i.c3=0);else i.gf=!1;break;case 3600:if(s>this.maps.wx-96&&s<this.maps.wx+this.gg.di.width+64&&h>this.maps.wy-96&&h<this.maps.wy+this.gg.di.height+64){if(i.gf=!0,this.a_hf=!0,i.pt=3700,0==i.c3){if(this.co_j.c>=100&&this.co_j.c<200&&this.co_j.x>=s-32-8&&this.co_j.x<=s+32+8&&this.co_j.y>=h-12-8&&this.co_j.y<=h+12+8&&1==this.up_key_c){i.c3=100,i.pt=3710,this.gs.rsAddSound(23);var Pa=vi(s,5),Na=vi(h,5);1==i.c4?this.onASwitch(Pa-5,Na-5,Pa+5,Na+5):2==i.c4?this.onASwitch(1,10,this.mapWidth,this.mapHeight+10,2):this.onASwitch(Pa-10,Na-10,Pa+10,Na+10)}}else if(i.pt=3710,this.co_j.c>=100&&this.co_j.c<200&&this.co_j.x>=s-32-8&&this.co_j.x<=s+32+8&&this.co_j.y>=h-12-8&&this.co_j.y<=h+12+8&&1==this.up_key_c){i.c3=0,i.pt=3700,this.gs.rsAddSound(23);var Oa=vi(s,5),Ya=vi(h,5);1==i.c4?this.offASwitch(Oa-5,Ya-5,Oa+5,Ya+5):2==i.c4?this.offASwitch(1,10,this.mapWidth,this.mapHeight+10,2):this.offASwitch(Oa-10,Ya-10,Oa+10,Ya+10)}}else i.gf=!1;break;case 4600:s>this.maps.wx-96&&s<this.maps.wx+this.gg.di.width+64&&h>this.maps.wy-96&&h<this.maps.wy+this.gg.di.height+64?(i.gf=!0,this.a_hf=!0,i.pt=4100,this.co_j.c>=100&&this.co_j.c<200&&this.dkey_count[0]+this.dkey_count[1]<5&&this.co_j.x+15>=s-4&&this.co_j.x+15<=s+31+4&&this.co_j.y+31>=h+4&&this.co_j.y<=h+31-4&&(this.dkey_count[0]++,i.c=0,this.addScore(5),this.gs.rsAddSound(7),i.gf=!1)):i.gf=!1;break;case 4610:s>this.maps.wx-96&&s<this.maps.wx+this.gg.di.width+64&&h>this.maps.wy-96&&h<this.maps.wy+this.gg.di.height+64?(i.gf=!0,this.a_hf=!0,i.pt=4110,this.co_j.c>=100&&this.co_j.c<200&&this.dkey_count[0]+this.dkey_count[1]<5&&this.co_j.x+15>=s-4&&this.co_j.x+15<=s+31+4&&this.co_j.y+31>=h+4&&this.co_j.y<=h+31-4&&(this.dkey_count[1]++,i.c=0,this.addScore(5),this.gs.rsAddSound(7),i.gf=!1)):i.gf=!1;break;case 4700:s>this.maps.wx-96&&s<this.maps.wx+this.gg.di.width+64&&h>this.maps.wy-96&&h<this.maps.wy+this.gg.di.height+64?(i.gf=!0,this.a_hf=!0):i.gf=!1,0==i.c3?i.gf&&this.co_j.c>=100&&this.co_j.c<200&&this.co_j.x>=s-32&&this.co_j.x<=s+32&&this.co_j.y>=h-32&&this.co_j.y<=h+32&&(0==i.c4?this.dkey_count[0]>=1&&(this.dkey_count[0]--,i.c3=100,this.maps.putBGCode(vi(s,5),vi(h,5),31),this.gs.rsAddSound(13)):1==i.c4?this.dkey_count[1]>=1&&(this.dkey_count[1]--,i.c3=100,this.maps.putBGCode(vi(s,5),vi(h,5),31),this.gs.rsAddSound(13)):2==i.c4?this.dkey_count[0]>=3&&(this.dkey_count[0]-=3,i.c3=100,this.maps.putBGCode(vi(s,5),vi(h,5),31),this.gs.rsAddSound(13)):3==i.c4&&this.dkey_count[1]>=3&&(this.dkey_count[1]-=3,i.c3=100,this.maps.putBGCode(vi(s,5),vi(h,5),31),this.gs.rsAddSound(13))):i.c3>=100&&(i.c3++,102==i.c3||106==i.c3?0==i.c4?this.maps.putBGCode(vi(s,5),vi(h,5),213):1==i.c4?this.maps.putBGCode(vi(s,5),vi(h,5),214):2==i.c4?this.maps.putBGCode(vi(s,5),vi(h,5),215):3==i.c4&&this.maps.putBGCode(vi(s,5),vi(h,5),212):104==i.c3?this.maps.putBGCode(vi(s,5),vi(h,5),31):i.c3>=108&&(this.maps.putBGCode(vi(s,5),vi(h,5),0),i.c=0));break;case 4800:s>this.maps.wx-96&&s<this.maps.wx+this.gg.di.width+64&&h>this.maps.wy-96&&h<this.maps.wy+this.gg.di.height+64?(i.gf=!0,this.a_hf=!0,1==i.c4?i.pt=4110:i.pt=4100,this.co_j.c>=100&&this.co_j.c<200&&this.dkey_count[0]+this.dkey_count[1]<5&&this.co_j.x+15>=s-4&&this.co_j.x+15<=s+31+4&&this.co_j.y+31>=h+4&&this.co_j.y<=h+31-4&&(1==i.c4?this.dkey_count[1]++:this.dkey_count[0]++,i.c=0,this.addScore(5),this.gs.rsAddSound(7),i.gf=!1)):i.gf=!1,0==i.c3?i.c3=1:((h+=4)+31)%32<=4&&this.maps.getBGCode(s+15,h+31)>=20?h=32*vi(h+31,5)-32:h>=this.ochiru_y&&(i.c=0,i.gf=!1);break;case 5100:if(s>this.maps.wx-96&&s<this.maps.wx+this.gg.di.width+64&&h>this.maps.wy-96&&h<this.maps.wy+this.gg.di.height+64){if(i.gf=!0,this.a_hf=!0,0==i.c3){if(i.pt=4300,this.attackTail(String(s),String(h),"32","32")>=1){i.c3=100,this.addScore(10),i.pt=0,this.mSet(s,h,65),i.gf=!1;var Ta=vi(s,5),Ra=vi(h,5);1==i.c4?this.onASwitch(Ta-5,Ra-5,Ta+5,Ra+5):this.onASwitch(Ta-10,Ra-10,Ta+10,Ra+10)}}else if(i.c3++,i.c3>108){i.c=0,i.gf=!1;var Ea=vi(s,5),Va=vi(h,5);4==this.maps.map_bg[Ea][Va-1]?this.maps.putBGCode(Ea,Va,4):this.maps.putBGCode(Ea,Va,0)}}else i.gf=!1;break;case 5200:if(i.gf=!1,this.a_hf=!0,i.pt=0,0==i.c3){for(var Wa=vi(s,5),La=vi(h,5),Da=0;Da<=3&&(0==this.maps.map_bg[Wa][La+Da]||4==this.maps.map_bg[Wa][La+Da]);Da++)this.maps.putBGCode(Wa,La+Da,23);i.c3=100}if(100==i.c3){if(1==i.c5){for(var Fa=vi(s,5),Ha=vi(h,5),Ua=0;Ua<=3&&23==this.maps.map_bg[Fa][Ha+Ua];Ua++)this.maps.putBGCode(Fa,Ha+Ua,0);i.c3=200}}else if(0==i.c5){for(var qa=vi(s,5),Ka=vi(h,5),Ja=0;Ja<=3&&(0==this.maps.map_bg[qa][Ka+Ja]||4==this.maps.map_bg[qa][Ka+Ja]);Ja++)this.maps.putBGCode(qa,Ka+Ja,23);i.c3=100}break;case 5210:if(i.gf=!1,this.a_hf=!0,i.pt=0,100==i.c3){if(1==i.c5){for(var Za=vi(s,5),Xa=vi(h,5),$a=0;$a<=3&&(0==this.maps.map_bg[Za][Xa+$a]||4==this.maps.map_bg[Za][Xa+$a]);$a++)this.maps.putBGCode(Za,Xa+$a,23);i.c3=200}}else if(0==i.c5){for(var Qa=vi(s,5),tc=vi(h,5),ic=0;ic<=3&&23==this.maps.map_bg[Qa][tc+ic];ic++)this.maps.putBGCode(Qa,tc+ic,0);i.c3=100}}if(this.jm_kazu>0)for(var sc=0;sc<=8;sc++)if(!(this.co_jm[sc].c<100)){var hc=this.co_jm[sc];if(!(i.c<100))if(i.c<200){if(hc.x+15<s||hc.x>s+64||hc.y+19<h||hc.y+4>h+23)continue;200==hc.c?(hc.c=50,hc.y=h-8,hc.c1=1,hc.c2=20):(hc.c=0,this.jm_kazu--)}else if(300!=i.c)if(400!=i.c&&410!=i.c)if(500!=i.c)if(1800!=i.c)1850!=i.c||Math.sqrt((hc.x+16-s)*(hc.x+16-s))>96||Math.sqrt((hc.y+16-h)*(hc.y+16-h))>96||(200==hc.c?(hc.c=50,hc.c1=1,hc.c2=20):(hc.c=0,this.jm_kazu--));else{if(Math.sqrt((hc.x+16-s)*(hc.x+16-s))>56||Math.sqrt((hc.y+16-h)*(hc.y+16-h))>56)continue;200==hc.c?(hc.c=50,hc.c1=1,hc.c2=20):(hc.c=0,this.jm_kazu--)}else{if(hc.x+15<s||hc.x>s+80||hc.y+29<h||hc.y+2>h+13)continue;200==hc.c?(hc.c=50,hc.y=h-8,hc.c1=1,hc.c2=20):(hc.c=0,this.jm_kazu--)}else{if(hc.x+15<s||hc.x>s+80||hc.y+19<h||hc.y+4>h+63)continue;200==hc.c?(hc.c=50,hc.c1=1,hc.c2=20):(hc.c=0,this.jm_kazu--)}else{if(hc.x+15<s||hc.x>s+48||hc.y+29<h||hc.y+2>h+31)continue;200==hc.c?(hc.c=50,hc.c1=1,hc.c2=20):(hc.c=0,this.jm_kazu--)}}i.x=s,i.y=h}}this.souko_count1>=1&&this.souko_count2>=this.souko_count1&&this.stage_cc<1&&(this.stage_cc=1,this.souko_count3=1,this.stage_max>=2&&this.stage>=this.stage_max?this.addScore(1e3):this.addScore(100),this.gs.rsAddSound(2))}},{key:"aMoveOption",value:function(t){var i=this.co_a[t],s=i.x,h=i.y;switch(i.c){default:break;case 150:s>this.maps.wx-80-32&&s<this.maps.wx+this.gg.di.width+32&&h>this.maps.wy-32&&h<this.maps.wy+this.gg.di.height+32?(i.gf=!0,this.a_hf=!0,(this.co_j.c>=100||this.co_j.c<200)&&this.co_j.x+15>=s&&this.co_j.x+15<=s+79&&this.co_j.y==h-32&&(this.j_a_id=t)):i.gf=!1,1==i.c4?0==i.c3?1==i.c5&&(i.c3=100):100==i.c3?(h+=4)>=i.vy+128+8&&(h=i.vy+128+8,i.c3=200):200==i.c3?0==i.c5&&(i.c3=300):300==i.c3&&(h-=4)<=i.vy+8&&(h=i.vy+8,i.c3=0):2==i.c4?0==i.c3?1==i.c5&&(i.c3=100):100==i.c3?(h-=2)<=i.vy-192+8&&(h=i.vy-192+8,i.c3=200):200==i.c3?0==i.c5&&(i.c3=300):300==i.c3&&(h+=2)>=i.vy+8&&(h=i.vy+8,i.c3=0):0==i.c3?1==i.c5&&(i.c3=100):100==i.c3?(h-=4)<=i.vy-128+8&&(h=i.vy-128+8,i.c3=200):200==i.c3?0==i.c5&&(i.c3=300):300==i.c3&&(h+=4)>=i.vy+8&&(h=i.vy+8,i.c3=0),this.co_j.c>=100&&this.co_j.c<200&&(this.j_a_id==t&&(this.co_j.y=h-32),h<i.y&&this.maps.getBGCode(this.co_j.x+15,this.co_j.y)>=18&&(this.co_j.y=32*vi(this.co_j.y,5)+16,this.jShinu(3)),this.co_j.x+15>=s&&this.co_j.x<=s+64&&this.co_j.y+31>=h&&this.co_j.y<=h+13&&(h>i.y?(this.co_j.y=h+14,10!=this.maps.getBGCode(this.co_j.x+15,this.co_j.y+15)&&10!=this.maps.getBGCode(this.co_j.x+15,this.co_j.y+31)||(this.j_hashigo_f=!0),this.maps.getBGCode(this.co_j.x+15,this.co_j.y+31)>=18&&(this.co_j.y=32*vi(this.co_j.y+31,5)-32,this.jShinu(3))):(this.co_j.y=h-32,this.j_a_id=t)));break;case 160:if(s>this.maps.wx-80-32&&s<this.maps.wx+this.gg.di.width+32&&h>this.maps.wy-32&&h<this.maps.wy+this.gg.di.height+32?(i.gf=!0,this.a_hf=!0,(this.co_j.c>=100||this.co_j.c<200)&&this.co_j.x+15>=s&&this.co_j.x+15<=s+79&&this.co_j.y==h-32&&(this.j_a_id=t)):i.gf=!1,0==i.c4?0==i.c3?1==i.c5&&(i.c3=100):100==i.c3?(s+=4)>=i.vx+128+8&&(s=i.vx+128+8,i.c3=200):200==i.c3?0==i.c5&&(i.c3=300):300==i.c3&&(s-=4)<=i.vx+8&&(s=i.vx+8,i.c3=0):2==i.c4?0==i.c3?1==i.c5&&(i.c3=100):100==i.c3?(s+=2)>=i.vx+192+8&&(s=i.vx+192+8,i.c3=200):200==i.c3?0==i.c5&&(i.c3=300):300==i.c3&&(s-=2)<=i.vx+8&&(s=i.vx+8,i.c3=0):0==i.c3?1==i.c5&&(i.c3=100):100==i.c3?(s-=4)<=i.vx-128+8&&(s=i.vx-128+8,i.c3=200):200==i.c3?0==i.c5&&(i.c3=300):300==i.c3&&(s+=4)>=i.vx+8&&(s=i.vx+8,i.c3=0),this.co_j.c<100||this.co_j.c>=200)break;if(this.j_a_id==t)if(this.co_j.x+=s-i.x,s>i.x){var e=vi(this.co_j.x+15,5),a=vi(this.co_j.y,5),c=vi(this.co_j.y+31,5);(this.maps.map_bg[e][a]>=18||this.maps.map_bg[e][c]>=18)&&(this.co_j.x=32*e-16)}else if(s<i.x){var o=vi(this.co_j.x+15,5),_=vi(this.co_j.y,5),r=vi(this.co_j.y+31,5);(this.maps.map_bg[o][_]>=18||this.maps.map_bg[o][r]>=18)&&(this.co_j.x=32*o+32-14)}if(this.co_j.x+15<s||this.co_j.x>s+64||this.co_j.y+31<h||this.co_j.y>h+13)break;if(s>i.x){this.co_j.x=s+65;var n=vi(this.co_j.x+15,5),m=vi(this.co_j.y,5),g=vi(this.co_j.y+31,5);(this.maps.map_bg[n][m]>=20||this.maps.map_bg[n][g]>=20)&&(this.co_j.x=32*n-32+11,this.jShinu(4));break}this.co_j.x=s-16;var p=vi(this.co_j.x+15,5),y=vi(this.co_j.y,5),u=vi(this.co_j.y+31,5);(this.maps.map_bg[p][y]>=20||this.maps.map_bg[p][u]>=20)&&(this.co_j.x=32*p+32-11,this.jShinu(4));break;case 3700:if(i.gf=!1,this.a_hf=!0,i.pt=0,0==i.c3&&(this.maps.putBGCode(vi(s,5),vi(h,5),213),i.c3=100),100==i.c3){1==i.c5&&(this.maps.putBGCode(vi(s,5),vi(h,5),0),i.c3=200);break}0==i.c5&&(this.maps.putBGCode(vi(s,5),vi(h,5),213),i.c3=100);break;case 3710:if(i.gf=!1,this.a_hf=!0,i.pt=0,100==i.c3){1==i.c5&&(this.maps.putBGCode(vi(s,5),vi(h,5),214),i.c3=200);break}0==i.c5&&(this.maps.putBGCode(vi(s,5),vi(h,5),0),i.c3=100);break;case 3800:if(i.gf=!1,this.a_hf=!0,i.pt=0,0==i.c3){for(var d=vi(s,5),j=vi(h,5),f=0;f<=3&&d+f<=this.mapWidth&&(0==this.maps.map_bg[d+f][j]||4==this.maps.map_bg[d+f][j]);f++)this.maps.putBGCode(d+f,j,5);i.c3=100}if(100==i.c3){if(1!=i.c5)break;for(var l=vi(s,5),v=vi(h,5),x=0;x<=3&&l+x<=this.mapWidth&&(0==this.maps.map_bg[l+x][v]||4==this.maps.map_bg[l+x][v]||5==this.maps.map_bg[l+x][v]);x++)this.maps.putBGCode(l+x,v,23);i.c3=200;break}if(0!=i.c5)break;for(var k=vi(s,5),w=vi(h,5),b=0;b<=3&&k+b<=this.mapWidth&&(0==this.maps.map_bg[k+b][w]||4==this.maps.map_bg[k+b][w]||23==this.maps.map_bg[k+b][w]);b++)this.maps.putBGCode(k+b,w,5);i.c3=100;break;case 3810:if(i.gf=!1,this.a_hf=!0,i.pt=0,0==i.c3){for(var S=vi(s,5),M=vi(h,5),C=0;C<=3&&S+C<=this.mapWidth&&(0==this.maps.map_bg[S+C][M]||4==this.maps.map_bg[S+C][M]);C++)this.maps.putBGCode(S+C,M,23);i.c3=100}if(100==i.c3){if(1!=i.c5)break;for(var I=vi(s,5),B=vi(h,5),G=0;G<=3&&I+G<=this.mapWidth&&(0==this.maps.map_bg[I+G][B]||4==this.maps.map_bg[I+G][B]||23==this.maps.map_bg[I+G][B]);G++)this.maps.putBGCode(I+G,B,5);i.c3=200;break}if(0!=i.c5)break;for(var z=vi(s,5),A=vi(h,5),P=0;P<=3&&z+P<=this.mapWidth&&(0==this.maps.map_bg[z+P][A]||4==this.maps.map_bg[z+P][A]||5==this.maps.map_bg[z+P][A]);P++)this.maps.putBGCode(z+P,A,23);i.c3=100;break;case 3900:if(i.gf=!1,this.a_hf=!0,i.pt=0,0==i.c3){for(var N=vi(s,5),O=vi(h,5),Y=0;Y<=3&&N+Y<=this.mapWidth&&(0==this.maps.map_bg[N+Y][O]||4==this.maps.map_bg[N+Y][O]);Y++)this.maps.putBGCode(N+Y,O,6);i.c3=100}if(100==i.c3){if(1!=i.c5)break;for(var T=vi(s,5),R=vi(h,5),E=0;E<=3&&T+E<=this.mapWidth&&6==this.maps.map_bg[T+E][R];E++)this.maps.putBGCode(T+E,R,0);i.c3=200;break}if(0!=i.c5)break;for(var V=vi(s,5),W=vi(h,5),L=0;L<=3&&V+L<=this.mapWidth&&(0==this.maps.map_bg[V+L][W]||4==this.maps.map_bg[V+L][W]);L++)this.maps.putBGCode(V+L,W,6);i.c3=100;break;case 3910:if(i.gf=!1,this.a_hf=!0,i.pt=0,100==i.c3){if(1!=i.c5)break;for(var D=vi(s,5),F=vi(h,5),H=0;H<=3&&D+H<=this.mapWidth&&(0==this.maps.map_bg[D+H][F]||4==this.maps.map_bg[D+H][F]);H++)this.maps.putBGCode(D+H,F,6);i.c3=200;break}if(0!=i.c5)break;for(var U=vi(s,5),q=vi(h,5),K=0;K<=3&&U+K<=this.mapWidth&&6==this.maps.map_bg[U+K][q];K++)this.maps.putBGCode(U+K,q,0);i.c3=100;break;case 4e3:if(i.gf=!1,this.a_hf=!0,i.pt=0,0==i.c3){for(var J=vi(s,5),Z=vi(h,5),X=0;X<=9&&Z+X<=this.mapHeight+9&&(0==this.maps.map_bg[J][Z+X]||4==this.maps.map_bg[J][Z+X]);X++)this.maps.putBGCode(J,Z+X,10),this.map_data_option[J][Z+X]=!0;i.c3=100}if(100==i.c3){if(1!=i.c5)break;for(var $=vi(s,5),Q=vi(h,5),tt=0;tt<=9&&Q+tt<=this.mapHeight+9&&10==this.maps.map_bg[$][Q+tt];tt++)this.maps.putBGCode($,Q+tt,0),this.map_data_option[$][Q+tt]=!1;i.c3=200;break}if(0!=i.c5)break;for(var it=vi(s,5),st=vi(h,5),ht=0;ht<=9&&st+ht<=this.mapHeight+9&&(0==this.maps.map_bg[it][st+ht]||4==this.maps.map_bg[it][st+ht]);ht++)this.maps.putBGCode(it,st+ht,10),this.map_data_option[it][st+ht]=!0;i.c3=100;break;case 4010:if(i.gf=!1,this.a_hf=!0,i.pt=0,100==i.c3){if(1!=i.c5)break;for(var et=vi(s,5),at=vi(h,5),ct=0;ct<=9&&at+ct<=this.mapHeight+9&&(0==this.maps.map_bg[et][at+ct]||4==this.maps.map_bg[et][at+ct]);ct++)this.maps.putBGCode(et,at+ct,10),this.map_data_option[et][at+ct]=!0;i.c3=200;break}if(0!=i.c5)break;for(var ot=vi(s,5),_t=vi(h,5),rt=0;rt<=9&&_t+rt<=this.mapHeight+9&&10==this.maps.map_bg[ot][_t+rt];rt++)this.maps.putBGCode(ot,_t+rt,0),this.map_data_option[ot][_t+rt]=!1;i.c3=100;break;case 4100:if(s>this.maps.wx-64&&s<this.maps.wx+this.gg.di.width+32&&h>this.maps.wy-128&&h<this.maps.wy+this.gg.di.height+32+128?(i.gf=!0,this.a_hf=!0):i.gf=!1,0==i.c3&&(i.c3=100),100==i.c3){i.pt=3800,this.co_j.c>=100&&this.co_j.c<200&&this.co_j.x+15>=s&&this.co_j.x+15<=s+31&&this.co_j.y+31>=h&&this.co_j.y<=h+127&&this.j_muteki_c<=0&&(this.setMyHPDamage("1"),this.getMyHP()<=0&&this.jShinu(1)),1==i.c5&&(i.pt=0,i.c3=200);break}i.pt=0,0==i.c5&&(i.pt=3800,i.c3=100);break;case 4110:if(s>this.maps.wx-64&&s<this.maps.wx+this.gg.di.width+32&&h>this.maps.wy-128&&h<this.maps.wy+this.gg.di.height+32+128?(i.gf=!0,this.a_hf=!0):i.gf=!1,0==i.c3&&(i.c3=100),100==i.c3){i.pt=0,1==i.c5&&(i.pt=3800,i.c3=200);break}i.pt=3800,this.co_j.c>=100&&this.co_j.c<200&&this.co_j.x+15>=s&&this.co_j.x+15<=s+31&&this.co_j.y+31>=h&&this.co_j.y<=h+127&&this.j_muteki_c<=0&&(this.setMyHPDamage("1"),this.getMyHP()<=0&&this.jShinu(1)),0==i.c5&&(i.pt=0,i.c3=100);break;case 4200:if(s>this.maps.wx-128&&s<this.maps.wx+this.gg.di.width+32&&h>this.maps.wy-64&&h<this.maps.wy+this.gg.di.height+32+128?(i.gf=!0,this.a_hf=!0):i.gf=!1,0==i.c3&&(i.c3=100),100==i.c3){i.pt=3900,this.co_j.c>=100&&this.co_j.c<200&&this.co_j.x+15>=s&&this.co_j.x+15<=s+127&&this.co_j.y+31>=h&&this.co_j.y<=h+31&&this.j_muteki_c<=0&&(this.setMyHPDamage("1"),this.getMyHP()<=0&&this.jShinu(1)),1==i.c5&&(i.pt=0,i.c3=200);break}i.pt=0,0==i.c5&&(i.pt=3900,i.c3=100);break;case 4210:if(s>this.maps.wx-128&&s<this.maps.wx+this.gg.di.width+32&&h>this.maps.wy-64&&h<this.maps.wy+this.gg.di.height+32+128?(i.gf=!0,this.a_hf=!0):i.gf=!1,0==i.c3&&(i.c3=100),100==i.c3){i.pt=0,1==i.c5&&(i.pt=3900,i.c3=200);break}i.pt=3900,this.co_j.c>=100&&this.co_j.c<200&&this.co_j.x+15>=s&&this.co_j.x+15<=s+127&&this.co_j.y+31>=h&&this.co_j.y<=h+31&&this.j_muteki_c<=0&&(this.setMyHPDamage("1"),this.getMyHP()<=0&&this.jShinu(1)),0==i.c5&&(i.pt=0,i.c3=100);break;case 4300:if(0==i.vy?1==i.c5&&(i.vy=1):1==i.vy?0==i.c4?(i.c3-=2,i.c3<=180&&(i.c3=180,i.vy=100)):1==i.c4?(i.c3+=2,i.c3>=360&&(i.c3=360,i.vy=100)):2==i.c4?(i.c3+=2,i.c3>=270&&(i.c3=270,i.vy=100)):3==i.c4?(i.c3-=2,i.c3<=270&&(i.c3=270,i.vy=100)):4==i.c4?(i.c3-=2,i.c3<=90&&(i.c3=90,i.vy=100)):5==i.c4?(i.c3+=2,i.c3>=90&&(i.c3=90,i.vy=100)):6==i.c4?(i.c3+=2,i.c3>=180&&(i.c3=180,i.vy=100)):7==i.c4?(i.c3-=2,i.c3<=0&&(i.c3=0,i.vy=100)):10==i.c4?(i.c3-=2,i.c3<=180&&(i.c3=180,i.vy=100)):11==i.c4?(i.c3+=2,i.c3>=360&&(i.c3=360,i.vy=100)):12==i.c4?(i.c3+=2,i.c3>=180&&(i.c3=180,i.vy=100)):13==i.c4?(i.c3-=2,i.c3<=0&&(i.c3=0,i.vy=100)):14==i.c4?(i.c3-=2,i.c3<=90&&(i.c3=90,i.vy=100)):15==i.c4?(i.c3+=2,i.c3>=360&&(i.c3-=360),90==i.c3&&(i.vy=100)):16==i.c4?(i.c3+=2,i.c3>=270&&(i.c3=270,i.vy=100)):17==i.c4&&(i.c3-=2,i.c3<0&&(i.c3+=360),270==i.c3&&(i.vy=100)):100==i.vy?0==i.c5&&(i.vy=101):101==i.vy&&(0==i.c4?(i.c3+=2,i.c3>=270&&(i.c3=270,i.vy=0)):1==i.c4?(i.c3-=2,i.c3<=270&&(i.c3=270,i.vy=0)):2==i.c4?(i.c3-=2,i.c3<=180&&(i.c3=180,i.vy=0)):3==i.c4?(i.c3+=2,i.c3>=360&&(i.c3=360,i.vy=0)):4==i.c4?(i.c3+=2,i.c3>=180&&(i.c3=180,i.vy=0)):5==i.c4?(i.c3-=2,i.c3<=0&&(i.c3=0,i.vy=0)):6==i.c4?(i.c3-=2,i.c3<=90&&(i.c3=90,i.vy=0)):7==i.c4?(i.c3+=2,i.c3>=90&&(i.c3=90,i.vy=0)):10==i.c4?(i.c3+=2,i.c3>=360&&(i.c3=360,i.vy=0)):11==i.c4?(i.c3-=2,i.c3<=180&&(i.c3=180,i.vy=0)):12==i.c4?(i.c3-=2,i.c3<=0&&(i.c3=0,i.vy=0)):13==i.c4?(i.c3+=2,i.c3>=180&&(i.c3=180,i.vy=0)):14==i.c4?(i.c3+=2,i.c3>=270&&(i.c3=270,i.vy=0)):15==i.c4?(i.c3-=2,i.c3<0&&(i.c3+=360),270==i.c3&&(i.vy=0)):16==i.c4?(i.c3-=2,i.c3<=90&&(i.c3=90,i.vy=0)):17==i.c4&&(i.c3+=2,i.c3>=360&&(i.c3-=360),90==i.c3&&(i.vy=0))),s>this.maps.wx-150&&s<this.maps.wx+this.gg.di.width+150&&h>this.maps.wy-150&&h<this.maps.wy+this.gg.di.height+150){var nt,mt,gt,pt;if(i.gf=!0,this.a_hf=!0,i.pt=1100,2==Math.abs(i.vx)){var yt=.017453292519943295;nt=s+li(25*Math.cos(i.c3*yt),!0,this),mt=h+li(25*Math.sin(i.c3*yt),!0,this),this.vo_x[t][0]=nt,this.vo_y[t][0]=mt,gt=s+li(172*Math.cos(i.c3*yt),!0,this),pt=h+li(172*Math.sin(i.c3*yt),!0,this),this.vo_x[t][1]=gt,this.vo_y[t][1]=pt,this.vo_x[t][2]=s+31*Math.cos(i.c3*yt),this.vo_y[t][2]=h+31*Math.sin(i.c3*yt),this.vo_x[t][3]=s+166*Math.cos(i.c3*yt),this.vo_y[t][3]=h+166*Math.sin(i.c3*yt)}else{var ut=.017453292519943295;nt=s+li(25*Math.cos(i.c3*ut),!0,this),mt=h+li(25*Math.sin(i.c3*ut),!0,this),this.vo_x[t][0]=nt,this.vo_y[t][0]=mt,gt=s+li(140*Math.cos(i.c3*ut),!0,this),pt=h+li(140*Math.sin(i.c3*ut),!0,this),this.vo_x[t][1]=gt,this.vo_y[t][1]=pt,this.vo_x[t][2]=s+31*Math.cos(i.c3*ut),this.vo_y[t][2]=h+31*Math.sin(i.c3*ut),this.vo_x[t][3]=s+134*Math.cos(i.c3*ut),this.vo_y[t][3]=h+134*Math.sin(i.c3*ut)}if(this.co_j.c<100||this.co_j.c>=200||this.j_v_c>0)break;if(Math.abs(nt-gt)>=Math.abs(mt-pt)){if(this.co_j.x+15>nt&&this.co_j.x+15<gt){var dt=gt-nt,jt=li((this.co_j.x+15-nt)*(pt-mt)/dt)+mt;jt>this.co_j.y-12&&jt<this.co_j.y+44&&this.jShinu(1);break}if(this.co_j.x+15<=gt||this.co_j.x+15>=nt)break;var ft=nt-gt,lt=li((this.co_j.x+15-gt)*(mt-pt)/ft)+pt;lt>this.co_j.y-12&&lt<this.co_j.y+44&&this.jShinu(1);break}if(this.co_j.y+15>mt&&this.co_j.y+15<pt){var vt=pt-mt,xt=li((this.co_j.y+15-mt)*(gt-nt)/vt)+nt;xt>this.co_j.x-12&&xt<this.co_j.x+44&&this.jShinu(1);break}if(this.co_j.y+15<=pt||this.co_j.y+15>=mt)break;var kt=mt-pt,wt=li((this.co_j.y+15-pt)*(nt-gt)/kt)+gt;wt>this.co_j.x-12&&wt<this.co_j.x+44&&this.jShinu(1)}else i.gf=!1;break;case 4400:if(i.gf=!1,this.a_hf=!0,i.pt=0,0==i.c3){for(var bt=vi(s,5),St=vi(h,5),Mt=0;Mt<=3&&bt+Mt<=this.mapWidth&&(0==this.maps.map_bg[bt+Mt][St]||4==this.maps.map_bg[bt+Mt][St]);Mt++)this.maps.putBGCode(bt+Mt,St,23);i.c3=100}if(100==i.c3){if(1!=i.c5)break;for(var Ct=vi(s,5),It=vi(h,5),Bt=0;Bt<=3&&Ct+Bt<=this.mapWidth&&23==this.maps.map_bg[Ct+Bt][It];Bt++)this.maps.putBGCode(Ct+Bt,It,0);i.c3=200;break}if(0!=i.c5)break;for(var Gt=vi(s,5),zt=vi(h,5),At=0;At<=3&&Gt+At<=this.mapWidth&&(0==this.maps.map_bg[Gt+At][zt]||4==this.maps.map_bg[Gt+At][zt]);At++)this.maps.putBGCode(Gt+At,zt,23);i.c3=100;break;case 4410:if(i.gf=!1,this.a_hf=!0,i.pt=0,100==i.c3){if(1!=i.c5)break;for(var Pt=vi(s,5),Nt=vi(h,5),Ot=0;Ot<=3&&Pt+Ot<=this.mapWidth&&(0==this.maps.map_bg[Pt+Ot][Nt]||4==this.maps.map_bg[Pt+Ot][Nt]);Ot++)this.maps.putBGCode(Pt+Ot,Nt,23);i.c3=200;break}if(0!=i.c5)break;for(var Yt=vi(s,5),Tt=vi(h,5),Rt=0;Rt<=3&&Yt+Rt<=this.mapWidth&&23==this.maps.map_bg[Yt+Rt][Tt];Rt++)this.maps.putBGCode(Yt+Rt,Tt,0);i.c3=100;break;case 4500:s>this.maps.wx-230&&s<this.maps.wx+this.gg.di.width+230&&h>this.maps.wy-230&&h<this.maps.wy+this.gg.di.height+230?(i.gf=!0,this.a_hf=!0,i.pt=4e3):i.gf=!1,0==i.vx||2==i.vx?0==i.c3?1==i.c5&&(i.c3=100):100==i.c3?(i.vy--,2==i.vx&&i.vy--,i.vy<=218&&(i.vy=218,i.c3=200)):200==i.c3?0==i.c5&&(i.c3=300):300==i.c3&&(i.vy++,2==i.vx&&i.vy++,i.vy>=322&&(i.vy=322,i.c3=0)):1==i.vx||3==i.vx?0==i.c3?1==i.c5&&(i.c3=100):100==i.c3?(i.vy++,3==i.vx&&i.vy++,i.vy>=322&&(i.vy=322,i.c3=200)):200==i.c3?0==i.c5&&(i.c3=300):300==i.c3&&(i.vy--,3==i.vx&&i.vy--,i.vy<=218&&(i.vy=218,i.c3=0)):10==i.vx?0==i.c3?1==i.c5&&(i.c3=100):100==i.c3?(i.vy++,i.vy>=270&&(i.vy=270,i.c3=200)):200==i.c3?0==i.c5&&(i.c3=300):300==i.c3&&(i.vy--,i.vy<=218&&(i.vy=218,i.c3=0)):11==i.vx?0==i.c3?1==i.c5&&(i.c3=100):100==i.c3?(i.vy--,i.vy<=218&&(i.vy=218,i.c3=200)):200==i.c3?0==i.c5&&(i.c3=300):300==i.c3&&(i.vy++,i.vy>=270&&(i.vy=270,i.c3=0)):12==i.vx?0==i.c3?1==i.c5&&(i.c3=100):100==i.c3?(i.vy--,i.vy<=270&&(i.vy=270,i.c3=200)):200==i.c3?0==i.c5&&(i.c3=300):300==i.c3&&(i.vy++,i.vy>=322&&(i.vy=322,i.c3=0)):13==i.vx&&(0==i.c3?1==i.c5&&(i.c3=100):100==i.c3?(i.vy++,i.vy>=322&&(i.vy=322,i.c3=200)):200==i.c3?0==i.c5&&(i.c3=300):300==i.c3&&(i.vy--,i.vy<=270&&(i.vy=270,i.c3=0)));var Et=s+li(224*Math.cos(3.141592653589793*(i.vy+17)/180),!0,this),Vt=h+li(224*Math.sin(3.141592653589793*(i.vy+17)/180),!0,this),Wt=s+li(224*Math.cos(3.141592653589793*(i.vy-17)/180),!0,this),Lt=h+li(224*Math.sin(3.141592653589793*(i.vy-17)/180),!0,this);Et+=li(12*Math.cos(3.141592653589793*i.vy/180),!0,this),Vt+=li(12*Math.sin(3.141592653589793*i.vy/180),!0,this),Wt+=li(12*Math.cos(3.141592653589793*i.vy/180),!0,this),Lt+=li(12*Math.sin(3.141592653589793*i.vy/180),!0,this),this.setYukaPosition(String(i.c4),String(Wt),String(Lt),String(Et),String(Vt));break;case 4900:if(s>this.maps.wx-32&&s<this.maps.wx+this.gg.di.width&&h>this.maps.wy-32&&h<this.maps.wy+this.gg.di.height){if(i.gf=!0,this.a_hf=!0,50==this.km.mode){(this.co_j.x<s-80-8||this.co_j.x>s+64+8)&&(this.km.mode=100);break}if(100==this.km.mode){if(this.co_j.x<s-80||this.co_j.x>s+64||Math.abs(h-this.co_j.y)>=8||this.gk.tr1_f)break;0==i.c3?(this.km.init1(3),this.km.setMessage(3,this.tdb.getValue("serifu_key1_on_name")),this.addSerifu2(3,"serifu_key1_on-",3),this.km.activeSerifu(3,li(.625*this.gg.di.width-112)-40,li(.2875*this.gg.di.height-36)-16,272,this.gamecolor_message_name),this.km.mode=200):(this.km.init1(3),this.km.setMessage(3,this.tdb.getValue("serifu_key1_on_name")),this.addSerifu2(3,"serifu_key1_on-",8,10),this.km.activeSerifu(3,li(.625*this.gg.di.width-112)-40,li(.2875*this.gg.di.height-36)-16,252,this.gamecolor_message_name),this.km.mode=250),this.km.move();break}if(200==this.km.mode){if(1==this.km.cancel_c){this.km.off(3),this.km.mode=50;break}if(this.co_j.x<s-80-8||this.co_j.x>s+64+8||Math.abs(h-this.co_j.y)>16){this.km.off(3),this.km.mode=50;break}if(1!=this.km.kettei_c)break;this.co_j.c=150,this.co_j.x<=s||this.maps.getBGCode(s+48,h)>=18?this.maps.getBGCode(s-16,h)>=18?(this.co_j.x=s-15,this.co_j.muki=1):(this.co_j.x=s-48,this.co_j.muki=1):(this.co_j.x=s+48,this.co_j.muki=0),this.co_j.y=h,this.co_j.vx=0,this.co_j.vy=0,this.co_j.pt=100,this.setmyw_pt=this.co_j.pt,this.setmyw_muki=this.co_j.muki,this.co_j.c1=10,this.km.init1(7),this.km.setMessage(7,this.tdb.getValue("serifu_key1_on-4")),this.km.addItem(7,this.tdb.getValue("serifu_key1_on-5")),this.km.addItem(7,this.tdb.getValue("serifu_key1_on-6")),this.km.active(7,li(.625*this.gg.di.width-112)-40+100,li(.2875*this.gg.di.height-36)-16+46,228),this.km.mode=220;break}if(220==this.km.mode){if(this.co_j.c1=10,1==this.km.cancel_c){this.km.offActivewindow(7,3),this.km.mode=200;break}if(1!=this.km.kettei_c)break;if(0==this.km.selectedIndex[7]){var Dt=this.tdb.getValueInt("key1_on_count");if(Dt<1?Dt=1:Dt>5&&(Dt=5),this.dkey_count[0]>=Dt){this.km.init1(8),this.km.setMessage(8,this.tdb.getValue("serifu_key1_on_name")),this.addSerifu2(8,"serifu_key1_on-",8,10),this.km.activeSerifu(8,li(.625*this.gg.di.width-112)-40-160,li(.2875*this.gg.di.height-36)-16+46,252,this.gamecolor_message_name),this.dkey_count[0]-=Dt,this.gs.rsAddSound(13);var Ft=vi(s,5),Ht=vi(h,5);this.onASwitch(Ft-10,Ht-10,Ft+10,Ht+10),this.km.mode=230,i.c3=1}else this.km.init1(8),this.km.addItem(8,this.tdb.getValue("serifu_key1_on-7")),this.km.activeIchigyou(8,li(.625*this.gg.di.width-112)-40-128,li(.2875*this.gg.di.height-36)-16+96,216),this.km.mode=230}else this.km.off(3),this.km.off(7),this.km.off(8),this.km.mode=50;break}if(230==this.km.mode){(this.co_j.x<s-80-8||this.co_j.x>s+64+8||1==this.km.kettei_c||1==this.km.cancel_c)&&(this.km.off(3),this.km.off(7),this.km.off(8),this.km.mode=50);break}250==this.km.mode&&(this.co_j.x<s-80-8||this.co_j.x>s+64+8||1==this.km.cancel_c||1==this.km.kettei_c)&&(this.km.off(3),this.km.mode=50)}else i.gf=!1;break;case 4910:if(s>this.maps.wx-32&&s<this.maps.wx+this.gg.di.width&&h>this.maps.wy-32&&h<this.maps.wy+this.gg.di.height){if(i.gf=!0,this.a_hf=!0,50==this.km.mode){(this.co_j.x<s-80-8||this.co_j.x>s+64+8)&&(this.km.mode=100);break}if(100==this.km.mode){if(this.co_j.x<s-80||this.co_j.x>s+64||Math.abs(h-this.co_j.y)>=8||this.gk.tr1_f)break;0==i.c3?(this.km.init1(3),this.km.setMessage(3,this.tdb.getValue("serifu_key2_on_name")),this.addSerifu2(3,"serifu_key2_on-",3),this.km.activeSerifu(3,li(.625*this.gg.di.width-112)-40,li(.2875*this.gg.di.height-36)-16,272,this.gamecolor_message_name),this.km.mode=200):(this.km.init1(3),this.km.setMessage(3,this.tdb.getValue("serifu_key2_on_name")),this.addSerifu2(3,"serifu_key2_on-",8,10),this.km.activeSerifu(3,li(.625*this.gg.di.width-112)-40,li(.2875*this.gg.di.height-36)-16,252,this.gamecolor_message_name),this.km.mode=250),this.km.move();break}if(200==this.km.mode){if(1==this.km.cancel_c){this.km.off(3),this.km.mode=50;break}if(this.co_j.x<s-80-8||this.co_j.x>s+64+8||Math.abs(h-this.co_j.y)>16){this.km.off(3),this.km.mode=50;break}if(1!=this.km.kettei_c)break;this.co_j.c=150,this.co_j.x<=s||this.maps.getBGCode(s+48,h)>=18?this.maps.getBGCode(s-16,h)>=18?(this.co_j.x=s-15,this.co_j.muki=1):(this.co_j.x=s-48,this.co_j.muki=1):(this.co_j.x=s+48,this.co_j.muki=0),this.co_j.y=h,this.co_j.vx=0,this.co_j.vy=0,this.co_j.pt=100,this.setmyw_pt=this.co_j.pt,this.setmyw_muki=this.co_j.muki,this.co_j.c1=10,this.km.init1(7),this.km.setMessage(7,this.tdb.getValue("serifu_key2_on-4")),this.km.addItem(7,this.tdb.getValue("serifu_key2_on-5")),this.km.addItem(7,this.tdb.getValue("serifu_key2_on-6")),this.km.active(7,li(.625*this.gg.di.width-112)-40+100,li(.2875*this.gg.di.height-36)-16+46,228),this.km.mode=220;break}if(220==this.km.mode){if(this.co_j.c1=10,1==this.km.cancel_c){this.km.offActivewindow(7,3),this.km.mode=200;break}if(1!=this.km.kettei_c)break;if(0==this.km.selectedIndex[7]){var Ut=this.tdb.getValueInt("key2_on_count");if(Ut<1?Ut=1:Ut>5&&(Ut=5),this.dkey_count[1]>=Ut){this.km.init1(8),this.km.setMessage(8,this.tdb.getValue("serifu_key2_on_name")),this.addSerifu2(8,"serifu_key2_on-",8,10),this.km.activeSerifu(8,li(.625*this.gg.di.width-112)-40-160,li(.2875*this.gg.di.height-36)-16+46,252,this.gamecolor_message_name),this.dkey_count[1]-=Ut,this.gs.rsAddSound(13);var qt=vi(s,5),Kt=vi(h,5);this.onASwitch(qt-10,Kt-10,qt+10,Kt+10),this.km.mode=230,i.c3=1}else this.km.init1(8),this.km.addItem(8,this.tdb.getValue("serifu_key2_on-7")),this.km.activeIchigyou(8,li(.625*this.gg.di.width-112)-40-128,li(.2875*this.gg.di.height-36)-16+96,216),this.km.mode=230}else this.km.off(3),this.km.off(7),this.km.off(8),this.km.mode=50;break}if(230==this.km.mode){(this.co_j.x<s-80-8||this.co_j.x>s+64+8||1==this.km.kettei_c||1==this.km.cancel_c)&&(this.km.off(3),this.km.off(7),this.km.off(8),this.km.mode=50);break}250==this.km.mode&&(this.co_j.x<s-80-8||this.co_j.x>s+64+8||1==this.km.cancel_c||1==this.km.kettei_c)&&(this.km.off(3),this.km.mode=50)}else i.gf=!1;break;case 5e3:if(s>this.maps.wx-96&&s<this.maps.wx+this.gg.di.width+64&&h>this.maps.wy-96&&h<this.maps.wy+this.gg.di.height+64?(i.gf=!0,this.a_hf=!0):i.gf=!1,0==i.c3){i.gf&&this.co_j.c>=100&&this.co_j.c<200&&this.co_j.x+15>=s&&this.co_j.x+15<=s+31&&this.co_j.y==h-32&&(i.c3=100);break}if(i.c3<100)break;if(i.c3++,i.c3<108)break;var Jt=vi(s,5),Zt=vi(h,5);4==this.maps.map_bg[Jt][Zt-1]?this.maps.putBGCode(Jt,Zt,4):this.maps.putBGCode(Jt,Zt,0),this.mSet2(32*Jt,32*Zt,80,12,-24),this.mSet2(32*Jt,32*Zt,80,-12,-24),this.gs.rsAddSound(16),this.jZutuki(32*Jt,32*Zt-32,2),i.c=0;break;case 5300:if(s>this.maps.wx-32&&s<this.maps.wx+this.gg.di.width&&h>this.maps.wy-32&&h<this.maps.wy+this.gg.di.height){if(i.gf=!0,this.a_hf=!0,50==this.km.mode){(this.co_j.x<s-80-8||this.co_j.x>s+64+8)&&(this.km.mode=100);break}if(100==this.km.mode){this.co_j.x>=s-80&&this.co_j.x<=s+64&&Math.abs(h-this.co_j.y)<8&&!this.gk.tr1_f&&(this.km.init1(3),this.km.setMessage(3,this.tdb.getValue("serifu_grenade_shop_name")),this.addSerifu2(3,"serifu_grenade_shop-",3),this.km.activeSerifu(3,li(.625*this.gg.di.width-112)-40,li(.2875*this.gg.di.height-36)-16,272,this.gamecolor_message_name),this.km.mode=200,this.km.move());break}if(200==this.km.mode){if(1==this.km.cancel_c){this.km.off(3),this.km.mode=50;break}if(this.co_j.x<s-80-8||this.co_j.x>s+64+8||Math.abs(h-this.co_j.y)>16){this.km.off(3),this.km.mode=50;break}if(1!=this.km.kettei_c)break;this.co_j.c=150,this.co_j.x<=s||this.maps.getBGCode(s+48,h)>=18?this.maps.getBGCode(s-16,h)>=18?(this.co_j.x=s-15,this.co_j.muki=1):(this.co_j.x=s-48,this.co_j.muki=1):(this.co_j.x=s+48,this.co_j.muki=0),this.co_j.y=h,this.co_j.vx=0,this.co_j.vy=0,this.co_j.pt=100,this.setmyw_pt=this.co_j.pt,this.setmyw_muki=this.co_j.muki,this.co_j.c1=10,this.km.init1(7),this.km.setMessage(7,this.tdb.getValue("serifu_grenade_shop-4")),this.km.addItem(7,"１"),this.km.addItem(7,"２"),this.km.addItem(7,"３"),this.km.addItem(7,"４"),this.km.addItem(7,"５"),this.km.addItem(7,"６"),this.km.addItem(7,"７"),this.km.addItem(7,"８"),this.km.addItem(7,"９"),this.km.addItem(7,"１０"),this.km.active(7,li(.625*this.gg.di.width-112)-40-116,li(.2875*this.gg.di.height-36)-16+32,144),this.km.mode=220;break}if(220==this.km.mode){if(this.co_j.c1=10,1==this.km.cancel_c){this.km.offActivewindow(7,3),this.km.mode=200;break}if(1!=this.km.kettei_c)break;var Xt=this.km.selectedIndex[7]+1,$t=this.tdb.getValueInt("grenade_shop_score");$t<1&&($t=1),$t*=Xt,this.score>=$t?(this.score-=$t,this.j_gr_kazu+=Xt,this.gs.rsAddSound(7),this.km.init1(8),this.km.addItem(8,this.tdb.getValue("serifu_grenade_shop-6")),this.km.activeIchigyou(8,li(.625*this.gg.di.width-112)-40+48,li(.2875*this.gg.di.height-36)-16+80,224),this.km.mode=230):(this.km.init1(8),this.km.addItem(8,this.tdb.getValue("serifu_grenade_shop-5")),this.km.activeIchigyou(8,li(.625*this.gg.di.width-112)-40+48,li(.2875*this.gg.di.height-36)-16+80,224),this.km.mode=240);break}if(230==this.km.mode){(this.co_j.x<s-80-8||this.co_j.x>s+64+8||1==this.km.kettei_c||1==this.km.cancel_c)&&(this.km.off(3),this.km.off(7),this.km.off(8),this.km.mode=50);break}if(240==this.km.mode){if(this.co_j.c1=10,this.co_j.x<s-80-8||this.co_j.x>s+64+8||1==this.km.kettei_c){this.km.off(3),this.km.off(7),this.km.off(8),this.co_j.c1=6,this.km.mode=50;break}1==this.km.cancel_c&&(this.km.offActivewindow(8,7),this.km.mode=220);break}250==this.km.mode&&(this.co_j.x<s-80-8||this.co_j.x>s+64+8||1==this.km.cancel_c||1==this.km.kettei_c)&&(this.km.off(3),this.km.mode=50)}else i.gf=!1}i.x=s,i.y=h}},{key:"onASwitch",value:function(t,i,s,h,e){4==arguments.length&&(e=1);for(var a=0;a<=this.a_kazu;a++){var c=this.co_a[a].c;if(3700!=c&&3710!=c&&3800!=c&&3810!=c&&3900!=c&&3910!=c&&4e3!=c&&4010!=c&&4100!=c&&4110!=c&&4200!=c&&4210!=c&&4300!=c&&4400!=c&&4410!=c&&4500!=c&&5200!=c&&5210!=c)if(150!=c&&160!=c)2!=e||3500!=c&&3600!=c||2!=this.co_a[a].c4||(this.co_a[a].c3=100,3500==c&&(this.co_a[a].c3=1));else{var o=vi(this.co_a[a].vx,5),_=vi(this.co_a[a].vy,5);o>=t&&o<=s&&_>=i&&_<=h&&(this.co_a[a].c5=1)}else{var r=vi(this.co_a[a].x,5),n=vi(this.co_a[a].y,5);r>=t&&r<=s&&n>=i&&n<=h&&(this.co_a[a].c5=1)}}}},{key:"offASwitch",value:function(t,i,s,h,e){4==arguments.length&&(e=1);for(var a=0;a<=this.a_kazu;a++){var c=this.co_a[a].c;if(3700!=c&&3710!=c&&3800!=c&&3810!=c&&3900!=c&&3910!=c&&4e3!=c&&4010!=c&&4100!=c&&4110!=c&&4200!=c&&4210!=c&&4300!=c&&4400!=c&&4410!=c&&4500!=c&&5200!=c&&5210!=c)if(150!=c&&160!=c)2!=e||3500!=c&&3600!=c||2!=this.co_a[a].c4||(this.co_a[a].c3=0,3500==c&&(this.co_a[a].c3=101));else{var o=vi(this.co_a[a].vx,5),_=vi(this.co_a[a].vy,5);o>=t&&o<=s&&_>=i&&_<=h&&(this.co_a[a].c5=0)}else{var r=vi(this.co_a[a].x,5),n=vi(this.co_a[a].y,5);r>=t&&r<=s&&n>=i&&n<=h&&(this.co_a[a].c5=0)}}}},{key:"bMove",value:function(){this.co_b.update(this)}},{key:"hSet",value:function(t,i,s){for(var h=0;h<=79;h++)if(!(this.co_h[h].c>0)){var e=this.co_h[h];e.c=s,e.x=t,e.y=i;break}}},{key:"hDelete",value:function(t,i,s){for(var h=0;h<=79;h++)this.co_h[h].c==s&&this.co_h[h].x==t&&this.co_h[h].y==i&&(this.co_h[h].c=0,this.maps.putBGCode(t,i,41))}},{key:"hAttack",value:function(t,i){for(var s=0;!(s>79);){var h=this.co_h[s];if(0!=h.c&&h.x==t&&h.y==i){switch(h.c){default:break;case 100:this.mSet(32*t,32*i-32,2e3),this.gs.rsAddSound(6);break;case 200:this.mSet(32*t,32*i-32,2010),this.mSet(32*t,32*i-32,2020),this.mSet(32*t,32*i-32,2e3),this.gs.rsAddSound(6);break;case 300:this.mSet(32*t,32*i-32,2100),this.gs.rsAddSound(13);break;case 400:this.mSet(32*t,32*i-32,2110),this.gs.rsAddSound(13);break;case 500:this.mSet(32*t,32*i-32,2120),this.gs.rsAddSound(13);break;case 600:this.mSet(32*t,32*i-32,2130),this.gs.rsAddSound(13);break;case 700:this.mSet(32*t,32*i-32,2140),this.gs.rsAddSound(13);break;case 800:this.mSet(32*t,32*i-32,2150),this.gs.rsAddSound(13);break;case 900:this.mSet(32*t,32*i-32,2160),this.gs.rsAddSound(13);break;case 1e3:this.mSet(32*t,32*i-32,2170),this.gs.rsAddSound(13);break;case 1100:this.mSet(32*t,32*i-32,2180),this.stage_1up_f[this.stage-1]=!1,this.gs.rsAddSound(13);break;case 2e3:for(var e=1;!(e>10);){var a=t+e;if(a>this.mapWidth||0!=this.maps.map_bg[a][i]&&4!=this.maps.map_bg[a][i])break;this.maps.putBGCode(a,i,20),e++}this.gs.rsAddSound(13);break;case 2100:for(var c=-1;!(c<-10);){var o=t+c;if(o<1||0!=this.maps.map_bg[o][i]&&4!=this.maps.map_bg[o][i])break;this.maps.putBGCode(o,i,20),c--}this.gs.rsAddSound(13);break;case 2200:for(var _=-1;_>=-10;_--){var r=i+_;if(r<10||0!=this.maps.map_bg[t][r]&&4!=this.maps.map_bg[t][r])break;this.maps.putBGCode(t,r,10),2==this.gg.layer_mode&&3!=this.clear_type&&(this.map_data_option[t][r]=!0)}this.gs.rsAddSound(13);break;case 2300:for(var n=-1;!(n<-10);){var m=i+n;if(m<10||0!=this.maps.map_bg[t][m]&&4!=this.maps.map_bg[t][m])break;this.maps.putBGCode(t,m,20),n--}this.gs.rsAddSound(13);break;case 2400:for(var g=-1;!(g<-2);){var p=i+g;if(p<10||0!=this.maps.map_bg[t][p]&&4!=this.maps.map_bg[t][p])break;this.maps.putBGCode(t,p,20),g--}this.gs.rsAddSound(13);break;case 2500:for(var y=1;!(y>2);){var u=t+y;if(u>this.mapWidth||0!=this.maps.map_bg[u][i]&&4!=this.maps.map_bg[u][i])break;this.maps.putBGCode(u,i,20),y++}this.gs.rsAddSound(13);break;case 2600:for(var d=-1;!(d<-2);){var j=t+d;if(j<1||0!=this.maps.map_bg[j][i]&&4!=this.maps.map_bg[j][i])break;this.maps.putBGCode(j,i,20),d--}this.gs.rsAddSound(13);break;case 2700:this.aSet(32*t,32*i-32,700,32*t),this.gs.rsAddSound(13);break;case 2800:this.maps.putBGCode(t,i-1,5),this.gs.rsAddSound(13);break;case 2900:for(var f=-10;f<=10;f++)for(var l=-10;l<=10;l++)t+l>=1&&t+l<=this.mapWidth&&i+f>=10&&i+f<=this.mapHeight+9&&5==this.maps.map_bg[t+l][i+f]&&this.maps.putBGCode(t+l,i+f,9);this.gs.rsAddSound(6);break;case 3e3:for(var v=-10;v<=10;v++)for(var x=-10;x<=10;x++)t+x>=1&&t+x<=this.mapWidth&&i+v>=10&&i+v<=this.mapHeight+9&&5==this.maps.map_bg[t+x][i+v]&&this.maps.putBGCode(t+x,i+v,20);this.gs.rsAddSound(13);break;case 3100:for(var k=-10;k<=10;k++)for(var w=-10;w<=10;w++)t+w>=1&&t+w<=this.mapWidth&&i+k>=10&&i+k<=this.mapHeight+9&&20==this.maps.map_bg[t+w][i+k]&&this.maps.putBGCode(t+w,i+k,9);this.gs.rsAddSound(6);break;case 3200:for(var b=-10;b<=10;b++)for(var S=-10;S<=10;S++)t+S>=1&&t+S<=this.mapWidth&&i+b>=10&&i+b<=this.mapHeight+9&&23==this.maps.map_bg[t+S][i+b]&&this.maps.putBGCode(t+S,i+b,0);this.gs.rsAddSound(7);break;case 3300:this.mSet(32*t,32*i-32,2186),this.gs.rsAddSound(13);break;case 3400:this.mSet(32*t,32*i-32,2187),this.gs.rsAddSound(13);break;case 3500:this.mSet(32*t,32*i-32,2188),this.gs.rsAddSound(13);break;case 3600:if(0==this.co_jm[6].c){this.jmSet2(32*t,32*i,206,6);break}if(0==this.co_jm[7].c){this.jmSet2(32*t,32*i,206,7);break}0==this.co_jm[8].c&&this.jmSet2(32*t,32*i,206,8);break;case 3700:if(0==this.co_jm[6].c){this.jmSet2(32*t,32*i,207,6);break}if(0==this.co_jm[7].c){this.jmSet2(32*t,32*i,207,7);break}0==this.co_jm[8].c&&this.jmSet2(32*t,32*i,207,8);break;case 3800:if(0==this.co_jm[6].c){this.jmSet2(32*t,32*i,208,6);break}if(0==this.co_jm[7].c){this.jmSet2(32*t,32*i,208,7);break}0==this.co_jm[8].c&&this.jmSet2(32*t,32*i,208,8);break;case 3900:if(0==this.co_jm[6].c){this.jmSet2(32*t,32*i,209,6);break}if(0==this.co_jm[7].c){this.jmSet2(32*t,32*i,209,7);break}0==this.co_jm[8].c&&this.jmSet2(32*t,32*i,209,8);break;case 4e3:this.mSet(32*t,32*i-32,2171),this.gs.rsAddSound(13);break;case 4100:this.mSet(32*t,32*i-32,2172),this.gs.rsAddSound(13);break;case 4200:this.onASwitch(t-10,i-10,t+10,i+10),this.gs.rsAddSound(13);break;case 4300:this.offASwitch(t-10,i-10,t+10,i+10),this.gs.rsAddSound(13);break;case 4400:this.onASwitch(t-5,i-5,t+5,i+5),this.gs.rsAddSound(13);break;case 4500:this.offASwitch(t-5,i-5,t+5,i+5),this.gs.rsAddSound(13)}this.maps.putBGCode(t,i,41),h.c=0;break}s++}}},{key:"newYuka",value:function(t,i,s,h,e){var a,c,o,_=32;if(100!=this.ml_mode&&90!=this.ml_mode&&91!=this.ml_mode&&95!=this.ml_mode)return-1;if(_=parseInt(t),a=parseInt(i),c=parseInt(s),o=parseInt(h),(isNaN(_)||isNaN(a)||isNaN(c)||isNaN(o))&&(_=-9999),-9999==_)return-1;for(var r=0;;){if(r>this.yuka_id_max&&this.yo.push(new Ct),0==this.yo[r].con){"line"==e?(this.yo[r].init(),this.yo[r].con=200,this.yo[r].x=_,this.yo[r].y=a,this.yo[r].x2=c,this.yo[r].y2=o,this.yo[r].color=A.yellow):"triangle"==e?(this.yo[r].init(),this.yo[r].con=210,this.yo[r].x=_,this.yo[r].y=a,this.yo[r].x2=c,this.yo[r].y2=o,this.yo[r].color=A.yellow):"mount"==e?(this.yo[r].init(),this.yo[r].con=220,this.yo[r].x=_,this.yo[r].y=a,this.yo[r].x2=c,this.yo[r].y2=o,this.yo[r].color=A.yellow):"circle"==e?(this.yo[r].init(),this.yo[r].con=300,this.yo[r].x=_,this.yo[r].y=a,this.yo[r].x2=c,this.yo[r].y2=o,this.yo[r].color=A.yellow):"half_circle"==e?(this.yo[r].init(),this.yo[r].con=350,this.yo[r].x=_,this.yo[r].y=a,this.yo[r].x2=c,this.yo[r].y2=o,this.yo[r].color=A.yellow):"half_circle_line"==e?(this.yo[r].init(),this.yo[r].con=360,this.yo[r].x=_,this.yo[r].y=a,this.yo[r].x2=c,this.yo[r].y2=o,this.yo[r].color=A.yellow):"wave_up"==e?(this.yo[r].init(),this.yo[r].con=400,this.yo[r].x=_,this.yo[r].y=a,this.yo[r].x2=c,this.yo[r].y2=o,this.yo[r].color=A.yellow):"wave_up_line"==e?(this.yo[r].init(),this.yo[r].con=410,this.yo[r].x=_,this.yo[r].y=a,this.yo[r].x2=c,this.yo[r].y2=o,this.yo[r].color=A.yellow):"wave_down"==e?(this.yo[r].init(),this.yo[r].con=450,this.yo[r].x=_,this.yo[r].y=a,this.yo[r].x2=c,this.yo[r].y2=o,this.yo[r].color=A.yellow):"wave_down_line"==e?(this.yo[r].init(),this.yo[r].con=460,this.yo[r].x=_,this.yo[r].y=a,this.yo[r].x2=c,this.yo[r].y2=o,this.yo[r].color=A.yellow):"pattern"==e?(this.yo[r].init(),this.yo[r].con=120,this.yo[r].x=_,this.yo[r].y=a,this.yo[r].width=c,this.yo[r].height=o,this.yo[r].pt=0,this.yo[r].pth=0):"rect"==e?(this.yo[r].init(),this.yo[r].con=110,this.yo[r].x=_,this.yo[r].y=a,this.yo[r].width=c,this.yo[r].height=o,this.yo[r].color=A.yellow):(this.yo[r].init(),this.yo[r].con=100,this.yo[r].x=_,this.yo[r].y=a,this.yo[r].width=c,this.yo[r].height=o,this.yo[r].img=this.gg.loadImage(e));break}r++}return r}},{key:"setYukaPosition",value:function(t,i,s,h,e){if(void 0===h||void 0===e){var a=0,c=32,o=320;if(100!=this.ml_mode&&91!=this.ml_mode&&96!=this.ml_mode)return!1;if(a=parseInt(t),c=parseInt(i),o=parseInt(s),(isNaN(a)||isNaN(c)||isNaN(o))&&(a=-1),a<0)return!1;if(a>this.yuka_id_max)return!1;var _=!1;return(this.yo[a].con>=100||this.yo[a].con<200||this.yo[a].con>=300||this.yo[a].con<500)&&(_=!0),!!_&&(this.yo[a].x_buff=c,this.yo[a].y_buff=o,this.yo[a].buff_f=!0,!0)}var r,n;return a=0,c=32,o=320,!(100!=this.ml_mode&&91!=this.ml_mode&&96!=this.ml_mode||(a=parseInt(t),c=parseInt(i),o=parseInt(s),r=parseInt(h),n=parseInt(e),(isNaN(a)||isNaN(c)||isNaN(o)||isNaN(r)||isNaN(n))&&(a=-1),a<0||a>this.yuka_id_max||this.yo[a].con<200||this.yo[a].con>=300||(this.yo[a].x_buff=c,this.yo[a].y_buff=o,this.yo[a].x2_buff=r,this.yo[a].y2_buff=n,this.yo[a].buff_f=!0,0)))}},{key:"setYukaType",value:function(t,i){var s,h=1;return!(100!=this.ml_mode&&91!=this.ml_mode&&96!=this.ml_mode||(s=parseInt(t),h=parseInt(i),(isNaN(s)||isNaN(h))&&(h=-1),s<0||s>this.yuka_id_max||0==this.yo[s].con||!(h>=1||h<=2)||(this.yo[s].type=h,0)))}},{key:"disposeYuka",value:function(t){var i;return!(100!=this.ml_mode&&91!=this.ml_mode&&96!=this.ml_mode||(i=parseInt(t),isNaN(i),i<0||i>this.yuka_id_max||0==this.yo[i].con||(this.yo[i].con=0,0)))}},{key:"setYukaColor",value:function(t,i,s,h,e){if(5==arguments.length){var a,c,o,_,r=0;return!(100!=this.ml_mode&&90!=this.ml_mode&&91!=this.ml_mode&&96!=this.ml_mode||(r=parseInt(t),a=parseInt(i),c=parseInt(s),o=parseInt(h),_=parseInt(e),(isNaN(r)||isNaN(a)||isNaN(c)||isNaN(o)||isNaN(_))&&(r=-1),r<0||r>this.yuka_id_max||(this.yo[r].con<200||this.yo[r].con>=500)&&110!=this.yo[r].con||(this.yo[r].color=new A(a,c,o,_),0)))}return!(100!=this.ml_mode&&90!=this.ml_mode&&91!=this.ml_mode&&96!=this.ml_mode||t<0||t>this.yuka_id_max||(this.yo[t].con<200||this.yo[t].con>=500)&&110!=this.yo[t].con||(this.yo[t].color=i,0))}},{key:"setYukaPattern",value:function(t,i,s){var h,e,a=0;return!(100!=this.ml_mode&&91!=this.ml_mode&&96!=this.ml_mode||(a=parseInt(t),h=parseInt(i),e=parseInt(s),(isNaN(a)||isNaN(h)||isNaN(e))&&(a=-1),a<0||a>this.yuka_id_max||this.yo[a].con<100||this.yo[a].con>=200||h<0||h>249||e<0||e>1||(this.yo[a].con=120,this.yo[a].pt=h,this.yo[a].pth=e,0)))}},{key:"setYukaImage",value:function(t,i){var s=0;return!(100!=this.ml_mode&&91!=this.ml_mode&&96!=this.ml_mode||(s=parseInt(t),isNaN(s)&&(s=-1),s<0||s>this.yuka_id_max||this.yo[s].con<100||this.yo[s].con>=200||(this.yo[s].con=100,this.yo[s].img="string"==typeof i?this.gg.loadImage(i):i,0)))}},{key:"isRideYuka",value:function(t){var i=0;return 100!=this.ml_mode&&91!=this.ml_mode&&96!=this.ml_mode||this.co_j.c<100||this.co_j.c>=200?-1:(i=parseInt(t),isNaN(i)&&(i=-1),i<0||i>this.yuka_id_max||14==this.j_tokugi||15==this.j_tokugi||0==this.yo[i].con?-1:2==this.yo[i].type?0:this.yo[i].con>=100&&this.yo[i].con<200?this.co_j.vy<0||this.co_j.y+32!=this.yo[i].y||this.co_j.x+15<this.yo[i].x||this.co_j.x+15>=this.yo[i].x+this.yo[i].width?0:1:this.yo[i].con>=200&&this.yo[i].con<300?this.getSLOY(this.yo[i].x,this.yo[i].y,this.yo[i].x2,this.yo[i].y2)!=this.co_j.y?0:1:this.yo[i].con>=300&&this.yo[i].con<350?this.getSCOY(this.yo[i].x,this.yo[i].y,this.yo[i].x2,this.yo[i].y2)!=this.co_j.y?0:1:this.yo[i].con>=350&&this.yo[i].con<400?this.getSHCOY(this.yo[i].x,this.yo[i].y,this.yo[i].x2,this.yo[i].y2)!=this.co_j.y?0:1:this.yo[i].con>=400&&this.yo[i].con<450?this.getSWUpOY(this.yo[i].x,this.yo[i].y,this.yo[i].x2,this.yo[i].y2)!=this.co_j.y?0:1:this.yo[i].con>=450&&this.yo[i].con<500?this.getSWDownOY(this.yo[i].x,this.yo[i].y,this.yo[i].x2,this.yo[i].y2)!=this.co_j.y?0:1:-1)}},{key:"isRideGround",value:function(){if(100!=this.ml_mode&&91!=this.ml_mode&&96!=this.ml_mode)return-1;if(this.co_j.c<100||this.co_j.c>=200)return-1;if(14==this.j_tokugi||15==this.j_tokugi)return-1;var t=this.maps.getBGCode(this.co_j.x+15,this.co_j.y+32);if(t>=20||10==t)return 1;if(this.co_j.y%32==0&&15==t&&this.co_j.vy>=0)return 1;if(10==(t=this.maps.getBGCode(this.co_j.x+15,this.co_j.y+15)))return 1;var i=this.maps.getBGCode(this.co_j.x+15,this.co_j.y+31);return(18==i||19==i)&&this.co_j.vy>=0&&this.getSakamichiY(this.co_j.x+15,this.co_j.y+31)<=this.co_j.y?1:0}},{key:"moveYuka",value:function(){if(!(this.yuka_id_max<0)){this.yuka_ride_id=-1;for(var t=0;t<=this.yuka_id_max;t++){var i=this.yo[t];if(0!=i.con)if(i.con>=100&&i.con<200){if(2==i.type||this.co_j.c<100||this.co_j.c>=200){i.buff_f&&(i.buff_f=!1,i.x=i.x_buff,i.y=i.y_buff);continue}if(this.co_j.vy>=0&&14!=this.j_tokugi&&15!=this.j_tokugi&&this.co_j.x+15>=i.x&&this.co_j.x+15<i.x+i.width&&this.co_j.y+32==i.y&&(this.yuka_ride_id=t),!i.buff_f)continue;if(i.buff_f=!1,i.x>i.x_buff){if(this.yuka_ride_id==t){var s=i.x_buff-i.x;i.x=i.x_buff,this.co_j.x=this.co_j.x+s;var h=vi(this.co_j.x+15,5),e=vi(this.co_j.y,5),a=vi(this.co_j.y+31,5);(this.maps.map_bg[h][e]>=20||this.maps.map_bg[h][a]>=20)&&(this.co_j.x=32*h+32-14)}else if(i.x=i.x_buff,14==this.j_tokugi||15==this.j_tokugi){if(this.co_j.x+31>=i.x&&this.co_j.x<i.x+i.width&&this.co_j.y+31>=i.y&&this.co_j.y<i.y+i.height){this.co_j.x=i.x-32,this.co_j.vx>0&&(this.co_j.vx=0);var c=vi(this.co_j.x,5),o=vi(this.co_j.y,5),_=vi(this.co_j.y+31,5);(this.maps.map_bg[c][o]>=20||this.maps.map_bg[c][_]>=20)&&this.jShinu(4)}}else if(this.co_j.x+15>=i.x&&this.co_j.x+15<i.x+i.width&&this.co_j.y+31>=i.y&&this.co_j.y<i.y+i.height){this.co_j.x=i.x-16,this.co_j.vx>0&&(this.co_j.vx=0);var r=vi(this.co_j.x+15,5),n=vi(this.co_j.y,5),m=vi(this.co_j.y+31,5);(this.maps.map_bg[r][n]>=20||this.maps.map_bg[r][m]>=20)&&(this.co_j.x=32*r+15,this.jShinu(4))}}else if(i.x<i.x_buff)if(this.yuka_ride_id==t){var g=i.x_buff-i.x;i.x=i.x_buff,this.co_j.x=this.co_j.x+g;var p=vi(this.co_j.x+15,5),y=vi(this.co_j.y,5),u=vi(this.co_j.y+31,5);(this.maps.map_bg[p][y]>=20||this.maps.map_bg[p][u]>=20)&&(this.co_j.x=32*p-16)}else if(i.x=i.x_buff,14==this.j_tokugi||15==this.j_tokugi){if(this.co_j.x+31>=i.x&&this.co_j.x<i.x+i.width&&this.co_j.y+31>=i.y&&this.co_j.y<i.y+i.height){this.co_j.x=i.x+i.width,this.co_j.vx<0&&(this.co_j.vx=0);var d=vi(this.co_j.x+31,5),j=vi(this.co_j.y,5),f=vi(this.co_j.y+31,5);(this.maps.map_bg[d][j]>=20||this.maps.map_bg[d][f]>=20)&&this.jShinu(4)}}else if(this.co_j.x+15>=i.x&&this.co_j.x+15<i.x+i.width&&this.co_j.y+31>=i.y&&this.co_j.y<i.y+i.height){this.co_j.x=i.x+i.width-15,this.co_j.vx<0&&(this.co_j.vx=0);var l=vi(this.co_j.x+15,5),v=vi(this.co_j.y,5);(this.maps.map_bg[l][v]>=20||this.maps.map_bg[l][v]>=20)&&(this.co_j.x=32*l-32+15,this.jShinu(4))}if(i.y>i.y_buff){if(this.yuka_ride_id==t){i.y=i.y_buff,this.co_j.y=i.y-32,this.maps.getBGCode(this.co_j.x+15,this.co_j.y)>=18&&(this.co_j.y=32*vi(this.co_j.y,5)+16,this.jShinu(3));continue}if(i.y=i.y_buff,14==this.j_tokugi||15==this.j_tokugi){if(this.co_j.x+31<i.x||this.co_j.x>=i.x+i.width||this.co_j.y+31<i.y||this.co_j.y>=i.y+i.height)continue;this.co_j.y=i.y-32,this.co_j.vy=0,(this.maps.getBGCode(this.co_j.x,this.co_j.y)>=20||this.maps.getBGCode(this.co_j.x+31,this.co_j.y)>=20)&&this.jShinu(3);continue}if(this.co_j.x+15<i.x||this.co_j.x+15>=i.x+i.width||this.co_j.y+31<i.y||this.co_j.y>=i.y+i.height)continue;this.co_j.y=i.y-32,this.co_j.vy=0,this.yuka_ride_id=t,this.maps.getBGCode(this.co_j.x+15,this.co_j.y)>=18&&(this.co_j.y=32*vi(this.co_j.y,5)+16,this.jShinu(3));continue}if(i.y>=i.y_buff)continue;if(this.yuka_ride_id==t){i.y=i.y_buff,this.co_j.y=i.y-32;continue}var x=i.y_buff-i.y;if(i.y=i.y_buff,14==this.j_tokugi||15==this.j_tokugi){if(this.co_j.x+31<i.x||this.co_j.x>=i.x+i.width||this.co_j.y+31<i.y||this.co_j.y>=i.y+i.height)continue;this.co_j.y=i.y+i.height,this.co_j.vy=0,(this.maps.getBGCode(this.co_j.x,this.co_j.y+31)>=20||this.maps.getBGCode(this.co_j.x+31,this.co_j.y+31)>=20)&&this.jShinu(3);continue}if(this.co_j.x+15<i.x||this.co_j.x+15>=i.x+i.width||this.co_j.y+31<i.y||this.co_j.y>=i.y+i.height)continue;this.co_j.y=i.y+i.height,this.co_j.vy=0,this.co_j.vy=10*x,this.co_j.vy>160&&(this.co_j.vy=160),this.maps.getBGCode(this.co_j.x+15,this.co_j.y+31)>=20&&(this.co_j.y=32*vi(this.co_j.y+31,5)-32,this.jShinu(3))}else if(i.con>=200&&i.con<300){if(2==i.type||this.co_j.c<100||this.co_j.c>=200){i.buff_f&&(i.buff_f=!1,i.x=i.x_buff,i.y=i.y_buff,i.x2=i.x2_buff,i.y2=i.y2_buff);continue}if(this.co_j.vy>=0&&this.getSLOY(i.x,i.y,i.x2,i.y2)==this.co_j.y&&(this.yuka_ride_id=t),!i.buff_f)continue;if(i.buff_f=!1,this.yuka_ride_id==t){if(Math.floor(180*Math.atan2(Math.abs(i.y2_buff-i.y_buff),Math.abs(i.x2_buff-i.x_buff))/3.140000104904175)>70||i.x_buff>=i.x2_buff){i.x=i.x_buff,i.y=i.y_buff,i.x2=i.x2_buff,i.y2=i.y2_buff,this.yuka_ride_id=-1,this.co_j.vy=0;continue}var k=i.x2-i.x,w=this.co_j.x+15-i.x,b=li((i.x2_buff-i.x_buff)*w/k),S=li((i.y2_buff-i.y_buff)*w/k);this.co_j.x=i.x_buff+b-15,this.co_j.y=i.y_buff+S-32,this.co_j.vy=0,i.x=i.x_buff,i.y=i.y_buff,i.x2=i.x2_buff,i.y2=i.y2_buff;var M=this.getSLOY(i.x,i.y,i.x2,i.y2);M>=0&&(this.co_j.y=M),this.co_j.x<17&&(this.co_j.x=17),this.co_j.x+15>=32*(this.mapWidth+1)&&(this.co_j.x=32*this.mapWidth+16)}else i.x=i.x_buff,i.y=i.y_buff,i.x2=i.x2_buff,i.y2=i.y2_buff}else if(i.con>=300&&i.con<350){if(2==i.type||this.co_j.c<100||this.co_j.c>=200){i.buff_f&&(i.buff_f=!1,i.x=i.x_buff,i.y=i.y_buff);continue}if(this.co_j.vy>=0&&this.getSCOY(i.x,i.y,i.x2,i.y2)==this.co_j.y&&(this.yuka_ride_id=t),!i.buff_f)continue;if(i.buff_f=!1,this.yuka_ride_id==t){var C=i.x_buff-i.x,I=i.y_buff-i.y;i.x=i.x_buff,i.y=i.y_buff,this.co_j.x=this.co_j.x+C,this.co_j.y=this.co_j.y+I,I<0&&this.maps.getBGCode(this.co_j.x+15,this.co_j.y)>=18&&(this.co_j.y=32*vi(this.co_j.y,5)+32-16,this.jShinu(3));continue}if(i.y<i.y_buff&&i.y<this.co_j.y){i.x=i.x_buff,i.y=i.y_buff;var B=this.getSCOYCeiling(i.x,i.y,i.x2,i.y2);if(B<0||this.co_j.y>B||this.co_j.y<B-31)continue;this.co_j.y=B,this.co_j.vy<0&&(this.co_j.vy=0),this.maps.getBGCode(this.co_j.x+15,this.co_j.y+31)>=20&&(this.co_j.y=32*vi(this.co_j.y+31,5)-32,this.jShinu(3))}else i.x=i.x_buff,i.y=i.y_buff}else if(i.con>=350&&i.con<400){if(2==i.type||this.co_j.c<100||this.co_j.c>=200){i.buff_f&&(i.buff_f=!1,i.x=i.x_buff,i.y=i.y_buff);continue}if(this.co_j.vy>=0&&this.getSHCOY(i.x,i.y,i.x2,i.y2)==this.co_j.y&&(this.yuka_ride_id=t),!i.buff_f)continue;if(i.buff_f=!1,this.yuka_ride_id==t){var G=i.x_buff-i.x,z=i.y_buff-i.y;i.x=i.x_buff,i.y=i.y_buff,this.co_j.x=this.co_j.x+G,this.co_j.y=this.co_j.y+z}else i.x=i.x_buff,i.y=i.y_buff}else if(i.con>=400&&i.con<450){if(2==i.type||this.co_j.c<100||this.co_j.c>=200){i.buff_f&&(i.buff_f=!1,i.x=i.x_buff,i.y=i.y_buff);continue}if(this.co_j.vy>=0&&this.getSWUpOY(i.x,i.y,i.x2,i.y2)==this.co_j.y&&(this.yuka_ride_id=t),!i.buff_f)continue;if(i.buff_f=!1,this.yuka_ride_id==t){var A=i.x_buff-i.x,P=i.y_buff-i.y;i.x=i.x_buff,i.y=i.y_buff,this.co_j.x=this.co_j.x+A,this.co_j.y=this.co_j.y+P}else i.x=i.x_buff,i.y=i.y_buff}else if(!(i.con<450||i.con>=500))if(2==i.type||this.co_j.c<100||this.co_j.c>=200)i.buff_f&&(i.buff_f=!1,i.x=i.x_buff,i.y=i.y_buff);else if(this.co_j.vy>=0&&this.getSWDownOY(i.x,i.y,i.x2,i.y2)==this.co_j.y&&(this.yuka_ride_id=t),i.buff_f)if(i.buff_f=!1,this.yuka_ride_id==t){var N=i.x_buff-i.x,O=i.y_buff-i.y;i.x=i.x_buff,i.y=i.y_buff,this.co_j.x=this.co_j.x+N,this.co_j.y=this.co_j.y+O}else i.x=i.x_buff,i.y=i.y_buff}if(-1==this.yuka_ride_id)for(var Y=0;Y<=this.yuka_id_max;Y++){var T=this.yo[Y];if(!(T.con<200||T.con>=300||2==T.type||this.co_j.vy<0)&&this.getSLOY(T.x,T.y,T.x2,T.y2)==this.co_j.y){this.yuka_ride_id=Y;break}}}}},{key:"drawYuka",value:function(){var t=0,i=0,s=0,h=0,e=new Array(13),a=new Array(13);if(!(this.yuka_id_max<0))t:for(var c=0;c<=this.yuka_id_max;c++){var o=this.yo[c];if(0!=o.con)if(100!=o.con)if(110!=o.con)if(120!=o.con)if(200!=o.con)if(210!=o.con)if(220!=o.con)if(300!=o.con)if(350!=o.con){if(360==o.con){o.view_x=this.yo[c].x-this.maps.wx,o.view_y=this.yo[c].y-this.maps.wy;var _=o.view_x,r=o.view_y;if(o.view_x+240<0||_>this.gg.di.width||r>this.gg.di.height){o.draw_f=!1;continue}o.draw_f=!0,this.hg.setColor(o.color);for(var n=140;;){if(n<45)continue t;var m=li(_+120+144*Math.cos(3.141592653589793*n/180),!0,this),g=li(r+144-144*Math.sin(3.141592653589793*n/180),!0,this),p=li(_+120+144*Math.cos(3.141592653589793*(n-5)/180),!0,this),y=li(r+144-144*Math.sin(3.141592653589793*(n-5)/180),!0,this);this.hg.drawLine(m,g,p,y),140==n?this.hg.drawLine(_,r+63,m,g):45==n&&this.hg.drawLine(_+239,r+63,p,y),n-=5}}if(400!=o.con)if(410!=o.con)if(450!=o.con){if(460==o.con){o.view_x=this.yo[c].x-this.maps.wx,o.view_y=this.yo[c].y-this.maps.wy;var u=o.view_x,d=o.view_y,j=o.view_x+256,f=o.view_y+128;if(j<0||u>this.gg.di.width||d>this.gg.di.height||f<0)o.draw_f=!1;else{o.draw_f=!0,this.hg.setColor(o.color);for(var l=0;l<=45;l+=5){var v=li(j-160*Math.sin(3.141592653589793*l/180),!0,this),x=li(d-32+160*Math.cos(3.141592653589793*l/180),!0,this),k=li(j-160*Math.sin(3.141592653589793*(l+5)/180),!0,this),w=li(d-32+160*Math.cos(3.141592653589793*(l+5)/180),!0,this);this.hg.drawLine(v,x,k,w),45==l&&(t=k,i=w)}for(var b=0;b<=45;b+=5){var S=li(u+160*Math.sin(3.141592653589793*b/180),!0,this),M=li(d+160-160*Math.cos(3.141592653589793*b/180),!0,this),C=li(u+160*Math.sin(3.141592653589793*(b+5)/180),!0,this),I=li(d+160-160*Math.cos(3.141592653589793*(b+5)/180),!0,this);this.hg.drawLine(S,M,C,I),45==b&&(s=C,h=I)}this.hg.drawLine(t,i,s,h)}}}else{o.view_x=this.yo[c].x-this.maps.wx,o.view_y=this.yo[c].y-this.maps.wy;var B=o.view_x,G=o.view_y,z=o.view_x+256,A=o.view_y+128;if(z<0||B>this.gg.di.width||G>this.gg.di.height){o.draw_f=!1;continue}o.draw_f=!0,this.hg.setColor(o.color);for(var P=0,N=0;N<=50;N+=5)e[P]=li(z-160*Math.sin(3.141592653589793*N/180),!0,this),a[P]=li(G-32+160*Math.cos(3.141592653589793*N/180),!0,this),50==N&&(t=e[P],i=a[P]),P++;e[P]=t,a[P]=G+128,this.hg.fillPolygon(e,a,12),P=0;for(var O=0;O<=50;O+=5)e[P]=li(B+160*Math.sin(3.141592653589793*O/180),!0,this),a[P]=li(G+160-160*Math.cos(3.141592653589793*O/180),!0,this),50==O&&(s=e[P],h=a[P]),P++;e[P]=s,a[P]=G+128,e[++P]=B,a[P]=G+128,this.hg.fillPolygon(e,a,13),e[0]=t,a[0]=i,e[1]=s,a[1]=h,e[2]=s,a[2]=G+128,e[3]=t,a[3]=G+128,this.hg.fillPolygon(e,a,4),A<this.gg.di.height&&this.hg.fillRect(B,G+128,256,this.gg.di.height-(G+128))}else{o.view_x=this.yo[c].x-this.maps.wx,o.view_y=this.yo[c].y-this.maps.wy;var Y=o.view_x,T=o.view_y,R=o.view_x+256,E=o.view_y+128;if(R<0||Y>this.gg.di.width||T>this.gg.di.height||E<0){o.draw_f=!1;continue}o.draw_f=!0,this.hg.setColor(o.color);for(var V=0;V<=45;V+=5){var W=li(Y+160*Math.sin(3.141592653589793*V/180),!0,this),L=li(T-32+160*Math.cos(3.141592653589793*V/180),!0,this),D=li(Y+160*Math.sin(3.141592653589793*(V+5)/180),!0,this),F=li(T-32+160*Math.cos(3.141592653589793*(V+5)/180),!0,this);this.hg.drawLine(W,L,D,F),45==V&&(t=D,i=F)}for(var H=0;H<=45;H+=5){var U=li(Y+256-160*Math.sin(3.141592653589793*H/180),!0,this),q=li(T+160-160*Math.cos(3.141592653589793*H/180),!0,this),K=li(Y+256-160*Math.sin(3.141592653589793*(H+5)/180),!0,this),J=li(T+160-160*Math.cos(3.141592653589793*(H+5)/180),!0,this);this.hg.drawLine(U,q,K,J),45==H&&(s=K,h=J)}this.hg.drawLine(t,i,s,h)}else{o.view_x=this.yo[c].x-this.maps.wx,o.view_y=this.yo[c].y-this.maps.wy;var Z=o.view_x,X=o.view_y,$=o.view_x+256,Q=o.view_y+128;if($<0||Z>this.gg.di.width||X>this.gg.di.height){o.draw_f=!1;continue}o.draw_f=!0,this.hg.setColor(o.color);for(var tt=0,it=0;it<=50;it+=5)e[tt]=li(Z+160*Math.sin(3.141592653589793*it/180),!0,this),a[tt]=li(X-32+160*Math.cos(3.141592653589793*it/180),!0,this),50==it&&(t=e[tt],i=a[tt]),tt++;e[tt]=t,a[tt]=X+128,this.hg.fillPolygon(e,a,12),tt=0;for(var st=0;st<=50;st+=5)e[tt]=li(Z+256-160*Math.sin(3.141592653589793*st/180),!0,this),a[tt]=li(X+160-160*Math.cos(3.141592653589793*st/180),!0,this),50==st&&(s=e[tt],h=a[tt]),tt++;e[tt]=s,a[tt]=X+128,e[++tt]=Z+256,a[tt]=X+128,this.hg.fillPolygon(e,a,13),e[0]=t,a[0]=i,e[1]=s,a[1]=h,e[2]=s,a[2]=X+128,e[3]=t,a[3]=X+128,this.hg.fillPolygon(e,a,4),Q<this.gg.di.height&&this.hg.fillRect(Z,X+128,256,this.gg.di.height-(X+128))}}else{o.view_x=this.yo[c].x-this.maps.wx,o.view_y=this.yo[c].y-this.maps.wy;var ht=o.view_x,et=o.view_y;if(o.view_x+240<0||ht>this.gg.di.width||et>this.gg.di.height){o.draw_f=!1;continue}o.draw_f=!0,this.hg.setColor(o.color);var at=0;e[at]=ht,a[at]=et+64,at++;for(var ct=140;ct>=90;ct-=5)e[at]=li(ht+120+144*Math.cos(3.141592653589793*ct/180),!0,this),a[at]=li(et+144-144*Math.sin(3.141592653589793*ct/180),!0,this),at++;e[at]=ht+120,a[at]=et+64,at++,this.hg.fillPolygon(e,a,at),at=0;for(var ot=90;ot>=40;ot-=5)e[at]=li(ht+120+144*Math.cos(3.141592653589793*ot/180),!0,this),a[at]=li(et+144-144*Math.sin(3.141592653589793*ot/180),!0,this),at++;e[at]=ht+240,a[at]=et+64,e[++at]=ht+120,a[at]=et+64,at++,this.hg.fillPolygon(e,a,at)}else{o.view_x=this.yo[c].x-this.maps.wx,o.view_y=this.yo[c].y-this.maps.wy;var _t=o.view_x-o.x2,rt=o.view_y-o.x2,nt=o.view_x+o.x2,mt=o.view_y+o.x2;nt<0||_t>=this.gg.di.width||mt<0||rt>=this.gg.di.height?o.draw_f=!1:(o.draw_f=!0,this.hg.setColor(o.color),this.hg.fillOval(_t,rt,nt-_t,mt-rt))}else{o.view_x=this.yo[c].x-this.maps.wx,o.view_y=this.yo[c].y-this.maps.wy;var gt,pt,yt,ut,dt=o.view_x,jt=o.view_y,ft=this.yo[c].x2-this.maps.wx,lt=this.yo[c].y2-this.maps.wy;if(dt<0&&ft<0||dt>=this.gg.di.width&&ft>=this.gg.di.width){o.draw_f=!1;continue}if(o.draw_f=!0,dt<=ft?(jt>=lt?(gt=ft,pt=jt):(gt=dt,pt=lt),e[0]=dt,a[0]=jt,e[1]=ft,a[1]=lt,e[2]=gt,a[2]=pt):(lt>=jt?(yt=ft,ut=jt):(yt=dt,ut=lt),e[0]=dt,a[0]=jt,e[1]=ft,a[1]=lt,e[2]=yt,a[2]=ut),this.hg.setColor(o.color),this.hg.fillPolygon(e,a,3),dt<=ft){if(jt>=lt){jt<this.gg.di.height&&this.hg.fillRect(dt,jt,ft-dt,this.gg.di.height-jt);continue}lt<this.gg.di.height&&this.hg.fillRect(dt,lt,ft-dt,this.gg.di.height-lt);continue}if(lt>=jt){jt>0&&this.hg.fillRect(ft,0,dt-ft,jt);continue}lt>0&&this.hg.fillRect(ft,0,dt-ft,lt)}else{o.view_x=this.yo[c].x-this.maps.wx,o.view_y=this.yo[c].y-this.maps.wy;var vt,xt,kt,wt,bt=o.view_x,St=o.view_y,Mt=this.yo[c].x2-this.maps.wx,Ct=this.yo[c].y2-this.maps.wy;if(bt<0&&Mt<0||bt>=this.gg.di.width&&Mt>=this.gg.di.width){o.draw_f=!1;continue}o.draw_f=!0,bt<=Mt?(St>=Ct?(vt=Mt,xt=St):(vt=bt,xt=Ct),e[0]=bt,a[0]=St,e[1]=Mt,a[1]=Ct,e[2]=vt,a[2]=xt):(Ct>=St?(kt=Mt,wt=St):(kt=bt,wt=Ct),e[0]=bt,a[0]=St,e[1]=Mt,a[1]=Ct,e[2]=kt,a[2]=wt),this.hg.setColor(o.color),this.hg.fillPolygon(e,a,3)}else{o.view_x=this.yo[c].x-this.maps.wx,o.view_y=this.yo[c].y-this.maps.wy;var It=o.view_x,Bt=o.view_y,Gt=this.yo[c].x2-this.maps.wx,zt=this.yo[c].y2-this.maps.wy;It<0&&Gt<0||It>=this.gg.di.width&&Gt>=this.gg.di.width?o.draw_f=!1:(o.draw_f=!0,this.hg.setColor(o.color),this.hg.drawLine(It,Bt,Gt,zt))}else{if(o.view_x=this.yo[c].x-this.maps.wx,o.view_y=this.yo[c].y-this.maps.wy,o.view_x+o.width<=0||o.view_x>=this.gg.di.width||o.view_y+o.height<=0||o.view_y>=this.gg.di.height){o.draw_f=!1;continue}o.draw_f=!0;var At=o.pt;At>0&&this.gg.drawPattern(o.view_x,o.view_y,At,o.pth)}else o.view_x=this.yo[c].x-this.maps.wx,o.view_y=this.yo[c].y-this.maps.wy,o.view_x+o.width<=0||o.view_x>=this.gg.di.width||o.view_y+o.height<=0||o.view_y>=this.gg.di.height?o.draw_f=!1:(o.draw_f=!0,this.hg.setColor(o.color),this.hg.fillRect(o.view_x,o.view_y,o.width,o.height));else{if(o.view_x=this.yo[c].x-this.maps.wx,o.view_y=this.yo[c].y-this.maps.wy,o.view_x+o.width<=0||o.view_x>=this.gg.di.width||o.view_y+o.height<=0||o.view_y>=this.gg.di.height){o.draw_f=!1;continue}o.draw_f=!0,null!=o.img&&this.hg.drawImage(o.img,o.view_x,o.view_y,this.ap)}}}},{key:"atariYuka",value:function(t){if(!(this.yuka_id_max<0))if(0==t)for(var i=0;i<=this.yuka_id_max;i++){var s=this.yo[i];if(0!=s.con&&2!=s.type)if(s.con>=100&&s.con<200)14==this.j_tokugi||15==this.j_tokugi?this.co_j.x+31>=s.x&&this.co_j.x<s.x+s.width&&this.co_j.y+31>=s.y&&this.co_j.y<s.y+s.height&&(this.co_j.x=s.x+s.width,this.co_j.vx=0):this.co_j.x+15>=s.x&&this.co_j.x+15<s.x+s.width&&this.co_j.y+31>=s.y&&this.co_j.y<s.y+s.height&&(this.co_j.x=s.x+s.width-15,this.co_j.vx=0);else if(s.con>=200&&s.con<300){if(this.co_j.vy>=0){var h=this.getSLOY(s.x,s.y,s.x2,s.y2);h>=0&&this.co_j.y>=h&&this.co_j.y<=h+31&&(this.co_j.y=h,this.co_j.vy=0)}}else if(s.con>=300&&s.con<350){var e=this.getSCOAlign(s.x,s.y,s.x2,s.y2);if(s.y-e<this.co_j.y+31&&s.y+e>this.co_j.y&&(e=li(90*s.x2/100),s.x<=this.co_j.x+15&&s.x+e>=this.co_j.x+15&&(this.co_j.x=s.x+e-14,this.co_j.vx<0&&(this.co_j.vx=0))),(e=this.getSCOY(s.x,s.y,s.x2,s.y2))>=0&&this.co_j.y>=e&&this.co_j.y<=e+47&&(this.co_j.y=e,this.co_j.vy=0,this.maps.getBGCode(this.co_j.x+15,this.co_j.y)>=18&&this.co_j.c<200&&(this.co_j.y=32*vi(this.co_j.y,5)+32-16,this.co_j.pt=114,this.jShinu(3))),this.co_j.vy<0){var a=this.getSCOYCeiling(s.x,s.y,s.x2,s.y2);a>=0&&this.co_j.y<=a&&this.co_j.y>=a-47&&(this.co_j.y=a,this.co_j.vy<0&&(this.co_j.vy=0))}}else if(s.con>=350&&s.con<400){if(this.co_j.vy>=0){var c=this.getSHCOY(s.x,s.y,s.x2,s.y2);c>=0&&this.co_j.y>=c&&this.co_j.y<=c+31&&(this.co_j.y=c,this.co_j.vy=0)}}else if(400==s.con||410==s.con){if(this.co_j.vy>=0){var o=this.getSWUpOY(s.x,s.y,s.x2,s.y2);o>=0&&this.co_j.y>=o&&this.co_j.y<=o+31&&(this.co_j.y=o,this.co_j.vy=0)}}else if((450==s.con||460==s.con)&&this.co_j.vy>=0){var _=this.getSWDownOY(s.x,s.y,s.x2,s.y2);_>=0&&this.co_j.y>=_&&this.co_j.y<=_+31&&(this.co_j.y=_,this.co_j.vy=0)}}else if(1==t)for(var r=0;r<=this.yuka_id_max;r++){var n=this.yo[r];if(0!=n.con&&2!=n.type)if(n.con>=100&&n.con<200)14==this.j_tokugi||15==this.j_tokugi?this.co_j.x+31>=n.x&&this.co_j.x<n.x+n.width&&this.co_j.y+31>=n.y&&this.co_j.y<n.y+n.height&&(this.co_j.x=n.x-32,this.co_j.vx=0):this.co_j.x+15>=n.x&&this.co_j.x+15<n.x+n.width&&this.co_j.y+31>=n.y&&this.co_j.y<n.y+n.height&&(this.co_j.x=n.x-16,this.co_j.vx=0);else if(n.con>=200&&n.con<300){if(this.co_j.vy>=0){var m=this.getSLOY(n.x,n.y,n.x2,n.y2);m>=0&&this.co_j.y>=m&&this.co_j.y<=m+31&&(this.co_j.y=m,this.co_j.vy=0)}}else if(n.con>=300&&n.con<350){var g=this.getSCOAlign(n.x,n.y,n.x2,n.y2);if(n.y-g<this.co_j.y+31&&n.y+g>this.co_j.y&&(g=li(90*n.x2/100),n.x-g<=this.co_j.x+15&&n.x>=this.co_j.x+15&&(this.co_j.x=n.x-g-16,this.co_j.vx>0&&(this.co_j.vx=0))),(g=this.getSCOY(n.x,n.y,n.x2,n.y2))>=0&&this.co_j.y>=g&&this.co_j.y<=g+47&&(this.co_j.y=g,this.co_j.vy=0,this.maps.getBGCode(this.co_j.x+15,this.co_j.y)>=18&&this.co_j.c<200&&(this.co_j.y=32*vi(this.co_j.y,5)+32-16,this.co_j.pt=114,this.jShinu(3))),this.co_j.vy<0){var p=this.getSCOYCeiling(n.x,n.y,n.x2,n.y2);p>=0&&this.co_j.y<=p&&this.co_j.y>=p-47&&(this.co_j.y=p,this.co_j.vy<0&&(this.co_j.vy=0))}}else if(n.con>=350&&n.con<400){if(this.co_j.vy>=0){var y=this.getSHCOY(n.x,n.y,n.x2,n.y2);y>=0&&this.co_j.y>=y&&this.co_j.y<=y+31&&(this.co_j.y=y,this.co_j.vy=0)}}else if(400==n.con||410==n.con){if(this.co_j.vy>=0){var u=this.getSWUpOY(n.x,n.y,n.x2,n.y2);u>=0&&this.co_j.y>=u&&this.co_j.y<=u+31&&(this.co_j.y=u,this.co_j.vy=0)}}else if((450==n.con||460==n.con)&&this.co_j.vy>=0){var d=this.getSWDownOY(n.x,n.y,n.x2,n.y2);d>=0&&this.co_j.y>=d&&this.co_j.y<=d+31&&(this.co_j.y=d,this.co_j.vy=0)}}else if(2==t)for(var j=0;j<=this.yuka_id_max;j++){var f=this.yo[j];if(0!=f.con&&2!=f.type)if(f.con>=100&&f.con<200)14==this.j_tokugi||15==this.j_tokugi?this.co_j.x+31>=f.x&&this.co_j.x<f.x+f.width&&this.co_j.y+31>=f.y&&this.co_j.y<f.y+f.height&&(this.co_j.y=f.y+f.height,this.co_j.vy=0):this.co_j.x+15>=f.x&&this.co_j.x+15<f.x+f.width&&this.co_j.y+31>=f.y&&this.co_j.y<f.y+f.height&&(this.co_j.y=f.y+f.height,this.co_j.vy=0);else if(f.con>=300&&f.con<350){var l=this.getSCOYCeiling(f.x,f.y,f.x2,f.y2);l>=0&&this.co_j.y<=l&&this.co_j.y>=l-63&&this.co_j.y>=f.y-8&&(this.co_j.y=l,this.co_j.vy<0&&(this.co_j.vy=0),this.maps.getBGCode(this.co_j.x+15,this.co_j.y+31)>=20&&this.co_j.c<200&&(this.co_j.y=32*vi(this.co_j.y+31,5)-32,this.jShinu(3)))}}else if(3==t)for(var v=0;v<=this.yuka_id_max;v++){var x=this.yo[v];if(0!=x.con&&2!=x.type)if(x.con>=100&&x.con<200){if(14==this.j_tokugi||15==this.j_tokugi){this.co_j.x+31>=x.x&&this.co_j.x<x.x+x.width&&this.co_j.y+31>=x.y&&this.co_j.y<x.y+x.height&&(this.co_j.y=x.y-32,this.co_j.vy=0);continue}this.co_j.x+15>=x.x&&this.co_j.x+15<x.x+x.width&&this.co_j.y+31>=x.y&&this.co_j.y<x.y+x.height&&(this.co_j.y=x.y-32,this.co_j.vy=0)}else if(x.con>=200&&x.con<300){var k=this.getSLOY(x.x,x.y,x.x2,x.y2);k>=0&&this.co_j.y>=k&&this.co_j.y<=k+31&&(this.co_j.y=k,this.co_j.vy=0)}else if(x.con>=300&&x.con<350){var w=this.getSCOY(x.x,x.y,x.x2,x.y2);if(w>=0&&this.co_j.y>=w&&this.co_j.y<=w+31&&(this.co_j.y=w,this.co_j.vy=0,0==this.co_j.vx&&(this.co_j.pt=100)),this.co_j.y<=x.y)continue;if((w=this.getSCOYCeiling(x.x,x.y,x.x2,x.y2))<0||this.co_j.y>w||this.co_j.y<w-31)continue;this.co_j.y=w,this.co_j.vy<0&&(this.co_j.vy=0),this.maps.getBGCode(this.co_j.x+15,this.co_j.y+31)>=20&&(this.co_j.y=32*vi(this.co_j.y+31,5)-32,this.jShinu(3))}else if(x.con>=350&&x.con<400){var b=this.getSHCOY(x.x,x.y,x.x2,x.y2);if(b<0||this.co_j.y<b||this.co_j.y>b+31)continue;this.co_j.y=b,this.co_j.vy=0,0==this.co_j.vx&&(this.co_j.pt=100)}else if(400!=x.con&&410!=x.con){if(450==x.con||460==x.con){var S=this.getSWDownOY(x.x,x.y,x.x2,x.y2);S<0||this.co_j.y<S||this.co_j.y>S+31||(this.co_j.y=S,this.co_j.vy=0,0==this.co_j.vx&&(this.co_j.pt=100))}}else{var M=this.getSWUpOY(x.x,x.y,x.x2,x.y2);if(M<0||this.co_j.y<M||this.co_j.y>M+31)continue;this.co_j.y=M,this.co_j.vy=0,0==this.co_j.vx&&(this.co_j.pt=100)}}}},{key:"isYukaCross",value:function(){var t=!1;if(this.yuka_id_max<0)return!1;if(this.co_j.c<100||this.co_j.c>=200)return!1;for(var i=0;i<=this.yuka_id_max;i++){var s=this.yo[i];if(!(0==s.con||2==s.type||s.con<100||s.con>=200)){if(14==this.j_tokugi||15==this.j_tokugi){if(this.co_j.x+31<s.x||this.co_j.x>=s.x+s.width||this.co_j.y+31<s.y||this.co_j.y>=s.y+s.height)continue;t=!0;break}if(!(this.co_j.x+15<s.x||this.co_j.x+15>=s.x+s.width||this.co_j.y+31<s.y||this.co_j.y>=s.y+s.height)){t=!0;break}}}return t}},{key:"getSLOY",value:function(t,i,s,h){if(t>=s)return-1;var e=this.co_j.x+15;if(e<t||e>s)return-1;var a=s-t,c=h-i;if(Math.floor(180*Math.atan2(Math.abs(c),Math.abs(a))/3.140000104904175)>70)return-1;var o=li(c*(e-t)/a);return i+o-32}},{key:"getSCOYCeiling",value:function(t,i,s,h){var e=this.co_j.x+15,a=li(90*s/100);return e<t-a||e>t+a?-1:i+Math.floor(Math.sqrt(s*s-(e-t)*(e-t)))}},{key:"getSCOAlign",value:function(t,i,s,h){var e=li(90*s/100);return Math.floor(Math.sqrt(s*s-e*e))}},{key:"getSCOY",value:function(t,i,s,h,e){var a,c=li(90*s/100);return(a=void 0===e?this.co_j.x+15:e)<t-c||a>t+c?-1:i-Math.floor(Math.sqrt(s*s-(a-t)*(a-t)))-32}},{key:"getSHCOY",value:function(t,i,s,h,e){var a;return(a=void 0===e?this.co_j.x+15:e)<t||a>t+239?-1:i+144-Math.floor(Math.sqrt(20736-Math.abs(t+120-a)*Math.abs(t+120-a)))-32}},{key:"getSWUpOY",value:function(t,i,s,h,e){var a,c;if((a=void 0===e?this.co_j.x+15:e)<t||a>t+255)return-1;if(a-t<=127){var o=a-t;c=i-32+Math.floor(Math.sqrt(25600-o*o))-32}else{var _=t+255-a;c=i+128+32-Math.floor(Math.sqrt(25600-_*_))-32}return c}},{key:"getSWDownOY",value:function(t,i,s,h,e){var a,c;if((a=void 0===e?this.co_j.x+15:e)<t||a>t+255)return-1;if(a-t<=127){var o=t-a;c=i+128+32-Math.floor(Math.sqrt(25600-o*o))-32}else{var _=t+255-a;c=i-32+Math.floor(Math.sqrt(25600-_*_))-32}return c}},{key:"setChipValue",value:function(t,i,s){var h=-1;switch(s){case 46:case 0:break;case 49:h=1;break;case 50:h=2;break;case 51:h=3;break;case 52:h=4;break;case 53:h=5;break;case 54:h=6;break;case 55:h=7;break;case 56:h=8;break;case 57:h=9;break;case 97:h=20;break;case 98:h=21;break;case 99:h=22;break;case 100:h=23;break;case 101:h=24;break;case 102:h=25;break;case 103:h=26;break;case 104:h=27;break;case 105:h=28;break;case 91:h=15;break;case 93:h=10;break;case 60:h=18;break;case 62:h=19;break;case 106:h=29;break;case 107:this.coin1_type>=2?-99==(h=this.setAthleticOnMap(this.coin1_type,t,i))&&(h=40,this.hSet(t,i,100)):14==this.j_tokugi?this.mSet(32*t,32*i,2181):15==this.j_tokugi?this.mSet(32*t,32*i,2e3):(h=40,this.hSet(t,i,100));break;case 108:this.coin3_type>=2?-99==(h=this.setAthleticOnMap(this.coin3_type,t,i))&&(h=40,this.hSet(t,i,200)):14==this.j_tokugi?this.mSet(32*t,32*i,2182):15==this.j_tokugi?(this.mSet(32*t,32*i,2010),this.mSet(32*t,32*i,2020),this.mSet(32*t,32*i,2e3)):(h=40,this.hSet(t,i,200));break;case 109:14==this.j_tokugi||15==this.j_tokugi?this.mSet(32*t,32*i,2100):(h=40,this.hSet(t,i,300));break;case 110:14==this.j_tokugi||15==this.j_tokugi?this.mSet(32*t,32*i,2110):(h=40,this.hSet(t,i,400));break;case 111:14==this.j_tokugi||15==this.j_tokugi?this.mSet(32*t,32*i,2120):(h=40,this.hSet(t,i,500));break;case 112:14==this.j_tokugi||15==this.j_tokugi?this.mSet(32*t,32*i,2130):(h=40,this.hSet(t,i,600));break;case 113:14==this.j_tokugi||15==this.j_tokugi?this.mSet(32*t,32*i,2140):(h=40,this.hSet(t,i,700));break;case 114:14==this.j_tokugi||15==this.j_tokugi?this.mSet(32*t,32*i,2150):(h=40,this.hSet(t,i,800));break;case 115:14==this.j_tokugi||15==this.j_tokugi?this.mSet(32*t,32*i,2160):(h=40,this.hSet(t,i,900));break;case 116:14==this.j_tokugi||15==this.j_tokugi?this.mSet(32*t,32*i,2170):(h=40,this.hSet(t,i,1e3));break;case 117:this.dokan1_type>=2?-99==(h=this.setAthleticOnMap(this.dokan1_type,t,i))&&(this.aSet(32*t,32*i,300,32*t),4==this.maps.map_bg[t-1][i]&&(h=4)):(this.aSet(32*t,32*i,300,32*t),4==this.maps.map_bg[t-1][i]&&(h=4));break;case 118:this.dokan2_type>=2?-99==(h=this.setAthleticOnMap(this.dokan2_type,t,i))&&(this.aSet(32*t,32*i,310,32*t),4==this.maps.map_bg[t-1][i]&&(h=4)):(this.aSet(32*t,32*i,310,32*t),4==this.maps.map_bg[t-1][i]&&(h=4));break;case 119:this.dokan3_type>=2?-99==(h=this.setAthleticOnMap(this.dokan3_type,t,i))&&(this.aSet(32*t,32*i,320,32*t),4==this.maps.map_bg[t-1][i]&&(h=4)):(this.aSet(32*t,32*i,320,32*t),4==this.maps.map_bg[t-1][i]&&(h=4));break;case 120:this.dokan4_type>=2?-99==(h=this.setAthleticOnMap(this.dokan4_type,t,i))&&(this.aSet(32*t,32*i,330,32*t),4==this.maps.map_bg[t-1][i]&&(h=4)):(this.aSet(32*t,32*i,330,32*t),4==this.maps.map_bg[t-1][i]&&(h=4));break;case 121:this.stage_1up_f[this.stage-1]||17==this.j_tokugi?14==this.j_tokugi||15==this.j_tokugi?this.mSet(32*t,32*i,2180):(h=40,this.hSet(t,i,1100)):h=41;break;case 122:h=69;break;case 43:this.aSet(32*t,32*i,80,32*t),4==this.maps.map_bg[t-1][i]&&(h=4);break;case 45:this.aSet(32*t,32*i,81,32*t),4==this.maps.map_bg[t-1][i]&&(h=4);break;case 42:this.aSet(32*t,32*i,82,32*t),4==this.maps.map_bg[t-1][i]&&(h=4);break;case 47:this.aSet(32*t,32*i,83,32*t),4==this.maps.map_bg[t-1][i]&&(h=4);break;case 65:this.co_j.x=32*t,this.co_j.y=32*i,4==this.maps.map_bg[t-1][i]&&(h=4);break;case 66:this.tSet(32*t,32*i,100,32*t-this.gg.di.width-32),4==this.maps.map_bg[t-1][i]&&(h=4);break;case 67:this.tSet(32*t,32*i,110,32*t-this.gg.di.width-32),4==this.maps.map_bg[t-1][i]&&(h=4);break;case 68:this.tSet(32*t,32*i,110,32*t-this.gg.di.width-32),this.tSet(32*t+75,32*i,110,32*t-this.gg.di.width-32),this.tSet(32*t+150,32*i,110,32*t-this.gg.di.width-32),4==this.maps.map_bg[t-1][i]&&(h=4);break;case 69:3==this.dengeki_mkf?this.tSet(32*t,32*i,201,32*t-this.gg.di.width-32):4==this.dengeki_mkf?this.tSet(32*t,32*i,202,32*t-this.gg.di.width-32):5==this.dengeki_mkf?this.tSet(32*t,32*i,203,32*t-this.gg.di.width-32):this.tSet(32*t,32*i,200,32*t-this.gg.di.width-32),4==this.maps.map_bg[t-1][i]&&(h=4);break;case 70:this.chikorin_attack>=2&&this.chikorin_attack<=5?this.tSet(32*t,32*i,308+this.chikorin_attack,32*t-this.gg.di.width-32):6==this.chikorin_attack?this.tSet(32*t,32*i,301,32*t-this.gg.di.width-32):7==this.chikorin_attack?this.tSet(32*t,32*i,320,32*t-this.gg.di.width-32):8==this.chikorin_attack?this.tSet(32*t,32*i,330,32*t-this.gg.di.width-32):9==this.chikorin_attack?this.tSet(32*t,32*i,335,32*t-this.gg.di.width-32):this.tSet(32*t,32*i,300,32*t-this.gg.di.width-32),4==this.maps.map_bg[t-1][i]&&(h=4);break;case 71:this.tSet(32*t,32*i,400,32*t-this.gg.di.width-32),4==this.maps.map_bg[t-1][i]&&(h=4);break;case 72:this.tSet(32*t,32*i,500,32*t-this.gg.di.width-32),4==this.maps.map_bg[t-1][i]&&(h=4);break;case 73:2==this.poppie_attack?this.tSet(32*t,32*i,520,32*t-this.gg.di.width-32):3==this.poppie_attack?this.tSet(32*t,32*i,530,32*t-this.gg.di.width-32):4==this.poppie_attack?this.tSet(32*t,32*i,540,32*t-this.gg.di.width-32):5==this.poppie_attack?this.tSet(32*t,32*i,550,32*t-this.gg.di.width-32):this.tSet(32*t,32*i,510,32*t-this.gg.di.width-32),4==this.maps.map_bg[t-1][i]&&(h=4);break;case 74:this.tSet(32*t,32*i,510,32*t-this.gg.di.width-32-32),this.tSet(32*t+80,32*i-40,510,32*t-this.gg.di.width-32-32),this.tSet(32*t+140,32*i+38,510,32*t-this.gg.di.width-32-32),4==this.maps.map_bg[t-1][i]&&(h=4);break;case 75:4==this.maps.map_bg[t-1][i]&&(h=4),this.ugokuyuka1_type>=2?-99==(h=this.setAthleticOnMap(this.ugokuyuka1_type,t,i))&&this.aSet(32*t,32*i,100,32*t):this.aSet(32*t,32*i,100,32*t);break;case 76:4==this.maps.map_bg[t-1][i]&&(h=4),this.ugokuyuka2_type>=2?-99==(h=this.setAthleticOnMap(this.ugokuyuka2_type,t,i))&&this.aSet(32*t,32*i+9,110,32*t-16):this.aSet(32*t,32*i+9,110,32*t-16);break;case 77:4==this.maps.map_bg[t-1][i]&&(h=4),this.ugokuyuka3_type>=2?-99==(h=this.setAthleticOnMap(this.ugokuyuka3_type,t,i))&&(this.aSet(32*t,32*i+9,115,32*t-16),this.aSet(32*t,32*i+9,116,32*t-16)):(this.aSet(32*t,32*i+9,115,32*t-16),this.aSet(32*t,32*i+9,116,32*t-16));break;case 78:4==this.maps.map_bg[t-1][i]&&(h=4),this.dossunsun_type>=2?-99==(h=this.setAthleticOnMap(this.dossunsun_type,t,i))&&this.aSet(32*t-32,32*i,400,32*t):this.aSet(32*t-32,32*i,400,32*t);break;case 79:2==this.mariri_attack?this.tSet(32*t,32*i,601,32*t-this.gg.di.width-32):3==this.mariri_attack?this.tSet(32*t,32*i,602,32*t-this.gg.di.width-32):4==this.mariri_attack?this.tSet(32*t,32*i,660,32*t-this.gg.di.width-32):5==this.mariri_attack?this.tSet(32*t,32*i,670,32*t-this.gg.di.width-32):this.tSet(32*t,32*i,600,32*t-this.gg.di.width-32),4==this.maps.map_bg[t-1][i]&&(h=4);break;case 80:this.yachamo_attack>=1&&this.yachamo_attack<=5?this.tSet(32*t,32*i,699+this.yachamo_attack,32*t-this.gg.di.width-32):6==this.yachamo_attack?this.tSet(32*t,32*i,710,32*t-this.gg.di.width-32):7==this.yachamo_attack?this.tSet(32*t,32*i,711,32*t-this.gg.di.width-32):8==this.yachamo_attack?this.tSet(32*t,32*i,720,32*t-this.gg.di.width-32):9==this.yachamo_attack?this.tSet(32*t,32*i,725,32*t-this.gg.di.width-32):this.tSet(32*t,32*i,700,32*t-this.gg.di.width-32),4==this.maps.map_bg[t-1][i]&&(h=4);break;case 81:14==this.j_tokugi?this.tSet(32*t,32*i,850,32*t-this.gg.di.width-32):this.mizutaro_attack>=1&&this.mizutaro_attack<=5?this.tSet(32*t,32*i,799+this.mizutaro_attack,32*t-this.gg.di.width-32):this.tSet(32*t,32*i,800,32*t-this.gg.di.width-32),4==this.maps.map_bg[t-1][i]&&(h=4);break;case 82:2==this.airms_kf?this.tSet(32*t,32*i,950,32*t-this.gg.di.width-32):3==this.airms_kf?this.tSet(32*t,32*i,920,32*t-this.gg.di.width-32):4==this.airms_kf?this.tSet(32*t,32*i,921,32*t-this.gg.di.width-32):5==this.airms_kf?this.tSet(32*t,32*i,930,32*t-this.gg.di.width-32):this.tSet(32*t,32*i,900,32*t-this.gg.di.width-32),4==this.maps.map_bg[t-1][i]&&(h=4);break;case 83:this.co_b.c=100,this.co_b.c4=3,this.co_b.x=32*t,this.co_b.y=32*i-16,4==this.maps.map_bg[t-1][i]&&(h=4),this.co_b.x<this.gg.di.width-64?this.co_b.x=this.gg.di.width-64:this.co_b.x>32*(this.mapWidth-3)&&(this.co_b.x=32*(this.mapWidth-3)),10==this.sl_step?this.sl_step=11:this.sl_step=1,this.sl_wx=this.co_b.x-(this.gg.di.width-128),this.sl_wy=32*(this.mapHeight-li((this.gg.di.height-this.maps.wy_mini)/32)),2==this.boss_destroy_type&&(this.co_b.x+=160);break;case 84:this.co_b.c=200,this.co_b.c4=3,this.co_b.x=32*t,this.co_b.y=32*i-16,4==this.maps.map_bg[t-1][i]&&(h=4),this.co_b.x<this.gg.di.width-64?this.co_b.x=this.gg.di.width-64:this.co_b.x>32*(this.mapWidth-3)&&(this.co_b.x=32*(this.mapWidth-3)),10==this.sl_step?this.sl_step=11:this.sl_step=1,this.sl_wx=this.co_b.x-(this.gg.di.width-128),this.sl_wy=32*(this.mapHeight-li((this.gg.di.height-this.maps.wy_mini)/32)),2==this.boss_destroy_type&&(this.co_b.x+=160);break;case 85:4==this.maps.map_bg[t-1][i]&&(h=4),this.firebar1_type>=2?-99==(h=this.setAthleticOnMap(this.firebar1_type,t,i))&&(this.aSet(32*t+16,32*i+16,70,32*t),h=50):(this.aSet(32*t+16,32*i+16,70,32*t),h=50);break;case 86:4==this.maps.map_bg[t-1][i]&&(h=4),this.firebar2_type>=2?-99==(h=this.setAthleticOnMap(this.firebar2_type,t,i))&&(this.aSet(32*t+16,32*i+16,71,32*t),h=50):(this.aSet(32*t+16,32*i+16,71,32*t),h=50);break;case 87:2==this.taiking_attack?this.tSet(32*t,32*i,1050,32*t-this.gg.di.width-32):3==this.taiking_attack?this.tSet(32*t,32*i,1060,32*t-this.gg.di.width-32):4==this.taiking_attack?this.tSet(32*t,32*i,1070,32*t-this.gg.di.width-32):5==this.taiking_attack?this.tSet(32*t,32*i,1080,32*t-this.gg.di.width-32-32):14==this.j_tokugi?this.tSet(32*t,32*i,1002,32*t-this.gg.di.width-32-32):15==this.j_tokugi?this.tSet(32*t,32*i,1003,32*t-this.gg.di.width-32):(this.tSet(32*t,32*i-16,1e3,32*t-this.gg.di.width-32-32),h=4),4!=this.maps.map_bg[t-1][i]&&4!=this.maps.map_bg[t][i-1]||(h=4);break;case 88:2==this.kuragesso_attack?this.tSet(32*t,32*i,1150,32*t-this.gg.di.width-32):3==this.kuragesso_attack?this.tSet(32*t,32*i,1160,32*t-this.gg.di.width-32):4==this.kuragesso_attack?this.tSet(32*t,32*i,1170,32*t-this.gg.di.width-32):5==this.kuragesso_attack?this.tSet(32*t,32*i,1180,32*t-this.gg.di.width-32-32):14==this.j_tokugi?this.tSet(32*t,32*i,1102,32*t-this.gg.di.width-32):15==this.j_tokugi?this.tSet(32*t,32*i,1103,32*t-this.gg.di.width-32):(this.tSet(32*t,32*i,1100,32*t-this.gg.di.width-32),h=4),4!=this.maps.map_bg[t-1][i]&&4!=this.maps.map_bg[t][i-1]||(h=4);break;case 89:this.aSet(32*t,32*i,60,32*t),4==this.maps.map_bg[t-1][i]&&(h=4);break;case 90:this.co_b.c=300,this.co_b.c4=3,this.co_b.x=32*t,this.co_b.y=32*i-16,this.boss_kijyun_y=this.co_b.y,4==this.maps.map_bg[t-1][i]&&(h=4),this.co_b.x<this.gg.di.width-64?this.co_b.x=this.gg.di.width-64:this.co_b.x>32*(this.mapWidth-3)&&(this.co_b.x=32*(this.mapWidth-3)),10==this.sl_step?this.sl_step=11:this.sl_step=1,this.sl_wx=this.co_b.x-(this.gg.di.width-128),this.sl_wy=32*(this.mapHeight-li((this.gg.di.height-this.maps.wy_mini)/32)),2==this.boss_destroy_type&&(this.co_b.x+=160);break;case 123:this.tSet(32*t,32*i,1200,32*t-this.gg.di.width-32),4==this.maps.map_bg[t-1][i]&&(h=4);break;case 125:this.tSet(32*t,32*i,1400,32*t-this.gg.di.width-32),4==this.maps.map_bg[t-1][i]&&(h=4);break;default:if("string"==typeof s){if(this.customParts&&this.customParts[s]){var e=this.customParts[s].nativeCode;e>=5e3&&e<1e4&&(this.tSet(32*t,32*i,s,32*t-this.gg.di.width-32),4==this.maps.map_bg[t-1][i]&&(h=4))}break}s>=1e3&&s<5e3?h=this.setAthleticOnMap(s-1e3,t,i):s>=5e3&&s<1e4&&(this.tSet(32*t,32*i,s-5e3,32*t-this.gg.di.width-32),4==this.maps.map_bg[t-1][i]&&(h=4))}return h}},{key:"getSnapshot",value:function(){var t=this,i={};return["ran_seed","ana_kazu","ochiru_y","j_hashiru_f","j_jump_level","j_jump_type","j_zan_f","j_zan_cf","j_zan_p","j_zan_nagasa","j_zan_c","j_a_id","j_mizu_f","j_mizu_ac","j_mizu_awa_c","j_left","j_jdai_f","boss_hp","showm_c","showi_c","showi_x","showi_y","time","m_kazu","jm_kazu","a_hf","j_fire_f","j_v_c","j_v_kakudo","j_jet_c","j_jet_kf","j_jet_fuel","j_helm_f","j_drell_f","j_tail_f","j_tail_ac","j_gr_kazu","sl_step","sl_wx","sl_wy","sl_speed","ks_wx","ks_wy","j_tail_hf","j_tail_type","yachamo_attack","poppie_attack","hitokoto_num","boss_kijyun_y","coin_kazu","tpika_p","setmyw_w","setmyw_pt","setmyw_muki","souko_count1","souko_count2","souko_count3","heh","system_draw_mode","ml_mode","ml_mode_c","score","highscore","score_1up_1","score_1up_2","stage","stage_cc","g_c1","g_c2","g_c3","g_ac","g_ac2","tr1_c","tr2_c","left_dcc","right_dcc","xkey_c","vo_x","vo_y","ana_c","ana_x","ana_y","j_zan_x","j_zan_y","j_zan_pt","j_zan_pth","j_zan_img","j_zan_zs_x","j_zan_zs_y","j_shitakara_mushi_y","j_hashigo_f","j_hashigo_mushi_x","j_djump_kf","j_speed","j_fire_range","j_rope_id","j_rope_r","j_rope_cf","j_cannon_c","j_cannon_type","saka_mushi_y","dkey_count","j_hp_v","j_hp","j_hp_max","j_muteki_c","j_4_muki","showm_data","showi_img","setmapc_f","setbacki_f","setbacki_img","showr_c","showr_x","showr_y","showr_width","showr_height","showo_c","showo_x","showo_y","showo_width","showo_height","js_mes","gauge_v","gauge_value","gauge_text","vo_pa_x","vo_pa_y","stage_1up_f","j_fire_type","mu_ato_x","mu_ato_y","mu_ato_p","j_double_f","view_move_type","hitokoto_c","title_lock_f","start_game_f","mode_wait_ending","mode_wait_gameover","mode_wait_stagestart","attacktail_yf","mhouse_c","mhouse_x","mhouse_y","yuka_ride_id","dso_cf","spot_c","spot_r","spot_r_mokuhyou","draw_lock_f","nkscroll_con","nkscroll_view_x","nkscroll_view_y","nkscroll_my_view_x","nkscroll_my_view_y","nkscroll_speed_x","nkscroll_vx","nkscroll_vy","nkscroll_zsc","boss_attack_mode","cpoint_con","cpoint_stage","cpoint_x","cpoint_y","jst_slow_down","jst_key_down","jst_fast_run_attack","jst_fly_left_right","jst_fire_xkey_only","jst_kabe_kick","jst_double_jump","jst_fast_run","jst_high_sjump","jst_jump_level_fix","jst_auto_right","jst_syouryuuken","jst_pc_attack","up_key_c","down_key_c"].forEach((function(s){i[s]=t[s]})),i.map_data_option=function(t){for(var i=t.length,s=t[0]&&t[0].length||0,h=[],e=0;e<i;e++)for(var a=0;a<s;a++)t[e][a]&&h.push({x:e,y:a});return{width:i,height:s,arr:h}}(this.map_data_option),i.co_j=s(this.co_j),["co_t","co_m","co_a","co_jm","co_mu"].forEach((function(h){i[h]=t[h].map((function(t){return t.c<=0?0:s(t)}))})),i.yo=this.yo.map((function(t){return JSON.stringify(t)})),i;function s(t){return JSON.stringify(t)}}}],s&&Kt(i.prototype,s),Object.defineProperty(i,"prototype",{writable:!1}),t}();function Zt(t){return Zt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zt(t)}function Xt(t,i){for(var s=0;s<i.length;s++){var h=i[s];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(t,(void 0,e=function(t,i){if("object"!==Zt(t)||null===t)return t;var s=t[Symbol.toPrimitive];if(void 0!==s){var h=s.call(t,"string");if("object"!==Zt(h))return h;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(h.key),"symbol"===Zt(e)?e:String(e)),h)}var e}s(8833);var $t=function(){function t(i,s,h,e,a){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.chip_width=i,this.chip_height=s,this.chip_x_count=h,this.chip_y_count=e,this.ai_width=a._width,this.ai_height=a._height,this.chip_img=fi(this.chip_x_count*this.chip_y_count,4),this.ai_img=a,this.createImageBuffer(0)}var i,s;return i=t,(s=[{key:"makeChipImage",value:function(t){for(var i,s=0;s<this.chip_y_count;s++)for(var h=0;h<this.chip_x_count;h++){var e=h*this.chip_width,a=s*this.chip_height;(i=this.chip_img[h+s*this.chip_x_count][0].getGraphics())&&i.drawImage(this.ai_img,e,a,this.chip_width,this.chip_height,0,0,this.chip_width,this.chip_height,null)}}},{key:"makeReverseChipImage",value:function(){for(var t,i=this.chip_width,s=this.chip_height,h=0;h<this.chip_y_count;h++)for(var e=0;e<this.chip_x_count;e++){var a=e+h*this.chip_x_count;null!=this.chip_img[a][0]&&((t=this.chip_img[a][1].getGraphics())&&(t.scale(-1,1),t.drawImage(this.chip_img[a][0],-i,0,i,s,null),t.dispose()),(t=this.chip_img[a][2].getGraphics())&&(t.scale(1,-1),t.drawImage(this.chip_img[a][0],0,-s,i,s,null),t.dispose()),(t=this.chip_img[a][3].getGraphics())&&(t.scale(-1,-1),t.drawImage(this.chip_img[a][0],-i,-s,i,s,null),t.dispose()))}return!0}},{key:"createImageBuffer",value:function(t){var i,s;for(i=0;i<this.chip_y_count;i++)for(s=0;s<this.chip_x_count;s++)this.chip_img[s+i*this.chip_x_count][t]=new I(this.chip_width,this.chip_height)}},{key:"getChipImage",value:function(t,i){return i||(i=0),t>=this.chip_img.length||t<0||i>3||i<0?null:this.chip_img[t][i]}}])&&Xt(i.prototype,s),Object.defineProperty(i,"prototype",{writable:!1}),t}();function Qt(t){return Qt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qt(t)}function ti(t,i){for(var s=0;s<i.length;s++){var h=i[s];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(t,(void 0,e=function(t,i){if("object"!==Qt(t)||null===t)return t;var s=t[Symbol.toPrimitive];if(void 0!==s){var h=s.call(t,"string");if("object"!==Qt(h))return h;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(h.key),"symbol"===Qt(e)?e:String(e)),h)}var e}function ii(t,i,s){return i&&ti(t.prototype,i),s&&ti(t,s),Object.defineProperty(t,"prototype",{writable:!1}),t}var si=ii((function t(i,s){var h=this;if(function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.my_offscreen_img=null,this.oci=new Array(256),this.ci=null,this.masaoEvent=function(t,i){this.my_offscreen_img=i},this.getHighscore=function(){var t=0;return i.mp&&(t=i.mp.highscore)<i.mp.score&&(t=i.mp.score),t},this.getScore=function(){var t=0;return i.mp&&(t=i.mp.score),t},this.getMode=function(){var t=0;if(i.mp){var s=i.mp.ml_mode;s>=50&&s<=60?t=1:s>=200&&s<300?t=400:s>=300&&s<=310?t=200:s>=400&&s<=410?t=300:100!=i.mp.ml_mode||2!=i.mp.sl_step&&3!=i.mp.sl_step?(t=100,t+=i.mp.stage):t=150}return t},this.soundOn=function(){return!!i.gs&&(i.gs.soundOn(),!0)},this.soundOff=function(){return!!i.gs&&(i.gs.soundOff(),!0)},this.onSound=function(){return!!i.gs&&(i.gs.soundOn(),!0)},this.offSound=function(){return!!i.gs&&(i.gs.soundOff(),!0)},this.getMyX=function(){if(i.mp){if(100==i.mp.ml_mode&&i.mp.co_j.c>=100&&i.mp.co_j.c<200){var t=vi(i.mp.co_j.x+15,5)-1;return t<0&&(t=0),t>=i.mp.mapWidth&&(t=i.mp.mapWidth-1),t}if(200==i.mp.ml_mode)return vi(i.mp.ig.co_j.x+15,5)}return-1},this.getMyY=function(){if(i.mp){if(100==i.mp.ml_mode&&i.mp.co_j.c>=100&&i.mp.co_j.c<200){var t=vi(i.mp.co_j.y+15,5)-10;return t<0&&(t=0),t>=i.mp.mapHeight&&(t=i.mp.mapHeight-1),t}if(200==i.mp.ml_mode)return vi(i.mp.ig.co_j.y+15,5)}return-1},this.getViewX=function(){if(i.mp&&100==i.mp.ml_mode){var t=vi(i.mp.maps.wx,5)-1;return t<0&&(t=0),t>i.mp.mapWidth-16&&(t=i.mp.mapWidth-1),t}return-1},this.getViewY=function(){if(i.mp&&100==i.mp.ml_mode){var t=vi(i.mp.maps.wy,5)-10;return t<0&&(t=0),t>i.mp.mapHeight-10&&(t=i.mp.mapHeight-10),t}return-1},this.setMyPosition=function(t,s){var h,e;return!(!(i.mp&&100==i.mp.ml_mode&&i.mp.co_j.c>=100&&i.mp.co_j.c<200)||(h=parseInt(t),e=parseInt(s),(isNaN(h)||isNaN(e))&&(h=-1,e=-1),h<0||h>=i.mp.mapWidth||e<0||e>=i.mp.mapHeight||(i.mp.co_j.x=32*(h+1),i.mp.co_j.y=32*(e+10),0)))},this.showMessage=function(t,s,h,e,a){return!!i.mp&&i.mp.showmSet(t,s,h,e,a)},this.showImage=function(t,s,h,e){return!!i.mp&&i.mp.showiSet(t,s,h,e)},this.setEnemy=function(t,s,h){return!!i.mp&&i.mp.sete(t,s,h)},this.setMapchip=function(t,s,h){return!!i.mp&&i.mp.setmapc(t,s,h)},this.getMapchip=function(t,s){return i.mp?i.mp.getmapc(t,s):-1},this.setMapchip2=function(t,s,h){return!!i.mp&&i.mp.setmapc2(t,s,h)},this.getMapchip2=function(t,s){return i.mp?i.mp.getmapc2(t,s):-1},this.setBackImage=function(t){return!!i.mp&&i.mp.setbacki(t)},this.pressLeft=function(){return!!i.gk&&(i.gk.left_f=!0,!0)},this.pressLeft2=function(){return!!(i.gk&&i.mp&&100==i.mp.ml_mode&&i.mp.co_j.c>=100&&i.mp.co_j.c<200)&&(i.gk.left_f=!0,i.gk.left_c=2,i.mp.j_hashiru_f=!0,!0)},this.releaseLeft=function(){return!!i.gk&&(i.gk.left_f=!1,!0)},this.pressRight=function(){return!!i.gk&&(i.gk.right_f=!0,!0)},this.pressRight2=function(){return!!(i.gk&&i.mp&&100==i.mp.ml_mode&&i.mp.co_j.c>=100&&i.mp.co_j.c<200)&&(i.gk.right_f=!0,i.gk.right_c=2,i.mp.j_hashiru_f=!0,!0)},this.releaseRight=function(){return!!i.gk&&(i.gk.right_f=!1,!0)},this.pressUp=function(){return!!i.gk&&(i.gk.up_f=!0,!0)},this.releaseUp=function(){return!!i.gk&&(i.gk.up_f=!1,!0)},this.pressDown=function(){return!!i.gk&&(i.gk.down_f=!0,i.gk.tr2_f=!0,!0)},this.releaseDown=function(){return!!i.gk&&(i.gk.down_f=!1,i.gk.tr2_f=!1,!0)},this.pressTrigger1=function(){return!!i.gk&&(i.gk.tr1_f=!0,!0)},this.releaseTrigger1=function(){return!!i.gk&&(i.gk.tr1_f=!1,!0)},this.releaseAll=function(){return!!i.gk&&(i.gk.up_f=!1,i.gk.down_f=!1,i.gk.left_f=!1,i.gk.right_f=!1,i.gk.tr1_f=!1,i.gk.tr2_f=!1,i.gk.x_f=!1,!0)},this.getKeyCode=function(){return i.gk?i.gk.key_code:-1},this.resetKeyCode=function(){return!!i.gk&&(i.gk.key_code=0,!0)},this.equipFire=function(t){if(void 0===t&&(t="1"),this.getMode()>=100&&this.getMode()<200){var s;if(s=parseInt(t),isNaN(s)&&(s=-1),s<0)return!1;if(0==s)return i.mp.j_fire_f=!1,!0;if(1==s)return i.mp.j_fire_f=!0,!0}return!1},this.equipBarrier=function(t){var s;return!(!(i.gk&&i.mp&&100==i.mp.ml_mode&&i.mp.co_j.c>=100&&i.mp.co_j.c<200)||(s=parseInt(t),isNaN(s)&&(s=0),s<=0||(i.mp.j_v_c=s,i.gs.rsAddSound(7),0)))},this.setJetFuel=function(t){var s;return!(!(i.gk&&i.mp&&100==i.mp.ml_mode&&i.mp.co_j.c>=100&&i.mp.co_j.c<200)||(s=parseInt(t),isNaN(s)&&(s=0),s<0||(i.mp.j_jet_fuel=s,0)))},this.equipJet=function(t){return this.setJetFuel(t)},this.restart=function(){return i.restart()},this.getValue=function(t){return i.th_jm<=0?i.tdb.getValue(t):null},this.getParamValue=function(t){return i.th_jm<=0?i.tdb.getValue(t):null},this.setValue=function(t,s){return i.th_jm<=0&&i.tdb.setValue(t,s)},this.setParamValue=function(t,s){return i.th_jm<=0&&i.tdb.setValue(t,s)},this.getMyXReal=function(){return this.getMode()>=100&&this.getMode()<200&&i.mp.co_j.c>=100&&i.mp.co_j.c<200?i.mp.co_j.x:-1},this.getMyYReal=function(){return this.getMode()>=100&&this.getMode()<200&&i.mp.co_j.c>=100&&i.mp.co_j.c<200?i.mp.co_j.y:-1},this.setMyXReal=function(t){var s;return this.getMode()>=100&&this.getMode()<200&&i.mp.co_j.c>=100&&i.mp.co_j.c<200&&(s=parseInt(t),isNaN(s)&&(s=-9999),s<0&&(s=0),i.mp.co_j.x=s,!0)},this.setMyYReal=function(t){var s;return this.getMode()>=100&&this.getMode()<200&&i.mp.co_j.c>=100&&i.mp.co_j.c<200&&(s=parseInt(t),isNaN(s)&&(s=-9999),s<0&&(s=0),i.mp.co_j.y=s,!0)},this.getMyVX=function(){return this.getMode()>=100&&this.getMode()<200&&i.mp.co_j.c>=100&&i.mp.co_j.c<200?i.mp.co_j.vx:-9999},this.getMyVY=function(){return this.getMode()>=100&&this.getMode()<200&&i.mp.co_j.c>=100&&i.mp.co_j.c<200?i.mp.co_j.vy:-9999},this.getViewXReal=function(){return this.getMode()>=100&&this.getMode()<200?i.mp.maps.wx:-1},this.getViewYReal=function(){return this.getMode()>=100&&this.getMode()<200?i.mp.maps.wy:-1},this.getEnemyTotal=function(){if(this.getMode()>=100&&this.getMode()<200){for(var t=0,s=0;s<=i.mp.t_kazu;s++)(i.mp.co_t[s].c>=100||10==i.mp.co_t[s].c)&&t++;return t}return-1},this.getBossXReal=function(){return this.getMode()>=100&&this.getMode()<200?i.mp.co_b.x:-1},this.getBossYReal=function(){return this.getMode()>=100&&this.getMode()<200?i.mp.co_b.y:-1},this.setMyMiss=function(t){var s;return this.getMode()>=100&&this.getMode()<200&&i.mp.co_j.c>=100&&i.mp.co_j.c<200&&(s=parseInt(t),isNaN(s)&&(s=1),(s<1||s>4)&&(s=1),i.mp.jShinu(s),!0)},this.setMyPress=function(t){var s;return this.getMode()>=100&&this.getMode()<200&&i.mp.co_j.c>=100&&i.mp.co_j.c<200&&(s=parseInt(t),isNaN(s)&&(s=1),i.mp.jFumu(s),!0)},this.playSound=function(t){return!!i.gs&&(s=parseInt(t),isNaN(s)&&(s=-1),s>=1&&s<=27&&(this.getMode()>=100&&this.getMode()<200?i.gs.rsAddSound(s-1):i.gs.play(s-1),!0));var s},this.setSound=function(t,s){return!!i.gs&&(h=parseInt(t),isNaN(h)&&(h=-1),h>=1&&h<=32&&(i.gs.setSound(h-1,s),!0));var h},this.setScrollLock=function(t){var s=!1;return this.getMode()>=100&&this.getMode()<200&&(s=i.mp.setScrollLock(t)),s},this.attackFire=function(t,s,h,e){var a=0;return this.getMode()>=100&&this.getMode()<200&&(a=i.mp.attackFire(t,s,h,e)),a},this.addScore=function(t){return!!i.mp&&(s=parseInt(t),isNaN(s)&&(s=0),s>=1&&(i.mp.addScore(s),!0));var s},this.setPenColor=function(t,s,h,e){return void 0===e&&(e="255"),!i.mp||i.mp.setPenColor(t,s,h,e)},this.showRect=function(t,s,h,e,a){return!!i.mp&&i.mp.showrSet(t,s,h,e,a)},this.showOval=function(t,s,h,e,a){return!!i.mp&&i.mp.showoSet(t,s,h,e,a)},this.getJSMes=function(){return i.mp?i.mp.getJSMes():-1},this.showGauge=function(t,s){return!!i.mp&&i.mp.showGauge(t,s)},this.hideGauge=function(){return!!i.mp&&i.mp.hideGauge()},this.setJSMes=function(t){return!!i.mp&&(i.mp.setJSMes(t),!0)},this.setTitleLock=function(){return!!i.mp&&(i.mp.title_lock_f=!0,!0)},this.startGame=function(){return!!i.mp&&(i.mp.start_game_f=!0,!0)},this.equipGrenade=function(t){var s;return this.getMode()>=100&&this.getMode()<200&&i.mp.co_j.c>=100&&i.mp.co_j.c<200&&(s=parseInt(t),isNaN(s)&&(s=-1),!(s<0||(i.mp.j_gr_kazu=s,0)))},this.setSystemImage=function(t,s){return!!i.mp&&i.mp.setSystemImage(t,s)},this.setModeWait=function(t,s){return!!i.mp&&i.mp.setModeWait(t,s)},this.showMyHP=function(t){return!!i.mp&&i.mp.showMyHP(t)},this.setMyMaxHP=function(t){return!!i.mp&&i.mp.setMyMaxHP(t)},this.setMyHP=function(t){return!!i.mp&&i.mp.setMyHP(t)},this.getMyHP=function(){return i.mp?i.mp.getMyHP():0},this.setMyHPDamage=function(t){return!!i.mp&&i.mp.setMyHPDamage(t)},this.setMyWait=function(t,s,h){return i.mp.setMyWait(t,s,h)},this.setStageClear=function(){return!!i.mp&&i.mp.setStageClear()},this.setFireRange=function(t){var s;return!(!i.mp||(s=parseInt(t),isNaN(s)&&(s=0),s<=0||(i.mp.j_fire_range=s,0)))},this.equipTail=function(t){if(this.getMode()>=100&&this.getMode()<200){var s;if(s=parseInt(t),isNaN(s)&&(s=-1),s<0)return!1;if(0==s)return i.mp.j_tail_f=!1,!0;if(1==s)return i.mp.j_tail_f=!0,!0}return!1},this.attackTail=function(t,s,h,e){var a=0;return this.getMode()>=100&&this.getMode()<200&&(a=i.mp.attackTail(t,s,h,e)),a},this.destroyEnemy=function(t,s,h,e){var a=-1;return this.getMode()>=100&&this.getMode()<200&&(a=i.mp.destroyEnemy(t,s,h,e)),a},this.isPressZKey=function(){return i.gk&&i.gk.z_f?1:0},this.isPressXKey=function(){return i.gk&&i.gk.x_f?1:0},this.isPressSpaceKey=function(){return i.gk&&i.gk.space_f?1:0},this.getMyDirection=function(){return this.getMode()>=100&&this.getMode()<200?15==i.mp.j_tokugi?i.mp.j_4_muki:i.mp.co_j.muki:-1},this.setMyDirection=function(t){if(this.getMode()>=100&&this.getMode()<200&&i.mp.co_j.c>=100&&i.mp.co_j.c<200){var s=parseInt(t);if(isNaN(s)&&(s=-1),s<0)return!1;if(15==i.mp.j_tokugi){if(s>3)return!1;i.mp.j_4_muki=s}else{if(s>1)return!1;i.mp.co_j.muki=s}return!0}return!1},this.setHTMLText=function(t){return!1},this.newYuka=function(t,s,h,e,a){return i.mp?i.mp.newYuka(t,s,h,e,a):-1},this.setYukaPosition=function(t,s,h,e,a){return!!i.mp&&(void 0===e?i.mp.setYukaPosition(t,s,h):i.mp.setYukaPosition(t,s,h,e,a))},this.setYukaType=function(t,s){return!!i.mp&&i.mp.setYukaType(t,s)},this.disposeYuka=function(t){return!!i.mp&&i.mp.disposeYuka(t)},this.setYukaColor=function(t,s,h,e,a){return!!i.mp&&i.mp.setYukaColor(t,s,h,e,a)},this.isRideYuka=function(t){return i.mp?i.mp.isRideYuka(t):-1},this.setMyVX=function(t){var s;return this.getMode()>=100&&this.getMode()<200&&i.mp.co_j.c>=100&&i.mp.co_j.c<200&&(s=parseInt(t),isNaN(s)&&(s=-9999),-9999!=s&&(i.mp.co_j.vx=s,!0))},this.setMyVY=function(t){var s;return this.getMode()>=100&&this.getMode()<200&&i.mp.co_j.c>=100&&i.mp.co_j.c<200&&(s=parseInt(t),isNaN(s)&&(s=-9999),-9999!=s&&(i.mp.co_j.vy=s,!0))},this.isRideGround=function(){return i.mp?i.mp.isRideGround():-1},this.setYukaPattern=function(t,s,h){return!!i.mp&&i.mp.setYukaPattern(t,s,h)},this.setYukaImage=function(t,s){return!!i.mp&&i.mp.setYukaImage(t,s)},this.setMySpeed=function(t){var s;return this.getMode()>=100&&this.getMode()<200&&i.mp.co_j.c>=100&&i.mp.co_j.c<200&&(s=parseInt(t),isNaN(s)&&(s=-1),!(s<0||s>16||14!=i.mp.j_tokugi&&15!=i.mp.j_tokugi||(i.mp.j_speed=10*s,0)))},this.setScrollArea=function(t,s,h,e){return!!i.mp&&i.mp.setScrollArea(t,s,h,e)},this.loadTextFile=function(t){return null},this.isPressUpKey=function(){return i.gk&&i.gk.up_f?1:0},this.isPressDownKey=function(){return i.gk&&i.gk.down_f?1:0},this.isPressLeftKey=function(){return i.gk&&i.gk.left_f?1:0},this.isPressRightKey=function(){return i.gk&&i.gk.right_f?1:0},this.newImageOnLoad=function(t){var s=new I;return s.load(t),i.pushMessage("load",s),s},this.setSystemDrawMode=function(t){var s;return!(!i.mp||(s=parseInt(t),isNaN(s)&&(s=-1),s<1||s>4||(i.mp.system_draw_mode=s,0)))},this.drawSystemObject=function(t){if(i.mp){if(100!=i.mp.ml_mode)return!1;if(i.mp.dso_cf)return!1;var s;if(s=parseInt(t),isNaN(s)&&(s=-1),1==s)return i.mp.drawGamescreenMy(),!0;if(2==s)return i.mp.drawGamescreenEnemy(),!0;if(3==s)return i.mp.drawGamescreenWindow(),i.mp.drawScore(),!0;if(4==s)return i.mp.maps.drawMapLayer(i.mp.maps.wx,i.mp.maps.wy,i.mp.g_ac2,i.mp.gazou_scroll,2),!0;if(5==s)return 2==i.gg.layer_mode&&i.mp.maps.drawMapLayer(i.mp.maps.wx,i.mp.maps.wy,i.mp.g_ac2,i.mp.gazou_scroll,3),!0;if(6==s)return i.mp.maps.drawMapLayer(i.mp.maps.wx,i.mp.maps.wy,i.mp.g_ac2,i.mp.gazou_scroll,4),!0;if(7==s)return i.mp.drawGamescreenUgokuyuka(),!0}return!1},this.getMyObjectCondition=function(){return i.mp?i.mp.co_j.c:0},this.getMyObjectAC=function(){return i.mp?i.mp.co_j.ac:0},this.getMyObjectPattern=function(){return i.mp?i.mp.co_j.pt:0},this.getMyDirection4way=function(){return this.getMode()>=100&&this.getMode()<200?15==i.mp.j_tokugi?i.mp.j_4_muki:2==i.mp.co_j.direction||3==i.mp.co_j.direction?i.mp.co_j.direction:i.mp.co_j.muki:-1},this.setMyObjectPattern=function(t){var s;return!!i.mp&&(s=parseInt(t),isNaN(s)&&(s=-1),s>=0&&s<=249&&(i.mp.co_j.pt=s,!0))},this.setMyObjectImage=function(t,s,h){var e,a;return!!i.mp&&(e=parseInt(s),a=parseInt(h),(isNaN(e)||isNaN(a))&&(e=0,a=0),i.mp.co_j.img=t,i.mp.co_j.zs_x=e,i.mp.co_j.zs_y=a,!0)},this.setEnemyObjectPattern=function(t,s){var h,e=0;return!!i.mp&&(h=parseInt(t),e=parseInt(s),(isNaN(h)||isNaN(e))&&(h=-1),!(h<0||h>i.mp.t_kazu)&&e>=0&&e<=249&&(i.mp.co_t[h].pt=e,!0))},this.getEnemyObjectCondition=function(t){var s;return i.mp?(s=parseInt(t),isNaN(s)&&(s=-1),s<0||s>i.mp.t_kazu?0:i.mp.co_t[s].c):0},this.getEnemyObjectPattern=function(t){var s;return i.mp?(s=parseInt(t),isNaN(s)&&(s=-1),s<0||s>i.mp.t_kazu?0:i.mp.co_t[s].pt):0},this.getEnemyObjectX=function(t){var s;return i.mp?(s=parseInt(t),isNaN(s)&&(s=-1),s<0||s>i.mp.t_kazu?0:i.mp.co_t[s].x):0},this.getEnemyObjectY=function(t){var s;return i.mp?(s=parseInt(t),isNaN(s)&&(s=-1),s<0||s>i.mp.t_kazu?0:i.mp.co_t[s].y):0},this.getEnemyObjectLength=function(){return i.mp?i.mp.t_kazu+1:0},this.getEnemyObjectDirection=function(t){if(i.mp){var s;if(s=parseInt(t),isNaN(s)&&(s=-1),s<0||s>i.mp.t_kazu)return 0;var h=i.mp.co_t[s].c;return h>=1400&&h<1500||h>=1200&&h<=1230?i.mp.co_t[s].direction:i.mp.co_t[s].pth}return 0},this.setEnemyObjectImage=function(t,s,h,e){var a,c=0,o=0;return!!i.mp&&(a=parseInt(t),c=parseInt(h),o=parseInt(e),(isNaN(a)||isNaN(c)||isNaN(o))&&(a=-1),a<0||a>i.mp.t_kazu||(i.mp.co_t[a].img=s,i.mp.co_t[a].zs_x=c,i.mp.co_t[a].zs_y=o),!1)},this.getEnemyAC=function(){return i.mp?i.mp.g_c2:0},this.newChipImage=function(t,s,h,e,a){var c,o,_,r,n,m=-1;if(m=parseInt(s),c=parseInt(h),o=parseInt(e),_=parseInt(a),(isNaN(m)||isNaN(c)||isNaN(o)||isNaN(_))&&(m=-1),m<0)return-1;for(n=0;n<=31&&this.oci[n];n++);if(n>31)return-1;r=n;var g=this.newImageOnLoad(t),p=new $t(m,c,o,_,g);return this.oci[r]=p,i.pushMessage("makeChipImage",g,{chipimage:p}),r},this.makeReverseChipImage=function(t){var s=0;if(s=parseInt(t),isNaN(s)&&(s=-1),s<0)return!1;var h=this.oci[s];return null!==h&&(h.createImageBuffer(1),h.createImageBuffer(2),h.createImageBuffer(3),i.pushMessage("makeReverseChipImage",h.ai_img,{chipimage:h}),!0)},this.getChipImage=function(t,i,s){var h,e=0,a=0;if(i||(i="0"),s||(s="0"),e=parseInt(t),h=parseInt(i),a=parseInt(s),(isNaN(e)||isNaN(h)||isNaN(a))&&(e=-1),e<0)return null;if(h<0)return null;var c=this.oci[e];return null===c?null:((a<0||a>3)&&(a=0),c.getChipImage(h,a))},this.disposeChipImage=function(t){var i=0;return i=parseInt(t),isNaN(i)&&(i=-1),!(i<0||(this.oci[i]=null,0))},this.setScrollAreaReal=function(t,s,h,e){return!!i.mp&&i.mp.setScrollAreaReal(t,s,h,e)},this.isPressCodeKey=function(t){var s;return i.gk?(s=parseInt(t),isNaN(s)&&(s=-1),s<0||s>255?0:i.gk.codekey_f[s]?1:0):0},this.playBGM=function(t){return!!i.gs&&i.gs.playUserBGMFile(t)},this.playBGMLoop=function(t){return!!i.gs&&i.gs.playUserBGMFileLoop(t)},this.stopBGM=function(){return!!i.gs&&(i.gs.stopBGM(),!0)},this.getBossHP=function(){return i.mp?i.mp.getBossHP():0},this.setBossHP=function(t){var s=parseInt(t);return!isNaN(s)&&!!i.mp&&i.mp.setBossHP(s)},this.getBossDirection=function(){return i.mp?i.mp.getBossDirection():0},this.isBossAttackMode=function(){return i.mp?i.mp.isBossAttackMode():0},this.setBossXReal=function(t){var s;return!!i.mp&&(s=parseInt(t),isNaN(s)&&(s=-9999),!(s<0)&&i.mp.setBossXReal(s))},this.setBossYReal=function(t){var s;return!!i.mp&&(s=parseInt(t),isNaN(s)&&(s=-9999),!(s<0)&&i.mp.setBossYReal(s))},this.setBossObjectImage=function(t,s,h){var e,a;return!!i.mp&&(e=parseInt(s),a=parseInt(h),(isNaN(e)||isNaN(a))&&(e=0,a=0),i.mp.co_b.img=t,i.mp.co_b.zs_x=e,i.mp.co_b.zs_y=a,!0)},this.setSystemPattern=function(t,s){var h,e=1;return!(!i.mp||(h=parseInt(t),e=parseInt(s),(isNaN(h)||isNaN(e))&&(h=-1),h<1||h>249||e<1||e>249||(i.mp.hih[0][h]=i.mp.hih[0][e],i.mp.hih[1][h]=i.mp.hih[1][e],i.mp.setmapc_f=!0,0)))},this.setSystemPatternImage=function(t,s,h){var e,a=0;return!(!i.mp||(e=parseInt(t),a=parseInt(s),(isNaN(e)||isNaN(a))&&(e=-1),e<1||e>249||((a<0||a>1)&&(a=0),i.mp.hih[a][e]=h,i.mp.setmapc_f=!0,0)))},this.setFontSize=function(t){var s;return!(!i.gg||(s=parseInt(t),isNaN(s)&&(s=-1),s<=0||(i.gg.os_g.setFont(new P(P.DIALOG,0,s)),0)))},this.newFont=function(t,i,s){var h,e=0;return e=parseInt(i),h=parseInt(s),(isNaN(h)||isNaN(e))&&(h=-1),new P(t,e=1==e?1:2==e?2:0,h)},this.getCoinCount=function(t,s,h,e){if(0===arguments.length)return i.mp?i.mp.getCoinCount(0,0,i.mp.mapWidth-1,i.mp.mapHeight-1):-1;var a,c=0,o=0,_=0;return 0===arguments.length&&(t="0",s="0",h=i.mp.mapWidth-1,e=i.mp.mapHeight-1),i.mp?(a=parseInt(t),c=parseInt(s),o=parseInt(h),_=parseInt(e),(isNaN(a)||isNaN(c)||isNaN(o)||isNaN(_))&&(a=-1),a<0?-1:i.mp.getCoinCount(a,c,o,_)):-1},this.addMyTokugi=function(t){var s;return this.getMode()>=100&&this.getMode()<200&&(s=parseInt(t),isNaN(s)&&(s=-1),!(s<0)&&i.mp.addMyTokugi(s))},this.removeMyTokugi=function(t){var s;return this.getMode()>=100&&this.getMode()<200&&(s=parseInt(t),isNaN(s)&&(s=-1),!(s<0)&&i.mp.removeMyTokugi(s))},this.setScore=function(t){var s;return!!i.mp&&(s=parseInt(t),isNaN(s)&&(s=0),i.mp.score=s,i.mp.addScore(0),!0)},this.getBarrierTime=function(){return i.mp&&100==i.mp.ml_mode&&i.mp.co_j.c>=100&&i.mp.co_j.c<200?i.mp.j_v_c:-1},this.getTimeLimit=function(){return i.mp&&i.mp.time_max>0&&100==i.mp.ml_mode?Math.floor(i.mp.time/1e3):-1},this.setTimeLimit=function(t){var s;return!(!(i.mp&&i.mp.time_max>0)||(s=parseInt(t),isNaN(s)&&(s=-1),s<0||(i.mp.time=1e3*s+1e3-70,0)))},this.setAthletic=function(t,s,h){var e=0,a=0;if(this.getMode()>=100&&this.getMode()<200){var c;if(e=parseInt(t),a=parseInt(s),c=parseInt(h),(isNaN(e)||isNaN(a)||isNaN(c))&&(c=-1),c<0)return!1;e<0&&(e=0),e>=i.mp.mapWidth&&(e=i.mp.mapWidth-1),a<0&&(a=0),a>=i.mp.mapHeight&&(a=i.mp.mapHeight-1),e++,a+=10;var o=0;if(4==i.mp.maps.map_bg[e-1][a]&&(o=4),c>=2){var _=i.mp.setAthleticOnMap(c,e,a);-99==_?(i.mp.aSet(32*e+16,32*a+16,70,32*e),o=50):o=_}else i.mp.aSet(32*e+16,32*a+16,70,32*e),o=50;return i.mp.maps.map_bg[e][a]=o,i.mp.setmapc_f=!0,!0}return!1},this.setSecondImage=function(t){if(this.getMode()>=100&&this.getMode()<200){var s=i.gg.loadImage(t);return i.mp.second_gazou_img=s,!0}return!1},this.setGrenadeCount=function(t){var s;return this.getMode()>=100&&this.getMode()<200&&i.mp.co_j.c>=100&&i.mp.co_j.c<200&&(s=parseInt(t),isNaN(s)&&(s=-1),!(s<0||(i.mp.j_gr_kazu=s,0)))},this.setMyLeft=function(t){var s;return this.getMode()>=100&&this.getMode()<200&&(s=parseInt(t),isNaN(s)&&(s=-1),!(s<0||(i.mp.j_left=s,0)))},this.getGrenadeCount=function(){var t=0;return this.getMode()>=100&&this.getMode()<200&&i.mp.co_j.c>=100&&i.mp.co_j.c<200?((t=i.mp.j_gr_kazu)<0&&(t=0),t):t},this.getMyLeft=function(){var t=-1;return this.getMode()>=100&&this.getMode()<200?t=i.mp.j_left:t},this.setEnemyPress=function(t){var s;return this.getMode()>=100&&this.getMode()<200&&(s=parseInt(t),isNaN(s)&&(s=-1),!(s<0||((s<1||s>3)&&(s=1),i.mp.j_enemy_press=s,0)))},this.drawPattern=function(t,s,h,e){var a,c=0,o=0,_=0;return!!i.gg&&(a=parseInt(t),c=parseInt(s),o=parseInt(h),_=parseInt(e),(isNaN(a)||isNaN(c)||isNaN(o)||isNaN(_))&&(a=-9999),-9999!=a&&((o<0||o>249)&&(o=0),(_<0||_>1)&&(_=0),i.gg.drawPattern(a,c,o,_),!0))},this.setOffscreenColor=function(t,s,h,e){var a,c=0,o=0,_=0;return!!i.gg&&(a=parseInt(t),c=parseInt(s),o=parseInt(h),_=parseInt(e),(isNaN(a)||isNaN(c)||isNaN(o)||isNaN(_))&&(a=-9999),-9999!=a&&(a<0&&(a=0),a>255&&(a=255),c<0&&(c=0),c>255&&(c=255),o<0&&(o=0),o>255&&(o=255),_<0&&(_=0),_>255&&(_=255),i.gg.os_g.setColor(new A(a,c,o,_)),!0))},this.drawImage=function(t,i,s){return!1},this.fillPolygon=function(t,s,h,e,a,c,o,_){var r,n;return!!i.gg&&(6==arguments.length?(r=new Array(3),n=new Array(3),r[0]=parseInt(t),n[0]=parseInt(s),r[1]=parseInt(h),n[1]=parseInt(e),r[2]=parseInt(a),n[2]=parseInt(c),(isNaN(r[0])||isNaN(n[0])||isNaN(r[1])||isNaN(n[1])||isNaN(r[2])||isNaN(n[2]))&&(r[0]=-9999),-9999!=r[0]&&(i.gg.os_g.fillPolygon(r,n,3),!0)):(r=new Array(3),n=new Array(3),r[0]=parseInt(t),n[0]=parseInt(s),r[1]=parseInt(h),n[1]=parseInt(e),r[2]=parseInt(a),n[2]=parseInt(c),r[3]=parseInt(o),n[3]=parseInt(_),(isNaN(r[0])||isNaN(n[0])||isNaN(r[1])||isNaN(n[1])||isNaN(r[2])||isNaN(n[2])||isNaN(r[3])||isNaN(n[3]))&&(r[0]=-9999),-9999!=r[0]&&(i.gg.os_g.fillPolygon(r,n,4),!0)))},this.drawImageRotate=function(t,s,h,e){var a=0,c=0;if(i.gg){var o;if(o=parseInt(s),a=parseInt(h),c=parseInt(e),(isNaN(o)||isNaN(a)||isNaN(c))&&(o=-9999),-9999==o)return!1;var _=i.gg.os_img.getGraphics();if(_){var r=o+t._width/2,n=a+t._height/2;return _.rotate(c*Math.PI/180,r,n),_.drawImage(t,o,a,this),_.dispose(),!0}return!1}return!1},this.drawImageScale=function(t,s,h,e,a){var c=0,o=100,_=100;if(i.gg){var r;if(r=parseInt(s),c=parseInt(h),o=parseInt(e),_=parseInt(a),(isNaN(r)||isNaN(c)||isNaN(o)||isNaN(_))&&(r=-9999),-9999==r)return!1;var n=i.gg.os_img.getGraphics();return!!n&&(n.translate(r,c),n.scale(o/100,_/100),n.drawImage(t,0,0,this),n.dispose(),!0)}return!1},this.drawImageAlphaComposite=function(t,s,h,e){var a=0,c=100;if(i.gg){var o;if(o=parseInt(s),a=parseInt(h),c=parseInt(e),(isNaN(o)||isNaN(a)||isNaN(c))&&(o=-9999),-9999==o)return!1;c<0?c=0:c>100&&(c=100);var _=i.gg.os_img.getGraphics();return!!_&&(_.setGlobalAlpha(c/100*255),_.drawImage(t,o,a,this),_.dispose(),!0)}return!1},this.isPaused=function(){return i.mp&&110==i.mp.ml_mode?1:0},this.pause=function(t){var s;if(i.mp){if(s=parseInt(t),isNaN(s)&&(s=-1),s<0||s>1)return!1;if(0==s&&110==i.mp.ml_mode)i.mp.ml_mode=100;else{if(1!=s||100!=i.mp.ml_mode)return!1;i.mp.ml_mode=110,i.mp.ml_mode_c=0}return!0}return!1},this.getRandomF=function(){return i.mp?i.mp.ranInt(2147483648)/2147483648:Math.random()},this.getRandom=function(t){return i.mp?i.mp.ranInt(t):Math.floor(Math.random()*t)},this.getJetFuel=function(){var t=0;return this.getMode()>=100&&this.getMode()<200&&i.mp.co_j.c>=100&&i.mp.co_j.c<200&&(t=i.mp.j_jet_fuel)<0&&(t=0),t},this.getKeyCount=function(t){var s=0;if(this.getMode()>=100&&this.getMode()<200&&i.mp.co_j.c>=100&&i.mp.co_j.c<200){var h=parseInt(t);isNaN(h)&&(s=0),1!==h&&2!==h||(s=i.mp.dkey_count[h-1])<0&&(s=0)}return s},this.setItem=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,h=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(i.mp){if(100!=i.mp.ml_mode)return!1;var e=!1,a=parseInt(t),c=parseInt(s),o=parseInt(h);if((isNaN(a)||isNaN(c)||isNaN(o))&&(o=0),o<=0)return!1;if(a<0||a>=i.mp.mapWidth||c<0||c>=i.mp.mapHeight)return!1;var _=32*(a+1),r=32*(c+10);switch(o){default:break;case 1:i.mp.setmapc(a,c,8),e=!0;break;case 2:i.mp.setmapc(a,c,9),e=!0;break;case 3:i.mp.mSet(_,r,2100),e=!0;break;case 4:i.mp.mSet(_,r,2110),e=!0;break;case 5:i.mp.mSet(_,r,2120),e=!0;break;case 6:i.mp.mSet(_,r,2130),e=!0;break;case 7:i.mp.mSet(_,r,2140),e=!0;break;case 8:i.mp.mSet(_,r,2150),e=!0;break;case 9:i.mp.mSet(_,r,2160),e=!0;break;case 10:i.mp.mSet(_,r,2170),e=!0;break;case 11:i.mp.mSet(_,r,2180),e=!0;break;case 12:i.mp.mSet(_,r,2181),e=!0;break;case 13:i.mp.mSet(_,r,2182),e=!0;break;case 14:i.mp.mSet(_,r,2185),e=!0;break;case 15:i.mp.mSet(_,r,2186),e=!0;break;case 16:i.mp.mSet(_,r,2187),e=!0;break;case 17:i.mp.mSet(_,r,2188),e=!0;break;case 18:i.mp.mSet(_,r,2171),e=!0;break;case 19:i.mp.mSet(_,r,2172),e=!0;break;case 20:i.mp.aSet(_,r,4600,_),e=!0;break;case 21:i.mp.aSet(_,r,4610,_),e=!0}return e}return!1},this.getVersion=function(){return null!=="v5.3.0"?"v5.3.0":""},this.setSystemColor=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,h=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,e=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:255;if(!i.mp)return!1;var c=parseInt(s),o=parseInt(h),_=parseInt(e),r=parseInt(a),n=parseInt(t);if((isNaN(c)||isNaN(o)||isNaN(_)||isNaN(r))&&(n=0),n<=0)return!1;var m=function(t){var i=t;return i<0&&(i=0),i>255&&(i=255),i};switch(c=m(c),o=m(o),_=m(_),r=m(r),n){default:return!1;case 1:return i.mp.gamecolor_back=new A(c,o,_),!0;case 2:return i.mp.gamecolor_back_s=new A(c,o,_),!0;case 3:return i.mp.gamecolor_back_t=new A(c,o,_),!0;case 4:return i.mp.gamecolor_back_f=new A(c,o,_),!0;case 5:return i.mp.gamecolor_kaishi=new A(c,o,_,r),!0;case 6:return i.mp.gamecolor_score=new A(c,o,_,r),!0;case 7:return i.mp.gamecolor_grenade1=new A(c,o,_,r),!0;case 8:return i.mp.gamecolor_grenade2=new A(c,o,_,r),!0;case 9:return i.mp.gamecolor_mizunohadou=new A(c,o,_,r),!0;case 10:return i.mp.gamecolor_firebar1=new A(c,o,_,r),!0;case 11:return i.mp.gamecolor_firebar2=new A(c,o,_,r),!0;case 12:return i.mp.gamecolor_message_back=new A(c,o,_,r),!0;case 13:return i.mp.gamecolor_message_border=new A(c,o,_,r),!0;case 14:return i.mp.gamecolor_message_name=new A(c,o,_,r),!0;case 15:return i.mp.gamecolor_message_text=new A(c,o,_,r),!0;case 16:return i.mp.gamecolor_gauge_border=new A(c,o,_,r),!0;case 17:return i.mp.gamecolor_gauge_back1=new A(c,o,_,r),!0;case 18:return i.mp.gamecolor_gauge_back2=new A(c,o,_,r),!0}},this.getPartsDefinition=function(t){var s=i.mp.customParts;return s&&s[t]?s[t]:5e3<=t&&t<1e4?i.mp.getEnemyDefinition(t-5e3):null},s&&"undefined"!=typeof Proxy){var e=Object.keys(this).filter((function(t){return"function"==typeof h[t]}));e.forEach((function(t){h[t.toLowerCase()]=h[t]}));var a=new Proxy(this,{get:function(t,i,s){return i in t?t[i]:"string"==typeof i?t[i.toLowerCase()]:t[i]}}),c=Object.create(a);return e.forEach((function(t){c[t]=h[t]})),c}}));function hi(t){return hi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hi(t)}function ei(t,i){for(var s=0;s<i.length;s++){var h=i[s];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(t,(void 0,e=function(t,i){if("object"!==hi(t)||null===t)return t;var s=t[Symbol.toPrimitive];if(void 0!==s){var h=s.call(t,"string");if("object"!==hi(h))return h;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(h.key),"symbol"===hi(e)?e:String(e)),h)}var e}var ai=function(){function t(){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.tag_kazu=0,this.options={},this.initParameter()}var i,s;return i=t,(s=[{key:"initParameter",value:function(){this.params={"chizu-0":"...................","chizu-1":".b33E33333c..C.....","chizu-2":"....2.....2..2.....","chizu-3":"....2.....2..2.....","chizu-4":"....A33a331331.....","chizu-5":".i.....2...........","chizu-6":".2.....2...........","chizu-7":".B33D3313f3d.......","chizu-8":"...................","chizu-9":"...................","chizu-10":"...................","chizu-11":"...................","chizu-12":"...................","chizu-13":"...................",mes1_name:"ダケシ","serifu1-1":"人の命は、お金では買えないと言われています。","serifu1-2":"しかし、お店へ行けば、ＳＣＯＲＥで買えます。","serifu1-3":"0","serifu2-1":"時は金なりと、言われています。しかし、","serifu2-2":"お店なら、時間も買えます。","serifu2-3":"店員さんて、グレートですね。",mes2_name:"エリコ","serifu3-1":"おはようございます。星と数字が付いた扉が、","serifu3-2":"ありますよね。あれは、ですねえ、その数だけ","serifu3-3":"人面星を取ると、開くので、ございます。","serifu4-1":"LAST STAGEというのは、最終面の事ですわ。","serifu4-2":"これをクリアーすると、エンディングに、","serifu4-3":"行けますのよ。がんばって下さいね。",shop_name:"店員さん","serifu5-1":"いらっしゃいませ。","serifu5-2":"当店では、ＳＣＯＲＥと、アイテムを、","serifu5-3":"交換いたします。","serifu8-1":"本日の営業は、終了いたしました。","serifu8-2":"またのご来店を、","serifu8-3":"こころより、お待ちしております。",shop_serifu1:"どれになさいますか？",shop_serifu2:"で、よろしいですか？",shop_serifu3:"はい",shop_serifu4:"いいえ",shop_serifu5:"を、装備した。",shop_serifu6:"ＳＣＯＲＥが、足りません。",shop_item_name1:"グレネード３発",shop_item_name2:"ジェット",shop_item_name3:"ドリル",shop_item_name4:"ヘルメット",shop_item_name5:"しっぽ",shop_item_name6:"バリア",shop_item_name7:"ファイヤーボール",shop_item_name8:"１ｕｐ",shop_item_name9:"制限時間増加",shop_item_teika1:"200",shop_item_teika2:"150",shop_item_teika3:"100",shop_item_teika4:"100",shop_item_teika5:"250",shop_item_teika6:"80",shop_item_teika7:"300",shop_item_teika8:"980",shop_item_teika9:"1",setumei_name:"キドはかせ","serifu9-1":"よく来た。わしは、キドはかせ。","serifu9-2":"アイテムの研究をしており、みんなから、","serifu9-3":"アイテムはかせと呼ばれて、したわれておるよ。",setumei_menu1:"なんでも、質問してくれたまえよ。",setumei_menu2:"ファイヤーボール",setumei_menu3:"バリア",setumei_menu4:"ジェット","serifu10-1":"黄色いチューリップのアイテムと言えば、","serifu10-2":"そう、ファイヤーボールじゃな。はなれた","serifu10-3":"敵を攻撃できるという、大変便利なものじゃ。","serifu11-1":"ピンクのキノコのアイテムと言えば、そう、","serifu11-2":"バリアじゃな。体当たりで敵を倒せるが、うっかり","serifu11-3":"して、時間切れを忘れぬよう、注意が必要じゃ。","serifu12-1":"ロケットの形のアイテムと言えば、そう、ジェット","serifu12-2":"じゃな。空中で、スペースキーを押せば、さらに","serifu12-3":"上昇できる。燃料切れには、気を付けるのじゃぞ。",door_score:"800",layer_mode:"1",filename_mapchip:"mapchip.gif",filename_haikei:"haikei.gif",filename_haikei2:"haikei.gif",filename_haikei3:"haikei.gif",filename_haikei4:"haikei.gif",gazou_scroll:"2",easy_mode:"1",now_loading:"ただいまファイルを読み込み中。しばらくお待ち下さい。",time_max:"300",scroll_mode:"1",scroll_mode_s:"1",scroll_mode_t:"1",scroll_mode_f:"1",score_v:"1",stage_max:"1",stage_kaishi:"1",jibun_left_shoki:"1",score_1up_1:"500",score_1up_2:"1000",stage_select:"1",j_tail_type:"1",j_tail_hf:"1",j_fire_mkf:"1",grenade_type:"1",suberuyuka_hkf:"1",dengeki_mkf:"1",yachamo_kf:"1",airms_kf:"1",ugokuyuka1_type:"1",ugokuyuka2_type:"1",ugokuyuka3_type:"1",boss_type:"1",boss2_type:"1",boss3_type:"1",url1:"http://www.yahoo.co.jp/",url2:"http://www.yahoo.co.jp/",url3:"http://www.yahoo.co.jp/",url4:"http://www.t3.rim.or.jp/~naoto/naoto.html",dokan_mode:"1",j_tokugi:"1",hitokoto1_name:"浩二","hitokoto1-1":"今日は、いい天気だね。","hitokoto1-2":"0","hitokoto1-3":"0",hitokoto2_name:"お姫様","hitokoto2-1":"ついに、ここまで来ましたね。","hitokoto2-2":"0","hitokoto2-3":"0",hitokoto3_name:"ザトシ","hitokoto3-1":"オレは、世界一になる男だ。","hitokoto3-2":"0","hitokoto3-3":"0",hitokoto4_name:"クリス","hitokoto4-1":"んちゃ！","hitokoto4-2":"0","hitokoto4-3":"0",backcolor_red:"0",backcolor_green:"255",backcolor_blue:"255",backcolor_red_s:"0",backcolor_green_s:"0",backcolor_blue_s:"0",backcolor_red_t:"0",backcolor_green_t:"255",backcolor_blue_t:"255",backcolor_red_f:"192",backcolor_green_f:"48",backcolor_blue_f:"48",kaishi_red:"0",kaishi_green:"0",kaishi_blue:"0",scorecolor_red:"0",scorecolor_green:"0",scorecolor_blue:"255",grenade_red1:"255",grenade_green1:"255",grenade_blue1:"255",grenade_red2:"255",grenade_green2:"255",grenade_blue2:"0",mizunohadou_red:"0",mizunohadou_green:"32",mizunohadou_blue:"255",firebar_red1:"255",firebar_green1:"0",firebar_blue1:"0",firebar_red2:"255",firebar_green2:"192",firebar_blue2:"0",moji_score:"SCORE",moji_highscore:"HIGHSCORE",moji_time:"TIME",moji_jet:"JET",moji_grenade:"GRENADE",moji_left:"LEFT",moji_size:"14",filename_title:"title.gif",filename_ending:"ending.gif",filename_gameover:"gameover.gif",filename_pattern:"pattern.gif",filename_chizu:"chizu.gif",game_speed:"70",se_switch:"2",se_filename:"2",filename_se_start:"item.au",filename_se_gameover:"gameover.au",filename_se_clear:"clear.au",filename_se_coin:"coin.au",filename_se_get:"get.au",filename_se_item:"item.au",filename_se_jump:"jump.au",filename_se_sjump:"sjump.au",filename_se_kiki:"kiki.au",filename_se_fumu:"fumu.au",filename_se_tobasu:"tobasu.au",filename_se_fireball:"shot.au",filename_se_jet:"mgan.au",filename_se_miss:"dosun.au",filename_se_block:"bakuhatu.au",filename_se_mizu:"mizu.au",filename_se_dengeki:"mgan.au",filename_se_happa:"happa.au",filename_se_hinoko:"mgan.au",filename_se_mizudeppo:"happa.au",filename_se_bomb:"shot.au",filename_se_dosun:"dosun.au",filename_se_grounder:"mgan.au",filename_se_kaiole:"happa.au",filename_se_senkuuza:"shot.au",filename_se_dokan:"get.au",filename_se_chizugamen:"get.au",scroll_area:"1",clear_type:"1",fx_bgm_switch:"0",fx_bgm_loop:"0",filename_fx_bgm_stage1:"stage1.mid",filename_fx_bgm_stage2:"stage2.mid",filename_fx_bgm_stage3:"stage3.mid",filename_fx_bgm_stage4:"stage4.mid",filename_fx_bgm_boss:"boss.mid",filename_fx_bgm_title:"title.mid",filename_fx_bgm_ending:"ending.mid",filename_fx_bgm_chizu:"chizu.mid",variable_sleep_time:"1",sleep_time_visible:"0",firebar1_type:"1",firebar2_type:"1",dossunsun_type:"1",mizutaro_attack:"1",poppie_attack:"1",mariri_attack:"1",chikorin_attack:"1",taiking_attack:"1",kuragesso_attack:"1",gazou_scroll_speed_x:"0",gazou_scroll_speed_y:"0",mcs_haikei_visible:"0",pause_switch:"1",control_parts_visible:"1",coin1_type:"1",coin3_type:"1",dokan1_type:"1",dokan2_type:"1",dokan3_type:"1",dokan4_type:"1",view_move_type:"1",j_fire_equip:"1",j_fire_type:"1",j_enemy_press:"1",boss_destroy_type:"1",boss_hp_max:"20",j_tail_ap_boss:"4",boss_name:"BOSS",boss2_name:"BOSS",boss3_name:"BOSS",fs_name:"ファイヤーボールセレクトの人","serifu7-1":"好きなファイヤーボールを、３種類から","serifu7-2":"選んで下さい。私はサービスが良いので、","serifu7-3":"何度でも選べますよ。",fs_serifu1:"どのファイヤーボールにしますか？",fs_item_name1:"バウンド",fs_item_name2:"ストレート",fs_item_name3:"ダブル",fs_serifu2:"を装備しました。",j_add_tokugi:"1",j_add_tokugi2:"1",j_add_tokugi3:"1",j_add_tokugi4:"1",second_gazou_visible:"1",filename_second_haikei:"haikei_second.gif",filename_second_haikei2:"haikei_second.gif",filename_second_haikei3:"haikei_second.gif",filename_second_haikei4:"haikei_second.gif",second_gazou_scroll:"1",second_gazou_scroll_speed_x:"0",second_gazou_scroll_speed_y:"0",second_gazou_scroll_x:"0",second_gazou_scroll_y:"0",second_gazou_priority:"1",gazou_scroll_x:"0",gazou_scroll_y:"0",serifu_key1_on_name:"お姫様","serifu_key1_on-1":"ここから先へ進むには、","serifu_key1_on-2":"３つのＫＥＹ１が必要です。","serifu_key1_on-3":"この世界のどこかに、あるはず。","serifu_key1_on-4":"ＫＥＹ１を３つ、わたしますか？","serifu_key1_on-5":"はい","serifu_key1_on-6":"いいえ","serifu_key1_on-7":"ＫＥＹ１を３つ、持っていません。","serifu_key1_on-8":"先へ進む道が、開けました。","serifu_key1_on-9":"勇者殿、","serifu_key1_on-10":"お気を付けて。",key1_on_count:"3",serifu_key2_on_name:"ザトシ","serifu_key2_on-1":"３つのＫＥＹ２がないと、","serifu_key2_on-2":"ここから先へは進めないぜ。","serifu_key2_on-3":"どこかで見つ付けてくれ。","serifu_key2_on-4":"ＫＥＹ２を３つ、わたしますか？","serifu_key2_on-5":"はい","serifu_key2_on-6":"いいえ","serifu_key2_on-7":"ＫＥＹ２を３つ、持っていません。","serifu_key2_on-8":"３つのＫＥＹ２、受け取ったぜ。","serifu_key2_on-9":"これで、先へ進めるようになったな。","serifu_key2_on-10":"0",key2_on_count:"3",water_visible:"1",water_clear_switch:"1",water_clear_level:"128",serifu_grenade_shop_name:"クリス","serifu_grenade_shop-1":"グレネード１発を、","serifu_grenade_shop-2":"２０点で売りますよ。","serifu_grenade_shop-3":"0","serifu_grenade_shop-4":"何発にしますか？","serifu_grenade_shop-5":"得点が、足りません。","serifu_grenade_shop-6":"グレネードを手に入れた。",grenade_shop_score:"20",audio_se_switch_wave:"1",audio_se_switch_mp3:"1",audio_se_switch_ogg:"1",audio_bgm_switch_wave:"2",audio_bgm_switch_mp3:"1",audio_bgm_switch_ogg:"1",font_score:"Helvetica,Arial,ＭＳ ゴシック,HG ゴシックB Sun,HG ゴシックB,monospace",font_message:"Helvetica,Arial,ＭＳ ゴシック,HG ゴシックB Sun,HG ゴシックB,monospace",mcs_screen_size:"2",message_back_red:"0",message_back_green:"0",message_back_blue:"0",message_border_red:"255",message_border_green:"255",message_border_blue:"255",message_name_red:"0",message_name_green:"255",message_name_blue:"255",message_text_red:"255",message_text_green:"255",message_text_blue:"255",gauge_border_red:"255",gauge_border_green:"255",gauge_border_blue:"255",gauge_back_red1:"255",gauge_back_green1:"255",gauge_back_blue1:"0",gauge_back_red2:"255",gauge_back_green2:"0",gauge_back_blue2:"0"};for(var t,i,s="",h=0;h<=59;h++)s+="..";for(var e=0;e<=2;e++)for(t=0;t<=29;t++)i="map".concat(e,"-").concat(t),this.params[i]=".";for(e=0;e<=2;e++)for(t=0;t<=29;t++)i="map".concat(e,"-").concat(t,"-s"),this.params[i]=".";for(e=0;e<=2;e++)for(t=0;t<=29;t++)i="map".concat(e,"-").concat(t,"-t"),this.params[i]=".";for(e=0;e<=2;e++)for(t=0;t<=29;t++)i="map".concat(e,"-").concat(t,"-f"),this.params[i]=".";for(e=0;e<=2;e++)for(t=0;t<=29;t++)i="layer".concat(e,"-").concat(t),this.params[i]=s;for(e=0;e<=2;e++)for(t=0;t<=29;t++)i="layer".concat(e,"-").concat(t,"-s"),this.params[i]=s;for(e=0;e<=2;e++)for(t=0;t<=29;t++)i="layer".concat(e,"-").concat(t,"-t"),this.params[i]=s;for(e=0;e<=2;e++)for(t=0;t<=29;t++)i="layer".concat(e,"-").concat(t,"-f"),this.params[i]=s;this.tag_kazu=Object.keys(this.params).length}},{key:"getValue",value:function(t){var i=this.params[t];return void 0!==i?i:(console.warn("Error : No param "+t),null)}},{key:"getValueInt",value:function(t){var i,s=this.params[t];return void 0!==s?(i=parseInt(s),isNaN(i)&&(i=-1),i):(console.warn("Error : No param "+t),-1)}},{key:"setValue",value:function(t,i){return this.params[t]=i,!0}},{key:"setValueFromHTML",value:function(t){for(var i in this.params){var s=t.getParameter(i);null!=s&&(this.params[i]=s)}return!0}},{key:"setValueStage1",value:function(){this.params["map0-0"]="............................................................",this.params["map0-1"]="............................................................",this.params["map0-2"]="............................................................",this.params["map0-3"]="............................................................",this.params["map0-4"]="............................................................",this.params["map0-5"]="............................................................",this.params["map0-6"]="............................................................",this.params["map0-7"]="............................................................",this.params["map0-8"]="............................................................",this.params["map0-9"]="............................................................",this.params["map0-10"]="............................................................",this.params["map0-11"]="............................................................",this.params["map0-12"]="............................................999.............",this.params["map0-13"]="............................................999.............",this.params["map0-14"]="............................................................",this.params["map0-15"]="............................................aaa.............",this.params["map0-16"]="............................................................",this.params["map0-17"]="............................................................",this.params["map0-18"]="...............................99...........................",this.params["map0-19"]="............................................................",this.params["map0-20"]="............................................................",this.params["map0-21"]="............................................................",this.params["map0-22"]="...12...............12.....9.9...aaa.....aa.aaaaaaaa...12...",this.params["map0-23"]=".............B............aaaaa..............9.aaaaa........",this.params["map0-24"]=".........aaaaa..........................B...aaaaaaaa........",this.params["map0-25"]="....9.9.............................aaaaa...9.9aa999........",this.params["map0-26"]="....aaa...............B.............9.9.9...aaaaaaaa........",this.params["map0-27"]="...........aaaaaa..aaaaaa....................9.aaaaa........",this.params["map0-28"]=".A........aaaaaaa..aaaaaa............D......aaaaaaaa........",this.params["map0-29"]="bbbbbbbbbbbbbbbbb..bbbbbb.bbbbbbbbbbbbbbbbbbbbbbbbbb5bbbbbb.",this.params["map1-0"]="............................................................",this.params["map1-1"]="............................................................",this.params["map1-2"]="............................................................",this.params["map1-3"]="............................................................",this.params["map1-4"]="............................................................",this.params["map1-5"]="............................................................",this.params["map1-6"]="............................................................",this.params["map1-7"]="............................................................",this.params["map1-8"]="............................................................",this.params["map1-9"]="............................................................",this.params["map1-10"]="............................................................",this.params["map1-11"]="............................................................",this.params["map1-12"]="............................................................",this.params["map1-13"]="............................................................",this.params["map1-14"]="............................................................",this.params["map1-15"]="............................................................",this.params["map1-16"]="............................................................",this.params["map1-17"]="............................................................",this.params["map1-18"]="............................................................",this.params["map1-19"]="............................................................",this.params["map1-20"]="............................................................",this.params["map1-21"]="............................................................",this.params["map1-22"]="...12....12.....12.....12....12....12.......................",this.params["map1-23"]="............................................................",this.params["map1-24"]="............................................................",this.params["map1-25"]="...................O........................................",this.params["map1-26"]=".................aaaa...................feef................",this.params["map1-27"]=".............aaaaaaaaaaa................e..e..............E.",this.params["map1-28"]="..........O..aaaaaaaaaaa.O.....O........feefeef..feeeefeeeef",this.params["map1-29"]="..bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb.......e..e..e..e....e....e",this.params["map2-0"]="............................................................",this.params["map2-1"]="............................................................",this.params["map2-2"]="............................................................",this.params["map2-3"]="............................................................",this.params["map2-4"]="............................................................",this.params["map2-5"]="............................................................",this.params["map2-6"]="............................................................",this.params["map2-7"]="............................................................",this.params["map2-8"]="............................................................",this.params["map2-9"]="............................................................",this.params["map2-10"]="............................................................",this.params["map2-11"]="............................................................",this.params["map2-12"]="............................................................",this.params["map2-13"]="............................................................",this.params["map2-14"]="............................................................",this.params["map2-15"]="............................................................",this.params["map2-16"]="............................................................",this.params["map2-17"]="............................................................",this.params["map2-18"]="............................................................",this.params["map2-19"]="............................................................",this.params["map2-20"]="............................................................",this.params["map2-21"]="........................................................8...",this.params["map2-22"]="..................99........12.....12....12....12.......a...",this.params["map2-23"]="..................dd...................................aaa..",this.params["map2-24"]="..e.ef...................9.9.9.9......................aaaaa.",this.params["map2-25"]="..e..e.............................................F.aaaaaaa",this.params["map2-26"]="..e..e.......E..............................aaaaaaaaaaaaaaaa",this.params["map2-27"]="..e..e.feeefeeef..99...................F....aaaaaaaaaaaaaaaa",this.params["map2-28"]="..feef.e...e...e..dd...aaaaaaaaaaaaaaaaaaa..aaaaaaaaaaaaaaaa",this.params["map2-29"]="..e..e.e...e...e.......aaaaaaaaaaaaaaaaaaa..aaaaaaaaaaaaaaaa"}},{key:"setValueFromHTMLText",value:function(t){for(var i="",s=new Array(1e3),h=new Array(1e3),e=0,a=0;a<=999;a++)s[a]=null,h[a]=null;this.initParameter();var c=(i=String(t)).indexOf("<body ");c<0&&(c=i.indexOf("<BODY ")),c>=0&&(i=i.substring(c,i.length)),(c=i.indexOf("<applet "))<0&&(c=i.indexOf("<APPLET ")),c>=0&&(i=i.substring(c,i.length)),(c=i.lastIndexOf("</applet>"))<0&&(c=i.lastIndexOf("</APPLET>")),c>=0&&(i=i.substring(0,c+1+8));for(var o=!0;;){if((c=i.indexOf("\x3c!--"))<0){o=!1;break}var _=String(i.substring(c+4,i.length)),r=_.indexOf("--\x3e");if(r<0)break;i=String(i.substring(0,c+1)+_.substring(r+3,_.length))}o&&(i=String(i.substring(0,c+1)));var n=0;for(e=0;(c=i.indexOf("param"))<0&&(c=i.indexOf("PARAM")),!(c<0||((c=(i=String(i.substring(c+5,i.length))).indexOf("name"))<0&&(c=i.indexOf("NAME")),c<0)||(c=i.indexOf("="))<0);){if((c=(i=String(i.substring(c+1,i.length))).indexOf('"'))>=0&&c<=7){if((c=(i=String(i.substring(c+1,i.length))).indexOf('"'))<0)break;s[n]=String(i.substring(0,c))}else{if((c=i.indexOf(" "))<0)break;if(0==c&&(c=(i=String(i.substring(1,i.length))).indexOf(" "))<0)break;s[n]=String(i.substring(0,c))}if((c=i.indexOf("value"))<0&&(c=i.indexOf("VALUE")),c<0)break;if((c=i.indexOf("="))<0)break;if((c=(i=String(i.substring(c+1,i.length))).indexOf('"'))>=0&&c<=7){if((c=(i=String(i.substring(c+1,i.length))).indexOf('"'))<0)break;h[n]=String(i.substring(0,c))}else{if((c=i.indexOf(" "))<0)break;if(0==c&&(c=(i=i.substring(1,i.length)).indexOf(" "))<0)break;h[n]=String(i.substring(0,c))}n++,e++}for(a=0;a<e;a++)this.setValue(s[a],h[a]);return!0}}])&&ei(i.prototype,s),Object.defineProperty(i,"prototype",{writable:!1}),t}();function ci(t){return ci="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ci(t)}function oi(t,i){for(var s=0;s<i.length;s++){var h=i[s];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(t,(void 0,e=function(t,i){if("object"!==ci(t)||null===t)return t;var s=t[Symbol.toPrimitive];if(void 0!==s){var h=s.call(t,"string");if("object"!==ci(h))return h;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(h.key),"symbol"===ci(e)?e:String(e)),h)}var e}var _i=function(){function t(i,s,h,e){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.restart_f=!1,this.th=null,this.th_interval=70,this.th_jm=10,this.process_time=0,this.variable_sleep_time=!1,this.sleep_time_visible=!1,this.main_time_kiroku=new Array(10),this.main_time_kiroku_p=0,this.main_time_kiroku_f=!1,this.tdb=void 0,this.gg=null,this.gm=null,this.gk=null,this.gs=null,this.mp=null,this.mph_title_lock_f=!1,this.mph_start_game_f=!1,this.mph_highscore=0,this.audio_se_no_wave=!1,this.audio_se_no_mp3=!1,this.audio_se_no_ogg=!1,this.audio_bgm_no_wave=!1,this.audio_bgm_no_mp3=!1,this.audio_bgm_no_ogg=!1,this.params=i,this.__canvas=s,1==parseInt(this.getParameter("mcs_screen_size"))&&(this.__canvas.width=e.width||640,this.__canvas.height=e.height||480),this.__appimg=new I(this.__canvas.width,this.__canvas.height),this.__game=h,this.options=e,this.firstMessage=null,this.lastMessage=null,this.masaoJSSAppletEmulator=null}var i,s;return i=t,s=[{key:"__repaint",value:function(){this.update(this.__appimg.getGraphics());var t=this.__canvas.getContext("2d");t&&this.__appimg._dat&&t.drawImage(this.__appimg._dat,0,0)}},{key:"init",value:function(){}},{key:"start",value:function(){null==this.th&&(this.th=1),this.th_jm=10}},{key:"stop",value:function(){null!=this.th&&(this.th=null,this.th_jm=10),null!=this.gs&&this.gs.stopBGM()}},{key:"destroy",value:function(){this.stop(),null!=this.gs&&this.gs.kill()}},{key:"paint",value:function(t){this.th_jm<=0?this.mp.draw_lock_f||t.drawImage(this.gg.os_img,0,0,this):this.restart_f||(t.setColor(A.black),t.fillRect(0,0,this.gg.di.width,this.gg.di.height),t.setColor(A.white),t.setFont(new P(P.DIALOG,0,16)),null!=this.getParameter("now_loading")&&t.drawString(this.getParameter("now_loading")||"null",32,li(this.gg.di.height/2)))}},{key:"update",value:function(t){this.paint(t)}},{key:"run",value:function(){var t,i,s=0;if(this.firstMessage){var h=this.firstMessage;this.firstMessage=null,this.lastMessage=null;for(var e=h;e;e=e.next)if("load"==e.type){if(!e.target._dat||e.target._dat instanceof Image&&e.target._dat.complete)continue;this.pushMessage(e.type,e.target,e.parameters)}else if("makeChipImage"==e.type)!e.target._dat||e.target._dat instanceof Image&&e.target._dat.complete?e.parameters.chipimage.makeChipImage():this.pushMessage(e.type,e.target,e.parameters);else if("makeReverseChipImage"==e.type)!e.target._dat||e.target._dat instanceof Image&&e.target._dat.complete?e.parameters.chipimage.makeReverseChipImage():this.pushMessage(e.type,e.target,e.parameters);else if("loadAdvanceMapJson"==e.type){if(e.target.complete)continue;this.pushMessage(e.type,e.target,e.parameters)}if(this.firstMessage)return 70}if(10==this.th_jm)this.init_j(),this.mp.start(),this.th_jm-=1,t=70;else if(6==this.th_jm){var a=0,c=0;this.gg.apt_img._loaded?a=1:this.gg.apt_img._error&&(a=2),2==this.gg.layer_mode?this.gg.amapchip_img._loaded?c=1:this.gg.amapchip_img._error&&(c=2):c=1,this.__repaint(),0!=a&&0!=c&&(this.th_jm-=1)}else if(2==this.th_jm)this.gg.cut(),this.th_jm-=1,t=70;else if(this.th_jm>=2)this.th_jm-=1,this.__repaint(),t=70;else{100==this.mp.ml_mode?this.mp.mL100():this.mp.mainLoop(),this.userSub(this.gg.os_g,this.gg.os_img),this.th_jm>0&&(this.th_jm-=1);var o=Math.floor((new Date).getTime()-this.process_time),_=this.th_interval-o;if(_<3&&(_=3),this.sleep_time_visible&&(this.main_time_kiroku[this.main_time_kiroku_p]=o,this.main_time_kiroku_p+=1,this.main_time_kiroku_p>9&&(this.main_time_kiroku_p=0,this.main_time_kiroku_f=!0),this.main_time_kiroku_f)){s=0;for(var r=0;r<=9;r++)s+=this.main_time_kiroku[r];s=Math.floor(s/10)}if(this.variable_sleep_time?(this.sleep_time_visible&&(this.gg.os_g.setColor(this.mp.gamecolor_score),this.gg.os_g.setFont(new P(P.DIALOG,1,this.mp.moji_size)),this.gg.os_g.drawString("VARIABLE SLEEP  1",40,3*(14+this.mp.moji_size)),this.gg.os_g.drawString("MAIN PROGRAM TIME  ".concat(o),40,4*(14+this.mp.moji_size)),this.gg.os_g.drawString("SLEEP TIME  ".concat(_),40,5*(14+this.mp.moji_size)),this.main_time_kiroku_f&&this.gg.os_g.drawString("10 TRY MAIN PROGRAM TIME  ".concat(s),40,6*(14+this.mp.moji_size))),t=_,this.process_time=(new Date).getTime()):(this.sleep_time_visible&&(this.gg.os_g.setColor(this.mp.gamecolor_score),this.gg.os_g.setFont(new P(P.DIALOG,1,this.mp.moji_size)),this.gg.os_g.drawString("VARIABLE SLEEP  0",40,3*(14+this.mp.moji_size)),this.gg.os_g.drawString("MAIN PROGRAM TIME  ".concat(o),40,4*(14+this.mp.moji_size)),this.gg.os_g.drawString("SLEEP TIME  ".concat(this.th_interval),40,5*(14+this.mp.moji_size)),this.main_time_kiroku_f&&this.gg.os_g.drawString("10 TRY MAIN PROGRAM TIME  ".concat(s),40,6*(14+this.mp.moji_size))),t=this.th_interval,this.process_time=(new Date).getTime()),this.options.userJSCallback){i=this.getMode();try{i>=100&&i<200?this.options.userJSCallback(this.gg.os_g_bk,i,this.mp.maps.wx,this.mp.maps.wy,this.masaoJSSAppletEmulator):this.options.userJSCallback(this.gg.os_g_bk,i,-9999,-9999,this.masaoJSSAppletEmulator)}catch(t){console.error(t)}}this.__repaint()}return t}},{key:"init_j",value:function(){var t=this;this.restart_f||(this.tdb=new ai,this.tdb.setValueFromHTML(this),this.tdb.options=this.options);for(var i,s=0,h=0;h<3;h++)for(var e=0;e<30;e++)if(i="map".concat(h,"-").concat(e),null!=this.tdb.getValue(i)&&"."!=this.tdb.getValue(i)&&""!=this.tdb.getValue(i)){s=1;break}0==s&&this.tdb.setValueStage1();var a,c,_=this.options["advanced-map"],r=this.options["advance-map"];"string"==typeof _?this.loadAdvanceMapJson(_):void 0===_&&("string"==typeof r?this.loadAdvanceMapJson(r):"object"===ci(r)&&(this.options["advanced-map"]=r)),this.th_interval=this.tdb.getValueInt("game_speed"),this.th_interval<1?this.th_interval=1:this.th_interval>500&&(this.th_interval=500),this.process_time=(new Date).getTime(),this.main_time_kiroku_p=0;for(var m=0;m<=9;m++)this.main_time_kiroku[m]=0;1==this.tdb.getValueInt("variable_sleep_time")?this.variable_sleep_time=!0:this.variable_sleep_time=!1,1==this.tdb.getValueInt("sleep_time_visible")?this.sleep_time_visible=!0:this.sleep_time_visible=!1,this.gg=new Ii(this.tdb,this),this.gg.setBackcolor(A.black),i=this.tdb.getValue("filename_title"),this.gg.addListImage(0,i),i=this.tdb.getValue("filename_ending"),this.gg.addListImage(1,i),i=this.tdb.getValue("filename_gameover"),this.gg.addListImage(2,i),2!=this.gg.layer_mode&&1!=this.tdb.getValueInt("mcs_haikei_visible")||(i=this.tdb.getValue("filename_haikei"),this.gg.addListImage(4,i)),i=this.tdb.getValue("stage_select"),a=parseInt(i),isNaN(a)&&(a=-1),2==a&&(i=this.tdb.getValue("filename_chizu"),this.gg.addListImage(3,i)),i=this.tdb.getValue("stage_max"),c=parseInt(i),isNaN(c)&&(c=1),2!=this.gg.layer_mode&&1!=this.tdb.getValueInt("mcs_haikei_visible")||!(2==a||c>=2)||(i=this.tdb.getValue("filename_haikei2"),this.gg.addListImage2(5,i),i=this.tdb.getValue("filename_haikei3"),this.gg.addListImage2(6,i),i=this.tdb.getValue("filename_haikei4"),this.gg.addListImage2(7,i)),this.gg.loadListImage(),this.gm=new n;var g=this.gm;this.__canvas.addEventListener("mousedown",(function(i){i.stopImmediatePropagation(),ui.focus.focus(t),t.gs.userInteract(),function(t,i){t.mousePressed(i)}(g,i)})),this.__canvas.addEventListener("mouseup",(function(t){!function(t,i){t.mouseReleased(i)}(g,t)})),this.gk=new o;var p=this.gk,y=function(i){ui.focus.hasFocus(t)&&function(t,i){t.keyPressed(i)}(p,i)};document.addEventListener("keydown",y),this.__game.__resourceList.push({type:"eventListener",release:function(){return document.removeEventListener("keydown",y)}}),y=function(i){ui.focus.hasFocus(t)&&function(t,i){t.keyReleased(i)}(p,i)},document.addEventListener("keyup",y),this.__game.__resourceList.push({type:"eventListener",release:function(){return document.removeEventListener("keyup",y)}}),2==this.tdb.getValueInt("audio_se_switch_wave")&&(this.audio_se_no_wave=!0),2==this.tdb.getValueInt("audio_se_switch_mp3")&&(this.audio_se_no_mp3=!0),2==this.tdb.getValueInt("audio_se_switch_ogg")&&(this.audio_se_no_ogg=!0),2==this.tdb.getValueInt("audio_bgm_switch_wave")&&(this.audio_bgm_no_wave=!0),2==this.tdb.getValueInt("audio_bgm_switch_mp3")&&(this.audio_bgm_no_mp3=!0),2==this.tdb.getValueInt("audio_bgm_switch_ogg")&&(this.audio_bgm_no_ogg=!0),this.gs=new(v.factory(this.tdb))(this.tdb,this);var u=function(t){var i,s=t.trim().split(/\s*(?:,|$)\s*/);return s.forEach((function(t,i,s){"serif"===t||"sans-serif"===t||"monospace"===t||"cursive"===t||"fantasy"===t||"system-ui"===t||"'"===t[0]&&"'"===t[t.length-1]||'"'===t[0]&&'"'===t.at(-1)||(s[i]="'".concat(t,"'"))})),(i=s.join()).match(/^(?!.*(serif|monospace|cursive|fantasy|system-ui)$).*$/)&&(i+=",".concat(P.DIALOG_str)),i};this.gg.font_score=u(this.tdb.getValue("font_score")),this.gg.font_message=u(this.tdb.getValue("font_message")),this.mp=new Jt(this.gg,this.gm,this.gk,this.gs,this.tdb),this.mp.addHighscoreEvent(this.options.highscoreCallback),this.mph_start_game_f&&(this.mp.highscore=this.mph_highscore),this.mp.title_lock_f=this.mph_title_lock_f,this.mp.start_game_f=this.mph_start_game_f,this.options.userJSCallback&&(this.masaoJSSAppletEmulator=new si(this,!!this.options["bc-case-insensitive"])),this.__repaint(),this.userInit()}},{key:"userInit",value:function(){}},{key:"userSub",value:function(t,i){}},{key:"getHighscore",value:function(){var t=0;return null!=this.mp&&(t=this.mp.highscore)<this.mp.score&&(t=this.mp.score),t}},{key:"getScore",value:function(){var t=0;return null!=this.mp&&(t=this.mp.score),t}},{key:"getMode",value:function(){var t=0;if(null!=this.mp){var i=this.mp.ml_mode;i>=50&&i<=60?t=1:i>=200&&i<300?t=400:i>=300&&i<=310?t=200:i>=400&&i<=410?t=300:100!=this.mp.ml_mode||2!=this.mp.sl_step&&3!=this.mp.sl_step?(t=100,t+=this.mp.stage):t=150}return t}},{key:"soundOn",value:function(){return null!=this.gs&&(this.gs.soundOn(),!0)}},{key:"soundOff",value:function(){return null!=this.gs&&(this.gs.soundOff(),!0)}},{key:"onSound",value:function(){return null!=this.gs&&(this.gs.soundOn(),!0)}},{key:"offSound",value:function(){return null!=this.gs&&(this.gs.soundOff(),!0)}},{key:"getMyX",value:function(){if(null!=this.mp){var t;if(100==this.mp.ml_mode&&this.mp.co_j.c>=100&&this.mp.co_j.c<200)return(t=vi(this.mp.co_j.x+15,5)-1)<0&&(t=0),t>=this.mp.mapWidth&&(t=this.mp.mapWidth-1),t;if(200==this.mp.ml_mode)return vi(this.mp.ig.co_j.x+15,5)}return-1}},{key:"getMyY",value:function(){if(null!=this.mp){var t;if(100==this.mp.ml_mode&&this.mp.co_j.c>=100&&this.mp.co_j.c<200)return(t=vi(this.mp.co_j.y+15,5)-10)<0&&(t=0),t>=this.mp.mapHeight&&(t=this.mp.mapHeight-1),t;if(200==this.mp.ml_mode)return vi(this.mp.ig.co_j.y+15,5)}return-1}},{key:"getViewX",value:function(){if(null!=this.mp&&100==this.mp.ml_mode){var t=vi(this.mp.maps.wx,5)-1;return t<0&&(t=0),t>this.mp.mapWidth-16&&(t=this.mp.mapWidth-1),t}return-1}},{key:"getViewY",value:function(){if(null!=this.mp&&100==this.mp.ml_mode){var t=vi(this.mp.maps.wy,5)-10;return t<0&&(t=0),t>this.mp.mapHeight-10&&(t=this.mp.mapHeight-10),t}return-1}},{key:"setMyPosition",value:function(t,i){var s=0,h=0;return null!=this.mp&&100==this.mp.ml_mode&&this.mp.co_j.c>=100&&this.mp.co_j.c<200&&(s=parseInt(t),h=parseInt(i),(isNaN(s)||isNaN(h))&&(s=-1,h=-1),!(s<0||s>=this.mp.mapWidth||h<0||h>=this.mp.mapHeight||(this.mp.co_j.x=32*(s+1),this.mp.co_j.y=32*(h+10),0)))}},{key:"showMessage",value:function(t,i,s,h,e){return null!=this.mp&&this.mp.showmSet(t,i,s,h,e)}},{key:"showImage",value:function(t,i,s,h){return null!=this.mp&&this.mp.showiSet(t,i,s,h)}},{key:"setEnemy",value:function(t,i,s){return null!=this.mp&&this.mp.sete(t,i,s)}},{key:"setMapchip",value:function(t,i,s){return null!=this.mp&&this.mp.setmapc(t,i,s)}},{key:"getMapchip",value:function(t,i){return null!=this.mp?this.mp.getmapc(t,i):-1}},{key:"setMapchip2",value:function(t,i,s){return null!=this.mp&&this.mp.setmapc2(t,i,s)}},{key:"getMapchip2",value:function(t,i){return null!=this.mp?this.mp.getmapc2(t,i):-1}},{key:"setBackImage",value:function(t){return null!=this.mp&&this.mp.setbacki(t)}},{key:"pressLeft",value:function(){return null!=this.gk&&(this.gk.left_f=!0,!0)}},{key:"pressLeft2",value:function(){return null!=this.gk&&null!=this.mp&&100==this.mp.ml_mode&&this.mp.co_j.c>=100&&this.mp.co_j.c<200&&(this.gk.left_f=!0,this.gk.left_c=2,this.mp.j_hashiru_f=!0,!0)}},{key:"releaseLeft",value:function(){return null!=this.gk&&(this.gk.left_f=!1,!0)}},{key:"pressRight",value:function(){return null!=this.gk&&(this.gk.right_f=!0,!0)}},{key:"pressRight2",value:function(){return null!=this.gk&&null!=this.mp&&100==this.mp.ml_mode&&this.mp.co_j.c>=100&&this.mp.co_j.c<200&&(this.gk.right_f=!0,this.gk.right_c=2,this.mp.j_hashiru_f=!0,!0)}},{key:"releaseRight",value:function(){return null!=this.gk&&(this.gk.right_f=!1,!0)}},{key:"pressUp",value:function(){return null!=this.gk&&(this.gk.up_f=!0,!0)}},{key:"releaseUp",value:function(){return null!=this.gk&&(this.gk.up_f=!1,!0)}},{key:"pressDown",value:function(){return null!=this.gk&&(this.gk.down_f=!0,this.gk.tr2_f=!0,!0)}},{key:"releaseDown",value:function(){return null!=this.gk&&(this.gk.down_f=!1,this.gk.tr2_f=!1,!0)}},{key:"pressTrigger1",value:function(){return null!=this.gk&&(this.gk.tr1_f=!0,!0)}},{key:"releaseTrigger1",value:function(){return null!=this.gk&&(this.gk.tr1_f=!1,!0)}},{key:"releaseAll",value:function(){return null!=this.gk&&(this.gk.up_f=!1,this.gk.down_f=!1,this.gk.left_f=!1,this.gk.right_f=!1,this.gk.tr1_f=!1,this.gk.tr2_f=!1,this.gk.x_f=!1,!0)}},{key:"getKeyCode",value:function(){return null!=this.gk?this.gk.key_code:-1}},{key:"resetKeyCode",value:function(){return null!=this.gk&&(this.gk.key_code=0,!0)}},{key:"equipBarrier",value:function(t){var i=0;return null!=this.gk&&null!=this.mp&&100==this.mp.ml_mode&&this.mp.co_j.c>=100&&this.mp.co_j.c<200&&(i=parseInt(t),isNaN(i)&&(i=0),!(i<=0||(this.mp.j_v_c=i,this.gs.rsAddSound(7),0)))}},{key:"setJetFuel",value:function(t){var i=0;return null!=this.gk&&null!=this.mp&&100==this.mp.ml_mode&&this.mp.co_j.c>=100&&this.mp.co_j.c<200&&(i=parseInt(t),isNaN(i)&&(i=0),!(i<0||(this.mp.j_jet_fuel=i,0)))}},{key:"equipJet",value:function(t){return this.setJetFuel(t)}},{key:"restart",value:function(){return this.restart_f=!0,this.th_jm=10,null!=this.mp&&(this.mph_title_lock_f=this.mp.title_lock_f,this.mph_start_game_f=this.mp.start_game_f,this.mp.highscore<this.mp.score&&(this.mp.highscore=this.mp.score),this.mph_highscore=this.mp.highscore),!0}},{key:"getValue",value:function(t){return this.th_jm<=0?this.tdb.getValue(t):null}},{key:"getParamValue",value:function(t){return this.th_jm<=0?this.tdb.getValue(t):null}},{key:"setValue",value:function(t,i){return this.th_jm<=0&&this.tdb.setValue(t,i)}},{key:"setParamValue",value:function(t,i){return this.th_jm<=0&&this.tdb.setValue(t,i)}},{key:"getMyXReal",value:function(){return this.getMode()>=100&&this.getMode()<200&&this.mp.co_j.c>=100&&this.mp.co_j.c<200?this.mp.co_j.x:-1}},{key:"getMyYReal",value:function(){return this.getMode()>=100&&this.getMode()<200&&this.mp.co_j.c>=100&&this.mp.co_j.c<200?this.mp.co_j.y:-1}},{key:"setMyXReal",value:function(t){var i;return this.getMode()>=100&&this.getMode()<200&&this.mp.co_j.c>=100&&this.mp.co_j.c<200&&(i=parseInt(t),isNaN(i)&&(i=-9999),i<0&&(i=0),this.mp.co_j.x=i,!0)}},{key:"setMyYReal",value:function(t){var i;return this.getMode()>=100&&this.getMode()<200&&this.mp.co_j.c>=100&&this.mp.co_j.c<200&&(i=parseInt(t),isNaN(i)&&(i=-9999),i<0&&(i=0),this.mp.co_j.y=i,!0)}},{key:"getMyVX",value:function(){return this.getMode()>=100&&this.getMode()<200&&this.mp.co_j.c>=100&&this.mp.co_j.c<200?this.mp.co_j.vx:-9999}},{key:"getMyVY",value:function(){return this.getMode()>=100&&this.getMode()<200&&this.mp.co_j.c>=100&&this.mp.co_j.c<200?this.mp.co_j.vy:-9999}},{key:"getViewXReal",value:function(){return this.getMode()>=100&&this.getMode()<200?this.mp.maps.wx:-1}},{key:"getViewYReal",value:function(){return this.getMode()>=100&&this.getMode()<200?this.mp.maps.wy:-1}},{key:"getEnemyTotal",value:function(){if(this.getMode()>=100&&this.getMode()<200){for(var t=0,i=0;i<=229;i++)(this.mp.co_t[i].c>=100||10==this.mp.co_t[i].c)&&t++;return t}return-1}},{key:"getBossXReal",value:function(){return this.getMode()>=100&&this.getMode()<200?this.mp.co_b.x:-1}},{key:"getBossYReal",value:function(){return this.getMode()>=100&&this.getMode()<200?this.mp.co_b.y:-1}},{key:"setMyMiss",value:function(t){var i;return this.getMode()>=100&&this.getMode()<200&&this.mp.co_j.c>=100&&this.mp.co_j.c<200&&(i=parseInt(t),isNaN(i)&&(i=1),(i<1||i>4)&&(i=1),this.mp.jShinu(i),!0)}},{key:"setMyPress",value:function(t){var i;return this.getMode()>=100&&this.getMode()<200&&this.mp.co_j.c>=100&&this.mp.co_j.c<200&&(i=parseInt(t),isNaN(i)&&(i=1),this.mp.jFumu(i),!0)}},{key:"playSound",value:function(t){return null!=this.gs&&(i=parseInt(t),isNaN(i)&&(i=-1),i>=1&&i<=27&&(this.getMode()>=100&&this.getMode()<200?this.gs.rsAddSound(i-1):this.gs.play(i-1),!0));var i}},{key:"setScrollLock",value:function(t){var i=!1;return this.getMode()>=100&&this.getMode()<200&&(i=this.mp.setScrollLock(t)),i}},{key:"attackFire",value:function(t,i,s,h){var e=0;return this.getMode()>=100&&this.getMode()<200&&(e=this.mp.attackFire(t,i,s,h)),e}},{key:"addScore",value:function(t){return null!=this.mp&&(i=parseInt(t),isNaN(i)&&(i=0),i>=1&&(this.mp.addScore(i),!0));var i}},{key:"setPenColor",value:function(t,i,s,h){return void 0===h&&(h="255"),null==this.mp||this.mp.setPenColor(t,i,s,h)}},{key:"showRect",value:function(t,i,s,h,e){return null!=this.mp&&this.mp.showrSet(t,i,s,h,e)}},{key:"showOval",value:function(t,i,s,h,e){return null!=this.mp&&this.mp.showoSet(t,i,s,h,e)}},{key:"getJSMes",value:function(){return null!=this.mp?this.mp.getJSMes():-1}},{key:"showGauge",value:function(t,i){return null!=this.mp&&this.mp.showGauge(t,i)}},{key:"hideGauge",value:function(){return null!=this.mp&&this.mp.hideGauge()}},{key:"setJSMes",value:function(t){return null!=this.mp&&(this.mp.setJSMes(t),!0)}},{key:"setTitleLock",value:function(){return null!=this.mp&&(this.mp.title_lock_f=!0,!0)}},{key:"startGame",value:function(){return null!=this.mp&&(this.mp.start_game_f=!0,!0)}},{key:"equipGrenade",value:function(t){var i=0;return this.getMode()>=100&&this.getMode()<200&&this.mp.co_j.c>=100&&this.mp.co_j.c<200&&(i=parseInt(t),isNaN(i)&&(i=-1),!(i<0||(this.mp.j_gr_kazu=i,0)))}},{key:"setSystemImage",value:function(t,i){return null!=this.mp&&this.mp.setSystemImage(t,i)}},{key:"setModeWait",value:function(t,i){return null!=this.mp&&this.mp.setModeWait(t,i)}},{key:"showMyHP",value:function(t){return null!=this.mp&&this.mp.showMyHP(t)}},{key:"setMyMaxHP",value:function(t){return null!=this.mp&&this.mp.setMyMaxHP(t)}},{key:"setMyHP",value:function(t){return null!=this.mp&&this.mp.setMyHP(t)}},{key:"getMyHP",value:function(){return null!=this.mp?this.mp.getMyHP():0}},{key:"setMyHPDamage",value:function(t){return null!=this.mp&&this.mp.setMyHPDamage(t)}},{key:"setMyWait",value:function(t,i,s){return null!=this.mp&&this.mp.setMyWait(t,i,s)}},{key:"setStageClear",value:function(){return null!=this.mp&&this.mp.setStageClear()}},{key:"equipFire",value:function(t){void 0===t&&(t="1");var i=-1;if(this.getMode()>=100&&this.getMode()<200){if(i=parseInt(t),isNaN(i)&&(i=-1),i<0)return!1;if(0==i)return this.mp.j_fire_f=!1,!0;if(1==i)return this.mp.j_fire_f=!0,!0}return!1}},{key:"setFireRange",value:function(t){var i=9999;return null!=this.mp&&(i=parseInt(t),isNaN(i)&&(i=0),!(i<=0||(this.mp.j_fire_range=i,0)))}},{key:"equipTail",value:function(t){var i=-1;if(this.getMode()>=100&&this.getMode()<200){if(i=parseInt(t),isNaN(i)&&(i=-1),i<0)return!1;if(0==i)return this.mp.j_tail_f=!1,!0;if(1==i)return this.mp.j_tail_f=!0,!0}return!1}},{key:"attackTail",value:function(t,i,s,h){var e=0;return this.getMode()>=100&&this.getMode()<200&&(e=this.mp.attackTail(t,i,s,h)),e}},{key:"destroyEnemy",value:function(t,i,s,h){var e=-1;return this.getMode()>=100&&this.getMode()<200&&(e=this.mp.destroyEnemy(t,i,s,h)),e}},{key:"isPressZKey",value:function(){return null!=this.gk&&this.gk.z_f?1:0}},{key:"isPressXKey",value:function(){return null!=this.gk&&this.gk.x_f?1:0}},{key:"isPressSpaceKey",value:function(){return null!=this.gk&&this.gk.space_f?1:0}},{key:"getMyDirection",value:function(){return this.getMode()>=100&&this.getMode()<200?15==this.mp.j_tokugi?this.mp.j_4_muki:this.mp.co_j.muki:-1}},{key:"setHTMLText",value:function(t){return null!=this.mp&&(this.tdb.initParameter(),this.tdb.setValueFromHTMLText(t),this.restart(),!0)}},{key:"newYuka",value:function(t,i,s,h,e){return null!=this.mp?this.mp.newYuka(t,i,s,h,e):-1}},{key:"setYukaPosition",value:function(t,i,s,h,e){return null!=this.mp&&(void 0!==h&&void 0!==e?this.mp.setYukaPosition(t,i,s,h,e):this.mp.setYukaPosition(t,i,s))}},{key:"setYukaType",value:function(t,i){return null!=this.mp&&this.mp.setYukaType(t,i)}},{key:"disposeYuka",value:function(t){return null!=this.mp&&this.mp.disposeYuka(t)}},{key:"setYukaColor",value:function(t,i,s,h,e){return null!=this.mp&&this.mp.setYukaColor(t,i,s,h,e)}},{key:"isRideYuka",value:function(t){return null!=this.mp?this.mp.isRideYuka(t):-1}},{key:"setMyVX",value:function(t){var i=0;return this.getMode()>=100&&this.getMode()<200&&this.mp.co_j.c>=100&&this.mp.co_j.c<200&&(i=parseInt(t),isNaN(i)&&(i=-9999),-9999!=i&&(this.mp.co_j.vx=i,!0))}},{key:"setMyVY",value:function(t){var i=0;return this.getMode()>=100&&this.getMode()<200&&this.mp.co_j.c>=100&&this.mp.co_j.c<200&&(i=parseInt(t),isNaN(i)&&(i=-9999),-9999!=i&&(this.mp.co_j.vy=i,!0))}},{key:"isRideGround",value:function(){return null!=this.mp?this.mp.isRideGround():-1}},{key:"setYukaPattern",value:function(t,i,s){return null!=this.mp&&this.mp.setYukaPattern(t,i,s)}},{key:"setYukaImage",value:function(t,i){return null!=this.mp&&this.mp.setYukaImage(t,i)}},{key:"setMySpeed",value:function(t){var i=0;return this.getMode()>=100&&this.getMode()<200&&this.mp.co_j.c>=100&&this.mp.co_j.c<200&&(i=parseInt(t),isNaN(i)&&(i=-1),!(i<0||i>16||14!=this.mp.j_tokugi&&15!=this.mp.j_tokugi||(this.mp.j_speed=10*i,0)))}},{key:"setScrollArea",value:function(t,i,s,h){return null!=this.mp&&this.mp.setScrollArea(t,i,s,h)}},{key:"isPressUpKey",value:function(){return null!=this.gk&&this.gk.up_f?1:0}},{key:"isPressDownKey",value:function(){return null!=this.gk&&this.gk.down_f?1:0}},{key:"isPressLeftKey",value:function(){return null!=this.gk&&this.gk.left_f?1:0}},{key:"isPressRightKey",value:function(){return null!=this.gk&&this.gk.right_f?1:0}},{key:"newImageOnLoad",value:function(t){var i;i=this.getImage(t);return[].push(i),i}},{key:"setSystemDrawMode",value:function(t){var i=-1;return null!=this.mp&&(i=parseInt(t),isNaN(i)&&(i=-1),!(i<1||i>4||(this.mp.system_draw_mode=i,0)))}},{key:"getMyObjectCondition",value:function(){return null!=this.mp?this.mp.co_j.c:0}},{key:"getMyObjectAC",value:function(){return null!=this.mp?this.mp.co_j.ac:0}},{key:"getMyObjectPattern",value:function(){return null!=this.mp?this.mp.co_j.pt:0}},{key:"getMyDirection4way",value:function(){return this.getMode()>=100&&this.getMode()<200?15==this.mp.j_tokugi?this.mp.j_4_muki:2==this.mp.co_j.direction||3==this.mp.co_j.direction?this.mp.co_j.direction:this.mp.co_j.muki:-1}},{key:"setMyObjectImage",value:function(t,i,s){var h=0,e=0;return null!=this.mp&&(h=parseInt(i),e=parseInt(s),(isNaN(h)||isNaN(e))&&(h=0,e=0),this.mp.co_j.img=t,this.mp.co_j.zs_x=h,this.mp.co_j.zs_y=e,!0)}},{key:"getEnemyObjectCondition",value:function(t){var i=-1;return null!=this.mp?(i=parseInt(t),isNaN(i)&&(i=-1),i<0||i>this.mp.t_kazu?0:this.mp.co_t[i].c):0}},{key:"getEnemyObjectPattern",value:function(t){var i=-1;return null!=this.mp?(i=parseInt(t),isNaN(i)&&(i=-1),i<0||i>this.mp.t_kazu?0:this.mp.co_t[i].pt):0}},{key:"getEnemyObjectDirection",value:function(t){var i=-1,s=0;return null!=this.mp?(i=parseInt(t),isNaN(i)&&(i=-1),i<0||i>this.mp.t_kazu?0:(s=this.mp.co_t[i].c)>=1400&&s<1500||s>=1200&&s<=1230?this.mp.co_t[i].direction:this.mp.co_t[i].pth):0}},{key:"setEnemyObjectImage",value:function(t,i,s,h){var e=-1,a=0,c=0;return null!=this.mp&&(e=parseInt(t),a=parseInt(s),c=parseInt(h),isNaN(e)&&(e=-1),e<0||e>this.mp.t_kazu||(this.mp.co_t[e].img=i,this.mp.co_t[e].zs_x=a,this.mp.co_t[e].zs_y=c),!1)}},{key:"getEnemyAC",value:function(){return null!=this.mp?this.mp.g_c2:0}},{key:"setScrollAreaReal",value:function(t,i,s,h){return null!=this.mp&&this.mp.setScrollAreaReal(t,i,s,h)}},{key:"isPressCodeKey",value:function(t){var i=0;return null!=this.gk?(i=parseInt(t),isNaN(i)&&(i=-1),i<0||i>255?0:1==this.gk.codekey_f[i]?1:0):0}},{key:"playBGM",value:function(t){return null!=this.gs&&this.gs.playUserBGMFile(t)}},{key:"playBGMLoop",value:function(t){return null!=this.gs&&this.gs.playUserBGMFileLoop(t)}},{key:"stopBGM",value:function(){return null!=this.gs&&(this.gs.stopBGM(),!0)}},{key:"getBossHP",value:function(){return null!=this.mp?this.mp.getBossHP():0}},{key:"setBossHP",value:function(t){var i=1;return null!=this.mp&&(i=parseInt(t),isNaN(i)&&(i=0),i<0&&(i=0),this.mp.setBossHP(i))}},{key:"getBossDirection",value:function(){return null!=this.mp?this.mp.getBossDirection():0}},{key:"isBossAttackMode",value:function(){return null!=this.mp?this.mp.isBossAttackMode():0}},{key:"setBossXReal",value:function(t){var i=32;return null!=this.mp&&(i=parseInt(t),isNaN(i)&&(i=-9999),!(i<0)&&this.mp.setBossXReal(i))}},{key:"setBossYReal",value:function(t){var i=320;return null!=this.mp&&(i=parseInt(t),isNaN(i)&&(i=-9999),!(i<0)&&this.mp.setBossYReal(i))}},{key:"setBossObjectImage",value:function(t,i,s){var h=0,e=0;return null!=this.mp&&(h=parseInt(i),e=parseInt(s),(isNaN(h)||isNaN(e))&&(h=0,e=0),this.mp.co_b.img=t,this.mp.co_b.zs_x=h,this.mp.co_b.zs_y=e,!0)}},{key:"setSystemPattern",value:function(t,i){var s=1,h=1;return null!=this.mp&&(s=parseInt(t),h=parseInt(i),(isNaN(s)||isNaN(h))&&(s=-1),!(s<1||s>249||h<1||h>249||(this.mp.hih[0][s]=this.mp.hih[0][h],this.mp.hih[1][s]=this.mp.hih[1][h],this.mp.setmapc_f=!0,0)))}},{key:"setSystemPatternImage",value:function(t,i,s){var h=1,e=0;return null!=this.mp&&(h=parseInt(t),e=parseInt(i),(isNaN(h)||isNaN(e))&&(h=-1),!(h<1||h>249||((e<0||e>1)&&(e=0),this.mp.hih[e][h]=s,this.mp.setmapc_f=!0,0)))}},{key:"getCoinCount",value:function(t,i,s,h){if(0===arguments.length)return null!=this.mp?this.mp.getCoinCount(0,0,this.mp.mapWidth-1,this.mp.mapHeight-1):-1;var e=0,a=0,c=0,o=0;return null!=this.mp?(e=parseInt(t),a=parseInt(i),c=parseInt(s),o=parseInt(h),(isNaN(e)||isNaN(a)||isNaN(c)||isNaN(o))&&(e=-1),e<0?-1:this.mp.getCoinCount(e,a,c,o)):-1}},{key:"addMyTokugi",value:function(t){var i=-1;return this.getMode()>=100&&this.getMode()<200&&(i=parseInt(t),isNaN(i)&&(i=-1),!(i<0)&&this.mp.addMyTokugi(i))}},{key:"removeMyTokugi",value:function(t){var i=-1;return this.getMode()>=100&&this.getMode()<200&&(i=parseInt(t),isNaN(i)&&(i=-1),!(i<0)&&this.mp.removeMyTokugi(i))}},{key:"setScore",value:function(t){var i=0;return null!=this.mp&&(i=parseInt(t),isNaN(i)&&(i=0),this.mp.score=i,this.mp.addScore(0),!0)}},{key:"getBarrierTime",value:function(){return null!=this.mp&&100==this.mp.ml_mode&&this.mp.co_j.c>=100&&this.mp.co_j.c<200?this.mp.j_v_c:-1}},{key:"getTimeLimit",value:function(){return null!=this.mp&&this.mp.time_max>0&&100==this.mp.ml_mode?Math.floor(this.mp.time/1e3):-1}},{key:"setTimeLimit",value:function(t){var i=0;return null!=this.mp&&this.mp.time_max>0&&(i=parseInt(t),isNaN(i)&&(i=-1),!(i<0||(this.mp.time=1e3*i+1e3-70,0)))}},{key:"setAthletic",value:function(t,i,s){var h=-1,e=0,a=0;if(this.getMode()>=100&&this.getMode()<200){if(e=parseInt(t),a=parseInt(i),h=parseInt(s),(isNaN(h)||isNaN(e)||isNaN(a))&&(h=-1),h<0)return!1;e<0&&(e=0),e>=this.mp.mapWidth&&(e=this.mp.mapWidth-1),a<0&&(a=0),a>=this.mp.mapHeight&&(a=this.mp.mapHeight-1),e+=1,a+=10;var c=0;if(4==this.mp.maps.map_bg[e-1][a]&&(c=4),h>=2){var o=this.mp.setAthleticOnMap(h,e,a);-99==o?(this.mp.aSet(32*e+16,32*a+16,70,32*e),c=50):c=o}else this.mp.aSet(32*e+16,32*a+16,70,32*e),c=50;return this.mp.maps.map_bg[e][a]=c,this.mp.setmapc_f=!0,!0}return!1}},{key:"setSecondImage",value:function(t){if(this.getMode()>=100&&this.getMode()<200){var i=this.gg.loadImage(t);return this.mp.second_gazou_img=i,!0}return!1}},{key:"setGrenadeCount",value:function(t){var i=0;return this.getMode()>=100&&this.getMode()<200&&this.mp.co_j.c>=100&&this.mp.co_j.c<200&&(i=parseInt(t),isNaN(i)&&(i=-1),!(i<0||(this.mp.j_gr_kazu=i,0)))}},{key:"setMyLeft",value:function(t){var i=0;return this.getMode()>=100&&this.getMode()<200&&(i=parseInt(t),isNaN(i)&&(i=-1),!(i<0||(this.mp.j_left=i,0)))}},{key:"getGrenadeCount",value:function(){var t=0;return this.getMode()>=100&&this.getMode()<200&&this.mp.co_j.c>=100&&this.mp.co_j.c<200?((t=this.mp.j_gr_kazu)<0&&(t=0),t):t}},{key:"getMyLeft",value:function(){var t=-1;return this.getMode()>=100&&this.getMode()<200?t=this.mp.j_left:t}},{key:"setEnemyPress",value:function(t){var i=1;return this.getMode()>=100&&this.getMode()<200&&(i=parseInt(t),isNaN(i)&&(i=-1),!(i<0||((i<1||i>3)&&(i=1),this.mp.j_enemy_press=i,0)))}},{key:"getImage",value:function(t){var i=new I;return i.load(t),i}},{key:"createImage",value:function(t,i){return new I(t,i)}},{key:"getParameter",value:function(t){var i=(t+"").toLowerCase();return void 0===this.params[i]?null:this.params[i]+""}},{key:"getAudioURL",value:function(t,i){var s,h;-1!=(s=(t+="").lastIndexOf("."))&&(-1!=(h=t.lastIndexOf("/"))?s>h&&(t=t.substring(0,s)):t=t.substring(0,s));var e=new Audio;return i?e.canPlayType("audio/wav")&&!this.audio_bgm_no_wave?t+=".wav":e.canPlayType("audio/mpeg")&&!this.audio_bgm_no_mp3?t+=".mp3":e.canPlayType("audio/ogg")&&!this.audio_bgm_no_ogg?t+=".ogg":t="":e.canPlayType("audio/wav")&&!this.audio_se_no_wave?t+=".wav":e.canPlayType("audio/mpeg")&&!this.audio_se_no_mp3?t+=".mp3":e.canPlayType("audio/ogg")&&!this.audio_se_no_ogg?t+=".ogg":t="",t}},{key:"getAudioClip",value:function(t,i){return new di(this.getAudioURL(t,i))}},{key:"pushMessage",value:function(t,i,s){var h={};h.type=t,h.target=i,h.parameters=s,h.next=null,null==this.firstMessage&&(this.firstMessage=h),null!=this.lastMessage&&(this.lastMessage.next=h),this.lastMessage=h}},{key:"loadAdvanceMapJson",value:function(t){var i=this,s=new XMLHttpRequest,h={complete:!1};s.open("GET",t,!0),s.onreadystatechange=function(){if(4===s.readyState){try{i.options["advanced-map"]=JSON.parse(s.responseText)}catch(i){console.error("Failed to load JSON: "+t)}h.complete=!0,s.onreadystatechange=null}},this.pushMessage("loadAdvanceMapJson",h,null),s.send(null)}},{key:"getSnapshot",value:function(){return{mp:this.mp.getSnapshot()}}}],s&&oi(i.prototype,s),Object.defineProperty(i,"prototype",{writable:!1}),t}();function ri(t){return ri="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ri(t)}function ni(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}function mi(t,i){for(var s=0;s<i.length;s++){var h=i[s];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(t,(void 0,e=function(t,i){if("object"!==ri(t)||null===t)return t;var s=t[Symbol.toPrimitive];if(void 0!==s){var h=s.call(t,"string");if("object"!==ri(h))return h;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(h.key),"symbol"===ri(e)?e:String(e)),h)}var e}function gi(t,i,s){return i&&mi(t.prototype,i),s&&mi(t,s),Object.defineProperty(t,"prototype",{writable:!1}),t}var pi,yi,ui=function(){function t(i,s,h){var e=this;ni(this,t),this.__pad_before=[],this.__pad_after=[],this.__pad_touches=[],this.__st=70,this.__pt=0,this.__teo={};var a=xi();if((h=h||{}).extensions=h.extensions||[],s?this.__boxID=s:(this.__boxID="__mcdiv".concat(a),document.write("<div id='".concat(this.__boxID,"'></div>"))),this.__canvasID="__mccanvas".concat(a),this.__padDivID="__mcpaddiv".concat(a),this.__box=document.getElementById(this.__boxID),this.__resourceList=[],this.__canvas=document.createElement("canvas"),this.__canvas.id=this.__canvasID,this.__canvas.width=h.width||512,this.__canvas.height=h.height||320,this.__canvas.textContent="※お使いのブラウザはHTML5に対応していないため表示できません。",this.__box.appendChild(this.__canvas),this.__padDiv=document.createElement("div"),this.__padDiv.id=this.__padDivID,this.__box.appendChild(this.__padDiv),this.__canvas&&this.__canvas.getContext){if(this.__pad_before=[],this.__pad_after=[],this.__pad_touches=[],window.TouchEvent){var c,o=document.createElement("input");o.type="button",o.value="バーチャル操作パッド 表示 / 非表示",(c=o.style).width="24em",c.height="2.5em",o.onclick=function(){"inline"==_.style.display?_.style.display="none":t.padAccessor.show(_)},this.__padDiv.appendChild(o),this.__padDiv.appendChild(document.createElement("br"));var _=this.__pad=document.createElement("canvas");_.width=500,_.height=200;var r=function(t){e.__pad_event(t)};_.addEventListener("touchstart",r,!1),_.addEventListener("touchmove",r,!1),_.addEventListener("touchend",r,!1),_.addEventListener("touchcancel",r,!1),_.style.display="none",this.__padDiv.appendChild(_),(c=_.style).position="absolute";var n=window.setInterval((function(){var i=innerWidth,s=innerHeight,h=i<s?i:s;_.style.width="".concat(i,"px"),_.style.height="".concat(h*t.pad.style.rate,"px"),_.style.left="".concat(scrollX,"px"),t.pad.avoidAD?_.style.top="".concat(scrollY+s-h*t.pad.style.rate-.16*h,"px"):_.style.top="".concat(scrollY+s-h*t.pad.style.rate,"px"),e.__pad_update()}),500);this.__resourceList.push({type:"setInterval",value:n}),t.padAccessor.append(_),this.__pad_off=document.createElement("canvas"),this.__pad_off.width=500,this.__pad_off.height=200;var m=this.__pad_off.getContext("2d");m.font="24px monospace",m.textAlign="center",m.textBaseline="middle",m.lineWidth=2,m.lineCap="round",m.lineJoin="round";for(var g=0;g<8;g++)this.__pad_before[g]=!1,this.__pad_after[g]=!1;this.__pad_update(),document.addEventListener("touchend",(function(){var t;null===(t=e.__mc.gs)||void 0===t||t.userInteract()}),{once:!0})}this.__mc=new _i(i,this.__canvas,this,h||{});for(var p=0;p<h.extensions.length;p++)h.extensions[p].inject(this.__mc,h);var y;this.__mc.start(),(y=this.__mc.getParameter("game_speed"))?(y=parseInt(y),isNaN(y)?y=70:y<10?y=10:y>300&&(y=300)):y=70,this.__st=y,this.__pt=0;var u=new(h["custom-loop"]||wi)(this,!!h["bc-loop-setinterval"]);u.start(y,this.__loop.bind(this)),this.__resourceList.push({type:"Loop",value:u}),1==parseInt(this.__mc.getParameter("mcs_screen_size"))&&(this.__canvas.width=h.width||640,this.__canvas.height=h.height||480)}}return gi(t,[{key:"kill",value:function(){this.__mc.destroy();for(var t=this.__resourceList,i=0,s=t.length;i<s;i++){var h=t[i];"setInterval"===h.type?clearInterval(h.value):"eventListener"===h.type?h.release():"Loop"===h.type&&h.value.stop()}for(this.__resourceList=[];this.__box.hasChildNodes();)this.__box.removeChild(this.__box.firstChild)}},{key:"__loop",value:function(){var t=(new Date).getTime();if(!(t-this.__pt<this.__st)){if(this.__pt=t-10,this.__testCanvas){var i=this.__testCanvas.getContext("2d");if(i){var s;if(i.fillStyle="rgb(128,0,128)",i.fillRect(0,0,700,700),i.strokeStyle="#f00",this.__mc.gg)for(i.save(),i.scale(.5,.5),i.drawImage(this.__mc.gg.os_img._dat,0,0),i.drawImage(this.__mc.gg.os2_img._dat,576,0),i.restore(),i.beginPath(),s=0;s<700;s+=32)i.moveTo(0,s),i.lineTo(700,s),i.moveTo(s,0),i.lineTo(s,700);i.stroke()}}if(this.__testDiv&&this.__mc.mp){var h,e,a=this.__mc.mp,c="<div style='text-align:left'>";for(h in a)"[object Array]"!=(e=Object.prototype.toString.call(a[h]))&&"[object Function]"!=e&&(h in this.__teo?this.__teo[h].t>0?(c+="<span style='background-color:rgba(255,255,255,".concat(this.__teo[h].t/6,")'>").concat(h,": ").concat(a[h],"</span> "),this.__teo[h].t--):c+="".concat(h,": ").concat(a[h]," "):this.__teo[h]={val:a[h],t:0},this.__teo[h].val!=a[h]&&(this.__teo[h].val=a[h],this.__teo[h].t=6));this.__testDiv.innerHTML=c+"</div>"}this.__mc.run()}}},{key:"__pad_update",value:function(){if(this.__pad&&this.__pad_off){var i,s,h,e,a,c,o=this.__pad.getBoundingClientRect(),_=o.left,r=o.top,n=this.__pad_off.getContext("2d"),m=t.pad.coords.length;if(n){for(n.clearRect(0,0,500,200),n.fillStyle=t.pad.style.back,n.fillRect(0,0,500,200),n.fillStyle=t.pad.style.button,i=0;i<m;i++){for(n.beginPath(),h=(e=t.pad.coords[i]).length>>1,n.moveTo(e[0],e[1]),s=0;s<h;s++)n.lineTo(e[s<<1],e[1+(s<<1)]);n.closePath(),n.fill()}for(i=0;i<m;i++)this.__pad_after[i]=!1;for(n.fillStyle=t.pad.style.active,i=0;i<m;i++){for(n.beginPath(),h=(e=t.pad.coords[i]).length>>1,n.moveTo(e[0],e[1]),s=0;s<h;s++)n.lineTo(e[s<<1],e[1+(s<<1)]);for(s in n.closePath(),this.__pad_touches)a=this.__pad_touches[s].clientX-_,c=this.__pad_touches[s].clientY-r,this.__pad_after[i]=this.__pad_after[i]||n.isPointInPath(a/o.width*500,c/o.height*200);this.__pad_after[i]&&n.fill()}for(n.strokeStyle=t.pad.style.border,n.fillStyle=t.pad.style.text,i=0;i<m;i++){for(n.beginPath(),h=(e=t.pad.coords[i]).length>>1,n.moveTo(e[0],e[1]),s=1;s<h;s++)n.lineTo(e[s<<1],e[1+(s<<1)]);n.closePath(),n.stroke(),h=g(e),n.fillText(t.pad.chars[i],h[0],h[1])}n.stroke()}if(n=this.__pad.getContext("2d"))for(n.clearRect(0,0,500,200),n.drawImage(this.__pad_off,0,0),i=0;i<m;i++)this.__pad_before[i]!=this.__pad_after[i]&&(this.__pad_before[i]=this.__pad_after[i],this.__pad_after[i]?this.__pad_pressed(i):this.__pad_released(i))}function g(t){var i,s,h,e,a,c,o,_,r,n,m,g=t.length>>1;if(_=s=t[0],r=h=t[1],1==g)return[_,r];if(_=(_+(e=t[2]))/2,r=(r+(a=t[3]))/2,2==g)return[_,_];for(c=t[4],o=t[5],n=Math.abs((e-s)*(o-h)-(a-h)*(c-s))/2,_=(s+e+c)/3,r=(h+a+o)/3,i=3;i<g;i++)e=c,a=o,c=t[i<<1],o=t[1+(i<<1)],_=(n*_+(m=Math.abs((e-s)*(o-h)-(a-h)*(c-s))/2)*((s+e+c)/3))/(n+m),r=(n*r+m*((h+a+o)/3))/(n+m),n=m;return[_,r]}}},{key:"__pad_pressed",value:function(i){if(this.__mc.gk){var s=t.pad.codes[i];this.__mc.gk.keyPressed({keyCode:s,preventDefault:function(){}})}}},{key:"__pad_released",value:function(i){if(this.__mc.gk){var s=t.pad.codes[i];this.__mc.gk.keyReleased({keyCode:s,preventDefault:function(){}})}}},{key:"__pad_event",value:function(t){t.preventDefault(),this.__pad_touches=[];for(var i=0;i<t.touches.length;i++)this.__pad_touches.push(t.touches[i]);this.__pad_update()}}],[{key:"replaceAll",value:function(i){function s(){for(var s=document.getElementsByTagName("applet"),h=[],e=0;e<s.length;e++)h.push(s[e]);for(var a=0;a<h.length;a++){var c=h[a],o=c.getAttribute("code")||"";(o.match(/masaoconstruction/i)||o.match(/masaokani/i))&&t.replaceByDom(c,i)}for(var _=document.getElementsByTagName("object"),r=[],n=0;n<_.length;n++)r.push(_[n]);for(var m=0;m<r.length;m++){var g=r[m],p=g.querySelectorAll("param[name=code]")[0];p.tagName.match(/param/i)&&(p.value.match(/masaoconstruction/i)||p.value.match(/masaokani/i))&&t.replaceByDom(g,i)}}"complete"==document.readyState?s():window.addEventListener("load",s)}},{key:"replace",value:function(i,s){function h(){t.replaceByDom(document.getElementById(i),s)}"complete"==document.readyState?h():window.addEventListener("load",h)}},{key:"replaceByDom",value:function(i,s){if(i.parentNode){for(var h=i.getElementsByTagName("param"),e=h.length,a={},c=0;c<e;c++)a[h[c].name]=h[c].value;var o=document.createElement("div"),_=i.id||xi();o.id=_,i.parentNode.replaceChild(o,i),!1!==(s=s||{})["bc-use-rounddown"]&&(s["bc-use-rounddown"]=!0),new t(a,_,s)}}}]),t}();ui.focus=(document.addEventListener("mousedown",(function(){pi=null})),{focus:function(t){pi=t},hasFocus:function(t){return pi===t}}),ui.padAccessor=(yi=[],{append:function(t){yi.push(t)},show:function(t){for(var i=0;i<yi.length;i++)t!==yi[i]?yi[i].style.display="none":t.style.display="inline"}}),ui.pad={coords:[[410,30,490,30,490,170,410,170],[320,30,400,30,400,170,320,170],[250,30,290,30,290,70,250,70],[200,30,240,30,240,70,200,70],[5,60,87,60,87,140,5,140],[175,60,93,60,93,140,175,140],[30,5,30,80,150,80,150,5],[30,195,30,120,150,120,150,195]],chars:["X","Z","T","P","←","→","↑","↓"],codes:[88,90,84,80,37,39,38,40],style:{rate:.4,back:"rgba(0, 0, 0, 0)",button:"rgba(128, 128, 128, 0.5)",active:"rgba(0, 0, 0, 0.5)",text:"black",border:"black"},avoidAD:!1};var di=function(){function t(i){ni(this,t),this._dat=new Audio,this._dat.preload="auto",this._dat.src=i}return gi(t,[{key:"_oncanplaythrough",value:function(){}},{key:"_onerror",value:function(){}},{key:"play",value:function(){try{this._dat.loop=!1,this._dat.currentTime=0,this._dat.play()}catch(t){return!1}return!0}},{key:"loop",value:function(){try{this._dat.loop=!0,this._dat.currentTime=0,this._dat.play()}catch(t){return!1}return!0}},{key:"stop",value:function(){try{this._dat.pause()}catch(t){return!1}return!0}}]),t}(),ji=gi((function t(i,s){ni(this,t),this.width=i,this.height=s}));function fi(){if(0==arguments.length)return null;for(var t=new Array(arguments.length),i=0;i<arguments.length;i++)t[i]=i<0||arguments.length<=i?void 0:arguments[i];return function t(i){var s=new Array(i[0]);if(1==i.length)return s;for(var h=i.slice(1),e=0;e<i[0];e++)s[e]=t(h);return s}(t)}function li(t,i,s){return t>=0||i&&!(null==s?void 0:s.tdb.options["bc-use-rounddown"])?Math.floor(t):-Math.floor(-t)}function vi(t,i){return t<0?-(-t>>i):t>>i}function xi(){return Math.random().toString(36).slice(2)}function ki(){for(var t=arguments.length,i=new Array(t),s=0;s<t;s++)i[s]=arguments[s];return i.join("")}var wi=function(){function t(i,s){ni(this,t),this.targetTime=0,this.game=i,this.forceSetInterval=s,this.running=!1,this.interval=null,this.callback=null,this.mode=0,this.prevTime=null,this.timerid=null,this._loop=this._loop.bind(this)}return gi(t,[{key:"start",value:function(t,i){this.running=!0,this.interval=t,this.callback=i;var s=bi();this.targetTime=s+t,this.prevTime=s,this.forceSetInterval?this.mode=0:this.mode=1,0===this.mode&&(this.timerid=window.setInterval(this._loop,t)),this._next()}},{key:"stop",value:function(){this.running&&null!==this.timerid&&(this.running=!1,1===this.mode?cancelAnimationFrame(this.timerid):clearInterval(this.timerid))}},{key:"_next",value:function(){1===this.mode&&(this.timerid=requestAnimationFrame(this._loop))}},{key:"_loop",value:function(){if(this.running&&null!==this.prevTime&&null!==this.interval&&this.callback){var t=bi();t-this.prevTime>=500&&(this.targetTime=t-1);var i=Math.ceil((t-this.targetTime)/this.interval);for(this.targetTime+=this.interval*i;i>0&&(this.callback(),i--,!(bi()-t>2)););if(i>0){var s=this;Si((function t(h){for(;i>0&&h.timeRemaining()>0;)s.callback(),i--;i>0&&!h.didTimeout&&Si(t,{timeout:1e3})}),{timeout:1e3})}this._next(),this.prevTime=t}}}]),t}(),bi=window.performance&&performance.now?performance.now.bind(performance):Date.now?Date.now.bind(Date):function(){return 1e3*(new Date).getTime()},Si="function"==typeof requestIdleCallback?requestIdleCallback:"function"==typeof setImmediate?function(t){setImmediate((function(){var i=bi();t({didTimeout:!1,timeRemaining:function(){return 50+i-bi()}})}))}:function(t){setTimeout((function(){var i=bi();t({didTimeout:!1,timeRemaining:function(){return 50+i-bi()}})}),1)};function Mi(t){return Mi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mi(t)}function Ci(t,i){for(var s=0;s<i.length;s++){var h=i[s];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(t,(void 0,e=function(t,i){if("object"!==Mi(t)||null===t)return t;var s=t[Symbol.toPrimitive];if(void 0!==s){var h=s.call(t,"string");if("object"!==Mi(h))return h;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(h.key),"symbol"===Mi(e)?e:String(e)),h)}var e}var Ii=function(){function t(i,s){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.tdb=i,this.ap=s,this.spt_kazu_x=10,this.spt_kazu_y=25,this.spt_kazu=this.spt_kazu_x*this.spt_kazu_y,this.spt_h_kijyun=3,this.mode=2,this.oya=null,1==this.tdb.getValueInt("mcs_screen_size")?(this.system_screen_size=1,this.system_screen_width=640,this.system_screen_height=480):(this.system_screen_size=2,this.system_screen_width=512,this.system_screen_height=320),this.di=new ji(this.system_screen_width,this.system_screen_height),this.backcolor=A.black,this.li=new Array(10),this.mt=[],this.os_img=this.ap.createImage(this.di.width,this.di.height),this.os_g=this.os_img.getGraphics(),this.os_g_bk=this.os_img.getGraphicsBk(),this.os2_img=this.ap.createImage(this.di.width+96,this.di.height+96),this.os2_g=this.os2_img.getGraphics(),this.os32_img=this.ap.createImage(32,32),this.os32_g=this.os32_img.getGraphics(),this.pg=void 0,this.spt_img=fi(2,this.spt_kazu),this.hi=void 0,this.spt_option_img=new Array(10),this.layer_mode=2,this.amapchip_img=void 0,this.smapchip_img=new Array(256);var h,e=this.tdb.getValue("layer_mode");h=parseInt(e),isNaN(h)&&(h=-1),this.layer_mode=2==h?2:1,e=this.tdb.getValue("filename_pattern"),this.apt_img=this.ap.getImage(e),2==this.layer_mode&&(e=this.tdb.getValue("filename_mapchip"),this.amapchip_img=this.ap.getImage(e),null==this.amapchip_img&&(this.amapchip_img=new I(512,512))),this.font_score="",this.font_message=""}var i,s;return i=t,(s=[{key:"cut",value:function(){var t,i,s,h;for(i=0;i<=this.spt_kazu_y-1;i++)for(s=0;s<=this.spt_kazu_x-1;s++)t=10*i+s,this.spt_img[0][t]=new I(32,32),(h=this.spt_img[0][t].getGraphics())&&h.drawImage(this.apt_img,32*s,32*i,32,32,0,0,32,32,null),i>=this.spt_h_kijyun?(this.spt_img[1][t]=new I(32,32),(h=this.spt_img[1][t].getGraphics())&&(h.scale(-1,1),h.drawImage(this.apt_img,32*s,32*i,32,32,-32,0,32,32,null))):this.spt_img[1][t]=this.spt_img[0][t];for(this.hi=this.spt_img[0],s=0;s<=9;s++)this.spt_option_img[s]=this.spt_img[0][10+s];if(2==this.tdb.getValueInt("water_clear_switch")){var e=this.tdb.getValueInt("water_clear_level");e<0?e=0:e>255&&(e=255);for(var a=0;a<=3;a++)1==a?(s=0,i=8):2==a?(s=1,i=8):3==a?(s=2,i=8):(s=4,i=0),t=10*i+s,this.spt_img[0][t]=new I(32,32),(h=this.spt_img[0][t].getGraphics())&&(h.setGlobalAlpha(e),h.drawImage(this.apt_img,32*s,32*i,32,32,0,0,32,32,null))}if(2==this.layer_mode)for(i=0;i<=15;i++)for(s=0;s<=15;s++)t=16*i+s,this.smapchip_img[t]=new I(32,32),(h=this.smapchip_img[t].getGraphics())&&this.amapchip_img&&h.drawImage(this.amapchip_img,32*s,32*i,32,32,0,0,32,32,null)}},{key:"setPatternImage",value:function(t){var i,s,h,e;if(this.apt_img=this.ap.getImage(t),null!=this.apt_img)for(s=0;s<=this.spt_kazu_y-1;s++)for(h=0;h<=this.spt_kazu_x-1;h++)i=10*s+h,this.spt_img[0][i]=new I(32,32),(e=this.spt_img[0][i].getGraphics())&&e.drawImage(this.apt_img,32*h,32*s,32,32,0,0,32,32,null),s>=this.spt_h_kijyun?(this.spt_img[1][i]=new I(32,32),(e=this.spt_img[1][i].getGraphics())&&(e.scale(-1,1),e.drawImage(this.apt_img,32*h,32*s,32,32,-32,0,32,32,null))):this.spt_img[1][i]=this.spt_img[0][i]}},{key:"setMapchipImage",value:function(t){var i,s,h,e;if(2==this.layer_mode&&(this.amapchip_img=this.ap.getImage(t),null!=this.amapchip_img&&2==this.layer_mode))for(i=0;i<=15;i++)for(s=0;s<=15;s++)h=16*i+s,this.smapchip_img[h]=new I(32,32),(e=this.smapchip_img[h].getGraphics())&&e.drawImage(this.amapchip_img,32*s,32*i,32,32,0,0,32,32,null)}},{key:"addListImage",value:function(t,i){this.li[t]=this.ap.getImage(i),this.mt.push(this.li[t])}},{key:"addListImage2",value:function(t,i){this.li[t]=this.ap.getImage(i)}},{key:"loadListImage",value:function(){this.mt}},{key:"loadImage",value:function(t){var i=null;try{i=this.ap.getImage(t)}catch(t){}return null==i?null:i}},{key:"copyOS",value:function(t){t.drawImage(this.os_img,0,0,this.ap)}},{key:"fill",value:function(){this.os_g.setColor(this.backcolor),this.os_g.fillRect(0,0,this.di.width,this.di.height)}},{key:"fill2",value:function(){this.os2_g.setColor(this.backcolor),this.os2_g.fillRect(0,0,this.di.width+96,this.di.height+96)}},{key:"setBackcolor",value:function(t){this.backcolor=t}},{key:"drawPT",value:function(t,i,s,h){this.os_g.drawImage(this.spt_img[h][s],t,i,this.ap)}},{key:"drawPT2",value:function(t,i,s){this.hi&&this.os2_g.drawImage(this.hi[s],t,i,this.ap)}},{key:"drawPattern",value:function(t,i,s,h){var e=0;1==h&&(e=1),this.os_g.drawImage(this.spt_img[e][s],t,i,this.ap)}},{key:"drawPatternCut",value:function(t,i,s,h,e){var a=0;1==h&&(a=1),this.os32_g.drawImage(this.os_img,-1*t,-1*i-e,this.ap),this.os32_g.drawImage(this.spt_img[a][s],0,-1*e,this.ap),this.os_g.drawImage(this.os32_img,t,i+e,this.ap)}},{key:"drawBG2",value:function(t,i,s){this.os2_g.setColor(this.backcolor),this.os2_g.fillRect(t,i,32,32),this.hi&&this.os2_g.drawImage(this.hi[s],t,i,this.ap)}},{key:"drawBG3",value:function(t,i,s,h){this.os2_g.setColor(h),this.os2_g.fillRect(t,i,32,32),this.hi&&this.os2_g.drawImage(this.hi[s],t,i,this.ap)}},{key:"drawMapchip",value:function(t,i,s){this.os_g.drawImage(this.smapchip_img[s],t,i,this.ap)}},{key:"drawMapchip2",value:function(t,i,s){this.os2_g.drawImage(this.smapchip_img[s],t,i,this.ap)}},{key:"drawListImage",value:function(t,i,s){this.os_g.drawImage(this.li[s],t,i,this.ap)}}])&&Ci(i.prototype,s),Object.defineProperty(i,"prototype",{writable:!1}),t}(),Bi=function(t){function i(){var i=this||self;return delete t.prototype.__magic__,i}return"object"==typeof globalThis?globalThis:this?i():(t.defineProperty(t.prototype,"__magic__",{configurable:!0,get:i}),__magic__)}(Object);Object.defineProperty(Bi,"CanvasMasao",{value:t}),Object.defineProperty(Bi,"JSMasao",{value:ui}),Object.defineProperty(ui,"MasaoConstruction",{value:_i}),Object.defineProperty(t,"version",{value:"v5.3.0"})}()}();