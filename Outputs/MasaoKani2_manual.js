CanvasMasao.MasaoKani2=function(m){var e,t,s,a,p,i,o,r,n,S,M,h,f,l,c,g,d,_,u,v,w,b,x,y,A,I,j,B,P,k,R,z,Y,K,X,q,C,G,H,V,F,E,J,N,D,L,O,Q,T,U,W,Z;function $(m){var e=parseInt(tm(m));return isNaN(e)&&(e=-1),e}function mm(){var e=!1,t=!1;2==b&&(t=!0),b>0&&--b<=0&&(x=0);var r=B[R],n=P[R];if(b<=0)if(x++,r<=1)b=n,e=!0;else if(2==r)m.mp.mSet(s+(p-32>>1),a+(i-32>>1),100),b=n,e=!0;else if(3==r)1!=x&&7!=x&&13!=x||m.mp.mSet(s+(p-32>>1),a+(i-32>>1),100),1==x&&m.mp.gs.rsAddSound(10),x>=13&&(b=n,e=!0);else if(4==r)o<=0?m.mp.mSet(s+(p-32>>1),a+16,200):m.mp.mSet(s+(p-32>>1),a+16,205),b=n,e=!0;else if(5==r)1!=x&&9!=x&&17!=x||(o<=0?m.mp.mSet(s+(p-32>>1),a+16,200):m.mp.mSet(s+(p-32>>1),a+16,205)),1==x&&m.mp.gs.rsAddSound(11),x>=17&&(b=n,e=!0);else if(6==r)o<=0?m.mp.mSet(s+32,a+(i-32>>1),300):m.mp.mSet(s+p-32,a+(i-32>>1),305),b=n,e=!0;else if(7==r)o<=0?(m.mp.mSet(s+32,a+(i-32>>1)-16,300),m.mp.mSet(s+32,a+(i-32>>1)+16,300)):(m.mp.mSet(s+p-32,a+(i-32>>1)-16,305),m.mp.mSet(s+p-32,a+(i-32>>1)+16,305)),m.mp.gs.rsAddSound(14),b=n,e=!0;else if(8==r)o<=0?m.mp.mSet(s+(p-32>>1),a+16,400):m.mp.mSet(s+(p-32>>1),a+16,405),b=n,e=!0;else if(9==r)0==o?m.mp.mSet(s+(p-32>>1),a+i-16,606):o<0?m.mp.mSet(s+(p-32>>1),a+i-16,600):m.mp.mSet(s+(p-32>>1),a+i-16,605),b=n,e=!0;else if(10==r){if(1==x)if(o<=0){var h=3.3144445419311523,c=sm(12*Math.cos(h),!0,m.mp),g=-1*sm(12*Math.sin(h),!0,m.mp);m.mp.mSet2(s+16,a+(i-32>>1),710,c,g),h=2.965555429458618,c=sm(12*Math.cos(h),!0,m.mp),g=-1*sm(12*Math.sin(h),!0,m.mp),m.mp.mSet2(s+16,a+(i-32>>1),710,c,g),h=3.6633334159851074,c=sm(12*Math.cos(h),!0,m.mp),g=-1*sm(12*Math.sin(h),!0,m.mp),m.mp.mSet2(s+16,a+(i-32>>1),710,c,g),h=2.616666793823242,c=sm(12*Math.cos(h),!0,m.mp),g=-1*sm(12*Math.sin(h),!0,m.mp),m.mp.mSet2(s+16,a+(i-32>>1),710,c,g)}else{var d=3.3144445419311523,u=-1*sm(12*Math.cos(d),!0,m.mp),v=-1*sm(12*Math.sin(d),!0,m.mp);m.mp.mSet2(s+p-48,a+(i-32>>1),710,u,v),d=2.965555429458618,u=-1*sm(12*Math.cos(d),!0,m.mp),v=-1*sm(12*Math.sin(d),!0,m.mp),m.mp.mSet2(s+p-48,a+(i-32>>1),710,u,v),d=3.6633334159851074,u=-1*sm(12*Math.cos(d),!0,m.mp),v=-1*sm(12*Math.sin(d),!0,m.mp),m.mp.mSet2(s+p-48,a+(i-32>>1),710,u,v),d=2.616666793823242,u=-1*sm(12*Math.cos(d),!0,m.mp),v=-1*sm(12*Math.sin(d),!0,m.mp),m.mp.mSet2(s+p-48,a+(i-32>>1),710,u,v)}else if(11==x)if(o<=0){var w=3.140000104904175,y=sm(12*Math.cos(w),!0,m.mp),k=-1*sm(12*Math.sin(w),!0,m.mp);m.mp.mSet2(s+16,a+(i-32>>1),710,y,k),w=2.7038888931274414,y=sm(12*Math.cos(w),!0,m.mp),k=-1*sm(12*Math.sin(w),!0,m.mp),m.mp.mSet2(s+16,a+(i-32>>1),710,y,k),w=3.576111078262329,y=sm(12*Math.cos(w),!0,m.mp),k=-1*sm(12*Math.sin(w),!0,m.mp),m.mp.mSet2(s+16,a+(i-32>>1),710,y,k)}else{var z=3.140000104904175,Y=-1*sm(12*Math.cos(z),!0,m.mp),K=-1*sm(12*Math.sin(z),!0,m.mp);m.mp.mSet2(s+p-48,a+(i-32>>1),710,Y,K),z=2.7038888931274414,Y=-1*sm(12*Math.cos(z),!0,m.mp),K=-1*sm(12*Math.sin(z),!0,m.mp),m.mp.mSet2(s+p-48,a+(i-32>>1),710,Y,K),z=3.576111078262329,Y=-1*sm(12*Math.cos(z),!0,m.mp),K=-1*sm(12*Math.sin(z),!0,m.mp),m.mp.mSet2(s+p-48,a+(i-32>>1),710,Y,K)}1==x&&m.mp.gs.rsAddSound(18),x>=11&&(b=n,e=!0)}else if(11==r){if(1==x)for(var X=0;X<=330;X+=30){var q=3.14*X/180,C=sm(12*Math.cos(q),!0,m.mp),G=-1*sm(12*Math.sin(q),!0,m.mp);m.mp.mSet2(s+16,a+(i-32>>1),710,C,G)}else if(11==x)for(var H=15;H<=345;H+=30){var V=3.14*H/180,F=sm(12*Math.cos(V),!0,m.mp),E=-1*sm(12*Math.sin(V),!0,m.mp);m.mp.mSet2(s+16,a+(i-32>>1),710,F,E)}1==x&&m.mp.gs.rsAddSound(18),x>=11&&(b=n,e=!0)}else if(12==r)o<=0?m.mp.tSetBoss(s+(p-32>>1),a,150,-4):m.mp.tSetBoss(s+(p-32>>1),a,150,4),b=n,e=!0;else if(13==r)o<=0?m.mp.tSetBoss(s+(p-32>>1),a,150,2):m.mp.tSetBoss(s+(p-32>>1),a,150,-2),b=n,e=!0;else if(14==r)o<=0?m.mp.tSetBoss(s+(p-32>>1),a,450,-6):m.mp.tSetBoss(s+(p-32>>1),a,450,6),b=n,e=!0;else if(15==r)o<=0?m.mp.tSetBoss(s+(p-32>>1),a,450,2):m.mp.tSetBoss(s+(p-32>>1),a,450,-2),b=n,e=!0;else if(16==r)o<=0?m.mp.tSetBoss(s+(p-32>>1),a,650,-5):m.mp.tSetBoss(s+(p-32>>1),a,650,5),b=n,e=!0;else if(17==r)o<=0?m.mp.tSetBoss(s+(p-32>>1),a,650,2):m.mp.tSetBoss(s+(p-32>>1),a,650,-2),b=n,e=!0;else if(18==r){for(var J=10;J<=310;J+=60)m.mp.mSet2(s+(p-32>>1),a+(i-32>>1),901,J,0),m.mp.mSet2(s+(p-32>>1),a+(i-32>>1),911,J,0);m.mp.gs.rsAddSound(18),b=n,e=!0}else if(19==r){if(1==x)if(o<=0){var N=3.140000104904175,D=sm(8*Math.cos(N),!0,m.mp),L=-1*sm(8*Math.sin(N),!0,m.mp);m.mp.mSet2(s+16,a+(i-32>>1),710,D,L),N=2.616666793823242,D=sm(8*Math.cos(N),!0,m.mp),L=-1*sm(8*Math.sin(N),!0,m.mp),m.mp.mSet2(s+16,a+(i-32>>1),710,D,L),m.mp.mSet2(s+16,a+(i-32>>1),710,D,-1*L)}else{var O=3.140000104904175,Q=-1*sm(8*Math.cos(O),!0,m.mp),T=-1*sm(8*Math.sin(O),!0,m.mp);m.mp.mSet2(s+p-48,a+(i-32>>1),710,Q,T),O=2.616666793823242,Q=-1*sm(8*Math.cos(O),!0,m.mp),T=-1*sm(8*Math.sin(O),!0,m.mp),m.mp.mSet2(s+p-48,a+(i-32>>1),710,Q,T),m.mp.mSet2(s+p-48,a+(i-32>>1),710,Q,-1*T)}else if(20==x)if(o<=0){var U=2.7911112308502197,W=sm(8*Math.cos(U),!0,m.mp),Z=-1*sm(8*Math.sin(U),!0,m.mp);m.mp.mSet2(s+16,a+(i-32>>1),710,W,Z),m.mp.mSet2(s+16,a+(i-32>>1),710,W,-1*Z)}else{var $=2.7911112308502197,mm=-1*sm(8*Math.cos($),!0,m.mp),em=-1*sm(8*Math.sin($),!0,m.mp);m.mp.mSet2(s+p-48,a+(i-32>>1),710,mm,em),m.mp.mSet2(s+p-48,a+(i-32>>1),710,mm,-1*em)}1==x&&m.mp.gs.rsAddSound(18),x>=20&&(b=n,e=!0)}else if(20==r){if(1==x){var tm=1.5700000524520874,am=sm(8*Math.cos(tm),!0,m.mp),pm=-1*sm(8*Math.sin(tm),!0,m.mp);m.mp.mSet2(s+(p-32>>1),a+16,710,am,pm),tm=1.0466667413711548,am=sm(8*Math.cos(tm),!0,m.mp),pm=-1*sm(8*Math.sin(tm),!0,m.mp),m.mp.mSet2(s+(p-32>>1),a+16,710,am,pm),m.mp.mSet2(s+(p-32>>1),a+16,710,-1*am,pm)}else if(20==x){var im=1.2211111783981323,om=sm(8*Math.cos(im),!0,m.mp),rm=-1*sm(8*Math.sin(im),!0,m.mp);m.mp.mSet2(s+(p-32>>1),a+16,710,om,rm),m.mp.mSet2(s+(p-32>>1),a+16,710,-1*om,rm)}1==x&&m.mp.gs.rsAddSound(18),x>=20&&(b=n,e=!0)}else if(21==r){if(1==x){var nm=1.5700000524520874,Sm=sm(8*Math.cos(nm),!0,m.mp),Mm=sm(8*Math.sin(nm),!0,m.mp);m.mp.mSet2(s+(p-32>>1),a+i-48,710,Sm,Mm),nm=1.0466667413711548,Sm=sm(8*Math.cos(nm),!0,m.mp),Mm=sm(8*Math.sin(nm),!0,m.mp),m.mp.mSet2(s+(p-32>>1),a+i-48,710,Sm,Mm),m.mp.mSet2(s+(p-32>>1),a+i-48,710,-1*Sm,Mm)}else if(20==x){var hm=1.2211111783981323,fm=sm(8*Math.cos(hm),!0,m.mp),lm=sm(8*Math.sin(hm),!0,m.mp);m.mp.mSet2(s+(p-32>>1),a+i-48,710,fm,lm),m.mp.mSet2(s+(p-32>>1),a+i-48,710,-1*fm,lm)}1==x&&m.mp.gs.rsAddSound(18),x>=20&&(b=n,e=!0)}else if(22==r){if(1==x)if(o<=0){var cm=3.140000104904175,gm=sm(10*Math.cos(cm),!0,m.mp),dm=sm(10*Math.sin(cm),!0,m.mp);m.mp.mSet2(s+16,a+(i-32>>1),731,gm,dm),cm=3.837778091430664,gm=sm(10*Math.cos(cm),!0,m.mp),dm=sm(10*Math.sin(cm),!0,m.mp),m.mp.mSet2(s+16,a+(i-32>>1),731,gm,dm),cm=4.535555839538574,gm=sm(10*Math.cos(cm),!0,m.mp),dm=sm(10*Math.sin(cm),!0,m.mp),m.mp.mSet2(s+16,a+(i-32>>1),731,gm,dm)}else{var _m=3.140000104904175,um=-1*sm(10*Math.cos(_m),!0,m.mp),vm=sm(10*Math.sin(_m),!0,m.mp);m.mp.mSet2(s+p-48,a+(i-32>>1),731,um,vm),_m=3.837778091430664,um=-1*sm(10*Math.cos(_m),!0,m.mp),vm=sm(10*Math.sin(_m),!0,m.mp),m.mp.mSet2(s+p-48,a+(i-32>>1),731,um,vm),_m=4.535555839538574,um=-1*sm(10*Math.cos(_m),!0,m.mp),vm=sm(10*Math.sin(_m),!0,m.mp),m.mp.mSet2(s+p-48,a+(i-32>>1),731,um,vm)}else if(18==x)if(o<=0){var wm=3.48888897895813,bm=sm(10*Math.cos(wm),!0,m.mp),xm=sm(10*Math.sin(wm),!0,m.mp);m.mp.mSet2(s+16,a+(i-32>>1),731,bm,xm),wm=4.186666965484619,bm=sm(10*Math.cos(wm),!0,m.mp),xm=sm(10*Math.sin(wm),!0,m.mp),m.mp.mSet2(s+16,a+(i-32>>1),731,bm,xm)}else{var ym=3.48888897895813,Am=-1*sm(10*Math.cos(ym),!0,m.mp),Im=sm(10*Math.sin(ym),!0,m.mp);m.mp.mSet2(s+p-48,a+(i-32>>1),731,Am,Im),ym=4.186666965484619,Am=-1*sm(10*Math.cos(ym),!0,m.mp),Im=sm(10*Math.sin(ym),!0,m.mp),m.mp.mSet2(s+p-48,a+(i-32>>1),731,Am,Im)}1==x&&m.mp.gs.rsAddSound(11),x>=18&&(b=n,e=!0)}else if(23==r){if(1==x)if(o<=0){var jm=3.140000104904175,Bm=sm(10*Math.cos(jm),!0,m.mp),Pm=-1*sm(10*Math.sin(jm),!0,m.mp);m.mp.mSet2(s+16,a+(i-32>>1),731,Bm,Pm),jm=3.837778091430664,Bm=sm(10*Math.cos(jm),!0,m.mp),Pm=-1*sm(10*Math.sin(jm),!0,m.mp),m.mp.mSet2(s+16,a+(i-32>>1),731,Bm,Pm),jm=4.535555839538574,Bm=sm(10*Math.cos(jm),!0,m.mp),Pm=-1*sm(10*Math.sin(jm),!0,m.mp),m.mp.mSet2(s+16,a+(i-32>>1),731,Bm,Pm)}else{var km=3.140000104904175,Rm=-1*sm(10*Math.cos(km),!0,m.mp),zm=-1*sm(10*Math.sin(km),!0,m.mp);m.mp.mSet2(s+p-48,a+(i-32>>1),731,Rm,zm),km=3.837778091430664,Rm=-1*sm(10*Math.cos(km),!0,m.mp),zm=-1*sm(10*Math.sin(km),!0,m.mp),m.mp.mSet2(s+p-48,a+(i-32>>1),731,Rm,zm),km=4.535555839538574,Rm=-1*sm(10*Math.cos(km),!0,m.mp),zm=-1*sm(10*Math.sin(km),!0,m.mp),m.mp.mSet2(s+p-48,a+(i-32>>1),731,Rm,zm)}else if(18==x)if(o<=0){var Ym=3.48888897895813,Km=sm(10*Math.cos(Ym),!0,m.mp),Xm=-1*sm(10*Math.sin(Ym),!0,m.mp);m.mp.mSet2(s+16,a+(i-32>>1),731,Km,Xm),Ym=4.186666965484619,Km=sm(10*Math.cos(Ym),!0,m.mp),Xm=-1*sm(10*Math.sin(Ym),!0,m.mp),m.mp.mSet2(s+16,a+(i-32>>1),731,Km,Xm)}else{var qm=3.48888897895813,Cm=-1*sm(10*Math.cos(qm),!0,m.mp),Gm=-1*sm(10*Math.sin(qm),!0,m.mp);m.mp.mSet2(s+p-48,a+(i-32>>1),731,Cm,Gm),qm=4.186666965484619,Cm=-1*sm(10*Math.cos(qm),!0,m.mp),Gm=-1*sm(10*Math.sin(qm),!0,m.mp),m.mp.mSet2(s+p-48,a+(i-32>>1),731,Cm,Gm)}1==x&&m.mp.gs.rsAddSound(11),x>=18&&(b=n,e=!0)}else if(24==r)m.mp.mSet(s+(p-32>>1),a+(i-32>>1),90),m.mp.gs.rsAddSound(18),b=n,e=!0;else if(25==r)o<=0?m.mp.mSet2(s+16,a+16,800,-5,-32):m.mp.mSet2(s+p-48,a+16,800,5,-32),m.mp.gs.rsAddSound(22),b=n,e=!0;else if(26==r)o<=0?m.mp.mSet2(s+16,a+16,800,-10,-32):m.mp.mSet2(s+p-48,a+16,800,10,-32),m.mp.gs.rsAddSound(22),b=n,e=!0;else if(27==r)o<=0?m.mp.mSet2(s+16,a+16,800,-15,-32):m.mp.mSet2(s+p-48,a+16,800,15,-32),m.mp.gs.rsAddSound(22),b=n,e=!0;else if(28==r)o<=0?m.mp.mSet2(s+16,a+(i-32>>1),810,-12,0):m.mp.mSet2(s+p-48,a+(i-32>>1),810,12,0),m.mp.gs.rsAddSound(22),b=n,e=!0;else if(29==r)m.mp.mSet2(s+16,a+(i-32>>1),77,-1,0),m.mp.gs.rsAddSound(14),b=n,e=!0;else if(30==r)m.mp.mSet2(s+16,a+(i-32>>1),75,-1,0),m.mp.gs.rsAddSound(11),b=n,e=!0;else if(31==r){if(o<=0)for(var Hm=0;Hm<=270;Hm+=90)m.mp.mSet2(s+(p-32>>1),a+(i-32>>1),970,Hm,0);else for(var Vm=0;Vm<=270;Vm+=90)m.mp.mSet2(s+(p-32>>1),a+(i-32>>1),980,Vm,0);m.mp.gs.rsAddSound(18),b=n,e=!0}else if(32==r)1!=x&&9!=x&&17!=x||m.mp.mSet(s+16,a+16,200),1==x&&m.mp.gs.rsAddSound(11),x>=17&&(b=n,e=!0);else if(33==r)1!=x&&9!=x&&17!=x||m.mp.mSet(s+p-48,a+16,205),1==x&&m.mp.gs.rsAddSound(11),x>=17&&(b=n,e=!0);else if(34==r)o<=0?m.mp.mSet2(s+16,a+(i-32>>1),731,-8,0):m.mp.mSet2(s+p-48,a+(i-32>>1),731,8,0),b=n,e=!0;else if(35==r)m.mp.mSet2(s+16,a+(i-32>>1),731,-8,0),b=n,e=!0;else if(36==r)m.mp.mSet2(s+p-48,a+(i-32>>1),731,8,0),b=n,e=!0;else if(37==r){var Fm=3.4016668796539307,Em=sm(8*Math.cos(Fm),!0,m.mp),Jm=-1*sm(8*Math.sin(Fm),!0,m.mp);m.mp.mSet2(s+16,a+(i-32>>1),710,Em,Jm),m.mp.mSet2(s+16,a+(i-32>>1),710,Em,-1*Jm),Fm=3.924999952316284,Em=sm(8*Math.cos(Fm),!0,m.mp),Jm=-1*sm(8*Math.sin(Fm),!0,m.mp),m.mp.mSet2(s+16,a+(i-32>>1),710,Em,Jm),m.mp.mSet2(s+16,a+(i-32>>1),710,Em,-1*Jm),m.mp.gs.rsAddSound(18),b=n,e=!0}else if(38==r){var Nm=3.4016668796539307,Dm=-1*sm(8*Math.cos(Nm),!0,m.mp),Lm=-1*sm(8*Math.sin(Nm),!0,m.mp);m.mp.mSet2(s+16,a+(i-32>>1),710,Dm,Lm),m.mp.mSet2(s+16,a+(i-32>>1),710,Dm,-1*Lm),Nm=3.924999952316284,Dm=-1*sm(8*Math.cos(Nm),!0,m.mp),Lm=-1*sm(8*Math.sin(Nm),!0,m.mp),m.mp.mSet2(s+16,a+(i-32>>1),710,Dm,Lm),m.mp.mSet2(s+16,a+(i-32>>1),710,Dm,-1*Lm),m.mp.gs.rsAddSound(18),b=n,e=!0}else if(39==r)m.mp.mSet2(s+(p-32>>1),a+16,710,0,-8),b=n,e=!0;else if(40==r)m.mp.mSet2(s+(p-32>>1),a+i-48,710,0,8),b=n,e=!0;else if(41==r){var Om=4.9716668128967285,Qm=-1*sm(8*Math.cos(Om),!0,m.mp),Tm=sm(8*Math.sin(Om),!0,m.mp);m.mp.mSet2(s+(p-32>>1),a+16,710,Qm,Tm),m.mp.mSet2(s+(p-32>>1),a+16,710,-1*Qm,Tm),Om=5.49500036239624,Qm=-1*sm(8*Math.cos(Om),!0,m.mp),Tm=sm(8*Math.sin(Om),!0,m.mp),m.mp.mSet2(s+(p-32>>1),a+16,710,Qm,Tm),m.mp.mSet2(s+(p-32>>1),a+16,710,-1*Qm,Tm),b=n,e=!0}else if(42==r){var Um=4.9716668128967285,Wm=-1*sm(8*Math.cos(Um),!0,m.mp),Zm=-1*sm(8*Math.sin(Um),!0,m.mp);m.mp.mSet2(s+(p-32>>1),a+i-48,710,Wm,Zm),m.mp.mSet2(s+(p-32>>1),a+i-48,710,-1*Wm,Zm),Um=5.49500036239624,Wm=-1*sm(8*Math.cos(Um),!0,m.mp),Zm=-1*sm(8*Math.sin(Um),!0,m.mp),m.mp.mSet2(s+(p-32>>1),a+i-48,710,Wm,Zm),m.mp.mSet2(s+(p-32>>1),a+i-48,710,-1*Wm,Zm),b=n,e=!0}else 43==r?(o<=0?(m.mp.mSet2(s+16,a,731,-8,0),m.mp.mSet2(s+16,a+i-32,731,-8,0)):(m.mp.mSet2(s+p-48,a,731,8,0),m.mp.mSet2(s+p-48,a+i-32,731,8,0)),m.mp.gs.rsAddSound(11),b=n,e=!0):44==r?(o<=0?m.mp.mSet(s+(p-32>>1),a+(i-32>>1),95):m.mp.mSet(s+(p-32>>1),a+(i-32>>1),96),m.mp.gs.rsAddSound(18),b=n,e=!0):45==r?(m.mp.mSet(s+(p-32>>1),a+(i-32>>1),95),m.mp.gs.rsAddSound(18),b=n,e=!0):46==r&&(m.mp.mSet(s+(p-32>>1),a+(i-32>>1),96),m.mp.gs.rsAddSound(18),b=n,e=!0);2==I?e&&++R>1&&(R=0):3==I?e&&++R>2&&(R=0):4==I?(e||t)&&(R=f<=l>>1?1:0):5==I?(e||t)&&(R=f<=Math.floor(l/3)?2:f<=Math.floor(2*l/3)?1:0):6==I?e&&(j>=1?(R=0,--j<=0&&(j=0,R=1)):R=1):7==I?e&&(j>=1?(R=0,--j<=0&&(j=0,R=1)):R=1==R?2:1):8==I?(e||t)&&(R=o<=0?0:1):9==I?(e||t)&&(R=16==A||17==A?_?a+(i>>1)-m.mp.maps.wy<160?1:2:0:6==A||7==A?_?a<M?1:2:0:a+(i>>1)-m.mp.maps.wy<96?1:a+(i>>1)-m.mp.maps.wy>=224?2:0):10==I?(e||t)&&(R=16==A||17==A?_?0:s+(p>>1)-m.mp.maps.wx>256?1:2:6==A||7==A?_?0:s>S-256?1:2:s+(p>>1)-m.mp.maps.wx<128?2:s+(p>>1)-m.mp.maps.wx>=384?1:0):R=0}function em(m){return e.getImage(m)}function tm(e){return m.getParameter(e)}function sm(m,e=!1,t){return m>=0||e&&!t.tdb.options["bc-use-rounddown"]?Math.floor(m):-Math.floor(-m)}B=new Array(3),P=new Array(3),k=46,D=new Array(4),L=new Array(4),O=new Array(4),Q=new Array(4),T=new Array(4),U=new Array(8),W=new Array(8),Z=new Array(8),e=m,function(){if((t=$("oriboss_v"))>=2){2!=(w=$("oriboss_anime_type"))&&(w=1);var m=e.getParameter("filename_oriboss_left1");if(G=e.getImage(m),m=e.getParameter("filename_oriboss_right1"),H=e.getImage(m),m=e.getParameter("filename_oriboss_tubure_left"),E=e.getImage(m),m=e.getParameter("filename_oriboss_tubure_right"),J=e.getImage(m),2!=w){var s=e.getParameter("filename_oriboss_left2");V=e.getImage(s),s=e.getParameter("filename_oriboss_right2"),F=e.getImage(s)}}}(),function(){for(var m=0;m<8;m++)U[m]=0;for(var e=0;e<8;e++){var t=e+1+"",s=$("x_backimage"+t+"_view_x");s>0&&(U[e]=32*(s+1),Z[e]=em(tm("x_backimage"+t+"_filename")))}}(),this.masaoEvent=function(x,em){var am=e.getMode();1==am||am>=100&&am<200&&(1==e.getJSMes()?(e.setJSMes("2"),function(){var r=$("j_hp");r<1&&(r=1);if(r>1){e.setMyMaxHP(r);var n=tm("j_hp_name");null==n&&(n=""),e.showMyHP(n)}2==$("j_equip_fire")&&e.equipFire(1);(r=$("j_equip_grenade"))>=1&&e.equipGrenade(r);(function(){for(var m=0;m<=3;m++)Q[m]=0;var t=$("ximage1_view_x");t>0&&(D[0]=32*(t+1),L[0]=$("ximage1_x"),O[0]=$("ximage1_y"),Q[0]=100,T[0]=e.getImage(tm("filename_ximage1")));(t=$("ximage2_view_x"))>0&&(D[1]=32*(t+1),L[1]=$("ximage2_x"),O[1]=$("ximage2_y"),Q[1]=100,T[1]=e.getImage(tm("filename_ximage2")));(t=$("ximage3_view_x"))>0&&(D[2]=32*(t+1),L[2]=$("ximage3_x"),O[2]=$("ximage3_y"),Q[2]=100,T[2]=e.getImage(tm("filename_ximage3")));(t=$("ximage4_view_x"))>0&&(D[3]=32*(t+1),L[3]=$("ximage4_x"),O[3]=$("ximage4_y"),Q[3]=100,T[3]=e.getImage(tm("filename_ximage4")))})(),function(){for(var m=0;m<8;m++)W[m]=!1,U[m]<=0&&(W[m]=!0)}(),(t=$("oriboss_v"))>=2?(g=c=30,d=0,v=0,_=!1,null==(y=tm("oriboss_name"))&&(y=""),(f=$("oriboss_hp"))<1&&(f=1),l=f,3==t?300==m.mp.co_b.c?(m.mp.co_b.c=0,s=m.mp.co_b.x,a=m.mp.co_b.y+16):c=0:((s=$("oriboss_x"))<0&&(s=0),s>179&&(s=179),s=32*(s+1),(a=$("oriboss_y"))<0&&(a=0),a>29&&(a=29),a=32*(a+10)),S=s,M=a,(p=$("oriboss_width"))<32&&(p=32),(i=$("oriboss_height"))<32&&(i=32),(h=$("oriboss_speed"))<1&&(h=1),o=-4,(A=$("oriboss_ugoki"))<1&&(A=1),A>27&&(A=1),(I=$("oriboss_waza_select"))<1&&(I=1),I>10&&(I=1),(j=$("oriboss_waza_select_option"))<0&&(j=3),j<1&&(j=1),B[0]=$("oriboss_waza1"),B[0]<1&&(B[0]=1),B[0]>k&&(B[0]=k),B[1]=$("oriboss_waza2"),B[1]<1&&(B[1]=1),B[1]>k&&(B[1]=k),B[2]=$("oriboss_waza3"),B[2]<1&&(B[2]=1),B[2]>k&&(B[2]=k),P[0]=$("oriboss_waza1_wait"),P[0]<1&&(P[0]=1),P[1]=$("oriboss_waza2_wait"),P[1]<1&&(P[1]=1),P[2]=$("oriboss_waza3_wait"),P[2]<1&&(P[2]=1),R=0,((z=$("oriboss_fumeru_f"))<1||z>4)&&(z=1),2!=(Y=$("oriboss_tail_f"))&&(Y=1),2!=(K=$("oriboss_destroy"))&&(K=1),X=!1,q=p,C=i,c>0&&(2!=(w=$("oriboss_anime_type"))&&(w=1),N=s-512,e.setScrollLock(N),b=5)):c=0}()):function(t,x,I){c>0&&function(t,x,I){if(30==c)return void(x>=N&&(c=100));if(20==c)(u-=1)<=0&&(e.setStageClear(),c=0);else if(50==c)(u-=1)<=0&&(c=0,e.hideGauge(),e.addScore(1e3),2==K?(c=20,u=30):e.setMapchip((x>>5)-1+6,(I>>5)-10+4,8));else if(80==c)(u-=1)<=0&&(c=g);else if(c>=100){100==c?(s+=o,24==A||25==A||26==A?s+(p>>1)<=N+256&&(s=N+256-(p>>1),24==A?(c=2500,o=-1*h,r=0):26==A?(c=2700,o=-1*h,r=0,X=!0):(c=2600,o=-1*h,s+(p>>1)<m.mp.co_j.x+15&&(o=h),r=0)):4==A||5==A||20==A||21==A?s<=N+320&&(s=N+320,o=0,4==A?(c=500,n=0):20==A?(c=2100,n=0):21==A?(c=2200,n=0):(c=600,n=0),g=c):16==A||17==A?s<=N+512-p&&(s=N+512-p,o=0,16==A?(c=1700,r=-1*h,o=-1*h):(c=1800,r=h,o=-1*h),g=c):s<=N+384&&(s=N+384,o=0,2==A?(c=300,o=-1*h):3==A?(c=400,r=-1*h):6==A?(c=700,r=-1*h,o=-1*h):7==A?(c=800,r=h,o=-1*h):8==A?(c=900,o=-1*h):9==A?(c=1e3,o=-1*h):10==A?(c=1100,o=-1*h):11==A?(c=1200,o=-1*h):12==A?(c=1300,o=-1*h):13==A?(c=1400,o=-1*h):14==A?(c=1500,o=-1*h,r=-1*h):15==A?(c=1600,o=-1*(h>>1),r=-1*h):18==A?(c=1900,o=-1*h):19==A?(c=2e3,o=-1*h):22==A?(c=2300,o=-1*h,r=-1*h):23==A?(c=2400,o=-1*h,r=h):27==A?(c=2800,o=-1*h,r=0,X=!0):(c=200,o=0),g=c)):200==c?mm():300==c?(o<0?(s+=o)<=S-512&&(s=S-512,o=h):(s+=o)>=S-p&&(s=S-p,o=-1*h),mm()):400==c?(r<0?(a+=r)<=M-96&&(a=M-96,r=h):(a+=r)>=M+96&&(a=M+96,r=-1*h),mm()):500==c?((n-=h)<0&&(n+=360),s=S-256+sm(96*Math.cos(3.14*n/180),!0,m.mp)-32,a=M+32+sm(96*Math.sin(3.14*n/180),!0,m.mp)-32,o=n>180?-1:1,mm()):600==c?((n+=h)>=360&&(n-=360),s=S-256+sm(96*Math.cos(3.14*n/180),!0,m.mp)-32,a=M+32+sm(96*Math.sin(3.14*n/180),!0,m.mp)-32,o=n<180?-1:1,mm()):700==c?(o<0?a>M-64?(a-=h)<=M-64&&(a=M-64,r=0,_=!0):(s+=o)<=S-512+128-p&&(s=S-512+128-p,o=h,r=h,_=!1):a<M+64?(a+=h)>=M+64&&(a=M+64,r=0,_=!0):(s+=o)>=S-128&&(s=S-128,o=-1*h,r=-1*h,_=!1),mm()):800==c?(o<0?a<M+64?(a+=h)>=M+64&&(a=M+64,r=0,_=!0):(s+=o)<=S-512+128-p&&(s=S-512+128-p,o=h,r=-1*h,_=!1):a>M-64?(a-=h)<=M-64&&(a=M-64,r=0,_=!0):(s+=o)>=S-128&&(s=S-128,o=-1*h,r=h,_=!1),mm()):c>=900&&c<1e3?900==c?f<=l>>1?(c=910,o=-1*h,b=2):mm():910==c?(s+=o)<=S-512&&(s=S-512,c=920,o=h):920==c&&mm():c>=1e3&&c<1100?1e3==c?f<=Math.floor(2*l/3)?(c=1010,o=-1*h,b=2):mm():1010==c?(s+=o)<=S-512&&(s=S-512,c=1020,o=h):1020==c?(f<=Math.floor(l/3)?(c=1030,o=h,b=2):mm(),mm()):1030==c?(s+=o)>=S-p&&(s=S-p,o=-1*h,c=1040):1040==c&&mm():c>=1100&&c<1200?1100==c?f<=l>>1?(c=1110,r=-1*h,b=2):mm():1110==c?(a+=r)<=I+32&&(a=I+32,c=1120):1120==c&&mm():c>=1200&&c<1300?1200==c?f<=Math.floor(2*l/3)?(c=1210,r=-1*h,b=2):mm():1210==c?(a+=r)<=I+32&&(a=I+32,c=1220):1220==c?f<=Math.floor(l/3)?(c=1230,r=h,b=2):mm():1230==c?(a+=r)>=I+320-i-32&&(a=I+320-i-32,c=1240):1240==c&&mm():c>=1300&&c<1400?1300==c?f<=l>>1?(c=1310,r=h,b=2):mm():1310==c?(a+=r)>=I+320-i-32&&(a=I+320-i-32,c=1320):1320==c&&mm():c>=1400&&c<1500?1400==c?f<=Math.floor(2*l/3)?(c=1410,r=h,b=2):mm():1410==c?(a+=r)>=I+320-i-32&&(a=I+320-i-32,c=1420):1420==c?f<=Math.floor(l/3)?(c=1430,r=-1*h,b=2):mm():1430==c?(a+=r)<=I+32&&(a=I+32,c=1440):1440==c&&mm():c>=1500&&c<1600?(o>0?(s+=o)>=x+512-p&&(s=x+512-p,o=-1*h):o<0&&(s+=o)<=x&&(s=x,o=h),r>0?(a+=r)>=I+320-i&&(a=I+320-i,r=-1*h):r<0&&(a+=r)<=I&&(a=I,r=h),mm()):c>=1600&&c<1700?(o>0?(s+=o)>=x+512-p&&(s=x+512-p,o=-1*(h>>1)):o<0&&(s+=o)<=x&&(s=x,o=h>>1),r>0?(a+=r)>=I+320-i-64&&(a=I+320-i-64,r=-1*h):r<0&&(a+=r)<=I+64&&(a=I+64,r=h),mm()):1700==c?(o<0?_?(s+=o)<=x&&(s=x,o=h,r=h,_=!1):(a-=h)<=I&&(a=I,r=0,_=!0):_?(s+=o)>=x+512-p&&(s=x+512-p,o=-1*h,r=-1*h,_=!1):(a+=h)>=I+320-i&&(a=I+320-i,r=0,_=!0),mm()):1800==c?(o<0?_?(s+=o)<=x&&(s=x,o=h,r=-1*h,_=!1):(a+=h)>=I+320-i&&(a=I+320-i,r=0,_=!0):_?(s+=o)>=x+512-p&&(s=x+512-p,o=-1*h,r=h,_=!1):(a-=h)<=I&&(a=I,r=0,_=!0),mm()):c>=1900&&c<2e3?(1900==c?f<=l>>1&&(c=1910,b<10&&(b=10)):o<0?(s+=o)<=S-512&&(s=S-512,o=h):(s+=o)>=S-p&&(s=S-p,o=-1*h),mm()):c>=2e3&&c<2100?(2e3==c?f<=Math.floor(l/3)&&(c=2010,b<10&&(b=10)):o<0?(s+=o)<=S-512&&(s=S-512,o=h):(s+=o)>=S-p&&(s=S-p,o=-1*h),mm()):c>=2100&&c<2200?(2100==c?f<=l>>1&&(c=2110,b<10&&(b=10)):((n-=h)<0&&(n+=360),s=S-256+sm(96*Math.cos(3.14*n/180),!0,m.mp)-32,a=M+32+sm(96*Math.sin(3.14*n/180),!0,m.mp)-32,o=n>180?-1:1),mm()):c>=2200&&c<2300?(2200==c?f<=Math.floor(l/3)&&(c=2110,b<10&&(b=10)):((n-=h)<0&&(n+=360),s=S-256+sm(96*Math.cos(3.14*n/180),!0,m.mp)-32,a=M+32+sm(96*Math.sin(3.14*n/180),!0,m.mp)-32,o=n>180?-1:1),mm()):2300==c?(r<0?(s+=o,(a+=r)<=M-192&&(a=M-192,s=S-128-192,r=h,o=h)):(s+=o,(a+=r)>=M&&(a=M,s=S-128,r=-1*h,o=-1*h)),mm()):2400==c?(r<0?(s+=o,(a+=r)<=M&&(a=M,s=S-128,r=h,o=-1*h)):(s+=o,(a+=r)>=M+192&&(a=M+192,s=S-128-192,r=-1*h,o=h)),mm()):2500==c?mm():c>=2600&&c<2700?(c<2616?c++:o<=0?s+(p>>1)<m.mp.co_j.x+15&&(o=h,c=2600):s+(p>>1)>m.mp.co_j.x+15&&(o=-1*h,c=2600),mm()):2700==c?(++d>1&&(d=0),0==d&&q<1024&&(q+=2,C+=2),mm()):2800==c&&(q<1024&&(q+=2,C+=2),mm());var j,B=!1;if(3!=z&&(X?e.getMyXReal()+24>s-(q-p>>1)&&e.getMyXReal()<s+p+(q-p>>1)-8&&e.getMyYReal()+24>a-(C-i>>1)&&e.getMyYReal()<a+i+(C-i>>1)-8&&(B=!0):e.getMyXReal()+24>s&&e.getMyXReal()<s+p-8&&e.getMyYReal()+24>a&&e.getMyYReal()<a+i-8&&(B=!0)),B&&(2==z&&e.getMyVY()>10?(e.setMyPress("3"),e.setMyYReal(a),(f-=1)<=0?(f=0,c=50,u=20):(c=80,u=10)):4==z?e.setMyMiss("2"):(e.setMyHPDamage("1"),e.getMyHP()<=0&&e.setMyMiss("2"))),(j=X?e.attackFire(s-24-(q-p>>1),a-24-(C-i>>1),q-32+48,C-32+48):e.attackFire(s-24,a-24,p-32+48,i-32+48))>=1&&(f-=j)<=0&&(f=0,c=50,u=20),2==Y&&5==m.mp.j_tail_ac){var P=!1;if(X?m.mp.co_j.y<a+i-4+(C-i>>1)&&m.mp.co_j.y+32>a+4-(C-i>>1)&&(0==m.mp.co_j.muki?m.mp.co_j.x-32-12<=s+p+(q-p>>1)&&m.mp.co_j.x+8>=s-(q-p>>1)&&(P=!0):m.mp.co_j.x+32+32+12>=s-(q-p>>1)&&m.mp.co_j.x+24<=s+p+(q-p>>1)&&(P=!0)):m.mp.co_j.y<a+i-4&&m.mp.co_j.y+32>a+4&&(0==m.mp.co_j.muki?m.mp.co_j.x-32-12<=s+p&&m.mp.co_j.x+8>=s&&(P=!0):m.mp.co_j.x+32+32+12>=s&&m.mp.co_j.x+24<=s+p&&(P=!0)),P){m.mp.gs.rsAddSound(9);var k=m.tdb.getValueInt("j_tail_ap_boss");k<0&&(k=0),(f-=k)<=0&&(f=0,c=50,u=20)}}}if(x>=N){if(X){var R=m.gg.os_img.getGraphics();R.translate(s-x+(p>>1),a-I+(i>>1));var D=q/p,L=C/i;R.scale(D,L),c>=100?o<=0?v<=2||2==w?R.drawImage(G,-(p>>1),-(i>>1),e):null!=V&&R.drawImage(V,-(p>>1),-(i>>1),e):v<=2||2==w?R.drawImage(H,-(p>>1),-(i>>1),e):null!=F&&R.drawImage(F,-(p>>1),-(i>>1),e):c>=50&&c<=80&&(o<=0?R.drawImage(E,-(p>>1),-(i>>1),e):null!=J&&R.drawImage(J,-(p>>1),-(i>>1),e)),R.dispose()}else c>=100?o<=0?v<=2||2==w?t.drawImage(G,s-x,a-I,e):null!=V&&t.drawImage(V,s-x,a-I,e):v<=2||2==w?t.drawImage(H,s-x,a-I,e):null!=F&&t.drawImage(F,s-x,a-I,e):c>=50&&c<=80&&(o<=0?t.drawImage(E,s-x,a-I,e):null!=J&&t.drawImage(J,s-x,a-I,e));++v>5&&(v=0)}x>=N&&c>=50&&e.showGauge(Math.floor(200*f/l),y+" "+f+" / "+l)}(t,x,I);(function(){if(2!=m.mp.gg.layer_mode&&1!=m.mp.mcs_haikei_visible)return;for(var e=0;e<8;e++)!W[e]&&null!=Z[e]&&U[e]>0&&100==m.mp.ml_mode&&m.mp.maps.wx>=U[e]&&(m.mp.setbacki_f=!0,m.mp.setbacki_img=Z[e],W[e]=!0)})(),function(m,t){for(var s=0;s<=3;s++)Q[s]<=0||(Q[s]>=100&&t>=D[s]&&Q[s]--,Q[s]<100&&(m.drawImage(T[s],L[s],O[s],e),Q[s]--))}(t,x)}(x,e.getViewXReal(),e.getViewYReal())),my_offscreen_img=em}},CanvasMasao.MasaoKani2.inject=function(m){m.userInit=function(){this.masaoKani2=new CanvasMasao.MasaoKani2(this)},m.userSub=function(m,e){this.masaoKani2.masaoEvent(m,e)}};