CanvasMasao.MasaoKani2=function(m){var e,t,i,s,a,p,g,o,h,d,r,n,S,M,f,l,c,_,w,u,v,y,b,x,A,I,j,B,P,k,R,z,Y,H,K,X,q,C,G,V,F,E,J,N,W,D,L,O,Q,T,U,Z;function $(m){var e=parseInt(tm(m));return isNaN(e)&&(e=-1),e}function mm(){var e=!1,t=!1;2==y&&(t=!0),y>0&&--y<=0&&(b=0);var o=B[R],h=P[R];if(y<=0)if(b++,o<=1)y=h,e=!0;else if(2==o)m.mp.mSet(i+(a-32>>1),s+(p-32>>1),100),y=h,e=!0;else if(3==o)1!=b&&7!=b&&13!=b||m.mp.mSet(i+(a-32>>1),s+(p-32>>1),100),1==b&&m.mp.gs.rsAddSound(10),b>=13&&(y=h,e=!0);else if(4==o)g<=0?m.mp.mSet(i+(a-32>>1),s+16,200):m.mp.mSet(i+(a-32>>1),s+16,205),y=h,e=!0;else if(5==o)1!=b&&9!=b&&17!=b||(g<=0?m.mp.mSet(i+(a-32>>1),s+16,200):m.mp.mSet(i+(a-32>>1),s+16,205)),1==b&&m.mp.gs.rsAddSound(11),b>=17&&(y=h,e=!0);else if(6==o)g<=0?m.mp.mSet(i+32,s+(p-32>>1),300):m.mp.mSet(i+a-32,s+(p-32>>1),305),y=h,e=!0;else if(7==o)g<=0?(m.mp.mSet(i+32,s+(p-32>>1)-16,300),m.mp.mSet(i+32,s+(p-32>>1)+16,300)):(m.mp.mSet(i+a-32,s+(p-32>>1)-16,305),m.mp.mSet(i+a-32,s+(p-32>>1)+16,305)),m.mp.gs.rsAddSound(14),y=h,e=!0;else if(8==o)g<=0?m.mp.mSet(i+(a-32>>1),s+16,400):m.mp.mSet(i+(a-32>>1),s+16,405),y=h,e=!0;else if(9==o)0==g?m.mp.mSet(i+(a-32>>1),s+p-16,606):g<0?m.mp.mSet(i+(a-32>>1),s+p-16,600):m.mp.mSet(i+(a-32>>1),s+p-16,605),y=h,e=!0;else if(10==o){if(1==b)if(g<=0){var n=3.3144445419311523,f=im(12*Math.cos(n),!0,m.mp),l=-1*im(12*Math.sin(n),!0,m.mp);m.mp.mSet2(i+16,s+(p-32>>1),710,f,l),n=2.965555429458618,f=im(12*Math.cos(n),!0,m.mp),l=-1*im(12*Math.sin(n),!0,m.mp),m.mp.mSet2(i+16,s+(p-32>>1),710,f,l),n=3.6633334159851074,f=im(12*Math.cos(n),!0,m.mp),l=-1*im(12*Math.sin(n),!0,m.mp),m.mp.mSet2(i+16,s+(p-32>>1),710,f,l),n=2.616666793823242,f=im(12*Math.cos(n),!0,m.mp),l=-1*im(12*Math.sin(n),!0,m.mp),m.mp.mSet2(i+16,s+(p-32>>1),710,f,l)}else{var c=3.3144445419311523,w=-1*im(12*Math.cos(c),!0,m.mp),u=-1*im(12*Math.sin(c),!0,m.mp);m.mp.mSet2(i+a-48,s+(p-32>>1),710,w,u),c=2.965555429458618,w=-1*im(12*Math.cos(c),!0,m.mp),u=-1*im(12*Math.sin(c),!0,m.mp),m.mp.mSet2(i+a-48,s+(p-32>>1),710,w,u),c=3.6633334159851074,w=-1*im(12*Math.cos(c),!0,m.mp),u=-1*im(12*Math.sin(c),!0,m.mp),m.mp.mSet2(i+a-48,s+(p-32>>1),710,w,u),c=2.616666793823242,w=-1*im(12*Math.cos(c),!0,m.mp),u=-1*im(12*Math.sin(c),!0,m.mp),m.mp.mSet2(i+a-48,s+(p-32>>1),710,w,u)}else if(11==b)if(g<=0){var v=3.140000104904175,x=im(12*Math.cos(v),!0,m.mp),k=-1*im(12*Math.sin(v),!0,m.mp);m.mp.mSet2(i+16,s+(p-32>>1),710,x,k),v=2.7038888931274414,x=im(12*Math.cos(v),!0,m.mp),k=-1*im(12*Math.sin(v),!0,m.mp),m.mp.mSet2(i+16,s+(p-32>>1),710,x,k),v=3.576111078262329,x=im(12*Math.cos(v),!0,m.mp),k=-1*im(12*Math.sin(v),!0,m.mp),m.mp.mSet2(i+16,s+(p-32>>1),710,x,k)}else{var z=3.140000104904175,Y=-1*im(12*Math.cos(z),!0,m.mp),H=-1*im(12*Math.sin(z),!0,m.mp);m.mp.mSet2(i+a-48,s+(p-32>>1),710,Y,H),z=2.7038888931274414,Y=-1*im(12*Math.cos(z),!0,m.mp),H=-1*im(12*Math.sin(z),!0,m.mp),m.mp.mSet2(i+a-48,s+(p-32>>1),710,Y,H),z=3.576111078262329,Y=-1*im(12*Math.cos(z),!0,m.mp),H=-1*im(12*Math.sin(z),!0,m.mp),m.mp.mSet2(i+a-48,s+(p-32>>1),710,Y,H)}1==b&&m.mp.gs.rsAddSound(18),b>=11&&(y=h,e=!0)}else if(11==o){if(1==b)for(var K=0;K<=330;K+=30){var X=3.14*K/180,q=im(12*Math.cos(X),!0,m.mp),C=-1*im(12*Math.sin(X),!0,m.mp);m.mp.mSet2(i+16,s+(p-32>>1),710,q,C)}else if(11==b)for(var G=15;G<=345;G+=30){var V=3.14*G/180,F=im(12*Math.cos(V),!0,m.mp),E=-1*im(12*Math.sin(V),!0,m.mp);m.mp.mSet2(i+16,s+(p-32>>1),710,F,E)}1==b&&m.mp.gs.rsAddSound(18),b>=11&&(y=h,e=!0)}else if(12==o)g<=0?m.mp.tSetBoss(i+(a-32>>1),s,150,-4):m.mp.tSetBoss(i+(a-32>>1),s,150,4),y=h,e=!0;else if(13==o)g<=0?m.mp.tSetBoss(i+(a-32>>1),s,150,2):m.mp.tSetBoss(i+(a-32>>1),s,150,-2),y=h,e=!0;else if(14==o)g<=0?m.mp.tSetBoss(i+(a-32>>1),s,450,-6):m.mp.tSetBoss(i+(a-32>>1),s,450,6),y=h,e=!0;else if(15==o)g<=0?m.mp.tSetBoss(i+(a-32>>1),s,450,2):m.mp.tSetBoss(i+(a-32>>1),s,450,-2),y=h,e=!0;else if(16==o)g<=0?m.mp.tSetBoss(i+(a-32>>1),s,650,-5):m.mp.tSetBoss(i+(a-32>>1),s,650,5),y=h,e=!0;else if(17==o)g<=0?m.mp.tSetBoss(i+(a-32>>1),s,650,2):m.mp.tSetBoss(i+(a-32>>1),s,650,-2),y=h,e=!0;else if(18==o){for(var J=10;J<=310;J+=60)m.mp.mSet2(i+(a-32>>1),s+(p-32>>1),901,J,0),m.mp.mSet2(i+(a-32>>1),s+(p-32>>1),911,J,0);m.mp.gs.rsAddSound(18),y=h,e=!0}else if(19==o){if(1==b)if(g<=0){var N=3.140000104904175,W=im(8*Math.cos(N),!0,m.mp),D=-1*im(8*Math.sin(N),!0,m.mp);m.mp.mSet2(i+16,s+(p-32>>1),710,W,D),N=2.616666793823242,W=im(8*Math.cos(N),!0,m.mp),D=-1*im(8*Math.sin(N),!0,m.mp),m.mp.mSet2(i+16,s+(p-32>>1),710,W,D),m.mp.mSet2(i+16,s+(p-32>>1),710,W,-1*D)}else{var L=3.140000104904175,O=-1*im(8*Math.cos(L),!0,m.mp),Q=-1*im(8*Math.sin(L),!0,m.mp);m.mp.mSet2(i+a-48,s+(p-32>>1),710,O,Q),L=2.616666793823242,O=-1*im(8*Math.cos(L),!0,m.mp),Q=-1*im(8*Math.sin(L),!0,m.mp),m.mp.mSet2(i+a-48,s+(p-32>>1),710,O,Q),m.mp.mSet2(i+a-48,s+(p-32>>1),710,O,-1*Q)}else if(20==b)if(g<=0){var T=2.7911112308502197,U=im(8*Math.cos(T),!0,m.mp),Z=-1*im(8*Math.sin(T),!0,m.mp);m.mp.mSet2(i+16,s+(p-32>>1),710,U,Z),m.mp.mSet2(i+16,s+(p-32>>1),710,U,-1*Z)}else{var $=2.7911112308502197,mm=-1*im(8*Math.cos($),!0,m.mp),em=-1*im(8*Math.sin($),!0,m.mp);m.mp.mSet2(i+a-48,s+(p-32>>1),710,mm,em),m.mp.mSet2(i+a-48,s+(p-32>>1),710,mm,-1*em)}1==b&&m.mp.gs.rsAddSound(18),b>=20&&(y=h,e=!0)}else if(20==o){if(1==b){var tm=1.5700000524520874,sm=im(8*Math.cos(tm),!0,m.mp),am=-1*im(8*Math.sin(tm),!0,m.mp);m.mp.mSet2(i+(a-32>>1),s+16,710,sm,am),tm=1.0466667413711548,sm=im(8*Math.cos(tm),!0,m.mp),am=-1*im(8*Math.sin(tm),!0,m.mp),m.mp.mSet2(i+(a-32>>1),s+16,710,sm,am),m.mp.mSet2(i+(a-32>>1),s+16,710,-1*sm,am)}else if(20==b){var pm=1.2211111783981323,gm=im(8*Math.cos(pm),!0,m.mp),om=-1*im(8*Math.sin(pm),!0,m.mp);m.mp.mSet2(i+(a-32>>1),s+16,710,gm,om),m.mp.mSet2(i+(a-32>>1),s+16,710,-1*gm,om)}1==b&&m.mp.gs.rsAddSound(18),b>=20&&(y=h,e=!0)}else if(21==o){if(1==b){var hm=1.5700000524520874,dm=im(8*Math.cos(hm),!0,m.mp),rm=im(8*Math.sin(hm),!0,m.mp);m.mp.mSet2(i+(a-32>>1),s+p-48,710,dm,rm),hm=1.0466667413711548,dm=im(8*Math.cos(hm),!0,m.mp),rm=im(8*Math.sin(hm),!0,m.mp),m.mp.mSet2(i+(a-32>>1),s+p-48,710,dm,rm),m.mp.mSet2(i+(a-32>>1),s+p-48,710,-1*dm,rm)}else if(20==b){var nm=1.2211111783981323,Sm=im(8*Math.cos(nm),!0,m.mp),Mm=im(8*Math.sin(nm),!0,m.mp);m.mp.mSet2(i+(a-32>>1),s+p-48,710,Sm,Mm),m.mp.mSet2(i+(a-32>>1),s+p-48,710,-1*Sm,Mm)}1==b&&m.mp.gs.rsAddSound(18),b>=20&&(y=h,e=!0)}else if(22==o){if(1==b)if(g<=0){var fm=3.140000104904175,lm=im(10*Math.cos(fm),!0,m.mp),cm=im(10*Math.sin(fm),!0,m.mp);m.mp.mSet2(i+16,s+(p-32>>1),731,lm,cm),fm=3.837778091430664,lm=im(10*Math.cos(fm),!0,m.mp),cm=im(10*Math.sin(fm),!0,m.mp),m.mp.mSet2(i+16,s+(p-32>>1),731,lm,cm),fm=4.535555839538574,lm=im(10*Math.cos(fm),!0,m.mp),cm=im(10*Math.sin(fm),!0,m.mp),m.mp.mSet2(i+16,s+(p-32>>1),731,lm,cm)}else{var _m=3.140000104904175,wm=-1*im(10*Math.cos(_m),!0,m.mp),um=im(10*Math.sin(_m),!0,m.mp);m.mp.mSet2(i+a-48,s+(p-32>>1),731,wm,um),_m=3.837778091430664,wm=-1*im(10*Math.cos(_m),!0,m.mp),um=im(10*Math.sin(_m),!0,m.mp),m.mp.mSet2(i+a-48,s+(p-32>>1),731,wm,um),_m=4.535555839538574,wm=-1*im(10*Math.cos(_m),!0,m.mp),um=im(10*Math.sin(_m),!0,m.mp),m.mp.mSet2(i+a-48,s+(p-32>>1),731,wm,um)}else if(18==b)if(g<=0){var vm=3.48888897895813,ym=im(10*Math.cos(vm),!0,m.mp),bm=im(10*Math.sin(vm),!0,m.mp);m.mp.mSet2(i+16,s+(p-32>>1),731,ym,bm),vm=4.186666965484619,ym=im(10*Math.cos(vm),!0,m.mp),bm=im(10*Math.sin(vm),!0,m.mp),m.mp.mSet2(i+16,s+(p-32>>1),731,ym,bm)}else{var xm=3.48888897895813,Am=-1*im(10*Math.cos(xm),!0,m.mp),Im=im(10*Math.sin(xm),!0,m.mp);m.mp.mSet2(i+a-48,s+(p-32>>1),731,Am,Im),xm=4.186666965484619,Am=-1*im(10*Math.cos(xm),!0,m.mp),Im=im(10*Math.sin(xm),!0,m.mp),m.mp.mSet2(i+a-48,s+(p-32>>1),731,Am,Im)}1==b&&m.mp.gs.rsAddSound(11),b>=18&&(y=h,e=!0)}else if(23==o){if(1==b)if(g<=0){var jm=3.140000104904175,Bm=im(10*Math.cos(jm),!0,m.mp),Pm=-1*im(10*Math.sin(jm),!0,m.mp);m.mp.mSet2(i+16,s+(p-32>>1),731,Bm,Pm),jm=3.837778091430664,Bm=im(10*Math.cos(jm),!0,m.mp),Pm=-1*im(10*Math.sin(jm),!0,m.mp),m.mp.mSet2(i+16,s+(p-32>>1),731,Bm,Pm),jm=4.535555839538574,Bm=im(10*Math.cos(jm),!0,m.mp),Pm=-1*im(10*Math.sin(jm),!0,m.mp),m.mp.mSet2(i+16,s+(p-32>>1),731,Bm,Pm)}else{var km=3.140000104904175,Rm=-1*im(10*Math.cos(km),!0,m.mp),zm=-1*im(10*Math.sin(km),!0,m.mp);m.mp.mSet2(i+a-48,s+(p-32>>1),731,Rm,zm),km=3.837778091430664,Rm=-1*im(10*Math.cos(km),!0,m.mp),zm=-1*im(10*Math.sin(km),!0,m.mp),m.mp.mSet2(i+a-48,s+(p-32>>1),731,Rm,zm),km=4.535555839538574,Rm=-1*im(10*Math.cos(km),!0,m.mp),zm=-1*im(10*Math.sin(km),!0,m.mp),m.mp.mSet2(i+a-48,s+(p-32>>1),731,Rm,zm)}else if(18==b)if(g<=0){var Ym=3.48888897895813,Hm=im(10*Math.cos(Ym),!0,m.mp),Km=-1*im(10*Math.sin(Ym),!0,m.mp);m.mp.mSet2(i+16,s+(p-32>>1),731,Hm,Km),Ym=4.186666965484619,Hm=im(10*Math.cos(Ym),!0,m.mp),Km=-1*im(10*Math.sin(Ym),!0,m.mp),m.mp.mSet2(i+16,s+(p-32>>1),731,Hm,Km)}else{var Xm=3.48888897895813,qm=-1*im(10*Math.cos(Xm),!0,m.mp),Cm=-1*im(10*Math.sin(Xm),!0,m.mp);m.mp.mSet2(i+a-48,s+(p-32>>1),731,qm,Cm),Xm=4.186666965484619,qm=-1*im(10*Math.cos(Xm),!0,m.mp),Cm=-1*im(10*Math.sin(Xm),!0,m.mp),m.mp.mSet2(i+a-48,s+(p-32>>1),731,qm,Cm)}1==b&&m.mp.gs.rsAddSound(11),b>=18&&(y=h,e=!0)}else if(24==o)m.mp.mSet(i+(a-32>>1),s+(p-32>>1),90),m.mp.gs.rsAddSound(18),y=h,e=!0;else if(25==o)g<=0?m.mp.mSet2(i+16,s+16,800,-5,-32):m.mp.mSet2(i+a-48,s+16,800,5,-32),m.mp.gs.rsAddSound(22),y=h,e=!0;else if(26==o)g<=0?m.mp.mSet2(i+16,s+16,800,-10,-32):m.mp.mSet2(i+a-48,s+16,800,10,-32),m.mp.gs.rsAddSound(22),y=h,e=!0;else if(27==o)g<=0?m.mp.mSet2(i+16,s+16,800,-15,-32):m.mp.mSet2(i+a-48,s+16,800,15,-32),m.mp.gs.rsAddSound(22),y=h,e=!0;else if(28==o)g<=0?m.mp.mSet2(i+16,s+(p-32>>1),810,-12,0):m.mp.mSet2(i+a-48,s+(p-32>>1),810,12,0),m.mp.gs.rsAddSound(22),y=h,e=!0;else if(29==o)m.mp.mSet2(i+16,s+(p-32>>1),77,-1,0),m.mp.gs.rsAddSound(14),y=h,e=!0;else if(30==o)m.mp.mSet2(i+16,s+(p-32>>1),75,-1,0),m.mp.gs.rsAddSound(11),y=h,e=!0;else if(31==o){if(g<=0)for(var Gm=0;Gm<=270;Gm+=90)m.mp.mSet2(i+(a-32>>1),s+(p-32>>1),970,Gm,0);else for(var Vm=0;Vm<=270;Vm+=90)m.mp.mSet2(i+(a-32>>1),s+(p-32>>1),980,Vm,0);m.mp.gs.rsAddSound(18),y=h,e=!0}else if(32==o)1!=b&&9!=b&&17!=b||m.mp.mSet(i+16,s+16,200),1==b&&m.mp.gs.rsAddSound(11),b>=17&&(y=h,e=!0);else if(33==o)1!=b&&9!=b&&17!=b||m.mp.mSet(i+a-48,s+16,205),1==b&&m.mp.gs.rsAddSound(11),b>=17&&(y=h,e=!0);else if(34==o)g<=0?m.mp.mSet2(i+16,s+(p-32>>1),731,-8,0):m.mp.mSet2(i+a-48,s+(p-32>>1),731,8,0),y=h,e=!0;else if(35==o)m.mp.mSet2(i+16,s+(p-32>>1),731,-8,0),y=h,e=!0;else if(36==o)m.mp.mSet2(i+a-48,s+(p-32>>1),731,8,0),y=h,e=!0;else if(37==o){var Fm=3.4016668796539307,Em=im(8*Math.cos(Fm),!0,m.mp),Jm=-1*im(8*Math.sin(Fm),!0,m.mp);m.mp.mSet2(i+16,s+(p-32>>1),710,Em,Jm),m.mp.mSet2(i+16,s+(p-32>>1),710,Em,-1*Jm),Fm=3.924999952316284,Em=im(8*Math.cos(Fm),!0,m.mp),Jm=-1*im(8*Math.sin(Fm),!0,m.mp),m.mp.mSet2(i+16,s+(p-32>>1),710,Em,Jm),m.mp.mSet2(i+16,s+(p-32>>1),710,Em,-1*Jm),m.mp.gs.rsAddSound(18),y=h,e=!0}else if(38==o){var Nm=3.4016668796539307,Wm=-1*im(8*Math.cos(Nm),!0,m.mp),Dm=-1*im(8*Math.sin(Nm),!0,m.mp);m.mp.mSet2(i+16,s+(p-32>>1),710,Wm,Dm),m.mp.mSet2(i+16,s+(p-32>>1),710,Wm,-1*Dm),Nm=3.924999952316284,Wm=-1*im(8*Math.cos(Nm),!0,m.mp),Dm=-1*im(8*Math.sin(Nm),!0,m.mp),m.mp.mSet2(i+16,s+(p-32>>1),710,Wm,Dm),m.mp.mSet2(i+16,s+(p-32>>1),710,Wm,-1*Dm),m.mp.gs.rsAddSound(18),y=h,e=!0}else if(39==o)m.mp.mSet2(i+(a-32>>1),s+16,710,0,-8),y=h,e=!0;else if(40==o)m.mp.mSet2(i+(a-32>>1),s+p-48,710,0,8),y=h,e=!0;else if(41==o){var Lm=4.9716668128967285,Om=-1*im(8*Math.cos(Lm),!0,m.mp),Qm=im(8*Math.sin(Lm),!0,m.mp);m.mp.mSet2(i+(a-32>>1),s+16,710,Om,Qm),m.mp.mSet2(i+(a-32>>1),s+16,710,-1*Om,Qm),Lm=5.49500036239624,Om=-1*im(8*Math.cos(Lm),!0,m.mp),Qm=im(8*Math.sin(Lm),!0,m.mp),m.mp.mSet2(i+(a-32>>1),s+16,710,Om,Qm),m.mp.mSet2(i+(a-32>>1),s+16,710,-1*Om,Qm),y=h,e=!0}else if(42==o){var Tm=4.9716668128967285,Um=-1*im(8*Math.cos(Tm),!0,m.mp),Zm=-1*im(8*Math.sin(Tm),!0,m.mp);m.mp.mSet2(i+(a-32>>1),s+p-48,710,Um,Zm),m.mp.mSet2(i+(a-32>>1),s+p-48,710,-1*Um,Zm),Tm=5.49500036239624,Um=-1*im(8*Math.cos(Tm),!0,m.mp),Zm=-1*im(8*Math.sin(Tm),!0,m.mp),m.mp.mSet2(i+(a-32>>1),s+p-48,710,Um,Zm),m.mp.mSet2(i+(a-32>>1),s+p-48,710,-1*Um,Zm),y=h,e=!0}else 43==o?(g<=0?(m.mp.mSet2(i+16,s,731,-8,0),m.mp.mSet2(i+16,s+p-32,731,-8,0)):(m.mp.mSet2(i+a-48,s,731,8,0),m.mp.mSet2(i+a-48,s+p-32,731,8,0)),m.mp.gs.rsAddSound(11),y=h,e=!0):44==o?(g<=0?m.mp.mSet(i+(a-32>>1),s+(p-32>>1),95):m.mp.mSet(i+(a-32>>1),s+(p-32>>1),96),m.mp.gs.rsAddSound(18),y=h,e=!0):45==o?(m.mp.mSet(i+(a-32>>1),s+(p-32>>1),95),m.mp.gs.rsAddSound(18),y=h,e=!0):46==o&&(m.mp.mSet(i+(a-32>>1),s+(p-32>>1),96),m.mp.gs.rsAddSound(18),y=h,e=!0);2==I?e&&++R>1&&(R=0):3==I?e&&++R>2&&(R=0):4==I?(e||t)&&(R=S<=M>>1?1:0):5==I?(e||t)&&(R=S<=Math.floor(M/3)?2:S<=Math.floor(2*M/3)?1:0):6==I?e&&(j>=1?(R=0,--j<=0&&(j=0,R=1)):R=1):7==I?e&&(j>=1?(R=0,--j<=0&&(j=0,R=1)):R=1==R?2:1):8==I?(e||t)&&(R=g<=0?0:1):9==I?(e||t)&&(16==A||17==A?R=_?s+(p>>1)-m.mp.maps.wy<im(m.gg.di.height/2)?1:2:0:6==A||7==A?R=_?s<r?1:2:0:14==A?s+(p>>1)-m.mp.maps.wy<96?R=1:s+(p>>1)-m.mp.maps.wy>=224&&(R=2):R=s+(p>>1)-m.mp.maps.wy<m.gg.di.height-224?1:s+(p>>1)-m.mp.maps.wy>=m.gg.di.height-96?2:0):10==I?(e||t)&&(R=16==A||17==A?_?0:i+(a>>1)-m.mp.maps.wx>im(m.gg.di.width/2)?1:2:6==A||7==A?_?0:i>d-im(m.gg.di.width/2)?1:2:i+(a>>1)-m.mp.maps.wx<im(.25*m.gg.di.width)?2:i+(a>>1)-m.mp.maps.wx>=im(.75*m.gg.di.width)?1:0):R=0}function em(m){return e.getImage(m)}function tm(e){return m.getParameter(e)}function im(m,e,t){return m>=0||e&&!t.tdb.options["bc-use-rounddown"]?Math.floor(m):-Math.floor(-m)}B=new Array(3),P=new Array(3),k=46,W=new Array(4),D=new Array(4),L=new Array(4),O=new Array(4),Q=new Array(4),T=new Array(8),U=new Array(8),Z=new Array(8),e=m,function(){if((t=$("oriboss_v"))>=2){2!=(v=$("oriboss_anime_type"))&&(v=1);var m=e.getParameter("filename_oriboss_left1");if(C=e.getImage(m),m=e.getParameter("filename_oriboss_right1"),G=e.getImage(m),m=e.getParameter("filename_oriboss_tubure_left"),E=e.getImage(m),m=e.getParameter("filename_oriboss_tubure_right"),J=e.getImage(m),2!=v){var i=e.getParameter("filename_oriboss_left2");V=e.getImage(i),i=e.getParameter("filename_oriboss_right2"),F=e.getImage(i)}}}(),function(){for(let m=0;m<8;m++){T[m]=0;let e=m+1+"",t=$("x_backimage"+e+"_view_x");t>0&&(T[m]=32*(t+1),Z[m]=em(tm("x_backimage"+e+"_filename")))}}(),this.masaoEvent=function(b,em){const sm=e.getMode();1==sm||sm>=100&&sm<200&&(1==e.getJSMes()?(e.setJSMes("2"),function(){var o=$("j_hp");o<1&&(o=1);if(o>1){e.setMyMaxHP(o);var h=tm("j_hp_name");null==h&&(h=""),e.showMyHP(h)}2==$("j_equip_fire")&&e.equipFire(1);(o=$("j_equip_grenade"))>=1&&e.equipGrenade(o);(function(){for(let m=0;m<=3;m++)O[m]=0;let m=$("ximage1_view_x");m>0&&(W[0]=32*(m+1),D[0]=$("ximage1_x"),L[0]=$("ximage1_y"),O[0]=100,Q[0]=e.getImage(tm("filename_ximage1")));(m=$("ximage2_view_x"))>0&&(W[1]=32*(m+1),D[1]=$("ximage2_x"),L[1]=$("ximage2_y"),O[1]=100,Q[1]=e.getImage(tm("filename_ximage2")));(m=$("ximage3_view_x"))>0&&(W[2]=32*(m+1),D[2]=$("ximage3_x"),L[2]=$("ximage3_y"),O[2]=100,Q[2]=e.getImage(tm("filename_ximage3")));(m=$("ximage4_view_x"))>0&&(W[3]=32*(m+1),D[3]=$("ximage4_x"),L[3]=$("ximage4_y"),O[3]=100,Q[3]=e.getImage(tm("filename_ximage4")))})(),function(){for(let m=0;m<8;m++)U[m]=!1,T[m]<=0&&(U[m]=!0)}(),(t=$("oriboss_v"))>=2?(l=f=30,c=0,u=0,_=!1,null==(x=tm("oriboss_name"))&&(x=""),(S=$("oriboss_hp"))<1&&(S=1),M=S,3==t?300==m.mp.co_b.c?(m.mp.co_b.c=0,i=m.mp.co_b.x,s=m.mp.co_b.y+16):f=0:((i=$("oriboss_x"))<0&&(i=0),i>m.mp.mapWidth&&(i=m.mp.mapWidth),i=32*(i+1),(s=$("oriboss_y"))<0&&(s=0),s>m.mp.mapHeight&&(s=m.mp.mapHeight),s=32*(s+10)),d=i,r=s,(a=$("oriboss_width"))<32&&(a=32),(p=$("oriboss_height"))<32&&(p=32),(n=$("oriboss_speed"))<1&&(n=1),g=-4,(A=$("oriboss_ugoki"))<1&&(A=1),A>27&&(A=1),(I=$("oriboss_waza_select"))<1&&(I=1),I>10&&(I=1),(j=$("oriboss_waza_select_option"))<0&&(j=3),j<1&&(j=1),B[0]=$("oriboss_waza1"),B[0]<1&&(B[0]=1),B[0]>k&&(B[0]=k),B[1]=$("oriboss_waza2"),B[1]<1&&(B[1]=1),B[1]>k&&(B[1]=k),B[2]=$("oriboss_waza3"),B[2]<1&&(B[2]=1),B[2]>k&&(B[2]=k),P[0]=$("oriboss_waza1_wait"),P[0]<1&&(P[0]=1),P[1]=$("oriboss_waza2_wait"),P[1]<1&&(P[1]=1),P[2]=$("oriboss_waza3_wait"),P[2]<1&&(P[2]=1),R=0,((z=$("oriboss_fumeru_f"))<1||z>4)&&(z=1),2!=(Y=$("oriboss_tail_f"))&&(Y=1),2!=(H=$("oriboss_destroy"))&&(H=1),K=!1,X=a,q=p,f>0&&(2!=(v=$("oriboss_anime_type"))&&(v=1),N=i-m.gg.di.width,e.setScrollLock(N),y=5)):f=0}()):function(t,b,I){f>0&&function(t,b,I){if(30==f)return void(b>=N&&(f=100));if(20==f)(w-=1)<=0&&(e.setStageClear(),f=0);else if(50==f)(w-=1)<=0&&(f=0,e.hideGauge(),e.addScore(1e3),2==H?(f=20,w=30):e.setMapchip((b>>5)-1+im(m.gg.di.width/32/2)-2,(I>>5)-10+im(m.gg.di.height/32)-6,8));else if(80==f)(w-=1)<=0&&(f=l);else if(f>=100){100==f?(i+=g,24==A||25==A||26==A?i+(a>>1)<=N+im(m.gg.di.width/2)&&(i=N+im(m.gg.di.width/2)-(a>>1),24==A?(f=2500,g=-1*n,o=0):26==A?(f=2700,g=-1*n,o=0,K=!0):(f=2600,g=-1*n,i+(a>>1)<m.mp.co_j.x+15&&(g=n),o=0)):4==A||5==A||20==A||21==A?i<=N+m.gg.di.width-192&&(i=N+m.gg.di.width-192,g=0,4==A?(f=500,h=0):20==A?(f=2100,h=0):21==A?(f=2200,h=0):(f=600,h=0),l=f):16==A||17==A?i<=N+m.gg.di.width-a&&(i=N+m.gg.di.width-a,g=0,16==A?(f=1700,o=-1*n,g=-1*n):(f=1800,o=n,g=-1*n),l=f):i<=N+m.gg.di.width-128&&(i=N+m.gg.di.width-128,g=0,2==A?(f=300,g=-1*n):3==A?(f=400,o=-1*n):6==A?(f=700,o=-1*n,g=-1*n):7==A?(f=800,o=n,g=-1*n):8==A?(f=900,g=-1*n):9==A?(f=1e3,g=-1*n):10==A?(f=1100,g=-1*n):11==A?(f=1200,g=-1*n):12==A?(f=1300,g=-1*n):13==A?(f=1400,g=-1*n):14==A?(f=1500,g=-1*n,o=-1*n):15==A?(f=1600,g=-1*(n>>1),o=-1*n):18==A?(f=1900,g=-1*n):19==A?(f=2e3,g=-1*n):22==A?(f=2300,g=-1*n,o=-1*n):23==A?(f=2400,g=-1*n,o=n):27==A?(f=2800,g=-1*n,o=0,K=!0):(f=200,g=0),l=f)):200==f?mm():300==f?(g<0?(i+=g)<=d-m.gg.di.width&&(i=d-m.gg.di.width,g=n):(i+=g)>=d-a&&(i=d-a,g=-1*n),mm()):400==f?(o<0?(s+=o)<=r-96&&(s=r-96,o=n):(s+=o)>=r+96&&(s=r+96,o=-1*n),mm()):500==f?((h-=n)<0&&(h+=360),i=d-im(m.gg.di.width/2)+im(32*Math.cos(3.14*h/180)*((m.gg.di.width-256)/32/2-1),!0,m.mp)-32,s=r+32+im(96*Math.sin(3.14*h/180),!0,m.mp)-32,g=h>180?-1:1,mm()):600==f?((h+=n)>=360&&(h-=360),i=d-im(m.gg.di.width/2)+im(32*Math.cos(3.14*h/180)*((m.gg.di.width-256)/32/2-1),!0,m.mp)-32,s=r+32+im(96*Math.sin(3.14*h/180),!0,m.mp)-32,g=h<180?-1:1,mm()):700==f?(g<0?s>r-64?(s-=n)<=r-64&&(s=r-64,o=0,_=!0):(i+=g)<=d-m.gg.di.width+128-a&&(i=d-m.gg.di.width+128-a,g=n,o=n,_=!1):s<r+64?(s+=n)>=r+64&&(s=r+64,o=0,_=!0):(i+=g)>=d-128&&(i=d-128,g=-1*n,o=-1*n,_=!1),mm()):800==f?(g<0?s<r+64?(s+=n)>=r+64&&(s=r+64,o=0,_=!0):(i+=g)<=d-m.gg.di.width+128-a&&(i=d-m.gg.di.width+128-a,g=n,o=-1*n,_=!1):s>r-64?(s-=n)<=r-64&&(s=r-64,o=0,_=!0):(i+=g)>=d-128&&(i=d-128,g=-1*n,o=n,_=!1),mm()):f>=900&&f<1e3?900==f?S<=M>>1?(f=910,g=-1*n,y=2):mm():910==f?(i+=g)<=d-m.gg.di.width&&(i=d-m.gg.di.width,f=920,g=n):920==f&&mm():f>=1e3&&f<1100?1e3==f?S<=Math.floor(2*M/3)?(f=1010,g=-1*n,y=2):mm():1010==f?(i+=g)<=d-m.gg.di.width&&(i=d-m.gg.di.width,f=1020,g=n):1020==f?(S<=Math.floor(M/3)?(f=1030,g=n,y=2):mm(),mm()):1030==f?(i+=g)>=d-a&&(i=d-a,g=-1*n,f=1040):1040==f&&mm():f>=1100&&f<1200?1100==f?S<=M>>1?(f=1110,o=-1*n,y=2):mm():1110==f?(s+=o)<=I+32+m.gg.di.height-320&&(s=I+32+m.gg.di.height-320,f=1120):1120==f&&mm():f>=1200&&f<1300?1200==f?S<=Math.floor(2*M/3)?(f=1210,o=-1*n,y=2):mm():1210==f?(s+=o)<=I+32+m.gg.di.height-320&&(s=I+32+m.gg.di.height-320,f=1220):1220==f?S<=Math.floor(M/3)?(f=1230,o=n,y=2):mm():1230==f?(s+=o)>=I+m.gg.di.height-p-32&&(s=I+m.gg.di.height-p-32,f=1240):1240==f&&mm():f>=1300&&f<1400?1300==f?S<=M>>1?(f=1310,o=n,y=2):mm():1310==f?(s+=o)>=I+m.gg.di.height-p-32&&(s=I+m.gg.di.height-p-32,f=1320):1320==f&&mm():f>=1400&&f<1500?1400==f?S<=Math.floor(2*M/3)?(f=1410,o=n,y=2):mm():1410==f?(s+=o)>=I+m.gg.di.height-p-32&&(s=I+m.gg.di.height-p-32,f=1420):1420==f?S<=Math.floor(M/3)?(f=1430,o=-1*n,y=2):mm():1430==f?(s+=o)<=I+32+m.gg.di.height-320&&(s=I+32+m.gg.di.height-320,f=1440):1440==f&&mm():f>=1500&&f<1600?(g>0?(i+=g)>=b+m.gg.di.width-a&&(i=b+m.gg.di.width-a,g=-1*n):g<0&&(i+=g)<=b&&(i=b,g=n),o>0?(s+=o)>=I+m.gg.di.height-p&&(s=I+m.gg.di.height-p,o=-1*n):o<0&&(s+=o)<=I&&(s=I,o=n),mm()):f>=1600&&f<1700?(g>0?(i+=g)>=b+m.gg.di.width-a&&(i=b+m.gg.di.width-a,g=-1*(n>>1)):g<0&&(i+=g)<=b&&(i=b,g=n>>1),o>0?(s+=o)>=I+m.gg.di.height-p-64&&(s=I+m.gg.di.height-p-64,o=-1*n):o<0&&(s+=o)<=I+64+m.gg.di.height-320&&(s=I+64+m.gg.di.height-320,o=n),mm()):1700==f?(g<0?_?(i+=g)<=b&&(i=b,g=n,o=n,_=!1):(s-=n)<=I&&(s=I,o=0,_=!0):_?(i+=g)>=b+m.gg.di.width-a&&(i=b+m.gg.di.width-a,g=-1*n,o=-1*n,_=!1):(s+=n)>=I+m.gg.di.height-p&&(s=I+m.gg.di.height-p,o=0,_=!0),mm()):1800==f?(g<0?_?(i+=g)<=b&&(i=b,g=n,o=-1*n,_=!1):(s+=n)>=I+m.gg.di.height-p&&(s=I+m.gg.di.height-p,o=0,_=!0):_?(i+=g)>=b+m.gg.di.width-a&&(i=b+m.gg.di.width-a,g=-1*n,o=n,_=!1):(s-=n)<=I&&(s=I,o=0,_=!0),mm()):f>=1900&&f<2e3?(1900==f?S<=M>>1&&(f=1910,y<10&&(y=10)):g<0?(i+=g)<=d-m.gg.di.width&&(i=d-m.gg.di.width,g=n):(i+=g)>=d-a&&(i=d-a,g=-1*n),mm()):f>=2e3&&f<2100?(2e3==f?S<=Math.floor(M/3)&&(f=2010,y<10&&(y=10)):g<0?(i+=g)<=d-m.gg.di.width&&(i=d-m.gg.di.width,g=n):(i+=g)>=d-a&&(i=d-a,g=-1*n),mm()):f>=2100&&f<2200?(2100==f?S<=M>>1&&(f=2110,y<10&&(y=10)):((h-=n)<0&&(h+=360),i=d-im(m.gg.di.width/2)+im(32*Math.cos(3.14*h/180)*((m.gg.di.width-256)/32/2-1),!0,m.mp)-32,s=r+32+im(96*Math.sin(3.14*h/180),!0,m.mp)-32,g=h>180?-1:1),mm()):f>=2200&&f<2300?(2200==f?S<=Math.floor(M/3)&&(f=2110,y<10&&(y=10)):((h-=n)<0&&(h+=360),i=d-im(m.gg.di.width/2)+im(32*Math.cos(3.14*h/180)*((m.gg.di.width-256)/32/2-1),!0,m.mp)-32,s=r+32+im(96*Math.sin(3.14*h/180),!0,m.mp)-32,g=h>180?-1:1),mm()):2300==f?(o<0?(i+=g,(s+=o)<=r-192&&(s=r-192,i=d-128-192,o=n,g=n)):(i+=g,(s+=o)>=r&&(s=r,i=d-128,o=-1*n,g=-1*n)),mm()):2400==f?(o<0?(i+=g,(s+=o)<=r&&(s=r,i=d-128,o=n,g=-1*n)):(i+=g,(s+=o)>=r+192&&(s=r+192,i=d-128-192,o=-1*n,g=n)),mm()):2500==f?mm():f>=2600&&f<2700?(f<2616?f++:g<=0?i+(a>>1)<m.mp.co_j.x+15&&(g=n,f=2600):i+(a>>1)>m.mp.co_j.x+15&&(g=-1*n,f=2600),mm()):2700==f?(++c>1&&(c=0),0==c&&X<2*m.gg.di.width&&(X+=2,q+=2),mm()):2800==f&&(X<2*m.gg.di.width&&(X+=2,q+=2),mm());var j,B=!1;if(3!=z&&(K?e.getMyXReal()+24>i-(X-a>>1)&&e.getMyXReal()<i+a+(X-a>>1)-8&&e.getMyYReal()+24>s-(q-p>>1)&&e.getMyYReal()<s+p+(q-p>>1)-8&&(B=!0):e.getMyXReal()+24>i&&e.getMyXReal()<i+a-8&&e.getMyYReal()+24>s&&e.getMyYReal()<s+p-8&&(B=!0)),B&&(2==z&&e.getMyVY()>10?(e.setMyPress("3"),e.setMyYReal(s),(S-=1)<=0?(S=0,f=50,w=20):(f=80,w=10)):4==z?e.setMyMiss("2"):(e.setMyHPDamage("1"),e.getMyHP()<=0&&e.setMyMiss("2"))),(j=K?e.attackFire(i-24-(X-a>>1),s-24-(q-p>>1),X-32+48,q-32+48):e.attackFire(i-24,s-24,a-32+48,p-32+48))>=1&&(S-=j)<=0&&(S=0,f=50,w=20),2==Y&&5==m.mp.j_tail_ac){var P=!1;if(K?m.mp.co_j.y<s+p-4+(q-p>>1)&&m.mp.co_j.y+32>s+4-(q-p>>1)&&(0==m.mp.co_j.muki?m.mp.co_j.x-32-12<=i+a+(X-a>>1)&&m.mp.co_j.x+8>=i-(X-a>>1)&&(P=!0):m.mp.co_j.x+32+32+12>=i-(X-a>>1)&&m.mp.co_j.x+24<=i+a+(X-a>>1)&&(P=!0)):m.mp.co_j.y<s+p-4&&m.mp.co_j.y+32>s+4&&(0==m.mp.co_j.muki?m.mp.co_j.x-32-12<=i+a&&m.mp.co_j.x+8>=i&&(P=!0):m.mp.co_j.x+32+32+12>=i&&m.mp.co_j.x+24<=i+a&&(P=!0)),P){m.mp.gs.rsAddSound(9);var k=m.tdb.getValueInt("j_tail_ap_boss");k<0&&(k=0),(S-=k)<=0&&(S=0,f=50,w=20)}}}if(b>=N){if(K){var R=m.gg.os_img.getGraphics();R.translate(i-b+(a>>1),s-I+(p>>1));var W=X/a,D=q/p;R.scale(W,D),f>=100?g<=0?u<=2||2==v?R.drawImage(C,-(a>>1),-(p>>1),e):null!=V&&R.drawImage(V,-(a>>1),-(p>>1),e):u<=2||2==v?R.drawImage(G,-(a>>1),-(p>>1),e):null!=F&&R.drawImage(F,-(a>>1),-(p>>1),e):f>=50&&f<=80&&(g<=0?R.drawImage(E,-(a>>1),-(p>>1),e):null!=J&&R.drawImage(J,-(a>>1),-(p>>1),e)),R.dispose()}else f>=100?g<=0?u<=2||2==v?t.drawImage(C,i-b,s-I,e):null!=V&&t.drawImage(V,i-b,s-I,e):u<=2||2==v?t.drawImage(G,i-b,s-I,e):null!=F&&t.drawImage(F,i-b,s-I,e):f>=50&&f<=80&&(g<=0?t.drawImage(E,i-b,s-I,e):null!=J&&t.drawImage(J,i-b,s-I,e));++u>5&&(u=0)}b>=N&&f>=50&&e.showGauge(Math.floor(200*S/M),x+" "+S+" / "+M)}(t,b,I);(function(){if(2!=m.gg.layer_mode&&1!=m.mp.mcs_haikei_visible)return;for(let e=0;e<8;e++)!U[e]&&null!=Z[e]&&T[e]>0&&100==m.mp.ml_mode&&m.mp.maps.wx>=T[e]&&(m.mp.setbacki_f=!0,m.mp.setbacki_img=Z[e],U[e]=!0)})(),function(m,t){for(let i=0;i<=3;i++)O[i]<=0||(O[i]>=100&&t>=W[i]&&O[i]--,O[i]<100&&(m.drawImage(Q[i],D[i],L[i],e),O[i]--))}(t,b)}(b,e.getViewXReal(),e.getViewYReal())),my_offscreen_img=em}},CanvasMasao.MasaoKani2.inject=function(m){m.userInit=function(){this.masaoKani2=new CanvasMasao.MasaoKani2(this)},m.userSub=function(m,e){this.masaoKani2.masaoEvent(m,e)}};