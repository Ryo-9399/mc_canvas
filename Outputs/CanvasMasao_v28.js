var CanvasMasao=function(a,b,c){function d(){this.c=0,this.x=0,this.y=0,this.vx=0,this.vy=0,this.wx=0,this.wy=0,this.c1=0,this.c2=0,this.c3=0,this.c4=0,this.c5=0,this.pt=0,this.pth=0,this.img=null,this.zs_x=0,this.zs_y=0,this.ac=0,this.level=0,this.jimen_f=!1,this.muki=0,this.direction=0,this.score=0,this.ss=0,this.gf=!1}function e(L){this.spt_kazu_x=10,this.spt_kazu_y=25,this.spt_h_kijyun=3,this.spt_kazu=250,this.li=new Array(10),this.spt_img=r(2,this.spt_kazu),this.ap=L,this.di=new q(512,320),this.backcolor=D.black,this.os_img=this.ap.createImage(this.di.width,this.di.height),this.os_g=this.os_img.getGraphics(),this.os2_img=this.ap.createImage(this.di.width+96,this.di.height+96),this.os2_g=this.os2_img.getGraphics(),this.mt=[],str=this.ap.getParameter("filename_pattern"),this.apt_img=this.ap.getImage(str)}function f(){this.key_code=0,this.up_f=!1,this.down_f=!1,this.left_f=!1,this.right_f=!1,this.tr1_f=!1,this.tr2_f=!1,this.tr3_f=!1,this.start_f=!1,this.x_f=!1,this.z_f=!1,this.space_f=!1,this.left_c=0,this.right_c=0,this.up_c=0,this.down_c=0,this.tr1_c=0,this.codekey_f=new Array(256),this.left_right_lock=!1}function i(){this.button_f=!1,this.click_x=0,this.click_y=0,this.init=function(){this.button_f=!1,this.click_x=0,this.click_y=0}}function l(Ca,Da,Ea){var Fa=u();if((Ea=Ea||{}).width=Ea.width||512,Ea.height=Ea.height||320,Ea.extensions=Ea.extensions||[],Da?this.__boxID=Da:(this.__boxID="__mcdiv"+Fa,b.write("<div id='"+this.__boxID+"'></div>")),this.__canvasID="__mccanvas"+Fa,this.__padDivID="__mcpaddiv"+Fa,this.__box=b.getElementById(this.__boxID),this.__resourceList=[],this.__canvas=b.createElement("canvas"),this.__canvas.id=this.__canvasID,this.__canvas.width=Ea.width,this.__canvas.height=Ea.height,this.__canvas.textContent="※お使いのブラウザはHTML5に対応していないため表示できません。",this.__box.appendChild(this.__canvas),this.__padDiv=b.createElement("div"),this.__padDiv.id=this.__padDivID,this.__box.appendChild(this.__padDiv),this.__canvas&&this.__canvas.getContext){if(this.__pad_before=[],this.__pad_after=[],this.__pad_touches=[],a.TouchEvent){var Ga,Ha=b.createElement("input");Ha.type="button",Ha.value="バーチャル操作パッド 表示 / 非表示",(Ga=Ha.style).width="24em",Ga.height="2.5em",Ha.onclick=function(){"inline"==Ia.style.display?Ia.style.display="none":l.padAccessor.show(Ia)},this.__padDiv.appendChild(Ha),this.__padDiv.appendChild(b.createElement("br"));var Ia=this.__pad=b.createElement("canvas");Ia.width=500,Ia.height=200;var Ja=function(Qa){this.__pad_event(Qa)}.bind(this);Ia.addEventListener("touchstart",Ja,!1),Ia.addEventListener("touchmove",Ja,!1),Ia.addEventListener("touchend",Ja,!1),Ia.addEventListener("touchcancel",Ja,!1),Ia.style.display="none",this.__padDiv.appendChild(Ia),(Ga=Ia.style).position="absolute";var Ka=setInterval(function(){var Ra=innerWidth,Sa=innerHeight,Ta=Ra<Sa?Ra:Sa;Ia.style.width=Ra+"px",Ia.style.height=Ta*l.pad.style.rate+"px",Ia.style.left=scrollX+"px",l.pad.avoidAD?Ia.style.top=scrollY+Sa-Ta*l.pad.style.rate-.16*Ta+"px":Ia.style.top=scrollY+Sa-Ta*l.pad.style.rate+"px",this.__pad_update()}.bind(this),500);this.__resourceList.push({type:"setInterval",value:Ka}),l.padAccessor.append(Ia),this.__pad_off=b.createElement("canvas"),this.__pad_off.width=500,this.__pad_off.height=200;var La=this.__pad_off.getContext("2d");La.font="24px monospace",La.textAlign="center",La.textBaseline="middle",La.lineWidth=2,La.lineCap="round",La.lineJoin="round";for(var Ma=0;Ma<8;Ma++)this.__pad_before[Ma]=!1,this.__pad_after[Ma]=!1;this.__pad_update()}this.__mc=new I(Ca,this.__canvas,this,Ea||{});for(Ma=0;Ma<Ea.extensions.length;Ma++)Ea.extensions[Ma].inject(this.__mc,Ea);this.__mc.start();var Na=this.__st=this.__mc.getParameter("game_speed");Na?(Na=parseInt(Na),isNaN(Na)?Na=70:Na<10?Na=10:300<Na&&(Na=300)):Na=70,this.__pt=0;var Pa=new(Ea["custom-loop"]||v)(this,!!Ea["bc-loop-setinterval"]);Pa.start(Na,this.__loop.bind(this)),this.__resourceList.push({type:"Loop",value:Pa})}}var ob,rb;function q(rc,sc){this.width=rc,this.height=sc}function r(){if(0==arguments.length)return null;for(var tc=new Array(arguments.length),uc=0;uc<arguments.length;uc++)tc[uc]=arguments[uc];return function wc(xc){var yc=new Array(xc[0]);if(1==xc.length)return yc;for(var zc=xc.slice(1),Ac=0;Ac<xc[0];Ac++)yc[Ac]=wc(zc);return yc}(tc)}function s(Bc){return 0<=Bc?c.floor(Bc):-c.floor(-Bc)}function u(){return c.random().toString(36).slice(2)}function v(Ec,Fc){this.game=Ec,this.forceSetInterval=Fc,this.running=!1,this.interval=null,this.callback=null,this.mode=0,this.prevTime=null,this.timerid=null,this._loop=this._loop.bind(this)}d.prototype.init=function(){this.c=0,this.x=0,this.y=0,this.vx=0,this.vy=0,this.wx=0,this.wy=0,this.c1=0,this.c2=0,this.c3=0,this.c4=0,this.c5=0,this.pt=0,this.pth=0,this.img=null,this.zs_x=0,this.zs_y=0,this.ac=0,this.level=0,this.jimen_f=!1,this.muki=0,this.direction=0,this.score=0,this.ss=0,this.gf=!1},d.prototype.setPattern=function(K){},e.prototype.cut=function(){var N,Q,R,S;for(Q=0;Q<=this.spt_kazu_y-1;Q++)for(R=0;R<=this.spt_kazu_x-1;R++)N=10*Q+R,this.spt_img[0][N]=new z(32,32),(S=this.spt_img[0][N].getGraphics()).drawImage(this.apt_img,32*R,32*Q,32,32,0,0,32,32,null),Q>=this.spt_h_kijyun?(this.spt_img[1][N]=new z(32,32),(S=this.spt_img[1][N].getGraphics()).scale(-1,1),S.drawImage(this.apt_img,32*R,32*Q,32,32,-32,0,32,32,null)):this.spt_img[1][N]=this.spt_img[0][N];this.hi=this.spt_img[0]},e.prototype.addListImage=function(T,U){this.li[T]=this.ap.getImage(U),this.mt.push(this.li[T])},e.prototype.loadImage=function(){},e.prototype.copyOS=function(V){V.drawImage(this.os_img,0,0,this.ap)},e.prototype.fill=function(){this.os_g.setColor(this.backcolor),this.os_g.fillRect(0,0,this.di.width,this.di.height)},e.prototype.fill2=function(){this.os2_g.setColor(this.backcolor),this.os2_g.fillRect(0,0,this.di.width+96,this.di.height+96)},e.prototype.setBackcolor=function(W){this.backcolor=W},e.prototype.drawPT=function(X,Y,Z,$){this.os_g.drawImage(this.spt_img[$][Z],X,Y,this.ap)},e.prototype.drawPT2=function(_,aa,ba){this.os2_g.drawImage(this.hi[ba],_,aa,this.ap)},e.prototype.drawBG2=function(ca,da,ea){this.os2_g.setColor(this.backcolor),this.os2_g.fillRect(ca,da,32,32),this.os2_g.drawImage(this.hi[ea],ca,da,this.ap)},e.prototype.drawBG3=function(fa,ga,ha,ia){this.os2_g.setColor(ia),this.os2_g.fillRect(fa,ga,32,32),this.os2_g.drawImage(this.hi[ha],fa,ga,this.ap)},e.prototype.drawListImage=function(ja,ka,la){this.os_g.drawImage(this.li[la],ja,ka,this.ap)},f.prototype.init=function(){this.key_code=0,this.up_f=!1,this.down_f=!1,this.left_f=!1,this.right_f=!1,this.tr1_f=!1,this.tr2_f=!1,this.tr3_f=!1,this.start_f=!1,this.x_f=!1,this.z_f=!1,this.space_f=!1,this.left_c=0,this.right_c=0,this.up_c=0,this.down_c=0,this.tr1_c=0,this.left_right_lock=!1;for(var ma=0;ma<=255;ma++)this.codekey_f[ma]=!1},f.prototype.keyPressed=function(na){switch(this.key_code=na.keyCode,this.key_char=na.keyCode,0<=this.key_code&&this.key_code<=255&&(this.codekey_f[this.key_code]=!0),this.key_code){case 38:na.preventDefault(),this.up_f=!0;break;case 40:na.preventDefault(),this.down_f=!0,this.tr2_f=!0;break;case 37:na.preventDefault(),this.left_right_lock||(this.left_f=!0);break;case 39:na.preventDefault(),this.left_right_lock||(this.right_f=!0);break;case 104:na.preventDefault(),this.up_f=!0;break;case 98:na.preventDefault(),this.down_f=!0,this.tr2_f=!0;break;case 100:na.preventDefault(),this.left_right_lock||(this.left_f=!0);break;case 102:na.preventDefault(),this.left_right_lock||(this.right_f=!0);break;case 90:na.preventDefault(),this.tr1_f=!0,this.z_f=!0;break;case 88:na.preventDefault(),this.tr2_f=!0,this.x_f=!0;break;case 67:na.preventDefault(),this.tr3_f=!0;break;case 32:na.preventDefault(),this.tr1_f=!0,this.space_f=!0,this.tr1_c=0;break;case 83:na.preventDefault(),this.start_f=!0}},f.prototype.keyReleased=function(oa){var pa=oa.keyCode;switch(0<=pa&&pa<=255&&(this.codekey_f[pa]=!1),pa){case 38:this.up_f=!1;break;case 40:this.down_f=!1,this.tr2_f=!1;break;case 37:this.left_right_lock||(this.left_f=!1,this.left_c=0);break;case 39:this.left_right_lock||(this.right_f=!1,this.right_c=0);break;case 104:this.up_f=!1;break;case 98:this.down_f=!1,this.tr2_f=!1;break;case 100:this.left_right_lock||(this.left_f=!1,this.left_c=0);break;case 102:this.left_right_lock||(this.right_f=!1,this.right_c=0);break;case 90:this.tr1_f=!1,this.z_f=!1,this.tr1_c=0;break;case 88:this.tr2_f=!1,this.x_f=!1;break;case 67:this.tr3_f=!1;break;case 32:this.tr1_f=!1,this.space_f=!1,this.tr1_c=0;break;case 83:this.start_f=!1}},f.prototype.getKeyCode=function(){return this.key_code},i.prototype.mousePressed=function(ua){var va=ua.target,wa=va.getBoundingClientRect();this.button_f=!0,this.click_x=(ua.clientX-wa.left)/wa.width*va.width,this.click_y=(ua.clientY-wa.top)/wa.height*va.height},i.prototype.mouseReleased=function(xa){this.button_f=!1},l.replaceAll=function(Ua){function Va(){for(var Wa=b.getElementsByTagName("applet"),Xa=[],Ya=0;Ya<Wa.length;Ya++)Xa.push(Wa[Ya]);for(Ya=0;Ya<Xa.length;Ya++){var Za=Xa[Ya];(Za.getAttribute("code")||"").match(/masaoconstruction/i)&&l.replaceByDom(Za,Ua)}var _a=b.getElementsByTagName("object"),ab=[];for(Ya=0;Ya<_a.length;Ya++)ab.push(_a[Ya]);for(Ya=0;Ya<ab;Ya++){var bb=ab[Ya],cb=bb.getElementsByName("code")[0];cb.tagName.match(/param/i)&&cb.value.match(/masaoconstruction/i)&&l.replaceByDom(bb,Ua)}}"complete"==b.readyState?Va():a.addEventListener("load",Va)},l.replace=function(db,eb){function fb(){l.replaceByDom(b.getElementById(db),eb)}"complete"==b.readyState?fb():a.addEventListener("load",fb)},l.replaceByDom=function(gb,hb){for(var ib=gb.getElementsByTagName("param"),jb=ib.length,kb={},lb=0;lb<jb;lb++)kb[ib[lb].name]=ib[lb].value;var mb=b.createElement("div"),nb=gb.id||u();mb.id=nb,gb.parentNode.replaceChild(mb,gb),new l(kb,nb,hb)},l.focus=(b.addEventListener("mousedown",function(){ob=null}),{focus:function(pb){ob=pb},hasFocus:function(qb){return ob===qb}}),l.padAccessor=(rb=[],{append:function(sb){rb.push(sb)},show:function(tb){for(var ub=0;ub<rb.length;ub++)tb!==rb[ub]?rb[ub].style.display="none":tb.style.display="inline"}}),l.prototype.kill=function(){this.__mc.stop();for(var vb=this.__resourceList,wb=0,xb=vb.length;wb<xb;wb++)"setInterval"===vb[wb].type?clearInterval(vb[wb].value):"eventListener"===vb[wb].type?vb[wb].target.removeEventListener(vb[wb].name,vb[wb].value):"Loop"===vb[wb].type&&vb[wb].value.stop();for(this.__resourceList=[];this.__box.hasChildNodes();)this.__box.removeChild(this.__box.firstChild)},l.prototype.__loop=function(){var yb=(new Date).getTime();if(!(yb-this.__pt<this.__st)){if(this.__pt=yb-10,this.__testCanvas){var Ab,zb=this.__testCanvas.getContext("2d");if(zb.fillStyle="rgb(128,0,128)",zb.fillRect(0,0,700,700),zb.strokeStyle="#f00",this.__mc.gg)for(zb.save(),zb.scale(.5,.5),zb.drawImage(this.__mc.gg.os_img._dat,0,0),zb.drawImage(this.__mc.gg.os2_img._dat,576,0),zb.restore(),zb.beginPath(),Ab=0;Ab<700;Ab+=32)zb.moveTo(0,Ab),zb.lineTo(700,Ab),zb.moveTo(Ab,0),zb.lineTo(Ab,700);zb.stroke()}if(this.__testDiv&&this.__mc.mp){var Db,Eb,Bb=this.__mc.mp,Cb="<div style='text-align:left'>";for(Db in Bb)"[object Array]"!=(Eb=Object.prototype.toString.call(Bb[Db]))&&"[object Function]"!=Eb&&(Db in this.__teo?0<this.__teo[Db].t?(Cb+="<span style='background-color:rgba(255,255,255,"+this.__teo[Db].t/6+")'>"+Db+": "+Bb[Db]+"</span> ",this.__teo[Db].t--):Cb+=Db+": "+Bb[Db]+" ":this.__teo[Db]={val:Bb[Db],t:0},this.__teo[Db].val!=Bb[Db]&&(this.__teo[Db].val=Bb[Db],this.__teo[Db].t=6));this.__testDiv.innerHTML=Cb+"</div>"}this.__mc.run()}},l.prototype.__pad_update=function(){var Jb,Kb,Lb,Mb,Nb,Ob,Fb=this.__pad.getBoundingClientRect(),Gb=Fb.left,Hb=Fb.top,Ib=this.__pad_off.getContext("2d"),Pb=l.pad.coords.length;for(Ib.clearRect(0,0,500,200),Ib.fillStyle=l.pad.style.back,Ib.fillRect(0,0,500,200),Ib.fillStyle=l.pad.style.button,Jb=0;Jb<Pb;Jb++){for(Ib.beginPath(),Lb=(Mb=l.pad.coords[Jb]).length>>1,Ib.moveTo(Mb[0],Mb[1]),Kb=0;Kb<Lb;Kb++)Ib.lineTo(Mb[Kb<<1],Mb[1+(Kb<<1)]);Ib.closePath(),Ib.fill()}for(Jb=0;Jb<Pb;Jb++)this.__pad_after[Jb]=!1;for(Ib.fillStyle=l.pad.style.active,Jb=0;Jb<Pb;Jb++){for(Ib.beginPath(),Lb=(Mb=l.pad.coords[Jb]).length>>1,Ib.moveTo(Mb[0],Mb[1]),Kb=0;Kb<Lb;Kb++)Ib.lineTo(Mb[Kb<<1],Mb[1+(Kb<<1)]);for(Kb in Ib.closePath(),this.__pad_touches)Nb=this.__pad_touches[Kb].clientX-Gb,Ob=this.__pad_touches[Kb].clientY-Hb,this.__pad_after[Jb]|=Ib.isPointInPath(Nb/Fb.width*500,Ob/Fb.height*200);this.__pad_after[Jb]&&Ib.fill()}for(Ib.strokeStyle=l.pad.style.border,Ib.fillStyle=l.pad.style.text,Jb=0;Jb<Pb;Jb++){for(Ib.beginPath(),Lb=(Mb=l.pad.coords[Jb]).length>>1,Ib.moveTo(Mb[0],Mb[1]),Kb=1;Kb<Lb;Kb++)Ib.lineTo(Mb[Kb<<1],Mb[1+(Kb<<1)]);Ib.closePath(),Ib.stroke(),Lb=Qb(Mb),Ib.fillText(l.pad.chars[Jb],Lb[0],Lb[1])}for(Ib.stroke(),(Ib=this.__pad.getContext("2d")).clearRect(0,0,500,200),Ib.drawImage(this.__pad_off,0,0),Jb=0;Jb<Pb;Jb++)this.__pad_before[Jb]!=this.__pad_after[Jb]&&(this.__pad_before[Jb]=this.__pad_after[Jb],this.__pad_after[Jb]?this.__pad_pressed(Jb):this.__pad_released(Jb));function Qb(Rb){var Sb,Ub,Vb,Wb,Xb,Yb,Zb,$b,_b,ac,dc,Tb=Rb.length>>1;if($b=Ub=Rb[0],_b=Vb=Rb[1],1==Tb)return[$b,_b];if($b=($b+(Wb=Rb[2]))/2,_b=(_b+(Xb=Rb[3]))/2,2==Tb)return[$b,$b];for(Yb=Rb[4],Zb=Rb[5],ac=c.abs((Wb-Ub)*(Zb-Vb)-(Xb-Vb)*(Yb-Ub))/2,$b=(Ub+Wb+Yb)/3,_b=(Vb+Xb+Zb)/3,Sb=3;Sb<Tb;Sb++)Wb=Yb,Xb=Zb,Yb=Rb[Sb<<1],Zb=Rb[1+(Sb<<1)],$b=(ac*$b+(dc=c.abs((Wb-Ub)*(Zb-Vb)-(Xb-Vb)*(Yb-Ub))/2)*((Ub+Wb+Yb)/3))/(ac+dc),_b=(ac*_b+dc*((Vb+Xb+Zb)/3))/(ac+dc),ac=dc;return[$b,_b]}},l.prototype.__pad_pressed=function(ec){if(this.__mc.gk){var fc=l.pad.codes[ec];this.__mc.gk.keyPressed({keyCode:fc,preventDefault:function(){}})}},l.prototype.__pad_released=function(gc){if(this.__mc.gk){var hc=l.pad.codes[gc];this.__mc.gk.keyReleased({keyCode:hc,preventDefault:function(){}})}},l.prototype.__pad_event=function(ic){ic.preventDefault(),this.__pad_touches=[];for(var jc=0;jc<ic.touches.length;jc++)this.__pad_touches.push(ic.touches[jc]);this.__pad_update()},l.pad={coords:[[410,30,490,30,490,170,410,170],[320,30,400,30,400,170,320,170],[250,30,290,30,290,70,250,70],[200,30,240,30,240,70,200,70],[5,60,87,60,87,140,5,140],[175,60,93,60,93,140,175,140],[30,5,30,80,150,80,150,5],[30,195,30,120,150,120,150,195]],chars:["X","Z","T","P","←","→","↑","↓"],codes:[88,90,84,80,37,39,38,40],style:{rate:.4,back:"rgba(0, 0, 0, 0)",button:"rgba(128, 128, 128, 0.5)",active:"rgba(0, 0, 0, 0.5)",text:"black",border:"black"},avoidAD:!1},v.prototype.start=function(Gc,Hc){this.running=!0,this.interval=Gc,this.callback=Hc;var Ic=w();this.targetTime=Ic+Gc,this.prevTime=Ic,a.requestAnimationFrame&&!this.forceSetInterval?this.mode=1:this.mode=0,0===this.mode&&(this.timerid=setInterval(this._loop,Gc)),this._next()},v.prototype.stop=function(){this.running&&(this.running=!1,1===this.mode?cancelAnimationFrame(this.timerid):clearInterval(this.timerid))},v.prototype._next=function(){1===this.mode&&(this.timerid=requestAnimationFrame(this._loop))},v.prototype._loop=function(){if(this.running){var Mc=w();500<=Mc-this.prevTime&&(this.targetTime=Mc-1);var Nc=c.ceil((Mc-this.targetTime)/this.interval);for(this.targetTime+=this.interval*Nc;0<Nc&&(this.callback(),Nc--,!(2<w()-Mc)););if(0<Nc){var Oc=this;x(function Pc(Qc){for(;0<Nc&&0<Qc.timeRemaining();)Oc.callback(),Nc--;0<Nc&&!Qc.didTimeout&&x(Pc,{timeout:1e3})},{timeout:1e3})}this._next(),this.prevTime=Mc}};var w=a.performance&&performance.now?performance.now.bind(performance):Date.now?Date.now.bind(Date):function(){return 1e3*(new Date).getTime()},x="function"==typeof requestIdleCallback?requestIdleCallback:"function"==typeof setImmediate?function(Rc){setImmediate(function(){var Sc=w();Rc({didTimeout:!1,timeRemaining:function(){return 50+Sc-w()}})})}:function(Uc){setTimeout(function(){var Vc=w();Uc({didTimeout:!1,timeRemaining:function(){return 50+Vc-w()}})},1)};function y(Xc,Yc,Zc,$c){this.gg=Xc,this.gk=Yc,this.km=Zc,this.mp=$c,this.co_j=new d,this.map_string=new Array(9),this.map_bg=r(15,9),this.stage_c=new Array(10),this.stage_x=new Array(10),this.stage_y=new Array(10),this.stage_cf=new Array(10),this.ie_c=new Array(16),this.ie_x=new Array(16),this.ie_y=new Array(16),this.zure_x=16,this.zure_y=24,this.mp_mode=0,this.cc_p1_x=new Array(17),this.cc_p1_y=new Array(17),this.cc_p2_x=new Array(17),this.cc_p2_y=new Array(17),this.cc_p1_x[13]=-200,this.cc_p1_y[13]=160,this.cc_p1_x[14]=-200,this.cc_p1_y[14]=520,this.cc_p1_x[15]=712,this.cc_p1_y[15]=520,this.cc_p1_x[16]=712,this.cc_p1_y[16]=160,this.cc_p2_x[13]=712,this.cc_p2_y[13]=160,this.cc_p2_x[14]=712,this.cc_p2_y[14]=-200,this.cc_p2_x[15]=-200,this.cc_p2_y[15]=-200,this.cc_p2_x[16]=-200,this.cc_p2_y[16]=160}function z(Fd,Gd){if(2==arguments.length){this._dat=b.createElement("canvas"),this._dat.width=Fd,this._dat.height=Gd,this._width=Fd,this._height=Gd;var Hd=this._dat.getContext("2d");Hd.lineWidth=1.6,Hd.lineCap="round",Hd.save()}else this._dat=null,this._width=-1,this._height=-1;this._loaded=!1,this._error=!1,this._g=null}function B(Ld){Ld.onerror()}function C(Md){this._ctx=Md._dat.getContext("2d"),this._ctx&&(this._ctx.restore(),this._ctx.save()),this._color=D.black,this._font=new E(E.DIALOG,E.PLAIN,10)}function D(jf,kf,lf,mf){this.r=255<jf?255:jf<0?0:jf,this.g=255<kf?255:kf<0?0:kf,this.b=255<lf?255:lf<0?0:lf,4==arguments.length?this.a=255<mf?255:mf<0?0:mf:this.a=255}function E(nf,of,pf){this._name=nf,this._style=of,this._size=pf}function F(qf,rf,sf){this.gg=qf,this.gk=rf,this.name_crys=sf,this.hi=this.gg.spt_img[0],this.hih=this.gg.spt_img,this.hg=this.gg.os_g,this.ap=this.gg.ap,this.c=new Array(16),this.x=new Array(16),this.y=new Array(16),this.width=new Array(16),this.selectedIndex=new Array(16),this.item_kazu=new Array(16),this.message=new Array(16),this.item=r(16,16),this.item_int=r(16,16),this.item_color=new Array(16),this.list_IDlist=new Array(16),this.aw=-1,this.mode=0,this.kettei_c=0,this.cancel_c=0,this.initAll()}function G(kh,lh,mh){this.ran_seed=void 0,this.ml_mode=0,this.ml_mode_c=0,this.score=0,this.highscore=0,this.score_1up_1=0,this.score_1up_2=0,this.score_1up_1_para=0,this.score_1up_2_para=0,this.score_v=!0,this.stage=1,this.stage_cc=0,this.stage_max=1,this.stage_kaishi=1,this.g_c1=0,this.g_c2=0,this.g_c3=0,this.g_ac=0,this.g_ac2=0,this.tr1_c=0,this.tr2_c=0,this.left_dcc=0,this.right_dcc=0,this.co_t=new Array(130),this.co_m=new Array(24),this.co_a=new Array(32),this.co_h=new Array(64),this.co_jm=new Array(2),this.vo_x=r(32,4),this.vo_y=r(32,4),this.j_zan_x=new Array(6),this.j_zan_y=new Array(6),this.j_zan_pt=new Array(6),this.j_zan_pth=new Array(6),this.vo_pa_x=new Array(6),this.vo_pa_y=new Array(6),this.stage_1up_f=new Array(3),this.shop_item_name=new Array(16),this.shop_item_teika=new Array(16),this.door_score=10,this.gg=kh,this.gm=lh,this.gk=mh,this.maps=new H(200,100,this.gg,this),this.km=new F(this.gg,this.gk,"まさお"),this.co_j=new d;for(var nh=0;nh<=129;nh++)this.co_t[nh]=new d;for(var oh=0;oh<=23;oh++)this.co_m[oh]=new d;for(var ph=0;ph<=31;ph++)this.co_a[ph]=new d;for(var qh=0;qh<=63;qh++)this.co_h[qh]=new d;for(var rh=0;rh<=1;rh++)this.co_jm[rh]=new d;this.co_b=new d,2==this.paraInt("stage_select")?(this.stage_select=2,this.stage_max=4):this.stage_select=1,this.ig=new y(this.gg,this.gk,this.km,this),this.ranInit(),this.hi=this.gg.spt_img[0],this.hih=this.gg.spt_img,this.hg=this.gg.os_g,this.ap=this.gg.ap,this.init1()}function H(Jp,Kp,Lp,Mp){this.width=Jp,this.height=Kp,this.gg=Lp,this.mp=Mp,this.map_bg=r(this.width,this.height),this.map_string=new Array(this.height),this.bg_space="",this.hi=this.gg.spt_img[0],this.g2=this.gg.os2_g,this.ap=this.gg.ap;for(var Np=0;Np<=this.width;Np++)this.bg_space+=".";this.init()}function I(lq,mq,nq,oq){this.th_interval=70,this.th_jm=10,this.params=lq,this.__canvas=mq,this.__appimg=new z(512,320),this.__game=nq,this.options=oq}y.prototype.worldInit=function(){for(var _c=0;_c<=9;_c++)this.stage_c[_c]=0,this.stage_cf[_c]=!1;this.stage_kcID=0,this.door_koID=0,this.dokan_khID=0;for(_c=this.door_score_open=0;_c<=15;_c++)this.ie_c[_c]=0;this.co_j.x=0,this.co_j.y=0,this.co_j.vx=0,this.co_j.vy=0,this.co_j.muki=1,this.co_j.ac=0,this.mp.tr1_c=2,this.shop_kattaitem=-1,this.mp_mode=0,this.km.initAll(),this.km.mode=100;for(_c=0;_c<=8;_c++){var ad=this.gg.ap.getParameter("chizu-"+_c);ad+="...............",this.map_string[_c]=ad}for(_c=0;_c<=8;_c++)for(var bd=0;bd<=14;bd++){var cd=this.map_string[_c].charAt(bd);"A"==cd?(this.co_j.x=32*bd,this.co_j.y=32*_c,this.map_bg[bd][_c]=220):"B"==cd?(this.map_bg[bd][_c]=216,this.ie_c[3]=100,this.ie_x[3]=32*bd,this.ie_y[3]=32*_c):"C"==cd?(this.map_bg[bd][_c]=217,this.ie_c[4]=100,this.ie_x[4]=32*bd,this.ie_y[4]=32*_c):"D"==cd?(this.map_bg[bd][_c]=218,this.ie_c[10]=100,this.ie_x[10]=32*bd,this.ie_y[10]=32*_c):"E"==cd?(this.map_bg[bd][_c]=219,this.ie_c[11]=100,this.ie_x[11]=32*bd,this.ie_y[11]=32*_c):"a"==cd?0==this.stage_c[0]?(this.map_bg[bd][_c]=223,this.stage_c[0]=100,this.stage_x[0]=32*bd,this.stage_y[0]=32*_c):this.map_bg[bd][_c]=220:"b"==cd?0==this.stage_c[1]?(this.map_bg[bd][_c]=224,this.stage_c[1]=100,this.stage_x[1]=32*bd,this.stage_y[1]=32*_c):this.map_bg[bd][_c]=220:"c"==cd?0==this.stage_c[2]?(this.map_bg[bd][_c]=225,this.stage_c[2]=100,this.stage_x[2]=32*bd,this.stage_y[2]=32*_c):this.map_bg[bd][_c]=220:"d"==cd?0==this.stage_c[3]?(this.map_bg[bd][_c]=226,this.stage_c[3]=100,this.stage_x[3]=32*bd,this.stage_y[3]=32*_c):this.map_bg[bd][_c]=220:"e"==cd?(this.map_bg[bd][_c]=213,this.ie_c[0]=100,this.ie_x[0]=32*bd,this.ie_y[0]=32*_c):"f"==cd?(this.map_bg[bd][_c]=214,this.ie_c[1]=100,this.ie_x[1]=32*bd,this.ie_y[1]=32*_c):"g"==cd?(this.map_bg[bd][_c]=215,this.ie_c[2]=100,this.ie_x[2]=32*bd,this.ie_y[2]=32*_c):"h"==cd?(this.map_bg[bd][_c]=212,this.ie_c[9]=100,this.ie_x[9]=32*bd,this.ie_y[9]=32*_c):"i"==cd?(this.map_bg[bd][_c]=206,this.ie_c[5]=100,this.ie_x[5]=32*bd,this.ie_y[5]=32*_c):"j"==cd?(this.map_bg[bd][_c]=207,this.ie_c[6]=100,this.ie_x[6]=32*bd,this.ie_y[6]=32*_c):"k"==cd?(this.map_bg[bd][_c]=208,this.ie_c[7]=100,this.ie_x[7]=32*bd,this.ie_y[7]=32*_c):"l"==cd?(this.map_bg[bd][_c]=209,this.ie_c[8]=100,this.ie_x[8]=32*bd,this.ie_y[8]=32*_c):this.map_bg[bd][_c]="1"==cd?220:"2"==cd?221:"3"==cd?222:0}256<this.co_j.x+16&&(this.co_j.muki=0),this.drawOs2()},y.prototype.worldInit2=function(){this.co_j.vx=0,this.co_j.vy=0,this.co_j.muki=1,this.co_j.ac=0,this.mp.tr1_c=2,this.mp_mode=200,this.cc_hankei=12,this.stage_kcID=0,this.door_koID=0,this.shop_kattaitem=-1,this.door_score_open=0,100==this.ie_c[9]&&this.mp.score>=this.mp.door_score&&(this.ie_c[9]=50,this.door_score_open=1),this.km.initAll(),this.km.mode=100,this.drawOs2()},y.prototype.worldInit3=function(){this.stage_kcID=this.checkStage(),this.stage_cf[this.stage_kcID-1]=!0,this.stage_c[this.stage_kcID-1]=50;for(var dd=0,ed=0;ed<=2;ed++)this.stage_cf[ed]&&dd++;this.door_koID=0,1<=dd&&100==this.ie_c[dd-1]&&(this.ie_c[dd-1]=50,this.door_koID=dd),this.door_score_open=0,100==this.ie_c[9]&&this.mp.score>=this.mp.door_score&&(this.ie_c[9]=50,this.door_score_open=1),this.co_j.vx=0,this.co_j.vy=0,this.co_j.muki=1,this.co_j.ac=0,this.mp.tr1_c=2,this.co_j.pt=0,this.shop_kattaitem=-1,this.mp_mode=200,this.cc_hankei=12,this.km.initAll(),this.km.mode=100,this.drawOs2()},y.prototype.drawOs2=function(){this.gg.setBackcolor(new D(0,127,0)),this.gg.fill2(),this.gg.os2_g.drawImage(this.gg.li[3],0,0,this.gg.ap);for(var fd=0;fd<=8;fd++)for(var gd=0;gd<=14;gd++){221==(hd=this.map_bg[gd][fd])?(this.gg.drawPT2(32*gd+16,32*fd+24-16,221),this.gg.drawPT2(32*gd+16,32*fd+24+16,221)):222==hd&&(this.gg.drawPT2(32*gd+16-16,32*fd+24,222),this.gg.drawPT2(32*gd+16+16,32*fd+24,222))}for(fd=0;fd<=8;fd++)for(gd=0;gd<=14;gd++){var hd;61!=(hd=this.map_bg[gd][fd])&&62!=hd&&256!=hd&&(216<=hd&&hd<=219?this.gg.drawPT2(32*gd+16,32*fd+24-7,hd):206<=hd&&hd<=209?this.gg.drawPT2(32*gd+16,32*fd+24-7,hd):212<=hd&&hd<=215?(this.gg.drawPT2(32*gd+16-16,32*fd+24,222),this.gg.drawPT2(32*gd+16+16,32*fd+24,222),this.gg.drawPT2(32*gd+16,32*fd+24-7,hd)):this.gg.drawPT2(32*gd+16,32*fd+24,hd))}},y.prototype.drawMap=function(){this.gg.os_g.drawImage(this.gg.os2_img,0,0,this.gg.ap)},y.prototype.getBGZ=function(id,jd){if(id<0||479<id||jd<0||287<jd)return 0;var kd=id>>5,ld=jd>>5;return this.map_bg[kd][ld]},y.prototype.checkStage=function(){for(var md=-1,nd=0;nd<=9;nd++)if(100==this.stage_c[nd]&&this.co_j.x==this.stage_x[nd]&&this.co_j.y==this.stage_y[nd]){md=nd+1;break}return md},y.prototype.mainProgram=function(){if(this.gk.tr1_f?this.mp.tr1_c<2&&(this.mp.tr1_c+=1):this.mp.tr1_c=0,0==this.mp_mode){if(100==this.km.mode)this.jMove();else if(200==this.km.mode)1==this.km.cancel_c?(this.km.off(3),this.km.off(4),this.km.mode=100):1==this.km.kettei_c&&(this.km.init1(3),this.km.setMessage(3,this.mp.mes1_name),this.mp.addSerifu(3,2,3),this.km.activeSerifu(3,120,150,272,D.cyan),this.km.mode=210);else if(210==this.km.mode)1!=this.km.cancel_c&&1!=this.km.kettei_c||(this.km.off(3),this.km.off(4),this.km.mode=100);else if(300==this.km.mode)1==this.km.cancel_c?(this.km.off(3),this.km.off(4),this.km.mode=100):1==this.km.kettei_c&&(this.km.init1(3),this.km.setMessage(3,this.mp.mes2_name),this.mp.addSerifu(3,4,3),this.km.activeSerifu(3,120,150,272,D.cyan),this.km.mode=210);else if(400==this.km.mode){if(1==this.km.cancel_c)this.km.off(3),this.km.off(4),this.km.mode=100;else if(1==this.km.kettei_c){this.km.off(3),this.km.list_kazu=0,this.km.init1(6),this.km.setMessage(6,this.gg.ap.getParameter("shop_serifu1"));for(var od=0;od<=8;od++)0<this.mp.shop_item_teika[od]&&(this.km.addItem2(6,this.mp.shop_item_name[od],this.mp.shop_item_teika[od]),this.km.list_IDlist[this.km.list_kazu]=od,this.km.list_kazu+=1);1<=this.km.list_kazu?(this.km.activeKaimono(6,296,76,184),this.km.mode=410):(this.km.init1(6),this.km.init1(3),this.km.setMessage(3,"Error"),this.km.addItem(3,"Please set any item on shop menu."),this.km.activeSerifu(3,120,150,216,D.red),this.km.mode=210)}}else 410==this.km.mode?1==this.km.cancel_c?(this.km.off(4),this.km.off(6),this.km.mode=100):1==this.km.kettei_c&&(this.km.list_s=this.km.list_IDlist[this.km.selectedIndex[6]],this.km.init1(7),this.km.setMessage(7,this.mp.shop_item_name[this.km.list_s]+this.gg.ap.getParameter("shop_serifu2")),this.km.addItem(7,this.gg.ap.getParameter("shop_serifu3")),this.km.addItem(7,this.gg.ap.getParameter("shop_serifu4")),this.km.activeSerifutuki(7,48,150,236,this.mp.shop_name),this.km.mode=420):420==this.km.mode?1==this.km.cancel_c?(this.km.offActivewindow(7,6),this.km.mode=410):1==this.km.kettei_c&&(0==this.km.selectedIndex[7]?(this.mp.score>=this.mp.shop_item_teika[this.km.list_s]?(this.km.init1(3),this.km.addItem(3,this.mp.shop_item_name[this.km.list_s]+this.gg.ap.getParameter("shop_serifu5")),this.km.activeIchigyou(3,48,240,236),this.mp.score-=this.mp.shop_item_teika[this.km.list_s],this.shop_kattaitem=this.km.list_s,7==this.shop_kattaitem&&(this.mp.j_left+=1)):(this.km.init1(3),this.km.addItem(3,this.gg.ap.getParameter("shop_serifu6")),this.km.activeIchigyou(3,48,240,236)),this.km.mode=430):(this.km.off(4),this.km.off(6),this.km.off(7),this.km.mode=100)):430==this.km.mode?1!=this.km.cancel_c&&1!=this.km.kettei_c||(this.km.off(3),this.km.off(4),this.km.off(6),this.km.off(7),this.km.mode=100):500==this.km.mode?1==this.km.cancel_c?(this.km.off(4),this.km.off(3),this.km.mode=100):1==this.km.kettei_c&&(this.km.off(3),this.km.init1(2),this.km.setMessage(2,this.gg.ap.getParameter("setumei_menu1")),this.km.addItem(2,this.gg.ap.getParameter("setumei_menu2")),this.km.addItem(2,this.gg.ap.getParameter("setumei_menu3")),this.km.addItem(2,this.gg.ap.getParameter("setumei_menu4")),this.km.activeSerifutuki(2,120,150,224,this.mp.setumei_name),this.km.mode=510):510==this.km.mode?1==this.km.cancel_c?(this.km.off(2),this.km.off(4),this.km.mode=100):1==this.km.kettei_c&&(this.km.init1(3),this.km.setMessage(3,this.mp.setumei_name),1==this.km.selectedIndex[2]?this.mp.addSerifu(3,11,3):2==this.km.selectedIndex[2]?this.mp.addSerifu(3,12,3):this.mp.addSerifu(3,10,3),this.km.activeSerifu(3,200,191,272,D.cyan),this.km.mode=520):520==this.km.mode&&(1==this.km.cancel_c?(this.km.offActivewindow(3,2),this.km.mode=510):1==this.km.kettei_c&&(this.km.off(2),this.km.off(3),this.km.off(4),this.km.mode=100));this.km.move()}if(1e3==this.co_j.pt?this.gg.drawPT(this.co_j.x+16,this.co_j.y+24-12-6,100,this.co_j.muki):1010==this.co_j.pt?this.gg.drawPT(this.co_j.x+16,this.co_j.y+24-12+5,100,this.co_j.muki):202<=this.co_j.pt&&this.co_j.pt<=205?this.gg.drawPT(this.co_j.x+16,this.co_j.y+24-12,this.co_j.pt,0):this.gg.drawPT(this.co_j.x+16,this.co_j.y+24-12,this.co_j.pt,this.co_j.muki),this.km.drawMenus(),100==this.mp_mode)this.circleCLS(this.cc_hankei),this.cc_hankei-=12,this.cc_hankei<0&&(this.cc_hankei=0,this.mp_mode=110);else if(110==this.mp_mode)this.circleCLS(this.cc_hankei);else if(200==this.mp_mode){if(this.circleCLS(this.cc_hankei),this.cc_hankei+=12,312<this.cc_hankei)if(1<=this.stage_kcID){this.mp_mode=300,this.cc_hankei=0;var pd=this.stage_y[this.stage_kcID-1]>>5;this.map_bg[this.stage_x[this.stage_kcID-1]>>5][pd]=227,1<=this.door_koID&&(this.map_bg[this.ie_x[this.door_koID-1]>>5][this.ie_y[this.door_koID-1]>>5]=222),1==this.door_score_open&&(this.map_bg[this.ie_x[9]>>5][this.ie_y[9]>>5]=222),this.drawOs2()}else this.mp_mode=0,1==this.door_score_open&&(this.mp_mode=400,this.cc_hankei=0,this.map_bg[this.ie_x[9]>>5][this.ie_y[9]>>5]=222,this.drawOs2())}else if(300==this.mp_mode){var qd;this.cc_hankei+=1,this.cc_hankei<=3?qd=0:this.cc_hankei<=6?qd=1:this.cc_hankei<=9?qd=0:this.cc_hankei<=12?qd=1:this.cc_hankei<=15?qd=0:this.cc_hankei<=18?qd=1:this.cc_hankei<=21?qd=0:this.cc_hankei<=24?qd=1:this.cc_hankei<=26?qd=0:(qd=0,this.mp_mode=0),0<qd&&this.gg.drawPT(this.stage_x[this.stage_kcID-1]+16,this.stage_y[this.stage_kcID-1]+24,222+this.stage_kcID,0),0<qd&&1<=this.door_koID&&this.gg.drawPT(this.ie_x[this.door_koID-1]+16,this.ie_y[this.door_koID-1]+24-7,212+this.door_koID,0),0<qd&&1==this.door_score_open&&this.gg.drawPT(this.ie_x[9]+16,this.ie_y[9]+24-7,212,0)}else if(400==this.mp_mode){var rd;this.cc_hankei+=1,this.cc_hankei<=3?rd=0:this.cc_hankei<=6?rd=1:this.cc_hankei<=9?rd=0:this.cc_hankei<=12?rd=1:this.cc_hankei<=15?rd=0:this.cc_hankei<=18?rd=1:this.cc_hankei<=21?rd=0:this.cc_hankei<=24?rd=1:this.cc_hankei<=26?rd=0:(rd=0,this.mp_mode=0),0<rd&&this.gg.drawPT(this.ie_x[9]+16,this.ie_y[9]+24-7,212,0)}},y.prototype.jMove=function(){var sd=this.co_j.x,td=this.co_j.y;if(this.co_j.pt=100,0==this.co_j.vx&&0==this.co_j.vy){if(this.co_j.ac+=1,7<this.co_j.ac&&(this.co_j.ac=0),3<this.co_j.ac)this.co_j.pt=1e3,(216<=(ud=this.getBGZ(sd,td))&&ud<=219||206<=ud&&ud<=209)&&(this.co_j.pt=1010);if(1==this.mp.tr1_c)if(1<=this.checkStage())this.mp_mode=100,this.cc_hankei=312,this.co_j.ac=0,this.dokan_khID=0,this.co_j.pt=100;else if(206<=this.getBGZ(sd,td)&&this.getBGZ(sd,td)<=209)if(2==this.mp.dokan_mode)for(var vd=!1,wd=0;wd<=8;wd++){for(var xd=0;xd<=14;xd++)if((32*xd!=sd||32*wd!=td)&&this.map_bg[xd][wd]==this.getBGZ(sd,td)){sd=32*xd,td=32*wd,this.co_j.ac=0,this.co_j.pt=1010,vd=!0;break}if(vd)break}else this.mp_mode=100,this.cc_hankei=312,this.co_j.ac=0,this.dokan_khID=this.getBGZ(sd,td)-205,this.co_j.pt=1010;else 216==this.getBGZ(sd,td)?(this.km.init1(4),this.km.onKao(4,120,42,272,230),this.km.init1(3),this.km.setMessage(3,this.mp.mes1_name),this.mp.addSerifu(3,1,3),this.km.activeSerifu(3,120,150,272,D.cyan),this.km.mode=200,this.co_j.pt=1010,this.co_j.ac=0):217==this.getBGZ(sd,td)?(this.km.init1(4),this.km.onKao(4,120,42,272,232),this.km.init1(3),this.km.setMessage(3,this.mp.mes2_name),this.mp.addSerifu(3,3,3),this.km.activeSerifu(3,120,150,272,D.cyan),this.km.mode=300,this.co_j.pt=1010,this.co_j.ac=0):218==this.getBGZ(sd,td)?(this.km.init1(4),this.km.onKao(4,120,42,216,234),this.shop_kattaitem<0?(this.km.init1(3),this.km.setMessage(3,this.mp.shop_name),this.mp.addSerifu(3,5,3),this.km.activeSerifu(3,120,150,216,D.cyan),this.km.mode=400):(this.km.init1(3),this.km.setMessage(3,this.mp.shop_name),this.mp.addSerifu(3,8,3),this.km.activeSerifu(3,120,150,216,D.cyan),this.km.mode=210),this.co_j.pt=1010,this.co_j.ac=0):219==this.getBGZ(sd,td)&&(this.km.init1(4),this.km.onKao(4,120,42,272,236),this.km.init1(3),this.km.setMessage(3,this.mp.setumei_name),this.mp.addSerifu(3,9,3),this.km.activeSerifu(3,120,150,272,D.cyan),this.km.mode=500,this.co_j.pt=1010,this.co_j.ac=0);else this.gk.up_f?221==this.getBGZ(sd,td-32)&&(this.co_j.vy=-4,this.co_j.ac=-1):this.gk.down_f?221==this.getBGZ(sd,td+32)&&(this.co_j.vy=4,this.co_j.ac=-1):this.gk.left_f?(this.co_j.muki=0,222==this.getBGZ(sd-32,td)&&(this.co_j.vx=-4,this.co_j.ac=-1),212<=this.getBGZ(sd+32,td)&&this.getBGZ(sd+32,td)<=215&&(this.co_j.vx=-4,this.co_j.ac=-1)):this.gk.right_f&&(this.co_j.muki=1,222==this.getBGZ(sd+32,td)&&(this.co_j.vx=4,this.co_j.ac=-1),212<=this.getBGZ(sd-32,td)&&this.getBGZ(sd-32,td)<=215&&(this.co_j.vx=4,this.co_j.ac=-1))}if(0!=this.co_j.vx||0!=this.co_j.vy){var ud;if(this.co_j.ac+=1,3<this.co_j.ac&&(this.co_j.ac=0),sd+=this.co_j.vx,td+=this.co_j.vy,0!=this.co_j.vx?this.co_j.ac<=1?this.co_j.pt=103:this.co_j.pt=104:0<=this.co_j.vy?this.co_j.ac<=1?this.co_j.pt=202:this.co_j.pt=203:this.co_j.ac<=1?this.co_j.pt=204:this.co_j.pt=205,sd%32==0&&td%32==0)(220==(ud=this.getBGZ(sd,td))||223<=ud&&ud<=227||216<=ud&&ud<=219||206<=ud&&ud<=209)&&(this.co_j.vx=0,this.co_j.vy=0,this.co_j.ac=0),(ud=0)<this.co_j.vx?ud=this.getBGZ(sd+32,td):this.co_j.vx<0&&(ud=this.getBGZ(sd-32,td)),212<=ud&&ud<=215&&(this.co_j.vx=0,this.co_j.vy=0,this.co_j.pt=100,this.co_j.ac=0);sd<=-32?(sd=-32,this.co_j.vx=0,this.co_j.vy=0,this.co_j.ac=0):480<=sd&&(sd=480,this.co_j.vx=0,this.co_j.vy=0,this.co_j.ac=0),td<=-32?(td=-32,this.co_j.vx=0,this.co_j.vy=0,this.co_j.ac=0):288<=td&&(td=288,this.co_j.vx=0,this.co_j.vy=0,this.co_j.ac=0)}this.co_j.x=sd,this.co_j.y=td},y.prototype.circleCLS=function(yd){for(var zd=0;zd<=12;zd++){var Ad=c.sin(.2617992*zd);this.cc_p1_y[zd]=160+c.floor(Ad*yd);var Bd=c.cos(.2617992*zd);this.cc_p1_x[zd]=256+c.floor(Bd*yd),this.cc_p2_y[zd]=160-c.floor(Ad*yd),this.cc_p2_x[zd]=256-c.floor(Bd*yd)}this.gg.os_g.setColor(D.black),this.gg.os_g.fillPolygon(this.cc_p1_x,this.cc_p1_y,17),this.gg.os_g.fillPolygon(this.cc_p2_x,this.cc_p2_y,17)},y.prototype.squareCLS=function(Cd,Dd){var Ed=.017453292519943295;this.cc_p1_x[0]=c.floor(c.cos((this.cc_kakudo+0)*Ed)*Cd)+256,this.cc_p1_y[0]=c.floor(c.sin((this.cc_kakudo+0)*Ed)*Cd)+160,this.cc_p1_x[1]=c.floor(c.cos((this.cc_kakudo+90)*Ed)*Cd)+256,this.cc_p1_y[1]=c.floor(c.sin((this.cc_kakudo+90)*Ed)*Cd)+160,this.cc_p1_x[2]=c.floor(c.cos((this.cc_kakudo+180)*Ed)*Cd)+256,this.cc_p1_y[2]=c.floor(c.sin((this.cc_kakudo+180)*Ed)*Cd)+160,this.cc_p1_x[3]=c.floor(500*c.cos((this.cc_kakudo+180)*Ed))+256,this.cc_p1_y[3]=c.floor(500*c.sin((this.cc_kakudo+180)*Ed))+160,this.cc_p1_x[4]=c.floor(700*c.cos((this.cc_kakudo+135)*Ed))+256,this.cc_p1_y[4]=c.floor(700*c.sin((this.cc_kakudo+135)*Ed))+160,this.cc_p1_x[5]=c.floor(700*c.cos((this.cc_kakudo+45)*Ed))+256,this.cc_p1_y[5]=c.floor(700*c.sin((this.cc_kakudo+45)*Ed))+160,this.cc_p1_x[6]=c.floor(500*c.cos((this.cc_kakudo+0)*Ed))+256,this.cc_p1_y[6]=c.floor(500*c.sin((this.cc_kakudo+0)*Ed))+160,this.cc_p2_x[0]=c.floor(c.cos((this.cc_kakudo+180)*Ed)*Cd)+256,this.cc_p2_y[0]=c.floor(c.sin((this.cc_kakudo+180)*Ed)*Cd)+160,this.cc_p2_x[1]=c.floor(c.cos((this.cc_kakudo+270)*Ed)*Cd)+256,this.cc_p2_y[1]=c.floor(c.sin((this.cc_kakudo+270)*Ed)*Cd)+160,this.cc_p2_x[2]=c.floor(c.cos((this.cc_kakudo+360)*Ed)*Cd)+256,this.cc_p2_y[2]=c.floor(c.sin((this.cc_kakudo+360)*Ed)*Cd)+160,this.cc_p2_x[3]=c.floor(500*c.cos((this.cc_kakudo+360)*Ed))+256,this.cc_p2_y[3]=c.floor(500*c.sin((this.cc_kakudo+360)*Ed))+160,this.cc_p2_x[4]=c.floor(700*c.cos((this.cc_kakudo+315)*Ed))+256,this.cc_p2_y[4]=c.floor(700*c.sin((this.cc_kakudo+315)*Ed))+160,this.cc_p2_x[5]=c.floor(700*c.cos((this.cc_kakudo+225)*Ed))+256,this.cc_p2_y[5]=c.floor(700*c.sin((this.cc_kakudo+225)*Ed))+160,this.cc_p2_x[6]=c.floor(500*c.cos((this.cc_kakudo+180)*Ed))+256,this.cc_p2_y[6]=c.floor(500*c.sin((this.cc_kakudo+180)*Ed))+160,this.gg.os_g.setColor(D.black),this.gg.os_g.fillPolygon(this.cc_p1_x,this.cc_p1_y,7),this.gg.os_g.fillPolygon(this.cc_p2_x,this.cc_p2_y,7)},z.prototype.load=function(Id){this._loaded=!1,this._error=!1,this._width=-1,this._height=-1,this._dat=new Image;var Jd=this;this._dat.onload=function(){Jd.onload()},this._dat.onerror=function(){B(Jd)},this._dat.onabort=function(){B(Jd)},this._dat.ontimeout=function(){B(Jd)},this._dat.src=Id,this._dat.complete&&this.onload()},z.prototype.onload=function(){this._loaded=!0,this._width=this._dat.naturalWidth,this._height=this._dat.naturalHeight},z.prototype.onerror=function(){this._error=!0,this._dat=null},z.prototype.getGraphics=function(){return this._width<0?null:(this._g=new C(this),this._g)},z.prototype.createGraphics=function(){return this.getGraphics()},C.prototype.drawLine=function(Nd,Od,Pd,Qd){return null!=this._ctx&&(this._ctx.beginPath(),this._ctx.moveTo(Nd,Od),this._ctx.lineTo(Pd,Qd),this._ctx.stroke(),!0)},C.prototype.drawImage=function(Rd,Sd,Td,Ud,Vd,Wd,Xd,Yd,Zd,$d){if(null==Rd._dat)return!1;if(null==this._ctx)return!1;try{if(arguments.length<=4)return this._ctx.drawImage(Rd._dat,Sd,Td),!0;if(arguments.length<=6)return this._ctx.drawImage(Rd._dat,Sd,Td,Ud,Vd),!0;if(arguments.length<=10)return this._ctx.drawImage(Rd._dat,Sd,Td,Ud,Vd,Wd,Xd,Yd,Zd),!0}catch(_d){}return!1},C.prototype.drawRect=function(ae,be,ce,de){return null!=this._ctx&&(this._ctx.strokeRect(ae,be,ce,de),!0)},C.prototype.fillRect=function(ee,fe,ge,he){return null!=this._ctx&&(this._ctx.fillRect(ee,fe,ge,he),!0)},C.prototype.drawPolygon=function(ie,je,ke){if(null==this._ctx)return!1;this._ctx.beginPath(),this._ctx.moveTo(ie[0],je[0]);for(var le=1;le<ke;le++)this._ctx.lineTo(ie[le],je[le]);return this._ctx.closePath(),this._ctx.stroke(),!0},C.prototype.fillPolygon=function(me,ne,oe){if(null==this._ctx)return!1;this._ctx.beginPath(),this._ctx.moveTo(me[0],ne[0]);for(var pe=1;pe<oe;pe++)this._ctx.lineTo(me[pe],ne[pe]);return this._ctx.closePath(),this._ctx.fill(),!0},C.prototype.drawOval=function(qe,re,se,te){return null!=this._ctx&&(this.drawArc(qe,re,se,te,0,2*c.PI),!0)},C.prototype.fillOval=function(ue,ve,we,xe){return null!=this._ctx&&(this.fillArc(ue,ve,we,xe,0,2*c.PI),!0)},C.prototype.drawArc=function(ye,ze,Ae,Be,Ce,De){if(null==this._ctx)return!1;var Ee=Be/Ae;return this._ctx.save(),this._ctx.beginPath(),this._ctx.scale(1,Ee),this._ctx.arc(ye+Ae/2,(ze+Be/2)/Ee,Ae/2,Ce,Ce+De,De<0),this._ctx.stroke(),this._ctx.restore(),!0},C.prototype.fillArc=function(Fe,Ge,He,Ie,Je,Ke){if(null==this._ctx)return!1;var Le=Ie/He;return this._ctx.save(),this._ctx.beginPath(),this._ctx.scale(1,Le),this._ctx.arc(Fe+He/2,(Ge+Ie/2)/Le,He/2,Je,Je+Ke,Ke<0),this._ctx.lineTo(Fe+He/2,(Ge+Ie/2)/Le),this._ctx.closePath(),this._ctx.fill(),this._ctx.restore(),!0},C.prototype.setGlobalAlpha=function(Me){return null!=this._ctx&&(Me<0&&(Me=0),255<Me&&(Me=255),this._ctx.globalAlpha=Me/255,!0)},C.prototype.setColor=function(Ne){if(null==this._ctx)return!1;this._color=new D(Ne.r,Ne.g,Ne.b,Ne.a);var Oe="rgba("+Ne.r+", "+Ne.g+", "+Ne.b+", "+Ne.a/255+")";return this._ctx.strokeStyle=Oe,this._ctx.fillStyle=Oe,!0},C.prototype.setFont=function(Pe){if(null==this._ctx)return!1;var Qe="";return Pe._style&E.ITALIC&&(Qe+="italic "),Pe._style&E.BOLD&&(Qe+="bold "),Qe+=Pe._size+"px ",Pe._name==E.SERIF?Qe+="serif":Pe._name==E.SANS_SERIF?Qe+="sans-serif":Pe._name==E.MONOSPACED?Qe+="monospace":Pe._name==E.DIALOG?Qe+="'Helvetica','Arial','ＭＳ ゴシック','HG ゴシックB Sun','HG ゴシックB',monospace":Qe+='"'+Pe._name+'"',this._ctx.font=Qe,this._font=Pe,!0},C.prototype.drawString=function(Re,Se,Te){return null!=this._ctx&&(this._ctx.fillText(Re,Se,Te),!0)},C.prototype.translate=function(Ue,Ve){return null!=this._ctx&&(this._ctx.translate(Ue,Ve),!0)},C.prototype.rotate=function(We,Xe,Ye){return null!=this._ctx&&(1==arguments.length?this._ctx.rotate(We):(this._ctx.translate(Xe,Ye),this._ctx.rotate(We),this._ctx.translate(-Xe,-Ye)),!0)},C.prototype.scale=function(Ze,$e){return null!=this._ctx&&(this._ctx.scale(Ze,$e),!0)},C.prototype.setClip=function(_e){if(null==this._ctx)return!1;if("ellipse"==_e){var af=arguments[4]/arguments[3];return this._ctx.beginPath(),this._ctx.save(),this._ctx.scale(1,af),this._ctx.arc(arguments[1]+arguments[3]/2,(arguments[2]+arguments[4]/2)/af,arguments[3]/2,0,2*c.PI,!1),this._ctx.restore(),this._ctx.clip(),!0}if("rect"==_e)return this._ctx.beginPath(),this._ctx.rect(arguments[1],arguments[2],arguments[3],arguments[4]),this._ctx.clip(),!0;if("polygon"==_e){this._ctx.beginPath(),this._ctx.moveTo(arguments[1][0],arguments[2][0]);for(var bf=1;bf<arguments[3];bf++)this._ctx.lineTo(arguments[1][bf],arguments[2][bf]);return this._ctx.closePath(),this._ctx.clip(),!0}return!1},C.prototype.copyArea=function(cf,df,ef,ff,gf,hf){return null!=this._ctx&&(this._ctx.drawImage(this._ctx.canvas,cf,df,ef,ff,cf+gf,df+hf,ef,ff),!0)},C.prototype.dispose=function(){this._ctx.restore(),this._ctx.save()},D.prototype.getRed=function(){return this.r},D.prototype.getGreen=function(){return this.g},D.prototype.getBlue=function(){return this.b},D.white=new D(255,255,255),D.WHITE=D.white,D.lightGray=new D(192,192,192),D.LIGHT_GRAY=D.lightGray,D.gray=new D(128,128,128),D.GRAY=D.gray,D.darkGray=new D(64,64,64),D.DARK_GRAY=D.darkGray,D.black=new D(0,0,0),D.BLACK=D.black,D.red=new D(255,0,0),D.RED=D.red,D.pink=new D(255,175,175),D.PINK=D.pink,D.orange=new D(255,200,0),D.ORANGE=D.orange,D.yellow=new D(255,255,0),D.YELLOW=D.yellow,D.green=new D(0,255,0),D.GREEN=D.green,D.magenta=new D(255,0,255),D.MAGENTA=D.magenta,D.cyan=new D(0,255,255),D.CYAN=D.cyan,D.blue=new D(0,0,255),D.BLUE=D.blue,E.DIALOG="Dialog",E.DIALOG_INPUT="DialogInput",E.MONOSPACED="Monospaced",E.SANS_SERIF="SansSerif",E.SERIF="Serif",E.PLAIN=0,E.BOLD=1,E.ITALIC=2,F.prototype.initAll=function(){for(var tf=0;tf<=15;tf++)this.init1(tf);this.c_fc=0,this.gk.up_c=0,this.gk.down_c=0,this.aw=-1,this.kettei_c=2,this.cancel_c=2;for(tf=0;tf<=15;tf++)this.list_IDlist[tf]=0;this.list_kazu=0,this.list_s=0},F.prototype.init1=function(uf){this.c[uf]=0,this.x[uf]=0,this.y[uf]=0,this.width[uf]=180,this.selectedIndex[uf]=0,this.item_kazu[uf]=0,this.message[uf]="どうしますか？";for(var vf=0;vf<=15;vf++)this.item[uf][vf]="";for(vf=0;vf<=15;vf++)this.item_int[uf][vf]=0},F.prototype.setMessage=function(wf,xf){this.message[wf]=xf},F.prototype.addItem=function(yf,zf){this.item[yf][this.item_kazu[yf]]=zf,this.item_kazu[yf]+=1},F.prototype.addIntitem=function(Af,Bf){this.item_int[Af][this.item_kazu[Af]]=Bf,this.item_kazu[Af]+=1},F.prototype.addItem2=function(Cf,Df,Ef){this.item[Cf][this.item_kazu[Cf]]=Df,this.item_int[Cf][this.item_kazu[Cf]]=Ef,this.item_kazu[Cf]+=1},F.prototype.active=function(Ff,Gf,Hf,If){this.c[Ff]=100,this.x[Ff]=Gf,this.y[Ff]=Hf,this.width[Ff]=void 0!==If?ParamInt4:180,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=Ff,this.kettei_c=2,this.cancel_c=2},F.prototype.activeSerifutuki=function(Jf,Kf,Lf,Mf,Nf){this.c[Jf]=700,this.x[Jf]=Kf,this.y[Jf]=Lf,this.width[Jf]=Mf,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=Jf,this.kettei_c=2,this.cancel_c=2,this.item[Jf][15]=Nf},F.prototype.activeKaimono=function(Of,Pf,Qf,Rf){this.c[Of]=900,this.x[Of]=Pf,this.y[Of]=Qf,this.width[Of]=Rf,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=Of,this.kettei_c=2,this.cancel_c=2},F.prototype.activeIchigyou=function(Sf,Tf,Uf,Vf){this.c[Sf]=300,this.x[Sf]=Tf,this.y[Sf]=Uf,this.width[Sf]=Vf,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=Sf,this.kettei_c=2,this.cancel_c=2},F.prototype.activeNigyou=function(Wf,Xf,Yf,Zf,$f){this.c[Wf]=310,this.x[Wf]=Xf,this.y[Wf]=Yf,this.width[Wf]=Zf,this.item_color[Wf]=$f,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=Wf,this.kettei_c=2,this.cancel_c=2},F.prototype.activeYongyou=function(_f,ag,bg,cg){this.c[_f]=320,this.x[_f]=ag,this.y[_f]=bg,this.width[_f]=cg,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=_f,this.kettei_c=2,this.cancel_c=2},F.prototype.activeYongyou2=function(dg,eg,fg,gg){this.c[dg]=321,this.x[dg]=eg,this.y[dg]=fg,this.width[dg]=gg,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=dg,this.kettei_c=2,this.cancel_c=2},F.prototype.activeSerifu=function(hg,ig,jg,kg,lg){this.c[hg]=330,this.x[hg]=ig,this.y[hg]=jg,this.width[hg]=kg,this.item_color[hg]=lg,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=hg,this.kettei_c=2,this.cancel_c=2},F.prototype.activeYasumu=function(mg,ng,og){this.c[mg]=1e3,this.x[mg]=ng,this.y[mg]=og,this.width[mg]=272,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=mg,this.kettei_c=2,this.cancel_c=2},F.prototype.onKao=function(pg,qg,rg,sg,tg){this.c[pg]=600,this.x[pg]=qg,this.y[pg]=rg,this.width[pg]=sg,this.item_int[pg][0]=tg},F.prototype.onMituketa=function(ug,vg,wg){this.c[ug]=610,this.x[ug]=vg,this.y[ug]=wg,this.width[ug]=200},F.prototype.onOkozukai=function(xg,yg,zg,Ag,Bg){this.c[xg]=800,this.x[xg]=yg,this.y[xg]=zg,this.width[xg]=Ag,this.item_int[xg][0]=Bg},F.prototype.activeIchigyouTime=function(Cg,Dg,Eg,Fg){this.c[Cg]=350,this.x[Cg]=Dg,this.y[Cg]=Eg,this.width[Cg]=Fg,this.item_int[Cg][0]=100},F.prototype.activeNigyouTime=function(Gg,Hg,Ig,Jg,Kg){this.c[Gg]=360,this.x[Gg]=Hg,this.y[Gg]=Ig,this.width[Gg]=Jg,this.item_color[Gg]=Kg,this.item_int[Gg][0]=100},F.prototype.activeJibun=function(Lg,Mg,Ng,Og,Pg,Qg,Rg,Sg){this.c[Lg]=400,this.x[Lg]=Mg,this.y[Lg]=Ng,this.item_int[14][0]=Pg,this.item_int[14][1]=Qg,this.item_int[14][2]=Rg,this.item_int[14][3]=Sg,this.width[Lg]=Og,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=Lg,this.kettei_c=2,this.cancel_c=2},F.prototype.activeToujou=function(Tg,Ug,Vg,Wg,Xg,Yg){this.c[Tg]=420,this.x[Tg]=Ug,this.y[Tg]=Vg,this.item_int[Tg][2]=Xg,this.item[Tg][0]=Yg,this.width[Tg]=Wg,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=Tg,this.kettei_c=2,this.cancel_c=2},F.prototype.initCS=function(){this.item_kazu[0]=8,this.selectedIndex[0]=0},F.prototype.activeCS=function(){this.c[0]=500,this.x[0]=0,this.y[0]=0,this.width[0]=0,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=0,this.kettei_c=2},F.prototype.off=function(Zg){this.c[Zg]=0},F.prototype.offActivewindow=function($g,_g){this.c[$g]=0,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=_g,this.kettei_c=2,this.cancel_c=2},F.prototype.move=function(){this.c_fc+=1,6<this.c_fc&&(this.c_fc=0),0<=this.aw&&(this.gk.up_f?(this.gk.up_c+=1,3<this.gk.up_c&&(this.gk.up_c=1)):this.gk.up_c=0,this.gk.down_f?(this.gk.down_c+=1,3<this.gk.down_c&&(this.gk.down_c=1)):this.gk.down_c=0,1==this.gk.up_c?(this.selectedIndex[this.aw]-=1,this.c_fc=-1,this.selectedIndex[this.aw]<0&&(this.selectedIndex[this.aw]=this.item_kazu[this.aw]-1)):1==this.gk.down_c&&(this.selectedIndex[this.aw]+=1,this.c_fc=-1,this.selectedIndex[this.aw]>this.item_kazu[this.aw]-1&&(this.selectedIndex[this.aw]=0))),this.gk.tr1_f?0==this.kettei_c&&(this.kettei_c=1):this.kettei_c=0,this.gk.x_f?0==this.cancel_c&&(this.cancel_c=1):this.cancel_c=0},F.prototype.drawMenus=function(){this.hg.setFont(new E("Dialog",0,12));for(var ah=0;ah<=15;ah++){var bh=this.c[ah];if(0!=bh)switch(bh){case 100:if(this.drawWindowbox(this.x[ah],this.y[ah],this.width[ah],30+14*this.item_kazu[ah]),this.hg.setColor(D.white),this.hg.drawString(this.message[ah],this.x[ah]+24,this.y[ah]+6+12),1<=this.item_kazu[ah])for(var ch=0;ch<=this.item_kazu[ah]-1;ch++)this.hg.drawString(this.item[ah][ch],this.x[ah]+24,this.y[ah]+6+18+14*ch+12);ah==this.aw?this.c_fc<=3&&this.hg.drawImage(this.hi[70],this.x[ah]+6,this.y[ah]+24+14*this.selectedIndex[ah],this.ap):this.hg.drawImage(this.hi[70],this.x[ah]+6,this.y[ah]+24+14*this.selectedIndex[ah],this.ap);break;case 200:this.hg.setColor(D.white),this.hg.fillRect(12,12,128,58),this.hg.setColor(D.black),this.hg.fillRect(14,14,124,54),this.hg.setColor(D.cyan),this.hg.drawString(this.item[14][0],18,30),(this.item_int[14][0]<=0||this.item_int[14][2]<=0)&&(this.hg.setColor(D.red),this.hg.drawString("戦闘不能",82,30)),this.hg.setColor(D.white),this.hg.drawString("HP\t"+this.item_int[14][0]+" / "+this.item_int[14][1],18,48),this.hg.drawString("PP\t"+this.item_int[14][2]+" / "+this.item_int[14][3],18,62);break;case 210:this.hg.setColor(D.white),this.hg.fillRect(160,12,128,58),this.hg.setColor(D.black),this.hg.fillRect(162,14,124,54),this.hg.setColor(D.green),this.hg.drawString(this.item[15][0],166,30),this.item_int[15][0]<=0&&(this.hg.setColor(D.red),this.hg.drawString("戦闘不能",230,30)),this.hg.setColor(D.white),this.hg.drawString("HP\t"+this.item_int[15][0]+" / "+this.item_int[15][1],166,48),this.hg.drawString("PP\t"+this.item_int[15][2]+" / "+this.item_int[15][3],166,62);break;case 220:this.hg.setColor(D.white),this.hg.fillRect(372,12,128,58),this.hg.setColor(D.black),this.hg.fillRect(374,14,124,54),this.hg.setColor(D.cyan),this.hg.drawString(this.item[15][0],378,30),(this.item_int[15][0]<=0||this.item_int[15][2]<=0)&&(this.hg.setColor(D.red),this.hg.drawString("戦闘不能",442,30)),this.hg.setColor(D.white),this.hg.drawString("HP\t"+this.item_int[15][0]+" / "+this.item_int[15][1],378,48),this.hg.drawString("PP\t"+this.item_int[15][2]+" / "+this.item_int[15][3],378,62);break;case 300:this.drawWindowbox(this.x[ah],this.y[ah],this.width[ah],40),this.hg.setColor(D.white),this.hg.drawString(this.item[ah][0],this.x[ah]+6,this.y[ah]+6+12),this.c_fc<=3&&this.gg.drawPT(this.x[ah]+(this.width[ah]-14>>1),this.y[ah]+6+14+0+2,201,0);break;case 310:this.drawWindowbox(this.x[ah],this.y[ah],this.width[ah],58),this.hg.setColor(this.item_color[ah]),this.hg.drawString(this.item[ah][0],this.x[ah]+6,this.y[ah]+6+12),this.hg.setColor(D.white),this.hg.drawString(this.item[ah][1],this.x[ah]+6,this.y[ah]+6+18+12),this.c_fc<=3&&this.gg.drawPT(this.x[ah]+(this.width[ah]-14>>1),this.y[ah]+6+18+14+2,71,0);break;case 320:this.drawWindowbox(this.x[ah],this.y[ah],this.width[ah],66+14*(this.item_kazu[ah]-3)+14),this.hg.setColor(D.magenta),this.hg.drawString(this.item[ah][0],this.x[ah]+6,this.y[ah]+6+12),this.hg.setColor(D.white),this.hg.drawString(this.item[ah][1],this.x[ah]+6,this.y[ah]+6+18+12),this.hg.setColor(D.cyan),this.hg.drawString(this.item[ah][2],this.x[ah]+6,this.y[ah]+6+36+12),this.hg.setColor(D.white);for(ch=0;ch<=this.item_kazu[3]-4;ch++)this.hg.drawString(this.item[3][ch+3],this.x[3]+6,this.y[3]+6+54+14*ch+12);this.c_fc<=3&&this.gg.drawPT(this.x[ah]+(this.width[ah]-14>>1),this.y[ah]+6+18+36+14*(this.item_kazu[ah]-3)+2,71,0);break;case 321:this.drawWindowbox(this.x[ah],this.y[ah],this.width[ah],108),this.hg.setColor(D.cyan),this.hg.drawString(this.item[ah][0],this.x[ah]+6,this.y[ah]+6+12),this.hg.setColor(D.white),this.hg.drawString(this.item[ah][1],this.x[ah]+6,this.y[ah]+6+18+12),this.hg.setColor(D.magenta),this.hg.drawString(this.item[ah][2],this.x[ah]+6,this.y[ah]+6+36+12),this.hg.setColor(D.white),this.hg.drawString(this.item[ah][3],this.x[ah]+6,this.y[ah]+6+54+12),this.hg.setColor(D.white),this.hg.drawString(this.item[ah][4],this.x[ah]+6,this.y[ah]+6+54+14+12),this.c_fc<=3&&this.gg.drawPT(this.x[ah]+(this.width[ah]-14>>1),this.y[ah]+6+18+36+14+14+2,71,0);break;case 330:if(this.drawWindowbox(this.x[ah],this.y[ah],this.width[ah],30+14*(this.item_kazu[ah]+1)),this.hg.setColor(this.item_color[ah]),this.hg.drawString(this.message[ah],this.x[ah]+6,this.y[ah]+6+12),this.hg.setColor(D.white),1<=this.item_kazu[ah])for(ch=0;ch<=this.item_kazu[ah]-1;ch++)this.hg.drawString(this.item[ah][ch],this.x[ah]+6,this.y[ah]+6+18+14*ch+12);ah==this.aw?this.c_fc<=3&&this.gg.drawPT(this.x[ah]+(this.width[ah]-14>>1),this.y[ah]+6+18+14*this.item_kazu[ah]+2,201,0):this.gg.drawPT(this.x[ah]+(this.width[ah]-14>>1),this.y[ah]+6+18+14*this.item_kazu[ah]+2,201,0);break;case 350:if(100==this.item_int[ah][0]){this.item_int[ah][0]=55;break}this.drawWindowbox(this.x[ah],this.y[ah],this.width[ah],26),this.hg.setColor(D.white),this.hg.drawString(this.item[ah][0],this.x[ah]+6,this.y[ah]+6+12),this.item_int[ah][0]-=1,this.item_int[ah][0]<=0&&this.off(ah);break;case 360:200==this.item_int[ah][0]?(this.drawWindowbox(this.x[ah],this.y[ah],this.width[ah],44),this.hg.setColor(this.item_color[ah]),this.hg.drawString(this.item[ah][0],this.x[ah]+6,this.y[ah]+6+12),this.hg.setColor(D.white),this.hg.drawString(this.item[ah][1],this.x[ah]+6,this.y[ah]+6+18+12)):100==this.item_int[ah][0]?this.item_int[ah][0]=55:(this.drawWindowbox(this.x[ah],this.y[ah],this.width[ah],44),this.hg.setColor(this.item_color[ah]),this.hg.drawString(this.item[ah][0],this.x[ah]+6,this.y[ah]+6+12),this.hg.setColor(D.white),this.hg.drawString(this.item[ah][1],this.x[ah]+6,this.y[ah]+6+18+12),this.item_int[ah][0]-=1,this.item_int[ah][0]<=0&&this.off(ah));break;case 400:this.drawWindowbox(this.x[ah],this.y[ah],this.width[ah],128),this.hg.setColor(D.yellow),this.hg.drawString(this.name_crys+"のステータス",this.x[ah]+6,this.y[ah]+6+12),this.hg.setColor(D.white),this.hg.drawString("HP\t"+this.item_int[14][0]+" / "+this.item_int[14][1],this.x[ah]+6,this.y[ah]+6+18+0+12),this.hg.drawString("おこづかい\t",this.x[ah]+6,this.y[ah]+6+18+28+12),this.hg.drawString(this.item_int[14][2]+"円",this.x[ah]+6+72,this.y[ah]+6+18+42+12),this.hg.drawString("得点",this.x[ah]+6,this.y[ah]+6+18+56+12),this.hg.drawString(this.item_int[14][3]+"点",this.x[ah]+6+72,this.y[ah]+6+18+70+12),this.c_fc<=3&&this.gg.drawPT(this.x[ah]+(this.width[ah]-14>>1),this.y[ah]+6+18+84+2,71,0);break;case 420:this.drawWindowbox(this.x[ah],this.y[ah],this.width[ah],116),this.hg.setColor(new D(96,96,96)),this.hg.fillRect(this.x[ah]+12,this.y[ah]+12,this.width[ah]-24,48),this.gg.drawPT(this.x[ah]+12+(this.width[ah]-24-32>>1),this.y[ah]+12+8,this.item_int[ah][2],0),this.hg.setColor(D.cyan),this.hg.drawString(this.item[ah][0],this.x[ah]+12,this.y[ah]+64+12),this.hg.setColor(D.white),this.hg.drawString("これからも、よろしくね！",this.x[ah]+12,this.y[ah]+68+14+12),this.c_fc<=3&&this.gg.drawPT(this.x[ah]+(this.width[ah]-14>>1),this.y[ah]+68+28+2,71,0);break;case 410:-2==this.item_int[ah][0]?(this.drawWindowbox(this.x[ah],this.y[ah],this.width[ah],116),this.hg.setColor(new D(96,96,96)),this.hg.fillRect(this.x[ah]+12,this.y[ah]+12,this.width[ah]-24,48),this.gg.drawPT(this.x[ah]+12+(this.width[ah]-24-32>>1),this.y[ah]+12+8,this.item_int[ah][2],0),this.hg.setColor(D.yellow),this.hg.drawString(this.item[ah][0],this.x[ah]+12,this.y[ah]+64+12),this.hg.setColor(D.white),this.hg.drawString("捕獲不可能",this.x[ah]+12,this.y[ah]+68+14+12),this.c_fc<=3&&this.gg.drawPT(this.x[ah]+(this.width[ah]-14>>1),this.y[ah]+68+28+2,71,0)):this.item_int[ah][0]<0?(this.drawWindowbox(this.x[ah],this.y[ah],this.width[ah],116),this.hg.setColor(new D(96,96,96)),this.hg.fillRect(this.x[ah]+12,this.y[ah]+12,this.width[ah]-24,48),this.gg.drawPT(this.x[ah]+12+(this.width[ah]-24-32>>1),this.y[ah]+12+8,this.item_int[ah][2],0),this.hg.setColor(D.yellow),this.hg.drawString(this.item[ah][0],this.x[ah]+12,this.y[ah]+64+12),this.hg.setColor(D.white),this.hg.drawString("現在調査中",this.x[ah]+12,this.y[ah]+68+14+12),this.c_fc<=3&&this.gg.drawPT(this.x[ah]+(this.width[ah]-14>>1),this.y[ah]+68+28+2,71,0)):(this.drawWindowbox(this.x[ah],this.y[ah],this.width[ah],158),this.hg.setColor(new D(96,96,96)),this.hg.fillRect(this.x[ah]+12,this.y[ah]+12,this.width[ah]-24,48),this.gg.drawPT(this.x[ah]+12+(this.width[ah]-24-32>>1),this.y[ah]+12+8,this.item_int[ah][2],0),this.hg.setColor(D.yellow),this.hg.drawString(this.item[ah][0],this.x[ah]+12,this.y[ah]+64+12),this.hg.setColor(D.white),this.hg.drawString("最大HP",this.x[ah]+12,this.y[ah]+68+14+12),this.hg.drawString(""+this.item_int[ah][0],this.x[ah]+56,this.y[ah]+68+28+12),this.hg.drawString("最大PP",this.x[ah]+12,this.y[ah]+68+42+12),this.hg.drawString(""+this.item_int[ah][1],this.x[ah]+56,this.y[ah]+68+56+12),this.c_fc<=3&&this.gg.drawPT(this.x[ah]+(this.width[ah]-14>>1),this.y[ah]+68+70+2,71,0));break;case 500:this.c_fc<=3||0!=this.aw?this.hg.drawImage(this.hi[72],12+28*this.selectedIndex[ah],288,this.ap):this.hg.drawImage(this.hi[73],12+28*this.selectedIndex[ah],288,this.ap);break;case 600:this.drawWindowbox(this.x[ah],this.y[ah],this.width[ah],96);var dh=this.item_int[ah][0],eh=this.x[ah]+(this.width[ah]-64>>1),fh=this.y[ah]+16;this.gg.drawPT(eh,fh,dh,0),this.gg.drawPT(eh+32,fh,dh+1,0),this.gg.drawPT(eh,fh+32,dh+10,0),this.gg.drawPT(eh+32,fh+32,dh+11,0);break;case 610:this.drawWindowbox(this.x[ah],this.y[ah],this.width[ah],30+14*this.item_kazu[ah]),this.hg.setColor(D.yellow),this.hg.drawString("モンスターずかん",this.x[ah]+6,this.y[ah]+6+12),this.hg.setColor(D.white),this.hg.drawString("見つけた数\t"+this.item_int[ah][0],this.x[ah]+6,this.y[ah]+6+18+0+12),this.hg.drawString("捕まえた数\t"+this.item_int[ah][1],this.x[ah]+6,this.y[ah]+6+18+14+12);break;case 700:if(this.drawWindowbox(this.x[ah],this.y[ah],this.width[ah],30+14*this.item_kazu[ah]+18),this.hg.setColor(D.cyan),this.hg.drawString(this.item[ah][15],this.x[ah]+24,this.y[ah]+6+12),this.hg.setColor(D.white),this.hg.drawString(this.message[ah],this.x[ah]+24,this.y[ah]+6+12+18),1<=this.item_kazu[ah])for(ch=0;ch<=this.item_kazu[ah]-1;ch++)this.hg.drawString(this.item[ah][ch],this.x[ah]+24,this.y[ah]+6+18+14*ch+12+18);ah==this.aw?this.c_fc<=3&&this.gg.drawPT(this.x[ah]+6,this.y[ah]+6+18+14*this.selectedIndex[ah]+18,200,0):this.gg.drawPT(this.x[ah]+6,this.y[ah]+6+18+14*this.selectedIndex[ah]+18,200,0);break;case 800:this.drawWindowbox(this.x[ah],this.y[ah],this.width[ah],44),this.hg.setColor(D.yellow),this.hg.drawString("おこづかい",this.x[ah]+6,this.y[ah]+6+12),this.hg.setColor(D.white),this.hg.drawString(this.item_int[ah][0]+"円",this.x[ah]+6,this.y[ah]+6+18+12);break;case 900:if(this.drawWindowbox(this.x[ah],this.y[ah],this.width[ah],30+14*this.item_kazu[ah]),this.hg.setColor(D.white),this.hg.drawString(this.message[ah],this.x[ah]+24,this.y[ah]+6+12),1<=this.item_kazu[ah])for(ch=0;ch<=this.item_kazu[ah]-1;ch++)this.hg.drawString(this.item[ah][ch],this.x[ah]+24,this.y[ah]+6+18+14*ch+12),this.hg.drawString(""+this.item_int[ah][ch],this.x[ah]+24+116,this.y[ah]+6+18+14*ch+12);ah==this.aw?this.c_fc<=3&&this.gg.drawPT(this.x[ah]+6,this.y[ah]+6+18+14*this.selectedIndex[ah],200,0):this.gg.drawPT(this.x[ah]+6,this.y[ah]+6+18+14*this.selectedIndex[ah],200,0);break;case 1e3:this.drawWindowbox(this.x[ah],this.y[ah],this.width[ah],98),this.hg.setColor(new D(96,96,96)),this.hg.fillRect(this.x[ah]+12,this.y[ah]+12,248,48);for(ch=0;ch<=5;ch++)0<this.item_int[ah][ch]&&this.gg.drawPT(this.x[ah]+12+8+40*ch,this.y[ah]+12+8,this.item_int[ah][ch],0);this.hg.setColor(D.white),this.hg.drawString("みんな、元気になった。",this.x[ah]+12,this.y[ah]+64+12),this.c_fc<=3&&this.gg.drawPT(this.x[ah]+(this.width[ah]-14>>1),this.y[ah]+64+14+2,71,0)}}},F.prototype.drawWindowbox=function(gh,hh,ih,jh){this.hg.setColor(D.white),this.hg.fillRect(gh,hh,ih,jh),this.hg.setColor(D.black),this.hg.fillRect(gh+2,hh+2,ih-4,jh-4)},G.prototype.start=function(){this.ml_mode=50},G.prototype.paraInt=function(th){var vh,uh=this.gg.ap.getParameter(th);return vh=parseInt(uh),isNaN(vh)&&(vh=-1),vh},G.prototype.addHighscoreEvent=function(wh){return this.heh=wh,!0},G.prototype.sendHighscore=function(){if("[object Function]"==Object.prototype.toString.call(this.heh)){var yh=this.highscore;yh<this.score&&(yh=this.score),this.heh(yh)}},G.prototype.moveGameCounter=function(){switch(this.g_c3){case 0:this.g_c3=1,this.g_c1=1,this.g_c2=1,this.g_ac=0,this.g_ac2=0;break;case 1:this.g_c3=2,this.g_c1=0,this.g_c2=2,this.g_ac=1,this.g_ac2=1;break;case 2:this.g_c3=3,this.g_c1=1,this.g_c2=3,this.g_ac=1,this.g_ac2=1;break;case 3:this.g_c3=4,this.g_c1=0,this.g_c2=0,this.g_ac=0,this.g_ac2=2;break;case 4:this.g_c3=5,this.g_c1=1,this.g_c2=1,this.g_ac=0,this.g_ac2=2;break;case 5:this.g_c3=6,this.g_c1=0,this.g_c2=2,this.g_ac=1,this.g_ac2=3;break;case 6:this.g_c3=7,this.g_c1=1,this.g_c2=3,this.g_ac=1,this.g_ac2=3;break;case 7:this.g_c3=0,this.g_c1=0,this.g_c2=0,this.g_ac=0,this.g_ac2=0}},G.prototype.ranInit=function(){this.ran_seed=4294967296*c.random()|0},G.prototype.ranInt=function(zh){var Ah=this.ran_seed;return Ah=((Ah=(Ah^Ah<<9)>>>0)^Ah>>>11)>>>0,this.ran_seed=Ah=(Ah^Ah<<19)>>>0,2.3283064365386963e-10*Ah*zh|0},G.prototype.drawScore=function(){if(this.score_v)if(0<this.time_max){var Ih,Gh=s(this.time/1e3),Hh=14+this.moji_size;this.gg.os_g.setColor(this.gamecolor_score),this.gg.os_g.setFont(new E("Dialog",1,this.moji_size)),Ih=this.j_left_shoki<=0&&this.j_left<=0?this.moji_score+" "+this.score+"    "+this.moji_highscore+" "+this.highscore+this.moji_time+Gh:(Ih=this.moji_score+" "+this.score+"    "+this.moji_highscore+" "+this.highscore+this.moji_left+this.j_left)+this.moji_time+Gh,this.gg.os_g.drawString(Ih,40,Hh)}else{var Kh,Jh=14+this.moji_size;this.gg.os_g.setColor(this.gamecolor_score),this.gg.os_g.setFont(new E("Dialog",1,this.moji_size)),Kh=this.j_left_shoki<=0&&this.j_left<=0?this.moji_score+" "+this.score+"    "+this.moji_highscore+" "+this.highscore:this.moji_score+" "+this.score+"    "+this.moji_highscore+" "+this.highscore+this.moji_left+this.j_left,this.gg.os_g.drawString(Kh,40,Jh)}else if(0<this.time_max){var Dh,Bh=s(this.time/1e3),Ch=14+this.moji_size;this.gg.os_g.setColor(this.gamecolor_score),this.gg.os_g.setFont(new E("Dialog",1,this.moji_size)),Dh=this.j_left_shoki<=0&&this.j_left<=0?this.moji_time+Bh:(Dh=this.moji_left+this.j_left)+this.moji_time+Bh,this.gg.os_g.drawString(Dh,40,Ch)}else{var Fh,Eh=14+this.moji_size;this.gg.os_g.setColor(this.gamecolor_score),this.gg.os_g.setFont(new E("Dialog",1,this.moji_size)),Fh=this.j_left_shoki<=0&&this.j_left<=0?"":this.moji_left+this.j_left,this.gg.os_g.drawString(Fh,40,Eh)}},G.prototype.drawScore2=function(){if(this.score_v){var Oh,Nh=14+this.moji_size;this.gg.os_g.setColor(this.gamecolor_score),this.gg.os_g.setFont(new E("Dialog",1,this.moji_size)),Oh=this.j_left_shoki<=0&&this.j_left<=0?this.moji_score+" "+this.score+"    "+this.moji_highscore+" "+this.highscore:this.moji_score+" "+this.score+"    "+this.moji_highscore+" "+this.highscore+this.moji_left+this.j_left,this.gg.os_g.drawString(Oh,40,Nh)}else{var Mh,Lh=14+this.moji_size;this.gg.os_g.setColor(this.gamecolor_score),this.gg.os_g.setFont(new E("Dialog",1,this.moji_size)),Mh=this.j_left_shoki<=0&&this.j_left<=0?"":this.moji_left+this.j_left,this.gg.os_g.drawString(Mh,40,Lh)}},G.prototype.addScore=function(Ph){this.score+=Ph,0<this.score_1up_1&&this.score>=this.score_1up_1&&(this.j_left++,this.score_1up_1=0),0<this.score_1up_2&&this.score>=this.score_1up_2&&(this.j_left++,this.score_1up_2=0)},G.prototype.addSerifu=function(Qh,Rh,Sh){for(var Th=1;Th<=Sh;Th++){var Vh,Uh=this.gg.ap.getParameter("serifu"+Rh+"-"+Th);Vh=parseInt(Uh),isNaN(Vh)&&(Vh=-1),0!=Vh&&this.km.addItem(Qh,Uh)}},G.prototype.mL100=function(){if(this.moveGameCounter(),this.aMove(),100==this.co_j.c?this.jM100():this.jMove(),0<this.sl_step&&(10==this.sl_step||11==this.sl_step?(this.ks_wx+=this.sl_speed,this.ks_wx>this.maps.wx_max&&(this.ks_wx=this.maps.wx_max),this.maps.wx=this.ks_wx,this.maps.wy=this.ks_wy,300!=this.co_j.c&&310!=this.co_j.c&&(this.co_j.x<this.ks_wx-16?(this.co_j.x=this.ks_wx-16,this.co_j.vx<0&&(this.co_j.vx=0),(20<=this.maps.getBGCode(this.co_j.x+15,this.co_j.y)||20<=this.maps.getBGCode(this.co_j.x+15,this.co_j.y+31))&&100<=this.co_j.c&&this.co_j.c<200&&(this.co_j.c=210,this.co_j.y=this.maps.wy-64,this.co_j.c1=0,this.j_jet_c=0,this.j_v_c=0)):this.co_j.x>this.ks_wx+496&&(this.co_j.x=this.ks_wx+496,(this.co_j.vx=0)<this.co_j.vx&&(this.co_j.vx=0))),11==this.sl_step&&this.maps.wx>=this.sl_wx&&(this.maps.wx=this.sl_wx,this.sl_wy=this.ks_wy,this.sl_step=3)):1==this.sl_step?this.maps.wx>=this.sl_wx&&(this.maps.wx=this.sl_wx,this.sl_step=2):2==this.sl_step?(this.maps.wx=this.sl_wx,this.co_j.x<this.sl_wx-16?(this.co_j.x=this.sl_wx-16,this.co_j.vx=0):this.co_j.x>this.sl_wx+496&&(this.co_j.x=this.sl_wx+496,this.co_j.vx=0),this.maps.wy>=this.sl_wy&&(this.maps.wy=this.sl_wy,this.sl_step=3)):(this.maps.wx=this.sl_wx,this.maps.wy=this.sl_wy,this.co_j.x<this.sl_wx-16?(this.co_j.x=this.sl_wx-16,this.co_j.vx=0):this.co_j.x>this.sl_wx+496&&(this.co_j.x=this.sl_wx+496,this.co_j.vx=0))),0<this.jm_kazu&&this.jmMove(),this.tMove(),0<this.co_b.c&&this.bMove(),0<this.m_kazu&&this.mMove(),0<this.time_max&&this.stage_cc<=0&&(this.time-=70,this.time<0&&(this.time=0,this.j_left--,this.j_left<0?(this.j_left=0,this.ml_mode=300):this.ml_mode=90)),0<this.stage_cc&&(this.stage_cc++,28<this.stage_cc&&(2==this.stage_select?4<=this.stage?this.ml_mode=400:(0<this.time_max&&this.addScore(s(this.time/1e3)),this.ml_mode=260):this.stage>=this.stage_max?this.ml_mode=400:(this.stage++,0<this.time_max&&this.addScore(s(this.time/1e3)),this.ml_mode=90))),this.drawGamescreen(),this.drawScore(),0<this.j_jet_fuel){var Wh=this.moji_jet+" "+this.j_jet_fuel;0<this.j_gr_kazu&&(Wh=1==this.j_gr_kazu?Wh+"    "+this.moji_grenade:Wh+"    "+this.moji_grenade+" "+this.j_gr_kazu),this.hg.drawString(Wh,40,287+this.moji_size)}else 0<this.j_gr_kazu&&(1==this.j_gr_kazu?this.hg.drawString(this.moji_grenade,40,287+this.moji_size):this.hg.drawString(this.moji_grenade+" "+this.j_gr_kazu,40,287+this.moji_size));84==this.gk.key_code&&(this.gk.key_code=0,this.ml_mode=50)},G.prototype.mainLoop=function(){switch(this.ml_mode){default:break;case 50:this.gg.drawListImage(0,0,0),(0<this.score||0<this.highscore)&&this.drawScore(),this.gm.button_f||this.gk.tr1_f||(this.ml_mode=60,this.g_c1=0,this.sendHighscore());break;case 60:if(0==this.g_c1?118==this.gk.key_char&&(this.g_c1=1):1==this.g_c1?101==this.gk.key_char?this.g_c1=2:118!=this.gk.key_char&&(this.g_c1=0):2==this.g_c1&&(114==this.gk.key_char?this.ml_mode=1e3:101!=this.gk.key_char&&(this.g_c1=0)),!this.gm.button_f&&!this.gk.tr1_f)break;if(2==this.stage_select){this.init2(),this.ig.worldInit(),this.gg.os_g.setColor(D.black),this.gg.os_g.fillRect(0,0,this.gg.di.width,this.gg.di.height),this.ml_mode=200;break}this.init2(),this.init3(),this.gg.drawListImage(0,0,0),(0<this.score||0<this.highscore)&&this.drawScore(),this.j_left<=0?this.ml_mode=100:this.ml_mode=90;break;case 80:this.init2(),this.init3(),this.gg.drawListImage(0,0,0),(0<this.score||0<this.highscore)&&this.drawScore(),this.j_left<=0?this.ml_mode=100:this.ml_mode=90;break;case 90:this.init3(),this.gg.os_g.setColor(this.gamecolor_kaishi),this.gg.os_g.fillRect(0,0,this.gg.di.width,this.gg.di.height),this.stage>=this.stage_max?(this.gg.drawPT(160,144,52,0),this.gg.drawPT(192,144,53,0),this.gg.drawPT(224,144,54,0),this.gg.drawPT(256,144,55,0),this.gg.drawPT(288,144,56,0),this.gg.drawPT(320,144,57,0)):(this.gg.drawPT(192,144,70,0),this.gg.drawPT(224,144,71,0),this.gg.drawPT(256,144,72,0),this.stage>=this.stage_max&&this.gg.drawPT(288,144,75,0),3==this.stage?this.gg.drawPT(288,144,75,0):2==this.stage?this.gg.drawPT(288,144,74,0):this.gg.drawPT(288,144,73,0)),this.drawScore(),this.ml_mode=91,this.ml_mode_c=0;break;case 91:this.ml_mode_c++,35<this.ml_mode_c&&(this.ml_mode=100),84==this.gk.key_code&&(this.gk.key_code=0,this.ml_mode=50);break;case 95:switch(this.stage=this.ig.checkStage(),this.init3(),this.ig.shop_kattaitem){case 7:default:break;case 0:this.j_gr_kazu=3;break;case 1:this.j_jet_fuel=80;break;case 2:this.j_drell_f=!0;break;case 3:this.j_helm_f=!0;break;case 4:this.j_tail_f=!0;break;case 5:this.j_v_c=150,this.j_v_kakudo=0;break;case 6:this.j_fire_f=!0;break;case 8:0<this.time_max&&(this.time+=3e4)}this.gg.os_g.setColor(D.black),this.gg.os_g.fillRect(0,0,this.gg.di.width,this.gg.di.height),this.drawScore(),this.ml_mode=96,this.ml_mode_c=0;break;case 96:this.ml_mode_c++,8<this.ml_mode_c&&(this.ml_mode=100),84==this.gk.key_code&&(this.gk.key_code=0,this.ml_mode=50);break;case 200:this.ig.drawMap(),this.ig.mainProgram(),this.time=0,this.drawScore2(),110==this.ig.mp_mode&&(1<=this.ig.dokan_khID?this.ml_mode=230:this.ml_mode=95),84==this.gk.key_code&&(this.gk.key_code=0,this.ml_mode=50);break;case 230:this.gg.os_g.setColor(D.black),this.gg.os_g.fillRect(0,0,this.gg.di.width,this.gg.di.height),this.drawScore2(),this.ml_mode=231,this.ml_mode_c=0;break;case 231:var Xh;if(this.ml_mode_c++,5==this.ml_mode_c)Xh=2==this.ig.dokan_khID?this.gg.ap.getParameter("url2"):3==this.ig.dokan_khID?this.gg.ap.getParameter("url3"):4==this.ig.dokan_khID?this.gg.ap.getParameter("url4"):this.gg.ap.getParameter("url1"),location.href=Xh;else 80<this.ml_mode_c&&(this.ml_mode=50);84==this.gk.key_code&&(this.gk.key_code=0,this.ml_mode=50);break;case 250:this.addScore(0),this.ig.worldInit2(),this.ml_mode=251,this.ml_mode_c=0,this.gg.os_g.setColor(D.black),this.gg.os_g.fillRect(0,0,this.gg.di.width,this.gg.di.height),this.drawScore();break;case 251:this.ml_mode_c++,8<this.ml_mode_c&&(this.ml_mode=200),84==this.gk.key_code&&(this.gk.key_code=0,this.ml_mode=50);break;case 260:this.addScore(0),this.ig.worldInit3(),this.ml_mode=261,this.ml_mode_c=0,this.gg.os_g.setColor(D.black),this.gg.os_g.fillRect(0,0,this.gg.di.width,this.gg.di.height),this.drawScore();break;case 261:this.ml_mode_c++,8<this.ml_mode_c&&(this.ml_mode=200),84==this.gk.key_code&&(this.gk.key_code=0,this.ml_mode=50);break;case 300:this.gg.setBackcolor(D.black),this.gg.fill(),this.gg.drawListImage(0,0,2),this.drawScore(),this.sendHighscore(),this.ml_mode=310,this.ml_mode_c=0;break;case 310:this.ml_mode_c++,45<this.ml_mode_c&&(this.ml_mode=50),84==this.gk.key_code&&(this.gk.key_code=0,this.ml_mode=50);break;case 400:this.gg.drawListImage(0,0,1),0<this.time_max&&this.addScore(s(this.time/1e3)),this.drawScore(),this.sendHighscore(),this.ml_mode=410,this.ml_mode_c=0;break;case 410:this.ml_mode_c++,120<this.ml_mode_c&&(this.ml_mode=50),84==this.gk.key_code&&(this.gk.key_code=0,this.ml_mode=50);break;case 500:this.gg.setBackcolor(D.black),this.gg.fill(),this.gg.drawListImage(0,0,0),(0<this.score||0<this.highscore)&&this.drawScore(),this.ml_mode=50,this.ml_mode=50;break;case 1e3:this.gg.setBackcolor(D.black),this.gg.fill(),this.hg.setFont(new E("Dialog",0,46)),this.hg.setColor(D.white),this.hg.setFont(new E("Dialog",0,20)),this.hg.drawString("Title        MASAO CONSTRUCTION",50,50),this.hg.drawString("Version      2.8",50,80),this.hg.drawString("Language     Java2  SDK 1.3.1",50,110),this.hg.drawString("OS           WindowsXP",50,140),this.hg.drawString("Browser      InternetExplorer 6.0",50,170),this.hg.drawString("Programing   Fukuda Naoto",50,200),this.hg.drawString("Date         2003/6",50,230),this.ml_mode=1010,this.ml_mode_c=0;break;case 1010:this.ml_mode_c++,40<this.ml_mode_c&&(this.ml_mode=50)}},G.prototype.init1=function(){this.time_max=this.paraInt("time_max");var Yh=this.paraInt("score_v");this.score_v=2!=Yh,Yh=this.paraInt("backcolor_red");var Zh=this.paraInt("backcolor_green"),$h=this.paraInt("backcolor_blue");Yh<0?Yh=0:255<Yh&&(Yh=255),Zh<0?Zh=0:255<Zh&&(Zh=255),$h<0?$h=0:255<$h&&($h=255),this.gamecolor_back=new D(Yh,Zh,$h),(Yh=this.paraInt("backcolor_red_s"))<0?Yh=0:255<Yh&&(Yh=255),(Zh=this.paraInt("backcolor_green_s"))<0?Zh=0:255<Zh&&(Zh=255),($h=this.paraInt("backcolor_blue_s"))<0?$h=0:255<$h&&($h=255),this.gamecolor_back_s=new D(Yh,Zh,$h),(Yh=this.paraInt("backcolor_red_t"))<0?Yh=0:255<Yh&&(Yh=255),(Zh=this.paraInt("backcolor_green_t"))<0?Zh=0:255<Zh&&(Zh=255),($h=this.paraInt("backcolor_blue_t"))<0?$h=0:255<$h&&($h=255),this.gamecolor_back_t=new D(Yh,Zh,$h),(Yh=this.paraInt("backcolor_red_f"))<0?Yh=0:255<Yh&&(Yh=255),(Zh=this.paraInt("backcolor_green_f"))<0?Zh=0:255<Zh&&(Zh=255),($h=this.paraInt("backcolor_blue_f"))<0?$h=0:255<$h&&($h=255),this.gamecolor_back_f=new D(Yh,Zh,$h),(Yh=this.paraInt("kaishi_red"))<0?Yh=0:255<Yh&&(Yh=255),(Zh=this.paraInt("kaishi_green"))<0?Zh=0:255<Zh&&(Zh=255),($h=this.paraInt("kaishi_blue"))<0?$h=0:255<$h&&($h=255),this.gamecolor_kaishi=new D(Yh,Zh,$h),(Yh=this.paraInt("scorecolor_red"))<0?Yh=0:255<Yh&&(Yh=255),(Zh=this.paraInt("scorecolor_green"))<0?Zh=0:255<Zh&&(Zh=255),($h=this.paraInt("scorecolor_blue"))<0?$h=0:255<$h&&($h=255),this.gamecolor_score=new D(Yh,Zh,$h),(Yh=this.paraInt("grenade_red1"))<0?Yh=0:255<Yh&&(Yh=255),(Zh=this.paraInt("grenade_green1"))<0?Zh=0:255<Zh&&(Zh=255),($h=this.paraInt("grenade_blue1"))<0?$h=0:255<$h&&($h=255),this.gamecolor_grenade1=new D(Yh,Zh,$h),(Yh=this.paraInt("grenade_red2"))<0?Yh=0:255<Yh&&(Yh=255),(Zh=this.paraInt("grenade_green2"))<0?Zh=0:255<Zh&&(Zh=255),($h=this.paraInt("grenade_blue2"))<0?$h=0:255<$h&&($h=255),this.gamecolor_grenade2=new D(Yh,Zh,$h),(Yh=this.paraInt("firebar_red1"))<0?Yh=0:255<Yh&&(Yh=255),(Zh=this.paraInt("firebar_green1"))<0?Zh=0:255<Zh&&(Zh=255),($h=this.paraInt("firebar_blue1"))<0?$h=0:255<$h&&($h=255),this.gamecolor_firebar1=new D(Yh,Zh,$h),(Yh=this.paraInt("firebar_red2"))<0?Yh=0:255<Yh&&(Yh=255),(Zh=this.paraInt("firebar_green2"))<0?Zh=0:255<Zh&&(Zh=255),($h=this.paraInt("firebar_blue2"))<0?$h=0:255<$h&&($h=255),this.gamecolor_firebar2=new D(Yh,Zh,$h),(Yh=this.paraInt("mizunohadou_red"))<0?Yh=0:255<Yh&&(Yh=255),(Zh=this.paraInt("mizunohadou_green"))<0?Zh=0:255<Zh&&(Zh=255),($h=this.paraInt("mizunohadou_blue"))<0?$h=0:255<$h&&($h=255),this.gamecolor_mizunohadou=new D(Yh,Zh,$h),this.moji_score=this.gg.ap.getParameter("moji_score"),this.moji_highscore=this.gg.ap.getParameter("moji_highscore"),this.moji_time=this.gg.ap.getParameter("moji_time"),this.moji_time="    "+this.moji_time+" ",this.moji_jet=this.gg.ap.getParameter("moji_jet"),this.moji_grenade=this.gg.ap.getParameter("moji_grenade"),this.moji_left=this.gg.ap.getParameter("moji_left"),this.moji_left="    "+this.moji_left+" ",this.moji_size=this.paraInt("moji_size"),this.moji_size<10?this.moji_size=10:30<this.moji_size&&(this.moji_size=30),this.j_left_shoki=this.paraInt("jibun_left_shoki"),this.j_left_shoki<1&&(this.j_left_shoki=1),this.j_left_shoki--,this.stage_max=this.paraInt("stage_max"),this.stage_max<1?this.stage_max=1:4<this.stage_max&&(this.stage_max=4),2==this.stage_select&&(this.stage_max=4),this.stage_kaishi=this.paraInt("stage_kaishi"),this.stage_kaishi<1&&(this.stage_kaishi=1),this.stage_kaishi>this.stage_max&&(this.stage_kaishi=this.stage_max),this.score_1up_1_para=this.paraInt("score_1up_1"),(this.score_1up_1_para<0||this.stage_max<=1)&&(this.score_1up_1_para=0),this.score_1up_2_para=this.paraInt("score_1up_2"),(this.score_1up_2_para<0||this.stage_max<=1)&&(this.score_1up_2_para=0),this.j_tail_type=this.paraInt("j_tail_type"),(this.j_tail_type<1||3<this.j_tail_type)&&(this.j_tail_type=1);var _h=this.paraInt("j_tail_hf");this.j_tail_hf=2==_h,this.grenade_type=this.paraInt("grenade_type"),(this.grenade_type<1||6<this.grenade_type)&&(this.grenade_type=1),this.suberuyuka_hkf=this.paraInt("suberuyuka_hkf"),2==this.suberuyuka_hkf?this.suberuyuka_hkf=2:this.suberuyuka_hkf=1,_h=this.paraInt("j_fire_mkf"),this.j_fire_mkf=2==_h,_h=this.paraInt("dengeki_mkf"),this.dengeki_mkf=2==_h,_h=this.paraInt("yachamo_kf"),this.yachamo_cf=2==_h,_h=this.paraInt("airms_kf"),this.airms_kf=2==_h,this.ugokuyuka1_type=this.paraInt("ugokuyuka1_type"),(this.ugokuyuka1_type<1||7<this.ugokuyuka1_type)&&(this.ugokuyuka1_type=1),this.ugokuyuka2_type=this.paraInt("ugokuyuka2_type"),(this.ugokuyuka2_type<1||7<this.ugokuyuka2_type)&&(this.ugokuyuka2_type=1),this.ugokuyuka3_type=this.paraInt("ugokuyuka3_type"),(this.ugokuyuka3_type<1||7<this.ugokuyuka3_type)&&(this.ugokuyuka3_type=1),this.boss_type=this.paraInt("boss_type"),(this.boss_type<1||4<this.boss_type)&&(this.boss_type=1),this.boss2_type=this.paraInt("boss2_type"),(this.boss2_type<1||2<this.boss2_type)&&(this.boss2_type=1),this.boss3_type=this.paraInt("boss3_type"),(this.boss3_type<1||4<this.boss3_type)&&(this.boss3_type=1),this.dokan_mode=this.paraInt("dokan_mode"),(this.dokan_mode<1||2<this.dokan_mode)&&(this.dokan_mode=1),this.mes1_name=this.gg.ap.getParameter("mes1_name"),this.mes2_name=this.gg.ap.getParameter("mes2_name"),this.shop_name=this.gg.ap.getParameter("shop_name"),this.setumei_name=this.gg.ap.getParameter("setumei_name"),this.door_score=this.paraInt("door_score"),this.door_score<10&&(this.door_score=10),this.shop_item_name[0]=this.gg.ap.getParameter("shop_item_name1"),this.shop_item_name[1]=this.gg.ap.getParameter("shop_item_name2"),this.shop_item_name[2]=this.gg.ap.getParameter("shop_item_name3"),this.shop_item_name[3]=this.gg.ap.getParameter("shop_item_name4"),this.shop_item_name[4]=this.gg.ap.getParameter("shop_item_name5"),this.shop_item_name[5]=this.gg.ap.getParameter("shop_item_name6"),this.shop_item_name[6]=this.gg.ap.getParameter("shop_item_name7"),this.shop_item_name[7]=this.gg.ap.getParameter("shop_item_name8"),this.shop_item_name[8]=this.gg.ap.getParameter("shop_item_name9");for(var ai=0;ai<=8;ai++){var bi=ai+1;(bi=this.paraInt("shop_item_teika"+bi))<0&&(bi=0),this.shop_item_teika[ai]=bi}},G.prototype.init2=function(){this.score>this.highscore&&(this.highscore=this.score),this.j_left=this.j_left_shoki,this.score_1up_1=this.score_1up_1_para,this.score_1up_2=this.score_1up_2_para;for(var ci=0;ci<=2;ci++)this.stage_1up_f[ci]=!0;this.gk.key_code=0,this.score=0,this.stage=this.stage_kaishi,0<this.time_max?this.time=1e3*this.time_max+1e3-70:this.time=0},G.prototype.init3=function(){this.sendHighscore(),this.g_c1=0,this.g_c2=0,this.g_c3=0,this.g_ac=0,this.g_ac2=0,this.stage_cc=0,this.co_j.init(),this.co_j.c=100,this.co_j.x=100,this.co_j.y=100,this.co_j.pt=100,this.co_j.muki=1,this.co_j.jimen_f=!1,this.j_hashiru_f=!1,this.j_jump_level=0,this.j_jump_type=0,this.j_a_id=-1,this.tr1_c=0,this.tr2_c=0,this.gk.left_c=0,this.gk.right_c=0,this.left_dcc=0,this.right_dcc=0,this.ochiru_y=9999,this.j_fire_f=!1,this.j_v_c=0,this.j_v_kakudo=0,this.j_jet_c=0,this.j_jet_kf=!1,this.j_jet_fuel=0,this.j_helm_f=!1,this.j_drell_f=!1,this.j_tail_f=!1,this.j_tail_ac=0,this.j_gr_kazu=0,this.j_mizu_f=!1,this.j_mizu_ac=0,this.j_mizu_awa_c=0,this.j_jdai_f=!1,this.hitokoto_c=0,this.hitokoto_num=1,this.j_tail_hf&&(this.j_tail_f=!0);for(var di=0;di<=5;di++)this.j_zan_x[di]=0,this.j_zan_y[di]=0,this.j_zan_pt[di]=0,this.j_zan_pth[di]=0;var ei;this.j_zan_p=0,this.j_zan_c=0,this.j_zan_nagasa=0,this.j_zan_f=!1,this.sl_step=0,this.sl_speed=0,this.sl_wx=0,this.sl_wy=0,2==(ei=2==this.stage?this.paraInt("scroll_mode_s"):3==this.stage?this.paraInt("scroll_mode_t"):4==this.stage?this.paraInt("scroll_mode_f"):this.paraInt("scroll_mode"))?(this.sl_step=10,this.ks_wx=32,this.ks_wy=960,this.sl_speed=2):3==ei&&(this.sl_step=10,this.ks_wx=32,this.ks_wy=960,this.sl_speed=4);for(var fi=0;fi<=31;fi++){this.co_a[fi].init();for(var gi=0;gi<=3;gi++)this.vo_x[fi][gi]=0,this.vo_y[fi][gi]=0}this.a_kazu=-1,this.a_hf=!1;for(var hi=0;hi<=129;hi++)this.co_t[hi].init();this.t_kazu=-1,this.co_b.init();for(var ii=this.boss_kijyun_y=0;ii<=23;ii++)this.co_m[ii].init();for(var ji=this.m_kazu=0;ji<=1;ji++)this.co_jm[ji].init();for(var ki=this.jm_kazu=0;ki<=63;ki++)this.co_h[ki].init();0<this.time_max?this.time=1e3*this.time_max+1e3-70:this.time=0,this.mapsMakeStageData(100+this.stage),10!=this.sl_step&&11!=this.sl_step||(this.ks_wx=this.maps.wx,this.ks_wx<=128&&(this.ks_wx=32)),this.maps.drawMap(this.maps.wx,this.maps.wy)},G.prototype.mapsMakeStageData=function(li){this.maps.init();var mi=this.maps.map_string;this.maps.wx=32,this.maps.wy=32,this.maps.wx_mini=32,this.maps.wy_mini=320,this.maps.wx_max=5856,this.maps.wy_max=6048;switch(this.gg.setBackcolor(D.blue),li){default:break;case 101:this.maps.setBank(0),this.gg.setBackcolor(this.gamecolor_back),this.maps.wx_max=5280,this.maps.wy_max=960;for(var oi=0;oi<=29;oi++){var pi="."+this.gg.ap.getParameter("map0-"+oi);pi+=this.gg.ap.getParameter("map1-"+oi),pi+=this.gg.ap.getParameter("map2-"+oi),mi[oi+10]=pi}break;case 102:this.maps.setBank(0),this.gg.setBackcolor(this.gamecolor_back_s),this.maps.wx_max=5280,this.maps.wy_max=960;for(var qi=0;qi<=29;qi++){var ri="."+this.gg.ap.getParameter("map0-"+qi+"-s");ri+=this.gg.ap.getParameter("map1-"+qi+"-s"),ri+=this.gg.ap.getParameter("map2-"+qi+"-s"),mi[qi+10]=ri}break;case 103:this.maps.setBank(0),this.gg.setBackcolor(this.gamecolor_back_t),this.maps.wx_max=5280,this.maps.wy_max=960;for(var si=0;si<=29;si++){var ti="."+this.gg.ap.getParameter("map0-"+si+"-t");ti+=this.gg.ap.getParameter("map1-"+si+"-t"),ti+=this.gg.ap.getParameter("map2-"+si+"-t"),mi[si+10]=ti}break;case 104:this.maps.setBank(0),this.gg.setBackcolor(this.gamecolor_back_f),this.maps.wx_max=5280,this.maps.wy_max=960;for(var ui=0;ui<=29;ui++){var vi="."+this.gg.ap.getParameter("map0-"+ui+"-f");vi+=this.gg.ap.getParameter("map1-"+ui+"-f"),vi+=this.gg.ap.getParameter("map2-"+ui+"-f"),mi[ui+10]=vi}}for(var wi=0;wi<this.maps.height;wi++)if(mi[wi].length<this.maps.width)for(var yi=mi[wi].length;yi<this.maps.width;yi++)mi[wi]+=".";for(var Ai=0;Ai<this.maps.height;Ai++)for(var Bi=0;Bi<this.maps.width;Bi++){var Ci=mi[Ai].charAt(Bi),Di=-1;"."!=Ci&&("1"==Ci?Di=1:"2"==Ci?Di=2:"3"==Ci?Di=3:"4"==Ci?Di=4:"5"==Ci?Di=5:"6"==Ci?Di=6:"7"==Ci?Di=7:"8"==Ci?Di=8:"9"==Ci?Di=9:"a"==Ci?Di=20:"b"==Ci?Di=21:"c"==Ci?Di=22:"d"==Ci?Di=23:"e"==Ci?Di=24:"f"==Ci?Di=25:"g"==Ci?Di=26:"h"==Ci?Di=27:"i"==Ci?Di=28:"j"==Ci?Di=29:"k"==Ci?(Di=40,this.hSet(Bi,Ai,100)):"l"==Ci?(Di=40,this.hSet(Bi,Ai,200)):"m"==Ci?(Di=40,this.hSet(Bi,Ai,300)):"n"==Ci?(Di=40,this.hSet(Bi,Ai,400)):"o"==Ci?(Di=40,this.hSet(Bi,Ai,500)):"p"==Ci?(Di=40,this.hSet(Bi,Ai,600)):"q"==Ci?(Di=40,this.hSet(Bi,Ai,700)):"r"==Ci?(Di=40,this.hSet(Bi,Ai,800)):"s"==Ci?(Di=40,this.hSet(Bi,Ai,900)):"t"==Ci?(Di=40,this.hSet(Bi,Ai,1e3)):"u"==Ci?(this.aSet(32*Bi,32*Ai,300,32*Bi),4==this.maps.map_bg[Bi-1][Ai]&&(Di=4)):"v"==Ci?(this.aSet(32*Bi,32*Ai,310,32*Bi),4==this.maps.map_bg[Bi-1][Ai]&&(Di=4)):"w"==Ci?(this.aSet(32*Bi,32*Ai,320,32*Bi),4==this.maps.map_bg[Bi-1][Ai]&&(Di=4)):"x"==Ci?(this.aSet(32*Bi,32*Ai,330,32*Bi),4==this.maps.map_bg[Bi-1][Ai]&&(Di=4)):"y"==Ci?this.stage_1up_f[this.stage-1]?(Di=40,this.hSet(Bi,Ai,1100)):Di=41:"z"==Ci?Di=69:"+"==Ci?(this.aSet(32*Bi,32*Ai,80,32*Bi),4==this.maps.map_bg[Bi-1][Ai]&&(Di=4)):"-"==Ci?(this.aSet(32*Bi,32*Ai,81,32*Bi),4==this.maps.map_bg[Bi-1][Ai]&&(Di=4)):"*"==Ci?(this.aSet(32*Bi,32*Ai,82,32*Bi),4==this.maps.map_bg[Bi-1][Ai]&&(Di=4)):"/"==Ci?(this.aSet(32*Bi,32*Ai,83,32*Bi),4==this.maps.map_bg[Bi-1][Ai]&&(Di=4)):"A"==Ci?(this.co_j.x=32*Bi,this.co_j.y=32*Ai,4==this.maps.map_bg[Bi-1][Ai]&&(Di=4)):"B"==Ci?(this.tSet(32*Bi,32*Ai,100,32*Bi-512-32),4==this.maps.map_bg[Bi-1][Ai]&&(Di=4)):"C"==Ci?(this.tSet(32*Bi,32*Ai,110,32*Bi-512-32),4==this.maps.map_bg[Bi-1][Ai]&&(Di=4)):"D"==Ci?(this.tSet(32*Bi,32*Ai,110,32*Bi-512-32),this.tSet(32*Bi+75,32*Ai,110,32*Bi-512-32),this.tSet(32*Bi+150,32*Ai,110,32*Bi-512-32),4==this.maps.map_bg[Bi-1][Ai]&&(Di=4)):"E"==Ci?(this.tSet(32*Bi,32*Ai,200,32*Bi-512-32),4==this.maps.map_bg[Bi-1][Ai]&&(Di=4)):"F"==Ci?(this.tSet(32*Bi,32*Ai,300,32*Bi-512-32),4==this.maps.map_bg[Bi-1][Ai]&&(Di=4)):"G"==Ci?(this.tSet(32*Bi,32*Ai,400,32*Bi-512-32),4==this.maps.map_bg[Bi-1][Ai]&&(Di=4)):"H"==Ci?(this.tSet(32*Bi,32*Ai,500,32*Bi-512-32),4==this.maps.map_bg[Bi-1][Ai]&&(Di=4)):"I"==Ci?(this.tSet(32*Bi,32*Ai,510,32*Bi-512-32),4==this.maps.map_bg[Bi-1][Ai]&&(Di=4)):"J"==Ci?(this.tSet(32*Bi,32*Ai,510,32*Bi-512-32-32),this.tSet(32*Bi+80,32*Ai-40,510,32*Bi-512-32-32),this.tSet(32*Bi+140,32*Ai+38,510,32*Bi-512-32-32),4==this.maps.map_bg[Bi-1][Ai]&&(Di=4)):"K"==Ci?(2==this.ugokuyuka1_type?this.aSet(32*Bi,32*Ai,500,32*Bi):3==this.ugokuyuka1_type?this.aSet(32*Bi,32*Ai,510,32*Bi):4==this.ugokuyuka1_type?this.aSet(32*Bi,32*Ai,120,32*Bi):5==this.ugokuyuka1_type?this.aSet(32*Bi,32*Ai,121,32*Bi):6==this.ugokuyuka1_type?this.aSet(32*Bi,32*Ai,600,32*Bi):7==this.ugokuyuka1_type?this.aSet(32*Bi,32*Ai,700,32*Bi):this.aSet(32*Bi,32*Ai,100,32*Bi),4==this.maps.map_bg[Bi-1][Ai]&&(Di=4)):"L"==Ci?(2==this.ugokuyuka2_type?this.aSet(32*Bi,32*Ai,500,32*Bi):3==this.ugokuyuka2_type?this.aSet(32*Bi,32*Ai,510,32*Bi):4==this.ugokuyuka2_type?this.aSet(32*Bi,32*Ai,120,32*Bi):5==this.ugokuyuka2_type?this.aSet(32*Bi,32*Ai,121,32*Bi):6==this.ugokuyuka2_type?this.aSet(32*Bi,32*Ai,600,32*Bi):7==this.ugokuyuka2_type?this.aSet(32*Bi,32*Ai,700,32*Bi):this.aSet(32*Bi,32*Ai+9,110,32*Bi-16),4==this.maps.map_bg[Bi-1][Ai]&&(Di=4)):"M"==Ci?(2==this.ugokuyuka3_type?this.aSet(32*Bi,32*Ai,500,32*Bi):3==this.ugokuyuka3_type?this.aSet(32*Bi,32*Ai,510,32*Bi):4==this.ugokuyuka3_type?this.aSet(32*Bi,32*Ai,120,32*Bi):5==this.ugokuyuka3_type?this.aSet(32*Bi,32*Ai,121,32*Bi):6==this.ugokuyuka3_type?this.aSet(32*Bi,32*Ai,600,32*Bi):7==this.ugokuyuka3_type?this.aSet(32*Bi,32*Ai,700,32*Bi):(this.aSet(32*Bi,32*Ai+9,115,32*Bi-16),this.aSet(32*Bi,32*Ai+9,116,32*Bi-16)),4==this.maps.map_bg[Bi-1][Ai]&&(Di=4)):"N"==Ci?(this.aSet(32*Bi-32,32*Ai,400,32*Bi),4==this.maps.map_bg[Bi-1][Ai]&&(Di=4)):"O"==Ci?(this.tSet(32*Bi,32*Ai,600,32*Bi-512-32),4==this.maps.map_bg[Bi-1][Ai]&&(Di=4)):"P"==Ci?(this.tSet(32*Bi,32*Ai,700,32*Bi-512-32),4==this.maps.map_bg[Bi-1][Ai]&&(Di=4)):"Q"==Ci?(this.tSet(32*Bi,32*Ai,800,32*Bi-512-32),4==this.maps.map_bg[Bi-1][Ai]&&(Di=4)):"R"==Ci?(this.tSet(32*Bi,32*Ai,900,32*Bi-512-32),4==this.maps.map_bg[Bi-1][Ai]&&(Di=4)):"S"==Ci?(this.co_b.c=100,this.co_b.c4=3,this.co_b.x=32*Bi,this.co_b.y=32*Ai-16,4==this.maps.map_bg[Bi-1][Ai]&&(Di=4),this.co_b.x<448?this.co_b.x=448:5664<this.co_b.x&&(this.co_b.x=5664),10==this.sl_step?this.sl_step=11:this.sl_step=1,this.sl_wx=this.co_b.x-384,this.sl_wy=960):"T"==Ci?(this.co_b.c=200,this.co_b.c4=3,this.co_b.x=32*Bi,this.co_b.y=32*Ai-16,4==this.maps.map_bg[Bi-1][Ai]&&(Di=4),this.co_b.x<448?this.co_b.x=448:5664<this.co_b.x&&(this.co_b.x=5664),10==this.sl_step?this.sl_step=11:this.sl_step=1,this.sl_wx=this.co_b.x-384,this.sl_wy=960):"U"==Ci?(this.aSet(32*Bi+16,32*Ai+16,70,32*Bi),Di=50):"V"==Ci?(this.aSet(32*Bi+16,32*Ai+16,71,32*Bi),Di=50):"W"==Ci?(this.tSet(32*Bi,32*Ai-16,1e3,32*Bi-512-32-32),Di=4):"X"==Ci?(this.tSet(32*Bi,32*Ai,1100,32*Bi-512-32),Di=4):"Y"==Ci?(this.aSet(32*Bi,32*Ai,60,32*Bi),4==this.maps.map_bg[Bi-1][Ai]&&(Di=4)):"Z"==Ci&&(this.co_b.c=300,this.co_b.c4=3,this.co_b.x=32*Bi,this.co_b.y=32*Ai-16,this.boss_kijyun_y=this.co_b.y,4==this.maps.map_bg[Bi-1][Ai]&&(Di=4),this.co_b.x<448?this.co_b.x=448:5664<this.co_b.x&&(this.co_b.x=5664),10==this.sl_step?this.sl_step=11:this.sl_step=1,this.sl_wx=this.co_b.x-384,this.sl_wy=960),0<=Di&&(this.maps.map_bg[Bi][Ai]=Di))}for(var Ei=0;Ei<=this.maps.width-1;Ei++)this.maps.map_bg[Ei][0]=21,this.maps.map_bg[Ei][this.maps.height-1]=21;for(var Fi=0;Fi<=this.maps.height-1;Fi++)this.maps.map_bg[0][Fi]=21,this.maps.map_bg[181][Fi]=21,this.maps.map_bg[199][Fi]=21;this.ochiru_y=this.maps.wy_max+320,this.maps.wx=this.co_j.x-96,this.maps.wy=this.co_j.y-176,this.maps.wx<this.maps.wx_mini?this.maps.wx=this.maps.wx_mini:this.maps.wx>this.maps.wx_max&&(this.maps.wx=this.maps.wx_max),this.maps.wy<this.maps.wy_mini?this.maps.wy=this.maps.wy_mini:this.maps.wy>this.maps.wy_max&&(this.maps.wy=this.maps.wy_max),this.co_j.wx=this.co_j.x-this.maps.wx,this.co_j.wy=this.co_j.y-this.maps.wy},G.prototype.drawGamescreen=function(){this.maps.drawMapScroll(this.g_ac2);var Gi=this.maps.wx,Hi=this.maps.wy;if(this.co_j.wx=this.co_j.x-this.maps.wx,this.co_j.wy=this.co_j.y-this.maps.wy,this.a_hf)for(var Ii=0;Ii<=this.a_kazu;Ii++)if(this.co_a[Ii].gf){var Ji=this.co_a[Ii],Ki=Ji.x-Gi,Li=Ji.y-Hi;switch(Ji.pt){default:break;case 100:this.hg.drawImage(this.hi[190],Ki,Li,this.ap),this.hg.drawImage(this.hi[191],Ki+32,Li,this.ap),this.hg.drawImage(this.hi[192],Ki+64,Li,this.ap);break;case 200:this.hg.drawImage(this.hi[76],Ki,Li,this.ap),this.hg.drawImage(this.hi[77],Ki+32,Li,this.ap),this.hg.drawImage(this.hi[86],Ki,Li+32,this.ap),this.hg.drawImage(this.hi[87],Ki+32,Li+32,this.ap);break;case 210:this.hg.drawImage(this.hi[78],Ki,Li,this.ap),this.hg.drawImage(this.hi[79],Ki+32,Li,this.ap),this.hg.drawImage(this.hi[88],Ki,Li+32,this.ap),this.hg.drawImage(this.hi[89],Ki+32,Li+32,this.ap);break;case 300:this.hg.drawImage(this.hi[60],Ki,Li,this.ap),this.hg.drawImage(this.hi[61],Ki+32,Li,this.ap);break;case 310:this.hg.drawImage(this.hi[62],Ki,Li,this.ap),this.hg.drawImage(this.hi[63],Ki+32,Li,this.ap);break;case 320:this.hg.drawImage(this.hi[64],Ki,Li,this.ap),this.hg.drawImage(this.hi[65],Ki+32,Li,this.ap);break;case 330:this.hg.drawImage(this.hi[66],Ki,Li,this.ap),this.hg.drawImage(this.hi[67],Ki+32,Li,this.ap);break;case 400:this.hg.drawImage(this.hi[183],Ki,Li,this.ap),this.hg.drawImage(this.hi[184],Ki+32,Li,this.ap),this.hg.drawImage(this.hi[185],Ki+64,Li,this.ap),this.hg.drawImage(this.hi[193],Ki,Li+32,this.ap),this.hg.drawImage(this.hi[194],Ki+32,Li+32,this.ap),this.hg.drawImage(this.hi[195],Ki+64,Li+32,this.ap);break;case 500:this.hg.drawImage(this.hi[180],Ki,Li,this.ap),this.hg.drawImage(this.hi[181],Ki+32,Li,this.ap),this.hg.drawImage(this.hi[182],Ki+64,Li,this.ap);break;case 600:this.hg.drawImage(this.hi[188],Ki,Li,this.ap),this.hg.drawImage(this.hi[189],Ki+32,Li,this.ap),this.hg.drawImage(this.hi[198],Ki,Li+32,this.ap),this.hg.drawImage(this.hi[199],Ki+32,Li+32,this.ap);break;case 605:this.hg.drawImage(this.hih[1][189],Ki,Li,this.ap),this.hg.drawImage(this.hih[1][188],Ki+32,Li,this.ap),this.hg.drawImage(this.hih[1][199],Ki,Li+32,this.ap),this.hg.drawImage(this.hih[1][198],Ki+32,Li+32,this.ap);break;case 700:this.hg.drawImage(this.hi[32],Ki,Li,this.ap);break;case 710:this.hg.drawImage(this.hi[33],Ki,Li,this.ap);break;case 720:this.hg.drawImage(this.hi[34],Ki,Li,this.ap);break;case 800:Ji.x>=this.co_j.x?this.hg.drawImage(this.hi[35+Ji.c3],Ki,Li,this.ap):this.hg.drawImage(this.hih[1][35+Ji.c3],Ki,Li,this.ap);break;case 1100:var Mi=c.floor(16*c.cos(6.283185307179586*(Ji.c3+90)/360)),Ni=c.floor(16*c.sin(6.283185307179586*(Ji.c3+90)/360));if(this.vo_pa_x[0]=this.vo_x[Ii][0]-Gi+Mi,this.vo_pa_y[0]=this.vo_y[Ii][0]-Hi+Ni,this.vo_pa_x[1]=this.vo_x[Ii][0]-Gi-Mi,this.vo_pa_y[1]=this.vo_y[Ii][0]-Hi-Ni,this.vo_pa_x[2]=this.vo_x[Ii][1]-Gi-Mi,this.vo_pa_y[2]=this.vo_y[Ii][1]-Hi-Ni,this.vo_pa_x[3]=this.vo_x[Ii][1]-Gi+Mi,this.vo_pa_y[3]=this.vo_y[Ii][1]-Hi+Ni,this.gg.os_g.setColor(this.gamecolor_firebar1),this.gg.os_g.fillPolygon(this.vo_pa_x,this.vo_pa_y,4),2<=this.g_c2){this.gg.os_g.setColor(this.gamecolor_firebar2);var Oi=c.floor(10*c.cos(6.283185307179586*(Ji.c3+90)/360)),Pi=c.floor(10*c.sin(6.283185307179586*(Ji.c3+90)/360));this.vo_pa_x[0]=this.vo_x[Ii][2]-Gi+Oi,this.vo_pa_y[0]=this.vo_y[Ii][2]-Hi+Pi,this.vo_pa_x[1]=this.vo_x[Ii][2]-Gi-Oi,this.vo_pa_y[1]=this.vo_y[Ii][2]-Hi-Pi,this.vo_pa_x[2]=this.vo_x[Ii][3]-Gi-Oi,this.vo_pa_y[2]=this.vo_y[Ii][3]-Hi-Pi,this.vo_pa_x[3]=this.vo_x[Ii][3]-Gi+Oi,this.vo_pa_y[3]=this.vo_y[Ii][3]-Hi+Pi,this.gg.os_g.fillPolygon(this.vo_pa_x,this.vo_pa_y,4)}}}if(0<this.m_kazu)for(var Qi=0;Qi<=23;Qi++)if(50<=this.co_m[Qi].c){var Ri=this.co_m[Qi];if(50==Ri.c){this.hg.drawImage(this.hih[Ri.pth][Ri.pt],Ri.x-Gi,Ri.y-Hi,this.ap);var Si=this.maps.getBGCode(Ri.x,Ri.y);20<=Si&&this.gg.drawPT(32*(Ri.x>>5)-Gi,32*(Ri.y>>5)-Hi,Si,0),20<=(Si=this.maps.getBGCode(Ri.x+31,Ri.y))&&this.gg.drawPT(32*(Ri.x+31>>5)-Gi,32*(Ri.y>>5)-Hi,Si,0)}else 1e3==Ri.pt?(this.gg.os_g.setColor(this.gamecolor_mizunohadou),this.gg.os_g.fillOval(Ri.x-Gi+16-Ri.c2,Ri.y-Hi+16-Ri.c2,2*Ri.c2,2*Ri.c2)):1100==Ri.pt?(0==this.g_ac?this.gg.os_g.setColor(this.gamecolor_grenade1):this.gg.os_g.setColor(this.gamecolor_grenade2),this.gg.os_g.fillOval(Ri.x-Gi+16-Ri.c2,Ri.y-Hi+16-Ri.c2,2*Ri.c2,2*Ri.c2)):this.hg.drawImage(this.hih[Ri.pth][Ri.pt],Ri.x-Gi,Ri.y-Hi,this.ap)}if(0<this.jm_kazu)for(var Ti=0;Ti<=1;Ti++)if(50<=this.co_jm[Ti].c){var Ui=this.co_jm[Ti];Ui.pt<1e3?this.hg.drawImage(this.hih[Ui.pth][Ui.pt],Ui.x-Gi,Ui.y-Hi,this.ap):1200==Ui.pt?(0==this.g_ac?this.gg.os_g.setColor(this.gamecolor_grenade1):this.gg.os_g.setColor(this.gamecolor_grenade2),this.gg.os_g.fillRect(Ui.x-Gi,Ui.y-Hi+12,Ui.vx-Ui.x+1,8)):1205==Ui.pt?(0==this.g_ac?this.gg.os_g.setColor(this.gamecolor_grenade1):this.gg.os_g.setColor(this.gamecolor_grenade2),this.gg.os_g.fillRect(Ui.vx-Gi,Ui.y-Hi+12,Ui.x-Ui.vx+1,8)):(0==this.g_ac?this.gg.os_g.setColor(this.gamecolor_grenade1):this.gg.os_g.setColor(this.gamecolor_grenade2),this.gg.os_g.fillOval(Ui.x-Gi+16-Ui.c2,Ui.y-Hi+16-Ui.c2,2*Ui.c2,2*Ui.c2))}for(var Vi=0;Vi<=this.t_kazu;Vi++)if(50<=this.co_t[Vi].c){var Wi=this.co_t[Vi].x-Gi,Xi=this.co_t[Vi].y-Hi;-64<=Wi&&Xi<=576&&this.hg.drawImage(this.hih[this.co_t[Vi].pth][this.co_t[Vi].pt],Wi,Xi,this.ap)}if(50<this.co_b.c){var Yi=this.co_b.x-Gi;if(Yi<528){var Zi=this.co_b.y-Hi;switch(this.co_b.pt){default:break;case 1e3:this.hg.drawImage(this.hih[0][186],Yi-16,Zi-16,this.ap),this.hg.drawImage(this.hih[0][187],Yi+16,Zi-16,this.ap),this.hg.drawImage(this.hih[0][196],Yi-16,Zi+16,this.ap),this.hg.drawImage(this.hih[0][197],Yi+16,Zi+16,this.ap);break;case 1005:this.hg.drawImage(this.hih[1][187],Yi-16,Zi-16,this.ap),this.hg.drawImage(this.hih[1][186],Yi+16,Zi-16,this.ap),this.hg.drawImage(this.hih[1][197],Yi-16,Zi+16,this.ap),this.hg.drawImage(this.hih[1][196],Yi+16,Zi+16,this.ap);break;case 1010:this.hg.drawImage(this.hih[0][176],Yi-16,Zi+16,this.ap),this.hg.drawImage(this.hih[0][177],Yi+16,Zi+16,this.ap);break;case 1015:this.hg.drawImage(this.hih[1][177],Yi-16,Zi+16,this.ap),this.hg.drawImage(this.hih[1][176],Yi+16,Zi+16,this.ap);break;case 1100:this.hg.drawImage(this.hih[0][188],Yi-16,Zi-16,this.ap),this.hg.drawImage(this.hih[0][189],Yi+16,Zi-16,this.ap),this.hg.drawImage(this.hih[0][198],Yi-16,Zi+16,this.ap),this.hg.drawImage(this.hih[0][199],Yi+16,Zi+16,this.ap);break;case 1105:this.hg.drawImage(this.hih[1][189],Yi-16,Zi-16,this.ap),this.hg.drawImage(this.hih[1][188],Yi+16,Zi-16,this.ap),this.hg.drawImage(this.hih[1][199],Yi-16,Zi+16,this.ap),this.hg.drawImage(this.hih[1][198],Yi+16,Zi+16,this.ap);break;case 1110:this.hg.drawImage(this.hih[0][178],Yi-16,Zi+16,this.ap),this.hg.drawImage(this.hih[0][179],Yi+16,Zi+16,this.ap);break;case 1115:this.hg.drawImage(this.hih[1][179],Yi-16,Zi+16,this.ap),this.hg.drawImage(this.hih[1][178],Yi+16,Zi+16,this.ap);break;case 1200:this.hg.drawImage(this.hih[0][238],Yi-16,Zi-16,this.ap),this.hg.drawImage(this.hih[0][239],Yi+16,Zi-16,this.ap),this.hg.drawImage(this.hih[0][248],Yi-16,Zi+16,this.ap),this.hg.drawImage(this.hih[0][249],Yi+16,Zi+16,this.ap);break;case 1205:this.hg.drawImage(this.hih[1][239],Yi-16,Zi-16,this.ap),this.hg.drawImage(this.hih[1][238],Yi+16,Zi-16,this.ap),this.hg.drawImage(this.hih[1][249],Yi-16,Zi+16,this.ap),this.hg.drawImage(this.hih[1][248],Yi+16,Zi+16,this.ap);break;case 1210:this.hg.drawImage(this.hih[0][228],Yi-16,Zi+16,this.ap),this.hg.drawImage(this.hih[0][229],Yi+16,Zi+16,this.ap);break;case 1215:this.hg.drawImage(this.hih[1][229],Yi-16,Zi+16,this.ap),this.hg.drawImage(this.hih[1][228],Yi+16,Zi+16,this.ap);break;case 1250:this.hg.drawImage(this.hih[0][238],Yi-16,Zi-16,this.ap),this.hg.drawImage(this.hih[0][239],Yi+16,Zi-16,this.ap),this.hg.drawImage(this.hih[0][248],Yi-16,Zi+16,this.ap),this.hg.drawImage(this.hih[0][249],Yi+16,Zi+16,this.ap),this.j_v_c<=0&&(this.j_v_kakudo+=2,360<this.j_v_kakudo&&(this.j_v_kakudo-=360)),Yi=this.co_b.x-Gi+16,Zi=this.co_b.y-Hi+16,this.gg.os_g.setColor(D.white);for(var $i=.017453292519943295,_i=0;_i<=5;_i++){var aj=(this.j_v_kakudo+60*_i)*$i;this.vo_pa_x[_i]=Yi+c.floor(50*c.cos(aj)),this.vo_pa_y[_i]=Zi+c.floor(50*c.sin(aj))}this.gg.os_g.drawPolygon(this.vo_pa_x,this.vo_pa_y,6);for(var bj=0;bj<=5;bj++){var cj=(360-this.j_v_kakudo+60*bj)*$i;this.vo_pa_x[bj]=Yi+c.floor(50*c.cos(cj)),this.vo_pa_y[bj]=Zi+c.floor(50*c.sin(cj))}this.gg.os_g.drawPolygon(this.vo_pa_x,this.vo_pa_y,6);break;case 1255:this.hg.drawImage(this.hih[1][239],Yi-16,Zi-16,this.ap),this.hg.drawImage(this.hih[1][238],Yi+16,Zi-16,this.ap),this.hg.drawImage(this.hih[1][249],Yi-16,Zi+16,this.ap),this.hg.drawImage(this.hih[1][248],Yi+16,Zi+16,this.ap),this.j_v_c<=0&&(this.j_v_kakudo+=2,360<this.j_v_kakudo&&(this.j_v_kakudo-=360)),Yi=this.co_b.x-Gi+16,Zi=this.co_b.y-Hi+16,this.gg.os_g.setColor(D.white);for(var dj=.017453292519943295,ej=0;ej<=5;ej++){var fj=(this.j_v_kakudo+60*ej)*dj;this.vo_pa_x[ej]=Yi+c.floor(50*c.cos(fj)),this.vo_pa_y[ej]=Zi+c.floor(50*c.sin(fj))}this.gg.os_g.drawPolygon(this.vo_pa_x,this.vo_pa_y,6);for(var gj=0;gj<=5;gj++){var hj=(360-this.j_v_kakudo+60*gj)*dj;this.vo_pa_x[gj]=Yi+c.floor(50*c.cos(hj)),this.vo_pa_y[gj]=Zi+c.floor(50*c.sin(hj))}this.gg.os_g.drawPolygon(this.vo_pa_x,this.vo_pa_y,6)}}}if(96<=this.j_jet_c&&(0==this.g_c1?this.hg.drawImage(this.hi[134],this.co_j.x-Gi,this.co_j.y-Hi+36,this.ap):this.hg.drawImage(this.hi[135],this.co_j.x-Gi,this.co_j.y-Hi+36,this.ap)),0<this.j_v_c&&(this.j_v_c--,this.j_v_kakudo+=2,360<this.j_v_kakudo&&(this.j_v_kakudo-=360),50<this.j_v_c||1==this.g_ac)){var ij=this.co_j.x-Gi+16,jj=this.co_j.y-Hi+16;this.gg.os_g.setColor(D.white);for(var kj=.017453292519943295,lj=0;lj<=5;lj++){var mj=(this.j_v_kakudo+60*lj)*kj;this.vo_pa_x[lj]=ij+c.floor(38*c.cos(mj)),this.vo_pa_y[lj]=jj+c.floor(38*c.sin(mj))}this.gg.os_g.drawPolygon(this.vo_pa_x,this.vo_pa_y,6);for(var nj=0;nj<=5;nj++){var oj=(360-this.j_v_kakudo+60*nj)*kj;this.vo_pa_x[nj]=ij+c.floor(38*c.cos(oj)),this.vo_pa_y[nj]=jj+c.floor(38*c.sin(oj))}this.gg.os_g.drawPolygon(this.vo_pa_x,this.vo_pa_y,6)}if(this.j_zan_f){var pj=this.j_zan_p+(6-this.j_zan_nagasa);5<pj&&(pj-=6);var qj=this.j_zan_p+1;5<qj&&(qj-=6);do{var rj=this.j_zan_x[pj]-Gi,sj=this.j_zan_y[pj]-Hi,tj=this.j_zan_pth[pj];this.hg.drawImage(this.hih[tj][this.j_zan_pt[pj]],rj,sj,this.ap),5<++pj&&(pj=0)}while(pj!=qj);this.j_zan_p++,5<this.j_zan_p&&(this.j_zan_p=0),this.j_zan_x[this.j_zan_p]=this.co_j.x,this.j_zan_y[this.j_zan_p]=this.co_j.y,this.j_zan_pt[this.j_zan_p]=this.co_j.pt,this.j_zan_pth[this.j_zan_p]=this.co_j.muki,this.j_zan_c<9?(this.j_zan_c++,0<=this.co_j.vy&&(this.j_zan_c=9)):(this.j_zan_nagasa--,this.j_zan_nagasa<0&&(this.j_zan_f=!1))}if(this.co_j.pt<1e3?this.gg.drawPT(this.co_j.wx,this.co_j.wy,this.co_j.pt,this.co_j.muki):1e3==this.co_j.pt?0==this.co_j.muki?(this.gg.drawPT(this.co_j.wx,this.co_j.wy,118,this.co_j.muki),this.gg.drawPT(this.co_j.wx-32,this.co_j.wy,117,this.co_j.muki)):(this.gg.drawPT(this.co_j.wx,this.co_j.wy,118,1),this.gg.drawPT(this.co_j.wx+32,this.co_j.wy,117,1)):1100==this.co_j.pt?(this.co_j.c1<=0?this.gg.drawPT(this.co_j.wx,this.co_j.wy,100,this.co_j.muki):32<=this.co_j.c1?this.gg.drawPT(this.co_j.wx,this.co_j.wy+32,100,this.co_j.muki):this.gg.drawPT(this.co_j.wx,this.co_j.wy+this.co_j.c1,100,this.co_j.muki),this.gg.drawPT(this.co_j.wx-16,this.co_j.wy+32,60+2*this.co_j.c2,0),this.gg.drawPT(this.co_j.wx+16,this.co_j.wy+32,61+2*this.co_j.c2,0)):this.co_j.pt,0<this.hitokoto_c){this.hitokoto_c--;for(var xj=0,yj=0;yj<=2;yj++){var zj=yj+1,Aj="hitokoto"+this.hitokoto_num+"-"+zj;Aj=this.gg.ap.getParameter(Aj),zj=parseInt(Aj),isNaN(zj)&&(zj=-1),0!=zj&&xj++}this.km.drawWindowbox(208,56,224,30+14*xj),this.hg.setFont(new E("Dialog",0,12)),this.hg.setColor(D.cyan);var Bj="hitokoto"+this.hitokoto_num+"_name";this.hg.drawString(this.gg.ap.getParameter(Bj),214,74),this.hg.setColor(D.white);for(var Cj=xj=0;Cj<=2;Cj++){var Dj=Cj+1,Ej="hitokoto"+this.hitokoto_num+"-"+Dj;Ej=this.gg.ap.getParameter(Ej),Dj=parseInt(Ej),isNaN(Dj)&&(Dj=-1),0!=Dj&&(this.hg.drawString(Ej,214,80+14*xj+12),xj++)}}},G.prototype.jM100=function(){var Fj=!1,Gj=!1;this.j_mizu_f=!1;var Hj=this.maps.getBGCode(this.co_j.x+15,this.co_j.y+15);4==Hj?(this.j_mizu_f=!0,this.j_jet_c=0,this.j_mizu_awa_c++,44==this.j_mizu_awa_c||54==this.j_mizu_awa_c?this.mSet(this.co_j.x,this.co_j.y+4,60):54<this.j_mizu_awa_c&&(this.j_mizu_awa_c=0)):8!=Hj&&9!=Hj||4!=this.maps.map_bg[(this.co_j.x+15>>5)-1][this.co_j.y+15>>5]||(this.j_mizu_f=!0,this.j_jet_c=0,this.j_mizu_awa_c++,44==this.j_mizu_awa_c||54==this.j_mizu_awa_c?this.mSet(this.co_j.x,this.co_j.y+4,60):54<this.j_mizu_awa_c&&(this.j_mizu_awa_c=0)),this.gk.tr1_f?this.tr1_c<6&&this.tr1_c++:this.tr1_c=0,this.gk.tr2_f?this.tr2_c<2&&this.tr2_c++:this.tr2_c=0,this.gk.left_f?this.gk.left_c<2&&this.gk.left_c++:this.gk.left_c=0,this.gk.right_f?this.gk.right_c<2&&this.gk.right_c++:this.gk.right_c=0,1==this.gk.left_c?(0<this.left_dcc?this.j_hashiru_f=!0:this.j_hashiru_f=!1,this.left_dcc=8):0<this.left_dcc&&this.left_dcc--,1==this.gk.right_c?(0<this.right_dcc?this.j_hashiru_f=!0:this.j_hashiru_f=!1,this.right_dcc=8):0<this.right_dcc&&this.right_dcc--;var Ij=this.co_j.x,Jj=this.co_j.y;this.co_j.pt=100;var Kj=Ij+15>>5,Lj=Jj+31>>5,Nj=(this.maps.map_bg[Kj][Lj],Jj+32>>5),Oj=this.maps.map_bg[Kj][Nj];if(20<=Oj||0<=this.j_a_id?(this.co_j.jimen_f=!0,this.j_jump_type=2,69==Oj&&(Gj=!0)):this.co_j.jimen_f=!1,this.co_j.jimen_f?(this.j_zan_f=!1,this.j_jet_c=0,this.gk.left_f?(this.co_j.vx-=Gj?4:15,this.j_hashiru_f?(this.j_mizu_f?this.co_j.vx<-60&&(this.co_j.vx=-60):this.co_j.vx<-120&&(this.co_j.vx=-120),0<this.co_j.vx&&!Gj?(this.co_j.pt=108,this.co_j.ac=0):(this.co_j.pt=105+(this.co_j.ac>>1),this.co_j.ac++,3<this.co_j.ac&&(this.co_j.ac=0))):(this.j_mizu_f?this.co_j.vx<-40&&(this.co_j.vx=-40):this.co_j.vx<-60&&(this.co_j.vx=-60),0<this.co_j.vx&&!Gj?(this.co_j.pt=108,this.co_j.ac=0):(this.co_j.pt=103+(this.co_j.ac>>1),this.co_j.ac++,3<this.co_j.ac&&(this.co_j.ac=0))),this.co_j.muki=0):this.gk.right_f?(this.co_j.vx+=Gj?4:15,this.j_hashiru_f?(this.j_mizu_f?60<this.co_j.vx&&(this.co_j.vx=60):120<this.co_j.vx&&(this.co_j.vx=120),this.co_j.vx<0&&!Gj?(this.co_j.pt=108,this.co_j.ac=0):(this.co_j.pt=105+(this.co_j.ac>>1),this.co_j.ac++,3<this.co_j.ac&&(this.co_j.ac=0))):(this.j_mizu_f?40<this.co_j.vx&&(this.co_j.vx=40):60<this.co_j.vx&&(this.co_j.vx=60),this.co_j.vx<0&&!Gj?(this.co_j.pt=108,this.co_j.ac=0):(this.co_j.pt=103+(this.co_j.ac>>1),this.co_j.ac++,3<this.co_j.ac&&(this.co_j.ac=0))),this.co_j.muki=1):this.co_j.vx<0?(Gj?this.co_j.vx++:this.co_j.vx+=5,0<this.co_j.vx&&(this.co_j.vx=0),this.j_hashiru_f||Gj?(this.co_j.pt=107,this.co_j.ac=0):(this.co_j.pt=103+(this.co_j.ac>>1),this.co_j.ac++,3<this.co_j.ac&&(this.co_j.ac=0)),this.co_j.muki=0):0<this.co_j.vx?(Gj?this.co_j.vx--:this.co_j.vx-=5,this.co_j.vx<0&&(this.co_j.vx=0),this.j_hashiru_f||Gj?(this.co_j.pt=107,this.co_j.ac=0):(this.co_j.pt=103+(this.co_j.ac>>1),this.co_j.ac++,3<this.co_j.ac&&(this.co_j.ac=0)),this.co_j.muki=1):this.co_j.ac=0):(this.gk.left_f?!this.j_mizu_f&&-60<this.co_j.vx&&(this.co_j.vx-=10,this.co_j.vx<-60&&(this.co_j.vx=-60)):this.gk.right_f&&!this.j_mizu_f&&this.co_j.vx<60&&(this.co_j.vx+=10,60<this.co_j.vx&&(this.co_j.vx=60)),this.j_mizu_f?1<this.j_mizu_ac?this.co_j.pt=84:this.co_j.pt=83:0==this.j_jump_type?this.co_j.vy<20?this.co_j.pt=101:this.co_j.pt=102:2==this.j_jump_type?c.abs(this.co_j.vx)<=60?this.co_j.pt=103:this.co_j.pt=105:3==this.j_jump_type?this.co_j.pt=119:4==this.j_jump_type?this.co_j.pt=100:this.co_j.pt=109,this.co_j.ac=2),this.j_jdai_f&&(this.co_j.vx=0,this.co_j.pt=100,this.co_j.ac=0),this.co_j.vx<0){if(this.co_j.x+=s(this.co_j.vx/10),this.a_hf)for(var Pj=0;Pj<=this.a_kazu;Pj++)if(this.co_a[Pj].gf){var Qj=this.co_a[Pj];100<=Qj.c&&Qj.c<200?this.co_j.x+15>=Qj.x&&this.co_j.x<=Qj.x+64&&this.co_j.y+31>=Qj.y&&this.co_j.y<=Qj.y+13&&(this.co_j.x=Qj.x+65,this.co_j.vx=0):300==Qj.c?this.co_j.x+15>=Qj.x&&this.co_j.x<=Qj.x+48&&this.co_j.y+31>=Qj.y&&this.co_j.y<=Qj.y+31&&(this.co_j.x=Qj.x+49,this.co_j.vx=0):400==Qj.c?this.co_j.x+15>=Qj.x&&this.co_j.x<=Qj.x+80&&this.co_j.y+31>=Qj.y&&this.co_j.y<=Qj.y+63&&(this.co_j.x=Qj.x+81,this.co_j.vx=0):500==Qj.c?this.co_j.x+15>=Qj.x&&this.co_j.x<=Qj.x+80&&this.co_j.y+31>=Qj.y&&this.co_j.y<=Qj.y+13&&(this.co_j.x=Qj.x+81,this.co_j.vx=0):600==Qj.c?this.co_j.x+15>=Qj.x&&this.co_j.x<=Qj.x+48&&this.co_j.y+31>=Qj.y+16&&this.co_j.y<=Qj.y+47&&(this.co_j.x=Qj.x+49,this.co_j.vx=0):700==Qj.c&&this.co_j.x+15>=Qj.x&&this.co_j.x<=Qj.x+16&&this.co_j.y+31>=Qj.y&&this.co_j.y<=Qj.y+31&&(this.co_j.x=Qj.x+17,this.co_j.vx=0)}var Rj=this.co_j.x+15>>5,Sj=this.maps.map_bg[Rj][this.co_j.y>>5],Tj=this.co_j.y+31>>5,Uj=this.maps.map_bg[Rj][Tj];(20<=Sj||20<=Uj)&&(this.co_j.x=32*Rj+17,this.co_j.vx=0)}else if(0<this.co_j.vx){if(this.co_j.x+=s(this.co_j.vx/10),this.a_hf)for(var Vj=0;Vj<=this.a_kazu;Vj++)if(this.co_a[Vj].gf){var Wj=this.co_a[Vj];100<=Wj.c&&Wj.c<200?this.co_j.x+15>=Wj.x&&this.co_j.x<=Wj.x+64&&this.co_j.y+31>=Wj.y&&this.co_j.y<=Wj.y+13&&(this.co_j.x=Wj.x-16,this.co_j.vx=0):300==Wj.c?this.co_j.x+15>=Wj.x&&this.co_j.x<=Wj.x+48&&this.co_j.y+31>=Wj.y&&this.co_j.y<=Wj.y+31&&(this.co_j.x=Wj.x-16,this.co_j.vx=0):400==Wj.c?this.co_j.x+15>=Wj.x&&this.co_j.x<=Wj.x+80&&this.co_j.y+31>=Wj.y&&this.co_j.y<=Wj.y+63&&(this.co_j.x=Wj.x-16,this.co_j.vx=0):500==Wj.c?this.co_j.x+15>=Wj.x&&this.co_j.x<=Wj.x+80&&this.co_j.y+31>=Wj.y&&this.co_j.y<=Wj.y+13&&(this.co_j.x=Wj.x-16,this.co_j.vx=0):600==Wj.c?this.co_j.x+15>=Wj.x&&this.co_j.x<=Wj.x+48&&this.co_j.y+31>=Wj.y+16&&this.co_j.y<=Wj.y+47&&(this.co_j.x=Wj.x-16,this.co_j.vx=0):700==Wj.c&&this.co_j.x+15>=Wj.x&&this.co_j.x<=Wj.x+16&&this.co_j.y+31>=Wj.y&&this.co_j.y<=Wj.y+31&&(this.co_j.x=Wj.x-16,this.co_j.vx=0)}var Xj=this.co_j.x+15>>5,Yj=this.maps.map_bg[Xj][this.co_j.y>>5],Zj=this.co_j.y+31>>5,$j=this.maps.map_bg[Xj][Zj];(20<=Yj||20<=$j)&&(this.co_j.x=32*Xj-16,this.co_j.vx=0)}if(this.co_j.jimen_f)if(1<=this.tr1_c&&this.tr1_c<=5)if(20<=this.maps.getBGCode(this.co_j.x+15,this.co_j.y-1)){if(1==this.tr1_c&&40==this.maps.getBGCode(this.co_j.x+15,this.co_j.y-1)){var _j=this.co_j.x+15>>5,ak=this.co_j.y-1>>5;this.hAttack(_j,ak)}if(Hj=this.maps.getBGCode(this.co_j.x+15,this.co_j.y-1),this.j_helm_f&&(20==Hj||69==Hj&&1==this.suberuyuka_hkf)){this.tr1_c=6;var bk=this.co_j.x+15>>5,ck=this.co_j.y-1>>5;4==this.maps.map_bg[this.co_j.x+15>>5][1+(this.co_j.y-1>>5)]?this.maps.putBGCode(bk,ck,4):this.maps.putBGCode(bk,ck,0),this.mSet2(32*bk,32*ck,80,12,-24),this.mSet2(32*bk,32*ck,80,-12,-24),this.jZutuki(32*bk,32*ck-32,0)}}else if(this.j_mizu_f)this.j_jump_type=0,this.co_j.pt=83,this.co_j.ac=0,this.j_mizu_ac=0,this.j_jet_kf=!1,this.j_jdai_f?(this.co_j.y=32*(this.co_j.y>>5),this.co_j.vy=-120):50<c.abs(this.co_j.vx)?this.co_j.vy=-90:this.co_j.vy=-70,this.j_jump_level=0;else{this.j_jump_type=0,this.co_j.pt=101,this.co_j.ac=0,this.j_fire_f&&(0==this.co_j.muki?this.jmSet(this.co_j.x,this.co_j.y,100):this.jmSet(this.co_j.x,this.co_j.y,105)),this.j_jet_kf=!1;var dk=c.abs(this.co_j.vx);if(this.j_jdai_f)this.co_j.y=32*(this.co_j.y>>5),this.co_j.vy=-410,this.j_jump_level=5,this.co_a[this.j_a_id].c3<=1&&(this.co_j.vy=-230);else if(0==dk)this.co_j.vy=-150,this.j_jump_level=1;else if(dk<60)this.co_j.vy=-230,this.j_jump_level=2;else if(60==dk)this.co_j.vy=-260,this.j_jump_level=3;else if(dk<120)this.co_j.vy=-290,this.j_jump_level=4;else if(this.co_j.vy=-340,this.j_jump_level=5,(Hj=this.maps.map_bg[this.co_j.x+15>>5][this.co_j.y-1>>5])<=9){for(var ek=0;ek<=5;ek++)this.j_zan_x[ek]=Ij,this.j_zan_y[ek]=Jj,this.j_zan_pt[ek]=101,this.j_zan_pth[ek]=this.co_j.muki;this.j_zan_p=0,this.j_zan_c=0,this.j_zan_nagasa=5,this.j_zan_f=!0}}else this.co_j.vy=0;else if(this.j_mizu_f)if(this.gk.left_f?this.co_j.muki=0:this.gk.right_f&&(this.co_j.muki=1),1==this.tr1_c){var fk=!1;(Hj=this.maps.map_bg[this.co_j.x+15>>5][(this.co_j.y+15>>5)-1])<=9&&4!=Hj&&(fk=!0),8!=Hj&&9!=Hj||4!=this.maps.map_bg[(this.co_j.x+15>>5)-1][(this.co_j.y+15>>5)-1]||(fk=!1),fk&&(this.co_j.y+15)%32<=8?(this.j_jump_type=0,this.co_j.pt=101,this.co_j.ac=0,this.co_j.vy=-180,this.j_jump_level=1,this.co_j.y=32*(this.co_j.y+15>>5)-14,Fj=!(this.j_jet_kf=!1),this.mSet(this.co_j.x,32*(this.co_j.y+15>>5)-32,50)):(this.j_jump_type=0,this.co_j.ac=0,this.j_mizu_ac<=0&&(this.j_mizu_ac=4,this.co_j.pt=84),this.co_j.vy=-40,(this.j_jump_level=0)==this.co_j.muki?(this.co_j.vx-=30,this.co_j.vx<-60&&(this.co_j.vx=-60)):(this.co_j.vx+=30,60<this.co_j.vx&&(this.co_j.vx=60)))}else this.co_j.vx<0?(0==this.co_j.muki?this.co_j.vx++:this.co_j.vx+=2,0<this.co_j.vx&&(this.co_j.vx=0)):0<this.co_j.vx&&(1==this.co_j.muki?this.co_j.vx--:this.co_j.vx-=2,this.co_j.vx<0&&(this.co_j.vx=0)),this.co_j.vy<40?(this.co_j.vy+=5,40<this.co_j.vy&&(this.co_j.vy=40)):40<this.co_j.vy&&(this.co_j.vy-=20,this.co_j.vy<40&&(this.co_j.vy=40)),0<this.j_mizu_ac?(this.j_mizu_ac--,1<this.j_mizu_ac?this.co_j.pt=84:this.co_j.pt=83):this.co_j.pt=83;else this.co_j.vy+=25,160<this.co_j.vy&&(this.co_j.vy=160),1==this.tr1_c&&this.j_fire_f&&(0==this.co_j.muki?this.jmSet(this.co_j.x,this.co_j.y,100):this.jmSet(this.co_j.x,this.co_j.y,105)),0==this.tr1_c&&(this.j_jet_kf=!0),this.j_jet_kf&&0<this.tr1_c&&0<this.j_jet_fuel&&!this.j_mizu_f?(this.j_jet_c=100,2==this.j_jump_type&&(this.j_jump_type=0)):96<this.j_jet_c?this.j_jet_c--:this.j_jet_c=0,96<=this.j_jet_c&&(this.j_jet_fuel--,this.j_jet_fuel<0&&(this.j_jet_fuel=0,this.j_jet_c=0),this.gk.left_f?this.co_j.muki=0:this.gk.right_f&&(this.co_j.muki=1),-150<this.co_j.vy&&(this.co_j.vy-=50,this.co_j.vy<-150&&(this.co_j.vy=-150)));if(this.co_j.vy<0){var gk=this.co_j.x+15>>5,hk=this.co_j.y>>5,jk=(this.maps.map_bg[gk][hk],this.co_j.vy);if(jk<-320&&(jk=-320),this.co_j.y+=s(jk/10),this.j_mizu_f&&!Fj){var kk=this.maps.getBGCode(this.co_j.x+15,this.co_j.y+15),lk=!1;kk<=9&&4!=kk&&(lk=!0),8!=kk&&9!=kk||4!=this.maps.map_bg[(this.co_j.x+15>>5)-1][this.co_j.y+15>>5]||(lk=!1),lk&&(this.co_j.y=32*(this.co_j.y+15>>5)+17,this.co_j.vy=-10)}if(this.a_hf)for(var mk=0;mk<=this.a_kazu;mk++)if(this.co_a[mk].gf){var nk=this.co_a[mk];100<=nk.c&&nk.c<200?this.co_j.x+15>=nk.x&&this.co_j.x<=nk.x+64&&this.co_j.y+31>=nk.y&&this.co_j.y<=nk.y+13&&(this.co_j.y=nk.y+14,this.co_j.vy=0):300==nk.c?this.co_j.x+15>=nk.x&&this.co_j.x<=nk.x+48&&this.co_j.y+31>=nk.y&&this.co_j.y<=nk.y+31&&(this.co_j.y=nk.y+32,this.co_j.vy=0):400==nk.c?this.co_j.x+15>=nk.x&&this.co_j.x<=nk.x+80&&this.co_j.y+31>=nk.y&&this.co_j.y<=nk.y+63&&(this.co_j.y=nk.y+64,this.co_j.vy=0):500==nk.c?this.co_j.x+15>=nk.x&&this.co_j.x<=nk.x+80&&this.co_j.y+31>=nk.y&&this.co_j.y<=nk.y+13&&(this.co_j.y=nk.y+14,this.co_j.vy=0):600==nk.c?this.co_j.x+15>=nk.x&&this.co_j.x<=nk.x+48&&this.co_j.y+31>=nk.y+16&&this.co_j.y<=nk.y+47&&(this.co_j.y=nk.y+48,this.co_j.vy=0):700==nk.c&&this.co_j.x+15>=nk.x&&this.co_j.x<=nk.x+16&&this.co_j.y+31>=nk.y&&this.co_j.y<=nk.y+31&&(this.co_j.y=nk.y+32,this.co_j.vy=0)}var ok=this.co_j.y>>5,pk=this.maps.map_bg[this.co_j.x+15>>5][ok];if(20<=pk){if(this.co_j.y=32*ok+32,this.co_j.vy=0,40==pk){var qk=this.co_j.x+15>>5,rk=this.co_j.y-1>>5;this.hAttack(qk,rk)}if(this.j_helm_f&&(20==pk||69==pk&&1==this.suberuyuka_hkf)){var sk=this.co_j.x+15>>5,tk=ok;4==this.maps.map_bg[sk][tk+1]?this.maps.putBGCode(sk,tk,4):this.maps.putBGCode(sk,tk,0),this.mSet2(32*sk,32*tk,80,12,-24),this.mSet2(32*sk,32*tk,80,-12,-24),this.jZutuki(32*sk,32*tk-32,0)}}if(ok<hk){if(this.gk.right_f){var uk=this.maps.map_bg[this.co_j.x+16>>5][hk],vk=this.maps.map_bg[this.co_j.x+16>>5][ok];uk<=9&&20<=vk&&(this.co_j.y=32*ok+32,this.co_j.vy=0)}if(this.gk.left_f){var wk=this.maps.map_bg[this.co_j.x+14>>5][hk],xk=this.maps.map_bg[this.co_j.x+14>>5][ok];wk<=9&&20<=xk&&(this.co_j.y=32*ok+32,this.co_j.vy=0)}}}else if(0<this.co_j.vy){var yk=this.co_j.x+15>>5,zk=this.co_j.y+31>>5;this.maps.map_bg[yk][zk];if(this.co_j.y+=s(this.co_j.vy/10),this.a_hf)for(var Bk=0;Bk<=this.a_kazu;Bk++)if(this.co_a[Bk].gf){var Ck=this.co_a[Bk];100<=Ck.c&&Ck.c<200?this.co_j.x+15>=Ck.x&&this.co_j.x<=Ck.x+64&&this.co_j.y+31>=Ck.y&&this.co_j.y<=Ck.y+13&&(this.co_j.y=Ck.y-32,this.co_j.vy=0):300==Ck.c?this.co_j.x+15>=Ck.x&&this.co_j.x<=Ck.x+48&&this.co_j.y+31>=Ck.y&&this.co_j.y<=Ck.y+31&&(this.co_j.y=Ck.y-32,this.co_j.vy=0):400==Ck.c?this.co_j.x+15>=Ck.x&&this.co_j.x<=Ck.x+80&&this.co_j.y+31>=Ck.y&&this.co_j.y<=Ck.y+63&&(this.co_j.y=Ck.y-32,this.co_j.vy=0):500==Ck.c?this.co_j.x+15>=Ck.x&&this.co_j.x<=Ck.x+80&&this.co_j.y+31>=Ck.y&&this.co_j.y<=Ck.y+13&&(this.co_j.y=Ck.y-32,this.co_j.vy=0):600==Ck.c?this.co_j.x+15>=Ck.x&&this.co_j.x<=Ck.x+48&&this.co_j.y+31>=Ck.y+16&&this.co_j.y<=Ck.y+47&&(this.co_j.y=Ck.y+16-32,this.co_j.vy=0):700==Ck.c&&this.co_j.x+15>=Ck.x&&this.co_j.x<=Ck.x+16&&this.co_j.y+31>=Ck.y&&this.co_j.y<=Ck.y+31&&(this.co_j.y=Ck.y-32,this.co_j.vy=0)}var Dk=this.co_j.y+31>>5;if(20<=this.maps.map_bg[yk][Dk]){this.co_j.y=32*Dk-32,this.co_j.vy=0,Dk=this.co_j.y+31>>5;this.maps.map_bg[yk][Dk]}if(zk<Dk){if(this.gk.right_f){var Gk=this.maps.map_bg[this.co_j.x+16>>5][zk],Hk=this.maps.map_bg[this.co_j.x+16>>5][Dk];Gk<=9&&20<=Hk&&(this.co_j.y=32*Dk-32,this.co_j.vy=0,this.co_j.pt=103,this.co_j.ac=1,this.co_j.x++)}if(this.gk.left_f){var Ik=this.maps.map_bg[this.co_j.x+14>>5][zk],Jk=this.maps.map_bg[this.co_j.x+14>>5][Dk];Ik<=9&&20<=Jk&&(this.co_j.y=32*Dk-32,this.co_j.vy=0,this.co_j.pt=103,this.co_j.ac=1,this.co_j.x--)}}if(!this.j_mizu_f){var Kk=this.maps.getBGCode(this.co_j.x+15,this.co_j.y+15);4==Kk?(this.mSet(this.co_j.x,32*(this.co_j.y+15>>5)-32,50),this.j_mizu_awa_c=38,this.co_j.vx<-60?this.co_j.vx=-60:60<this.co_j.vx&&(this.co_j.vx=60)):8!=Kk&&9!=Kk||4!=this.maps.map_bg[(this.co_j.x+15>>5)-1][this.co_j.y+15>>5]||(this.mSet(this.co_j.x,32*(this.co_j.y+15>>5)-32,50),this.j_mizu_awa_c=38,this.co_j.vx<-60?this.co_j.vx=-60:60<this.co_j.vx&&(this.co_j.vx=60))}}if(1==this.tr2_c)if(0<this.j_gr_kazu?3==this.grenade_type||4==this.grenade_type?0==this.co_j.muki?this.jmSet(this.co_j.x,this.co_j.y,60):this.jmSet(this.co_j.x,this.co_j.y,65):0==this.co_j.muki?this.jmSet(this.co_j.x,this.co_j.y,200):this.jmSet(this.co_j.x,this.co_j.y,205):!this.j_fire_f||this.j_mizu_f&&!this.j_fire_mkf||(0==this.co_j.muki?this.jmSet(this.co_j.x,this.co_j.y,100):this.jmSet(this.co_j.x,this.co_j.y,105)),Hj=this.maps.getBGCode(this.co_j.x+15,this.co_j.y+32),this.j_drell_f&&(20==Hj||69==Hj&&1==this.suberuyuka_hkf)){var Lk=this.co_j.x+15>>5,Mk=this.co_j.y+32>>5;4==this.maps.map_bg[this.co_j.x+15>>5][(this.co_j.y+32>>5)-1]?this.maps.putBGCode(Lk,Mk,4):this.maps.putBGCode(Lk,Mk,0),this.mSet2(32*Lk,32*Mk,80,12,-24),this.mSet2(32*Lk,32*Mk,80,-12,-24),this.jZutuki(32*Lk,32*Mk-32,0),this.co_j.x=32*Lk,this.co_j.vx=0,this.co_j.vy=0,this.j_jump_type=3,this.co_j.c=120,this.co_j.c1=0,this.co_j.pt=119}else this.j_tail_f&&(this.j_tail_ac<=0||8<=this.j_tail_ac)&&(this.j_tail_ac=1,this.co_j.pt=116,this.j_zan_f=!1);if(1<=this.j_tail_ac)if(this.j_zan_f=!1,this.j_tail_ac++,this.j_tail_ac<=4)this.co_j.pt=116,1!=this.j_tail_type&&3!=this.j_tail_type||(0==this.co_j.muki?this.jZutuki(this.co_j.x-32,this.co_j.y,1):this.jZutuki(this.co_j.x+32,this.co_j.y,1));else if(this.j_tail_ac<=5){if(this.co_j.pt=1e3,1!=this.j_tail_type&&3!=this.j_tail_type||(0==this.co_j.muki?this.jZutuki(this.co_j.x-32,this.co_j.y,1):this.jZutuki(this.co_j.x+32,this.co_j.y,1)),2==this.j_tail_type||3==this.j_tail_type){var Nk;Nk=1==this.co_j.muki?this.co_j.x+40>>5:this.co_j.x-8>>5;var Ok=this.co_j.y+15>>5;(20==this.maps.map_bg[Nk][Ok]||69==this.maps.map_bg[Nk][Ok]&&1==this.suberuyuka_hkf)&&(4==this.maps.map_bg[Nk-1][Ok]?this.maps.putBGCode(Nk,Ok,4):this.maps.putBGCode(Nk,Ok,0),this.mSet2(32*Nk,32*Ok,80,12,-24),this.mSet2(32*Nk,32*Ok,80,-12,-24),this.jZutuki(32*Nk,32*Ok-32,0))}}else this.j_tail_ac<=7?this.co_j.pt=1e3:this.j_tail_ac<=9?this.co_j.pt=116:(this.co_j.pt=116,this.j_tail_ac=0);switch(Hj=this.maps.map_bg[this.co_j.x+15>>5][this.co_j.y+15>>5]){case 9:4==this.maps.map_bg[(this.co_j.x+15>>5)-1][this.co_j.y+15>>5]?(this.maps.putBGCode(this.co_j.x+15>>5,this.co_j.y+15>>5,4),this.j_mizu_f=!0):this.maps.putBGCode(this.co_j.x+15>>5,this.co_j.y+15>>5,0),this.addScore(5);break;case 8:4==this.maps.map_bg[(this.co_j.x+15>>5)-1][this.co_j.y+15>>5]?(this.maps.putBGCode(this.co_j.x+15>>5,this.co_j.y+15>>5,4),this.j_mizu_f=!0):this.maps.putBGCode(this.co_j.x+15>>5,this.co_j.y+15>>5,0),this.stage_cc=1,2<=this.stage_max&&this.stage>=this.stage_max?this.addScore(1e3):this.addScore(100);break;case 5:case 6:this.co_j.y=32*(this.co_j.y+15>>5),this.jShinu(1)}(this.co_j.y>=this.ochiru_y||this.j_mizu_f&&this.co_j.y>=this.ochiru_y-16)&&(this.co_j.c=210,this.co_j.c1=0,this.co_j.y=this.ochiru_y+64,this.j_jet_c=0,this.j_v_c=0),this.co_j.wx=this.co_j.x-this.maps.wx,this.co_j.wy=this.co_j.y-this.maps.wy,this.co_j.wx<96?this.maps.wx=this.co_j.x-96:224<this.co_j.wx&&(this.maps.wx=this.co_j.x-224),this.co_j.wy<78?this.maps.wy=this.co_j.y-78:176<this.co_j.wy&&(this.maps.wy=this.co_j.y-176),this.maps.wx<this.maps.wx_mini?this.maps.wx=this.maps.wx_mini:this.maps.wx>this.maps.wx_max&&(this.maps.wx=this.maps.wx_max),this.maps.wy<this.maps.wy_mini?this.maps.wy=this.maps.wy_mini:this.maps.wy>this.maps.wy_max&&(this.maps.wy=this.maps.wy_max)},G.prototype.jMove=function(){this.j_mizu_f=!1;var Qk=this.maps.getBGCode(this.co_j.x+15,this.co_j.y+15);if(4==Qk?(this.j_mizu_f=!0,this.j_jet_c=0,this.j_mizu_awa_c++,44==this.j_mizu_awa_c||54==this.j_mizu_awa_c?this.mSet(this.co_j.x,this.co_j.y+4,60):54<this.j_mizu_awa_c&&(this.j_mizu_awa_c=0)):8!=Qk&&9!=Qk||4!=this.maps.map_bg[(this.co_j.x+15>>5)-1][this.co_j.y+15>>5]||(this.j_mizu_f=!0,this.j_jet_c=0,this.j_mizu_awa_c++,44==this.j_mizu_awa_c||54==this.j_mizu_awa_c?this.mSet(this.co_j.x,this.co_j.y+4,60):54<this.j_mizu_awa_c&&(this.j_mizu_awa_c=0)),this.gk.tr1_f?this.tr1_c<6&&this.tr1_c++:this.tr1_c=0,this.gk.tr2_f?this.tr2_c<2&&this.tr2_c++:this.tr2_c=0,this.gk.left_f?this.gk.left_c<2&&this.gk.left_c++:this.gk.left_c=0,this.gk.right_f?this.gk.right_c<2&&this.gk.right_c++:this.gk.right_c=0,1==this.gk.left_c?(0<this.left_dcc?this.j_hashiru_f=!0:this.j_hashiru_f=!1,this.left_dcc=8):0<this.left_dcc&&this.left_dcc--,1==this.gk.right_c?(0<this.right_dcc?this.j_hashiru_f=!0:this.j_hashiru_f=!1,this.right_dcc=8):0<this.right_dcc&&this.right_dcc--,110==this.co_j.c)this.gk.left_f?(this.co_j.vx-=10,this.co_j.vx<-60&&(this.co_j.vx=-60)):this.gk.right_f&&(this.co_j.vx+=10,60<this.co_j.vx&&(this.co_j.vx=60)),this.co_j.c1++,2<this.co_j.c1&&(this.co_j.c=100),this.co_j.pt=109;else if(120==this.co_j.c)this.co_j.c1++,6<this.co_j.c1&&(this.co_j.c=100),this.co_j.pt=119;else if(200==this.co_j.c)this.co_j.vy+=25,100<this.co_j.vy&&(this.co_j.vy=100),this.co_j.y+=s(this.co_j.vy/10),this.co_j.wx=this.co_j.x-this.maps.wx,this.co_j.wy=this.co_j.y-this.maps.wy,this.co_j.c2<100?(this.co_j.c1<=0?(this.co_j.pt=110,this.co_j.muki=0):this.co_j.c1<=1?(this.co_j.pt=111,this.co_j.muki=0,this.co_j.c2++,4<this.co_j.c2&&(this.co_j.c2=100)):(this.co_j.c1<=2?this.co_j.pt=112:this.co_j.pt=113,this.co_j.muki=0),this.co_j.c1++,3<this.co_j.c1&&(this.co_j.c1=0)):(this.co_j.pt=112,this.co_j.muki=0),320<=this.co_j.wy&&(this.co_j.c=210,this.co_j.c1=0,this.co_j.y=this.maps.wy+320+32,this.co_j.pt=0);else if(210==this.co_j.c)this.stage_cc<=0&&(this.co_j.c1++,16<this.co_j.c1&&(this.j_left--,this.j_left<0?(this.j_left=0,this.ml_mode=300):2==this.stage_select?this.ml_mode=250:this.ml_mode=90));else if(220==this.co_j.c)this.co_j.pt=114,this.co_j.c1++,25<=this.co_j.c1&&(this.co_j.c=210,this.co_j.c1=0);else if(230==this.co_j.c)this.co_j.pt=115,this.co_j.c1++,25<=this.co_j.c1&&(this.co_j.c=210,this.co_j.c1=0);else if(240==this.co_j.c)100<=this.co_j.c2&&(this.co_j.y+=10),this.co_j.wx=this.co_j.x-this.maps.wx,this.co_j.wy=this.co_j.y-this.maps.wy,this.co_j.c2<100?(this.co_j.c1<=0?(this.co_j.pt=110,this.co_j.muki=0):this.co_j.c1<=1?(this.co_j.pt=111,this.co_j.muki=0,this.co_j.c2++,4<this.co_j.c2&&(this.co_j.c2=100)):(this.co_j.c1<=2?this.co_j.pt=112:this.co_j.pt=113,this.co_j.muki=0),this.co_j.c1++,3<this.co_j.c1&&(this.co_j.c1=0)):(this.co_j.pt=112,this.co_j.muki=0),320<=this.co_j.wy&&(this.co_j.c=210,this.co_j.c1=0,this.co_j.y=this.maps.wy+320+32,this.co_j.pt=0);else if(300==this.co_j.c)this.co_j.pt=1100,this.co_j.c1++,32<=this.co_j.c1&&(this.co_j.c=310,this.co_j.c1=0,this.co_j.pt=1110),this.co_j.wx=this.co_j.x-this.maps.wx,this.co_j.wy=this.co_j.y-this.maps.wy,this.co_j.wx<96?this.maps.wx=this.co_j.x-96:224<this.co_j.wx&&(this.maps.wx=this.co_j.x-224),this.co_j.wy<78?this.maps.wy=this.co_j.y-78:176<this.co_j.wy&&(this.maps.wy=this.co_j.y-176),this.maps.wx<this.maps.wx_mini?this.maps.wx=this.maps.wx_mini:this.maps.wx>this.maps.wx_max&&(this.maps.wx=this.maps.wx_max),this.maps.wy<this.maps.wy_mini?this.maps.wy=this.maps.wy_mini:this.maps.wy>this.maps.wy_max&&(this.maps.wy=this.maps.wy_max);else if(310==this.co_j.c){if(this.co_j.pt=1110,this.stage_cc<=0)if(this.co_j.c1++,2==this.dokan_mode){if(10<=this.co_j.c1){var Rk;for(this.co_j.c=320,this.co_j.c1=42,Rk=0;Rk<=this.a_kazu;Rk++)if(300==this.co_a[Rk].c&&1!=this.co_a[Rk].c4&&this.co_j.c2==this.co_a[Rk].c3&&(0==this.sl_step||1==this.sl_step||10==this.sl_step||11==this.sl_step)){this.co_j.x=this.co_a[Rk].x+16,this.co_j.y=this.co_a[Rk].y-32,this.co_a[Rk].c4=1;break}this.a_kazu;for(var Sk=0;Sk<=this.a_kazu;Sk++)(100<=this.co_a[Sk].c||60==this.co_a[Sk].c)&&(this.co_a[Sk].gf=!0,300!=this.co_a[Sk].c||this.co_j.x==this.co_a[Sk].x+16&&this.co_j.y==this.co_a[Sk].y-32||(this.co_a[Sk].c4=0));10!=this.sl_step&&11!=this.sl_step||(this.maps.wx=this.co_j.x-192,this.ks_wx=this.maps.wx),this.co_j.wx=this.co_j.x-this.maps.wx,this.co_j.wy=this.co_j.y-this.maps.wy,this.co_j.wx<96?this.maps.wx=this.co_j.x-96:224<this.co_j.wx&&(this.maps.wx=this.co_j.x-224),this.co_j.wy<78?this.maps.wy=this.co_j.y-78:176<this.co_j.wy&&(this.maps.wy=this.co_j.y-176),this.maps.wx<this.maps.wx_mini?this.maps.wx=this.maps.wx_mini:this.maps.wx>this.maps.wx_max&&(this.maps.wx=this.maps.wx_max),this.maps.wy<this.maps.wy_mini?this.maps.wy=this.maps.wy_mini:this.maps.wy>this.maps.wy_max&&(this.maps.wy=this.maps.wy_max)}}else if(10==this.co_j.c1){var Tk;Tk=1==this.co_j.c2?this.gg.ap.getParameter("url2"):2==this.co_j.c2?this.gg.ap.getParameter("url3"):3==this.co_j.c2?this.gg.ap.getParameter("url4"):this.gg.ap.getParameter("url1"),location.href=Tk}else 80<this.co_j.c1&&(this.ml_mode=50)}else 320==this.co_j.c&&(this.co_j.pt=1100,this.co_j.c1--,this.co_j.c1<=0&&(this.co_j.c=100,this.co_j.c1=0,this.co_j.pt=100))},G.prototype.jShinu=function(Uk){this.co_j.c1=0,this.co_j.c2=0,this.j_zan_f=!1,this.j_jet_c=0,this.j_v_c=0,1==Uk?this.co_j.c=240:2==Uk?(this.co_j.c=200,this.co_j.vy=-280):3==Uk&&(this.co_j.c=220)},G.prototype.jZutuki=function(Vk,Wk,Xk){for(var Yk=0;Yk<=this.t_kazu;Yk++)if(100<=this.co_t[Yk].c){var Zk=this.co_t[Yk],$k=!1;1==Xk?c.abs(Vk-Zk.x)<25&&c.abs(Wk-Zk.y)<23&&($k=!0):c.abs(Vk-Zk.x)<34&&Wk==Zk.y&&($k=!0),$k&&(Vk>Zk.x?(Zk.pth=1,Zk.vx=-7):(Zk.pth=0,Zk.vx=7),Zk.c=52,Zk.vy=-32)}},G.prototype.tSet=function(_k,al,bl,cl){for(var dl=0;dl<=119;dl++)if(!(0<this.co_t[dl].c)){var el=this.co_t[dl];switch(el.c=10,el.c1=cl,el.c2=bl,el.c3=_k,el.c4=al,el.x=_k,el.y=al,this.t_kazu++,bl){case 500:el.y=al-12,el.c3=al-52,el.c4=al-12,el.vy=-4;break;case 600:el.c3=0;break;case 900:this.airms_kf&&(el.c2=950)}break}},G.prototype.tSetBoss=function(fl,gl,hl,il){this.t_kazu=129;for(var jl=120;jl<=129;jl++)if(!(0<this.co_t[jl].c)){var kl=this.co_t[jl];switch(kl.c=hl,kl.c1=0,kl.c2=0,kl.c3=fl,kl.c4=gl,kl.x=fl,kl.y=gl,kl.vx=il,hl){case 150:kl.vx=il,kl.vy=-28,kl.vx<=0?kl.muki=0:kl.muki=1;break;case 450:kl.vx=il,kl.vy=-22,kl.vx<=0?kl.muki=0:kl.muki=1;break;case 650:kl.vx=il,kl.vy=-28,kl.vx<=0?kl.muki=0:kl.muki=1}break}},G.prototype.tMove=function(){for(var ll=!1,ml=0;ml<=this.t_kazu;ml++)if(0!=this.co_t[ml].c&&this.co_t[ml].x>=this.maps.wx-512){var nl=this.co_t[ml],ol=nl.x,pl=nl.y;switch(nl.c){case 10:this.maps.wx>=nl.c1&&(nl.c=nl.c2,nl.c1=0,nl.c2=0);break;case 50:nl.c1++,14<nl.c1&&(nl.c=0,this.addScore(10));break;case 52:ol+=nl.vx,nl.vy+=5,25<nl.vy&&(nl.vy=25),(pl+=nl.vy)>this.maps.wy+320&&(nl.c=0,this.addScore(10));break;case 100:if(ol+12>>5<ol+15>>5){var ql=this.maps.map_bg[ol+15>>5][pl+31>>5];11==ql||14==ql?pl=32*(pl+31>>5)-32:10!=ql&&12!=ql||(pl=32*(pl+31>>5))}ol-=3;var rl=this.maps.map_bg[ol+15>>5][pl+31>>5];if(10<=rl&&rl<=15)pl=32*(pl+31>>5),pl=this.sakamichiY(ol,pl);else{var sl=this.maps.map_bg[ol>>5][pl+32>>5];sl<=9&&(ol=32*(ol>>5)+32,10<=(sl=this.maps.map_bg[ol+15>>5][pl+31>>5])&&sl<=15&&(ol-=15),nl.c=105),20<=(sl=this.maps.map_bg[ol>>5][pl+31>>5])&&(ol=32*(ol>>5)+32,nl.c=105),10<=(sl=this.maps.map_bg[ol+15>>5][pl+32>>5])&&sl<=15&&(pl=32*(pl+32>>5),pl=this.sakamichiY(ol,pl))}nl.pt=140+this.g_ac,nl.pth=0;break;case 105:if(ol+15>>5<ol+18>>5){var tl=this.maps.map_bg[ol+15>>5][pl+31>>5];10==tl||13==tl?pl=32*(pl+31>>5)-32:11!=tl&&15!=tl||(pl=32*(pl+31>>5))}ol+=3;var ul=this.maps.map_bg[ol+15>>5][pl+31>>5];if(10<=ul&&ul<=15)pl=32*(pl+31>>5),pl=this.sakamichiY(ol,pl);else{var vl=this.maps.map_bg[ol+31>>5][pl+32>>5];vl<=9&&(ol=32*(ol+31>>5)-32,10<=(vl=this.maps.map_bg[ol+15>>5][pl+31>>5])&&vl<=15&&(ol+=16),nl.c=100),20<=(vl=this.maps.map_bg[ol+31>>5][pl+31>>5])&&(ol=32*(ol+31>>5)-32,nl.c=100),10<=(vl=this.maps.map_bg[ol+15>>5][pl+32>>5])&&vl<=15&&(pl=32*(pl+32>>5),pl=this.sakamichiY(ol,pl))}nl.pt=140+this.g_ac,nl.pth=1;break;case 110:if(ol+12>>5<ol+15>>5){var wl=this.maps.map_bg[ol+15>>5][pl+31>>5];11==wl||14==wl?pl=32*(pl+31>>5)-32:10!=wl&&12!=wl||(pl=32*(pl+31>>5))}ol-=3;var xl=this.maps.map_bg[ol+15>>5][pl+31>>5];if(10<=xl&&xl<=15)pl=32*(pl+31>>5),pl=this.sakamichiY(ol,pl);else{var yl=pl+32>>5;if(this.maps.map_bg[ol+31>>5][yl]<=9){ol=32*(ol+31>>5);var Al=this.maps.map_bg[ol+15>>5][pl+31>>5];10<=Al&&Al<=15&&(ol-=15),nl.c=120}if(ol<32)ol<=3&&(nl.c=0);else 20<=this.maps.map_bg[ol>>5][pl+31>>5]&&(ol=32*(ol>>5)+32,nl.c=115,this.maps.map_bg[ol+15>>5][pl+32>>5]<=9&&(nl.c=120));120<=ml&&ol<this.maps.wx-32&&(nl.c=0);var Cl=this.maps.map_bg[ol+15>>5][yl];10<=Cl&&Cl<=15&&(pl=32*(pl+32>>5),pl=this.sakamichiY(ol,pl))}nl.pt=140+this.g_ac,nl.pth=0;break;case 115:if(ol+15>>5<ol+18>>5){var Dl=this.maps.map_bg[ol+15>>5][pl+31>>5];10==Dl||13==Dl?pl=32*(pl+31>>5)-32:11!=Dl&&15!=Dl||(pl=32*(pl+31>>5))}ol+=3;var El=this.maps.map_bg[ol+15>>5][pl+31>>5];if(10<=El&&El<=15)pl=32*(pl+31>>5),pl=this.sakamichiY(ol,pl);else{var Fl=pl+32>>5;if(this.maps.map_bg[ol>>5][Fl]<=9){ol=32*(ol>>5);var Hl=this.maps.map_bg[ol+15>>5][pl+31>>5];10<=Hl&&Hl<=15&&(ol+=16),nl.c=125}var Il=this.maps.map_bg[ol+31>>5][pl+31>>5];20<=Il&&(ol=32*(ol+31>>5)-32,nl.c=110,this.maps.map_bg[ol+15>>5][pl+32>>5]<=9&&(nl.c=125)),120<=ml&&ol>this.maps.wx+512&&(nl.c=0),10<=(Il=this.maps.map_bg[ol+15>>5][Fl])&&Il<=15&&(pl=32*(pl+32>>5),pl=this.sakamichiY(ol,pl))}nl.pt=140+this.g_ac,nl.pth=1;break;case 120:pl+=5;var Jl=this.maps.map_bg[ol+15>>5][pl+31>>5];if(10<=Jl&&Jl<=15){var Kl=this.sakamichiY(ol,32*(pl+31>>5));Kl<=pl&&(pl=Kl,nl.c=110)}var Ll=pl+31>>5,Ml=this.maps.map_bg[ol>>5][Ll],Nl=this.maps.map_bg[ol+31>>5][Ll];(20<=Ml||20<=Nl)&&(pl=32*Ll-32,nl.c=110),pl>=this.ochiru_y&&(nl.c=0),nl.pt=140,nl.pth=0;break;case 125:pl+=5;var Ol=this.maps.map_bg[ol+15>>5][pl+31>>5];if(10<=Ol&&Ol<=15){var Pl=this.sakamichiY(ol,32*(pl+31>>5));Pl<=pl&&(pl=Pl,nl.c=115)}var Ql=pl+31>>5,Rl=this.maps.map_bg[ol>>5][Ql],Sl=this.maps.map_bg[ol+31>>5][Ql];(20<=Rl||20<=Sl)&&(pl=32*Ql-32,nl.c=115),pl>=this.ochiru_y&&(nl.c=0),nl.pt=140,nl.pth=1;break;case 150:nl.vx<0&&(20<=this.maps.getBGCode(ol,pl)||20<=this.maps.getBGCode(ol,pl+31))&&(ol=32*(ol>>5)+32,nl.vx=0),0<nl.vx&&(20<=this.maps.getBGCode(ol+31,pl)||20<=this.maps.getBGCode(ol+31,pl+31))&&(ol=32*(ol+31>>5)-32,nl.vx=0),ol+=nl.vx,nl.vy+=2,18<nl.vy&&(nl.vy=18);var Tl=(pl+=nl.vy)+31>>5,Ul=this.maps.map_bg[ol>>5][Tl],Vl=this.maps.map_bg[ol+31>>5][Tl];(20<=Ul||20<=Vl)&&(pl=32*Tl-32,1==nl.muki?nl.c=115:nl.c=110),pl>=this.ochiru_y&&(nl.c=0),nl.pt=140,nl.pth=nl.muki;break;case 200:nl.c1<=0?this.co_j.x>=ol-240&&this.co_j.x<=ol+240&&(nl.c=210,nl.vy=-14):nl.c1--,nl.pt=143,ol+8>=this.co_j.x?nl.pth=0:nl.pth=1;break;case 210:nl.vy++,14<nl.vy&&(nl.vy=14),pl+=nl.vy,20<=this.maps.getBGCode(ol+15,pl+31)&&(pl=32*(pl+31>>5)-32,nl.c=200,nl.c1=30),pl>=this.ochiru_y&&(nl.c=0),0==nl.vy&&(32<c.abs(this.co_j.x-ol)||pl<=this.co_j.y)&&this.mSet(ol,pl,100),nl.vy<=-1?nl.pt=144:nl.pt=145,ol+8>=this.co_j.x?nl.pth=0:nl.pth=1;break;case 300:0<nl.c1?(nl.c1++,2==nl.c1||10==nl.c1||18==nl.c1||26==nl.c1?ol+8>=this.co_j.x?this.mSet(ol,pl,200):this.mSet(ol,pl,205):86<nl.c1&&(nl.c1=0)):this.co_j.x>=ol-256&&this.co_j.x<=ol+256&&(nl.c1=1),nl.pt=150,ol+8>=this.co_j.x?nl.pth=0:nl.pth=1;break;case 400:ol-=4,this.maps.getBGCode(ol,pl+32)<=9&&(ol=32*(ol>>5)+32,nl.c=405),20<=this.maps.getBGCode(ol,pl+31)&&(ol=32*(ol>>5)+32,nl.c=405),nl.pt=152+this.g_ac,nl.pth=0;break;case 405:ol+=4,this.maps.getBGCode(ol+31,pl+32)<=9&&(ol=32*(ol+31>>5)-32,nl.c=400),20<=this.maps.getBGCode(ol+31,pl+31)&&(ol=32*(ol+31>>5)-32,nl.c=400),nl.pt=152+this.g_ac,nl.pth=1;break;case 410:ol-=4;var Wl=this.maps.map_bg[ol+15>>5][pl+31>>5];if(10<=Wl&&Wl<=15)pl=32*(pl+31>>5),pl=this.sakamichiY(ol,pl);else{var Xl=pl+32>>5;if(this.maps.map_bg[ol+31>>5][Xl]<=9){ol=32*(ol+31>>5);var Zl=this.maps.map_bg[ol+15>>5][pl+31>>5];10<=Zl&&Zl<=15&&(ol-=15),nl.c=420}if(ol<32)ol<=4&&(nl.c=0);else 20<=this.maps.map_bg[ol>>5][pl+31>>5]&&(ol=32*(ol>>5)+32,nl.c=415,this.maps.map_bg[ol+15>>5][pl+32>>5]<=9&&(nl.c=420));120<=ml&&ol<this.maps.wx-32&&(nl.c=0);var _l=this.maps.map_bg[ol+15>>5][Xl];10<=_l&&_l<=15&&(pl=32*(pl+32>>5),pl=this.sakamichiY(ol,pl))}nl.pt=152+this.g_ac,nl.pth=0;break;case 415:ol+=4;var am=this.maps.map_bg[ol+15>>5][pl+31>>5];if(10<=am&&am<=15)pl=32*(pl+31>>5),pl=this.sakamichiY(ol,pl);else{var bm=pl+32>>5;if(this.maps.map_bg[ol>>5][bm]<=9){ol=32*(ol>>5);var dm=this.maps.map_bg[ol+15>>5][pl+31>>5];10<=dm&&dm<=15&&(ol+=16),nl.c=425}var em=this.maps.map_bg[ol+31>>5][pl+31>>5];20<=em&&(ol=32*(ol+31>>5)-32,nl.c=410,this.maps.map_bg[ol+15>>5][pl+32>>5]<=9&&(nl.c=425)),120<=ml&&ol>this.maps.wx+512&&(nl.c=0),10<=(em=this.maps.map_bg[ol+15>>5][bm])&&em<=15&&(pl=32*(pl+32>>5),pl=this.sakamichiY(ol,pl))}nl.pt=152+this.g_ac,nl.pth=1;break;case 420:var fm=(pl+=5)+31>>5,gm=this.maps.map_bg[ol>>5][fm],hm=this.maps.map_bg[ol+31>>5][fm];(20<=gm||20<=hm)&&(pl=32*fm-32,nl.c=410),pl>=this.ochiru_y&&(nl.c=0),nl.pt=152,nl.pth=0;break;case 425:var im=(pl+=5)+31>>5,jm=this.maps.map_bg[ol>>5][im],km=this.maps.map_bg[ol+31>>5][im];(20<=jm||20<=km)&&(pl=32*im-32,nl.c=415),pl>=this.ochiru_y&&(nl.c=0),nl.pt=152,nl.pth=1;break;case 450:nl.vx<0&&(20<=this.maps.getBGCode(ol,pl)||20<=this.maps.getBGCode(ol,pl+31))&&(ol=32*(ol>>5)+32,nl.vx=0),0<nl.vx&&(20<=this.maps.getBGCode(ol+31,pl)||20<=this.maps.getBGCode(ol+31,pl+31))&&(ol=32*(ol+31>>5)-32,nl.vx=0),ol+=nl.vx,nl.vy+=2,18<nl.vy&&(nl.vy=18);var lm=(pl+=nl.vy)+31>>5,mm=this.maps.map_bg[ol>>5][lm],nm=this.maps.map_bg[ol+31>>5][lm];(20<=mm||20<=nm)&&(pl=32*lm-32,1==nl.muki?nl.c=415:nl.c=410),pl>=this.ochiru_y&&(nl.c=0),nl.pt=152,nl.pth=nl.muki;break;case 500:pl<=nl.c3?(nl.vy++,4<nl.vy&&(nl.vy=4)):pl>=nl.c4&&(nl.vy--,nl.vy<-4&&(nl.vy=-4)),pl+=nl.vy,nl.pt=147+this.g_ac,this.co_j.x<=ol+8?nl.pth=0:nl.pth=1;break;case 510:(ol-=3)<48?ol<=3&&(nl.c=0):20<=this.maps.getBGCode(ol-16,pl+31)&&(ol=32*(ol-16>>5)+32+16,nl.c=515),nl.pt=147+this.g_ac,nl.pth=0;break;case 515:ol+=3,20<=this.maps.getBGCode(ol+31+16,pl+31)&&(ol=32*(ol+31+16>>5)-32-16,nl.c=510),nl.pt=147+this.g_ac,nl.pth=1;break;case 600:nl.c1<25?(nl.c1++,nl.vy=-17,nl.c3=0,nl.pt=154,nl.pth=0):(0==nl.c3?(nl.vy++,nl.c3=1):(nl.vy+=2,nl.c3=0),17<nl.vy&&(nl.vy=17),pl+=nl.vy,nl.vy<4?nl.pt=155:nl.pt=156,nl.pth=0,(ol-=5)<32?ol<=3&&(nl.c=0):(20<=this.maps.getBGCode(ol+15,pl+6)&&(pl=32*(pl+6>>5)+32-6,nl.vy=0),20<=this.maps.getBGCode(ol+15,pl+31)&&(pl=32*(pl+31>>5)-32,nl.c1=15,nl.pt=154,nl.pth=0),(20<=this.maps.getBGCode(ol,pl+31)||20<=this.maps.getBGCode(ol,pl+8))&&(ol=32*(ol>>5)+32,nl.c=605),120<=ml&&ol<this.maps.wx-32&&(nl.c=0))),pl>=this.ochiru_y&&(nl.c=0);break;case 605:nl.c1<25?(nl.c1++,nl.vy=-17,nl.c3=0,nl.pt=154,nl.pth=1):(0==nl.c3?(nl.vy++,nl.c3=1):(nl.vy+=2,nl.c3=0),17<nl.vy&&(nl.vy=17),pl+=nl.vy,nl.vy<4?nl.pt=155:nl.pt=156,nl.pth=1,ol+=5,20<=this.maps.getBGCode(ol+15,pl+6)&&(pl=32*(pl+6>>5)+32-6,nl.vy=0),20<=this.maps.getBGCode(ol+15,pl+31)&&(pl=32*(pl+31>>5)-32,nl.c1=15,nl.pt=154,nl.pth=1),(20<=this.maps.getBGCode(ol+31,pl+31)||20<=this.maps.getBGCode(ol+31,pl+8))&&(ol=32*(ol+31>>5)-32,nl.c=600),120<=ml&&ol>this.maps.wx+512&&(nl.c=0)),pl>=this.ochiru_y&&(nl.c=0);break;case 650:nl.vx<0&&(20<=this.maps.getBGCode(ol,pl)||20<=this.maps.getBGCode(ol,pl+31))&&(ol=32*(ol>>5)+32,nl.vx=0),0<nl.vx&&(20<=this.maps.getBGCode(ol+31,pl)||20<=this.maps.getBGCode(ol+31,pl+31))&&(ol=32*(ol+31>>5)-32,nl.vx=0),ol+=nl.vx,nl.vy+=2,18<nl.vy&&(nl.vy=18);var om=(pl+=nl.vy)+31>>5,pm=this.maps.map_bg[ol>>5][om],qm=this.maps.map_bg[ol+31>>5][om];(20<=pm||20<=qm)&&(pl=32*om-32,1==nl.muki?nl.c=605:nl.c=600,nl.c1=15),pl>=this.ochiru_y&&(nl.c=0),nl.vy<4?nl.pt=155:nl.pt=156,nl.pth=nl.muki;break;case 700:this.yachamo_cf||(0<nl.c1?(nl.c1++,2==nl.c1?ol+8>=this.co_j.x?this.mSet(ol,pl,300):this.mSet(ol,pl,305):40<nl.c1&&(nl.c1=0)):this.co_j.x>=ol-256&&this.co_j.x<=ol+192&&96<=c.abs(this.co_j.x-ol)&&(nl.c1=1)),nl.pt=158,ol+8>=this.co_j.x?nl.pth=0:nl.pth=1;break;case 800:0<nl.c1?(nl.c1++,2==nl.c1?ol+8>=this.co_j.x?this.mSet(ol,pl,400):this.mSet(ol,pl,405):20<nl.c1&&(nl.c=810,nl.c1=0)):nl.c1<0?nl.c1++:this.co_j.x>=ol-240&&this.co_j.x<=ol+240&&(nl.c1=1),nl.pt=160,ol+8>=this.co_j.x?nl.pth=0:nl.pth=1;break;case 810:nl.c1<=0?((ol+=3)>=nl.c3+96&&(ol=nl.c3+96,nl.c1=10),this.maps.getBGCode(ol+31,pl+32)<=9&&(ol=32*(ol+31>>5)-32,nl.c1=10),nl.pt=161+this.g_ac,nl.pth=1):nl.c1<=35?(nl.c1++,15==nl.c1&&(ol+8>=this.co_j.x?this.mSet(ol,pl,400):this.mSet(ol,pl,405)),nl.pt=160,ol+8>=this.co_j.x?nl.pth=0:nl.pth=1):((ol-=3)<=nl.c3&&(ol=nl.c3,nl.c=800,nl.c1=-20),this.maps.getBGCode(ol,pl+32)<=9&&(ol=32*(ol>>5)+32,nl.c=800,nl.c1=-20),nl.pt=161+this.g_ac,nl.pth=0);break;case 900:(ol-=4)<48?ol<=4&&(nl.c=0):(nl.c1++,1==nl.c1?this.mSet(ol,pl+19,600):26<nl.c1&&(nl.c1=0),20<=this.maps.getBGCode(ol,pl+31)&&(ol=32*(ol>>5)+32,nl.c=910)),nl.pt=164,nl.pth=0;break;case 910:nl.pt=164,nl.pth=0;break;case 950:(ol-=4)<48?ol<=4&&(nl.c=0):(nl.c1++,1==nl.c1?this.mSet(ol,pl+19,600):26<nl.c1&&(nl.c1=0),20<=this.maps.getBGCode(ol-16,pl+31)&&(ol=32*(ol-16>>5)+32+16,nl.c=960,nl.c1=16)),nl.pt=164,nl.pth=0;break;case 960:ol+=4,nl.c1++,1==nl.c1?this.mSet(ol,pl+19,605):26<nl.c1&&(nl.c1=0),20<=this.maps.getBGCode(ol+31+16,pl+31)&&(ol=32*(ol+31+16>>5)-32-16,nl.c=950,nl.c1=16),nl.pt=164,nl.pth=1;break;case 1e3:(ol-=3)<=nl.c3-256+16&&(nl.c=1005),(20<=this.maps.getBGCode(ol-16,pl)||20<=this.maps.getBGCode(ol-16,pl+31))&&(ol=32*(ol-16>>5)+32+16,nl.c=1005),nl.pt=166,nl.pth=0;break;case 1005:(ol+=3)>=nl.c3+16&&(nl.c=1e3),(20<=this.maps.getBGCode(ol+31+16,pl)||20<=this.maps.getBGCode(ol+31+16,pl+31))&&(ol=32*(ol+31+16>>5)-32-16,nl.c=1e3),nl.pt=166,nl.pth=1;break;case 1100:0<nl.c1?(nl.c1++,77<nl.c1&&(nl.c1=0)):c.abs(this.co_j.x-ol)<=144&&c.abs(this.co_j.y-pl)<=144&&(nl.c1=1,this.mSet2(ol,pl,700,-3,-3),this.mSet2(ol,pl,700,3,-3),this.mSet2(ol,pl,700,-3,3),this.mSet2(ol,pl,700,3,3),this.mSet2(ol,pl,700,-4,0),this.mSet2(ol,pl,700,4,0),this.mSet2(ol,pl,700,0,-4),this.mSet2(ol,pl,700,0,4)),nl.pt=167,ol+8>=this.co_j.x?nl.pth=0:nl.pth=1}if(nl.c<100)nl.x=ol,nl.y=pl;else{var rm=c.abs(ol-this.co_j.x);48<=rm||100<=this.co_j.c&&this.co_j.c<200&&rm<30&&c.abs(pl-this.co_j.y)<23&&(0<this.j_v_c?(1==this.co_j.muki?(nl.pth=0,nl.vx=3):(nl.pth=1,nl.vx=-3),nl.c=52,nl.vy=-30):400<=nl.c&&nl.c<500||1e3<=nl.c&&nl.c<1200?this.jShinu(2):rm<27&&0<this.co_j.vy&&!this.j_mizu_f||ll?(nl.c<200?nl.pt=142:nl.c<300?nl.pt=146:nl.c<400?nl.pt=151:nl.c<600?nl.pt=149:nl.c<700?nl.pt=157:nl.c<800?nl.pt=159:nl.c<900?nl.pt=163:nl.c<1e3&&(nl.pt=165),nl.c=50,nl.c1=0,this.co_j.y=pl-12,this.co_j.vy=-160,this.j_jump_type=1,this.co_j.c=110,this.co_j.c1=0,this.co_j.pt=109,149!=nl.pt&&165!=nl.pt||(this.co_j.vy=-220,nl.c1=-2),ll=!0):this.jShinu(2)),nl.x=ol,nl.y=pl}}},G.prototype.sakamichiY=function(sm,tm){var um=sm+15>>5,vm=tm+31>>5,xm=tm;switch(this.maps.map_bg[um][vm]){default:break;case 10:var ym=32*vm-(sm+15)%32;ym<tm&&(xm=ym);break;case 11:var zm=32*vm+(sm+15)%32-31;zm<tm&&(xm=zm);break;case 12:var Am=32*vm-((sm+15)%32>>1);Am<tm&&(xm=Am);break;case 13:var Bm=32*vm-((sm+15)%32>>1)-16;Bm<tm&&(xm=Bm);break;case 14:var Cm=32*vm+((sm+15)%32>>1)-31;Cm<tm&&(xm=Cm);break;case 15:var Dm=32*vm+((sm+15)%32>>1)-15;Dm<tm&&(xm=Dm)}return xm},G.prototype.mSet=function(Em,Fm,Gm){for(var Hm=0;Hm<=23;Hm++)if(!(0<this.co_m[Hm].c)){var Im=this.co_m[Hm];switch(Im.c=Gm,Im.x=Em,Im.y=Fm,Im.c1=0,this.m_kazu++,Gm){case 90:Im.c2=4,Im.vx=0,Im.vy=0;break;case 100:var Jm=this.co_j.x-Em,Km=this.co_j.y-Fm,Lm=c.floor(c.sqrt(Jm*Jm+Km*Km));Lm<48?(this.m_kazu--,Im.c=0):(Im.vx=s(14*Jm/Lm),Im.vy=s(14*Km/Lm),Im.x+=s(16*Im.vx/14),Im.y+=s(16*Im.vy/14)),!this.dengeki_mkf&&0<Im.c&&4==this.maps.getBGCode(Im.x+15,Im.y+15)&&(this.m_kazu--,Im.c=0);break;case 200:Im.vx=-4-this.ranInt(6),Im.vy=-22,Im.x+=Im.vx,Im.y+=Im.vy;break;case 205:Im.c=200,Im.vx=4+this.ranInt(6),Im.vy=-22,Im.x+=Im.vx,Im.y+=Im.vy;break;case 300:Im.vx=-12,Im.x+=Im.vx;break;case 305:Im.c=300,Im.vx=12,Im.x+=Im.vx;break;case 400:Im.vx=-80,Im.vy=-225;break;case 405:Im.c=400,Im.vx=80,Im.vy=-225;break;case 500:Im.vx=-4,Im.vy=-22;break;case 600:Im.vx=-40,Im.vy=0;break;case 605:Im.c=600,Im.vx=40,Im.vy=0;break;case 2e3:Im.c3=Fm,Im.vy=-210;break;case 2010:Im.c=2e3,Im.c3=Fm-64,Im.vy=-280;break;case 2020:Im.c=2e3,Im.c3=Fm-32,Im.vy=-250;break;case 2100:Im.c2=0;break;case 2110:Im.c=2100,Im.c2=1;break;case 2120:Im.c=2100,Im.c2=2;break;case 2130:Im.c=2100,Im.c2=3;break;case 2140:Im.c=2100,Im.c2=4;break;case 2150:Im.c=2100,Im.c2=5;break;case 2160:Im.c=2100,Im.c2=6;break;case 2170:Im.c=2100,Im.c2=7;break;case 2180:Im.c=2100,Im.c2=8}break}},G.prototype.mSet2=function(Mm,Nm,Om,Pm,Qm){for(var Rm=0;Rm<=23;Rm++)if(!(0<this.co_m[Rm].c)){var Sm=this.co_m[Rm];switch(Sm.c=Om,Sm.x=Mm,Sm.y=Nm,Sm.vx=Pm,Sm.vy=Qm,Sm.c1=0,this.m_kazu++,Om){case 500:Sm.x+=Sm.vx;break;case 700:Sm.c2=0;break;case 710:Sm.c=700,Sm.c2=1}break}},G.prototype.mMove=function(){for(var Tm=0;Tm<=23;Tm++)if(0!=this.co_m[Tm].c){var Um=this.co_m[Tm];switch(Um.c){case 50:Um.c1++,Um.c1<=5?Um.pt=80:Um.c1<=10?Um.pt=81:Um.c1<=16?Um.pt=82:Um.c=0,Um.pth=0;break;case 60:Um.y-=5;var Vm=Um.y>>5,Wm=this.maps.map_bg[Um.x+11>>5][Vm];(Wm<=3||20<=Wm)&&(Um.c=0),((Wm=this.maps.map_bg[Um.x+20>>5][Vm])<=3||20<=Wm)&&(Um.c=0),8!=(Wm=this.maps.map_bg[Um.x+15>>5][Vm])&&9!=Wm||4==this.maps.map_bg[(Um.x+15>>5)-1][Vm]||(Um.c=0),(Um.x<=this.maps.wx-32||Um.x>=this.maps.wx+512)&&(Um.c=0),(Um.y<=this.maps.wy-32||Um.y>=this.maps.wy+320)&&(Um.c=0),Um.pt=85,Um.pth=0;break;case 70:switch(Um.c1++,Um.c1){case 1:Um.c2=20;break;case 2:Um.c2=34;break;case 3:Um.c2=46;break;case 4:Um.c2=56;break;case 5:Um.c2=64;break;case 6:Um.c2=70;break;case 7:Um.c2=74;break;case 8:Um.c2=77;break;case 9:Um.c2=79;break;case 10:Um.c2=80}if(10<Um.c1&&(Um.c2=10,Um.c=0),100<=this.co_j.c&&this.co_j.c<200){var Xm=this.co_j.x-Um.x,Ym=this.co_j.y-Um.y;c.floor(c.sqrt(Xm*Xm+Ym*Ym))<=Um.c2+4&&this.j_v_c<=0&&this.jShinu(1)}Um.pt=1100,Um.pth=0;break;case 80:5<=Um.vy&&(2<Um.vx?Um.vx--:Um.vx<-2&&Um.vx++),Um.x+=Um.vx,Um.vy+=4,30<Um.vy&&(Um.vy=30),Um.y+=Um.vy,Um.y>=this.maps.wy+320&&(Um.c=0),Um.pt=136,Um.vx<0?Um.pth=0:Um.pth=1;break;case 90:if(Um.c2<48){if(Um.c2+=4,48<=Um.c2){Um.c2=48;var $m=this.co_j.x-Um.x,_m=this.co_j.y-Um.y,an=c.floor(c.sqrt($m*$m+_m*_m));an<32||this.co_j.c<100||200<=this.co_j.c?(Um.x<this.maps.wx+256?Um.vx=14:Um.vx=-14,Um.vy=0):(Um.vx=s(14*$m/an),Um.vy=s(14*_m/an))}}else Um.x+=Um.vx,Um.y+=Um.vy,Um.x<=this.maps.wx-32-32||Um.x>=this.maps.wx+512+128+32?Um.c=0:(Um.y<=this.maps.wy-32-200-32||Um.y>=this.maps.wy+320+32)&&(Um.c=0);if(100<=this.co_j.c&&this.co_j.c<200){var bn=this.co_j.x-Um.x,cn=this.co_j.y-Um.y;c.floor(c.sqrt(bn*bn+cn*cn))+4<=Um.c2&&(0<this.j_v_c?Um.c=0:this.jShinu(1))}Um.pt=1e3;break;case 100:Um.x+=Um.vx,Um.y+=Um.vy;var en=Um.x+15>>5;(20<=this.maps.map_bg[en][Um.y+12>>5]||20<=this.maps.map_bg[en][Um.y+18>>5])&&(Um.c=0),this.dengeki_mkf||4!=this.maps.getBGCode(Um.x+15,Um.y+15)||(Um.c=0),Um.x<=this.maps.wx-32||Um.x>=this.maps.wx+512+128?Um.c=0:(Um.y<=this.maps.wy-32-200||Um.y>=this.maps.wy+320)&&(Um.c=0),0==this.g_c1?Um.pt=120:Um.pt=121,Um.pth=0;break;case 200:Um.x+=Um.vx,Um.vy+=2,12<Um.vy&&(Um.vy=12);var fn=Um.vy;switch(fn<-18&&(fn=-18),Um.y+=fn,Um.y>=this.maps.wy+320&&(Um.c=0),this.g_c2){case 0:Um.pt=122;break;case 1:Um.pt=123;break;case 2:Um.pt=124;break;case 3:Um.pt=125}Um.pth=0;break;case 300:Um.x+=Um.vx;var gn=Um.y+15>>5;(20<=this.maps.map_bg[Um.x+8>>5][gn]||20<=this.maps.map_bg[Um.x+23>>5][gn])&&(Um.c=0),(Um.x<=this.maps.wx-32||Um.x>=this.maps.wx+512+128)&&(Um.c=0),0==this.g_c1?Um.pt=126:Um.pt=127,Um.vx<=0?Um.pth=0:Um.pth=1;break;case 400:Um.x+=s(Um.vx/10),Um.vy+=25,180<Um.vy&&(Um.vy=180),Um.y+=s(Um.vy/10),Um.y>=this.maps.wy+320&&(Um.c=0);var hn=Um.x+15>>5;20<=this.maps.map_bg[hn][Um.y+15>>5]&&(Um.c=0),0==this.g_c1?Um.pt=128:Um.pt=129,Um.vx<=0?Um.pth=0:Um.pth=1;break;case 500:5<=Um.vy&&(2<Um.vx?Um.vx--:Um.vx<-2&&Um.vx++),Um.x+=Um.vx,Um.vy+=2,12<Um.vy&&(Um.vy=12);var jn=Um.vy;jn<-16&&(jn=-16),Um.y+=jn,Um.y>=this.maps.wy+320&&(Um.c=0),Um.pt=139,Um.pth=0;break;case 600:0<Um.vx?Um.vx-=2:Um.vx<0&&(Um.vx+=2),Um.x+=s(Um.vx/10),Um.vy+=8,200<Um.vy&&(Um.vy=200),Um.y+=s(Um.vy/10),20<=this.maps.map_bg[Um.x+15>>5][Um.y+15>>5]&&(Um.c=610,Um.c1=0,Um.y=32*(Um.y+15>>5)-16),Um.x<=this.maps.wx-32-64||Um.x>=this.maps.wx+512+64?Um.c=0:(Um.y<=this.maps.wy-32-200||Um.y>=this.maps.wy+320)&&(Um.c=0),28<Um.vx?(Um.pt=171,Um.pth=1):(Um.vx<-28?Um.pt=171:Um.pt=170,Um.pth=0);break;case 610:Um.c1++,Um.c1<=3?Um.pt=172:Um.c1<=6?Um.pt=173:Um.c1<=9?Um.pt=174:(Um.c=0,Um.pt=198),Um.pth=0;break;case 700:Um.x+=Um.vx,Um.y+=Um.vy,Um.x<=this.maps.wx-32||Um.x>=this.maps.wx+512+32?Um.c=0:(Um.y<=this.maps.wy-64||Um.y>=this.maps.wy+320+64)&&(Um.c=0);var kn=this.maps.getBGCode(Um.x+15,Um.y+15);0==Um.c2&&20<=kn&&(Um.c=0),0==Um.c2&&kn<=3&&(Um.c=0),Um.pt=168+this.g_c1,Um.pth=0;break;case 800:5<=Um.vy&&(2<Um.vx?Um.vx--:Um.vx<-2&&Um.vx++),Um.x+=Um.vx,Um.vy+=4,28<Um.vy&&(Um.vy=28),Um.y+=Um.vy,Um.y>=this.maps.wy+320&&(Um.c=0),20<=this.maps.getBGCode(Um.x+15,Um.y+31)&&(Um.c=70,Um.y=32*(Um.y+31>>5)-16,Um.c1=1,Um.c2=20),Um.pt=137+this.g_c1,Um.vx<0?Um.pth=0:Um.pth=1;break;case 2e3:Um.vy+=30,180<Um.vy&&(Um.vy=180),Um.y+=s(Um.vy/10),0<=Um.vy&&Um.y>=Um.c3&&(Um.y=Um.c3,Um.vy=0),(Um.x<=this.maps.wx-32||Um.x>=this.maps.wx+512)&&(Um.c=0),Um.pt=90+this.g_ac2,Um.pth=0;break;case 2100:(Um.x<=this.maps.wx-32||Um.x>=this.maps.wx+512)&&(Um.c=0),Um.pt=42+Um.c2,8==Um.c2&&(Um.pt=59),Um.pth=0;break;case 2200:Um.x<this.maps.wx?Um.x=this.maps.wx:Um.x>this.maps.wx+512-32&&(Um.x=this.maps.wx+512-32),Um.y<this.maps.wy+64?Um.y=this.maps.wy+64:Um.y>this.maps.wy+224&&(Um.y=this.maps.wy+224),2<=this.stage_max&&this.stage>=this.stage_max?0==this.g_ac2?Um.pt=99:Um.pt=98:0==this.g_ac2?Um.pt=95:Um.pt=94,Um.pth=0}0==Um.c?this.m_kazu--:100<=this.co_j.c&&this.co_j.c<200&&(2e3<=Um.c?c.abs(Um.x-this.co_j.x)<=14&&Um.y<=this.co_j.y+26&&Um.y+15>=this.co_j.y&&(this.addScore(5),2100==Um.c?0==Um.c2?this.j_fire_f=!0:1==Um.c2?(this.j_v_c=150,this.j_v_kakudo=0):2==Um.c2?0<this.time_max&&(this.time+=3e4):3==Um.c2?this.j_jet_fuel+=80:4==Um.c2?this.j_helm_f=!0:5==Um.c2?this.j_tail_f=!0:6==Um.c2?this.j_drell_f=!0:7==Um.c2?this.j_gr_kazu++:8==Um.c2&&this.j_left++:2200==Um.c&&(this.stage_cc=1,2<=this.stage_max&&this.stage>=this.stage_max?this.addScore(995):this.addScore(95)),Um.c=0,this.m_kazu--):100<=Um.c&&c.abs(Um.x-this.co_j.x)<=23&&c.abs(Um.y-this.co_j.y)<=28&&(0<this.j_v_c?(Um.c=0,this.m_kazu--):(this.jShinu(1),800==Um.c&&(Um.c=70,Um.c1=1,Um.c2=20))))}},G.prototype.jmSet=function(ln,mn,nn){for(var on=0;on<=1;on++)if(!(0<this.co_jm[on].c)){var pn=this.co_jm[on];switch(pn.c=nn,pn.x=ln,pn.y=mn+8,pn.c1=0,this.jm_kazu++,nn){case 60:case 65:pn.x=ln+16,pn.y=mn,pn.vx=ln+16,pn.c4=8,this.j_gr_kazu--;break;case 100:pn.vx=s(this.co_j.vx/10)-10,pn.vy=-28,c.abs(pn.vx)<2&&(pn.vx=-2);break;case 105:pn.vx=s(this.co_j.vx/10)+10,pn.vy=-28,c.abs(pn.vx)<2&&(pn.vx=2);break;case 200:pn.vx=s(this.co_j.vx/10)-10,pn.vy=-32,c.abs(pn.vx)<2&&(pn.vx=-2),5!=this.grenade_type&&6!=this.grenade_type||(pn.y=mn,pn.vx=-20,pn.vy=0),this.j_gr_kazu--;break;case 205:pn.c=200,pn.vx=s(this.co_j.vx/10)+10,pn.vy=-35,c.abs(pn.vx)<2&&(pn.vx=2),5!=this.grenade_type&&6!=this.grenade_type||(pn.y=mn,pn.vx=20,pn.vy=0),this.j_gr_kazu--}break}},G.prototype.jmMove=function(){for(var qn=0;qn<=1;qn++)if(0!=this.co_jm[qn].c){var rn=this.co_jm[qn];switch(rn.c){case 50:switch(rn.c1++,rn.c1){case 1:rn.c2=20;break;case 2:rn.c2=34;break;case 3:rn.c2=46;break;case 4:rn.c2=56;break;case 5:rn.c2=64;break;case 6:rn.c2=70;break;case 7:rn.c2=74;break;case 8:rn.c2=77;break;case 9:rn.c2=79;break;case 10:rn.c2=80}10<rn.c1&&(rn.c2=10,rn.c=0);for(var sn=0;sn<=this.t_kazu;sn++)if(100<=this.co_t[sn].c){var tn=this.co_t[sn],un=tn.x-rn.x,vn=tn.y-rn.y;c.floor(c.sqrt(un*un+vn*vn))<=rn.c2+8&&(rn.x>tn.x?(tn.pth=1,tn.vx=-3):(tn.pth=0,tn.vx=3),tn.c=52,tn.vy=-25)}if((1==this.grenade_type||5==this.grenade_type)&&100<=this.co_b.c){var xn=this.co_b.x-rn.x,yn=this.co_b.y-rn.y;c.floor(c.sqrt(xn*xn+yn*yn))<=rn.c2+20&&(this.co_b.c<200?(this.co_b.c=67,this.co_b.vy=-24,this.co_b.c1=0,rn.x>this.co_b.x?(this.co_b.muki=1,this.co_b.pt=1005,this.co_b.vx=-4):(this.co_b.muki=0,this.co_b.pt=1e3,this.co_b.vx=4)):this.co_b.c<300?(this.co_b.c=77,this.co_b.vy=-24,this.co_b.c1=0,rn.x>this.co_b.x?(this.co_b.muki=1,this.co_b.pt=1105,this.co_b.vx=-4):(this.co_b.muki=0,this.co_b.pt=1100,this.co_b.vx=4)):(this.co_b.c=87,this.co_b.vy=-24,this.co_b.c1=0,rn.x>this.co_b.x?(this.co_b.muki=1,this.co_b.pt=1205,this.co_b.vx=-4):(this.co_b.muki=0,this.co_b.pt=1200,this.co_b.vx=4)))}rn.pt=1e3,rn.pth=0;break;case 60:rn.y=this.co_j.y,rn.x-=28,rn.x<=this.maps.wx-32&&(rn.x=this.maps.wx-32),0<rn.c4?(rn.c4--,rn.vx=this.co_j.x+16):(rn.vx-=28,rn.vx<=rn.x&&(rn.c=0));for(var An=0;An<=this.t_kazu;An++)if(100<=this.co_t[An].c){var Bn=this.co_t[An];Bn.x>rn.x-12&&Bn.x<rn.vx+12&&c.abs(Bn.y-rn.y)<24&&(Bn.pth=0,Bn.vx=-3,Bn.c=52,Bn.vy=-25)}3==this.grenade_type&&100<=this.co_b.c&&this.co_b.x>rn.x-24&&this.co_b.x<rn.vx+24&&c.abs(this.co_b.y-rn.y)<36&&(this.co_b.c<200?(this.co_b.c=67,this.co_b.vy=-24,this.co_b.c1=0,this.co_b.muki=1,this.co_b.pt=1005):this.co_b.c<300?(this.co_b.c=77,this.co_b.vy=-24,this.co_b.c1=0,this.co_b.muki=1,this.co_b.pt=1105):(this.co_b.c=87,this.co_b.vy=-24,this.co_b.c1=0,this.co_b.muki=1,this.co_b.pt=1205),this.co_b.vx=-4),(this.co_j.c<100||200<=this.co_j.c)&&(rn.c=0),rn.pt=1200;break;case 65:rn.y=this.co_j.y,rn.x+=28,rn.x>=this.maps.wx+512+32&&(rn.x=this.maps.wx+512+32),0<rn.c4?(rn.c4--,rn.vx=this.co_j.x+16):(rn.vx+=28,rn.vx>=rn.x&&(rn.c=0));for(var Cn=0;Cn<=this.t_kazu;Cn++)if(100<=this.co_t[Cn].c){var Dn=this.co_t[Cn];Dn.x>rn.vx-12&&Dn.x<rn.x+12&&c.abs(Dn.y-rn.y)<24&&(Dn.pth=0,Dn.vx=3,Dn.c=52,Dn.vy=-25)}3==this.grenade_type&&100<=this.co_b.c&&this.co_b.x>rn.vx-24&&this.co_b.x<rn.x+24&&c.abs(this.co_b.y-rn.y)<36&&(this.co_b.c<200?(this.co_b.c=67,this.co_b.vy=-24,this.co_b.c1=0,this.co_b.muki=0,this.co_b.pt=1e3):this.co_b.c<300?(this.co_b.c=77,this.co_b.vy=-24,this.co_b.c1=0,this.co_b.muki=0,this.co_b.pt=1100):(this.co_b.c=87,this.co_b.vy=-24,this.co_b.c1=0,this.co_b.muki=0,this.co_b.pt=1200),this.co_b.vx=4),(this.co_j.c<100||200<=this.co_j.c)&&(rn.c=0),rn.pt=1205;break;case 100:rn.x+=rn.vx,20<=this.maps.getBGCode(rn.x+7,rn.y+15)&&(rn.c=0),rn.vy+=5,30<rn.vy&&(rn.vy=30),rn.y+=rn.vy,rn.vy<0&&20<=this.maps.getBGCode(rn.x+15,rn.y+8)&&(rn.c=0),20<=this.maps.getBGCode(rn.x+15,rn.y+23)&&(rn.y=32*(rn.y+23>>5)-24,rn.vy=-28),this.j_fire_mkf||4!=this.maps.getBGCode(rn.x+15,rn.y+15)||(rn.c=0),(rn.x<=this.maps.wx-24||rn.x>=this.maps.wx+512-8||rn.y<=this.maps.wy-128||rn.y>=this.maps.wy+384)&&(rn.c=0),rn.pt=130+this.g_c2,rn.pth=0;break;case 105:rn.x+=rn.vx,20<=this.maps.getBGCode(rn.x+23,rn.y+15)&&(rn.c=0),rn.vy+=5,30<rn.vy&&(rn.vy=30),rn.y+=rn.vy,rn.vy<0&&20<=this.maps.getBGCode(rn.x+15,rn.y+8)&&(rn.c=0),20<=this.maps.getBGCode(rn.x+15,rn.y+23)&&(rn.y=32*(rn.y+23>>5)-24,rn.vy=-28),this.j_fire_mkf||4!=this.maps.getBGCode(rn.x+15,rn.y+15)||(rn.c=0),(rn.x<=this.maps.wx-24||rn.x>=this.maps.wx+512-8||rn.y<=this.maps.wy-128||rn.y>=this.maps.wy+384)&&(rn.c=0),rn.pt=130+this.g_c2,rn.pth=1;break;case 200:rn.x+=rn.vx,5!=this.grenade_type&&6!=this.grenade_type&&(rn.vy+=5,30<rn.vy&&(rn.vy=30),rn.y+=rn.vy,0<rn.vy&&20<=this.maps.getBGCode(rn.x+15,rn.y+31)&&(rn.c=50,rn.y=32*(rn.y+31>>5)-16,rn.c1=1,rn.c2=20)),20<=this.maps.getBGCode(rn.x+15,rn.y+15)&&(rn.c=50,rn.c1=1,rn.c2=20),(rn.x<=this.maps.wx-64||rn.x>=this.maps.wx+512+64||rn.y<=this.maps.wy-128||rn.y>=this.maps.wy+384)&&(rn.c=0),rn.pt=137+this.g_c1,rn.vx<0?rn.pth=0:rn.pth=1}if(0==rn.c)this.jm_kazu--;else if(100<=rn.c)for(var En=0;En<=this.t_kazu;En++)if(!(this.co_t[En].c<100)){var Fn=this.co_t[En];if(!(22<=c.abs(rn.x-Fn.x)||22<=c.abs(rn.y-Fn.y))){rn.vx<0?(Fn.pth=1,Fn.vx=-3):(Fn.pth=0,Fn.vx=3),Fn.c=52,Fn.vy=-25,200==rn.c?(rn.c=50,rn.c1=1,rn.c2=20):(rn.c=0,this.jm_kazu--);break}}}},G.prototype.aSet=function(Gn,Hn,In,Jn){for(var Kn=0;Kn<=31;Kn++)if(!(0<this.co_a[Kn].c)){var Ln=this.co_a[Kn];switch(Ln.c=In,Ln.c1=Jn-512-32,Ln.c2=Jn+128,Ln.x=Gn,Ln.y=Hn,this.a_kazu++,In){case 60:Ln.pt=200;break;case 70:Ln.vx=-3,Ln.c3=0,Ln.c1=Gn-512-150,Ln.c2=Gn+150;break;case 71:Ln.c=70,Ln.vx=3,Ln.c3=0,Ln.c1=Gn-512-150,Ln.c2=Gn+150;break;case 80:Ln.pt=800,Ln.c3=1;break;case 81:Ln.c=80,Ln.pt=800,Ln.c3=2;break;case 82:Ln.c=80,Ln.pt=800,Ln.c3=3;break;case 83:Ln.c=80,Ln.pt=800,Ln.c3=4;break;case 100:Ln.vy=5,Ln.x=Gn+8,Ln.y=Hn-212,Ln.c3=Hn-212,Ln.c4=Hn+2,Ln.pt=100;break;case 110:Ln.vx=-3,Ln.x=Gn+208,Ln.c3=Gn,Ln.c4=Gn+208,Ln.pt=100,Ln.c2=Jn+208+128+32;break;case 115:Ln.c=110,Ln.vx=-3,Ln.x=Gn+208,Ln.c3=Gn,Ln.c4=Gn+208,Ln.pt=100,Ln.c2=Jn+208+128+342+32;break;case 116:Ln.c=110,Ln.vx=3,Ln.x=Gn+320,Ln.c3=Gn+320,Ln.c4=Gn+208+320,Ln.pt=100,Ln.c2=Jn+208+128+320+32;break;case 120:Ln.vx=Gn+160,Ln.vy=Hn,Ln.x=Gn+8,Ln.y=Hn,Ln.c3=0,Ln.muki=1,Ln.c1=Ln.vx-512-32-130,Ln.c2=Ln.vx+128+130,Ln.pt=100;break;case 121:Ln.c=120,Ln.vx=Gn+160,Ln.vy=Hn,Ln.x=Gn+8,Ln.y=Hn,Ln.c3=0,Ln.muki=0,Ln.c1=Ln.vx-512-32-130,Ln.c2=Ln.vx+128+130,Ln.pt=100;break;case 300:Ln.pt=300,Ln.c3=0,Ln.c4=0;break;case 310:Ln.c=300,Ln.pt=310,Ln.c3=1,Ln.c4=0;break;case 320:Ln.c=300,Ln.pt=320,Ln.c3=2,Ln.c4=0;break;case 330:Ln.c=300,Ln.pt=330,Ln.c3=3,Ln.c4=0;break;case 400:Ln.pt=400,Ln.c3=0,Ln.vy=Hn;break;case 500:Ln.vy=0,Ln.x=Gn,Ln.y=Hn,Ln.c3=0,Ln.c4=0,Ln.pt=500;break;case 510:Ln.c=500,Ln.vy=0,Ln.x=Gn,Ln.y=Hn,Ln.c3=0,Ln.c4=1,Ln.pt=500;break;case 600:Ln.pt=600,Ln.c3=0,Ln.c4=0,Ln.vx=0,Ln.vy=Hn;break;case 700:Ln.pt=700,Ln.c3=0}break}},G.prototype.aMove=function(){this.j_a_id=-1,this.j_jdai_f=!1,this.a_hf=!1;for(var On=0;On<=this.a_kazu;On++){var Pn=this.co_a[On];if(0!=Pn.c)if(this.maps.wx<=Pn.c1||this.maps.wx>=Pn.c2)Pn.gf=!1;else{var Qn=Pn.x,Rn=Pn.y;switch(Pn.c){case 60:Qn>this.maps.wx-80&&Qn<this.maps.wx+512&&Rn>this.maps.wy-96&&Rn<this.maps.wy+320?(Pn.gf=!0,this.a_hf=!0,this.g_c3<=3?Pn.pt=200:Pn.pt=210):Pn.gf=!1;break;case 70:if(Pn.c3+=Pn.vx,Pn.c3<0?Pn.c3+=360:360<=Pn.c3&&(Pn.c3-=360),Qn>this.maps.wx-150&&Qn<this.maps.wx+512+150&&Rn>this.maps.wy-150&&Rn<this.maps.wy+320+150){Pn.gf=!0,this.a_hf=!0,Pn.pt=1100;var Sn=.017453292519943295,Tn=Qn+c.floor(25*c.cos(Pn.c3*Sn)),Un=Rn+c.floor(25*c.sin(Pn.c3*Sn));this.vo_x[On][0]=Tn,this.vo_y[On][0]=Un;var Vn=Qn+c.floor(140*c.cos(Pn.c3*Sn)),Wn=Rn+c.floor(140*c.sin(Pn.c3*Sn));if(this.vo_x[On][1]=Vn,this.vo_y[On][1]=Wn,this.vo_x[On][2]=Qn+c.floor(31*c.cos(Pn.c3*Sn)),this.vo_y[On][2]=Rn+c.floor(31*c.sin(Pn.c3*Sn)),this.vo_x[On][3]=Qn+c.floor(134*c.cos(Pn.c3*Sn)),this.vo_y[On][3]=Rn+c.floor(134*c.sin(Pn.c3*Sn)),100<=this.co_j.c&&this.co_j.c<200&&this.j_v_c<=0)if(c.abs(Tn-Vn)>=c.abs(Un-Wn)){if(this.co_j.x+15>Tn&&this.co_j.x+15<Vn){var Xn=Vn-Tn,$n=s((this.co_j.x+15-Tn)*(Wn-Un)/Xn)+Un;$n>this.co_j.y-12&&$n<this.co_j.y+44&&this.jShinu(1)}else if(this.co_j.x+15>Vn&&this.co_j.x+15<Tn){var _n=Tn-Vn,co=s((this.co_j.x+15-Vn)*(Un-Wn)/_n)+Wn;co>this.co_j.y-12&&co<this.co_j.y+44&&this.jShinu(1)}}else if(this.co_j.y+15>Un&&this.co_j.y+15<Wn){var eo=Wn-Un,ho=s((this.co_j.y+15-Un)*(Vn-Tn)/eo)+Tn;ho>this.co_j.x-12&&ho<this.co_j.x+44&&this.jShinu(1)}else if(this.co_j.y+15>Wn&&this.co_j.y+15<Un){var io=Un-Wn,lo=s((this.co_j.y+15-Wn)*(Tn-Vn)/io)+Vn;lo>this.co_j.x-12&&lo<this.co_j.x+44&&this.jShinu(1)}}else Pn.gf=!1;break;case 80:Qn>this.maps.wx-32&&Qn<this.maps.wx+512&&Rn>this.maps.wy-32&&Rn<this.maps.wy+320?(Pn.gf=!0,this.a_hf=!0,this.co_j.x>=Qn-80&&this.co_j.x<=Qn+64&&c.abs(Rn-this.co_j.y)<32&&(this.hitokoto_c=10,this.hitokoto_num=Pn.c3)):Pn.gf=!1;break;case 100:Qn>this.maps.wx-80-32&&Qn<this.maps.wx+512+32&&Rn>this.maps.wy-16&&Rn<this.maps.wy+320+32?(Pn.gf=!0,this.a_hf=!0,100==this.co_j.c&&this.co_j.x+15>=Qn&&this.co_j.x<=Qn+64&&this.co_j.y==Rn-32&&(this.j_a_id=On)):Pn.gf=!1,Rn<=Pn.c3?(Pn.vy++,5<Pn.vy&&(Pn.vy=5)):Rn>=Pn.c4&&(Pn.vy--,Pn.vy<-5&&(Pn.vy=-5)),Rn+=Pn.vy,100==this.co_j.c&&(this.j_a_id==On&&(this.co_j.y=Rn-32),Pn.vy<0&&20<=this.maps.getBGCode(this.co_j.x+15,this.co_j.y)&&(this.co_j.y=32*(this.co_j.y>>5)+16,this.jShinu(3)),this.co_j.x+15>=Qn&&this.co_j.x<=Qn+64&&this.co_j.y+31>=Rn&&this.co_j.y<=Rn+13&&(0<Pn.vy?(this.co_j.y=Rn+14,18<=this.maps.getBGCode(this.co_j.x+15,this.co_j.y+31)&&(this.co_j.y=32*(this.co_j.y+31>>5)-32,this.jShinu(3))):(this.co_j.y=Rn-32,this.j_a_id=On)));break;case 110:if(Qn>this.maps.wx-80-32&&Qn<this.maps.wx+512+32&&Rn>this.maps.wy-16&&Rn<this.maps.wy+320+32?(Pn.gf=!0,this.a_hf=!0,100==this.co_j.c&&this.co_j.x+15>=Qn&&this.co_j.x<=Qn+64&&this.co_j.y==Rn-32&&(this.j_a_id=On)):Pn.gf=!1,Qn<=Pn.c3?(Pn.vx++,3<Pn.vx&&(Pn.vx=3)):Qn>=Pn.c4&&(Pn.vx--,Pn.vx<-3&&(Pn.vx=-3)),Qn+=Pn.vx,100==this.co_j.c){if(this.j_a_id==On)if(this.co_j.x+=Pn.vx,0<Pn.vx){var mo=this.co_j.x+15>>5,no=this.co_j.y>>5,oo=this.co_j.y+31>>5;(20<=this.maps.map_bg[mo][no]||20<=this.maps.map_bg[mo][oo])&&(this.co_j.x=32*mo-16)}else if(Pn.vx<0){var po=this.co_j.x+15>>5,qo=this.co_j.y>>5,ro=this.co_j.y+31>>5;(20<=this.maps.map_bg[po][qo]||20<=this.maps.map_bg[po][ro])&&(this.co_j.x=32*po+32-14)}if(this.co_j.x+15>=Qn&&this.co_j.x<=Qn+64&&this.co_j.y+31>=Rn&&this.co_j.y<=Rn+13)if(0<Pn.vx){this.co_j.x=Qn+65;var so=this.co_j.x+15>>5,to=this.co_j.y>>5,uo=this.co_j.y+31>>5;(20<=this.maps.map_bg[so][to]||20<=this.maps.map_bg[so][uo])&&(this.co_j.c=230,this.co_j.x=32*so-32+11,this.co_j.c1=0,this.j_zan_f=!1,this.j_jet_c=0,this.j_v_c=0)}else{this.co_j.x=Qn-16;var vo=this.co_j.x+15>>5,wo=this.co_j.y>>5;this.co_j.y;(20<=this.maps.map_bg[vo][wo]||20<=this.maps.map_bg[vo][wo])&&(this.co_j.c=230,this.co_j.x=32*vo+32-11,this.co_j.c1=0,this.j_zan_f=!1,this.j_jet_c=0,this.j_v_c=0)}}break;case 120:Qn>this.maps.wx-80-32&&Qn<this.maps.wx+512+32&&Rn>this.maps.wy-16&&Rn<this.maps.wy+320+32?(Pn.gf=!0,this.a_hf=!0,100==this.co_j.c&&this.co_j.x+15>=Qn&&this.co_j.x<=Qn+64&&this.co_j.y==Rn-32&&(this.j_a_id=On)):Pn.gf=!1,1==Pn.muki?(Pn.c3+=2,360<=Pn.c3&&(Pn.c3-=360)):(Pn.c3-=2,Pn.c3<0&&(Pn.c3+=360));var yo=3.14*Pn.c3/180,Bo=Pn.vx+c.floor(126*c.cos(yo))+16-40-Qn,Co=Pn.vy+c.floor(-126*c.sin(yo))+16-7-Rn;if(Rn+=Co,100==this.co_j.c&&(this.j_a_id==On&&(this.co_j.y+=Co),Co<0&&20<=this.maps.getBGCode(this.co_j.x+15,this.co_j.y)&&(this.co_j.y=32*(this.co_j.y>>5)+16,this.jShinu(3)),this.co_j.x+15>=Qn&&this.co_j.x<=Qn+64&&this.co_j.y+31>=Rn&&this.co_j.y<=Rn+13&&(0<Co?(this.co_j.y=Rn+14,18<=this.maps.getBGCode(this.co_j.x+15,this.co_j.y+31)&&(this.co_j.y=32*(this.co_j.y+31>>5)-32,this.jShinu(3))):(this.co_j.y=Rn-32,this.j_a_id=On))),Qn+=Bo,100==this.co_j.c){if(this.j_a_id==On)if(this.co_j.x+=Bo,0<Bo){var Do=this.co_j.x+15>>5,Eo=this.co_j.y>>5,Fo=this.co_j.y+31>>5;(20<=this.maps.map_bg[Do][Eo]||20<=this.maps.map_bg[Do][Fo])&&(this.co_j.x=32*Do-16)}else if(Bo<0){var Go=this.co_j.x+15>>5,Ho=this.co_j.y>>5,Io=this.co_j.y+31>>5;(20<=this.maps.map_bg[Go][Ho]||20<=this.maps.map_bg[Go][Io])&&(this.co_j.x=32*Go+32-14)}if(this.co_j.x+15>=Qn&&this.co_j.x<=Qn+64&&this.co_j.y+31>=Rn&&this.co_j.y<=Rn+13)if(0<Bo){this.co_j.x=Qn+65;var Jo=this.co_j.x+15>>5,Ko=this.co_j.y>>5,Lo=this.co_j.y+31>>5;(20<=this.maps.map_bg[Jo][Ko]||20<=this.maps.map_bg[Jo][Lo])&&(this.co_j.c=230,this.co_j.x=32*Jo-32+11,this.co_j.c1=0,this.j_zan_f=!1,this.j_jet_c=0,this.j_v_c=0)}else{this.co_j.x=Qn-16;var Mo=this.co_j.x+15>>5,No=this.co_j.y>>5,Oo=this.co_j.y+31>>5;(20<=this.maps.map_bg[Mo][No]||20<=this.maps.map_bg[Mo][Oo])&&(this.co_j.c=230,this.co_j.x=32*Mo+32-11,this.co_j.c1=0,this.j_zan_f=!1,this.j_jet_c=0,this.j_v_c=0)}}break;case 300:Qn>this.maps.wx-96&&Qn<this.maps.wx+512&&Rn>this.maps.wy-64&&Rn<this.maps.wy+320?(Pn.gf=!0,this.a_hf=!0,100==this.co_j.c&&this.co_j.x+15>=Qn&&this.co_j.x<=Qn+48&&this.co_j.y==Rn-32&&(this.j_a_id=On,this.co_j.x+15>=Qn+24&&this.co_j.x<=Qn+48-24&&this.co_j.y==Rn-32&&1!=Pn.c4&&(0==this.sl_step||1==this.sl_step||10==this.sl_step||11==this.sl_step||2!=this.dokan_mode)&&(this.co_j.c1=-10,this.co_j.c2=Pn.c3,this.j_zan_f=!1,this.j_jet_c=0,this.j_v_c=0,this.co_j.c=300,this.co_j.x=Qn+16,this.co_j.y=Rn-32,this.co_j.vx=0,this.co_j.vy=0,Pn.c4=1)),100==this.co_j.c&&this.j_a_id!=On&&(Pn.c4=0)):Pn.gf=!1;break;case 400:Qn>this.maps.wx-96&&Qn<this.maps.wx+512&&Rn>this.maps.wy-64&&Rn<this.maps.wy+320?(Pn.gf=!0,this.a_hf=!0,100==this.co_j.c&&this.co_j.x+15>=Qn&&this.co_j.x<=Qn+80&&this.co_j.y==Rn-32&&(this.j_a_id=On)):Pn.gf=!1,0==Pn.c3?Qn-64<this.co_j.x+15&&Qn+96+64>this.co_j.x+15&&(Pn.c3=1):Pn.c3<100?(Pn.c3++,8<Pn.c3&&(Pn.c3=100)):100==Pn.c3?(Rn+=12)>=Pn.vy+128&&(Rn=Pn.vy+128,Pn.c3=200):200==Pn.c3&&(Rn-=3)<=Pn.vy&&(Rn=Pn.vy,Pn.c3=0,Qn<=this.co_j.x+15&&Qn+96>this.co_j.x+15&&(Pn.c3=100)),100==this.co_j.c&&(this.j_a_id==On&&(this.co_j.y=Rn-32,200==Pn.c3&&20<=this.maps.getBGCode(this.co_j.x+15,this.co_j.y)&&(this.co_j.y=32*(this.co_j.y>>5)+16,this.jShinu(3))),this.co_j.x+15>=Qn&&this.co_j.x<=Qn+80&&this.co_j.y+31>=Rn&&this.co_j.y<=Rn+63&&(100==Pn.c3?(this.co_j.y=Rn+64,18<=this.maps.getBGCode(this.co_j.x+15,this.co_j.y+31)&&(this.co_j.y=32*(this.co_j.y+31>>5)-32,this.jShinu(3))):200==Pn.c3&&(this.co_j.y=Rn-32,this.j_a_id=On,20<=this.maps.getBGCode(this.co_j.x+15,this.co_j.y)&&(this.co_j.y=32*(this.co_j.y>>5)+16,this.jShinu(3)))));break;case 500:Qn>this.maps.wx-96-32&&Qn<this.maps.wx+512+32&&Rn>this.maps.wy-32&&Rn<=this.maps.wy+368?(Pn.gf=!0,this.a_hf=!0,100==this.co_j.c&&this.co_j.x+15>=Qn&&this.co_j.x<=Qn+80&&this.co_j.y==Rn-32?(this.j_a_id=On,1==Pn.c4?Pn.c3<50&&(Pn.c3<=0?Pn.c3=1:Pn.c3<=30?Pn.c3++:(Pn.c3=55,Pn.vy=0)):Pn.c3<=0&&(Pn.c3=51,Pn.vy=0)):1==Pn.c4&&Pn.c3<50&&(Pn.c3=0)):Pn.gf=!1,0<Pn.c3&&(51<=Pn.c3&&Pn.c3<=54?Pn.c3++:55<=Pn.c3&&Pn.c3<100&&(Pn.vy<16&&Pn.vy++,Rn+=Pn.vy,20<=this.maps.getBGCode(Qn+32,Rn+13)&&(Rn=32*(Rn+13>>5)-14,Pn.c3=100),Rn>=this.ochiru_y+48&&(Pn.c=0,Pn.gf=!1))),100==this.co_j.c&&this.j_a_id==On&&(this.co_j.y=Rn-32);break;case 600:if(Qn>this.maps.wx-96&&Qn<this.maps.wx+512&&Rn>this.maps.wy-64&&Rn<this.maps.wy+320?(Pn.gf=!0,this.a_hf=!0,100==this.co_j.c&&this.co_j.x+15>=Qn&&this.co_j.x<=Qn+48&&this.co_j.y==Rn+16-32&&(this.j_a_id=On)):Pn.gf=!1,Pn.pt=600,Pn.c3<=0?(Pn.vx=0,this.j_a_id==On&&(Pn.c3=100,Pn.c4=0,Pn.vx=2),this.co_j.x>=Qn-144&&(Pn.pt=605)):100==Pn.c3?(Pn.c1=Qn-512-32,Pn.c2=Qn+128,this.j_a_id!=On?(Pn.c4++,50<Pn.c4&&(Pn.c3=0)):Pn.c4=0,Pn.pt=605):200==Pn.c3&&(Pn.pt=605,Pn.vx=0),Qn+=Pn.vx,(20<=this.maps.getBGCode(Qn+63+16,Rn)||20<=this.maps.getBGCode(Qn+63+16,Rn+32))&&(Qn=32*(Qn+63+16>>5)-64-16,Pn.vx=Qn-Pn.x,Pn.c3=200),100==this.co_j.c){if(this.j_a_id==On&&(this.co_j.x+=Pn.vx,0<Pn.vx)){var Po=this.co_j.x+15>>5,Qo=this.co_j.y>>5,Ro=this.co_j.y+31>>5;(20<=this.maps.map_bg[Po][Qo]||20<=this.maps.map_bg[Po][Ro])&&(this.co_j.x=32*Po-16)}this.co_j.x+15>=Qn&&this.co_j.x<=Qn+48&&this.co_j.y+31>=Rn+16&&this.co_j.y<=Rn+47&&(this.co_j.x=Qn+49)}break;case 700:Qn>this.maps.wx-96&&Qn<this.maps.wx+512&&Rn>this.maps.wy-64&&Rn<this.maps.wy+320?(Pn.gf=!0,this.a_hf=!0,100==this.co_j.c&&this.co_j.x+15>=Qn&&this.co_j.x<=Qn+16&&(1<=Pn.c3&&Pn.c3<=2&&this.co_j.y==Rn-32+10?this.j_a_id=On:3<=Pn.c3&&Pn.c3<=4&&this.co_j.y==Rn-32+16?this.j_a_id=On:5<=Pn.c3&&Pn.c3<=6&&this.co_j.y==Rn-32+10?this.j_a_id=On:this.co_j.y==Rn-32&&(this.j_a_id=On))):Pn.gf=!1,this.j_a_id==On?(this.co_j.vx=0,this.co_j.vy=0,this.co_j.x=Qn,this.j_jdai_f=!0,Pn.c3++,Pn.c3<=2?(Pn.pt=710,this.co_j.y=Rn-32+10):Pn.c3<=4?(Pn.pt=720,this.co_j.y=Rn-32+16):Pn.c3<=6?(Pn.pt=710,this.co_j.y=Rn-32+10):7<=Pn.c3&&(Pn.pt=700,this.co_j.y=Rn-32,Pn.c3=0,this.j_a_id=-1,this.j_jump_type=4,this.co_j.pt=101,this.co_j.ac=0,this.co_j.vy=-255,this.j_jump_level=1,4==this.maps.getBGCode(Qn,Rn)&&(this.co_j.vy=-75))):(Pn.c3=0,Pn.pt=700)}if(0<this.jm_kazu)for(var So=0;So<=1;So++)if(100<=this.co_jm[So].c){var To=this.co_jm[So];Pn.c<200?To.x+15>=Qn&&To.x<=Qn+64&&To.y+29>=Rn&&To.y+2<=Rn+13&&(200==To.c?(To.c=50,To.y=Rn-8,To.c1=1,To.c2=20):(To.c=0,this.jm_kazu--)):300==Pn.c?To.x+15>=Qn&&To.x<=Qn+48&&To.y+29>=Rn&&To.y+2<=Rn+31&&(200==To.c?(To.c=50,To.c1=1,To.c2=20):(To.c=0,this.jm_kazu--)):400==Pn.c?To.x+15>=Qn&&To.x<=Qn+80&&To.y+29>=Rn&&To.y+2<=Rn+63&&(200==To.c?(To.c=50,To.c1=1,To.c2=20):(To.c=0,this.jm_kazu--)):500==Pn.c&&To.x+15>=Qn&&To.x<=Qn+80&&To.y+29>=Rn&&To.y+2<=Rn+13&&(200==To.c?(To.c=50,To.y=Rn-8,To.c1=1,To.c2=20):(To.c=0,this.jm_kazu--))}Pn.x=Qn,Pn.y=Rn}}},G.prototype.bMove=function(){if(!(this.co_b.x>=this.maps.wx+1024)){switch(this.co_b.c){case 40:this.co_b.c1<20&&this.co_b.c1++,15==this.co_b.c1&&this.mSet(this.maps.wx+256,this.maps.wy+128,2200),this.co_b.pt=0;break;case 60:this.co_b.c1++,this.co_b.c4<=0?26<=this.co_b.c1&&(this.co_b.c=40,this.co_b.c1=0,this.addScore(10)):11<=this.co_b.c1&&(this.co_b.c=150),this.co_b.pt=1010;break;case 65:this.co_b.c1++,11<=this.co_b.c1&&(this.co_b.c=155),this.co_b.pt=1015;break;case 67:this.co_b.vy+=4,28<this.co_b.vy&&(this.co_b.vy=28),this.co_b.x+=this.co_b.vx,this.co_b.y+=this.co_b.vy,this.co_b.y>=this.maps.wy+320+16&&(this.co_b.c=40,this.co_b.c1=0,this.addScore(10)),1==this.co_b.muki?this.co_b.pt=1005:this.co_b.pt=1e3;break;case 70:this.co_b.c1++,this.co_b.c4<=0?26<=this.co_b.c1&&(this.co_b.c=40,this.co_b.c1=0,this.addScore(10)):11<=this.co_b.c1&&(this.co_b.c=250),this.co_b.pt=1110;break;case 75:this.co_b.c1++,11<=this.co_b.c1&&(this.co_b.c=255),this.co_b.pt=1115;break;case 77:this.co_b.vy+=4,28<this.co_b.vy&&(this.co_b.vy=28),this.co_b.x+=this.co_b.vx,this.co_b.y+=this.co_b.vy,this.co_b.y>=this.maps.wy+320+16&&(this.co_b.c=40,this.co_b.c1=0,this.addScore(10)),1==this.co_b.muki?this.co_b.pt=1105:this.co_b.pt=1100;break;case 80:this.co_b.c1++,this.co_b.c4<=0?26<=this.co_b.c1&&(this.co_b.c=40,this.co_b.c1=0,this.addScore(10)):11<=this.co_b.c1&&(this.co_b.c=350),this.co_b.pt=1210;break;case 85:this.co_b.c1++,11<=this.co_b.c1&&(this.co_b.c=355),this.co_b.pt=1215;break;case 87:this.co_b.vy+=4,28<this.co_b.vy&&(this.co_b.vy=28),this.co_b.x+=this.co_b.vx,this.co_b.y+=this.co_b.vy,this.co_b.y>=this.maps.wy+320+16&&(this.co_b.c=40,this.co_b.c1=0,this.addScore(10)),1==this.co_b.muki?this.co_b.pt=1205:this.co_b.pt=1200;break;case 100:2!=this.sl_step&&3!=this.sl_step||(this.co_b.c=110,this.co_b.c1=0),this.co_b.pt=1e3;break;case 110:if(2==this.boss_type){var Uo=150;this.co_b.c1++,1==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,Uo,-2):5==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,Uo,-4):7==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,Uo,-6):9==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,Uo,-8):21==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,Uo,-2):91==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,Uo,-2):95==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,Uo,-4):97==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,Uo,-6):99==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,Uo,-8):111==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,Uo,-2):170==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,Uo,-4):180==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,Uo,-2):250<this.co_b.c1&&(this.co_b.c1=250)}else if(3==this.boss_type){var Vo=450;this.co_b.c1++,5==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,Vo,-3):20==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,Vo,-3):35==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,Vo,-3):50==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,Vo,-3):65==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,Vo,-3):80==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,Vo,-3):95==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,Vo,-3):110==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,Vo,-3):250<this.co_b.c1&&(this.co_b.c1=250)}else if(4==this.boss_type){this.co_b.c1++,1==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,650,-5):15==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,650,-3):29==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,650,-2):81==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,650,-5):95==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,650,-3):109==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,650,-2):165==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,650,-3):250<this.co_b.c1&&(this.co_b.c1=250)}else if(this.co_b.c1++,3==this.co_b.c1)this.mSet2(this.co_b.x,this.co_b.y,500,-4,-18),this.mSet2(this.co_b.x,this.co_b.y,500,4,-18);else if(14==this.co_b.c1)this.mSet2(this.co_b.x,this.co_b.y,500,-6,-20),this.mSet2(this.co_b.x,this.co_b.y,500,6,-20);else if(20==this.co_b.c1)this.mSet2(this.co_b.x,this.co_b.y,500,-3,-24),this.mSet2(this.co_b.x,this.co_b.y,500,3,-24);else if(28<=this.co_b.c1&&this.co_b.c1<=98)this.co_b.c1%7==0&&this.mSet2(this.co_b.x,this.co_b.y,500,-15+this.ranInt(20),-30);else if(130==this.co_b.c1){var Xo=this.ranInt(8)+3;this.mSet2(this.co_b.x,this.co_b.y,500,Xo,-30),this.mSet2(this.co_b.x,this.co_b.y,500,-Xo,-30)}else 150<=this.co_b.c1&&(this.co_b.c1=98);this.co_b.pt=1e3;break;case 115:if(2==this.boss_type){var Yo=150;this.co_b.c1++,1==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,Yo,2):5==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,Yo,4):7==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,Yo,6):9==this.co_b.c1&&3!=this.boss_type?this.tSetBoss(this.co_b.x,this.co_b.y,Yo,8):21==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,Yo,2):91==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,Yo,2):95==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,Yo,4):97==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,Yo,6):99==this.co_b.c1&&3!=this.boss_type?this.tSetBoss(this.co_b.x,this.co_b.y,Yo,8):111==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,Yo,2):170==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,Yo,4):180==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,Yo,2):250<this.co_b.c1&&(this.co_b.c1=250)}else if(3==this.boss_type){var Zo=450;this.co_b.c1++,5==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,Zo,3):20==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,Zo,3):35==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,Zo,3):50==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,Zo,3):65==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,Zo,3):80==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,Zo,3):95==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,Zo,3):110==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,Zo,3):250<this.co_b.c1&&(this.co_b.c1=250)}else if(4==this.boss_type){this.co_b.c1++,1==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,650,5):15==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,650,3):29==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,650,2):81==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,650,5):95==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,650,3):109==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,650,2):165==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,650,3):250<this.co_b.c1&&(this.co_b.c1=250)}else if(this.co_b.c1++,3==this.co_b.c1)this.mSet2(this.co_b.x,this.co_b.y,500,-4,-18),this.mSet2(this.co_b.x,this.co_b.y,500,4,-18);else if(14==this.co_b.c1)this.mSet2(this.co_b.x,this.co_b.y,500,-6,-20),this.mSet2(this.co_b.x,this.co_b.y,500,6,-20);else if(20==this.co_b.c1)this.mSet2(this.co_b.x,this.co_b.y,500,-3,-24),this.mSet2(this.co_b.x,this.co_b.y,500,3,-24);else if(28<=this.co_b.c1&&this.co_b.c1<=98)this.co_b.c1%7==0&&this.mSet2(this.co_b.x,this.co_b.y,500,15-this.ranInt(20),-30);else if(130==this.co_b.c1){var _o=this.ranInt(8)+3;this.mSet2(this.co_b.x,this.co_b.y,500,_o,-30),this.mSet2(this.co_b.x,this.co_b.y,500,-_o,-30)}else 150<=this.co_b.c1&&(this.co_b.c1=98);this.co_b.pt=1005;break;case 150:this.co_b.x-=14,this.co_b.x<=this.sl_wx+96&&(this.co_b.x=this.sl_wx+96,this.co_b.c=115,this.co_b.c1=0),this.co_b.pt=1e3;break;case 155:this.co_b.x+=14,this.co_b.x>=this.sl_wx+512-96-32&&(this.co_b.x=this.sl_wx+512-96-32,this.co_b.c=110,this.co_b.c1=0),this.co_b.pt=1005;break;case 200:2!=this.sl_step&&3!=this.sl_step||(this.co_b.c=210,this.co_b.c1=0),this.co_b.pt=1100;break;case 210:if(this.co_b.c1++,2==this.boss2_type)if(10==this.co_b.c1||85==this.co_b.c1||215==this.co_b.c1)for(var ap=0;ap<=7;ap++){var bp=45*ap*3.14/180,cp=c.floor(8*c.cos(bp)),dp=-1*c.floor(8*c.sin(bp));this.mSet2(this.co_b.x,this.co_b.y-8,710,cp,dp)}else if(35==this.co_b.c1||110==this.co_b.c1||295==this.co_b.c1)for(var ep=0;ep<=7;ep++){var fp=3.14*(45*ep+15)/180,gp=c.floor(8*c.cos(fp)),hp=-1*c.floor(8*c.sin(fp));this.mSet2(this.co_b.x,this.co_b.y-8,710,gp,hp)}else if(60==this.co_b.c1||135==this.co_b.c1||375==this.co_b.c1)for(var ip=0;ip<=7;ip++){var jp=3.14*(45*ip+30)/180,kp=c.floor(8*c.cos(jp)),lp=-1*c.floor(8*c.sin(jp));this.mSet2(this.co_b.x,this.co_b.y-8,710,kp,lp)}else 445<this.co_b.c1&&(this.co_b.c1=0);else 5==this.co_b.c1||35==this.co_b.c1||65==this.co_b.c1||110==this.co_b.c1||185==this.co_b.c1?this.mSet(this.co_b.x,this.co_b.y,90):185<this.co_b.c1&&(this.co_b.c1=110);this.co_b.pt=1100;break;case 215:if(this.co_b.c1++,2==this.boss2_type)if(10==this.co_b.c1||85==this.co_b.c1||215==this.co_b.c1)for(var mp=0;mp<=7;mp++){var np=45*mp*3.14/180,op=c.floor(8*c.cos(np)),pp=-1*c.floor(8*c.sin(np));this.mSet2(this.co_b.x,this.co_b.y-8,710,op,pp)}else if(35==this.co_b.c1||110==this.co_b.c1||295==this.co_b.c1)for(var qp=0;qp<=7;qp++){var rp=3.14*(45*qp+15)/180,sp=c.floor(8*c.cos(rp)),tp=-1*c.floor(8*c.sin(rp));this.mSet2(this.co_b.x,this.co_b.y-8,710,sp,tp)}else if(60==this.co_b.c1||135==this.co_b.c1||375==this.co_b.c1)for(var up=0;up<=7;up++){var vp=3.14*(45*up+30)/180,wp=c.floor(8*c.cos(vp)),xp=-1*c.floor(8*c.sin(vp));this.mSet2(this.co_b.x,this.co_b.y-8,710,wp,xp)}else 445<this.co_b.c1&&(this.co_b.c1=0);else 5==this.co_b.c1||35==this.co_b.c1||65==this.co_b.c1||110==this.co_b.c1||185==this.co_b.c1?this.mSet(this.co_b.x,this.co_b.y,90):185<this.co_b.c1&&(this.co_b.c1=110);this.co_b.pt=1105;break;case 250:this.co_b.x-=14,this.co_b.x<=this.sl_wx+96&&(this.co_b.x=this.sl_wx+96,this.co_b.c=215,this.co_b.c1=0),this.co_b.pt=1100;break;case 255:this.co_b.x+=14,this.co_b.x>=this.sl_wx+512-96-32&&(this.co_b.x=this.sl_wx+512-96-32,this.co_b.c=210,this.co_b.c1=0),this.co_b.pt=1105;break;case 300:2!=this.sl_step&&3!=this.sl_step||(2<=this.boss3_type&&this.boss3_type<=4?(this.co_b.c=360,this.co_b.vy=-24):this.co_b.c=310,this.co_b.c1=0),this.co_b.pt=1200;break;case 310:this.co_b.c1++,1==this.co_b.c1?this.mSet2(this.co_b.x,this.co_b.y,800,-5,-32):15==this.co_b.c1?(this.mSet2(this.co_b.x,this.co_b.y,800,-10,-32),this.co_j.x>this.co_b.x-64&&(this.co_b.c1=500)):29==this.co_b.c1?this.mSet2(this.co_b.x,this.co_b.y,800,-15,-32):65==this.co_b.c1?this.mSet2(this.co_b.x-2,this.co_b.y,800,-20,-32):80==this.co_b.c1?this.mSet2(this.co_b.x,this.co_b.y,800,-5,-32):105==this.co_b.c1?this.mSet2(this.co_b.x,this.co_b.y,800,-15,-32):147==this.co_b.c1?this.mSet2(this.co_b.x,this.co_b.y,800,-10,-32):237==this.co_b.c1?this.co_b.c1=0:520==this.co_b.c1?this.mSet2(this.co_b.x,this.co_b.y,800,4,-32):530==this.co_b.c1?(this.mSet2(this.co_b.x,this.co_b.y,800,-5,-32),this.co_b.c1=1):530<this.co_b.c1&&(this.co_b.c1=1),this.co_b.pt=1200;break;case 315:this.co_b.c1++,1==this.co_b.c1?this.mSet2(this.co_b.x,this.co_b.y,800,5,-32):15==this.co_b.c1?(this.mSet2(this.co_b.x,this.co_b.y,800,10,-32),this.co_j.x<this.co_b.x+64&&(this.co_b.c1=500)):29==this.co_b.c1?this.mSet2(this.co_b.x,this.co_b.y,800,15,-32):65==this.co_b.c1?this.mSet2(this.co_b.x+2,this.co_b.y,800,20,-32):80==this.co_b.c1?this.mSet2(this.co_b.x,this.co_b.y,800,5,-32):105==this.co_b.c1?this.mSet2(this.co_b.x,this.co_b.y,800,15,-32):147==this.co_b.c1?this.mSet2(this.co_b.x,this.co_b.y,800,10,-32):237==this.co_b.c1?this.co_b.c1=0:520==this.co_b.c1?this.mSet2(this.co_b.x,this.co_b.y,800,-4,-32):530==this.co_b.c1?(this.mSet2(this.co_b.x,this.co_b.y,800,5,-32),this.co_b.c1=1):530<this.co_b.c1&&(this.co_b.c1=1),this.co_b.pt=1205;break;case 350:this.co_b.x-=14,this.co_b.x<=this.sl_wx+96&&(this.co_b.x=this.sl_wx+96,2<=this.boss3_type&&this.boss3_type<=4?(this.co_b.c=365,this.co_b.vy=-24):this.co_b.c=315,this.co_b.c1=0),this.co_b.pt=1200;break;case 355:this.co_b.x+=14,this.co_b.x>=this.sl_wx+512-96-32&&(this.co_b.x=this.sl_wx+512-96-32,2<=this.boss3_type&&this.boss3_type<=4?(this.co_b.c=360,this.co_b.vy=-24):this.co_b.c=310,this.co_b.c1=0),this.co_b.pt=1205;break;case 360:this.co_b.pt=1200,this.co_b.c1<5?this.co_b.c1++:this.co_b.c1<25?(this.co_b.c1++,this.co_b.pt=1250):25==this.co_b.c1?(3==this.boss3_type?(this.co_b.x-=18,this.co_b.x<=this.sl_wx+16&&(this.co_b.x=this.sl_wx+16,this.co_b.c1=30)):4==this.boss3_type?(this.co_b.x-=3,this.co_b.vy+=2,24<this.co_b.vy&&(this.co_b.vy=24),this.co_b.y+=this.co_b.vy,this.co_b.y>=this.boss_kijyun_y&&(this.co_b.y=this.boss_kijyun_y,this.co_b.vy=-24,this.co_b.x<=this.sl_wx+16&&(this.co_b.c1=30))):(this.co_b.x-=12,this.co_b.x<=this.sl_wx+16&&(this.co_b.x=this.sl_wx+16,this.co_b.c1=30)),this.co_b.pt=1250):30==this.co_b.c1?(3==this.boss3_type?(this.co_b.x+=18,this.co_b.x>=this.sl_wx+512-48&&(this.co_b.x=this.sl_wx+512-48,this.co_b.c1=40)):4==this.boss3_type?(this.co_b.x+=4,this.co_b.vy+=2,24<this.co_b.vy&&(this.co_b.vy=24),this.co_b.y+=this.co_b.vy,this.co_b.y>=this.boss_kijyun_y&&(this.co_b.y=this.boss_kijyun_y,this.co_b.vy=-24,this.co_b.x>=this.sl_wx+512-48&&(this.co_b.c1=40))):(this.co_b.x+=8,this.co_b.x>=this.sl_wx+512-48&&(this.co_b.x=this.sl_wx+512-48,this.co_b.c1=40)),this.co_b.pt=1255):40==this.co_b.c1&&(this.co_b.x-=2,this.co_b.x<=this.sl_wx+512-96-32&&(this.co_b.x=this.sl_wx+512-96-32,this.co_b.c1=-20));break;case 365:this.co_b.pt=1205,this.co_b.c1<5?this.co_b.c1++:this.co_b.c1<25?(this.co_b.c1++,this.co_b.pt=1255):25==this.co_b.c1?(3==this.boss3_type?(this.co_b.x+=18,this.co_b.x>=this.sl_wx+512-48&&(this.co_b.x=this.sl_wx+512-48,this.co_b.c1=30)):4==this.boss3_type?(this.co_b.x+=3,this.co_b.vy+=2,24<this.co_b.vy&&(this.co_b.vy=24),this.co_b.y+=this.co_b.vy,this.co_b.y>=this.boss_kijyun_y&&(this.co_b.y=this.boss_kijyun_y,this.co_b.vy=-24,this.co_b.x>=this.sl_wx+512-48&&(this.co_b.c1=30))):(this.co_b.x+=12,this.co_b.x>=this.sl_wx+512-48&&(this.co_b.x=this.sl_wx+512-48,this.co_b.c1=30)),this.co_b.pt=1255):30==this.co_b.c1?(3==this.boss3_type?(this.co_b.x-=18,this.co_b.x<=this.sl_wx+16&&(this.co_b.x=this.sl_wx+16,this.co_b.c1=40)):4==this.boss3_type?(this.co_b.x-=4,this.co_b.vy+=2,24<this.co_b.vy&&(this.co_b.vy=24),this.co_b.y+=this.co_b.vy,this.co_b.y>=this.boss_kijyun_y&&(this.co_b.y=this.boss_kijyun_y,this.co_b.vy=-24,this.co_b.x<=this.sl_wx+16&&(this.co_b.c1=40))):(this.co_b.x-=8,this.co_b.x<=this.sl_wx+16&&(this.co_b.x=this.sl_wx+16,this.co_b.c1=40)),this.co_b.pt=1250):40==this.co_b.c1&&(this.co_b.x+=2,this.co_b.x>=this.sl_wx+96&&(this.co_b.x=this.sl_wx+96,this.co_b.c1=-20))}if(100<=this.co_j.c&&this.co_j.c<200&&100<=this.co_b.c&&c.abs(this.co_b.x-this.co_j.x)<42&&this.co_j.y>this.co_b.y-20&&this.co_j.y<this.co_b.y+40&&(1250==this.co_b.pt||1255==this.co_b.pt?this.jShinu(2):c.abs(this.co_b.x-this.co_j.x)<34&&0<this.co_j.vy?(this.co_b.c<200?(this.co_b.c4--,1==this.co_b.c4?(this.co_b.c=65,this.co_b.c1=0,this.co_b.pt=1015):(this.co_b.c=60,this.co_b.c1=0,this.co_b.pt=1010)):this.co_b.c<300?(this.co_b.c4--,1==this.co_b.c4?(this.co_b.c=75,this.co_b.c1=0,this.co_b.pt=1115):(this.co_b.c=70,this.co_b.c1=0,this.co_b.pt=1110)):(this.co_b.c4--,1==this.co_b.c4?(this.co_b.c=85,this.co_b.c1=0,this.co_b.pt=1215):(this.co_b.c=80,this.co_b.c1=0,this.co_b.pt=1210)),this.co_j.y=this.co_b.y,this.co_j.vy=-320,this.j_jump_type=1,this.co_j.c=110,this.co_j.c1=-4,this.co_j.pt=109):this.jShinu(2)),0<this.jm_kazu&&100<=this.co_b.c)for(var yp=0;yp<=1;yp++)if(100<=this.co_jm[yp].c){var zp=this.co_jm[yp];c.abs(this.co_b.x-zp.x)<34&&c.abs(this.co_b.y-zp.y)<30&&(200==zp.c?(zp.c=50,zp.c1=1,zp.c2=20,1!=this.grenade_type&&5!=this.grenade_type||(this.co_b.c<200?(this.co_b.c=67,this.co_b.vy=-24,this.co_b.c1=0,zp.vx<0?(this.co_b.muki=1,this.co_b.pt=1005,this.co_b.vx=-4):(this.co_b.muki=0,this.co_b.pt=1e3,this.co_b.vx=4)):this.co_b.c<300?(this.co_b.c=77,this.co_b.vy=-24,this.co_b.c1=0,zp.vx<0?(this.co_b.muki=1,this.co_b.pt=1105,this.co_b.vx=-4):(this.co_b.muki=0,this.co_b.pt=1100,this.co_b.vx=4)):(this.co_b.c=87,this.co_b.vy=-24,this.co_b.c1=0,zp.vx<0?(this.co_b.muki=1,this.co_b.pt=1205,this.co_b.vx=-4):(this.co_b.muki=0,this.co_b.pt=1200,this.co_b.vx=4)))):(zp.c=0,this.jm_kazu--))}}},G.prototype.hSet=function(Ap,Bp,Cp){for(var Dp=0;Dp<=63;Dp++)if(!(0<this.co_h[Dp].c)){var Ep=this.co_h[Dp];Ep.c=Cp,Ep.x=Ap,Ep.y=Bp;break}},G.prototype.hAttack=function(Fp,Gp){for(var Hp=0;Hp<=63;Hp++){var Ip=this.co_h[Hp];if(0!=Ip.c&&Ip.x==Fp&&Ip.y==Gp){switch(Ip.c){case 100:this.mSet(32*Fp,32*Gp-32,2e3);break;case 200:this.mSet(32*Fp,32*Gp-32,2010),this.mSet(32*Fp,32*Gp-32,2020),this.mSet(32*Fp,32*Gp-32,2e3);break;case 300:this.mSet(32*Fp,32*Gp-32,2100);break;case 400:this.mSet(32*Fp,32*Gp-32,2110);break;case 500:this.mSet(32*Fp,32*Gp-32,2120);break;case 600:this.mSet(32*Fp,32*Gp-32,2130);break;case 700:this.mSet(32*Fp,32*Gp-32,2140);break;case 800:this.mSet(32*Fp,32*Gp-32,2150);break;case 900:this.mSet(32*Fp,32*Gp-32,2160);break;case 1e3:this.mSet(32*Fp,32*Gp-32,2170);break;case 1100:this.mSet(32*Fp,32*Gp-32,2180),this.stage_1up_f[this.stage-1]=!1}this.maps.putBGCode(Fp,Gp,41),Ip.c=0;break}}},H.prototype.init=function(){this.wx=0,this.wy=0,this.os2_wx=0;for(var Op=this.os2_wy=0;Op<this.height;Op++)for(var Pp=0;Pp<this.width;Pp++)this.map_bg[Pp][Op]=0;for(Op=0;Op<this.height;Op++)this.map_string[Op]=this.bg_space},H.prototype.setBank=function(Qp){var Rp;Rp=1==Qp?40:2==Qp?50:4==Qp?60:30;for(var Sp=0;Sp<=9;Sp++)this.gg.spt_img[0][10+Sp]=this.gg.spt_img[0][Rp+Sp]},H.prototype.drawMap=function(Tp,Up){this.wx=Tp,this.wy=Up;var Vp=this.wx%32,Wp=this.wy%32;this.os2_wx=this.wx>>5,this.os2_wy=this.wy>>5,this.gg.fill2();for(var Xp=0;Xp<=10;Xp++)for(var Yp=0;Yp<=16;Yp++){0<this.map_bg[this.os2_wx+Yp][this.os2_wy+Xp]&&this.gg.drawPT2(32+32*Yp,32+32*Xp,this.map_bg[this.os2_wx+Yp][this.os2_wy+Xp])}this.gg.os_g.drawImage(this.gg.os2_img,-32-Vp,-32-Wp,this.gg.ap)},H.prototype.drawMapScroll=function($p){var _p=this.wx%32,aq=this.wy%32,bq=this.wx>>5,cq=this.wy>>5;if(bq>this.os2_wx+1||bq<this.os2_wx-1||cq>this.os2_wy+1||cq<this.os2_wy-1)this.drawMap(this.wx,this.wy);else if(cq>this.os2_wy)if(bq>this.os2_wx){this.g2.copyArea(64,64,544,352,-32,-32),this.os2_wx=bq,this.os2_wy=cq;for(var dq=0;dq<=16;dq++)0<this.map_bg[this.os2_wx+dq][this.os2_wy+10]&&this.g2.drawImage(this.hi[this.map_bg[this.os2_wx+dq][this.os2_wy+10]],32+32*dq,352,this.ap);for(dq=0;dq<=9;dq++)0<this.map_bg[this.os2_wx+16][this.os2_wy+dq]&&this.g2.drawImage(this.hi[this.map_bg[this.os2_wx+16][this.os2_wy+dq]],544,32+32*dq,this.ap)}else if(bq<this.os2_wx){this.g2.copyArea(0,64,544,352,32,-32),this.os2_wx=bq,this.os2_wy=cq;for(dq=0;dq<=16;dq++)0<this.map_bg[this.os2_wx+dq][this.os2_wy+10]&&this.g2.drawImage(this.hi[this.map_bg[this.os2_wx+dq][this.os2_wy+10]],32+32*dq,352,this.ap);for(dq=0;dq<=9;dq++)0<this.map_bg[this.os2_wx][this.os2_wy+dq]&&this.g2.drawImage(this.hi[this.map_bg[this.os2_wx][this.os2_wy+dq]],32,32+32*dq,this.ap)}else{this.g2.copyArea(32,64,544,352,0,-32),this.os2_wy=cq;for(dq=0;dq<=16;dq++)0<this.map_bg[this.os2_wx+dq][this.os2_wy+10]&&this.g2.drawImage(this.hi[this.map_bg[this.os2_wx+dq][this.os2_wy+10]],32+32*dq,352,this.ap)}else if(cq<this.os2_wy)if(bq>this.os2_wx){this.g2.copyArea(64,0,544,352,-32,32),this.os2_wx=bq,this.os2_wy=cq;for(dq=0;dq<=16;dq++)0<this.map_bg[this.os2_wx+dq][this.os2_wy]&&this.g2.drawImage(this.hi[this.map_bg[this.os2_wx+dq][this.os2_wy]],32+32*dq,32,this.ap);for(dq=1;dq<=10;dq++)0<this.map_bg[this.os2_wx+16][this.os2_wy+dq]&&this.g2.drawImage(this.hi[this.map_bg[this.os2_wx+16][this.os2_wy+dq]],544,32+32*dq,this.ap)}else if(bq<this.os2_wx){this.g2.copyArea(0,0,544,352,32,32),this.os2_wx=bq,this.os2_wy=cq;for(dq=0;dq<=16;dq++)0<this.map_bg[this.os2_wx+dq][this.os2_wy]&&this.g2.drawImage(this.hi[this.map_bg[this.os2_wx+dq][this.os2_wy]],32+32*dq,32,this.ap);for(dq=1;dq<=10;dq++)0<this.map_bg[this.os2_wx][this.os2_wy+dq]&&this.g2.drawImage(this.hi[this.map_bg[this.os2_wx][this.os2_wy+dq]],32,32+32*dq,this.ap)}else{this.g2.copyArea(32,0,544,352,0,32),this.os2_wy=cq;for(dq=0;dq<=16;dq++)0<this.map_bg[this.os2_wx+dq][this.os2_wy]&&this.g2.drawImage(this.hi[this.map_bg[this.os2_wx+dq][this.os2_wy]],32+32*dq,32,this.ap)}else if(bq>this.os2_wx){this.g2.copyArea(64,32,544,352,-32,0),this.os2_wx=bq;for(dq=0;dq<=10;dq++)0<this.map_bg[this.os2_wx+16][this.os2_wy+dq]&&this.g2.drawImage(this.hi[this.map_bg[this.os2_wx+16][this.os2_wy+dq]],544,32+32*dq,this.ap)}else if(bq<this.os2_wx){this.g2.copyArea(0,32,544,352,32,0),this.os2_wx=bq;for(dq=0;dq<=10;dq++)0<this.map_bg[this.os2_wx][this.os2_wy+dq]&&this.g2.drawImage(this.hi[this.map_bg[this.os2_wx][this.os2_wy+dq]],32,32+32*dq,this.ap)}var eq=this.hi[90+$p];for(dq=0;dq<=10;dq++)for(var fq=0;fq<=16;fq++)switch(this.map_bg[this.os2_wx+fq][this.os2_wy+dq]){case 5:4==this.map_bg[this.os2_wx+fq][this.os2_wy+dq-1]&&(this.gg.drawBG2(32+32*fq,32+32*dq,4),this.gg.drawPT2(32+32*fq,32+32*dq,5));break;case 6:4==this.map_bg[this.os2_wx+fq][this.os2_wy+dq+1]&&(this.gg.drawBG2(32+32*fq,32+32*dq,4),this.gg.drawPT2(32+32*fq,32+32*dq,6));break;case 7:0==$p||2==$p?this.gg.drawBG2(32+32*fq,32+32*dq,96):this.gg.drawBG2(32+32*fq,32+32*dq,97);break;case 8:0==$p?4==this.map_bg[this.os2_wx+fq-1][this.os2_wy+dq]?(this.gg.drawBG2(32+32*fq,32+32*dq,4),2<=this.mp.stage_max&&this.mp.stage>=this.mp.stage_max?this.gg.drawPT2(32+32*fq,32+32*dq,99):this.gg.drawPT2(32+32*fq,32+32*dq,95)):2<=this.mp.stage_max&&this.mp.stage>=this.mp.stage_max?this.gg.drawBG2(32+32*fq,32+32*dq,99):this.gg.drawBG2(32+32*fq,32+32*dq,95):4==this.map_bg[this.os2_wx+fq-1][this.os2_wy+dq]?(this.gg.drawBG2(32+32*fq,32+32*dq,4),2<=this.mp.stage_max&&this.mp.stage>=this.mp.stage_max?this.gg.drawPT2(32+32*fq,32+32*dq,98):this.gg.drawPT2(32+32*fq,32+32*dq,94)):2<=this.mp.stage_max&&this.mp.stage>=this.mp.stage_max?this.gg.drawBG2(32+32*fq,32+32*dq,98):this.gg.drawBG2(32+32*fq,32+32*dq,94);break;case 9:4==this.map_bg[this.os2_wx+fq-1][this.os2_wy+dq]?this.gg.drawBG2(32+32*fq,32+32*dq,4):(this.g2.setColor(this.gg.backcolor),this.gg.os2_g.fillRect(32+32*fq,32+32*dq,32,32)),this.gg.os2_g.drawImage(eq,32+32*fq,32+32*dq,this.gg.ap)}this.gg.os_g.drawImage(this.gg.os2_img,-32-_p,-32-aq,this.ap)},H.prototype.getBGCode=function(gq,hq){return this.map_bg[gq>>5][hq>>5]},H.prototype.putBGCode=function(iq,jq,kq){this.map_bg[iq][jq]=kq,this.os2_wx<=iq&&this.os2_wx+16>=iq&&this.os2_wy<=jq&&this.os2_wy+10>=jq&&this.gg.drawBG2(32*(iq-this.os2_wx)+32,32*(jq-this.os2_wy)+32,kq)},I.prototype.__repaint=function(){this.update(this.__appimg.getGraphics()),this.__canvas.getContext("2d").drawImage(this.__appimg._dat,0,0)},I.prototype.init=function(){},I.prototype.start=function(){null==this.th&&(this.th=1);var qq=this.getParameter("game_speed");this.th_interval=parseInt(qq),isNaN(this.th_interval)&&(this.th_interval=70),this.th_interval<1?this.th_interval=1:300<this.th_interval&&(this.th_interval=300),this.th_jm=10},I.prototype.stop=function(){null!=this.th&&(this.th=null)},I.prototype.destroy=function(){},I.prototype.paint=function(rq){rq.drawImage(this.gg.os_img,0,0,this)},I.prototype.update=function(sq){this.paint(sq)},I.prototype.run=function(){if(10==this.th_jm)this.init_j(),this.mp.start(),this.th_jm-=1,sleepTime=70;else if(6==this.th_jm){var tq=0;this.gg.apt_img._loaded?tq=1:this.gg.apt_img._error&&(tq=2),0!=tq&&(this.th_jm-=1)}else 2==this.th_jm?(this.gg.cut(),this.th_jm-=1,sleepTime=70):2<=this.th_jm?(this.th_jm-=1,sleepTime=70):(100==this.mp.ml_mode?this.mp.mL100():this.mp.mainLoop(),this.userSub(this.gg.os_g,this.gg.os_img));this.__repaint()},I.prototype.init_j=function(){this.gg=new e(this),this.gg.setBackcolor(D.black);var vq,uq=this.getParameter("filename_title");if(this.gg.addListImage(0,uq),uq=this.getParameter("filename_ending"),this.gg.addListImage(1,uq),uq=this.getParameter("filename_gameover"),this.gg.addListImage(2,uq),uq=this.getParameter("stage_select"),vq=parseInt(uq),isNaN(vq)&&(vq=-1),2==vq){var wq=this.getParameter("filename_chizu");this.gg.addListImage(3,wq)}this.gg.loadImage(),this.gm=new i;var xq=this.gm;this.__canvas.addEventListener("mousedown",function(Aq){var za;Aq.stopImmediatePropagation(),l.focus.focus(this),za=Aq,xq.mousePressed(za)}.bind(this)),this.__canvas.addEventListener("mouseup",function(Bq){var Ba;Ba=Bq,xq.mouseReleased(Ba)}),this.gk=new f;var yq=this.gk,zq=function(Cq){var ra;l.focus.hasFocus(this)&&(ra=Cq,yq.keyPressed(ra))}.bind(this);b.addEventListener("keydown",zq),this.__game.__resourceList.push({type:"eventListener",target:b,name:"keydown",value:zq}),zq=function(Dq){var ta;l.focus.hasFocus(this)&&(ta=Dq,yq.keyReleased(ta))}.bind(this),b.addEventListener("keyup",zq),this.__game.__resourceList.push({type:"eventListener",target:b,name:"keyup",value:zq}),this.mp=new G(this.gg,this.gm,this.gk),this.mp.addHighscoreEvent(this.options.highscoreCallback),this.userInit()},I.prototype.userInit=function(){},I.prototype.userSub=function(Eq,Fq){},I.prototype.getImage=function(Gq){var Hq=new z;return Hq.load(Gq),Hq},I.prototype.createImage=function(Iq,Jq){return new z(Iq,Jq)},I.prototype.getParameter=function(Lq){var Mq=(Lq+"").toLowerCase();return void 0===this.params[Mq]?null:this.params[Mq]+""};var J={};return J.CharacterObject=d,J.GameGraphics=e,J.GameKey=f,J.GameMouse=i,J.Game=l,J.IdouGamen=y,J.ImageBuff=z,J.KeyboardMenu=F,J.MainProgram=G,J.MapSystem=H,J.MasaoConstruction=I,J}(window,document,Math);