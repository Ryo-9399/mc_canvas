var CanvasMasao=function(a,b,c){function d(){this.c=0,this.x=0,this.y=0,this.vx=0,this.vy=0,this.wx=0,this.wy=0,this.c1=0,this.c2=0,this.c3=0,this.c4=0,this.c5=0,this.pt=0,this.pth=0,this.img=null,this.zs_x=0,this.zs_y=0,this.ac=0,this.level=0,this.jimen_f=!1,this.muki=0,this.direction=0,this.score=0,this.ss=0,this.gf=!1}function e(L){this.spt_kazu_x=10,this.spt_kazu_y=25,this.spt_h_kijyun=3,this.spt_kazu=250,this.li=new Array(10),this.spt_img=r(2,this.spt_kazu),this.ap=L,this.di=new q(512,320),this.backcolor=D.black,this.os_img=this.ap.createImage(this.di.width,this.di.height),this.os_g=this.os_img.getGraphics(),this.os2_img=this.ap.createImage(this.di.width+96,this.di.height+96),this.os2_g=this.os2_img.getGraphics(),this.mt=[],str=this.ap.getParameter("filename_pattern"),this.apt_img=this.ap.getImage(str)}function f(){this.key_code=0,this.up_f=!1,this.down_f=!1,this.left_f=!1,this.right_f=!1,this.tr1_f=!1,this.tr2_f=!1,this.tr3_f=!1,this.start_f=!1,this.x_f=!1,this.z_f=!1,this.space_f=!1,this.left_c=0,this.right_c=0,this.up_c=0,this.down_c=0,this.tr1_c=0,this.codekey_f=new Array(256),this.left_right_lock=!1}function i(){this.button_f=!1,this.click_x=0,this.click_y=0,this.init=function(){this.button_f=!1,this.click_x=0,this.click_y=0}}function l(Ca,Da,Ea){var Fa=u();if((Ea=Ea||{}).width=Ea.width||512,Ea.height=Ea.height||320,Ea.extensions=Ea.extensions||[],Da?this.__boxID=Da:(this.__boxID="__mcdiv"+Fa,b.write("<div id='"+this.__boxID+"'></div>")),this.__canvasID="__mccanvas"+Fa,this.__padDivID="__mcpaddiv"+Fa,this.__box=b.getElementById(this.__boxID),this.__resourceList=[],this.__canvas=b.createElement("canvas"),this.__canvas.id=this.__canvasID,this.__canvas.width=Ea.width,this.__canvas.height=Ea.height,this.__canvas.textContent="※お使いのブラウザはHTML5に対応していないため表示できません。",this.__box.appendChild(this.__canvas),this.__padDiv=b.createElement("div"),this.__padDiv.id=this.__padDivID,this.__box.appendChild(this.__padDiv),this.__canvas&&this.__canvas.getContext){if(this.__pad_before=[],this.__pad_after=[],this.__pad_touches=[],a.TouchEvent){var Ga,Ha=b.createElement("input");Ha.type="button",Ha.value="バーチャル操作パッド 表示 / 非表示",(Ga=Ha.style).width="24em",Ga.height="2.5em",Ha.onclick=function(){"inline"==Ia.style.display?Ia.style.display="none":l.padAccessor.show(Ia)},this.__padDiv.appendChild(Ha),this.__padDiv.appendChild(b.createElement("br"));var Ia=this.__pad=b.createElement("canvas");Ia.width=500,Ia.height=200;var Ja=function(Qa){this.__pad_event(Qa)}.bind(this);Ia.addEventListener("touchstart",Ja,!1),Ia.addEventListener("touchmove",Ja,!1),Ia.addEventListener("touchend",Ja,!1),Ia.addEventListener("touchcancel",Ja,!1),Ia.style.display="none",this.__padDiv.appendChild(Ia),(Ga=Ia.style).position="absolute";var Ka=setInterval(function(){var Ra=innerWidth,Sa=innerHeight,Ta=Ra<Sa?Ra:Sa;Ia.style.width=Ra+"px",Ia.style.height=Ta*l.pad.style.rate+"px",Ia.style.left=scrollX+"px",l.pad.avoidAD?Ia.style.top=scrollY+Sa-Ta*l.pad.style.rate-.16*Ta+"px":Ia.style.top=scrollY+Sa-Ta*l.pad.style.rate+"px",this.__pad_update()}.bind(this),500);this.__resourceList.push({type:"setInterval",value:Ka}),l.padAccessor.append(Ia),this.__pad_off=b.createElement("canvas"),this.__pad_off.width=500,this.__pad_off.height=200;var La=this.__pad_off.getContext("2d");La.font="24px monospace",La.textAlign="center",La.textBaseline="middle",La.lineWidth=2,La.lineCap="round",La.lineJoin="round";for(var Ma=0;Ma<8;Ma++)this.__pad_before[Ma]=!1,this.__pad_after[Ma]=!1;this.__pad_update()}this.__mc=new I(Ca,this.__canvas,this,Ea||{});for(Ma=0;Ma<Ea.extensions.length;Ma++)Ea.extensions[Ma].inject(this.__mc,Ea);this.__mc.start();var Na=this.__st=this.__mc.getParameter("game_speed");Na?(Na=parseInt(Na),isNaN(Na)?Na=70:Na<10?Na=10:300<Na&&(Na=300)):Na=70,this.__pt=0;var Pa=new(Ea["custom-loop"]||v)(this,!!Ea["bc-loop-setinterval"]);Pa.start(Na,this.__loop.bind(this)),this.__resourceList.push({type:"Loop",value:Pa})}}var ob,rb;function q(rc,sc){this.width=rc,this.height=sc}function r(){if(0==arguments.length)return null;for(var tc=new Array(arguments.length),uc=0;uc<arguments.length;uc++)tc[uc]=arguments[uc];return function wc(xc){var yc=new Array(xc[0]);if(1==xc.length)return yc;for(var zc=xc.slice(1),Ac=0;Ac<xc[0];Ac++)yc[Ac]=wc(zc);return yc}(tc)}function s(Bc){return 0<=Bc?c.floor(Bc):-c.floor(-Bc)}function u(){return c.random().toString(36).slice(2)}function v(Ec,Fc){this.game=Ec,this.forceSetInterval=Fc,this.running=!1,this.interval=null,this.callback=null,this.mode=0,this.prevTime=null,this.timerid=null,this._loop=this._loop.bind(this)}d.prototype.init=function(){this.c=0,this.x=0,this.y=0,this.vx=0,this.vy=0,this.wx=0,this.wy=0,this.c1=0,this.c2=0,this.c3=0,this.c4=0,this.c5=0,this.pt=0,this.pth=0,this.img=null,this.zs_x=0,this.zs_y=0,this.ac=0,this.level=0,this.jimen_f=!1,this.muki=0,this.direction=0,this.score=0,this.ss=0,this.gf=!1},d.prototype.setPattern=function(K){},e.prototype.cut=function(){var N,Q,R,S;for(Q=0;Q<=this.spt_kazu_y-1;Q++)for(R=0;R<=this.spt_kazu_x-1;R++)N=10*Q+R,this.spt_img[0][N]=new z(32,32),(S=this.spt_img[0][N].getGraphics()).drawImage(this.apt_img,32*R,32*Q,32,32,0,0,32,32,null),Q>=this.spt_h_kijyun?(this.spt_img[1][N]=new z(32,32),(S=this.spt_img[1][N].getGraphics()).scale(-1,1),S.drawImage(this.apt_img,32*R,32*Q,32,32,-32,0,32,32,null)):this.spt_img[1][N]=this.spt_img[0][N];this.hi=this.spt_img[0]},e.prototype.addListImage=function(T,U){this.li[T]=this.ap.getImage(U),this.mt.push(this.li[T])},e.prototype.loadImage=function(){},e.prototype.copyOS=function(V){V.drawImage(this.os_img,0,0,this.ap)},e.prototype.fill=function(){this.os_g.setColor(this.backcolor),this.os_g.fillRect(0,0,this.di.width,this.di.height)},e.prototype.fill2=function(){this.os2_g.setColor(this.backcolor),this.os2_g.fillRect(0,0,this.di.width+96,this.di.height+96)},e.prototype.setBackcolor=function(W){this.backcolor=W},e.prototype.drawPT=function(X,Y,Z,$){this.os_g.drawImage(this.spt_img[$][Z],X,Y,this.ap)},e.prototype.drawPT2=function(_,aa,ba){this.os2_g.drawImage(this.hi[ba],_,aa,this.ap)},e.prototype.drawBG2=function(ca,da,ea){this.os2_g.setColor(this.backcolor),this.os2_g.fillRect(ca,da,32,32),this.os2_g.drawImage(this.hi[ea],ca,da,this.ap)},e.prototype.drawBG3=function(fa,ga,ha,ia){this.os2_g.setColor(ia),this.os2_g.fillRect(fa,ga,32,32),this.os2_g.drawImage(this.hi[ha],fa,ga,this.ap)},e.prototype.drawListImage=function(ja,ka,la){this.os_g.drawImage(this.li[la],ja,ka,this.ap)},f.prototype.init=function(){this.key_code=0,this.up_f=!1,this.down_f=!1,this.left_f=!1,this.right_f=!1,this.tr1_f=!1,this.tr2_f=!1,this.tr3_f=!1,this.start_f=!1,this.x_f=!1,this.z_f=!1,this.space_f=!1,this.left_c=0,this.right_c=0,this.up_c=0,this.down_c=0,this.tr1_c=0,this.left_right_lock=!1;for(var ma=0;ma<=255;ma++)this.codekey_f[ma]=!1},f.prototype.keyPressed=function(na){switch(this.key_code=na.keyCode,this.key_char=na.keyCode,0<=this.key_code&&this.key_code<=255&&(this.codekey_f[this.key_code]=!0),this.key_code){case 38:na.preventDefault(),this.up_f=!0;break;case 40:na.preventDefault(),this.down_f=!0,this.tr2_f=!0;break;case 37:na.preventDefault(),this.left_right_lock||(this.left_f=!0);break;case 39:na.preventDefault(),this.left_right_lock||(this.right_f=!0);break;case 104:na.preventDefault(),this.up_f=!0;break;case 98:na.preventDefault(),this.down_f=!0,this.tr2_f=!0;break;case 100:na.preventDefault(),this.left_right_lock||(this.left_f=!0);break;case 102:na.preventDefault(),this.left_right_lock||(this.right_f=!0);break;case 90:na.preventDefault(),this.tr1_f=!0,this.z_f=!0;break;case 88:na.preventDefault(),this.tr2_f=!0,this.x_f=!0;break;case 67:na.preventDefault(),this.tr3_f=!0;break;case 32:na.preventDefault(),this.tr1_f=!0,this.space_f=!0,this.tr1_c=0;break;case 83:na.preventDefault(),this.start_f=!0}},f.prototype.keyReleased=function(oa){var pa=oa.keyCode;switch(0<=pa&&pa<=255&&(this.codekey_f[pa]=!1),pa){case 38:this.up_f=!1;break;case 40:this.down_f=!1,this.tr2_f=!1;break;case 37:this.left_right_lock||(this.left_f=!1,this.left_c=0);break;case 39:this.left_right_lock||(this.right_f=!1,this.right_c=0);break;case 104:this.up_f=!1;break;case 98:this.down_f=!1,this.tr2_f=!1;break;case 100:this.left_right_lock||(this.left_f=!1,this.left_c=0);break;case 102:this.left_right_lock||(this.right_f=!1,this.right_c=0);break;case 90:this.tr1_f=!1,this.z_f=!1,this.tr1_c=0;break;case 88:this.tr2_f=!1,this.x_f=!1;break;case 67:this.tr3_f=!1;break;case 32:this.tr1_f=!1,this.space_f=!1,this.tr1_c=0;break;case 83:this.start_f=!1}},f.prototype.getKeyCode=function(){return this.key_code},i.prototype.mousePressed=function(ua){var va=ua.target,wa=va.getBoundingClientRect();this.button_f=!0,this.click_x=(ua.clientX-wa.left)/wa.width*va.width,this.click_y=(ua.clientY-wa.top)/wa.height*va.height},i.prototype.mouseReleased=function(xa){this.button_f=!1},l.replaceAll=function(Ua){function Va(){for(var Wa=b.getElementsByTagName("applet"),Xa=[],Ya=0;Ya<Wa.length;Ya++)Xa.push(Wa[Ya]);for(Ya=0;Ya<Xa.length;Ya++){var Za=Xa[Ya];(Za.getAttribute("code")||"").match(/masaoconstruction/i)&&l.replaceByDom(Za,Ua)}var _a=b.getElementsByTagName("object"),ab=[];for(Ya=0;Ya<_a.length;Ya++)ab.push(_a[Ya]);for(Ya=0;Ya<ab;Ya++){var bb=ab[Ya],cb=bb.getElementsByName("code")[0];cb.tagName.match(/param/i)&&cb.value.match(/masaoconstruction/i)&&l.replaceByDom(bb,Ua)}}"complete"==b.readyState?Va():a.addEventListener("load",Va)},l.replace=function(db,eb){function fb(){l.replaceByDom(b.getElementById(db),eb)}"complete"==b.readyState?fb():a.addEventListener("load",fb)},l.replaceByDom=function(gb,hb){for(var ib=gb.getElementsByTagName("param"),jb=ib.length,kb={},lb=0;lb<jb;lb++)kb[ib[lb].name]=ib[lb].value;var mb=b.createElement("div"),nb=gb.id||u();mb.id=nb,gb.parentNode.replaceChild(mb,gb),new l(kb,nb,hb)},l.focus=(b.addEventListener("mousedown",function(){ob=null}),{focus:function(pb){ob=pb},hasFocus:function(qb){return ob===qb}}),l.padAccessor=(rb=[],{append:function(sb){rb.push(sb)},show:function(tb){for(var ub=0;ub<rb.length;ub++)tb!==rb[ub]?rb[ub].style.display="none":tb.style.display="inline"}}),l.prototype.kill=function(){this.__mc.stop();for(var vb=this.__resourceList,wb=0,xb=vb.length;wb<xb;wb++)"setInterval"===vb[wb].type?clearInterval(vb[wb].value):"eventListener"===vb[wb].type?vb[wb].target.removeEventListener(vb[wb].name,vb[wb].value):"Loop"===vb[wb].type&&vb[wb].value.stop();for(this.__resourceList=[];this.__box.hasChildNodes();)this.__box.removeChild(this.__box.firstChild)},l.prototype.__loop=function(){var yb=(new Date).getTime();if(!(yb-this.__pt<this.__st)){if(this.__pt=yb-10,this.__testCanvas){var Ab,zb=this.__testCanvas.getContext("2d");if(zb.fillStyle="rgb(128,0,128)",zb.fillRect(0,0,700,700),zb.strokeStyle="#f00",this.__mc.gg)for(zb.save(),zb.scale(.5,.5),zb.drawImage(this.__mc.gg.os_img._dat,0,0),zb.drawImage(this.__mc.gg.os2_img._dat,576,0),zb.restore(),zb.beginPath(),Ab=0;Ab<700;Ab+=32)zb.moveTo(0,Ab),zb.lineTo(700,Ab),zb.moveTo(Ab,0),zb.lineTo(Ab,700);zb.stroke()}if(this.__testDiv&&this.__mc.mp){var Db,Eb,Bb=this.__mc.mp,Cb="<div style='text-align:left'>";for(Db in Bb)"[object Array]"!=(Eb=Object.prototype.toString.call(Bb[Db]))&&"[object Function]"!=Eb&&(Db in this.__teo?0<this.__teo[Db].t?(Cb+="<span style='background-color:rgba(255,255,255,"+this.__teo[Db].t/6+")'>"+Db+": "+Bb[Db]+"</span> ",this.__teo[Db].t--):Cb+=Db+": "+Bb[Db]+" ":this.__teo[Db]={val:Bb[Db],t:0},this.__teo[Db].val!=Bb[Db]&&(this.__teo[Db].val=Bb[Db],this.__teo[Db].t=6));this.__testDiv.innerHTML=Cb+"</div>"}this.__mc.run()}},l.prototype.__pad_update=function(){var Jb,Kb,Lb,Mb,Nb,Ob,Fb=this.__pad.getBoundingClientRect(),Gb=Fb.left,Hb=Fb.top,Ib=this.__pad_off.getContext("2d"),Pb=l.pad.coords.length;for(Ib.clearRect(0,0,500,200),Ib.fillStyle=l.pad.style.back,Ib.fillRect(0,0,500,200),Ib.fillStyle=l.pad.style.button,Jb=0;Jb<Pb;Jb++){for(Ib.beginPath(),Lb=(Mb=l.pad.coords[Jb]).length>>1,Ib.moveTo(Mb[0],Mb[1]),Kb=0;Kb<Lb;Kb++)Ib.lineTo(Mb[Kb<<1],Mb[1+(Kb<<1)]);Ib.closePath(),Ib.fill()}for(Jb=0;Jb<Pb;Jb++)this.__pad_after[Jb]=!1;for(Ib.fillStyle=l.pad.style.active,Jb=0;Jb<Pb;Jb++){for(Ib.beginPath(),Lb=(Mb=l.pad.coords[Jb]).length>>1,Ib.moveTo(Mb[0],Mb[1]),Kb=0;Kb<Lb;Kb++)Ib.lineTo(Mb[Kb<<1],Mb[1+(Kb<<1)]);for(Kb in Ib.closePath(),this.__pad_touches)Nb=this.__pad_touches[Kb].clientX-Gb,Ob=this.__pad_touches[Kb].clientY-Hb,this.__pad_after[Jb]|=Ib.isPointInPath(Nb/Fb.width*500,Ob/Fb.height*200);this.__pad_after[Jb]&&Ib.fill()}for(Ib.strokeStyle=l.pad.style.border,Ib.fillStyle=l.pad.style.text,Jb=0;Jb<Pb;Jb++){for(Ib.beginPath(),Lb=(Mb=l.pad.coords[Jb]).length>>1,Ib.moveTo(Mb[0],Mb[1]),Kb=1;Kb<Lb;Kb++)Ib.lineTo(Mb[Kb<<1],Mb[1+(Kb<<1)]);Ib.closePath(),Ib.stroke(),Lb=Qb(Mb),Ib.fillText(l.pad.chars[Jb],Lb[0],Lb[1])}for(Ib.stroke(),(Ib=this.__pad.getContext("2d")).clearRect(0,0,500,200),Ib.drawImage(this.__pad_off,0,0),Jb=0;Jb<Pb;Jb++)this.__pad_before[Jb]!=this.__pad_after[Jb]&&(this.__pad_before[Jb]=this.__pad_after[Jb],this.__pad_after[Jb]?this.__pad_pressed(Jb):this.__pad_released(Jb));function Qb(Rb){var Sb,Ub,Vb,Wb,Xb,Yb,Zb,$b,_b,ac,dc,Tb=Rb.length>>1;if($b=Ub=Rb[0],_b=Vb=Rb[1],1==Tb)return[$b,_b];if($b=($b+(Wb=Rb[2]))/2,_b=(_b+(Xb=Rb[3]))/2,2==Tb)return[$b,$b];for(Yb=Rb[4],Zb=Rb[5],ac=c.abs((Wb-Ub)*(Zb-Vb)-(Xb-Vb)*(Yb-Ub))/2,$b=(Ub+Wb+Yb)/3,_b=(Vb+Xb+Zb)/3,Sb=3;Sb<Tb;Sb++)Wb=Yb,Xb=Zb,Yb=Rb[Sb<<1],Zb=Rb[1+(Sb<<1)],$b=(ac*$b+(dc=c.abs((Wb-Ub)*(Zb-Vb)-(Xb-Vb)*(Yb-Ub))/2)*((Ub+Wb+Yb)/3))/(ac+dc),_b=(ac*_b+dc*((Vb+Xb+Zb)/3))/(ac+dc),ac=dc;return[$b,_b]}},l.prototype.__pad_pressed=function(ec){if(this.__mc.gk){var fc=l.pad.codes[ec];this.__mc.gk.keyPressed({keyCode:fc,preventDefault:function(){}})}},l.prototype.__pad_released=function(gc){if(this.__mc.gk){var hc=l.pad.codes[gc];this.__mc.gk.keyReleased({keyCode:hc,preventDefault:function(){}})}},l.prototype.__pad_event=function(ic){ic.preventDefault(),this.__pad_touches=[];for(var jc=0;jc<ic.touches.length;jc++)this.__pad_touches.push(ic.touches[jc]);this.__pad_update()},l.pad={coords:[[410,30,490,30,490,170,410,170],[320,30,400,30,400,170,320,170],[250,30,290,30,290,70,250,70],[200,30,240,30,240,70,200,70],[5,60,87,60,87,140,5,140],[175,60,93,60,93,140,175,140],[30,5,30,80,150,80,150,5],[30,195,30,120,150,120,150,195]],chars:["X","Z","T","P","←","→","↑","↓"],codes:[88,90,84,80,37,39,38,40],style:{rate:.4,back:"rgba(0, 0, 0, 0)",button:"rgba(128, 128, 128, 0.5)",active:"rgba(0, 0, 0, 0.5)",text:"black",border:"black"},avoidAD:!1},v.prototype.start=function(Gc,Hc){this.running=!0,this.interval=Gc,this.callback=Hc;var Ic=w();this.targetTime=Ic+Gc,this.prevTime=Ic,a.requestAnimationFrame&&!this.forceSetInterval?this.mode=1:this.mode=0,0===this.mode&&(this.timerid=setInterval(this._loop,Gc)),this._next()},v.prototype.stop=function(){this.running&&(this.running=!1,1===this.mode?cancelAnimationFrame(this.timerid):clearInterval(this.timerid))},v.prototype._next=function(){1===this.mode&&(this.timerid=requestAnimationFrame(this._loop))},v.prototype._loop=function(){if(this.running){var Mc=w();500<=Mc-this.prevTime&&(this.targetTime=Mc-1);var Nc=c.ceil((Mc-this.targetTime)/this.interval);for(this.targetTime+=this.interval*Nc;0<Nc&&(this.callback(),Nc--,!(2<w()-Mc)););if(0<Nc){var Oc=this;x(function Pc(Qc){for(;0<Nc&&0<Qc.timeRemaining();)Oc.callback(),Nc--;0<Nc&&!Qc.didTimeout&&x(Pc,{timeout:1e3})},{timeout:1e3})}this._next(),this.prevTime=Mc}};var w=a.performance&&performance.now?performance.now.bind(performance):Date.now?Date.now.bind(Date):function(){return 1e3*(new Date).getTime()},x="function"==typeof requestIdleCallback?requestIdleCallback:"function"==typeof setImmediate?function(Rc){setImmediate(function(){var Sc=w();Rc({didTimeout:!1,timeRemaining:function(){return 50+Sc-w()}})})}:function(Uc){setTimeout(function(){var Vc=w();Uc({didTimeout:!1,timeRemaining:function(){return 50+Vc-w()}})},1)};function y(Xc,Yc,Zc,$c){this.gg=Xc,this.gk=Yc,this.km=Zc,this.mp=$c,this.co_j=new d,this.map_string=new Array(9),this.map_bg=r(15,9),this.stage_c=new Array(10),this.stage_x=new Array(10),this.stage_y=new Array(10),this.stage_cf=new Array(10),this.ie_c=new Array(16),this.ie_x=new Array(16),this.ie_y=new Array(16),this.zure_x=16,this.zure_y=24,this.mp_mode=0,this.cc_p1_x=new Array(17),this.cc_p1_y=new Array(17),this.cc_p2_x=new Array(17),this.cc_p2_y=new Array(17),this.cc_p1_x[13]=-200,this.cc_p1_y[13]=160,this.cc_p1_x[14]=-200,this.cc_p1_y[14]=520,this.cc_p1_x[15]=712,this.cc_p1_y[15]=520,this.cc_p1_x[16]=712,this.cc_p1_y[16]=160,this.cc_p2_x[13]=712,this.cc_p2_y[13]=160,this.cc_p2_x[14]=712,this.cc_p2_y[14]=-200,this.cc_p2_x[15]=-200,this.cc_p2_y[15]=-200,this.cc_p2_x[16]=-200,this.cc_p2_y[16]=160}function z(Gd,Hd){if(2==arguments.length){this._dat=b.createElement("canvas"),this._dat.width=Gd,this._dat.height=Hd,this._width=Gd,this._height=Hd;var Id=this._dat.getContext("2d");Id.lineWidth=1.6,Id.lineCap="round",Id.save()}else this._dat=null,this._width=-1,this._height=-1;this._loaded=!1,this._error=!1,this._g=null}function B(Md){Md.onerror()}function C(Nd){this._ctx=Nd._dat.getContext("2d"),this._ctx&&(this._ctx.restore(),this._ctx.save()),this._color=D.black,this._font=new E(E.DIALOG,E.PLAIN,10)}function D(kf,lf,mf,nf){this.r=255<kf?255:kf<0?0:kf,this.g=255<lf?255:lf<0?0:lf,this.b=255<mf?255:mf<0?0:mf,4==arguments.length?this.a=255<nf?255:nf<0?0:nf:this.a=255}function E(of,pf,qf){this._name=of,this._style=pf,this._size=qf}function F(rf,sf,tf){this.gg=rf,this.gk=sf,this.name_crys=tf,this.hi=this.gg.spt_img[0],this.hih=this.gg.spt_img,this.hg=this.gg.os_g,this.ap=this.gg.ap,this.c=new Array(16),this.x=new Array(16),this.y=new Array(16),this.width=new Array(16),this.selectedIndex=new Array(16),this.item_kazu=new Array(16),this.message=new Array(16),this.item=r(16,16),this.item_int=r(16,16),this.item_color=new Array(16),this.list_IDlist=new Array(16),this.aw=-1,this.mode=0,this.kettei_c=0,this.cancel_c=0,this.initAll()}function G(lh,mh,nh){this.ran_seed=void 0,this.ml_mode=0,this.ml_mode_c=0,this.score=0,this.highscore=0,this.score_1up_1=0,this.score_1up_2=0,this.score_1up_1_para=0,this.score_1up_2_para=0,this.score_v=!0,this.stage=1,this.stage_cc=0,this.stage_max=1,this.stage_kaishi=1,this.g_c1=0,this.g_c2=0,this.g_c3=0,this.g_ac=0,this.g_ac2=0,this.tr1_c=0,this.tr2_c=0,this.left_dcc=0,this.right_dcc=0,this.co_t=new Array(130),this.co_m=new Array(24),this.co_a=new Array(32),this.co_h=new Array(64),this.co_jm=new Array(2),this.vo_x=r(32,4),this.vo_y=r(32,4),this.j_zan_x=new Array(6),this.j_zan_y=new Array(6),this.j_zan_pt=new Array(6),this.j_zan_pth=new Array(6),this.vo_pa_x=new Array(6),this.vo_pa_y=new Array(6),this.stage_1up_f=new Array(3),this.shop_item_name=new Array(16),this.shop_item_teika=new Array(16),this.door_score=10,this.gg=lh,this.gm=mh,this.gk=nh,this.maps=new H(200,100,this.gg,this),this.km=new F(this.gg,this.gk,"まさお"),this.co_j=new d;for(var oh=0;oh<=129;oh++)this.co_t[oh]=new d;for(var ph=0;ph<=23;ph++)this.co_m[ph]=new d;for(var qh=0;qh<=31;qh++)this.co_a[qh]=new d;for(var rh=0;rh<=63;rh++)this.co_h[rh]=new d;for(var sh=0;sh<=1;sh++)this.co_jm[sh]=new d;this.co_b=new d,2==this.paraInt("stage_select")?(this.stage_select=2,this.stage_max=4):this.stage_select=1,this.ig=new y(this.gg,this.gk,this.km,this),this.ranInit(),this.hi=this.gg.spt_img[0],this.hih=this.gg.spt_img,this.hg=this.gg.os_g,this.ap=this.gg.ap,this.init1()}function H(Kp,Lp,Mp,Np){this.width=Kp,this.height=Lp,this.gg=Mp,this.mp=Np,this.map_bg=r(this.width,this.height),this.map_string=new Array(this.height),this.bg_space="",this.hi=this.gg.spt_img[0],this.g2=this.gg.os2_g,this.ap=this.gg.ap;for(var Op=0;Op<=this.width;Op++)this.bg_space+=".";this.init()}function I(mq,nq,oq,pq){this.th_interval=70,this.th_jm=10,this.params=mq,this.__canvas=nq,this.__appimg=new z(512,320),this.__game=oq,this.options=pq}y.prototype.worldInit=function(){for(var _c=0;_c<=9;_c++)this.stage_c[_c]=0,this.stage_cf[_c]=!1;this.stage_kcID=0,this.door_koID=0,this.dokan_khID=0;for(_c=this.door_score_open=0;_c<=15;_c++)this.ie_c[_c]=0;this.co_j.x=0,this.co_j.y=0,this.co_j.vx=0,this.co_j.vy=0,this.co_j.muki=1,this.co_j.ac=0,this.mp.tr1_c=2,this.shop_kattaitem=-1,this.mp_mode=0,this.km.initAll(),this.km.mode=100;for(_c=0;_c<=8;_c++){var ad=this.gg.ap.getParameter("chizu-"+_c);ad+="...............",this.map_string[_c]=ad}for(_c=0;_c<=8;_c++)for(var bd=0;bd<=14;bd++){var cd=this.map_string[_c].charAt(bd);"A"==cd?(this.co_j.x=32*bd,this.co_j.y=32*_c,this.map_bg[bd][_c]=220):"B"==cd?(this.map_bg[bd][_c]=216,this.ie_c[3]=100,this.ie_x[3]=32*bd,this.ie_y[3]=32*_c):"C"==cd?(this.map_bg[bd][_c]=217,this.ie_c[4]=100,this.ie_x[4]=32*bd,this.ie_y[4]=32*_c):"D"==cd?(this.map_bg[bd][_c]=218,this.ie_c[10]=100,this.ie_x[10]=32*bd,this.ie_y[10]=32*_c):"E"==cd?(this.map_bg[bd][_c]=219,this.ie_c[11]=100,this.ie_x[11]=32*bd,this.ie_y[11]=32*_c):"a"==cd?0==this.stage_c[0]?(this.map_bg[bd][_c]=223,this.stage_c[0]=100,this.stage_x[0]=32*bd,this.stage_y[0]=32*_c):this.map_bg[bd][_c]=220:"b"==cd?0==this.stage_c[1]?(this.map_bg[bd][_c]=224,this.stage_c[1]=100,this.stage_x[1]=32*bd,this.stage_y[1]=32*_c):this.map_bg[bd][_c]=220:"c"==cd?0==this.stage_c[2]?(this.map_bg[bd][_c]=225,this.stage_c[2]=100,this.stage_x[2]=32*bd,this.stage_y[2]=32*_c):this.map_bg[bd][_c]=220:"d"==cd?0==this.stage_c[3]?(this.map_bg[bd][_c]=226,this.stage_c[3]=100,this.stage_x[3]=32*bd,this.stage_y[3]=32*_c):this.map_bg[bd][_c]=220:"e"==cd?(this.map_bg[bd][_c]=213,this.ie_c[0]=100,this.ie_x[0]=32*bd,this.ie_y[0]=32*_c):"f"==cd?(this.map_bg[bd][_c]=214,this.ie_c[1]=100,this.ie_x[1]=32*bd,this.ie_y[1]=32*_c):"g"==cd?(this.map_bg[bd][_c]=215,this.ie_c[2]=100,this.ie_x[2]=32*bd,this.ie_y[2]=32*_c):"h"==cd?(this.map_bg[bd][_c]=212,this.ie_c[9]=100,this.ie_x[9]=32*bd,this.ie_y[9]=32*_c):"i"==cd?(this.map_bg[bd][_c]=206,this.ie_c[5]=100,this.ie_x[5]=32*bd,this.ie_y[5]=32*_c):"j"==cd?(this.map_bg[bd][_c]=207,this.ie_c[6]=100,this.ie_x[6]=32*bd,this.ie_y[6]=32*_c):"k"==cd?(this.map_bg[bd][_c]=208,this.ie_c[7]=100,this.ie_x[7]=32*bd,this.ie_y[7]=32*_c):"l"==cd?(this.map_bg[bd][_c]=209,this.ie_c[8]=100,this.ie_x[8]=32*bd,this.ie_y[8]=32*_c):this.map_bg[bd][_c]="1"==cd?220:"2"==cd?221:"3"==cd?222:0}256<this.co_j.x+16&&(this.co_j.muki=0),this.drawOs2()},y.prototype.worldInit2=function(){this.co_j.vx=0,this.co_j.vy=0,this.co_j.muki=1,this.co_j.ac=0,this.mp.tr1_c=2,this.mp_mode=200,this.cc_hankei=12,this.stage_kcID=0,this.door_koID=0,this.shop_kattaitem=-1,this.door_score_open=0,100==this.ie_c[9]&&this.mp.score>=this.mp.door_score&&(this.ie_c[9]=50,this.door_score_open=1),this.km.initAll(),this.km.mode=100,this.drawOs2()},y.prototype.worldInit3=function(){this.stage_kcID=this.checkStage(),this.stage_cf[this.stage_kcID-1]=!0,this.stage_c[this.stage_kcID-1]=50;for(var dd=0,ed=0;ed<=2;ed++)this.stage_cf[ed]&&dd++;this.door_koID=0,1<=dd&&100==this.ie_c[dd-1]&&(this.ie_c[dd-1]=50,this.door_koID=dd),this.door_score_open=0,100==this.ie_c[9]&&this.mp.score>=this.mp.door_score&&(this.ie_c[9]=50,this.door_score_open=1),this.co_j.vx=0,this.co_j.vy=0,this.co_j.muki=1,this.co_j.ac=0,this.mp.tr1_c=2,this.co_j.pt=0,this.shop_kattaitem=-1,this.mp_mode=200,this.cc_hankei=12,this.km.initAll(),this.km.mode=100,this.drawOs2()},y.prototype.drawOs2=function(){this.gg.setBackcolor(new D(0,127,0)),this.gg.fill2(),this.gg.os2_g.drawImage(this.gg.li[3],0,0,this.gg.ap);for(var fd=0;fd<=8;fd++)for(var gd=0;gd<=14;gd++){221==(hd=this.map_bg[gd][fd])?(this.gg.drawPT2(32*gd+16,32*fd+24-16,221),this.gg.drawPT2(32*gd+16,32*fd+24+16,221)):222==hd&&(this.gg.drawPT2(32*gd+16-16,32*fd+24,222),this.gg.drawPT2(32*gd+16+16,32*fd+24,222))}for(fd=0;fd<=8;fd++)for(gd=0;gd<=14;gd++){var hd;61!=(hd=this.map_bg[gd][fd])&&62!=hd&&256!=hd&&(216<=hd&&hd<=219?this.gg.drawPT2(32*gd+16,32*fd+24-7,hd):206<=hd&&hd<=209?this.gg.drawPT2(32*gd+16,32*fd+24-7,hd):212<=hd&&hd<=215?(this.gg.drawPT2(32*gd+16-16,32*fd+24,222),this.gg.drawPT2(32*gd+16+16,32*fd+24,222),this.gg.drawPT2(32*gd+16,32*fd+24-7,hd)):this.gg.drawPT2(32*gd+16,32*fd+24,hd))}},y.prototype.drawMap=function(){this.gg.os_g.drawImage(this.gg.os2_img,0,0,this.gg.ap)},y.prototype.getBGZ=function(id,jd){if(id<0||479<id||jd<0||287<jd)return 0;var kd=id>>5,ld=jd>>5;return this.map_bg[kd][ld]},y.prototype.checkStage=function(){for(var md=-1,nd=0;nd<=9;nd++)if(100==this.stage_c[nd]&&this.co_j.x==this.stage_x[nd]&&this.co_j.y==this.stage_y[nd]){md=nd+1;break}return md},y.prototype.mainProgram=function(){if(this.gk.tr1_f?this.mp.tr1_c<2&&(this.mp.tr1_c+=1):this.mp.tr1_c=0,0==this.mp_mode){if(100==this.km.mode)this.jMove();else if(200==this.km.mode)1==this.km.cancel_c?(this.km.off(3),this.km.off(4),this.km.mode=100):1==this.km.kettei_c&&(this.km.init1(3),this.km.setMessage(3,this.mp.mes1_name),this.mp.addSerifu(3,2,3),this.km.activeSerifu(3,120,150,272,D.cyan),this.km.mode=210);else if(210==this.km.mode)1!=this.km.cancel_c&&1!=this.km.kettei_c||(this.km.off(3),this.km.off(4),this.km.mode=100);else if(300==this.km.mode)1==this.km.cancel_c?(this.km.off(3),this.km.off(4),this.km.mode=100):1==this.km.kettei_c&&(this.km.init1(3),this.km.setMessage(3,this.mp.mes2_name),this.mp.addSerifu(3,4,3),this.km.activeSerifu(3,120,150,272,D.cyan),this.km.mode=210);else if(400==this.km.mode){if(1==this.km.cancel_c)this.km.off(3),this.km.off(4),this.km.mode=100;else if(1==this.km.kettei_c){this.km.off(3),this.km.list_kazu=0,this.km.init1(6),this.km.setMessage(6,this.gg.ap.getParameter("shop_serifu1"));for(var od=0;od<=8;od++)0<this.mp.shop_item_teika[od]&&(this.km.addItem2(6,this.mp.shop_item_name[od],this.mp.shop_item_teika[od]),this.km.list_IDlist[this.km.list_kazu]=od,this.km.list_kazu+=1);1<=this.km.list_kazu?(this.km.activeKaimono(6,296,76,184),this.km.mode=410):(this.km.init1(6),this.km.init1(3),this.km.setMessage(3,"Error"),this.km.addItem(3,"Please set any item on shop menu."),this.km.activeSerifu(3,120,150,216,D.red),this.km.mode=210)}}else 410==this.km.mode?1==this.km.cancel_c?(this.km.off(4),this.km.off(6),this.km.mode=100):1==this.km.kettei_c&&(this.km.list_s=this.km.list_IDlist[this.km.selectedIndex[6]],this.km.init1(7),this.km.setMessage(7,this.mp.shop_item_name[this.km.list_s]+this.gg.ap.getParameter("shop_serifu2")),this.km.addItem(7,this.gg.ap.getParameter("shop_serifu3")),this.km.addItem(7,this.gg.ap.getParameter("shop_serifu4")),this.km.activeSerifutuki(7,48,150,236,this.mp.shop_name),this.km.mode=420):420==this.km.mode?1==this.km.cancel_c?(this.km.offActivewindow(7,6),this.km.mode=410):1==this.km.kettei_c&&(0==this.km.selectedIndex[7]?(this.mp.score>=this.mp.shop_item_teika[this.km.list_s]?(this.km.init1(3),this.km.addItem(3,this.mp.shop_item_name[this.km.list_s]+this.gg.ap.getParameter("shop_serifu5")),this.km.activeIchigyou(3,48,240,236),this.mp.score-=this.mp.shop_item_teika[this.km.list_s],this.shop_kattaitem=this.km.list_s,7==this.shop_kattaitem&&(this.mp.j_left+=1)):(this.km.init1(3),this.km.addItem(3,this.gg.ap.getParameter("shop_serifu6")),this.km.activeIchigyou(3,48,240,236)),this.km.mode=430):(this.km.off(4),this.km.off(6),this.km.off(7),this.km.mode=100)):430==this.km.mode?1!=this.km.cancel_c&&1!=this.km.kettei_c||(this.km.off(3),this.km.off(4),this.km.off(6),this.km.off(7),this.km.mode=100):500==this.km.mode?1==this.km.cancel_c?(this.km.off(4),this.km.off(3),this.km.mode=100):1==this.km.kettei_c&&(this.km.off(3),this.km.init1(2),this.km.setMessage(2,this.gg.ap.getParameter("setumei_menu1")),this.km.addItem(2,this.gg.ap.getParameter("setumei_menu2")),this.km.addItem(2,this.gg.ap.getParameter("setumei_menu3")),this.km.addItem(2,this.gg.ap.getParameter("setumei_menu4")),this.km.activeSerifutuki(2,120,150,224,this.mp.setumei_name),this.km.mode=510):510==this.km.mode?1==this.km.cancel_c?(this.km.off(2),this.km.off(4),this.km.mode=100):1==this.km.kettei_c&&(this.km.init1(3),this.km.setMessage(3,this.mp.setumei_name),1==this.km.selectedIndex[2]?this.mp.addSerifu(3,11,3):2==this.km.selectedIndex[2]?this.mp.addSerifu(3,12,3):this.mp.addSerifu(3,10,3),this.km.activeSerifu(3,200,191,272,D.cyan),this.km.mode=520):520==this.km.mode&&(1==this.km.cancel_c?(this.km.offActivewindow(3,2),this.km.mode=510):1==this.km.kettei_c&&(this.km.off(2),this.km.off(3),this.km.off(4),this.km.mode=100));this.km.move()}if(1e3==this.co_j.pt?this.gg.drawPT(this.co_j.x+16,this.co_j.y+24-12-6,100,this.co_j.muki):1010==this.co_j.pt?this.gg.drawPT(this.co_j.x+16,this.co_j.y+24-12+5,100,this.co_j.muki):202<=this.co_j.pt&&this.co_j.pt<=205?this.gg.drawPT(this.co_j.x+16,this.co_j.y+24-12,this.co_j.pt,0):this.gg.drawPT(this.co_j.x+16,this.co_j.y+24-12,this.co_j.pt,this.co_j.muki),this.km.drawMenus(),100==this.mp_mode)this.circleCLS(this.cc_hankei),this.cc_hankei-=12,this.cc_hankei<0&&(this.cc_hankei=0,this.mp_mode=110);else if(110==this.mp_mode)this.circleCLS(this.cc_hankei);else if(200==this.mp_mode){if(this.circleCLS(this.cc_hankei),this.cc_hankei+=12,312<this.cc_hankei)if(1<=this.stage_kcID){this.mp_mode=300,this.cc_hankei=0;var pd=this.stage_y[this.stage_kcID-1]>>5;this.map_bg[this.stage_x[this.stage_kcID-1]>>5][pd]=227,1<=this.door_koID&&(this.map_bg[this.ie_x[this.door_koID-1]>>5][this.ie_y[this.door_koID-1]>>5]=222),1==this.door_score_open&&(this.map_bg[this.ie_x[9]>>5][this.ie_y[9]>>5]=222),this.drawOs2()}else this.mp_mode=0,1==this.door_score_open&&(this.mp_mode=400,this.cc_hankei=0,this.map_bg[this.ie_x[9]>>5][this.ie_y[9]>>5]=222,this.drawOs2())}else if(300==this.mp_mode){var qd;this.cc_hankei+=1,this.cc_hankei<=3?qd=0:this.cc_hankei<=6?qd=1:this.cc_hankei<=9?qd=0:this.cc_hankei<=12?qd=1:this.cc_hankei<=15?qd=0:this.cc_hankei<=18?qd=1:this.cc_hankei<=21?qd=0:this.cc_hankei<=24?qd=1:this.cc_hankei<=26?qd=0:(qd=0,this.mp_mode=0),0<qd&&this.gg.drawPT(this.stage_x[this.stage_kcID-1]+16,this.stage_y[this.stage_kcID-1]+24,222+this.stage_kcID,0),0<qd&&1<=this.door_koID&&this.gg.drawPT(this.ie_x[this.door_koID-1]+16,this.ie_y[this.door_koID-1]+24-7,212+this.door_koID,0),0<qd&&1==this.door_score_open&&this.gg.drawPT(this.ie_x[9]+16,this.ie_y[9]+24-7,212,0)}else if(400==this.mp_mode){var rd;this.cc_hankei+=1,this.cc_hankei<=3?rd=0:this.cc_hankei<=6?rd=1:this.cc_hankei<=9?rd=0:this.cc_hankei<=12?rd=1:this.cc_hankei<=15?rd=0:this.cc_hankei<=18?rd=1:this.cc_hankei<=21?rd=0:this.cc_hankei<=24?rd=1:this.cc_hankei<=26?rd=0:(rd=0,this.mp_mode=0),0<rd&&this.gg.drawPT(this.ie_x[9]+16,this.ie_y[9]+24-7,212,0)}},y.prototype.jMove=function(){var sd=this.co_j.x,td=this.co_j.y;if(this.co_j.pt=100,0==this.co_j.vx&&0==this.co_j.vy){if(this.co_j.ac+=1,7<this.co_j.ac&&(this.co_j.ac=0),3<this.co_j.ac){this.co_j.pt=1e3;var ud=this.getBGZ(sd,td);(216<=ud&&ud<=219||206<=ud&&ud<=209)&&(this.co_j.pt=1010)}if(1==this.mp.tr1_c)if(1<=this.checkStage())this.mp_mode=100,this.cc_hankei=312,this.co_j.ac=0,this.dokan_khID=0,this.co_j.pt=100;else if(206<=this.getBGZ(sd,td)&&this.getBGZ(sd,td)<=209)if(2==this.mp.dokan_mode)for(var vd=!1,wd=0;wd<=8;wd++){for(var xd=0;xd<=14;xd++)if((32*xd!=sd||32*wd!=td)&&this.map_bg[xd][wd]==this.getBGZ(sd,td)){sd=32*xd,td=32*wd,this.co_j.ac=0,this.co_j.pt=1010,vd=!0;break}if(vd)break}else this.mp_mode=100,this.cc_hankei=312,this.co_j.ac=0,this.dokan_khID=this.getBGZ(sd,td)-205,this.co_j.pt=1010;else 216==this.getBGZ(sd,td)?(this.km.init1(4),this.km.onKao(4,120,42,272,230),this.km.init1(3),this.km.setMessage(3,this.mp.mes1_name),this.mp.addSerifu(3,1,3),this.km.activeSerifu(3,120,150,272,D.cyan),this.km.mode=200,this.co_j.pt=1010,this.co_j.ac=0):217==this.getBGZ(sd,td)?(this.km.init1(4),this.km.onKao(4,120,42,272,232),this.km.init1(3),this.km.setMessage(3,this.mp.mes2_name),this.mp.addSerifu(3,3,3),this.km.activeSerifu(3,120,150,272,D.cyan),this.km.mode=300,this.co_j.pt=1010,this.co_j.ac=0):218==this.getBGZ(sd,td)?(this.km.init1(4),this.km.onKao(4,120,42,216,234),this.shop_kattaitem<0?(this.km.init1(3),this.km.setMessage(3,this.mp.shop_name),this.mp.addSerifu(3,5,3),this.km.activeSerifu(3,120,150,216,D.cyan),this.km.mode=400):(this.km.init1(3),this.km.setMessage(3,this.mp.shop_name),this.mp.addSerifu(3,8,3),this.km.activeSerifu(3,120,150,216,D.cyan),this.km.mode=210),this.co_j.pt=1010,this.co_j.ac=0):219==this.getBGZ(sd,td)&&(this.km.init1(4),this.km.onKao(4,120,42,272,236),this.km.init1(3),this.km.setMessage(3,this.mp.setumei_name),this.mp.addSerifu(3,9,3),this.km.activeSerifu(3,120,150,272,D.cyan),this.km.mode=500,this.co_j.pt=1010,this.co_j.ac=0);else this.gk.up_f?221==this.getBGZ(sd,td-32)&&(this.co_j.vy=-4,this.co_j.ac=-1):this.gk.down_f?221==this.getBGZ(sd,td+32)&&(this.co_j.vy=4,this.co_j.ac=-1):this.gk.left_f?(this.co_j.muki=0,222==this.getBGZ(sd-32,td)&&(this.co_j.vx=-4,this.co_j.ac=-1),212<=this.getBGZ(sd+32,td)&&this.getBGZ(sd+32,td)<=215&&(this.co_j.vx=-4,this.co_j.ac=-1)):this.gk.right_f&&(this.co_j.muki=1,222==this.getBGZ(sd+32,td)&&(this.co_j.vx=4,this.co_j.ac=-1),212<=this.getBGZ(sd-32,td)&&this.getBGZ(sd-32,td)<=215&&(this.co_j.vx=4,this.co_j.ac=-1))}if(0!=this.co_j.vx||0!=this.co_j.vy){if(this.co_j.ac+=1,3<this.co_j.ac&&(this.co_j.ac=0),sd+=this.co_j.vx,td+=this.co_j.vy,0!=this.co_j.vx?this.co_j.ac<=1?this.co_j.pt=103:this.co_j.pt=104:0<=this.co_j.vy?this.co_j.ac<=1?this.co_j.pt=202:this.co_j.pt=203:this.co_j.ac<=1?this.co_j.pt=204:this.co_j.pt=205,sd%32==0&&td%32==0){var yd=this.getBGZ(sd,td);(220==yd||223<=yd&&yd<=227||216<=yd&&yd<=219||206<=yd&&yd<=209)&&(this.co_j.vx=0,this.co_j.vy=0,this.co_j.ac=0),(yd=0)<this.co_j.vx?yd=this.getBGZ(sd+32,td):this.co_j.vx<0&&(yd=this.getBGZ(sd-32,td)),212<=yd&&yd<=215&&(this.co_j.vx=0,this.co_j.vy=0,this.co_j.pt=100,this.co_j.ac=0)}sd<=-32?(sd=-32,this.co_j.vx=0,this.co_j.vy=0,this.co_j.ac=0):480<=sd&&(sd=480,this.co_j.vx=0,this.co_j.vy=0,this.co_j.ac=0),td<=-32?(td=-32,this.co_j.vx=0,this.co_j.vy=0,this.co_j.ac=0):288<=td&&(td=288,this.co_j.vx=0,this.co_j.vy=0,this.co_j.ac=0)}this.co_j.x=sd,this.co_j.y=td},y.prototype.circleCLS=function(zd){for(var Ad=0;Ad<=12;Ad++){var Bd=c.sin(.2617992*Ad);this.cc_p1_y[Ad]=160+c.floor(Bd*zd);var Cd=c.cos(.2617992*Ad);this.cc_p1_x[Ad]=256+c.floor(Cd*zd),this.cc_p2_y[Ad]=160-c.floor(Bd*zd),this.cc_p2_x[Ad]=256-c.floor(Cd*zd)}this.gg.os_g.setColor(D.black),this.gg.os_g.fillPolygon(this.cc_p1_x,this.cc_p1_y,17),this.gg.os_g.fillPolygon(this.cc_p2_x,this.cc_p2_y,17)},y.prototype.squareCLS=function(Dd,Ed){var Fd=.017453292519943295;this.cc_p1_x[0]=c.floor(c.cos((this.cc_kakudo+0)*Fd)*Dd)+256,this.cc_p1_y[0]=c.floor(c.sin((this.cc_kakudo+0)*Fd)*Dd)+160,this.cc_p1_x[1]=c.floor(c.cos((this.cc_kakudo+90)*Fd)*Dd)+256,this.cc_p1_y[1]=c.floor(c.sin((this.cc_kakudo+90)*Fd)*Dd)+160,this.cc_p1_x[2]=c.floor(c.cos((this.cc_kakudo+180)*Fd)*Dd)+256,this.cc_p1_y[2]=c.floor(c.sin((this.cc_kakudo+180)*Fd)*Dd)+160,this.cc_p1_x[3]=c.floor(500*c.cos((this.cc_kakudo+180)*Fd))+256,this.cc_p1_y[3]=c.floor(500*c.sin((this.cc_kakudo+180)*Fd))+160,this.cc_p1_x[4]=c.floor(700*c.cos((this.cc_kakudo+135)*Fd))+256,this.cc_p1_y[4]=c.floor(700*c.sin((this.cc_kakudo+135)*Fd))+160,this.cc_p1_x[5]=c.floor(700*c.cos((this.cc_kakudo+45)*Fd))+256,this.cc_p1_y[5]=c.floor(700*c.sin((this.cc_kakudo+45)*Fd))+160,this.cc_p1_x[6]=c.floor(500*c.cos((this.cc_kakudo+0)*Fd))+256,this.cc_p1_y[6]=c.floor(500*c.sin((this.cc_kakudo+0)*Fd))+160,this.cc_p2_x[0]=c.floor(c.cos((this.cc_kakudo+180)*Fd)*Dd)+256,this.cc_p2_y[0]=c.floor(c.sin((this.cc_kakudo+180)*Fd)*Dd)+160,this.cc_p2_x[1]=c.floor(c.cos((this.cc_kakudo+270)*Fd)*Dd)+256,this.cc_p2_y[1]=c.floor(c.sin((this.cc_kakudo+270)*Fd)*Dd)+160,this.cc_p2_x[2]=c.floor(c.cos((this.cc_kakudo+360)*Fd)*Dd)+256,this.cc_p2_y[2]=c.floor(c.sin((this.cc_kakudo+360)*Fd)*Dd)+160,this.cc_p2_x[3]=c.floor(500*c.cos((this.cc_kakudo+360)*Fd))+256,this.cc_p2_y[3]=c.floor(500*c.sin((this.cc_kakudo+360)*Fd))+160,this.cc_p2_x[4]=c.floor(700*c.cos((this.cc_kakudo+315)*Fd))+256,this.cc_p2_y[4]=c.floor(700*c.sin((this.cc_kakudo+315)*Fd))+160,this.cc_p2_x[5]=c.floor(700*c.cos((this.cc_kakudo+225)*Fd))+256,this.cc_p2_y[5]=c.floor(700*c.sin((this.cc_kakudo+225)*Fd))+160,this.cc_p2_x[6]=c.floor(500*c.cos((this.cc_kakudo+180)*Fd))+256,this.cc_p2_y[6]=c.floor(500*c.sin((this.cc_kakudo+180)*Fd))+160,this.gg.os_g.setColor(D.black),this.gg.os_g.fillPolygon(this.cc_p1_x,this.cc_p1_y,7),this.gg.os_g.fillPolygon(this.cc_p2_x,this.cc_p2_y,7)},z.prototype.load=function(Jd){this._loaded=!1,this._error=!1,this._width=-1,this._height=-1,this._dat=new Image;var Kd=this;this._dat.onload=function(){Kd.onload()},this._dat.onerror=function(){B(Kd)},this._dat.onabort=function(){B(Kd)},this._dat.ontimeout=function(){B(Kd)},this._dat.src=Jd,this._dat.complete&&this.onload()},z.prototype.onload=function(){this._loaded=!0,this._width=this._dat.naturalWidth,this._height=this._dat.naturalHeight},z.prototype.onerror=function(){this._error=!0,this._dat=null},z.prototype.getGraphics=function(){return this._width<0?null:(this._g=new C(this),this._g)},z.prototype.createGraphics=function(){return this.getGraphics()},C.prototype.drawLine=function(Od,Pd,Qd,Rd){return null!=this._ctx&&(this._ctx.beginPath(),this._ctx.moveTo(Od,Pd),this._ctx.lineTo(Qd,Rd),this._ctx.stroke(),!0)},C.prototype.drawImage=function(Sd,Td,Ud,Vd,Wd,Xd,Yd,Zd,$d,_d){if(null==Sd._dat)return!1;if(null==this._ctx)return!1;try{if(arguments.length<=4)return this._ctx.drawImage(Sd._dat,Td,Ud),!0;if(arguments.length<=6)return this._ctx.drawImage(Sd._dat,Td,Ud,Vd,Wd),!0;if(arguments.length<=10)return this._ctx.drawImage(Sd._dat,Td,Ud,Vd,Wd,Xd,Yd,Zd,$d),!0}catch(ae){}return!1},C.prototype.drawRect=function(be,ce,de,ee){return null!=this._ctx&&(this._ctx.strokeRect(be,ce,de,ee),!0)},C.prototype.fillRect=function(fe,ge,he,ie){return null!=this._ctx&&(this._ctx.fillRect(fe,ge,he,ie),!0)},C.prototype.drawPolygon=function(je,ke,le){if(null==this._ctx)return!1;this._ctx.beginPath(),this._ctx.moveTo(je[0],ke[0]);for(var me=1;me<le;me++)this._ctx.lineTo(je[me],ke[me]);return this._ctx.closePath(),this._ctx.stroke(),!0},C.prototype.fillPolygon=function(ne,oe,pe){if(null==this._ctx)return!1;this._ctx.beginPath(),this._ctx.moveTo(ne[0],oe[0]);for(var qe=1;qe<pe;qe++)this._ctx.lineTo(ne[qe],oe[qe]);return this._ctx.closePath(),this._ctx.fill(),!0},C.prototype.drawOval=function(re,se,te,ue){return null!=this._ctx&&(this.drawArc(re,se,te,ue,0,2*c.PI),!0)},C.prototype.fillOval=function(ve,we,xe,ye){return null!=this._ctx&&(this.fillArc(ve,we,xe,ye,0,2*c.PI),!0)},C.prototype.drawArc=function(ze,Ae,Be,Ce,De,Ee){if(null==this._ctx)return!1;var Fe=Ce/Be;return this._ctx.save(),this._ctx.beginPath(),this._ctx.scale(1,Fe),this._ctx.arc(ze+Be/2,(Ae+Ce/2)/Fe,Be/2,De,De+Ee,Ee<0),this._ctx.stroke(),this._ctx.restore(),!0},C.prototype.fillArc=function(Ge,He,Ie,Je,Ke,Le){if(null==this._ctx)return!1;var Me=Je/Ie;return this._ctx.save(),this._ctx.beginPath(),this._ctx.scale(1,Me),this._ctx.arc(Ge+Ie/2,(He+Je/2)/Me,Ie/2,Ke,Ke+Le,Le<0),this._ctx.lineTo(Ge+Ie/2,(He+Je/2)/Me),this._ctx.closePath(),this._ctx.fill(),this._ctx.restore(),!0},C.prototype.setGlobalAlpha=function(Ne){return null!=this._ctx&&(Ne<0&&(Ne=0),255<Ne&&(Ne=255),this._ctx.globalAlpha=Ne/255,!0)},C.prototype.setColor=function(Oe){if(null==this._ctx)return!1;this._color=new D(Oe.r,Oe.g,Oe.b,Oe.a);var Pe="rgba("+Oe.r+", "+Oe.g+", "+Oe.b+", "+Oe.a/255+")";return this._ctx.strokeStyle=Pe,this._ctx.fillStyle=Pe,!0},C.prototype.setFont=function(Qe){if(null==this._ctx)return!1;var Re="";return Qe._style&E.ITALIC&&(Re+="italic "),Qe._style&E.BOLD&&(Re+="bold "),Re+=Qe._size+"px ",Qe._name==E.SERIF?Re+="serif":Qe._name==E.SANS_SERIF?Re+="sans-serif":Qe._name==E.MONOSPACED?Re+="monospace":Qe._name==E.DIALOG?Re+="'Helvetica','Arial','ＭＳ ゴシック','HG ゴシックB Sun','HG ゴシックB',monospace":Re+='"'+Qe._name+'"',this._ctx.font=Re,this._font=Qe,!0},C.prototype.drawString=function(Se,Te,Ue){return null!=this._ctx&&(this._ctx.fillText(Se,Te,Ue),!0)},C.prototype.translate=function(Ve,We){return null!=this._ctx&&(this._ctx.translate(Ve,We),!0)},C.prototype.rotate=function(Xe,Ye,Ze){return null!=this._ctx&&(1==arguments.length?this._ctx.rotate(Xe):(this._ctx.translate(Ye,Ze),this._ctx.rotate(Xe),this._ctx.translate(-Ye,-Ze)),!0)},C.prototype.scale=function($e,_e){return null!=this._ctx&&(this._ctx.scale($e,_e),!0)},C.prototype.setClip=function(af){if(null==this._ctx)return!1;if("ellipse"==af){var bf=arguments[4]/arguments[3];return this._ctx.beginPath(),this._ctx.save(),this._ctx.scale(1,bf),this._ctx.arc(arguments[1]+arguments[3]/2,(arguments[2]+arguments[4]/2)/bf,arguments[3]/2,0,2*c.PI,!1),this._ctx.restore(),this._ctx.clip(),!0}if("rect"==af)return this._ctx.beginPath(),this._ctx.rect(arguments[1],arguments[2],arguments[3],arguments[4]),this._ctx.clip(),!0;if("polygon"==af){this._ctx.beginPath(),this._ctx.moveTo(arguments[1][0],arguments[2][0]);for(var cf=1;cf<arguments[3];cf++)this._ctx.lineTo(arguments[1][cf],arguments[2][cf]);return this._ctx.closePath(),this._ctx.clip(),!0}return!1},C.prototype.copyArea=function(df,ef,ff,gf,hf,jf){return null!=this._ctx&&(this._ctx.drawImage(this._ctx.canvas,df,ef,ff,gf,df+hf,ef+jf,ff,gf),!0)},C.prototype.dispose=function(){this._ctx.restore(),this._ctx.save()},D.prototype.getRed=function(){return this.r},D.prototype.getGreen=function(){return this.g},D.prototype.getBlue=function(){return this.b},D.white=new D(255,255,255),D.WHITE=D.white,D.lightGray=new D(192,192,192),D.LIGHT_GRAY=D.lightGray,D.gray=new D(128,128,128),D.GRAY=D.gray,D.darkGray=new D(64,64,64),D.DARK_GRAY=D.darkGray,D.black=new D(0,0,0),D.BLACK=D.black,D.red=new D(255,0,0),D.RED=D.red,D.pink=new D(255,175,175),D.PINK=D.pink,D.orange=new D(255,200,0),D.ORANGE=D.orange,D.yellow=new D(255,255,0),D.YELLOW=D.yellow,D.green=new D(0,255,0),D.GREEN=D.green,D.magenta=new D(255,0,255),D.MAGENTA=D.magenta,D.cyan=new D(0,255,255),D.CYAN=D.cyan,D.blue=new D(0,0,255),D.BLUE=D.blue,E.DIALOG="Dialog",E.DIALOG_INPUT="DialogInput",E.MONOSPACED="Monospaced",E.SANS_SERIF="SansSerif",E.SERIF="Serif",E.PLAIN=0,E.BOLD=1,E.ITALIC=2,F.prototype.initAll=function(){for(var uf=0;uf<=15;uf++)this.init1(uf);this.c_fc=0,this.gk.up_c=0,this.gk.down_c=0,this.aw=-1,this.kettei_c=2,this.cancel_c=2;for(uf=0;uf<=15;uf++)this.list_IDlist[uf]=0;this.list_kazu=0,this.list_s=0},F.prototype.init1=function(vf){this.c[vf]=0,this.x[vf]=0,this.y[vf]=0,this.width[vf]=180,this.selectedIndex[vf]=0,this.item_kazu[vf]=0,this.message[vf]="どうしますか？";for(var wf=0;wf<=15;wf++)this.item[vf][wf]="";for(wf=0;wf<=15;wf++)this.item_int[vf][wf]=0},F.prototype.setMessage=function(xf,yf){this.message[xf]=yf},F.prototype.addItem=function(zf,Af){this.item[zf][this.item_kazu[zf]]=Af,this.item_kazu[zf]+=1},F.prototype.addIntitem=function(Bf,Cf){this.item_int[Bf][this.item_kazu[Bf]]=Cf,this.item_kazu[Bf]+=1},F.prototype.addItem2=function(Df,Ef,Ff){this.item[Df][this.item_kazu[Df]]=Ef,this.item_int[Df][this.item_kazu[Df]]=Ff,this.item_kazu[Df]+=1},F.prototype.active=function(Gf,Hf,If,Jf){this.c[Gf]=100,this.x[Gf]=Hf,this.y[Gf]=If,this.width[Gf]=void 0!==Jf?ParamInt4:180,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=Gf,this.kettei_c=2,this.cancel_c=2},F.prototype.activeSerifutuki=function(Kf,Lf,Mf,Nf,Of){this.c[Kf]=700,this.x[Kf]=Lf,this.y[Kf]=Mf,this.width[Kf]=Nf,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=Kf,this.kettei_c=2,this.cancel_c=2,this.item[Kf][15]=Of},F.prototype.activeKaimono=function(Pf,Qf,Rf,Sf){this.c[Pf]=900,this.x[Pf]=Qf,this.y[Pf]=Rf,this.width[Pf]=Sf,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=Pf,this.kettei_c=2,this.cancel_c=2},F.prototype.activeIchigyou=function(Tf,Uf,Vf,Wf){this.c[Tf]=300,this.x[Tf]=Uf,this.y[Tf]=Vf,this.width[Tf]=Wf,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=Tf,this.kettei_c=2,this.cancel_c=2},F.prototype.activeNigyou=function(Xf,Yf,Zf,$f,_f){this.c[Xf]=310,this.x[Xf]=Yf,this.y[Xf]=Zf,this.width[Xf]=$f,this.item_color[Xf]=_f,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=Xf,this.kettei_c=2,this.cancel_c=2},F.prototype.activeYongyou=function(ag,bg,cg,dg){this.c[ag]=320,this.x[ag]=bg,this.y[ag]=cg,this.width[ag]=dg,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=ag,this.kettei_c=2,this.cancel_c=2},F.prototype.activeYongyou2=function(eg,fg,gg,hg){this.c[eg]=321,this.x[eg]=fg,this.y[eg]=gg,this.width[eg]=hg,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=eg,this.kettei_c=2,this.cancel_c=2},F.prototype.activeSerifu=function(ig,jg,kg,lg,mg){this.c[ig]=330,this.x[ig]=jg,this.y[ig]=kg,this.width[ig]=lg,this.item_color[ig]=mg,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=ig,this.kettei_c=2,this.cancel_c=2},F.prototype.activeYasumu=function(ng,og,pg){this.c[ng]=1e3,this.x[ng]=og,this.y[ng]=pg,this.width[ng]=272,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=ng,this.kettei_c=2,this.cancel_c=2},F.prototype.onKao=function(qg,rg,sg,tg,ug){this.c[qg]=600,this.x[qg]=rg,this.y[qg]=sg,this.width[qg]=tg,this.item_int[qg][0]=ug},F.prototype.onMituketa=function(vg,wg,xg){this.c[vg]=610,this.x[vg]=wg,this.y[vg]=xg,this.width[vg]=200},F.prototype.onOkozukai=function(yg,zg,Ag,Bg,Cg){this.c[yg]=800,this.x[yg]=zg,this.y[yg]=Ag,this.width[yg]=Bg,this.item_int[yg][0]=Cg},F.prototype.activeIchigyouTime=function(Dg,Eg,Fg,Gg){this.c[Dg]=350,this.x[Dg]=Eg,this.y[Dg]=Fg,this.width[Dg]=Gg,this.item_int[Dg][0]=100},F.prototype.activeNigyouTime=function(Hg,Ig,Jg,Kg,Lg){this.c[Hg]=360,this.x[Hg]=Ig,this.y[Hg]=Jg,this.width[Hg]=Kg,this.item_color[Hg]=Lg,this.item_int[Hg][0]=100},F.prototype.activeJibun=function(Mg,Ng,Og,Pg,Qg,Rg,Sg,Tg){this.c[Mg]=400,this.x[Mg]=Ng,this.y[Mg]=Og,this.item_int[14][0]=Qg,this.item_int[14][1]=Rg,this.item_int[14][2]=Sg,this.item_int[14][3]=Tg,this.width[Mg]=Pg,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=Mg,this.kettei_c=2,this.cancel_c=2},F.prototype.activeToujou=function(Ug,Vg,Wg,Xg,Yg,Zg){this.c[Ug]=420,this.x[Ug]=Vg,this.y[Ug]=Wg,this.item_int[Ug][2]=Yg,this.item[Ug][0]=Zg,this.width[Ug]=Xg,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=Ug,this.kettei_c=2,this.cancel_c=2},F.prototype.initCS=function(){this.item_kazu[0]=8,this.selectedIndex[0]=0},F.prototype.activeCS=function(){this.c[0]=500,this.x[0]=0,this.y[0]=0,this.width[0]=0,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=0,this.kettei_c=2},F.prototype.off=function($g){this.c[$g]=0},F.prototype.offActivewindow=function(_g,ah){this.c[_g]=0,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=ah,this.kettei_c=2,this.cancel_c=2},F.prototype.move=function(){this.c_fc+=1,6<this.c_fc&&(this.c_fc=0),0<=this.aw&&(this.gk.up_f?(this.gk.up_c+=1,3<this.gk.up_c&&(this.gk.up_c=1)):this.gk.up_c=0,this.gk.down_f?(this.gk.down_c+=1,3<this.gk.down_c&&(this.gk.down_c=1)):this.gk.down_c=0,1==this.gk.up_c?(this.selectedIndex[this.aw]-=1,this.c_fc=-1,this.selectedIndex[this.aw]<0&&(this.selectedIndex[this.aw]=this.item_kazu[this.aw]-1)):1==this.gk.down_c&&(this.selectedIndex[this.aw]+=1,this.c_fc=-1,this.selectedIndex[this.aw]>this.item_kazu[this.aw]-1&&(this.selectedIndex[this.aw]=0))),this.gk.tr1_f?0==this.kettei_c&&(this.kettei_c=1):this.kettei_c=0,this.gk.x_f?0==this.cancel_c&&(this.cancel_c=1):this.cancel_c=0},F.prototype.drawMenus=function(){this.hg.setFont(new E("Dialog",0,12));for(var bh=0;bh<=15;bh++){var ch=this.c[bh];if(0!=ch)switch(ch){case 100:if(this.drawWindowbox(this.x[bh],this.y[bh],this.width[bh],30+14*this.item_kazu[bh]),this.hg.setColor(D.white),this.hg.drawString(this.message[bh],this.x[bh]+24,this.y[bh]+6+12),1<=this.item_kazu[bh])for(var dh=0;dh<=this.item_kazu[bh]-1;dh++)this.hg.drawString(this.item[bh][dh],this.x[bh]+24,this.y[bh]+6+18+14*dh+12);bh==this.aw?this.c_fc<=3&&this.hg.drawImage(this.hi[70],this.x[bh]+6,this.y[bh]+24+14*this.selectedIndex[bh],this.ap):this.hg.drawImage(this.hi[70],this.x[bh]+6,this.y[bh]+24+14*this.selectedIndex[bh],this.ap);break;case 200:this.hg.setColor(D.white),this.hg.fillRect(12,12,128,58),this.hg.setColor(D.black),this.hg.fillRect(14,14,124,54),this.hg.setColor(D.cyan),this.hg.drawString(this.item[14][0],18,30),(this.item_int[14][0]<=0||this.item_int[14][2]<=0)&&(this.hg.setColor(D.red),this.hg.drawString("戦闘不能",82,30)),this.hg.setColor(D.white),this.hg.drawString("HP\t"+this.item_int[14][0]+" / "+this.item_int[14][1],18,48),this.hg.drawString("PP\t"+this.item_int[14][2]+" / "+this.item_int[14][3],18,62);break;case 210:this.hg.setColor(D.white),this.hg.fillRect(160,12,128,58),this.hg.setColor(D.black),this.hg.fillRect(162,14,124,54),this.hg.setColor(D.green),this.hg.drawString(this.item[15][0],166,30),this.item_int[15][0]<=0&&(this.hg.setColor(D.red),this.hg.drawString("戦闘不能",230,30)),this.hg.setColor(D.white),this.hg.drawString("HP\t"+this.item_int[15][0]+" / "+this.item_int[15][1],166,48),this.hg.drawString("PP\t"+this.item_int[15][2]+" / "+this.item_int[15][3],166,62);break;case 220:this.hg.setColor(D.white),this.hg.fillRect(372,12,128,58),this.hg.setColor(D.black),this.hg.fillRect(374,14,124,54),this.hg.setColor(D.cyan),this.hg.drawString(this.item[15][0],378,30),(this.item_int[15][0]<=0||this.item_int[15][2]<=0)&&(this.hg.setColor(D.red),this.hg.drawString("戦闘不能",442,30)),this.hg.setColor(D.white),this.hg.drawString("HP\t"+this.item_int[15][0]+" / "+this.item_int[15][1],378,48),this.hg.drawString("PP\t"+this.item_int[15][2]+" / "+this.item_int[15][3],378,62);break;case 300:this.drawWindowbox(this.x[bh],this.y[bh],this.width[bh],40),this.hg.setColor(D.white),this.hg.drawString(this.item[bh][0],this.x[bh]+6,this.y[bh]+6+12),this.c_fc<=3&&this.gg.drawPT(this.x[bh]+(this.width[bh]-14>>1),this.y[bh]+6+14+0+2,201,0);break;case 310:this.drawWindowbox(this.x[bh],this.y[bh],this.width[bh],58),this.hg.setColor(this.item_color[bh]),this.hg.drawString(this.item[bh][0],this.x[bh]+6,this.y[bh]+6+12),this.hg.setColor(D.white),this.hg.drawString(this.item[bh][1],this.x[bh]+6,this.y[bh]+6+18+12),this.c_fc<=3&&this.gg.drawPT(this.x[bh]+(this.width[bh]-14>>1),this.y[bh]+6+18+14+2,71,0);break;case 320:this.drawWindowbox(this.x[bh],this.y[bh],this.width[bh],66+14*(this.item_kazu[bh]-3)+14),this.hg.setColor(D.magenta),this.hg.drawString(this.item[bh][0],this.x[bh]+6,this.y[bh]+6+12),this.hg.setColor(D.white),this.hg.drawString(this.item[bh][1],this.x[bh]+6,this.y[bh]+6+18+12),this.hg.setColor(D.cyan),this.hg.drawString(this.item[bh][2],this.x[bh]+6,this.y[bh]+6+36+12),this.hg.setColor(D.white);for(dh=0;dh<=this.item_kazu[3]-4;dh++)this.hg.drawString(this.item[3][dh+3],this.x[3]+6,this.y[3]+6+54+14*dh+12);this.c_fc<=3&&this.gg.drawPT(this.x[bh]+(this.width[bh]-14>>1),this.y[bh]+6+18+36+14*(this.item_kazu[bh]-3)+2,71,0);break;case 321:this.drawWindowbox(this.x[bh],this.y[bh],this.width[bh],108),this.hg.setColor(D.cyan),this.hg.drawString(this.item[bh][0],this.x[bh]+6,this.y[bh]+6+12),this.hg.setColor(D.white),this.hg.drawString(this.item[bh][1],this.x[bh]+6,this.y[bh]+6+18+12),this.hg.setColor(D.magenta),this.hg.drawString(this.item[bh][2],this.x[bh]+6,this.y[bh]+6+36+12),this.hg.setColor(D.white),this.hg.drawString(this.item[bh][3],this.x[bh]+6,this.y[bh]+6+54+12),this.hg.setColor(D.white),this.hg.drawString(this.item[bh][4],this.x[bh]+6,this.y[bh]+6+54+14+12),this.c_fc<=3&&this.gg.drawPT(this.x[bh]+(this.width[bh]-14>>1),this.y[bh]+6+18+36+14+14+2,71,0);break;case 330:if(this.drawWindowbox(this.x[bh],this.y[bh],this.width[bh],30+14*(this.item_kazu[bh]+1)),this.hg.setColor(this.item_color[bh]),this.hg.drawString(this.message[bh],this.x[bh]+6,this.y[bh]+6+12),this.hg.setColor(D.white),1<=this.item_kazu[bh])for(dh=0;dh<=this.item_kazu[bh]-1;dh++)this.hg.drawString(this.item[bh][dh],this.x[bh]+6,this.y[bh]+6+18+14*dh+12);bh==this.aw?this.c_fc<=3&&this.gg.drawPT(this.x[bh]+(this.width[bh]-14>>1),this.y[bh]+6+18+14*this.item_kazu[bh]+2,201,0):this.gg.drawPT(this.x[bh]+(this.width[bh]-14>>1),this.y[bh]+6+18+14*this.item_kazu[bh]+2,201,0);break;case 350:if(100==this.item_int[bh][0]){this.item_int[bh][0]=55;break}this.drawWindowbox(this.x[bh],this.y[bh],this.width[bh],26),this.hg.setColor(D.white),this.hg.drawString(this.item[bh][0],this.x[bh]+6,this.y[bh]+6+12),this.item_int[bh][0]-=1,this.item_int[bh][0]<=0&&this.off(bh);break;case 360:200==this.item_int[bh][0]?(this.drawWindowbox(this.x[bh],this.y[bh],this.width[bh],44),this.hg.setColor(this.item_color[bh]),this.hg.drawString(this.item[bh][0],this.x[bh]+6,this.y[bh]+6+12),this.hg.setColor(D.white),this.hg.drawString(this.item[bh][1],this.x[bh]+6,this.y[bh]+6+18+12)):100==this.item_int[bh][0]?this.item_int[bh][0]=55:(this.drawWindowbox(this.x[bh],this.y[bh],this.width[bh],44),this.hg.setColor(this.item_color[bh]),this.hg.drawString(this.item[bh][0],this.x[bh]+6,this.y[bh]+6+12),this.hg.setColor(D.white),this.hg.drawString(this.item[bh][1],this.x[bh]+6,this.y[bh]+6+18+12),this.item_int[bh][0]-=1,this.item_int[bh][0]<=0&&this.off(bh));break;case 400:this.drawWindowbox(this.x[bh],this.y[bh],this.width[bh],128),this.hg.setColor(D.yellow),this.hg.drawString(this.name_crys+"のステータス",this.x[bh]+6,this.y[bh]+6+12),this.hg.setColor(D.white),this.hg.drawString("HP\t"+this.item_int[14][0]+" / "+this.item_int[14][1],this.x[bh]+6,this.y[bh]+6+18+0+12),this.hg.drawString("おこづかい\t",this.x[bh]+6,this.y[bh]+6+18+28+12),this.hg.drawString(this.item_int[14][2]+"円",this.x[bh]+6+72,this.y[bh]+6+18+42+12),this.hg.drawString("得点",this.x[bh]+6,this.y[bh]+6+18+56+12),this.hg.drawString(this.item_int[14][3]+"点",this.x[bh]+6+72,this.y[bh]+6+18+70+12),this.c_fc<=3&&this.gg.drawPT(this.x[bh]+(this.width[bh]-14>>1),this.y[bh]+6+18+84+2,71,0);break;case 420:this.drawWindowbox(this.x[bh],this.y[bh],this.width[bh],116),this.hg.setColor(new D(96,96,96)),this.hg.fillRect(this.x[bh]+12,this.y[bh]+12,this.width[bh]-24,48),this.gg.drawPT(this.x[bh]+12+(this.width[bh]-24-32>>1),this.y[bh]+12+8,this.item_int[bh][2],0),this.hg.setColor(D.cyan),this.hg.drawString(this.item[bh][0],this.x[bh]+12,this.y[bh]+64+12),this.hg.setColor(D.white),this.hg.drawString("これからも、よろしくね！",this.x[bh]+12,this.y[bh]+68+14+12),this.c_fc<=3&&this.gg.drawPT(this.x[bh]+(this.width[bh]-14>>1),this.y[bh]+68+28+2,71,0);break;case 410:-2==this.item_int[bh][0]?(this.drawWindowbox(this.x[bh],this.y[bh],this.width[bh],116),this.hg.setColor(new D(96,96,96)),this.hg.fillRect(this.x[bh]+12,this.y[bh]+12,this.width[bh]-24,48),this.gg.drawPT(this.x[bh]+12+(this.width[bh]-24-32>>1),this.y[bh]+12+8,this.item_int[bh][2],0),this.hg.setColor(D.yellow),this.hg.drawString(this.item[bh][0],this.x[bh]+12,this.y[bh]+64+12),this.hg.setColor(D.white),this.hg.drawString("捕獲不可能",this.x[bh]+12,this.y[bh]+68+14+12),this.c_fc<=3&&this.gg.drawPT(this.x[bh]+(this.width[bh]-14>>1),this.y[bh]+68+28+2,71,0)):this.item_int[bh][0]<0?(this.drawWindowbox(this.x[bh],this.y[bh],this.width[bh],116),this.hg.setColor(new D(96,96,96)),this.hg.fillRect(this.x[bh]+12,this.y[bh]+12,this.width[bh]-24,48),this.gg.drawPT(this.x[bh]+12+(this.width[bh]-24-32>>1),this.y[bh]+12+8,this.item_int[bh][2],0),this.hg.setColor(D.yellow),this.hg.drawString(this.item[bh][0],this.x[bh]+12,this.y[bh]+64+12),this.hg.setColor(D.white),this.hg.drawString("現在調査中",this.x[bh]+12,this.y[bh]+68+14+12),this.c_fc<=3&&this.gg.drawPT(this.x[bh]+(this.width[bh]-14>>1),this.y[bh]+68+28+2,71,0)):(this.drawWindowbox(this.x[bh],this.y[bh],this.width[bh],158),this.hg.setColor(new D(96,96,96)),this.hg.fillRect(this.x[bh]+12,this.y[bh]+12,this.width[bh]-24,48),this.gg.drawPT(this.x[bh]+12+(this.width[bh]-24-32>>1),this.y[bh]+12+8,this.item_int[bh][2],0),this.hg.setColor(D.yellow),this.hg.drawString(this.item[bh][0],this.x[bh]+12,this.y[bh]+64+12),this.hg.setColor(D.white),this.hg.drawString("最大HP",this.x[bh]+12,this.y[bh]+68+14+12),this.hg.drawString(""+this.item_int[bh][0],this.x[bh]+56,this.y[bh]+68+28+12),this.hg.drawString("最大PP",this.x[bh]+12,this.y[bh]+68+42+12),this.hg.drawString(""+this.item_int[bh][1],this.x[bh]+56,this.y[bh]+68+56+12),this.c_fc<=3&&this.gg.drawPT(this.x[bh]+(this.width[bh]-14>>1),this.y[bh]+68+70+2,71,0));break;case 500:this.c_fc<=3||0!=this.aw?this.hg.drawImage(this.hi[72],12+28*this.selectedIndex[bh],288,this.ap):this.hg.drawImage(this.hi[73],12+28*this.selectedIndex[bh],288,this.ap);break;case 600:this.drawWindowbox(this.x[bh],this.y[bh],this.width[bh],96);var eh=this.item_int[bh][0],fh=this.x[bh]+(this.width[bh]-64>>1),gh=this.y[bh]+16;this.gg.drawPT(fh,gh,eh,0),this.gg.drawPT(fh+32,gh,eh+1,0),this.gg.drawPT(fh,gh+32,eh+10,0),this.gg.drawPT(fh+32,gh+32,eh+11,0);break;case 610:this.drawWindowbox(this.x[bh],this.y[bh],this.width[bh],30+14*this.item_kazu[bh]),this.hg.setColor(D.yellow),this.hg.drawString("モンスターずかん",this.x[bh]+6,this.y[bh]+6+12),this.hg.setColor(D.white),this.hg.drawString("見つけた数\t"+this.item_int[bh][0],this.x[bh]+6,this.y[bh]+6+18+0+12),this.hg.drawString("捕まえた数\t"+this.item_int[bh][1],this.x[bh]+6,this.y[bh]+6+18+14+12);break;case 700:if(this.drawWindowbox(this.x[bh],this.y[bh],this.width[bh],30+14*this.item_kazu[bh]+18),this.hg.setColor(D.cyan),this.hg.drawString(this.item[bh][15],this.x[bh]+24,this.y[bh]+6+12),this.hg.setColor(D.white),this.hg.drawString(this.message[bh],this.x[bh]+24,this.y[bh]+6+12+18),1<=this.item_kazu[bh])for(dh=0;dh<=this.item_kazu[bh]-1;dh++)this.hg.drawString(this.item[bh][dh],this.x[bh]+24,this.y[bh]+6+18+14*dh+12+18);bh==this.aw?this.c_fc<=3&&this.gg.drawPT(this.x[bh]+6,this.y[bh]+6+18+14*this.selectedIndex[bh]+18,200,0):this.gg.drawPT(this.x[bh]+6,this.y[bh]+6+18+14*this.selectedIndex[bh]+18,200,0);break;case 800:this.drawWindowbox(this.x[bh],this.y[bh],this.width[bh],44),this.hg.setColor(D.yellow),this.hg.drawString("おこづかい",this.x[bh]+6,this.y[bh]+6+12),this.hg.setColor(D.white),this.hg.drawString(this.item_int[bh][0]+"円",this.x[bh]+6,this.y[bh]+6+18+12);break;case 900:if(this.drawWindowbox(this.x[bh],this.y[bh],this.width[bh],30+14*this.item_kazu[bh]),this.hg.setColor(D.white),this.hg.drawString(this.message[bh],this.x[bh]+24,this.y[bh]+6+12),1<=this.item_kazu[bh])for(dh=0;dh<=this.item_kazu[bh]-1;dh++)this.hg.drawString(this.item[bh][dh],this.x[bh]+24,this.y[bh]+6+18+14*dh+12),this.hg.drawString(""+this.item_int[bh][dh],this.x[bh]+24+116,this.y[bh]+6+18+14*dh+12);bh==this.aw?this.c_fc<=3&&this.gg.drawPT(this.x[bh]+6,this.y[bh]+6+18+14*this.selectedIndex[bh],200,0):this.gg.drawPT(this.x[bh]+6,this.y[bh]+6+18+14*this.selectedIndex[bh],200,0);break;case 1e3:this.drawWindowbox(this.x[bh],this.y[bh],this.width[bh],98),this.hg.setColor(new D(96,96,96)),this.hg.fillRect(this.x[bh]+12,this.y[bh]+12,248,48);for(dh=0;dh<=5;dh++)0<this.item_int[bh][dh]&&this.gg.drawPT(this.x[bh]+12+8+40*dh,this.y[bh]+12+8,this.item_int[bh][dh],0);this.hg.setColor(D.white),this.hg.drawString("みんな、元気になった。",this.x[bh]+12,this.y[bh]+64+12),this.c_fc<=3&&this.gg.drawPT(this.x[bh]+(this.width[bh]-14>>1),this.y[bh]+64+14+2,71,0)}}},F.prototype.drawWindowbox=function(hh,ih,jh,kh){this.hg.setColor(D.white),this.hg.fillRect(hh,ih,jh,kh),this.hg.setColor(D.black),this.hg.fillRect(hh+2,ih+2,jh-4,kh-4)},G.prototype.start=function(){this.ml_mode=50},G.prototype.paraInt=function(uh){var wh,vh=this.gg.ap.getParameter(uh);return wh=parseInt(vh),isNaN(wh)&&(wh=-1),wh},G.prototype.addHighscoreEvent=function(xh){return this.heh=xh,!0},G.prototype.sendHighscore=function(){if("[object Function]"==Object.prototype.toString.call(this.heh)){var zh=this.highscore;zh<this.score&&(zh=this.score),this.heh(zh)}},G.prototype.moveGameCounter=function(){switch(this.g_c3){case 0:this.g_c3=1,this.g_c1=1,this.g_c2=1,this.g_ac=0,this.g_ac2=0;break;case 1:this.g_c3=2,this.g_c1=0,this.g_c2=2,this.g_ac=1,this.g_ac2=1;break;case 2:this.g_c3=3,this.g_c1=1,this.g_c2=3,this.g_ac=1,this.g_ac2=1;break;case 3:this.g_c3=4,this.g_c1=0,this.g_c2=0,this.g_ac=0,this.g_ac2=2;break;case 4:this.g_c3=5,this.g_c1=1,this.g_c2=1,this.g_ac=0,this.g_ac2=2;break;case 5:this.g_c3=6,this.g_c1=0,this.g_c2=2,this.g_ac=1,this.g_ac2=3;break;case 6:this.g_c3=7,this.g_c1=1,this.g_c2=3,this.g_ac=1,this.g_ac2=3;break;case 7:this.g_c3=0,this.g_c1=0,this.g_c2=0,this.g_ac=0,this.g_ac2=0}},G.prototype.ranInit=function(){this.ran_seed=4294967296*c.random()|0},G.prototype.ranInt=function(Ah){var Bh=this.ran_seed;return Bh=((Bh=(Bh^Bh<<9)>>>0)^Bh>>>11)>>>0,this.ran_seed=Bh=(Bh^Bh<<19)>>>0,2.3283064365386963e-10*Bh*Ah|0},G.prototype.drawScore=function(){if(this.score_v)if(0<this.time_max){var Jh,Hh=s(this.time/1e3),Ih=14+this.moji_size;this.gg.os_g.setColor(this.gamecolor_score),this.gg.os_g.setFont(new E("Dialog",1,this.moji_size)),Jh=this.j_left_shoki<=0&&this.j_left<=0?this.moji_score+" "+this.score+"    "+this.moji_highscore+" "+this.highscore+this.moji_time+Hh:(Jh=this.moji_score+" "+this.score+"    "+this.moji_highscore+" "+this.highscore+this.moji_left+this.j_left)+this.moji_time+Hh,this.gg.os_g.drawString(Jh,40,Ih)}else{var Lh,Kh=14+this.moji_size;this.gg.os_g.setColor(this.gamecolor_score),this.gg.os_g.setFont(new E("Dialog",1,this.moji_size)),Lh=this.j_left_shoki<=0&&this.j_left<=0?this.moji_score+" "+this.score+"    "+this.moji_highscore+" "+this.highscore:this.moji_score+" "+this.score+"    "+this.moji_highscore+" "+this.highscore+this.moji_left+this.j_left,this.gg.os_g.drawString(Lh,40,Kh)}else if(0<this.time_max){var Eh,Ch=s(this.time/1e3),Dh=14+this.moji_size;this.gg.os_g.setColor(this.gamecolor_score),this.gg.os_g.setFont(new E("Dialog",1,this.moji_size)),Eh=this.j_left_shoki<=0&&this.j_left<=0?this.moji_time+Ch:(Eh=this.moji_left+this.j_left)+this.moji_time+Ch,this.gg.os_g.drawString(Eh,40,Dh)}else{var Gh,Fh=14+this.moji_size;this.gg.os_g.setColor(this.gamecolor_score),this.gg.os_g.setFont(new E("Dialog",1,this.moji_size)),Gh=this.j_left_shoki<=0&&this.j_left<=0?"":this.moji_left+this.j_left,this.gg.os_g.drawString(Gh,40,Fh)}},G.prototype.drawScore2=function(){if(this.score_v){var Ph,Oh=14+this.moji_size;this.gg.os_g.setColor(this.gamecolor_score),this.gg.os_g.setFont(new E("Dialog",1,this.moji_size)),Ph=this.j_left_shoki<=0&&this.j_left<=0?this.moji_score+" "+this.score+"    "+this.moji_highscore+" "+this.highscore:this.moji_score+" "+this.score+"    "+this.moji_highscore+" "+this.highscore+this.moji_left+this.j_left,this.gg.os_g.drawString(Ph,40,Oh)}else{var Nh,Mh=14+this.moji_size;this.gg.os_g.setColor(this.gamecolor_score),this.gg.os_g.setFont(new E("Dialog",1,this.moji_size)),Nh=this.j_left_shoki<=0&&this.j_left<=0?"":this.moji_left+this.j_left,this.gg.os_g.drawString(Nh,40,Mh)}},G.prototype.addScore=function(Qh){this.score+=Qh,0<this.score_1up_1&&this.score>=this.score_1up_1&&(this.j_left++,this.score_1up_1=0),0<this.score_1up_2&&this.score>=this.score_1up_2&&(this.j_left++,this.score_1up_2=0)},G.prototype.addSerifu=function(Rh,Sh,Th){for(var Uh=1;Uh<=Th;Uh++){var Wh,Vh=this.gg.ap.getParameter("serifu"+Sh+"-"+Uh);Wh=parseInt(Vh),isNaN(Wh)&&(Wh=-1),0!=Wh&&this.km.addItem(Rh,Vh)}},G.prototype.mL100=function(){if(this.moveGameCounter(),this.aMove(),100==this.co_j.c?this.jM100():this.jMove(),0<this.sl_step&&(10==this.sl_step||11==this.sl_step?(this.ks_wx+=this.sl_speed,this.ks_wx>this.maps.wx_max&&(this.ks_wx=this.maps.wx_max),this.maps.wx=this.ks_wx,this.maps.wy=this.ks_wy,300!=this.co_j.c&&310!=this.co_j.c&&(this.co_j.x<this.ks_wx-16?(this.co_j.x=this.ks_wx-16,this.co_j.vx<0&&(this.co_j.vx=0),(20<=this.maps.getBGCode(this.co_j.x+15,this.co_j.y)||20<=this.maps.getBGCode(this.co_j.x+15,this.co_j.y+31))&&100<=this.co_j.c&&this.co_j.c<200&&(this.co_j.c=210,this.co_j.y=this.maps.wy-64,this.co_j.c1=0,this.j_jet_c=0,this.j_v_c=0)):this.co_j.x>this.ks_wx+496&&(this.co_j.x=this.ks_wx+496,(this.co_j.vx=0)<this.co_j.vx&&(this.co_j.vx=0))),11==this.sl_step&&this.maps.wx>=this.sl_wx&&(this.maps.wx=this.sl_wx,this.sl_wy=this.ks_wy,this.sl_step=3)):1==this.sl_step?this.maps.wx>=this.sl_wx&&(this.maps.wx=this.sl_wx,this.sl_step=2):2==this.sl_step?(this.maps.wx=this.sl_wx,this.co_j.x<this.sl_wx-16?(this.co_j.x=this.sl_wx-16,this.co_j.vx=0):this.co_j.x>this.sl_wx+496&&(this.co_j.x=this.sl_wx+496,this.co_j.vx=0),this.maps.wy>=this.sl_wy&&(this.maps.wy=this.sl_wy,this.sl_step=3)):(this.maps.wx=this.sl_wx,this.maps.wy=this.sl_wy,this.co_j.x<this.sl_wx-16?(this.co_j.x=this.sl_wx-16,this.co_j.vx=0):this.co_j.x>this.sl_wx+496&&(this.co_j.x=this.sl_wx+496,this.co_j.vx=0))),0<this.jm_kazu&&this.jmMove(),this.tMove(),0<this.co_b.c&&this.bMove(),0<this.m_kazu&&this.mMove(),0<this.time_max&&this.stage_cc<=0&&(this.time-=70,this.time<0&&(this.time=0,this.j_left--,this.j_left<0?(this.j_left=0,this.ml_mode=300):this.ml_mode=90)),0<this.stage_cc&&(this.stage_cc++,28<this.stage_cc&&(2==this.stage_select?4<=this.stage?this.ml_mode=400:(0<this.time_max&&this.addScore(s(this.time/1e3)),this.ml_mode=260):this.stage>=this.stage_max?this.ml_mode=400:(this.stage++,0<this.time_max&&this.addScore(s(this.time/1e3)),this.ml_mode=90))),this.drawGamescreen(),this.drawScore(),0<this.j_jet_fuel){var Xh=this.moji_jet+" "+this.j_jet_fuel;0<this.j_gr_kazu&&(Xh=1==this.j_gr_kazu?Xh+"    "+this.moji_grenade:Xh+"    "+this.moji_grenade+" "+this.j_gr_kazu),this.hg.drawString(Xh,40,287+this.moji_size)}else 0<this.j_gr_kazu&&(1==this.j_gr_kazu?this.hg.drawString(this.moji_grenade,40,287+this.moji_size):this.hg.drawString(this.moji_grenade+" "+this.j_gr_kazu,40,287+this.moji_size));84==this.gk.key_code&&(this.gk.key_code=0,this.ml_mode=50)},G.prototype.mainLoop=function(){switch(this.ml_mode){default:break;case 50:this.gg.drawListImage(0,0,0),(0<this.score||0<this.highscore)&&this.drawScore(),this.gm.button_f||this.gk.tr1_f||(this.ml_mode=60,this.g_c1=0,this.sendHighscore());break;case 60:if(0==this.g_c1?118==this.gk.key_char&&(this.g_c1=1):1==this.g_c1?101==this.gk.key_char?this.g_c1=2:118!=this.gk.key_char&&(this.g_c1=0):2==this.g_c1&&(114==this.gk.key_char?this.ml_mode=1e3:101!=this.gk.key_char&&(this.g_c1=0)),!this.gm.button_f&&!this.gk.tr1_f)break;if(2==this.stage_select){this.init2(),this.ig.worldInit(),this.gg.os_g.setColor(D.black),this.gg.os_g.fillRect(0,0,this.gg.di.width,this.gg.di.height),this.ml_mode=200;break}this.init2(),this.init3(),this.gg.drawListImage(0,0,0),(0<this.score||0<this.highscore)&&this.drawScore(),this.j_left<=0?this.ml_mode=100:this.ml_mode=90;break;case 80:this.init2(),this.init3(),this.gg.drawListImage(0,0,0),(0<this.score||0<this.highscore)&&this.drawScore(),this.j_left<=0?this.ml_mode=100:this.ml_mode=90;break;case 90:this.init3(),this.gg.os_g.setColor(this.gamecolor_kaishi),this.gg.os_g.fillRect(0,0,this.gg.di.width,this.gg.di.height),this.stage>=this.stage_max?(this.gg.drawPT(160,144,52,0),this.gg.drawPT(192,144,53,0),this.gg.drawPT(224,144,54,0),this.gg.drawPT(256,144,55,0),this.gg.drawPT(288,144,56,0),this.gg.drawPT(320,144,57,0)):(this.gg.drawPT(192,144,70,0),this.gg.drawPT(224,144,71,0),this.gg.drawPT(256,144,72,0),this.stage>=this.stage_max&&this.gg.drawPT(288,144,75,0),3==this.stage?this.gg.drawPT(288,144,75,0):2==this.stage?this.gg.drawPT(288,144,74,0):this.gg.drawPT(288,144,73,0)),this.drawScore(),this.ml_mode=91,this.ml_mode_c=0;break;case 91:this.ml_mode_c++,35<this.ml_mode_c&&(this.ml_mode=100),84==this.gk.key_code&&(this.gk.key_code=0,this.ml_mode=50);break;case 95:switch(this.stage=this.ig.checkStage(),this.init3(),this.ig.shop_kattaitem){case 7:default:break;case 0:this.j_gr_kazu=3;break;case 1:this.j_jet_fuel=80;break;case 2:this.j_drell_f=!0;break;case 3:this.j_helm_f=!0;break;case 4:this.j_tail_f=!0;break;case 5:this.j_v_c=150,this.j_v_kakudo=0;break;case 6:this.j_fire_f=!0;break;case 8:0<this.time_max&&(this.time+=3e4)}this.gg.os_g.setColor(D.black),this.gg.os_g.fillRect(0,0,this.gg.di.width,this.gg.di.height),this.drawScore(),this.ml_mode=96,this.ml_mode_c=0;break;case 96:this.ml_mode_c++,8<this.ml_mode_c&&(this.ml_mode=100),84==this.gk.key_code&&(this.gk.key_code=0,this.ml_mode=50);break;case 200:this.ig.drawMap(),this.ig.mainProgram(),this.time=0,this.drawScore2(),110==this.ig.mp_mode&&(1<=this.ig.dokan_khID?this.ml_mode=230:this.ml_mode=95),84==this.gk.key_code&&(this.gk.key_code=0,this.ml_mode=50);break;case 230:this.gg.os_g.setColor(D.black),this.gg.os_g.fillRect(0,0,this.gg.di.width,this.gg.di.height),this.drawScore2(),this.ml_mode=231,this.ml_mode_c=0;break;case 231:var Yh;if(this.ml_mode_c++,5==this.ml_mode_c)Yh=2==this.ig.dokan_khID?this.gg.ap.getParameter("url2"):3==this.ig.dokan_khID?this.gg.ap.getParameter("url3"):4==this.ig.dokan_khID?this.gg.ap.getParameter("url4"):this.gg.ap.getParameter("url1"),location.href=Yh;else 80<this.ml_mode_c&&(this.ml_mode=50);84==this.gk.key_code&&(this.gk.key_code=0,this.ml_mode=50);break;case 250:this.addScore(0),this.ig.worldInit2(),this.ml_mode=251,this.ml_mode_c=0,this.gg.os_g.setColor(D.black),this.gg.os_g.fillRect(0,0,this.gg.di.width,this.gg.di.height),this.drawScore();break;case 251:this.ml_mode_c++,8<this.ml_mode_c&&(this.ml_mode=200),84==this.gk.key_code&&(this.gk.key_code=0,this.ml_mode=50);break;case 260:this.addScore(0),this.ig.worldInit3(),this.ml_mode=261,this.ml_mode_c=0,this.gg.os_g.setColor(D.black),this.gg.os_g.fillRect(0,0,this.gg.di.width,this.gg.di.height),this.drawScore();break;case 261:this.ml_mode_c++,8<this.ml_mode_c&&(this.ml_mode=200),84==this.gk.key_code&&(this.gk.key_code=0,this.ml_mode=50);break;case 300:this.gg.setBackcolor(D.black),this.gg.fill(),this.gg.drawListImage(0,0,2),this.drawScore(),this.sendHighscore(),this.ml_mode=310,this.ml_mode_c=0;break;case 310:this.ml_mode_c++,45<this.ml_mode_c&&(this.ml_mode=50),84==this.gk.key_code&&(this.gk.key_code=0,this.ml_mode=50);break;case 400:this.gg.drawListImage(0,0,1),0<this.time_max&&this.addScore(s(this.time/1e3)),this.drawScore(),this.sendHighscore(),this.ml_mode=410,this.ml_mode_c=0;break;case 410:this.ml_mode_c++,120<this.ml_mode_c&&(this.ml_mode=50),84==this.gk.key_code&&(this.gk.key_code=0,this.ml_mode=50);break;case 500:this.gg.setBackcolor(D.black),this.gg.fill(),this.gg.drawListImage(0,0,0),(0<this.score||0<this.highscore)&&this.drawScore(),this.ml_mode=50,this.ml_mode=50;break;case 1e3:this.gg.setBackcolor(D.black),this.gg.fill(),this.hg.setFont(new E("Dialog",0,46)),this.hg.setColor(D.white),this.hg.setFont(new E("Dialog",0,20)),this.hg.drawString("Title        MASAO CONSTRUCTION",50,50),this.hg.drawString("Version      2.8",50,80),this.hg.drawString("Language     Java2  SDK 1.3.1",50,110),this.hg.drawString("OS           WindowsXP",50,140),this.hg.drawString("Browser      InternetExplorer 6.0",50,170),this.hg.drawString("Programing   Fukuda Naoto",50,200),this.hg.drawString("Date         2003/6",50,230),this.ml_mode=1010,this.ml_mode_c=0;break;case 1010:this.ml_mode_c++,40<this.ml_mode_c&&(this.ml_mode=50)}},G.prototype.init1=function(){this.time_max=this.paraInt("time_max");var Zh=this.paraInt("score_v");this.score_v=2!=Zh,Zh=this.paraInt("backcolor_red");var $h=this.paraInt("backcolor_green"),_h=this.paraInt("backcolor_blue");Zh<0?Zh=0:255<Zh&&(Zh=255),$h<0?$h=0:255<$h&&($h=255),_h<0?_h=0:255<_h&&(_h=255),this.gamecolor_back=new D(Zh,$h,_h),(Zh=this.paraInt("backcolor_red_s"))<0?Zh=0:255<Zh&&(Zh=255),($h=this.paraInt("backcolor_green_s"))<0?$h=0:255<$h&&($h=255),(_h=this.paraInt("backcolor_blue_s"))<0?_h=0:255<_h&&(_h=255),this.gamecolor_back_s=new D(Zh,$h,_h),(Zh=this.paraInt("backcolor_red_t"))<0?Zh=0:255<Zh&&(Zh=255),($h=this.paraInt("backcolor_green_t"))<0?$h=0:255<$h&&($h=255),(_h=this.paraInt("backcolor_blue_t"))<0?_h=0:255<_h&&(_h=255),this.gamecolor_back_t=new D(Zh,$h,_h),(Zh=this.paraInt("backcolor_red_f"))<0?Zh=0:255<Zh&&(Zh=255),($h=this.paraInt("backcolor_green_f"))<0?$h=0:255<$h&&($h=255),(_h=this.paraInt("backcolor_blue_f"))<0?_h=0:255<_h&&(_h=255),this.gamecolor_back_f=new D(Zh,$h,_h),(Zh=this.paraInt("kaishi_red"))<0?Zh=0:255<Zh&&(Zh=255),($h=this.paraInt("kaishi_green"))<0?$h=0:255<$h&&($h=255),(_h=this.paraInt("kaishi_blue"))<0?_h=0:255<_h&&(_h=255),this.gamecolor_kaishi=new D(Zh,$h,_h),(Zh=this.paraInt("scorecolor_red"))<0?Zh=0:255<Zh&&(Zh=255),($h=this.paraInt("scorecolor_green"))<0?$h=0:255<$h&&($h=255),(_h=this.paraInt("scorecolor_blue"))<0?_h=0:255<_h&&(_h=255),this.gamecolor_score=new D(Zh,$h,_h),(Zh=this.paraInt("grenade_red1"))<0?Zh=0:255<Zh&&(Zh=255),($h=this.paraInt("grenade_green1"))<0?$h=0:255<$h&&($h=255),(_h=this.paraInt("grenade_blue1"))<0?_h=0:255<_h&&(_h=255),this.gamecolor_grenade1=new D(Zh,$h,_h),(Zh=this.paraInt("grenade_red2"))<0?Zh=0:255<Zh&&(Zh=255),($h=this.paraInt("grenade_green2"))<0?$h=0:255<$h&&($h=255),(_h=this.paraInt("grenade_blue2"))<0?_h=0:255<_h&&(_h=255),this.gamecolor_grenade2=new D(Zh,$h,_h),(Zh=this.paraInt("firebar_red1"))<0?Zh=0:255<Zh&&(Zh=255),($h=this.paraInt("firebar_green1"))<0?$h=0:255<$h&&($h=255),(_h=this.paraInt("firebar_blue1"))<0?_h=0:255<_h&&(_h=255),this.gamecolor_firebar1=new D(Zh,$h,_h),(Zh=this.paraInt("firebar_red2"))<0?Zh=0:255<Zh&&(Zh=255),($h=this.paraInt("firebar_green2"))<0?$h=0:255<$h&&($h=255),(_h=this.paraInt("firebar_blue2"))<0?_h=0:255<_h&&(_h=255),this.gamecolor_firebar2=new D(Zh,$h,_h),(Zh=this.paraInt("mizunohadou_red"))<0?Zh=0:255<Zh&&(Zh=255),($h=this.paraInt("mizunohadou_green"))<0?$h=0:255<$h&&($h=255),(_h=this.paraInt("mizunohadou_blue"))<0?_h=0:255<_h&&(_h=255),this.gamecolor_mizunohadou=new D(Zh,$h,_h),this.moji_score=this.gg.ap.getParameter("moji_score"),this.moji_highscore=this.gg.ap.getParameter("moji_highscore"),this.moji_time=this.gg.ap.getParameter("moji_time"),this.moji_time="    "+this.moji_time+" ",this.moji_jet=this.gg.ap.getParameter("moji_jet"),this.moji_grenade=this.gg.ap.getParameter("moji_grenade"),this.moji_left=this.gg.ap.getParameter("moji_left"),this.moji_left="    "+this.moji_left+" ",this.moji_size=this.paraInt("moji_size"),this.moji_size<10?this.moji_size=10:30<this.moji_size&&(this.moji_size=30),this.j_left_shoki=this.paraInt("jibun_left_shoki"),this.j_left_shoki<1&&(this.j_left_shoki=1),this.j_left_shoki--,this.stage_max=this.paraInt("stage_max"),this.stage_max<1?this.stage_max=1:4<this.stage_max&&(this.stage_max=4),2==this.stage_select&&(this.stage_max=4),this.stage_kaishi=this.paraInt("stage_kaishi"),this.stage_kaishi<1&&(this.stage_kaishi=1),this.stage_kaishi>this.stage_max&&(this.stage_kaishi=this.stage_max),this.score_1up_1_para=this.paraInt("score_1up_1"),(this.score_1up_1_para<0||this.stage_max<=1)&&(this.score_1up_1_para=0),this.score_1up_2_para=this.paraInt("score_1up_2"),(this.score_1up_2_para<0||this.stage_max<=1)&&(this.score_1up_2_para=0),this.j_tail_type=this.paraInt("j_tail_type"),(this.j_tail_type<1||3<this.j_tail_type)&&(this.j_tail_type=1);var ai=this.paraInt("j_tail_hf");this.j_tail_hf=2==ai,this.grenade_type=this.paraInt("grenade_type"),(this.grenade_type<1||6<this.grenade_type)&&(this.grenade_type=1),this.suberuyuka_hkf=this.paraInt("suberuyuka_hkf"),2==this.suberuyuka_hkf?this.suberuyuka_hkf=2:this.suberuyuka_hkf=1,ai=this.paraInt("j_fire_mkf"),this.j_fire_mkf=2==ai,ai=this.paraInt("dengeki_mkf"),this.dengeki_mkf=2==ai,ai=this.paraInt("yachamo_kf"),this.yachamo_cf=2==ai,ai=this.paraInt("airms_kf"),this.airms_kf=2==ai,this.ugokuyuka1_type=this.paraInt("ugokuyuka1_type"),(this.ugokuyuka1_type<1||7<this.ugokuyuka1_type)&&(this.ugokuyuka1_type=1),this.ugokuyuka2_type=this.paraInt("ugokuyuka2_type"),(this.ugokuyuka2_type<1||7<this.ugokuyuka2_type)&&(this.ugokuyuka2_type=1),this.ugokuyuka3_type=this.paraInt("ugokuyuka3_type"),(this.ugokuyuka3_type<1||7<this.ugokuyuka3_type)&&(this.ugokuyuka3_type=1),this.boss_type=this.paraInt("boss_type"),(this.boss_type<1||4<this.boss_type)&&(this.boss_type=1),this.boss2_type=this.paraInt("boss2_type"),(this.boss2_type<1||2<this.boss2_type)&&(this.boss2_type=1),this.boss3_type=this.paraInt("boss3_type"),(this.boss3_type<1||4<this.boss3_type)&&(this.boss3_type=1),this.dokan_mode=this.paraInt("dokan_mode"),(this.dokan_mode<1||2<this.dokan_mode)&&(this.dokan_mode=1),this.mes1_name=this.gg.ap.getParameter("mes1_name"),this.mes2_name=this.gg.ap.getParameter("mes2_name"),this.shop_name=this.gg.ap.getParameter("shop_name"),this.setumei_name=this.gg.ap.getParameter("setumei_name"),this.door_score=this.paraInt("door_score"),this.door_score<10&&(this.door_score=10),this.shop_item_name[0]=this.gg.ap.getParameter("shop_item_name1"),this.shop_item_name[1]=this.gg.ap.getParameter("shop_item_name2"),this.shop_item_name[2]=this.gg.ap.getParameter("shop_item_name3"),this.shop_item_name[3]=this.gg.ap.getParameter("shop_item_name4"),this.shop_item_name[4]=this.gg.ap.getParameter("shop_item_name5"),this.shop_item_name[5]=this.gg.ap.getParameter("shop_item_name6"),this.shop_item_name[6]=this.gg.ap.getParameter("shop_item_name7"),this.shop_item_name[7]=this.gg.ap.getParameter("shop_item_name8"),this.shop_item_name[8]=this.gg.ap.getParameter("shop_item_name9");for(var bi=0;bi<=8;bi++){var ci=bi+1;(ci=this.paraInt("shop_item_teika"+ci))<0&&(ci=0),this.shop_item_teika[bi]=ci}},G.prototype.init2=function(){this.score>this.highscore&&(this.highscore=this.score),this.j_left=this.j_left_shoki,this.score_1up_1=this.score_1up_1_para,this.score_1up_2=this.score_1up_2_para;for(var di=0;di<=2;di++)this.stage_1up_f[di]=!0;this.gk.key_code=0,this.score=0,this.stage=this.stage_kaishi,0<this.time_max?this.time=1e3*this.time_max+1e3-70:this.time=0},G.prototype.init3=function(){this.sendHighscore(),this.g_c1=0,this.g_c2=0,this.g_c3=0,this.g_ac=0,this.g_ac2=0,this.stage_cc=0,this.co_j.init(),this.co_j.c=100,this.co_j.x=100,this.co_j.y=100,this.co_j.pt=100,this.co_j.muki=1,this.co_j.jimen_f=!1,this.j_hashiru_f=!1,this.j_jump_level=0,this.j_jump_type=0,this.j_a_id=-1,this.tr1_c=0,this.tr2_c=0,this.gk.left_c=0,this.gk.right_c=0,this.left_dcc=0,this.right_dcc=0,this.ochiru_y=9999,this.j_fire_f=!1,this.j_v_c=0,this.j_v_kakudo=0,this.j_jet_c=0,this.j_jet_kf=!1,this.j_jet_fuel=0,this.j_helm_f=!1,this.j_drell_f=!1,this.j_tail_f=!1,this.j_tail_ac=0,this.j_gr_kazu=0,this.j_mizu_f=!1,this.j_mizu_ac=0,this.j_mizu_awa_c=0,this.j_jdai_f=!1,this.hitokoto_c=0,this.hitokoto_num=1,this.j_tail_hf&&(this.j_tail_f=!0);for(var ei=0;ei<=5;ei++)this.j_zan_x[ei]=0,this.j_zan_y[ei]=0,this.j_zan_pt[ei]=0,this.j_zan_pth[ei]=0;var fi;this.j_zan_p=0,this.j_zan_c=0,this.j_zan_nagasa=0,this.j_zan_f=!1,this.sl_step=0,this.sl_speed=0,this.sl_wx=0,this.sl_wy=0,2==(fi=2==this.stage?this.paraInt("scroll_mode_s"):3==this.stage?this.paraInt("scroll_mode_t"):4==this.stage?this.paraInt("scroll_mode_f"):this.paraInt("scroll_mode"))?(this.sl_step=10,this.ks_wx=32,this.ks_wy=960,this.sl_speed=2):3==fi&&(this.sl_step=10,this.ks_wx=32,this.ks_wy=960,this.sl_speed=4);for(var gi=0;gi<=31;gi++){this.co_a[gi].init();for(var hi=0;hi<=3;hi++)this.vo_x[gi][hi]=0,this.vo_y[gi][hi]=0}this.a_kazu=-1,this.a_hf=!1;for(var ii=0;ii<=129;ii++)this.co_t[ii].init();this.t_kazu=-1,this.co_b.init();for(var ji=this.boss_kijyun_y=0;ji<=23;ji++)this.co_m[ji].init();for(var ki=this.m_kazu=0;ki<=1;ki++)this.co_jm[ki].init();for(var li=this.jm_kazu=0;li<=63;li++)this.co_h[li].init();0<this.time_max?this.time=1e3*this.time_max+1e3-70:this.time=0,this.mapsMakeStageData(100+this.stage),10!=this.sl_step&&11!=this.sl_step||(this.ks_wx=this.maps.wx,this.ks_wx<=128&&(this.ks_wx=32)),this.maps.drawMap(this.maps.wx,this.maps.wy)},G.prototype.mapsMakeStageData=function(mi){this.maps.init();var ni=this.maps.map_string;this.maps.wx=32,this.maps.wy=32,this.maps.wx_mini=32,this.maps.wy_mini=320,this.maps.wx_max=5856,this.maps.wy_max=6048;switch(this.gg.setBackcolor(D.blue),mi){default:break;case 101:this.maps.setBank(0),this.gg.setBackcolor(this.gamecolor_back),this.maps.wx_max=5280,this.maps.wy_max=960;for(var pi=0;pi<=29;pi++){var qi="."+this.gg.ap.getParameter("map0-"+pi);qi+=this.gg.ap.getParameter("map1-"+pi),qi+=this.gg.ap.getParameter("map2-"+pi),ni[pi+10]=qi}break;case 102:this.maps.setBank(0),this.gg.setBackcolor(this.gamecolor_back_s),this.maps.wx_max=5280,this.maps.wy_max=960;for(var ri=0;ri<=29;ri++){var si="."+this.gg.ap.getParameter("map0-"+ri+"-s");si+=this.gg.ap.getParameter("map1-"+ri+"-s"),si+=this.gg.ap.getParameter("map2-"+ri+"-s"),ni[ri+10]=si}break;case 103:this.maps.setBank(0),this.gg.setBackcolor(this.gamecolor_back_t),this.maps.wx_max=5280,this.maps.wy_max=960;for(var ti=0;ti<=29;ti++){var ui="."+this.gg.ap.getParameter("map0-"+ti+"-t");ui+=this.gg.ap.getParameter("map1-"+ti+"-t"),ui+=this.gg.ap.getParameter("map2-"+ti+"-t"),ni[ti+10]=ui}break;case 104:this.maps.setBank(0),this.gg.setBackcolor(this.gamecolor_back_f),this.maps.wx_max=5280,this.maps.wy_max=960;for(var vi=0;vi<=29;vi++){var wi="."+this.gg.ap.getParameter("map0-"+vi+"-f");wi+=this.gg.ap.getParameter("map1-"+vi+"-f"),wi+=this.gg.ap.getParameter("map2-"+vi+"-f"),ni[vi+10]=wi}}for(var xi=0;xi<this.maps.height;xi++)if(ni[xi].length<this.maps.width)for(var zi=ni[xi].length;zi<this.maps.width;zi++)ni[xi]+=".";for(var Bi=0;Bi<this.maps.height;Bi++)for(var Ci=0;Ci<this.maps.width;Ci++){var Di=ni[Bi].charAt(Ci),Ei=-1;"."!=Di&&("1"==Di?Ei=1:"2"==Di?Ei=2:"3"==Di?Ei=3:"4"==Di?Ei=4:"5"==Di?Ei=5:"6"==Di?Ei=6:"7"==Di?Ei=7:"8"==Di?Ei=8:"9"==Di?Ei=9:"a"==Di?Ei=20:"b"==Di?Ei=21:"c"==Di?Ei=22:"d"==Di?Ei=23:"e"==Di?Ei=24:"f"==Di?Ei=25:"g"==Di?Ei=26:"h"==Di?Ei=27:"i"==Di?Ei=28:"j"==Di?Ei=29:"k"==Di?(Ei=40,this.hSet(Ci,Bi,100)):"l"==Di?(Ei=40,this.hSet(Ci,Bi,200)):"m"==Di?(Ei=40,this.hSet(Ci,Bi,300)):"n"==Di?(Ei=40,this.hSet(Ci,Bi,400)):"o"==Di?(Ei=40,this.hSet(Ci,Bi,500)):"p"==Di?(Ei=40,this.hSet(Ci,Bi,600)):"q"==Di?(Ei=40,this.hSet(Ci,Bi,700)):"r"==Di?(Ei=40,this.hSet(Ci,Bi,800)):"s"==Di?(Ei=40,this.hSet(Ci,Bi,900)):"t"==Di?(Ei=40,this.hSet(Ci,Bi,1e3)):"u"==Di?(this.aSet(32*Ci,32*Bi,300,32*Ci),4==this.maps.map_bg[Ci-1][Bi]&&(Ei=4)):"v"==Di?(this.aSet(32*Ci,32*Bi,310,32*Ci),4==this.maps.map_bg[Ci-1][Bi]&&(Ei=4)):"w"==Di?(this.aSet(32*Ci,32*Bi,320,32*Ci),4==this.maps.map_bg[Ci-1][Bi]&&(Ei=4)):"x"==Di?(this.aSet(32*Ci,32*Bi,330,32*Ci),4==this.maps.map_bg[Ci-1][Bi]&&(Ei=4)):"y"==Di?this.stage_1up_f[this.stage-1]?(Ei=40,this.hSet(Ci,Bi,1100)):Ei=41:"z"==Di?Ei=69:"+"==Di?(this.aSet(32*Ci,32*Bi,80,32*Ci),4==this.maps.map_bg[Ci-1][Bi]&&(Ei=4)):"-"==Di?(this.aSet(32*Ci,32*Bi,81,32*Ci),4==this.maps.map_bg[Ci-1][Bi]&&(Ei=4)):"*"==Di?(this.aSet(32*Ci,32*Bi,82,32*Ci),4==this.maps.map_bg[Ci-1][Bi]&&(Ei=4)):"/"==Di?(this.aSet(32*Ci,32*Bi,83,32*Ci),4==this.maps.map_bg[Ci-1][Bi]&&(Ei=4)):"A"==Di?(this.co_j.x=32*Ci,this.co_j.y=32*Bi,4==this.maps.map_bg[Ci-1][Bi]&&(Ei=4)):"B"==Di?(this.tSet(32*Ci,32*Bi,100,32*Ci-512-32),4==this.maps.map_bg[Ci-1][Bi]&&(Ei=4)):"C"==Di?(this.tSet(32*Ci,32*Bi,110,32*Ci-512-32),4==this.maps.map_bg[Ci-1][Bi]&&(Ei=4)):"D"==Di?(this.tSet(32*Ci,32*Bi,110,32*Ci-512-32),this.tSet(32*Ci+75,32*Bi,110,32*Ci-512-32),this.tSet(32*Ci+150,32*Bi,110,32*Ci-512-32),4==this.maps.map_bg[Ci-1][Bi]&&(Ei=4)):"E"==Di?(this.tSet(32*Ci,32*Bi,200,32*Ci-512-32),4==this.maps.map_bg[Ci-1][Bi]&&(Ei=4)):"F"==Di?(this.tSet(32*Ci,32*Bi,300,32*Ci-512-32),4==this.maps.map_bg[Ci-1][Bi]&&(Ei=4)):"G"==Di?(this.tSet(32*Ci,32*Bi,400,32*Ci-512-32),4==this.maps.map_bg[Ci-1][Bi]&&(Ei=4)):"H"==Di?(this.tSet(32*Ci,32*Bi,500,32*Ci-512-32),4==this.maps.map_bg[Ci-1][Bi]&&(Ei=4)):"I"==Di?(this.tSet(32*Ci,32*Bi,510,32*Ci-512-32),4==this.maps.map_bg[Ci-1][Bi]&&(Ei=4)):"J"==Di?(this.tSet(32*Ci,32*Bi,510,32*Ci-512-32-32),this.tSet(32*Ci+80,32*Bi-40,510,32*Ci-512-32-32),this.tSet(32*Ci+140,32*Bi+38,510,32*Ci-512-32-32),4==this.maps.map_bg[Ci-1][Bi]&&(Ei=4)):"K"==Di?(2==this.ugokuyuka1_type?this.aSet(32*Ci,32*Bi,500,32*Ci):3==this.ugokuyuka1_type?this.aSet(32*Ci,32*Bi,510,32*Ci):4==this.ugokuyuka1_type?this.aSet(32*Ci,32*Bi,120,32*Ci):5==this.ugokuyuka1_type?this.aSet(32*Ci,32*Bi,121,32*Ci):6==this.ugokuyuka1_type?this.aSet(32*Ci,32*Bi,600,32*Ci):7==this.ugokuyuka1_type?this.aSet(32*Ci,32*Bi,700,32*Ci):this.aSet(32*Ci,32*Bi,100,32*Ci),4==this.maps.map_bg[Ci-1][Bi]&&(Ei=4)):"L"==Di?(2==this.ugokuyuka2_type?this.aSet(32*Ci,32*Bi,500,32*Ci):3==this.ugokuyuka2_type?this.aSet(32*Ci,32*Bi,510,32*Ci):4==this.ugokuyuka2_type?this.aSet(32*Ci,32*Bi,120,32*Ci):5==this.ugokuyuka2_type?this.aSet(32*Ci,32*Bi,121,32*Ci):6==this.ugokuyuka2_type?this.aSet(32*Ci,32*Bi,600,32*Ci):7==this.ugokuyuka2_type?this.aSet(32*Ci,32*Bi,700,32*Ci):this.aSet(32*Ci,32*Bi+9,110,32*Ci-16),4==this.maps.map_bg[Ci-1][Bi]&&(Ei=4)):"M"==Di?(2==this.ugokuyuka3_type?this.aSet(32*Ci,32*Bi,500,32*Ci):3==this.ugokuyuka3_type?this.aSet(32*Ci,32*Bi,510,32*Ci):4==this.ugokuyuka3_type?this.aSet(32*Ci,32*Bi,120,32*Ci):5==this.ugokuyuka3_type?this.aSet(32*Ci,32*Bi,121,32*Ci):6==this.ugokuyuka3_type?this.aSet(32*Ci,32*Bi,600,32*Ci):7==this.ugokuyuka3_type?this.aSet(32*Ci,32*Bi,700,32*Ci):(this.aSet(32*Ci,32*Bi+9,115,32*Ci-16),this.aSet(32*Ci,32*Bi+9,116,32*Ci-16)),4==this.maps.map_bg[Ci-1][Bi]&&(Ei=4)):"N"==Di?(this.aSet(32*Ci-32,32*Bi,400,32*Ci),4==this.maps.map_bg[Ci-1][Bi]&&(Ei=4)):"O"==Di?(this.tSet(32*Ci,32*Bi,600,32*Ci-512-32),4==this.maps.map_bg[Ci-1][Bi]&&(Ei=4)):"P"==Di?(this.tSet(32*Ci,32*Bi,700,32*Ci-512-32),4==this.maps.map_bg[Ci-1][Bi]&&(Ei=4)):"Q"==Di?(this.tSet(32*Ci,32*Bi,800,32*Ci-512-32),4==this.maps.map_bg[Ci-1][Bi]&&(Ei=4)):"R"==Di?(this.tSet(32*Ci,32*Bi,900,32*Ci-512-32),4==this.maps.map_bg[Ci-1][Bi]&&(Ei=4)):"S"==Di?(this.co_b.c=100,this.co_b.c4=3,this.co_b.x=32*Ci,this.co_b.y=32*Bi-16,4==this.maps.map_bg[Ci-1][Bi]&&(Ei=4),this.co_b.x<448?this.co_b.x=448:5664<this.co_b.x&&(this.co_b.x=5664),10==this.sl_step?this.sl_step=11:this.sl_step=1,this.sl_wx=this.co_b.x-384,this.sl_wy=960):"T"==Di?(this.co_b.c=200,this.co_b.c4=3,this.co_b.x=32*Ci,this.co_b.y=32*Bi-16,4==this.maps.map_bg[Ci-1][Bi]&&(Ei=4),this.co_b.x<448?this.co_b.x=448:5664<this.co_b.x&&(this.co_b.x=5664),10==this.sl_step?this.sl_step=11:this.sl_step=1,this.sl_wx=this.co_b.x-384,this.sl_wy=960):"U"==Di?(this.aSet(32*Ci+16,32*Bi+16,70,32*Ci),Ei=50):"V"==Di?(this.aSet(32*Ci+16,32*Bi+16,71,32*Ci),Ei=50):"W"==Di?(this.tSet(32*Ci,32*Bi-16,1e3,32*Ci-512-32-32),Ei=4):"X"==Di?(this.tSet(32*Ci,32*Bi,1100,32*Ci-512-32),Ei=4):"Y"==Di?(this.aSet(32*Ci,32*Bi,60,32*Ci),4==this.maps.map_bg[Ci-1][Bi]&&(Ei=4)):"Z"==Di&&(this.co_b.c=300,this.co_b.c4=3,this.co_b.x=32*Ci,this.co_b.y=32*Bi-16,this.boss_kijyun_y=this.co_b.y,4==this.maps.map_bg[Ci-1][Bi]&&(Ei=4),this.co_b.x<448?this.co_b.x=448:5664<this.co_b.x&&(this.co_b.x=5664),10==this.sl_step?this.sl_step=11:this.sl_step=1,this.sl_wx=this.co_b.x-384,this.sl_wy=960),0<=Ei&&(this.maps.map_bg[Ci][Bi]=Ei))}for(var Fi=0;Fi<=this.maps.width-1;Fi++)this.maps.map_bg[Fi][0]=21,this.maps.map_bg[Fi][this.maps.height-1]=21;for(var Gi=0;Gi<=this.maps.height-1;Gi++)this.maps.map_bg[0][Gi]=21,this.maps.map_bg[181][Gi]=21,this.maps.map_bg[199][Gi]=21;this.ochiru_y=this.maps.wy_max+320,this.maps.wx=this.co_j.x-96,this.maps.wy=this.co_j.y-176,this.maps.wx<this.maps.wx_mini?this.maps.wx=this.maps.wx_mini:this.maps.wx>this.maps.wx_max&&(this.maps.wx=this.maps.wx_max),this.maps.wy<this.maps.wy_mini?this.maps.wy=this.maps.wy_mini:this.maps.wy>this.maps.wy_max&&(this.maps.wy=this.maps.wy_max),this.co_j.wx=this.co_j.x-this.maps.wx,this.co_j.wy=this.co_j.y-this.maps.wy},G.prototype.drawGamescreen=function(){this.maps.drawMapScroll(this.g_ac2);var Hi=this.maps.wx,Ii=this.maps.wy;if(this.co_j.wx=this.co_j.x-this.maps.wx,this.co_j.wy=this.co_j.y-this.maps.wy,this.a_hf)for(var Ji=0;Ji<=this.a_kazu;Ji++)if(this.co_a[Ji].gf){var Ki=this.co_a[Ji],Li=Ki.x-Hi,Mi=Ki.y-Ii;switch(Ki.pt){default:break;case 100:this.hg.drawImage(this.hi[190],Li,Mi,this.ap),this.hg.drawImage(this.hi[191],Li+32,Mi,this.ap),this.hg.drawImage(this.hi[192],Li+64,Mi,this.ap);break;case 200:this.hg.drawImage(this.hi[76],Li,Mi,this.ap),this.hg.drawImage(this.hi[77],Li+32,Mi,this.ap),this.hg.drawImage(this.hi[86],Li,Mi+32,this.ap),this.hg.drawImage(this.hi[87],Li+32,Mi+32,this.ap);break;case 210:this.hg.drawImage(this.hi[78],Li,Mi,this.ap),this.hg.drawImage(this.hi[79],Li+32,Mi,this.ap),this.hg.drawImage(this.hi[88],Li,Mi+32,this.ap),this.hg.drawImage(this.hi[89],Li+32,Mi+32,this.ap);break;case 300:this.hg.drawImage(this.hi[60],Li,Mi,this.ap),this.hg.drawImage(this.hi[61],Li+32,Mi,this.ap);break;case 310:this.hg.drawImage(this.hi[62],Li,Mi,this.ap),this.hg.drawImage(this.hi[63],Li+32,Mi,this.ap);break;case 320:this.hg.drawImage(this.hi[64],Li,Mi,this.ap),this.hg.drawImage(this.hi[65],Li+32,Mi,this.ap);break;case 330:this.hg.drawImage(this.hi[66],Li,Mi,this.ap),this.hg.drawImage(this.hi[67],Li+32,Mi,this.ap);break;case 400:this.hg.drawImage(this.hi[183],Li,Mi,this.ap),this.hg.drawImage(this.hi[184],Li+32,Mi,this.ap),this.hg.drawImage(this.hi[185],Li+64,Mi,this.ap),this.hg.drawImage(this.hi[193],Li,Mi+32,this.ap),this.hg.drawImage(this.hi[194],Li+32,Mi+32,this.ap),this.hg.drawImage(this.hi[195],Li+64,Mi+32,this.ap);break;case 500:this.hg.drawImage(this.hi[180],Li,Mi,this.ap),this.hg.drawImage(this.hi[181],Li+32,Mi,this.ap),this.hg.drawImage(this.hi[182],Li+64,Mi,this.ap);break;case 600:this.hg.drawImage(this.hi[188],Li,Mi,this.ap),this.hg.drawImage(this.hi[189],Li+32,Mi,this.ap),this.hg.drawImage(this.hi[198],Li,Mi+32,this.ap),this.hg.drawImage(this.hi[199],Li+32,Mi+32,this.ap);break;case 605:this.hg.drawImage(this.hih[1][189],Li,Mi,this.ap),this.hg.drawImage(this.hih[1][188],Li+32,Mi,this.ap),this.hg.drawImage(this.hih[1][199],Li,Mi+32,this.ap),this.hg.drawImage(this.hih[1][198],Li+32,Mi+32,this.ap);break;case 700:this.hg.drawImage(this.hi[32],Li,Mi,this.ap);break;case 710:this.hg.drawImage(this.hi[33],Li,Mi,this.ap);break;case 720:this.hg.drawImage(this.hi[34],Li,Mi,this.ap);break;case 800:Ki.x>=this.co_j.x?this.hg.drawImage(this.hi[35+Ki.c3],Li,Mi,this.ap):this.hg.drawImage(this.hih[1][35+Ki.c3],Li,Mi,this.ap);break;case 1100:var Ni=c.floor(16*c.cos(6.283185307179586*(Ki.c3+90)/360)),Oi=c.floor(16*c.sin(6.283185307179586*(Ki.c3+90)/360));if(this.vo_pa_x[0]=this.vo_x[Ji][0]-Hi+Ni,this.vo_pa_y[0]=this.vo_y[Ji][0]-Ii+Oi,this.vo_pa_x[1]=this.vo_x[Ji][0]-Hi-Ni,this.vo_pa_y[1]=this.vo_y[Ji][0]-Ii-Oi,this.vo_pa_x[2]=this.vo_x[Ji][1]-Hi-Ni,this.vo_pa_y[2]=this.vo_y[Ji][1]-Ii-Oi,this.vo_pa_x[3]=this.vo_x[Ji][1]-Hi+Ni,this.vo_pa_y[3]=this.vo_y[Ji][1]-Ii+Oi,this.gg.os_g.setColor(this.gamecolor_firebar1),this.gg.os_g.fillPolygon(this.vo_pa_x,this.vo_pa_y,4),2<=this.g_c2){this.gg.os_g.setColor(this.gamecolor_firebar2);var Pi=c.floor(10*c.cos(6.283185307179586*(Ki.c3+90)/360)),Qi=c.floor(10*c.sin(6.283185307179586*(Ki.c3+90)/360));this.vo_pa_x[0]=this.vo_x[Ji][2]-Hi+Pi,this.vo_pa_y[0]=this.vo_y[Ji][2]-Ii+Qi,this.vo_pa_x[1]=this.vo_x[Ji][2]-Hi-Pi,this.vo_pa_y[1]=this.vo_y[Ji][2]-Ii-Qi,this.vo_pa_x[2]=this.vo_x[Ji][3]-Hi-Pi,this.vo_pa_y[2]=this.vo_y[Ji][3]-Ii-Qi,this.vo_pa_x[3]=this.vo_x[Ji][3]-Hi+Pi,this.vo_pa_y[3]=this.vo_y[Ji][3]-Ii+Qi,this.gg.os_g.fillPolygon(this.vo_pa_x,this.vo_pa_y,4)}}}if(0<this.m_kazu)for(var Ri=0;Ri<=23;Ri++)if(50<=this.co_m[Ri].c){var Si=this.co_m[Ri];if(50==Si.c){this.hg.drawImage(this.hih[Si.pth][Si.pt],Si.x-Hi,Si.y-Ii,this.ap);var Ti=this.maps.getBGCode(Si.x,Si.y);20<=Ti&&this.gg.drawPT(32*(Si.x>>5)-Hi,32*(Si.y>>5)-Ii,Ti,0),20<=(Ti=this.maps.getBGCode(Si.x+31,Si.y))&&this.gg.drawPT(32*(Si.x+31>>5)-Hi,32*(Si.y>>5)-Ii,Ti,0)}else 1e3==Si.pt?(this.gg.os_g.setColor(this.gamecolor_mizunohadou),this.gg.os_g.fillOval(Si.x-Hi+16-Si.c2,Si.y-Ii+16-Si.c2,2*Si.c2,2*Si.c2)):1100==Si.pt?(0==this.g_ac?this.gg.os_g.setColor(this.gamecolor_grenade1):this.gg.os_g.setColor(this.gamecolor_grenade2),this.gg.os_g.fillOval(Si.x-Hi+16-Si.c2,Si.y-Ii+16-Si.c2,2*Si.c2,2*Si.c2)):this.hg.drawImage(this.hih[Si.pth][Si.pt],Si.x-Hi,Si.y-Ii,this.ap)}if(0<this.jm_kazu)for(var Ui=0;Ui<=1;Ui++)if(50<=this.co_jm[Ui].c){var Vi=this.co_jm[Ui];Vi.pt<1e3?this.hg.drawImage(this.hih[Vi.pth][Vi.pt],Vi.x-Hi,Vi.y-Ii,this.ap):1200==Vi.pt?(0==this.g_ac?this.gg.os_g.setColor(this.gamecolor_grenade1):this.gg.os_g.setColor(this.gamecolor_grenade2),this.gg.os_g.fillRect(Vi.x-Hi,Vi.y-Ii+12,Vi.vx-Vi.x+1,8)):1205==Vi.pt?(0==this.g_ac?this.gg.os_g.setColor(this.gamecolor_grenade1):this.gg.os_g.setColor(this.gamecolor_grenade2),this.gg.os_g.fillRect(Vi.vx-Hi,Vi.y-Ii+12,Vi.x-Vi.vx+1,8)):(0==this.g_ac?this.gg.os_g.setColor(this.gamecolor_grenade1):this.gg.os_g.setColor(this.gamecolor_grenade2),this.gg.os_g.fillOval(Vi.x-Hi+16-Vi.c2,Vi.y-Ii+16-Vi.c2,2*Vi.c2,2*Vi.c2))}for(var Wi=0;Wi<=this.t_kazu;Wi++)if(50<=this.co_t[Wi].c){var Xi=this.co_t[Wi].x-Hi,Yi=this.co_t[Wi].y-Ii;-64<=Xi&&Yi<=576&&this.hg.drawImage(this.hih[this.co_t[Wi].pth][this.co_t[Wi].pt],Xi,Yi,this.ap)}if(50<this.co_b.c){var Zi=this.co_b.x-Hi;if(Zi<528){var $i=this.co_b.y-Ii;switch(this.co_b.pt){default:break;case 1e3:this.hg.drawImage(this.hih[0][186],Zi-16,$i-16,this.ap),this.hg.drawImage(this.hih[0][187],Zi+16,$i-16,this.ap),this.hg.drawImage(this.hih[0][196],Zi-16,$i+16,this.ap),this.hg.drawImage(this.hih[0][197],Zi+16,$i+16,this.ap);break;case 1005:this.hg.drawImage(this.hih[1][187],Zi-16,$i-16,this.ap),this.hg.drawImage(this.hih[1][186],Zi+16,$i-16,this.ap),this.hg.drawImage(this.hih[1][197],Zi-16,$i+16,this.ap),this.hg.drawImage(this.hih[1][196],Zi+16,$i+16,this.ap);break;case 1010:this.hg.drawImage(this.hih[0][176],Zi-16,$i+16,this.ap),this.hg.drawImage(this.hih[0][177],Zi+16,$i+16,this.ap);break;case 1015:this.hg.drawImage(this.hih[1][177],Zi-16,$i+16,this.ap),this.hg.drawImage(this.hih[1][176],Zi+16,$i+16,this.ap);break;case 1100:this.hg.drawImage(this.hih[0][188],Zi-16,$i-16,this.ap),this.hg.drawImage(this.hih[0][189],Zi+16,$i-16,this.ap),this.hg.drawImage(this.hih[0][198],Zi-16,$i+16,this.ap),this.hg.drawImage(this.hih[0][199],Zi+16,$i+16,this.ap);break;case 1105:this.hg.drawImage(this.hih[1][189],Zi-16,$i-16,this.ap),this.hg.drawImage(this.hih[1][188],Zi+16,$i-16,this.ap),this.hg.drawImage(this.hih[1][199],Zi-16,$i+16,this.ap),this.hg.drawImage(this.hih[1][198],Zi+16,$i+16,this.ap);break;case 1110:this.hg.drawImage(this.hih[0][178],Zi-16,$i+16,this.ap),this.hg.drawImage(this.hih[0][179],Zi+16,$i+16,this.ap);break;case 1115:this.hg.drawImage(this.hih[1][179],Zi-16,$i+16,this.ap),this.hg.drawImage(this.hih[1][178],Zi+16,$i+16,this.ap);break;case 1200:this.hg.drawImage(this.hih[0][238],Zi-16,$i-16,this.ap),this.hg.drawImage(this.hih[0][239],Zi+16,$i-16,this.ap),this.hg.drawImage(this.hih[0][248],Zi-16,$i+16,this.ap),this.hg.drawImage(this.hih[0][249],Zi+16,$i+16,this.ap);break;case 1205:this.hg.drawImage(this.hih[1][239],Zi-16,$i-16,this.ap),this.hg.drawImage(this.hih[1][238],Zi+16,$i-16,this.ap),this.hg.drawImage(this.hih[1][249],Zi-16,$i+16,this.ap),this.hg.drawImage(this.hih[1][248],Zi+16,$i+16,this.ap);break;case 1210:this.hg.drawImage(this.hih[0][228],Zi-16,$i+16,this.ap),this.hg.drawImage(this.hih[0][229],Zi+16,$i+16,this.ap);break;case 1215:this.hg.drawImage(this.hih[1][229],Zi-16,$i+16,this.ap),this.hg.drawImage(this.hih[1][228],Zi+16,$i+16,this.ap);break;case 1250:this.hg.drawImage(this.hih[0][238],Zi-16,$i-16,this.ap),this.hg.drawImage(this.hih[0][239],Zi+16,$i-16,this.ap),this.hg.drawImage(this.hih[0][248],Zi-16,$i+16,this.ap),this.hg.drawImage(this.hih[0][249],Zi+16,$i+16,this.ap),this.j_v_c<=0&&(this.j_v_kakudo+=2,360<this.j_v_kakudo&&(this.j_v_kakudo-=360)),Zi=this.co_b.x-Hi+16,$i=this.co_b.y-Ii+16,this.gg.os_g.setColor(D.white);for(var _i=.017453292519943295,aj=0;aj<=5;aj++){var bj=(this.j_v_kakudo+60*aj)*_i;this.vo_pa_x[aj]=Zi+c.floor(50*c.cos(bj)),this.vo_pa_y[aj]=$i+c.floor(50*c.sin(bj))}this.gg.os_g.drawPolygon(this.vo_pa_x,this.vo_pa_y,6);for(var cj=0;cj<=5;cj++){var dj=(360-this.j_v_kakudo+60*cj)*_i;this.vo_pa_x[cj]=Zi+c.floor(50*c.cos(dj)),this.vo_pa_y[cj]=$i+c.floor(50*c.sin(dj))}this.gg.os_g.drawPolygon(this.vo_pa_x,this.vo_pa_y,6);break;case 1255:this.hg.drawImage(this.hih[1][239],Zi-16,$i-16,this.ap),this.hg.drawImage(this.hih[1][238],Zi+16,$i-16,this.ap),this.hg.drawImage(this.hih[1][249],Zi-16,$i+16,this.ap),this.hg.drawImage(this.hih[1][248],Zi+16,$i+16,this.ap),this.j_v_c<=0&&(this.j_v_kakudo+=2,360<this.j_v_kakudo&&(this.j_v_kakudo-=360)),Zi=this.co_b.x-Hi+16,$i=this.co_b.y-Ii+16,this.gg.os_g.setColor(D.white);for(var ej=.017453292519943295,fj=0;fj<=5;fj++){var gj=(this.j_v_kakudo+60*fj)*ej;this.vo_pa_x[fj]=Zi+c.floor(50*c.cos(gj)),this.vo_pa_y[fj]=$i+c.floor(50*c.sin(gj))}this.gg.os_g.drawPolygon(this.vo_pa_x,this.vo_pa_y,6);for(var hj=0;hj<=5;hj++){var ij=(360-this.j_v_kakudo+60*hj)*ej;this.vo_pa_x[hj]=Zi+c.floor(50*c.cos(ij)),this.vo_pa_y[hj]=$i+c.floor(50*c.sin(ij))}this.gg.os_g.drawPolygon(this.vo_pa_x,this.vo_pa_y,6)}}}if(96<=this.j_jet_c&&(0==this.g_c1?this.hg.drawImage(this.hi[134],this.co_j.x-Hi,this.co_j.y-Ii+36,this.ap):this.hg.drawImage(this.hi[135],this.co_j.x-Hi,this.co_j.y-Ii+36,this.ap)),0<this.j_v_c&&(this.j_v_c--,this.j_v_kakudo+=2,360<this.j_v_kakudo&&(this.j_v_kakudo-=360),50<this.j_v_c||1==this.g_ac)){var jj=this.co_j.x-Hi+16,kj=this.co_j.y-Ii+16;this.gg.os_g.setColor(D.white);for(var lj=.017453292519943295,mj=0;mj<=5;mj++){var nj=(this.j_v_kakudo+60*mj)*lj;this.vo_pa_x[mj]=jj+c.floor(38*c.cos(nj)),this.vo_pa_y[mj]=kj+c.floor(38*c.sin(nj))}this.gg.os_g.drawPolygon(this.vo_pa_x,this.vo_pa_y,6);for(var oj=0;oj<=5;oj++){var pj=(360-this.j_v_kakudo+60*oj)*lj;this.vo_pa_x[oj]=jj+c.floor(38*c.cos(pj)),this.vo_pa_y[oj]=kj+c.floor(38*c.sin(pj))}this.gg.os_g.drawPolygon(this.vo_pa_x,this.vo_pa_y,6)}if(this.j_zan_f){var qj=this.j_zan_p+(6-this.j_zan_nagasa);5<qj&&(qj-=6);var rj=this.j_zan_p+1;5<rj&&(rj-=6);do{var sj=this.j_zan_x[qj]-Hi,tj=this.j_zan_y[qj]-Ii,uj=this.j_zan_pth[qj];this.hg.drawImage(this.hih[uj][this.j_zan_pt[qj]],sj,tj,this.ap),5<++qj&&(qj=0)}while(qj!=rj);this.j_zan_p++,5<this.j_zan_p&&(this.j_zan_p=0),this.j_zan_x[this.j_zan_p]=this.co_j.x,this.j_zan_y[this.j_zan_p]=this.co_j.y,this.j_zan_pt[this.j_zan_p]=this.co_j.pt,this.j_zan_pth[this.j_zan_p]=this.co_j.muki,this.j_zan_c<9?(this.j_zan_c++,0<=this.co_j.vy&&(this.j_zan_c=9)):(this.j_zan_nagasa--,this.j_zan_nagasa<0&&(this.j_zan_f=!1))}if(this.co_j.pt<1e3?this.gg.drawPT(this.co_j.wx,this.co_j.wy,this.co_j.pt,this.co_j.muki):1e3==this.co_j.pt?0==this.co_j.muki?(this.gg.drawPT(this.co_j.wx,this.co_j.wy,118,this.co_j.muki),this.gg.drawPT(this.co_j.wx-32,this.co_j.wy,117,this.co_j.muki)):(this.gg.drawPT(this.co_j.wx,this.co_j.wy,118,1),this.gg.drawPT(this.co_j.wx+32,this.co_j.wy,117,1)):1100==this.co_j.pt?(this.co_j.c1<=0?this.gg.drawPT(this.co_j.wx,this.co_j.wy,100,this.co_j.muki):32<=this.co_j.c1?this.gg.drawPT(this.co_j.wx,this.co_j.wy+32,100,this.co_j.muki):this.gg.drawPT(this.co_j.wx,this.co_j.wy+this.co_j.c1,100,this.co_j.muki),this.gg.drawPT(this.co_j.wx-16,this.co_j.wy+32,60+2*this.co_j.c2,0),this.gg.drawPT(this.co_j.wx+16,this.co_j.wy+32,61+2*this.co_j.c2,0)):this.co_j.pt,0<this.hitokoto_c){this.hitokoto_c--;for(var yj=0,zj=0;zj<=2;zj++){var Aj=zj+1,Bj="hitokoto"+this.hitokoto_num+"-"+Aj;Bj=this.gg.ap.getParameter(Bj),Aj=parseInt(Bj),isNaN(Aj)&&(Aj=-1),0!=Aj&&yj++}this.km.drawWindowbox(208,56,224,30+14*yj),this.hg.setFont(new E("Dialog",0,12)),this.hg.setColor(D.cyan);var Cj="hitokoto"+this.hitokoto_num+"_name";this.hg.drawString(this.gg.ap.getParameter(Cj),214,74),this.hg.setColor(D.white);for(var Dj=yj=0;Dj<=2;Dj++){var Ej=Dj+1,Fj="hitokoto"+this.hitokoto_num+"-"+Ej;Fj=this.gg.ap.getParameter(Fj),Ej=parseInt(Fj),isNaN(Ej)&&(Ej=-1),0!=Ej&&(this.hg.drawString(Fj,214,80+14*yj+12),yj++)}}},G.prototype.jM100=function(){var Gj=!1,Hj=!1;this.j_mizu_f=!1;var Ij=this.maps.getBGCode(this.co_j.x+15,this.co_j.y+15);4==Ij?(this.j_mizu_f=!0,this.j_jet_c=0,this.j_mizu_awa_c++,44==this.j_mizu_awa_c||54==this.j_mizu_awa_c?this.mSet(this.co_j.x,this.co_j.y+4,60):54<this.j_mizu_awa_c&&(this.j_mizu_awa_c=0)):8!=Ij&&9!=Ij||4!=this.maps.map_bg[(this.co_j.x+15>>5)-1][this.co_j.y+15>>5]||(this.j_mizu_f=!0,this.j_jet_c=0,this.j_mizu_awa_c++,44==this.j_mizu_awa_c||54==this.j_mizu_awa_c?this.mSet(this.co_j.x,this.co_j.y+4,60):54<this.j_mizu_awa_c&&(this.j_mizu_awa_c=0)),this.gk.tr1_f?this.tr1_c<6&&this.tr1_c++:this.tr1_c=0,this.gk.tr2_f?this.tr2_c<2&&this.tr2_c++:this.tr2_c=0,this.gk.left_f?this.gk.left_c<2&&this.gk.left_c++:this.gk.left_c=0,this.gk.right_f?this.gk.right_c<2&&this.gk.right_c++:this.gk.right_c=0,1==this.gk.left_c?(0<this.left_dcc?this.j_hashiru_f=!0:this.j_hashiru_f=!1,this.left_dcc=8):0<this.left_dcc&&this.left_dcc--,1==this.gk.right_c?(0<this.right_dcc?this.j_hashiru_f=!0:this.j_hashiru_f=!1,this.right_dcc=8):0<this.right_dcc&&this.right_dcc--;var Jj=this.co_j.x,Kj=this.co_j.y;this.co_j.pt=100;var Lj=Jj+15>>5,Mj=Kj+31>>5,Oj=(this.maps.map_bg[Lj][Mj],Kj+32>>5),Pj=this.maps.map_bg[Lj][Oj];if(20<=Pj||0<=this.j_a_id?(this.co_j.jimen_f=!0,this.j_jump_type=2,69==Pj&&(Hj=!0)):this.co_j.jimen_f=!1,this.co_j.jimen_f?(this.j_zan_f=!1,this.j_jet_c=0,this.gk.left_f?(this.co_j.vx-=Hj?4:15,this.j_hashiru_f?(this.j_mizu_f?this.co_j.vx<-60&&(this.co_j.vx=-60):this.co_j.vx<-120&&(this.co_j.vx=-120),0<this.co_j.vx&&!Hj?(this.co_j.pt=108,this.co_j.ac=0):(this.co_j.pt=105+(this.co_j.ac>>1),this.co_j.ac++,3<this.co_j.ac&&(this.co_j.ac=0))):(this.j_mizu_f?this.co_j.vx<-40&&(this.co_j.vx=-40):this.co_j.vx<-60&&(this.co_j.vx=-60),0<this.co_j.vx&&!Hj?(this.co_j.pt=108,this.co_j.ac=0):(this.co_j.pt=103+(this.co_j.ac>>1),this.co_j.ac++,3<this.co_j.ac&&(this.co_j.ac=0))),this.co_j.muki=0):this.gk.right_f?(this.co_j.vx+=Hj?4:15,this.j_hashiru_f?(this.j_mizu_f?60<this.co_j.vx&&(this.co_j.vx=60):120<this.co_j.vx&&(this.co_j.vx=120),this.co_j.vx<0&&!Hj?(this.co_j.pt=108,this.co_j.ac=0):(this.co_j.pt=105+(this.co_j.ac>>1),this.co_j.ac++,3<this.co_j.ac&&(this.co_j.ac=0))):(this.j_mizu_f?40<this.co_j.vx&&(this.co_j.vx=40):60<this.co_j.vx&&(this.co_j.vx=60),this.co_j.vx<0&&!Hj?(this.co_j.pt=108,this.co_j.ac=0):(this.co_j.pt=103+(this.co_j.ac>>1),this.co_j.ac++,3<this.co_j.ac&&(this.co_j.ac=0))),this.co_j.muki=1):this.co_j.vx<0?(Hj?this.co_j.vx++:this.co_j.vx+=5,0<this.co_j.vx&&(this.co_j.vx=0),this.j_hashiru_f||Hj?(this.co_j.pt=107,this.co_j.ac=0):(this.co_j.pt=103+(this.co_j.ac>>1),this.co_j.ac++,3<this.co_j.ac&&(this.co_j.ac=0)),this.co_j.muki=0):0<this.co_j.vx?(Hj?this.co_j.vx--:this.co_j.vx-=5,this.co_j.vx<0&&(this.co_j.vx=0),this.j_hashiru_f||Hj?(this.co_j.pt=107,this.co_j.ac=0):(this.co_j.pt=103+(this.co_j.ac>>1),this.co_j.ac++,3<this.co_j.ac&&(this.co_j.ac=0)),this.co_j.muki=1):this.co_j.ac=0):(this.gk.left_f?!this.j_mizu_f&&-60<this.co_j.vx&&(this.co_j.vx-=10,this.co_j.vx<-60&&(this.co_j.vx=-60)):this.gk.right_f&&!this.j_mizu_f&&this.co_j.vx<60&&(this.co_j.vx+=10,60<this.co_j.vx&&(this.co_j.vx=60)),this.j_mizu_f?1<this.j_mizu_ac?this.co_j.pt=84:this.co_j.pt=83:0==this.j_jump_type?this.co_j.vy<20?this.co_j.pt=101:this.co_j.pt=102:2==this.j_jump_type?c.abs(this.co_j.vx)<=60?this.co_j.pt=103:this.co_j.pt=105:3==this.j_jump_type?this.co_j.pt=119:4==this.j_jump_type?this.co_j.pt=100:this.co_j.pt=109,this.co_j.ac=2),this.j_jdai_f&&(this.co_j.vx=0,this.co_j.pt=100,this.co_j.ac=0),this.co_j.vx<0){if(this.co_j.x+=s(this.co_j.vx/10),this.a_hf)for(var Qj=0;Qj<=this.a_kazu;Qj++)if(this.co_a[Qj].gf){var Rj=this.co_a[Qj];100<=Rj.c&&Rj.c<200?this.co_j.x+15>=Rj.x&&this.co_j.x<=Rj.x+64&&this.co_j.y+31>=Rj.y&&this.co_j.y<=Rj.y+13&&(this.co_j.x=Rj.x+65,this.co_j.vx=0):300==Rj.c?this.co_j.x+15>=Rj.x&&this.co_j.x<=Rj.x+48&&this.co_j.y+31>=Rj.y&&this.co_j.y<=Rj.y+31&&(this.co_j.x=Rj.x+49,this.co_j.vx=0):400==Rj.c?this.co_j.x+15>=Rj.x&&this.co_j.x<=Rj.x+80&&this.co_j.y+31>=Rj.y&&this.co_j.y<=Rj.y+63&&(this.co_j.x=Rj.x+81,this.co_j.vx=0):500==Rj.c?this.co_j.x+15>=Rj.x&&this.co_j.x<=Rj.x+80&&this.co_j.y+31>=Rj.y&&this.co_j.y<=Rj.y+13&&(this.co_j.x=Rj.x+81,this.co_j.vx=0):600==Rj.c?this.co_j.x+15>=Rj.x&&this.co_j.x<=Rj.x+48&&this.co_j.y+31>=Rj.y+16&&this.co_j.y<=Rj.y+47&&(this.co_j.x=Rj.x+49,this.co_j.vx=0):700==Rj.c&&this.co_j.x+15>=Rj.x&&this.co_j.x<=Rj.x+16&&this.co_j.y+31>=Rj.y&&this.co_j.y<=Rj.y+31&&(this.co_j.x=Rj.x+17,this.co_j.vx=0)}var Sj=this.co_j.x+15>>5,Tj=this.maps.map_bg[Sj][this.co_j.y>>5],Uj=this.co_j.y+31>>5,Vj=this.maps.map_bg[Sj][Uj];(20<=Tj||20<=Vj)&&(this.co_j.x=32*Sj+17,this.co_j.vx=0)}else if(0<this.co_j.vx){if(this.co_j.x+=s(this.co_j.vx/10),this.a_hf)for(var Wj=0;Wj<=this.a_kazu;Wj++)if(this.co_a[Wj].gf){var Xj=this.co_a[Wj];100<=Xj.c&&Xj.c<200?this.co_j.x+15>=Xj.x&&this.co_j.x<=Xj.x+64&&this.co_j.y+31>=Xj.y&&this.co_j.y<=Xj.y+13&&(this.co_j.x=Xj.x-16,this.co_j.vx=0):300==Xj.c?this.co_j.x+15>=Xj.x&&this.co_j.x<=Xj.x+48&&this.co_j.y+31>=Xj.y&&this.co_j.y<=Xj.y+31&&(this.co_j.x=Xj.x-16,this.co_j.vx=0):400==Xj.c?this.co_j.x+15>=Xj.x&&this.co_j.x<=Xj.x+80&&this.co_j.y+31>=Xj.y&&this.co_j.y<=Xj.y+63&&(this.co_j.x=Xj.x-16,this.co_j.vx=0):500==Xj.c?this.co_j.x+15>=Xj.x&&this.co_j.x<=Xj.x+80&&this.co_j.y+31>=Xj.y&&this.co_j.y<=Xj.y+13&&(this.co_j.x=Xj.x-16,this.co_j.vx=0):600==Xj.c?this.co_j.x+15>=Xj.x&&this.co_j.x<=Xj.x+48&&this.co_j.y+31>=Xj.y+16&&this.co_j.y<=Xj.y+47&&(this.co_j.x=Xj.x-16,this.co_j.vx=0):700==Xj.c&&this.co_j.x+15>=Xj.x&&this.co_j.x<=Xj.x+16&&this.co_j.y+31>=Xj.y&&this.co_j.y<=Xj.y+31&&(this.co_j.x=Xj.x-16,this.co_j.vx=0)}var Yj=this.co_j.x+15>>5,Zj=this.maps.map_bg[Yj][this.co_j.y>>5],$j=this.co_j.y+31>>5,_j=this.maps.map_bg[Yj][$j];(20<=Zj||20<=_j)&&(this.co_j.x=32*Yj-16,this.co_j.vx=0)}if(this.co_j.jimen_f)if(1<=this.tr1_c&&this.tr1_c<=5)if(20<=this.maps.getBGCode(this.co_j.x+15,this.co_j.y-1)){if(1==this.tr1_c&&40==this.maps.getBGCode(this.co_j.x+15,this.co_j.y-1)){var ak=this.co_j.x+15>>5,bk=this.co_j.y-1>>5;this.hAttack(ak,bk)}if(Ij=this.maps.getBGCode(this.co_j.x+15,this.co_j.y-1),this.j_helm_f&&(20==Ij||69==Ij&&1==this.suberuyuka_hkf)){this.tr1_c=6;var ck=this.co_j.x+15>>5,dk=this.co_j.y-1>>5;4==this.maps.map_bg[this.co_j.x+15>>5][1+(this.co_j.y-1>>5)]?this.maps.putBGCode(ck,dk,4):this.maps.putBGCode(ck,dk,0),this.mSet2(32*ck,32*dk,80,12,-24),this.mSet2(32*ck,32*dk,80,-12,-24),this.jZutuki(32*ck,32*dk-32,0)}}else if(this.j_mizu_f)this.j_jump_type=0,this.co_j.pt=83,this.co_j.ac=0,this.j_mizu_ac=0,this.j_jet_kf=!1,this.j_jdai_f?(this.co_j.y=32*(this.co_j.y>>5),this.co_j.vy=-120):50<c.abs(this.co_j.vx)?this.co_j.vy=-90:this.co_j.vy=-70,this.j_jump_level=0;else{this.j_jump_type=0,this.co_j.pt=101,this.co_j.ac=0,this.j_fire_f&&(0==this.co_j.muki?this.jmSet(this.co_j.x,this.co_j.y,100):this.jmSet(this.co_j.x,this.co_j.y,105)),this.j_jet_kf=!1;var ek=c.abs(this.co_j.vx);if(this.j_jdai_f)this.co_j.y=32*(this.co_j.y>>5),this.co_j.vy=-410,this.j_jump_level=5,this.co_a[this.j_a_id].c3<=1&&(this.co_j.vy=-230);else if(0==ek)this.co_j.vy=-150,this.j_jump_level=1;else if(ek<60)this.co_j.vy=-230,this.j_jump_level=2;else if(60==ek)this.co_j.vy=-260,this.j_jump_level=3;else if(ek<120)this.co_j.vy=-290,this.j_jump_level=4;else if(this.co_j.vy=-340,this.j_jump_level=5,(Ij=this.maps.map_bg[this.co_j.x+15>>5][this.co_j.y-1>>5])<=9){for(var fk=0;fk<=5;fk++)this.j_zan_x[fk]=Jj,this.j_zan_y[fk]=Kj,this.j_zan_pt[fk]=101,this.j_zan_pth[fk]=this.co_j.muki;this.j_zan_p=0,this.j_zan_c=0,this.j_zan_nagasa=5,this.j_zan_f=!0}}else this.co_j.vy=0;else if(this.j_mizu_f)if(this.gk.left_f?this.co_j.muki=0:this.gk.right_f&&(this.co_j.muki=1),1==this.tr1_c){var gk=!1;(Ij=this.maps.map_bg[this.co_j.x+15>>5][(this.co_j.y+15>>5)-1])<=9&&4!=Ij&&(gk=!0),8!=Ij&&9!=Ij||4!=this.maps.map_bg[(this.co_j.x+15>>5)-1][(this.co_j.y+15>>5)-1]||(gk=!1),gk&&(this.co_j.y+15)%32<=8?(this.j_jump_type=0,this.co_j.pt=101,this.co_j.ac=0,this.co_j.vy=-180,this.j_jump_level=1,this.co_j.y=32*(this.co_j.y+15>>5)-14,Gj=!(this.j_jet_kf=!1),this.mSet(this.co_j.x,32*(this.co_j.y+15>>5)-32,50)):(this.j_jump_type=0,this.co_j.ac=0,this.j_mizu_ac<=0&&(this.j_mizu_ac=4,this.co_j.pt=84),this.co_j.vy=-40,(this.j_jump_level=0)==this.co_j.muki?(this.co_j.vx-=30,this.co_j.vx<-60&&(this.co_j.vx=-60)):(this.co_j.vx+=30,60<this.co_j.vx&&(this.co_j.vx=60)))}else this.co_j.vx<0?(0==this.co_j.muki?this.co_j.vx++:this.co_j.vx+=2,0<this.co_j.vx&&(this.co_j.vx=0)):0<this.co_j.vx&&(1==this.co_j.muki?this.co_j.vx--:this.co_j.vx-=2,this.co_j.vx<0&&(this.co_j.vx=0)),this.co_j.vy<40?(this.co_j.vy+=5,40<this.co_j.vy&&(this.co_j.vy=40)):40<this.co_j.vy&&(this.co_j.vy-=20,this.co_j.vy<40&&(this.co_j.vy=40)),0<this.j_mizu_ac?(this.j_mizu_ac--,1<this.j_mizu_ac?this.co_j.pt=84:this.co_j.pt=83):this.co_j.pt=83;else this.co_j.vy+=25,160<this.co_j.vy&&(this.co_j.vy=160),1==this.tr1_c&&this.j_fire_f&&(0==this.co_j.muki?this.jmSet(this.co_j.x,this.co_j.y,100):this.jmSet(this.co_j.x,this.co_j.y,105)),0==this.tr1_c&&(this.j_jet_kf=!0),this.j_jet_kf&&0<this.tr1_c&&0<this.j_jet_fuel&&!this.j_mizu_f?(this.j_jet_c=100,2==this.j_jump_type&&(this.j_jump_type=0)):96<this.j_jet_c?this.j_jet_c--:this.j_jet_c=0,96<=this.j_jet_c&&(this.j_jet_fuel--,this.j_jet_fuel<0&&(this.j_jet_fuel=0,this.j_jet_c=0),this.gk.left_f?this.co_j.muki=0:this.gk.right_f&&(this.co_j.muki=1),-150<this.co_j.vy&&(this.co_j.vy-=50,this.co_j.vy<-150&&(this.co_j.vy=-150)));if(this.co_j.vy<0){var hk=this.co_j.x+15>>5,ik=this.co_j.y>>5,kk=(this.maps.map_bg[hk][ik],this.co_j.vy);if(kk<-320&&(kk=-320),this.co_j.y+=s(kk/10),this.j_mizu_f&&!Gj){var lk=this.maps.getBGCode(this.co_j.x+15,this.co_j.y+15),mk=!1;lk<=9&&4!=lk&&(mk=!0),8!=lk&&9!=lk||4!=this.maps.map_bg[(this.co_j.x+15>>5)-1][this.co_j.y+15>>5]||(mk=!1),mk&&(this.co_j.y=32*(this.co_j.y+15>>5)+17,this.co_j.vy=-10)}if(this.a_hf)for(var nk=0;nk<=this.a_kazu;nk++)if(this.co_a[nk].gf){var ok=this.co_a[nk];100<=ok.c&&ok.c<200?this.co_j.x+15>=ok.x&&this.co_j.x<=ok.x+64&&this.co_j.y+31>=ok.y&&this.co_j.y<=ok.y+13&&(this.co_j.y=ok.y+14,this.co_j.vy=0):300==ok.c?this.co_j.x+15>=ok.x&&this.co_j.x<=ok.x+48&&this.co_j.y+31>=ok.y&&this.co_j.y<=ok.y+31&&(this.co_j.y=ok.y+32,this.co_j.vy=0):400==ok.c?this.co_j.x+15>=ok.x&&this.co_j.x<=ok.x+80&&this.co_j.y+31>=ok.y&&this.co_j.y<=ok.y+63&&(this.co_j.y=ok.y+64,this.co_j.vy=0):500==ok.c?this.co_j.x+15>=ok.x&&this.co_j.x<=ok.x+80&&this.co_j.y+31>=ok.y&&this.co_j.y<=ok.y+13&&(this.co_j.y=ok.y+14,this.co_j.vy=0):600==ok.c?this.co_j.x+15>=ok.x&&this.co_j.x<=ok.x+48&&this.co_j.y+31>=ok.y+16&&this.co_j.y<=ok.y+47&&(this.co_j.y=ok.y+48,this.co_j.vy=0):700==ok.c&&this.co_j.x+15>=ok.x&&this.co_j.x<=ok.x+16&&this.co_j.y+31>=ok.y&&this.co_j.y<=ok.y+31&&(this.co_j.y=ok.y+32,this.co_j.vy=0)}var pk=this.co_j.y>>5,qk=this.maps.map_bg[this.co_j.x+15>>5][pk];if(20<=qk){if(this.co_j.y=32*pk+32,this.co_j.vy=0,40==qk){var rk=this.co_j.x+15>>5,sk=this.co_j.y-1>>5;this.hAttack(rk,sk)}if(this.j_helm_f&&(20==qk||69==qk&&1==this.suberuyuka_hkf)){var tk=this.co_j.x+15>>5,uk=pk;4==this.maps.map_bg[tk][uk+1]?this.maps.putBGCode(tk,uk,4):this.maps.putBGCode(tk,uk,0),this.mSet2(32*tk,32*uk,80,12,-24),this.mSet2(32*tk,32*uk,80,-12,-24),this.jZutuki(32*tk,32*uk-32,0)}}if(pk<ik){if(this.gk.right_f){var vk=this.maps.map_bg[this.co_j.x+16>>5][ik],wk=this.maps.map_bg[this.co_j.x+16>>5][pk];vk<=9&&20<=wk&&(this.co_j.y=32*pk+32,this.co_j.vy=0)}if(this.gk.left_f){var xk=this.maps.map_bg[this.co_j.x+14>>5][ik],yk=this.maps.map_bg[this.co_j.x+14>>5][pk];xk<=9&&20<=yk&&(this.co_j.y=32*pk+32,this.co_j.vy=0)}}}else if(0<this.co_j.vy){var zk=this.co_j.x+15>>5,Ak=this.co_j.y+31>>5;this.maps.map_bg[zk][Ak];if(this.co_j.y+=s(this.co_j.vy/10),this.a_hf)for(var Ck=0;Ck<=this.a_kazu;Ck++)if(this.co_a[Ck].gf){var Dk=this.co_a[Ck];100<=Dk.c&&Dk.c<200?this.co_j.x+15>=Dk.x&&this.co_j.x<=Dk.x+64&&this.co_j.y+31>=Dk.y&&this.co_j.y<=Dk.y+13&&(this.co_j.y=Dk.y-32,this.co_j.vy=0):300==Dk.c?this.co_j.x+15>=Dk.x&&this.co_j.x<=Dk.x+48&&this.co_j.y+31>=Dk.y&&this.co_j.y<=Dk.y+31&&(this.co_j.y=Dk.y-32,this.co_j.vy=0):400==Dk.c?this.co_j.x+15>=Dk.x&&this.co_j.x<=Dk.x+80&&this.co_j.y+31>=Dk.y&&this.co_j.y<=Dk.y+63&&(this.co_j.y=Dk.y-32,this.co_j.vy=0):500==Dk.c?this.co_j.x+15>=Dk.x&&this.co_j.x<=Dk.x+80&&this.co_j.y+31>=Dk.y&&this.co_j.y<=Dk.y+13&&(this.co_j.y=Dk.y-32,this.co_j.vy=0):600==Dk.c?this.co_j.x+15>=Dk.x&&this.co_j.x<=Dk.x+48&&this.co_j.y+31>=Dk.y+16&&this.co_j.y<=Dk.y+47&&(this.co_j.y=Dk.y+16-32,this.co_j.vy=0):700==Dk.c&&this.co_j.x+15>=Dk.x&&this.co_j.x<=Dk.x+16&&this.co_j.y+31>=Dk.y&&this.co_j.y<=Dk.y+31&&(this.co_j.y=Dk.y-32,this.co_j.vy=0)}var Ek=this.co_j.y+31>>5;if(20<=this.maps.map_bg[zk][Ek]){this.co_j.y=32*Ek-32,this.co_j.vy=0,Ek=this.co_j.y+31>>5;this.maps.map_bg[zk][Ek]}if(Ak<Ek){if(this.gk.right_f){var Hk=this.maps.map_bg[this.co_j.x+16>>5][Ak],Ik=this.maps.map_bg[this.co_j.x+16>>5][Ek];Hk<=9&&20<=Ik&&(this.co_j.y=32*Ek-32,this.co_j.vy=0,this.co_j.pt=103,this.co_j.ac=1,this.co_j.x++)}if(this.gk.left_f){var Jk=this.maps.map_bg[this.co_j.x+14>>5][Ak],Kk=this.maps.map_bg[this.co_j.x+14>>5][Ek];Jk<=9&&20<=Kk&&(this.co_j.y=32*Ek-32,this.co_j.vy=0,this.co_j.pt=103,this.co_j.ac=1,this.co_j.x--)}}if(!this.j_mizu_f){var Lk=this.maps.getBGCode(this.co_j.x+15,this.co_j.y+15);4==Lk?(this.mSet(this.co_j.x,32*(this.co_j.y+15>>5)-32,50),this.j_mizu_awa_c=38,this.co_j.vx<-60?this.co_j.vx=-60:60<this.co_j.vx&&(this.co_j.vx=60)):8!=Lk&&9!=Lk||4!=this.maps.map_bg[(this.co_j.x+15>>5)-1][this.co_j.y+15>>5]||(this.mSet(this.co_j.x,32*(this.co_j.y+15>>5)-32,50),this.j_mizu_awa_c=38,this.co_j.vx<-60?this.co_j.vx=-60:60<this.co_j.vx&&(this.co_j.vx=60))}}if(1==this.tr2_c)if(0<this.j_gr_kazu?3==this.grenade_type||4==this.grenade_type?0==this.co_j.muki?this.jmSet(this.co_j.x,this.co_j.y,60):this.jmSet(this.co_j.x,this.co_j.y,65):0==this.co_j.muki?this.jmSet(this.co_j.x,this.co_j.y,200):this.jmSet(this.co_j.x,this.co_j.y,205):!this.j_fire_f||this.j_mizu_f&&!this.j_fire_mkf||(0==this.co_j.muki?this.jmSet(this.co_j.x,this.co_j.y,100):this.jmSet(this.co_j.x,this.co_j.y,105)),Ij=this.maps.getBGCode(this.co_j.x+15,this.co_j.y+32),this.j_drell_f&&(20==Ij||69==Ij&&1==this.suberuyuka_hkf)){var Mk=this.co_j.x+15>>5,Nk=this.co_j.y+32>>5;4==this.maps.map_bg[this.co_j.x+15>>5][(this.co_j.y+32>>5)-1]?this.maps.putBGCode(Mk,Nk,4):this.maps.putBGCode(Mk,Nk,0),this.mSet2(32*Mk,32*Nk,80,12,-24),this.mSet2(32*Mk,32*Nk,80,-12,-24),this.jZutuki(32*Mk,32*Nk-32,0),this.co_j.x=32*Mk,this.co_j.vx=0,this.co_j.vy=0,this.j_jump_type=3,this.co_j.c=120,this.co_j.c1=0,this.co_j.pt=119}else this.j_tail_f&&(this.j_tail_ac<=0||8<=this.j_tail_ac)&&(this.j_tail_ac=1,this.co_j.pt=116,this.j_zan_f=!1);if(1<=this.j_tail_ac)if(this.j_zan_f=!1,this.j_tail_ac++,this.j_tail_ac<=4)this.co_j.pt=116,1!=this.j_tail_type&&3!=this.j_tail_type||(0==this.co_j.muki?this.jZutuki(this.co_j.x-32,this.co_j.y,1):this.jZutuki(this.co_j.x+32,this.co_j.y,1));else if(this.j_tail_ac<=5){if(this.co_j.pt=1e3,1!=this.j_tail_type&&3!=this.j_tail_type||(0==this.co_j.muki?this.jZutuki(this.co_j.x-32,this.co_j.y,1):this.jZutuki(this.co_j.x+32,this.co_j.y,1)),2==this.j_tail_type||3==this.j_tail_type){var Ok;Ok=1==this.co_j.muki?this.co_j.x+40>>5:this.co_j.x-8>>5;var Pk=this.co_j.y+15>>5;(20==this.maps.map_bg[Ok][Pk]||69==this.maps.map_bg[Ok][Pk]&&1==this.suberuyuka_hkf)&&(4==this.maps.map_bg[Ok-1][Pk]?this.maps.putBGCode(Ok,Pk,4):this.maps.putBGCode(Ok,Pk,0),this.mSet2(32*Ok,32*Pk,80,12,-24),this.mSet2(32*Ok,32*Pk,80,-12,-24),this.jZutuki(32*Ok,32*Pk-32,0))}}else this.j_tail_ac<=7?this.co_j.pt=1e3:this.j_tail_ac<=9?this.co_j.pt=116:(this.co_j.pt=116,this.j_tail_ac=0);switch(Ij=this.maps.map_bg[this.co_j.x+15>>5][this.co_j.y+15>>5]){case 9:4==this.maps.map_bg[(this.co_j.x+15>>5)-1][this.co_j.y+15>>5]?(this.maps.putBGCode(this.co_j.x+15>>5,this.co_j.y+15>>5,4),this.j_mizu_f=!0):this.maps.putBGCode(this.co_j.x+15>>5,this.co_j.y+15>>5,0),this.addScore(5);break;case 8:4==this.maps.map_bg[(this.co_j.x+15>>5)-1][this.co_j.y+15>>5]?(this.maps.putBGCode(this.co_j.x+15>>5,this.co_j.y+15>>5,4),this.j_mizu_f=!0):this.maps.putBGCode(this.co_j.x+15>>5,this.co_j.y+15>>5,0),this.stage_cc=1,2<=this.stage_max&&this.stage>=this.stage_max?this.addScore(1e3):this.addScore(100);break;case 5:case 6:this.co_j.y=32*(this.co_j.y+15>>5),this.jShinu(1)}(this.co_j.y>=this.ochiru_y||this.j_mizu_f&&this.co_j.y>=this.ochiru_y-16)&&(this.co_j.c=210,this.co_j.c1=0,this.co_j.y=this.ochiru_y+64,this.j_jet_c=0,this.j_v_c=0),this.co_j.wx=this.co_j.x-this.maps.wx,this.co_j.wy=this.co_j.y-this.maps.wy,this.co_j.wx<96?this.maps.wx=this.co_j.x-96:224<this.co_j.wx&&(this.maps.wx=this.co_j.x-224),this.co_j.wy<78?this.maps.wy=this.co_j.y-78:176<this.co_j.wy&&(this.maps.wy=this.co_j.y-176),this.maps.wx<this.maps.wx_mini?this.maps.wx=this.maps.wx_mini:this.maps.wx>this.maps.wx_max&&(this.maps.wx=this.maps.wx_max),this.maps.wy<this.maps.wy_mini?this.maps.wy=this.maps.wy_mini:this.maps.wy>this.maps.wy_max&&(this.maps.wy=this.maps.wy_max)},G.prototype.jMove=function(){this.j_mizu_f=!1;var Rk=this.maps.getBGCode(this.co_j.x+15,this.co_j.y+15);if(4==Rk?(this.j_mizu_f=!0,this.j_jet_c=0,this.j_mizu_awa_c++,44==this.j_mizu_awa_c||54==this.j_mizu_awa_c?this.mSet(this.co_j.x,this.co_j.y+4,60):54<this.j_mizu_awa_c&&(this.j_mizu_awa_c=0)):8!=Rk&&9!=Rk||4!=this.maps.map_bg[(this.co_j.x+15>>5)-1][this.co_j.y+15>>5]||(this.j_mizu_f=!0,this.j_jet_c=0,this.j_mizu_awa_c++,44==this.j_mizu_awa_c||54==this.j_mizu_awa_c?this.mSet(this.co_j.x,this.co_j.y+4,60):54<this.j_mizu_awa_c&&(this.j_mizu_awa_c=0)),this.gk.tr1_f?this.tr1_c<6&&this.tr1_c++:this.tr1_c=0,this.gk.tr2_f?this.tr2_c<2&&this.tr2_c++:this.tr2_c=0,this.gk.left_f?this.gk.left_c<2&&this.gk.left_c++:this.gk.left_c=0,this.gk.right_f?this.gk.right_c<2&&this.gk.right_c++:this.gk.right_c=0,1==this.gk.left_c?(0<this.left_dcc?this.j_hashiru_f=!0:this.j_hashiru_f=!1,this.left_dcc=8):0<this.left_dcc&&this.left_dcc--,1==this.gk.right_c?(0<this.right_dcc?this.j_hashiru_f=!0:this.j_hashiru_f=!1,this.right_dcc=8):0<this.right_dcc&&this.right_dcc--,110==this.co_j.c)this.gk.left_f?(this.co_j.vx-=10,this.co_j.vx<-60&&(this.co_j.vx=-60)):this.gk.right_f&&(this.co_j.vx+=10,60<this.co_j.vx&&(this.co_j.vx=60)),this.co_j.c1++,2<this.co_j.c1&&(this.co_j.c=100),this.co_j.pt=109;else if(120==this.co_j.c)this.co_j.c1++,6<this.co_j.c1&&(this.co_j.c=100),this.co_j.pt=119;else if(200==this.co_j.c)this.co_j.vy+=25,100<this.co_j.vy&&(this.co_j.vy=100),this.co_j.y+=s(this.co_j.vy/10),this.co_j.wx=this.co_j.x-this.maps.wx,this.co_j.wy=this.co_j.y-this.maps.wy,this.co_j.c2<100?(this.co_j.c1<=0?(this.co_j.pt=110,this.co_j.muki=0):this.co_j.c1<=1?(this.co_j.pt=111,this.co_j.muki=0,this.co_j.c2++,4<this.co_j.c2&&(this.co_j.c2=100)):(this.co_j.c1<=2?this.co_j.pt=112:this.co_j.pt=113,this.co_j.muki=0),this.co_j.c1++,3<this.co_j.c1&&(this.co_j.c1=0)):(this.co_j.pt=112,this.co_j.muki=0),320<=this.co_j.wy&&(this.co_j.c=210,this.co_j.c1=0,this.co_j.y=this.maps.wy+320+32,this.co_j.pt=0);else if(210==this.co_j.c)this.stage_cc<=0&&(this.co_j.c1++,16<this.co_j.c1&&(this.j_left--,this.j_left<0?(this.j_left=0,this.ml_mode=300):2==this.stage_select?this.ml_mode=250:this.ml_mode=90));else if(220==this.co_j.c)this.co_j.pt=114,this.co_j.c1++,25<=this.co_j.c1&&(this.co_j.c=210,this.co_j.c1=0);else if(230==this.co_j.c)this.co_j.pt=115,this.co_j.c1++,25<=this.co_j.c1&&(this.co_j.c=210,this.co_j.c1=0);else if(240==this.co_j.c)100<=this.co_j.c2&&(this.co_j.y+=10),this.co_j.wx=this.co_j.x-this.maps.wx,this.co_j.wy=this.co_j.y-this.maps.wy,this.co_j.c2<100?(this.co_j.c1<=0?(this.co_j.pt=110,this.co_j.muki=0):this.co_j.c1<=1?(this.co_j.pt=111,this.co_j.muki=0,this.co_j.c2++,4<this.co_j.c2&&(this.co_j.c2=100)):(this.co_j.c1<=2?this.co_j.pt=112:this.co_j.pt=113,this.co_j.muki=0),this.co_j.c1++,3<this.co_j.c1&&(this.co_j.c1=0)):(this.co_j.pt=112,this.co_j.muki=0),320<=this.co_j.wy&&(this.co_j.c=210,this.co_j.c1=0,this.co_j.y=this.maps.wy+320+32,this.co_j.pt=0);else if(300==this.co_j.c)this.co_j.pt=1100,this.co_j.c1++,32<=this.co_j.c1&&(this.co_j.c=310,this.co_j.c1=0,this.co_j.pt=1110),this.co_j.wx=this.co_j.x-this.maps.wx,this.co_j.wy=this.co_j.y-this.maps.wy,this.co_j.wx<96?this.maps.wx=this.co_j.x-96:224<this.co_j.wx&&(this.maps.wx=this.co_j.x-224),this.co_j.wy<78?this.maps.wy=this.co_j.y-78:176<this.co_j.wy&&(this.maps.wy=this.co_j.y-176),this.maps.wx<this.maps.wx_mini?this.maps.wx=this.maps.wx_mini:this.maps.wx>this.maps.wx_max&&(this.maps.wx=this.maps.wx_max),this.maps.wy<this.maps.wy_mini?this.maps.wy=this.maps.wy_mini:this.maps.wy>this.maps.wy_max&&(this.maps.wy=this.maps.wy_max);else if(310==this.co_j.c){if(this.co_j.pt=1110,this.stage_cc<=0)if(this.co_j.c1++,2==this.dokan_mode){if(10<=this.co_j.c1){var Sk;for(this.co_j.c=320,this.co_j.c1=42,Sk=0;Sk<=this.a_kazu;Sk++)if(300==this.co_a[Sk].c&&1!=this.co_a[Sk].c4&&this.co_j.c2==this.co_a[Sk].c3&&(0==this.sl_step||1==this.sl_step||10==this.sl_step||11==this.sl_step)){this.co_j.x=this.co_a[Sk].x+16,this.co_j.y=this.co_a[Sk].y-32,this.co_a[Sk].c4=1;break}this.a_kazu;for(var Tk=0;Tk<=this.a_kazu;Tk++)(100<=this.co_a[Tk].c||60==this.co_a[Tk].c)&&(this.co_a[Tk].gf=!0,300!=this.co_a[Tk].c||this.co_j.x==this.co_a[Tk].x+16&&this.co_j.y==this.co_a[Tk].y-32||(this.co_a[Tk].c4=0));10!=this.sl_step&&11!=this.sl_step||(this.maps.wx=this.co_j.x-192,this.ks_wx=this.maps.wx),this.co_j.wx=this.co_j.x-this.maps.wx,this.co_j.wy=this.co_j.y-this.maps.wy,this.co_j.wx<96?this.maps.wx=this.co_j.x-96:224<this.co_j.wx&&(this.maps.wx=this.co_j.x-224),this.co_j.wy<78?this.maps.wy=this.co_j.y-78:176<this.co_j.wy&&(this.maps.wy=this.co_j.y-176),this.maps.wx<this.maps.wx_mini?this.maps.wx=this.maps.wx_mini:this.maps.wx>this.maps.wx_max&&(this.maps.wx=this.maps.wx_max),this.maps.wy<this.maps.wy_mini?this.maps.wy=this.maps.wy_mini:this.maps.wy>this.maps.wy_max&&(this.maps.wy=this.maps.wy_max)}}else if(10==this.co_j.c1){var Uk;Uk=1==this.co_j.c2?this.gg.ap.getParameter("url2"):2==this.co_j.c2?this.gg.ap.getParameter("url3"):3==this.co_j.c2?this.gg.ap.getParameter("url4"):this.gg.ap.getParameter("url1"),location.href=Uk}else 80<this.co_j.c1&&(this.ml_mode=50)}else 320==this.co_j.c&&(this.co_j.pt=1100,this.co_j.c1--,this.co_j.c1<=0&&(this.co_j.c=100,this.co_j.c1=0,this.co_j.pt=100))},G.prototype.jShinu=function(Vk){this.co_j.c1=0,this.co_j.c2=0,this.j_zan_f=!1,this.j_jet_c=0,this.j_v_c=0,1==Vk?this.co_j.c=240:2==Vk?(this.co_j.c=200,this.co_j.vy=-280):3==Vk&&(this.co_j.c=220)},G.prototype.jZutuki=function(Wk,Xk,Yk){for(var Zk=0;Zk<=this.t_kazu;Zk++)if(100<=this.co_t[Zk].c){var $k=this.co_t[Zk],_k=!1;1==Yk?c.abs(Wk-$k.x)<25&&c.abs(Xk-$k.y)<23&&(_k=!0):c.abs(Wk-$k.x)<34&&Xk==$k.y&&(_k=!0),_k&&(Wk>$k.x?($k.pth=1,$k.vx=-7):($k.pth=0,$k.vx=7),$k.c=52,$k.vy=-32)}},G.prototype.tSet=function(al,bl,cl,dl){for(var el=0;el<=119;el++)if(!(0<this.co_t[el].c)){var fl=this.co_t[el];switch(fl.c=10,fl.c1=dl,fl.c2=cl,fl.c3=al,fl.c4=bl,fl.x=al,fl.y=bl,this.t_kazu++,cl){case 500:fl.y=bl-12,fl.c3=bl-52,fl.c4=bl-12,fl.vy=-4;break;case 600:fl.c3=0;break;case 900:this.airms_kf&&(fl.c2=950)}break}},G.prototype.tSetBoss=function(gl,hl,il,jl){this.t_kazu=129;for(var kl=120;kl<=129;kl++)if(!(0<this.co_t[kl].c)){var ll=this.co_t[kl];switch(ll.c=il,ll.c1=0,ll.c2=0,ll.c3=gl,ll.c4=hl,ll.x=gl,ll.y=hl,ll.vx=jl,il){case 150:ll.vx=jl,ll.vy=-28,ll.vx<=0?ll.muki=0:ll.muki=1;break;case 450:ll.vx=jl,ll.vy=-22,ll.vx<=0?ll.muki=0:ll.muki=1;break;case 650:ll.vx=jl,ll.vy=-28,ll.vx<=0?ll.muki=0:ll.muki=1}break}},G.prototype.tMove=function(){for(var ml=!1,nl=0;nl<=this.t_kazu;nl++)if(0!=this.co_t[nl].c&&this.co_t[nl].x>=this.maps.wx-512){var ol=this.co_t[nl],pl=ol.x,ql=ol.y;switch(ol.c){case 10:this.maps.wx>=ol.c1&&(ol.c=ol.c2,ol.c1=0,ol.c2=0);break;case 50:ol.c1++,14<ol.c1&&(ol.c=0,this.addScore(10));break;case 52:pl+=ol.vx,ol.vy+=5,25<ol.vy&&(ol.vy=25),(ql+=ol.vy)>this.maps.wy+320&&(ol.c=0,this.addScore(10));break;case 100:if(pl+12>>5<pl+15>>5){var rl=this.maps.map_bg[pl+15>>5][ql+31>>5];11==rl||14==rl?ql=32*(ql+31>>5)-32:10!=rl&&12!=rl||(ql=32*(ql+31>>5))}pl-=3;var sl=this.maps.map_bg[pl+15>>5][ql+31>>5];if(10<=sl&&sl<=15)ql=32*(ql+31>>5),ql=this.sakamichiY(pl,ql);else{var tl=this.maps.map_bg[pl>>5][ql+32>>5];tl<=9&&(pl=32*(pl>>5)+32,10<=(tl=this.maps.map_bg[pl+15>>5][ql+31>>5])&&tl<=15&&(pl-=15),ol.c=105),20<=(tl=this.maps.map_bg[pl>>5][ql+31>>5])&&(pl=32*(pl>>5)+32,ol.c=105),10<=(tl=this.maps.map_bg[pl+15>>5][ql+32>>5])&&tl<=15&&(ql=32*(ql+32>>5),ql=this.sakamichiY(pl,ql))}ol.pt=140+this.g_ac,ol.pth=0;break;case 105:if(pl+15>>5<pl+18>>5){var ul=this.maps.map_bg[pl+15>>5][ql+31>>5];10==ul||13==ul?ql=32*(ql+31>>5)-32:11!=ul&&15!=ul||(ql=32*(ql+31>>5))}pl+=3;var vl=this.maps.map_bg[pl+15>>5][ql+31>>5];if(10<=vl&&vl<=15)ql=32*(ql+31>>5),ql=this.sakamichiY(pl,ql);else{var wl=this.maps.map_bg[pl+31>>5][ql+32>>5];wl<=9&&(pl=32*(pl+31>>5)-32,10<=(wl=this.maps.map_bg[pl+15>>5][ql+31>>5])&&wl<=15&&(pl+=16),ol.c=100),20<=(wl=this.maps.map_bg[pl+31>>5][ql+31>>5])&&(pl=32*(pl+31>>5)-32,ol.c=100),10<=(wl=this.maps.map_bg[pl+15>>5][ql+32>>5])&&wl<=15&&(ql=32*(ql+32>>5),ql=this.sakamichiY(pl,ql))}ol.pt=140+this.g_ac,ol.pth=1;break;case 110:if(pl+12>>5<pl+15>>5){var xl=this.maps.map_bg[pl+15>>5][ql+31>>5];11==xl||14==xl?ql=32*(ql+31>>5)-32:10!=xl&&12!=xl||(ql=32*(ql+31>>5))}pl-=3;var yl=this.maps.map_bg[pl+15>>5][ql+31>>5];if(10<=yl&&yl<=15)ql=32*(ql+31>>5),ql=this.sakamichiY(pl,ql);else{var zl=ql+32>>5;if(this.maps.map_bg[pl+31>>5][zl]<=9){pl=32*(pl+31>>5);var Bl=this.maps.map_bg[pl+15>>5][ql+31>>5];10<=Bl&&Bl<=15&&(pl-=15),ol.c=120}if(pl<32)pl<=3&&(ol.c=0);else 20<=this.maps.map_bg[pl>>5][ql+31>>5]&&(pl=32*(pl>>5)+32,ol.c=115,this.maps.map_bg[pl+15>>5][ql+32>>5]<=9&&(ol.c=120));120<=nl&&pl<this.maps.wx-32&&(ol.c=0);var Dl=this.maps.map_bg[pl+15>>5][zl];10<=Dl&&Dl<=15&&(ql=32*(ql+32>>5),ql=this.sakamichiY(pl,ql))}ol.pt=140+this.g_ac,ol.pth=0;break;case 115:if(pl+15>>5<pl+18>>5){var El=this.maps.map_bg[pl+15>>5][ql+31>>5];10==El||13==El?ql=32*(ql+31>>5)-32:11!=El&&15!=El||(ql=32*(ql+31>>5))}pl+=3;var Fl=this.maps.map_bg[pl+15>>5][ql+31>>5];if(10<=Fl&&Fl<=15)ql=32*(ql+31>>5),ql=this.sakamichiY(pl,ql);else{var Gl=ql+32>>5;if(this.maps.map_bg[pl>>5][Gl]<=9){pl=32*(pl>>5);var Il=this.maps.map_bg[pl+15>>5][ql+31>>5];10<=Il&&Il<=15&&(pl+=16),ol.c=125}var Jl=this.maps.map_bg[pl+31>>5][ql+31>>5];20<=Jl&&(pl=32*(pl+31>>5)-32,ol.c=110,this.maps.map_bg[pl+15>>5][ql+32>>5]<=9&&(ol.c=125)),120<=nl&&pl>this.maps.wx+512&&(ol.c=0),10<=(Jl=this.maps.map_bg[pl+15>>5][Gl])&&Jl<=15&&(ql=32*(ql+32>>5),ql=this.sakamichiY(pl,ql))}ol.pt=140+this.g_ac,ol.pth=1;break;case 120:ql+=5;var Kl=this.maps.map_bg[pl+15>>5][ql+31>>5];if(10<=Kl&&Kl<=15){var Ll=this.sakamichiY(pl,32*(ql+31>>5));Ll<=ql&&(ql=Ll,ol.c=110)}var Ml=ql+31>>5,Nl=this.maps.map_bg[pl>>5][Ml],Ol=this.maps.map_bg[pl+31>>5][Ml];(20<=Nl||20<=Ol)&&(ql=32*Ml-32,ol.c=110),ql>=this.ochiru_y&&(ol.c=0),ol.pt=140,ol.pth=0;break;case 125:ql+=5;var Pl=this.maps.map_bg[pl+15>>5][ql+31>>5];if(10<=Pl&&Pl<=15){var Ql=this.sakamichiY(pl,32*(ql+31>>5));Ql<=ql&&(ql=Ql,ol.c=115)}var Rl=ql+31>>5,Sl=this.maps.map_bg[pl>>5][Rl],Tl=this.maps.map_bg[pl+31>>5][Rl];(20<=Sl||20<=Tl)&&(ql=32*Rl-32,ol.c=115),ql>=this.ochiru_y&&(ol.c=0),ol.pt=140,ol.pth=1;break;case 150:ol.vx<0&&(20<=this.maps.getBGCode(pl,ql)||20<=this.maps.getBGCode(pl,ql+31))&&(pl=32*(pl>>5)+32,ol.vx=0),0<ol.vx&&(20<=this.maps.getBGCode(pl+31,ql)||20<=this.maps.getBGCode(pl+31,ql+31))&&(pl=32*(pl+31>>5)-32,ol.vx=0),pl+=ol.vx,ol.vy+=2,18<ol.vy&&(ol.vy=18);var Ul=(ql+=ol.vy)+31>>5,Vl=this.maps.map_bg[pl>>5][Ul],Wl=this.maps.map_bg[pl+31>>5][Ul];(20<=Vl||20<=Wl)&&(ql=32*Ul-32,1==ol.muki?ol.c=115:ol.c=110),ql>=this.ochiru_y&&(ol.c=0),ol.pt=140,ol.pth=ol.muki;break;case 200:ol.c1<=0?this.co_j.x>=pl-240&&this.co_j.x<=pl+240&&(ol.c=210,ol.vy=-14):ol.c1--,ol.pt=143,pl+8>=this.co_j.x?ol.pth=0:ol.pth=1;break;case 210:ol.vy++,14<ol.vy&&(ol.vy=14),ql+=ol.vy,20<=this.maps.getBGCode(pl+15,ql+31)&&(ql=32*(ql+31>>5)-32,ol.c=200,ol.c1=30),ql>=this.ochiru_y&&(ol.c=0),0==ol.vy&&(32<c.abs(this.co_j.x-pl)||ql<=this.co_j.y)&&this.mSet(pl,ql,100),ol.vy<=-1?ol.pt=144:ol.pt=145,pl+8>=this.co_j.x?ol.pth=0:ol.pth=1;break;case 300:0<ol.c1?(ol.c1++,2==ol.c1||10==ol.c1||18==ol.c1||26==ol.c1?pl+8>=this.co_j.x?this.mSet(pl,ql,200):this.mSet(pl,ql,205):86<ol.c1&&(ol.c1=0)):this.co_j.x>=pl-256&&this.co_j.x<=pl+256&&(ol.c1=1),ol.pt=150,pl+8>=this.co_j.x?ol.pth=0:ol.pth=1;break;case 400:pl-=4,this.maps.getBGCode(pl,ql+32)<=9&&(pl=32*(pl>>5)+32,ol.c=405),20<=this.maps.getBGCode(pl,ql+31)&&(pl=32*(pl>>5)+32,ol.c=405),ol.pt=152+this.g_ac,ol.pth=0;break;case 405:pl+=4,this.maps.getBGCode(pl+31,ql+32)<=9&&(pl=32*(pl+31>>5)-32,ol.c=400),20<=this.maps.getBGCode(pl+31,ql+31)&&(pl=32*(pl+31>>5)-32,ol.c=400),ol.pt=152+this.g_ac,ol.pth=1;break;case 410:pl-=4;var Xl=this.maps.map_bg[pl+15>>5][ql+31>>5];if(10<=Xl&&Xl<=15)ql=32*(ql+31>>5),ql=this.sakamichiY(pl,ql);else{var Yl=ql+32>>5;if(this.maps.map_bg[pl+31>>5][Yl]<=9){pl=32*(pl+31>>5);var $l=this.maps.map_bg[pl+15>>5][ql+31>>5];10<=$l&&$l<=15&&(pl-=15),ol.c=420}if(pl<32)pl<=4&&(ol.c=0);else 20<=this.maps.map_bg[pl>>5][ql+31>>5]&&(pl=32*(pl>>5)+32,ol.c=415,this.maps.map_bg[pl+15>>5][ql+32>>5]<=9&&(ol.c=420));120<=nl&&pl<this.maps.wx-32&&(ol.c=0);var am=this.maps.map_bg[pl+15>>5][Yl];10<=am&&am<=15&&(ql=32*(ql+32>>5),ql=this.sakamichiY(pl,ql))}ol.pt=152+this.g_ac,ol.pth=0;break;case 415:pl+=4;var bm=this.maps.map_bg[pl+15>>5][ql+31>>5];if(10<=bm&&bm<=15)ql=32*(ql+31>>5),ql=this.sakamichiY(pl,ql);else{var cm=ql+32>>5;if(this.maps.map_bg[pl>>5][cm]<=9){pl=32*(pl>>5);var em=this.maps.map_bg[pl+15>>5][ql+31>>5];10<=em&&em<=15&&(pl+=16),ol.c=425}var fm=this.maps.map_bg[pl+31>>5][ql+31>>5];20<=fm&&(pl=32*(pl+31>>5)-32,ol.c=410,this.maps.map_bg[pl+15>>5][ql+32>>5]<=9&&(ol.c=425)),120<=nl&&pl>this.maps.wx+512&&(ol.c=0),10<=(fm=this.maps.map_bg[pl+15>>5][cm])&&fm<=15&&(ql=32*(ql+32>>5),ql=this.sakamichiY(pl,ql))}ol.pt=152+this.g_ac,ol.pth=1;break;case 420:var gm=(ql+=5)+31>>5,hm=this.maps.map_bg[pl>>5][gm],im=this.maps.map_bg[pl+31>>5][gm];(20<=hm||20<=im)&&(ql=32*gm-32,ol.c=410),ql>=this.ochiru_y&&(ol.c=0),ol.pt=152,ol.pth=0;break;case 425:var jm=(ql+=5)+31>>5,km=this.maps.map_bg[pl>>5][jm],lm=this.maps.map_bg[pl+31>>5][jm];(20<=km||20<=lm)&&(ql=32*jm-32,ol.c=415),ql>=this.ochiru_y&&(ol.c=0),ol.pt=152,ol.pth=1;break;case 450:ol.vx<0&&(20<=this.maps.getBGCode(pl,ql)||20<=this.maps.getBGCode(pl,ql+31))&&(pl=32*(pl>>5)+32,ol.vx=0),0<ol.vx&&(20<=this.maps.getBGCode(pl+31,ql)||20<=this.maps.getBGCode(pl+31,ql+31))&&(pl=32*(pl+31>>5)-32,ol.vx=0),pl+=ol.vx,ol.vy+=2,18<ol.vy&&(ol.vy=18);var mm=(ql+=ol.vy)+31>>5,nm=this.maps.map_bg[pl>>5][mm],om=this.maps.map_bg[pl+31>>5][mm];(20<=nm||20<=om)&&(ql=32*mm-32,1==ol.muki?ol.c=415:ol.c=410),ql>=this.ochiru_y&&(ol.c=0),ol.pt=152,ol.pth=ol.muki;break;case 500:ql<=ol.c3?(ol.vy++,4<ol.vy&&(ol.vy=4)):ql>=ol.c4&&(ol.vy--,ol.vy<-4&&(ol.vy=-4)),ql+=ol.vy,ol.pt=147+this.g_ac,this.co_j.x<=pl+8?ol.pth=0:ol.pth=1;break;case 510:(pl-=3)<48?pl<=3&&(ol.c=0):20<=this.maps.getBGCode(pl-16,ql+31)&&(pl=32*(pl-16>>5)+32+16,ol.c=515),ol.pt=147+this.g_ac,ol.pth=0;break;case 515:pl+=3,20<=this.maps.getBGCode(pl+31+16,ql+31)&&(pl=32*(pl+31+16>>5)-32-16,ol.c=510),ol.pt=147+this.g_ac,ol.pth=1;break;case 600:ol.c1<25?(ol.c1++,ol.vy=-17,ol.c3=0,ol.pt=154,ol.pth=0):(0==ol.c3?(ol.vy++,ol.c3=1):(ol.vy+=2,ol.c3=0),17<ol.vy&&(ol.vy=17),ql+=ol.vy,ol.vy<4?ol.pt=155:ol.pt=156,ol.pth=0,(pl-=5)<32?pl<=3&&(ol.c=0):(20<=this.maps.getBGCode(pl+15,ql+6)&&(ql=32*(ql+6>>5)+32-6,ol.vy=0),20<=this.maps.getBGCode(pl+15,ql+31)&&(ql=32*(ql+31>>5)-32,ol.c1=15,ol.pt=154,ol.pth=0),(20<=this.maps.getBGCode(pl,ql+31)||20<=this.maps.getBGCode(pl,ql+8))&&(pl=32*(pl>>5)+32,ol.c=605),120<=nl&&pl<this.maps.wx-32&&(ol.c=0))),ql>=this.ochiru_y&&(ol.c=0);break;case 605:ol.c1<25?(ol.c1++,ol.vy=-17,ol.c3=0,ol.pt=154,ol.pth=1):(0==ol.c3?(ol.vy++,ol.c3=1):(ol.vy+=2,ol.c3=0),17<ol.vy&&(ol.vy=17),ql+=ol.vy,ol.vy<4?ol.pt=155:ol.pt=156,ol.pth=1,pl+=5,20<=this.maps.getBGCode(pl+15,ql+6)&&(ql=32*(ql+6>>5)+32-6,ol.vy=0),20<=this.maps.getBGCode(pl+15,ql+31)&&(ql=32*(ql+31>>5)-32,ol.c1=15,ol.pt=154,ol.pth=1),(20<=this.maps.getBGCode(pl+31,ql+31)||20<=this.maps.getBGCode(pl+31,ql+8))&&(pl=32*(pl+31>>5)-32,ol.c=600),120<=nl&&pl>this.maps.wx+512&&(ol.c=0)),ql>=this.ochiru_y&&(ol.c=0);break;case 650:ol.vx<0&&(20<=this.maps.getBGCode(pl,ql)||20<=this.maps.getBGCode(pl,ql+31))&&(pl=32*(pl>>5)+32,ol.vx=0),0<ol.vx&&(20<=this.maps.getBGCode(pl+31,ql)||20<=this.maps.getBGCode(pl+31,ql+31))&&(pl=32*(pl+31>>5)-32,ol.vx=0),pl+=ol.vx,ol.vy+=2,18<ol.vy&&(ol.vy=18);var pm=(ql+=ol.vy)+31>>5,qm=this.maps.map_bg[pl>>5][pm],rm=this.maps.map_bg[pl+31>>5][pm];(20<=qm||20<=rm)&&(ql=32*pm-32,1==ol.muki?ol.c=605:ol.c=600,ol.c1=15),ql>=this.ochiru_y&&(ol.c=0),ol.vy<4?ol.pt=155:ol.pt=156,ol.pth=ol.muki;break;case 700:this.yachamo_cf||(0<ol.c1?(ol.c1++,2==ol.c1?pl+8>=this.co_j.x?this.mSet(pl,ql,300):this.mSet(pl,ql,305):40<ol.c1&&(ol.c1=0)):this.co_j.x>=pl-256&&this.co_j.x<=pl+192&&96<=c.abs(this.co_j.x-pl)&&(ol.c1=1)),ol.pt=158,pl+8>=this.co_j.x?ol.pth=0:ol.pth=1;break;case 800:0<ol.c1?(ol.c1++,2==ol.c1?pl+8>=this.co_j.x?this.mSet(pl,ql,400):this.mSet(pl,ql,405):20<ol.c1&&(ol.c=810,ol.c1=0)):ol.c1<0?ol.c1++:this.co_j.x>=pl-240&&this.co_j.x<=pl+240&&(ol.c1=1),ol.pt=160,pl+8>=this.co_j.x?ol.pth=0:ol.pth=1;break;case 810:ol.c1<=0?((pl+=3)>=ol.c3+96&&(pl=ol.c3+96,ol.c1=10),this.maps.getBGCode(pl+31,ql+32)<=9&&(pl=32*(pl+31>>5)-32,ol.c1=10),ol.pt=161+this.g_ac,ol.pth=1):ol.c1<=35?(ol.c1++,15==ol.c1&&(pl+8>=this.co_j.x?this.mSet(pl,ql,400):this.mSet(pl,ql,405)),ol.pt=160,pl+8>=this.co_j.x?ol.pth=0:ol.pth=1):((pl-=3)<=ol.c3&&(pl=ol.c3,ol.c=800,ol.c1=-20),this.maps.getBGCode(pl,ql+32)<=9&&(pl=32*(pl>>5)+32,ol.c=800,ol.c1=-20),ol.pt=161+this.g_ac,ol.pth=0);break;case 900:(pl-=4)<48?pl<=4&&(ol.c=0):(ol.c1++,1==ol.c1?this.mSet(pl,ql+19,600):26<ol.c1&&(ol.c1=0),20<=this.maps.getBGCode(pl,ql+31)&&(pl=32*(pl>>5)+32,ol.c=910)),ol.pt=164,ol.pth=0;break;case 910:ol.pt=164,ol.pth=0;break;case 950:(pl-=4)<48?pl<=4&&(ol.c=0):(ol.c1++,1==ol.c1?this.mSet(pl,ql+19,600):26<ol.c1&&(ol.c1=0),20<=this.maps.getBGCode(pl-16,ql+31)&&(pl=32*(pl-16>>5)+32+16,ol.c=960,ol.c1=16)),ol.pt=164,ol.pth=0;break;case 960:pl+=4,ol.c1++,1==ol.c1?this.mSet(pl,ql+19,605):26<ol.c1&&(ol.c1=0),20<=this.maps.getBGCode(pl+31+16,ql+31)&&(pl=32*(pl+31+16>>5)-32-16,ol.c=950,ol.c1=16),ol.pt=164,ol.pth=1;break;case 1e3:(pl-=3)<=ol.c3-256+16&&(ol.c=1005),(20<=this.maps.getBGCode(pl-16,ql)||20<=this.maps.getBGCode(pl-16,ql+31))&&(pl=32*(pl-16>>5)+32+16,ol.c=1005),ol.pt=166,ol.pth=0;break;case 1005:(pl+=3)>=ol.c3+16&&(ol.c=1e3),(20<=this.maps.getBGCode(pl+31+16,ql)||20<=this.maps.getBGCode(pl+31+16,ql+31))&&(pl=32*(pl+31+16>>5)-32-16,ol.c=1e3),ol.pt=166,ol.pth=1;break;case 1100:0<ol.c1?(ol.c1++,77<ol.c1&&(ol.c1=0)):c.abs(this.co_j.x-pl)<=144&&c.abs(this.co_j.y-ql)<=144&&(ol.c1=1,this.mSet2(pl,ql,700,-3,-3),this.mSet2(pl,ql,700,3,-3),this.mSet2(pl,ql,700,-3,3),this.mSet2(pl,ql,700,3,3),this.mSet2(pl,ql,700,-4,0),this.mSet2(pl,ql,700,4,0),this.mSet2(pl,ql,700,0,-4),this.mSet2(pl,ql,700,0,4)),ol.pt=167,pl+8>=this.co_j.x?ol.pth=0:ol.pth=1}if(ol.c<100)ol.x=pl,ol.y=ql;else{var sm=c.abs(pl-this.co_j.x);48<=sm||100<=this.co_j.c&&this.co_j.c<200&&sm<30&&c.abs(ql-this.co_j.y)<23&&(0<this.j_v_c?(1==this.co_j.muki?(ol.pth=0,ol.vx=3):(ol.pth=1,ol.vx=-3),ol.c=52,ol.vy=-30):400<=ol.c&&ol.c<500||1e3<=ol.c&&ol.c<1200?this.jShinu(2):sm<27&&0<this.co_j.vy&&!this.j_mizu_f||ml?(ol.c<200?ol.pt=142:ol.c<300?ol.pt=146:ol.c<400?ol.pt=151:ol.c<600?ol.pt=149:ol.c<700?ol.pt=157:ol.c<800?ol.pt=159:ol.c<900?ol.pt=163:ol.c<1e3&&(ol.pt=165),ol.c=50,ol.c1=0,this.co_j.y=ql-12,this.co_j.vy=-160,this.j_jump_type=1,this.co_j.c=110,this.co_j.c1=0,this.co_j.pt=109,149!=ol.pt&&165!=ol.pt||(this.co_j.vy=-220,ol.c1=-2),ml=!0):this.jShinu(2)),ol.x=pl,ol.y=ql}}},G.prototype.sakamichiY=function(tm,um){var vm=tm+15>>5,wm=um+31>>5,ym=um;switch(this.maps.map_bg[vm][wm]){default:break;case 10:var zm=32*wm-(tm+15)%32;zm<um&&(ym=zm);break;case 11:var Am=32*wm+(tm+15)%32-31;Am<um&&(ym=Am);break;case 12:var Bm=32*wm-((tm+15)%32>>1);Bm<um&&(ym=Bm);break;case 13:var Cm=32*wm-((tm+15)%32>>1)-16;Cm<um&&(ym=Cm);break;case 14:var Dm=32*wm+((tm+15)%32>>1)-31;Dm<um&&(ym=Dm);break;case 15:var Em=32*wm+((tm+15)%32>>1)-15;Em<um&&(ym=Em)}return ym},G.prototype.mSet=function(Fm,Gm,Hm){for(var Im=0;Im<=23;Im++)if(!(0<this.co_m[Im].c)){var Jm=this.co_m[Im];switch(Jm.c=Hm,Jm.x=Fm,Jm.y=Gm,Jm.c1=0,this.m_kazu++,Hm){case 90:Jm.c2=4,Jm.vx=0,Jm.vy=0;break;case 100:var Km=this.co_j.x-Fm,Lm=this.co_j.y-Gm,Mm=c.floor(c.sqrt(Km*Km+Lm*Lm));Mm<48?(this.m_kazu--,Jm.c=0):(Jm.vx=s(14*Km/Mm),Jm.vy=s(14*Lm/Mm),Jm.x+=s(16*Jm.vx/14),Jm.y+=s(16*Jm.vy/14)),!this.dengeki_mkf&&0<Jm.c&&4==this.maps.getBGCode(Jm.x+15,Jm.y+15)&&(this.m_kazu--,Jm.c=0);break;case 200:Jm.vx=-4-this.ranInt(6),Jm.vy=-22,Jm.x+=Jm.vx,Jm.y+=Jm.vy;break;case 205:Jm.c=200,Jm.vx=4+this.ranInt(6),Jm.vy=-22,Jm.x+=Jm.vx,Jm.y+=Jm.vy;break;case 300:Jm.vx=-12,Jm.x+=Jm.vx;break;case 305:Jm.c=300,Jm.vx=12,Jm.x+=Jm.vx;break;case 400:Jm.vx=-80,Jm.vy=-225;break;case 405:Jm.c=400,Jm.vx=80,Jm.vy=-225;break;case 500:Jm.vx=-4,Jm.vy=-22;break;case 600:Jm.vx=-40,Jm.vy=0;break;case 605:Jm.c=600,Jm.vx=40,Jm.vy=0;break;case 2e3:Jm.c3=Gm,Jm.vy=-210;break;case 2010:Jm.c=2e3,Jm.c3=Gm-64,Jm.vy=-280;break;case 2020:Jm.c=2e3,Jm.c3=Gm-32,Jm.vy=-250;break;case 2100:Jm.c2=0;break;case 2110:Jm.c=2100,Jm.c2=1;break;case 2120:Jm.c=2100,Jm.c2=2;break;case 2130:Jm.c=2100,Jm.c2=3;break;case 2140:Jm.c=2100,Jm.c2=4;break;case 2150:Jm.c=2100,Jm.c2=5;break;case 2160:Jm.c=2100,Jm.c2=6;break;case 2170:Jm.c=2100,Jm.c2=7;break;case 2180:Jm.c=2100,Jm.c2=8}break}},G.prototype.mSet2=function(Nm,Om,Pm,Qm,Rm){for(var Sm=0;Sm<=23;Sm++)if(!(0<this.co_m[Sm].c)){var Tm=this.co_m[Sm];switch(Tm.c=Pm,Tm.x=Nm,Tm.y=Om,Tm.vx=Qm,Tm.vy=Rm,Tm.c1=0,this.m_kazu++,Pm){case 500:Tm.x+=Tm.vx;break;case 700:Tm.c2=0;break;case 710:Tm.c=700,Tm.c2=1}break}},G.prototype.mMove=function(){for(var Um=0;Um<=23;Um++)if(0!=this.co_m[Um].c){var Vm=this.co_m[Um];switch(Vm.c){case 50:Vm.c1++,Vm.c1<=5?Vm.pt=80:Vm.c1<=10?Vm.pt=81:Vm.c1<=16?Vm.pt=82:Vm.c=0,Vm.pth=0;break;case 60:Vm.y-=5;var Wm=Vm.y>>5,Xm=this.maps.map_bg[Vm.x+11>>5][Wm];(Xm<=3||20<=Xm)&&(Vm.c=0),((Xm=this.maps.map_bg[Vm.x+20>>5][Wm])<=3||20<=Xm)&&(Vm.c=0),8!=(Xm=this.maps.map_bg[Vm.x+15>>5][Wm])&&9!=Xm||4==this.maps.map_bg[(Vm.x+15>>5)-1][Wm]||(Vm.c=0),(Vm.x<=this.maps.wx-32||Vm.x>=this.maps.wx+512)&&(Vm.c=0),(Vm.y<=this.maps.wy-32||Vm.y>=this.maps.wy+320)&&(Vm.c=0),Vm.pt=85,Vm.pth=0;break;case 70:switch(Vm.c1++,Vm.c1){case 1:Vm.c2=20;break;case 2:Vm.c2=34;break;case 3:Vm.c2=46;break;case 4:Vm.c2=56;break;case 5:Vm.c2=64;break;case 6:Vm.c2=70;break;case 7:Vm.c2=74;break;case 8:Vm.c2=77;break;case 9:Vm.c2=79;break;case 10:Vm.c2=80}if(10<Vm.c1&&(Vm.c2=10,Vm.c=0),100<=this.co_j.c&&this.co_j.c<200){var Ym=this.co_j.x-Vm.x,Zm=this.co_j.y-Vm.y;c.floor(c.sqrt(Ym*Ym+Zm*Zm))<=Vm.c2+4&&this.j_v_c<=0&&this.jShinu(1)}Vm.pt=1100,Vm.pth=0;break;case 80:5<=Vm.vy&&(2<Vm.vx?Vm.vx--:Vm.vx<-2&&Vm.vx++),Vm.x+=Vm.vx,Vm.vy+=4,30<Vm.vy&&(Vm.vy=30),Vm.y+=Vm.vy,Vm.y>=this.maps.wy+320&&(Vm.c=0),Vm.pt=136,Vm.vx<0?Vm.pth=0:Vm.pth=1;break;case 90:if(Vm.c2<48){if(Vm.c2+=4,48<=Vm.c2){Vm.c2=48;var _m=this.co_j.x-Vm.x,an=this.co_j.y-Vm.y,bn=c.floor(c.sqrt(_m*_m+an*an));bn<32||this.co_j.c<100||200<=this.co_j.c?(Vm.x<this.maps.wx+256?Vm.vx=14:Vm.vx=-14,Vm.vy=0):(Vm.vx=s(14*_m/bn),Vm.vy=s(14*an/bn))}}else Vm.x+=Vm.vx,Vm.y+=Vm.vy,Vm.x<=this.maps.wx-32-32||Vm.x>=this.maps.wx+512+128+32?Vm.c=0:(Vm.y<=this.maps.wy-32-200-32||Vm.y>=this.maps.wy+320+32)&&(Vm.c=0);if(100<=this.co_j.c&&this.co_j.c<200){var cn=this.co_j.x-Vm.x,dn=this.co_j.y-Vm.y;c.floor(c.sqrt(cn*cn+dn*dn))+4<=Vm.c2&&(0<this.j_v_c?Vm.c=0:this.jShinu(1))}Vm.pt=1e3;break;case 100:Vm.x+=Vm.vx,Vm.y+=Vm.vy;var fn=Vm.x+15>>5;(20<=this.maps.map_bg[fn][Vm.y+12>>5]||20<=this.maps.map_bg[fn][Vm.y+18>>5])&&(Vm.c=0),this.dengeki_mkf||4!=this.maps.getBGCode(Vm.x+15,Vm.y+15)||(Vm.c=0),Vm.x<=this.maps.wx-32||Vm.x>=this.maps.wx+512+128?Vm.c=0:(Vm.y<=this.maps.wy-32-200||Vm.y>=this.maps.wy+320)&&(Vm.c=0),0==this.g_c1?Vm.pt=120:Vm.pt=121,Vm.pth=0;break;case 200:Vm.x+=Vm.vx,Vm.vy+=2,12<Vm.vy&&(Vm.vy=12);var gn=Vm.vy;switch(gn<-18&&(gn=-18),Vm.y+=gn,Vm.y>=this.maps.wy+320&&(Vm.c=0),this.g_c2){case 0:Vm.pt=122;break;case 1:Vm.pt=123;break;case 2:Vm.pt=124;break;case 3:Vm.pt=125}Vm.pth=0;break;case 300:Vm.x+=Vm.vx;var hn=Vm.y+15>>5;(20<=this.maps.map_bg[Vm.x+8>>5][hn]||20<=this.maps.map_bg[Vm.x+23>>5][hn])&&(Vm.c=0),(Vm.x<=this.maps.wx-32||Vm.x>=this.maps.wx+512+128)&&(Vm.c=0),0==this.g_c1?Vm.pt=126:Vm.pt=127,Vm.vx<=0?Vm.pth=0:Vm.pth=1;break;case 400:Vm.x+=s(Vm.vx/10),Vm.vy+=25,180<Vm.vy&&(Vm.vy=180),Vm.y+=s(Vm.vy/10),Vm.y>=this.maps.wy+320&&(Vm.c=0);var jn=Vm.x+15>>5;20<=this.maps.map_bg[jn][Vm.y+15>>5]&&(Vm.c=0),0==this.g_c1?Vm.pt=128:Vm.pt=129,Vm.vx<=0?Vm.pth=0:Vm.pth=1;break;case 500:5<=Vm.vy&&(2<Vm.vx?Vm.vx--:Vm.vx<-2&&Vm.vx++),Vm.x+=Vm.vx,Vm.vy+=2,12<Vm.vy&&(Vm.vy=12);var kn=Vm.vy;kn<-16&&(kn=-16),Vm.y+=kn,Vm.y>=this.maps.wy+320&&(Vm.c=0),Vm.pt=139,Vm.pth=0;break;case 600:0<Vm.vx?Vm.vx-=2:Vm.vx<0&&(Vm.vx+=2),Vm.x+=s(Vm.vx/10),Vm.vy+=8,200<Vm.vy&&(Vm.vy=200),Vm.y+=s(Vm.vy/10),20<=this.maps.map_bg[Vm.x+15>>5][Vm.y+15>>5]&&(Vm.c=610,Vm.c1=0,Vm.y=32*(Vm.y+15>>5)-16),Vm.x<=this.maps.wx-32-64||Vm.x>=this.maps.wx+512+64?Vm.c=0:(Vm.y<=this.maps.wy-32-200||Vm.y>=this.maps.wy+320)&&(Vm.c=0),28<Vm.vx?(Vm.pt=171,Vm.pth=1):(Vm.vx<-28?Vm.pt=171:Vm.pt=170,Vm.pth=0);break;case 610:Vm.c1++,Vm.c1<=3?Vm.pt=172:Vm.c1<=6?Vm.pt=173:Vm.c1<=9?Vm.pt=174:(Vm.c=0,Vm.pt=198),Vm.pth=0;break;case 700:Vm.x+=Vm.vx,Vm.y+=Vm.vy,Vm.x<=this.maps.wx-32||Vm.x>=this.maps.wx+512+32?Vm.c=0:(Vm.y<=this.maps.wy-64||Vm.y>=this.maps.wy+320+64)&&(Vm.c=0);var ln=this.maps.getBGCode(Vm.x+15,Vm.y+15);0==Vm.c2&&20<=ln&&(Vm.c=0),0==Vm.c2&&ln<=3&&(Vm.c=0),Vm.pt=168+this.g_c1,Vm.pth=0;break;case 800:5<=Vm.vy&&(2<Vm.vx?Vm.vx--:Vm.vx<-2&&Vm.vx++),Vm.x+=Vm.vx,Vm.vy+=4,28<Vm.vy&&(Vm.vy=28),Vm.y+=Vm.vy,Vm.y>=this.maps.wy+320&&(Vm.c=0),20<=this.maps.getBGCode(Vm.x+15,Vm.y+31)&&(Vm.c=70,Vm.y=32*(Vm.y+31>>5)-16,Vm.c1=1,Vm.c2=20),Vm.pt=137+this.g_c1,Vm.vx<0?Vm.pth=0:Vm.pth=1;break;case 2e3:Vm.vy+=30,180<Vm.vy&&(Vm.vy=180),Vm.y+=s(Vm.vy/10),0<=Vm.vy&&Vm.y>=Vm.c3&&(Vm.y=Vm.c3,Vm.vy=0),(Vm.x<=this.maps.wx-32||Vm.x>=this.maps.wx+512)&&(Vm.c=0),Vm.pt=90+this.g_ac2,Vm.pth=0;break;case 2100:(Vm.x<=this.maps.wx-32||Vm.x>=this.maps.wx+512)&&(Vm.c=0),Vm.pt=42+Vm.c2,8==Vm.c2&&(Vm.pt=59),Vm.pth=0;break;case 2200:Vm.x<this.maps.wx?Vm.x=this.maps.wx:Vm.x>this.maps.wx+512-32&&(Vm.x=this.maps.wx+512-32),Vm.y<this.maps.wy+64?Vm.y=this.maps.wy+64:Vm.y>this.maps.wy+224&&(Vm.y=this.maps.wy+224),2<=this.stage_max&&this.stage>=this.stage_max?0==this.g_ac2?Vm.pt=99:Vm.pt=98:0==this.g_ac2?Vm.pt=95:Vm.pt=94,Vm.pth=0}0==Vm.c?this.m_kazu--:100<=this.co_j.c&&this.co_j.c<200&&(2e3<=Vm.c?c.abs(Vm.x-this.co_j.x)<=14&&Vm.y<=this.co_j.y+26&&Vm.y+15>=this.co_j.y&&(this.addScore(5),2100==Vm.c?0==Vm.c2?this.j_fire_f=!0:1==Vm.c2?(this.j_v_c=150,this.j_v_kakudo=0):2==Vm.c2?0<this.time_max&&(this.time+=3e4):3==Vm.c2?this.j_jet_fuel+=80:4==Vm.c2?this.j_helm_f=!0:5==Vm.c2?this.j_tail_f=!0:6==Vm.c2?this.j_drell_f=!0:7==Vm.c2?this.j_gr_kazu++:8==Vm.c2&&this.j_left++:2200==Vm.c&&(this.stage_cc=1,2<=this.stage_max&&this.stage>=this.stage_max?this.addScore(995):this.addScore(95)),Vm.c=0,this.m_kazu--):100<=Vm.c&&c.abs(Vm.x-this.co_j.x)<=23&&c.abs(Vm.y-this.co_j.y)<=28&&(0<this.j_v_c?(Vm.c=0,this.m_kazu--):(this.jShinu(1),800==Vm.c&&(Vm.c=70,Vm.c1=1,Vm.c2=20))))}},G.prototype.jmSet=function(mn,nn,on){for(var pn=0;pn<=1;pn++)if(!(0<this.co_jm[pn].c)){var qn=this.co_jm[pn];switch(qn.c=on,qn.x=mn,qn.y=nn+8,qn.c1=0,this.jm_kazu++,on){case 60:case 65:qn.x=mn+16,qn.y=nn,qn.vx=mn+16,qn.c4=8,this.j_gr_kazu--;break;case 100:qn.vx=s(this.co_j.vx/10)-10,qn.vy=-28,c.abs(qn.vx)<2&&(qn.vx=-2);break;case 105:qn.vx=s(this.co_j.vx/10)+10,qn.vy=-28,c.abs(qn.vx)<2&&(qn.vx=2);break;case 200:qn.vx=s(this.co_j.vx/10)-10,qn.vy=-32,c.abs(qn.vx)<2&&(qn.vx=-2),5!=this.grenade_type&&6!=this.grenade_type||(qn.y=nn,qn.vx=-20,qn.vy=0),this.j_gr_kazu--;break;case 205:qn.c=200,qn.vx=s(this.co_j.vx/10)+10,qn.vy=-35,c.abs(qn.vx)<2&&(qn.vx=2),5!=this.grenade_type&&6!=this.grenade_type||(qn.y=nn,qn.vx=20,qn.vy=0),this.j_gr_kazu--}break}},G.prototype.jmMove=function(){for(var rn=0;rn<=1;rn++)if(0!=this.co_jm[rn].c){var sn=this.co_jm[rn];switch(sn.c){case 50:switch(sn.c1++,sn.c1){case 1:sn.c2=20;break;case 2:sn.c2=34;break;case 3:sn.c2=46;break;case 4:sn.c2=56;break;case 5:sn.c2=64;break;case 6:sn.c2=70;break;case 7:sn.c2=74;break;case 8:sn.c2=77;break;case 9:sn.c2=79;break;case 10:sn.c2=80}10<sn.c1&&(sn.c2=10,sn.c=0);for(var tn=0;tn<=this.t_kazu;tn++)if(100<=this.co_t[tn].c){var un=this.co_t[tn],vn=un.x-sn.x,wn=un.y-sn.y;c.floor(c.sqrt(vn*vn+wn*wn))<=sn.c2+8&&(sn.x>un.x?(un.pth=1,un.vx=-3):(un.pth=0,un.vx=3),un.c=52,un.vy=-25)}if((1==this.grenade_type||5==this.grenade_type)&&100<=this.co_b.c){var yn=this.co_b.x-sn.x,zn=this.co_b.y-sn.y;c.floor(c.sqrt(yn*yn+zn*zn))<=sn.c2+20&&(this.co_b.c<200?(this.co_b.c=67,this.co_b.vy=-24,this.co_b.c1=0,sn.x>this.co_b.x?(this.co_b.muki=1,this.co_b.pt=1005,this.co_b.vx=-4):(this.co_b.muki=0,this.co_b.pt=1e3,this.co_b.vx=4)):this.co_b.c<300?(this.co_b.c=77,this.co_b.vy=-24,this.co_b.c1=0,sn.x>this.co_b.x?(this.co_b.muki=1,this.co_b.pt=1105,this.co_b.vx=-4):(this.co_b.muki=0,this.co_b.pt=1100,this.co_b.vx=4)):(this.co_b.c=87,this.co_b.vy=-24,this.co_b.c1=0,sn.x>this.co_b.x?(this.co_b.muki=1,this.co_b.pt=1205,this.co_b.vx=-4):(this.co_b.muki=0,this.co_b.pt=1200,this.co_b.vx=4)))}sn.pt=1e3,sn.pth=0;break;case 60:sn.y=this.co_j.y,sn.x-=28,sn.x<=this.maps.wx-32&&(sn.x=this.maps.wx-32),0<sn.c4?(sn.c4--,sn.vx=this.co_j.x+16):(sn.vx-=28,sn.vx<=sn.x&&(sn.c=0));for(var Bn=0;Bn<=this.t_kazu;Bn++)if(100<=this.co_t[Bn].c){var Cn=this.co_t[Bn];Cn.x>sn.x-12&&Cn.x<sn.vx+12&&c.abs(Cn.y-sn.y)<24&&(Cn.pth=0,Cn.vx=-3,Cn.c=52,Cn.vy=-25)}3==this.grenade_type&&100<=this.co_b.c&&this.co_b.x>sn.x-24&&this.co_b.x<sn.vx+24&&c.abs(this.co_b.y-sn.y)<36&&(this.co_b.c<200?(this.co_b.c=67,this.co_b.vy=-24,this.co_b.c1=0,this.co_b.muki=1,this.co_b.pt=1005):this.co_b.c<300?(this.co_b.c=77,this.co_b.vy=-24,this.co_b.c1=0,this.co_b.muki=1,this.co_b.pt=1105):(this.co_b.c=87,this.co_b.vy=-24,this.co_b.c1=0,this.co_b.muki=1,this.co_b.pt=1205),this.co_b.vx=-4),(this.co_j.c<100||200<=this.co_j.c)&&(sn.c=0),sn.pt=1200;break;case 65:sn.y=this.co_j.y,sn.x+=28,sn.x>=this.maps.wx+512+32&&(sn.x=this.maps.wx+512+32),0<sn.c4?(sn.c4--,sn.vx=this.co_j.x+16):(sn.vx+=28,sn.vx>=sn.x&&(sn.c=0));for(var Dn=0;Dn<=this.t_kazu;Dn++)if(100<=this.co_t[Dn].c){var En=this.co_t[Dn];En.x>sn.vx-12&&En.x<sn.x+12&&c.abs(En.y-sn.y)<24&&(En.pth=0,En.vx=3,En.c=52,En.vy=-25)}3==this.grenade_type&&100<=this.co_b.c&&this.co_b.x>sn.vx-24&&this.co_b.x<sn.x+24&&c.abs(this.co_b.y-sn.y)<36&&(this.co_b.c<200?(this.co_b.c=67,this.co_b.vy=-24,this.co_b.c1=0,this.co_b.muki=0,this.co_b.pt=1e3):this.co_b.c<300?(this.co_b.c=77,this.co_b.vy=-24,this.co_b.c1=0,this.co_b.muki=0,this.co_b.pt=1100):(this.co_b.c=87,this.co_b.vy=-24,this.co_b.c1=0,this.co_b.muki=0,this.co_b.pt=1200),this.co_b.vx=4),(this.co_j.c<100||200<=this.co_j.c)&&(sn.c=0),sn.pt=1205;break;case 100:sn.x+=sn.vx,20<=this.maps.getBGCode(sn.x+7,sn.y+15)&&(sn.c=0),sn.vy+=5,30<sn.vy&&(sn.vy=30),sn.y+=sn.vy,sn.vy<0&&20<=this.maps.getBGCode(sn.x+15,sn.y+8)&&(sn.c=0),20<=this.maps.getBGCode(sn.x+15,sn.y+23)&&(sn.y=32*(sn.y+23>>5)-24,sn.vy=-28),this.j_fire_mkf||4!=this.maps.getBGCode(sn.x+15,sn.y+15)||(sn.c=0),(sn.x<=this.maps.wx-24||sn.x>=this.maps.wx+512-8||sn.y<=this.maps.wy-128||sn.y>=this.maps.wy+384)&&(sn.c=0),sn.pt=130+this.g_c2,sn.pth=0;break;case 105:sn.x+=sn.vx,20<=this.maps.getBGCode(sn.x+23,sn.y+15)&&(sn.c=0),sn.vy+=5,30<sn.vy&&(sn.vy=30),sn.y+=sn.vy,sn.vy<0&&20<=this.maps.getBGCode(sn.x+15,sn.y+8)&&(sn.c=0),20<=this.maps.getBGCode(sn.x+15,sn.y+23)&&(sn.y=32*(sn.y+23>>5)-24,sn.vy=-28),this.j_fire_mkf||4!=this.maps.getBGCode(sn.x+15,sn.y+15)||(sn.c=0),(sn.x<=this.maps.wx-24||sn.x>=this.maps.wx+512-8||sn.y<=this.maps.wy-128||sn.y>=this.maps.wy+384)&&(sn.c=0),sn.pt=130+this.g_c2,sn.pth=1;break;case 200:sn.x+=sn.vx,5!=this.grenade_type&&6!=this.grenade_type&&(sn.vy+=5,30<sn.vy&&(sn.vy=30),sn.y+=sn.vy,0<sn.vy&&20<=this.maps.getBGCode(sn.x+15,sn.y+31)&&(sn.c=50,sn.y=32*(sn.y+31>>5)-16,sn.c1=1,sn.c2=20)),20<=this.maps.getBGCode(sn.x+15,sn.y+15)&&(sn.c=50,sn.c1=1,sn.c2=20),(sn.x<=this.maps.wx-64||sn.x>=this.maps.wx+512+64||sn.y<=this.maps.wy-128||sn.y>=this.maps.wy+384)&&(sn.c=0),sn.pt=137+this.g_c1,sn.vx<0?sn.pth=0:sn.pth=1}if(0==sn.c)this.jm_kazu--;else if(100<=sn.c)for(var Fn=0;Fn<=this.t_kazu;Fn++)if(!(this.co_t[Fn].c<100)){var Gn=this.co_t[Fn];if(!(22<=c.abs(sn.x-Gn.x)||22<=c.abs(sn.y-Gn.y))){sn.vx<0?(Gn.pth=1,Gn.vx=-3):(Gn.pth=0,Gn.vx=3),Gn.c=52,Gn.vy=-25,200==sn.c?(sn.c=50,sn.c1=1,sn.c2=20):(sn.c=0,this.jm_kazu--);break}}}},G.prototype.aSet=function(Hn,In,Jn,Kn){for(var Ln=0;Ln<=31;Ln++)if(!(0<this.co_a[Ln].c)){var Mn=this.co_a[Ln];switch(Mn.c=Jn,Mn.c1=Kn-512-32,Mn.c2=Kn+128,Mn.x=Hn,Mn.y=In,this.a_kazu++,Jn){case 60:Mn.pt=200;break;case 70:Mn.vx=-3,Mn.c3=0,Mn.c1=Hn-512-150,Mn.c2=Hn+150;break;case 71:Mn.c=70,Mn.vx=3,Mn.c3=0,Mn.c1=Hn-512-150,Mn.c2=Hn+150;break;case 80:Mn.pt=800,Mn.c3=1;break;case 81:Mn.c=80,Mn.pt=800,Mn.c3=2;break;case 82:Mn.c=80,Mn.pt=800,Mn.c3=3;break;case 83:Mn.c=80,Mn.pt=800,Mn.c3=4;break;case 100:Mn.vy=5,Mn.x=Hn+8,Mn.y=In-212,Mn.c3=In-212,Mn.c4=In+2,Mn.pt=100;break;case 110:Mn.vx=-3,Mn.x=Hn+208,Mn.c3=Hn,Mn.c4=Hn+208,Mn.pt=100,Mn.c2=Kn+208+128+32;break;case 115:Mn.c=110,Mn.vx=-3,Mn.x=Hn+208,Mn.c3=Hn,Mn.c4=Hn+208,Mn.pt=100,Mn.c2=Kn+208+128+342+32;break;case 116:Mn.c=110,Mn.vx=3,Mn.x=Hn+320,Mn.c3=Hn+320,Mn.c4=Hn+208+320,Mn.pt=100,Mn.c2=Kn+208+128+320+32;break;case 120:Mn.vx=Hn+160,Mn.vy=In,Mn.x=Hn+8,Mn.y=In,Mn.c3=0,Mn.muki=1,Mn.c1=Mn.vx-512-32-130,Mn.c2=Mn.vx+128+130,Mn.pt=100;break;case 121:Mn.c=120,Mn.vx=Hn+160,Mn.vy=In,Mn.x=Hn+8,Mn.y=In,Mn.c3=0,Mn.muki=0,Mn.c1=Mn.vx-512-32-130,Mn.c2=Mn.vx+128+130,Mn.pt=100;break;case 300:Mn.pt=300,Mn.c3=0,Mn.c4=0;break;case 310:Mn.c=300,Mn.pt=310,Mn.c3=1,Mn.c4=0;break;case 320:Mn.c=300,Mn.pt=320,Mn.c3=2,Mn.c4=0;break;case 330:Mn.c=300,Mn.pt=330,Mn.c3=3,Mn.c4=0;break;case 400:Mn.pt=400,Mn.c3=0,Mn.vy=In;break;case 500:Mn.vy=0,Mn.x=Hn,Mn.y=In,Mn.c3=0,Mn.c4=0,Mn.pt=500;break;case 510:Mn.c=500,Mn.vy=0,Mn.x=Hn,Mn.y=In,Mn.c3=0,Mn.c4=1,Mn.pt=500;break;case 600:Mn.pt=600,Mn.c3=0,Mn.c4=0,Mn.vx=0,Mn.vy=In;break;case 700:Mn.pt=700,Mn.c3=0}break}},G.prototype.aMove=function(){this.j_a_id=-1,this.j_jdai_f=!1,this.a_hf=!1;for(var Pn=0;Pn<=this.a_kazu;Pn++){var Qn=this.co_a[Pn];if(0!=Qn.c)if(this.maps.wx<=Qn.c1||this.maps.wx>=Qn.c2)Qn.gf=!1;else{var Rn=Qn.x,Sn=Qn.y;switch(Qn.c){case 60:Rn>this.maps.wx-80&&Rn<this.maps.wx+512&&Sn>this.maps.wy-96&&Sn<this.maps.wy+320?(Qn.gf=!0,this.a_hf=!0,this.g_c3<=3?Qn.pt=200:Qn.pt=210):Qn.gf=!1;break;case 70:if(Qn.c3+=Qn.vx,Qn.c3<0?Qn.c3+=360:360<=Qn.c3&&(Qn.c3-=360),Rn>this.maps.wx-150&&Rn<this.maps.wx+512+150&&Sn>this.maps.wy-150&&Sn<this.maps.wy+320+150){Qn.gf=!0,this.a_hf=!0,Qn.pt=1100;var Tn=.017453292519943295,Un=Rn+c.floor(25*c.cos(Qn.c3*Tn)),Vn=Sn+c.floor(25*c.sin(Qn.c3*Tn));this.vo_x[Pn][0]=Un,this.vo_y[Pn][0]=Vn;var Wn=Rn+c.floor(140*c.cos(Qn.c3*Tn)),Xn=Sn+c.floor(140*c.sin(Qn.c3*Tn));if(this.vo_x[Pn][1]=Wn,this.vo_y[Pn][1]=Xn,this.vo_x[Pn][2]=Rn+c.floor(31*c.cos(Qn.c3*Tn)),this.vo_y[Pn][2]=Sn+c.floor(31*c.sin(Qn.c3*Tn)),this.vo_x[Pn][3]=Rn+c.floor(134*c.cos(Qn.c3*Tn)),this.vo_y[Pn][3]=Sn+c.floor(134*c.sin(Qn.c3*Tn)),100<=this.co_j.c&&this.co_j.c<200&&this.j_v_c<=0)if(c.abs(Un-Wn)>=c.abs(Vn-Xn)){if(this.co_j.x+15>Un&&this.co_j.x+15<Wn){var Yn=Wn-Un,_n=s((this.co_j.x+15-Un)*(Xn-Vn)/Yn)+Vn;_n>this.co_j.y-12&&_n<this.co_j.y+44&&this.jShinu(1)}else if(this.co_j.x+15>Wn&&this.co_j.x+15<Un){var ao=Un-Wn,eo=s((this.co_j.x+15-Wn)*(Vn-Xn)/ao)+Xn;eo>this.co_j.y-12&&eo<this.co_j.y+44&&this.jShinu(1)}}else if(this.co_j.y+15>Vn&&this.co_j.y+15<Xn){var fo=Xn-Vn,io=s((this.co_j.y+15-Vn)*(Wn-Un)/fo)+Un;io>this.co_j.x-12&&io<this.co_j.x+44&&this.jShinu(1)}else if(this.co_j.y+15>Xn&&this.co_j.y+15<Vn){var jo=Vn-Xn,mo=s((this.co_j.y+15-Xn)*(Un-Wn)/jo)+Wn;mo>this.co_j.x-12&&mo<this.co_j.x+44&&this.jShinu(1)}}else Qn.gf=!1;break;case 80:Rn>this.maps.wx-32&&Rn<this.maps.wx+512&&Sn>this.maps.wy-32&&Sn<this.maps.wy+320?(Qn.gf=!0,this.a_hf=!0,this.co_j.x>=Rn-80&&this.co_j.x<=Rn+64&&c.abs(Sn-this.co_j.y)<32&&(this.hitokoto_c=10,this.hitokoto_num=Qn.c3)):Qn.gf=!1;break;case 100:Rn>this.maps.wx-80-32&&Rn<this.maps.wx+512+32&&Sn>this.maps.wy-16&&Sn<this.maps.wy+320+32?(Qn.gf=!0,this.a_hf=!0,100==this.co_j.c&&this.co_j.x+15>=Rn&&this.co_j.x<=Rn+64&&this.co_j.y==Sn-32&&(this.j_a_id=Pn)):Qn.gf=!1,Sn<=Qn.c3?(Qn.vy++,5<Qn.vy&&(Qn.vy=5)):Sn>=Qn.c4&&(Qn.vy--,Qn.vy<-5&&(Qn.vy=-5)),Sn+=Qn.vy,100==this.co_j.c&&(this.j_a_id==Pn&&(this.co_j.y=Sn-32),Qn.vy<0&&20<=this.maps.getBGCode(this.co_j.x+15,this.co_j.y)&&(this.co_j.y=32*(this.co_j.y>>5)+16,this.jShinu(3)),this.co_j.x+15>=Rn&&this.co_j.x<=Rn+64&&this.co_j.y+31>=Sn&&this.co_j.y<=Sn+13&&(0<Qn.vy?(this.co_j.y=Sn+14,18<=this.maps.getBGCode(this.co_j.x+15,this.co_j.y+31)&&(this.co_j.y=32*(this.co_j.y+31>>5)-32,this.jShinu(3))):(this.co_j.y=Sn-32,this.j_a_id=Pn)));break;case 110:if(Rn>this.maps.wx-80-32&&Rn<this.maps.wx+512+32&&Sn>this.maps.wy-16&&Sn<this.maps.wy+320+32?(Qn.gf=!0,this.a_hf=!0,100==this.co_j.c&&this.co_j.x+15>=Rn&&this.co_j.x<=Rn+64&&this.co_j.y==Sn-32&&(this.j_a_id=Pn)):Qn.gf=!1,Rn<=Qn.c3?(Qn.vx++,3<Qn.vx&&(Qn.vx=3)):Rn>=Qn.c4&&(Qn.vx--,Qn.vx<-3&&(Qn.vx=-3)),Rn+=Qn.vx,100==this.co_j.c){if(this.j_a_id==Pn)if(this.co_j.x+=Qn.vx,0<Qn.vx){var no=this.co_j.x+15>>5,oo=this.co_j.y>>5,po=this.co_j.y+31>>5;(20<=this.maps.map_bg[no][oo]||20<=this.maps.map_bg[no][po])&&(this.co_j.x=32*no-16)}else if(Qn.vx<0){var qo=this.co_j.x+15>>5,ro=this.co_j.y>>5,so=this.co_j.y+31>>5;(20<=this.maps.map_bg[qo][ro]||20<=this.maps.map_bg[qo][so])&&(this.co_j.x=32*qo+32-14)}if(this.co_j.x+15>=Rn&&this.co_j.x<=Rn+64&&this.co_j.y+31>=Sn&&this.co_j.y<=Sn+13)if(0<Qn.vx){this.co_j.x=Rn+65;var to=this.co_j.x+15>>5,uo=this.co_j.y>>5,vo=this.co_j.y+31>>5;(20<=this.maps.map_bg[to][uo]||20<=this.maps.map_bg[to][vo])&&(this.co_j.c=230,this.co_j.x=32*to-32+11,this.co_j.c1=0,this.j_zan_f=!1,this.j_jet_c=0,this.j_v_c=0)}else{this.co_j.x=Rn-16;var wo=this.co_j.x+15>>5,xo=this.co_j.y>>5;this.co_j.y;(20<=this.maps.map_bg[wo][xo]||20<=this.maps.map_bg[wo][xo])&&(this.co_j.c=230,this.co_j.x=32*wo+32-11,this.co_j.c1=0,this.j_zan_f=!1,this.j_jet_c=0,this.j_v_c=0)}}break;case 120:Rn>this.maps.wx-80-32&&Rn<this.maps.wx+512+32&&Sn>this.maps.wy-16&&Sn<this.maps.wy+320+32?(Qn.gf=!0,this.a_hf=!0,100==this.co_j.c&&this.co_j.x+15>=Rn&&this.co_j.x<=Rn+64&&this.co_j.y==Sn-32&&(this.j_a_id=Pn)):Qn.gf=!1,1==Qn.muki?(Qn.c3+=2,360<=Qn.c3&&(Qn.c3-=360)):(Qn.c3-=2,Qn.c3<0&&(Qn.c3+=360));var zo=3.14*Qn.c3/180,Co=Qn.vx+c.floor(126*c.cos(zo))+16-40-Rn,Do=Qn.vy+c.floor(-126*c.sin(zo))+16-7-Sn;if(Sn+=Do,100==this.co_j.c&&(this.j_a_id==Pn&&(this.co_j.y+=Do),Do<0&&20<=this.maps.getBGCode(this.co_j.x+15,this.co_j.y)&&(this.co_j.y=32*(this.co_j.y>>5)+16,this.jShinu(3)),this.co_j.x+15>=Rn&&this.co_j.x<=Rn+64&&this.co_j.y+31>=Sn&&this.co_j.y<=Sn+13&&(0<Do?(this.co_j.y=Sn+14,18<=this.maps.getBGCode(this.co_j.x+15,this.co_j.y+31)&&(this.co_j.y=32*(this.co_j.y+31>>5)-32,this.jShinu(3))):(this.co_j.y=Sn-32,this.j_a_id=Pn))),Rn+=Co,100==this.co_j.c){if(this.j_a_id==Pn)if(this.co_j.x+=Co,0<Co){var Eo=this.co_j.x+15>>5,Fo=this.co_j.y>>5,Go=this.co_j.y+31>>5;(20<=this.maps.map_bg[Eo][Fo]||20<=this.maps.map_bg[Eo][Go])&&(this.co_j.x=32*Eo-16)}else if(Co<0){var Ho=this.co_j.x+15>>5,Io=this.co_j.y>>5,Jo=this.co_j.y+31>>5;(20<=this.maps.map_bg[Ho][Io]||20<=this.maps.map_bg[Ho][Jo])&&(this.co_j.x=32*Ho+32-14)}if(this.co_j.x+15>=Rn&&this.co_j.x<=Rn+64&&this.co_j.y+31>=Sn&&this.co_j.y<=Sn+13)if(0<Co){this.co_j.x=Rn+65;var Ko=this.co_j.x+15>>5,Lo=this.co_j.y>>5,Mo=this.co_j.y+31>>5;(20<=this.maps.map_bg[Ko][Lo]||20<=this.maps.map_bg[Ko][Mo])&&(this.co_j.c=230,this.co_j.x=32*Ko-32+11,this.co_j.c1=0,this.j_zan_f=!1,this.j_jet_c=0,this.j_v_c=0)}else{this.co_j.x=Rn-16;var No=this.co_j.x+15>>5,Oo=this.co_j.y>>5,Po=this.co_j.y+31>>5;(20<=this.maps.map_bg[No][Oo]||20<=this.maps.map_bg[No][Po])&&(this.co_j.c=230,this.co_j.x=32*No+32-11,this.co_j.c1=0,this.j_zan_f=!1,this.j_jet_c=0,this.j_v_c=0)}}break;case 300:Rn>this.maps.wx-96&&Rn<this.maps.wx+512&&Sn>this.maps.wy-64&&Sn<this.maps.wy+320?(Qn.gf=!0,this.a_hf=!0,100==this.co_j.c&&this.co_j.x+15>=Rn&&this.co_j.x<=Rn+48&&this.co_j.y==Sn-32&&(this.j_a_id=Pn,this.co_j.x+15>=Rn+24&&this.co_j.x<=Rn+48-24&&this.co_j.y==Sn-32&&1!=Qn.c4&&(0==this.sl_step||1==this.sl_step||10==this.sl_step||11==this.sl_step||2!=this.dokan_mode)&&(this.co_j.c1=-10,this.co_j.c2=Qn.c3,this.j_zan_f=!1,this.j_jet_c=0,this.j_v_c=0,this.co_j.c=300,this.co_j.x=Rn+16,this.co_j.y=Sn-32,this.co_j.vx=0,this.co_j.vy=0,Qn.c4=1)),100==this.co_j.c&&this.j_a_id!=Pn&&(Qn.c4=0)):Qn.gf=!1;break;case 400:Rn>this.maps.wx-96&&Rn<this.maps.wx+512&&Sn>this.maps.wy-64&&Sn<this.maps.wy+320?(Qn.gf=!0,this.a_hf=!0,100==this.co_j.c&&this.co_j.x+15>=Rn&&this.co_j.x<=Rn+80&&this.co_j.y==Sn-32&&(this.j_a_id=Pn)):Qn.gf=!1,0==Qn.c3?Rn-64<this.co_j.x+15&&Rn+96+64>this.co_j.x+15&&(Qn.c3=1):Qn.c3<100?(Qn.c3++,8<Qn.c3&&(Qn.c3=100)):100==Qn.c3?(Sn+=12)>=Qn.vy+128&&(Sn=Qn.vy+128,Qn.c3=200):200==Qn.c3&&(Sn-=3)<=Qn.vy&&(Sn=Qn.vy,Qn.c3=0,Rn<=this.co_j.x+15&&Rn+96>this.co_j.x+15&&(Qn.c3=100)),100==this.co_j.c&&(this.j_a_id==Pn&&(this.co_j.y=Sn-32,200==Qn.c3&&20<=this.maps.getBGCode(this.co_j.x+15,this.co_j.y)&&(this.co_j.y=32*(this.co_j.y>>5)+16,this.jShinu(3))),this.co_j.x+15>=Rn&&this.co_j.x<=Rn+80&&this.co_j.y+31>=Sn&&this.co_j.y<=Sn+63&&(100==Qn.c3?(this.co_j.y=Sn+64,18<=this.maps.getBGCode(this.co_j.x+15,this.co_j.y+31)&&(this.co_j.y=32*(this.co_j.y+31>>5)-32,this.jShinu(3))):200==Qn.c3&&(this.co_j.y=Sn-32,this.j_a_id=Pn,20<=this.maps.getBGCode(this.co_j.x+15,this.co_j.y)&&(this.co_j.y=32*(this.co_j.y>>5)+16,this.jShinu(3)))));break;case 500:Rn>this.maps.wx-96-32&&Rn<this.maps.wx+512+32&&Sn>this.maps.wy-32&&Sn<=this.maps.wy+368?(Qn.gf=!0,this.a_hf=!0,100==this.co_j.c&&this.co_j.x+15>=Rn&&this.co_j.x<=Rn+80&&this.co_j.y==Sn-32?(this.j_a_id=Pn,1==Qn.c4?Qn.c3<50&&(Qn.c3<=0?Qn.c3=1:Qn.c3<=30?Qn.c3++:(Qn.c3=55,Qn.vy=0)):Qn.c3<=0&&(Qn.c3=51,Qn.vy=0)):1==Qn.c4&&Qn.c3<50&&(Qn.c3=0)):Qn.gf=!1,0<Qn.c3&&(51<=Qn.c3&&Qn.c3<=54?Qn.c3++:55<=Qn.c3&&Qn.c3<100&&(Qn.vy<16&&Qn.vy++,Sn+=Qn.vy,20<=this.maps.getBGCode(Rn+32,Sn+13)&&(Sn=32*(Sn+13>>5)-14,Qn.c3=100),Sn>=this.ochiru_y+48&&(Qn.c=0,Qn.gf=!1))),100==this.co_j.c&&this.j_a_id==Pn&&(this.co_j.y=Sn-32);break;case 600:if(Rn>this.maps.wx-96&&Rn<this.maps.wx+512&&Sn>this.maps.wy-64&&Sn<this.maps.wy+320?(Qn.gf=!0,this.a_hf=!0,100==this.co_j.c&&this.co_j.x+15>=Rn&&this.co_j.x<=Rn+48&&this.co_j.y==Sn+16-32&&(this.j_a_id=Pn)):Qn.gf=!1,Qn.pt=600,Qn.c3<=0?(Qn.vx=0,this.j_a_id==Pn&&(Qn.c3=100,Qn.c4=0,Qn.vx=2),this.co_j.x>=Rn-144&&(Qn.pt=605)):100==Qn.c3?(Qn.c1=Rn-512-32,Qn.c2=Rn+128,this.j_a_id!=Pn?(Qn.c4++,50<Qn.c4&&(Qn.c3=0)):Qn.c4=0,Qn.pt=605):200==Qn.c3&&(Qn.pt=605,Qn.vx=0),Rn+=Qn.vx,(20<=this.maps.getBGCode(Rn+63+16,Sn)||20<=this.maps.getBGCode(Rn+63+16,Sn+32))&&(Rn=32*(Rn+63+16>>5)-64-16,Qn.vx=Rn-Qn.x,Qn.c3=200),100==this.co_j.c){if(this.j_a_id==Pn&&(this.co_j.x+=Qn.vx,0<Qn.vx)){var Qo=this.co_j.x+15>>5,Ro=this.co_j.y>>5,So=this.co_j.y+31>>5;(20<=this.maps.map_bg[Qo][Ro]||20<=this.maps.map_bg[Qo][So])&&(this.co_j.x=32*Qo-16)}this.co_j.x+15>=Rn&&this.co_j.x<=Rn+48&&this.co_j.y+31>=Sn+16&&this.co_j.y<=Sn+47&&(this.co_j.x=Rn+49)}break;case 700:Rn>this.maps.wx-96&&Rn<this.maps.wx+512&&Sn>this.maps.wy-64&&Sn<this.maps.wy+320?(Qn.gf=!0,this.a_hf=!0,100==this.co_j.c&&this.co_j.x+15>=Rn&&this.co_j.x<=Rn+16&&(1<=Qn.c3&&Qn.c3<=2&&this.co_j.y==Sn-32+10?this.j_a_id=Pn:3<=Qn.c3&&Qn.c3<=4&&this.co_j.y==Sn-32+16?this.j_a_id=Pn:5<=Qn.c3&&Qn.c3<=6&&this.co_j.y==Sn-32+10?this.j_a_id=Pn:this.co_j.y==Sn-32&&(this.j_a_id=Pn))):Qn.gf=!1,this.j_a_id==Pn?(this.co_j.vx=0,this.co_j.vy=0,this.co_j.x=Rn,this.j_jdai_f=!0,Qn.c3++,Qn.c3<=2?(Qn.pt=710,this.co_j.y=Sn-32+10):Qn.c3<=4?(Qn.pt=720,this.co_j.y=Sn-32+16):Qn.c3<=6?(Qn.pt=710,this.co_j.y=Sn-32+10):7<=Qn.c3&&(Qn.pt=700,this.co_j.y=Sn-32,Qn.c3=0,this.j_a_id=-1,this.j_jump_type=4,this.co_j.pt=101,this.co_j.ac=0,this.co_j.vy=-255,this.j_jump_level=1,4==this.maps.getBGCode(Rn,Sn)&&(this.co_j.vy=-75))):(Qn.c3=0,Qn.pt=700)}if(0<this.jm_kazu)for(var To=0;To<=1;To++)if(100<=this.co_jm[To].c){var Uo=this.co_jm[To];Qn.c<200?Uo.x+15>=Rn&&Uo.x<=Rn+64&&Uo.y+29>=Sn&&Uo.y+2<=Sn+13&&(200==Uo.c?(Uo.c=50,Uo.y=Sn-8,Uo.c1=1,Uo.c2=20):(Uo.c=0,this.jm_kazu--)):300==Qn.c?Uo.x+15>=Rn&&Uo.x<=Rn+48&&Uo.y+29>=Sn&&Uo.y+2<=Sn+31&&(200==Uo.c?(Uo.c=50,Uo.c1=1,Uo.c2=20):(Uo.c=0,this.jm_kazu--)):400==Qn.c?Uo.x+15>=Rn&&Uo.x<=Rn+80&&Uo.y+29>=Sn&&Uo.y+2<=Sn+63&&(200==Uo.c?(Uo.c=50,Uo.c1=1,Uo.c2=20):(Uo.c=0,this.jm_kazu--)):500==Qn.c&&Uo.x+15>=Rn&&Uo.x<=Rn+80&&Uo.y+29>=Sn&&Uo.y+2<=Sn+13&&(200==Uo.c?(Uo.c=50,Uo.y=Sn-8,Uo.c1=1,Uo.c2=20):(Uo.c=0,this.jm_kazu--))}Qn.x=Rn,Qn.y=Sn}}},G.prototype.bMove=function(){if(!(this.co_b.x>=this.maps.wx+1024)){switch(this.co_b.c){case 40:this.co_b.c1<20&&this.co_b.c1++,15==this.co_b.c1&&this.mSet(this.maps.wx+256,this.maps.wy+128,2200),this.co_b.pt=0;break;case 60:this.co_b.c1++,this.co_b.c4<=0?26<=this.co_b.c1&&(this.co_b.c=40,this.co_b.c1=0,this.addScore(10)):11<=this.co_b.c1&&(this.co_b.c=150),this.co_b.pt=1010;break;case 65:this.co_b.c1++,11<=this.co_b.c1&&(this.co_b.c=155),this.co_b.pt=1015;break;case 67:this.co_b.vy+=4,28<this.co_b.vy&&(this.co_b.vy=28),this.co_b.x+=this.co_b.vx,this.co_b.y+=this.co_b.vy,this.co_b.y>=this.maps.wy+320+16&&(this.co_b.c=40,this.co_b.c1=0,this.addScore(10)),1==this.co_b.muki?this.co_b.pt=1005:this.co_b.pt=1e3;break;case 70:this.co_b.c1++,this.co_b.c4<=0?26<=this.co_b.c1&&(this.co_b.c=40,this.co_b.c1=0,this.addScore(10)):11<=this.co_b.c1&&(this.co_b.c=250),this.co_b.pt=1110;break;case 75:this.co_b.c1++,11<=this.co_b.c1&&(this.co_b.c=255),this.co_b.pt=1115;break;case 77:this.co_b.vy+=4,28<this.co_b.vy&&(this.co_b.vy=28),this.co_b.x+=this.co_b.vx,this.co_b.y+=this.co_b.vy,this.co_b.y>=this.maps.wy+320+16&&(this.co_b.c=40,this.co_b.c1=0,this.addScore(10)),1==this.co_b.muki?this.co_b.pt=1105:this.co_b.pt=1100;break;case 80:this.co_b.c1++,this.co_b.c4<=0?26<=this.co_b.c1&&(this.co_b.c=40,this.co_b.c1=0,this.addScore(10)):11<=this.co_b.c1&&(this.co_b.c=350),this.co_b.pt=1210;break;case 85:this.co_b.c1++,11<=this.co_b.c1&&(this.co_b.c=355),this.co_b.pt=1215;break;case 87:this.co_b.vy+=4,28<this.co_b.vy&&(this.co_b.vy=28),this.co_b.x+=this.co_b.vx,this.co_b.y+=this.co_b.vy,this.co_b.y>=this.maps.wy+320+16&&(this.co_b.c=40,this.co_b.c1=0,this.addScore(10)),1==this.co_b.muki?this.co_b.pt=1205:this.co_b.pt=1200;break;case 100:2!=this.sl_step&&3!=this.sl_step||(this.co_b.c=110,this.co_b.c1=0),this.co_b.pt=1e3;break;case 110:if(2==this.boss_type){var Vo=150;this.co_b.c1++,1==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,Vo,-2):5==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,Vo,-4):7==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,Vo,-6):9==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,Vo,-8):21==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,Vo,-2):91==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,Vo,-2):95==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,Vo,-4):97==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,Vo,-6):99==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,Vo,-8):111==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,Vo,-2):170==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,Vo,-4):180==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,Vo,-2):250<this.co_b.c1&&(this.co_b.c1=250)}else if(3==this.boss_type){var Wo=450;this.co_b.c1++,5==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,Wo,-3):20==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,Wo,-3):35==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,Wo,-3):50==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,Wo,-3):65==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,Wo,-3):80==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,Wo,-3):95==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,Wo,-3):110==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,Wo,-3):250<this.co_b.c1&&(this.co_b.c1=250)}else if(4==this.boss_type){this.co_b.c1++,1==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,650,-5):15==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,650,-3):29==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,650,-2):81==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,650,-5):95==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,650,-3):109==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,650,-2):165==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,650,-3):250<this.co_b.c1&&(this.co_b.c1=250)}else if(this.co_b.c1++,3==this.co_b.c1)this.mSet2(this.co_b.x,this.co_b.y,500,-4,-18),this.mSet2(this.co_b.x,this.co_b.y,500,4,-18);else if(14==this.co_b.c1)this.mSet2(this.co_b.x,this.co_b.y,500,-6,-20),this.mSet2(this.co_b.x,this.co_b.y,500,6,-20);else if(20==this.co_b.c1)this.mSet2(this.co_b.x,this.co_b.y,500,-3,-24),this.mSet2(this.co_b.x,this.co_b.y,500,3,-24);else if(28<=this.co_b.c1&&this.co_b.c1<=98)this.co_b.c1%7==0&&this.mSet2(this.co_b.x,this.co_b.y,500,-15+this.ranInt(20),-30);else if(130==this.co_b.c1){var Yo=this.ranInt(8)+3;this.mSet2(this.co_b.x,this.co_b.y,500,Yo,-30),this.mSet2(this.co_b.x,this.co_b.y,500,-Yo,-30)}else 150<=this.co_b.c1&&(this.co_b.c1=98);this.co_b.pt=1e3;break;case 115:if(2==this.boss_type){var Zo=150;this.co_b.c1++,1==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,Zo,2):5==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,Zo,4):7==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,Zo,6):9==this.co_b.c1&&3!=this.boss_type?this.tSetBoss(this.co_b.x,this.co_b.y,Zo,8):21==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,Zo,2):91==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,Zo,2):95==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,Zo,4):97==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,Zo,6):99==this.co_b.c1&&3!=this.boss_type?this.tSetBoss(this.co_b.x,this.co_b.y,Zo,8):111==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,Zo,2):170==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,Zo,4):180==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,Zo,2):250<this.co_b.c1&&(this.co_b.c1=250)}else if(3==this.boss_type){var $o=450;this.co_b.c1++,5==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,$o,3):20==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,$o,3):35==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,$o,3):50==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,$o,3):65==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,$o,3):80==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,$o,3):95==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,$o,3):110==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,$o,3):250<this.co_b.c1&&(this.co_b.c1=250)}else if(4==this.boss_type){this.co_b.c1++,1==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,650,5):15==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,650,3):29==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,650,2):81==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,650,5):95==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,650,3):109==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,650,2):165==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,650,3):250<this.co_b.c1&&(this.co_b.c1=250)}else if(this.co_b.c1++,3==this.co_b.c1)this.mSet2(this.co_b.x,this.co_b.y,500,-4,-18),this.mSet2(this.co_b.x,this.co_b.y,500,4,-18);else if(14==this.co_b.c1)this.mSet2(this.co_b.x,this.co_b.y,500,-6,-20),this.mSet2(this.co_b.x,this.co_b.y,500,6,-20);else if(20==this.co_b.c1)this.mSet2(this.co_b.x,this.co_b.y,500,-3,-24),this.mSet2(this.co_b.x,this.co_b.y,500,3,-24);else if(28<=this.co_b.c1&&this.co_b.c1<=98)this.co_b.c1%7==0&&this.mSet2(this.co_b.x,this.co_b.y,500,15-this.ranInt(20),-30);else if(130==this.co_b.c1){var ap=this.ranInt(8)+3;this.mSet2(this.co_b.x,this.co_b.y,500,ap,-30),this.mSet2(this.co_b.x,this.co_b.y,500,-ap,-30)}else 150<=this.co_b.c1&&(this.co_b.c1=98);this.co_b.pt=1005;break;case 150:this.co_b.x-=14,this.co_b.x<=this.sl_wx+96&&(this.co_b.x=this.sl_wx+96,this.co_b.c=115,this.co_b.c1=0),this.co_b.pt=1e3;break;case 155:this.co_b.x+=14,this.co_b.x>=this.sl_wx+512-96-32&&(this.co_b.x=this.sl_wx+512-96-32,this.co_b.c=110,this.co_b.c1=0),this.co_b.pt=1005;break;case 200:2!=this.sl_step&&3!=this.sl_step||(this.co_b.c=210,this.co_b.c1=0),this.co_b.pt=1100;break;case 210:if(this.co_b.c1++,2==this.boss2_type)if(10==this.co_b.c1||85==this.co_b.c1||215==this.co_b.c1)for(var bp=0;bp<=7;bp++){var cp=45*bp*3.14/180,dp=c.floor(8*c.cos(cp)),ep=-1*c.floor(8*c.sin(cp));this.mSet2(this.co_b.x,this.co_b.y-8,710,dp,ep)}else if(35==this.co_b.c1||110==this.co_b.c1||295==this.co_b.c1)for(var fp=0;fp<=7;fp++){var gp=3.14*(45*fp+15)/180,hp=c.floor(8*c.cos(gp)),ip=-1*c.floor(8*c.sin(gp));this.mSet2(this.co_b.x,this.co_b.y-8,710,hp,ip)}else if(60==this.co_b.c1||135==this.co_b.c1||375==this.co_b.c1)for(var jp=0;jp<=7;jp++){var kp=3.14*(45*jp+30)/180,lp=c.floor(8*c.cos(kp)),mp=-1*c.floor(8*c.sin(kp));this.mSet2(this.co_b.x,this.co_b.y-8,710,lp,mp)}else 445<this.co_b.c1&&(this.co_b.c1=0);else 5==this.co_b.c1||35==this.co_b.c1||65==this.co_b.c1||110==this.co_b.c1||185==this.co_b.c1?this.mSet(this.co_b.x,this.co_b.y,90):185<this.co_b.c1&&(this.co_b.c1=110);this.co_b.pt=1100;break;case 215:if(this.co_b.c1++,2==this.boss2_type)if(10==this.co_b.c1||85==this.co_b.c1||215==this.co_b.c1)for(var np=0;np<=7;np++){var op=45*np*3.14/180,pp=c.floor(8*c.cos(op)),qp=-1*c.floor(8*c.sin(op));this.mSet2(this.co_b.x,this.co_b.y-8,710,pp,qp)}else if(35==this.co_b.c1||110==this.co_b.c1||295==this.co_b.c1)for(var rp=0;rp<=7;rp++){var sp=3.14*(45*rp+15)/180,tp=c.floor(8*c.cos(sp)),up=-1*c.floor(8*c.sin(sp));this.mSet2(this.co_b.x,this.co_b.y-8,710,tp,up)}else if(60==this.co_b.c1||135==this.co_b.c1||375==this.co_b.c1)for(var vp=0;vp<=7;vp++){var wp=3.14*(45*vp+30)/180,xp=c.floor(8*c.cos(wp)),yp=-1*c.floor(8*c.sin(wp));this.mSet2(this.co_b.x,this.co_b.y-8,710,xp,yp)}else 445<this.co_b.c1&&(this.co_b.c1=0);else 5==this.co_b.c1||35==this.co_b.c1||65==this.co_b.c1||110==this.co_b.c1||185==this.co_b.c1?this.mSet(this.co_b.x,this.co_b.y,90):185<this.co_b.c1&&(this.co_b.c1=110);this.co_b.pt=1105;break;case 250:this.co_b.x-=14,this.co_b.x<=this.sl_wx+96&&(this.co_b.x=this.sl_wx+96,this.co_b.c=215,this.co_b.c1=0),this.co_b.pt=1100;break;case 255:this.co_b.x+=14,this.co_b.x>=this.sl_wx+512-96-32&&(this.co_b.x=this.sl_wx+512-96-32,this.co_b.c=210,this.co_b.c1=0),this.co_b.pt=1105;break;case 300:2!=this.sl_step&&3!=this.sl_step||(2<=this.boss3_type&&this.boss3_type<=4?(this.co_b.c=360,this.co_b.vy=-24):this.co_b.c=310,this.co_b.c1=0),this.co_b.pt=1200;break;case 310:this.co_b.c1++,1==this.co_b.c1?this.mSet2(this.co_b.x,this.co_b.y,800,-5,-32):15==this.co_b.c1?(this.mSet2(this.co_b.x,this.co_b.y,800,-10,-32),this.co_j.x>this.co_b.x-64&&(this.co_b.c1=500)):29==this.co_b.c1?this.mSet2(this.co_b.x,this.co_b.y,800,-15,-32):65==this.co_b.c1?this.mSet2(this.co_b.x-2,this.co_b.y,800,-20,-32):80==this.co_b.c1?this.mSet2(this.co_b.x,this.co_b.y,800,-5,-32):105==this.co_b.c1?this.mSet2(this.co_b.x,this.co_b.y,800,-15,-32):147==this.co_b.c1?this.mSet2(this.co_b.x,this.co_b.y,800,-10,-32):237==this.co_b.c1?this.co_b.c1=0:520==this.co_b.c1?this.mSet2(this.co_b.x,this.co_b.y,800,4,-32):530==this.co_b.c1?(this.mSet2(this.co_b.x,this.co_b.y,800,-5,-32),this.co_b.c1=1):530<this.co_b.c1&&(this.co_b.c1=1),this.co_b.pt=1200;break;case 315:this.co_b.c1++,1==this.co_b.c1?this.mSet2(this.co_b.x,this.co_b.y,800,5,-32):15==this.co_b.c1?(this.mSet2(this.co_b.x,this.co_b.y,800,10,-32),this.co_j.x<this.co_b.x+64&&(this.co_b.c1=500)):29==this.co_b.c1?this.mSet2(this.co_b.x,this.co_b.y,800,15,-32):65==this.co_b.c1?this.mSet2(this.co_b.x+2,this.co_b.y,800,20,-32):80==this.co_b.c1?this.mSet2(this.co_b.x,this.co_b.y,800,5,-32):105==this.co_b.c1?this.mSet2(this.co_b.x,this.co_b.y,800,15,-32):147==this.co_b.c1?this.mSet2(this.co_b.x,this.co_b.y,800,10,-32):237==this.co_b.c1?this.co_b.c1=0:520==this.co_b.c1?this.mSet2(this.co_b.x,this.co_b.y,800,-4,-32):530==this.co_b.c1?(this.mSet2(this.co_b.x,this.co_b.y,800,5,-32),this.co_b.c1=1):530<this.co_b.c1&&(this.co_b.c1=1),this.co_b.pt=1205;break;case 350:this.co_b.x-=14,this.co_b.x<=this.sl_wx+96&&(this.co_b.x=this.sl_wx+96,2<=this.boss3_type&&this.boss3_type<=4?(this.co_b.c=365,this.co_b.vy=-24):this.co_b.c=315,this.co_b.c1=0),this.co_b.pt=1200;break;case 355:this.co_b.x+=14,this.co_b.x>=this.sl_wx+512-96-32&&(this.co_b.x=this.sl_wx+512-96-32,2<=this.boss3_type&&this.boss3_type<=4?(this.co_b.c=360,this.co_b.vy=-24):this.co_b.c=310,this.co_b.c1=0),this.co_b.pt=1205;break;case 360:this.co_b.pt=1200,this.co_b.c1<5?this.co_b.c1++:this.co_b.c1<25?(this.co_b.c1++,this.co_b.pt=1250):25==this.co_b.c1?(3==this.boss3_type?(this.co_b.x-=18,this.co_b.x<=this.sl_wx+16&&(this.co_b.x=this.sl_wx+16,this.co_b.c1=30)):4==this.boss3_type?(this.co_b.x-=3,this.co_b.vy+=2,24<this.co_b.vy&&(this.co_b.vy=24),this.co_b.y+=this.co_b.vy,this.co_b.y>=this.boss_kijyun_y&&(this.co_b.y=this.boss_kijyun_y,this.co_b.vy=-24,this.co_b.x<=this.sl_wx+16&&(this.co_b.c1=30))):(this.co_b.x-=12,this.co_b.x<=this.sl_wx+16&&(this.co_b.x=this.sl_wx+16,this.co_b.c1=30)),this.co_b.pt=1250):30==this.co_b.c1?(3==this.boss3_type?(this.co_b.x+=18,this.co_b.x>=this.sl_wx+512-48&&(this.co_b.x=this.sl_wx+512-48,this.co_b.c1=40)):4==this.boss3_type?(this.co_b.x+=4,this.co_b.vy+=2,24<this.co_b.vy&&(this.co_b.vy=24),this.co_b.y+=this.co_b.vy,this.co_b.y>=this.boss_kijyun_y&&(this.co_b.y=this.boss_kijyun_y,this.co_b.vy=-24,this.co_b.x>=this.sl_wx+512-48&&(this.co_b.c1=40))):(this.co_b.x+=8,this.co_b.x>=this.sl_wx+512-48&&(this.co_b.x=this.sl_wx+512-48,this.co_b.c1=40)),this.co_b.pt=1255):40==this.co_b.c1&&(this.co_b.x-=2,this.co_b.x<=this.sl_wx+512-96-32&&(this.co_b.x=this.sl_wx+512-96-32,this.co_b.c1=-20));break;case 365:this.co_b.pt=1205,this.co_b.c1<5?this.co_b.c1++:this.co_b.c1<25?(this.co_b.c1++,this.co_b.pt=1255):25==this.co_b.c1?(3==this.boss3_type?(this.co_b.x+=18,this.co_b.x>=this.sl_wx+512-48&&(this.co_b.x=this.sl_wx+512-48,this.co_b.c1=30)):4==this.boss3_type?(this.co_b.x+=3,this.co_b.vy+=2,24<this.co_b.vy&&(this.co_b.vy=24),this.co_b.y+=this.co_b.vy,this.co_b.y>=this.boss_kijyun_y&&(this.co_b.y=this.boss_kijyun_y,this.co_b.vy=-24,this.co_b.x>=this.sl_wx+512-48&&(this.co_b.c1=30))):(this.co_b.x+=12,this.co_b.x>=this.sl_wx+512-48&&(this.co_b.x=this.sl_wx+512-48,this.co_b.c1=30)),this.co_b.pt=1255):30==this.co_b.c1?(3==this.boss3_type?(this.co_b.x-=18,this.co_b.x<=this.sl_wx+16&&(this.co_b.x=this.sl_wx+16,this.co_b.c1=40)):4==this.boss3_type?(this.co_b.x-=4,this.co_b.vy+=2,24<this.co_b.vy&&(this.co_b.vy=24),this.co_b.y+=this.co_b.vy,this.co_b.y>=this.boss_kijyun_y&&(this.co_b.y=this.boss_kijyun_y,this.co_b.vy=-24,this.co_b.x<=this.sl_wx+16&&(this.co_b.c1=40))):(this.co_b.x-=8,this.co_b.x<=this.sl_wx+16&&(this.co_b.x=this.sl_wx+16,this.co_b.c1=40)),this.co_b.pt=1250):40==this.co_b.c1&&(this.co_b.x+=2,this.co_b.x>=this.sl_wx+96&&(this.co_b.x=this.sl_wx+96,this.co_b.c1=-20))}if(100<=this.co_j.c&&this.co_j.c<200&&100<=this.co_b.c&&c.abs(this.co_b.x-this.co_j.x)<42&&this.co_j.y>this.co_b.y-20&&this.co_j.y<this.co_b.y+40&&(1250==this.co_b.pt||1255==this.co_b.pt?this.jShinu(2):c.abs(this.co_b.x-this.co_j.x)<34&&0<this.co_j.vy?(this.co_b.c<200?(this.co_b.c4--,1==this.co_b.c4?(this.co_b.c=65,this.co_b.c1=0,this.co_b.pt=1015):(this.co_b.c=60,this.co_b.c1=0,this.co_b.pt=1010)):this.co_b.c<300?(this.co_b.c4--,1==this.co_b.c4?(this.co_b.c=75,this.co_b.c1=0,this.co_b.pt=1115):(this.co_b.c=70,this.co_b.c1=0,this.co_b.pt=1110)):(this.co_b.c4--,1==this.co_b.c4?(this.co_b.c=85,this.co_b.c1=0,this.co_b.pt=1215):(this.co_b.c=80,this.co_b.c1=0,this.co_b.pt=1210)),this.co_j.y=this.co_b.y,this.co_j.vy=-320,this.j_jump_type=1,this.co_j.c=110,this.co_j.c1=-4,this.co_j.pt=109):this.jShinu(2)),0<this.jm_kazu&&100<=this.co_b.c)for(var zp=0;zp<=1;zp++)if(100<=this.co_jm[zp].c){var Ap=this.co_jm[zp];c.abs(this.co_b.x-Ap.x)<34&&c.abs(this.co_b.y-Ap.y)<30&&(200==Ap.c?(Ap.c=50,Ap.c1=1,Ap.c2=20,1!=this.grenade_type&&5!=this.grenade_type||(this.co_b.c<200?(this.co_b.c=67,this.co_b.vy=-24,this.co_b.c1=0,Ap.vx<0?(this.co_b.muki=1,this.co_b.pt=1005,this.co_b.vx=-4):(this.co_b.muki=0,this.co_b.pt=1e3,this.co_b.vx=4)):this.co_b.c<300?(this.co_b.c=77,this.co_b.vy=-24,this.co_b.c1=0,Ap.vx<0?(this.co_b.muki=1,this.co_b.pt=1105,this.co_b.vx=-4):(this.co_b.muki=0,this.co_b.pt=1100,this.co_b.vx=4)):(this.co_b.c=87,this.co_b.vy=-24,this.co_b.c1=0,Ap.vx<0?(this.co_b.muki=1,this.co_b.pt=1205,this.co_b.vx=-4):(this.co_b.muki=0,this.co_b.pt=1200,this.co_b.vx=4)))):(Ap.c=0,this.jm_kazu--))}}},G.prototype.hSet=function(Bp,Cp,Dp){for(var Ep=0;Ep<=63;Ep++)if(!(0<this.co_h[Ep].c)){var Fp=this.co_h[Ep];Fp.c=Dp,Fp.x=Bp,Fp.y=Cp;break}},G.prototype.hAttack=function(Gp,Hp){for(var Ip=0;Ip<=63;Ip++){var Jp=this.co_h[Ip];if(0!=Jp.c&&Jp.x==Gp&&Jp.y==Hp){switch(Jp.c){case 100:this.mSet(32*Gp,32*Hp-32,2e3);break;case 200:this.mSet(32*Gp,32*Hp-32,2010),this.mSet(32*Gp,32*Hp-32,2020),this.mSet(32*Gp,32*Hp-32,2e3);break;case 300:this.mSet(32*Gp,32*Hp-32,2100);break;case 400:this.mSet(32*Gp,32*Hp-32,2110);break;case 500:this.mSet(32*Gp,32*Hp-32,2120);break;case 600:this.mSet(32*Gp,32*Hp-32,2130);break;case 700:this.mSet(32*Gp,32*Hp-32,2140);break;case 800:this.mSet(32*Gp,32*Hp-32,2150);break;case 900:this.mSet(32*Gp,32*Hp-32,2160);break;case 1e3:this.mSet(32*Gp,32*Hp-32,2170);break;case 1100:this.mSet(32*Gp,32*Hp-32,2180),this.stage_1up_f[this.stage-1]=!1}this.maps.putBGCode(Gp,Hp,41),Jp.c=0;break}}},H.prototype.init=function(){this.wx=0,this.wy=0,this.os2_wx=0;for(var Pp=this.os2_wy=0;Pp<this.height;Pp++)for(var Qp=0;Qp<this.width;Qp++)this.map_bg[Qp][Pp]=0;for(Pp=0;Pp<this.height;Pp++)this.map_string[Pp]=this.bg_space},H.prototype.setBank=function(Rp){var Sp;Sp=1==Rp?40:2==Rp?50:4==Rp?60:30;for(var Tp=0;Tp<=9;Tp++)this.gg.spt_img[0][10+Tp]=this.gg.spt_img[0][Sp+Tp]},H.prototype.drawMap=function(Up,Vp){this.wx=Up,this.wy=Vp;var Wp=this.wx%32,Xp=this.wy%32;this.os2_wx=this.wx>>5,this.os2_wy=this.wy>>5,this.gg.fill2();for(var Yp=0;Yp<=10;Yp++)for(var Zp=0;Zp<=16;Zp++){0<this.map_bg[this.os2_wx+Zp][this.os2_wy+Yp]&&this.gg.drawPT2(32+32*Zp,32+32*Yp,this.map_bg[this.os2_wx+Zp][this.os2_wy+Yp])}this.gg.os_g.drawImage(this.gg.os2_img,-32-Wp,-32-Xp,this.gg.ap)},H.prototype.drawMapScroll=function(_p){var aq=this.wx%32,bq=this.wy%32,cq=this.wx>>5,dq=this.wy>>5;if(cq>this.os2_wx+1||cq<this.os2_wx-1||dq>this.os2_wy+1||dq<this.os2_wy-1)this.drawMap(this.wx,this.wy);else if(dq>this.os2_wy)if(cq>this.os2_wx){this.g2.copyArea(64,64,544,352,-32,-32),this.os2_wx=cq,this.os2_wy=dq;for(var eq=0;eq<=16;eq++)0<this.map_bg[this.os2_wx+eq][this.os2_wy+10]&&this.g2.drawImage(this.hi[this.map_bg[this.os2_wx+eq][this.os2_wy+10]],32+32*eq,352,this.ap);for(eq=0;eq<=9;eq++)0<this.map_bg[this.os2_wx+16][this.os2_wy+eq]&&this.g2.drawImage(this.hi[this.map_bg[this.os2_wx+16][this.os2_wy+eq]],544,32+32*eq,this.ap)}else if(cq<this.os2_wx){this.g2.copyArea(0,64,544,352,32,-32),this.os2_wx=cq,this.os2_wy=dq;for(eq=0;eq<=16;eq++)0<this.map_bg[this.os2_wx+eq][this.os2_wy+10]&&this.g2.drawImage(this.hi[this.map_bg[this.os2_wx+eq][this.os2_wy+10]],32+32*eq,352,this.ap);for(eq=0;eq<=9;eq++)0<this.map_bg[this.os2_wx][this.os2_wy+eq]&&this.g2.drawImage(this.hi[this.map_bg[this.os2_wx][this.os2_wy+eq]],32,32+32*eq,this.ap)}else{this.g2.copyArea(32,64,544,352,0,-32),this.os2_wy=dq;for(eq=0;eq<=16;eq++)0<this.map_bg[this.os2_wx+eq][this.os2_wy+10]&&this.g2.drawImage(this.hi[this.map_bg[this.os2_wx+eq][this.os2_wy+10]],32+32*eq,352,this.ap)}else if(dq<this.os2_wy)if(cq>this.os2_wx){this.g2.copyArea(64,0,544,352,-32,32),this.os2_wx=cq,this.os2_wy=dq;for(eq=0;eq<=16;eq++)0<this.map_bg[this.os2_wx+eq][this.os2_wy]&&this.g2.drawImage(this.hi[this.map_bg[this.os2_wx+eq][this.os2_wy]],32+32*eq,32,this.ap);for(eq=1;eq<=10;eq++)0<this.map_bg[this.os2_wx+16][this.os2_wy+eq]&&this.g2.drawImage(this.hi[this.map_bg[this.os2_wx+16][this.os2_wy+eq]],544,32+32*eq,this.ap)}else if(cq<this.os2_wx){this.g2.copyArea(0,0,544,352,32,32),this.os2_wx=cq,this.os2_wy=dq;for(eq=0;eq<=16;eq++)0<this.map_bg[this.os2_wx+eq][this.os2_wy]&&this.g2.drawImage(this.hi[this.map_bg[this.os2_wx+eq][this.os2_wy]],32+32*eq,32,this.ap);for(eq=1;eq<=10;eq++)0<this.map_bg[this.os2_wx][this.os2_wy+eq]&&this.g2.drawImage(this.hi[this.map_bg[this.os2_wx][this.os2_wy+eq]],32,32+32*eq,this.ap)}else{this.g2.copyArea(32,0,544,352,0,32),this.os2_wy=dq;for(eq=0;eq<=16;eq++)0<this.map_bg[this.os2_wx+eq][this.os2_wy]&&this.g2.drawImage(this.hi[this.map_bg[this.os2_wx+eq][this.os2_wy]],32+32*eq,32,this.ap)}else if(cq>this.os2_wx){this.g2.copyArea(64,32,544,352,-32,0),this.os2_wx=cq;for(eq=0;eq<=10;eq++)0<this.map_bg[this.os2_wx+16][this.os2_wy+eq]&&this.g2.drawImage(this.hi[this.map_bg[this.os2_wx+16][this.os2_wy+eq]],544,32+32*eq,this.ap)}else if(cq<this.os2_wx){this.g2.copyArea(0,32,544,352,32,0),this.os2_wx=cq;for(eq=0;eq<=10;eq++)0<this.map_bg[this.os2_wx][this.os2_wy+eq]&&this.g2.drawImage(this.hi[this.map_bg[this.os2_wx][this.os2_wy+eq]],32,32+32*eq,this.ap)}var fq=this.hi[90+_p];for(eq=0;eq<=10;eq++)for(var gq=0;gq<=16;gq++)switch(this.map_bg[this.os2_wx+gq][this.os2_wy+eq]){case 5:4==this.map_bg[this.os2_wx+gq][this.os2_wy+eq-1]&&(this.gg.drawBG2(32+32*gq,32+32*eq,4),this.gg.drawPT2(32+32*gq,32+32*eq,5));break;case 6:4==this.map_bg[this.os2_wx+gq][this.os2_wy+eq+1]&&(this.gg.drawBG2(32+32*gq,32+32*eq,4),this.gg.drawPT2(32+32*gq,32+32*eq,6));break;case 7:0==_p||2==_p?this.gg.drawBG2(32+32*gq,32+32*eq,96):this.gg.drawBG2(32+32*gq,32+32*eq,97);break;case 8:0==_p?4==this.map_bg[this.os2_wx+gq-1][this.os2_wy+eq]?(this.gg.drawBG2(32+32*gq,32+32*eq,4),2<=this.mp.stage_max&&this.mp.stage>=this.mp.stage_max?this.gg.drawPT2(32+32*gq,32+32*eq,99):this.gg.drawPT2(32+32*gq,32+32*eq,95)):2<=this.mp.stage_max&&this.mp.stage>=this.mp.stage_max?this.gg.drawBG2(32+32*gq,32+32*eq,99):this.gg.drawBG2(32+32*gq,32+32*eq,95):4==this.map_bg[this.os2_wx+gq-1][this.os2_wy+eq]?(this.gg.drawBG2(32+32*gq,32+32*eq,4),2<=this.mp.stage_max&&this.mp.stage>=this.mp.stage_max?this.gg.drawPT2(32+32*gq,32+32*eq,98):this.gg.drawPT2(32+32*gq,32+32*eq,94)):2<=this.mp.stage_max&&this.mp.stage>=this.mp.stage_max?this.gg.drawBG2(32+32*gq,32+32*eq,98):this.gg.drawBG2(32+32*gq,32+32*eq,94);break;case 9:4==this.map_bg[this.os2_wx+gq-1][this.os2_wy+eq]?this.gg.drawBG2(32+32*gq,32+32*eq,4):(this.g2.setColor(this.gg.backcolor),this.gg.os2_g.fillRect(32+32*gq,32+32*eq,32,32)),this.gg.os2_g.drawImage(fq,32+32*gq,32+32*eq,this.gg.ap)}this.gg.os_g.drawImage(this.gg.os2_img,-32-aq,-32-bq,this.ap)},H.prototype.getBGCode=function(hq,iq){return this.map_bg[hq>>5][iq>>5]},H.prototype.putBGCode=function(jq,kq,lq){this.map_bg[jq][kq]=lq,this.os2_wx<=jq&&this.os2_wx+16>=jq&&this.os2_wy<=kq&&this.os2_wy+10>=kq&&this.gg.drawBG2(32*(jq-this.os2_wx)+32,32*(kq-this.os2_wy)+32,lq)},I.prototype.__repaint=function(){this.update(this.__appimg.getGraphics()),this.__canvas.getContext("2d").drawImage(this.__appimg._dat,0,0)},I.prototype.init=function(){},I.prototype.start=function(){null==this.th&&(this.th=1);var rq=this.getParameter("game_speed");this.th_interval=parseInt(rq),isNaN(this.th_interval)&&(this.th_interval=70),this.th_interval<1?this.th_interval=1:300<this.th_interval&&(this.th_interval=300),this.th_jm=10},I.prototype.stop=function(){null!=this.th&&(this.th=null)},I.prototype.destroy=function(){},I.prototype.paint=function(sq){sq.drawImage(this.gg.os_img,0,0,this)},I.prototype.update=function(tq){this.paint(tq)},I.prototype.run=function(){if(10==this.th_jm)this.init_j(),this.mp.start(),this.th_jm-=1,sleepTime=70;else if(6==this.th_jm){var uq=0;this.gg.apt_img._loaded?uq=1:this.gg.apt_img._error&&(uq=2),0!=uq&&(this.th_jm-=1)}else 2==this.th_jm?(this.gg.cut(),this.th_jm-=1,sleepTime=70):2<=this.th_jm?(this.th_jm-=1,sleepTime=70):(100==this.mp.ml_mode?this.mp.mL100():this.mp.mainLoop(),this.userSub(this.gg.os_g,this.gg.os_img));this.__repaint()},I.prototype.init_j=function(){this.gg=new e(this),this.gg.setBackcolor(D.black);var wq,vq=this.getParameter("filename_title");if(this.gg.addListImage(0,vq),vq=this.getParameter("filename_ending"),this.gg.addListImage(1,vq),vq=this.getParameter("filename_gameover"),this.gg.addListImage(2,vq),vq=this.getParameter("stage_select"),wq=parseInt(vq),isNaN(wq)&&(wq=-1),2==wq){var xq=this.getParameter("filename_chizu");this.gg.addListImage(3,xq)}this.gg.loadImage(),this.gm=new i;var yq=this.gm;this.__canvas.addEventListener("mousedown",function(Bq){var za;Bq.stopImmediatePropagation(),l.focus.focus(this),za=Bq,yq.mousePressed(za)}.bind(this)),this.__canvas.addEventListener("mouseup",function(Cq){var Ba;Ba=Cq,yq.mouseReleased(Ba)}),this.gk=new f;var zq=this.gk,Aq=function(Dq){var ra;l.focus.hasFocus(this)&&(ra=Dq,zq.keyPressed(ra))}.bind(this);b.addEventListener("keydown",Aq),this.__game.__resourceList.push({type:"eventListener",target:b,name:"keydown",value:Aq}),Aq=function(Eq){var ta;l.focus.hasFocus(this)&&(ta=Eq,zq.keyReleased(ta))}.bind(this),b.addEventListener("keyup",Aq),this.__game.__resourceList.push({type:"eventListener",target:b,name:"keyup",value:Aq}),this.mp=new G(this.gg,this.gm,this.gk),this.mp.addHighscoreEvent(this.options.highscoreCallback),this.userInit()},I.prototype.userInit=function(){},I.prototype.userSub=function(Fq,Gq){},I.prototype.getImage=function(Hq){var Iq=new z;return Iq.load(Hq),Iq},I.prototype.createImage=function(Jq,Kq){return new z(Jq,Kq)},I.prototype.getParameter=function(Mq){var Nq=(Mq+"").toLowerCase();return void 0===this.params[Nq]?null:this.params[Nq]+""};var J={};return J.CharacterObject=d,J.GameGraphics=e,J.GameKey=f,J.GameMouse=i,J.Game=l,J.IdouGamen=y,J.ImageBuff=z,J.KeyboardMenu=F,J.MainProgram=G,J.MapSystem=H,J.MasaoConstruction=I,J}(window,document,Math);