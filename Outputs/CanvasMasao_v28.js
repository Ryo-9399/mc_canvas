var CanvasMasao=function(a,b,c){function d(){this.c=0,this.x=0,this.y=0,this.vx=0,this.vy=0,this.wx=0,this.wy=0,this.c1=0,this.c2=0,this.c3=0,this.c4=0,this.c5=0,this.pt=0,this.pth=0,this.img=null,this.zs_x=0,this.zs_y=0,this.ac=0,this.level=0,this.jimen_f=!1,this.muki=0,this.direction=0,this.score=0,this.ss=0,this.gf=!1}function e(L){this.spt_kazu_x=10,this.spt_kazu_y=25,this.spt_h_kijyun=3,this.spt_kazu=250,this.li=new Array(10),this.spt_img=r(2,this.spt_kazu),this.ap=L,this.di=new q(512,320),this.backcolor=D.black,this.os_img=this.ap.createImage(this.di.width,this.di.height),this.os_g=this.os_img.getGraphics(),this.os2_img=this.ap.createImage(this.di.width+96,this.di.height+96),this.os2_g=this.os2_img.getGraphics(),this.mt=[],str=this.ap.getParameter("filename_pattern"),this.apt_img=this.ap.getImage(str)}function f(){this.key_code=0,this.up_f=!1,this.down_f=!1,this.left_f=!1,this.right_f=!1,this.tr1_f=!1,this.tr2_f=!1,this.tr3_f=!1,this.start_f=!1,this.x_f=!1,this.z_f=!1,this.space_f=!1,this.left_c=0,this.right_c=0,this.up_c=0,this.down_c=0,this.tr1_c=0,this.codekey_f=new Array(256),this.left_right_lock=!1}function i(){this.button_f=!1,this.click_x=0,this.click_y=0,this.init=function(){this.button_f=!1,this.click_x=0,this.click_y=0}}function l(Ca,Da,Ea){var Fa=u();if((Ea=Ea||{}).width=Ea.width||512,Ea.height=Ea.height||320,Ea.extensions=Ea.extensions||[],Da?this.__boxID=Da:(this.__boxID="__mcdiv"+Fa,b.write("<div id='"+this.__boxID+"'></div>")),this.__canvasID="__mccanvas"+Fa,this.__padDivID="__mcpaddiv"+Fa,this.__box=b.getElementById(this.__boxID),this.__resourceList=[],this.__canvas=b.createElement("canvas"),this.__canvas.id=this.__canvasID,this.__canvas.width=Ea.width,this.__canvas.height=Ea.height,this.__canvas.textContent="※お使いのブラウザはHTML5に対応していないため表示できません。",this.__box.appendChild(this.__canvas),this.__padDiv=b.createElement("div"),this.__padDiv.id=this.__padDivID,this.__box.appendChild(this.__padDiv),this.__canvas&&this.__canvas.getContext){if(this.__pad_before=[],this.__pad_after=[],this.__pad_touches=[],a.TouchEvent){var Ga,Ha=b.createElement("input");Ha.type="button",Ha.value="バーチャル操作パッド 表示 / 非表示",(Ga=Ha.style).width="24em",Ga.height="2.5em",Ha.onclick=function(){"inline"==Ia.style.display?Ia.style.display="none":l.padAccessor.show(Ia)},this.__padDiv.appendChild(Ha),this.__padDiv.appendChild(b.createElement("br"));var Ia=this.__pad=b.createElement("canvas");Ia.width=500,Ia.height=200;var Ja=function(Qa){this.__pad_event(Qa)}.bind(this);Ia.addEventListener("touchstart",Ja,!1),Ia.addEventListener("touchmove",Ja,!1),Ia.addEventListener("touchend",Ja,!1),Ia.addEventListener("touchcancel",Ja,!1),Ia.style.display="none",this.__padDiv.appendChild(Ia),(Ga=Ia.style).position="absolute";var Ka=setInterval(function(){var Ra=innerWidth,Sa=innerHeight,Ta=Ra<Sa?Ra:Sa;Ia.style.width=Ra+"px",Ia.style.height=Ta*l.pad.style.rate+"px",Ia.style.left=scrollX+"px",l.pad.avoidAD?Ia.style.top=scrollY+Sa-Ta*l.pad.style.rate-.16*Ta+"px":Ia.style.top=scrollY+Sa-Ta*l.pad.style.rate+"px",this.__pad_update()}.bind(this),500);this.__resourceList.push({type:"setInterval",value:Ka}),l.padAccessor.append(Ia),this.__pad_off=b.createElement("canvas"),this.__pad_off.width=500,this.__pad_off.height=200;var La=this.__pad_off.getContext("2d");La.font="24px monospace",La.textAlign="center",La.textBaseline="middle",La.lineWidth=2,La.lineCap="round",La.lineJoin="round";for(var Ma=0;Ma<8;Ma++)this.__pad_before[Ma]=!1,this.__pad_after[Ma]=!1;this.__pad_update()}this.__mc=new I(Ca,this.__canvas,this,Ea||{});for(Ma=0;Ma<Ea.extensions.length;Ma++)Ea.extensions[Ma].inject(this.__mc,Ea);this.__mc.start();var Na=this.__st=this.__mc.getParameter("game_speed");Na?(Na=parseInt(Na),isNaN(Na)?Na=70:Na<10?Na=10:300<Na&&(Na=300)):Na=70,this.__pt=0;var Pa=new(Ea["custom-loop"]||v)(this,!!Ea["bc-loop-setinterval"]);Pa.start(Na,this.__loop.bind(this)),this.__resourceList.push({type:"Loop",value:Pa})}}var ob,rb;function q(rc,sc){this.width=rc,this.height=sc}function r(){if(0==arguments.length)return null;for(var tc=new Array(arguments.length),uc=0;uc<arguments.length;uc++)tc[uc]=arguments[uc];return function wc(xc){var yc=new Array(xc[0]);if(1==xc.length)return yc;for(var zc=xc.slice(1),Ac=0;Ac<xc[0];Ac++)yc[Ac]=wc(zc);return yc}(tc)}function s(Bc){return 0<=Bc?c.floor(Bc):-c.floor(-Bc)}function u(){return c.random().toString(36).slice(2)}function v(Ec,Fc){this.game=Ec,this.forceSetInterval=Fc,this.running=!1,this.interval=null,this.callback=null,this.mode=0,this.prevTime=null,this.timerid=null,this._loop=this._loop.bind(this)}d.prototype.init=function(){this.c=0,this.x=0,this.y=0,this.vx=0,this.vy=0,this.wx=0,this.wy=0,this.c1=0,this.c2=0,this.c3=0,this.c4=0,this.c5=0,this.pt=0,this.pth=0,this.img=null,this.zs_x=0,this.zs_y=0,this.ac=0,this.level=0,this.jimen_f=!1,this.muki=0,this.direction=0,this.score=0,this.ss=0,this.gf=!1},d.prototype.setPattern=function(K){},e.prototype.cut=function(){var N,Q,R,S;for(Q=0;Q<=this.spt_kazu_y-1;Q++)for(R=0;R<=this.spt_kazu_x-1;R++)N=10*Q+R,this.spt_img[0][N]=new z(32,32),(S=this.spt_img[0][N].getGraphics()).drawImage(this.apt_img,32*R,32*Q,32,32,0,0,32,32,null),Q>=this.spt_h_kijyun?(this.spt_img[1][N]=new z(32,32),(S=this.spt_img[1][N].getGraphics()).scale(-1,1),S.drawImage(this.apt_img,32*R,32*Q,32,32,-32,0,32,32,null)):this.spt_img[1][N]=this.spt_img[0][N];this.hi=this.spt_img[0]},e.prototype.addListImage=function(T,U){this.li[T]=this.ap.getImage(U),this.mt.push(this.li[T])},e.prototype.loadImage=function(){},e.prototype.copyOS=function(V){V.drawImage(this.os_img,0,0,this.ap)},e.prototype.fill=function(){this.os_g.setColor(this.backcolor),this.os_g.fillRect(0,0,this.di.width,this.di.height)},e.prototype.fill2=function(){this.os2_g.setColor(this.backcolor),this.os2_g.fillRect(0,0,this.di.width+96,this.di.height+96)},e.prototype.setBackcolor=function(W){this.backcolor=W},e.prototype.drawPT=function(X,Y,Z,$){this.os_g.drawImage(this.spt_img[$][Z],X,Y,this.ap)},e.prototype.drawPT2=function(_,aa,ba){this.os2_g.drawImage(this.hi[ba],_,aa,this.ap)},e.prototype.drawBG2=function(ca,da,ea){this.os2_g.setColor(this.backcolor),this.os2_g.fillRect(ca,da,32,32),this.os2_g.drawImage(this.hi[ea],ca,da,this.ap)},e.prototype.drawBG3=function(fa,ga,ha,ia){this.os2_g.setColor(ia),this.os2_g.fillRect(fa,ga,32,32),this.os2_g.drawImage(this.hi[ha],fa,ga,this.ap)},e.prototype.drawListImage=function(ja,ka,la){this.os_g.drawImage(this.li[la],ja,ka,this.ap)},f.prototype.init=function(){this.key_code=0,this.up_f=!1,this.down_f=!1,this.left_f=!1,this.right_f=!1,this.tr1_f=!1,this.tr2_f=!1,this.tr3_f=!1,this.start_f=!1,this.x_f=!1,this.z_f=!1,this.space_f=!1,this.left_c=0,this.right_c=0,this.up_c=0,this.down_c=0,this.tr1_c=0,this.left_right_lock=!1;for(var ma=0;ma<=255;ma++)this.codekey_f[ma]=!1},f.prototype.keyPressed=function(na){switch(this.key_code=na.keyCode,this.key_char=na.keyCode,0<=this.key_code&&this.key_code<=255&&(this.codekey_f[this.key_code]=!0),this.key_code){case 38:na.preventDefault(),this.up_f=!0;break;case 40:na.preventDefault(),this.down_f=!0,this.tr2_f=!0;break;case 37:na.preventDefault(),this.left_right_lock||(this.left_f=!0);break;case 39:na.preventDefault(),this.left_right_lock||(this.right_f=!0);break;case 104:na.preventDefault(),this.up_f=!0;break;case 98:na.preventDefault(),this.down_f=!0,this.tr2_f=!0;break;case 100:na.preventDefault(),this.left_right_lock||(this.left_f=!0);break;case 102:na.preventDefault(),this.left_right_lock||(this.right_f=!0);break;case 90:na.preventDefault(),this.tr1_f=!0,this.z_f=!0;break;case 88:na.preventDefault(),this.tr2_f=!0,this.x_f=!0;break;case 67:na.preventDefault(),this.tr3_f=!0;break;case 32:na.preventDefault(),this.tr1_f=!0,this.space_f=!0,this.tr1_c=0;break;case 83:na.preventDefault(),this.start_f=!0}},f.prototype.keyReleased=function(oa){var pa=oa.keyCode;switch(0<=pa&&pa<=255&&(this.codekey_f[pa]=!1),pa){case 38:this.up_f=!1;break;case 40:this.down_f=!1,this.tr2_f=!1;break;case 37:this.left_right_lock||(this.left_f=!1,this.left_c=0);break;case 39:this.left_right_lock||(this.right_f=!1,this.right_c=0);break;case 104:this.up_f=!1;break;case 98:this.down_f=!1,this.tr2_f=!1;break;case 100:this.left_right_lock||(this.left_f=!1,this.left_c=0);break;case 102:this.left_right_lock||(this.right_f=!1,this.right_c=0);break;case 90:this.tr1_f=!1,this.z_f=!1,this.tr1_c=0;break;case 88:this.tr2_f=!1,this.x_f=!1;break;case 67:this.tr3_f=!1;break;case 32:this.tr1_f=!1,this.space_f=!1,this.tr1_c=0;break;case 83:this.start_f=!1}},f.prototype.getKeyCode=function(){return this.key_code},i.prototype.mousePressed=function(ua){var va=ua.target,wa=va.getBoundingClientRect();this.button_f=!0,this.click_x=(ua.clientX-wa.left)/wa.width*va.width,this.click_y=(ua.clientY-wa.top)/wa.height*va.height},i.prototype.mouseReleased=function(xa){this.button_f=!1},l.replaceAll=function(Ua){function Va(){for(var Wa=b.getElementsByTagName("applet"),Xa=[],Ya=0;Ya<Wa.length;Ya++)Xa.push(Wa[Ya]);for(Ya=0;Ya<Xa.length;Ya++){var Za=Xa[Ya];(Za.getAttribute("code")||"").match(/masaoconstruction/i)&&l.replaceByDom(Za,Ua)}var _a=b.getElementsByTagName("object"),ab=[];for(Ya=0;Ya<_a.length;Ya++)ab.push(_a[Ya]);for(Ya=0;Ya<ab;Ya++){var bb=ab[Ya],cb=bb.getElementsByName("code")[0];cb.tagName.match(/param/i)&&cb.value.match(/masaoconstruction/i)&&l.replaceByDom(bb,Ua)}}"complete"==b.readyState?Va():a.addEventListener("load",Va)},l.replace=function(db,eb){function fb(){l.replaceByDom(b.getElementById(db),eb)}"complete"==b.readyState?fb():a.addEventListener("load",fb)},l.replaceByDom=function(gb,hb){for(var ib=gb.getElementsByTagName("param"),jb=ib.length,kb={},lb=0;lb<jb;lb++)kb[ib[lb].name]=ib[lb].value;var mb=b.createElement("div"),nb=gb.id||u();mb.id=nb,gb.parentNode.replaceChild(mb,gb),new l(kb,nb,hb)},l.focus=(b.addEventListener("mousedown",function(){ob=null}),{focus:function(pb){ob=pb},hasFocus:function(qb){return ob===qb}}),l.padAccessor=(rb=[],{append:function(sb){rb.push(sb)},show:function(tb){for(var ub=0;ub<rb.length;ub++)tb!==rb[ub]?rb[ub].style.display="none":tb.style.display="inline"}}),l.prototype.kill=function(){this.__mc.stop();for(var vb=this.__resourceList,wb=0,xb=vb.length;wb<xb;wb++)"setInterval"===vb[wb].type?clearInterval(vb[wb].value):"eventListener"===vb[wb].type?vb[wb].target.removeEventListener(vb[wb].name,vb[wb].value):"Loop"===vb[wb].type&&vb[wb].value.stop();for(this.__resourceList=[];this.__box.hasChildNodes();)this.__box.removeChild(this.__box.firstChild)},l.prototype.__loop=function(){var yb=(new Date).getTime();if(!(yb-this.__pt<this.__st)){if(this.__pt=yb-10,this.__testCanvas){var Ab,zb=this.__testCanvas.getContext("2d");if(zb.fillStyle="rgb(128,0,128)",zb.fillRect(0,0,700,700),zb.strokeStyle="#f00",this.__mc.gg)for(zb.save(),zb.scale(.5,.5),zb.drawImage(this.__mc.gg.os_img._dat,0,0),zb.drawImage(this.__mc.gg.os2_img._dat,576,0),zb.restore(),zb.beginPath(),Ab=0;Ab<700;Ab+=32)zb.moveTo(0,Ab),zb.lineTo(700,Ab),zb.moveTo(Ab,0),zb.lineTo(Ab,700);zb.stroke()}if(this.__testDiv&&this.__mc.mp){var Db,Eb,Bb=this.__mc.mp,Cb="<div style='text-align:left'>";for(Db in Bb)"[object Array]"!=(Eb=Object.prototype.toString.call(Bb[Db]))&&"[object Function]"!=Eb&&(Db in this.__teo?0<this.__teo[Db].t?(Cb+="<span style='background-color:rgba(255,255,255,"+this.__teo[Db].t/6+")'>"+Db+": "+Bb[Db]+"</span> ",this.__teo[Db].t--):Cb+=Db+": "+Bb[Db]+" ":this.__teo[Db]={val:Bb[Db],t:0},this.__teo[Db].val!=Bb[Db]&&(this.__teo[Db].val=Bb[Db],this.__teo[Db].t=6));this.__testDiv.innerHTML=Cb+"</div>"}this.__mc.run()}},l.prototype.__pad_update=function(){var Jb,Kb,Lb,Mb,Nb,Ob,Fb=this.__pad.getBoundingClientRect(),Gb=Fb.left,Hb=Fb.top,Ib=this.__pad_off.getContext("2d"),Pb=l.pad.coords.length;for(Ib.clearRect(0,0,500,200),Ib.fillStyle=l.pad.style.back,Ib.fillRect(0,0,500,200),Ib.fillStyle=l.pad.style.button,Jb=0;Jb<Pb;Jb++){for(Ib.beginPath(),Lb=(Mb=l.pad.coords[Jb]).length>>1,Ib.moveTo(Mb[0],Mb[1]),Kb=0;Kb<Lb;Kb++)Ib.lineTo(Mb[Kb<<1],Mb[1+(Kb<<1)]);Ib.closePath(),Ib.fill()}for(Jb=0;Jb<Pb;Jb++)this.__pad_after[Jb]=!1;for(Ib.fillStyle=l.pad.style.active,Jb=0;Jb<Pb;Jb++){for(Ib.beginPath(),Lb=(Mb=l.pad.coords[Jb]).length>>1,Ib.moveTo(Mb[0],Mb[1]),Kb=0;Kb<Lb;Kb++)Ib.lineTo(Mb[Kb<<1],Mb[1+(Kb<<1)]);for(Kb in Ib.closePath(),this.__pad_touches)Nb=this.__pad_touches[Kb].clientX-Gb,Ob=this.__pad_touches[Kb].clientY-Hb,this.__pad_after[Jb]|=Ib.isPointInPath(Nb/Fb.width*500,Ob/Fb.height*200);this.__pad_after[Jb]&&Ib.fill()}for(Ib.strokeStyle=l.pad.style.border,Ib.fillStyle=l.pad.style.text,Jb=0;Jb<Pb;Jb++){for(Ib.beginPath(),Lb=(Mb=l.pad.coords[Jb]).length>>1,Ib.moveTo(Mb[0],Mb[1]),Kb=1;Kb<Lb;Kb++)Ib.lineTo(Mb[Kb<<1],Mb[1+(Kb<<1)]);Ib.closePath(),Ib.stroke(),Lb=Qb(Mb),Ib.fillText(l.pad.chars[Jb],Lb[0],Lb[1])}for(Ib.stroke(),(Ib=this.__pad.getContext("2d")).clearRect(0,0,500,200),Ib.drawImage(this.__pad_off,0,0),Jb=0;Jb<Pb;Jb++)this.__pad_before[Jb]!=this.__pad_after[Jb]&&(this.__pad_before[Jb]=this.__pad_after[Jb],this.__pad_after[Jb]?this.__pad_pressed(Jb):this.__pad_released(Jb));function Qb(Rb){var Sb,Ub,Vb,Wb,Xb,Yb,Zb,$b,_b,ac,dc,Tb=Rb.length>>1;if($b=Ub=Rb[0],_b=Vb=Rb[1],1==Tb)return[$b,_b];if($b=($b+(Wb=Rb[2]))/2,_b=(_b+(Xb=Rb[3]))/2,2==Tb)return[$b,$b];for(Yb=Rb[4],Zb=Rb[5],ac=c.abs((Wb-Ub)*(Zb-Vb)-(Xb-Vb)*(Yb-Ub))/2,$b=(Ub+Wb+Yb)/3,_b=(Vb+Xb+Zb)/3,Sb=3;Sb<Tb;Sb++)Wb=Yb,Xb=Zb,Yb=Rb[Sb<<1],Zb=Rb[1+(Sb<<1)],$b=(ac*$b+(dc=c.abs((Wb-Ub)*(Zb-Vb)-(Xb-Vb)*(Yb-Ub))/2)*((Ub+Wb+Yb)/3))/(ac+dc),_b=(ac*_b+dc*((Vb+Xb+Zb)/3))/(ac+dc),ac=dc;return[$b,_b]}},l.prototype.__pad_pressed=function(ec){if(this.__mc.gk){var fc=l.pad.codes[ec];this.__mc.gk.keyPressed({keyCode:fc,preventDefault:function(){}})}},l.prototype.__pad_released=function(gc){if(this.__mc.gk){var hc=l.pad.codes[gc];this.__mc.gk.keyReleased({keyCode:hc,preventDefault:function(){}})}},l.prototype.__pad_event=function(ic){ic.preventDefault(),this.__pad_touches=[];for(var jc=0;jc<ic.touches.length;jc++)this.__pad_touches.push(ic.touches[jc]);this.__pad_update()},l.pad={coords:[[410,30,490,30,490,170,410,170],[320,30,400,30,400,170,320,170],[250,30,290,30,290,70,250,70],[200,30,240,30,240,70,200,70],[5,60,87,60,87,140,5,140],[175,60,93,60,93,140,175,140],[30,5,30,80,150,80,150,5],[30,195,30,120,150,120,150,195]],chars:["X","Z","T","P","←","→","↑","↓"],codes:[88,90,84,80,37,39,38,40],style:{rate:.4,back:"rgba(0, 0, 0, 0)",button:"rgba(128, 128, 128, 0.5)",active:"rgba(0, 0, 0, 0.5)",text:"black",border:"black"},avoidAD:!1},v.prototype.start=function(Gc,Hc){this.running=!0,this.interval=Gc,this.callback=Hc;var Ic=w();this.targetTime=Ic+Gc,this.prevTime=Ic,a.requestAnimationFrame&&!this.forceSetInterval?this.mode=1:this.mode=0,0===this.mode&&(this.timerid=setInterval(this._loop,Gc)),this._next()},v.prototype.stop=function(){this.running&&(this.running=!1,1===this.mode?cancelAnimationFrame(this.timerid):clearInterval(this.timerid))},v.prototype._next=function(){1===this.mode&&(this.timerid=requestAnimationFrame(this._loop))},v.prototype._loop=function(){if(this.running){var Mc=w();500<=Mc-this.prevTime&&(this.targetTime=Mc-1);var Nc=c.ceil((Mc-this.targetTime)/this.interval);for(this.targetTime+=this.interval*Nc;0<Nc&&(this.callback(),Nc--,!(2<w()-Mc)););if(0<Nc){var Oc=this;x(function Pc(Qc){for(;0<Nc&&0<Qc.timeRemaining();)Oc.callback(),Nc--;0<Nc&&!Qc.didTimeout&&x(Pc,{timeout:1e3})},{timeout:1e3})}this._next(),this.prevTime=Mc}};var w=a.performance&&performance.now?performance.now.bind(performance):Date.now?Date.now.bind(Date):function(){return 1e3*(new Date).getTime()},x="function"==typeof requestIdleCallback?requestIdleCallback:"function"==typeof setImmediate?function(Rc){setImmediate(function(){var Sc=w();Rc({didTimeout:!1,timeRemaining:function(){return 50+Sc-w()}})})}:function(Uc){setTimeout(function(){var Vc=w();Uc({didTimeout:!1,timeRemaining:function(){return 50+Vc-w()}})},1)};function y(Xc,Yc,Zc,$c){this.gg=Xc,this.gk=Yc,this.km=Zc,this.mp=$c,this.co_j=new d,this.map_string=new Array(9),this.map_bg=r(15,9),this.stage_c=new Array(10),this.stage_x=new Array(10),this.stage_y=new Array(10),this.stage_cf=new Array(10),this.ie_c=new Array(16),this.ie_x=new Array(16),this.ie_y=new Array(16),this.zure_x=16,this.zure_y=24,this.mp_mode=0,this.cc_p1_x=new Array(17),this.cc_p1_y=new Array(17),this.cc_p2_x=new Array(17),this.cc_p2_y=new Array(17),this.cc_p1_x[13]=-200,this.cc_p1_y[13]=160,this.cc_p1_x[14]=-200,this.cc_p1_y[14]=520,this.cc_p1_x[15]=712,this.cc_p1_y[15]=520,this.cc_p1_x[16]=712,this.cc_p1_y[16]=160,this.cc_p2_x[13]=712,this.cc_p2_y[13]=160,this.cc_p2_x[14]=712,this.cc_p2_y[14]=-200,this.cc_p2_x[15]=-200,this.cc_p2_y[15]=-200,this.cc_p2_x[16]=-200,this.cc_p2_y[16]=160}function z(Md,Nd){if(2==arguments.length){this._dat=b.createElement("canvas"),this._dat.width=Md,this._dat.height=Nd,this._width=Md,this._height=Nd;var Od=this._dat.getContext("2d");Od.lineWidth=1.6,Od.lineCap="round",Od.save()}else this._dat=null,this._width=-1,this._height=-1;this._loaded=!1,this._error=!1,this._g=null}function B(Sd){Sd.onerror()}function C(Td){this._ctx=Td._dat.getContext("2d"),this._ctx&&(this._ctx.restore(),this._ctx.save()),this._color=D.black,this._font=new E(E.DIALOG,E.PLAIN,10)}function D(qf,rf,sf,tf){this.r=255<qf?255:qf<0?0:qf,this.g=255<rf?255:rf<0?0:rf,this.b=255<sf?255:sf<0?0:sf,4==arguments.length?this.a=255<tf?255:tf<0?0:tf:this.a=255}function E(uf,vf,wf){this._name=uf,this._style=vf,this._size=wf}function F(xf,yf,zf){this.gg=xf,this.gk=yf,this.name_crys=zf,this.hi=this.gg.spt_img[0],this.hih=this.gg.spt_img,this.hg=this.gg.os_g,this.ap=this.gg.ap,this.c=new Array(16),this.x=new Array(16),this.y=new Array(16),this.width=new Array(16),this.selectedIndex=new Array(16),this.item_kazu=new Array(16),this.message=new Array(16),this.item=r(16,16),this.item_int=r(16,16),this.item_color=new Array(16),this.list_IDlist=new Array(16),this.aw=-1,this.mode=0,this.kettei_c=0,this.cancel_c=0,this.initAll()}function G(wh,xh,yh){this.ran_seed=void 0,this.ml_mode=0,this.ml_mode_c=0,this.score=0,this.highscore=0,this.score_1up_1=0,this.score_1up_2=0,this.score_1up_1_para=0,this.score_1up_2_para=0,this.score_v=!0,this.stage=1,this.stage_cc=0,this.stage_max=1,this.stage_kaishi=1,this.g_c1=0,this.g_c2=0,this.g_c3=0,this.g_ac=0,this.g_ac2=0,this.tr1_c=0,this.tr2_c=0,this.left_dcc=0,this.right_dcc=0,this.co_t=new Array(130),this.co_m=new Array(24),this.co_a=new Array(32),this.co_h=new Array(64),this.co_jm=new Array(2),this.vo_x=r(32,4),this.vo_y=r(32,4),this.j_zan_x=new Array(6),this.j_zan_y=new Array(6),this.j_zan_pt=new Array(6),this.j_zan_pth=new Array(6),this.vo_pa_x=new Array(6),this.vo_pa_y=new Array(6),this.stage_1up_f=new Array(3),this.shop_item_name=new Array(16),this.shop_item_teika=new Array(16),this.door_score=10,this.gg=wh,this.gm=xh,this.gk=yh,this.maps=new H(200,100,this.gg,this),this.km=new F(this.gg,this.gk,"まさお"),this.co_j=new d;for(var zh=0;zh<=129;zh++)this.co_t[zh]=new d;for(var Ah=0;Ah<=23;Ah++)this.co_m[Ah]=new d;for(var Bh=0;Bh<=31;Bh++)this.co_a[Bh]=new d;for(var Ch=0;Ch<=63;Ch++)this.co_h[Ch]=new d;for(var Dh=0;Dh<=1;Dh++)this.co_jm[Dh]=new d;this.co_b=new d,2==this.paraInt("stage_select")?(this.stage_select=2,this.stage_max=4):this.stage_select=1,this.ig=new y(this.gg,this.gk,this.km,this),this.ranInit(),this.hi=this.gg.spt_img[0],this.hih=this.gg.spt_img,this.hg=this.gg.os_g,this.ap=this.gg.ap,this.init1()}function H(Vp,Wp,Xp,Yp){this.width=Vp,this.height=Wp,this.gg=Xp,this.mp=Yp,this.map_bg=r(this.width,this.height),this.map_string=new Array(this.height),this.bg_space="",this.hi=this.gg.spt_img[0],this.g2=this.gg.os2_g,this.ap=this.gg.ap;for(var Zp=0;Zp<=this.width;Zp++)this.bg_space+=".";this.init()}function I(xq,yq,zq,Aq){this.th_interval=70,this.th_jm=10,this.params=xq,this.__canvas=yq,this.__appimg=new z(512,320),this.__game=zq,this.options=Aq}y.prototype.worldInit=function(){var _c;for(_c=0;_c<=9;_c++)this.stage_c[_c]=0,this.stage_cf[_c]=!1;for(this.stage_kcID=0,this.door_koID=0,this.dokan_khID=0,_c=this.door_score_open=0;_c<=15;_c++)this.ie_c[_c]=0;this.co_j.x=0,this.co_j.y=0,this.co_j.vx=0,this.co_j.vy=0,this.co_j.muki=1,this.co_j.ac=0,this.mp.tr1_c=2,this.shop_kattaitem=-1,this.mp_mode=0,this.km.initAll(),this.km.mode=100;for(var ad=0;ad<=8;ad++){var bd=this.gg.ap.getParameter("chizu-"+ad);bd+="...............",this.map_string[ad]=bd}for(var cd=0;cd<=8;cd++)for(var dd=0;dd<=14;dd++){var ed=this.map_string[cd].charAt(dd);"A"==ed?(this.co_j.x=32*dd,this.co_j.y=32*cd,this.map_bg[dd][cd]=220):"B"==ed?(this.map_bg[dd][cd]=216,this.ie_c[3]=100,this.ie_x[3]=32*dd,this.ie_y[3]=32*cd):"C"==ed?(this.map_bg[dd][cd]=217,this.ie_c[4]=100,this.ie_x[4]=32*dd,this.ie_y[4]=32*cd):"D"==ed?(this.map_bg[dd][cd]=218,this.ie_c[10]=100,this.ie_x[10]=32*dd,this.ie_y[10]=32*cd):"E"==ed?(this.map_bg[dd][cd]=219,this.ie_c[11]=100,this.ie_x[11]=32*dd,this.ie_y[11]=32*cd):"a"==ed?0==this.stage_c[0]?(this.map_bg[dd][cd]=223,this.stage_c[0]=100,this.stage_x[0]=32*dd,this.stage_y[0]=32*cd):this.map_bg[dd][cd]=220:"b"==ed?0==this.stage_c[1]?(this.map_bg[dd][cd]=224,this.stage_c[1]=100,this.stage_x[1]=32*dd,this.stage_y[1]=32*cd):this.map_bg[dd][cd]=220:"c"==ed?0==this.stage_c[2]?(this.map_bg[dd][cd]=225,this.stage_c[2]=100,this.stage_x[2]=32*dd,this.stage_y[2]=32*cd):this.map_bg[dd][cd]=220:"d"==ed?0==this.stage_c[3]?(this.map_bg[dd][cd]=226,this.stage_c[3]=100,this.stage_x[3]=32*dd,this.stage_y[3]=32*cd):this.map_bg[dd][cd]=220:"e"==ed?(this.map_bg[dd][cd]=213,this.ie_c[0]=100,this.ie_x[0]=32*dd,this.ie_y[0]=32*cd):"f"==ed?(this.map_bg[dd][cd]=214,this.ie_c[1]=100,this.ie_x[1]=32*dd,this.ie_y[1]=32*cd):"g"==ed?(this.map_bg[dd][cd]=215,this.ie_c[2]=100,this.ie_x[2]=32*dd,this.ie_y[2]=32*cd):"h"==ed?(this.map_bg[dd][cd]=212,this.ie_c[9]=100,this.ie_x[9]=32*dd,this.ie_y[9]=32*cd):"i"==ed?(this.map_bg[dd][cd]=206,this.ie_c[5]=100,this.ie_x[5]=32*dd,this.ie_y[5]=32*cd):"j"==ed?(this.map_bg[dd][cd]=207,this.ie_c[6]=100,this.ie_x[6]=32*dd,this.ie_y[6]=32*cd):"k"==ed?(this.map_bg[dd][cd]=208,this.ie_c[7]=100,this.ie_x[7]=32*dd,this.ie_y[7]=32*cd):"l"==ed?(this.map_bg[dd][cd]=209,this.ie_c[8]=100,this.ie_x[8]=32*dd,this.ie_y[8]=32*cd):this.map_bg[dd][cd]="1"==ed?220:"2"==ed?221:"3"==ed?222:0}256<this.co_j.x+16&&(this.co_j.muki=0),this.drawOs2()},y.prototype.worldInit2=function(){this.co_j.vx=0,this.co_j.vy=0,this.co_j.muki=1,this.co_j.ac=0,this.mp.tr1_c=2,this.mp_mode=200,this.cc_hankei=12,this.stage_kcID=0,this.door_koID=0,this.shop_kattaitem=-1,this.door_score_open=0,100==this.ie_c[9]&&this.mp.score>=this.mp.door_score&&(this.ie_c[9]=50,this.door_score_open=1),this.km.initAll(),this.km.mode=100,this.drawOs2()},y.prototype.worldInit3=function(){this.stage_kcID=this.checkStage(),this.stage_cf[this.stage_kcID-1]=!0,this.stage_c[this.stage_kcID-1]=50;for(var fd=0,gd=0;gd<=2;gd++)this.stage_cf[gd]&&fd++;this.door_koID=0,1<=fd&&100==this.ie_c[fd-1]&&(this.ie_c[fd-1]=50,this.door_koID=fd),this.door_score_open=0,100==this.ie_c[9]&&this.mp.score>=this.mp.door_score&&(this.ie_c[9]=50,this.door_score_open=1),this.co_j.vx=0,this.co_j.vy=0,this.co_j.muki=1,this.co_j.ac=0,this.mp.tr1_c=2,this.co_j.pt=0,this.shop_kattaitem=-1,this.mp_mode=200,this.cc_hankei=12,this.km.initAll(),this.km.mode=100,this.drawOs2()},y.prototype.drawOs2=function(){this.gg.setBackcolor(new D(0,127,0)),this.gg.fill2(),this.gg.os2_g.drawImage(this.gg.li[3],0,0,this.gg.ap);for(var hd=0;hd<=8;hd++)for(var id=0;id<=14;id++){var jd=this.map_bg[id][hd];221==jd?(this.gg.drawPT2(32*id+16,32*hd+24-16,221),this.gg.drawPT2(32*id+16,32*hd+24+16,221)):222==jd&&(this.gg.drawPT2(32*id+16-16,32*hd+24,222),this.gg.drawPT2(32*id+16+16,32*hd+24,222))}for(var kd=0;kd<=8;kd++)for(var ld=0;ld<=14;ld++){var md=this.map_bg[ld][kd];61!=md&&62!=md&&256!=md&&(216<=md&&md<=219?this.gg.drawPT2(32*ld+16,32*kd+24-7,md):206<=md&&md<=209?this.gg.drawPT2(32*ld+16,32*kd+24-7,md):212<=md&&md<=215?(this.gg.drawPT2(32*ld+16-16,32*kd+24,222),this.gg.drawPT2(32*ld+16+16,32*kd+24,222),this.gg.drawPT2(32*ld+16,32*kd+24-7,md)):this.gg.drawPT2(32*ld+16,32*kd+24,md))}},y.prototype.drawMap=function(){this.gg.os_g.drawImage(this.gg.os2_img,0,0,this.gg.ap)},y.prototype.getBGZ=function(nd,od){if(nd<0||479<nd||od<0||287<od)return 0;var pd=nd>>5,qd=od>>5;return this.map_bg[pd][qd]},y.prototype.checkStage=function(){for(var rd=-1,sd=0;sd<=9;sd++)if(100==this.stage_c[sd]&&this.co_j.x==this.stage_x[sd]&&this.co_j.y==this.stage_y[sd]){rd=sd+1;break}return rd},y.prototype.mainProgram=function(){if(this.gk.tr1_f?this.mp.tr1_c<2&&(this.mp.tr1_c+=1):this.mp.tr1_c=0,0==this.mp_mode){if(100==this.km.mode)this.jMove();else if(200==this.km.mode)1==this.km.cancel_c?(this.km.off(3),this.km.off(4),this.km.mode=100):1==this.km.kettei_c&&(this.km.init1(3),this.km.setMessage(3,this.mp.mes1_name),this.mp.addSerifu(3,2,3),this.km.activeSerifu(3,120,150,272,D.cyan),this.km.mode=210);else if(210==this.km.mode)1!=this.km.cancel_c&&1!=this.km.kettei_c||(this.km.off(3),this.km.off(4),this.km.mode=100);else if(300==this.km.mode)1==this.km.cancel_c?(this.km.off(3),this.km.off(4),this.km.mode=100):1==this.km.kettei_c&&(this.km.init1(3),this.km.setMessage(3,this.mp.mes2_name),this.mp.addSerifu(3,4,3),this.km.activeSerifu(3,120,150,272,D.cyan),this.km.mode=210);else if(400==this.km.mode){if(1==this.km.cancel_c)this.km.off(3),this.km.off(4),this.km.mode=100;else if(1==this.km.kettei_c){this.km.off(3),this.km.list_kazu=0,this.km.init1(6),this.km.setMessage(6,this.gg.ap.getParameter("shop_serifu1"));for(var td=0;td<=8;td++)0<this.mp.shop_item_teika[td]&&(this.km.addItem2(6,this.mp.shop_item_name[td],this.mp.shop_item_teika[td]),this.km.list_IDlist[this.km.list_kazu]=td,this.km.list_kazu+=1);1<=this.km.list_kazu?(this.km.activeKaimono(6,296,76,184),this.km.mode=410):(this.km.init1(6),this.km.init1(3),this.km.setMessage(3,"Error"),this.km.addItem(3,"Please set any item on shop menu."),this.km.activeSerifu(3,120,150,216,D.red),this.km.mode=210)}}else 410==this.km.mode?1==this.km.cancel_c?(this.km.off(4),this.km.off(6),this.km.mode=100):1==this.km.kettei_c&&(this.km.list_s=this.km.list_IDlist[this.km.selectedIndex[6]],this.km.init1(7),this.km.setMessage(7,this.mp.shop_item_name[this.km.list_s]+this.gg.ap.getParameter("shop_serifu2")),this.km.addItem(7,this.gg.ap.getParameter("shop_serifu3")),this.km.addItem(7,this.gg.ap.getParameter("shop_serifu4")),this.km.activeSerifutuki(7,48,150,236,this.mp.shop_name),this.km.mode=420):420==this.km.mode?1==this.km.cancel_c?(this.km.offActivewindow(7,6),this.km.mode=410):1==this.km.kettei_c&&(0==this.km.selectedIndex[7]?(this.mp.score>=this.mp.shop_item_teika[this.km.list_s]?(this.km.init1(3),this.km.addItem(3,this.mp.shop_item_name[this.km.list_s]+this.gg.ap.getParameter("shop_serifu5")),this.km.activeIchigyou(3,48,240,236),this.mp.score-=this.mp.shop_item_teika[this.km.list_s],this.shop_kattaitem=this.km.list_s,7==this.shop_kattaitem&&(this.mp.j_left+=1)):(this.km.init1(3),this.km.addItem(3,this.gg.ap.getParameter("shop_serifu6")),this.km.activeIchigyou(3,48,240,236)),this.km.mode=430):(this.km.off(4),this.km.off(6),this.km.off(7),this.km.mode=100)):430==this.km.mode?1!=this.km.cancel_c&&1!=this.km.kettei_c||(this.km.off(3),this.km.off(4),this.km.off(6),this.km.off(7),this.km.mode=100):500==this.km.mode?1==this.km.cancel_c?(this.km.off(4),this.km.off(3),this.km.mode=100):1==this.km.kettei_c&&(this.km.off(3),this.km.init1(2),this.km.setMessage(2,this.gg.ap.getParameter("setumei_menu1")),this.km.addItem(2,this.gg.ap.getParameter("setumei_menu2")),this.km.addItem(2,this.gg.ap.getParameter("setumei_menu3")),this.km.addItem(2,this.gg.ap.getParameter("setumei_menu4")),this.km.activeSerifutuki(2,120,150,224,this.mp.setumei_name),this.km.mode=510):510==this.km.mode?1==this.km.cancel_c?(this.km.off(2),this.km.off(4),this.km.mode=100):1==this.km.kettei_c&&(this.km.init1(3),this.km.setMessage(3,this.mp.setumei_name),1==this.km.selectedIndex[2]?this.mp.addSerifu(3,11,3):2==this.km.selectedIndex[2]?this.mp.addSerifu(3,12,3):this.mp.addSerifu(3,10,3),this.km.activeSerifu(3,200,191,272,D.cyan),this.km.mode=520):520==this.km.mode&&(1==this.km.cancel_c?(this.km.offActivewindow(3,2),this.km.mode=510):1==this.km.kettei_c&&(this.km.off(2),this.km.off(3),this.km.off(4),this.km.mode=100));this.km.move()}if(1e3==this.co_j.pt?this.gg.drawPT(this.co_j.x+16,this.co_j.y+24-12-6,100,this.co_j.muki):1010==this.co_j.pt?this.gg.drawPT(this.co_j.x+16,this.co_j.y+24-12+5,100,this.co_j.muki):202<=this.co_j.pt&&this.co_j.pt<=205?this.gg.drawPT(this.co_j.x+16,this.co_j.y+24-12,this.co_j.pt,0):this.gg.drawPT(this.co_j.x+16,this.co_j.y+24-12,this.co_j.pt,this.co_j.muki),this.km.drawMenus(),100==this.mp_mode)this.circleCLS(this.cc_hankei),this.cc_hankei-=12,this.cc_hankei<0&&(this.cc_hankei=0,this.mp_mode=110);else if(110==this.mp_mode)this.circleCLS(this.cc_hankei);else if(200==this.mp_mode){if(this.circleCLS(this.cc_hankei),this.cc_hankei+=12,312<this.cc_hankei)if(1<=this.stage_kcID){this.mp_mode=300,this.cc_hankei=0;var ud=this.stage_y[this.stage_kcID-1]>>5;this.map_bg[this.stage_x[this.stage_kcID-1]>>5][ud]=227,1<=this.door_koID&&(this.map_bg[this.ie_x[this.door_koID-1]>>5][this.ie_y[this.door_koID-1]>>5]=222),1==this.door_score_open&&(this.map_bg[this.ie_x[9]>>5][this.ie_y[9]>>5]=222),this.drawOs2()}else this.mp_mode=0,1==this.door_score_open&&(this.mp_mode=400,this.cc_hankei=0,this.map_bg[this.ie_x[9]>>5][this.ie_y[9]>>5]=222,this.drawOs2())}else if(300==this.mp_mode){var vd;this.cc_hankei+=1,this.cc_hankei<=3?vd=0:this.cc_hankei<=6?vd=1:this.cc_hankei<=9?vd=0:this.cc_hankei<=12?vd=1:this.cc_hankei<=15?vd=0:this.cc_hankei<=18?vd=1:this.cc_hankei<=21?vd=0:this.cc_hankei<=24?vd=1:this.cc_hankei<=26?vd=0:(vd=0,this.mp_mode=0),0<vd&&this.gg.drawPT(this.stage_x[this.stage_kcID-1]+16,this.stage_y[this.stage_kcID-1]+24,222+this.stage_kcID,0),0<vd&&1<=this.door_koID&&this.gg.drawPT(this.ie_x[this.door_koID-1]+16,this.ie_y[this.door_koID-1]+24-7,212+this.door_koID,0),0<vd&&1==this.door_score_open&&this.gg.drawPT(this.ie_x[9]+16,this.ie_y[9]+24-7,212,0)}else if(400==this.mp_mode){var wd;this.cc_hankei+=1,this.cc_hankei<=3?wd=0:this.cc_hankei<=6?wd=1:this.cc_hankei<=9?wd=0:this.cc_hankei<=12?wd=1:this.cc_hankei<=15?wd=0:this.cc_hankei<=18?wd=1:this.cc_hankei<=21?wd=0:this.cc_hankei<=24?wd=1:this.cc_hankei<=26?wd=0:(wd=0,this.mp_mode=0),0<wd&&this.gg.drawPT(this.ie_x[9]+16,this.ie_y[9]+24-7,212,0)}},y.prototype.jMove=function(){var xd=this.co_j.x,yd=this.co_j.y;if(this.co_j.pt=100,0==this.co_j.vx&&0==this.co_j.vy){if(this.co_j.ac++,7<this.co_j.ac&&(this.co_j.ac=0),3<this.co_j.ac){this.co_j.pt=1e3;var zd=this.getBGZ(xd,yd);(216<=zd&&zd<=219||206<=zd&&zd<=209)&&(this.co_j.pt=1010)}if(1==this.mp.tr1_c)if(1<=this.checkStage())this.mp_mode=100,this.cc_hankei=312,this.co_j.ac=0,this.dokan_khID=0,this.co_j.pt=100;else if(206<=this.getBGZ(xd,yd)&&this.getBGZ(xd,yd)<=209)if(2==this.mp.dokan_mode)for(var Ad=!1,Bd=0;Bd<=8;Bd++){for(var Cd=0;Cd<=14;Cd++){if(32*Cd!=xd||32*Bd!=yd)if(this.map_bg[Cd][Bd]==this.getBGZ(xd,yd)){xd=32*Cd,yd=32*Bd,this.co_j.ac=0,this.co_j.pt=1010,Ad=!0;break}}if(Ad)break}else this.mp_mode=100,this.cc_hankei=312,this.co_j.ac=0,this.dokan_khID=this.getBGZ(xd,yd)-205,this.co_j.pt=1010;else 216==this.getBGZ(xd,yd)?(this.km.init1(4),this.km.onKao(4,120,42,272,230),this.km.init1(3),this.km.setMessage(3,this.mp.mes1_name),this.mp.addSerifu(3,1,3),this.km.activeSerifu(3,120,150,272,D.cyan),this.km.mode=200,this.co_j.pt=1010,this.co_j.ac=0):217==this.getBGZ(xd,yd)?(this.km.init1(4),this.km.onKao(4,120,42,272,232),this.km.init1(3),this.km.setMessage(3,this.mp.mes2_name),this.mp.addSerifu(3,3,3),this.km.activeSerifu(3,120,150,272,D.cyan),this.km.mode=300,this.co_j.pt=1010,this.co_j.ac=0):218==this.getBGZ(xd,yd)?(this.km.init1(4),this.km.onKao(4,120,42,216,234),this.shop_kattaitem<0?(this.km.init1(3),this.km.setMessage(3,this.mp.shop_name),this.mp.addSerifu(3,5,3),this.km.activeSerifu(3,120,150,216,D.cyan),this.km.mode=400):(this.km.init1(3),this.km.setMessage(3,this.mp.shop_name),this.mp.addSerifu(3,8,3),this.km.activeSerifu(3,120,150,216,D.cyan),this.km.mode=210),this.co_j.pt=1010,this.co_j.ac=0):219==this.getBGZ(xd,yd)&&(this.km.init1(4),this.km.onKao(4,120,42,272,236),this.km.init1(3),this.km.setMessage(3,this.mp.setumei_name),this.mp.addSerifu(3,9,3),this.km.activeSerifu(3,120,150,272,D.cyan),this.km.mode=500,this.co_j.pt=1010,this.co_j.ac=0);else this.gk.up_f?221==this.getBGZ(xd,yd-32)&&(this.co_j.vy=-4,this.co_j.ac=-1):this.gk.down_f?221==this.getBGZ(xd,yd+32)&&(this.co_j.vy=4,this.co_j.ac=-1):this.gk.left_f?(this.co_j.muki=0,222==this.getBGZ(xd-32,yd)&&(this.co_j.vx=-4,this.co_j.ac=-1),212<=this.getBGZ(xd+32,yd)&&this.getBGZ(xd+32,yd)<=215&&(this.co_j.vx=-4,this.co_j.ac=-1)):this.gk.right_f&&(this.co_j.muki=1,222==this.getBGZ(xd+32,yd)&&(this.co_j.vx=4,this.co_j.ac=-1),212<=this.getBGZ(xd-32,yd)&&this.getBGZ(xd-32,yd)<=215&&(this.co_j.vx=4,this.co_j.ac=-1))}if(0!=this.co_j.vx||0!=this.co_j.vy){if(this.co_j.ac+=1,3<this.co_j.ac&&(this.co_j.ac=0),xd+=this.co_j.vx,yd+=this.co_j.vy,0!=this.co_j.vx?this.co_j.ac<=1?this.co_j.pt=103:this.co_j.pt=104:0<=this.co_j.vy?this.co_j.ac<=1?this.co_j.pt=202:this.co_j.pt=203:this.co_j.ac<=1?this.co_j.pt=204:this.co_j.pt=205,xd%32==0&&yd%32==0){var Ed=this.getBGZ(xd,yd);(220==Ed||223<=Ed&&Ed<=227||216<=Ed&&Ed<=219||206<=Ed&&Ed<=209)&&(this.co_j.vx=0,this.co_j.vy=0,this.co_j.ac=0),(Ed=0)<this.co_j.vx?Ed=this.getBGZ(xd+32,yd):this.co_j.vx<0&&(Ed=this.getBGZ(xd-32,yd)),212<=Ed&&Ed<=215&&(this.co_j.vx=0,this.co_j.vy=0,this.co_j.pt=100,this.co_j.ac=0)}xd<=-32?(xd=-32,this.co_j.vx=0,this.co_j.vy=0,this.co_j.ac=0):480<=xd&&(xd=480,this.co_j.vx=0,this.co_j.vy=0,this.co_j.ac=0),yd<=-32?(yd=-32,this.co_j.vx=0,this.co_j.vy=0,this.co_j.ac=0):288<=yd&&(yd=288,this.co_j.vx=0,this.co_j.vy=0,this.co_j.ac=0)}this.co_j.x=xd,this.co_j.y=yd},y.prototype.circleCLS=function(Fd){for(var Gd=0;Gd<=12;Gd++){var Hd=c.sin(.2617992*Gd);this.cc_p1_y[Gd]=160+c.floor(Hd*Fd);var Id=c.cos(.2617992*Gd);this.cc_p1_x[Gd]=256+c.floor(Id*Fd),this.cc_p2_y[Gd]=160-c.floor(Hd*Fd),this.cc_p2_x[Gd]=256-c.floor(Id*Fd)}this.gg.os_g.setColor(D.black),this.gg.os_g.fillPolygon(this.cc_p1_x,this.cc_p1_y,17),this.gg.os_g.fillPolygon(this.cc_p2_x,this.cc_p2_y,17)},y.prototype.squareCLS=function(Jd,Kd){var Ld=.017453292519943295;this.cc_p1_x[0]=c.floor(c.cos((this.cc_kakudo+0)*Ld)*Jd)+256,this.cc_p1_y[0]=c.floor(c.sin((this.cc_kakudo+0)*Ld)*Jd)+160,this.cc_p1_x[1]=c.floor(c.cos((this.cc_kakudo+90)*Ld)*Jd)+256,this.cc_p1_y[1]=c.floor(c.sin((this.cc_kakudo+90)*Ld)*Jd)+160,this.cc_p1_x[2]=c.floor(c.cos((this.cc_kakudo+180)*Ld)*Jd)+256,this.cc_p1_y[2]=c.floor(c.sin((this.cc_kakudo+180)*Ld)*Jd)+160,this.cc_p1_x[3]=c.floor(500*c.cos((this.cc_kakudo+180)*Ld))+256,this.cc_p1_y[3]=c.floor(500*c.sin((this.cc_kakudo+180)*Ld))+160,this.cc_p1_x[4]=c.floor(700*c.cos((this.cc_kakudo+135)*Ld))+256,this.cc_p1_y[4]=c.floor(700*c.sin((this.cc_kakudo+135)*Ld))+160,this.cc_p1_x[5]=c.floor(700*c.cos((this.cc_kakudo+45)*Ld))+256,this.cc_p1_y[5]=c.floor(700*c.sin((this.cc_kakudo+45)*Ld))+160,this.cc_p1_x[6]=c.floor(500*c.cos((this.cc_kakudo+0)*Ld))+256,this.cc_p1_y[6]=c.floor(500*c.sin((this.cc_kakudo+0)*Ld))+160,this.cc_p2_x[0]=c.floor(c.cos((this.cc_kakudo+180)*Ld)*Jd)+256,this.cc_p2_y[0]=c.floor(c.sin((this.cc_kakudo+180)*Ld)*Jd)+160,this.cc_p2_x[1]=c.floor(c.cos((this.cc_kakudo+270)*Ld)*Jd)+256,this.cc_p2_y[1]=c.floor(c.sin((this.cc_kakudo+270)*Ld)*Jd)+160,this.cc_p2_x[2]=c.floor(c.cos((this.cc_kakudo+360)*Ld)*Jd)+256,this.cc_p2_y[2]=c.floor(c.sin((this.cc_kakudo+360)*Ld)*Jd)+160,this.cc_p2_x[3]=c.floor(500*c.cos((this.cc_kakudo+360)*Ld))+256,this.cc_p2_y[3]=c.floor(500*c.sin((this.cc_kakudo+360)*Ld))+160,this.cc_p2_x[4]=c.floor(700*c.cos((this.cc_kakudo+315)*Ld))+256,this.cc_p2_y[4]=c.floor(700*c.sin((this.cc_kakudo+315)*Ld))+160,this.cc_p2_x[5]=c.floor(700*c.cos((this.cc_kakudo+225)*Ld))+256,this.cc_p2_y[5]=c.floor(700*c.sin((this.cc_kakudo+225)*Ld))+160,this.cc_p2_x[6]=c.floor(500*c.cos((this.cc_kakudo+180)*Ld))+256,this.cc_p2_y[6]=c.floor(500*c.sin((this.cc_kakudo+180)*Ld))+160,this.gg.os_g.setColor(D.black),this.gg.os_g.fillPolygon(this.cc_p1_x,this.cc_p1_y,7),this.gg.os_g.fillPolygon(this.cc_p2_x,this.cc_p2_y,7)},z.prototype.load=function(Pd){this._loaded=!1,this._error=!1,this._width=-1,this._height=-1,this._dat=new Image;var Qd=this;this._dat.onload=function(){Qd.onload()},this._dat.onerror=function(){B(Qd)},this._dat.onabort=function(){B(Qd)},this._dat.ontimeout=function(){B(Qd)},this._dat.src=Pd,this._dat.complete&&this.onload()},z.prototype.onload=function(){this._loaded=!0,this._width=this._dat.naturalWidth,this._height=this._dat.naturalHeight},z.prototype.onerror=function(){this._error=!0,this._dat=null},z.prototype.getGraphics=function(){return this._width<0?null:(this._g=new C(this),this._g)},z.prototype.createGraphics=function(){return this.getGraphics()},C.prototype.drawLine=function(Ud,Vd,Wd,Xd){return null!=this._ctx&&(this._ctx.beginPath(),this._ctx.moveTo(Ud,Vd),this._ctx.lineTo(Wd,Xd),this._ctx.stroke(),!0)},C.prototype.drawImage=function(Yd,Zd,$d,_d,ae,be,ce,de,ee,fe){if(null==Yd._dat)return!1;if(null==this._ctx)return!1;try{if(arguments.length<=4)return this._ctx.drawImage(Yd._dat,Zd,$d),!0;if(arguments.length<=6)return this._ctx.drawImage(Yd._dat,Zd,$d,_d,ae),!0;if(arguments.length<=10)return this._ctx.drawImage(Yd._dat,Zd,$d,_d,ae,be,ce,de,ee),!0}catch(ge){}return!1},C.prototype.drawRect=function(he,ie,je,ke){return null!=this._ctx&&(this._ctx.strokeRect(he,ie,je,ke),!0)},C.prototype.fillRect=function(le,me,ne,oe){return null!=this._ctx&&(this._ctx.fillRect(le,me,ne,oe),!0)},C.prototype.drawPolygon=function(pe,qe,re){if(null==this._ctx)return!1;this._ctx.beginPath(),this._ctx.moveTo(pe[0],qe[0]);for(var se=1;se<re;se++)this._ctx.lineTo(pe[se],qe[se]);return this._ctx.closePath(),this._ctx.stroke(),!0},C.prototype.fillPolygon=function(te,ue,ve){if(null==this._ctx)return!1;this._ctx.beginPath(),this._ctx.moveTo(te[0],ue[0]);for(var we=1;we<ve;we++)this._ctx.lineTo(te[we],ue[we]);return this._ctx.closePath(),this._ctx.fill(),!0},C.prototype.drawOval=function(xe,ye,ze,Ae){return null!=this._ctx&&(this.drawArc(xe,ye,ze,Ae,0,2*c.PI),!0)},C.prototype.fillOval=function(Be,Ce,De,Ee){return null!=this._ctx&&(this.fillArc(Be,Ce,De,Ee,0,2*c.PI),!0)},C.prototype.drawArc=function(Fe,Ge,He,Ie,Je,Ke){if(null==this._ctx)return!1;var Le=Ie/He;return this._ctx.save(),this._ctx.beginPath(),this._ctx.scale(1,Le),this._ctx.arc(Fe+He/2,(Ge+Ie/2)/Le,He/2,Je,Je+Ke,Ke<0),this._ctx.stroke(),this._ctx.restore(),!0},C.prototype.fillArc=function(Me,Ne,Oe,Pe,Qe,Re){if(null==this._ctx)return!1;var Se=Pe/Oe;return this._ctx.save(),this._ctx.beginPath(),this._ctx.scale(1,Se),this._ctx.arc(Me+Oe/2,(Ne+Pe/2)/Se,Oe/2,Qe,Qe+Re,Re<0),this._ctx.lineTo(Me+Oe/2,(Ne+Pe/2)/Se),this._ctx.closePath(),this._ctx.fill(),this._ctx.restore(),!0},C.prototype.setGlobalAlpha=function(Te){return null!=this._ctx&&(Te<0&&(Te=0),255<Te&&(Te=255),this._ctx.globalAlpha=Te/255,!0)},C.prototype.setColor=function(Ue){if(null==this._ctx)return!1;this._color=new D(Ue.r,Ue.g,Ue.b,Ue.a);var Ve="rgba("+Ue.r+", "+Ue.g+", "+Ue.b+", "+Ue.a/255+")";return this._ctx.strokeStyle=Ve,this._ctx.fillStyle=Ve,!0},C.prototype.setFont=function(We){if(null==this._ctx)return!1;var Xe="";return We._style&E.ITALIC&&(Xe+="italic "),We._style&E.BOLD&&(Xe+="bold "),Xe+=We._size+"px ",We._name==E.SERIF?Xe+="serif":We._name==E.SANS_SERIF?Xe+="sans-serif":We._name==E.MONOSPACED?Xe+="monospace":We._name==E.DIALOG?Xe+="'Helvetica','Arial','ＭＳ ゴシック','HG ゴシックB Sun','HG ゴシックB',monospace":Xe+='"'+We._name+'"',this._ctx.font=Xe,this._font=We,!0},C.prototype.drawString=function(Ye,Ze,$e){return null!=this._ctx&&(this._ctx.fillText(Ye,Ze,$e),!0)},C.prototype.translate=function(_e,af){return null!=this._ctx&&(this._ctx.translate(_e,af),!0)},C.prototype.rotate=function(bf,cf,df){return null!=this._ctx&&(1==arguments.length?this._ctx.rotate(bf):(this._ctx.translate(cf,df),this._ctx.rotate(bf),this._ctx.translate(-cf,-df)),!0)},C.prototype.scale=function(ef,ff){return null!=this._ctx&&(this._ctx.scale(ef,ff),!0)},C.prototype.setClip=function(gf){if(null==this._ctx)return!1;if("ellipse"==gf){var hf=arguments[4]/arguments[3];return this._ctx.beginPath(),this._ctx.save(),this._ctx.scale(1,hf),this._ctx.arc(arguments[1]+arguments[3]/2,(arguments[2]+arguments[4]/2)/hf,arguments[3]/2,0,2*c.PI,!1),this._ctx.restore(),this._ctx.clip(),!0}if("rect"==gf)return this._ctx.beginPath(),this._ctx.rect(arguments[1],arguments[2],arguments[3],arguments[4]),this._ctx.clip(),!0;if("polygon"==gf){this._ctx.beginPath(),this._ctx.moveTo(arguments[1][0],arguments[2][0]);for(var jf=1;jf<arguments[3];jf++)this._ctx.lineTo(arguments[1][jf],arguments[2][jf]);return this._ctx.closePath(),this._ctx.clip(),!0}return!1},C.prototype.copyArea=function(kf,lf,mf,nf,of,pf){return null!=this._ctx&&(this._ctx.drawImage(this._ctx.canvas,kf,lf,mf,nf,kf+of,lf+pf,mf,nf),!0)},C.prototype.dispose=function(){this._ctx.restore(),this._ctx.save()},D.prototype.getRed=function(){return this.r},D.prototype.getGreen=function(){return this.g},D.prototype.getBlue=function(){return this.b},D.white=new D(255,255,255),D.WHITE=D.white,D.lightGray=new D(192,192,192),D.LIGHT_GRAY=D.lightGray,D.gray=new D(128,128,128),D.GRAY=D.gray,D.darkGray=new D(64,64,64),D.DARK_GRAY=D.darkGray,D.black=new D(0,0,0),D.BLACK=D.black,D.red=new D(255,0,0),D.RED=D.red,D.pink=new D(255,175,175),D.PINK=D.pink,D.orange=new D(255,200,0),D.ORANGE=D.orange,D.yellow=new D(255,255,0),D.YELLOW=D.yellow,D.green=new D(0,255,0),D.GREEN=D.green,D.magenta=new D(255,0,255),D.MAGENTA=D.magenta,D.cyan=new D(0,255,255),D.CYAN=D.cyan,D.blue=new D(0,0,255),D.BLUE=D.blue,E.DIALOG="Dialog",E.DIALOG_INPUT="DialogInput",E.MONOSPACED="Monospaced",E.SANS_SERIF="SansSerif",E.SERIF="Serif",E.PLAIN=0,E.BOLD=1,E.ITALIC=2,F.prototype.initAll=function(){var Af;for(Af=0;Af<=15;Af++)this.init1(Af);for(this.c_fc=0,this.gk.up_c=0,this.gk.down_c=0,this.aw=-1,this.kettei_c=2,this.cancel_c=2,Af=0;Af<=15;Af++)this.list_IDlist[Af]=0;this.list_kazu=0,this.list_s=0},F.prototype.init1=function(Bf){var Cf;for(this.c[Bf]=0,this.x[Bf]=0,this.y[Bf]=0,this.width[Bf]=180,this.selectedIndex[Bf]=0,this.item_kazu[Bf]=0,this.message[Bf]="どうしますか？",Cf=0;Cf<=15;Cf++)this.item[Bf][Cf]="";for(Cf=0;Cf<=15;Cf++)this.item_int[Bf][Cf]=0},F.prototype.setMessage=function(Df,Ef){this.message[Df]=Ef},F.prototype.addItem=function(Ff,Gf){this.item[Ff][this.item_kazu[Ff]]=Gf,this.item_kazu[Ff]+=1},F.prototype.addIntitem=function(Hf,If){this.item_int[Hf][this.item_kazu[Hf]]=If,this.item_kazu[Hf]+=1},F.prototype.addItem2=function(Jf,Kf,Lf){this.item[Jf][this.item_kazu[Jf]]=Kf,this.item_int[Jf][this.item_kazu[Jf]]=Lf,this.item_kazu[Jf]+=1},F.prototype.active=function(Mf,Nf,Of,Pf){this.c[Mf]=100,this.x[Mf]=Nf,this.y[Mf]=Of,this.width[Mf]=void 0!==Pf?ParamInt4:180,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=Mf,this.kettei_c=2,this.cancel_c=2},F.prototype.activeSerifutuki=function(Qf,Rf,Sf,Tf,Uf){this.c[Qf]=700,this.x[Qf]=Rf,this.y[Qf]=Sf,this.width[Qf]=Tf,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=Qf,this.kettei_c=2,this.cancel_c=2,this.item[Qf][15]=Uf},F.prototype.activeKaimono=function(Vf,Wf,Xf,Yf){this.c[Vf]=900,this.x[Vf]=Wf,this.y[Vf]=Xf,this.width[Vf]=Yf,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=Vf,this.kettei_c=2,this.cancel_c=2},F.prototype.activeIchigyou=function(Zf,$f,_f,ag){this.c[Zf]=300,this.x[Zf]=$f,this.y[Zf]=_f,this.width[Zf]=ag,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=Zf,this.kettei_c=2,this.cancel_c=2},F.prototype.activeNigyou=function(bg,cg,dg,eg,fg){this.c[bg]=310,this.x[bg]=cg,this.y[bg]=dg,this.width[bg]=eg,this.item_color[bg]=fg,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=bg,this.kettei_c=2,this.cancel_c=2},F.prototype.activeYongyou=function(gg,hg,ig,jg){this.c[gg]=320,this.x[gg]=hg,this.y[gg]=ig,this.width[gg]=jg,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=gg,this.kettei_c=2,this.cancel_c=2},F.prototype.activeYongyou2=function(kg,lg,mg,ng){this.c[kg]=321,this.x[kg]=lg,this.y[kg]=mg,this.width[kg]=ng,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=kg,this.kettei_c=2,this.cancel_c=2},F.prototype.activeSerifu=function(og,pg,qg,rg,sg){this.c[og]=330,this.x[og]=pg,this.y[og]=qg,this.width[og]=rg,this.item_color[og]=sg,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=og,this.kettei_c=2,this.cancel_c=2},F.prototype.activeYasumu=function(tg,ug,vg){this.c[tg]=1e3,this.x[tg]=ug,this.y[tg]=vg,this.width[tg]=272,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=tg,this.kettei_c=2,this.cancel_c=2},F.prototype.onKao=function(wg,xg,yg,zg,Ag){this.c[wg]=600,this.x[wg]=xg,this.y[wg]=yg,this.width[wg]=zg,this.item_int[wg][0]=Ag},F.prototype.onMituketa=function(Bg,Cg,Dg){this.c[Bg]=610,this.x[Bg]=Cg,this.y[Bg]=Dg,this.width[Bg]=200},F.prototype.onOkozukai=function(Eg,Fg,Gg,Hg,Ig){this.c[Eg]=800,this.x[Eg]=Fg,this.y[Eg]=Gg,this.width[Eg]=Hg,this.item_int[Eg][0]=Ig},F.prototype.activeIchigyouTime=function(Jg,Kg,Lg,Mg){this.c[Jg]=350,this.x[Jg]=Kg,this.y[Jg]=Lg,this.width[Jg]=Mg,this.item_int[Jg][0]=100},F.prototype.activeNigyouTime=function(Ng,Og,Pg,Qg,Rg){this.c[Ng]=360,this.x[Ng]=Og,this.y[Ng]=Pg,this.width[Ng]=Qg,this.item_color[Ng]=Rg,this.item_int[Ng][0]=100},F.prototype.activeJibun=function(Sg,Tg,Ug,Vg,Wg,Xg,Yg,Zg){this.c[Sg]=400,this.x[Sg]=Tg,this.y[Sg]=Ug,this.item_int[14][0]=Wg,this.item_int[14][1]=Xg,this.item_int[14][2]=Yg,this.item_int[14][3]=Zg,this.width[Sg]=Vg,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=Sg,this.kettei_c=2,this.cancel_c=2},F.prototype.activeToujou=function($g,_g,ah,bh,ch,dh){this.c[$g]=420,this.x[$g]=_g,this.y[$g]=ah,this.item_int[$g][2]=ch,this.item[$g][0]=dh,this.width[$g]=bh,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=$g,this.kettei_c=2,this.cancel_c=2},F.prototype.initCS=function(){this.item_kazu[0]=8,this.selectedIndex[0]=0},F.prototype.activeCS=function(){this.c[0]=500,this.x[0]=0,this.y[0]=0,this.width[0]=0,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=0,this.kettei_c=2},F.prototype.off=function(eh){this.c[eh]=0},F.prototype.offActivewindow=function(fh,gh){this.c[fh]=0,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=gh,this.kettei_c=2,this.cancel_c=2},F.prototype.move=function(){this.c_fc+=1,6<this.c_fc&&(this.c_fc=0),0<=this.aw&&(this.gk.up_f?(this.gk.up_c+=1,3<this.gk.up_c&&(this.gk.up_c=1)):this.gk.up_c=0,this.gk.down_f?(this.gk.down_c+=1,3<this.gk.down_c&&(this.gk.down_c=1)):this.gk.down_c=0,1==this.gk.up_c?(this.selectedIndex[this.aw]-=1,this.c_fc=-1,this.selectedIndex[this.aw]<0&&(this.selectedIndex[this.aw]=this.item_kazu[this.aw]-1)):1==this.gk.down_c&&(this.selectedIndex[this.aw]+=1,this.c_fc=-1,this.selectedIndex[this.aw]>this.item_kazu[this.aw]-1&&(this.selectedIndex[this.aw]=0))),this.gk.tr1_f?0==this.kettei_c&&(this.kettei_c=1):this.kettei_c=0,this.gk.x_f?0==this.cancel_c&&(this.cancel_c=1):this.cancel_c=0},F.prototype.drawMenus=function(){this.hg.setFont(new E("Dialog",0,12));for(var hh=0;hh<=15;hh++){var ih=this.c[hh];if(0!=ih)switch(ih){case 100:if(this.drawWindowbox(this.x[hh],this.y[hh],this.width[hh],30+14*this.item_kazu[hh]),this.hg.setColor(D.white),this.hg.drawString(this.message[hh],this.x[hh]+24,this.y[hh]+6+12),1<=this.item_kazu[hh])for(var jh=0;jh<=this.item_kazu[hh]-1;jh++)this.hg.drawString(this.item[hh][jh],this.x[hh]+24,this.y[hh]+6+18+14*jh+12);hh==this.aw?this.c_fc<=3&&this.hg.drawImage(this.hi[70],this.x[hh]+6,this.y[hh]+24+14*this.selectedIndex[hh],this.ap):this.hg.drawImage(this.hi[70],this.x[hh]+6,this.y[hh]+24+14*this.selectedIndex[hh],this.ap);break;case 200:this.hg.setColor(D.white),this.hg.fillRect(12,12,128,58),this.hg.setColor(D.black),this.hg.fillRect(14,14,124,54),this.hg.setColor(D.cyan),this.hg.drawString(this.item[14][0],18,30),(this.item_int[14][0]<=0||this.item_int[14][2]<=0)&&(this.hg.setColor(D.red),this.hg.drawString("戦闘不能",82,30)),this.hg.setColor(D.white),this.hg.drawString("HP\t"+this.item_int[14][0]+" / "+this.item_int[14][1],18,48),this.hg.drawString("PP\t"+this.item_int[14][2]+" / "+this.item_int[14][3],18,62);break;case 210:this.hg.setColor(D.white),this.hg.fillRect(160,12,128,58),this.hg.setColor(D.black),this.hg.fillRect(162,14,124,54),this.hg.setColor(D.green),this.hg.drawString(this.item[15][0],166,30),this.item_int[15][0]<=0&&(this.hg.setColor(D.red),this.hg.drawString("戦闘不能",230,30)),this.hg.setColor(D.white),this.hg.drawString("HP\t"+this.item_int[15][0]+" / "+this.item_int[15][1],166,48),this.hg.drawString("PP\t"+this.item_int[15][2]+" / "+this.item_int[15][3],166,62);break;case 220:this.hg.setColor(D.white),this.hg.fillRect(372,12,128,58),this.hg.setColor(D.black),this.hg.fillRect(374,14,124,54),this.hg.setColor(D.cyan),this.hg.drawString(this.item[15][0],378,30),(this.item_int[15][0]<=0||this.item_int[15][2]<=0)&&(this.hg.setColor(D.red),this.hg.drawString("戦闘不能",442,30)),this.hg.setColor(D.white),this.hg.drawString("HP\t"+this.item_int[15][0]+" / "+this.item_int[15][1],378,48),this.hg.drawString("PP\t"+this.item_int[15][2]+" / "+this.item_int[15][3],378,62);break;case 300:this.drawWindowbox(this.x[hh],this.y[hh],this.width[hh],40),this.hg.setColor(D.white),this.hg.drawString(this.item[hh][0],this.x[hh]+6,this.y[hh]+6+12),this.c_fc<=3&&this.gg.drawPT(this.x[hh]+(this.width[hh]-14>>1),this.y[hh]+6+14+0+2,201,0);break;case 310:this.drawWindowbox(this.x[hh],this.y[hh],this.width[hh],58),this.hg.setColor(this.item_color[hh]),this.hg.drawString(this.item[hh][0],this.x[hh]+6,this.y[hh]+6+12),this.hg.setColor(D.white),this.hg.drawString(this.item[hh][1],this.x[hh]+6,this.y[hh]+6+18+12),this.c_fc<=3&&this.gg.drawPT(this.x[hh]+(this.width[hh]-14>>1),this.y[hh]+6+18+14+2,71,0);break;case 320:this.drawWindowbox(this.x[hh],this.y[hh],this.width[hh],66+14*(this.item_kazu[hh]-3)+14),this.hg.setColor(D.magenta),this.hg.drawString(this.item[hh][0],this.x[hh]+6,this.y[hh]+6+12),this.hg.setColor(D.white),this.hg.drawString(this.item[hh][1],this.x[hh]+6,this.y[hh]+6+18+12),this.hg.setColor(D.cyan),this.hg.drawString(this.item[hh][2],this.x[hh]+6,this.y[hh]+6+36+12),this.hg.setColor(D.white);for(var kh=0;kh<=this.item_kazu[3]-4;kh++)this.hg.drawString(this.item[3][kh+3],this.x[3]+6,this.y[3]+6+54+14*kh+12);this.c_fc<=3&&this.gg.drawPT(this.x[hh]+(this.width[hh]-14>>1),this.y[hh]+6+18+36+14*(this.item_kazu[hh]-3)+2,71,0);break;case 321:this.drawWindowbox(this.x[hh],this.y[hh],this.width[hh],108),this.hg.setColor(D.cyan),this.hg.drawString(this.item[hh][0],this.x[hh]+6,this.y[hh]+6+12),this.hg.setColor(D.white),this.hg.drawString(this.item[hh][1],this.x[hh]+6,this.y[hh]+6+18+12),this.hg.setColor(D.magenta),this.hg.drawString(this.item[hh][2],this.x[hh]+6,this.y[hh]+6+36+12),this.hg.setColor(D.white),this.hg.drawString(this.item[hh][3],this.x[hh]+6,this.y[hh]+6+54+12),this.hg.setColor(D.white),this.hg.drawString(this.item[hh][4],this.x[hh]+6,this.y[hh]+6+54+14+12),this.c_fc<=3&&this.gg.drawPT(this.x[hh]+(this.width[hh]-14>>1),this.y[hh]+6+18+36+14+14+2,71,0);break;case 330:if(this.drawWindowbox(this.x[hh],this.y[hh],this.width[hh],30+14*(this.item_kazu[hh]+1)),this.hg.setColor(this.item_color[hh]),this.hg.drawString(this.message[hh],this.x[hh]+6,this.y[hh]+6+12),this.hg.setColor(D.white),1<=this.item_kazu[hh])for(var lh=0;lh<=this.item_kazu[hh]-1;lh++)this.hg.drawString(this.item[hh][lh],this.x[hh]+6,this.y[hh]+6+18+14*lh+12);hh==this.aw?this.c_fc<=3&&this.gg.drawPT(this.x[hh]+(this.width[hh]-14>>1),this.y[hh]+6+18+14*this.item_kazu[hh]+2,201,0):this.gg.drawPT(this.x[hh]+(this.width[hh]-14>>1),this.y[hh]+6+18+14*this.item_kazu[hh]+2,201,0);break;case 350:if(100==this.item_int[hh][0]){this.item_int[hh][0]=55;break}this.drawWindowbox(this.x[hh],this.y[hh],this.width[hh],26),this.hg.setColor(D.white),this.hg.drawString(this.item[hh][0],this.x[hh]+6,this.y[hh]+6+12),this.item_int[hh][0]-=1,this.item_int[hh][0]<=0&&this.off(hh);break;case 360:200==this.item_int[hh][0]?(this.drawWindowbox(this.x[hh],this.y[hh],this.width[hh],44),this.hg.setColor(this.item_color[hh]),this.hg.drawString(this.item[hh][0],this.x[hh]+6,this.y[hh]+6+12),this.hg.setColor(D.white),this.hg.drawString(this.item[hh][1],this.x[hh]+6,this.y[hh]+6+18+12)):100==this.item_int[hh][0]?this.item_int[hh][0]=55:(this.drawWindowbox(this.x[hh],this.y[hh],this.width[hh],44),this.hg.setColor(this.item_color[hh]),this.hg.drawString(this.item[hh][0],this.x[hh]+6,this.y[hh]+6+12),this.hg.setColor(D.white),this.hg.drawString(this.item[hh][1],this.x[hh]+6,this.y[hh]+6+18+12),this.item_int[hh][0]-=1,this.item_int[hh][0]<=0&&this.off(hh));break;case 400:this.drawWindowbox(this.x[hh],this.y[hh],this.width[hh],128),this.hg.setColor(D.yellow),this.hg.drawString(this.name_crys+"のステータス",this.x[hh]+6,this.y[hh]+6+12),this.hg.setColor(D.white),this.hg.drawString("HP\t"+this.item_int[14][0]+" / "+this.item_int[14][1],this.x[hh]+6,this.y[hh]+6+18+0+12),this.hg.drawString("おこづかい\t",this.x[hh]+6,this.y[hh]+6+18+28+12),this.hg.drawString(this.item_int[14][2]+"円",this.x[hh]+6+72,this.y[hh]+6+18+42+12),this.hg.drawString("得点",this.x[hh]+6,this.y[hh]+6+18+56+12),this.hg.drawString(this.item_int[14][3]+"点",this.x[hh]+6+72,this.y[hh]+6+18+70+12),this.c_fc<=3&&this.gg.drawPT(this.x[hh]+(this.width[hh]-14>>1),this.y[hh]+6+18+84+2,71,0);break;case 420:this.drawWindowbox(this.x[hh],this.y[hh],this.width[hh],116),this.hg.setColor(new D(96,96,96)),this.hg.fillRect(this.x[hh]+12,this.y[hh]+12,this.width[hh]-24,48),this.gg.drawPT(this.x[hh]+12+(this.width[hh]-24-32>>1),this.y[hh]+12+8,this.item_int[hh][2],0),this.hg.setColor(D.cyan),this.hg.drawString(this.item[hh][0],this.x[hh]+12,this.y[hh]+64+12),this.hg.setColor(D.white),this.hg.drawString("これからも、よろしくね！",this.x[hh]+12,this.y[hh]+68+14+12),this.c_fc<=3&&this.gg.drawPT(this.x[hh]+(this.width[hh]-14>>1),this.y[hh]+68+28+2,71,0);break;case 410:-2==this.item_int[hh][0]?(this.drawWindowbox(this.x[hh],this.y[hh],this.width[hh],116),this.hg.setColor(new D(96,96,96)),this.hg.fillRect(this.x[hh]+12,this.y[hh]+12,this.width[hh]-24,48),this.gg.drawPT(this.x[hh]+12+(this.width[hh]-24-32>>1),this.y[hh]+12+8,this.item_int[hh][2],0),this.hg.setColor(D.yellow),this.hg.drawString(this.item[hh][0],this.x[hh]+12,this.y[hh]+64+12),this.hg.setColor(D.white),this.hg.drawString("捕獲不可能",this.x[hh]+12,this.y[hh]+68+14+12),this.c_fc<=3&&this.gg.drawPT(this.x[hh]+(this.width[hh]-14>>1),this.y[hh]+68+28+2,71,0)):this.item_int[hh][0]<0?(this.drawWindowbox(this.x[hh],this.y[hh],this.width[hh],116),this.hg.setColor(new D(96,96,96)),this.hg.fillRect(this.x[hh]+12,this.y[hh]+12,this.width[hh]-24,48),this.gg.drawPT(this.x[hh]+12+(this.width[hh]-24-32>>1),this.y[hh]+12+8,this.item_int[hh][2],0),this.hg.setColor(D.yellow),this.hg.drawString(this.item[hh][0],this.x[hh]+12,this.y[hh]+64+12),this.hg.setColor(D.white),this.hg.drawString("現在調査中",this.x[hh]+12,this.y[hh]+68+14+12),this.c_fc<=3&&this.gg.drawPT(this.x[hh]+(this.width[hh]-14>>1),this.y[hh]+68+28+2,71,0)):(this.drawWindowbox(this.x[hh],this.y[hh],this.width[hh],158),this.hg.setColor(new D(96,96,96)),this.hg.fillRect(this.x[hh]+12,this.y[hh]+12,this.width[hh]-24,48),this.gg.drawPT(this.x[hh]+12+(this.width[hh]-24-32>>1),this.y[hh]+12+8,this.item_int[hh][2],0),this.hg.setColor(D.yellow),this.hg.drawString(this.item[hh][0],this.x[hh]+12,this.y[hh]+64+12),this.hg.setColor(D.white),this.hg.drawString("最大HP",this.x[hh]+12,this.y[hh]+68+14+12),this.hg.drawString(""+this.item_int[hh][0],this.x[hh]+56,this.y[hh]+68+28+12),this.hg.drawString("最大PP",this.x[hh]+12,this.y[hh]+68+42+12),this.hg.drawString(""+this.item_int[hh][1],this.x[hh]+56,this.y[hh]+68+56+12),this.c_fc<=3&&this.gg.drawPT(this.x[hh]+(this.width[hh]-14>>1),this.y[hh]+68+70+2,71,0));break;case 500:this.c_fc<=3||0!=this.aw?this.hg.drawImage(this.hi[72],12+28*this.selectedIndex[hh],288,this.ap):this.hg.drawImage(this.hi[73],12+28*this.selectedIndex[hh],288,this.ap);break;case 600:this.drawWindowbox(this.x[hh],this.y[hh],this.width[hh],96);var mh=this.item_int[hh][0],nh=this.x[hh]+(this.width[hh]-64>>1),oh=this.y[hh]+16;this.gg.drawPT(nh,oh,mh,0),this.gg.drawPT(nh+32,oh,mh+1,0),this.gg.drawPT(nh,oh+32,mh+10,0),this.gg.drawPT(nh+32,oh+32,mh+11,0);break;case 610:this.drawWindowbox(this.x[hh],this.y[hh],this.width[hh],30+14*this.item_kazu[hh]),this.hg.setColor(D.yellow),this.hg.drawString("モンスターずかん",this.x[hh]+6,this.y[hh]+6+12),this.hg.setColor(D.white),this.hg.drawString("見つけた数\t"+this.item_int[hh][0],this.x[hh]+6,this.y[hh]+6+18+0+12),this.hg.drawString("捕まえた数\t"+this.item_int[hh][1],this.x[hh]+6,this.y[hh]+6+18+14+12);break;case 700:if(this.drawWindowbox(this.x[hh],this.y[hh],this.width[hh],30+14*this.item_kazu[hh]+18),this.hg.setColor(D.cyan),this.hg.drawString(this.item[hh][15],this.x[hh]+24,this.y[hh]+6+12),this.hg.setColor(D.white),this.hg.drawString(this.message[hh],this.x[hh]+24,this.y[hh]+6+12+18),1<=this.item_kazu[hh])for(var ph=0;ph<=this.item_kazu[hh]-1;ph++)this.hg.drawString(this.item[hh][ph],this.x[hh]+24,this.y[hh]+6+18+14*ph+12+18);hh==this.aw?this.c_fc<=3&&this.gg.drawPT(this.x[hh]+6,this.y[hh]+6+18+14*this.selectedIndex[hh]+18,200,0):this.gg.drawPT(this.x[hh]+6,this.y[hh]+6+18+14*this.selectedIndex[hh]+18,200,0);break;case 800:this.drawWindowbox(this.x[hh],this.y[hh],this.width[hh],44),this.hg.setColor(D.yellow),this.hg.drawString("おこづかい",this.x[hh]+6,this.y[hh]+6+12),this.hg.setColor(D.white),this.hg.drawString(this.item_int[hh][0]+"円",this.x[hh]+6,this.y[hh]+6+18+12);break;case 900:if(this.drawWindowbox(this.x[hh],this.y[hh],this.width[hh],30+14*this.item_kazu[hh]),this.hg.setColor(D.white),this.hg.drawString(this.message[hh],this.x[hh]+24,this.y[hh]+6+12),1<=this.item_kazu[hh])for(var qh=0;qh<=this.item_kazu[hh]-1;qh++)this.hg.drawString(this.item[hh][qh],this.x[hh]+24,this.y[hh]+6+18+14*qh+12),this.hg.drawString(""+this.item_int[hh][qh],this.x[hh]+24+116,this.y[hh]+6+18+14*qh+12);hh==this.aw?this.c_fc<=3&&this.gg.drawPT(this.x[hh]+6,this.y[hh]+6+18+14*this.selectedIndex[hh],200,0):this.gg.drawPT(this.x[hh]+6,this.y[hh]+6+18+14*this.selectedIndex[hh],200,0);break;case 1e3:this.drawWindowbox(this.x[hh],this.y[hh],this.width[hh],98),this.hg.setColor(new D(96,96,96)),this.hg.fillRect(this.x[hh]+12,this.y[hh]+12,248,48);for(var rh=0;rh<=5;rh++)0<this.item_int[hh][rh]&&this.gg.drawPT(this.x[hh]+12+8+40*rh,this.y[hh]+12+8,this.item_int[hh][rh],0);this.hg.setColor(D.white),this.hg.drawString("みんな、元気になった。",this.x[hh]+12,this.y[hh]+64+12),this.c_fc<=3&&this.gg.drawPT(this.x[hh]+(this.width[hh]-14>>1),this.y[hh]+64+14+2,71,0)}}},F.prototype.drawWindowbox=function(sh,th,uh,vh){this.hg.setColor(D.white),this.hg.fillRect(sh,th,uh,vh),this.hg.setColor(D.black),this.hg.fillRect(sh+2,th+2,uh-4,vh-4)},G.prototype.start=function(){this.ml_mode=50},G.prototype.paraInt=function(Fh){var Hh,Gh=this.gg.ap.getParameter(Fh);return Hh=parseInt(Gh),isNaN(Hh)&&(Hh=-1),Hh},G.prototype.addHighscoreEvent=function(Ih){return this.heh=Ih,!0},G.prototype.sendHighscore=function(){if("[object Function]"==Object.prototype.toString.call(this.heh)){var Kh=this.highscore;Kh<this.score&&(Kh=this.score),this.heh(Kh)}},G.prototype.moveGameCounter=function(){switch(this.g_c3){case 0:this.g_c3=1,this.g_c1=1,this.g_c2=1,this.g_ac=0,this.g_ac2=0;break;case 1:this.g_c3=2,this.g_c1=0,this.g_c2=2,this.g_ac=1,this.g_ac2=1;break;case 2:this.g_c3=3,this.g_c1=1,this.g_c2=3,this.g_ac=1,this.g_ac2=1;break;case 3:this.g_c3=4,this.g_c1=0,this.g_c2=0,this.g_ac=0,this.g_ac2=2;break;case 4:this.g_c3=5,this.g_c1=1,this.g_c2=1,this.g_ac=0,this.g_ac2=2;break;case 5:this.g_c3=6,this.g_c1=0,this.g_c2=2,this.g_ac=1,this.g_ac2=3;break;case 6:this.g_c3=7,this.g_c1=1,this.g_c2=3,this.g_ac=1,this.g_ac2=3;break;case 7:this.g_c3=0,this.g_c1=0,this.g_c2=0,this.g_ac=0,this.g_ac2=0}},G.prototype.ranInit=function(){this.ran_seed=4294967296*c.random()|0},G.prototype.ranInt=function(Lh){var Mh=this.ran_seed;return Mh=((Mh=(Mh^Mh<<9)>>>0)^Mh>>>11)>>>0,this.ran_seed=Mh=(Mh^Mh<<19)>>>0,2.3283064365386963e-10*Mh*Lh|0},G.prototype.drawScore=function(){if(this.score_v)if(0<this.time_max){var Uh,Sh=s(this.time/1e3),Th=14+this.moji_size;this.gg.os_g.setColor(this.gamecolor_score),this.gg.os_g.setFont(new E("Dialog",1,this.moji_size)),Uh=this.j_left_shoki<=0&&this.j_left<=0?this.moji_score+" "+this.score+"    "+this.moji_highscore+" "+this.highscore+this.moji_time+Sh:(Uh=this.moji_score+" "+this.score+"    "+this.moji_highscore+" "+this.highscore+this.moji_left+this.j_left)+this.moji_time+Sh,this.gg.os_g.drawString(Uh,40,Th)}else{var Wh,Vh=14+this.moji_size;this.gg.os_g.setColor(this.gamecolor_score),this.gg.os_g.setFont(new E("Dialog",1,this.moji_size)),Wh=this.j_left_shoki<=0&&this.j_left<=0?this.moji_score+" "+this.score+"    "+this.moji_highscore+" "+this.highscore:this.moji_score+" "+this.score+"    "+this.moji_highscore+" "+this.highscore+this.moji_left+this.j_left,this.gg.os_g.drawString(Wh,40,Vh)}else if(0<this.time_max){var Ph,Nh=s(this.time/1e3),Oh=14+this.moji_size;this.gg.os_g.setColor(this.gamecolor_score),this.gg.os_g.setFont(new E("Dialog",1,this.moji_size)),Ph=this.j_left_shoki<=0&&this.j_left<=0?this.moji_time+Nh:(Ph=this.moji_left+this.j_left)+this.moji_time+Nh,this.gg.os_g.drawString(Ph,40,Oh)}else{var Rh,Qh=14+this.moji_size;this.gg.os_g.setColor(this.gamecolor_score),this.gg.os_g.setFont(new E("Dialog",1,this.moji_size)),Rh=this.j_left_shoki<=0&&this.j_left<=0?"":this.moji_left+this.j_left,this.gg.os_g.drawString(Rh,40,Qh)}},G.prototype.drawScore2=function(){if(this.score_v){var $h,Zh=14+this.moji_size;this.gg.os_g.setColor(this.gamecolor_score),this.gg.os_g.setFont(new E("Dialog",1,this.moji_size)),$h=this.j_left_shoki<=0&&this.j_left<=0?this.moji_score+" "+this.score+"    "+this.moji_highscore+" "+this.highscore:this.moji_score+" "+this.score+"    "+this.moji_highscore+" "+this.highscore+this.moji_left+this.j_left,this.gg.os_g.drawString($h,40,Zh)}else{var Yh,Xh=14+this.moji_size;this.gg.os_g.setColor(this.gamecolor_score),this.gg.os_g.setFont(new E("Dialog",1,this.moji_size)),Yh=this.j_left_shoki<=0&&this.j_left<=0?"":this.moji_left+this.j_left,this.gg.os_g.drawString(Yh,40,Xh)}},G.prototype.addScore=function(_h){this.score+=_h,0<this.score_1up_1&&this.score>=this.score_1up_1&&(this.j_left++,this.score_1up_1=0),0<this.score_1up_2&&this.score>=this.score_1up_2&&(this.j_left++,this.score_1up_2=0)},G.prototype.addSerifu=function(ai,bi,ci){for(var di=1;di<=ci;di++){var fi,ei=this.gg.ap.getParameter("serifu"+bi+"-"+di);fi=parseInt(ei),isNaN(fi)&&(fi=-1),0!=fi&&this.km.addItem(ai,ei)}},G.prototype.mL100=function(){if(this.moveGameCounter(),this.aMove(),100==this.co_j.c?this.jM100():this.jMove(),0<this.sl_step&&(10==this.sl_step||11==this.sl_step?(this.ks_wx+=this.sl_speed,this.ks_wx>this.maps.wx_max&&(this.ks_wx=this.maps.wx_max),this.maps.wx=this.ks_wx,this.maps.wy=this.ks_wy,300!=this.co_j.c&&310!=this.co_j.c&&(this.co_j.x<this.ks_wx-16?(this.co_j.x=this.ks_wx-16,this.co_j.vx<0&&(this.co_j.vx=0),(20<=this.maps.getBGCode(this.co_j.x+15,this.co_j.y)||20<=this.maps.getBGCode(this.co_j.x+15,this.co_j.y+31))&&100<=this.co_j.c&&this.co_j.c<200&&(this.co_j.c=210,this.co_j.y=this.maps.wy-64,this.co_j.c1=0,this.j_jet_c=0,this.j_v_c=0)):this.co_j.x>this.ks_wx+496&&(this.co_j.x=this.ks_wx+496,(this.co_j.vx=0)<this.co_j.vx&&(this.co_j.vx=0))),11==this.sl_step&&this.maps.wx>=this.sl_wx&&(this.maps.wx=this.sl_wx,this.sl_wy=this.ks_wy,this.sl_step=3)):1==this.sl_step?this.maps.wx>=this.sl_wx&&(this.maps.wx=this.sl_wx,this.sl_step=2):2==this.sl_step?(this.maps.wx=this.sl_wx,this.co_j.x<this.sl_wx-16?(this.co_j.x=this.sl_wx-16,this.co_j.vx=0):this.co_j.x>this.sl_wx+496&&(this.co_j.x=this.sl_wx+496,this.co_j.vx=0),this.maps.wy>=this.sl_wy&&(this.maps.wy=this.sl_wy,this.sl_step=3)):(this.maps.wx=this.sl_wx,this.maps.wy=this.sl_wy,this.co_j.x<this.sl_wx-16?(this.co_j.x=this.sl_wx-16,this.co_j.vx=0):this.co_j.x>this.sl_wx+496&&(this.co_j.x=this.sl_wx+496,this.co_j.vx=0))),0<this.jm_kazu&&this.jmMove(),this.tMove(),0<this.co_b.c&&this.bMove(),0<this.m_kazu&&this.mMove(),0<this.time_max&&this.stage_cc<=0&&(this.time-=70,this.time<0&&(this.time=0,this.j_left--,this.j_left<0?(this.j_left=0,this.ml_mode=300):this.ml_mode=90)),0<this.stage_cc&&(this.stage_cc++,28<this.stage_cc&&(2==this.stage_select?4<=this.stage?this.ml_mode=400:(0<this.time_max&&this.addScore(s(this.time/1e3)),this.ml_mode=260):this.stage>=this.stage_max?this.ml_mode=400:(this.stage++,0<this.time_max&&this.addScore(s(this.time/1e3)),this.ml_mode=90))),this.drawGamescreen(),this.drawScore(),0<this.j_jet_fuel){var gi=this.moji_jet+" "+this.j_jet_fuel;0<this.j_gr_kazu&&(gi=1==this.j_gr_kazu?gi+"    "+this.moji_grenade:gi+"    "+this.moji_grenade+" "+this.j_gr_kazu),this.hg.drawString(gi,40,287+this.moji_size)}else 0<this.j_gr_kazu&&(1==this.j_gr_kazu?this.hg.drawString(this.moji_grenade,40,287+this.moji_size):this.hg.drawString(this.moji_grenade+" "+this.j_gr_kazu,40,287+this.moji_size));84==this.gk.key_code&&(this.gk.key_code=0,this.ml_mode=50)},G.prototype.mainLoop=function(){switch(this.ml_mode){default:break;case 50:this.gg.drawListImage(0,0,0),(0<this.score||0<this.highscore)&&this.drawScore(),this.gm.button_f||this.gk.tr1_f||(this.ml_mode=60,this.g_c1=0,this.sendHighscore());break;case 60:if(0==this.g_c1?118==this.gk.key_char&&(this.g_c1=1):1==this.g_c1?101==this.gk.key_char?this.g_c1=2:118!=this.gk.key_char&&(this.g_c1=0):2==this.g_c1&&(114==this.gk.key_char?this.ml_mode=1e3:101!=this.gk.key_char&&(this.g_c1=0)),!this.gm.button_f&&!this.gk.tr1_f)break;if(2==this.stage_select){this.init2(),this.ig.worldInit(),this.gg.os_g.setColor(D.black),this.gg.os_g.fillRect(0,0,this.gg.di.width,this.gg.di.height),this.ml_mode=200;break}this.init2(),this.init3(),this.gg.drawListImage(0,0,0),(0<this.score||0<this.highscore)&&this.drawScore(),this.j_left<=0?this.ml_mode=100:this.ml_mode=90;break;case 80:this.init2(),this.init3(),this.gg.drawListImage(0,0,0),(0<this.score||0<this.highscore)&&this.drawScore(),this.j_left<=0?this.ml_mode=100:this.ml_mode=90;break;case 90:this.init3(),this.gg.os_g.setColor(this.gamecolor_kaishi),this.gg.os_g.fillRect(0,0,this.gg.di.width,this.gg.di.height),this.stage>=this.stage_max?(this.gg.drawPT(160,144,52,0),this.gg.drawPT(192,144,53,0),this.gg.drawPT(224,144,54,0),this.gg.drawPT(256,144,55,0),this.gg.drawPT(288,144,56,0),this.gg.drawPT(320,144,57,0)):(this.gg.drawPT(192,144,70,0),this.gg.drawPT(224,144,71,0),this.gg.drawPT(256,144,72,0),this.stage>=this.stage_max&&this.gg.drawPT(288,144,75,0),3==this.stage?this.gg.drawPT(288,144,75,0):2==this.stage?this.gg.drawPT(288,144,74,0):this.gg.drawPT(288,144,73,0)),this.drawScore(),this.ml_mode=91,this.ml_mode_c=0;break;case 91:this.ml_mode_c++,35<this.ml_mode_c&&(this.ml_mode=100),84==this.gk.key_code&&(this.gk.key_code=0,this.ml_mode=50);break;case 95:switch(this.stage=this.ig.checkStage(),this.init3(),this.ig.shop_kattaitem){case 7:default:break;case 0:this.j_gr_kazu=3;break;case 1:this.j_jet_fuel=80;break;case 2:this.j_drell_f=!0;break;case 3:this.j_helm_f=!0;break;case 4:this.j_tail_f=!0;break;case 5:this.j_v_c=150,this.j_v_kakudo=0;break;case 6:this.j_fire_f=!0;break;case 8:0<this.time_max&&(this.time+=3e4)}this.gg.os_g.setColor(D.black),this.gg.os_g.fillRect(0,0,this.gg.di.width,this.gg.di.height),this.drawScore(),this.ml_mode=96,this.ml_mode_c=0;break;case 96:this.ml_mode_c++,8<this.ml_mode_c&&(this.ml_mode=100),84==this.gk.key_code&&(this.gk.key_code=0,this.ml_mode=50);break;case 200:this.ig.drawMap(),this.ig.mainProgram(),this.time=0,this.drawScore2(),110==this.ig.mp_mode&&(1<=this.ig.dokan_khID?this.ml_mode=230:this.ml_mode=95),84==this.gk.key_code&&(this.gk.key_code=0,this.ml_mode=50);break;case 230:this.gg.os_g.setColor(D.black),this.gg.os_g.fillRect(0,0,this.gg.di.width,this.gg.di.height),this.drawScore2(),this.ml_mode=231,this.ml_mode_c=0;break;case 231:var hi;if(this.ml_mode_c++,5==this.ml_mode_c)hi=2==this.ig.dokan_khID?this.gg.ap.getParameter("url2"):3==this.ig.dokan_khID?this.gg.ap.getParameter("url3"):4==this.ig.dokan_khID?this.gg.ap.getParameter("url4"):this.gg.ap.getParameter("url1"),location.href=hi;else 80<this.ml_mode_c&&(this.ml_mode=50);84==this.gk.key_code&&(this.gk.key_code=0,this.ml_mode=50);break;case 250:this.addScore(0),this.ig.worldInit2(),this.ml_mode=251,this.ml_mode_c=0,this.gg.os_g.setColor(D.black),this.gg.os_g.fillRect(0,0,this.gg.di.width,this.gg.di.height),this.drawScore();break;case 251:this.ml_mode_c++,8<this.ml_mode_c&&(this.ml_mode=200),84==this.gk.key_code&&(this.gk.key_code=0,this.ml_mode=50);break;case 260:this.addScore(0),this.ig.worldInit3(),this.ml_mode=261,this.ml_mode_c=0,this.gg.os_g.setColor(D.black),this.gg.os_g.fillRect(0,0,this.gg.di.width,this.gg.di.height),this.drawScore();break;case 261:this.ml_mode_c++,8<this.ml_mode_c&&(this.ml_mode=200),84==this.gk.key_code&&(this.gk.key_code=0,this.ml_mode=50);break;case 300:this.gg.setBackcolor(D.black),this.gg.fill(),this.gg.drawListImage(0,0,2),this.drawScore(),this.sendHighscore(),this.ml_mode=310,this.ml_mode_c=0;break;case 310:this.ml_mode_c++,45<this.ml_mode_c&&(this.ml_mode=50),84==this.gk.key_code&&(this.gk.key_code=0,this.ml_mode=50);break;case 400:this.gg.drawListImage(0,0,1),0<this.time_max&&this.addScore(s(this.time/1e3)),this.drawScore(),this.sendHighscore(),this.ml_mode=410,this.ml_mode_c=0;break;case 410:this.ml_mode_c++,120<this.ml_mode_c&&(this.ml_mode=50),84==this.gk.key_code&&(this.gk.key_code=0,this.ml_mode=50);break;case 500:this.gg.setBackcolor(D.black),this.gg.fill(),this.gg.drawListImage(0,0,0),(0<this.score||0<this.highscore)&&this.drawScore(),this.ml_mode=50,this.ml_mode=50;break;case 1e3:this.gg.setBackcolor(D.black),this.gg.fill(),this.hg.setFont(new E("Dialog",0,46)),this.hg.setColor(D.white),this.hg.setFont(new E("Dialog",0,20)),this.hg.drawString("Title        MASAO CONSTRUCTION",50,50),this.hg.drawString("Version      2.8",50,80),this.hg.drawString("Language     Java2  SDK 1.3.1",50,110),this.hg.drawString("OS           WindowsXP",50,140),this.hg.drawString("Browser      InternetExplorer 6.0",50,170),this.hg.drawString("Programing   Fukuda Naoto",50,200),this.hg.drawString("Date         2003/6",50,230),this.ml_mode=1010,this.ml_mode_c=0;break;case 1010:this.ml_mode_c++,40<this.ml_mode_c&&(this.ml_mode=50)}},G.prototype.init1=function(){this.time_max=this.paraInt("time_max");var ii=this.paraInt("score_v");this.score_v=2!=ii,ii=this.paraInt("backcolor_red");var ji=this.paraInt("backcolor_green"),ki=this.paraInt("backcolor_blue");ii<0?ii=0:255<ii&&(ii=255),ji<0?ji=0:255<ji&&(ji=255),ki<0?ki=0:255<ki&&(ki=255),this.gamecolor_back=new D(ii,ji,ki),(ii=this.paraInt("backcolor_red_s"))<0?ii=0:255<ii&&(ii=255),(ji=this.paraInt("backcolor_green_s"))<0?ji=0:255<ji&&(ji=255),(ki=this.paraInt("backcolor_blue_s"))<0?ki=0:255<ki&&(ki=255),this.gamecolor_back_s=new D(ii,ji,ki),(ii=this.paraInt("backcolor_red_t"))<0?ii=0:255<ii&&(ii=255),(ji=this.paraInt("backcolor_green_t"))<0?ji=0:255<ji&&(ji=255),(ki=this.paraInt("backcolor_blue_t"))<0?ki=0:255<ki&&(ki=255),this.gamecolor_back_t=new D(ii,ji,ki),(ii=this.paraInt("backcolor_red_f"))<0?ii=0:255<ii&&(ii=255),(ji=this.paraInt("backcolor_green_f"))<0?ji=0:255<ji&&(ji=255),(ki=this.paraInt("backcolor_blue_f"))<0?ki=0:255<ki&&(ki=255),this.gamecolor_back_f=new D(ii,ji,ki),(ii=this.paraInt("kaishi_red"))<0?ii=0:255<ii&&(ii=255),(ji=this.paraInt("kaishi_green"))<0?ji=0:255<ji&&(ji=255),(ki=this.paraInt("kaishi_blue"))<0?ki=0:255<ki&&(ki=255),this.gamecolor_kaishi=new D(ii,ji,ki),(ii=this.paraInt("scorecolor_red"))<0?ii=0:255<ii&&(ii=255),(ji=this.paraInt("scorecolor_green"))<0?ji=0:255<ji&&(ji=255),(ki=this.paraInt("scorecolor_blue"))<0?ki=0:255<ki&&(ki=255),this.gamecolor_score=new D(ii,ji,ki),(ii=this.paraInt("grenade_red1"))<0?ii=0:255<ii&&(ii=255),(ji=this.paraInt("grenade_green1"))<0?ji=0:255<ji&&(ji=255),(ki=this.paraInt("grenade_blue1"))<0?ki=0:255<ki&&(ki=255),this.gamecolor_grenade1=new D(ii,ji,ki),(ii=this.paraInt("grenade_red2"))<0?ii=0:255<ii&&(ii=255),(ji=this.paraInt("grenade_green2"))<0?ji=0:255<ji&&(ji=255),(ki=this.paraInt("grenade_blue2"))<0?ki=0:255<ki&&(ki=255),this.gamecolor_grenade2=new D(ii,ji,ki),(ii=this.paraInt("firebar_red1"))<0?ii=0:255<ii&&(ii=255),(ji=this.paraInt("firebar_green1"))<0?ji=0:255<ji&&(ji=255),(ki=this.paraInt("firebar_blue1"))<0?ki=0:255<ki&&(ki=255),this.gamecolor_firebar1=new D(ii,ji,ki),(ii=this.paraInt("firebar_red2"))<0?ii=0:255<ii&&(ii=255),(ji=this.paraInt("firebar_green2"))<0?ji=0:255<ji&&(ji=255),(ki=this.paraInt("firebar_blue2"))<0?ki=0:255<ki&&(ki=255),this.gamecolor_firebar2=new D(ii,ji,ki),(ii=this.paraInt("mizunohadou_red"))<0?ii=0:255<ii&&(ii=255),(ji=this.paraInt("mizunohadou_green"))<0?ji=0:255<ji&&(ji=255),(ki=this.paraInt("mizunohadou_blue"))<0?ki=0:255<ki&&(ki=255),this.gamecolor_mizunohadou=new D(ii,ji,ki),this.moji_score=this.gg.ap.getParameter("moji_score"),this.moji_highscore=this.gg.ap.getParameter("moji_highscore"),this.moji_time=this.gg.ap.getParameter("moji_time"),this.moji_time="    "+this.moji_time+" ",this.moji_jet=this.gg.ap.getParameter("moji_jet"),this.moji_grenade=this.gg.ap.getParameter("moji_grenade"),this.moji_left=this.gg.ap.getParameter("moji_left"),this.moji_left="    "+this.moji_left+" ",this.moji_size=this.paraInt("moji_size"),this.moji_size<10?this.moji_size=10:30<this.moji_size&&(this.moji_size=30),this.j_left_shoki=this.paraInt("jibun_left_shoki"),this.j_left_shoki<1&&(this.j_left_shoki=1),this.j_left_shoki--,this.stage_max=this.paraInt("stage_max"),this.stage_max<1?this.stage_max=1:4<this.stage_max&&(this.stage_max=4),2==this.stage_select&&(this.stage_max=4),this.stage_kaishi=this.paraInt("stage_kaishi"),this.stage_kaishi<1&&(this.stage_kaishi=1),this.stage_kaishi>this.stage_max&&(this.stage_kaishi=this.stage_max),this.score_1up_1_para=this.paraInt("score_1up_1"),(this.score_1up_1_para<0||this.stage_max<=1)&&(this.score_1up_1_para=0),this.score_1up_2_para=this.paraInt("score_1up_2"),(this.score_1up_2_para<0||this.stage_max<=1)&&(this.score_1up_2_para=0),this.j_tail_type=this.paraInt("j_tail_type"),(this.j_tail_type<1||3<this.j_tail_type)&&(this.j_tail_type=1);var li=this.paraInt("j_tail_hf");this.j_tail_hf=2==li,this.grenade_type=this.paraInt("grenade_type"),(this.grenade_type<1||6<this.grenade_type)&&(this.grenade_type=1),this.suberuyuka_hkf=this.paraInt("suberuyuka_hkf"),2==this.suberuyuka_hkf?this.suberuyuka_hkf=2:this.suberuyuka_hkf=1,li=this.paraInt("j_fire_mkf"),this.j_fire_mkf=2==li,li=this.paraInt("dengeki_mkf"),this.dengeki_mkf=2==li,li=this.paraInt("yachamo_kf"),this.yachamo_cf=2==li,li=this.paraInt("airms_kf"),this.airms_kf=2==li,this.ugokuyuka1_type=this.paraInt("ugokuyuka1_type"),(this.ugokuyuka1_type<1||7<this.ugokuyuka1_type)&&(this.ugokuyuka1_type=1),this.ugokuyuka2_type=this.paraInt("ugokuyuka2_type"),(this.ugokuyuka2_type<1||7<this.ugokuyuka2_type)&&(this.ugokuyuka2_type=1),this.ugokuyuka3_type=this.paraInt("ugokuyuka3_type"),(this.ugokuyuka3_type<1||7<this.ugokuyuka3_type)&&(this.ugokuyuka3_type=1),this.boss_type=this.paraInt("boss_type"),(this.boss_type<1||4<this.boss_type)&&(this.boss_type=1),this.boss2_type=this.paraInt("boss2_type"),(this.boss2_type<1||2<this.boss2_type)&&(this.boss2_type=1),this.boss3_type=this.paraInt("boss3_type"),(this.boss3_type<1||4<this.boss3_type)&&(this.boss3_type=1),this.dokan_mode=this.paraInt("dokan_mode"),(this.dokan_mode<1||2<this.dokan_mode)&&(this.dokan_mode=1),this.mes1_name=this.gg.ap.getParameter("mes1_name"),this.mes2_name=this.gg.ap.getParameter("mes2_name"),this.shop_name=this.gg.ap.getParameter("shop_name"),this.setumei_name=this.gg.ap.getParameter("setumei_name"),this.door_score=this.paraInt("door_score"),this.door_score<10&&(this.door_score=10),this.shop_item_name[0]=this.gg.ap.getParameter("shop_item_name1"),this.shop_item_name[1]=this.gg.ap.getParameter("shop_item_name2"),this.shop_item_name[2]=this.gg.ap.getParameter("shop_item_name3"),this.shop_item_name[3]=this.gg.ap.getParameter("shop_item_name4"),this.shop_item_name[4]=this.gg.ap.getParameter("shop_item_name5"),this.shop_item_name[5]=this.gg.ap.getParameter("shop_item_name6"),this.shop_item_name[6]=this.gg.ap.getParameter("shop_item_name7"),this.shop_item_name[7]=this.gg.ap.getParameter("shop_item_name8"),this.shop_item_name[8]=this.gg.ap.getParameter("shop_item_name9");for(var mi=0;mi<=8;mi++){var ni=mi+1;(ni=this.paraInt("shop_item_teika"+ni))<0&&(ni=0),this.shop_item_teika[mi]=ni}},G.prototype.init2=function(){this.score>this.highscore&&(this.highscore=this.score),this.j_left=this.j_left_shoki,this.score_1up_1=this.score_1up_1_para,this.score_1up_2=this.score_1up_2_para;for(var oi=0;oi<=2;oi++)this.stage_1up_f[oi]=!0;this.gk.key_code=0,this.score=0,this.stage=this.stage_kaishi,0<this.time_max?this.time=1e3*this.time_max+1e3-70:this.time=0},G.prototype.init3=function(){this.sendHighscore(),this.g_c1=0,this.g_c2=0,this.g_c3=0,this.g_ac=0,this.g_ac2=0,this.stage_cc=0,this.co_j.init(),this.co_j.c=100,this.co_j.x=100,this.co_j.y=100,this.co_j.pt=100,this.co_j.muki=1,this.co_j.jimen_f=!1,this.j_hashiru_f=!1,this.j_jump_level=0,this.j_jump_type=0,this.j_a_id=-1,this.tr1_c=0,this.tr2_c=0,this.gk.left_c=0,this.gk.right_c=0,this.left_dcc=0,this.right_dcc=0,this.ochiru_y=9999,this.j_fire_f=!1,this.j_v_c=0,this.j_v_kakudo=0,this.j_jet_c=0,this.j_jet_kf=!1,this.j_jet_fuel=0,this.j_helm_f=!1,this.j_drell_f=!1,this.j_tail_f=!1,this.j_tail_ac=0,this.j_gr_kazu=0,this.j_mizu_f=!1,this.j_mizu_ac=0,this.j_mizu_awa_c=0,this.j_jdai_f=!1,this.hitokoto_c=0,this.hitokoto_num=1,this.j_tail_hf&&(this.j_tail_f=!0);for(var pi=0;pi<=5;pi++)this.j_zan_x[pi]=0,this.j_zan_y[pi]=0,this.j_zan_pt[pi]=0,this.j_zan_pth[pi]=0;var qi;this.j_zan_p=0,this.j_zan_c=0,this.j_zan_nagasa=0,this.j_zan_f=!1,this.sl_step=0,this.sl_speed=0,this.sl_wx=0,this.sl_wy=0,2==(qi=2==this.stage?this.paraInt("scroll_mode_s"):3==this.stage?this.paraInt("scroll_mode_t"):4==this.stage?this.paraInt("scroll_mode_f"):this.paraInt("scroll_mode"))?(this.sl_step=10,this.ks_wx=32,this.ks_wy=960,this.sl_speed=2):3==qi&&(this.sl_step=10,this.ks_wx=32,this.ks_wy=960,this.sl_speed=4);for(var ri=0;ri<=31;ri++){this.co_a[ri].init();for(var si=0;si<=3;si++)this.vo_x[ri][si]=0,this.vo_y[ri][si]=0}this.a_kazu=-1,this.a_hf=!1;for(var ti=0;ti<=129;ti++)this.co_t[ti].init();this.t_kazu=-1,this.co_b.init();for(var ui=this.boss_kijyun_y=0;ui<=23;ui++)this.co_m[ui].init();for(var vi=this.m_kazu=0;vi<=1;vi++)this.co_jm[vi].init();for(var wi=this.jm_kazu=0;wi<=63;wi++)this.co_h[wi].init();0<this.time_max?this.time=1e3*this.time_max+1e3-70:this.time=0,this.mapsMakeStageData(100+this.stage),10!=this.sl_step&&11!=this.sl_step||(this.ks_wx=this.maps.wx,this.ks_wx<=128&&(this.ks_wx=32)),this.maps.drawMap(this.maps.wx,this.maps.wy)},G.prototype.mapsMakeStageData=function(xi){this.maps.init();var yi=this.maps.map_string;this.maps.wx=32,this.maps.wy=32,this.maps.wx_mini=32,this.maps.wy_mini=320,this.maps.wx_max=5856,this.maps.wy_max=6048;switch(this.gg.setBackcolor(D.blue),xi){default:break;case 101:this.maps.setBank(0),this.gg.setBackcolor(this.gamecolor_back),this.maps.wx_max=5280,this.maps.wy_max=960;for(var Ai=0;Ai<=29;Ai++){var Bi="."+this.gg.ap.getParameter("map0-"+Ai);Bi+=this.gg.ap.getParameter("map1-"+Ai),Bi+=this.gg.ap.getParameter("map2-"+Ai),yi[Ai+10]=Bi}break;case 102:this.maps.setBank(0),this.gg.setBackcolor(this.gamecolor_back_s),this.maps.wx_max=5280,this.maps.wy_max=960;for(var Ci=0;Ci<=29;Ci++){var Di="."+this.gg.ap.getParameter("map0-"+Ci+"-s");Di+=this.gg.ap.getParameter("map1-"+Ci+"-s"),Di+=this.gg.ap.getParameter("map2-"+Ci+"-s"),yi[Ci+10]=Di}break;case 103:this.maps.setBank(0),this.gg.setBackcolor(this.gamecolor_back_t),this.maps.wx_max=5280,this.maps.wy_max=960;for(var Ei=0;Ei<=29;Ei++){var Fi="."+this.gg.ap.getParameter("map0-"+Ei+"-t");Fi+=this.gg.ap.getParameter("map1-"+Ei+"-t"),Fi+=this.gg.ap.getParameter("map2-"+Ei+"-t"),yi[Ei+10]=Fi}break;case 104:this.maps.setBank(0),this.gg.setBackcolor(this.gamecolor_back_f),this.maps.wx_max=5280,this.maps.wy_max=960;for(var Gi=0;Gi<=29;Gi++){var Hi="."+this.gg.ap.getParameter("map0-"+Gi+"-f");Hi+=this.gg.ap.getParameter("map1-"+Gi+"-f"),Hi+=this.gg.ap.getParameter("map2-"+Gi+"-f"),yi[Gi+10]=Hi}}for(var Ii=0;Ii<this.maps.height;Ii++)if(yi[Ii].length<this.maps.width)for(var Ki=yi[Ii].length;Ki<this.maps.width;Ki++)yi[Ii]+=".";for(var Mi=0;Mi<this.maps.height;Mi++)for(var Ni=0;Ni<this.maps.width;Ni++){var Oi=yi[Mi].charAt(Ni),Pi=-1;"."!=Oi&&("1"==Oi?Pi=1:"2"==Oi?Pi=2:"3"==Oi?Pi=3:"4"==Oi?Pi=4:"5"==Oi?Pi=5:"6"==Oi?Pi=6:"7"==Oi?Pi=7:"8"==Oi?Pi=8:"9"==Oi?Pi=9:"a"==Oi?Pi=20:"b"==Oi?Pi=21:"c"==Oi?Pi=22:"d"==Oi?Pi=23:"e"==Oi?Pi=24:"f"==Oi?Pi=25:"g"==Oi?Pi=26:"h"==Oi?Pi=27:"i"==Oi?Pi=28:"j"==Oi?Pi=29:"k"==Oi?(Pi=40,this.hSet(Ni,Mi,100)):"l"==Oi?(Pi=40,this.hSet(Ni,Mi,200)):"m"==Oi?(Pi=40,this.hSet(Ni,Mi,300)):"n"==Oi?(Pi=40,this.hSet(Ni,Mi,400)):"o"==Oi?(Pi=40,this.hSet(Ni,Mi,500)):"p"==Oi?(Pi=40,this.hSet(Ni,Mi,600)):"q"==Oi?(Pi=40,this.hSet(Ni,Mi,700)):"r"==Oi?(Pi=40,this.hSet(Ni,Mi,800)):"s"==Oi?(Pi=40,this.hSet(Ni,Mi,900)):"t"==Oi?(Pi=40,this.hSet(Ni,Mi,1e3)):"u"==Oi?(this.aSet(32*Ni,32*Mi,300,32*Ni),4==this.maps.map_bg[Ni-1][Mi]&&(Pi=4)):"v"==Oi?(this.aSet(32*Ni,32*Mi,310,32*Ni),4==this.maps.map_bg[Ni-1][Mi]&&(Pi=4)):"w"==Oi?(this.aSet(32*Ni,32*Mi,320,32*Ni),4==this.maps.map_bg[Ni-1][Mi]&&(Pi=4)):"x"==Oi?(this.aSet(32*Ni,32*Mi,330,32*Ni),4==this.maps.map_bg[Ni-1][Mi]&&(Pi=4)):"y"==Oi?this.stage_1up_f[this.stage-1]?(Pi=40,this.hSet(Ni,Mi,1100)):Pi=41:"z"==Oi?Pi=69:"+"==Oi?(this.aSet(32*Ni,32*Mi,80,32*Ni),4==this.maps.map_bg[Ni-1][Mi]&&(Pi=4)):"-"==Oi?(this.aSet(32*Ni,32*Mi,81,32*Ni),4==this.maps.map_bg[Ni-1][Mi]&&(Pi=4)):"*"==Oi?(this.aSet(32*Ni,32*Mi,82,32*Ni),4==this.maps.map_bg[Ni-1][Mi]&&(Pi=4)):"/"==Oi?(this.aSet(32*Ni,32*Mi,83,32*Ni),4==this.maps.map_bg[Ni-1][Mi]&&(Pi=4)):"A"==Oi?(this.co_j.x=32*Ni,this.co_j.y=32*Mi,4==this.maps.map_bg[Ni-1][Mi]&&(Pi=4)):"B"==Oi?(this.tSet(32*Ni,32*Mi,100,32*Ni-512-32),4==this.maps.map_bg[Ni-1][Mi]&&(Pi=4)):"C"==Oi?(this.tSet(32*Ni,32*Mi,110,32*Ni-512-32),4==this.maps.map_bg[Ni-1][Mi]&&(Pi=4)):"D"==Oi?(this.tSet(32*Ni,32*Mi,110,32*Ni-512-32),this.tSet(32*Ni+75,32*Mi,110,32*Ni-512-32),this.tSet(32*Ni+150,32*Mi,110,32*Ni-512-32),4==this.maps.map_bg[Ni-1][Mi]&&(Pi=4)):"E"==Oi?(this.tSet(32*Ni,32*Mi,200,32*Ni-512-32),4==this.maps.map_bg[Ni-1][Mi]&&(Pi=4)):"F"==Oi?(this.tSet(32*Ni,32*Mi,300,32*Ni-512-32),4==this.maps.map_bg[Ni-1][Mi]&&(Pi=4)):"G"==Oi?(this.tSet(32*Ni,32*Mi,400,32*Ni-512-32),4==this.maps.map_bg[Ni-1][Mi]&&(Pi=4)):"H"==Oi?(this.tSet(32*Ni,32*Mi,500,32*Ni-512-32),4==this.maps.map_bg[Ni-1][Mi]&&(Pi=4)):"I"==Oi?(this.tSet(32*Ni,32*Mi,510,32*Ni-512-32),4==this.maps.map_bg[Ni-1][Mi]&&(Pi=4)):"J"==Oi?(this.tSet(32*Ni,32*Mi,510,32*Ni-512-32-32),this.tSet(32*Ni+80,32*Mi-40,510,32*Ni-512-32-32),this.tSet(32*Ni+140,32*Mi+38,510,32*Ni-512-32-32),4==this.maps.map_bg[Ni-1][Mi]&&(Pi=4)):"K"==Oi?(2==this.ugokuyuka1_type?this.aSet(32*Ni,32*Mi,500,32*Ni):3==this.ugokuyuka1_type?this.aSet(32*Ni,32*Mi,510,32*Ni):4==this.ugokuyuka1_type?this.aSet(32*Ni,32*Mi,120,32*Ni):5==this.ugokuyuka1_type?this.aSet(32*Ni,32*Mi,121,32*Ni):6==this.ugokuyuka1_type?this.aSet(32*Ni,32*Mi,600,32*Ni):7==this.ugokuyuka1_type?this.aSet(32*Ni,32*Mi,700,32*Ni):this.aSet(32*Ni,32*Mi,100,32*Ni),4==this.maps.map_bg[Ni-1][Mi]&&(Pi=4)):"L"==Oi?(2==this.ugokuyuka2_type?this.aSet(32*Ni,32*Mi,500,32*Ni):3==this.ugokuyuka2_type?this.aSet(32*Ni,32*Mi,510,32*Ni):4==this.ugokuyuka2_type?this.aSet(32*Ni,32*Mi,120,32*Ni):5==this.ugokuyuka2_type?this.aSet(32*Ni,32*Mi,121,32*Ni):6==this.ugokuyuka2_type?this.aSet(32*Ni,32*Mi,600,32*Ni):7==this.ugokuyuka2_type?this.aSet(32*Ni,32*Mi,700,32*Ni):this.aSet(32*Ni,32*Mi+9,110,32*Ni-16),4==this.maps.map_bg[Ni-1][Mi]&&(Pi=4)):"M"==Oi?(2==this.ugokuyuka3_type?this.aSet(32*Ni,32*Mi,500,32*Ni):3==this.ugokuyuka3_type?this.aSet(32*Ni,32*Mi,510,32*Ni):4==this.ugokuyuka3_type?this.aSet(32*Ni,32*Mi,120,32*Ni):5==this.ugokuyuka3_type?this.aSet(32*Ni,32*Mi,121,32*Ni):6==this.ugokuyuka3_type?this.aSet(32*Ni,32*Mi,600,32*Ni):7==this.ugokuyuka3_type?this.aSet(32*Ni,32*Mi,700,32*Ni):(this.aSet(32*Ni,32*Mi+9,115,32*Ni-16),this.aSet(32*Ni,32*Mi+9,116,32*Ni-16)),4==this.maps.map_bg[Ni-1][Mi]&&(Pi=4)):"N"==Oi?(this.aSet(32*Ni-32,32*Mi,400,32*Ni),4==this.maps.map_bg[Ni-1][Mi]&&(Pi=4)):"O"==Oi?(this.tSet(32*Ni,32*Mi,600,32*Ni-512-32),4==this.maps.map_bg[Ni-1][Mi]&&(Pi=4)):"P"==Oi?(this.tSet(32*Ni,32*Mi,700,32*Ni-512-32),4==this.maps.map_bg[Ni-1][Mi]&&(Pi=4)):"Q"==Oi?(this.tSet(32*Ni,32*Mi,800,32*Ni-512-32),4==this.maps.map_bg[Ni-1][Mi]&&(Pi=4)):"R"==Oi?(this.tSet(32*Ni,32*Mi,900,32*Ni-512-32),4==this.maps.map_bg[Ni-1][Mi]&&(Pi=4)):"S"==Oi?(this.co_b.c=100,this.co_b.c4=3,this.co_b.x=32*Ni,this.co_b.y=32*Mi-16,4==this.maps.map_bg[Ni-1][Mi]&&(Pi=4),this.co_b.x<448?this.co_b.x=448:5664<this.co_b.x&&(this.co_b.x=5664),10==this.sl_step?this.sl_step=11:this.sl_step=1,this.sl_wx=this.co_b.x-384,this.sl_wy=960):"T"==Oi?(this.co_b.c=200,this.co_b.c4=3,this.co_b.x=32*Ni,this.co_b.y=32*Mi-16,4==this.maps.map_bg[Ni-1][Mi]&&(Pi=4),this.co_b.x<448?this.co_b.x=448:5664<this.co_b.x&&(this.co_b.x=5664),10==this.sl_step?this.sl_step=11:this.sl_step=1,this.sl_wx=this.co_b.x-384,this.sl_wy=960):"U"==Oi?(this.aSet(32*Ni+16,32*Mi+16,70,32*Ni),Pi=50):"V"==Oi?(this.aSet(32*Ni+16,32*Mi+16,71,32*Ni),Pi=50):"W"==Oi?(this.tSet(32*Ni,32*Mi-16,1e3,32*Ni-512-32-32),Pi=4):"X"==Oi?(this.tSet(32*Ni,32*Mi,1100,32*Ni-512-32),Pi=4):"Y"==Oi?(this.aSet(32*Ni,32*Mi,60,32*Ni),4==this.maps.map_bg[Ni-1][Mi]&&(Pi=4)):"Z"==Oi&&(this.co_b.c=300,this.co_b.c4=3,this.co_b.x=32*Ni,this.co_b.y=32*Mi-16,this.boss_kijyun_y=this.co_b.y,4==this.maps.map_bg[Ni-1][Mi]&&(Pi=4),this.co_b.x<448?this.co_b.x=448:5664<this.co_b.x&&(this.co_b.x=5664),10==this.sl_step?this.sl_step=11:this.sl_step=1,this.sl_wx=this.co_b.x-384,this.sl_wy=960),0<=Pi&&(this.maps.map_bg[Ni][Mi]=Pi))}for(var Qi=0;Qi<=this.maps.width-1;Qi++)this.maps.map_bg[Qi][0]=21,this.maps.map_bg[Qi][this.maps.height-1]=21;for(var Ri=0;Ri<=this.maps.height-1;Ri++)this.maps.map_bg[0][Ri]=21,this.maps.map_bg[181][Ri]=21,this.maps.map_bg[199][Ri]=21;this.ochiru_y=this.maps.wy_max+320,this.maps.wx=this.co_j.x-96,this.maps.wy=this.co_j.y-176,this.maps.wx<this.maps.wx_mini?this.maps.wx=this.maps.wx_mini:this.maps.wx>this.maps.wx_max&&(this.maps.wx=this.maps.wx_max),this.maps.wy<this.maps.wy_mini?this.maps.wy=this.maps.wy_mini:this.maps.wy>this.maps.wy_max&&(this.maps.wy=this.maps.wy_max),this.co_j.wx=this.co_j.x-this.maps.wx,this.co_j.wy=this.co_j.y-this.maps.wy},G.prototype.drawGamescreen=function(){this.maps.drawMapScroll(this.g_ac2);var Si=this.maps.wx,Ti=this.maps.wy;if(this.co_j.wx=this.co_j.x-this.maps.wx,this.co_j.wy=this.co_j.y-this.maps.wy,this.a_hf)for(var Ui=0;Ui<=this.a_kazu;Ui++)if(this.co_a[Ui].gf){var Vi=this.co_a[Ui],Wi=Vi.x-Si,Xi=Vi.y-Ti;switch(Vi.pt){default:break;case 100:this.hg.drawImage(this.hi[190],Wi,Xi,this.ap),this.hg.drawImage(this.hi[191],Wi+32,Xi,this.ap),this.hg.drawImage(this.hi[192],Wi+64,Xi,this.ap);break;case 200:this.hg.drawImage(this.hi[76],Wi,Xi,this.ap),this.hg.drawImage(this.hi[77],Wi+32,Xi,this.ap),this.hg.drawImage(this.hi[86],Wi,Xi+32,this.ap),this.hg.drawImage(this.hi[87],Wi+32,Xi+32,this.ap);break;case 210:this.hg.drawImage(this.hi[78],Wi,Xi,this.ap),this.hg.drawImage(this.hi[79],Wi+32,Xi,this.ap),this.hg.drawImage(this.hi[88],Wi,Xi+32,this.ap),this.hg.drawImage(this.hi[89],Wi+32,Xi+32,this.ap);break;case 300:this.hg.drawImage(this.hi[60],Wi,Xi,this.ap),this.hg.drawImage(this.hi[61],Wi+32,Xi,this.ap);break;case 310:this.hg.drawImage(this.hi[62],Wi,Xi,this.ap),this.hg.drawImage(this.hi[63],Wi+32,Xi,this.ap);break;case 320:this.hg.drawImage(this.hi[64],Wi,Xi,this.ap),this.hg.drawImage(this.hi[65],Wi+32,Xi,this.ap);break;case 330:this.hg.drawImage(this.hi[66],Wi,Xi,this.ap),this.hg.drawImage(this.hi[67],Wi+32,Xi,this.ap);break;case 400:this.hg.drawImage(this.hi[183],Wi,Xi,this.ap),this.hg.drawImage(this.hi[184],Wi+32,Xi,this.ap),this.hg.drawImage(this.hi[185],Wi+64,Xi,this.ap),this.hg.drawImage(this.hi[193],Wi,Xi+32,this.ap),this.hg.drawImage(this.hi[194],Wi+32,Xi+32,this.ap),this.hg.drawImage(this.hi[195],Wi+64,Xi+32,this.ap);break;case 500:this.hg.drawImage(this.hi[180],Wi,Xi,this.ap),this.hg.drawImage(this.hi[181],Wi+32,Xi,this.ap),this.hg.drawImage(this.hi[182],Wi+64,Xi,this.ap);break;case 600:this.hg.drawImage(this.hi[188],Wi,Xi,this.ap),this.hg.drawImage(this.hi[189],Wi+32,Xi,this.ap),this.hg.drawImage(this.hi[198],Wi,Xi+32,this.ap),this.hg.drawImage(this.hi[199],Wi+32,Xi+32,this.ap);break;case 605:this.hg.drawImage(this.hih[1][189],Wi,Xi,this.ap),this.hg.drawImage(this.hih[1][188],Wi+32,Xi,this.ap),this.hg.drawImage(this.hih[1][199],Wi,Xi+32,this.ap),this.hg.drawImage(this.hih[1][198],Wi+32,Xi+32,this.ap);break;case 700:this.hg.drawImage(this.hi[32],Wi,Xi,this.ap);break;case 710:this.hg.drawImage(this.hi[33],Wi,Xi,this.ap);break;case 720:this.hg.drawImage(this.hi[34],Wi,Xi,this.ap);break;case 800:Vi.x>=this.co_j.x?this.hg.drawImage(this.hi[35+Vi.c3],Wi,Xi,this.ap):this.hg.drawImage(this.hih[1][35+Vi.c3],Wi,Xi,this.ap);break;case 1100:var Yi=c.floor(16*c.cos(6.283185307179586*(Vi.c3+90)/360)),Zi=c.floor(16*c.sin(6.283185307179586*(Vi.c3+90)/360));if(this.vo_pa_x[0]=this.vo_x[Ui][0]-Si+Yi,this.vo_pa_y[0]=this.vo_y[Ui][0]-Ti+Zi,this.vo_pa_x[1]=this.vo_x[Ui][0]-Si-Yi,this.vo_pa_y[1]=this.vo_y[Ui][0]-Ti-Zi,this.vo_pa_x[2]=this.vo_x[Ui][1]-Si-Yi,this.vo_pa_y[2]=this.vo_y[Ui][1]-Ti-Zi,this.vo_pa_x[3]=this.vo_x[Ui][1]-Si+Yi,this.vo_pa_y[3]=this.vo_y[Ui][1]-Ti+Zi,this.gg.os_g.setColor(this.gamecolor_firebar1),this.gg.os_g.fillPolygon(this.vo_pa_x,this.vo_pa_y,4),2<=this.g_c2){this.gg.os_g.setColor(this.gamecolor_firebar2);var $i=c.floor(10*c.cos(6.283185307179586*(Vi.c3+90)/360)),_i=c.floor(10*c.sin(6.283185307179586*(Vi.c3+90)/360));this.vo_pa_x[0]=this.vo_x[Ui][2]-Si+$i,this.vo_pa_y[0]=this.vo_y[Ui][2]-Ti+_i,this.vo_pa_x[1]=this.vo_x[Ui][2]-Si-$i,this.vo_pa_y[1]=this.vo_y[Ui][2]-Ti-_i,this.vo_pa_x[2]=this.vo_x[Ui][3]-Si-$i,this.vo_pa_y[2]=this.vo_y[Ui][3]-Ti-_i,this.vo_pa_x[3]=this.vo_x[Ui][3]-Si+$i,this.vo_pa_y[3]=this.vo_y[Ui][3]-Ti+_i,this.gg.os_g.fillPolygon(this.vo_pa_x,this.vo_pa_y,4)}}}if(0<this.m_kazu)for(var aj=0;aj<=23;aj++)if(50<=this.co_m[aj].c){var bj=this.co_m[aj];if(50==bj.c){this.hg.drawImage(this.hih[bj.pth][bj.pt],bj.x-Si,bj.y-Ti,this.ap);var cj=this.maps.getBGCode(bj.x,bj.y);20<=cj&&this.gg.drawPT(32*(bj.x>>5)-Si,32*(bj.y>>5)-Ti,cj,0),20<=(cj=this.maps.getBGCode(bj.x+31,bj.y))&&this.gg.drawPT(32*(bj.x+31>>5)-Si,32*(bj.y>>5)-Ti,cj,0)}else 1e3==bj.pt?(this.gg.os_g.setColor(this.gamecolor_mizunohadou),this.gg.os_g.fillOval(bj.x-Si+16-bj.c2,bj.y-Ti+16-bj.c2,2*bj.c2,2*bj.c2)):1100==bj.pt?(0==this.g_ac?this.gg.os_g.setColor(this.gamecolor_grenade1):this.gg.os_g.setColor(this.gamecolor_grenade2),this.gg.os_g.fillOval(bj.x-Si+16-bj.c2,bj.y-Ti+16-bj.c2,2*bj.c2,2*bj.c2)):this.hg.drawImage(this.hih[bj.pth][bj.pt],bj.x-Si,bj.y-Ti,this.ap)}if(0<this.jm_kazu)for(var dj=0;dj<=1;dj++)if(50<=this.co_jm[dj].c){var ej=this.co_jm[dj];ej.pt<1e3?this.hg.drawImage(this.hih[ej.pth][ej.pt],ej.x-Si,ej.y-Ti,this.ap):1200==ej.pt?(0==this.g_ac?this.gg.os_g.setColor(this.gamecolor_grenade1):this.gg.os_g.setColor(this.gamecolor_grenade2),this.gg.os_g.fillRect(ej.x-Si,ej.y-Ti+12,ej.vx-ej.x+1,8)):1205==ej.pt?(0==this.g_ac?this.gg.os_g.setColor(this.gamecolor_grenade1):this.gg.os_g.setColor(this.gamecolor_grenade2),this.gg.os_g.fillRect(ej.vx-Si,ej.y-Ti+12,ej.x-ej.vx+1,8)):(0==this.g_ac?this.gg.os_g.setColor(this.gamecolor_grenade1):this.gg.os_g.setColor(this.gamecolor_grenade2),this.gg.os_g.fillOval(ej.x-Si+16-ej.c2,ej.y-Ti+16-ej.c2,2*ej.c2,2*ej.c2))}for(var fj=0;fj<=this.t_kazu;fj++)if(50<=this.co_t[fj].c){var gj=this.co_t[fj].x-Si,hj=this.co_t[fj].y-Ti;-64<=gj&&hj<=576&&this.hg.drawImage(this.hih[this.co_t[fj].pth][this.co_t[fj].pt],gj,hj,this.ap)}if(50<this.co_b.c){var ij=this.co_b.x-Si;if(ij<528){var jj=this.co_b.y-Ti;switch(this.co_b.pt){default:break;case 1e3:this.hg.drawImage(this.hih[0][186],ij-16,jj-16,this.ap),this.hg.drawImage(this.hih[0][187],ij+16,jj-16,this.ap),this.hg.drawImage(this.hih[0][196],ij-16,jj+16,this.ap),this.hg.drawImage(this.hih[0][197],ij+16,jj+16,this.ap);break;case 1005:this.hg.drawImage(this.hih[1][187],ij-16,jj-16,this.ap),this.hg.drawImage(this.hih[1][186],ij+16,jj-16,this.ap),this.hg.drawImage(this.hih[1][197],ij-16,jj+16,this.ap),this.hg.drawImage(this.hih[1][196],ij+16,jj+16,this.ap);break;case 1010:this.hg.drawImage(this.hih[0][176],ij-16,jj+16,this.ap),this.hg.drawImage(this.hih[0][177],ij+16,jj+16,this.ap);break;case 1015:this.hg.drawImage(this.hih[1][177],ij-16,jj+16,this.ap),this.hg.drawImage(this.hih[1][176],ij+16,jj+16,this.ap);break;case 1100:this.hg.drawImage(this.hih[0][188],ij-16,jj-16,this.ap),this.hg.drawImage(this.hih[0][189],ij+16,jj-16,this.ap),this.hg.drawImage(this.hih[0][198],ij-16,jj+16,this.ap),this.hg.drawImage(this.hih[0][199],ij+16,jj+16,this.ap);break;case 1105:this.hg.drawImage(this.hih[1][189],ij-16,jj-16,this.ap),this.hg.drawImage(this.hih[1][188],ij+16,jj-16,this.ap),this.hg.drawImage(this.hih[1][199],ij-16,jj+16,this.ap),this.hg.drawImage(this.hih[1][198],ij+16,jj+16,this.ap);break;case 1110:this.hg.drawImage(this.hih[0][178],ij-16,jj+16,this.ap),this.hg.drawImage(this.hih[0][179],ij+16,jj+16,this.ap);break;case 1115:this.hg.drawImage(this.hih[1][179],ij-16,jj+16,this.ap),this.hg.drawImage(this.hih[1][178],ij+16,jj+16,this.ap);break;case 1200:this.hg.drawImage(this.hih[0][238],ij-16,jj-16,this.ap),this.hg.drawImage(this.hih[0][239],ij+16,jj-16,this.ap),this.hg.drawImage(this.hih[0][248],ij-16,jj+16,this.ap),this.hg.drawImage(this.hih[0][249],ij+16,jj+16,this.ap);break;case 1205:this.hg.drawImage(this.hih[1][239],ij-16,jj-16,this.ap),this.hg.drawImage(this.hih[1][238],ij+16,jj-16,this.ap),this.hg.drawImage(this.hih[1][249],ij-16,jj+16,this.ap),this.hg.drawImage(this.hih[1][248],ij+16,jj+16,this.ap);break;case 1210:this.hg.drawImage(this.hih[0][228],ij-16,jj+16,this.ap),this.hg.drawImage(this.hih[0][229],ij+16,jj+16,this.ap);break;case 1215:this.hg.drawImage(this.hih[1][229],ij-16,jj+16,this.ap),this.hg.drawImage(this.hih[1][228],ij+16,jj+16,this.ap);break;case 1250:this.hg.drawImage(this.hih[0][238],ij-16,jj-16,this.ap),this.hg.drawImage(this.hih[0][239],ij+16,jj-16,this.ap),this.hg.drawImage(this.hih[0][248],ij-16,jj+16,this.ap),this.hg.drawImage(this.hih[0][249],ij+16,jj+16,this.ap),this.j_v_c<=0&&(this.j_v_kakudo+=2,360<this.j_v_kakudo&&(this.j_v_kakudo-=360)),ij=this.co_b.x-Si+16,jj=this.co_b.y-Ti+16,this.gg.os_g.setColor(D.white);for(var kj=.017453292519943295,lj=0;lj<=5;lj++){var mj=(this.j_v_kakudo+60*lj)*kj;this.vo_pa_x[lj]=ij+c.floor(50*c.cos(mj)),this.vo_pa_y[lj]=jj+c.floor(50*c.sin(mj))}this.gg.os_g.drawPolygon(this.vo_pa_x,this.vo_pa_y,6);for(var nj=0;nj<=5;nj++){var oj=(360-this.j_v_kakudo+60*nj)*kj;this.vo_pa_x[nj]=ij+c.floor(50*c.cos(oj)),this.vo_pa_y[nj]=jj+c.floor(50*c.sin(oj))}this.gg.os_g.drawPolygon(this.vo_pa_x,this.vo_pa_y,6);break;case 1255:this.hg.drawImage(this.hih[1][239],ij-16,jj-16,this.ap),this.hg.drawImage(this.hih[1][238],ij+16,jj-16,this.ap),this.hg.drawImage(this.hih[1][249],ij-16,jj+16,this.ap),this.hg.drawImage(this.hih[1][248],ij+16,jj+16,this.ap),this.j_v_c<=0&&(this.j_v_kakudo+=2,360<this.j_v_kakudo&&(this.j_v_kakudo-=360)),ij=this.co_b.x-Si+16,jj=this.co_b.y-Ti+16,this.gg.os_g.setColor(D.white);for(var pj=.017453292519943295,qj=0;qj<=5;qj++){var rj=(this.j_v_kakudo+60*qj)*pj;this.vo_pa_x[qj]=ij+c.floor(50*c.cos(rj)),this.vo_pa_y[qj]=jj+c.floor(50*c.sin(rj))}this.gg.os_g.drawPolygon(this.vo_pa_x,this.vo_pa_y,6);for(var sj=0;sj<=5;sj++){var tj=(360-this.j_v_kakudo+60*sj)*pj;this.vo_pa_x[sj]=ij+c.floor(50*c.cos(tj)),this.vo_pa_y[sj]=jj+c.floor(50*c.sin(tj))}this.gg.os_g.drawPolygon(this.vo_pa_x,this.vo_pa_y,6)}}}if(96<=this.j_jet_c&&(0==this.g_c1?this.hg.drawImage(this.hi[134],this.co_j.x-Si,this.co_j.y-Ti+36,this.ap):this.hg.drawImage(this.hi[135],this.co_j.x-Si,this.co_j.y-Ti+36,this.ap)),0<this.j_v_c&&(this.j_v_c--,this.j_v_kakudo+=2,360<this.j_v_kakudo&&(this.j_v_kakudo-=360),50<this.j_v_c||1==this.g_ac)){var uj=this.co_j.x-Si+16,vj=this.co_j.y-Ti+16;this.gg.os_g.setColor(D.white);for(var wj=.017453292519943295,xj=0;xj<=5;xj++){var yj=(this.j_v_kakudo+60*xj)*wj;this.vo_pa_x[xj]=uj+c.floor(38*c.cos(yj)),this.vo_pa_y[xj]=vj+c.floor(38*c.sin(yj))}this.gg.os_g.drawPolygon(this.vo_pa_x,this.vo_pa_y,6);for(var zj=0;zj<=5;zj++){var Aj=(360-this.j_v_kakudo+60*zj)*wj;this.vo_pa_x[zj]=uj+c.floor(38*c.cos(Aj)),this.vo_pa_y[zj]=vj+c.floor(38*c.sin(Aj))}this.gg.os_g.drawPolygon(this.vo_pa_x,this.vo_pa_y,6)}if(this.j_zan_f){var Bj=this.j_zan_p+(6-this.j_zan_nagasa);5<Bj&&(Bj-=6);var Cj=this.j_zan_p+1;5<Cj&&(Cj-=6);do{var Dj=this.j_zan_x[Bj]-Si,Ej=this.j_zan_y[Bj]-Ti,Fj=this.j_zan_pth[Bj];this.hg.drawImage(this.hih[Fj][this.j_zan_pt[Bj]],Dj,Ej,this.ap),5<++Bj&&(Bj=0)}while(Bj!=Cj);this.j_zan_p++,5<this.j_zan_p&&(this.j_zan_p=0),this.j_zan_x[this.j_zan_p]=this.co_j.x,this.j_zan_y[this.j_zan_p]=this.co_j.y,this.j_zan_pt[this.j_zan_p]=this.co_j.pt,this.j_zan_pth[this.j_zan_p]=this.co_j.muki,this.j_zan_c<9?(this.j_zan_c++,0<=this.co_j.vy&&(this.j_zan_c=9)):(this.j_zan_nagasa--,this.j_zan_nagasa<0&&(this.j_zan_f=!1))}if(this.co_j.pt<1e3?this.gg.drawPT(this.co_j.wx,this.co_j.wy,this.co_j.pt,this.co_j.muki):1e3==this.co_j.pt?0==this.co_j.muki?(this.gg.drawPT(this.co_j.wx,this.co_j.wy,118,this.co_j.muki),this.gg.drawPT(this.co_j.wx-32,this.co_j.wy,117,this.co_j.muki)):(this.gg.drawPT(this.co_j.wx,this.co_j.wy,118,1),this.gg.drawPT(this.co_j.wx+32,this.co_j.wy,117,1)):1100==this.co_j.pt?(this.co_j.c1<=0?this.gg.drawPT(this.co_j.wx,this.co_j.wy,100,this.co_j.muki):32<=this.co_j.c1?this.gg.drawPT(this.co_j.wx,this.co_j.wy+32,100,this.co_j.muki):this.gg.drawPT(this.co_j.wx,this.co_j.wy+this.co_j.c1,100,this.co_j.muki),this.gg.drawPT(this.co_j.wx-16,this.co_j.wy+32,60+2*this.co_j.c2,0),this.gg.drawPT(this.co_j.wx+16,this.co_j.wy+32,61+2*this.co_j.c2,0)):this.co_j.pt,0<this.hitokoto_c){this.hitokoto_c--;for(var Jj=0,Kj=0;Kj<=2;Kj++){var Lj=Kj+1,Mj="hitokoto"+this.hitokoto_num+"-"+Lj;Mj=this.gg.ap.getParameter(Mj),Lj=parseInt(Mj),isNaN(Lj)&&(Lj=-1),0!=Lj&&Jj++}this.km.drawWindowbox(208,56,224,30+14*Jj),this.hg.setFont(new E("Dialog",0,12)),this.hg.setColor(D.cyan);var Nj="hitokoto"+this.hitokoto_num+"_name";this.hg.drawString(this.gg.ap.getParameter(Nj),214,74),this.hg.setColor(D.white);for(var Oj=Jj=0;Oj<=2;Oj++){var Pj=Oj+1,Qj="hitokoto"+this.hitokoto_num+"-"+Pj;Qj=this.gg.ap.getParameter(Qj),Pj=parseInt(Qj),isNaN(Pj)&&(Pj=-1),0!=Pj&&(this.hg.drawString(Qj,214,80+14*Jj+12),Jj++)}}},G.prototype.jM100=function(){var Rj=!1,Sj=!1;this.j_mizu_f=!1;var Tj=this.maps.getBGCode(this.co_j.x+15,this.co_j.y+15);4==Tj?(this.j_mizu_f=!0,this.j_jet_c=0,this.j_mizu_awa_c++,44==this.j_mizu_awa_c||54==this.j_mizu_awa_c?this.mSet(this.co_j.x,this.co_j.y+4,60):54<this.j_mizu_awa_c&&(this.j_mizu_awa_c=0)):8!=Tj&&9!=Tj||4!=this.maps.map_bg[(this.co_j.x+15>>5)-1][this.co_j.y+15>>5]||(this.j_mizu_f=!0,this.j_jet_c=0,this.j_mizu_awa_c++,44==this.j_mizu_awa_c||54==this.j_mizu_awa_c?this.mSet(this.co_j.x,this.co_j.y+4,60):54<this.j_mizu_awa_c&&(this.j_mizu_awa_c=0)),this.gk.tr1_f?this.tr1_c<6&&this.tr1_c++:this.tr1_c=0,this.gk.tr2_f?this.tr2_c<2&&this.tr2_c++:this.tr2_c=0,this.gk.left_f?this.gk.left_c<2&&this.gk.left_c++:this.gk.left_c=0,this.gk.right_f?this.gk.right_c<2&&this.gk.right_c++:this.gk.right_c=0,1==this.gk.left_c?(0<this.left_dcc?this.j_hashiru_f=!0:this.j_hashiru_f=!1,this.left_dcc=8):0<this.left_dcc&&this.left_dcc--,1==this.gk.right_c?(0<this.right_dcc?this.j_hashiru_f=!0:this.j_hashiru_f=!1,this.right_dcc=8):0<this.right_dcc&&this.right_dcc--;var Uj=this.co_j.x,Vj=this.co_j.y;this.co_j.pt=100;var Wj=Uj+15>>5,Xj=Vj+31>>5,Zj=(this.maps.map_bg[Wj][Xj],Vj+32>>5),$j=this.maps.map_bg[Wj][Zj];if(20<=$j||0<=this.j_a_id?(this.co_j.jimen_f=!0,this.j_jump_type=2,69==$j&&(Sj=!0)):this.co_j.jimen_f=!1,this.co_j.jimen_f?(this.j_zan_f=!1,this.j_jet_c=0,this.gk.left_f?(this.co_j.vx-=Sj?4:15,this.j_hashiru_f?(this.j_mizu_f?this.co_j.vx<-60&&(this.co_j.vx=-60):this.co_j.vx<-120&&(this.co_j.vx=-120),0<this.co_j.vx&&!Sj?(this.co_j.pt=108,this.co_j.ac=0):(this.co_j.pt=105+(this.co_j.ac>>1),this.co_j.ac++,3<this.co_j.ac&&(this.co_j.ac=0))):(this.j_mizu_f?this.co_j.vx<-40&&(this.co_j.vx=-40):this.co_j.vx<-60&&(this.co_j.vx=-60),0<this.co_j.vx&&!Sj?(this.co_j.pt=108,this.co_j.ac=0):(this.co_j.pt=103+(this.co_j.ac>>1),this.co_j.ac++,3<this.co_j.ac&&(this.co_j.ac=0))),this.co_j.muki=0):this.gk.right_f?(this.co_j.vx+=Sj?4:15,this.j_hashiru_f?(this.j_mizu_f?60<this.co_j.vx&&(this.co_j.vx=60):120<this.co_j.vx&&(this.co_j.vx=120),this.co_j.vx<0&&!Sj?(this.co_j.pt=108,this.co_j.ac=0):(this.co_j.pt=105+(this.co_j.ac>>1),this.co_j.ac++,3<this.co_j.ac&&(this.co_j.ac=0))):(this.j_mizu_f?40<this.co_j.vx&&(this.co_j.vx=40):60<this.co_j.vx&&(this.co_j.vx=60),this.co_j.vx<0&&!Sj?(this.co_j.pt=108,this.co_j.ac=0):(this.co_j.pt=103+(this.co_j.ac>>1),this.co_j.ac++,3<this.co_j.ac&&(this.co_j.ac=0))),this.co_j.muki=1):this.co_j.vx<0?(Sj?this.co_j.vx++:this.co_j.vx+=5,0<this.co_j.vx&&(this.co_j.vx=0),this.j_hashiru_f||Sj?(this.co_j.pt=107,this.co_j.ac=0):(this.co_j.pt=103+(this.co_j.ac>>1),this.co_j.ac++,3<this.co_j.ac&&(this.co_j.ac=0)),this.co_j.muki=0):0<this.co_j.vx?(Sj?this.co_j.vx--:this.co_j.vx-=5,this.co_j.vx<0&&(this.co_j.vx=0),this.j_hashiru_f||Sj?(this.co_j.pt=107,this.co_j.ac=0):(this.co_j.pt=103+(this.co_j.ac>>1),this.co_j.ac++,3<this.co_j.ac&&(this.co_j.ac=0)),this.co_j.muki=1):this.co_j.ac=0):(this.gk.left_f?!this.j_mizu_f&&-60<this.co_j.vx&&(this.co_j.vx-=10,this.co_j.vx<-60&&(this.co_j.vx=-60)):this.gk.right_f&&!this.j_mizu_f&&this.co_j.vx<60&&(this.co_j.vx+=10,60<this.co_j.vx&&(this.co_j.vx=60)),this.j_mizu_f?1<this.j_mizu_ac?this.co_j.pt=84:this.co_j.pt=83:0==this.j_jump_type?this.co_j.vy<20?this.co_j.pt=101:this.co_j.pt=102:2==this.j_jump_type?c.abs(this.co_j.vx)<=60?this.co_j.pt=103:this.co_j.pt=105:3==this.j_jump_type?this.co_j.pt=119:4==this.j_jump_type?this.co_j.pt=100:this.co_j.pt=109,this.co_j.ac=2),this.j_jdai_f&&(this.co_j.vx=0,this.co_j.pt=100,this.co_j.ac=0),this.co_j.vx<0){if(this.co_j.x+=s(this.co_j.vx/10),this.a_hf)for(var _j=0;_j<=this.a_kazu;_j++)if(this.co_a[_j].gf){var ak=this.co_a[_j];100<=ak.c&&ak.c<200?this.co_j.x+15>=ak.x&&this.co_j.x<=ak.x+64&&this.co_j.y+31>=ak.y&&this.co_j.y<=ak.y+13&&(this.co_j.x=ak.x+65,this.co_j.vx=0):300==ak.c?this.co_j.x+15>=ak.x&&this.co_j.x<=ak.x+48&&this.co_j.y+31>=ak.y&&this.co_j.y<=ak.y+31&&(this.co_j.x=ak.x+49,this.co_j.vx=0):400==ak.c?this.co_j.x+15>=ak.x&&this.co_j.x<=ak.x+80&&this.co_j.y+31>=ak.y&&this.co_j.y<=ak.y+63&&(this.co_j.x=ak.x+81,this.co_j.vx=0):500==ak.c?this.co_j.x+15>=ak.x&&this.co_j.x<=ak.x+80&&this.co_j.y+31>=ak.y&&this.co_j.y<=ak.y+13&&(this.co_j.x=ak.x+81,this.co_j.vx=0):600==ak.c?this.co_j.x+15>=ak.x&&this.co_j.x<=ak.x+48&&this.co_j.y+31>=ak.y+16&&this.co_j.y<=ak.y+47&&(this.co_j.x=ak.x+49,this.co_j.vx=0):700==ak.c&&this.co_j.x+15>=ak.x&&this.co_j.x<=ak.x+16&&this.co_j.y+31>=ak.y&&this.co_j.y<=ak.y+31&&(this.co_j.x=ak.x+17,this.co_j.vx=0)}var bk=this.co_j.x+15>>5,ck=this.maps.map_bg[bk][this.co_j.y>>5],dk=this.co_j.y+31>>5,ek=this.maps.map_bg[bk][dk];(20<=ck||20<=ek)&&(this.co_j.x=32*bk+17,this.co_j.vx=0)}else if(0<this.co_j.vx){if(this.co_j.x+=s(this.co_j.vx/10),this.a_hf)for(var fk=0;fk<=this.a_kazu;fk++)if(this.co_a[fk].gf){var gk=this.co_a[fk];100<=gk.c&&gk.c<200?this.co_j.x+15>=gk.x&&this.co_j.x<=gk.x+64&&this.co_j.y+31>=gk.y&&this.co_j.y<=gk.y+13&&(this.co_j.x=gk.x-16,this.co_j.vx=0):300==gk.c?this.co_j.x+15>=gk.x&&this.co_j.x<=gk.x+48&&this.co_j.y+31>=gk.y&&this.co_j.y<=gk.y+31&&(this.co_j.x=gk.x-16,this.co_j.vx=0):400==gk.c?this.co_j.x+15>=gk.x&&this.co_j.x<=gk.x+80&&this.co_j.y+31>=gk.y&&this.co_j.y<=gk.y+63&&(this.co_j.x=gk.x-16,this.co_j.vx=0):500==gk.c?this.co_j.x+15>=gk.x&&this.co_j.x<=gk.x+80&&this.co_j.y+31>=gk.y&&this.co_j.y<=gk.y+13&&(this.co_j.x=gk.x-16,this.co_j.vx=0):600==gk.c?this.co_j.x+15>=gk.x&&this.co_j.x<=gk.x+48&&this.co_j.y+31>=gk.y+16&&this.co_j.y<=gk.y+47&&(this.co_j.x=gk.x-16,this.co_j.vx=0):700==gk.c&&this.co_j.x+15>=gk.x&&this.co_j.x<=gk.x+16&&this.co_j.y+31>=gk.y&&this.co_j.y<=gk.y+31&&(this.co_j.x=gk.x-16,this.co_j.vx=0)}var hk=this.co_j.x+15>>5,ik=this.maps.map_bg[hk][this.co_j.y>>5],jk=this.co_j.y+31>>5,kk=this.maps.map_bg[hk][jk];(20<=ik||20<=kk)&&(this.co_j.x=32*hk-16,this.co_j.vx=0)}if(this.co_j.jimen_f)if(1<=this.tr1_c&&this.tr1_c<=5)if(20<=this.maps.getBGCode(this.co_j.x+15,this.co_j.y-1)){if(1==this.tr1_c&&40==this.maps.getBGCode(this.co_j.x+15,this.co_j.y-1)){var lk=this.co_j.x+15>>5,mk=this.co_j.y-1>>5;this.hAttack(lk,mk)}if(Tj=this.maps.getBGCode(this.co_j.x+15,this.co_j.y-1),this.j_helm_f&&(20==Tj||69==Tj&&1==this.suberuyuka_hkf)){this.tr1_c=6;var nk=this.co_j.x+15>>5,ok=this.co_j.y-1>>5;4==this.maps.map_bg[this.co_j.x+15>>5][1+(this.co_j.y-1>>5)]?this.maps.putBGCode(nk,ok,4):this.maps.putBGCode(nk,ok,0),this.mSet2(32*nk,32*ok,80,12,-24),this.mSet2(32*nk,32*ok,80,-12,-24),this.jZutuki(32*nk,32*ok-32,0)}}else if(this.j_mizu_f)this.j_jump_type=0,this.co_j.pt=83,this.co_j.ac=0,this.j_mizu_ac=0,this.j_jet_kf=!1,this.j_jdai_f?(this.co_j.y=32*(this.co_j.y>>5),this.co_j.vy=-120):50<c.abs(this.co_j.vx)?this.co_j.vy=-90:this.co_j.vy=-70,this.j_jump_level=0;else{this.j_jump_type=0,this.co_j.pt=101,this.co_j.ac=0,this.j_fire_f&&(0==this.co_j.muki?this.jmSet(this.co_j.x,this.co_j.y,100):this.jmSet(this.co_j.x,this.co_j.y,105)),this.j_jet_kf=!1;var pk=c.abs(this.co_j.vx);if(this.j_jdai_f)this.co_j.y=32*(this.co_j.y>>5),this.co_j.vy=-410,this.j_jump_level=5,this.co_a[this.j_a_id].c3<=1&&(this.co_j.vy=-230);else if(0==pk)this.co_j.vy=-150,this.j_jump_level=1;else if(pk<60)this.co_j.vy=-230,this.j_jump_level=2;else if(60==pk)this.co_j.vy=-260,this.j_jump_level=3;else if(pk<120)this.co_j.vy=-290,this.j_jump_level=4;else if(this.co_j.vy=-340,this.j_jump_level=5,(Tj=this.maps.map_bg[this.co_j.x+15>>5][this.co_j.y-1>>5])<=9){for(var qk=0;qk<=5;qk++)this.j_zan_x[qk]=Uj,this.j_zan_y[qk]=Vj,this.j_zan_pt[qk]=101,this.j_zan_pth[qk]=this.co_j.muki;this.j_zan_p=0,this.j_zan_c=0,this.j_zan_nagasa=5,this.j_zan_f=!0}}else this.co_j.vy=0;else if(this.j_mizu_f)if(this.gk.left_f?this.co_j.muki=0:this.gk.right_f&&(this.co_j.muki=1),1==this.tr1_c){var rk=!1;(Tj=this.maps.map_bg[this.co_j.x+15>>5][(this.co_j.y+15>>5)-1])<=9&&4!=Tj&&(rk=!0),8!=Tj&&9!=Tj||4!=this.maps.map_bg[(this.co_j.x+15>>5)-1][(this.co_j.y+15>>5)-1]||(rk=!1),rk&&(this.co_j.y+15)%32<=8?(this.j_jump_type=0,this.co_j.pt=101,this.co_j.ac=0,this.co_j.vy=-180,this.j_jump_level=1,this.co_j.y=32*(this.co_j.y+15>>5)-14,Rj=!(this.j_jet_kf=!1),this.mSet(this.co_j.x,32*(this.co_j.y+15>>5)-32,50)):(this.j_jump_type=0,this.co_j.ac=0,this.j_mizu_ac<=0&&(this.j_mizu_ac=4,this.co_j.pt=84),this.co_j.vy=-40,(this.j_jump_level=0)==this.co_j.muki?(this.co_j.vx-=30,this.co_j.vx<-60&&(this.co_j.vx=-60)):(this.co_j.vx+=30,60<this.co_j.vx&&(this.co_j.vx=60)))}else this.co_j.vx<0?(0==this.co_j.muki?this.co_j.vx++:this.co_j.vx+=2,0<this.co_j.vx&&(this.co_j.vx=0)):0<this.co_j.vx&&(1==this.co_j.muki?this.co_j.vx--:this.co_j.vx-=2,this.co_j.vx<0&&(this.co_j.vx=0)),this.co_j.vy<40?(this.co_j.vy+=5,40<this.co_j.vy&&(this.co_j.vy=40)):40<this.co_j.vy&&(this.co_j.vy-=20,this.co_j.vy<40&&(this.co_j.vy=40)),0<this.j_mizu_ac?(this.j_mizu_ac--,1<this.j_mizu_ac?this.co_j.pt=84:this.co_j.pt=83):this.co_j.pt=83;else this.co_j.vy+=25,160<this.co_j.vy&&(this.co_j.vy=160),1==this.tr1_c&&this.j_fire_f&&(0==this.co_j.muki?this.jmSet(this.co_j.x,this.co_j.y,100):this.jmSet(this.co_j.x,this.co_j.y,105)),0==this.tr1_c&&(this.j_jet_kf=!0),this.j_jet_kf&&0<this.tr1_c&&0<this.j_jet_fuel&&!this.j_mizu_f?(this.j_jet_c=100,2==this.j_jump_type&&(this.j_jump_type=0)):96<this.j_jet_c?this.j_jet_c--:this.j_jet_c=0,96<=this.j_jet_c&&(this.j_jet_fuel--,this.j_jet_fuel<0&&(this.j_jet_fuel=0,this.j_jet_c=0),this.gk.left_f?this.co_j.muki=0:this.gk.right_f&&(this.co_j.muki=1),-150<this.co_j.vy&&(this.co_j.vy-=50,this.co_j.vy<-150&&(this.co_j.vy=-150)));if(this.co_j.vy<0){var sk=this.co_j.x+15>>5,tk=this.co_j.y>>5,vk=(this.maps.map_bg[sk][tk],this.co_j.vy);if(vk<-320&&(vk=-320),this.co_j.y+=s(vk/10),this.j_mizu_f&&!Rj){var wk=this.maps.getBGCode(this.co_j.x+15,this.co_j.y+15),xk=!1;wk<=9&&4!=wk&&(xk=!0),8!=wk&&9!=wk||4!=this.maps.map_bg[(this.co_j.x+15>>5)-1][this.co_j.y+15>>5]||(xk=!1),xk&&(this.co_j.y=32*(this.co_j.y+15>>5)+17,this.co_j.vy=-10)}if(this.a_hf)for(var yk=0;yk<=this.a_kazu;yk++)if(this.co_a[yk].gf){var zk=this.co_a[yk];100<=zk.c&&zk.c<200?this.co_j.x+15>=zk.x&&this.co_j.x<=zk.x+64&&this.co_j.y+31>=zk.y&&this.co_j.y<=zk.y+13&&(this.co_j.y=zk.y+14,this.co_j.vy=0):300==zk.c?this.co_j.x+15>=zk.x&&this.co_j.x<=zk.x+48&&this.co_j.y+31>=zk.y&&this.co_j.y<=zk.y+31&&(this.co_j.y=zk.y+32,this.co_j.vy=0):400==zk.c?this.co_j.x+15>=zk.x&&this.co_j.x<=zk.x+80&&this.co_j.y+31>=zk.y&&this.co_j.y<=zk.y+63&&(this.co_j.y=zk.y+64,this.co_j.vy=0):500==zk.c?this.co_j.x+15>=zk.x&&this.co_j.x<=zk.x+80&&this.co_j.y+31>=zk.y&&this.co_j.y<=zk.y+13&&(this.co_j.y=zk.y+14,this.co_j.vy=0):600==zk.c?this.co_j.x+15>=zk.x&&this.co_j.x<=zk.x+48&&this.co_j.y+31>=zk.y+16&&this.co_j.y<=zk.y+47&&(this.co_j.y=zk.y+48,this.co_j.vy=0):700==zk.c&&this.co_j.x+15>=zk.x&&this.co_j.x<=zk.x+16&&this.co_j.y+31>=zk.y&&this.co_j.y<=zk.y+31&&(this.co_j.y=zk.y+32,this.co_j.vy=0)}var Ak=this.co_j.y>>5,Bk=this.maps.map_bg[this.co_j.x+15>>5][Ak];if(20<=Bk){if(this.co_j.y=32*Ak+32,this.co_j.vy=0,40==Bk){var Ck=this.co_j.x+15>>5,Dk=this.co_j.y-1>>5;this.hAttack(Ck,Dk)}if(this.j_helm_f&&(20==Bk||69==Bk&&1==this.suberuyuka_hkf)){var Ek=this.co_j.x+15>>5,Fk=Ak;4==this.maps.map_bg[Ek][Fk+1]?this.maps.putBGCode(Ek,Fk,4):this.maps.putBGCode(Ek,Fk,0),this.mSet2(32*Ek,32*Fk,80,12,-24),this.mSet2(32*Ek,32*Fk,80,-12,-24),this.jZutuki(32*Ek,32*Fk-32,0)}}if(Ak<tk){if(this.gk.right_f){var Gk=this.maps.map_bg[this.co_j.x+16>>5][tk],Hk=this.maps.map_bg[this.co_j.x+16>>5][Ak];Gk<=9&&20<=Hk&&(this.co_j.y=32*Ak+32,this.co_j.vy=0)}if(this.gk.left_f){var Ik=this.maps.map_bg[this.co_j.x+14>>5][tk],Jk=this.maps.map_bg[this.co_j.x+14>>5][Ak];Ik<=9&&20<=Jk&&(this.co_j.y=32*Ak+32,this.co_j.vy=0)}}}else if(0<this.co_j.vy){var Kk=this.co_j.x+15>>5,Lk=this.co_j.y+31>>5;this.maps.map_bg[Kk][Lk];if(this.co_j.y+=s(this.co_j.vy/10),this.a_hf)for(var Nk=0;Nk<=this.a_kazu;Nk++)if(this.co_a[Nk].gf){var Ok=this.co_a[Nk];100<=Ok.c&&Ok.c<200?this.co_j.x+15>=Ok.x&&this.co_j.x<=Ok.x+64&&this.co_j.y+31>=Ok.y&&this.co_j.y<=Ok.y+13&&(this.co_j.y=Ok.y-32,this.co_j.vy=0):300==Ok.c?this.co_j.x+15>=Ok.x&&this.co_j.x<=Ok.x+48&&this.co_j.y+31>=Ok.y&&this.co_j.y<=Ok.y+31&&(this.co_j.y=Ok.y-32,this.co_j.vy=0):400==Ok.c?this.co_j.x+15>=Ok.x&&this.co_j.x<=Ok.x+80&&this.co_j.y+31>=Ok.y&&this.co_j.y<=Ok.y+63&&(this.co_j.y=Ok.y-32,this.co_j.vy=0):500==Ok.c?this.co_j.x+15>=Ok.x&&this.co_j.x<=Ok.x+80&&this.co_j.y+31>=Ok.y&&this.co_j.y<=Ok.y+13&&(this.co_j.y=Ok.y-32,this.co_j.vy=0):600==Ok.c?this.co_j.x+15>=Ok.x&&this.co_j.x<=Ok.x+48&&this.co_j.y+31>=Ok.y+16&&this.co_j.y<=Ok.y+47&&(this.co_j.y=Ok.y+16-32,this.co_j.vy=0):700==Ok.c&&this.co_j.x+15>=Ok.x&&this.co_j.x<=Ok.x+16&&this.co_j.y+31>=Ok.y&&this.co_j.y<=Ok.y+31&&(this.co_j.y=Ok.y-32,this.co_j.vy=0)}var Pk=this.co_j.y+31>>5;if(20<=this.maps.map_bg[Kk][Pk]){this.co_j.y=32*Pk-32,this.co_j.vy=0,Pk=this.co_j.y+31>>5;this.maps.map_bg[Kk][Pk]}if(Lk<Pk){if(this.gk.right_f){var Sk=this.maps.map_bg[this.co_j.x+16>>5][Lk],Tk=this.maps.map_bg[this.co_j.x+16>>5][Pk];Sk<=9&&20<=Tk&&(this.co_j.y=32*Pk-32,this.co_j.vy=0,this.co_j.pt=103,this.co_j.ac=1,this.co_j.x++)}if(this.gk.left_f){var Uk=this.maps.map_bg[this.co_j.x+14>>5][Lk],Vk=this.maps.map_bg[this.co_j.x+14>>5][Pk];Uk<=9&&20<=Vk&&(this.co_j.y=32*Pk-32,this.co_j.vy=0,this.co_j.pt=103,this.co_j.ac=1,this.co_j.x--)}}if(!this.j_mizu_f){var Wk=this.maps.getBGCode(this.co_j.x+15,this.co_j.y+15);4==Wk?(this.mSet(this.co_j.x,32*(this.co_j.y+15>>5)-32,50),this.j_mizu_awa_c=38,this.co_j.vx<-60?this.co_j.vx=-60:60<this.co_j.vx&&(this.co_j.vx=60)):8!=Wk&&9!=Wk||4!=this.maps.map_bg[(this.co_j.x+15>>5)-1][this.co_j.y+15>>5]||(this.mSet(this.co_j.x,32*(this.co_j.y+15>>5)-32,50),this.j_mizu_awa_c=38,this.co_j.vx<-60?this.co_j.vx=-60:60<this.co_j.vx&&(this.co_j.vx=60))}}if(1==this.tr2_c)if(0<this.j_gr_kazu?3==this.grenade_type||4==this.grenade_type?0==this.co_j.muki?this.jmSet(this.co_j.x,this.co_j.y,60):this.jmSet(this.co_j.x,this.co_j.y,65):0==this.co_j.muki?this.jmSet(this.co_j.x,this.co_j.y,200):this.jmSet(this.co_j.x,this.co_j.y,205):!this.j_fire_f||this.j_mizu_f&&!this.j_fire_mkf||(0==this.co_j.muki?this.jmSet(this.co_j.x,this.co_j.y,100):this.jmSet(this.co_j.x,this.co_j.y,105)),Tj=this.maps.getBGCode(this.co_j.x+15,this.co_j.y+32),this.j_drell_f&&(20==Tj||69==Tj&&1==this.suberuyuka_hkf)){var Xk=this.co_j.x+15>>5,Yk=this.co_j.y+32>>5;4==this.maps.map_bg[this.co_j.x+15>>5][(this.co_j.y+32>>5)-1]?this.maps.putBGCode(Xk,Yk,4):this.maps.putBGCode(Xk,Yk,0),this.mSet2(32*Xk,32*Yk,80,12,-24),this.mSet2(32*Xk,32*Yk,80,-12,-24),this.jZutuki(32*Xk,32*Yk-32,0),this.co_j.x=32*Xk,this.co_j.vx=0,this.co_j.vy=0,this.j_jump_type=3,this.co_j.c=120,this.co_j.c1=0,this.co_j.pt=119}else this.j_tail_f&&(this.j_tail_ac<=0||8<=this.j_tail_ac)&&(this.j_tail_ac=1,this.co_j.pt=116,this.j_zan_f=!1);if(1<=this.j_tail_ac)if(this.j_zan_f=!1,this.j_tail_ac++,this.j_tail_ac<=4)this.co_j.pt=116,1!=this.j_tail_type&&3!=this.j_tail_type||(0==this.co_j.muki?this.jZutuki(this.co_j.x-32,this.co_j.y,1):this.jZutuki(this.co_j.x+32,this.co_j.y,1));else if(this.j_tail_ac<=5){if(this.co_j.pt=1e3,1!=this.j_tail_type&&3!=this.j_tail_type||(0==this.co_j.muki?this.jZutuki(this.co_j.x-32,this.co_j.y,1):this.jZutuki(this.co_j.x+32,this.co_j.y,1)),2==this.j_tail_type||3==this.j_tail_type){var Zk;Zk=1==this.co_j.muki?this.co_j.x+40>>5:this.co_j.x-8>>5;var $k=this.co_j.y+15>>5;(20==this.maps.map_bg[Zk][$k]||69==this.maps.map_bg[Zk][$k]&&1==this.suberuyuka_hkf)&&(4==this.maps.map_bg[Zk-1][$k]?this.maps.putBGCode(Zk,$k,4):this.maps.putBGCode(Zk,$k,0),this.mSet2(32*Zk,32*$k,80,12,-24),this.mSet2(32*Zk,32*$k,80,-12,-24),this.jZutuki(32*Zk,32*$k-32,0))}}else this.j_tail_ac<=7?this.co_j.pt=1e3:this.j_tail_ac<=9?this.co_j.pt=116:(this.co_j.pt=116,this.j_tail_ac=0);switch(Tj=this.maps.map_bg[this.co_j.x+15>>5][this.co_j.y+15>>5]){case 9:4==this.maps.map_bg[(this.co_j.x+15>>5)-1][this.co_j.y+15>>5]?(this.maps.putBGCode(this.co_j.x+15>>5,this.co_j.y+15>>5,4),this.j_mizu_f=!0):this.maps.putBGCode(this.co_j.x+15>>5,this.co_j.y+15>>5,0),this.addScore(5);break;case 8:4==this.maps.map_bg[(this.co_j.x+15>>5)-1][this.co_j.y+15>>5]?(this.maps.putBGCode(this.co_j.x+15>>5,this.co_j.y+15>>5,4),this.j_mizu_f=!0):this.maps.putBGCode(this.co_j.x+15>>5,this.co_j.y+15>>5,0),this.stage_cc=1,2<=this.stage_max&&this.stage>=this.stage_max?this.addScore(1e3):this.addScore(100);break;case 5:case 6:this.co_j.y=32*(this.co_j.y+15>>5),this.jShinu(1)}(this.co_j.y>=this.ochiru_y||this.j_mizu_f&&this.co_j.y>=this.ochiru_y-16)&&(this.co_j.c=210,this.co_j.c1=0,this.co_j.y=this.ochiru_y+64,this.j_jet_c=0,this.j_v_c=0),this.co_j.wx=this.co_j.x-this.maps.wx,this.co_j.wy=this.co_j.y-this.maps.wy,this.co_j.wx<96?this.maps.wx=this.co_j.x-96:224<this.co_j.wx&&(this.maps.wx=this.co_j.x-224),this.co_j.wy<78?this.maps.wy=this.co_j.y-78:176<this.co_j.wy&&(this.maps.wy=this.co_j.y-176),this.maps.wx<this.maps.wx_mini?this.maps.wx=this.maps.wx_mini:this.maps.wx>this.maps.wx_max&&(this.maps.wx=this.maps.wx_max),this.maps.wy<this.maps.wy_mini?this.maps.wy=this.maps.wy_mini:this.maps.wy>this.maps.wy_max&&(this.maps.wy=this.maps.wy_max)},G.prototype.jMove=function(){this.j_mizu_f=!1;var al=this.maps.getBGCode(this.co_j.x+15,this.co_j.y+15);if(4==al?(this.j_mizu_f=!0,this.j_jet_c=0,this.j_mizu_awa_c++,44==this.j_mizu_awa_c||54==this.j_mizu_awa_c?this.mSet(this.co_j.x,this.co_j.y+4,60):54<this.j_mizu_awa_c&&(this.j_mizu_awa_c=0)):8!=al&&9!=al||4!=this.maps.map_bg[(this.co_j.x+15>>5)-1][this.co_j.y+15>>5]||(this.j_mizu_f=!0,this.j_jet_c=0,this.j_mizu_awa_c++,44==this.j_mizu_awa_c||54==this.j_mizu_awa_c?this.mSet(this.co_j.x,this.co_j.y+4,60):54<this.j_mizu_awa_c&&(this.j_mizu_awa_c=0)),this.gk.tr1_f?this.tr1_c<6&&this.tr1_c++:this.tr1_c=0,this.gk.tr2_f?this.tr2_c<2&&this.tr2_c++:this.tr2_c=0,this.gk.left_f?this.gk.left_c<2&&this.gk.left_c++:this.gk.left_c=0,this.gk.right_f?this.gk.right_c<2&&this.gk.right_c++:this.gk.right_c=0,1==this.gk.left_c?(0<this.left_dcc?this.j_hashiru_f=!0:this.j_hashiru_f=!1,this.left_dcc=8):0<this.left_dcc&&this.left_dcc--,1==this.gk.right_c?(0<this.right_dcc?this.j_hashiru_f=!0:this.j_hashiru_f=!1,this.right_dcc=8):0<this.right_dcc&&this.right_dcc--,110==this.co_j.c)this.gk.left_f?(this.co_j.vx-=10,this.co_j.vx<-60&&(this.co_j.vx=-60)):this.gk.right_f&&(this.co_j.vx+=10,60<this.co_j.vx&&(this.co_j.vx=60)),this.co_j.c1++,2<this.co_j.c1&&(this.co_j.c=100),this.co_j.pt=109;else if(120==this.co_j.c)this.co_j.c1++,6<this.co_j.c1&&(this.co_j.c=100),this.co_j.pt=119;else if(200==this.co_j.c)this.co_j.vy+=25,100<this.co_j.vy&&(this.co_j.vy=100),this.co_j.y+=s(this.co_j.vy/10),this.co_j.wx=this.co_j.x-this.maps.wx,this.co_j.wy=this.co_j.y-this.maps.wy,this.co_j.c2<100?(this.co_j.c1<=0?(this.co_j.pt=110,this.co_j.muki=0):this.co_j.c1<=1?(this.co_j.pt=111,this.co_j.muki=0,this.co_j.c2++,4<this.co_j.c2&&(this.co_j.c2=100)):(this.co_j.c1<=2?this.co_j.pt=112:this.co_j.pt=113,this.co_j.muki=0),this.co_j.c1++,3<this.co_j.c1&&(this.co_j.c1=0)):(this.co_j.pt=112,this.co_j.muki=0),320<=this.co_j.wy&&(this.co_j.c=210,this.co_j.c1=0,this.co_j.y=this.maps.wy+320+32,this.co_j.pt=0);else if(210==this.co_j.c)this.stage_cc<=0&&(this.co_j.c1++,16<this.co_j.c1&&(this.j_left--,this.j_left<0?(this.j_left=0,this.ml_mode=300):2==this.stage_select?this.ml_mode=250:this.ml_mode=90));else if(220==this.co_j.c)this.co_j.pt=114,this.co_j.c1++,25<=this.co_j.c1&&(this.co_j.c=210,this.co_j.c1=0);else if(230==this.co_j.c)this.co_j.pt=115,this.co_j.c1++,25<=this.co_j.c1&&(this.co_j.c=210,this.co_j.c1=0);else if(240==this.co_j.c)100<=this.co_j.c2&&(this.co_j.y+=10),this.co_j.wx=this.co_j.x-this.maps.wx,this.co_j.wy=this.co_j.y-this.maps.wy,this.co_j.c2<100?(this.co_j.c1<=0?(this.co_j.pt=110,this.co_j.muki=0):this.co_j.c1<=1?(this.co_j.pt=111,this.co_j.muki=0,this.co_j.c2++,4<this.co_j.c2&&(this.co_j.c2=100)):(this.co_j.c1<=2?this.co_j.pt=112:this.co_j.pt=113,this.co_j.muki=0),this.co_j.c1++,3<this.co_j.c1&&(this.co_j.c1=0)):(this.co_j.pt=112,this.co_j.muki=0),320<=this.co_j.wy&&(this.co_j.c=210,this.co_j.c1=0,this.co_j.y=this.maps.wy+320+32,this.co_j.pt=0);else if(300==this.co_j.c)this.co_j.pt=1100,this.co_j.c1++,32<=this.co_j.c1&&(this.co_j.c=310,this.co_j.c1=0,this.co_j.pt=1110),this.co_j.wx=this.co_j.x-this.maps.wx,this.co_j.wy=this.co_j.y-this.maps.wy,this.co_j.wx<96?this.maps.wx=this.co_j.x-96:224<this.co_j.wx&&(this.maps.wx=this.co_j.x-224),this.co_j.wy<78?this.maps.wy=this.co_j.y-78:176<this.co_j.wy&&(this.maps.wy=this.co_j.y-176),this.maps.wx<this.maps.wx_mini?this.maps.wx=this.maps.wx_mini:this.maps.wx>this.maps.wx_max&&(this.maps.wx=this.maps.wx_max),this.maps.wy<this.maps.wy_mini?this.maps.wy=this.maps.wy_mini:this.maps.wy>this.maps.wy_max&&(this.maps.wy=this.maps.wy_max);else if(310==this.co_j.c){if(this.co_j.pt=1110,this.stage_cc<=0)if(this.co_j.c1++,2==this.dokan_mode){if(10<=this.co_j.c1){var bl;for(this.co_j.c=320,this.co_j.c1=42,bl=0;bl<=this.a_kazu;bl++)if(300==this.co_a[bl].c&&1!=this.co_a[bl].c4&&this.co_j.c2==this.co_a[bl].c3&&(0==this.sl_step||1==this.sl_step||10==this.sl_step||11==this.sl_step)){this.co_j.x=this.co_a[bl].x+16,this.co_j.y=this.co_a[bl].y-32,this.co_a[bl].c4=1;break}this.a_kazu;for(var cl=0;cl<=this.a_kazu;cl++)(100<=this.co_a[cl].c||60==this.co_a[cl].c)&&(this.co_a[cl].gf=!0,300!=this.co_a[cl].c||this.co_j.x==this.co_a[cl].x+16&&this.co_j.y==this.co_a[cl].y-32||(this.co_a[cl].c4=0));10!=this.sl_step&&11!=this.sl_step||(this.maps.wx=this.co_j.x-192,this.ks_wx=this.maps.wx),this.co_j.wx=this.co_j.x-this.maps.wx,this.co_j.wy=this.co_j.y-this.maps.wy,this.co_j.wx<96?this.maps.wx=this.co_j.x-96:224<this.co_j.wx&&(this.maps.wx=this.co_j.x-224),this.co_j.wy<78?this.maps.wy=this.co_j.y-78:176<this.co_j.wy&&(this.maps.wy=this.co_j.y-176),this.maps.wx<this.maps.wx_mini?this.maps.wx=this.maps.wx_mini:this.maps.wx>this.maps.wx_max&&(this.maps.wx=this.maps.wx_max),this.maps.wy<this.maps.wy_mini?this.maps.wy=this.maps.wy_mini:this.maps.wy>this.maps.wy_max&&(this.maps.wy=this.maps.wy_max)}}else if(10==this.co_j.c1){var dl;dl=1==this.co_j.c2?this.gg.ap.getParameter("url2"):2==this.co_j.c2?this.gg.ap.getParameter("url3"):3==this.co_j.c2?this.gg.ap.getParameter("url4"):this.gg.ap.getParameter("url1"),location.href=dl}else 80<this.co_j.c1&&(this.ml_mode=50)}else 320==this.co_j.c&&(this.co_j.pt=1100,this.co_j.c1--,this.co_j.c1<=0&&(this.co_j.c=100,this.co_j.c1=0,this.co_j.pt=100))},G.prototype.jShinu=function(el){this.co_j.c1=0,this.co_j.c2=0,this.j_zan_f=!1,this.j_jet_c=0,this.j_v_c=0,1==el?this.co_j.c=240:2==el?(this.co_j.c=200,this.co_j.vy=-280):3==el&&(this.co_j.c=220)},G.prototype.jZutuki=function(fl,gl,hl){for(var il=0;il<=this.t_kazu;il++)if(100<=this.co_t[il].c){var jl=this.co_t[il],kl=!1;1==hl?c.abs(fl-jl.x)<25&&c.abs(gl-jl.y)<23&&(kl=!0):c.abs(fl-jl.x)<34&&gl==jl.y&&(kl=!0),kl&&(fl>jl.x?(jl.pth=1,jl.vx=-7):(jl.pth=0,jl.vx=7),jl.c=52,jl.vy=-32)}},G.prototype.tSet=function(ll,ml,nl,ol){for(var pl=0;pl<=119;pl++)if(!(0<this.co_t[pl].c)){var ql=this.co_t[pl];switch(ql.c=10,ql.c1=ol,ql.c2=nl,ql.c3=ll,ql.c4=ml,ql.x=ll,ql.y=ml,this.t_kazu++,nl){case 500:ql.y=ml-12,ql.c3=ml-52,ql.c4=ml-12,ql.vy=-4;break;case 600:ql.c3=0;break;case 900:this.airms_kf&&(ql.c2=950)}break}},G.prototype.tSetBoss=function(rl,sl,tl,ul){this.t_kazu=129;for(var vl=120;vl<=129;vl++)if(!(0<this.co_t[vl].c)){var wl=this.co_t[vl];switch(wl.c=tl,wl.c1=0,wl.c2=0,wl.c3=rl,wl.c4=sl,wl.x=rl,wl.y=sl,wl.vx=ul,tl){case 150:wl.vx=ul,wl.vy=-28,wl.vx<=0?wl.muki=0:wl.muki=1;break;case 450:wl.vx=ul,wl.vy=-22,wl.vx<=0?wl.muki=0:wl.muki=1;break;case 650:wl.vx=ul,wl.vy=-28,wl.vx<=0?wl.muki=0:wl.muki=1}break}},G.prototype.tMove=function(){for(var xl=!1,yl=0;yl<=this.t_kazu;yl++)if(0!=this.co_t[yl].c&&this.co_t[yl].x>=this.maps.wx-512){var zl=this.co_t[yl],Al=zl.x,Bl=zl.y;switch(zl.c){case 10:this.maps.wx>=zl.c1&&(zl.c=zl.c2,zl.c1=0,zl.c2=0);break;case 50:zl.c1++,14<zl.c1&&(zl.c=0,this.addScore(10));break;case 52:Al+=zl.vx,zl.vy+=5,25<zl.vy&&(zl.vy=25),(Bl+=zl.vy)>this.maps.wy+320&&(zl.c=0,this.addScore(10));break;case 100:if(Al+12>>5<Al+15>>5){var Cl=this.maps.map_bg[Al+15>>5][Bl+31>>5];11==Cl||14==Cl?Bl=32*(Bl+31>>5)-32:10!=Cl&&12!=Cl||(Bl=32*(Bl+31>>5))}Al-=3;var Dl=this.maps.map_bg[Al+15>>5][Bl+31>>5];if(10<=Dl&&Dl<=15)Bl=32*(Bl+31>>5),Bl=this.sakamichiY(Al,Bl);else{var El=this.maps.map_bg[Al>>5][Bl+32>>5];El<=9&&(Al=32*(Al>>5)+32,10<=(El=this.maps.map_bg[Al+15>>5][Bl+31>>5])&&El<=15&&(Al-=15),zl.c=105),20<=(El=this.maps.map_bg[Al>>5][Bl+31>>5])&&(Al=32*(Al>>5)+32,zl.c=105),10<=(El=this.maps.map_bg[Al+15>>5][Bl+32>>5])&&El<=15&&(Bl=32*(Bl+32>>5),Bl=this.sakamichiY(Al,Bl))}zl.pt=140+this.g_ac,zl.pth=0;break;case 105:if(Al+15>>5<Al+18>>5){var Fl=this.maps.map_bg[Al+15>>5][Bl+31>>5];10==Fl||13==Fl?Bl=32*(Bl+31>>5)-32:11!=Fl&&15!=Fl||(Bl=32*(Bl+31>>5))}Al+=3;var Gl=this.maps.map_bg[Al+15>>5][Bl+31>>5];if(10<=Gl&&Gl<=15)Bl=32*(Bl+31>>5),Bl=this.sakamichiY(Al,Bl);else{var Hl=this.maps.map_bg[Al+31>>5][Bl+32>>5];Hl<=9&&(Al=32*(Al+31>>5)-32,10<=(Hl=this.maps.map_bg[Al+15>>5][Bl+31>>5])&&Hl<=15&&(Al+=16),zl.c=100),20<=(Hl=this.maps.map_bg[Al+31>>5][Bl+31>>5])&&(Al=32*(Al+31>>5)-32,zl.c=100),10<=(Hl=this.maps.map_bg[Al+15>>5][Bl+32>>5])&&Hl<=15&&(Bl=32*(Bl+32>>5),Bl=this.sakamichiY(Al,Bl))}zl.pt=140+this.g_ac,zl.pth=1;break;case 110:if(Al+12>>5<Al+15>>5){var Il=this.maps.map_bg[Al+15>>5][Bl+31>>5];11==Il||14==Il?Bl=32*(Bl+31>>5)-32:10!=Il&&12!=Il||(Bl=32*(Bl+31>>5))}Al-=3;var Jl=this.maps.map_bg[Al+15>>5][Bl+31>>5];if(10<=Jl&&Jl<=15)Bl=32*(Bl+31>>5),Bl=this.sakamichiY(Al,Bl);else{var Kl=Bl+32>>5;if(this.maps.map_bg[Al+31>>5][Kl]<=9){Al=32*(Al+31>>5);var Ml=this.maps.map_bg[Al+15>>5][Bl+31>>5];10<=Ml&&Ml<=15&&(Al-=15),zl.c=120}if(Al<32)Al<=3&&(zl.c=0);else 20<=this.maps.map_bg[Al>>5][Bl+31>>5]&&(Al=32*(Al>>5)+32,zl.c=115,this.maps.map_bg[Al+15>>5][Bl+32>>5]<=9&&(zl.c=120));120<=yl&&Al<this.maps.wx-32&&(zl.c=0);var Ol=this.maps.map_bg[Al+15>>5][Kl];10<=Ol&&Ol<=15&&(Bl=32*(Bl+32>>5),Bl=this.sakamichiY(Al,Bl))}zl.pt=140+this.g_ac,zl.pth=0;break;case 115:if(Al+15>>5<Al+18>>5){var Pl=this.maps.map_bg[Al+15>>5][Bl+31>>5];10==Pl||13==Pl?Bl=32*(Bl+31>>5)-32:11!=Pl&&15!=Pl||(Bl=32*(Bl+31>>5))}Al+=3;var Ql=this.maps.map_bg[Al+15>>5][Bl+31>>5];if(10<=Ql&&Ql<=15)Bl=32*(Bl+31>>5),Bl=this.sakamichiY(Al,Bl);else{var Rl=Bl+32>>5;if(this.maps.map_bg[Al>>5][Rl]<=9){Al=32*(Al>>5);var Tl=this.maps.map_bg[Al+15>>5][Bl+31>>5];10<=Tl&&Tl<=15&&(Al+=16),zl.c=125}var Ul=this.maps.map_bg[Al+31>>5][Bl+31>>5];20<=Ul&&(Al=32*(Al+31>>5)-32,zl.c=110,this.maps.map_bg[Al+15>>5][Bl+32>>5]<=9&&(zl.c=125)),120<=yl&&Al>this.maps.wx+512&&(zl.c=0),10<=(Ul=this.maps.map_bg[Al+15>>5][Rl])&&Ul<=15&&(Bl=32*(Bl+32>>5),Bl=this.sakamichiY(Al,Bl))}zl.pt=140+this.g_ac,zl.pth=1;break;case 120:Bl+=5;var Vl=this.maps.map_bg[Al+15>>5][Bl+31>>5];if(10<=Vl&&Vl<=15){var Wl=this.sakamichiY(Al,32*(Bl+31>>5));Wl<=Bl&&(Bl=Wl,zl.c=110)}var Xl=Bl+31>>5,Yl=this.maps.map_bg[Al>>5][Xl],Zl=this.maps.map_bg[Al+31>>5][Xl];(20<=Yl||20<=Zl)&&(Bl=32*Xl-32,zl.c=110),Bl>=this.ochiru_y&&(zl.c=0),zl.pt=140,zl.pth=0;break;case 125:Bl+=5;var $l=this.maps.map_bg[Al+15>>5][Bl+31>>5];if(10<=$l&&$l<=15){var _l=this.sakamichiY(Al,32*(Bl+31>>5));_l<=Bl&&(Bl=_l,zl.c=115)}var am=Bl+31>>5,bm=this.maps.map_bg[Al>>5][am],cm=this.maps.map_bg[Al+31>>5][am];(20<=bm||20<=cm)&&(Bl=32*am-32,zl.c=115),Bl>=this.ochiru_y&&(zl.c=0),zl.pt=140,zl.pth=1;break;case 150:zl.vx<0&&(20<=this.maps.getBGCode(Al,Bl)||20<=this.maps.getBGCode(Al,Bl+31))&&(Al=32*(Al>>5)+32,zl.vx=0),0<zl.vx&&(20<=this.maps.getBGCode(Al+31,Bl)||20<=this.maps.getBGCode(Al+31,Bl+31))&&(Al=32*(Al+31>>5)-32,zl.vx=0),Al+=zl.vx,zl.vy+=2,18<zl.vy&&(zl.vy=18);var dm=(Bl+=zl.vy)+31>>5,em=this.maps.map_bg[Al>>5][dm],fm=this.maps.map_bg[Al+31>>5][dm];(20<=em||20<=fm)&&(Bl=32*dm-32,1==zl.muki?zl.c=115:zl.c=110),Bl>=this.ochiru_y&&(zl.c=0),zl.pt=140,zl.pth=zl.muki;break;case 200:zl.c1<=0?this.co_j.x>=Al-240&&this.co_j.x<=Al+240&&(zl.c=210,zl.vy=-14):zl.c1--,zl.pt=143,Al+8>=this.co_j.x?zl.pth=0:zl.pth=1;break;case 210:zl.vy++,14<zl.vy&&(zl.vy=14),Bl+=zl.vy,20<=this.maps.getBGCode(Al+15,Bl+31)&&(Bl=32*(Bl+31>>5)-32,zl.c=200,zl.c1=30),Bl>=this.ochiru_y&&(zl.c=0),0==zl.vy&&(32<c.abs(this.co_j.x-Al)||Bl<=this.co_j.y)&&this.mSet(Al,Bl,100),zl.vy<=-1?zl.pt=144:zl.pt=145,Al+8>=this.co_j.x?zl.pth=0:zl.pth=1;break;case 300:0<zl.c1?(zl.c1++,2==zl.c1||10==zl.c1||18==zl.c1||26==zl.c1?Al+8>=this.co_j.x?this.mSet(Al,Bl,200):this.mSet(Al,Bl,205):86<zl.c1&&(zl.c1=0)):this.co_j.x>=Al-256&&this.co_j.x<=Al+256&&(zl.c1=1),zl.pt=150,Al+8>=this.co_j.x?zl.pth=0:zl.pth=1;break;case 400:Al-=4,this.maps.getBGCode(Al,Bl+32)<=9&&(Al=32*(Al>>5)+32,zl.c=405),20<=this.maps.getBGCode(Al,Bl+31)&&(Al=32*(Al>>5)+32,zl.c=405),zl.pt=152+this.g_ac,zl.pth=0;break;case 405:Al+=4,this.maps.getBGCode(Al+31,Bl+32)<=9&&(Al=32*(Al+31>>5)-32,zl.c=400),20<=this.maps.getBGCode(Al+31,Bl+31)&&(Al=32*(Al+31>>5)-32,zl.c=400),zl.pt=152+this.g_ac,zl.pth=1;break;case 410:Al-=4;var gm=this.maps.map_bg[Al+15>>5][Bl+31>>5];if(10<=gm&&gm<=15)Bl=32*(Bl+31>>5),Bl=this.sakamichiY(Al,Bl);else{var hm=Bl+32>>5;if(this.maps.map_bg[Al+31>>5][hm]<=9){Al=32*(Al+31>>5);var jm=this.maps.map_bg[Al+15>>5][Bl+31>>5];10<=jm&&jm<=15&&(Al-=15),zl.c=420}if(Al<32)Al<=4&&(zl.c=0);else 20<=this.maps.map_bg[Al>>5][Bl+31>>5]&&(Al=32*(Al>>5)+32,zl.c=415,this.maps.map_bg[Al+15>>5][Bl+32>>5]<=9&&(zl.c=420));120<=yl&&Al<this.maps.wx-32&&(zl.c=0);var lm=this.maps.map_bg[Al+15>>5][hm];10<=lm&&lm<=15&&(Bl=32*(Bl+32>>5),Bl=this.sakamichiY(Al,Bl))}zl.pt=152+this.g_ac,zl.pth=0;break;case 415:Al+=4;var mm=this.maps.map_bg[Al+15>>5][Bl+31>>5];if(10<=mm&&mm<=15)Bl=32*(Bl+31>>5),Bl=this.sakamichiY(Al,Bl);else{var nm=Bl+32>>5;if(this.maps.map_bg[Al>>5][nm]<=9){Al=32*(Al>>5);var pm=this.maps.map_bg[Al+15>>5][Bl+31>>5];10<=pm&&pm<=15&&(Al+=16),zl.c=425}var qm=this.maps.map_bg[Al+31>>5][Bl+31>>5];20<=qm&&(Al=32*(Al+31>>5)-32,zl.c=410,this.maps.map_bg[Al+15>>5][Bl+32>>5]<=9&&(zl.c=425)),120<=yl&&Al>this.maps.wx+512&&(zl.c=0),10<=(qm=this.maps.map_bg[Al+15>>5][nm])&&qm<=15&&(Bl=32*(Bl+32>>5),Bl=this.sakamichiY(Al,Bl))}zl.pt=152+this.g_ac,zl.pth=1;break;case 420:var rm=(Bl+=5)+31>>5,sm=this.maps.map_bg[Al>>5][rm],tm=this.maps.map_bg[Al+31>>5][rm];(20<=sm||20<=tm)&&(Bl=32*rm-32,zl.c=410),Bl>=this.ochiru_y&&(zl.c=0),zl.pt=152,zl.pth=0;break;case 425:var um=(Bl+=5)+31>>5,vm=this.maps.map_bg[Al>>5][um],wm=this.maps.map_bg[Al+31>>5][um];(20<=vm||20<=wm)&&(Bl=32*um-32,zl.c=415),Bl>=this.ochiru_y&&(zl.c=0),zl.pt=152,zl.pth=1;break;case 450:zl.vx<0&&(20<=this.maps.getBGCode(Al,Bl)||20<=this.maps.getBGCode(Al,Bl+31))&&(Al=32*(Al>>5)+32,zl.vx=0),0<zl.vx&&(20<=this.maps.getBGCode(Al+31,Bl)||20<=this.maps.getBGCode(Al+31,Bl+31))&&(Al=32*(Al+31>>5)-32,zl.vx=0),Al+=zl.vx,zl.vy+=2,18<zl.vy&&(zl.vy=18);var xm=(Bl+=zl.vy)+31>>5,ym=this.maps.map_bg[Al>>5][xm],zm=this.maps.map_bg[Al+31>>5][xm];(20<=ym||20<=zm)&&(Bl=32*xm-32,1==zl.muki?zl.c=415:zl.c=410),Bl>=this.ochiru_y&&(zl.c=0),zl.pt=152,zl.pth=zl.muki;break;case 500:Bl<=zl.c3?(zl.vy++,4<zl.vy&&(zl.vy=4)):Bl>=zl.c4&&(zl.vy--,zl.vy<-4&&(zl.vy=-4)),Bl+=zl.vy,zl.pt=147+this.g_ac,this.co_j.x<=Al+8?zl.pth=0:zl.pth=1;break;case 510:(Al-=3)<48?Al<=3&&(zl.c=0):20<=this.maps.getBGCode(Al-16,Bl+31)&&(Al=32*(Al-16>>5)+32+16,zl.c=515),zl.pt=147+this.g_ac,zl.pth=0;break;case 515:Al+=3,20<=this.maps.getBGCode(Al+31+16,Bl+31)&&(Al=32*(Al+31+16>>5)-32-16,zl.c=510),zl.pt=147+this.g_ac,zl.pth=1;break;case 600:zl.c1<25?(zl.c1++,zl.vy=-17,zl.c3=0,zl.pt=154,zl.pth=0):(0==zl.c3?(zl.vy++,zl.c3=1):(zl.vy+=2,zl.c3=0),17<zl.vy&&(zl.vy=17),Bl+=zl.vy,zl.vy<4?zl.pt=155:zl.pt=156,zl.pth=0,(Al-=5)<32?Al<=3&&(zl.c=0):(20<=this.maps.getBGCode(Al+15,Bl+6)&&(Bl=32*(Bl+6>>5)+32-6,zl.vy=0),20<=this.maps.getBGCode(Al+15,Bl+31)&&(Bl=32*(Bl+31>>5)-32,zl.c1=15,zl.pt=154,zl.pth=0),(20<=this.maps.getBGCode(Al,Bl+31)||20<=this.maps.getBGCode(Al,Bl+8))&&(Al=32*(Al>>5)+32,zl.c=605),120<=yl&&Al<this.maps.wx-32&&(zl.c=0))),Bl>=this.ochiru_y&&(zl.c=0);break;case 605:zl.c1<25?(zl.c1++,zl.vy=-17,zl.c3=0,zl.pt=154,zl.pth=1):(0==zl.c3?(zl.vy++,zl.c3=1):(zl.vy+=2,zl.c3=0),17<zl.vy&&(zl.vy=17),Bl+=zl.vy,zl.vy<4?zl.pt=155:zl.pt=156,zl.pth=1,Al+=5,20<=this.maps.getBGCode(Al+15,Bl+6)&&(Bl=32*(Bl+6>>5)+32-6,zl.vy=0),20<=this.maps.getBGCode(Al+15,Bl+31)&&(Bl=32*(Bl+31>>5)-32,zl.c1=15,zl.pt=154,zl.pth=1),(20<=this.maps.getBGCode(Al+31,Bl+31)||20<=this.maps.getBGCode(Al+31,Bl+8))&&(Al=32*(Al+31>>5)-32,zl.c=600),120<=yl&&Al>this.maps.wx+512&&(zl.c=0)),Bl>=this.ochiru_y&&(zl.c=0);break;case 650:zl.vx<0&&(20<=this.maps.getBGCode(Al,Bl)||20<=this.maps.getBGCode(Al,Bl+31))&&(Al=32*(Al>>5)+32,zl.vx=0),0<zl.vx&&(20<=this.maps.getBGCode(Al+31,Bl)||20<=this.maps.getBGCode(Al+31,Bl+31))&&(Al=32*(Al+31>>5)-32,zl.vx=0),Al+=zl.vx,zl.vy+=2,18<zl.vy&&(zl.vy=18);var Am=(Bl+=zl.vy)+31>>5,Bm=this.maps.map_bg[Al>>5][Am],Cm=this.maps.map_bg[Al+31>>5][Am];(20<=Bm||20<=Cm)&&(Bl=32*Am-32,1==zl.muki?zl.c=605:zl.c=600,zl.c1=15),Bl>=this.ochiru_y&&(zl.c=0),zl.vy<4?zl.pt=155:zl.pt=156,zl.pth=zl.muki;break;case 700:this.yachamo_cf||(0<zl.c1?(zl.c1++,2==zl.c1?Al+8>=this.co_j.x?this.mSet(Al,Bl,300):this.mSet(Al,Bl,305):40<zl.c1&&(zl.c1=0)):this.co_j.x>=Al-256&&this.co_j.x<=Al+192&&96<=c.abs(this.co_j.x-Al)&&(zl.c1=1)),zl.pt=158,Al+8>=this.co_j.x?zl.pth=0:zl.pth=1;break;case 800:0<zl.c1?(zl.c1++,2==zl.c1?Al+8>=this.co_j.x?this.mSet(Al,Bl,400):this.mSet(Al,Bl,405):20<zl.c1&&(zl.c=810,zl.c1=0)):zl.c1<0?zl.c1++:this.co_j.x>=Al-240&&this.co_j.x<=Al+240&&(zl.c1=1),zl.pt=160,Al+8>=this.co_j.x?zl.pth=0:zl.pth=1;break;case 810:zl.c1<=0?((Al+=3)>=zl.c3+96&&(Al=zl.c3+96,zl.c1=10),this.maps.getBGCode(Al+31,Bl+32)<=9&&(Al=32*(Al+31>>5)-32,zl.c1=10),zl.pt=161+this.g_ac,zl.pth=1):zl.c1<=35?(zl.c1++,15==zl.c1&&(Al+8>=this.co_j.x?this.mSet(Al,Bl,400):this.mSet(Al,Bl,405)),zl.pt=160,Al+8>=this.co_j.x?zl.pth=0:zl.pth=1):((Al-=3)<=zl.c3&&(Al=zl.c3,zl.c=800,zl.c1=-20),this.maps.getBGCode(Al,Bl+32)<=9&&(Al=32*(Al>>5)+32,zl.c=800,zl.c1=-20),zl.pt=161+this.g_ac,zl.pth=0);break;case 900:(Al-=4)<48?Al<=4&&(zl.c=0):(zl.c1++,1==zl.c1?this.mSet(Al,Bl+19,600):26<zl.c1&&(zl.c1=0),20<=this.maps.getBGCode(Al,Bl+31)&&(Al=32*(Al>>5)+32,zl.c=910)),zl.pt=164,zl.pth=0;break;case 910:zl.pt=164,zl.pth=0;break;case 950:(Al-=4)<48?Al<=4&&(zl.c=0):(zl.c1++,1==zl.c1?this.mSet(Al,Bl+19,600):26<zl.c1&&(zl.c1=0),20<=this.maps.getBGCode(Al-16,Bl+31)&&(Al=32*(Al-16>>5)+32+16,zl.c=960,zl.c1=16)),zl.pt=164,zl.pth=0;break;case 960:Al+=4,zl.c1++,1==zl.c1?this.mSet(Al,Bl+19,605):26<zl.c1&&(zl.c1=0),20<=this.maps.getBGCode(Al+31+16,Bl+31)&&(Al=32*(Al+31+16>>5)-32-16,zl.c=950,zl.c1=16),zl.pt=164,zl.pth=1;break;case 1e3:(Al-=3)<=zl.c3-256+16&&(zl.c=1005),(20<=this.maps.getBGCode(Al-16,Bl)||20<=this.maps.getBGCode(Al-16,Bl+31))&&(Al=32*(Al-16>>5)+32+16,zl.c=1005),zl.pt=166,zl.pth=0;break;case 1005:(Al+=3)>=zl.c3+16&&(zl.c=1e3),(20<=this.maps.getBGCode(Al+31+16,Bl)||20<=this.maps.getBGCode(Al+31+16,Bl+31))&&(Al=32*(Al+31+16>>5)-32-16,zl.c=1e3),zl.pt=166,zl.pth=1;break;case 1100:0<zl.c1?(zl.c1++,77<zl.c1&&(zl.c1=0)):c.abs(this.co_j.x-Al)<=144&&c.abs(this.co_j.y-Bl)<=144&&(zl.c1=1,this.mSet2(Al,Bl,700,-3,-3),this.mSet2(Al,Bl,700,3,-3),this.mSet2(Al,Bl,700,-3,3),this.mSet2(Al,Bl,700,3,3),this.mSet2(Al,Bl,700,-4,0),this.mSet2(Al,Bl,700,4,0),this.mSet2(Al,Bl,700,0,-4),this.mSet2(Al,Bl,700,0,4)),zl.pt=167,Al+8>=this.co_j.x?zl.pth=0:zl.pth=1}if(zl.c<100)zl.x=Al,zl.y=Bl;else{var Dm=c.abs(Al-this.co_j.x);48<=Dm||100<=this.co_j.c&&this.co_j.c<200&&Dm<30&&c.abs(Bl-this.co_j.y)<23&&(0<this.j_v_c?(1==this.co_j.muki?(zl.pth=0,zl.vx=3):(zl.pth=1,zl.vx=-3),zl.c=52,zl.vy=-30):400<=zl.c&&zl.c<500||1e3<=zl.c&&zl.c<1200?this.jShinu(2):Dm<27&&0<this.co_j.vy&&!this.j_mizu_f||xl?(zl.c<200?zl.pt=142:zl.c<300?zl.pt=146:zl.c<400?zl.pt=151:zl.c<600?zl.pt=149:zl.c<700?zl.pt=157:zl.c<800?zl.pt=159:zl.c<900?zl.pt=163:zl.c<1e3&&(zl.pt=165),zl.c=50,zl.c1=0,this.co_j.y=Bl-12,this.co_j.vy=-160,this.j_jump_type=1,this.co_j.c=110,this.co_j.c1=0,this.co_j.pt=109,149!=zl.pt&&165!=zl.pt||(this.co_j.vy=-220,zl.c1=-2),xl=!0):this.jShinu(2)),zl.x=Al,zl.y=Bl}}},G.prototype.sakamichiY=function(Em,Fm){var Gm=Em+15>>5,Hm=Fm+31>>5,Jm=Fm;switch(this.maps.map_bg[Gm][Hm]){default:break;case 10:var Km=32*Hm-(Em+15)%32;Km<Fm&&(Jm=Km);break;case 11:var Lm=32*Hm+(Em+15)%32-31;Lm<Fm&&(Jm=Lm);break;case 12:var Mm=32*Hm-((Em+15)%32>>1);Mm<Fm&&(Jm=Mm);break;case 13:var Nm=32*Hm-((Em+15)%32>>1)-16;Nm<Fm&&(Jm=Nm);break;case 14:var Om=32*Hm+((Em+15)%32>>1)-31;Om<Fm&&(Jm=Om);break;case 15:var Pm=32*Hm+((Em+15)%32>>1)-15;Pm<Fm&&(Jm=Pm)}return Jm},G.prototype.mSet=function(Qm,Rm,Sm){for(var Tm=0;Tm<=23;Tm++)if(!(0<this.co_m[Tm].c)){var Um=this.co_m[Tm];switch(Um.c=Sm,Um.x=Qm,Um.y=Rm,Um.c1=0,this.m_kazu++,Sm){case 90:Um.c2=4,Um.vx=0,Um.vy=0;break;case 100:var Vm=this.co_j.x-Qm,Wm=this.co_j.y-Rm,Xm=c.floor(c.sqrt(Vm*Vm+Wm*Wm));Xm<48?(this.m_kazu--,Um.c=0):(Um.vx=s(14*Vm/Xm),Um.vy=s(14*Wm/Xm),Um.x+=s(16*Um.vx/14),Um.y+=s(16*Um.vy/14)),!this.dengeki_mkf&&0<Um.c&&4==this.maps.getBGCode(Um.x+15,Um.y+15)&&(this.m_kazu--,Um.c=0);break;case 200:Um.vx=-4-this.ranInt(6),Um.vy=-22,Um.x+=Um.vx,Um.y+=Um.vy;break;case 205:Um.c=200,Um.vx=4+this.ranInt(6),Um.vy=-22,Um.x+=Um.vx,Um.y+=Um.vy;break;case 300:Um.vx=-12,Um.x+=Um.vx;break;case 305:Um.c=300,Um.vx=12,Um.x+=Um.vx;break;case 400:Um.vx=-80,Um.vy=-225;break;case 405:Um.c=400,Um.vx=80,Um.vy=-225;break;case 500:Um.vx=-4,Um.vy=-22;break;case 600:Um.vx=-40,Um.vy=0;break;case 605:Um.c=600,Um.vx=40,Um.vy=0;break;case 2e3:Um.c3=Rm,Um.vy=-210;break;case 2010:Um.c=2e3,Um.c3=Rm-64,Um.vy=-280;break;case 2020:Um.c=2e3,Um.c3=Rm-32,Um.vy=-250;break;case 2100:Um.c2=0;break;case 2110:Um.c=2100,Um.c2=1;break;case 2120:Um.c=2100,Um.c2=2;break;case 2130:Um.c=2100,Um.c2=3;break;case 2140:Um.c=2100,Um.c2=4;break;case 2150:Um.c=2100,Um.c2=5;break;case 2160:Um.c=2100,Um.c2=6;break;case 2170:Um.c=2100,Um.c2=7;break;case 2180:Um.c=2100,Um.c2=8}break}},G.prototype.mSet2=function(Ym,Zm,$m,_m,an){for(var bn=0;bn<=23;bn++)if(!(0<this.co_m[bn].c)){var cn=this.co_m[bn];switch(cn.c=$m,cn.x=Ym,cn.y=Zm,cn.vx=_m,cn.vy=an,cn.c1=0,this.m_kazu++,$m){case 500:cn.x+=cn.vx;break;case 700:cn.c2=0;break;case 710:cn.c=700,cn.c2=1}break}},G.prototype.mMove=function(){for(var dn=0;dn<=23;dn++)if(0!=this.co_m[dn].c){var en=this.co_m[dn];switch(en.c){case 50:en.c1++,en.c1<=5?en.pt=80:en.c1<=10?en.pt=81:en.c1<=16?en.pt=82:en.c=0,en.pth=0;break;case 60:en.y-=5;var fn=en.y>>5,gn=this.maps.map_bg[en.x+11>>5][fn];(gn<=3||20<=gn)&&(en.c=0),((gn=this.maps.map_bg[en.x+20>>5][fn])<=3||20<=gn)&&(en.c=0),8!=(gn=this.maps.map_bg[en.x+15>>5][fn])&&9!=gn||4==this.maps.map_bg[(en.x+15>>5)-1][fn]||(en.c=0),(en.x<=this.maps.wx-32||en.x>=this.maps.wx+512)&&(en.c=0),(en.y<=this.maps.wy-32||en.y>=this.maps.wy+320)&&(en.c=0),en.pt=85,en.pth=0;break;case 70:switch(en.c1++,en.c1){case 1:en.c2=20;break;case 2:en.c2=34;break;case 3:en.c2=46;break;case 4:en.c2=56;break;case 5:en.c2=64;break;case 6:en.c2=70;break;case 7:en.c2=74;break;case 8:en.c2=77;break;case 9:en.c2=79;break;case 10:en.c2=80}if(10<en.c1&&(en.c2=10,en.c=0),100<=this.co_j.c&&this.co_j.c<200){var hn=this.co_j.x-en.x,jn=this.co_j.y-en.y;c.floor(c.sqrt(hn*hn+jn*jn))<=en.c2+4&&this.j_v_c<=0&&this.jShinu(1)}en.pt=1100,en.pth=0;break;case 80:5<=en.vy&&(2<en.vx?en.vx--:en.vx<-2&&en.vx++),en.x+=en.vx,en.vy+=4,30<en.vy&&(en.vy=30),en.y+=en.vy,en.y>=this.maps.wy+320&&(en.c=0),en.pt=136,en.vx<0?en.pth=0:en.pth=1;break;case 90:if(en.c2<48){if(en.c2+=4,48<=en.c2){en.c2=48;var ln=this.co_j.x-en.x,mn=this.co_j.y-en.y,nn=c.floor(c.sqrt(ln*ln+mn*mn));nn<32||this.co_j.c<100||200<=this.co_j.c?(en.x<this.maps.wx+256?en.vx=14:en.vx=-14,en.vy=0):(en.vx=s(14*ln/nn),en.vy=s(14*mn/nn))}}else en.x+=en.vx,en.y+=en.vy,en.x<=this.maps.wx-32-32||en.x>=this.maps.wx+512+128+32?en.c=0:(en.y<=this.maps.wy-32-200-32||en.y>=this.maps.wy+320+32)&&(en.c=0);if(100<=this.co_j.c&&this.co_j.c<200){var on=this.co_j.x-en.x,pn=this.co_j.y-en.y;c.floor(c.sqrt(on*on+pn*pn))+4<=en.c2&&(0<this.j_v_c?en.c=0:this.jShinu(1))}en.pt=1e3;break;case 100:en.x+=en.vx,en.y+=en.vy;var rn=en.x+15>>5;(20<=this.maps.map_bg[rn][en.y+12>>5]||20<=this.maps.map_bg[rn][en.y+18>>5])&&(en.c=0),this.dengeki_mkf||4!=this.maps.getBGCode(en.x+15,en.y+15)||(en.c=0),en.x<=this.maps.wx-32||en.x>=this.maps.wx+512+128?en.c=0:(en.y<=this.maps.wy-32-200||en.y>=this.maps.wy+320)&&(en.c=0),0==this.g_c1?en.pt=120:en.pt=121,en.pth=0;break;case 200:en.x+=en.vx,en.vy+=2,12<en.vy&&(en.vy=12);var sn=en.vy;switch(sn<-18&&(sn=-18),en.y+=sn,en.y>=this.maps.wy+320&&(en.c=0),this.g_c2){case 0:en.pt=122;break;case 1:en.pt=123;break;case 2:en.pt=124;break;case 3:en.pt=125}en.pth=0;break;case 300:en.x+=en.vx;var tn=en.y+15>>5;(20<=this.maps.map_bg[en.x+8>>5][tn]||20<=this.maps.map_bg[en.x+23>>5][tn])&&(en.c=0),(en.x<=this.maps.wx-32||en.x>=this.maps.wx+512+128)&&(en.c=0),0==this.g_c1?en.pt=126:en.pt=127,en.vx<=0?en.pth=0:en.pth=1;break;case 400:en.x+=s(en.vx/10),en.vy+=25,180<en.vy&&(en.vy=180),en.y+=s(en.vy/10),en.y>=this.maps.wy+320&&(en.c=0);var un=en.x+15>>5;20<=this.maps.map_bg[un][en.y+15>>5]&&(en.c=0),0==this.g_c1?en.pt=128:en.pt=129,en.vx<=0?en.pth=0:en.pth=1;break;case 500:5<=en.vy&&(2<en.vx?en.vx--:en.vx<-2&&en.vx++),en.x+=en.vx,en.vy+=2,12<en.vy&&(en.vy=12);var vn=en.vy;vn<-16&&(vn=-16),en.y+=vn,en.y>=this.maps.wy+320&&(en.c=0),en.pt=139,en.pth=0;break;case 600:0<en.vx?en.vx-=2:en.vx<0&&(en.vx+=2),en.x+=s(en.vx/10),en.vy+=8,200<en.vy&&(en.vy=200),en.y+=s(en.vy/10),20<=this.maps.map_bg[en.x+15>>5][en.y+15>>5]&&(en.c=610,en.c1=0,en.y=32*(en.y+15>>5)-16),en.x<=this.maps.wx-32-64||en.x>=this.maps.wx+512+64?en.c=0:(en.y<=this.maps.wy-32-200||en.y>=this.maps.wy+320)&&(en.c=0),28<en.vx?(en.pt=171,en.pth=1):(en.vx<-28?en.pt=171:en.pt=170,en.pth=0);break;case 610:en.c1++,en.c1<=3?en.pt=172:en.c1<=6?en.pt=173:en.c1<=9?en.pt=174:(en.c=0,en.pt=198),en.pth=0;break;case 700:en.x+=en.vx,en.y+=en.vy,en.x<=this.maps.wx-32||en.x>=this.maps.wx+512+32?en.c=0:(en.y<=this.maps.wy-64||en.y>=this.maps.wy+320+64)&&(en.c=0);var wn=this.maps.getBGCode(en.x+15,en.y+15);0==en.c2&&20<=wn&&(en.c=0),0==en.c2&&wn<=3&&(en.c=0),en.pt=168+this.g_c1,en.pth=0;break;case 800:5<=en.vy&&(2<en.vx?en.vx--:en.vx<-2&&en.vx++),en.x+=en.vx,en.vy+=4,28<en.vy&&(en.vy=28),en.y+=en.vy,en.y>=this.maps.wy+320&&(en.c=0),20<=this.maps.getBGCode(en.x+15,en.y+31)&&(en.c=70,en.y=32*(en.y+31>>5)-16,en.c1=1,en.c2=20),en.pt=137+this.g_c1,en.vx<0?en.pth=0:en.pth=1;break;case 2e3:en.vy+=30,180<en.vy&&(en.vy=180),en.y+=s(en.vy/10),0<=en.vy&&en.y>=en.c3&&(en.y=en.c3,en.vy=0),(en.x<=this.maps.wx-32||en.x>=this.maps.wx+512)&&(en.c=0),en.pt=90+this.g_ac2,en.pth=0;break;case 2100:(en.x<=this.maps.wx-32||en.x>=this.maps.wx+512)&&(en.c=0),en.pt=42+en.c2,8==en.c2&&(en.pt=59),en.pth=0;break;case 2200:en.x<this.maps.wx?en.x=this.maps.wx:en.x>this.maps.wx+512-32&&(en.x=this.maps.wx+512-32),en.y<this.maps.wy+64?en.y=this.maps.wy+64:en.y>this.maps.wy+224&&(en.y=this.maps.wy+224),2<=this.stage_max&&this.stage>=this.stage_max?0==this.g_ac2?en.pt=99:en.pt=98:0==this.g_ac2?en.pt=95:en.pt=94,en.pth=0}0==en.c?this.m_kazu--:100<=this.co_j.c&&this.co_j.c<200&&(2e3<=en.c?c.abs(en.x-this.co_j.x)<=14&&en.y<=this.co_j.y+26&&en.y+15>=this.co_j.y&&(this.addScore(5),2100==en.c?0==en.c2?this.j_fire_f=!0:1==en.c2?(this.j_v_c=150,this.j_v_kakudo=0):2==en.c2?0<this.time_max&&(this.time+=3e4):3==en.c2?this.j_jet_fuel+=80:4==en.c2?this.j_helm_f=!0:5==en.c2?this.j_tail_f=!0:6==en.c2?this.j_drell_f=!0:7==en.c2?this.j_gr_kazu++:8==en.c2&&this.j_left++:2200==en.c&&(this.stage_cc=1,2<=this.stage_max&&this.stage>=this.stage_max?this.addScore(995):this.addScore(95)),en.c=0,this.m_kazu--):100<=en.c&&c.abs(en.x-this.co_j.x)<=23&&c.abs(en.y-this.co_j.y)<=28&&(0<this.j_v_c?(en.c=0,this.m_kazu--):(this.jShinu(1),800==en.c&&(en.c=70,en.c1=1,en.c2=20))))}},G.prototype.jmSet=function(xn,yn,zn){for(var An=0;An<=1;An++)if(!(0<this.co_jm[An].c)){var Bn=this.co_jm[An];switch(Bn.c=zn,Bn.x=xn,Bn.y=yn+8,Bn.c1=0,this.jm_kazu++,zn){case 60:case 65:Bn.x=xn+16,Bn.y=yn,Bn.vx=xn+16,Bn.c4=8,this.j_gr_kazu--;break;case 100:Bn.vx=s(this.co_j.vx/10)-10,Bn.vy=-28,c.abs(Bn.vx)<2&&(Bn.vx=-2);break;case 105:Bn.vx=s(this.co_j.vx/10)+10,Bn.vy=-28,c.abs(Bn.vx)<2&&(Bn.vx=2);break;case 200:Bn.vx=s(this.co_j.vx/10)-10,Bn.vy=-32,c.abs(Bn.vx)<2&&(Bn.vx=-2),5!=this.grenade_type&&6!=this.grenade_type||(Bn.y=yn,Bn.vx=-20,Bn.vy=0),this.j_gr_kazu--;break;case 205:Bn.c=200,Bn.vx=s(this.co_j.vx/10)+10,Bn.vy=-35,c.abs(Bn.vx)<2&&(Bn.vx=2),5!=this.grenade_type&&6!=this.grenade_type||(Bn.y=yn,Bn.vx=20,Bn.vy=0),this.j_gr_kazu--}break}},G.prototype.jmMove=function(){for(var Cn=0;Cn<=1;Cn++)if(0!=this.co_jm[Cn].c){var Dn=this.co_jm[Cn];switch(Dn.c){case 50:switch(Dn.c1++,Dn.c1){case 1:Dn.c2=20;break;case 2:Dn.c2=34;break;case 3:Dn.c2=46;break;case 4:Dn.c2=56;break;case 5:Dn.c2=64;break;case 6:Dn.c2=70;break;case 7:Dn.c2=74;break;case 8:Dn.c2=77;break;case 9:Dn.c2=79;break;case 10:Dn.c2=80}10<Dn.c1&&(Dn.c2=10,Dn.c=0);for(var En=0;En<=this.t_kazu;En++)if(100<=this.co_t[En].c){var Fn=this.co_t[En],Gn=Fn.x-Dn.x,Hn=Fn.y-Dn.y;c.floor(c.sqrt(Gn*Gn+Hn*Hn))<=Dn.c2+8&&(Dn.x>Fn.x?(Fn.pth=1,Fn.vx=-3):(Fn.pth=0,Fn.vx=3),Fn.c=52,Fn.vy=-25)}if((1==this.grenade_type||5==this.grenade_type)&&100<=this.co_b.c){var Jn=this.co_b.x-Dn.x,Kn=this.co_b.y-Dn.y;c.floor(c.sqrt(Jn*Jn+Kn*Kn))<=Dn.c2+20&&(this.co_b.c<200?(this.co_b.c=67,this.co_b.vy=-24,this.co_b.c1=0,Dn.x>this.co_b.x?(this.co_b.muki=1,this.co_b.pt=1005,this.co_b.vx=-4):(this.co_b.muki=0,this.co_b.pt=1e3,this.co_b.vx=4)):this.co_b.c<300?(this.co_b.c=77,this.co_b.vy=-24,this.co_b.c1=0,Dn.x>this.co_b.x?(this.co_b.muki=1,this.co_b.pt=1105,this.co_b.vx=-4):(this.co_b.muki=0,this.co_b.pt=1100,this.co_b.vx=4)):(this.co_b.c=87,this.co_b.vy=-24,this.co_b.c1=0,Dn.x>this.co_b.x?(this.co_b.muki=1,this.co_b.pt=1205,this.co_b.vx=-4):(this.co_b.muki=0,this.co_b.pt=1200,this.co_b.vx=4)))}Dn.pt=1e3,Dn.pth=0;break;case 60:Dn.y=this.co_j.y,Dn.x-=28,Dn.x<=this.maps.wx-32&&(Dn.x=this.maps.wx-32),0<Dn.c4?(Dn.c4--,Dn.vx=this.co_j.x+16):(Dn.vx-=28,Dn.vx<=Dn.x&&(Dn.c=0));for(var Mn=0;Mn<=this.t_kazu;Mn++)if(100<=this.co_t[Mn].c){var Nn=this.co_t[Mn];Nn.x>Dn.x-12&&Nn.x<Dn.vx+12&&c.abs(Nn.y-Dn.y)<24&&(Nn.pth=0,Nn.vx=-3,Nn.c=52,Nn.vy=-25)}3==this.grenade_type&&100<=this.co_b.c&&this.co_b.x>Dn.x-24&&this.co_b.x<Dn.vx+24&&c.abs(this.co_b.y-Dn.y)<36&&(this.co_b.c<200?(this.co_b.c=67,this.co_b.vy=-24,this.co_b.c1=0,this.co_b.muki=1,this.co_b.pt=1005):this.co_b.c<300?(this.co_b.c=77,this.co_b.vy=-24,this.co_b.c1=0,this.co_b.muki=1,this.co_b.pt=1105):(this.co_b.c=87,this.co_b.vy=-24,this.co_b.c1=0,this.co_b.muki=1,this.co_b.pt=1205),this.co_b.vx=-4),(this.co_j.c<100||200<=this.co_j.c)&&(Dn.c=0),Dn.pt=1200;break;case 65:Dn.y=this.co_j.y,Dn.x+=28,Dn.x>=this.maps.wx+512+32&&(Dn.x=this.maps.wx+512+32),0<Dn.c4?(Dn.c4--,Dn.vx=this.co_j.x+16):(Dn.vx+=28,Dn.vx>=Dn.x&&(Dn.c=0));for(var On=0;On<=this.t_kazu;On++)if(100<=this.co_t[On].c){var Pn=this.co_t[On];Pn.x>Dn.vx-12&&Pn.x<Dn.x+12&&c.abs(Pn.y-Dn.y)<24&&(Pn.pth=0,Pn.vx=3,Pn.c=52,Pn.vy=-25)}3==this.grenade_type&&100<=this.co_b.c&&this.co_b.x>Dn.vx-24&&this.co_b.x<Dn.x+24&&c.abs(this.co_b.y-Dn.y)<36&&(this.co_b.c<200?(this.co_b.c=67,this.co_b.vy=-24,this.co_b.c1=0,this.co_b.muki=0,this.co_b.pt=1e3):this.co_b.c<300?(this.co_b.c=77,this.co_b.vy=-24,this.co_b.c1=0,this.co_b.muki=0,this.co_b.pt=1100):(this.co_b.c=87,this.co_b.vy=-24,this.co_b.c1=0,this.co_b.muki=0,this.co_b.pt=1200),this.co_b.vx=4),(this.co_j.c<100||200<=this.co_j.c)&&(Dn.c=0),Dn.pt=1205;break;case 100:Dn.x+=Dn.vx,20<=this.maps.getBGCode(Dn.x+7,Dn.y+15)&&(Dn.c=0),Dn.vy+=5,30<Dn.vy&&(Dn.vy=30),Dn.y+=Dn.vy,Dn.vy<0&&20<=this.maps.getBGCode(Dn.x+15,Dn.y+8)&&(Dn.c=0),20<=this.maps.getBGCode(Dn.x+15,Dn.y+23)&&(Dn.y=32*(Dn.y+23>>5)-24,Dn.vy=-28),this.j_fire_mkf||4!=this.maps.getBGCode(Dn.x+15,Dn.y+15)||(Dn.c=0),(Dn.x<=this.maps.wx-24||Dn.x>=this.maps.wx+512-8||Dn.y<=this.maps.wy-128||Dn.y>=this.maps.wy+384)&&(Dn.c=0),Dn.pt=130+this.g_c2,Dn.pth=0;break;case 105:Dn.x+=Dn.vx,20<=this.maps.getBGCode(Dn.x+23,Dn.y+15)&&(Dn.c=0),Dn.vy+=5,30<Dn.vy&&(Dn.vy=30),Dn.y+=Dn.vy,Dn.vy<0&&20<=this.maps.getBGCode(Dn.x+15,Dn.y+8)&&(Dn.c=0),20<=this.maps.getBGCode(Dn.x+15,Dn.y+23)&&(Dn.y=32*(Dn.y+23>>5)-24,Dn.vy=-28),this.j_fire_mkf||4!=this.maps.getBGCode(Dn.x+15,Dn.y+15)||(Dn.c=0),(Dn.x<=this.maps.wx-24||Dn.x>=this.maps.wx+512-8||Dn.y<=this.maps.wy-128||Dn.y>=this.maps.wy+384)&&(Dn.c=0),Dn.pt=130+this.g_c2,Dn.pth=1;break;case 200:Dn.x+=Dn.vx,5!=this.grenade_type&&6!=this.grenade_type&&(Dn.vy+=5,30<Dn.vy&&(Dn.vy=30),Dn.y+=Dn.vy,0<Dn.vy&&20<=this.maps.getBGCode(Dn.x+15,Dn.y+31)&&(Dn.c=50,Dn.y=32*(Dn.y+31>>5)-16,Dn.c1=1,Dn.c2=20)),20<=this.maps.getBGCode(Dn.x+15,Dn.y+15)&&(Dn.c=50,Dn.c1=1,Dn.c2=20),(Dn.x<=this.maps.wx-64||Dn.x>=this.maps.wx+512+64||Dn.y<=this.maps.wy-128||Dn.y>=this.maps.wy+384)&&(Dn.c=0),Dn.pt=137+this.g_c1,Dn.vx<0?Dn.pth=0:Dn.pth=1}if(0==Dn.c)this.jm_kazu--;else if(100<=Dn.c)for(var Qn=0;Qn<=this.t_kazu;Qn++)if(!(this.co_t[Qn].c<100)){var Rn=this.co_t[Qn];if(!(22<=c.abs(Dn.x-Rn.x)||22<=c.abs(Dn.y-Rn.y))){Dn.vx<0?(Rn.pth=1,Rn.vx=-3):(Rn.pth=0,Rn.vx=3),Rn.c=52,Rn.vy=-25,200==Dn.c?(Dn.c=50,Dn.c1=1,Dn.c2=20):(Dn.c=0,this.jm_kazu--);break}}}},G.prototype.aSet=function(Sn,Tn,Un,Vn){for(var Wn=0;Wn<=31;Wn++)if(!(0<this.co_a[Wn].c)){var Xn=this.co_a[Wn];switch(Xn.c=Un,Xn.c1=Vn-512-32,Xn.c2=Vn+128,Xn.x=Sn,Xn.y=Tn,this.a_kazu++,Un){case 60:Xn.pt=200;break;case 70:Xn.vx=-3,Xn.c3=0,Xn.c1=Sn-512-150,Xn.c2=Sn+150;break;case 71:Xn.c=70,Xn.vx=3,Xn.c3=0,Xn.c1=Sn-512-150,Xn.c2=Sn+150;break;case 80:Xn.pt=800,Xn.c3=1;break;case 81:Xn.c=80,Xn.pt=800,Xn.c3=2;break;case 82:Xn.c=80,Xn.pt=800,Xn.c3=3;break;case 83:Xn.c=80,Xn.pt=800,Xn.c3=4;break;case 100:Xn.vy=5,Xn.x=Sn+8,Xn.y=Tn-212,Xn.c3=Tn-212,Xn.c4=Tn+2,Xn.pt=100;break;case 110:Xn.vx=-3,Xn.x=Sn+208,Xn.c3=Sn,Xn.c4=Sn+208,Xn.pt=100,Xn.c2=Vn+208+128+32;break;case 115:Xn.c=110,Xn.vx=-3,Xn.x=Sn+208,Xn.c3=Sn,Xn.c4=Sn+208,Xn.pt=100,Xn.c2=Vn+208+128+342+32;break;case 116:Xn.c=110,Xn.vx=3,Xn.x=Sn+320,Xn.c3=Sn+320,Xn.c4=Sn+208+320,Xn.pt=100,Xn.c2=Vn+208+128+320+32;break;case 120:Xn.vx=Sn+160,Xn.vy=Tn,Xn.x=Sn+8,Xn.y=Tn,Xn.c3=0,Xn.muki=1,Xn.c1=Xn.vx-512-32-130,Xn.c2=Xn.vx+128+130,Xn.pt=100;break;case 121:Xn.c=120,Xn.vx=Sn+160,Xn.vy=Tn,Xn.x=Sn+8,Xn.y=Tn,Xn.c3=0,Xn.muki=0,Xn.c1=Xn.vx-512-32-130,Xn.c2=Xn.vx+128+130,Xn.pt=100;break;case 300:Xn.pt=300,Xn.c3=0,Xn.c4=0;break;case 310:Xn.c=300,Xn.pt=310,Xn.c3=1,Xn.c4=0;break;case 320:Xn.c=300,Xn.pt=320,Xn.c3=2,Xn.c4=0;break;case 330:Xn.c=300,Xn.pt=330,Xn.c3=3,Xn.c4=0;break;case 400:Xn.pt=400,Xn.c3=0,Xn.vy=Tn;break;case 500:Xn.vy=0,Xn.x=Sn,Xn.y=Tn,Xn.c3=0,Xn.c4=0,Xn.pt=500;break;case 510:Xn.c=500,Xn.vy=0,Xn.x=Sn,Xn.y=Tn,Xn.c3=0,Xn.c4=1,Xn.pt=500;break;case 600:Xn.pt=600,Xn.c3=0,Xn.c4=0,Xn.vx=0,Xn.vy=Tn;break;case 700:Xn.pt=700,Xn.c3=0}break}},G.prototype.aMove=function(){this.j_a_id=-1,this.j_jdai_f=!1,this.a_hf=!1;for(var $n=0;$n<=this.a_kazu;$n++){var _n=this.co_a[$n];if(0!=_n.c)if(this.maps.wx<=_n.c1||this.maps.wx>=_n.c2)_n.gf=!1;else{var ao=_n.x,bo=_n.y;switch(_n.c){case 60:ao>this.maps.wx-80&&ao<this.maps.wx+512&&bo>this.maps.wy-96&&bo<this.maps.wy+320?(_n.gf=!0,this.a_hf=!0,this.g_c3<=3?_n.pt=200:_n.pt=210):_n.gf=!1;break;case 70:if(_n.c3+=_n.vx,_n.c3<0?_n.c3+=360:360<=_n.c3&&(_n.c3-=360),ao>this.maps.wx-150&&ao<this.maps.wx+512+150&&bo>this.maps.wy-150&&bo<this.maps.wy+320+150){_n.gf=!0,this.a_hf=!0,_n.pt=1100;var co=.017453292519943295,eo=ao+c.floor(25*c.cos(_n.c3*co)),fo=bo+c.floor(25*c.sin(_n.c3*co));this.vo_x[$n][0]=eo,this.vo_y[$n][0]=fo;var go=ao+c.floor(140*c.cos(_n.c3*co)),ho=bo+c.floor(140*c.sin(_n.c3*co));if(this.vo_x[$n][1]=go,this.vo_y[$n][1]=ho,this.vo_x[$n][2]=ao+c.floor(31*c.cos(_n.c3*co)),this.vo_y[$n][2]=bo+c.floor(31*c.sin(_n.c3*co)),this.vo_x[$n][3]=ao+c.floor(134*c.cos(_n.c3*co)),this.vo_y[$n][3]=bo+c.floor(134*c.sin(_n.c3*co)),100<=this.co_j.c&&this.co_j.c<200&&this.j_v_c<=0)if(c.abs(eo-go)>=c.abs(fo-ho)){if(this.co_j.x+15>eo&&this.co_j.x+15<go){var io=go-eo,lo=s((this.co_j.x+15-eo)*(ho-fo)/io)+fo;lo>this.co_j.y-12&&lo<this.co_j.y+44&&this.jShinu(1)}else if(this.co_j.x+15>go&&this.co_j.x+15<eo){var mo=eo-go,po=s((this.co_j.x+15-go)*(fo-ho)/mo)+ho;po>this.co_j.y-12&&po<this.co_j.y+44&&this.jShinu(1)}}else if(this.co_j.y+15>fo&&this.co_j.y+15<ho){var qo=ho-fo,to=s((this.co_j.y+15-fo)*(go-eo)/qo)+eo;to>this.co_j.x-12&&to<this.co_j.x+44&&this.jShinu(1)}else if(this.co_j.y+15>ho&&this.co_j.y+15<fo){var uo=fo-ho,xo=s((this.co_j.y+15-ho)*(eo-go)/uo)+go;xo>this.co_j.x-12&&xo<this.co_j.x+44&&this.jShinu(1)}}else _n.gf=!1;break;case 80:ao>this.maps.wx-32&&ao<this.maps.wx+512&&bo>this.maps.wy-32&&bo<this.maps.wy+320?(_n.gf=!0,this.a_hf=!0,this.co_j.x>=ao-80&&this.co_j.x<=ao+64&&c.abs(bo-this.co_j.y)<32&&(this.hitokoto_c=10,this.hitokoto_num=_n.c3)):_n.gf=!1;break;case 100:ao>this.maps.wx-80-32&&ao<this.maps.wx+512+32&&bo>this.maps.wy-16&&bo<this.maps.wy+320+32?(_n.gf=!0,this.a_hf=!0,100==this.co_j.c&&this.co_j.x+15>=ao&&this.co_j.x<=ao+64&&this.co_j.y==bo-32&&(this.j_a_id=$n)):_n.gf=!1,bo<=_n.c3?(_n.vy++,5<_n.vy&&(_n.vy=5)):bo>=_n.c4&&(_n.vy--,_n.vy<-5&&(_n.vy=-5)),bo+=_n.vy,100==this.co_j.c&&(this.j_a_id==$n&&(this.co_j.y=bo-32),_n.vy<0&&20<=this.maps.getBGCode(this.co_j.x+15,this.co_j.y)&&(this.co_j.y=32*(this.co_j.y>>5)+16,this.jShinu(3)),this.co_j.x+15>=ao&&this.co_j.x<=ao+64&&this.co_j.y+31>=bo&&this.co_j.y<=bo+13&&(0<_n.vy?(this.co_j.y=bo+14,18<=this.maps.getBGCode(this.co_j.x+15,this.co_j.y+31)&&(this.co_j.y=32*(this.co_j.y+31>>5)-32,this.jShinu(3))):(this.co_j.y=bo-32,this.j_a_id=$n)));break;case 110:if(ao>this.maps.wx-80-32&&ao<this.maps.wx+512+32&&bo>this.maps.wy-16&&bo<this.maps.wy+320+32?(_n.gf=!0,this.a_hf=!0,100==this.co_j.c&&this.co_j.x+15>=ao&&this.co_j.x<=ao+64&&this.co_j.y==bo-32&&(this.j_a_id=$n)):_n.gf=!1,ao<=_n.c3?(_n.vx++,3<_n.vx&&(_n.vx=3)):ao>=_n.c4&&(_n.vx--,_n.vx<-3&&(_n.vx=-3)),ao+=_n.vx,100==this.co_j.c){if(this.j_a_id==$n)if(this.co_j.x+=_n.vx,0<_n.vx){var yo=this.co_j.x+15>>5,zo=this.co_j.y>>5,Ao=this.co_j.y+31>>5;(20<=this.maps.map_bg[yo][zo]||20<=this.maps.map_bg[yo][Ao])&&(this.co_j.x=32*yo-16)}else if(_n.vx<0){var Bo=this.co_j.x+15>>5,Co=this.co_j.y>>5,Do=this.co_j.y+31>>5;(20<=this.maps.map_bg[Bo][Co]||20<=this.maps.map_bg[Bo][Do])&&(this.co_j.x=32*Bo+32-14)}if(this.co_j.x+15>=ao&&this.co_j.x<=ao+64&&this.co_j.y+31>=bo&&this.co_j.y<=bo+13)if(0<_n.vx){this.co_j.x=ao+65;var Eo=this.co_j.x+15>>5,Fo=this.co_j.y>>5,Go=this.co_j.y+31>>5;(20<=this.maps.map_bg[Eo][Fo]||20<=this.maps.map_bg[Eo][Go])&&(this.co_j.c=230,this.co_j.x=32*Eo-32+11,this.co_j.c1=0,this.j_zan_f=!1,this.j_jet_c=0,this.j_v_c=0)}else{this.co_j.x=ao-16;var Ho=this.co_j.x+15>>5,Io=this.co_j.y>>5;this.co_j.y;(20<=this.maps.map_bg[Ho][Io]||20<=this.maps.map_bg[Ho][Io])&&(this.co_j.c=230,this.co_j.x=32*Ho+32-11,this.co_j.c1=0,this.j_zan_f=!1,this.j_jet_c=0,this.j_v_c=0)}}break;case 120:ao>this.maps.wx-80-32&&ao<this.maps.wx+512+32&&bo>this.maps.wy-16&&bo<this.maps.wy+320+32?(_n.gf=!0,this.a_hf=!0,100==this.co_j.c&&this.co_j.x+15>=ao&&this.co_j.x<=ao+64&&this.co_j.y==bo-32&&(this.j_a_id=$n)):_n.gf=!1,1==_n.muki?(_n.c3+=2,360<=_n.c3&&(_n.c3-=360)):(_n.c3-=2,_n.c3<0&&(_n.c3+=360));var Ko=3.14*_n.c3/180,No=_n.vx+c.floor(126*c.cos(Ko))+16-40-ao,Oo=_n.vy+c.floor(-126*c.sin(Ko))+16-7-bo;if(bo+=Oo,100==this.co_j.c&&(this.j_a_id==$n&&(this.co_j.y+=Oo),Oo<0&&20<=this.maps.getBGCode(this.co_j.x+15,this.co_j.y)&&(this.co_j.y=32*(this.co_j.y>>5)+16,this.jShinu(3)),this.co_j.x+15>=ao&&this.co_j.x<=ao+64&&this.co_j.y+31>=bo&&this.co_j.y<=bo+13&&(0<Oo?(this.co_j.y=bo+14,18<=this.maps.getBGCode(this.co_j.x+15,this.co_j.y+31)&&(this.co_j.y=32*(this.co_j.y+31>>5)-32,this.jShinu(3))):(this.co_j.y=bo-32,this.j_a_id=$n))),ao+=No,100==this.co_j.c){if(this.j_a_id==$n)if(this.co_j.x+=No,0<No){var Po=this.co_j.x+15>>5,Qo=this.co_j.y>>5,Ro=this.co_j.y+31>>5;(20<=this.maps.map_bg[Po][Qo]||20<=this.maps.map_bg[Po][Ro])&&(this.co_j.x=32*Po-16)}else if(No<0){var So=this.co_j.x+15>>5,To=this.co_j.y>>5,Uo=this.co_j.y+31>>5;(20<=this.maps.map_bg[So][To]||20<=this.maps.map_bg[So][Uo])&&(this.co_j.x=32*So+32-14)}if(this.co_j.x+15>=ao&&this.co_j.x<=ao+64&&this.co_j.y+31>=bo&&this.co_j.y<=bo+13)if(0<No){this.co_j.x=ao+65;var Vo=this.co_j.x+15>>5,Wo=this.co_j.y>>5,Xo=this.co_j.y+31>>5;(20<=this.maps.map_bg[Vo][Wo]||20<=this.maps.map_bg[Vo][Xo])&&(this.co_j.c=230,this.co_j.x=32*Vo-32+11,this.co_j.c1=0,this.j_zan_f=!1,this.j_jet_c=0,this.j_v_c=0)}else{this.co_j.x=ao-16;var Yo=this.co_j.x+15>>5,Zo=this.co_j.y>>5,$o=this.co_j.y+31>>5;(20<=this.maps.map_bg[Yo][Zo]||20<=this.maps.map_bg[Yo][$o])&&(this.co_j.c=230,this.co_j.x=32*Yo+32-11,this.co_j.c1=0,this.j_zan_f=!1,this.j_jet_c=0,this.j_v_c=0)}}break;case 300:ao>this.maps.wx-96&&ao<this.maps.wx+512&&bo>this.maps.wy-64&&bo<this.maps.wy+320?(_n.gf=!0,this.a_hf=!0,100==this.co_j.c&&this.co_j.x+15>=ao&&this.co_j.x<=ao+48&&this.co_j.y==bo-32&&(this.j_a_id=$n,this.co_j.x+15>=ao+24&&this.co_j.x<=ao+48-24&&this.co_j.y==bo-32&&1!=_n.c4&&(0==this.sl_step||1==this.sl_step||10==this.sl_step||11==this.sl_step||2!=this.dokan_mode)&&(this.co_j.c1=-10,this.co_j.c2=_n.c3,this.j_zan_f=!1,this.j_jet_c=0,this.j_v_c=0,this.co_j.c=300,this.co_j.x=ao+16,this.co_j.y=bo-32,this.co_j.vx=0,this.co_j.vy=0,_n.c4=1)),100==this.co_j.c&&this.j_a_id!=$n&&(_n.c4=0)):_n.gf=!1;break;case 400:ao>this.maps.wx-96&&ao<this.maps.wx+512&&bo>this.maps.wy-64&&bo<this.maps.wy+320?(_n.gf=!0,this.a_hf=!0,100==this.co_j.c&&this.co_j.x+15>=ao&&this.co_j.x<=ao+80&&this.co_j.y==bo-32&&(this.j_a_id=$n)):_n.gf=!1,0==_n.c3?ao-64<this.co_j.x+15&&ao+96+64>this.co_j.x+15&&(_n.c3=1):_n.c3<100?(_n.c3++,8<_n.c3&&(_n.c3=100)):100==_n.c3?(bo+=12)>=_n.vy+128&&(bo=_n.vy+128,_n.c3=200):200==_n.c3&&(bo-=3)<=_n.vy&&(bo=_n.vy,_n.c3=0,ao<=this.co_j.x+15&&ao+96>this.co_j.x+15&&(_n.c3=100)),100==this.co_j.c&&(this.j_a_id==$n&&(this.co_j.y=bo-32,200==_n.c3&&20<=this.maps.getBGCode(this.co_j.x+15,this.co_j.y)&&(this.co_j.y=32*(this.co_j.y>>5)+16,this.jShinu(3))),this.co_j.x+15>=ao&&this.co_j.x<=ao+80&&this.co_j.y+31>=bo&&this.co_j.y<=bo+63&&(100==_n.c3?(this.co_j.y=bo+64,18<=this.maps.getBGCode(this.co_j.x+15,this.co_j.y+31)&&(this.co_j.y=32*(this.co_j.y+31>>5)-32,this.jShinu(3))):200==_n.c3&&(this.co_j.y=bo-32,this.j_a_id=$n,20<=this.maps.getBGCode(this.co_j.x+15,this.co_j.y)&&(this.co_j.y=32*(this.co_j.y>>5)+16,this.jShinu(3)))));break;case 500:ao>this.maps.wx-96-32&&ao<this.maps.wx+512+32&&bo>this.maps.wy-32&&bo<=this.maps.wy+368?(_n.gf=!0,this.a_hf=!0,100==this.co_j.c&&this.co_j.x+15>=ao&&this.co_j.x<=ao+80&&this.co_j.y==bo-32?(this.j_a_id=$n,1==_n.c4?_n.c3<50&&(_n.c3<=0?_n.c3=1:_n.c3<=30?_n.c3++:(_n.c3=55,_n.vy=0)):_n.c3<=0&&(_n.c3=51,_n.vy=0)):1==_n.c4&&_n.c3<50&&(_n.c3=0)):_n.gf=!1,0<_n.c3&&(51<=_n.c3&&_n.c3<=54?_n.c3++:55<=_n.c3&&_n.c3<100&&(_n.vy<16&&_n.vy++,bo+=_n.vy,20<=this.maps.getBGCode(ao+32,bo+13)&&(bo=32*(bo+13>>5)-14,_n.c3=100),bo>=this.ochiru_y+48&&(_n.c=0,_n.gf=!1))),100==this.co_j.c&&this.j_a_id==$n&&(this.co_j.y=bo-32);break;case 600:if(ao>this.maps.wx-96&&ao<this.maps.wx+512&&bo>this.maps.wy-64&&bo<this.maps.wy+320?(_n.gf=!0,this.a_hf=!0,100==this.co_j.c&&this.co_j.x+15>=ao&&this.co_j.x<=ao+48&&this.co_j.y==bo+16-32&&(this.j_a_id=$n)):_n.gf=!1,_n.pt=600,_n.c3<=0?(_n.vx=0,this.j_a_id==$n&&(_n.c3=100,_n.c4=0,_n.vx=2),this.co_j.x>=ao-144&&(_n.pt=605)):100==_n.c3?(_n.c1=ao-512-32,_n.c2=ao+128,this.j_a_id!=$n?(_n.c4++,50<_n.c4&&(_n.c3=0)):_n.c4=0,_n.pt=605):200==_n.c3&&(_n.pt=605,_n.vx=0),ao+=_n.vx,(20<=this.maps.getBGCode(ao+63+16,bo)||20<=this.maps.getBGCode(ao+63+16,bo+32))&&(ao=32*(ao+63+16>>5)-64-16,_n.vx=ao-_n.x,_n.c3=200),100==this.co_j.c){if(this.j_a_id==$n&&(this.co_j.x+=_n.vx,0<_n.vx)){var _o=this.co_j.x+15>>5,ap=this.co_j.y>>5,bp=this.co_j.y+31>>5;(20<=this.maps.map_bg[_o][ap]||20<=this.maps.map_bg[_o][bp])&&(this.co_j.x=32*_o-16)}this.co_j.x+15>=ao&&this.co_j.x<=ao+48&&this.co_j.y+31>=bo+16&&this.co_j.y<=bo+47&&(this.co_j.x=ao+49)}break;case 700:ao>this.maps.wx-96&&ao<this.maps.wx+512&&bo>this.maps.wy-64&&bo<this.maps.wy+320?(_n.gf=!0,this.a_hf=!0,100==this.co_j.c&&this.co_j.x+15>=ao&&this.co_j.x<=ao+16&&(1<=_n.c3&&_n.c3<=2&&this.co_j.y==bo-32+10?this.j_a_id=$n:3<=_n.c3&&_n.c3<=4&&this.co_j.y==bo-32+16?this.j_a_id=$n:5<=_n.c3&&_n.c3<=6&&this.co_j.y==bo-32+10?this.j_a_id=$n:this.co_j.y==bo-32&&(this.j_a_id=$n))):_n.gf=!1,this.j_a_id==$n?(this.co_j.vx=0,this.co_j.vy=0,this.co_j.x=ao,this.j_jdai_f=!0,_n.c3++,_n.c3<=2?(_n.pt=710,this.co_j.y=bo-32+10):_n.c3<=4?(_n.pt=720,this.co_j.y=bo-32+16):_n.c3<=6?(_n.pt=710,this.co_j.y=bo-32+10):7<=_n.c3&&(_n.pt=700,this.co_j.y=bo-32,_n.c3=0,this.j_a_id=-1,this.j_jump_type=4,this.co_j.pt=101,this.co_j.ac=0,this.co_j.vy=-255,this.j_jump_level=1,4==this.maps.getBGCode(ao,bo)&&(this.co_j.vy=-75))):(_n.c3=0,_n.pt=700)}if(0<this.jm_kazu)for(var cp=0;cp<=1;cp++)if(100<=this.co_jm[cp].c){var dp=this.co_jm[cp];_n.c<200?dp.x+15>=ao&&dp.x<=ao+64&&dp.y+29>=bo&&dp.y+2<=bo+13&&(200==dp.c?(dp.c=50,dp.y=bo-8,dp.c1=1,dp.c2=20):(dp.c=0,this.jm_kazu--)):300==_n.c?dp.x+15>=ao&&dp.x<=ao+48&&dp.y+29>=bo&&dp.y+2<=bo+31&&(200==dp.c?(dp.c=50,dp.c1=1,dp.c2=20):(dp.c=0,this.jm_kazu--)):400==_n.c?dp.x+15>=ao&&dp.x<=ao+80&&dp.y+29>=bo&&dp.y+2<=bo+63&&(200==dp.c?(dp.c=50,dp.c1=1,dp.c2=20):(dp.c=0,this.jm_kazu--)):500==_n.c&&dp.x+15>=ao&&dp.x<=ao+80&&dp.y+29>=bo&&dp.y+2<=bo+13&&(200==dp.c?(dp.c=50,dp.y=bo-8,dp.c1=1,dp.c2=20):(dp.c=0,this.jm_kazu--))}_n.x=ao,_n.y=bo}}},G.prototype.bMove=function(){if(!(this.co_b.x>=this.maps.wx+1024)){switch(this.co_b.c){case 40:this.co_b.c1<20&&this.co_b.c1++,15==this.co_b.c1&&this.mSet(this.maps.wx+256,this.maps.wy+128,2200),this.co_b.pt=0;break;case 60:this.co_b.c1++,this.co_b.c4<=0?26<=this.co_b.c1&&(this.co_b.c=40,this.co_b.c1=0,this.addScore(10)):11<=this.co_b.c1&&(this.co_b.c=150),this.co_b.pt=1010;break;case 65:this.co_b.c1++,11<=this.co_b.c1&&(this.co_b.c=155),this.co_b.pt=1015;break;case 67:this.co_b.vy+=4,28<this.co_b.vy&&(this.co_b.vy=28),this.co_b.x+=this.co_b.vx,this.co_b.y+=this.co_b.vy,this.co_b.y>=this.maps.wy+320+16&&(this.co_b.c=40,this.co_b.c1=0,this.addScore(10)),1==this.co_b.muki?this.co_b.pt=1005:this.co_b.pt=1e3;break;case 70:this.co_b.c1++,this.co_b.c4<=0?26<=this.co_b.c1&&(this.co_b.c=40,this.co_b.c1=0,this.addScore(10)):11<=this.co_b.c1&&(this.co_b.c=250),this.co_b.pt=1110;break;case 75:this.co_b.c1++,11<=this.co_b.c1&&(this.co_b.c=255),this.co_b.pt=1115;break;case 77:this.co_b.vy+=4,28<this.co_b.vy&&(this.co_b.vy=28),this.co_b.x+=this.co_b.vx,this.co_b.y+=this.co_b.vy,this.co_b.y>=this.maps.wy+320+16&&(this.co_b.c=40,this.co_b.c1=0,this.addScore(10)),1==this.co_b.muki?this.co_b.pt=1105:this.co_b.pt=1100;break;case 80:this.co_b.c1++,this.co_b.c4<=0?26<=this.co_b.c1&&(this.co_b.c=40,this.co_b.c1=0,this.addScore(10)):11<=this.co_b.c1&&(this.co_b.c=350),this.co_b.pt=1210;break;case 85:this.co_b.c1++,11<=this.co_b.c1&&(this.co_b.c=355),this.co_b.pt=1215;break;case 87:this.co_b.vy+=4,28<this.co_b.vy&&(this.co_b.vy=28),this.co_b.x+=this.co_b.vx,this.co_b.y+=this.co_b.vy,this.co_b.y>=this.maps.wy+320+16&&(this.co_b.c=40,this.co_b.c1=0,this.addScore(10)),1==this.co_b.muki?this.co_b.pt=1205:this.co_b.pt=1200;break;case 100:2!=this.sl_step&&3!=this.sl_step||(this.co_b.c=110,this.co_b.c1=0),this.co_b.pt=1e3;break;case 110:if(2==this.boss_type){var ep=150;this.co_b.c1++,1==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,ep,-2):5==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,ep,-4):7==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,ep,-6):9==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,ep,-8):21==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,ep,-2):91==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,ep,-2):95==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,ep,-4):97==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,ep,-6):99==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,ep,-8):111==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,ep,-2):170==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,ep,-4):180==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,ep,-2):250<this.co_b.c1&&(this.co_b.c1=250)}else if(3==this.boss_type){var fp=450;this.co_b.c1++,5==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,fp,-3):20==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,fp,-3):35==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,fp,-3):50==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,fp,-3):65==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,fp,-3):80==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,fp,-3):95==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,fp,-3):110==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,fp,-3):250<this.co_b.c1&&(this.co_b.c1=250)}else if(4==this.boss_type){this.co_b.c1++,1==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,650,-5):15==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,650,-3):29==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,650,-2):81==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,650,-5):95==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,650,-3):109==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,650,-2):165==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,650,-3):250<this.co_b.c1&&(this.co_b.c1=250)}else if(this.co_b.c1++,3==this.co_b.c1)this.mSet2(this.co_b.x,this.co_b.y,500,-4,-18),this.mSet2(this.co_b.x,this.co_b.y,500,4,-18);else if(14==this.co_b.c1)this.mSet2(this.co_b.x,this.co_b.y,500,-6,-20),this.mSet2(this.co_b.x,this.co_b.y,500,6,-20);else if(20==this.co_b.c1)this.mSet2(this.co_b.x,this.co_b.y,500,-3,-24),this.mSet2(this.co_b.x,this.co_b.y,500,3,-24);else if(28<=this.co_b.c1&&this.co_b.c1<=98)this.co_b.c1%7==0&&this.mSet2(this.co_b.x,this.co_b.y,500,-15+this.ranInt(20),-30);else if(130==this.co_b.c1){var hp=this.ranInt(8)+3;this.mSet2(this.co_b.x,this.co_b.y,500,hp,-30),this.mSet2(this.co_b.x,this.co_b.y,500,-hp,-30)}else 150<=this.co_b.c1&&(this.co_b.c1=98);this.co_b.pt=1e3;break;case 115:if(2==this.boss_type){var ip=150;this.co_b.c1++,1==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,ip,2):5==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,ip,4):7==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,ip,6):9==this.co_b.c1&&3!=this.boss_type?this.tSetBoss(this.co_b.x,this.co_b.y,ip,8):21==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,ip,2):91==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,ip,2):95==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,ip,4):97==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,ip,6):99==this.co_b.c1&&3!=this.boss_type?this.tSetBoss(this.co_b.x,this.co_b.y,ip,8):111==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,ip,2):170==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,ip,4):180==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,ip,2):250<this.co_b.c1&&(this.co_b.c1=250)}else if(3==this.boss_type){var jp=450;this.co_b.c1++,5==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,jp,3):20==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,jp,3):35==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,jp,3):50==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,jp,3):65==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,jp,3):80==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,jp,3):95==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,jp,3):110==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,jp,3):250<this.co_b.c1&&(this.co_b.c1=250)}else if(4==this.boss_type){this.co_b.c1++,1==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,650,5):15==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,650,3):29==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,650,2):81==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,650,5):95==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,650,3):109==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,650,2):165==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,650,3):250<this.co_b.c1&&(this.co_b.c1=250)}else if(this.co_b.c1++,3==this.co_b.c1)this.mSet2(this.co_b.x,this.co_b.y,500,-4,-18),this.mSet2(this.co_b.x,this.co_b.y,500,4,-18);else if(14==this.co_b.c1)this.mSet2(this.co_b.x,this.co_b.y,500,-6,-20),this.mSet2(this.co_b.x,this.co_b.y,500,6,-20);else if(20==this.co_b.c1)this.mSet2(this.co_b.x,this.co_b.y,500,-3,-24),this.mSet2(this.co_b.x,this.co_b.y,500,3,-24);else if(28<=this.co_b.c1&&this.co_b.c1<=98)this.co_b.c1%7==0&&this.mSet2(this.co_b.x,this.co_b.y,500,15-this.ranInt(20),-30);else if(130==this.co_b.c1){var lp=this.ranInt(8)+3;this.mSet2(this.co_b.x,this.co_b.y,500,lp,-30),this.mSet2(this.co_b.x,this.co_b.y,500,-lp,-30)}else 150<=this.co_b.c1&&(this.co_b.c1=98);this.co_b.pt=1005;break;case 150:this.co_b.x-=14,this.co_b.x<=this.sl_wx+96&&(this.co_b.x=this.sl_wx+96,this.co_b.c=115,this.co_b.c1=0),this.co_b.pt=1e3;break;case 155:this.co_b.x+=14,this.co_b.x>=this.sl_wx+512-96-32&&(this.co_b.x=this.sl_wx+512-96-32,this.co_b.c=110,this.co_b.c1=0),this.co_b.pt=1005;break;case 200:2!=this.sl_step&&3!=this.sl_step||(this.co_b.c=210,this.co_b.c1=0),this.co_b.pt=1100;break;case 210:if(this.co_b.c1++,2==this.boss2_type)if(10==this.co_b.c1||85==this.co_b.c1||215==this.co_b.c1)for(var mp=0;mp<=7;mp++){var np=45*mp*3.14/180,op=c.floor(8*c.cos(np)),pp=-1*c.floor(8*c.sin(np));this.mSet2(this.co_b.x,this.co_b.y-8,710,op,pp)}else if(35==this.co_b.c1||110==this.co_b.c1||295==this.co_b.c1)for(var qp=0;qp<=7;qp++){var rp=3.14*(45*qp+15)/180,sp=c.floor(8*c.cos(rp)),tp=-1*c.floor(8*c.sin(rp));this.mSet2(this.co_b.x,this.co_b.y-8,710,sp,tp)}else if(60==this.co_b.c1||135==this.co_b.c1||375==this.co_b.c1)for(var up=0;up<=7;up++){var vp=3.14*(45*up+30)/180,wp=c.floor(8*c.cos(vp)),xp=-1*c.floor(8*c.sin(vp));this.mSet2(this.co_b.x,this.co_b.y-8,710,wp,xp)}else 445<this.co_b.c1&&(this.co_b.c1=0);else 5==this.co_b.c1||35==this.co_b.c1||65==this.co_b.c1||110==this.co_b.c1||185==this.co_b.c1?this.mSet(this.co_b.x,this.co_b.y,90):185<this.co_b.c1&&(this.co_b.c1=110);this.co_b.pt=1100;break;case 215:if(this.co_b.c1++,2==this.boss2_type)if(10==this.co_b.c1||85==this.co_b.c1||215==this.co_b.c1)for(var yp=0;yp<=7;yp++){var zp=45*yp*3.14/180,Ap=c.floor(8*c.cos(zp)),Bp=-1*c.floor(8*c.sin(zp));this.mSet2(this.co_b.x,this.co_b.y-8,710,Ap,Bp)}else if(35==this.co_b.c1||110==this.co_b.c1||295==this.co_b.c1)for(var Cp=0;Cp<=7;Cp++){var Dp=3.14*(45*Cp+15)/180,Ep=c.floor(8*c.cos(Dp)),Fp=-1*c.floor(8*c.sin(Dp));this.mSet2(this.co_b.x,this.co_b.y-8,710,Ep,Fp)}else if(60==this.co_b.c1||135==this.co_b.c1||375==this.co_b.c1)for(var Gp=0;Gp<=7;Gp++){var Hp=3.14*(45*Gp+30)/180,Ip=c.floor(8*c.cos(Hp)),Jp=-1*c.floor(8*c.sin(Hp));this.mSet2(this.co_b.x,this.co_b.y-8,710,Ip,Jp)}else 445<this.co_b.c1&&(this.co_b.c1=0);else 5==this.co_b.c1||35==this.co_b.c1||65==this.co_b.c1||110==this.co_b.c1||185==this.co_b.c1?this.mSet(this.co_b.x,this.co_b.y,90):185<this.co_b.c1&&(this.co_b.c1=110);this.co_b.pt=1105;break;case 250:this.co_b.x-=14,this.co_b.x<=this.sl_wx+96&&(this.co_b.x=this.sl_wx+96,this.co_b.c=215,this.co_b.c1=0),this.co_b.pt=1100;break;case 255:this.co_b.x+=14,this.co_b.x>=this.sl_wx+512-96-32&&(this.co_b.x=this.sl_wx+512-96-32,this.co_b.c=210,this.co_b.c1=0),this.co_b.pt=1105;break;case 300:2!=this.sl_step&&3!=this.sl_step||(2<=this.boss3_type&&this.boss3_type<=4?(this.co_b.c=360,this.co_b.vy=-24):this.co_b.c=310,this.co_b.c1=0),this.co_b.pt=1200;break;case 310:this.co_b.c1++,1==this.co_b.c1?this.mSet2(this.co_b.x,this.co_b.y,800,-5,-32):15==this.co_b.c1?(this.mSet2(this.co_b.x,this.co_b.y,800,-10,-32),this.co_j.x>this.co_b.x-64&&(this.co_b.c1=500)):29==this.co_b.c1?this.mSet2(this.co_b.x,this.co_b.y,800,-15,-32):65==this.co_b.c1?this.mSet2(this.co_b.x-2,this.co_b.y,800,-20,-32):80==this.co_b.c1?this.mSet2(this.co_b.x,this.co_b.y,800,-5,-32):105==this.co_b.c1?this.mSet2(this.co_b.x,this.co_b.y,800,-15,-32):147==this.co_b.c1?this.mSet2(this.co_b.x,this.co_b.y,800,-10,-32):237==this.co_b.c1?this.co_b.c1=0:520==this.co_b.c1?this.mSet2(this.co_b.x,this.co_b.y,800,4,-32):530==this.co_b.c1?(this.mSet2(this.co_b.x,this.co_b.y,800,-5,-32),this.co_b.c1=1):530<this.co_b.c1&&(this.co_b.c1=1),this.co_b.pt=1200;break;case 315:this.co_b.c1++,1==this.co_b.c1?this.mSet2(this.co_b.x,this.co_b.y,800,5,-32):15==this.co_b.c1?(this.mSet2(this.co_b.x,this.co_b.y,800,10,-32),this.co_j.x<this.co_b.x+64&&(this.co_b.c1=500)):29==this.co_b.c1?this.mSet2(this.co_b.x,this.co_b.y,800,15,-32):65==this.co_b.c1?this.mSet2(this.co_b.x+2,this.co_b.y,800,20,-32):80==this.co_b.c1?this.mSet2(this.co_b.x,this.co_b.y,800,5,-32):105==this.co_b.c1?this.mSet2(this.co_b.x,this.co_b.y,800,15,-32):147==this.co_b.c1?this.mSet2(this.co_b.x,this.co_b.y,800,10,-32):237==this.co_b.c1?this.co_b.c1=0:520==this.co_b.c1?this.mSet2(this.co_b.x,this.co_b.y,800,-4,-32):530==this.co_b.c1?(this.mSet2(this.co_b.x,this.co_b.y,800,5,-32),this.co_b.c1=1):530<this.co_b.c1&&(this.co_b.c1=1),this.co_b.pt=1205;break;case 350:this.co_b.x-=14,this.co_b.x<=this.sl_wx+96&&(this.co_b.x=this.sl_wx+96,2<=this.boss3_type&&this.boss3_type<=4?(this.co_b.c=365,this.co_b.vy=-24):this.co_b.c=315,this.co_b.c1=0),this.co_b.pt=1200;break;case 355:this.co_b.x+=14,this.co_b.x>=this.sl_wx+512-96-32&&(this.co_b.x=this.sl_wx+512-96-32,2<=this.boss3_type&&this.boss3_type<=4?(this.co_b.c=360,this.co_b.vy=-24):this.co_b.c=310,this.co_b.c1=0),this.co_b.pt=1205;break;case 360:this.co_b.pt=1200,this.co_b.c1<5?this.co_b.c1++:this.co_b.c1<25?(this.co_b.c1++,this.co_b.pt=1250):25==this.co_b.c1?(3==this.boss3_type?(this.co_b.x-=18,this.co_b.x<=this.sl_wx+16&&(this.co_b.x=this.sl_wx+16,this.co_b.c1=30)):4==this.boss3_type?(this.co_b.x-=3,this.co_b.vy+=2,24<this.co_b.vy&&(this.co_b.vy=24),this.co_b.y+=this.co_b.vy,this.co_b.y>=this.boss_kijyun_y&&(this.co_b.y=this.boss_kijyun_y,this.co_b.vy=-24,this.co_b.x<=this.sl_wx+16&&(this.co_b.c1=30))):(this.co_b.x-=12,this.co_b.x<=this.sl_wx+16&&(this.co_b.x=this.sl_wx+16,this.co_b.c1=30)),this.co_b.pt=1250):30==this.co_b.c1?(3==this.boss3_type?(this.co_b.x+=18,this.co_b.x>=this.sl_wx+512-48&&(this.co_b.x=this.sl_wx+512-48,this.co_b.c1=40)):4==this.boss3_type?(this.co_b.x+=4,this.co_b.vy+=2,24<this.co_b.vy&&(this.co_b.vy=24),this.co_b.y+=this.co_b.vy,this.co_b.y>=this.boss_kijyun_y&&(this.co_b.y=this.boss_kijyun_y,this.co_b.vy=-24,this.co_b.x>=this.sl_wx+512-48&&(this.co_b.c1=40))):(this.co_b.x+=8,this.co_b.x>=this.sl_wx+512-48&&(this.co_b.x=this.sl_wx+512-48,this.co_b.c1=40)),this.co_b.pt=1255):40==this.co_b.c1&&(this.co_b.x-=2,this.co_b.x<=this.sl_wx+512-96-32&&(this.co_b.x=this.sl_wx+512-96-32,this.co_b.c1=-20));break;case 365:this.co_b.pt=1205,this.co_b.c1<5?this.co_b.c1++:this.co_b.c1<25?(this.co_b.c1++,this.co_b.pt=1255):25==this.co_b.c1?(3==this.boss3_type?(this.co_b.x+=18,this.co_b.x>=this.sl_wx+512-48&&(this.co_b.x=this.sl_wx+512-48,this.co_b.c1=30)):4==this.boss3_type?(this.co_b.x+=3,this.co_b.vy+=2,24<this.co_b.vy&&(this.co_b.vy=24),this.co_b.y+=this.co_b.vy,this.co_b.y>=this.boss_kijyun_y&&(this.co_b.y=this.boss_kijyun_y,this.co_b.vy=-24,this.co_b.x>=this.sl_wx+512-48&&(this.co_b.c1=30))):(this.co_b.x+=12,this.co_b.x>=this.sl_wx+512-48&&(this.co_b.x=this.sl_wx+512-48,this.co_b.c1=30)),this.co_b.pt=1255):30==this.co_b.c1?(3==this.boss3_type?(this.co_b.x-=18,this.co_b.x<=this.sl_wx+16&&(this.co_b.x=this.sl_wx+16,this.co_b.c1=40)):4==this.boss3_type?(this.co_b.x-=4,this.co_b.vy+=2,24<this.co_b.vy&&(this.co_b.vy=24),this.co_b.y+=this.co_b.vy,this.co_b.y>=this.boss_kijyun_y&&(this.co_b.y=this.boss_kijyun_y,this.co_b.vy=-24,this.co_b.x<=this.sl_wx+16&&(this.co_b.c1=40))):(this.co_b.x-=8,this.co_b.x<=this.sl_wx+16&&(this.co_b.x=this.sl_wx+16,this.co_b.c1=40)),this.co_b.pt=1250):40==this.co_b.c1&&(this.co_b.x+=2,this.co_b.x>=this.sl_wx+96&&(this.co_b.x=this.sl_wx+96,this.co_b.c1=-20))}if(100<=this.co_j.c&&this.co_j.c<200&&100<=this.co_b.c&&c.abs(this.co_b.x-this.co_j.x)<42&&this.co_j.y>this.co_b.y-20&&this.co_j.y<this.co_b.y+40&&(1250==this.co_b.pt||1255==this.co_b.pt?this.jShinu(2):c.abs(this.co_b.x-this.co_j.x)<34&&0<this.co_j.vy?(this.co_b.c<200?(this.co_b.c4--,1==this.co_b.c4?(this.co_b.c=65,this.co_b.c1=0,this.co_b.pt=1015):(this.co_b.c=60,this.co_b.c1=0,this.co_b.pt=1010)):this.co_b.c<300?(this.co_b.c4--,1==this.co_b.c4?(this.co_b.c=75,this.co_b.c1=0,this.co_b.pt=1115):(this.co_b.c=70,this.co_b.c1=0,this.co_b.pt=1110)):(this.co_b.c4--,1==this.co_b.c4?(this.co_b.c=85,this.co_b.c1=0,this.co_b.pt=1215):(this.co_b.c=80,this.co_b.c1=0,this.co_b.pt=1210)),this.co_j.y=this.co_b.y,this.co_j.vy=-320,this.j_jump_type=1,this.co_j.c=110,this.co_j.c1=-4,this.co_j.pt=109):this.jShinu(2)),0<this.jm_kazu&&100<=this.co_b.c)for(var Kp=0;Kp<=1;Kp++)if(100<=this.co_jm[Kp].c){var Lp=this.co_jm[Kp];c.abs(this.co_b.x-Lp.x)<34&&c.abs(this.co_b.y-Lp.y)<30&&(200==Lp.c?(Lp.c=50,Lp.c1=1,Lp.c2=20,1!=this.grenade_type&&5!=this.grenade_type||(this.co_b.c<200?(this.co_b.c=67,this.co_b.vy=-24,this.co_b.c1=0,Lp.vx<0?(this.co_b.muki=1,this.co_b.pt=1005,this.co_b.vx=-4):(this.co_b.muki=0,this.co_b.pt=1e3,this.co_b.vx=4)):this.co_b.c<300?(this.co_b.c=77,this.co_b.vy=-24,this.co_b.c1=0,Lp.vx<0?(this.co_b.muki=1,this.co_b.pt=1105,this.co_b.vx=-4):(this.co_b.muki=0,this.co_b.pt=1100,this.co_b.vx=4)):(this.co_b.c=87,this.co_b.vy=-24,this.co_b.c1=0,Lp.vx<0?(this.co_b.muki=1,this.co_b.pt=1205,this.co_b.vx=-4):(this.co_b.muki=0,this.co_b.pt=1200,this.co_b.vx=4)))):(Lp.c=0,this.jm_kazu--))}}},G.prototype.hSet=function(Mp,Np,Op){for(var Pp=0;Pp<=63;Pp++)if(!(0<this.co_h[Pp].c)){var Qp=this.co_h[Pp];Qp.c=Op,Qp.x=Mp,Qp.y=Np;break}},G.prototype.hAttack=function(Rp,Sp){for(var Tp=0;Tp<=63;Tp++){var Up=this.co_h[Tp];if(0!=Up.c&&Up.x==Rp&&Up.y==Sp){switch(Up.c){case 100:this.mSet(32*Rp,32*Sp-32,2e3);break;case 200:this.mSet(32*Rp,32*Sp-32,2010),this.mSet(32*Rp,32*Sp-32,2020),this.mSet(32*Rp,32*Sp-32,2e3);break;case 300:this.mSet(32*Rp,32*Sp-32,2100);break;case 400:this.mSet(32*Rp,32*Sp-32,2110);break;case 500:this.mSet(32*Rp,32*Sp-32,2120);break;case 600:this.mSet(32*Rp,32*Sp-32,2130);break;case 700:this.mSet(32*Rp,32*Sp-32,2140);break;case 800:this.mSet(32*Rp,32*Sp-32,2150);break;case 900:this.mSet(32*Rp,32*Sp-32,2160);break;case 1e3:this.mSet(32*Rp,32*Sp-32,2170);break;case 1100:this.mSet(32*Rp,32*Sp-32,2180),this.stage_1up_f[this.stage-1]=!1}this.maps.putBGCode(Rp,Sp,41),Up.c=0;break}}},H.prototype.init=function(){this.wx=0,this.wy=0,this.os2_wx=0;for(var $p=this.os2_wy=0;$p<this.height;$p++)for(var _p=0;_p<this.width;_p++)this.map_bg[_p][$p]=0;for($p=0;$p<this.height;$p++)this.map_string[$p]=this.bg_space},H.prototype.setBank=function(aq){var bq;bq=1==aq?40:2==aq?50:4==aq?60:30;for(var cq=0;cq<=9;cq++)this.gg.spt_img[0][10+cq]=this.gg.spt_img[0][bq+cq]},H.prototype.drawMap=function(dq,eq){this.wx=dq,this.wy=eq;var fq=this.wx%32,gq=this.wy%32;this.os2_wx=this.wx>>5,this.os2_wy=this.wy>>5,this.gg.fill2();for(var hq=0;hq<=10;hq++)for(var iq=0;iq<=16;iq++){0<this.map_bg[this.os2_wx+iq][this.os2_wy+hq]&&this.gg.drawPT2(32+32*iq,32+32*hq,this.map_bg[this.os2_wx+iq][this.os2_wy+hq])}this.gg.os_g.drawImage(this.gg.os2_img,-32-fq,-32-gq,this.gg.ap)},H.prototype.drawMapScroll=function(kq){var lq=this.wx%32,mq=this.wy%32,nq=this.wx>>5,oq=this.wy>>5;if(nq>this.os2_wx+1||nq<this.os2_wx-1||oq>this.os2_wy+1||oq<this.os2_wy-1)this.drawMap(this.wx,this.wy);else if(oq>this.os2_wy)if(nq>this.os2_wx){this.g2.copyArea(64,64,544,352,-32,-32),this.os2_wx=nq,this.os2_wy=oq;for(var pq=0;pq<=16;pq++)0<this.map_bg[this.os2_wx+pq][this.os2_wy+10]&&this.g2.drawImage(this.hi[this.map_bg[this.os2_wx+pq][this.os2_wy+10]],32+32*pq,352,this.ap);for(pq=0;pq<=9;pq++)0<this.map_bg[this.os2_wx+16][this.os2_wy+pq]&&this.g2.drawImage(this.hi[this.map_bg[this.os2_wx+16][this.os2_wy+pq]],544,32+32*pq,this.ap)}else if(nq<this.os2_wx){this.g2.copyArea(0,64,544,352,32,-32),this.os2_wx=nq,this.os2_wy=oq;for(pq=0;pq<=16;pq++)0<this.map_bg[this.os2_wx+pq][this.os2_wy+10]&&this.g2.drawImage(this.hi[this.map_bg[this.os2_wx+pq][this.os2_wy+10]],32+32*pq,352,this.ap);for(pq=0;pq<=9;pq++)0<this.map_bg[this.os2_wx][this.os2_wy+pq]&&this.g2.drawImage(this.hi[this.map_bg[this.os2_wx][this.os2_wy+pq]],32,32+32*pq,this.ap)}else{this.g2.copyArea(32,64,544,352,0,-32),this.os2_wy=oq;for(pq=0;pq<=16;pq++)0<this.map_bg[this.os2_wx+pq][this.os2_wy+10]&&this.g2.drawImage(this.hi[this.map_bg[this.os2_wx+pq][this.os2_wy+10]],32+32*pq,352,this.ap)}else if(oq<this.os2_wy)if(nq>this.os2_wx){this.g2.copyArea(64,0,544,352,-32,32),this.os2_wx=nq,this.os2_wy=oq;for(pq=0;pq<=16;pq++)0<this.map_bg[this.os2_wx+pq][this.os2_wy]&&this.g2.drawImage(this.hi[this.map_bg[this.os2_wx+pq][this.os2_wy]],32+32*pq,32,this.ap);for(pq=1;pq<=10;pq++)0<this.map_bg[this.os2_wx+16][this.os2_wy+pq]&&this.g2.drawImage(this.hi[this.map_bg[this.os2_wx+16][this.os2_wy+pq]],544,32+32*pq,this.ap)}else if(nq<this.os2_wx){this.g2.copyArea(0,0,544,352,32,32),this.os2_wx=nq,this.os2_wy=oq;for(pq=0;pq<=16;pq++)0<this.map_bg[this.os2_wx+pq][this.os2_wy]&&this.g2.drawImage(this.hi[this.map_bg[this.os2_wx+pq][this.os2_wy]],32+32*pq,32,this.ap);for(pq=1;pq<=10;pq++)0<this.map_bg[this.os2_wx][this.os2_wy+pq]&&this.g2.drawImage(this.hi[this.map_bg[this.os2_wx][this.os2_wy+pq]],32,32+32*pq,this.ap)}else{this.g2.copyArea(32,0,544,352,0,32),this.os2_wy=oq;for(pq=0;pq<=16;pq++)0<this.map_bg[this.os2_wx+pq][this.os2_wy]&&this.g2.drawImage(this.hi[this.map_bg[this.os2_wx+pq][this.os2_wy]],32+32*pq,32,this.ap)}else if(nq>this.os2_wx){this.g2.copyArea(64,32,544,352,-32,0),this.os2_wx=nq;for(pq=0;pq<=10;pq++)0<this.map_bg[this.os2_wx+16][this.os2_wy+pq]&&this.g2.drawImage(this.hi[this.map_bg[this.os2_wx+16][this.os2_wy+pq]],544,32+32*pq,this.ap)}else if(nq<this.os2_wx){this.g2.copyArea(0,32,544,352,32,0),this.os2_wx=nq;for(pq=0;pq<=10;pq++)0<this.map_bg[this.os2_wx][this.os2_wy+pq]&&this.g2.drawImage(this.hi[this.map_bg[this.os2_wx][this.os2_wy+pq]],32,32+32*pq,this.ap)}var qq=this.hi[90+kq];for(pq=0;pq<=10;pq++)for(var rq=0;rq<=16;rq++)switch(this.map_bg[this.os2_wx+rq][this.os2_wy+pq]){case 5:4==this.map_bg[this.os2_wx+rq][this.os2_wy+pq-1]&&(this.gg.drawBG2(32+32*rq,32+32*pq,4),this.gg.drawPT2(32+32*rq,32+32*pq,5));break;case 6:4==this.map_bg[this.os2_wx+rq][this.os2_wy+pq+1]&&(this.gg.drawBG2(32+32*rq,32+32*pq,4),this.gg.drawPT2(32+32*rq,32+32*pq,6));break;case 7:0==kq||2==kq?this.gg.drawBG2(32+32*rq,32+32*pq,96):this.gg.drawBG2(32+32*rq,32+32*pq,97);break;case 8:0==kq?4==this.map_bg[this.os2_wx+rq-1][this.os2_wy+pq]?(this.gg.drawBG2(32+32*rq,32+32*pq,4),2<=this.mp.stage_max&&this.mp.stage>=this.mp.stage_max?this.gg.drawPT2(32+32*rq,32+32*pq,99):this.gg.drawPT2(32+32*rq,32+32*pq,95)):2<=this.mp.stage_max&&this.mp.stage>=this.mp.stage_max?this.gg.drawBG2(32+32*rq,32+32*pq,99):this.gg.drawBG2(32+32*rq,32+32*pq,95):4==this.map_bg[this.os2_wx+rq-1][this.os2_wy+pq]?(this.gg.drawBG2(32+32*rq,32+32*pq,4),2<=this.mp.stage_max&&this.mp.stage>=this.mp.stage_max?this.gg.drawPT2(32+32*rq,32+32*pq,98):this.gg.drawPT2(32+32*rq,32+32*pq,94)):2<=this.mp.stage_max&&this.mp.stage>=this.mp.stage_max?this.gg.drawBG2(32+32*rq,32+32*pq,98):this.gg.drawBG2(32+32*rq,32+32*pq,94);break;case 9:4==this.map_bg[this.os2_wx+rq-1][this.os2_wy+pq]?this.gg.drawBG2(32+32*rq,32+32*pq,4):(this.g2.setColor(this.gg.backcolor),this.gg.os2_g.fillRect(32+32*rq,32+32*pq,32,32)),this.gg.os2_g.drawImage(qq,32+32*rq,32+32*pq,this.gg.ap)}this.gg.os_g.drawImage(this.gg.os2_img,-32-lq,-32-mq,this.ap)},H.prototype.getBGCode=function(sq,tq){return this.map_bg[sq>>5][tq>>5]},H.prototype.putBGCode=function(uq,vq,wq){this.map_bg[uq][vq]=wq,this.os2_wx<=uq&&this.os2_wx+16>=uq&&this.os2_wy<=vq&&this.os2_wy+10>=vq&&this.gg.drawBG2(32*(uq-this.os2_wx)+32,32*(vq-this.os2_wy)+32,wq)},I.prototype.__repaint=function(){this.update(this.__appimg.getGraphics()),this.__canvas.getContext("2d").drawImage(this.__appimg._dat,0,0)},I.prototype.init=function(){},I.prototype.start=function(){null==this.th&&(this.th=1);var Cq=this.getParameter("game_speed");this.th_interval=parseInt(Cq),isNaN(this.th_interval)&&(this.th_interval=70),this.th_interval<1?this.th_interval=1:300<this.th_interval&&(this.th_interval=300),this.th_jm=10},I.prototype.stop=function(){null!=this.th&&(this.th=null)},I.prototype.destroy=function(){},I.prototype.paint=function(Dq){Dq.drawImage(this.gg.os_img,0,0,this)},I.prototype.update=function(Eq){this.paint(Eq)},I.prototype.run=function(){if(10==this.th_jm)this.init_j(),this.mp.start(),this.th_jm-=1,sleepTime=70;else if(6==this.th_jm){var Fq=0;this.gg.apt_img._loaded?Fq=1:this.gg.apt_img._error&&(Fq=2),0!=Fq&&(this.th_jm-=1)}else 2==this.th_jm?(this.gg.cut(),this.th_jm-=1,sleepTime=70):2<=this.th_jm?(this.th_jm-=1,sleepTime=70):(100==this.mp.ml_mode?this.mp.mL100():this.mp.mainLoop(),this.userSub(this.gg.os_g,this.gg.os_img));this.__repaint()},I.prototype.init_j=function(){this.gg=new e(this),this.gg.setBackcolor(D.black);var Hq,Gq=this.getParameter("filename_title");if(this.gg.addListImage(0,Gq),Gq=this.getParameter("filename_ending"),this.gg.addListImage(1,Gq),Gq=this.getParameter("filename_gameover"),this.gg.addListImage(2,Gq),Gq=this.getParameter("stage_select"),Hq=parseInt(Gq),isNaN(Hq)&&(Hq=-1),2==Hq){var Iq=this.getParameter("filename_chizu");this.gg.addListImage(3,Iq)}this.gg.loadImage(),this.gm=new i;var Jq=this.gm;this.__canvas.addEventListener("mousedown",function(Mq){var za;Mq.stopImmediatePropagation(),l.focus.focus(this),za=Mq,Jq.mousePressed(za)}.bind(this)),this.__canvas.addEventListener("mouseup",function(Nq){var Ba;Ba=Nq,Jq.mouseReleased(Ba)}),this.gk=new f;var Kq=this.gk,Lq=function(Oq){var ra;l.focus.hasFocus(this)&&(ra=Oq,Kq.keyPressed(ra))}.bind(this);b.addEventListener("keydown",Lq),this.__game.__resourceList.push({type:"eventListener",target:b,name:"keydown",value:Lq}),Lq=function(Pq){var ta;l.focus.hasFocus(this)&&(ta=Pq,Kq.keyReleased(ta))}.bind(this),b.addEventListener("keyup",Lq),this.__game.__resourceList.push({type:"eventListener",target:b,name:"keyup",value:Lq}),this.mp=new G(this.gg,this.gm,this.gk),this.mp.addHighscoreEvent(this.options.highscoreCallback),this.userInit()},I.prototype.userInit=function(){},I.prototype.userSub=function(Qq,Rq){},I.prototype.getImage=function(Sq){var Tq=new z;return Tq.load(Sq),Tq},I.prototype.createImage=function(Uq,Vq){return new z(Uq,Vq)},I.prototype.getParameter=function(Xq){var Yq=(Xq+"").toLowerCase();return void 0===this.params[Yq]?null:this.params[Yq]+""};var J={};return J.CharacterObject=d,J.GameGraphics=e,J.GameKey=f,J.GameMouse=i,J.Game=l,J.IdouGamen=y,J.ImageBuff=z,J.KeyboardMenu=F,J.MainProgram=G,J.MapSystem=H,J.MasaoConstruction=I,J}(window,document,Math);