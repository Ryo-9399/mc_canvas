var CanvasMasao=function(a,b,c){function d(){this.c=0,this.x=0,this.y=0,this.vx=0,this.vy=0,this.wx=0,this.wy=0,this.c1=0,this.c2=0,this.c3=0,this.c4=0,this.c5=0,this.pt=0,this.pth=0,this.img=null,this.zs_x=0,this.zs_y=0,this.ac=0,this.level=0,this.jimen_f=!1,this.muki=0,this.direction=0,this.score=0,this.ss=0,this.gf=!1}function e(L){this.spt_kazu_x=10,this.spt_kazu_y=25,this.spt_h_kijyun=3,this.spt_kazu=250,this.li=new Array(10),this.spt_img=r(2,this.spt_kazu),this.ap=L,this.di=new q(512,320),this.backcolor=D.black,this.os_img=this.ap.createImage(this.di.width,this.di.height),this.os_g=this.os_img.getGraphics(),this.os2_img=this.ap.createImage(this.di.width+96,this.di.height+96),this.os2_g=this.os2_img.getGraphics(),this.mt=[],str=this.ap.getParameter("filename_pattern"),this.apt_img=this.ap.getImage(str)}function f(){this.key_code=0,this.up_f=!1,this.down_f=!1,this.left_f=!1,this.right_f=!1,this.tr1_f=!1,this.tr2_f=!1,this.tr3_f=!1,this.start_f=!1,this.x_f=!1,this.z_f=!1,this.space_f=!1,this.left_c=0,this.right_c=0,this.up_c=0,this.down_c=0,this.tr1_c=0,this.codekey_f=new Array(256),this.left_right_lock=!1}function i(){this.button_f=!1,this.click_x=0,this.click_y=0,this.init=function(){this.button_f=!1,this.click_x=0,this.click_y=0}}function l(Ca,Da,Ea){var Fa=u();if((Ea=Ea||{}).width=Ea.width||512,Ea.height=Ea.height||320,Ea.extensions=Ea.extensions||[],Da?this.__boxID=Da:(this.__boxID="__mcdiv"+Fa,b.write("<div id='"+this.__boxID+"'></div>")),this.__canvasID="__mccanvas"+Fa,this.__padDivID="__mcpaddiv"+Fa,this.__box=b.getElementById(this.__boxID),this.__resourceList=[],this.__canvas=b.createElement("canvas"),this.__canvas.id=this.__canvasID,this.__canvas.width=Ea.width,this.__canvas.height=Ea.height,this.__canvas.textContent="※お使いのブラウザはHTML5に対応していないため表示できません。",this.__box.appendChild(this.__canvas),this.__padDiv=b.createElement("div"),this.__padDiv.id=this.__padDivID,this.__box.appendChild(this.__padDiv),this.__canvas&&this.__canvas.getContext){if(this.__pad_before=[],this.__pad_after=[],this.__pad_touches=[],a.TouchEvent){var Ga,Ha=b.createElement("input");Ha.type="button",Ha.value="バーチャル操作パッド 表示 / 非表示",(Ga=Ha.style).width="24em",Ga.height="2.5em",Ha.onclick=function(){"inline"==Ia.style.display?Ia.style.display="none":l.padAccessor.show(Ia)},this.__padDiv.appendChild(Ha),this.__padDiv.appendChild(b.createElement("br"));var Ia=this.__pad=b.createElement("canvas");Ia.width=500,Ia.height=200;var Ja=function(Qa){this.__pad_event(Qa)}.bind(this);Ia.addEventListener("touchstart",Ja,!1),Ia.addEventListener("touchmove",Ja,!1),Ia.addEventListener("touchend",Ja,!1),Ia.addEventListener("touchcancel",Ja,!1),Ia.style.display="none",this.__padDiv.appendChild(Ia),(Ga=Ia.style).position="absolute";var Ka=setInterval(function(){var Ra=innerWidth,Sa=innerHeight,Ta=Ra<Sa?Ra:Sa;Ia.style.width=Ra+"px",Ia.style.height=Ta*l.pad.style.rate+"px",Ia.style.left=scrollX+"px",l.pad.avoidAD?Ia.style.top=scrollY+Sa-Ta*l.pad.style.rate-.16*Ta+"px":Ia.style.top=scrollY+Sa-Ta*l.pad.style.rate+"px",this.__pad_update()}.bind(this),500);this.__resourceList.push({type:"setInterval",value:Ka}),l.padAccessor.append(Ia),this.__pad_off=b.createElement("canvas"),this.__pad_off.width=500,this.__pad_off.height=200;var La=this.__pad_off.getContext("2d");La.font="24px monospace",La.textAlign="center",La.textBaseline="middle",La.lineWidth=2,La.lineCap="round",La.lineJoin="round";for(var Ma=0;Ma<8;Ma++)this.__pad_before[Ma]=!1,this.__pad_after[Ma]=!1;this.__pad_update()}this.__mc=new I(Ca,this.__canvas,this,Ea||{});for(Ma=0;Ma<Ea.extensions.length;Ma++)Ea.extensions[Ma].inject(this.__mc,Ea);this.__mc.start();var Na=this.__st=this.__mc.getParameter("game_speed");Na?(Na=parseInt(Na),isNaN(Na)?Na=70:Na<10?Na=10:300<Na&&(Na=300)):Na=70,this.__pt=0;var Pa=new(Ea["custom-loop"]||v)(this,!!Ea["bc-loop-setinterval"]);Pa.start(Na,this.__loop.bind(this)),this.__resourceList.push({type:"Loop",value:Pa})}}var ob,rb;function q(rc,sc){this.width=rc,this.height=sc}function r(){if(0==arguments.length)return null;for(var tc=new Array(arguments.length),uc=0;uc<arguments.length;uc++)tc[uc]=arguments[uc];return function wc(xc){var yc=new Array(xc[0]);if(1==xc.length)return yc;for(var zc=xc.slice(1),Ac=0;Ac<xc[0];Ac++)yc[Ac]=wc(zc);return yc}(tc)}function s(Bc){return 0<=Bc?c.floor(Bc):-c.floor(-Bc)}function u(){return c.random().toString(36).slice(2)}function v(Ec,Fc){this.game=Ec,this.forceSetInterval=Fc,this.running=!1,this.interval=null,this.callback=null,this.mode=0,this.prevTime=null,this.timerid=null,this._loop=this._loop.bind(this)}d.prototype.init=function(){this.c=0,this.x=0,this.y=0,this.vx=0,this.vy=0,this.wx=0,this.wy=0,this.c1=0,this.c2=0,this.c3=0,this.c4=0,this.c5=0,this.pt=0,this.pth=0,this.img=null,this.zs_x=0,this.zs_y=0,this.ac=0,this.level=0,this.jimen_f=!1,this.muki=0,this.direction=0,this.score=0,this.ss=0,this.gf=!1},d.prototype.setPattern=function(K){},e.prototype.cut=function(){var N,Q,R,S;for(Q=0;Q<=this.spt_kazu_y-1;Q++)for(R=0;R<=this.spt_kazu_x-1;R++)N=10*Q+R,this.spt_img[0][N]=new z(32,32),(S=this.spt_img[0][N].getGraphics()).drawImage(this.apt_img,32*R,32*Q,32,32,0,0,32,32,null),Q>=this.spt_h_kijyun?(this.spt_img[1][N]=new z(32,32),(S=this.spt_img[1][N].getGraphics()).scale(-1,1),S.drawImage(this.apt_img,32*R,32*Q,32,32,-32,0,32,32,null)):this.spt_img[1][N]=this.spt_img[0][N];this.hi=this.spt_img[0]},e.prototype.addListImage=function(T,U){this.li[T]=this.ap.getImage(U),this.mt.push(this.li[T])},e.prototype.loadImage=function(){},e.prototype.copyOS=function(V){V.drawImage(this.os_img,0,0,this.ap)},e.prototype.fill=function(){this.os_g.setColor(this.backcolor),this.os_g.fillRect(0,0,this.di.width,this.di.height)},e.prototype.fill2=function(){this.os2_g.setColor(this.backcolor),this.os2_g.fillRect(0,0,this.di.width+96,this.di.height+96)},e.prototype.setBackcolor=function(W){this.backcolor=W},e.prototype.drawPT=function(X,Y,Z,$){this.os_g.drawImage(this.spt_img[$][Z],X,Y,this.ap)},e.prototype.drawPT2=function(_,aa,ba){this.os2_g.drawImage(this.hi[ba],_,aa,this.ap)},e.prototype.drawBG2=function(ca,da,ea){this.os2_g.setColor(this.backcolor),this.os2_g.fillRect(ca,da,32,32),this.os2_g.drawImage(this.hi[ea],ca,da,this.ap)},e.prototype.drawBG3=function(fa,ga,ha,ia){this.os2_g.setColor(ia),this.os2_g.fillRect(fa,ga,32,32),this.os2_g.drawImage(this.hi[ha],fa,ga,this.ap)},e.prototype.drawListImage=function(ja,ka,la){this.os_g.drawImage(this.li[la],ja,ka,this.ap)},f.prototype.init=function(){this.key_code=0,this.up_f=!1,this.down_f=!1,this.left_f=!1,this.right_f=!1,this.tr1_f=!1,this.tr2_f=!1,this.tr3_f=!1,this.start_f=!1,this.x_f=!1,this.z_f=!1,this.space_f=!1,this.left_c=0,this.right_c=0,this.up_c=0,this.down_c=0,this.tr1_c=0,this.left_right_lock=!1;for(var ma=0;ma<=255;ma++)this.codekey_f[ma]=!1},f.prototype.keyPressed=function(na){switch(this.key_code=na.keyCode,this.key_char=na.keyCode,0<=this.key_code&&this.key_code<=255&&(this.codekey_f[this.key_code]=!0),this.key_code){case 38:na.preventDefault(),this.up_f=!0;break;case 40:na.preventDefault(),this.down_f=!0,this.tr2_f=!0;break;case 37:na.preventDefault(),this.left_right_lock||(this.left_f=!0);break;case 39:na.preventDefault(),this.left_right_lock||(this.right_f=!0);break;case 104:na.preventDefault(),this.up_f=!0;break;case 98:na.preventDefault(),this.down_f=!0,this.tr2_f=!0;break;case 100:na.preventDefault(),this.left_right_lock||(this.left_f=!0);break;case 102:na.preventDefault(),this.left_right_lock||(this.right_f=!0);break;case 90:na.preventDefault(),this.tr1_f=!0,this.z_f=!0;break;case 88:na.preventDefault(),this.tr2_f=!0,this.x_f=!0;break;case 67:na.preventDefault(),this.tr3_f=!0;break;case 32:na.preventDefault(),this.tr1_f=!0,this.space_f=!0,this.tr1_c=0;break;case 83:na.preventDefault(),this.start_f=!0}},f.prototype.keyReleased=function(oa){var pa=oa.keyCode;switch(0<=pa&&pa<=255&&(this.codekey_f[pa]=!1),pa){case 38:this.up_f=!1;break;case 40:this.down_f=!1,this.tr2_f=!1;break;case 37:this.left_right_lock||(this.left_f=!1,this.left_c=0);break;case 39:this.left_right_lock||(this.right_f=!1,this.right_c=0);break;case 104:this.up_f=!1;break;case 98:this.down_f=!1,this.tr2_f=!1;break;case 100:this.left_right_lock||(this.left_f=!1,this.left_c=0);break;case 102:this.left_right_lock||(this.right_f=!1,this.right_c=0);break;case 90:this.tr1_f=!1,this.z_f=!1,this.tr1_c=0;break;case 88:this.tr2_f=!1,this.x_f=!1;break;case 67:this.tr3_f=!1;break;case 32:this.tr1_f=!1,this.space_f=!1,this.tr1_c=0;break;case 83:this.start_f=!1}},f.prototype.getKeyCode=function(){return this.key_code},i.prototype.mousePressed=function(ua){var va=ua.target,wa=va.getBoundingClientRect();this.button_f=!0,this.click_x=(ua.clientX-wa.left)/wa.width*va.width,this.click_y=(ua.clientY-wa.top)/wa.height*va.height},i.prototype.mouseReleased=function(xa){this.button_f=!1},l.replaceAll=function(Ua){function Va(){for(var Wa=b.getElementsByTagName("applet"),Xa=[],Ya=0;Ya<Wa.length;Ya++)Xa.push(Wa[Ya]);for(Ya=0;Ya<Xa.length;Ya++){var Za=Xa[Ya];(Za.getAttribute("code")||"").match(/masaoconstruction/i)&&l.replaceByDom(Za,Ua)}var _a=b.getElementsByTagName("object"),ab=[];for(Ya=0;Ya<_a.length;Ya++)ab.push(_a[Ya]);for(Ya=0;Ya<ab;Ya++){var bb=ab[Ya],cb=bb.getElementsByName("code")[0];cb.tagName.match(/param/i)&&cb.value.match(/masaoconstruction/i)&&l.replaceByDom(bb,Ua)}}"complete"==b.readyState?Va():a.addEventListener("load",Va)},l.replace=function(db,eb){function fb(){l.replaceByDom(b.getElementById(db),eb)}"complete"==b.readyState?fb():a.addEventListener("load",fb)},l.replaceByDom=function(gb,hb){for(var ib=gb.getElementsByTagName("param"),jb=ib.length,kb={},lb=0;lb<jb;lb++)kb[ib[lb].name]=ib[lb].value;var mb=b.createElement("div"),nb=gb.id||u();mb.id=nb,gb.parentNode.replaceChild(mb,gb),new l(kb,nb,hb)},l.focus=(b.addEventListener("mousedown",function(){ob=null}),{focus:function(pb){ob=pb},hasFocus:function(qb){return ob===qb}}),l.padAccessor=(rb=[],{append:function(sb){rb.push(sb)},show:function(tb){for(var ub=0;ub<rb.length;ub++)tb!==rb[ub]?rb[ub].style.display="none":tb.style.display="inline"}}),l.prototype.kill=function(){this.__mc.stop();for(var vb=this.__resourceList,wb=0,xb=vb.length;wb<xb;wb++)"setInterval"===vb[wb].type?clearInterval(vb[wb].value):"eventListener"===vb[wb].type?vb[wb].target.removeEventListener(vb[wb].name,vb[wb].value):"Loop"===vb[wb].type&&vb[wb].value.stop();for(this.__resourceList=[];this.__box.hasChildNodes();)this.__box.removeChild(this.__box.firstChild)},l.prototype.__loop=function(){var yb=(new Date).getTime();if(!(yb-this.__pt<this.__st)){if(this.__pt=yb-10,this.__testCanvas){var Ab,zb=this.__testCanvas.getContext("2d");if(zb.fillStyle="rgb(128,0,128)",zb.fillRect(0,0,700,700),zb.strokeStyle="#f00",this.__mc.gg)for(zb.save(),zb.scale(.5,.5),zb.drawImage(this.__mc.gg.os_img._dat,0,0),zb.drawImage(this.__mc.gg.os2_img._dat,576,0),zb.restore(),zb.beginPath(),Ab=0;Ab<700;Ab+=32)zb.moveTo(0,Ab),zb.lineTo(700,Ab),zb.moveTo(Ab,0),zb.lineTo(Ab,700);zb.stroke()}if(this.__testDiv&&this.__mc.mp){var Db,Eb,Bb=this.__mc.mp,Cb="<div style='text-align:left'>";for(Db in Bb)"[object Array]"!=(Eb=Object.prototype.toString.call(Bb[Db]))&&"[object Function]"!=Eb&&(Db in this.__teo?0<this.__teo[Db].t?(Cb+="<span style='background-color:rgba(255,255,255,"+this.__teo[Db].t/6+")'>"+Db+": "+Bb[Db]+"</span> ",this.__teo[Db].t--):Cb+=Db+": "+Bb[Db]+" ":this.__teo[Db]={val:Bb[Db],t:0},this.__teo[Db].val!=Bb[Db]&&(this.__teo[Db].val=Bb[Db],this.__teo[Db].t=6));this.__testDiv.innerHTML=Cb+"</div>"}this.__mc.run()}},l.prototype.__pad_update=function(){var Jb,Kb,Lb,Mb,Nb,Ob,Fb=this.__pad.getBoundingClientRect(),Gb=Fb.left,Hb=Fb.top,Ib=this.__pad_off.getContext("2d"),Pb=l.pad.coords.length;for(Ib.clearRect(0,0,500,200),Ib.fillStyle=l.pad.style.back,Ib.fillRect(0,0,500,200),Ib.fillStyle=l.pad.style.button,Jb=0;Jb<Pb;Jb++){for(Ib.beginPath(),Lb=(Mb=l.pad.coords[Jb]).length>>1,Ib.moveTo(Mb[0],Mb[1]),Kb=0;Kb<Lb;Kb++)Ib.lineTo(Mb[Kb<<1],Mb[1+(Kb<<1)]);Ib.closePath(),Ib.fill()}for(Jb=0;Jb<Pb;Jb++)this.__pad_after[Jb]=!1;for(Ib.fillStyle=l.pad.style.active,Jb=0;Jb<Pb;Jb++){for(Ib.beginPath(),Lb=(Mb=l.pad.coords[Jb]).length>>1,Ib.moveTo(Mb[0],Mb[1]),Kb=0;Kb<Lb;Kb++)Ib.lineTo(Mb[Kb<<1],Mb[1+(Kb<<1)]);for(Kb in Ib.closePath(),this.__pad_touches)Nb=this.__pad_touches[Kb].clientX-Gb,Ob=this.__pad_touches[Kb].clientY-Hb,this.__pad_after[Jb]|=Ib.isPointInPath(Nb/Fb.width*500,Ob/Fb.height*200);this.__pad_after[Jb]&&Ib.fill()}for(Ib.strokeStyle=l.pad.style.border,Ib.fillStyle=l.pad.style.text,Jb=0;Jb<Pb;Jb++){for(Ib.beginPath(),Lb=(Mb=l.pad.coords[Jb]).length>>1,Ib.moveTo(Mb[0],Mb[1]),Kb=1;Kb<Lb;Kb++)Ib.lineTo(Mb[Kb<<1],Mb[1+(Kb<<1)]);Ib.closePath(),Ib.stroke(),Lb=Qb(Mb),Ib.fillText(l.pad.chars[Jb],Lb[0],Lb[1])}for(Ib.stroke(),(Ib=this.__pad.getContext("2d")).clearRect(0,0,500,200),Ib.drawImage(this.__pad_off,0,0),Jb=0;Jb<Pb;Jb++)this.__pad_before[Jb]!=this.__pad_after[Jb]&&(this.__pad_before[Jb]=this.__pad_after[Jb],this.__pad_after[Jb]?this.__pad_pressed(Jb):this.__pad_released(Jb));function Qb(Rb){var Sb,Ub,Vb,Wb,Xb,Yb,Zb,$b,_b,ac,dc,Tb=Rb.length>>1;if($b=Ub=Rb[0],_b=Vb=Rb[1],1==Tb)return[$b,_b];if($b=($b+(Wb=Rb[2]))/2,_b=(_b+(Xb=Rb[3]))/2,2==Tb)return[$b,$b];for(Yb=Rb[4],Zb=Rb[5],ac=c.abs((Wb-Ub)*(Zb-Vb)-(Xb-Vb)*(Yb-Ub))/2,$b=(Ub+Wb+Yb)/3,_b=(Vb+Xb+Zb)/3,Sb=3;Sb<Tb;Sb++)Wb=Yb,Xb=Zb,Yb=Rb[Sb<<1],Zb=Rb[1+(Sb<<1)],$b=(ac*$b+(dc=c.abs((Wb-Ub)*(Zb-Vb)-(Xb-Vb)*(Yb-Ub))/2)*((Ub+Wb+Yb)/3))/(ac+dc),_b=(ac*_b+dc*((Vb+Xb+Zb)/3))/(ac+dc),ac=dc;return[$b,_b]}},l.prototype.__pad_pressed=function(ec){if(this.__mc.gk){var fc=l.pad.codes[ec];this.__mc.gk.keyPressed({keyCode:fc,preventDefault:function(){}})}},l.prototype.__pad_released=function(gc){if(this.__mc.gk){var hc=l.pad.codes[gc];this.__mc.gk.keyReleased({keyCode:hc,preventDefault:function(){}})}},l.prototype.__pad_event=function(ic){ic.preventDefault(),this.__pad_touches=[];for(var jc=0;jc<ic.touches.length;jc++)this.__pad_touches.push(ic.touches[jc]);this.__pad_update()},l.pad={coords:[[410,30,490,30,490,170,410,170],[320,30,400,30,400,170,320,170],[250,30,290,30,290,70,250,70],[200,30,240,30,240,70,200,70],[5,60,87,60,87,140,5,140],[175,60,93,60,93,140,175,140],[30,5,30,80,150,80,150,5],[30,195,30,120,150,120,150,195]],chars:["X","Z","T","P","←","→","↑","↓"],codes:[88,90,84,80,37,39,38,40],style:{rate:.4,back:"rgba(0, 0, 0, 0)",button:"rgba(128, 128, 128, 0.5)",active:"rgba(0, 0, 0, 0.5)",text:"black",border:"black"},avoidAD:!1},v.prototype.start=function(Gc,Hc){this.running=!0,this.interval=Gc,this.callback=Hc;var Ic=w();this.targetTime=Ic+Gc,this.prevTime=Ic,a.requestAnimationFrame&&!this.forceSetInterval?this.mode=1:this.mode=0,0===this.mode&&(this.timerid=setInterval(this._loop,Gc)),this._next()},v.prototype.stop=function(){this.running&&(this.running=!1,1===this.mode?cancelAnimationFrame(this.timerid):clearInterval(this.timerid))},v.prototype._next=function(){1===this.mode&&(this.timerid=requestAnimationFrame(this._loop))},v.prototype._loop=function(){if(this.running){var Mc=w();500<=Mc-this.prevTime&&(this.targetTime=Mc-1);var Nc=c.ceil((Mc-this.targetTime)/this.interval);for(this.targetTime+=this.interval*Nc;0<Nc&&(this.callback(),Nc--,!(2<w()-Mc)););if(0<Nc){var Oc=this;x(function Pc(Qc){for(;0<Nc&&0<Qc.timeRemaining();)Oc.callback(),Nc--;0<Nc&&!Qc.didTimeout&&x(Pc,{timeout:1e3})},{timeout:1e3})}this._next(),this.prevTime=Mc}};var w=a.performance&&performance.now?performance.now.bind(performance):Date.now?Date.now.bind(Date):function(){return 1e3*(new Date).getTime()},x="function"==typeof requestIdleCallback?requestIdleCallback:"function"==typeof setImmediate?function(Rc){setImmediate(function(){var Sc=w();Rc({didTimeout:!1,timeRemaining:function(){return 50+Sc-w()}})})}:function(Uc){setTimeout(function(){var Vc=w();Uc({didTimeout:!1,timeRemaining:function(){return 50+Vc-w()}})},1)};function y(Xc,Yc,Zc,$c){this.zure_x=16,this.zure_y=24,this.co_j=new d,this.map_string=new Array(9),this.map_bg=r(15,9),this.stage_c=new Array(10),this.stage_x=new Array(10),this.stage_y=new Array(10),this.stage_cf=new Array(10),this.ie_c=new Array(16),this.ie_x=new Array(16),this.ie_y=new Array(16),this.mp_mode=0,this.cc_p1_x=new Array(17),this.cc_p1_y=new Array(17),this.cc_p2_x=new Array(17),this.cc_p2_y=new Array(17),this.gg=Xc,this.gk=Yc,this.km=Zc,this.mp=$c,this.cc_p1_x[13]=-200,this.cc_p1_y[13]=160,this.cc_p1_x[14]=-200,this.cc_p1_y[14]=520,this.cc_p1_x[15]=712,this.cc_p1_y[15]=520,this.cc_p1_x[16]=712,this.cc_p1_y[16]=160,this.cc_p2_x[13]=712,this.cc_p2_y[13]=160,this.cc_p2_x[14]=712,this.cc_p2_y[14]=-200,this.cc_p2_x[15]=-200,this.cc_p2_y[15]=-200,this.cc_p2_x[16]=-200,this.cc_p2_y[16]=160}function z(Nd,Od){if(2==arguments.length){this._dat=b.createElement("canvas"),this._dat.width=Nd,this._dat.height=Od,this._width=Nd,this._height=Od;var Pd=this._dat.getContext("2d");Pd.lineWidth=1.6,Pd.lineCap="round",Pd.save()}else this._dat=null,this._width=-1,this._height=-1;this._loaded=!1,this._error=!1,this._g=null}function B(Td){Td.onerror()}function C(Ud){this._ctx=Ud._dat.getContext("2d"),this._ctx&&(this._ctx.restore(),this._ctx.save()),this._color=D.black,this._font=new E(E.DIALOG,E.PLAIN,10)}function D(rf,sf,tf,uf){this.r=255<rf?255:rf<0?0:rf,this.g=255<sf?255:sf<0?0:sf,this.b=255<tf?255:tf<0?0:tf,4==arguments.length?this.a=255<uf?255:uf<0?0:uf:this.a=255}function E(vf,wf,xf){this._name=vf,this._style=wf,this._size=xf}function F(yf,zf,Af){this.c=new Array(16),this.x=new Array(16),this.y=new Array(16),this.width=new Array(16),this.selectedIndex=new Array(16),this.item_kazu=new Array(16),this.message=new Array(16),this.item=r(16,16),this.item_int=r(16,16),this.item_color=new Array(16),this.list_IDlist=new Array(16),this.aw=-1,this.mode=0,this.kettei_c=0,this.cancel_c=0,this.gg=yf,this.gk=zf,this.name_crys=Af,this.hi=this.gg.spt_img[0],this.hih=this.gg.spt_img,this.hg=this.gg.os_g,this.ap=this.gg.ap,this.initAll()}function G(zh,Ah,Bh){this.ran_seed=void 0,this.ml_mode=0,this.ml_mode_c=0,this.score=0,this.highscore=0,this.score_1up_1=0,this.score_1up_2=0,this.score_1up_1_para=0,this.score_1up_2_para=0,this.score_v=!0,this.stage=1,this.stage_cc=0,this.stage_max=1,this.stage_kaishi=1,this.g_c1=0,this.g_c2=0,this.g_c3=0,this.g_ac=0,this.g_ac2=0,this.tr1_c=0,this.tr2_c=0,this.left_dcc=0,this.right_dcc=0,this.co_t=new Array(130),this.co_m=new Array(24),this.co_a=new Array(32),this.co_h=new Array(64),this.co_jm=new Array(2),this.vo_x=r(32,4),this.vo_y=r(32,4),this.j_zan_x=new Array(6),this.j_zan_y=new Array(6),this.j_zan_pt=new Array(6),this.j_zan_pth=new Array(6),this.vo_pa_x=new Array(6),this.vo_pa_y=new Array(6),this.stage_1up_f=new Array(3),this.shop_item_name=new Array(16),this.shop_item_teika=new Array(16),this.door_score=10,this.gg=zh,this.gm=Ah,this.gk=Bh,this.maps=new H(200,100,this.gg,this),this.km=new F(this.gg,this.gk,"まさお"),this.co_j=new d;for(var Ch=0;Ch<=129;Ch++)this.co_t[Ch]=new d;for(var Dh=0;Dh<=23;Dh++)this.co_m[Dh]=new d;for(var Eh=0;Eh<=31;Eh++)this.co_a[Eh]=new d;for(var Fh=0;Fh<=63;Fh++)this.co_h[Fh]=new d;for(var Gh=0;Gh<=1;Gh++)this.co_jm[Gh]=new d;this.co_b=new d,2==this.paraInt("stage_select")?(this.stage_select=2,this.stage_max=4):this.stage_select=1,this.ig=new y(this.gg,this.gk,this.km,this),this.ranInit(),this.hi=this.gg.spt_img[0],this.hih=this.gg.spt_img,this.hg=this.gg.os_g,this.ap=this.gg.ap,this.init1()}function H(Yp,Zp,$p,_p){this.width=Yp,this.height=Zp,this.gg=$p,this.mp=_p,this.map_bg=r(this.width,this.height),this.map_string=new Array(this.height),this.bg_space="";for(var aq=0;aq<=this.width;aq++)this.bg_space=this.bg_space+".";this.init(),this.hi=this.gg.spt_img[0],this.g2=this.gg.os2_g,this.ap=this.gg.ap}function I(Uq,Vq,Wq,Xq){this.th_interval=70,this.th_jm=10,this.params=Uq,this.__canvas=Vq,this.__appimg=new z(512,320),this.__game=Wq,this.options=Xq}y.prototype.worldInit=function(){for(var _c=0;_c<=9;_c++)this.stage_c[_c]=0,this.stage_cf[_c]=!1;this.stage_kcID=0,this.door_koID=0,this.dokan_khID=0;for(var ad=this.door_score_open=0;ad<=15;ad++)this.ie_c[ad]=0;this.co_j.x=0,this.co_j.y=0,this.co_j.vx=0,this.co_j.vy=0,this.co_j.muki=1,this.co_j.ac=0,this.mp.tr1_c=2,this.shop_kattaitem=-1,this.mp_mode=0,this.km.initAll(),this.km.mode=100;for(var bd=0;bd<=8;bd++){var cd=this.gg.ap.getParameter("chizu-"+bd);cd+="...............",this.map_string[bd]=cd}for(var dd=0;dd<=8;dd++)for(var ed=0;ed<=14;ed++){var fd=this.map_string[dd].charAt(ed);"A"==fd?(this.co_j.x=32*ed,this.co_j.y=32*dd,this.map_bg[ed][dd]=220):"B"==fd?(this.map_bg[ed][dd]=216,this.ie_c[3]=100,this.ie_x[3]=32*ed,this.ie_y[3]=32*dd):"C"==fd?(this.map_bg[ed][dd]=217,this.ie_c[4]=100,this.ie_x[4]=32*ed,this.ie_y[4]=32*dd):"D"==fd?(this.map_bg[ed][dd]=218,this.ie_c[10]=100,this.ie_x[10]=32*ed,this.ie_y[10]=32*dd):"E"==fd?(this.map_bg[ed][dd]=219,this.ie_c[11]=100,this.ie_x[11]=32*ed,this.ie_y[11]=32*dd):"a"==fd?0==this.stage_c[0]?(this.map_bg[ed][dd]=223,this.stage_c[0]=100,this.stage_x[0]=32*ed,this.stage_y[0]=32*dd):this.map_bg[ed][dd]=220:"b"==fd?0==this.stage_c[1]?(this.map_bg[ed][dd]=224,this.stage_c[1]=100,this.stage_x[1]=32*ed,this.stage_y[1]=32*dd):this.map_bg[ed][dd]=220:"c"==fd?0==this.stage_c[2]?(this.map_bg[ed][dd]=225,this.stage_c[2]=100,this.stage_x[2]=32*ed,this.stage_y[2]=32*dd):this.map_bg[ed][dd]=220:"d"==fd?0==this.stage_c[3]?(this.map_bg[ed][dd]=226,this.stage_c[3]=100,this.stage_x[3]=32*ed,this.stage_y[3]=32*dd):this.map_bg[ed][dd]=220:"e"==fd?(this.map_bg[ed][dd]=213,this.ie_c[0]=100,this.ie_x[0]=32*ed,this.ie_y[0]=32*dd):"f"==fd?(this.map_bg[ed][dd]=214,this.ie_c[1]=100,this.ie_x[1]=32*ed,this.ie_y[1]=32*dd):"g"==fd?(this.map_bg[ed][dd]=215,this.ie_c[2]=100,this.ie_x[2]=32*ed,this.ie_y[2]=32*dd):"h"==fd?(this.map_bg[ed][dd]=212,this.ie_c[9]=100,this.ie_x[9]=32*ed,this.ie_y[9]=32*dd):"i"==fd?(this.map_bg[ed][dd]=206,this.ie_c[5]=100,this.ie_x[5]=32*ed,this.ie_y[5]=32*dd):"j"==fd?(this.map_bg[ed][dd]=207,this.ie_c[6]=100,this.ie_x[6]=32*ed,this.ie_y[6]=32*dd):"k"==fd?(this.map_bg[ed][dd]=208,this.ie_c[7]=100,this.ie_x[7]=32*ed,this.ie_y[7]=32*dd):"l"==fd?(this.map_bg[ed][dd]=209,this.ie_c[8]=100,this.ie_x[8]=32*ed,this.ie_y[8]=32*dd):this.map_bg[ed][dd]="1"==fd?220:"2"==fd?221:"3"==fd?222:0}256<this.co_j.x+16&&(this.co_j.muki=0),this.drawOs2()},y.prototype.worldInit2=function(){this.co_j.vx=0,this.co_j.vy=0,this.co_j.muki=1,this.co_j.ac=0,this.mp.tr1_c=2,this.mp_mode=200,this.cc_hankei=12,this.stage_kcID=0,this.door_koID=0,this.shop_kattaitem=-1,this.door_score_open=0,100==this.ie_c[9]&&this.mp.score>=this.mp.door_score&&(this.ie_c[9]=50,this.door_score_open=1),this.km.initAll(),this.km.mode=100,this.drawOs2()},y.prototype.worldInit3=function(){this.stage_kcID=this.checkStage(),this.stage_cf[this.stage_kcID-1]=!0,this.stage_c[this.stage_kcID-1]=50;for(var gd=0,hd=0;hd<=2;hd++)this.stage_cf[hd]&&gd++;this.door_koID=0,1<=gd&&100==this.ie_c[gd-1]&&(this.ie_c[gd-1]=50,this.door_koID=gd),this.door_score_open=0,100==this.ie_c[9]&&this.mp.score>=this.mp.door_score&&(this.ie_c[9]=50,this.door_score_open=1),this.co_j.vx=0,this.co_j.vy=0,this.co_j.muki=1,this.co_j.ac=0,this.mp.tr1_c=2,this.co_j.pt=0,this.shop_kattaitem=-1,this.mp_mode=200,this.cc_hankei=12,this.km.initAll(),this.km.mode=100,this.drawOs2()},y.prototype.drawOs2=function(){this.gg.setBackcolor(new D(0,127,0)),this.gg.fill2(),this.gg.os2_g.drawImage(this.gg.li[3],0,0,this.gg.ap);for(var id=0;id<=8;id++)for(var jd=0;jd<=14;jd++){var kd=this.map_bg[jd][id];221==kd?(this.gg.drawPT2(32*jd+16,32*id+24-16,221),this.gg.drawPT2(32*jd+16,32*id+24+16,221)):222==kd&&(this.gg.drawPT2(32*jd+16-16,32*id+24,222),this.gg.drawPT2(32*jd+16+16,32*id+24,222))}for(var ld=0;ld<=8;ld++)for(var md=0;md<=14;md++){var nd=this.map_bg[md][ld];61!=nd&&62!=nd&&256!=nd&&(216<=nd&&nd<=219?this.gg.drawPT2(32*md+16,32*ld+24-7,nd):206<=nd&&nd<=209?this.gg.drawPT2(32*md+16,32*ld+24-7,nd):212<=nd&&nd<=215?(this.gg.drawPT2(32*md+16-16,32*ld+24,222),this.gg.drawPT2(32*md+16+16,32*ld+24,222),this.gg.drawPT2(32*md+16,32*ld+24-7,nd)):this.gg.drawPT2(32*md+16,32*ld+24,nd))}},y.prototype.drawMap=function(){this.gg.os_g.drawImage(this.gg.os2_img,0,0,this.gg.ap)},y.prototype.getBGZ=function(od,pd){if(od<0||479<od||pd<0||287<pd)return 0;var qd=od>>5,rd=pd>>5;return this.map_bg[qd][rd]},y.prototype.checkStage=function(){for(var sd=-1,td=0;td<=9;td++)if(100==this.stage_c[td]&&this.co_j.x==this.stage_x[td]&&this.co_j.y==this.stage_y[td]){sd=td+1;break}return sd},y.prototype.mainProgram=function(){if(this.gk.tr1_f?this.mp.tr1_c<2&&this.mp.tr1_c++:this.mp.tr1_c=0,0==this.mp_mode){if(100==this.km.mode)this.jMove();else if(200==this.km.mode)1==this.km.cancel_c?(this.km.off(3),this.km.off(4),this.km.mode=100):1==this.km.kettei_c&&(this.km.init1(3),this.km.setMessage(3,this.mp.mes1_name),this.mp.addSerifu(3,2,3),this.km.activeSerifu(3,120,150,272,D.cyan),this.km.mode=210);else if(210==this.km.mode)1!=this.km.cancel_c&&1!=this.km.kettei_c||(this.km.off(3),this.km.off(4),this.km.mode=100);else if(300==this.km.mode)1==this.km.cancel_c?(this.km.off(3),this.km.off(4),this.km.mode=100):1==this.km.kettei_c&&(this.km.init1(3),this.km.setMessage(3,this.mp.mes2_name),this.mp.addSerifu(3,4,3),this.km.activeSerifu(3,120,150,272,D.cyan),this.km.mode=210);else if(400==this.km.mode){if(1==this.km.cancel_c)this.km.off(3),this.km.off(4),this.km.mode=100;else if(1==this.km.kettei_c){this.km.off(3),this.km.list_kazu=0,this.km.init1(6),this.km.setMessage(6,this.gg.ap.getParameter("shop_serifu1"));for(var ud=0;ud<=8;ud++)0<this.mp.shop_item_teika[ud]&&(this.km.addItem2(6,this.mp.shop_item_name[ud],this.mp.shop_item_teika[ud]),this.km.list_IDlist[this.km.list_kazu]=ud,this.km.list_kazu++);1<=this.km.list_kazu?(this.km.activeKaimono(6,296,76,184),this.km.mode=410):(this.km.init1(6),this.km.init1(3),this.km.setMessage(3,"Error"),this.km.addItem(3,"Please set any item on shop menu."),this.km.activeSerifu(3,120,150,216,D.red),this.km.mode=210)}}else 410==this.km.mode?1==this.km.cancel_c?(this.km.off(4),this.km.off(6),this.km.mode=100):1==this.km.kettei_c&&(this.km.list_s=this.km.list_IDlist[this.km.selectedIndex[6]],this.km.init1(7),this.km.setMessage(7,this.mp.shop_item_name[this.km.list_s]+this.gg.ap.getParameter("shop_serifu2")),this.km.addItem(7,this.gg.ap.getParameter("shop_serifu3")),this.km.addItem(7,this.gg.ap.getParameter("shop_serifu4")),this.km.activeSerifutuki(7,48,150,236,this.mp.shop_name),this.km.mode=420):420==this.km.mode?1==this.km.cancel_c?(this.km.offActivewindow(7,6),this.km.mode=410):1==this.km.kettei_c&&(0==this.km.selectedIndex[7]?(this.mp.score>=this.mp.shop_item_teika[this.km.list_s]?(this.km.init1(3),this.km.addItem(3,this.mp.shop_item_name[this.km.list_s]+this.gg.ap.getParameter("shop_serifu5")),this.km.activeIchigyou(3,48,240,236),this.mp.score-=this.mp.shop_item_teika[this.km.list_s],this.shop_kattaitem=this.km.list_s,7==this.shop_kattaitem&&this.mp.j_left++):(this.km.init1(3),this.km.addItem(3,this.gg.ap.getParameter("shop_serifu6")),this.km.activeIchigyou(3,48,240,236)),this.km.mode=430):(this.km.off(4),this.km.off(6),this.km.off(7),this.km.mode=100)):430==this.km.mode?1!=this.km.cancel_c&&1!=this.km.kettei_c||(this.km.off(3),this.km.off(4),this.km.off(6),this.km.off(7),this.km.mode=100):500==this.km.mode?1==this.km.cancel_c?(this.km.off(4),this.km.off(3),this.km.mode=100):1==this.km.kettei_c&&(this.km.off(3),this.km.init1(2),this.km.setMessage(2,this.gg.ap.getParameter("setumei_menu1")),this.km.addItem(2,this.gg.ap.getParameter("setumei_menu2")),this.km.addItem(2,this.gg.ap.getParameter("setumei_menu3")),this.km.addItem(2,this.gg.ap.getParameter("setumei_menu4")),this.km.activeSerifutuki(2,120,150,224,this.mp.setumei_name),this.km.mode=510):510==this.km.mode?1==this.km.cancel_c?(this.km.off(2),this.km.off(4),this.km.mode=100):1==this.km.kettei_c&&(this.km.init1(3),this.km.setMessage(3,this.mp.setumei_name),1==this.km.selectedIndex[2]?this.mp.addSerifu(3,11,3):2==this.km.selectedIndex[2]?this.mp.addSerifu(3,12,3):this.mp.addSerifu(3,10,3),this.km.activeSerifu(3,200,191,272,D.cyan),this.km.mode=520):520==this.km.mode&&(1==this.km.cancel_c?(this.km.offActivewindow(3,2),this.km.mode=510):1==this.km.kettei_c&&(this.km.off(2),this.km.off(3),this.km.off(4),this.km.mode=100));this.km.move()}if(1e3==this.co_j.pt?this.gg.drawPT(this.co_j.x+16,this.co_j.y+24-12-6,100,this.co_j.muki):1010==this.co_j.pt?this.gg.drawPT(this.co_j.x+16,this.co_j.y+24-12+5,100,this.co_j.muki):202<=this.co_j.pt&&this.co_j.pt<=205?this.gg.drawPT(this.co_j.x+16,this.co_j.y+24-12,this.co_j.pt,0):this.gg.drawPT(this.co_j.x+16,this.co_j.y+24-12,this.co_j.pt,this.co_j.muki),this.km.drawMenus(),100==this.mp_mode)this.circleCLS(this.cc_hankei),this.cc_hankei-=12,this.cc_hankei<0&&(this.cc_hankei=0,this.mp_mode=110);else if(110==this.mp_mode)this.circleCLS(this.cc_hankei);else if(200==this.mp_mode){if(this.circleCLS(this.cc_hankei),this.cc_hankei+=12,312<this.cc_hankei)if(1<=this.stage_kcID){this.mp_mode=300,this.cc_hankei=0;var vd=this.stage_y[this.stage_kcID-1]>>5;this.map_bg[this.stage_x[this.stage_kcID-1]>>5][vd]=227,1<=this.door_koID&&(this.map_bg[this.ie_x[this.door_koID-1]>>5][this.ie_y[this.door_koID-1]>>5]=222),1==this.door_score_open&&(this.map_bg[this.ie_x[9]>>5][this.ie_y[9]>>5]=222),this.drawOs2()}else this.mp_mode=0,1==this.door_score_open&&(this.mp_mode=400,this.cc_hankei=0,this.map_bg[this.ie_x[9]>>5][this.ie_y[9]>>5]=222,this.drawOs2())}else if(300==this.mp_mode){var wd;this.cc_hankei++,this.cc_hankei<=3?wd=0:this.cc_hankei<=6?wd=1:this.cc_hankei<=9?wd=0:this.cc_hankei<=12?wd=1:this.cc_hankei<=15?wd=0:this.cc_hankei<=18?wd=1:this.cc_hankei<=21?wd=0:this.cc_hankei<=24?wd=1:this.cc_hankei<=26?wd=0:(wd=0,this.mp_mode=0),0<wd&&this.gg.drawPT(this.stage_x[this.stage_kcID-1]+16,this.stage_y[this.stage_kcID-1]+24,222+this.stage_kcID,0),0<wd&&1<=this.door_koID&&this.gg.drawPT(this.ie_x[this.door_koID-1]+16,this.ie_y[this.door_koID-1]+24-7,212+this.door_koID,0),0<wd&&1==this.door_score_open&&this.gg.drawPT(this.ie_x[9]+16,this.ie_y[9]+24-7,212,0)}else if(400==this.mp_mode){var xd;this.cc_hankei++,this.cc_hankei<=3?xd=0:this.cc_hankei<=6?xd=1:this.cc_hankei<=9?xd=0:this.cc_hankei<=12?xd=1:this.cc_hankei<=15?xd=0:this.cc_hankei<=18?xd=1:this.cc_hankei<=21?xd=0:this.cc_hankei<=24?xd=1:this.cc_hankei<=26?xd=0:(xd=0,this.mp_mode=0),0<xd&&this.gg.drawPT(this.ie_x[9]+16,this.ie_y[9]+24-7,212,0)}},y.prototype.jMove=function(){var yd=this.co_j.x,zd=this.co_j.y;if(this.co_j.pt=100,0==this.co_j.vx&&0==this.co_j.vy){if(this.co_j.ac++,7<this.co_j.ac&&(this.co_j.ac=0),3<this.co_j.ac){this.co_j.pt=1e3;var Ad=this.getBGZ(yd,zd);(216<=Ad&&Ad<=219||206<=Ad&&Ad<=209)&&(this.co_j.pt=1010)}if(1==this.mp.tr1_c)if(1<=this.checkStage())this.mp_mode=100,this.cc_hankei=312,this.co_j.ac=0,this.dokan_khID=0,this.co_j.pt=100;else if(206<=this.getBGZ(yd,zd)&&this.getBGZ(yd,zd)<=209)if(2==this.mp.dokan_mode)for(var Bd=!1,Cd=0;Cd<=8;Cd++){for(var Dd=0;Dd<=14;Dd++){if(32*Dd!=yd||32*Cd!=zd)if(this.map_bg[Dd][Cd]==this.getBGZ(yd,zd)){yd=32*Dd,zd=32*Cd,this.co_j.ac=0,this.co_j.pt=1010,Bd=!0;break}}if(Bd)break}else this.mp_mode=100,this.cc_hankei=312,this.co_j.ac=0,this.dokan_khID=this.getBGZ(yd,zd)-205,this.co_j.pt=1010;else 216==this.getBGZ(yd,zd)?(this.km.init1(4),this.km.onKao(4,120,42,272,230),this.km.init1(3),this.km.setMessage(3,this.mp.mes1_name),this.mp.addSerifu(3,1,3),this.km.activeSerifu(3,120,150,272,D.cyan),this.km.mode=200,this.co_j.pt=1010,this.co_j.ac=0):217==this.getBGZ(yd,zd)?(this.km.init1(4),this.km.onKao(4,120,42,272,232),this.km.init1(3),this.km.setMessage(3,this.mp.mes2_name),this.mp.addSerifu(3,3,3),this.km.activeSerifu(3,120,150,272,D.cyan),this.km.mode=300,this.co_j.pt=1010,this.co_j.ac=0):218==this.getBGZ(yd,zd)?(this.km.init1(4),this.km.onKao(4,120,42,216,234),this.shop_kattaitem<0?(this.km.init1(3),this.km.setMessage(3,this.mp.shop_name),this.mp.addSerifu(3,5,3),this.km.activeSerifu(3,120,150,216,D.cyan),this.km.mode=400):(this.km.init1(3),this.km.setMessage(3,this.mp.shop_name),this.mp.addSerifu(3,8,3),this.km.activeSerifu(3,120,150,216,D.cyan),this.km.mode=210),this.co_j.pt=1010,this.co_j.ac=0):219==this.getBGZ(yd,zd)&&(this.km.init1(4),this.km.onKao(4,120,42,272,236),this.km.init1(3),this.km.setMessage(3,this.mp.setumei_name),this.mp.addSerifu(3,9,3),this.km.activeSerifu(3,120,150,272,D.cyan),this.km.mode=500,this.co_j.pt=1010,this.co_j.ac=0);else this.gk.up_f?221==this.getBGZ(yd,zd-32)&&(this.co_j.vy=-4,this.co_j.ac=-1):this.gk.down_f?221==this.getBGZ(yd,zd+32)&&(this.co_j.vy=4,this.co_j.ac=-1):this.gk.left_f?(this.co_j.muki=0,222==this.getBGZ(yd-32,zd)&&(this.co_j.vx=-4,this.co_j.ac=-1),212<=this.getBGZ(yd+32,zd)&&this.getBGZ(yd+32,zd)<=215&&(this.co_j.vx=-4,this.co_j.ac=-1)):this.gk.right_f&&(this.co_j.muki=1,222==this.getBGZ(yd+32,zd)&&(this.co_j.vx=4,this.co_j.ac=-1),212<=this.getBGZ(yd-32,zd)&&this.getBGZ(yd-32,zd)<=215&&(this.co_j.vx=4,this.co_j.ac=-1))}if(0!=this.co_j.vx||0!=this.co_j.vy){if(this.co_j.ac++,3<this.co_j.ac&&(this.co_j.ac=0),yd+=this.co_j.vx,zd+=this.co_j.vy,0!=this.co_j.vx?this.co_j.ac<=1?this.co_j.pt=103:this.co_j.pt=104:0<=this.co_j.vy?this.co_j.ac<=1?this.co_j.pt=202:this.co_j.pt=203:this.co_j.ac<=1?this.co_j.pt=204:this.co_j.pt=205,yd%32==0&&zd%32==0){var Fd=this.getBGZ(yd,zd);(220==Fd||223<=Fd&&Fd<=227||216<=Fd&&Fd<=219||206<=Fd&&Fd<=209)&&(this.co_j.vx=0,this.co_j.vy=0,this.co_j.ac=0),(Fd=0)<this.co_j.vx?Fd=this.getBGZ(yd+32,zd):this.co_j.vx<0&&(Fd=this.getBGZ(yd-32,zd)),212<=Fd&&Fd<=215&&(this.co_j.vx=0,this.co_j.vy=0,this.co_j.pt=100,this.co_j.ac=0)}yd<=-32?(yd=-32,this.co_j.vx=0,this.co_j.vy=0,this.co_j.ac=0):480<=yd&&(yd=480,this.co_j.vx=0,this.co_j.vy=0,this.co_j.ac=0),zd<=-32?(zd=-32,this.co_j.vx=0,this.co_j.vy=0,this.co_j.ac=0):288<=zd&&(zd=288,this.co_j.vx=0,this.co_j.vy=0,this.co_j.ac=0)}this.co_j.x=yd,this.co_j.y=zd},y.prototype.circleCLS=function(Gd){for(var Hd=0;Hd<=12;Hd++){var Id=c.sin(.2617992*Hd);this.cc_p1_y[Hd]=160+c.floor(Id*Gd);var Jd=c.cos(.2617992*Hd);this.cc_p1_x[Hd]=256+c.floor(Jd*Gd),this.cc_p2_y[Hd]=160-c.floor(Id*Gd),this.cc_p2_x[Hd]=256-c.floor(Jd*Gd)}this.gg.os_g.setColor(D.black),this.gg.os_g.fillPolygon(this.cc_p1_x,this.cc_p1_y,17),this.gg.os_g.fillPolygon(this.cc_p2_x,this.cc_p2_y,17)},y.prototype.squareCLS=function(Kd,Ld){var Md=.017453292519943295;this.cc_p1_x[0]=c.floor(c.cos((this.cc_kakudo+0)*Md)*Kd)+256,this.cc_p1_y[0]=c.floor(c.sin((this.cc_kakudo+0)*Md)*Kd)+160,this.cc_p1_x[1]=c.floor(c.cos((this.cc_kakudo+90)*Md)*Kd)+256,this.cc_p1_y[1]=c.floor(c.sin((this.cc_kakudo+90)*Md)*Kd)+160,this.cc_p1_x[2]=c.floor(c.cos((this.cc_kakudo+180)*Md)*Kd)+256,this.cc_p1_y[2]=c.floor(c.sin((this.cc_kakudo+180)*Md)*Kd)+160,this.cc_p1_x[3]=c.floor(500*c.cos((this.cc_kakudo+180)*Md))+256,this.cc_p1_y[3]=c.floor(500*c.sin((this.cc_kakudo+180)*Md))+160,this.cc_p1_x[4]=c.floor(700*c.cos((this.cc_kakudo+135)*Md))+256,this.cc_p1_y[4]=c.floor(700*c.sin((this.cc_kakudo+135)*Md))+160,this.cc_p1_x[5]=c.floor(700*c.cos((this.cc_kakudo+45)*Md))+256,this.cc_p1_y[5]=c.floor(700*c.sin((this.cc_kakudo+45)*Md))+160,this.cc_p1_x[6]=c.floor(500*c.cos((this.cc_kakudo+0)*Md))+256,this.cc_p1_y[6]=c.floor(500*c.sin((this.cc_kakudo+0)*Md))+160,this.cc_p2_x[0]=c.floor(c.cos((this.cc_kakudo+180)*Md)*Kd)+256,this.cc_p2_y[0]=c.floor(c.sin((this.cc_kakudo+180)*Md)*Kd)+160,this.cc_p2_x[1]=c.floor(c.cos((this.cc_kakudo+270)*Md)*Kd)+256,this.cc_p2_y[1]=c.floor(c.sin((this.cc_kakudo+270)*Md)*Kd)+160,this.cc_p2_x[2]=c.floor(c.cos((this.cc_kakudo+360)*Md)*Kd)+256,this.cc_p2_y[2]=c.floor(c.sin((this.cc_kakudo+360)*Md)*Kd)+160,this.cc_p2_x[3]=c.floor(500*c.cos((this.cc_kakudo+360)*Md))+256,this.cc_p2_y[3]=c.floor(500*c.sin((this.cc_kakudo+360)*Md))+160,this.cc_p2_x[4]=c.floor(700*c.cos((this.cc_kakudo+315)*Md))+256,this.cc_p2_y[4]=c.floor(700*c.sin((this.cc_kakudo+315)*Md))+160,this.cc_p2_x[5]=c.floor(700*c.cos((this.cc_kakudo+225)*Md))+256,this.cc_p2_y[5]=c.floor(700*c.sin((this.cc_kakudo+225)*Md))+160,this.cc_p2_x[6]=c.floor(500*c.cos((this.cc_kakudo+180)*Md))+256,this.cc_p2_y[6]=c.floor(500*c.sin((this.cc_kakudo+180)*Md))+160,this.gg.os_g.setColor(D.black),this.gg.os_g.fillPolygon(this.cc_p1_x,this.cc_p1_y,7),this.gg.os_g.fillPolygon(this.cc_p2_x,this.cc_p2_y,7)},z.prototype.load=function(Qd){this._loaded=!1,this._error=!1,this._width=-1,this._height=-1,this._dat=new Image;var Rd=this;this._dat.onload=function(){Rd.onload()},this._dat.onerror=function(){B(Rd)},this._dat.onabort=function(){B(Rd)},this._dat.ontimeout=function(){B(Rd)},this._dat.src=Qd,this._dat.complete&&this.onload()},z.prototype.onload=function(){this._loaded=!0,this._width=this._dat.naturalWidth,this._height=this._dat.naturalHeight},z.prototype.onerror=function(){this._error=!0,this._dat=null},z.prototype.getGraphics=function(){return this._width<0?null:(this._g=new C(this),this._g)},z.prototype.createGraphics=function(){return this.getGraphics()},C.prototype.drawLine=function(Vd,Wd,Xd,Yd){return null!=this._ctx&&(this._ctx.beginPath(),this._ctx.moveTo(Vd,Wd),this._ctx.lineTo(Xd,Yd),this._ctx.stroke(),!0)},C.prototype.drawImage=function(Zd,$d,_d,ae,be,ce,de,ee,fe,ge){if(null==Zd._dat)return!1;if(null==this._ctx)return!1;try{if(arguments.length<=4)return this._ctx.drawImage(Zd._dat,$d,_d),!0;if(arguments.length<=6)return this._ctx.drawImage(Zd._dat,$d,_d,ae,be),!0;if(arguments.length<=10)return this._ctx.drawImage(Zd._dat,$d,_d,ae,be,ce,de,ee,fe),!0}catch(he){}return!1},C.prototype.drawRect=function(ie,je,ke,le){return null!=this._ctx&&(this._ctx.strokeRect(ie,je,ke,le),!0)},C.prototype.fillRect=function(me,ne,oe,pe){return null!=this._ctx&&(this._ctx.fillRect(me,ne,oe,pe),!0)},C.prototype.drawPolygon=function(qe,re,se){if(null==this._ctx)return!1;this._ctx.beginPath(),this._ctx.moveTo(qe[0],re[0]);for(var te=1;te<se;te++)this._ctx.lineTo(qe[te],re[te]);return this._ctx.closePath(),this._ctx.stroke(),!0},C.prototype.fillPolygon=function(ue,ve,we){if(null==this._ctx)return!1;this._ctx.beginPath(),this._ctx.moveTo(ue[0],ve[0]);for(var xe=1;xe<we;xe++)this._ctx.lineTo(ue[xe],ve[xe]);return this._ctx.closePath(),this._ctx.fill(),!0},C.prototype.drawOval=function(ye,ze,Ae,Be){return null!=this._ctx&&(this.drawArc(ye,ze,Ae,Be,0,2*c.PI),!0)},C.prototype.fillOval=function(Ce,De,Ee,Fe){return null!=this._ctx&&(this.fillArc(Ce,De,Ee,Fe,0,2*c.PI),!0)},C.prototype.drawArc=function(Ge,He,Ie,Je,Ke,Le){if(null==this._ctx)return!1;var Me=Je/Ie;return this._ctx.save(),this._ctx.beginPath(),this._ctx.scale(1,Me),this._ctx.arc(Ge+Ie/2,(He+Je/2)/Me,Ie/2,Ke,Ke+Le,Le<0),this._ctx.stroke(),this._ctx.restore(),!0},C.prototype.fillArc=function(Ne,Oe,Pe,Qe,Re,Se){if(null==this._ctx)return!1;var Te=Qe/Pe;return this._ctx.save(),this._ctx.beginPath(),this._ctx.scale(1,Te),this._ctx.arc(Ne+Pe/2,(Oe+Qe/2)/Te,Pe/2,Re,Re+Se,Se<0),this._ctx.lineTo(Ne+Pe/2,(Oe+Qe/2)/Te),this._ctx.closePath(),this._ctx.fill(),this._ctx.restore(),!0},C.prototype.setGlobalAlpha=function(Ue){return null!=this._ctx&&(Ue<0&&(Ue=0),255<Ue&&(Ue=255),this._ctx.globalAlpha=Ue/255,!0)},C.prototype.setColor=function(Ve){if(null==this._ctx)return!1;this._color=new D(Ve.r,Ve.g,Ve.b,Ve.a);var We="rgba("+Ve.r+", "+Ve.g+", "+Ve.b+", "+Ve.a/255+")";return this._ctx.strokeStyle=We,this._ctx.fillStyle=We,!0},C.prototype.setFont=function(Xe){if(null==this._ctx)return!1;var Ye="";return Xe._style&E.ITALIC&&(Ye+="italic "),Xe._style&E.BOLD&&(Ye+="bold "),Ye+=Xe._size+"px ",Xe._name==E.SERIF?Ye+="serif":Xe._name==E.SANS_SERIF?Ye+="sans-serif":Xe._name==E.MONOSPACED?Ye+="monospace":Xe._name==E.DIALOG?Ye+="'Helvetica','Arial','ＭＳ ゴシック','HG ゴシックB Sun','HG ゴシックB',monospace":Ye+='"'+Xe._name+'"',this._ctx.font=Ye,this._font=Xe,!0},C.prototype.drawString=function(Ze,$e,_e){return null!=this._ctx&&(this._ctx.fillText(Ze,$e,_e),!0)},C.prototype.translate=function(af,bf){return null!=this._ctx&&(this._ctx.translate(af,bf),!0)},C.prototype.rotate=function(cf,df,ef){return null!=this._ctx&&(1==arguments.length?this._ctx.rotate(cf):(this._ctx.translate(df,ef),this._ctx.rotate(cf),this._ctx.translate(-df,-ef)),!0)},C.prototype.scale=function(ff,gf){return null!=this._ctx&&(this._ctx.scale(ff,gf),!0)},C.prototype.setClip=function(hf){if(null==this._ctx)return!1;if("ellipse"==hf){var jf=arguments[4]/arguments[3];return this._ctx.beginPath(),this._ctx.save(),this._ctx.scale(1,jf),this._ctx.arc(arguments[1]+arguments[3]/2,(arguments[2]+arguments[4]/2)/jf,arguments[3]/2,0,2*c.PI,!1),this._ctx.restore(),this._ctx.clip(),!0}if("rect"==hf)return this._ctx.beginPath(),this._ctx.rect(arguments[1],arguments[2],arguments[3],arguments[4]),this._ctx.clip(),!0;if("polygon"==hf){this._ctx.beginPath(),this._ctx.moveTo(arguments[1][0],arguments[2][0]);for(var kf=1;kf<arguments[3];kf++)this._ctx.lineTo(arguments[1][kf],arguments[2][kf]);return this._ctx.closePath(),this._ctx.clip(),!0}return!1},C.prototype.copyArea=function(lf,mf,nf,of,pf,qf){return null!=this._ctx&&(this._ctx.drawImage(this._ctx.canvas,lf,mf,nf,of,lf+pf,mf+qf,nf,of),!0)},C.prototype.dispose=function(){this._ctx.restore(),this._ctx.save()},D.prototype.getRed=function(){return this.r},D.prototype.getGreen=function(){return this.g},D.prototype.getBlue=function(){return this.b},D.white=new D(255,255,255),D.WHITE=D.white,D.lightGray=new D(192,192,192),D.LIGHT_GRAY=D.lightGray,D.gray=new D(128,128,128),D.GRAY=D.gray,D.darkGray=new D(64,64,64),D.DARK_GRAY=D.darkGray,D.black=new D(0,0,0),D.BLACK=D.black,D.red=new D(255,0,0),D.RED=D.red,D.pink=new D(255,175,175),D.PINK=D.pink,D.orange=new D(255,200,0),D.ORANGE=D.orange,D.yellow=new D(255,255,0),D.YELLOW=D.yellow,D.green=new D(0,255,0),D.GREEN=D.green,D.magenta=new D(255,0,255),D.MAGENTA=D.magenta,D.cyan=new D(0,255,255),D.CYAN=D.cyan,D.blue=new D(0,0,255),D.BLUE=D.blue,E.DIALOG="Dialog",E.DIALOG_INPUT="DialogInput",E.MONOSPACED="Monospaced",E.SANS_SERIF="SansSerif",E.SERIF="Serif",E.PLAIN=0,E.BOLD=1,E.ITALIC=2,F.prototype.initAll=function(){for(var Bf=0;Bf<=15;Bf++)this.init1(Bf);this.c_fc=0,this.gk.up_c=0,this.gk.down_c=0,this.aw=-1,this.kettei_c=2,this.cancel_c=2;for(var Cf=0;Cf<=15;Cf++)this.list_IDlist[Cf]=0;this.list_kazu=0,this.list_s=0},F.prototype.init1=function(Df){this.c[Df]=0,this.x[Df]=0,this.y[Df]=0,this.width[Df]=180,this.selectedIndex[Df]=0,this.item_kazu[Df]=0,this.message[Df]="どうしますか？";for(var Ef=0;Ef<=15;Ef++)this.item[Df][Ef]="";for(var Ff=0;Ff<=15;Ff++)this.item_int[Df][Ff]=0},F.prototype.setMessage=function(Gf,Hf){this.message[Gf]=Hf},F.prototype.addItem=function(If,Jf){this.item[If][this.item_kazu[If]]=Jf,this.item_kazu[If]++},F.prototype.addIntitem=function(Kf,Lf){this.item_int[Kf][this.item_kazu[Kf]]=Lf,this.item_kazu[Kf]++},F.prototype.addItem2=function(Mf,Nf,Of){this.item[Mf][this.item_kazu[Mf]]=Nf,this.item_int[Mf][this.item_kazu[Mf]]=Of,this.item_kazu[Mf]++},F.prototype.active=function(Pf,Qf,Rf,Sf){this.c[Pf]=100,this.x[Pf]=Qf,this.y[Pf]=Rf,this.width[Pf]=void 0!==Sf?Sf:180,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=Pf,this.kettei_c=2,this.cancel_c=2},F.prototype.activeSerifutuki=function(Tf,Uf,Vf,Wf,Xf){this.c[Tf]=700,this.x[Tf]=Uf,this.y[Tf]=Vf,this.width[Tf]=Wf,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=Tf,this.kettei_c=2,this.cancel_c=2,this.item[Tf][15]=Xf},F.prototype.activeKaimono=function(Yf,Zf,$f,_f){this.c[Yf]=900,this.x[Yf]=Zf,this.y[Yf]=$f,this.width[Yf]=_f,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=Yf,this.kettei_c=2,this.cancel_c=2},F.prototype.activeIchigyou=function(ag,bg,cg,dg){this.c[ag]=300,this.x[ag]=bg,this.y[ag]=cg,this.width[ag]=dg,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=ag,this.kettei_c=2,this.cancel_c=2},F.prototype.activeNigyou=function(eg,fg,gg,hg,ig){this.c[eg]=310,this.x[eg]=fg,this.y[eg]=gg,this.width[eg]=hg,this.item_color[eg]=ig,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=eg,this.kettei_c=2,this.cancel_c=2},F.prototype.activeYongyou=function(jg,kg,lg,mg){this.c[jg]=320,this.x[jg]=kg,this.y[jg]=lg,this.width[jg]=mg,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=jg,this.kettei_c=2,this.cancel_c=2},F.prototype.activeYongyou2=function(ng,og,pg,qg){this.c[ng]=321,this.x[ng]=og,this.y[ng]=pg,this.width[ng]=qg,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=ng,this.kettei_c=2,this.cancel_c=2},F.prototype.activeSerifu=function(rg,sg,tg,ug,vg){this.c[rg]=330,this.x[rg]=sg,this.y[rg]=tg,this.width[rg]=ug,this.item_color[rg]=vg,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=rg,this.kettei_c=2,this.cancel_c=2},F.prototype.activeYasumu=function(wg,xg,yg){this.c[wg]=1e3,this.x[wg]=xg,this.y[wg]=yg,this.width[wg]=272,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=wg,this.kettei_c=2,this.cancel_c=2},F.prototype.onKao=function(zg,Ag,Bg,Cg,Dg){this.c[zg]=600,this.x[zg]=Ag,this.y[zg]=Bg,this.width[zg]=Cg,this.item_int[zg][0]=Dg},F.prototype.onMituketa=function(Eg,Fg,Gg){this.c[Eg]=610,this.x[Eg]=Fg,this.y[Eg]=Gg,this.width[Eg]=200},F.prototype.onOkozukai=function(Hg,Ig,Jg,Kg,Lg){this.c[Hg]=800,this.x[Hg]=Ig,this.y[Hg]=Jg,this.width[Hg]=Kg,this.item_int[Hg][0]=Lg},F.prototype.activeIchigyouTime=function(Mg,Ng,Og,Pg){this.c[Mg]=350,this.x[Mg]=Ng,this.y[Mg]=Og,this.width[Mg]=Pg,this.item_int[Mg][0]=100},F.prototype.activeNigyouTime=function(Qg,Rg,Sg,Tg,Ug){this.c[Qg]=360,this.x[Qg]=Rg,this.y[Qg]=Sg,this.width[Qg]=Tg,this.item_color[Qg]=Ug,this.item_int[Qg][0]=100},F.prototype.activeJibun=function(Vg,Wg,Xg,Yg,Zg,$g,_g,ah){this.c[Vg]=400,this.x[Vg]=Wg,this.y[Vg]=Xg,this.item_int[14][0]=Zg,this.item_int[14][1]=$g,this.item_int[14][2]=_g,this.item_int[14][3]=ah,this.width[Vg]=Yg,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=Vg,this.kettei_c=2,this.cancel_c=2},F.prototype.activeToujou=function(bh,ch,dh,eh,fh,gh){this.c[bh]=420,this.x[bh]=ch,this.y[bh]=dh,this.item_int[bh][2]=fh,this.item[bh][0]=gh,this.width[bh]=eh,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=bh,this.kettei_c=2,this.cancel_c=2},F.prototype.initCS=function(){this.item_kazu[0]=8,this.selectedIndex[0]=0},F.prototype.activeCS=function(){this.c[0]=500,this.x[0]=0,this.y[0]=0,this.width[0]=0,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=0,this.kettei_c=2},F.prototype.off=function(hh){this.c[hh]=0},F.prototype.offActivewindow=function(ih,jh){this.c[ih]=0,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=jh,this.kettei_c=2,this.cancel_c=2},F.prototype.move=function(){this.c_fc++,6<this.c_fc&&(this.c_fc=0),0<=this.aw&&(this.gk.up_f?(this.gk.up_c++,3<this.gk.up_c&&(this.gk.up_c=1)):this.gk.up_c=0,this.gk.down_f?(this.gk.down_c++,3<this.gk.down_c&&(this.gk.down_c=1)):this.gk.down_c=0,1==this.gk.up_c?(this.selectedIndex[this.aw]--,this.c_fc=-1,this.selectedIndex[this.aw]<0&&(this.selectedIndex[this.aw]=this.item_kazu[this.aw]-1)):1==this.gk.down_c&&(this.selectedIndex[this.aw]++,this.c_fc=-1,this.selectedIndex[this.aw]>this.item_kazu[this.aw]-1&&(this.selectedIndex[this.aw]=0))),this.gk.tr1_f?0==this.kettei_c&&(this.kettei_c=1):this.kettei_c=0,this.gk.x_f?0==this.cancel_c&&(this.cancel_c=1):this.cancel_c=0},F.prototype.drawMenus=function(){this.hg.setFont(new E("Dialog",0,12));for(var kh=0;kh<=15;kh++){var lh=this.c[kh];if(0!=lh)switch(lh){default:break;case 100:if(this.drawWindowbox(this.x[kh],this.y[kh],this.width[kh],30+14*this.item_kazu[kh]),this.hg.setColor(D.white),this.hg.drawString(this.message[kh],this.x[kh]+24,this.y[kh]+6+12),1<=this.item_kazu[kh])for(var mh=0;mh<=this.item_kazu[kh]-1;mh++)this.hg.drawString(this.item[kh][mh],this.x[kh]+24,this.y[kh]+6+18+14*mh+12);kh==this.aw?this.c_fc<=3&&this.hg.drawImage(this.hi[70],this.x[kh]+6,this.y[kh]+24+14*this.selectedIndex[kh],this.ap):this.hg.drawImage(this.hi[70],this.x[kh]+6,this.y[kh]+24+14*this.selectedIndex[kh],this.ap);break;case 200:this.hg.setColor(D.white),this.hg.fillRect(12,12,128,58),this.hg.setColor(D.black),this.hg.fillRect(14,14,124,54),this.hg.setColor(D.cyan),this.hg.drawString(this.item[14][0],18,30),(this.item_int[14][0]<=0||this.item_int[14][2]<=0)&&(this.hg.setColor(D.red),this.hg.drawString("戦闘不能",82,30)),this.hg.setColor(D.white),this.hg.drawString("HP  "+this.item_int[14][0]+" / "+this.item_int[14][1],18,48),this.hg.drawString("PP  "+this.item_int[14][2]+" / "+this.item_int[14][3],18,62);break;case 210:this.hg.setColor(D.white),this.hg.fillRect(160,12,128,58),this.hg.setColor(D.black),this.hg.fillRect(162,14,124,54),this.hg.setColor(D.green),this.hg.drawString(this.item[15][0],166,30),this.item_int[15][0]<=0&&(this.hg.setColor(D.red),this.hg.drawString("戦闘不能",230,30)),this.hg.setColor(D.white),this.hg.drawString("HP  "+this.item_int[15][0]+" / "+this.item_int[15][1],166,48),this.hg.drawString("PP  "+this.item_int[15][2]+" / "+this.item_int[15][3],166,62);break;case 220:this.hg.setColor(D.white),this.hg.fillRect(372,12,128,58),this.hg.setColor(D.black),this.hg.fillRect(374,14,124,54),this.hg.setColor(D.cyan),this.hg.drawString(this.item[15][0],378,30),(this.item_int[15][0]<=0||this.item_int[15][2]<=0)&&(this.hg.setColor(D.red),this.hg.drawString("戦闘不能",442,30)),this.hg.setColor(D.white),this.hg.drawString("HP  "+this.item_int[15][0]+" / "+this.item_int[15][1],378,48),this.hg.drawString("PP  "+this.item_int[15][2]+" / "+this.item_int[15][3],378,62);break;case 300:this.drawWindowbox(this.x[kh],this.y[kh],this.width[kh],40),this.hg.setColor(D.white),this.hg.drawString(this.item[kh][0],this.x[kh]+6,this.y[kh]+6+12),this.c_fc<=3&&this.gg.drawPT(this.x[kh]+(this.width[kh]-14>>1),this.y[kh]+6+14+0+2,201,0);break;case 310:this.drawWindowbox(this.x[kh],this.y[kh],this.width[kh],58),this.hg.setColor(this.item_color[kh]),this.hg.drawString(this.item[kh][0],this.x[kh]+6,this.y[kh]+6+12),this.hg.setColor(D.white),this.hg.drawString(this.item[kh][1],this.x[kh]+6,this.y[kh]+6+18+12),this.c_fc<=3&&this.gg.drawPT(this.x[kh]+(this.width[kh]-14>>1),this.y[kh]+6+18+14+2,71,0);break;case 320:this.drawWindowbox(this.x[kh],this.y[kh],this.width[kh],66+14*(this.item_kazu[kh]-3)+14),this.hg.setColor(D.magenta),this.hg.drawString(this.item[kh][0],this.x[kh]+6,this.y[kh]+6+12),this.hg.setColor(D.white),this.hg.drawString(this.item[kh][1],this.x[kh]+6,this.y[kh]+6+18+12),this.hg.setColor(D.cyan),this.hg.drawString(this.item[kh][2],this.x[kh]+6,this.y[kh]+6+36+12),this.hg.setColor(D.white);for(var nh=0;nh<=this.item_kazu[3]-4;nh++)this.hg.drawString(this.item[3][nh+3],this.x[3]+6,this.y[3]+6+54+14*nh+12);this.c_fc<=3&&this.gg.drawPT(this.x[kh]+(this.width[kh]-14>>1),this.y[kh]+6+18+36+14*(this.item_kazu[kh]-3)+2,71,0);break;case 321:this.drawWindowbox(this.x[kh],this.y[kh],this.width[kh],108),this.hg.setColor(D.cyan),this.hg.drawString(this.item[kh][0],this.x[kh]+6,this.y[kh]+6+12),this.hg.setColor(D.white),this.hg.drawString(this.item[kh][1],this.x[kh]+6,this.y[kh]+6+18+12),this.hg.setColor(D.magenta),this.hg.drawString(this.item[kh][2],this.x[kh]+6,this.y[kh]+6+36+12),this.hg.setColor(D.white),this.hg.drawString(this.item[kh][3],this.x[kh]+6,this.y[kh]+6+54+12),this.hg.setColor(D.white),this.hg.drawString(this.item[kh][4],this.x[kh]+6,this.y[kh]+6+54+14+12),this.c_fc<=3&&this.gg.drawPT(this.x[kh]+(this.width[kh]-14>>1),this.y[kh]+6+18+36+14+14+2,71,0);break;case 330:if(this.drawWindowbox(this.x[kh],this.y[kh],this.width[kh],30+14*(this.item_kazu[kh]+1)),this.hg.setColor(this.item_color[kh]),this.hg.drawString(this.message[kh],this.x[kh]+6,this.y[kh]+6+12),this.hg.setColor(D.white),1<=this.item_kazu[kh])for(var oh=0;oh<=this.item_kazu[kh]-1;oh++)this.hg.drawString(this.item[kh][oh],this.x[kh]+6,this.y[kh]+6+18+14*oh+12);kh==this.aw?this.c_fc<=3&&this.gg.drawPT(this.x[kh]+(this.width[kh]-14>>1),this.y[kh]+6+18+14*this.item_kazu[kh]+2,201,0):this.gg.drawPT(this.x[kh]+(this.width[kh]-14>>1),this.y[kh]+6+18+14*this.item_kazu[kh]+2,201,0);break;case 350:if(100==this.item_int[kh][0]){this.item_int[kh][0]=55;break}this.drawWindowbox(this.x[kh],this.y[kh],this.width[kh],26),this.hg.setColor(D.white),this.hg.drawString(this.item[kh][0],this.x[kh]+6,this.y[kh]+6+12),this.item_int[kh][0]--,this.item_int[kh][0]<=0&&this.off(kh);break;case 360:if(200==this.item_int[kh][0]){this.drawWindowbox(this.x[kh],this.y[kh],this.width[kh],44),this.hg.setColor(this.item_color[kh]),this.hg.drawString(this.item[kh][0],this.x[kh]+6,this.y[kh]+6+12),this.hg.setColor(D.white),this.hg.drawString(this.item[kh][1],this.x[kh]+6,this.y[kh]+6+18+12);break}if(100==this.item_int[kh][0]){this.item_int[kh][0]=55;break}this.drawWindowbox(this.x[kh],this.y[kh],this.width[kh],44),this.hg.setColor(this.item_color[kh]),this.hg.drawString(this.item[kh][0],this.x[kh]+6,this.y[kh]+6+12),this.hg.setColor(D.white),this.hg.drawString(this.item[kh][1],this.x[kh]+6,this.y[kh]+6+18+12),this.item_int[kh][0]--,this.item_int[kh][0]<=0&&this.off(kh);break;case 400:this.drawWindowbox(this.x[kh],this.y[kh],this.width[kh],128),this.hg.setColor(D.yellow),this.hg.drawString(this.name_crys+"のステータス",this.x[kh]+6,this.y[kh]+6+12),this.hg.setColor(D.white),this.hg.drawString("HP  "+this.item_int[14][0]+" / "+this.item_int[14][1],this.x[kh]+6,this.y[kh]+6+18+0+12),this.hg.drawString("おこづかい  ",this.x[kh]+6,this.y[kh]+6+18+28+12),this.hg.drawString(this.item_int[14][2]+"円",this.x[kh]+6+72,this.y[kh]+6+18+42+12),this.hg.drawString("得点",this.x[kh]+6,this.y[kh]+6+18+56+12),this.hg.drawString(this.item_int[14][3]+"点",this.x[kh]+6+72,this.y[kh]+6+18+70+12),this.c_fc<=3&&this.gg.drawPT(this.x[kh]+(this.width[kh]-14>>1),this.y[kh]+6+18+84+2,71,0);break;case 420:this.drawWindowbox(this.x[kh],this.y[kh],this.width[kh],116),this.hg.setColor(new D(96,96,96)),this.hg.fillRect(this.x[kh]+12,this.y[kh]+12,this.width[kh]-24,48),this.gg.drawPT(this.x[kh]+12+(this.width[kh]-24-32>>1),this.y[kh]+12+8,this.item_int[kh][2],0),this.hg.setColor(D.cyan),this.hg.drawString(this.item[kh][0],this.x[kh]+12,this.y[kh]+64+12),this.hg.setColor(D.white),this.hg.drawString("これからも、よろしくね！",this.x[kh]+12,this.y[kh]+68+14+12),this.c_fc<=3&&this.gg.drawPT(this.x[kh]+(this.width[kh]-14>>1),this.y[kh]+68+28+2,71,0);break;case 410:if(-2==this.item_int[kh][0]){this.drawWindowbox(this.x[kh],this.y[kh],this.width[kh],116),this.hg.setColor(new D(96,96,96)),this.hg.fillRect(this.x[kh]+12,this.y[kh]+12,this.width[kh]-24,48),this.gg.drawPT(this.x[kh]+12+(this.width[kh]-24-32>>1),this.y[kh]+12+8,this.item_int[kh][2],0),this.hg.setColor(D.yellow),this.hg.drawString(this.item[kh][0],this.x[kh]+12,this.y[kh]+64+12),this.hg.setColor(D.white),this.hg.drawString("捕獲不可能",this.x[kh]+12,this.y[kh]+68+14+12),this.c_fc<=3&&this.gg.drawPT(this.x[kh]+(this.width[kh]-14>>1),this.y[kh]+68+28+2,71,0);break}if(this.item_int[kh][0]<0){this.drawWindowbox(this.x[kh],this.y[kh],this.width[kh],116),this.hg.setColor(new D(96,96,96)),this.hg.fillRect(this.x[kh]+12,this.y[kh]+12,this.width[kh]-24,48),this.gg.drawPT(this.x[kh]+12+(this.width[kh]-24-32>>1),this.y[kh]+12+8,this.item_int[kh][2],0),this.hg.setColor(D.yellow),this.hg.drawString(this.item[kh][0],this.x[kh]+12,this.y[kh]+64+12),this.hg.setColor(D.white),this.hg.drawString("現在調査中",this.x[kh]+12,this.y[kh]+68+14+12),this.c_fc<=3&&this.gg.drawPT(this.x[kh]+(this.width[kh]-14>>1),this.y[kh]+68+28+2,71,0);break}this.drawWindowbox(this.x[kh],this.y[kh],this.width[kh],158),this.hg.setColor(new D(96,96,96)),this.hg.fillRect(this.x[kh]+12,this.y[kh]+12,this.width[kh]-24,48),this.gg.drawPT(this.x[kh]+12+(this.width[kh]-24-32>>1),this.y[kh]+12+8,this.item_int[kh][2],0),this.hg.setColor(D.yellow),this.hg.drawString(this.item[kh][0],this.x[kh]+12,this.y[kh]+64+12),this.hg.setColor(D.white),this.hg.drawString("最大HP",this.x[kh]+12,this.y[kh]+68+14+12),this.hg.drawString(""+this.item_int[kh][0],this.x[kh]+56,this.y[kh]+68+28+12),this.hg.drawString("最大PP",this.x[kh]+12,this.y[kh]+68+42+12),this.hg.drawString(""+this.item_int[kh][1],this.x[kh]+56,this.y[kh]+68+56+12),this.c_fc<=3&&this.gg.drawPT(this.x[kh]+(this.width[kh]-14>>1),this.y[kh]+68+70+2,71,0);break;case 500:this.c_fc<=3||0!=this.aw?this.hg.drawImage(this.hi[72],12+28*this.selectedIndex[kh],288,this.ap):this.hg.drawImage(this.hi[73],12+28*this.selectedIndex[kh],288,this.ap);break;case 600:this.drawWindowbox(this.x[kh],this.y[kh],this.width[kh],96);var ph=this.item_int[kh][0],qh=this.x[kh]+(this.width[kh]-64>>1),rh=this.y[kh]+16;this.gg.drawPT(qh,rh,ph,0),this.gg.drawPT(qh+32,rh,ph+1,0),this.gg.drawPT(qh,rh+32,ph+10,0),this.gg.drawPT(qh+32,rh+32,ph+11,0);break;case 610:this.drawWindowbox(this.x[kh],this.y[kh],this.width[kh],30+14*this.item_kazu[kh]),this.hg.setColor(D.yellow),this.hg.drawString("モンスターずかん",this.x[kh]+6,this.y[kh]+6+12),this.hg.setColor(D.white),this.hg.drawString("見つけた数  "+this.item_int[kh][0],this.x[kh]+6,this.y[kh]+6+18+0+12),this.hg.drawString("捕まえた数  "+this.item_int[kh][1],this.x[kh]+6,this.y[kh]+6+18+14+12);break;case 700:if(this.drawWindowbox(this.x[kh],this.y[kh],this.width[kh],30+14*this.item_kazu[kh]+18),this.hg.setColor(D.cyan),this.hg.drawString(this.item[kh][15],this.x[kh]+24,this.y[kh]+6+12),this.hg.setColor(D.white),this.hg.drawString(this.message[kh],this.x[kh]+24,this.y[kh]+6+12+18),1<=this.item_kazu[kh])for(var sh=0;sh<=this.item_kazu[kh]-1;sh++)this.hg.drawString(this.item[kh][sh],this.x[kh]+24,this.y[kh]+6+18+14*sh+12+18);kh==this.aw?this.c_fc<=3&&this.gg.drawPT(this.x[kh]+6,this.y[kh]+6+18+14*this.selectedIndex[kh]+18,200,0):this.gg.drawPT(this.x[kh]+6,this.y[kh]+6+18+14*this.selectedIndex[kh]+18,200,0);break;case 800:this.drawWindowbox(this.x[kh],this.y[kh],this.width[kh],44),this.hg.setColor(D.yellow),this.hg.drawString("おこづかい",this.x[kh]+6,this.y[kh]+6+12),this.hg.setColor(D.white),this.hg.drawString(this.item_int[kh][0]+"円",this.x[kh]+6,this.y[kh]+6+18+12);break;case 900:if(this.drawWindowbox(this.x[kh],this.y[kh],this.width[kh],30+14*this.item_kazu[kh]),this.hg.setColor(D.white),this.hg.drawString(this.message[kh],this.x[kh]+24,this.y[kh]+6+12),1<=this.item_kazu[kh])for(var th=0;th<=this.item_kazu[kh]-1;th++)this.hg.drawString(this.item[kh][th],this.x[kh]+24,this.y[kh]+6+18+14*th+12),this.hg.drawString(""+this.item_int[kh][th],this.x[kh]+24+116,this.y[kh]+6+18+14*th+12);kh==this.aw?this.c_fc<=3&&this.gg.drawPT(this.x[kh]+6,this.y[kh]+6+18+14*this.selectedIndex[kh],200,0):this.gg.drawPT(this.x[kh]+6,this.y[kh]+6+18+14*this.selectedIndex[kh],200,0);break;case 1e3:this.drawWindowbox(this.x[kh],this.y[kh],this.width[kh],98),this.hg.setColor(new D(96,96,96)),this.hg.fillRect(this.x[kh]+12,this.y[kh]+12,248,48);for(var uh=0;uh<=5;uh++)0<this.item_int[kh][uh]&&this.gg.drawPT(this.x[kh]+12+8+40*uh,this.y[kh]+12+8,this.item_int[kh][uh],0);this.hg.setColor(D.white),this.hg.drawString("みんな、元気になった。",this.x[kh]+12,this.y[kh]+64+12),this.c_fc<=3&&this.gg.drawPT(this.x[kh]+(this.width[kh]-14>>1),this.y[kh]+64+14+2,71,0)}}},F.prototype.drawWindowbox=function(vh,wh,xh,yh){this.hg.setColor(D.white),this.hg.fillRect(vh,wh,xh,yh),this.hg.setColor(D.black),this.hg.fillRect(vh+2,wh+2,xh-4,yh-4)},G.prototype.start=function(){this.ml_mode=50},G.prototype.paraInt=function(Ih){var Kh,Jh=this.gg.ap.getParameter(Ih);return Kh=parseInt(Jh),isNaN(Kh)&&(Kh=-1),Kh},G.prototype.addHighscoreEvent=function(Lh){return this.heh=Lh,!0},G.prototype.sendHighscore=function(){if("[object Function]"==Object.prototype.toString.call(this.heh)){var Nh=this.highscore;Nh<this.score&&(Nh=this.score),this.heh(Nh)}},G.prototype.moveGameCounter=function(){switch(this.g_c3){case 0:this.g_c3=1,this.g_c1=1,this.g_c2=1,this.g_ac=0,this.g_ac2=0;break;case 1:this.g_c3=2,this.g_c1=0,this.g_c2=2,this.g_ac=1,this.g_ac2=1;break;case 2:this.g_c3=3,this.g_c1=1,this.g_c2=3,this.g_ac=1,this.g_ac2=1;break;case 3:this.g_c3=4,this.g_c1=0,this.g_c2=0,this.g_ac=0,this.g_ac2=2;break;case 4:this.g_c3=5,this.g_c1=1,this.g_c2=1,this.g_ac=0,this.g_ac2=2;break;case 5:this.g_c3=6,this.g_c1=0,this.g_c2=2,this.g_ac=1,this.g_ac2=3;break;case 6:this.g_c3=7,this.g_c1=1,this.g_c2=3,this.g_ac=1,this.g_ac2=3;break;case 7:this.g_c3=0,this.g_c1=0,this.g_c2=0,this.g_ac=0,this.g_ac2=0}},G.prototype.ranInit=function(){this.ran_seed=4294967296*c.random()|0},G.prototype.ranInt=function(Oh){var Ph=this.ran_seed;return Ph=((Ph=(Ph^Ph<<9)>>>0)^Ph>>>11)>>>0,this.ran_seed=Ph=(Ph^Ph<<19)>>>0,2.3283064365386963e-10*Ph*Oh|0},G.prototype.drawScore=function(){if(this.score_v)if(0<this.time_max){var Xh,Vh=s(this.time/1e3),Wh=14+this.moji_size;this.gg.os_g.setColor(this.gamecolor_score),this.gg.os_g.setFont(new E("Dialog",1,this.moji_size)),Xh=this.j_left_shoki<=0&&this.j_left<=0?this.moji_score+" "+this.score+"    "+this.moji_highscore+" "+this.highscore+this.moji_time+Vh:(Xh=this.moji_score+" "+this.score+"    "+this.moji_highscore+" "+this.highscore+this.moji_left+this.j_left)+this.moji_time+Vh,this.gg.os_g.drawString(Xh,40,Wh)}else{var Zh,Yh=14+this.moji_size;this.gg.os_g.setColor(this.gamecolor_score),this.gg.os_g.setFont(new E("Dialog",1,this.moji_size)),Zh=this.j_left_shoki<=0&&this.j_left<=0?this.moji_score+" "+this.score+"    "+this.moji_highscore+" "+this.highscore:this.moji_score+" "+this.score+"    "+this.moji_highscore+" "+this.highscore+this.moji_left+this.j_left,this.gg.os_g.drawString(Zh,40,Yh)}else if(0<this.time_max){var Sh,Qh=s(this.time/1e3),Rh=14+this.moji_size;this.gg.os_g.setColor(this.gamecolor_score),this.gg.os_g.setFont(new E("Dialog",1,this.moji_size)),Sh=this.j_left_shoki<=0&&this.j_left<=0?this.moji_time+Qh:(Sh=this.moji_left+this.j_left)+this.moji_time+Qh,this.gg.os_g.drawString(Sh,40,Rh)}else{var Uh,Th=14+this.moji_size;this.gg.os_g.setColor(this.gamecolor_score),this.gg.os_g.setFont(new E("Dialog",1,this.moji_size)),Uh=this.j_left_shoki<=0&&this.j_left<=0?"":this.moji_left+this.j_left,this.gg.os_g.drawString(Uh,40,Th)}},G.prototype.drawScore2=function(){if(this.score_v){var bi,ai=14+this.moji_size;this.gg.os_g.setColor(this.gamecolor_score),this.gg.os_g.setFont(new E("Dialog",1,this.moji_size)),bi=this.j_left_shoki<=0&&this.j_left<=0?this.moji_score+" "+this.score+"    "+this.moji_highscore+" "+this.highscore:this.moji_score+" "+this.score+"    "+this.moji_highscore+" "+this.highscore+this.moji_left+this.j_left,this.gg.os_g.drawString(bi,40,ai)}else{var _h,$h=14+this.moji_size;this.gg.os_g.setColor(this.gamecolor_score),this.gg.os_g.setFont(new E("Dialog",1,this.moji_size)),_h=this.j_left_shoki<=0&&this.j_left<=0?"":this.moji_left+this.j_left,this.gg.os_g.drawString(_h,40,$h)}},G.prototype.addScore=function(ci){this.score+=ci,0<this.score_1up_1&&this.score>=this.score_1up_1&&(this.j_left++,this.score_1up_1=0),0<this.score_1up_2&&this.score>=this.score_1up_2&&(this.j_left++,this.score_1up_2=0)},G.prototype.addSerifu=function(di,ei,fi){for(var gi=1;gi<=fi;gi++){var ii,hi=this.gg.ap.getParameter("serifu"+ei+"-"+gi);ii=parseInt(hi),isNaN(ii)&&(ii=-1),0!=ii&&this.km.addItem(di,hi)}},G.prototype.mL100=function(){if(this.moveGameCounter(),this.aMove(),100==this.co_j.c?this.jM100():this.jMove(),0<this.sl_step&&(10==this.sl_step||11==this.sl_step?(this.ks_wx+=this.sl_speed,this.ks_wx>this.maps.wx_max&&(this.ks_wx=this.maps.wx_max),this.maps.wx=this.ks_wx,this.maps.wy=this.ks_wy,300!=this.co_j.c&&310!=this.co_j.c&&(this.co_j.x<this.ks_wx-16?(this.co_j.x=this.ks_wx-16,this.co_j.vx<0&&(this.co_j.vx=0),(20<=this.maps.getBGCode(this.co_j.x+15,this.co_j.y)||20<=this.maps.getBGCode(this.co_j.x+15,this.co_j.y+31))&&100<=this.co_j.c&&this.co_j.c<200&&(this.co_j.c=210,this.co_j.y=this.maps.wy-64,this.co_j.c1=0,this.j_jet_c=0,this.j_v_c=0)):this.co_j.x>this.ks_wx+496&&(this.co_j.x=this.ks_wx+496,(this.co_j.vx=0)<this.co_j.vx&&(this.co_j.vx=0))),11==this.sl_step&&this.maps.wx>=this.sl_wx&&(this.maps.wx=this.sl_wx,this.sl_wy=this.ks_wy,this.sl_step=3)):1==this.sl_step?this.maps.wx>=this.sl_wx&&(this.maps.wx=this.sl_wx,this.sl_step=2):2==this.sl_step?(this.maps.wx=this.sl_wx,this.co_j.x<this.sl_wx-16?(this.co_j.x=this.sl_wx-16,this.co_j.vx=0):this.co_j.x>this.sl_wx+496&&(this.co_j.x=this.sl_wx+496,this.co_j.vx=0),this.maps.wy>=this.sl_wy&&(this.maps.wy=this.sl_wy,this.sl_step=3)):(this.maps.wx=this.sl_wx,this.maps.wy=this.sl_wy,this.co_j.x<this.sl_wx-16?(this.co_j.x=this.sl_wx-16,this.co_j.vx=0):this.co_j.x>this.sl_wx+496&&(this.co_j.x=this.sl_wx+496,this.co_j.vx=0))),0<this.jm_kazu&&this.jmMove(),this.tMove(),0<this.co_b.c&&this.bMove(),0<this.m_kazu&&this.mMove(),0<this.time_max&&this.stage_cc<=0&&(this.time-=70,this.time<0&&(this.time=0,this.j_left--,this.j_left<0?(this.j_left=0,this.ml_mode=300):this.ml_mode=90)),0<this.stage_cc&&(this.stage_cc++,28<this.stage_cc&&(2==this.stage_select?4<=this.stage?this.ml_mode=400:(0<this.time_max&&this.addScore(s(this.time/1e3)),this.ml_mode=260):this.stage>=this.stage_max?this.ml_mode=400:(this.stage++,0<this.time_max&&this.addScore(s(this.time/1e3)),this.ml_mode=90))),this.drawGamescreen(),this.drawScore(),0<this.j_jet_fuel){var ji=this.moji_jet+" "+this.j_jet_fuel;0<this.j_gr_kazu&&(ji=1==this.j_gr_kazu?ji+"    "+this.moji_grenade:ji+"    "+this.moji_grenade+" "+this.j_gr_kazu),this.hg.drawString(ji,40,287+this.moji_size)}else 0<this.j_gr_kazu&&(1==this.j_gr_kazu?this.hg.drawString(this.moji_grenade,40,287+this.moji_size):this.hg.drawString(this.moji_grenade+" "+this.j_gr_kazu,40,287+this.moji_size));84==this.gk.key_code&&(this.gk.key_code=0,this.ml_mode=50)},G.prototype.mainLoop=function(){switch(this.ml_mode){default:break;case 50:this.gg.drawListImage(0,0,0),(0<this.score||0<this.highscore)&&this.drawScore(),this.gm.button_f||this.gk.tr1_f||(this.ml_mode=60,this.g_c1=0,this.sendHighscore());break;case 60:if(0==this.g_c1?118==this.gk.key_char&&(this.g_c1=1):1==this.g_c1?101==this.gk.key_char?this.g_c1=2:118!=this.gk.key_char&&(this.g_c1=0):2==this.g_c1&&(114==this.gk.key_char?this.ml_mode=1e3:101!=this.gk.key_char&&(this.g_c1=0)),!this.gm.button_f&&!this.gk.tr1_f)break;if(2==this.stage_select){this.init2(),this.ig.worldInit(),this.gg.os_g.setColor(D.black),this.gg.os_g.fillRect(0,0,this.gg.di.width,this.gg.di.height),this.ml_mode=200;break}this.init2(),this.init3(),this.gg.drawListImage(0,0,0),(0<this.score||0<this.highscore)&&this.drawScore(),this.j_left<=0?this.ml_mode=100:this.ml_mode=90;break;case 80:this.init2(),this.init3(),this.gg.drawListImage(0,0,0),(0<this.score||0<this.highscore)&&this.drawScore(),this.j_left<=0?this.ml_mode=100:this.ml_mode=90;break;case 90:this.init3(),this.gg.os_g.setColor(this.gamecolor_kaishi),this.gg.os_g.fillRect(0,0,this.gg.di.width,this.gg.di.height),this.stage>=this.stage_max?(this.gg.drawPT(160,144,52,0),this.gg.drawPT(192,144,53,0),this.gg.drawPT(224,144,54,0),this.gg.drawPT(256,144,55,0),this.gg.drawPT(288,144,56,0),this.gg.drawPT(320,144,57,0)):(this.gg.drawPT(192,144,70,0),this.gg.drawPT(224,144,71,0),this.gg.drawPT(256,144,72,0),this.stage>=this.stage_max&&this.gg.drawPT(288,144,75,0),3==this.stage?this.gg.drawPT(288,144,75,0):2==this.stage?this.gg.drawPT(288,144,74,0):this.gg.drawPT(288,144,73,0)),this.drawScore(),this.ml_mode=91,this.ml_mode_c=0;break;case 91:this.ml_mode_c++,35<this.ml_mode_c&&(this.ml_mode=100),84==this.gk.key_code&&(this.gk.key_code=0,this.ml_mode=50);break;case 95:switch(this.stage=this.ig.checkStage(),this.init3(),this.ig.shop_kattaitem){case 7:default:break;case 0:this.j_gr_kazu=3;break;case 1:this.j_jet_fuel=80;break;case 2:this.j_drell_f=!0;break;case 3:this.j_helm_f=!0;break;case 4:this.j_tail_f=!0;break;case 5:this.j_v_c=150,this.j_v_kakudo=0;break;case 6:this.j_fire_f=!0;break;case 8:0<this.time_max&&(this.time+=3e4)}this.gg.os_g.setColor(D.black),this.gg.os_g.fillRect(0,0,this.gg.di.width,this.gg.di.height),this.drawScore(),this.ml_mode=96,this.ml_mode_c=0;break;case 96:this.ml_mode_c++,8<this.ml_mode_c&&(this.ml_mode=100),84==this.gk.key_code&&(this.gk.key_code=0,this.ml_mode=50);break;case 200:this.ig.drawMap(),this.ig.mainProgram(),this.time=0,this.drawScore2(),110==this.ig.mp_mode&&(1<=this.ig.dokan_khID?this.ml_mode=230:this.ml_mode=95),84==this.gk.key_code&&(this.gk.key_code=0,this.ml_mode=50);break;case 230:this.gg.os_g.setColor(D.black),this.gg.os_g.fillRect(0,0,this.gg.di.width,this.gg.di.height),this.drawScore2(),this.ml_mode=231,this.ml_mode_c=0;break;case 231:var ki;if(this.ml_mode_c++,5==this.ml_mode_c)ki=2==this.ig.dokan_khID?this.gg.ap.getParameter("url2"):3==this.ig.dokan_khID?this.gg.ap.getParameter("url3"):4==this.ig.dokan_khID?this.gg.ap.getParameter("url4"):this.gg.ap.getParameter("url1"),location.href=ki;else 80<this.ml_mode_c&&(this.ml_mode=50);84==this.gk.key_code&&(this.gk.key_code=0,this.ml_mode=50);break;case 250:this.addScore(0),this.ig.worldInit2(),this.ml_mode=251,this.ml_mode_c=0,this.gg.os_g.setColor(D.black),this.gg.os_g.fillRect(0,0,this.gg.di.width,this.gg.di.height),this.drawScore();break;case 251:this.ml_mode_c++,8<this.ml_mode_c&&(this.ml_mode=200),84==this.gk.key_code&&(this.gk.key_code=0,this.ml_mode=50);break;case 260:this.addScore(0),this.ig.worldInit3(),this.ml_mode=261,this.ml_mode_c=0,this.gg.os_g.setColor(D.black),this.gg.os_g.fillRect(0,0,this.gg.di.width,this.gg.di.height),this.drawScore();break;case 261:this.ml_mode_c++,8<this.ml_mode_c&&(this.ml_mode=200),84==this.gk.key_code&&(this.gk.key_code=0,this.ml_mode=50);break;case 300:this.gg.setBackcolor(D.black),this.gg.fill(),this.gg.drawListImage(0,0,2),this.drawScore(),this.sendHighscore(),this.ml_mode=310,this.ml_mode_c=0;break;case 310:this.ml_mode_c++,45<this.ml_mode_c&&(this.ml_mode=50),84==this.gk.key_code&&(this.gk.key_code=0,this.ml_mode=50);break;case 400:this.gg.drawListImage(0,0,1),0<this.time_max&&this.addScore(s(this.time/1e3)),this.drawScore(),this.sendHighscore(),this.ml_mode=410,this.ml_mode_c=0;break;case 410:this.ml_mode_c++,120<this.ml_mode_c&&(this.ml_mode=50),84==this.gk.key_code&&(this.gk.key_code=0,this.ml_mode=50);break;case 500:this.gg.setBackcolor(D.black),this.gg.fill(),this.gg.drawListImage(0,0,0),(0<this.score||0<this.highscore)&&this.drawScore(),this.ml_mode=50,this.ml_mode=50;break;case 1e3:this.gg.setBackcolor(D.black),this.gg.fill(),this.hg.setFont(new E("Dialog",0,46)),this.hg.setColor(D.white),this.hg.setFont(new E("Dialog",0,20)),this.hg.drawString("Title        MASAO CONSTRUCTION",50,50),this.hg.drawString("Version      2.8",50,80),this.hg.drawString("Language     Java2  SDK 1.3.1",50,110),this.hg.drawString("OS           WindowsXP",50,140),this.hg.drawString("Browser      InternetExplorer 6.0",50,170),this.hg.drawString("Programing   Fukuda Naoto",50,200),this.hg.drawString("Date         2003/6",50,230),this.ml_mode=1010,this.ml_mode_c=0;break;case 1010:this.ml_mode_c++,40<this.ml_mode_c&&(this.ml_mode=50)}},G.prototype.init1=function(){this.time_max=this.paraInt("time_max");var li=this.paraInt("score_v");this.score_v=2!=li,li=this.paraInt("backcolor_red");var mi=this.paraInt("backcolor_green"),ni=this.paraInt("backcolor_blue");li<0?li=0:255<li&&(li=255),mi<0?mi=0:255<mi&&(mi=255),ni<0?ni=0:255<ni&&(ni=255),this.gamecolor_back=new D(li,mi,ni),(li=this.paraInt("backcolor_red_s"))<0?li=0:255<li&&(li=255),(mi=this.paraInt("backcolor_green_s"))<0?mi=0:255<mi&&(mi=255),(ni=this.paraInt("backcolor_blue_s"))<0?ni=0:255<ni&&(ni=255),this.gamecolor_back_s=new D(li,mi,ni),(li=this.paraInt("backcolor_red_t"))<0?li=0:255<li&&(li=255),(mi=this.paraInt("backcolor_green_t"))<0?mi=0:255<mi&&(mi=255),(ni=this.paraInt("backcolor_blue_t"))<0?ni=0:255<ni&&(ni=255),this.gamecolor_back_t=new D(li,mi,ni),(li=this.paraInt("backcolor_red_f"))<0?li=0:255<li&&(li=255),(mi=this.paraInt("backcolor_green_f"))<0?mi=0:255<mi&&(mi=255),(ni=this.paraInt("backcolor_blue_f"))<0?ni=0:255<ni&&(ni=255),this.gamecolor_back_f=new D(li,mi,ni),(li=this.paraInt("kaishi_red"))<0?li=0:255<li&&(li=255),(mi=this.paraInt("kaishi_green"))<0?mi=0:255<mi&&(mi=255),(ni=this.paraInt("kaishi_blue"))<0?ni=0:255<ni&&(ni=255),this.gamecolor_kaishi=new D(li,mi,ni),(li=this.paraInt("scorecolor_red"))<0?li=0:255<li&&(li=255),(mi=this.paraInt("scorecolor_green"))<0?mi=0:255<mi&&(mi=255),(ni=this.paraInt("scorecolor_blue"))<0?ni=0:255<ni&&(ni=255),this.gamecolor_score=new D(li,mi,ni),(li=this.paraInt("grenade_red1"))<0?li=0:255<li&&(li=255),(mi=this.paraInt("grenade_green1"))<0?mi=0:255<mi&&(mi=255),(ni=this.paraInt("grenade_blue1"))<0?ni=0:255<ni&&(ni=255),this.gamecolor_grenade1=new D(li,mi,ni),(li=this.paraInt("grenade_red2"))<0?li=0:255<li&&(li=255),(mi=this.paraInt("grenade_green2"))<0?mi=0:255<mi&&(mi=255),(ni=this.paraInt("grenade_blue2"))<0?ni=0:255<ni&&(ni=255),this.gamecolor_grenade2=new D(li,mi,ni),(li=this.paraInt("firebar_red1"))<0?li=0:255<li&&(li=255),(mi=this.paraInt("firebar_green1"))<0?mi=0:255<mi&&(mi=255),(ni=this.paraInt("firebar_blue1"))<0?ni=0:255<ni&&(ni=255),this.gamecolor_firebar1=new D(li,mi,ni),(li=this.paraInt("firebar_red2"))<0?li=0:255<li&&(li=255),(mi=this.paraInt("firebar_green2"))<0?mi=0:255<mi&&(mi=255),(ni=this.paraInt("firebar_blue2"))<0?ni=0:255<ni&&(ni=255),this.gamecolor_firebar2=new D(li,mi,ni),(li=this.paraInt("mizunohadou_red"))<0?li=0:255<li&&(li=255),(mi=this.paraInt("mizunohadou_green"))<0?mi=0:255<mi&&(mi=255),(ni=this.paraInt("mizunohadou_blue"))<0?ni=0:255<ni&&(ni=255),this.gamecolor_mizunohadou=new D(li,mi,ni),this.moji_score=this.gg.ap.getParameter("moji_score"),this.moji_highscore=this.gg.ap.getParameter("moji_highscore"),this.moji_time=this.gg.ap.getParameter("moji_time"),this.moji_time="    "+this.moji_time+" ",this.moji_jet=this.gg.ap.getParameter("moji_jet"),this.moji_grenade=this.gg.ap.getParameter("moji_grenade"),this.moji_left=this.gg.ap.getParameter("moji_left"),this.moji_left="    "+this.moji_left+" ",this.moji_size=this.paraInt("moji_size"),this.moji_size<10?this.moji_size=10:30<this.moji_size&&(this.moji_size=30),this.j_left_shoki=this.paraInt("jibun_left_shoki"),this.j_left_shoki<1&&(this.j_left_shoki=1),this.j_left_shoki--,this.stage_max=this.paraInt("stage_max"),this.stage_max<1?this.stage_max=1:4<this.stage_max&&(this.stage_max=4),2==this.stage_select&&(this.stage_max=4),this.stage_kaishi=this.paraInt("stage_kaishi"),this.stage_kaishi<1&&(this.stage_kaishi=1),this.stage_kaishi>this.stage_max&&(this.stage_kaishi=this.stage_max),this.score_1up_1_para=this.paraInt("score_1up_1"),(this.score_1up_1_para<0||this.stage_max<=1)&&(this.score_1up_1_para=0),this.score_1up_2_para=this.paraInt("score_1up_2"),(this.score_1up_2_para<0||this.stage_max<=1)&&(this.score_1up_2_para=0),this.j_tail_type=this.paraInt("j_tail_type"),(this.j_tail_type<1||3<this.j_tail_type)&&(this.j_tail_type=1);var oi=this.paraInt("j_tail_hf");this.j_tail_hf=2==oi,this.grenade_type=this.paraInt("grenade_type"),(this.grenade_type<1||6<this.grenade_type)&&(this.grenade_type=1),this.suberuyuka_hkf=this.paraInt("suberuyuka_hkf"),2==this.suberuyuka_hkf?this.suberuyuka_hkf=2:this.suberuyuka_hkf=1,oi=this.paraInt("j_fire_mkf"),this.j_fire_mkf=2==oi,oi=this.paraInt("dengeki_mkf"),this.dengeki_mkf=2==oi,oi=this.paraInt("yachamo_kf"),this.yachamo_cf=2==oi,oi=this.paraInt("airms_kf"),this.airms_kf=2==oi,this.ugokuyuka1_type=this.paraInt("ugokuyuka1_type"),(this.ugokuyuka1_type<1||7<this.ugokuyuka1_type)&&(this.ugokuyuka1_type=1),this.ugokuyuka2_type=this.paraInt("ugokuyuka2_type"),(this.ugokuyuka2_type<1||7<this.ugokuyuka2_type)&&(this.ugokuyuka2_type=1),this.ugokuyuka3_type=this.paraInt("ugokuyuka3_type"),(this.ugokuyuka3_type<1||7<this.ugokuyuka3_type)&&(this.ugokuyuka3_type=1),this.boss_type=this.paraInt("boss_type"),(this.boss_type<1||4<this.boss_type)&&(this.boss_type=1),this.boss2_type=this.paraInt("boss2_type"),(this.boss2_type<1||2<this.boss2_type)&&(this.boss2_type=1),this.boss3_type=this.paraInt("boss3_type"),(this.boss3_type<1||4<this.boss3_type)&&(this.boss3_type=1),this.dokan_mode=this.paraInt("dokan_mode"),(this.dokan_mode<1||2<this.dokan_mode)&&(this.dokan_mode=1),this.mes1_name=this.gg.ap.getParameter("mes1_name"),this.mes2_name=this.gg.ap.getParameter("mes2_name"),this.shop_name=this.gg.ap.getParameter("shop_name"),this.setumei_name=this.gg.ap.getParameter("setumei_name"),this.door_score=this.paraInt("door_score"),this.door_score<10&&(this.door_score=10),this.shop_item_name[0]=this.gg.ap.getParameter("shop_item_name1"),this.shop_item_name[1]=this.gg.ap.getParameter("shop_item_name2"),this.shop_item_name[2]=this.gg.ap.getParameter("shop_item_name3"),this.shop_item_name[3]=this.gg.ap.getParameter("shop_item_name4"),this.shop_item_name[4]=this.gg.ap.getParameter("shop_item_name5"),this.shop_item_name[5]=this.gg.ap.getParameter("shop_item_name6"),this.shop_item_name[6]=this.gg.ap.getParameter("shop_item_name7"),this.shop_item_name[7]=this.gg.ap.getParameter("shop_item_name8"),this.shop_item_name[8]=this.gg.ap.getParameter("shop_item_name9");for(var pi=0;pi<=8;pi++){var qi=pi+1;(qi=this.paraInt("shop_item_teika"+qi))<0&&(qi=0),this.shop_item_teika[pi]=qi}},G.prototype.init2=function(){this.score>this.highscore&&(this.highscore=this.score),this.j_left=this.j_left_shoki,this.score_1up_1=this.score_1up_1_para,this.score_1up_2=this.score_1up_2_para;for(var ri=0;ri<=2;ri++)this.stage_1up_f[ri]=!0;this.gk.key_code=0,this.score=0,this.stage=this.stage_kaishi,0<this.time_max?this.time=1e3*this.time_max+1e3-70:this.time=0},G.prototype.init3=function(){this.sendHighscore(),this.g_c1=0,this.g_c2=0,this.g_c3=0,this.g_ac=0,this.g_ac2=0,this.stage_cc=0,this.co_j.init(),this.co_j.c=100,this.co_j.x=100,this.co_j.y=100,this.co_j.pt=100,this.co_j.muki=1,this.co_j.jimen_f=!1,this.j_hashiru_f=!1,this.j_jump_level=0,this.j_jump_type=0,this.j_a_id=-1,this.tr1_c=0,this.tr2_c=0,this.gk.left_c=0,this.gk.right_c=0,this.left_dcc=0,this.right_dcc=0,this.ochiru_y=9999,this.j_fire_f=!1,this.j_v_c=0,this.j_v_kakudo=0,this.j_jet_c=0,this.j_jet_kf=!1,this.j_jet_fuel=0,this.j_helm_f=!1,this.j_drell_f=!1,this.j_tail_f=!1,this.j_tail_ac=0,this.j_gr_kazu=0,this.j_mizu_f=!1,this.j_mizu_ac=0,this.j_mizu_awa_c=0,this.j_jdai_f=!1,this.hitokoto_c=0,this.hitokoto_num=1,this.j_tail_hf&&(this.j_tail_f=!0);for(var si=0;si<=5;si++)this.j_zan_x[si]=0,this.j_zan_y[si]=0,this.j_zan_pt[si]=0,this.j_zan_pth[si]=0;var ti;this.j_zan_p=0,this.j_zan_c=0,this.j_zan_nagasa=0,this.j_zan_f=!1,this.sl_step=0,this.sl_speed=0,this.sl_wx=0,this.sl_wy=0,2==(ti=2==this.stage?this.paraInt("scroll_mode_s"):3==this.stage?this.paraInt("scroll_mode_t"):4==this.stage?this.paraInt("scroll_mode_f"):this.paraInt("scroll_mode"))?(this.sl_step=10,this.ks_wx=32,this.ks_wy=960,this.sl_speed=2):3==ti&&(this.sl_step=10,this.ks_wx=32,this.ks_wy=960,this.sl_speed=4);for(var ui=0;ui<=31;ui++){this.co_a[ui].init();for(var vi=0;vi<=3;vi++)this.vo_x[ui][vi]=0,this.vo_y[ui][vi]=0}this.a_kazu=-1,this.a_hf=!1;for(var wi=0;wi<=129;wi++)this.co_t[wi].init();this.t_kazu=-1,this.co_b.init();for(var xi=this.boss_kijyun_y=0;xi<=23;xi++)this.co_m[xi].init();for(var yi=this.m_kazu=0;yi<=1;yi++)this.co_jm[yi].init();for(var zi=this.jm_kazu=0;zi<=63;zi++)this.co_h[zi].init();0<this.time_max?this.time=1e3*this.time_max+1e3-70:this.time=0,this.mapsMakeStageData(100+this.stage),10!=this.sl_step&&11!=this.sl_step||(this.ks_wx=this.maps.wx,this.ks_wx<=128&&(this.ks_wx=32)),this.maps.drawMap(this.maps.wx,this.maps.wy)},G.prototype.mapsMakeStageData=function(Ai){this.maps.init();var Bi=this.maps.map_string;this.maps.wx=32,this.maps.wy=32,this.maps.wx_mini=32,this.maps.wy_mini=320,this.maps.wx_max=5856,this.maps.wy_max=6048;switch(this.gg.setBackcolor(D.blue),Ai){default:break;case 101:this.maps.setBank(0),this.gg.setBackcolor(this.gamecolor_back),this.maps.wx_max=5280,this.maps.wy_max=960;for(var Di=0;Di<=29;Di++){var Ei="."+this.gg.ap.getParameter("map0-"+Di);Ei+=this.gg.ap.getParameter("map1-"+Di),Ei+=this.gg.ap.getParameter("map2-"+Di),Bi[Di+10]=Ei}break;case 102:this.maps.setBank(0),this.gg.setBackcolor(this.gamecolor_back_s),this.maps.wx_max=5280,this.maps.wy_max=960;for(var Fi=0;Fi<=29;Fi++){var Gi="."+this.gg.ap.getParameter("map0-"+Fi+"-s");Gi+=this.gg.ap.getParameter("map1-"+Fi+"-s"),Gi+=this.gg.ap.getParameter("map2-"+Fi+"-s"),Bi[Fi+10]=Gi}break;case 103:this.maps.setBank(0),this.gg.setBackcolor(this.gamecolor_back_t),this.maps.wx_max=5280,this.maps.wy_max=960;for(var Hi=0;Hi<=29;Hi++){var Ii="."+this.gg.ap.getParameter("map0-"+Hi+"-t");Ii+=this.gg.ap.getParameter("map1-"+Hi+"-t"),Ii+=this.gg.ap.getParameter("map2-"+Hi+"-t"),Bi[Hi+10]=Ii}break;case 104:this.maps.setBank(0),this.gg.setBackcolor(this.gamecolor_back_f),this.maps.wx_max=5280,this.maps.wy_max=960;for(var Ji=0;Ji<=29;Ji++){var Ki="."+this.gg.ap.getParameter("map0-"+Ji+"-f");Ki+=this.gg.ap.getParameter("map1-"+Ji+"-f"),Ki+=this.gg.ap.getParameter("map2-"+Ji+"-f"),Bi[Ji+10]=Ki}}for(var Li=0;Li<this.maps.height;Li++)if(Bi[Li].length<this.maps.width)for(var Ni=Bi[Li].length;Ni<this.maps.width;Ni++)Bi[Li]+=".";for(var Pi=0;Pi<this.maps.height;Pi++)for(var Qi=0;Qi<this.maps.width;Qi++){var Ri=Bi[Pi].charAt(Qi),Si=-1;"."!=Ri&&("1"==Ri?Si=1:"2"==Ri?Si=2:"3"==Ri?Si=3:"4"==Ri?Si=4:"5"==Ri?Si=5:"6"==Ri?Si=6:"7"==Ri?Si=7:"8"==Ri?Si=8:"9"==Ri?Si=9:"a"==Ri?Si=20:"b"==Ri?Si=21:"c"==Ri?Si=22:"d"==Ri?Si=23:"e"==Ri?Si=24:"f"==Ri?Si=25:"g"==Ri?Si=26:"h"==Ri?Si=27:"i"==Ri?Si=28:"j"==Ri?Si=29:"k"==Ri?(Si=40,this.hSet(Qi,Pi,100)):"l"==Ri?(Si=40,this.hSet(Qi,Pi,200)):"m"==Ri?(Si=40,this.hSet(Qi,Pi,300)):"n"==Ri?(Si=40,this.hSet(Qi,Pi,400)):"o"==Ri?(Si=40,this.hSet(Qi,Pi,500)):"p"==Ri?(Si=40,this.hSet(Qi,Pi,600)):"q"==Ri?(Si=40,this.hSet(Qi,Pi,700)):"r"==Ri?(Si=40,this.hSet(Qi,Pi,800)):"s"==Ri?(Si=40,this.hSet(Qi,Pi,900)):"t"==Ri?(Si=40,this.hSet(Qi,Pi,1e3)):"u"==Ri?(this.aSet(32*Qi,32*Pi,300,32*Qi),4==this.maps.map_bg[Qi-1][Pi]&&(Si=4)):"v"==Ri?(this.aSet(32*Qi,32*Pi,310,32*Qi),4==this.maps.map_bg[Qi-1][Pi]&&(Si=4)):"w"==Ri?(this.aSet(32*Qi,32*Pi,320,32*Qi),4==this.maps.map_bg[Qi-1][Pi]&&(Si=4)):"x"==Ri?(this.aSet(32*Qi,32*Pi,330,32*Qi),4==this.maps.map_bg[Qi-1][Pi]&&(Si=4)):"y"==Ri?this.stage_1up_f[this.stage-1]?(Si=40,this.hSet(Qi,Pi,1100)):Si=41:"z"==Ri?Si=69:"+"==Ri?(this.aSet(32*Qi,32*Pi,80,32*Qi),4==this.maps.map_bg[Qi-1][Pi]&&(Si=4)):"-"==Ri?(this.aSet(32*Qi,32*Pi,81,32*Qi),4==this.maps.map_bg[Qi-1][Pi]&&(Si=4)):"*"==Ri?(this.aSet(32*Qi,32*Pi,82,32*Qi),4==this.maps.map_bg[Qi-1][Pi]&&(Si=4)):"/"==Ri?(this.aSet(32*Qi,32*Pi,83,32*Qi),4==this.maps.map_bg[Qi-1][Pi]&&(Si=4)):"A"==Ri?(this.co_j.x=32*Qi,this.co_j.y=32*Pi,4==this.maps.map_bg[Qi-1][Pi]&&(Si=4)):"B"==Ri?(this.tSet(32*Qi,32*Pi,100,32*Qi-512-32),4==this.maps.map_bg[Qi-1][Pi]&&(Si=4)):"C"==Ri?(this.tSet(32*Qi,32*Pi,110,32*Qi-512-32),4==this.maps.map_bg[Qi-1][Pi]&&(Si=4)):"D"==Ri?(this.tSet(32*Qi,32*Pi,110,32*Qi-512-32),this.tSet(32*Qi+75,32*Pi,110,32*Qi-512-32),this.tSet(32*Qi+150,32*Pi,110,32*Qi-512-32),4==this.maps.map_bg[Qi-1][Pi]&&(Si=4)):"E"==Ri?(this.tSet(32*Qi,32*Pi,200,32*Qi-512-32),4==this.maps.map_bg[Qi-1][Pi]&&(Si=4)):"F"==Ri?(this.tSet(32*Qi,32*Pi,300,32*Qi-512-32),4==this.maps.map_bg[Qi-1][Pi]&&(Si=4)):"G"==Ri?(this.tSet(32*Qi,32*Pi,400,32*Qi-512-32),4==this.maps.map_bg[Qi-1][Pi]&&(Si=4)):"H"==Ri?(this.tSet(32*Qi,32*Pi,500,32*Qi-512-32),4==this.maps.map_bg[Qi-1][Pi]&&(Si=4)):"I"==Ri?(this.tSet(32*Qi,32*Pi,510,32*Qi-512-32),4==this.maps.map_bg[Qi-1][Pi]&&(Si=4)):"J"==Ri?(this.tSet(32*Qi,32*Pi,510,32*Qi-512-32-32),this.tSet(32*Qi+80,32*Pi-40,510,32*Qi-512-32-32),this.tSet(32*Qi+140,32*Pi+38,510,32*Qi-512-32-32),4==this.maps.map_bg[Qi-1][Pi]&&(Si=4)):"K"==Ri?(2==this.ugokuyuka1_type?this.aSet(32*Qi,32*Pi,500,32*Qi):3==this.ugokuyuka1_type?this.aSet(32*Qi,32*Pi,510,32*Qi):4==this.ugokuyuka1_type?this.aSet(32*Qi,32*Pi,120,32*Qi):5==this.ugokuyuka1_type?this.aSet(32*Qi,32*Pi,121,32*Qi):6==this.ugokuyuka1_type?this.aSet(32*Qi,32*Pi,600,32*Qi):7==this.ugokuyuka1_type?this.aSet(32*Qi,32*Pi,700,32*Qi):this.aSet(32*Qi,32*Pi,100,32*Qi),4==this.maps.map_bg[Qi-1][Pi]&&(Si=4)):"L"==Ri?(2==this.ugokuyuka2_type?this.aSet(32*Qi,32*Pi,500,32*Qi):3==this.ugokuyuka2_type?this.aSet(32*Qi,32*Pi,510,32*Qi):4==this.ugokuyuka2_type?this.aSet(32*Qi,32*Pi,120,32*Qi):5==this.ugokuyuka2_type?this.aSet(32*Qi,32*Pi,121,32*Qi):6==this.ugokuyuka2_type?this.aSet(32*Qi,32*Pi,600,32*Qi):7==this.ugokuyuka2_type?this.aSet(32*Qi,32*Pi,700,32*Qi):this.aSet(32*Qi,32*Pi+9,110,32*Qi-16),4==this.maps.map_bg[Qi-1][Pi]&&(Si=4)):"M"==Ri?(2==this.ugokuyuka3_type?this.aSet(32*Qi,32*Pi,500,32*Qi):3==this.ugokuyuka3_type?this.aSet(32*Qi,32*Pi,510,32*Qi):4==this.ugokuyuka3_type?this.aSet(32*Qi,32*Pi,120,32*Qi):5==this.ugokuyuka3_type?this.aSet(32*Qi,32*Pi,121,32*Qi):6==this.ugokuyuka3_type?this.aSet(32*Qi,32*Pi,600,32*Qi):7==this.ugokuyuka3_type?this.aSet(32*Qi,32*Pi,700,32*Qi):(this.aSet(32*Qi,32*Pi+9,115,32*Qi-16),this.aSet(32*Qi,32*Pi+9,116,32*Qi-16)),4==this.maps.map_bg[Qi-1][Pi]&&(Si=4)):"N"==Ri?(this.aSet(32*Qi-32,32*Pi,400,32*Qi),4==this.maps.map_bg[Qi-1][Pi]&&(Si=4)):"O"==Ri?(this.tSet(32*Qi,32*Pi,600,32*Qi-512-32),4==this.maps.map_bg[Qi-1][Pi]&&(Si=4)):"P"==Ri?(this.tSet(32*Qi,32*Pi,700,32*Qi-512-32),4==this.maps.map_bg[Qi-1][Pi]&&(Si=4)):"Q"==Ri?(this.tSet(32*Qi,32*Pi,800,32*Qi-512-32),4==this.maps.map_bg[Qi-1][Pi]&&(Si=4)):"R"==Ri?(this.tSet(32*Qi,32*Pi,900,32*Qi-512-32),4==this.maps.map_bg[Qi-1][Pi]&&(Si=4)):"S"==Ri?(this.co_b.c=100,this.co_b.c4=3,this.co_b.x=32*Qi,this.co_b.y=32*Pi-16,4==this.maps.map_bg[Qi-1][Pi]&&(Si=4),this.co_b.x<448?this.co_b.x=448:5664<this.co_b.x&&(this.co_b.x=5664),10==this.sl_step?this.sl_step=11:this.sl_step=1,this.sl_wx=this.co_b.x-384,this.sl_wy=960):"T"==Ri?(this.co_b.c=200,this.co_b.c4=3,this.co_b.x=32*Qi,this.co_b.y=32*Pi-16,4==this.maps.map_bg[Qi-1][Pi]&&(Si=4),this.co_b.x<448?this.co_b.x=448:5664<this.co_b.x&&(this.co_b.x=5664),10==this.sl_step?this.sl_step=11:this.sl_step=1,this.sl_wx=this.co_b.x-384,this.sl_wy=960):"U"==Ri?(this.aSet(32*Qi+16,32*Pi+16,70,32*Qi),Si=50):"V"==Ri?(this.aSet(32*Qi+16,32*Pi+16,71,32*Qi),Si=50):"W"==Ri?(this.tSet(32*Qi,32*Pi-16,1e3,32*Qi-512-32-32),Si=4):"X"==Ri?(this.tSet(32*Qi,32*Pi,1100,32*Qi-512-32),Si=4):"Y"==Ri?(this.aSet(32*Qi,32*Pi,60,32*Qi),4==this.maps.map_bg[Qi-1][Pi]&&(Si=4)):"Z"==Ri&&(this.co_b.c=300,this.co_b.c4=3,this.co_b.x=32*Qi,this.co_b.y=32*Pi-16,this.boss_kijyun_y=this.co_b.y,4==this.maps.map_bg[Qi-1][Pi]&&(Si=4),this.co_b.x<448?this.co_b.x=448:5664<this.co_b.x&&(this.co_b.x=5664),10==this.sl_step?this.sl_step=11:this.sl_step=1,this.sl_wx=this.co_b.x-384,this.sl_wy=960),0<=Si&&(this.maps.map_bg[Qi][Pi]=Si))}for(var Ti=0;Ti<=this.maps.width-1;Ti++)this.maps.map_bg[Ti][0]=21,this.maps.map_bg[Ti][this.maps.height-1]=21;for(var Ui=0;Ui<=this.maps.height-1;Ui++)this.maps.map_bg[0][Ui]=21,this.maps.map_bg[181][Ui]=21,this.maps.map_bg[199][Ui]=21;this.ochiru_y=this.maps.wy_max+320,this.maps.wx=this.co_j.x-96,this.maps.wy=this.co_j.y-176,this.maps.wx<this.maps.wx_mini?this.maps.wx=this.maps.wx_mini:this.maps.wx>this.maps.wx_max&&(this.maps.wx=this.maps.wx_max),this.maps.wy<this.maps.wy_mini?this.maps.wy=this.maps.wy_mini:this.maps.wy>this.maps.wy_max&&(this.maps.wy=this.maps.wy_max),this.co_j.wx=this.co_j.x-this.maps.wx,this.co_j.wy=this.co_j.y-this.maps.wy},G.prototype.drawGamescreen=function(){this.maps.drawMapScroll(this.g_ac2);var Vi=this.maps.wx,Wi=this.maps.wy;if(this.co_j.wx=this.co_j.x-this.maps.wx,this.co_j.wy=this.co_j.y-this.maps.wy,this.a_hf)for(var Xi=0;Xi<=this.a_kazu;Xi++)if(this.co_a[Xi].gf){var Yi=this.co_a[Xi],Zi=Yi.x-Vi,$i=Yi.y-Wi;switch(Yi.pt){default:break;case 100:this.hg.drawImage(this.hi[190],Zi,$i,this.ap),this.hg.drawImage(this.hi[191],Zi+32,$i,this.ap),this.hg.drawImage(this.hi[192],Zi+64,$i,this.ap);break;case 200:this.hg.drawImage(this.hi[76],Zi,$i,this.ap),this.hg.drawImage(this.hi[77],Zi+32,$i,this.ap),this.hg.drawImage(this.hi[86],Zi,$i+32,this.ap),this.hg.drawImage(this.hi[87],Zi+32,$i+32,this.ap);break;case 210:this.hg.drawImage(this.hi[78],Zi,$i,this.ap),this.hg.drawImage(this.hi[79],Zi+32,$i,this.ap),this.hg.drawImage(this.hi[88],Zi,$i+32,this.ap),this.hg.drawImage(this.hi[89],Zi+32,$i+32,this.ap);break;case 300:this.hg.drawImage(this.hi[60],Zi,$i,this.ap),this.hg.drawImage(this.hi[61],Zi+32,$i,this.ap);break;case 310:this.hg.drawImage(this.hi[62],Zi,$i,this.ap),this.hg.drawImage(this.hi[63],Zi+32,$i,this.ap);break;case 320:this.hg.drawImage(this.hi[64],Zi,$i,this.ap),this.hg.drawImage(this.hi[65],Zi+32,$i,this.ap);break;case 330:this.hg.drawImage(this.hi[66],Zi,$i,this.ap),this.hg.drawImage(this.hi[67],Zi+32,$i,this.ap);break;case 400:this.hg.drawImage(this.hi[183],Zi,$i,this.ap),this.hg.drawImage(this.hi[184],Zi+32,$i,this.ap),this.hg.drawImage(this.hi[185],Zi+64,$i,this.ap),this.hg.drawImage(this.hi[193],Zi,$i+32,this.ap),this.hg.drawImage(this.hi[194],Zi+32,$i+32,this.ap),this.hg.drawImage(this.hi[195],Zi+64,$i+32,this.ap);break;case 500:this.hg.drawImage(this.hi[180],Zi,$i,this.ap),this.hg.drawImage(this.hi[181],Zi+32,$i,this.ap),this.hg.drawImage(this.hi[182],Zi+64,$i,this.ap);break;case 600:this.hg.drawImage(this.hi[188],Zi,$i,this.ap),this.hg.drawImage(this.hi[189],Zi+32,$i,this.ap),this.hg.drawImage(this.hi[198],Zi,$i+32,this.ap),this.hg.drawImage(this.hi[199],Zi+32,$i+32,this.ap);break;case 605:this.hg.drawImage(this.hih[1][189],Zi,$i,this.ap),this.hg.drawImage(this.hih[1][188],Zi+32,$i,this.ap),this.hg.drawImage(this.hih[1][199],Zi,$i+32,this.ap),this.hg.drawImage(this.hih[1][198],Zi+32,$i+32,this.ap);break;case 700:this.hg.drawImage(this.hi[32],Zi,$i,this.ap);break;case 710:this.hg.drawImage(this.hi[33],Zi,$i,this.ap);break;case 720:this.hg.drawImage(this.hi[34],Zi,$i,this.ap);break;case 800:Yi.x>=this.co_j.x?this.hg.drawImage(this.hi[35+Yi.c3],Zi,$i,this.ap):this.hg.drawImage(this.hih[1][35+Yi.c3],Zi,$i,this.ap);break;case 1100:var _i=c.floor(16*c.cos(6.283185307179586*(Yi.c3+90)/360)),aj=c.floor(16*c.sin(6.283185307179586*(Yi.c3+90)/360));if(this.vo_pa_x[0]=this.vo_x[Xi][0]-Vi+_i,this.vo_pa_y[0]=this.vo_y[Xi][0]-Wi+aj,this.vo_pa_x[1]=this.vo_x[Xi][0]-Vi-_i,this.vo_pa_y[1]=this.vo_y[Xi][0]-Wi-aj,this.vo_pa_x[2]=this.vo_x[Xi][1]-Vi-_i,this.vo_pa_y[2]=this.vo_y[Xi][1]-Wi-aj,this.vo_pa_x[3]=this.vo_x[Xi][1]-Vi+_i,this.vo_pa_y[3]=this.vo_y[Xi][1]-Wi+aj,this.gg.os_g.setColor(this.gamecolor_firebar1),this.gg.os_g.fillPolygon(this.vo_pa_x,this.vo_pa_y,4),2<=this.g_c2){this.gg.os_g.setColor(this.gamecolor_firebar2);var bj=c.floor(10*c.cos(6.283185307179586*(Yi.c3+90)/360)),cj=c.floor(10*c.sin(6.283185307179586*(Yi.c3+90)/360));this.vo_pa_x[0]=this.vo_x[Xi][2]-Vi+bj,this.vo_pa_y[0]=this.vo_y[Xi][2]-Wi+cj,this.vo_pa_x[1]=this.vo_x[Xi][2]-Vi-bj,this.vo_pa_y[1]=this.vo_y[Xi][2]-Wi-cj,this.vo_pa_x[2]=this.vo_x[Xi][3]-Vi-bj,this.vo_pa_y[2]=this.vo_y[Xi][3]-Wi-cj,this.vo_pa_x[3]=this.vo_x[Xi][3]-Vi+bj,this.vo_pa_y[3]=this.vo_y[Xi][3]-Wi+cj,this.gg.os_g.fillPolygon(this.vo_pa_x,this.vo_pa_y,4)}}}if(0<this.m_kazu)for(var dj=0;dj<=23;dj++)if(50<=this.co_m[dj].c){var ej=this.co_m[dj];if(50==ej.c){this.hg.drawImage(this.hih[ej.pth][ej.pt],ej.x-Vi,ej.y-Wi,this.ap);var fj=this.maps.getBGCode(ej.x,ej.y);20<=fj&&this.gg.drawPT(32*(ej.x>>5)-Vi,32*(ej.y>>5)-Wi,fj,0),20<=(fj=this.maps.getBGCode(ej.x+31,ej.y))&&this.gg.drawPT(32*(ej.x+31>>5)-Vi,32*(ej.y>>5)-Wi,fj,0)}else 1e3==ej.pt?(this.gg.os_g.setColor(this.gamecolor_mizunohadou),this.gg.os_g.fillOval(ej.x-Vi+16-ej.c2,ej.y-Wi+16-ej.c2,2*ej.c2,2*ej.c2)):1100==ej.pt?(0==this.g_ac?this.gg.os_g.setColor(this.gamecolor_grenade1):this.gg.os_g.setColor(this.gamecolor_grenade2),this.gg.os_g.fillOval(ej.x-Vi+16-ej.c2,ej.y-Wi+16-ej.c2,2*ej.c2,2*ej.c2)):this.hg.drawImage(this.hih[ej.pth][ej.pt],ej.x-Vi,ej.y-Wi,this.ap)}if(0<this.jm_kazu)for(var gj=0;gj<=1;gj++)if(50<=this.co_jm[gj].c){var hj=this.co_jm[gj];hj.pt<1e3?this.hg.drawImage(this.hih[hj.pth][hj.pt],hj.x-Vi,hj.y-Wi,this.ap):1200==hj.pt?(0==this.g_ac?this.gg.os_g.setColor(this.gamecolor_grenade1):this.gg.os_g.setColor(this.gamecolor_grenade2),this.gg.os_g.fillRect(hj.x-Vi,hj.y-Wi+12,hj.vx-hj.x+1,8)):1205==hj.pt?(0==this.g_ac?this.gg.os_g.setColor(this.gamecolor_grenade1):this.gg.os_g.setColor(this.gamecolor_grenade2),this.gg.os_g.fillRect(hj.vx-Vi,hj.y-Wi+12,hj.x-hj.vx+1,8)):(0==this.g_ac?this.gg.os_g.setColor(this.gamecolor_grenade1):this.gg.os_g.setColor(this.gamecolor_grenade2),this.gg.os_g.fillOval(hj.x-Vi+16-hj.c2,hj.y-Wi+16-hj.c2,2*hj.c2,2*hj.c2))}for(var ij=0;ij<=this.t_kazu;ij++)if(50<=this.co_t[ij].c){var jj=this.co_t[ij].x-Vi,kj=this.co_t[ij].y-Wi;-64<=jj&&kj<=576&&this.hg.drawImage(this.hih[this.co_t[ij].pth][this.co_t[ij].pt],jj,kj,this.ap)}if(50<this.co_b.c){var lj=this.co_b.x-Vi;if(lj<528){var mj=this.co_b.y-Wi;switch(this.co_b.pt){default:break;case 1e3:this.hg.drawImage(this.hih[0][186],lj-16,mj-16,this.ap),this.hg.drawImage(this.hih[0][187],lj+16,mj-16,this.ap),this.hg.drawImage(this.hih[0][196],lj-16,mj+16,this.ap),this.hg.drawImage(this.hih[0][197],lj+16,mj+16,this.ap);break;case 1005:this.hg.drawImage(this.hih[1][187],lj-16,mj-16,this.ap),this.hg.drawImage(this.hih[1][186],lj+16,mj-16,this.ap),this.hg.drawImage(this.hih[1][197],lj-16,mj+16,this.ap),this.hg.drawImage(this.hih[1][196],lj+16,mj+16,this.ap);break;case 1010:this.hg.drawImage(this.hih[0][176],lj-16,mj+16,this.ap),this.hg.drawImage(this.hih[0][177],lj+16,mj+16,this.ap);break;case 1015:this.hg.drawImage(this.hih[1][177],lj-16,mj+16,this.ap),this.hg.drawImage(this.hih[1][176],lj+16,mj+16,this.ap);break;case 1100:this.hg.drawImage(this.hih[0][188],lj-16,mj-16,this.ap),this.hg.drawImage(this.hih[0][189],lj+16,mj-16,this.ap),this.hg.drawImage(this.hih[0][198],lj-16,mj+16,this.ap),this.hg.drawImage(this.hih[0][199],lj+16,mj+16,this.ap);break;case 1105:this.hg.drawImage(this.hih[1][189],lj-16,mj-16,this.ap),this.hg.drawImage(this.hih[1][188],lj+16,mj-16,this.ap),this.hg.drawImage(this.hih[1][199],lj-16,mj+16,this.ap),this.hg.drawImage(this.hih[1][198],lj+16,mj+16,this.ap);break;case 1110:this.hg.drawImage(this.hih[0][178],lj-16,mj+16,this.ap),this.hg.drawImage(this.hih[0][179],lj+16,mj+16,this.ap);break;case 1115:this.hg.drawImage(this.hih[1][179],lj-16,mj+16,this.ap),this.hg.drawImage(this.hih[1][178],lj+16,mj+16,this.ap);break;case 1200:this.hg.drawImage(this.hih[0][238],lj-16,mj-16,this.ap),this.hg.drawImage(this.hih[0][239],lj+16,mj-16,this.ap),this.hg.drawImage(this.hih[0][248],lj-16,mj+16,this.ap),this.hg.drawImage(this.hih[0][249],lj+16,mj+16,this.ap);break;case 1205:this.hg.drawImage(this.hih[1][239],lj-16,mj-16,this.ap),this.hg.drawImage(this.hih[1][238],lj+16,mj-16,this.ap),this.hg.drawImage(this.hih[1][249],lj-16,mj+16,this.ap),this.hg.drawImage(this.hih[1][248],lj+16,mj+16,this.ap);break;case 1210:this.hg.drawImage(this.hih[0][228],lj-16,mj+16,this.ap),this.hg.drawImage(this.hih[0][229],lj+16,mj+16,this.ap);break;case 1215:this.hg.drawImage(this.hih[1][229],lj-16,mj+16,this.ap),this.hg.drawImage(this.hih[1][228],lj+16,mj+16,this.ap);break;case 1250:this.hg.drawImage(this.hih[0][238],lj-16,mj-16,this.ap),this.hg.drawImage(this.hih[0][239],lj+16,mj-16,this.ap),this.hg.drawImage(this.hih[0][248],lj-16,mj+16,this.ap),this.hg.drawImage(this.hih[0][249],lj+16,mj+16,this.ap),this.j_v_c<=0&&(this.j_v_kakudo+=2,360<this.j_v_kakudo&&(this.j_v_kakudo-=360)),lj=this.co_b.x-Vi+16,mj=this.co_b.y-Wi+16,this.gg.os_g.setColor(D.white);for(var nj=.017453292519943295,oj=0;oj<=5;oj++){var pj=(this.j_v_kakudo+60*oj)*nj;this.vo_pa_x[oj]=lj+c.floor(50*c.cos(pj)),this.vo_pa_y[oj]=mj+c.floor(50*c.sin(pj))}this.gg.os_g.drawPolygon(this.vo_pa_x,this.vo_pa_y,6);for(var qj=0;qj<=5;qj++){var rj=(360-this.j_v_kakudo+60*qj)*nj;this.vo_pa_x[qj]=lj+c.floor(50*c.cos(rj)),this.vo_pa_y[qj]=mj+c.floor(50*c.sin(rj))}this.gg.os_g.drawPolygon(this.vo_pa_x,this.vo_pa_y,6);break;case 1255:this.hg.drawImage(this.hih[1][239],lj-16,mj-16,this.ap),this.hg.drawImage(this.hih[1][238],lj+16,mj-16,this.ap),this.hg.drawImage(this.hih[1][249],lj-16,mj+16,this.ap),this.hg.drawImage(this.hih[1][248],lj+16,mj+16,this.ap),this.j_v_c<=0&&(this.j_v_kakudo+=2,360<this.j_v_kakudo&&(this.j_v_kakudo-=360)),lj=this.co_b.x-Vi+16,mj=this.co_b.y-Wi+16,this.gg.os_g.setColor(D.white);for(var sj=.017453292519943295,tj=0;tj<=5;tj++){var uj=(this.j_v_kakudo+60*tj)*sj;this.vo_pa_x[tj]=lj+c.floor(50*c.cos(uj)),this.vo_pa_y[tj]=mj+c.floor(50*c.sin(uj))}this.gg.os_g.drawPolygon(this.vo_pa_x,this.vo_pa_y,6);for(var vj=0;vj<=5;vj++){var wj=(360-this.j_v_kakudo+60*vj)*sj;this.vo_pa_x[vj]=lj+c.floor(50*c.cos(wj)),this.vo_pa_y[vj]=mj+c.floor(50*c.sin(wj))}this.gg.os_g.drawPolygon(this.vo_pa_x,this.vo_pa_y,6)}}}if(96<=this.j_jet_c&&(0==this.g_c1?this.hg.drawImage(this.hi[134],this.co_j.x-Vi,this.co_j.y-Wi+36,this.ap):this.hg.drawImage(this.hi[135],this.co_j.x-Vi,this.co_j.y-Wi+36,this.ap)),0<this.j_v_c&&(this.j_v_c--,this.j_v_kakudo+=2,360<this.j_v_kakudo&&(this.j_v_kakudo-=360),50<this.j_v_c||1==this.g_ac)){var xj=this.co_j.x-Vi+16,yj=this.co_j.y-Wi+16;this.gg.os_g.setColor(D.white);for(var zj=.017453292519943295,Aj=0;Aj<=5;Aj++){var Bj=(this.j_v_kakudo+60*Aj)*zj;this.vo_pa_x[Aj]=xj+c.floor(38*c.cos(Bj)),this.vo_pa_y[Aj]=yj+c.floor(38*c.sin(Bj))}this.gg.os_g.drawPolygon(this.vo_pa_x,this.vo_pa_y,6);for(var Cj=0;Cj<=5;Cj++){var Dj=(360-this.j_v_kakudo+60*Cj)*zj;this.vo_pa_x[Cj]=xj+c.floor(38*c.cos(Dj)),this.vo_pa_y[Cj]=yj+c.floor(38*c.sin(Dj))}this.gg.os_g.drawPolygon(this.vo_pa_x,this.vo_pa_y,6)}if(this.j_zan_f){var Ej=this.j_zan_p+(6-this.j_zan_nagasa);5<Ej&&(Ej-=6);var Fj=this.j_zan_p+1;5<Fj&&(Fj-=6);do{var Gj=this.j_zan_x[Ej]-Vi,Hj=this.j_zan_y[Ej]-Wi,Ij=this.j_zan_pth[Ej];this.hg.drawImage(this.hih[Ij][this.j_zan_pt[Ej]],Gj,Hj,this.ap),5<++Ej&&(Ej=0)}while(Ej!=Fj);this.j_zan_p++,5<this.j_zan_p&&(this.j_zan_p=0),this.j_zan_x[this.j_zan_p]=this.co_j.x,this.j_zan_y[this.j_zan_p]=this.co_j.y,this.j_zan_pt[this.j_zan_p]=this.co_j.pt,this.j_zan_pth[this.j_zan_p]=this.co_j.muki,this.j_zan_c<9?(this.j_zan_c++,0<=this.co_j.vy&&(this.j_zan_c=9)):(this.j_zan_nagasa--,this.j_zan_nagasa<0&&(this.j_zan_f=!1))}if(this.co_j.pt<1e3?this.gg.drawPT(this.co_j.wx,this.co_j.wy,this.co_j.pt,this.co_j.muki):1e3==this.co_j.pt?0==this.co_j.muki?(this.gg.drawPT(this.co_j.wx,this.co_j.wy,118,this.co_j.muki),this.gg.drawPT(this.co_j.wx-32,this.co_j.wy,117,this.co_j.muki)):(this.gg.drawPT(this.co_j.wx,this.co_j.wy,118,1),this.gg.drawPT(this.co_j.wx+32,this.co_j.wy,117,1)):1100==this.co_j.pt?(this.co_j.c1<=0?this.gg.drawPT(this.co_j.wx,this.co_j.wy,100,this.co_j.muki):32<=this.co_j.c1?this.gg.drawPT(this.co_j.wx,this.co_j.wy+32,100,this.co_j.muki):this.gg.drawPT(this.co_j.wx,this.co_j.wy+this.co_j.c1,100,this.co_j.muki),this.gg.drawPT(this.co_j.wx-16,this.co_j.wy+32,60+2*this.co_j.c2,0),this.gg.drawPT(this.co_j.wx+16,this.co_j.wy+32,61+2*this.co_j.c2,0)):this.co_j.pt,0<this.hitokoto_c){this.hitokoto_c--;for(var Mj=0,Nj=0;Nj<=2;Nj++){var Oj=Nj+1,Pj="hitokoto"+this.hitokoto_num+"-"+Oj;Pj=this.gg.ap.getParameter(Pj),Oj=parseInt(Pj),isNaN(Oj)&&(Oj=-1),0!=Oj&&Mj++}this.km.drawWindowbox(208,56,224,30+14*Mj),this.hg.setFont(new E("Dialog",0,12)),this.hg.setColor(D.cyan);var Qj="hitokoto"+this.hitokoto_num+"_name";this.hg.drawString(this.gg.ap.getParameter(Qj),214,74),this.hg.setColor(D.white);for(var Rj=Mj=0;Rj<=2;Rj++){var Sj=Rj+1,Tj="hitokoto"+this.hitokoto_num+"-"+Sj;Tj=this.gg.ap.getParameter(Tj),Sj=parseInt(Tj),isNaN(Sj)&&(Sj=-1),0!=Sj&&(this.hg.drawString(Tj,214,80+14*Mj+12),Mj++)}}},G.prototype.jM100=function(){var Uj=!1,Vj=!1;this.j_mizu_f=!1;var Wj=this.maps.getBGCode(this.co_j.x+15,this.co_j.y+15);4==Wj?(this.j_mizu_f=!0,this.j_jet_c=0,this.j_mizu_awa_c++,44==this.j_mizu_awa_c||54==this.j_mizu_awa_c?this.mSet(this.co_j.x,this.co_j.y+4,60):54<this.j_mizu_awa_c&&(this.j_mizu_awa_c=0)):8!=Wj&&9!=Wj||4!=this.maps.map_bg[(this.co_j.x+15>>5)-1][this.co_j.y+15>>5]||(this.j_mizu_f=!0,this.j_jet_c=0,this.j_mizu_awa_c++,44==this.j_mizu_awa_c||54==this.j_mizu_awa_c?this.mSet(this.co_j.x,this.co_j.y+4,60):54<this.j_mizu_awa_c&&(this.j_mizu_awa_c=0)),this.gk.tr1_f?this.tr1_c<6&&this.tr1_c++:this.tr1_c=0,this.gk.tr2_f?this.tr2_c<2&&this.tr2_c++:this.tr2_c=0,this.gk.left_f?this.gk.left_c<2&&this.gk.left_c++:this.gk.left_c=0,this.gk.right_f?this.gk.right_c<2&&this.gk.right_c++:this.gk.right_c=0,1==this.gk.left_c?(0<this.left_dcc?this.j_hashiru_f=!0:this.j_hashiru_f=!1,this.left_dcc=8):0<this.left_dcc&&this.left_dcc--,1==this.gk.right_c?(0<this.right_dcc?this.j_hashiru_f=!0:this.j_hashiru_f=!1,this.right_dcc=8):0<this.right_dcc&&this.right_dcc--;var Xj=this.co_j.x,Yj=this.co_j.y;this.co_j.pt=100;var Zj=Xj+15>>5,$j=Yj+31>>5,ak=(this.maps.map_bg[Zj][$j],Yj+32>>5),bk=this.maps.map_bg[Zj][ak];if(20<=bk||0<=this.j_a_id?(this.co_j.jimen_f=!0,this.j_jump_type=2,69==bk&&(Vj=!0)):this.co_j.jimen_f=!1,this.co_j.jimen_f?(this.j_zan_f=!1,this.j_jet_c=0,this.gk.left_f?(this.co_j.vx-=Vj?4:15,this.j_hashiru_f?(this.j_mizu_f?this.co_j.vx<-60&&(this.co_j.vx=-60):this.co_j.vx<-120&&(this.co_j.vx=-120),0<this.co_j.vx&&!Vj?(this.co_j.pt=108,this.co_j.ac=0):(this.co_j.pt=105+(this.co_j.ac>>1),this.co_j.ac++,3<this.co_j.ac&&(this.co_j.ac=0))):(this.j_mizu_f?this.co_j.vx<-40&&(this.co_j.vx=-40):this.co_j.vx<-60&&(this.co_j.vx=-60),0<this.co_j.vx&&!Vj?(this.co_j.pt=108,this.co_j.ac=0):(this.co_j.pt=103+(this.co_j.ac>>1),this.co_j.ac++,3<this.co_j.ac&&(this.co_j.ac=0))),this.co_j.muki=0):this.gk.right_f?(this.co_j.vx+=Vj?4:15,this.j_hashiru_f?(this.j_mizu_f?60<this.co_j.vx&&(this.co_j.vx=60):120<this.co_j.vx&&(this.co_j.vx=120),this.co_j.vx<0&&!Vj?(this.co_j.pt=108,this.co_j.ac=0):(this.co_j.pt=105+(this.co_j.ac>>1),this.co_j.ac++,3<this.co_j.ac&&(this.co_j.ac=0))):(this.j_mizu_f?40<this.co_j.vx&&(this.co_j.vx=40):60<this.co_j.vx&&(this.co_j.vx=60),this.co_j.vx<0&&!Vj?(this.co_j.pt=108,this.co_j.ac=0):(this.co_j.pt=103+(this.co_j.ac>>1),this.co_j.ac++,3<this.co_j.ac&&(this.co_j.ac=0))),this.co_j.muki=1):this.co_j.vx<0?(Vj?this.co_j.vx++:this.co_j.vx+=5,0<this.co_j.vx&&(this.co_j.vx=0),this.j_hashiru_f||Vj?(this.co_j.pt=107,this.co_j.ac=0):(this.co_j.pt=103+(this.co_j.ac>>1),this.co_j.ac++,3<this.co_j.ac&&(this.co_j.ac=0)),this.co_j.muki=0):0<this.co_j.vx?(Vj?this.co_j.vx--:this.co_j.vx-=5,this.co_j.vx<0&&(this.co_j.vx=0),this.j_hashiru_f||Vj?(this.co_j.pt=107,this.co_j.ac=0):(this.co_j.pt=103+(this.co_j.ac>>1),this.co_j.ac++,3<this.co_j.ac&&(this.co_j.ac=0)),this.co_j.muki=1):this.co_j.ac=0):(this.gk.left_f?!this.j_mizu_f&&-60<this.co_j.vx&&(this.co_j.vx-=10,this.co_j.vx<-60&&(this.co_j.vx=-60)):this.gk.right_f&&!this.j_mizu_f&&this.co_j.vx<60&&(this.co_j.vx+=10,60<this.co_j.vx&&(this.co_j.vx=60)),this.j_mizu_f?1<this.j_mizu_ac?this.co_j.pt=84:this.co_j.pt=83:0==this.j_jump_type?this.co_j.vy<20?this.co_j.pt=101:this.co_j.pt=102:2==this.j_jump_type?c.abs(this.co_j.vx)<=60?this.co_j.pt=103:this.co_j.pt=105:3==this.j_jump_type?this.co_j.pt=119:4==this.j_jump_type?this.co_j.pt=100:this.co_j.pt=109,this.co_j.ac=2),this.j_jdai_f&&(this.co_j.vx=0,this.co_j.pt=100,this.co_j.ac=0),this.co_j.vx<0){if(this.co_j.x+=s(this.co_j.vx/10),this.a_hf)for(var ck=0;ck<=this.a_kazu;ck++)if(this.co_a[ck].gf){var dk=this.co_a[ck];100<=dk.c&&dk.c<200?this.co_j.x+15>=dk.x&&this.co_j.x<=dk.x+64&&this.co_j.y+31>=dk.y&&this.co_j.y<=dk.y+13&&(this.co_j.x=dk.x+65,this.co_j.vx=0):300==dk.c?this.co_j.x+15>=dk.x&&this.co_j.x<=dk.x+48&&this.co_j.y+31>=dk.y&&this.co_j.y<=dk.y+31&&(this.co_j.x=dk.x+49,this.co_j.vx=0):400==dk.c?this.co_j.x+15>=dk.x&&this.co_j.x<=dk.x+80&&this.co_j.y+31>=dk.y&&this.co_j.y<=dk.y+63&&(this.co_j.x=dk.x+81,this.co_j.vx=0):500==dk.c?this.co_j.x+15>=dk.x&&this.co_j.x<=dk.x+80&&this.co_j.y+31>=dk.y&&this.co_j.y<=dk.y+13&&(this.co_j.x=dk.x+81,this.co_j.vx=0):600==dk.c?this.co_j.x+15>=dk.x&&this.co_j.x<=dk.x+48&&this.co_j.y+31>=dk.y+16&&this.co_j.y<=dk.y+47&&(this.co_j.x=dk.x+49,this.co_j.vx=0):700==dk.c&&this.co_j.x+15>=dk.x&&this.co_j.x<=dk.x+16&&this.co_j.y+31>=dk.y&&this.co_j.y<=dk.y+31&&(this.co_j.x=dk.x+17,this.co_j.vx=0)}var ek=this.co_j.x+15>>5,fk=this.maps.map_bg[ek][this.co_j.y>>5],gk=this.co_j.y+31>>5,hk=this.maps.map_bg[ek][gk];(20<=fk||20<=hk)&&(this.co_j.x=32*ek+17,this.co_j.vx=0)}else if(0<this.co_j.vx){if(this.co_j.x+=s(this.co_j.vx/10),this.a_hf)for(var ik=0;ik<=this.a_kazu;ik++)if(this.co_a[ik].gf){var jk=this.co_a[ik];100<=jk.c&&jk.c<200?this.co_j.x+15>=jk.x&&this.co_j.x<=jk.x+64&&this.co_j.y+31>=jk.y&&this.co_j.y<=jk.y+13&&(this.co_j.x=jk.x-16,this.co_j.vx=0):300==jk.c?this.co_j.x+15>=jk.x&&this.co_j.x<=jk.x+48&&this.co_j.y+31>=jk.y&&this.co_j.y<=jk.y+31&&(this.co_j.x=jk.x-16,this.co_j.vx=0):400==jk.c?this.co_j.x+15>=jk.x&&this.co_j.x<=jk.x+80&&this.co_j.y+31>=jk.y&&this.co_j.y<=jk.y+63&&(this.co_j.x=jk.x-16,this.co_j.vx=0):500==jk.c?this.co_j.x+15>=jk.x&&this.co_j.x<=jk.x+80&&this.co_j.y+31>=jk.y&&this.co_j.y<=jk.y+13&&(this.co_j.x=jk.x-16,this.co_j.vx=0):600==jk.c?this.co_j.x+15>=jk.x&&this.co_j.x<=jk.x+48&&this.co_j.y+31>=jk.y+16&&this.co_j.y<=jk.y+47&&(this.co_j.x=jk.x-16,this.co_j.vx=0):700==jk.c&&this.co_j.x+15>=jk.x&&this.co_j.x<=jk.x+16&&this.co_j.y+31>=jk.y&&this.co_j.y<=jk.y+31&&(this.co_j.x=jk.x-16,this.co_j.vx=0)}var kk=this.co_j.x+15>>5,lk=this.maps.map_bg[kk][this.co_j.y>>5],mk=this.co_j.y+31>>5,nk=this.maps.map_bg[kk][mk];(20<=lk||20<=nk)&&(this.co_j.x=32*kk-16,this.co_j.vx=0)}if(this.co_j.jimen_f)if(1<=this.tr1_c&&this.tr1_c<=5)if(20<=this.maps.getBGCode(this.co_j.x+15,this.co_j.y-1)){if(1==this.tr1_c&&40==this.maps.getBGCode(this.co_j.x+15,this.co_j.y-1)){var ok=this.co_j.x+15>>5,pk=this.co_j.y-1>>5;this.hAttack(ok,pk)}if(Wj=this.maps.getBGCode(this.co_j.x+15,this.co_j.y-1),this.j_helm_f&&(20==Wj||69==Wj&&1==this.suberuyuka_hkf)){this.tr1_c=6;var qk=this.co_j.x+15>>5,rk=this.co_j.y-1>>5;4==this.maps.map_bg[this.co_j.x+15>>5][1+(this.co_j.y-1>>5)]?this.maps.putBGCode(qk,rk,4):this.maps.putBGCode(qk,rk,0),this.mSet2(32*qk,32*rk,80,12,-24),this.mSet2(32*qk,32*rk,80,-12,-24),this.jZutuki(32*qk,32*rk-32,0)}}else if(this.j_mizu_f)this.j_jump_type=0,this.co_j.pt=83,this.co_j.ac=0,this.j_mizu_ac=0,this.j_jet_kf=!1,this.j_jdai_f?(this.co_j.y=32*(this.co_j.y>>5),this.co_j.vy=-120):50<c.abs(this.co_j.vx)?this.co_j.vy=-90:this.co_j.vy=-70,this.j_jump_level=0;else{this.j_jump_type=0,this.co_j.pt=101,this.co_j.ac=0,this.j_fire_f&&(0==this.co_j.muki?this.jmSet(this.co_j.x,this.co_j.y,100):this.jmSet(this.co_j.x,this.co_j.y,105)),this.j_jet_kf=!1;var sk=c.abs(this.co_j.vx);if(this.j_jdai_f)this.co_j.y=32*(this.co_j.y>>5),this.co_j.vy=-410,this.j_jump_level=5,this.co_a[this.j_a_id].c3<=1&&(this.co_j.vy=-230);else if(0==sk)this.co_j.vy=-150,this.j_jump_level=1;else if(sk<60)this.co_j.vy=-230,this.j_jump_level=2;else if(60==sk)this.co_j.vy=-260,this.j_jump_level=3;else if(sk<120)this.co_j.vy=-290,this.j_jump_level=4;else if(this.co_j.vy=-340,this.j_jump_level=5,(Wj=this.maps.map_bg[this.co_j.x+15>>5][this.co_j.y-1>>5])<=9){for(var tk=0;tk<=5;tk++)this.j_zan_x[tk]=Xj,this.j_zan_y[tk]=Yj,this.j_zan_pt[tk]=101,this.j_zan_pth[tk]=this.co_j.muki;this.j_zan_p=0,this.j_zan_c=0,this.j_zan_nagasa=5,this.j_zan_f=!0}}else this.co_j.vy=0;else if(this.j_mizu_f)if(this.gk.left_f?this.co_j.muki=0:this.gk.right_f&&(this.co_j.muki=1),1==this.tr1_c){var uk=!1;(Wj=this.maps.map_bg[this.co_j.x+15>>5][(this.co_j.y+15>>5)-1])<=9&&4!=Wj&&(uk=!0),8!=Wj&&9!=Wj||4!=this.maps.map_bg[(this.co_j.x+15>>5)-1][(this.co_j.y+15>>5)-1]||(uk=!1),uk&&(this.co_j.y+15)%32<=8?(this.j_jump_type=0,this.co_j.pt=101,this.co_j.ac=0,this.co_j.vy=-180,this.j_jump_level=1,this.co_j.y=32*(this.co_j.y+15>>5)-14,Uj=!(this.j_jet_kf=!1),this.mSet(this.co_j.x,32*(this.co_j.y+15>>5)-32,50)):(this.j_jump_type=0,this.co_j.ac=0,this.j_mizu_ac<=0&&(this.j_mizu_ac=4,this.co_j.pt=84),this.co_j.vy=-40,(this.j_jump_level=0)==this.co_j.muki?(this.co_j.vx-=30,this.co_j.vx<-60&&(this.co_j.vx=-60)):(this.co_j.vx+=30,60<this.co_j.vx&&(this.co_j.vx=60)))}else this.co_j.vx<0?(0==this.co_j.muki?this.co_j.vx++:this.co_j.vx+=2,0<this.co_j.vx&&(this.co_j.vx=0)):0<this.co_j.vx&&(1==this.co_j.muki?this.co_j.vx--:this.co_j.vx-=2,this.co_j.vx<0&&(this.co_j.vx=0)),this.co_j.vy<40?(this.co_j.vy+=5,40<this.co_j.vy&&(this.co_j.vy=40)):40<this.co_j.vy&&(this.co_j.vy-=20,this.co_j.vy<40&&(this.co_j.vy=40)),0<this.j_mizu_ac?(this.j_mizu_ac--,1<this.j_mizu_ac?this.co_j.pt=84:this.co_j.pt=83):this.co_j.pt=83;else this.co_j.vy+=25,160<this.co_j.vy&&(this.co_j.vy=160),1==this.tr1_c&&this.j_fire_f&&(0==this.co_j.muki?this.jmSet(this.co_j.x,this.co_j.y,100):this.jmSet(this.co_j.x,this.co_j.y,105)),0==this.tr1_c&&(this.j_jet_kf=!0),this.j_jet_kf&&0<this.tr1_c&&0<this.j_jet_fuel&&!this.j_mizu_f?(this.j_jet_c=100,2==this.j_jump_type&&(this.j_jump_type=0)):96<this.j_jet_c?this.j_jet_c--:this.j_jet_c=0,96<=this.j_jet_c&&(this.j_jet_fuel--,this.j_jet_fuel<0&&(this.j_jet_fuel=0,this.j_jet_c=0),this.gk.left_f?this.co_j.muki=0:this.gk.right_f&&(this.co_j.muki=1),-150<this.co_j.vy&&(this.co_j.vy-=50,this.co_j.vy<-150&&(this.co_j.vy=-150)));if(this.co_j.vy<0){var vk=this.co_j.x+15>>5,wk=this.co_j.y>>5,yk=(this.maps.map_bg[vk][wk],this.co_j.vy);if(yk<-320&&(yk=-320),this.co_j.y+=s(yk/10),this.j_mizu_f&&!Uj){var zk=this.maps.getBGCode(this.co_j.x+15,this.co_j.y+15),Ak=!1;zk<=9&&4!=zk&&(Ak=!0),8!=zk&&9!=zk||4!=this.maps.map_bg[(this.co_j.x+15>>5)-1][this.co_j.y+15>>5]||(Ak=!1),Ak&&(this.co_j.y=32*(this.co_j.y+15>>5)+17,this.co_j.vy=-10)}if(this.a_hf)for(var Bk=0;Bk<=this.a_kazu;Bk++)if(this.co_a[Bk].gf){var Ck=this.co_a[Bk];100<=Ck.c&&Ck.c<200?this.co_j.x+15>=Ck.x&&this.co_j.x<=Ck.x+64&&this.co_j.y+31>=Ck.y&&this.co_j.y<=Ck.y+13&&(this.co_j.y=Ck.y+14,this.co_j.vy=0):300==Ck.c?this.co_j.x+15>=Ck.x&&this.co_j.x<=Ck.x+48&&this.co_j.y+31>=Ck.y&&this.co_j.y<=Ck.y+31&&(this.co_j.y=Ck.y+32,this.co_j.vy=0):400==Ck.c?this.co_j.x+15>=Ck.x&&this.co_j.x<=Ck.x+80&&this.co_j.y+31>=Ck.y&&this.co_j.y<=Ck.y+63&&(this.co_j.y=Ck.y+64,this.co_j.vy=0):500==Ck.c?this.co_j.x+15>=Ck.x&&this.co_j.x<=Ck.x+80&&this.co_j.y+31>=Ck.y&&this.co_j.y<=Ck.y+13&&(this.co_j.y=Ck.y+14,this.co_j.vy=0):600==Ck.c?this.co_j.x+15>=Ck.x&&this.co_j.x<=Ck.x+48&&this.co_j.y+31>=Ck.y+16&&this.co_j.y<=Ck.y+47&&(this.co_j.y=Ck.y+48,this.co_j.vy=0):700==Ck.c&&this.co_j.x+15>=Ck.x&&this.co_j.x<=Ck.x+16&&this.co_j.y+31>=Ck.y&&this.co_j.y<=Ck.y+31&&(this.co_j.y=Ck.y+32,this.co_j.vy=0)}var Dk=this.co_j.y>>5,Ek=this.maps.map_bg[this.co_j.x+15>>5][Dk];if(20<=Ek){if(this.co_j.y=32*Dk+32,this.co_j.vy=0,40==Ek){var Fk=this.co_j.x+15>>5,Gk=this.co_j.y-1>>5;this.hAttack(Fk,Gk)}if(this.j_helm_f&&(20==Ek||69==Ek&&1==this.suberuyuka_hkf)){var Hk=this.co_j.x+15>>5,Ik=Dk;4==this.maps.map_bg[Hk][Ik+1]?this.maps.putBGCode(Hk,Ik,4):this.maps.putBGCode(Hk,Ik,0),this.mSet2(32*Hk,32*Ik,80,12,-24),this.mSet2(32*Hk,32*Ik,80,-12,-24),this.jZutuki(32*Hk,32*Ik-32,0)}}if(Dk<wk){if(this.gk.right_f){var Jk=this.maps.map_bg[this.co_j.x+16>>5][wk],Kk=this.maps.map_bg[this.co_j.x+16>>5][Dk];Jk<=9&&20<=Kk&&(this.co_j.y=32*Dk+32,this.co_j.vy=0)}if(this.gk.left_f){var Lk=this.maps.map_bg[this.co_j.x+14>>5][wk],Mk=this.maps.map_bg[this.co_j.x+14>>5][Dk];Lk<=9&&20<=Mk&&(this.co_j.y=32*Dk+32,this.co_j.vy=0)}}}else if(0<this.co_j.vy){var Nk=this.co_j.x+15>>5,Ok=this.co_j.y+31>>5;this.maps.map_bg[Nk][Ok];if(this.co_j.y+=s(this.co_j.vy/10),this.a_hf)for(var Qk=0;Qk<=this.a_kazu;Qk++)if(this.co_a[Qk].gf){var Rk=this.co_a[Qk];100<=Rk.c&&Rk.c<200?this.co_j.x+15>=Rk.x&&this.co_j.x<=Rk.x+64&&this.co_j.y+31>=Rk.y&&this.co_j.y<=Rk.y+13&&(this.co_j.y=Rk.y-32,this.co_j.vy=0):300==Rk.c?this.co_j.x+15>=Rk.x&&this.co_j.x<=Rk.x+48&&this.co_j.y+31>=Rk.y&&this.co_j.y<=Rk.y+31&&(this.co_j.y=Rk.y-32,this.co_j.vy=0):400==Rk.c?this.co_j.x+15>=Rk.x&&this.co_j.x<=Rk.x+80&&this.co_j.y+31>=Rk.y&&this.co_j.y<=Rk.y+63&&(this.co_j.y=Rk.y-32,this.co_j.vy=0):500==Rk.c?this.co_j.x+15>=Rk.x&&this.co_j.x<=Rk.x+80&&this.co_j.y+31>=Rk.y&&this.co_j.y<=Rk.y+13&&(this.co_j.y=Rk.y-32,this.co_j.vy=0):600==Rk.c?this.co_j.x+15>=Rk.x&&this.co_j.x<=Rk.x+48&&this.co_j.y+31>=Rk.y+16&&this.co_j.y<=Rk.y+47&&(this.co_j.y=Rk.y+16-32,this.co_j.vy=0):700==Rk.c&&this.co_j.x+15>=Rk.x&&this.co_j.x<=Rk.x+16&&this.co_j.y+31>=Rk.y&&this.co_j.y<=Rk.y+31&&(this.co_j.y=Rk.y-32,this.co_j.vy=0)}var Sk=this.co_j.y+31>>5;if(20<=this.maps.map_bg[Nk][Sk]){this.co_j.y=32*Sk-32,this.co_j.vy=0,Sk=this.co_j.y+31>>5;this.maps.map_bg[Nk][Sk]}if(Ok<Sk){if(this.gk.right_f){var Vk=this.maps.map_bg[this.co_j.x+16>>5][Ok],Wk=this.maps.map_bg[this.co_j.x+16>>5][Sk];Vk<=9&&20<=Wk&&(this.co_j.y=32*Sk-32,this.co_j.vy=0,this.co_j.pt=103,this.co_j.ac=1,this.co_j.x++)}if(this.gk.left_f){var Xk=this.maps.map_bg[this.co_j.x+14>>5][Ok],Yk=this.maps.map_bg[this.co_j.x+14>>5][Sk];Xk<=9&&20<=Yk&&(this.co_j.y=32*Sk-32,this.co_j.vy=0,this.co_j.pt=103,this.co_j.ac=1,this.co_j.x--)}}if(!this.j_mizu_f){var Zk=this.maps.getBGCode(this.co_j.x+15,this.co_j.y+15);4==Zk?(this.mSet(this.co_j.x,32*(this.co_j.y+15>>5)-32,50),this.j_mizu_awa_c=38,this.co_j.vx<-60?this.co_j.vx=-60:60<this.co_j.vx&&(this.co_j.vx=60)):8!=Zk&&9!=Zk||4!=this.maps.map_bg[(this.co_j.x+15>>5)-1][this.co_j.y+15>>5]||(this.mSet(this.co_j.x,32*(this.co_j.y+15>>5)-32,50),this.j_mizu_awa_c=38,this.co_j.vx<-60?this.co_j.vx=-60:60<this.co_j.vx&&(this.co_j.vx=60))}}if(1==this.tr2_c)if(0<this.j_gr_kazu?3==this.grenade_type||4==this.grenade_type?0==this.co_j.muki?this.jmSet(this.co_j.x,this.co_j.y,60):this.jmSet(this.co_j.x,this.co_j.y,65):0==this.co_j.muki?this.jmSet(this.co_j.x,this.co_j.y,200):this.jmSet(this.co_j.x,this.co_j.y,205):!this.j_fire_f||this.j_mizu_f&&!this.j_fire_mkf||(0==this.co_j.muki?this.jmSet(this.co_j.x,this.co_j.y,100):this.jmSet(this.co_j.x,this.co_j.y,105)),Wj=this.maps.getBGCode(this.co_j.x+15,this.co_j.y+32),this.j_drell_f&&(20==Wj||69==Wj&&1==this.suberuyuka_hkf)){var $k=this.co_j.x+15>>5,_k=this.co_j.y+32>>5;4==this.maps.map_bg[this.co_j.x+15>>5][(this.co_j.y+32>>5)-1]?this.maps.putBGCode($k,_k,4):this.maps.putBGCode($k,_k,0),this.mSet2(32*$k,32*_k,80,12,-24),this.mSet2(32*$k,32*_k,80,-12,-24),this.jZutuki(32*$k,32*_k-32,0),this.co_j.x=32*$k,this.co_j.vx=0,this.co_j.vy=0,this.j_jump_type=3,this.co_j.c=120,this.co_j.c1=0,this.co_j.pt=119}else this.j_tail_f&&(this.j_tail_ac<=0||8<=this.j_tail_ac)&&(this.j_tail_ac=1,this.co_j.pt=116,this.j_zan_f=!1);if(1<=this.j_tail_ac)if(this.j_zan_f=!1,this.j_tail_ac++,this.j_tail_ac<=4)this.co_j.pt=116,1!=this.j_tail_type&&3!=this.j_tail_type||(0==this.co_j.muki?this.jZutuki(this.co_j.x-32,this.co_j.y,1):this.jZutuki(this.co_j.x+32,this.co_j.y,1));else if(this.j_tail_ac<=5){if(this.co_j.pt=1e3,1!=this.j_tail_type&&3!=this.j_tail_type||(0==this.co_j.muki?this.jZutuki(this.co_j.x-32,this.co_j.y,1):this.jZutuki(this.co_j.x+32,this.co_j.y,1)),2==this.j_tail_type||3==this.j_tail_type){var al;al=1==this.co_j.muki?this.co_j.x+40>>5:this.co_j.x-8>>5;var bl=this.co_j.y+15>>5;(20==this.maps.map_bg[al][bl]||69==this.maps.map_bg[al][bl]&&1==this.suberuyuka_hkf)&&(4==this.maps.map_bg[al-1][bl]?this.maps.putBGCode(al,bl,4):this.maps.putBGCode(al,bl,0),this.mSet2(32*al,32*bl,80,12,-24),this.mSet2(32*al,32*bl,80,-12,-24),this.jZutuki(32*al,32*bl-32,0))}}else this.j_tail_ac<=7?this.co_j.pt=1e3:this.j_tail_ac<=9?this.co_j.pt=116:(this.co_j.pt=116,this.j_tail_ac=0);switch(Wj=this.maps.map_bg[this.co_j.x+15>>5][this.co_j.y+15>>5]){case 9:4==this.maps.map_bg[(this.co_j.x+15>>5)-1][this.co_j.y+15>>5]?(this.maps.putBGCode(this.co_j.x+15>>5,this.co_j.y+15>>5,4),this.j_mizu_f=!0):this.maps.putBGCode(this.co_j.x+15>>5,this.co_j.y+15>>5,0),this.addScore(5);break;case 8:4==this.maps.map_bg[(this.co_j.x+15>>5)-1][this.co_j.y+15>>5]?(this.maps.putBGCode(this.co_j.x+15>>5,this.co_j.y+15>>5,4),this.j_mizu_f=!0):this.maps.putBGCode(this.co_j.x+15>>5,this.co_j.y+15>>5,0),this.stage_cc=1,2<=this.stage_max&&this.stage>=this.stage_max?this.addScore(1e3):this.addScore(100);break;case 5:case 6:this.co_j.y=32*(this.co_j.y+15>>5),this.jShinu(1)}(this.co_j.y>=this.ochiru_y||this.j_mizu_f&&this.co_j.y>=this.ochiru_y-16)&&(this.co_j.c=210,this.co_j.c1=0,this.co_j.y=this.ochiru_y+64,this.j_jet_c=0,this.j_v_c=0),this.co_j.wx=this.co_j.x-this.maps.wx,this.co_j.wy=this.co_j.y-this.maps.wy,this.co_j.wx<96?this.maps.wx=this.co_j.x-96:224<this.co_j.wx&&(this.maps.wx=this.co_j.x-224),this.co_j.wy<78?this.maps.wy=this.co_j.y-78:176<this.co_j.wy&&(this.maps.wy=this.co_j.y-176),this.maps.wx<this.maps.wx_mini?this.maps.wx=this.maps.wx_mini:this.maps.wx>this.maps.wx_max&&(this.maps.wx=this.maps.wx_max),this.maps.wy<this.maps.wy_mini?this.maps.wy=this.maps.wy_mini:this.maps.wy>this.maps.wy_max&&(this.maps.wy=this.maps.wy_max)},G.prototype.jMove=function(){this.j_mizu_f=!1;var dl=this.maps.getBGCode(this.co_j.x+15,this.co_j.y+15);if(4==dl?(this.j_mizu_f=!0,this.j_jet_c=0,this.j_mizu_awa_c++,44==this.j_mizu_awa_c||54==this.j_mizu_awa_c?this.mSet(this.co_j.x,this.co_j.y+4,60):54<this.j_mizu_awa_c&&(this.j_mizu_awa_c=0)):8!=dl&&9!=dl||4!=this.maps.map_bg[(this.co_j.x+15>>5)-1][this.co_j.y+15>>5]||(this.j_mizu_f=!0,this.j_jet_c=0,this.j_mizu_awa_c++,44==this.j_mizu_awa_c||54==this.j_mizu_awa_c?this.mSet(this.co_j.x,this.co_j.y+4,60):54<this.j_mizu_awa_c&&(this.j_mizu_awa_c=0)),this.gk.tr1_f?this.tr1_c<6&&this.tr1_c++:this.tr1_c=0,this.gk.tr2_f?this.tr2_c<2&&this.tr2_c++:this.tr2_c=0,this.gk.left_f?this.gk.left_c<2&&this.gk.left_c++:this.gk.left_c=0,this.gk.right_f?this.gk.right_c<2&&this.gk.right_c++:this.gk.right_c=0,1==this.gk.left_c?(0<this.left_dcc?this.j_hashiru_f=!0:this.j_hashiru_f=!1,this.left_dcc=8):0<this.left_dcc&&this.left_dcc--,1==this.gk.right_c?(0<this.right_dcc?this.j_hashiru_f=!0:this.j_hashiru_f=!1,this.right_dcc=8):0<this.right_dcc&&this.right_dcc--,110==this.co_j.c)this.gk.left_f?(this.co_j.vx-=10,this.co_j.vx<-60&&(this.co_j.vx=-60)):this.gk.right_f&&(this.co_j.vx+=10,60<this.co_j.vx&&(this.co_j.vx=60)),this.co_j.c1++,2<this.co_j.c1&&(this.co_j.c=100),this.co_j.pt=109;else if(120==this.co_j.c)this.co_j.c1++,6<this.co_j.c1&&(this.co_j.c=100),this.co_j.pt=119;else if(200==this.co_j.c)this.co_j.vy+=25,100<this.co_j.vy&&(this.co_j.vy=100),this.co_j.y+=s(this.co_j.vy/10),this.co_j.wx=this.co_j.x-this.maps.wx,this.co_j.wy=this.co_j.y-this.maps.wy,this.co_j.c2<100?(this.co_j.c1<=0?(this.co_j.pt=110,this.co_j.muki=0):this.co_j.c1<=1?(this.co_j.pt=111,this.co_j.muki=0,this.co_j.c2++,4<this.co_j.c2&&(this.co_j.c2=100)):(this.co_j.c1<=2?this.co_j.pt=112:this.co_j.pt=113,this.co_j.muki=0),this.co_j.c1++,3<this.co_j.c1&&(this.co_j.c1=0)):(this.co_j.pt=112,this.co_j.muki=0),320<=this.co_j.wy&&(this.co_j.c=210,this.co_j.c1=0,this.co_j.y=this.maps.wy+320+32,this.co_j.pt=0);else if(210==this.co_j.c)this.stage_cc<=0&&(this.co_j.c1++,16<this.co_j.c1&&(this.j_left--,this.j_left<0?(this.j_left=0,this.ml_mode=300):2==this.stage_select?this.ml_mode=250:this.ml_mode=90));else if(220==this.co_j.c)this.co_j.pt=114,this.co_j.c1++,25<=this.co_j.c1&&(this.co_j.c=210,this.co_j.c1=0);else if(230==this.co_j.c)this.co_j.pt=115,this.co_j.c1++,25<=this.co_j.c1&&(this.co_j.c=210,this.co_j.c1=0);else if(240==this.co_j.c)100<=this.co_j.c2&&(this.co_j.y+=10),this.co_j.wx=this.co_j.x-this.maps.wx,this.co_j.wy=this.co_j.y-this.maps.wy,this.co_j.c2<100?(this.co_j.c1<=0?(this.co_j.pt=110,this.co_j.muki=0):this.co_j.c1<=1?(this.co_j.pt=111,this.co_j.muki=0,this.co_j.c2++,4<this.co_j.c2&&(this.co_j.c2=100)):(this.co_j.c1<=2?this.co_j.pt=112:this.co_j.pt=113,this.co_j.muki=0),this.co_j.c1++,3<this.co_j.c1&&(this.co_j.c1=0)):(this.co_j.pt=112,this.co_j.muki=0),320<=this.co_j.wy&&(this.co_j.c=210,this.co_j.c1=0,this.co_j.y=this.maps.wy+320+32,this.co_j.pt=0);else if(300==this.co_j.c)this.co_j.pt=1100,this.co_j.c1++,32<=this.co_j.c1&&(this.co_j.c=310,this.co_j.c1=0,this.co_j.pt=1110),this.co_j.wx=this.co_j.x-this.maps.wx,this.co_j.wy=this.co_j.y-this.maps.wy,this.co_j.wx<96?this.maps.wx=this.co_j.x-96:224<this.co_j.wx&&(this.maps.wx=this.co_j.x-224),this.co_j.wy<78?this.maps.wy=this.co_j.y-78:176<this.co_j.wy&&(this.maps.wy=this.co_j.y-176),this.maps.wx<this.maps.wx_mini?this.maps.wx=this.maps.wx_mini:this.maps.wx>this.maps.wx_max&&(this.maps.wx=this.maps.wx_max),this.maps.wy<this.maps.wy_mini?this.maps.wy=this.maps.wy_mini:this.maps.wy>this.maps.wy_max&&(this.maps.wy=this.maps.wy_max);else if(310==this.co_j.c){if(this.co_j.pt=1110,this.stage_cc<=0)if(this.co_j.c1++,2==this.dokan_mode){if(10<=this.co_j.c1){var el;for(this.co_j.c=320,this.co_j.c1=42,el=0;el<=this.a_kazu;el++)if(300==this.co_a[el].c&&1!=this.co_a[el].c4&&this.co_j.c2==this.co_a[el].c3&&(0==this.sl_step||1==this.sl_step||10==this.sl_step||11==this.sl_step)){this.co_j.x=this.co_a[el].x+16,this.co_j.y=this.co_a[el].y-32,this.co_a[el].c4=1;break}this.a_kazu;for(var fl=0;fl<=this.a_kazu;fl++)(100<=this.co_a[fl].c||60==this.co_a[fl].c)&&(this.co_a[fl].gf=!0,300!=this.co_a[fl].c||this.co_j.x==this.co_a[fl].x+16&&this.co_j.y==this.co_a[fl].y-32||(this.co_a[fl].c4=0));10!=this.sl_step&&11!=this.sl_step||(this.maps.wx=this.co_j.x-192,this.ks_wx=this.maps.wx),this.co_j.wx=this.co_j.x-this.maps.wx,this.co_j.wy=this.co_j.y-this.maps.wy,this.co_j.wx<96?this.maps.wx=this.co_j.x-96:224<this.co_j.wx&&(this.maps.wx=this.co_j.x-224),this.co_j.wy<78?this.maps.wy=this.co_j.y-78:176<this.co_j.wy&&(this.maps.wy=this.co_j.y-176),this.maps.wx<this.maps.wx_mini?this.maps.wx=this.maps.wx_mini:this.maps.wx>this.maps.wx_max&&(this.maps.wx=this.maps.wx_max),this.maps.wy<this.maps.wy_mini?this.maps.wy=this.maps.wy_mini:this.maps.wy>this.maps.wy_max&&(this.maps.wy=this.maps.wy_max)}}else if(10==this.co_j.c1){var gl;gl=1==this.co_j.c2?this.gg.ap.getParameter("url2"):2==this.co_j.c2?this.gg.ap.getParameter("url3"):3==this.co_j.c2?this.gg.ap.getParameter("url4"):this.gg.ap.getParameter("url1"),location.href=gl}else 80<this.co_j.c1&&(this.ml_mode=50)}else 320==this.co_j.c&&(this.co_j.pt=1100,this.co_j.c1--,this.co_j.c1<=0&&(this.co_j.c=100,this.co_j.c1=0,this.co_j.pt=100))},G.prototype.jShinu=function(hl){this.co_j.c1=0,this.co_j.c2=0,this.j_zan_f=!1,this.j_jet_c=0,this.j_v_c=0,1==hl?this.co_j.c=240:2==hl?(this.co_j.c=200,this.co_j.vy=-280):3==hl&&(this.co_j.c=220)},G.prototype.jZutuki=function(il,jl,kl){for(var ll=0;ll<=this.t_kazu;ll++)if(100<=this.co_t[ll].c){var ml=this.co_t[ll],nl=!1;1==kl?c.abs(il-ml.x)<25&&c.abs(jl-ml.y)<23&&(nl=!0):c.abs(il-ml.x)<34&&jl==ml.y&&(nl=!0),nl&&(il>ml.x?(ml.pth=1,ml.vx=-7):(ml.pth=0,ml.vx=7),ml.c=52,ml.vy=-32)}},G.prototype.tSet=function(ol,pl,ql,rl){for(var sl=0;sl<=119;sl++)if(!(0<this.co_t[sl].c)){var tl=this.co_t[sl];switch(tl.c=10,tl.c1=rl,tl.c2=ql,tl.c3=ol,tl.c4=pl,tl.x=ol,tl.y=pl,this.t_kazu++,ql){case 500:tl.y=pl-12,tl.c3=pl-52,tl.c4=pl-12,tl.vy=-4;break;case 600:tl.c3=0;break;case 900:this.airms_kf&&(tl.c2=950)}break}},G.prototype.tSetBoss=function(ul,vl,wl,xl){this.t_kazu=129;for(var yl=120;yl<=129;yl++)if(!(0<this.co_t[yl].c)){var zl=this.co_t[yl];switch(zl.c=wl,zl.c1=0,zl.c2=0,zl.c3=ul,zl.c4=vl,zl.x=ul,zl.y=vl,zl.vx=xl,wl){case 150:zl.vx=xl,zl.vy=-28,zl.vx<=0?zl.muki=0:zl.muki=1;break;case 450:zl.vx=xl,zl.vy=-22,zl.vx<=0?zl.muki=0:zl.muki=1;break;case 650:zl.vx=xl,zl.vy=-28,zl.vx<=0?zl.muki=0:zl.muki=1}break}},G.prototype.tMove=function(){for(var Al=!1,Bl=0;Bl<=this.t_kazu;Bl++)if(0!=this.co_t[Bl].c&&this.co_t[Bl].x>=this.maps.wx-512){var Cl=this.co_t[Bl],Dl=Cl.x,El=Cl.y;switch(Cl.c){case 10:this.maps.wx>=Cl.c1&&(Cl.c=Cl.c2,Cl.c1=0,Cl.c2=0);break;case 50:Cl.c1++,14<Cl.c1&&(Cl.c=0,this.addScore(10));break;case 52:Dl+=Cl.vx,Cl.vy+=5,25<Cl.vy&&(Cl.vy=25),(El+=Cl.vy)>this.maps.wy+320&&(Cl.c=0,this.addScore(10));break;case 100:if(Dl+12>>5<Dl+15>>5){var Fl=this.maps.map_bg[Dl+15>>5][El+31>>5];11==Fl||14==Fl?El=32*(El+31>>5)-32:10!=Fl&&12!=Fl||(El=32*(El+31>>5))}Dl-=3;var Gl=this.maps.map_bg[Dl+15>>5][El+31>>5];if(10<=Gl&&Gl<=15)El=32*(El+31>>5),El=this.sakamichiY(Dl,El);else{var Hl=this.maps.map_bg[Dl>>5][El+32>>5];Hl<=9&&(Dl=32*(Dl>>5)+32,10<=(Hl=this.maps.map_bg[Dl+15>>5][El+31>>5])&&Hl<=15&&(Dl-=15),Cl.c=105),20<=(Hl=this.maps.map_bg[Dl>>5][El+31>>5])&&(Dl=32*(Dl>>5)+32,Cl.c=105),10<=(Hl=this.maps.map_bg[Dl+15>>5][El+32>>5])&&Hl<=15&&(El=32*(El+32>>5),El=this.sakamichiY(Dl,El))}Cl.pt=140+this.g_ac,Cl.pth=0;break;case 105:if(Dl+15>>5<Dl+18>>5){var Il=this.maps.map_bg[Dl+15>>5][El+31>>5];10==Il||13==Il?El=32*(El+31>>5)-32:11!=Il&&15!=Il||(El=32*(El+31>>5))}Dl+=3;var Jl=this.maps.map_bg[Dl+15>>5][El+31>>5];if(10<=Jl&&Jl<=15)El=32*(El+31>>5),El=this.sakamichiY(Dl,El);else{var Kl=this.maps.map_bg[Dl+31>>5][El+32>>5];Kl<=9&&(Dl=32*(Dl+31>>5)-32,10<=(Kl=this.maps.map_bg[Dl+15>>5][El+31>>5])&&Kl<=15&&(Dl+=16),Cl.c=100),20<=(Kl=this.maps.map_bg[Dl+31>>5][El+31>>5])&&(Dl=32*(Dl+31>>5)-32,Cl.c=100),10<=(Kl=this.maps.map_bg[Dl+15>>5][El+32>>5])&&Kl<=15&&(El=32*(El+32>>5),El=this.sakamichiY(Dl,El))}Cl.pt=140+this.g_ac,Cl.pth=1;break;case 110:if(Dl+12>>5<Dl+15>>5){var Ll=this.maps.map_bg[Dl+15>>5][El+31>>5];11==Ll||14==Ll?El=32*(El+31>>5)-32:10!=Ll&&12!=Ll||(El=32*(El+31>>5))}Dl-=3;var Ml=this.maps.map_bg[Dl+15>>5][El+31>>5];if(10<=Ml&&Ml<=15)El=32*(El+31>>5),El=this.sakamichiY(Dl,El);else{var Nl=El+32>>5;if(this.maps.map_bg[Dl+31>>5][Nl]<=9){Dl=32*(Dl+31>>5);var Pl=this.maps.map_bg[Dl+15>>5][El+31>>5];10<=Pl&&Pl<=15&&(Dl-=15),Cl.c=120}if(Dl<32)Dl<=3&&(Cl.c=0);else 20<=this.maps.map_bg[Dl>>5][El+31>>5]&&(Dl=32*(Dl>>5)+32,Cl.c=115,this.maps.map_bg[Dl+15>>5][El+32>>5]<=9&&(Cl.c=120));120<=Bl&&Dl<this.maps.wx-32&&(Cl.c=0);var Rl=this.maps.map_bg[Dl+15>>5][Nl];10<=Rl&&Rl<=15&&(El=32*(El+32>>5),El=this.sakamichiY(Dl,El))}Cl.pt=140+this.g_ac,Cl.pth=0;break;case 115:if(Dl+15>>5<Dl+18>>5){var Sl=this.maps.map_bg[Dl+15>>5][El+31>>5];10==Sl||13==Sl?El=32*(El+31>>5)-32:11!=Sl&&15!=Sl||(El=32*(El+31>>5))}Dl+=3;var Tl=this.maps.map_bg[Dl+15>>5][El+31>>5];if(10<=Tl&&Tl<=15)El=32*(El+31>>5),El=this.sakamichiY(Dl,El);else{var Ul=El+32>>5;if(this.maps.map_bg[Dl>>5][Ul]<=9){Dl=32*(Dl>>5);var Wl=this.maps.map_bg[Dl+15>>5][El+31>>5];10<=Wl&&Wl<=15&&(Dl+=16),Cl.c=125}var Xl=this.maps.map_bg[Dl+31>>5][El+31>>5];20<=Xl&&(Dl=32*(Dl+31>>5)-32,Cl.c=110,this.maps.map_bg[Dl+15>>5][El+32>>5]<=9&&(Cl.c=125)),120<=Bl&&Dl>this.maps.wx+512&&(Cl.c=0),10<=(Xl=this.maps.map_bg[Dl+15>>5][Ul])&&Xl<=15&&(El=32*(El+32>>5),El=this.sakamichiY(Dl,El))}Cl.pt=140+this.g_ac,Cl.pth=1;break;case 120:El+=5;var Yl=this.maps.map_bg[Dl+15>>5][El+31>>5];if(10<=Yl&&Yl<=15){var Zl=this.sakamichiY(Dl,32*(El+31>>5));Zl<=El&&(El=Zl,Cl.c=110)}var $l=El+31>>5,_l=this.maps.map_bg[Dl>>5][$l],am=this.maps.map_bg[Dl+31>>5][$l];(20<=_l||20<=am)&&(El=32*$l-32,Cl.c=110),El>=this.ochiru_y&&(Cl.c=0),Cl.pt=140,Cl.pth=0;break;case 125:El+=5;var bm=this.maps.map_bg[Dl+15>>5][El+31>>5];if(10<=bm&&bm<=15){var cm=this.sakamichiY(Dl,32*(El+31>>5));cm<=El&&(El=cm,Cl.c=115)}var dm=El+31>>5,em=this.maps.map_bg[Dl>>5][dm],fm=this.maps.map_bg[Dl+31>>5][dm];(20<=em||20<=fm)&&(El=32*dm-32,Cl.c=115),El>=this.ochiru_y&&(Cl.c=0),Cl.pt=140,Cl.pth=1;break;case 150:Cl.vx<0&&(20<=this.maps.getBGCode(Dl,El)||20<=this.maps.getBGCode(Dl,El+31))&&(Dl=32*(Dl>>5)+32,Cl.vx=0),0<Cl.vx&&(20<=this.maps.getBGCode(Dl+31,El)||20<=this.maps.getBGCode(Dl+31,El+31))&&(Dl=32*(Dl+31>>5)-32,Cl.vx=0),Dl+=Cl.vx,Cl.vy+=2,18<Cl.vy&&(Cl.vy=18);var gm=(El+=Cl.vy)+31>>5,hm=this.maps.map_bg[Dl>>5][gm],im=this.maps.map_bg[Dl+31>>5][gm];(20<=hm||20<=im)&&(El=32*gm-32,1==Cl.muki?Cl.c=115:Cl.c=110),El>=this.ochiru_y&&(Cl.c=0),Cl.pt=140,Cl.pth=Cl.muki;break;case 200:Cl.c1<=0?this.co_j.x>=Dl-240&&this.co_j.x<=Dl+240&&(Cl.c=210,Cl.vy=-14):Cl.c1--,Cl.pt=143,Dl+8>=this.co_j.x?Cl.pth=0:Cl.pth=1;break;case 210:Cl.vy++,14<Cl.vy&&(Cl.vy=14),El+=Cl.vy,20<=this.maps.getBGCode(Dl+15,El+31)&&(El=32*(El+31>>5)-32,Cl.c=200,Cl.c1=30),El>=this.ochiru_y&&(Cl.c=0),0==Cl.vy&&(32<c.abs(this.co_j.x-Dl)||El<=this.co_j.y)&&this.mSet(Dl,El,100),Cl.vy<=-1?Cl.pt=144:Cl.pt=145,Dl+8>=this.co_j.x?Cl.pth=0:Cl.pth=1;break;case 300:0<Cl.c1?(Cl.c1++,2==Cl.c1||10==Cl.c1||18==Cl.c1||26==Cl.c1?Dl+8>=this.co_j.x?this.mSet(Dl,El,200):this.mSet(Dl,El,205):86<Cl.c1&&(Cl.c1=0)):this.co_j.x>=Dl-256&&this.co_j.x<=Dl+256&&(Cl.c1=1),Cl.pt=150,Dl+8>=this.co_j.x?Cl.pth=0:Cl.pth=1;break;case 400:Dl-=4,this.maps.getBGCode(Dl,El+32)<=9&&(Dl=32*(Dl>>5)+32,Cl.c=405),20<=this.maps.getBGCode(Dl,El+31)&&(Dl=32*(Dl>>5)+32,Cl.c=405),Cl.pt=152+this.g_ac,Cl.pth=0;break;case 405:Dl+=4,this.maps.getBGCode(Dl+31,El+32)<=9&&(Dl=32*(Dl+31>>5)-32,Cl.c=400),20<=this.maps.getBGCode(Dl+31,El+31)&&(Dl=32*(Dl+31>>5)-32,Cl.c=400),Cl.pt=152+this.g_ac,Cl.pth=1;break;case 410:Dl-=4;var jm=this.maps.map_bg[Dl+15>>5][El+31>>5];if(10<=jm&&jm<=15)El=32*(El+31>>5),El=this.sakamichiY(Dl,El);else{var km=El+32>>5;if(this.maps.map_bg[Dl+31>>5][km]<=9){Dl=32*(Dl+31>>5);var mm=this.maps.map_bg[Dl+15>>5][El+31>>5];10<=mm&&mm<=15&&(Dl-=15),Cl.c=420}if(Dl<32)Dl<=4&&(Cl.c=0);else 20<=this.maps.map_bg[Dl>>5][El+31>>5]&&(Dl=32*(Dl>>5)+32,Cl.c=415,this.maps.map_bg[Dl+15>>5][El+32>>5]<=9&&(Cl.c=420));120<=Bl&&Dl<this.maps.wx-32&&(Cl.c=0);var om=this.maps.map_bg[Dl+15>>5][km];10<=om&&om<=15&&(El=32*(El+32>>5),El=this.sakamichiY(Dl,El))}Cl.pt=152+this.g_ac,Cl.pth=0;break;case 415:Dl+=4;var pm=this.maps.map_bg[Dl+15>>5][El+31>>5];if(10<=pm&&pm<=15)El=32*(El+31>>5),El=this.sakamichiY(Dl,El);else{var qm=El+32>>5;if(this.maps.map_bg[Dl>>5][qm]<=9){Dl=32*(Dl>>5);var sm=this.maps.map_bg[Dl+15>>5][El+31>>5];10<=sm&&sm<=15&&(Dl+=16),Cl.c=425}var tm=this.maps.map_bg[Dl+31>>5][El+31>>5];20<=tm&&(Dl=32*(Dl+31>>5)-32,Cl.c=410,this.maps.map_bg[Dl+15>>5][El+32>>5]<=9&&(Cl.c=425)),120<=Bl&&Dl>this.maps.wx+512&&(Cl.c=0),10<=(tm=this.maps.map_bg[Dl+15>>5][qm])&&tm<=15&&(El=32*(El+32>>5),El=this.sakamichiY(Dl,El))}Cl.pt=152+this.g_ac,Cl.pth=1;break;case 420:var um=(El+=5)+31>>5,vm=this.maps.map_bg[Dl>>5][um],wm=this.maps.map_bg[Dl+31>>5][um];(20<=vm||20<=wm)&&(El=32*um-32,Cl.c=410),El>=this.ochiru_y&&(Cl.c=0),Cl.pt=152,Cl.pth=0;break;case 425:var xm=(El+=5)+31>>5,ym=this.maps.map_bg[Dl>>5][xm],zm=this.maps.map_bg[Dl+31>>5][xm];(20<=ym||20<=zm)&&(El=32*xm-32,Cl.c=415),El>=this.ochiru_y&&(Cl.c=0),Cl.pt=152,Cl.pth=1;break;case 450:Cl.vx<0&&(20<=this.maps.getBGCode(Dl,El)||20<=this.maps.getBGCode(Dl,El+31))&&(Dl=32*(Dl>>5)+32,Cl.vx=0),0<Cl.vx&&(20<=this.maps.getBGCode(Dl+31,El)||20<=this.maps.getBGCode(Dl+31,El+31))&&(Dl=32*(Dl+31>>5)-32,Cl.vx=0),Dl+=Cl.vx,Cl.vy+=2,18<Cl.vy&&(Cl.vy=18);var Am=(El+=Cl.vy)+31>>5,Bm=this.maps.map_bg[Dl>>5][Am],Cm=this.maps.map_bg[Dl+31>>5][Am];(20<=Bm||20<=Cm)&&(El=32*Am-32,1==Cl.muki?Cl.c=415:Cl.c=410),El>=this.ochiru_y&&(Cl.c=0),Cl.pt=152,Cl.pth=Cl.muki;break;case 500:El<=Cl.c3?(Cl.vy++,4<Cl.vy&&(Cl.vy=4)):El>=Cl.c4&&(Cl.vy--,Cl.vy<-4&&(Cl.vy=-4)),El+=Cl.vy,Cl.pt=147+this.g_ac,this.co_j.x<=Dl+8?Cl.pth=0:Cl.pth=1;break;case 510:(Dl-=3)<48?Dl<=3&&(Cl.c=0):20<=this.maps.getBGCode(Dl-16,El+31)&&(Dl=32*(Dl-16>>5)+32+16,Cl.c=515),Cl.pt=147+this.g_ac,Cl.pth=0;break;case 515:Dl+=3,20<=this.maps.getBGCode(Dl+31+16,El+31)&&(Dl=32*(Dl+31+16>>5)-32-16,Cl.c=510),Cl.pt=147+this.g_ac,Cl.pth=1;break;case 600:Cl.c1<25?(Cl.c1++,Cl.vy=-17,Cl.c3=0,Cl.pt=154,Cl.pth=0):(0==Cl.c3?(Cl.vy++,Cl.c3=1):(Cl.vy+=2,Cl.c3=0),17<Cl.vy&&(Cl.vy=17),El+=Cl.vy,Cl.vy<4?Cl.pt=155:Cl.pt=156,Cl.pth=0,(Dl-=5)<32?Dl<=3&&(Cl.c=0):(20<=this.maps.getBGCode(Dl+15,El+6)&&(El=32*(El+6>>5)+32-6,Cl.vy=0),20<=this.maps.getBGCode(Dl+15,El+31)&&(El=32*(El+31>>5)-32,Cl.c1=15,Cl.pt=154,Cl.pth=0),(20<=this.maps.getBGCode(Dl,El+31)||20<=this.maps.getBGCode(Dl,El+8))&&(Dl=32*(Dl>>5)+32,Cl.c=605),120<=Bl&&Dl<this.maps.wx-32&&(Cl.c=0))),El>=this.ochiru_y&&(Cl.c=0);break;case 605:Cl.c1<25?(Cl.c1++,Cl.vy=-17,Cl.c3=0,Cl.pt=154,Cl.pth=1):(0==Cl.c3?(Cl.vy++,Cl.c3=1):(Cl.vy+=2,Cl.c3=0),17<Cl.vy&&(Cl.vy=17),El+=Cl.vy,Cl.vy<4?Cl.pt=155:Cl.pt=156,Cl.pth=1,Dl+=5,20<=this.maps.getBGCode(Dl+15,El+6)&&(El=32*(El+6>>5)+32-6,Cl.vy=0),20<=this.maps.getBGCode(Dl+15,El+31)&&(El=32*(El+31>>5)-32,Cl.c1=15,Cl.pt=154,Cl.pth=1),(20<=this.maps.getBGCode(Dl+31,El+31)||20<=this.maps.getBGCode(Dl+31,El+8))&&(Dl=32*(Dl+31>>5)-32,Cl.c=600),120<=Bl&&Dl>this.maps.wx+512&&(Cl.c=0)),El>=this.ochiru_y&&(Cl.c=0);break;case 650:Cl.vx<0&&(20<=this.maps.getBGCode(Dl,El)||20<=this.maps.getBGCode(Dl,El+31))&&(Dl=32*(Dl>>5)+32,Cl.vx=0),0<Cl.vx&&(20<=this.maps.getBGCode(Dl+31,El)||20<=this.maps.getBGCode(Dl+31,El+31))&&(Dl=32*(Dl+31>>5)-32,Cl.vx=0),Dl+=Cl.vx,Cl.vy+=2,18<Cl.vy&&(Cl.vy=18);var Dm=(El+=Cl.vy)+31>>5,Em=this.maps.map_bg[Dl>>5][Dm],Fm=this.maps.map_bg[Dl+31>>5][Dm];(20<=Em||20<=Fm)&&(El=32*Dm-32,1==Cl.muki?Cl.c=605:Cl.c=600,Cl.c1=15),El>=this.ochiru_y&&(Cl.c=0),Cl.vy<4?Cl.pt=155:Cl.pt=156,Cl.pth=Cl.muki;break;case 700:this.yachamo_cf||(0<Cl.c1?(Cl.c1++,2==Cl.c1?Dl+8>=this.co_j.x?this.mSet(Dl,El,300):this.mSet(Dl,El,305):40<Cl.c1&&(Cl.c1=0)):this.co_j.x>=Dl-256&&this.co_j.x<=Dl+192&&96<=c.abs(this.co_j.x-Dl)&&(Cl.c1=1)),Cl.pt=158,Dl+8>=this.co_j.x?Cl.pth=0:Cl.pth=1;break;case 800:0<Cl.c1?(Cl.c1++,2==Cl.c1?Dl+8>=this.co_j.x?this.mSet(Dl,El,400):this.mSet(Dl,El,405):20<Cl.c1&&(Cl.c=810,Cl.c1=0)):Cl.c1<0?Cl.c1++:this.co_j.x>=Dl-240&&this.co_j.x<=Dl+240&&(Cl.c1=1),Cl.pt=160,Dl+8>=this.co_j.x?Cl.pth=0:Cl.pth=1;break;case 810:Cl.c1<=0?((Dl+=3)>=Cl.c3+96&&(Dl=Cl.c3+96,Cl.c1=10),this.maps.getBGCode(Dl+31,El+32)<=9&&(Dl=32*(Dl+31>>5)-32,Cl.c1=10),Cl.pt=161+this.g_ac,Cl.pth=1):Cl.c1<=35?(Cl.c1++,15==Cl.c1&&(Dl+8>=this.co_j.x?this.mSet(Dl,El,400):this.mSet(Dl,El,405)),Cl.pt=160,Dl+8>=this.co_j.x?Cl.pth=0:Cl.pth=1):((Dl-=3)<=Cl.c3&&(Dl=Cl.c3,Cl.c=800,Cl.c1=-20),this.maps.getBGCode(Dl,El+32)<=9&&(Dl=32*(Dl>>5)+32,Cl.c=800,Cl.c1=-20),Cl.pt=161+this.g_ac,Cl.pth=0);break;case 900:(Dl-=4)<48?Dl<=4&&(Cl.c=0):(Cl.c1++,1==Cl.c1?this.mSet(Dl,El+19,600):26<Cl.c1&&(Cl.c1=0),20<=this.maps.getBGCode(Dl,El+31)&&(Dl=32*(Dl>>5)+32,Cl.c=910)),Cl.pt=164,Cl.pth=0;break;case 910:Cl.pt=164,Cl.pth=0;break;case 950:(Dl-=4)<48?Dl<=4&&(Cl.c=0):(Cl.c1++,1==Cl.c1?this.mSet(Dl,El+19,600):26<Cl.c1&&(Cl.c1=0),20<=this.maps.getBGCode(Dl-16,El+31)&&(Dl=32*(Dl-16>>5)+32+16,Cl.c=960,Cl.c1=16)),Cl.pt=164,Cl.pth=0;break;case 960:Dl+=4,Cl.c1++,1==Cl.c1?this.mSet(Dl,El+19,605):26<Cl.c1&&(Cl.c1=0),20<=this.maps.getBGCode(Dl+31+16,El+31)&&(Dl=32*(Dl+31+16>>5)-32-16,Cl.c=950,Cl.c1=16),Cl.pt=164,Cl.pth=1;break;case 1e3:(Dl-=3)<=Cl.c3-256+16&&(Cl.c=1005),(20<=this.maps.getBGCode(Dl-16,El)||20<=this.maps.getBGCode(Dl-16,El+31))&&(Dl=32*(Dl-16>>5)+32+16,Cl.c=1005),Cl.pt=166,Cl.pth=0;break;case 1005:(Dl+=3)>=Cl.c3+16&&(Cl.c=1e3),(20<=this.maps.getBGCode(Dl+31+16,El)||20<=this.maps.getBGCode(Dl+31+16,El+31))&&(Dl=32*(Dl+31+16>>5)-32-16,Cl.c=1e3),Cl.pt=166,Cl.pth=1;break;case 1100:0<Cl.c1?(Cl.c1++,77<Cl.c1&&(Cl.c1=0)):c.abs(this.co_j.x-Dl)<=144&&c.abs(this.co_j.y-El)<=144&&(Cl.c1=1,this.mSet2(Dl,El,700,-3,-3),this.mSet2(Dl,El,700,3,-3),this.mSet2(Dl,El,700,-3,3),this.mSet2(Dl,El,700,3,3),this.mSet2(Dl,El,700,-4,0),this.mSet2(Dl,El,700,4,0),this.mSet2(Dl,El,700,0,-4),this.mSet2(Dl,El,700,0,4)),Cl.pt=167,Dl+8>=this.co_j.x?Cl.pth=0:Cl.pth=1}if(Cl.c<100)Cl.x=Dl,Cl.y=El;else{var Gm=c.abs(Dl-this.co_j.x);48<=Gm||100<=this.co_j.c&&this.co_j.c<200&&Gm<30&&c.abs(El-this.co_j.y)<23&&(0<this.j_v_c?(1==this.co_j.muki?(Cl.pth=0,Cl.vx=3):(Cl.pth=1,Cl.vx=-3),Cl.c=52,Cl.vy=-30):400<=Cl.c&&Cl.c<500||1e3<=Cl.c&&Cl.c<1200?this.jShinu(2):Gm<27&&0<this.co_j.vy&&!this.j_mizu_f||Al?(Cl.c<200?Cl.pt=142:Cl.c<300?Cl.pt=146:Cl.c<400?Cl.pt=151:Cl.c<600?Cl.pt=149:Cl.c<700?Cl.pt=157:Cl.c<800?Cl.pt=159:Cl.c<900?Cl.pt=163:Cl.c<1e3&&(Cl.pt=165),Cl.c=50,Cl.c1=0,this.co_j.y=El-12,this.co_j.vy=-160,this.j_jump_type=1,this.co_j.c=110,this.co_j.c1=0,this.co_j.pt=109,149!=Cl.pt&&165!=Cl.pt||(this.co_j.vy=-220,Cl.c1=-2),Al=!0):this.jShinu(2)),Cl.x=Dl,Cl.y=El}}},G.prototype.sakamichiY=function(Hm,Im){var Jm=Hm+15>>5,Km=Im+31>>5,Mm=Im;switch(this.maps.map_bg[Jm][Km]){default:break;case 10:var Nm=32*Km-(Hm+15)%32;Nm<Im&&(Mm=Nm);break;case 11:var Om=32*Km+(Hm+15)%32-31;Om<Im&&(Mm=Om);break;case 12:var Pm=32*Km-((Hm+15)%32>>1);Pm<Im&&(Mm=Pm);break;case 13:var Qm=32*Km-((Hm+15)%32>>1)-16;Qm<Im&&(Mm=Qm);break;case 14:var Rm=32*Km+((Hm+15)%32>>1)-31;Rm<Im&&(Mm=Rm);break;case 15:var Sm=32*Km+((Hm+15)%32>>1)-15;Sm<Im&&(Mm=Sm)}return Mm},G.prototype.mSet=function(Tm,Um,Vm){for(var Wm=0;Wm<=23;Wm++)if(!(0<this.co_m[Wm].c)){var Xm=this.co_m[Wm];switch(Xm.c=Vm,Xm.x=Tm,Xm.y=Um,Xm.c1=0,this.m_kazu++,Vm){case 90:Xm.c2=4,Xm.vx=0,Xm.vy=0;break;case 100:var Ym=this.co_j.x-Tm,Zm=this.co_j.y-Um,$m=c.floor(c.sqrt(Ym*Ym+Zm*Zm));$m<48?(this.m_kazu--,Xm.c=0):(Xm.vx=s(14*Ym/$m),Xm.vy=s(14*Zm/$m),Xm.x+=s(16*Xm.vx/14),Xm.y+=s(16*Xm.vy/14)),!this.dengeki_mkf&&0<Xm.c&&4==this.maps.getBGCode(Xm.x+15,Xm.y+15)&&(this.m_kazu--,Xm.c=0);break;case 200:Xm.vx=-4-this.ranInt(6),Xm.vy=-22,Xm.x+=Xm.vx,Xm.y+=Xm.vy;break;case 205:Xm.c=200,Xm.vx=4+this.ranInt(6),Xm.vy=-22,Xm.x+=Xm.vx,Xm.y+=Xm.vy;break;case 300:Xm.vx=-12,Xm.x+=Xm.vx;break;case 305:Xm.c=300,Xm.vx=12,Xm.x+=Xm.vx;break;case 400:Xm.vx=-80,Xm.vy=-225;break;case 405:Xm.c=400,Xm.vx=80,Xm.vy=-225;break;case 500:Xm.vx=-4,Xm.vy=-22;break;case 600:Xm.vx=-40,Xm.vy=0;break;case 605:Xm.c=600,Xm.vx=40,Xm.vy=0;break;case 2e3:Xm.c3=Um,Xm.vy=-210;break;case 2010:Xm.c=2e3,Xm.c3=Um-64,Xm.vy=-280;break;case 2020:Xm.c=2e3,Xm.c3=Um-32,Xm.vy=-250;break;case 2100:Xm.c2=0;break;case 2110:Xm.c=2100,Xm.c2=1;break;case 2120:Xm.c=2100,Xm.c2=2;break;case 2130:Xm.c=2100,Xm.c2=3;break;case 2140:Xm.c=2100,Xm.c2=4;break;case 2150:Xm.c=2100,Xm.c2=5;break;case 2160:Xm.c=2100,Xm.c2=6;break;case 2170:Xm.c=2100,Xm.c2=7;break;case 2180:Xm.c=2100,Xm.c2=8}break}},G.prototype.mSet2=function(_m,an,bn,cn,dn){for(var en=0;en<=23;en++)if(!(0<this.co_m[en].c)){var fn=this.co_m[en];switch(fn.c=bn,fn.x=_m,fn.y=an,fn.vx=cn,fn.vy=dn,fn.c1=0,this.m_kazu++,bn){case 500:fn.x+=fn.vx;break;case 700:fn.c2=0;break;case 710:fn.c=700,fn.c2=1}break}},G.prototype.mMove=function(){for(var gn=0;gn<=23;gn++)if(0!=this.co_m[gn].c){var hn=this.co_m[gn];switch(hn.c){case 50:hn.c1++,hn.c1<=5?hn.pt=80:hn.c1<=10?hn.pt=81:hn.c1<=16?hn.pt=82:hn.c=0,hn.pth=0;break;case 60:hn.y-=5;var jn=hn.y>>5,kn=this.maps.map_bg[hn.x+11>>5][jn];(kn<=3||20<=kn)&&(hn.c=0),((kn=this.maps.map_bg[hn.x+20>>5][jn])<=3||20<=kn)&&(hn.c=0),8!=(kn=this.maps.map_bg[hn.x+15>>5][jn])&&9!=kn||4==this.maps.map_bg[(hn.x+15>>5)-1][jn]||(hn.c=0),(hn.x<=this.maps.wx-32||hn.x>=this.maps.wx+512)&&(hn.c=0),(hn.y<=this.maps.wy-32||hn.y>=this.maps.wy+320)&&(hn.c=0),hn.pt=85,hn.pth=0;break;case 70:switch(hn.c1++,hn.c1){case 1:hn.c2=20;break;case 2:hn.c2=34;break;case 3:hn.c2=46;break;case 4:hn.c2=56;break;case 5:hn.c2=64;break;case 6:hn.c2=70;break;case 7:hn.c2=74;break;case 8:hn.c2=77;break;case 9:hn.c2=79;break;case 10:hn.c2=80}if(10<hn.c1&&(hn.c2=10,hn.c=0),100<=this.co_j.c&&this.co_j.c<200){var ln=this.co_j.x-hn.x,mn=this.co_j.y-hn.y;c.floor(c.sqrt(ln*ln+mn*mn))<=hn.c2+4&&this.j_v_c<=0&&this.jShinu(1)}hn.pt=1100,hn.pth=0;break;case 80:5<=hn.vy&&(2<hn.vx?hn.vx--:hn.vx<-2&&hn.vx++),hn.x+=hn.vx,hn.vy+=4,30<hn.vy&&(hn.vy=30),hn.y+=hn.vy,hn.y>=this.maps.wy+320&&(hn.c=0),hn.pt=136,hn.vx<0?hn.pth=0:hn.pth=1;break;case 90:if(hn.c2<48){if(hn.c2+=4,48<=hn.c2){hn.c2=48;var on=this.co_j.x-hn.x,pn=this.co_j.y-hn.y,qn=c.floor(c.sqrt(on*on+pn*pn));qn<32||this.co_j.c<100||200<=this.co_j.c?(hn.x<this.maps.wx+256?hn.vx=14:hn.vx=-14,hn.vy=0):(hn.vx=s(14*on/qn),hn.vy=s(14*pn/qn))}}else hn.x+=hn.vx,hn.y+=hn.vy,hn.x<=this.maps.wx-32-32||hn.x>=this.maps.wx+512+128+32?hn.c=0:(hn.y<=this.maps.wy-32-200-32||hn.y>=this.maps.wy+320+32)&&(hn.c=0);if(100<=this.co_j.c&&this.co_j.c<200){var rn=this.co_j.x-hn.x,sn=this.co_j.y-hn.y;c.floor(c.sqrt(rn*rn+sn*sn))+4<=hn.c2&&(0<this.j_v_c?hn.c=0:this.jShinu(1))}hn.pt=1e3;break;case 100:hn.x+=hn.vx,hn.y+=hn.vy;var un=hn.x+15>>5;(20<=this.maps.map_bg[un][hn.y+12>>5]||20<=this.maps.map_bg[un][hn.y+18>>5])&&(hn.c=0),this.dengeki_mkf||4!=this.maps.getBGCode(hn.x+15,hn.y+15)||(hn.c=0),hn.x<=this.maps.wx-32||hn.x>=this.maps.wx+512+128?hn.c=0:(hn.y<=this.maps.wy-32-200||hn.y>=this.maps.wy+320)&&(hn.c=0),0==this.g_c1?hn.pt=120:hn.pt=121,hn.pth=0;break;case 200:hn.x+=hn.vx,hn.vy+=2,12<hn.vy&&(hn.vy=12);var vn=hn.vy;switch(vn<-18&&(vn=-18),hn.y+=vn,hn.y>=this.maps.wy+320&&(hn.c=0),this.g_c2){case 0:hn.pt=122;break;case 1:hn.pt=123;break;case 2:hn.pt=124;break;case 3:hn.pt=125}hn.pth=0;break;case 300:hn.x+=hn.vx;var wn=hn.y+15>>5;(20<=this.maps.map_bg[hn.x+8>>5][wn]||20<=this.maps.map_bg[hn.x+23>>5][wn])&&(hn.c=0),(hn.x<=this.maps.wx-32||hn.x>=this.maps.wx+512+128)&&(hn.c=0),0==this.g_c1?hn.pt=126:hn.pt=127,hn.vx<=0?hn.pth=0:hn.pth=1;break;case 400:hn.x+=s(hn.vx/10),hn.vy+=25,180<hn.vy&&(hn.vy=180),hn.y+=s(hn.vy/10),hn.y>=this.maps.wy+320&&(hn.c=0);var xn=hn.x+15>>5;20<=this.maps.map_bg[xn][hn.y+15>>5]&&(hn.c=0),0==this.g_c1?hn.pt=128:hn.pt=129,hn.vx<=0?hn.pth=0:hn.pth=1;break;case 500:5<=hn.vy&&(2<hn.vx?hn.vx--:hn.vx<-2&&hn.vx++),hn.x+=hn.vx,hn.vy+=2,12<hn.vy&&(hn.vy=12);var yn=hn.vy;yn<-16&&(yn=-16),hn.y+=yn,hn.y>=this.maps.wy+320&&(hn.c=0),hn.pt=139,hn.pth=0;break;case 600:0<hn.vx?hn.vx-=2:hn.vx<0&&(hn.vx+=2),hn.x+=s(hn.vx/10),hn.vy+=8,200<hn.vy&&(hn.vy=200),hn.y+=s(hn.vy/10),20<=this.maps.map_bg[hn.x+15>>5][hn.y+15>>5]&&(hn.c=610,hn.c1=0,hn.y=32*(hn.y+15>>5)-16),hn.x<=this.maps.wx-32-64||hn.x>=this.maps.wx+512+64?hn.c=0:(hn.y<=this.maps.wy-32-200||hn.y>=this.maps.wy+320)&&(hn.c=0),28<hn.vx?(hn.pt=171,hn.pth=1):(hn.vx<-28?hn.pt=171:hn.pt=170,hn.pth=0);break;case 610:hn.c1++,hn.c1<=3?hn.pt=172:hn.c1<=6?hn.pt=173:hn.c1<=9?hn.pt=174:(hn.c=0,hn.pt=198),hn.pth=0;break;case 700:hn.x+=hn.vx,hn.y+=hn.vy,hn.x<=this.maps.wx-32||hn.x>=this.maps.wx+512+32?hn.c=0:(hn.y<=this.maps.wy-64||hn.y>=this.maps.wy+320+64)&&(hn.c=0);var zn=this.maps.getBGCode(hn.x+15,hn.y+15);0==hn.c2&&20<=zn&&(hn.c=0),0==hn.c2&&zn<=3&&(hn.c=0),hn.pt=168+this.g_c1,hn.pth=0;break;case 800:5<=hn.vy&&(2<hn.vx?hn.vx--:hn.vx<-2&&hn.vx++),hn.x+=hn.vx,hn.vy+=4,28<hn.vy&&(hn.vy=28),hn.y+=hn.vy,hn.y>=this.maps.wy+320&&(hn.c=0),20<=this.maps.getBGCode(hn.x+15,hn.y+31)&&(hn.c=70,hn.y=32*(hn.y+31>>5)-16,hn.c1=1,hn.c2=20),hn.pt=137+this.g_c1,hn.vx<0?hn.pth=0:hn.pth=1;break;case 2e3:hn.vy+=30,180<hn.vy&&(hn.vy=180),hn.y+=s(hn.vy/10),0<=hn.vy&&hn.y>=hn.c3&&(hn.y=hn.c3,hn.vy=0),(hn.x<=this.maps.wx-32||hn.x>=this.maps.wx+512)&&(hn.c=0),hn.pt=90+this.g_ac2,hn.pth=0;break;case 2100:(hn.x<=this.maps.wx-32||hn.x>=this.maps.wx+512)&&(hn.c=0),hn.pt=42+hn.c2,8==hn.c2&&(hn.pt=59),hn.pth=0;break;case 2200:hn.x<this.maps.wx?hn.x=this.maps.wx:hn.x>this.maps.wx+512-32&&(hn.x=this.maps.wx+512-32),hn.y<this.maps.wy+64?hn.y=this.maps.wy+64:hn.y>this.maps.wy+224&&(hn.y=this.maps.wy+224),2<=this.stage_max&&this.stage>=this.stage_max?0==this.g_ac2?hn.pt=99:hn.pt=98:0==this.g_ac2?hn.pt=95:hn.pt=94,hn.pth=0}0==hn.c?this.m_kazu--:100<=this.co_j.c&&this.co_j.c<200&&(2e3<=hn.c?c.abs(hn.x-this.co_j.x)<=14&&hn.y<=this.co_j.y+26&&hn.y+15>=this.co_j.y&&(this.addScore(5),2100==hn.c?0==hn.c2?this.j_fire_f=!0:1==hn.c2?(this.j_v_c=150,this.j_v_kakudo=0):2==hn.c2?0<this.time_max&&(this.time+=3e4):3==hn.c2?this.j_jet_fuel+=80:4==hn.c2?this.j_helm_f=!0:5==hn.c2?this.j_tail_f=!0:6==hn.c2?this.j_drell_f=!0:7==hn.c2?this.j_gr_kazu++:8==hn.c2&&this.j_left++:2200==hn.c&&(this.stage_cc=1,2<=this.stage_max&&this.stage>=this.stage_max?this.addScore(995):this.addScore(95)),hn.c=0,this.m_kazu--):100<=hn.c&&c.abs(hn.x-this.co_j.x)<=23&&c.abs(hn.y-this.co_j.y)<=28&&(0<this.j_v_c?(hn.c=0,this.m_kazu--):(this.jShinu(1),800==hn.c&&(hn.c=70,hn.c1=1,hn.c2=20))))}},G.prototype.jmSet=function(An,Bn,Cn){for(var Dn=0;Dn<=1;Dn++)if(!(0<this.co_jm[Dn].c)){var En=this.co_jm[Dn];switch(En.c=Cn,En.x=An,En.y=Bn+8,En.c1=0,this.jm_kazu++,Cn){case 60:case 65:En.x=An+16,En.y=Bn,En.vx=An+16,En.c4=8,this.j_gr_kazu--;break;case 100:En.vx=s(this.co_j.vx/10)-10,En.vy=-28,c.abs(En.vx)<2&&(En.vx=-2);break;case 105:En.vx=s(this.co_j.vx/10)+10,En.vy=-28,c.abs(En.vx)<2&&(En.vx=2);break;case 200:En.vx=s(this.co_j.vx/10)-10,En.vy=-32,c.abs(En.vx)<2&&(En.vx=-2),5!=this.grenade_type&&6!=this.grenade_type||(En.y=Bn,En.vx=-20,En.vy=0),this.j_gr_kazu--;break;case 205:En.c=200,En.vx=s(this.co_j.vx/10)+10,En.vy=-35,c.abs(En.vx)<2&&(En.vx=2),5!=this.grenade_type&&6!=this.grenade_type||(En.y=Bn,En.vx=20,En.vy=0),this.j_gr_kazu--}break}},G.prototype.jmMove=function(){for(var Fn=0;Fn<=1;Fn++)if(0!=this.co_jm[Fn].c){var Gn=this.co_jm[Fn];switch(Gn.c){case 50:switch(Gn.c1++,Gn.c1){case 1:Gn.c2=20;break;case 2:Gn.c2=34;break;case 3:Gn.c2=46;break;case 4:Gn.c2=56;break;case 5:Gn.c2=64;break;case 6:Gn.c2=70;break;case 7:Gn.c2=74;break;case 8:Gn.c2=77;break;case 9:Gn.c2=79;break;case 10:Gn.c2=80}10<Gn.c1&&(Gn.c2=10,Gn.c=0);for(var Hn=0;Hn<=this.t_kazu;Hn++)if(100<=this.co_t[Hn].c){var In=this.co_t[Hn],Jn=In.x-Gn.x,Kn=In.y-Gn.y;c.floor(c.sqrt(Jn*Jn+Kn*Kn))<=Gn.c2+8&&(Gn.x>In.x?(In.pth=1,In.vx=-3):(In.pth=0,In.vx=3),In.c=52,In.vy=-25)}if((1==this.grenade_type||5==this.grenade_type)&&100<=this.co_b.c){var Mn=this.co_b.x-Gn.x,Nn=this.co_b.y-Gn.y;c.floor(c.sqrt(Mn*Mn+Nn*Nn))<=Gn.c2+20&&(this.co_b.c<200?(this.co_b.c=67,this.co_b.vy=-24,this.co_b.c1=0,Gn.x>this.co_b.x?(this.co_b.muki=1,this.co_b.pt=1005,this.co_b.vx=-4):(this.co_b.muki=0,this.co_b.pt=1e3,this.co_b.vx=4)):this.co_b.c<300?(this.co_b.c=77,this.co_b.vy=-24,this.co_b.c1=0,Gn.x>this.co_b.x?(this.co_b.muki=1,this.co_b.pt=1105,this.co_b.vx=-4):(this.co_b.muki=0,this.co_b.pt=1100,this.co_b.vx=4)):(this.co_b.c=87,this.co_b.vy=-24,this.co_b.c1=0,Gn.x>this.co_b.x?(this.co_b.muki=1,this.co_b.pt=1205,this.co_b.vx=-4):(this.co_b.muki=0,this.co_b.pt=1200,this.co_b.vx=4)))}Gn.pt=1e3,Gn.pth=0;break;case 60:Gn.y=this.co_j.y,Gn.x-=28,Gn.x<=this.maps.wx-32&&(Gn.x=this.maps.wx-32),0<Gn.c4?(Gn.c4--,Gn.vx=this.co_j.x+16):(Gn.vx-=28,Gn.vx<=Gn.x&&(Gn.c=0));for(var Pn=0;Pn<=this.t_kazu;Pn++)if(100<=this.co_t[Pn].c){var Qn=this.co_t[Pn];Qn.x>Gn.x-12&&Qn.x<Gn.vx+12&&c.abs(Qn.y-Gn.y)<24&&(Qn.pth=0,Qn.vx=-3,Qn.c=52,Qn.vy=-25)}3==this.grenade_type&&100<=this.co_b.c&&this.co_b.x>Gn.x-24&&this.co_b.x<Gn.vx+24&&c.abs(this.co_b.y-Gn.y)<36&&(this.co_b.c<200?(this.co_b.c=67,this.co_b.vy=-24,this.co_b.c1=0,this.co_b.muki=1,this.co_b.pt=1005):this.co_b.c<300?(this.co_b.c=77,this.co_b.vy=-24,this.co_b.c1=0,this.co_b.muki=1,this.co_b.pt=1105):(this.co_b.c=87,this.co_b.vy=-24,this.co_b.c1=0,this.co_b.muki=1,this.co_b.pt=1205),this.co_b.vx=-4),(this.co_j.c<100||200<=this.co_j.c)&&(Gn.c=0),Gn.pt=1200;break;case 65:Gn.y=this.co_j.y,Gn.x+=28,Gn.x>=this.maps.wx+512+32&&(Gn.x=this.maps.wx+512+32),0<Gn.c4?(Gn.c4--,Gn.vx=this.co_j.x+16):(Gn.vx+=28,Gn.vx>=Gn.x&&(Gn.c=0));for(var Rn=0;Rn<=this.t_kazu;Rn++)if(100<=this.co_t[Rn].c){var Sn=this.co_t[Rn];Sn.x>Gn.vx-12&&Sn.x<Gn.x+12&&c.abs(Sn.y-Gn.y)<24&&(Sn.pth=0,Sn.vx=3,Sn.c=52,Sn.vy=-25)}3==this.grenade_type&&100<=this.co_b.c&&this.co_b.x>Gn.vx-24&&this.co_b.x<Gn.x+24&&c.abs(this.co_b.y-Gn.y)<36&&(this.co_b.c<200?(this.co_b.c=67,this.co_b.vy=-24,this.co_b.c1=0,this.co_b.muki=0,this.co_b.pt=1e3):this.co_b.c<300?(this.co_b.c=77,this.co_b.vy=-24,this.co_b.c1=0,this.co_b.muki=0,this.co_b.pt=1100):(this.co_b.c=87,this.co_b.vy=-24,this.co_b.c1=0,this.co_b.muki=0,this.co_b.pt=1200),this.co_b.vx=4),(this.co_j.c<100||200<=this.co_j.c)&&(Gn.c=0),Gn.pt=1205;break;case 100:Gn.x+=Gn.vx,20<=this.maps.getBGCode(Gn.x+7,Gn.y+15)&&(Gn.c=0),Gn.vy+=5,30<Gn.vy&&(Gn.vy=30),Gn.y+=Gn.vy,Gn.vy<0&&20<=this.maps.getBGCode(Gn.x+15,Gn.y+8)&&(Gn.c=0),20<=this.maps.getBGCode(Gn.x+15,Gn.y+23)&&(Gn.y=32*(Gn.y+23>>5)-24,Gn.vy=-28),this.j_fire_mkf||4!=this.maps.getBGCode(Gn.x+15,Gn.y+15)||(Gn.c=0),(Gn.x<=this.maps.wx-24||Gn.x>=this.maps.wx+512-8||Gn.y<=this.maps.wy-128||Gn.y>=this.maps.wy+384)&&(Gn.c=0),Gn.pt=130+this.g_c2,Gn.pth=0;break;case 105:Gn.x+=Gn.vx,20<=this.maps.getBGCode(Gn.x+23,Gn.y+15)&&(Gn.c=0),Gn.vy+=5,30<Gn.vy&&(Gn.vy=30),Gn.y+=Gn.vy,Gn.vy<0&&20<=this.maps.getBGCode(Gn.x+15,Gn.y+8)&&(Gn.c=0),20<=this.maps.getBGCode(Gn.x+15,Gn.y+23)&&(Gn.y=32*(Gn.y+23>>5)-24,Gn.vy=-28),this.j_fire_mkf||4!=this.maps.getBGCode(Gn.x+15,Gn.y+15)||(Gn.c=0),(Gn.x<=this.maps.wx-24||Gn.x>=this.maps.wx+512-8||Gn.y<=this.maps.wy-128||Gn.y>=this.maps.wy+384)&&(Gn.c=0),Gn.pt=130+this.g_c2,Gn.pth=1;break;case 200:Gn.x+=Gn.vx,5!=this.grenade_type&&6!=this.grenade_type&&(Gn.vy+=5,30<Gn.vy&&(Gn.vy=30),Gn.y+=Gn.vy,0<Gn.vy&&20<=this.maps.getBGCode(Gn.x+15,Gn.y+31)&&(Gn.c=50,Gn.y=32*(Gn.y+31>>5)-16,Gn.c1=1,Gn.c2=20)),20<=this.maps.getBGCode(Gn.x+15,Gn.y+15)&&(Gn.c=50,Gn.c1=1,Gn.c2=20),(Gn.x<=this.maps.wx-64||Gn.x>=this.maps.wx+512+64||Gn.y<=this.maps.wy-128||Gn.y>=this.maps.wy+384)&&(Gn.c=0),Gn.pt=137+this.g_c1,Gn.vx<0?Gn.pth=0:Gn.pth=1}if(0==Gn.c)this.jm_kazu--;else if(100<=Gn.c)for(var Tn=0;Tn<=this.t_kazu;Tn++)if(!(this.co_t[Tn].c<100)){var Un=this.co_t[Tn];if(!(22<=c.abs(Gn.x-Un.x)||22<=c.abs(Gn.y-Un.y))){Gn.vx<0?(Un.pth=1,Un.vx=-3):(Un.pth=0,Un.vx=3),Un.c=52,Un.vy=-25,200==Gn.c?(Gn.c=50,Gn.c1=1,Gn.c2=20):(Gn.c=0,this.jm_kazu--);break}}}},G.prototype.aSet=function(Vn,Wn,Xn,Yn){for(var Zn=0;Zn<=31;Zn++)if(!(0<this.co_a[Zn].c)){var $n=this.co_a[Zn];switch($n.c=Xn,$n.c1=Yn-512-32,$n.c2=Yn+128,$n.x=Vn,$n.y=Wn,this.a_kazu++,Xn){case 60:$n.pt=200;break;case 70:$n.vx=-3,$n.c3=0,$n.c1=Vn-512-150,$n.c2=Vn+150;break;case 71:$n.c=70,$n.vx=3,$n.c3=0,$n.c1=Vn-512-150,$n.c2=Vn+150;break;case 80:$n.pt=800,$n.c3=1;break;case 81:$n.c=80,$n.pt=800,$n.c3=2;break;case 82:$n.c=80,$n.pt=800,$n.c3=3;break;case 83:$n.c=80,$n.pt=800,$n.c3=4;break;case 100:$n.vy=5,$n.x=Vn+8,$n.y=Wn-212,$n.c3=Wn-212,$n.c4=Wn+2,$n.pt=100;break;case 110:$n.vx=-3,$n.x=Vn+208,$n.c3=Vn,$n.c4=Vn+208,$n.pt=100,$n.c2=Yn+208+128+32;break;case 115:$n.c=110,$n.vx=-3,$n.x=Vn+208,$n.c3=Vn,$n.c4=Vn+208,$n.pt=100,$n.c2=Yn+208+128+342+32;break;case 116:$n.c=110,$n.vx=3,$n.x=Vn+320,$n.c3=Vn+320,$n.c4=Vn+208+320,$n.pt=100,$n.c2=Yn+208+128+320+32;break;case 120:$n.vx=Vn+160,$n.vy=Wn,$n.x=Vn+8,$n.y=Wn,$n.c3=0,$n.muki=1,$n.c1=$n.vx-512-32-130,$n.c2=$n.vx+128+130,$n.pt=100;break;case 121:$n.c=120,$n.vx=Vn+160,$n.vy=Wn,$n.x=Vn+8,$n.y=Wn,$n.c3=0,$n.muki=0,$n.c1=$n.vx-512-32-130,$n.c2=$n.vx+128+130,$n.pt=100;break;case 300:$n.pt=300,$n.c3=0,$n.c4=0;break;case 310:$n.c=300,$n.pt=310,$n.c3=1,$n.c4=0;break;case 320:$n.c=300,$n.pt=320,$n.c3=2,$n.c4=0;break;case 330:$n.c=300,$n.pt=330,$n.c3=3,$n.c4=0;break;case 400:$n.pt=400,$n.c3=0,$n.vy=Wn;break;case 500:$n.vy=0,$n.x=Vn,$n.y=Wn,$n.c3=0,$n.c4=0,$n.pt=500;break;case 510:$n.c=500,$n.vy=0,$n.x=Vn,$n.y=Wn,$n.c3=0,$n.c4=1,$n.pt=500;break;case 600:$n.pt=600,$n.c3=0,$n.c4=0,$n.vx=0,$n.vy=Wn;break;case 700:$n.pt=700,$n.c3=0}break}},G.prototype.aMove=function(){this.j_a_id=-1,this.j_jdai_f=!1,this.a_hf=!1;for(var bo=0;bo<=this.a_kazu;bo++){var co=this.co_a[bo];if(0!=co.c)if(this.maps.wx<=co.c1||this.maps.wx>=co.c2)co.gf=!1;else{var eo=co.x,fo=co.y;switch(co.c){case 60:eo>this.maps.wx-80&&eo<this.maps.wx+512&&fo>this.maps.wy-96&&fo<this.maps.wy+320?(co.gf=!0,this.a_hf=!0,this.g_c3<=3?co.pt=200:co.pt=210):co.gf=!1;break;case 70:if(co.c3+=co.vx,co.c3<0?co.c3+=360:360<=co.c3&&(co.c3-=360),eo>this.maps.wx-150&&eo<this.maps.wx+512+150&&fo>this.maps.wy-150&&fo<this.maps.wy+320+150){co.gf=!0,this.a_hf=!0,co.pt=1100;var go=.017453292519943295,ho=eo+c.floor(25*c.cos(co.c3*go)),io=fo+c.floor(25*c.sin(co.c3*go));this.vo_x[bo][0]=ho,this.vo_y[bo][0]=io;var jo=eo+c.floor(140*c.cos(co.c3*go)),ko=fo+c.floor(140*c.sin(co.c3*go));if(this.vo_x[bo][1]=jo,this.vo_y[bo][1]=ko,this.vo_x[bo][2]=eo+c.floor(31*c.cos(co.c3*go)),this.vo_y[bo][2]=fo+c.floor(31*c.sin(co.c3*go)),this.vo_x[bo][3]=eo+c.floor(134*c.cos(co.c3*go)),this.vo_y[bo][3]=fo+c.floor(134*c.sin(co.c3*go)),100<=this.co_j.c&&this.co_j.c<200&&this.j_v_c<=0)if(c.abs(ho-jo)>=c.abs(io-ko)){if(this.co_j.x+15>ho&&this.co_j.x+15<jo){var lo=jo-ho,oo=s((this.co_j.x+15-ho)*(ko-io)/lo)+io;oo>this.co_j.y-12&&oo<this.co_j.y+44&&this.jShinu(1)}else if(this.co_j.x+15>jo&&this.co_j.x+15<ho){var po=ho-jo,so=s((this.co_j.x+15-jo)*(io-ko)/po)+ko;so>this.co_j.y-12&&so<this.co_j.y+44&&this.jShinu(1)}}else if(this.co_j.y+15>io&&this.co_j.y+15<ko){var to=ko-io,wo=s((this.co_j.y+15-io)*(jo-ho)/to)+ho;wo>this.co_j.x-12&&wo<this.co_j.x+44&&this.jShinu(1)}else if(this.co_j.y+15>ko&&this.co_j.y+15<io){var xo=io-ko,Ao=s((this.co_j.y+15-ko)*(ho-jo)/xo)+jo;Ao>this.co_j.x-12&&Ao<this.co_j.x+44&&this.jShinu(1)}}else co.gf=!1;break;case 80:eo>this.maps.wx-32&&eo<this.maps.wx+512&&fo>this.maps.wy-32&&fo<this.maps.wy+320?(co.gf=!0,this.a_hf=!0,this.co_j.x>=eo-80&&this.co_j.x<=eo+64&&c.abs(fo-this.co_j.y)<32&&(this.hitokoto_c=10,this.hitokoto_num=co.c3)):co.gf=!1;break;case 100:eo>this.maps.wx-80-32&&eo<this.maps.wx+512+32&&fo>this.maps.wy-16&&fo<this.maps.wy+320+32?(co.gf=!0,this.a_hf=!0,100==this.co_j.c&&this.co_j.x+15>=eo&&this.co_j.x<=eo+64&&this.co_j.y==fo-32&&(this.j_a_id=bo)):co.gf=!1,fo<=co.c3?(co.vy++,5<co.vy&&(co.vy=5)):fo>=co.c4&&(co.vy--,co.vy<-5&&(co.vy=-5)),fo+=co.vy,100==this.co_j.c&&(this.j_a_id==bo&&(this.co_j.y=fo-32),co.vy<0&&20<=this.maps.getBGCode(this.co_j.x+15,this.co_j.y)&&(this.co_j.y=32*(this.co_j.y>>5)+16,this.jShinu(3)),this.co_j.x+15>=eo&&this.co_j.x<=eo+64&&this.co_j.y+31>=fo&&this.co_j.y<=fo+13&&(0<co.vy?(this.co_j.y=fo+14,18<=this.maps.getBGCode(this.co_j.x+15,this.co_j.y+31)&&(this.co_j.y=32*(this.co_j.y+31>>5)-32,this.jShinu(3))):(this.co_j.y=fo-32,this.j_a_id=bo)));break;case 110:if(eo>this.maps.wx-80-32&&eo<this.maps.wx+512+32&&fo>this.maps.wy-16&&fo<this.maps.wy+320+32?(co.gf=!0,this.a_hf=!0,100==this.co_j.c&&this.co_j.x+15>=eo&&this.co_j.x<=eo+64&&this.co_j.y==fo-32&&(this.j_a_id=bo)):co.gf=!1,eo<=co.c3?(co.vx++,3<co.vx&&(co.vx=3)):eo>=co.c4&&(co.vx--,co.vx<-3&&(co.vx=-3)),eo+=co.vx,100==this.co_j.c){if(this.j_a_id==bo)if(this.co_j.x+=co.vx,0<co.vx){var Bo=this.co_j.x+15>>5,Co=this.co_j.y>>5,Do=this.co_j.y+31>>5;(20<=this.maps.map_bg[Bo][Co]||20<=this.maps.map_bg[Bo][Do])&&(this.co_j.x=32*Bo-16)}else if(co.vx<0){var Eo=this.co_j.x+15>>5,Fo=this.co_j.y>>5,Go=this.co_j.y+31>>5;(20<=this.maps.map_bg[Eo][Fo]||20<=this.maps.map_bg[Eo][Go])&&(this.co_j.x=32*Eo+32-14)}if(this.co_j.x+15>=eo&&this.co_j.x<=eo+64&&this.co_j.y+31>=fo&&this.co_j.y<=fo+13)if(0<co.vx){this.co_j.x=eo+65;var Ho=this.co_j.x+15>>5,Io=this.co_j.y>>5,Jo=this.co_j.y+31>>5;(20<=this.maps.map_bg[Ho][Io]||20<=this.maps.map_bg[Ho][Jo])&&(this.co_j.c=230,this.co_j.x=32*Ho-32+11,this.co_j.c1=0,this.j_zan_f=!1,this.j_jet_c=0,this.j_v_c=0)}else{this.co_j.x=eo-16;var Ko=this.co_j.x+15>>5,Lo=this.co_j.y>>5;this.co_j.y;(20<=this.maps.map_bg[Ko][Lo]||20<=this.maps.map_bg[Ko][Lo])&&(this.co_j.c=230,this.co_j.x=32*Ko+32-11,this.co_j.c1=0,this.j_zan_f=!1,this.j_jet_c=0,this.j_v_c=0)}}break;case 120:eo>this.maps.wx-80-32&&eo<this.maps.wx+512+32&&fo>this.maps.wy-16&&fo<this.maps.wy+320+32?(co.gf=!0,this.a_hf=!0,100==this.co_j.c&&this.co_j.x+15>=eo&&this.co_j.x<=eo+64&&this.co_j.y==fo-32&&(this.j_a_id=bo)):co.gf=!1,1==co.muki?(co.c3+=2,360<=co.c3&&(co.c3-=360)):(co.c3-=2,co.c3<0&&(co.c3+=360));var No=3.14*co.c3/180,Qo=co.vx+c.floor(126*c.cos(No))+16-40-eo,Ro=co.vy+c.floor(-126*c.sin(No))+16-7-fo;if(fo+=Ro,100==this.co_j.c&&(this.j_a_id==bo&&(this.co_j.y+=Ro),Ro<0&&20<=this.maps.getBGCode(this.co_j.x+15,this.co_j.y)&&(this.co_j.y=32*(this.co_j.y>>5)+16,this.jShinu(3)),this.co_j.x+15>=eo&&this.co_j.x<=eo+64&&this.co_j.y+31>=fo&&this.co_j.y<=fo+13&&(0<Ro?(this.co_j.y=fo+14,18<=this.maps.getBGCode(this.co_j.x+15,this.co_j.y+31)&&(this.co_j.y=32*(this.co_j.y+31>>5)-32,this.jShinu(3))):(this.co_j.y=fo-32,this.j_a_id=bo))),eo+=Qo,100==this.co_j.c){if(this.j_a_id==bo)if(this.co_j.x+=Qo,0<Qo){var So=this.co_j.x+15>>5,To=this.co_j.y>>5,Uo=this.co_j.y+31>>5;(20<=this.maps.map_bg[So][To]||20<=this.maps.map_bg[So][Uo])&&(this.co_j.x=32*So-16)}else if(Qo<0){var Vo=this.co_j.x+15>>5,Wo=this.co_j.y>>5,Xo=this.co_j.y+31>>5;(20<=this.maps.map_bg[Vo][Wo]||20<=this.maps.map_bg[Vo][Xo])&&(this.co_j.x=32*Vo+32-14)}if(this.co_j.x+15>=eo&&this.co_j.x<=eo+64&&this.co_j.y+31>=fo&&this.co_j.y<=fo+13)if(0<Qo){this.co_j.x=eo+65;var Yo=this.co_j.x+15>>5,Zo=this.co_j.y>>5,$o=this.co_j.y+31>>5;(20<=this.maps.map_bg[Yo][Zo]||20<=this.maps.map_bg[Yo][$o])&&(this.co_j.c=230,this.co_j.x=32*Yo-32+11,this.co_j.c1=0,this.j_zan_f=!1,this.j_jet_c=0,this.j_v_c=0)}else{this.co_j.x=eo-16;var _o=this.co_j.x+15>>5,ap=this.co_j.y>>5,bp=this.co_j.y+31>>5;(20<=this.maps.map_bg[_o][ap]||20<=this.maps.map_bg[_o][bp])&&(this.co_j.c=230,this.co_j.x=32*_o+32-11,this.co_j.c1=0,this.j_zan_f=!1,this.j_jet_c=0,this.j_v_c=0)}}break;case 300:eo>this.maps.wx-96&&eo<this.maps.wx+512&&fo>this.maps.wy-64&&fo<this.maps.wy+320?(co.gf=!0,this.a_hf=!0,100==this.co_j.c&&this.co_j.x+15>=eo&&this.co_j.x<=eo+48&&this.co_j.y==fo-32&&(this.j_a_id=bo,this.co_j.x+15>=eo+24&&this.co_j.x<=eo+48-24&&this.co_j.y==fo-32&&1!=co.c4&&(0==this.sl_step||1==this.sl_step||10==this.sl_step||11==this.sl_step||2!=this.dokan_mode)&&(this.co_j.c1=-10,this.co_j.c2=co.c3,this.j_zan_f=!1,this.j_jet_c=0,this.j_v_c=0,this.co_j.c=300,this.co_j.x=eo+16,this.co_j.y=fo-32,this.co_j.vx=0,this.co_j.vy=0,co.c4=1)),100==this.co_j.c&&this.j_a_id!=bo&&(co.c4=0)):co.gf=!1;break;case 400:eo>this.maps.wx-96&&eo<this.maps.wx+512&&fo>this.maps.wy-64&&fo<this.maps.wy+320?(co.gf=!0,this.a_hf=!0,100==this.co_j.c&&this.co_j.x+15>=eo&&this.co_j.x<=eo+80&&this.co_j.y==fo-32&&(this.j_a_id=bo)):co.gf=!1,0==co.c3?eo-64<this.co_j.x+15&&eo+96+64>this.co_j.x+15&&(co.c3=1):co.c3<100?(co.c3++,8<co.c3&&(co.c3=100)):100==co.c3?(fo+=12)>=co.vy+128&&(fo=co.vy+128,co.c3=200):200==co.c3&&(fo-=3)<=co.vy&&(fo=co.vy,co.c3=0,eo<=this.co_j.x+15&&eo+96>this.co_j.x+15&&(co.c3=100)),100==this.co_j.c&&(this.j_a_id==bo&&(this.co_j.y=fo-32,200==co.c3&&20<=this.maps.getBGCode(this.co_j.x+15,this.co_j.y)&&(this.co_j.y=32*(this.co_j.y>>5)+16,this.jShinu(3))),this.co_j.x+15>=eo&&this.co_j.x<=eo+80&&this.co_j.y+31>=fo&&this.co_j.y<=fo+63&&(100==co.c3?(this.co_j.y=fo+64,18<=this.maps.getBGCode(this.co_j.x+15,this.co_j.y+31)&&(this.co_j.y=32*(this.co_j.y+31>>5)-32,this.jShinu(3))):200==co.c3&&(this.co_j.y=fo-32,this.j_a_id=bo,20<=this.maps.getBGCode(this.co_j.x+15,this.co_j.y)&&(this.co_j.y=32*(this.co_j.y>>5)+16,this.jShinu(3)))));break;case 500:eo>this.maps.wx-96-32&&eo<this.maps.wx+512+32&&fo>this.maps.wy-32&&fo<=this.maps.wy+368?(co.gf=!0,this.a_hf=!0,100==this.co_j.c&&this.co_j.x+15>=eo&&this.co_j.x<=eo+80&&this.co_j.y==fo-32?(this.j_a_id=bo,1==co.c4?co.c3<50&&(co.c3<=0?co.c3=1:co.c3<=30?co.c3++:(co.c3=55,co.vy=0)):co.c3<=0&&(co.c3=51,co.vy=0)):1==co.c4&&co.c3<50&&(co.c3=0)):co.gf=!1,0<co.c3&&(51<=co.c3&&co.c3<=54?co.c3++:55<=co.c3&&co.c3<100&&(co.vy<16&&co.vy++,fo+=co.vy,20<=this.maps.getBGCode(eo+32,fo+13)&&(fo=32*(fo+13>>5)-14,co.c3=100),fo>=this.ochiru_y+48&&(co.c=0,co.gf=!1))),100==this.co_j.c&&this.j_a_id==bo&&(this.co_j.y=fo-32);break;case 600:if(eo>this.maps.wx-96&&eo<this.maps.wx+512&&fo>this.maps.wy-64&&fo<this.maps.wy+320?(co.gf=!0,this.a_hf=!0,100==this.co_j.c&&this.co_j.x+15>=eo&&this.co_j.x<=eo+48&&this.co_j.y==fo+16-32&&(this.j_a_id=bo)):co.gf=!1,co.pt=600,co.c3<=0?(co.vx=0,this.j_a_id==bo&&(co.c3=100,co.c4=0,co.vx=2),this.co_j.x>=eo-144&&(co.pt=605)):100==co.c3?(co.c1=eo-512-32,co.c2=eo+128,this.j_a_id!=bo?(co.c4++,50<co.c4&&(co.c3=0)):co.c4=0,co.pt=605):200==co.c3&&(co.pt=605,co.vx=0),eo+=co.vx,(20<=this.maps.getBGCode(eo+63+16,fo)||20<=this.maps.getBGCode(eo+63+16,fo+32))&&(eo=32*(eo+63+16>>5)-64-16,co.vx=eo-co.x,co.c3=200),100==this.co_j.c){if(this.j_a_id==bo&&(this.co_j.x+=co.vx,0<co.vx)){var cp=this.co_j.x+15>>5,dp=this.co_j.y>>5,ep=this.co_j.y+31>>5;(20<=this.maps.map_bg[cp][dp]||20<=this.maps.map_bg[cp][ep])&&(this.co_j.x=32*cp-16)}this.co_j.x+15>=eo&&this.co_j.x<=eo+48&&this.co_j.y+31>=fo+16&&this.co_j.y<=fo+47&&(this.co_j.x=eo+49)}break;case 700:eo>this.maps.wx-96&&eo<this.maps.wx+512&&fo>this.maps.wy-64&&fo<this.maps.wy+320?(co.gf=!0,this.a_hf=!0,100==this.co_j.c&&this.co_j.x+15>=eo&&this.co_j.x<=eo+16&&(1<=co.c3&&co.c3<=2&&this.co_j.y==fo-32+10?this.j_a_id=bo:3<=co.c3&&co.c3<=4&&this.co_j.y==fo-32+16?this.j_a_id=bo:5<=co.c3&&co.c3<=6&&this.co_j.y==fo-32+10?this.j_a_id=bo:this.co_j.y==fo-32&&(this.j_a_id=bo))):co.gf=!1,this.j_a_id==bo?(this.co_j.vx=0,this.co_j.vy=0,this.co_j.x=eo,this.j_jdai_f=!0,co.c3++,co.c3<=2?(co.pt=710,this.co_j.y=fo-32+10):co.c3<=4?(co.pt=720,this.co_j.y=fo-32+16):co.c3<=6?(co.pt=710,this.co_j.y=fo-32+10):7<=co.c3&&(co.pt=700,this.co_j.y=fo-32,co.c3=0,this.j_a_id=-1,this.j_jump_type=4,this.co_j.pt=101,this.co_j.ac=0,this.co_j.vy=-255,this.j_jump_level=1,4==this.maps.getBGCode(eo,fo)&&(this.co_j.vy=-75))):(co.c3=0,co.pt=700)}if(0<this.jm_kazu)for(var fp=0;fp<=1;fp++)if(100<=this.co_jm[fp].c){var gp=this.co_jm[fp];co.c<200?gp.x+15>=eo&&gp.x<=eo+64&&gp.y+29>=fo&&gp.y+2<=fo+13&&(200==gp.c?(gp.c=50,gp.y=fo-8,gp.c1=1,gp.c2=20):(gp.c=0,this.jm_kazu--)):300==co.c?gp.x+15>=eo&&gp.x<=eo+48&&gp.y+29>=fo&&gp.y+2<=fo+31&&(200==gp.c?(gp.c=50,gp.c1=1,gp.c2=20):(gp.c=0,this.jm_kazu--)):400==co.c?gp.x+15>=eo&&gp.x<=eo+80&&gp.y+29>=fo&&gp.y+2<=fo+63&&(200==gp.c?(gp.c=50,gp.c1=1,gp.c2=20):(gp.c=0,this.jm_kazu--)):500==co.c&&gp.x+15>=eo&&gp.x<=eo+80&&gp.y+29>=fo&&gp.y+2<=fo+13&&(200==gp.c?(gp.c=50,gp.y=fo-8,gp.c1=1,gp.c2=20):(gp.c=0,this.jm_kazu--))}co.x=eo,co.y=fo}}},G.prototype.bMove=function(){if(!(this.co_b.x>=this.maps.wx+1024)){switch(this.co_b.c){case 40:this.co_b.c1<20&&this.co_b.c1++,15==this.co_b.c1&&this.mSet(this.maps.wx+256,this.maps.wy+128,2200),this.co_b.pt=0;break;case 60:this.co_b.c1++,this.co_b.c4<=0?26<=this.co_b.c1&&(this.co_b.c=40,this.co_b.c1=0,this.addScore(10)):11<=this.co_b.c1&&(this.co_b.c=150),this.co_b.pt=1010;break;case 65:this.co_b.c1++,11<=this.co_b.c1&&(this.co_b.c=155),this.co_b.pt=1015;break;case 67:this.co_b.vy+=4,28<this.co_b.vy&&(this.co_b.vy=28),this.co_b.x+=this.co_b.vx,this.co_b.y+=this.co_b.vy,this.co_b.y>=this.maps.wy+320+16&&(this.co_b.c=40,this.co_b.c1=0,this.addScore(10)),1==this.co_b.muki?this.co_b.pt=1005:this.co_b.pt=1e3;break;case 70:this.co_b.c1++,this.co_b.c4<=0?26<=this.co_b.c1&&(this.co_b.c=40,this.co_b.c1=0,this.addScore(10)):11<=this.co_b.c1&&(this.co_b.c=250),this.co_b.pt=1110;break;case 75:this.co_b.c1++,11<=this.co_b.c1&&(this.co_b.c=255),this.co_b.pt=1115;break;case 77:this.co_b.vy+=4,28<this.co_b.vy&&(this.co_b.vy=28),this.co_b.x+=this.co_b.vx,this.co_b.y+=this.co_b.vy,this.co_b.y>=this.maps.wy+320+16&&(this.co_b.c=40,this.co_b.c1=0,this.addScore(10)),1==this.co_b.muki?this.co_b.pt=1105:this.co_b.pt=1100;break;case 80:this.co_b.c1++,this.co_b.c4<=0?26<=this.co_b.c1&&(this.co_b.c=40,this.co_b.c1=0,this.addScore(10)):11<=this.co_b.c1&&(this.co_b.c=350),this.co_b.pt=1210;break;case 85:this.co_b.c1++,11<=this.co_b.c1&&(this.co_b.c=355),this.co_b.pt=1215;break;case 87:this.co_b.vy+=4,28<this.co_b.vy&&(this.co_b.vy=28),this.co_b.x+=this.co_b.vx,this.co_b.y+=this.co_b.vy,this.co_b.y>=this.maps.wy+320+16&&(this.co_b.c=40,this.co_b.c1=0,this.addScore(10)),1==this.co_b.muki?this.co_b.pt=1205:this.co_b.pt=1200;break;case 100:2!=this.sl_step&&3!=this.sl_step||(this.co_b.c=110,this.co_b.c1=0),this.co_b.pt=1e3;break;case 110:if(2==this.boss_type){var hp=150;this.co_b.c1++,1==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,hp,-2):5==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,hp,-4):7==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,hp,-6):9==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,hp,-8):21==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,hp,-2):91==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,hp,-2):95==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,hp,-4):97==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,hp,-6):99==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,hp,-8):111==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,hp,-2):170==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,hp,-4):180==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,hp,-2):250<this.co_b.c1&&(this.co_b.c1=250)}else if(3==this.boss_type){var ip=450;this.co_b.c1++,5==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,ip,-3):20==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,ip,-3):35==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,ip,-3):50==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,ip,-3):65==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,ip,-3):80==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,ip,-3):95==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,ip,-3):110==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,ip,-3):250<this.co_b.c1&&(this.co_b.c1=250)}else if(4==this.boss_type){this.co_b.c1++,1==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,650,-5):15==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,650,-3):29==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,650,-2):81==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,650,-5):95==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,650,-3):109==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,650,-2):165==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,650,-3):250<this.co_b.c1&&(this.co_b.c1=250)}else if(this.co_b.c1++,3==this.co_b.c1)this.mSet2(this.co_b.x,this.co_b.y,500,-4,-18),this.mSet2(this.co_b.x,this.co_b.y,500,4,-18);else if(14==this.co_b.c1)this.mSet2(this.co_b.x,this.co_b.y,500,-6,-20),this.mSet2(this.co_b.x,this.co_b.y,500,6,-20);else if(20==this.co_b.c1)this.mSet2(this.co_b.x,this.co_b.y,500,-3,-24),this.mSet2(this.co_b.x,this.co_b.y,500,3,-24);else if(28<=this.co_b.c1&&this.co_b.c1<=98)this.co_b.c1%7==0&&this.mSet2(this.co_b.x,this.co_b.y,500,-15+this.ranInt(20),-30);else if(130==this.co_b.c1){var kp=this.ranInt(8)+3;this.mSet2(this.co_b.x,this.co_b.y,500,kp,-30),this.mSet2(this.co_b.x,this.co_b.y,500,-kp,-30)}else 150<=this.co_b.c1&&(this.co_b.c1=98);this.co_b.pt=1e3;break;case 115:if(2==this.boss_type){var lp=150;this.co_b.c1++,1==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,lp,2):5==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,lp,4):7==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,lp,6):9==this.co_b.c1&&3!=this.boss_type?this.tSetBoss(this.co_b.x,this.co_b.y,lp,8):21==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,lp,2):91==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,lp,2):95==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,lp,4):97==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,lp,6):99==this.co_b.c1&&3!=this.boss_type?this.tSetBoss(this.co_b.x,this.co_b.y,lp,8):111==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,lp,2):170==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,lp,4):180==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,lp,2):250<this.co_b.c1&&(this.co_b.c1=250)}else if(3==this.boss_type){var mp=450;this.co_b.c1++,5==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,mp,3):20==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,mp,3):35==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,mp,3):50==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,mp,3):65==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,mp,3):80==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,mp,3):95==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,mp,3):110==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,mp,3):250<this.co_b.c1&&(this.co_b.c1=250)}else if(4==this.boss_type){this.co_b.c1++,1==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,650,5):15==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,650,3):29==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,650,2):81==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,650,5):95==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,650,3):109==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,650,2):165==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,650,3):250<this.co_b.c1&&(this.co_b.c1=250)}else if(this.co_b.c1++,3==this.co_b.c1)this.mSet2(this.co_b.x,this.co_b.y,500,-4,-18),this.mSet2(this.co_b.x,this.co_b.y,500,4,-18);else if(14==this.co_b.c1)this.mSet2(this.co_b.x,this.co_b.y,500,-6,-20),this.mSet2(this.co_b.x,this.co_b.y,500,6,-20);else if(20==this.co_b.c1)this.mSet2(this.co_b.x,this.co_b.y,500,-3,-24),this.mSet2(this.co_b.x,this.co_b.y,500,3,-24);else if(28<=this.co_b.c1&&this.co_b.c1<=98)this.co_b.c1%7==0&&this.mSet2(this.co_b.x,this.co_b.y,500,15-this.ranInt(20),-30);else if(130==this.co_b.c1){var op=this.ranInt(8)+3;this.mSet2(this.co_b.x,this.co_b.y,500,op,-30),this.mSet2(this.co_b.x,this.co_b.y,500,-op,-30)}else 150<=this.co_b.c1&&(this.co_b.c1=98);this.co_b.pt=1005;break;case 150:this.co_b.x-=14,this.co_b.x<=this.sl_wx+96&&(this.co_b.x=this.sl_wx+96,this.co_b.c=115,this.co_b.c1=0),this.co_b.pt=1e3;break;case 155:this.co_b.x+=14,this.co_b.x>=this.sl_wx+512-96-32&&(this.co_b.x=this.sl_wx+512-96-32,this.co_b.c=110,this.co_b.c1=0),this.co_b.pt=1005;break;case 200:2!=this.sl_step&&3!=this.sl_step||(this.co_b.c=210,this.co_b.c1=0),this.co_b.pt=1100;break;case 210:if(this.co_b.c1++,2==this.boss2_type)if(10==this.co_b.c1||85==this.co_b.c1||215==this.co_b.c1)for(var pp=0;pp<=7;pp++){var qp=45*pp*3.14/180,rp=c.floor(8*c.cos(qp)),sp=-1*c.floor(8*c.sin(qp));this.mSet2(this.co_b.x,this.co_b.y-8,710,rp,sp)}else if(35==this.co_b.c1||110==this.co_b.c1||295==this.co_b.c1)for(var tp=0;tp<=7;tp++){var up=3.14*(45*tp+15)/180,vp=c.floor(8*c.cos(up)),wp=-1*c.floor(8*c.sin(up));this.mSet2(this.co_b.x,this.co_b.y-8,710,vp,wp)}else if(60==this.co_b.c1||135==this.co_b.c1||375==this.co_b.c1)for(var xp=0;xp<=7;xp++){var yp=3.14*(45*xp+30)/180,zp=c.floor(8*c.cos(yp)),Ap=-1*c.floor(8*c.sin(yp));this.mSet2(this.co_b.x,this.co_b.y-8,710,zp,Ap)}else 445<this.co_b.c1&&(this.co_b.c1=0);else 5==this.co_b.c1||35==this.co_b.c1||65==this.co_b.c1||110==this.co_b.c1||185==this.co_b.c1?this.mSet(this.co_b.x,this.co_b.y,90):185<this.co_b.c1&&(this.co_b.c1=110);this.co_b.pt=1100;break;case 215:if(this.co_b.c1++,2==this.boss2_type)if(10==this.co_b.c1||85==this.co_b.c1||215==this.co_b.c1)for(var Bp=0;Bp<=7;Bp++){var Cp=45*Bp*3.14/180,Dp=c.floor(8*c.cos(Cp)),Ep=-1*c.floor(8*c.sin(Cp));this.mSet2(this.co_b.x,this.co_b.y-8,710,Dp,Ep)}else if(35==this.co_b.c1||110==this.co_b.c1||295==this.co_b.c1)for(var Fp=0;Fp<=7;Fp++){var Gp=3.14*(45*Fp+15)/180,Hp=c.floor(8*c.cos(Gp)),Ip=-1*c.floor(8*c.sin(Gp));this.mSet2(this.co_b.x,this.co_b.y-8,710,Hp,Ip)}else if(60==this.co_b.c1||135==this.co_b.c1||375==this.co_b.c1)for(var Jp=0;Jp<=7;Jp++){var Kp=3.14*(45*Jp+30)/180,Lp=c.floor(8*c.cos(Kp)),Mp=-1*c.floor(8*c.sin(Kp));this.mSet2(this.co_b.x,this.co_b.y-8,710,Lp,Mp)}else 445<this.co_b.c1&&(this.co_b.c1=0);else 5==this.co_b.c1||35==this.co_b.c1||65==this.co_b.c1||110==this.co_b.c1||185==this.co_b.c1?this.mSet(this.co_b.x,this.co_b.y,90):185<this.co_b.c1&&(this.co_b.c1=110);this.co_b.pt=1105;break;case 250:this.co_b.x-=14,this.co_b.x<=this.sl_wx+96&&(this.co_b.x=this.sl_wx+96,this.co_b.c=215,this.co_b.c1=0),this.co_b.pt=1100;break;case 255:this.co_b.x+=14,this.co_b.x>=this.sl_wx+512-96-32&&(this.co_b.x=this.sl_wx+512-96-32,this.co_b.c=210,this.co_b.c1=0),this.co_b.pt=1105;break;case 300:2!=this.sl_step&&3!=this.sl_step||(2<=this.boss3_type&&this.boss3_type<=4?(this.co_b.c=360,this.co_b.vy=-24):this.co_b.c=310,this.co_b.c1=0),this.co_b.pt=1200;break;case 310:this.co_b.c1++,1==this.co_b.c1?this.mSet2(this.co_b.x,this.co_b.y,800,-5,-32):15==this.co_b.c1?(this.mSet2(this.co_b.x,this.co_b.y,800,-10,-32),this.co_j.x>this.co_b.x-64&&(this.co_b.c1=500)):29==this.co_b.c1?this.mSet2(this.co_b.x,this.co_b.y,800,-15,-32):65==this.co_b.c1?this.mSet2(this.co_b.x-2,this.co_b.y,800,-20,-32):80==this.co_b.c1?this.mSet2(this.co_b.x,this.co_b.y,800,-5,-32):105==this.co_b.c1?this.mSet2(this.co_b.x,this.co_b.y,800,-15,-32):147==this.co_b.c1?this.mSet2(this.co_b.x,this.co_b.y,800,-10,-32):237==this.co_b.c1?this.co_b.c1=0:520==this.co_b.c1?this.mSet2(this.co_b.x,this.co_b.y,800,4,-32):530==this.co_b.c1?(this.mSet2(this.co_b.x,this.co_b.y,800,-5,-32),this.co_b.c1=1):530<this.co_b.c1&&(this.co_b.c1=1),this.co_b.pt=1200;break;case 315:this.co_b.c1++,1==this.co_b.c1?this.mSet2(this.co_b.x,this.co_b.y,800,5,-32):15==this.co_b.c1?(this.mSet2(this.co_b.x,this.co_b.y,800,10,-32),this.co_j.x<this.co_b.x+64&&(this.co_b.c1=500)):29==this.co_b.c1?this.mSet2(this.co_b.x,this.co_b.y,800,15,-32):65==this.co_b.c1?this.mSet2(this.co_b.x+2,this.co_b.y,800,20,-32):80==this.co_b.c1?this.mSet2(this.co_b.x,this.co_b.y,800,5,-32):105==this.co_b.c1?this.mSet2(this.co_b.x,this.co_b.y,800,15,-32):147==this.co_b.c1?this.mSet2(this.co_b.x,this.co_b.y,800,10,-32):237==this.co_b.c1?this.co_b.c1=0:520==this.co_b.c1?this.mSet2(this.co_b.x,this.co_b.y,800,-4,-32):530==this.co_b.c1?(this.mSet2(this.co_b.x,this.co_b.y,800,5,-32),this.co_b.c1=1):530<this.co_b.c1&&(this.co_b.c1=1),this.co_b.pt=1205;break;case 350:this.co_b.x-=14,this.co_b.x<=this.sl_wx+96&&(this.co_b.x=this.sl_wx+96,2<=this.boss3_type&&this.boss3_type<=4?(this.co_b.c=365,this.co_b.vy=-24):this.co_b.c=315,this.co_b.c1=0),this.co_b.pt=1200;break;case 355:this.co_b.x+=14,this.co_b.x>=this.sl_wx+512-96-32&&(this.co_b.x=this.sl_wx+512-96-32,2<=this.boss3_type&&this.boss3_type<=4?(this.co_b.c=360,this.co_b.vy=-24):this.co_b.c=310,this.co_b.c1=0),this.co_b.pt=1205;break;case 360:this.co_b.pt=1200,this.co_b.c1<5?this.co_b.c1++:this.co_b.c1<25?(this.co_b.c1++,this.co_b.pt=1250):25==this.co_b.c1?(3==this.boss3_type?(this.co_b.x-=18,this.co_b.x<=this.sl_wx+16&&(this.co_b.x=this.sl_wx+16,this.co_b.c1=30)):4==this.boss3_type?(this.co_b.x-=3,this.co_b.vy+=2,24<this.co_b.vy&&(this.co_b.vy=24),this.co_b.y+=this.co_b.vy,this.co_b.y>=this.boss_kijyun_y&&(this.co_b.y=this.boss_kijyun_y,this.co_b.vy=-24,this.co_b.x<=this.sl_wx+16&&(this.co_b.c1=30))):(this.co_b.x-=12,this.co_b.x<=this.sl_wx+16&&(this.co_b.x=this.sl_wx+16,this.co_b.c1=30)),this.co_b.pt=1250):30==this.co_b.c1?(3==this.boss3_type?(this.co_b.x+=18,this.co_b.x>=this.sl_wx+512-48&&(this.co_b.x=this.sl_wx+512-48,this.co_b.c1=40)):4==this.boss3_type?(this.co_b.x+=4,this.co_b.vy+=2,24<this.co_b.vy&&(this.co_b.vy=24),this.co_b.y+=this.co_b.vy,this.co_b.y>=this.boss_kijyun_y&&(this.co_b.y=this.boss_kijyun_y,this.co_b.vy=-24,this.co_b.x>=this.sl_wx+512-48&&(this.co_b.c1=40))):(this.co_b.x+=8,this.co_b.x>=this.sl_wx+512-48&&(this.co_b.x=this.sl_wx+512-48,this.co_b.c1=40)),this.co_b.pt=1255):40==this.co_b.c1&&(this.co_b.x-=2,this.co_b.x<=this.sl_wx+512-96-32&&(this.co_b.x=this.sl_wx+512-96-32,this.co_b.c1=-20));break;case 365:this.co_b.pt=1205,this.co_b.c1<5?this.co_b.c1++:this.co_b.c1<25?(this.co_b.c1++,this.co_b.pt=1255):25==this.co_b.c1?(3==this.boss3_type?(this.co_b.x+=18,this.co_b.x>=this.sl_wx+512-48&&(this.co_b.x=this.sl_wx+512-48,this.co_b.c1=30)):4==this.boss3_type?(this.co_b.x+=3,this.co_b.vy+=2,24<this.co_b.vy&&(this.co_b.vy=24),this.co_b.y+=this.co_b.vy,this.co_b.y>=this.boss_kijyun_y&&(this.co_b.y=this.boss_kijyun_y,this.co_b.vy=-24,this.co_b.x>=this.sl_wx+512-48&&(this.co_b.c1=30))):(this.co_b.x+=12,this.co_b.x>=this.sl_wx+512-48&&(this.co_b.x=this.sl_wx+512-48,this.co_b.c1=30)),this.co_b.pt=1255):30==this.co_b.c1?(3==this.boss3_type?(this.co_b.x-=18,this.co_b.x<=this.sl_wx+16&&(this.co_b.x=this.sl_wx+16,this.co_b.c1=40)):4==this.boss3_type?(this.co_b.x-=4,this.co_b.vy+=2,24<this.co_b.vy&&(this.co_b.vy=24),this.co_b.y+=this.co_b.vy,this.co_b.y>=this.boss_kijyun_y&&(this.co_b.y=this.boss_kijyun_y,this.co_b.vy=-24,this.co_b.x<=this.sl_wx+16&&(this.co_b.c1=40))):(this.co_b.x-=8,this.co_b.x<=this.sl_wx+16&&(this.co_b.x=this.sl_wx+16,this.co_b.c1=40)),this.co_b.pt=1250):40==this.co_b.c1&&(this.co_b.x+=2,this.co_b.x>=this.sl_wx+96&&(this.co_b.x=this.sl_wx+96,this.co_b.c1=-20))}if(100<=this.co_j.c&&this.co_j.c<200&&100<=this.co_b.c&&c.abs(this.co_b.x-this.co_j.x)<42&&this.co_j.y>this.co_b.y-20&&this.co_j.y<this.co_b.y+40&&(1250==this.co_b.pt||1255==this.co_b.pt?this.jShinu(2):c.abs(this.co_b.x-this.co_j.x)<34&&0<this.co_j.vy?(this.co_b.c<200?(this.co_b.c4--,1==this.co_b.c4?(this.co_b.c=65,this.co_b.c1=0,this.co_b.pt=1015):(this.co_b.c=60,this.co_b.c1=0,this.co_b.pt=1010)):this.co_b.c<300?(this.co_b.c4--,1==this.co_b.c4?(this.co_b.c=75,this.co_b.c1=0,this.co_b.pt=1115):(this.co_b.c=70,this.co_b.c1=0,this.co_b.pt=1110)):(this.co_b.c4--,1==this.co_b.c4?(this.co_b.c=85,this.co_b.c1=0,this.co_b.pt=1215):(this.co_b.c=80,this.co_b.c1=0,this.co_b.pt=1210)),this.co_j.y=this.co_b.y,this.co_j.vy=-320,this.j_jump_type=1,this.co_j.c=110,this.co_j.c1=-4,this.co_j.pt=109):this.jShinu(2)),0<this.jm_kazu&&100<=this.co_b.c)for(var Np=0;Np<=1;Np++)if(100<=this.co_jm[Np].c){var Op=this.co_jm[Np];c.abs(this.co_b.x-Op.x)<34&&c.abs(this.co_b.y-Op.y)<30&&(200==Op.c?(Op.c=50,Op.c1=1,Op.c2=20,1!=this.grenade_type&&5!=this.grenade_type||(this.co_b.c<200?(this.co_b.c=67,this.co_b.vy=-24,this.co_b.c1=0,Op.vx<0?(this.co_b.muki=1,this.co_b.pt=1005,this.co_b.vx=-4):(this.co_b.muki=0,this.co_b.pt=1e3,this.co_b.vx=4)):this.co_b.c<300?(this.co_b.c=77,this.co_b.vy=-24,this.co_b.c1=0,Op.vx<0?(this.co_b.muki=1,this.co_b.pt=1105,this.co_b.vx=-4):(this.co_b.muki=0,this.co_b.pt=1100,this.co_b.vx=4)):(this.co_b.c=87,this.co_b.vy=-24,this.co_b.c1=0,Op.vx<0?(this.co_b.muki=1,this.co_b.pt=1205,this.co_b.vx=-4):(this.co_b.muki=0,this.co_b.pt=1200,this.co_b.vx=4)))):(Op.c=0,this.jm_kazu--))}}},G.prototype.hSet=function(Pp,Qp,Rp){for(var Sp=0;Sp<=63;Sp++)if(!(0<this.co_h[Sp].c)){var Tp=this.co_h[Sp];Tp.c=Rp,Tp.x=Pp,Tp.y=Qp;break}},G.prototype.hAttack=function(Up,Vp){for(var Wp=0;Wp<=63;Wp++){var Xp=this.co_h[Wp];if(0!=Xp.c&&Xp.x==Up&&Xp.y==Vp){switch(Xp.c){case 100:this.mSet(32*Up,32*Vp-32,2e3);break;case 200:this.mSet(32*Up,32*Vp-32,2010),this.mSet(32*Up,32*Vp-32,2020),this.mSet(32*Up,32*Vp-32,2e3);break;case 300:this.mSet(32*Up,32*Vp-32,2100);break;case 400:this.mSet(32*Up,32*Vp-32,2110);break;case 500:this.mSet(32*Up,32*Vp-32,2120);break;case 600:this.mSet(32*Up,32*Vp-32,2130);break;case 700:this.mSet(32*Up,32*Vp-32,2140);break;case 800:this.mSet(32*Up,32*Vp-32,2150);break;case 900:this.mSet(32*Up,32*Vp-32,2160);break;case 1e3:this.mSet(32*Up,32*Vp-32,2170);break;case 1100:this.mSet(32*Up,32*Vp-32,2180),this.stage_1up_f[this.stage-1]=!1}this.maps.putBGCode(Up,Vp,41),Xp.c=0;break}}},H.prototype.init=function(){this.wx=0,this.wy=0,this.os2_wx=0;for(var bq=this.os2_wy=0;bq<this.height;bq++)for(var cq=0;cq<this.width;cq++)this.map_bg[cq][bq]=0;for(var dq=0;dq<this.height;dq++)this.map_string[dq]=this.bg_space},H.prototype.setBank=function(eq){var fq;fq=1==eq?40:2==eq?50:4==eq?60:30;for(var gq=0;gq<=9;gq++)this.gg.spt_img[0][10+gq]=this.gg.spt_img[0][fq+gq]},H.prototype.drawMap=function(hq,iq){this.wx=hq,this.wy=iq;var jq=this.wx%32,kq=this.wy%32;this.os2_wx=this.wx>>5,this.os2_wy=this.wy>>5,this.gg.fill2();for(var lq=0;lq<=10;lq++)for(var mq=0;mq<=16;mq++){0<this.map_bg[this.os2_wx+mq][this.os2_wy+lq]&&this.gg.drawPT2(32+32*mq,32+32*lq,this.map_bg[this.os2_wx+mq][this.os2_wy+lq])}this.gg.os_g.drawImage(this.gg.os2_img,-32-jq,-32-kq,this.gg.ap)},H.prototype.drawMapScroll=function(oq){var pq=this.wx%32,qq=this.wy%32,rq=this.wx>>5,sq=this.wy>>5;if(rq>this.os2_wx+1||rq<this.os2_wx-1||sq>this.os2_wy+1||sq<this.os2_wy-1)this.drawMap(this.wx,this.wy);else if(sq>this.os2_wy)if(rq>this.os2_wx){this.g2.copyArea(64,64,544,352,-32,-32),this.os2_wx=rq,this.os2_wy=sq;for(var tq=this.os2_wy+10,uq=0;uq<=16;uq++)0<this.map_bg[this.os2_wx+uq][tq]&&this.g2.drawImage(this.hi[this.map_bg[this.os2_wx+uq][tq]],32+32*uq,352,this.ap);for(var vq=this.os2_wx+16,wq=0;wq<=9;wq++)0<this.map_bg[vq][this.os2_wy+wq]&&this.g2.drawImage(this.hi[this.map_bg[vq][this.os2_wy+wq]],544,32+32*wq,this.ap)}else if(rq<this.os2_wx){this.g2.copyArea(0,64,544,352,32,-32),this.os2_wx=rq,this.os2_wy=sq;for(var xq=this.os2_wy+10,yq=0;yq<=16;yq++)0<this.map_bg[this.os2_wx+yq][xq]&&this.g2.drawImage(this.hi[this.map_bg[this.os2_wx+yq][xq]],32+32*yq,352,this.ap);for(var zq=0;zq<=9;zq++)0<this.map_bg[this.os2_wx][this.os2_wy+zq]&&this.g2.drawImage(this.hi[this.map_bg[this.os2_wx][this.os2_wy+zq]],32,32+32*zq,this.ap)}else{this.g2.copyArea(32,64,544,352,0,-32),this.os2_wy=sq;for(var Aq=this.os2_wy+10,Bq=0;Bq<=16;Bq++)0<this.map_bg[this.os2_wx+Bq][Aq]&&this.g2.drawImage(this.hi[this.map_bg[this.os2_wx+Bq][Aq]],32+32*Bq,352,this.ap)}else if(sq<this.os2_wy)if(rq>this.os2_wx){this.g2.copyArea(64,0,544,352,-32,32),this.os2_wx=rq,this.os2_wy=sq;for(var Cq=0;Cq<=16;Cq++)0<this.map_bg[this.os2_wx+Cq][this.os2_wy]&&this.g2.drawImage(this.hi[this.map_bg[this.os2_wx+Cq][this.os2_wy]],32+32*Cq,32,this.ap);for(var Dq=this.os2_wx+16,Eq=1;Eq<=10;Eq++)0<this.map_bg[Dq][this.os2_wy+Eq]&&this.g2.drawImage(this.hi[this.map_bg[Dq][this.os2_wy+Eq]],544,32+32*Eq,this.ap)}else if(rq<this.os2_wx){this.g2.copyArea(0,0,544,352,32,32),this.os2_wx=rq,this.os2_wy=sq;for(var Fq=0;Fq<=16;Fq++)0<this.map_bg[this.os2_wx+Fq][this.os2_wy]&&this.g2.drawImage(this.hi[this.map_bg[this.os2_wx+Fq][this.os2_wy]],32+32*Fq,32,this.ap);for(var Gq=1;Gq<=10;Gq++)0<this.map_bg[this.os2_wx][this.os2_wy+Gq]&&this.g2.drawImage(this.hi[this.map_bg[this.os2_wx][this.os2_wy+Gq]],32,32+32*Gq,this.ap)}else{this.g2.copyArea(32,0,544,352,0,32),this.os2_wy=sq;for(var Hq=0;Hq<=16;Hq++)0<this.map_bg[this.os2_wx+Hq][this.os2_wy]&&this.g2.drawImage(this.hi[this.map_bg[this.os2_wx+Hq][this.os2_wy]],32+32*Hq,32,this.ap)}else if(rq>this.os2_wx){this.g2.copyArea(64,32,544,352,-32,0),this.os2_wx=rq;for(var Iq=this.os2_wx+16,Jq=0;Jq<=10;Jq++)0<this.map_bg[Iq][this.os2_wy+Jq]&&this.g2.drawImage(this.hi[this.map_bg[Iq][this.os2_wy+Jq]],544,32+32*Jq,this.ap)}else if(rq<this.os2_wx){this.g2.copyArea(0,32,544,352,32,0),this.os2_wx=rq;for(var Kq=0;Kq<=10;Kq++)0<this.map_bg[this.os2_wx][this.os2_wy+Kq]&&this.g2.drawImage(this.hi[this.map_bg[this.os2_wx][this.os2_wy+Kq]],32,32+32*Kq,this.ap)}for(var Lq=this.hi[90+oq],Mq=0;Mq<=10;Mq++)for(var Nq=this.os2_wy+Mq,Oq=0;Oq<=16;Oq++)switch(this.map_bg[this.os2_wx+Oq][Nq]){default:break;case 5:4==this.map_bg[this.os2_wx+Oq][Nq-1]&&(this.gg.drawBG2(32+32*Oq,32+32*Mq,4),this.gg.drawPT2(32+32*Oq,32+32*Mq,5));break;case 6:4==this.map_bg[this.os2_wx+Oq][Nq+1]&&(this.gg.drawBG2(32+32*Oq,32+32*Mq,4),this.gg.drawPT2(32+32*Oq,32+32*Mq,6));break;case 7:0==oq||2==oq?this.gg.drawBG2(32+32*Oq,32+32*Mq,96):this.gg.drawBG2(32+32*Oq,32+32*Mq,97);break;case 8:if(0==oq){if(4==this.map_bg[this.os2_wx+Oq-1][Nq]){this.gg.drawBG2(32+32*Oq,32+32*Mq,4),2<=this.mp.stage_max&&this.mp.stage>=this.mp.stage_max?this.gg.drawPT2(32+32*Oq,32+32*Mq,99):this.gg.drawPT2(32+32*Oq,32+32*Mq,95);break}2<=this.mp.stage_max&&this.mp.stage>=this.mp.stage_max?this.gg.drawBG2(32+32*Oq,32+32*Mq,99):this.gg.drawBG2(32+32*Oq,32+32*Mq,95);break}if(4==this.map_bg[this.os2_wx+Oq-1][Nq]){this.gg.drawBG2(32+32*Oq,32+32*Mq,4),2<=this.mp.stage_max&&this.mp.stage>=this.mp.stage_max?this.gg.drawPT2(32+32*Oq,32+32*Mq,98):this.gg.drawPT2(32+32*Oq,32+32*Mq,94);break}2<=this.mp.stage_max&&this.mp.stage>=this.mp.stage_max?this.gg.drawBG2(32+32*Oq,32+32*Mq,98):this.gg.drawBG2(32+32*Oq,32+32*Mq,94);break;case 9:4==this.map_bg[this.os2_wx+Oq-1][Nq]?this.gg.drawBG2(32+32*Oq,32+32*Mq,4):(this.g2.setColor(this.gg.backcolor),this.gg.os2_g.fillRect(32+32*Oq,32+32*Mq,32,32)),this.gg.os2_g.drawImage(Lq,32+32*Oq,32+32*Mq,this.gg.ap)}this.gg.os_g.drawImage(this.gg.os2_img,-32-pq,-32-qq,this.ap)},H.prototype.getBGCode=function(Pq,Qq){return this.map_bg[Pq>>5][Qq>>5]},H.prototype.putBGCode=function(Rq,Sq,Tq){this.map_bg[Rq][Sq]=Tq,this.os2_wx<=Rq&&this.os2_wx+16>=Rq&&this.os2_wy<=Sq&&this.os2_wy+10>=Sq&&this.gg.drawBG2(32*(Rq-this.os2_wx)+32,32*(Sq-this.os2_wy)+32,Tq)},I.prototype.__repaint=function(){this.update(this.__appimg.getGraphics()),this.__canvas.getContext("2d").drawImage(this.__appimg._dat,0,0)},I.prototype.init=function(){},I.prototype.start=function(){null==this.th&&(this.th=1);var Zq=this.getParameter("game_speed");this.th_interval=parseInt(Zq),isNaN(this.th_interval)&&(this.th_interval=70),this.th_interval<1?this.th_interval=1:300<this.th_interval&&(this.th_interval=300),this.th_jm=10},I.prototype.stop=function(){null!=this.th&&(this.th=null)},I.prototype.destroy=function(){},I.prototype.paint=function($q){$q.drawImage(this.gg.os_img,0,0,this)},I.prototype.update=function(_q){this.paint(_q)},I.prototype.run=function(){if(10==this.th_jm)this.init_j(),this.mp.start(),this.th_jm-=1,sleepTime=70;else if(6==this.th_jm){var ar=0;this.gg.apt_img._loaded?ar=1:this.gg.apt_img._error&&(ar=2),0!=ar&&(this.th_jm-=1)}else 2==this.th_jm?(this.gg.cut(),this.th_jm-=1,sleepTime=70):2<=this.th_jm?(this.th_jm-=1,sleepTime=70):(100==this.mp.ml_mode?this.mp.mL100():this.mp.mainLoop(),this.userSub(this.gg.os_g,this.gg.os_img));this.__repaint()},I.prototype.init_j=function(){this.gg=new e(this),this.gg.setBackcolor(D.black);var cr,br=this.getParameter("filename_title");if(this.gg.addListImage(0,br),br=this.getParameter("filename_ending"),this.gg.addListImage(1,br),br=this.getParameter("filename_gameover"),this.gg.addListImage(2,br),br=this.getParameter("stage_select"),cr=parseInt(br),isNaN(cr)&&(cr=-1),2==cr){var dr=this.getParameter("filename_chizu");this.gg.addListImage(3,dr)}this.gg.loadImage(),this.gm=new i;var er=this.gm;this.__canvas.addEventListener("mousedown",function(hr){var za;hr.stopImmediatePropagation(),l.focus.focus(this),za=hr,er.mousePressed(za)}.bind(this)),this.__canvas.addEventListener("mouseup",function(ir){var Ba;Ba=ir,er.mouseReleased(Ba)}),this.gk=new f;var fr=this.gk,gr=function(jr){var ra;l.focus.hasFocus(this)&&(ra=jr,fr.keyPressed(ra))}.bind(this);b.addEventListener("keydown",gr),this.__game.__resourceList.push({type:"eventListener",target:b,name:"keydown",value:gr}),gr=function(kr){var ta;l.focus.hasFocus(this)&&(ta=kr,fr.keyReleased(ta))}.bind(this),b.addEventListener("keyup",gr),this.__game.__resourceList.push({type:"eventListener",target:b,name:"keyup",value:gr}),this.mp=new G(this.gg,this.gm,this.gk),this.mp.addHighscoreEvent(this.options.highscoreCallback),this.userInit()},I.prototype.userInit=function(){},I.prototype.userSub=function(lr,mr){},I.prototype.getImage=function(nr){var or=new z;return or.load(nr),or},I.prototype.createImage=function(pr,qr){return new z(pr,qr)},I.prototype.getParameter=function(sr){var tr=(sr+"").toLowerCase();return void 0===this.params[tr]?null:this.params[tr]+""};var J={};return J.CharacterObject=d,J.GameGraphics=e,J.GameKey=f,J.GameMouse=i,J.Game=l,J.IdouGamen=y,J.ImageBuff=z,J.KeyboardMenu=F,J.MainProgram=G,J.MapSystem=H,J.MasaoConstruction=I,J}(window,document,Math);