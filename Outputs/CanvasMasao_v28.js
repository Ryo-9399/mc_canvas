!function(t){var i={};function s(h){if(i[h])return i[h].exports;var e=i[h]={i:h,l:!1,exports:{}};return t[h].call(e.exports,e,e.exports,s),e.l=!0,e.exports}s.m=t,s.c=i,s.d=function(t,i,h){s.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:h})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,i){if(1&i&&(t=s(t)),8&i)return t;if(4&i&&"object"==typeof t&&t&&t.__esModule)return t;var h=Object.create(null);if(s.r(h),Object.defineProperty(h,"default",{enumerable:!0,value:t}),2&i&&"string"!=typeof t)for(var e in t)s.d(h,e,function(i){return t[i]}.bind(null,e));return h},s.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(i,"a",i),i},s.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},s.p="",s(s.s=3)}([function(t,i,s){"use strict";(function(t){s.d(i,"b",function(){return c}),s.d(i,"a",function(){return o}),s.d(i,"c",function(){return r}),s.d(i,"d",function(){return p});var h,e,a=s(2);function c(t,i,s){var h=m();if((s=s||{}).width=s.width||512,s.height=s.height||320,s.extensions=s.extensions||[],i?this.__boxID=i:(this.__boxID="__mcdiv"+h,document.write("<div id='"+this.__boxID+"'></div>")),this.__canvasID="__mccanvas"+h,this.__padDivID="__mcpaddiv"+h,this.__box=document.getElementById(this.__boxID),this.__resourceList=[],this.__canvas=document.createElement("canvas"),this.__canvas.id=this.__canvasID,this.__canvas.width=s.width,this.__canvas.height=s.height,this.__canvas.textContent="※お使いのブラウザはHTML5に対応していないため表示できません。",this.__box.appendChild(this.__canvas),this.__padDiv=document.createElement("div"),this.__padDiv.id=this.__padDivID,this.__box.appendChild(this.__padDiv),this.__canvas&&this.__canvas.getContext){if(this.__pad_before=[],this.__pad_after=[],this.__pad_touches=[],window.TouchEvent){var e,_=document.createElement("input");_.type="button",_.value="バーチャル操作パッド 表示 / 非表示",(e=_.style).width="24em",e.height="2.5em",_.onclick=function(){"inline"==o.style.display?o.style.display="none":c.padAccessor.show(o)},this.__padDiv.appendChild(_),this.__padDiv.appendChild(document.createElement("br"));var o=this.__pad=document.createElement("canvas");o.width=500,o.height=200;var r=function(t){this.__pad_event(t)}.bind(this);o.addEventListener("touchstart",r,!1),o.addEventListener("touchmove",r,!1),o.addEventListener("touchend",r,!1),o.addEventListener("touchcancel",r,!1),o.style.display="none",this.__padDiv.appendChild(o),(e=o.style).position="absolute";var p=setInterval(function(){var t=innerWidth,i=innerHeight,s=t<i?t:i;o.style.width=t+"px",o.style.height=s*c.pad.style.rate+"px",o.style.left=scrollX+"px",c.pad.avoidAD?o.style.top=scrollY+i-s*c.pad.style.rate-.16*s+"px":o.style.top=scrollY+i-s*c.pad.style.rate+"px",this.__pad_update()}.bind(this),500);this.__resourceList.push({type:"setInterval",value:p}),c.padAccessor.append(o),this.__pad_off=document.createElement("canvas"),this.__pad_off.width=500,this.__pad_off.height=200;var n=this.__pad_off.getContext("2d");n.font="24px monospace",n.textAlign="center",n.textBaseline="middle",n.lineWidth=2,n.lineCap="round",n.lineJoin="round";for(var y=0;y<8;y++)this.__pad_before[y]=!1,this.__pad_after[y]=!1;this.__pad_update()}this.__mc=new a.a(t,this.__canvas,this,s||{});for(y=0;y<s.extensions.length;y++)s.extensions[y].inject(this.__mc,s);this.__mc.start();var j=this.__st=this.__mc.getParameter("game_speed");j?(j=parseInt(j),isNaN(j)?j=70:j<10?j=10:j>300&&(j=300)):j=70,this.__pt=0;var d=new(s["custom-loop"]||g)(this,!!s["bc-loop-setinterval"]);d.start(j,this.__loop.bind(this)),this.__resourceList.push({type:"Loop",value:d})}}function _(t){this._dat=new Audio,this._dat.preload="auto",this._dat.src=t}function o(t,i){this.width=t,this.height=i}function r(){if(0==arguments.length)return null;for(var t=new Array(arguments.length),i=0;i<arguments.length;i++)t[i]=arguments[i];return function t(i){var s=new Array(i[0]);if(1==i.length)return s;for(var h=i.slice(1),e=0;e<i[0];e++)s[e]=t(h);return s}(t)}function p(t){return t>=0?Math.floor(t):-Math.floor(-t)}function m(){return Math.random().toString(36).slice(2)}function g(t,i){this.game=t,this.forceSetInterval=i,this.running=!1,this.interval=null,this.callback=null,this.mode=0,this.prevTime=null,this.timerid=null,this._loop=this._loop.bind(this)}c.replaceAll=function(t){function i(){for(var i=document.getElementsByTagName("applet"),s=[],h=0;h<i.length;h++)s.push(i[h]);for(h=0;h<s.length;h++){var e=s[h];(e.getAttribute("code")||"").match(/masaoconstruction/i)&&c.replaceByDom(e,t)}var a=document.getElementsByTagName("object"),_=[];for(h=0;h<a.length;h++)_.push(a[h]);for(h=0;h<_;h++){var o=_[h],r=o.getElementsByName("code")[0];r.tagName.match(/param/i)&&r.value.match(/masaoconstruction/i)&&c.replaceByDom(o,t)}}"complete"==document.readyState?i():window.addEventListener("load",i)},c.replace=function(t,i){function s(){c.replaceByDom(document.getElementById(t),i)}"complete"==document.readyState?s():window.addEventListener("load",s)},c.replaceByDom=function(t,i){for(var s=t.getElementsByTagName("param"),h=s.length,e={},a=0;a<h;a++)e[s[a].name]=s[a].value;var _=document.createElement("div"),o=t.id||m();_.id=o,t.parentNode.replaceChild(_,t),new c(e,o,i)},c.focus=(document.addEventListener("mousedown",function(){h=null}),{focus:function(t){h=t},hasFocus:function(t){return h===t}}),c.padAccessor=(e=[],{append:function(t){e.push(t)},show:function(t){for(var i=0;i<e.length;i++)t!==e[i]?e[i].style.display="none":t.style.display="inline"}}),c.prototype.kill=function(){this.__mc.stop();for(var t=this.__resourceList,i=0,s=t.length;i<s;i++)"setInterval"===t[i].type?clearInterval(t[i].value):"eventListener"===t[i].type?t[i].target.removeEventListener(t[i].name,t[i].value):"Loop"===t[i].type&&t[i].value.stop();for(this.__resourceList=[];this.__box.hasChildNodes();)this.__box.removeChild(this.__box.firstChild)},c.prototype.__loop=function(){var t=(new Date).getTime();if(!(t-this.__pt<this.__st)){if(this.__pt=t-10,this.__testCanvas){var i,s=this.__testCanvas.getContext("2d");if(s.fillStyle="rgb(128,0,128)",s.fillRect(0,0,700,700),s.strokeStyle="#f00",this.__mc.gg)for(s.save(),s.scale(.5,.5),s.drawImage(this.__mc.gg.os_img._dat,0,0),s.drawImage(this.__mc.gg.os2_img._dat,576,0),s.restore(),s.beginPath(),i=0;i<700;i+=32)s.moveTo(0,i),s.lineTo(700,i),s.moveTo(i,0),s.lineTo(i,700);s.stroke()}if(this.__testDiv&&this.__mc.mp){var h,e,a=this.__mc.mp,c="<div style='text-align:left'>";for(h in a)"[object Array]"!=(e=Object.prototype.toString.call(a[h]))&&"[object Function]"!=e&&(h in this.__teo?this.__teo[h].t>0?(c+="<span style='background-color:rgba(255,255,255,"+this.__teo[h].t/6+")'>"+h+": "+a[h]+"</span> ",this.__teo[h].t--):c+=h+": "+a[h]+" ":this.__teo[h]={val:a[h],t:0},this.__teo[h].val!=a[h]&&(this.__teo[h].val=a[h],this.__teo[h].t=6));this.__testDiv.innerHTML=c+"</div>"}this.__mc.run()}},c.prototype.__pad_update=function(){var t,i,s,h,e,a,_=this.__pad.getBoundingClientRect(),o=_.left,r=_.top,p=this.__pad_off.getContext("2d"),m=c.pad.coords.length;for(p.clearRect(0,0,500,200),p.fillStyle=c.pad.style.back,p.fillRect(0,0,500,200),p.fillStyle=c.pad.style.button,t=0;t<m;t++){for(p.beginPath(),s=(h=c.pad.coords[t]).length>>1,p.moveTo(h[0],h[1]),i=0;i<s;i++)p.lineTo(h[i<<1],h[1+(i<<1)]);p.closePath(),p.fill()}for(t=0;t<m;t++)this.__pad_after[t]=!1;for(p.fillStyle=c.pad.style.active,t=0;t<m;t++){for(p.beginPath(),s=(h=c.pad.coords[t]).length>>1,p.moveTo(h[0],h[1]),i=0;i<s;i++)p.lineTo(h[i<<1],h[1+(i<<1)]);for(i in p.closePath(),this.__pad_touches)e=this.__pad_touches[i].clientX-o,a=this.__pad_touches[i].clientY-r,this.__pad_after[t]|=p.isPointInPath(e/_.width*500,a/_.height*200);this.__pad_after[t]&&p.fill()}for(p.strokeStyle=c.pad.style.border,p.fillStyle=c.pad.style.text,t=0;t<m;t++){for(p.beginPath(),s=(h=c.pad.coords[t]).length>>1,p.moveTo(h[0],h[1]),i=1;i<s;i++)p.lineTo(h[i<<1],h[1+(i<<1)]);p.closePath(),p.stroke(),s=g(h),p.fillText(c.pad.chars[t],s[0],s[1])}for(p.stroke(),(p=this.__pad.getContext("2d")).clearRect(0,0,500,200),p.drawImage(this.__pad_off,0,0),t=0;t<m;t++)this.__pad_before[t]!=this.__pad_after[t]&&(this.__pad_before[t]=this.__pad_after[t],this.__pad_after[t]?this.__pad_pressed(t):this.__pad_released(t));function g(t){var i,s,h,e,a,c,_,o,r,p,m,g=t.length>>1;if(o=s=t[0],r=h=t[1],1==g)return[o,r];if(o=(o+(e=t[2]))/2,r=(r+(a=t[3]))/2,2==g)return[o,o];for(c=t[4],_=t[5],p=Math.abs((e-s)*(_-h)-(a-h)*(c-s))/2,o=(s+e+c)/3,r=(h+a+_)/3,i=3;i<g;i++)e=c,a=_,c=t[i<<1],_=t[1+(i<<1)],o=(p*o+(m=Math.abs((e-s)*(_-h)-(a-h)*(c-s))/2)*((s+e+c)/3))/(p+m),r=(p*r+m*((h+a+_)/3))/(p+m),p=m;return[o,r]}},c.prototype.__pad_pressed=function(t){if(this.__mc.gk){var i=c.pad.codes[t];this.__mc.gk.keyPressed({keyCode:i,preventDefault:function(){}})}},c.prototype.__pad_released=function(t){if(this.__mc.gk){var i=c.pad.codes[t];this.__mc.gk.keyReleased({keyCode:i,preventDefault:function(){}})}},c.prototype.__pad_event=function(t){t.preventDefault(),this.__pad_touches=[];for(var i=0;i<t.touches.length;i++)this.__pad_touches.push(t.touches[i]);this.__pad_update()},c.pad={coords:[[410,30,490,30,490,170,410,170],[320,30,400,30,400,170,320,170],[250,30,290,30,290,70,250,70],[200,30,240,30,240,70,200,70],[5,60,87,60,87,140,5,140],[175,60,93,60,93,140,175,140],[30,5,30,80,150,80,150,5],[30,195,30,120,150,120,150,195]],chars:["X","Z","T","P","←","→","↑","↓"],codes:[88,90,84,80,37,39,38,40],style:{rate:.4,back:"rgba(0, 0, 0, 0)",button:"rgba(128, 128, 128, 0.5)",active:"rgba(0, 0, 0, 0.5)",text:"black",border:"black"},avoidAD:!1},_.prototype._oncanplaythrough=function(){},_.prototype._onerror=function(){},_.prototype.play=function(){try{this._dat.loop=!1,this._dat.currentTime=0,this._dat.play()}catch(t){return!1}return!0},_.prototype.loop=function(){try{this._dat.loop=!0,this._dat.currentTime=0,this._dat.play()}catch(t){return!1}return!0},_.prototype.stop=function(){try{this._dat.pause()}catch(t){return!1}return!0},g.prototype.start=function(t,i){this.running=!0,this.interval=t,this.callback=i;var s=n();this.targetTime=s+t,this.prevTime=s,window.requestAnimationFrame&&!this.forceSetInterval?this.mode=1:this.mode=0,0===this.mode&&(this.timerid=setInterval(this._loop,t)),this._next()},g.prototype.stop=function(){this.running&&(this.running=!1,1===this.mode?cancelAnimationFrame(this.timerid):clearInterval(this.timerid))},g.prototype._next=function(){1===this.mode&&(this.timerid=requestAnimationFrame(this._loop))},g.prototype._loop=function(){if(this.running){var t=n();t-this.prevTime>=500&&(this.targetTime=t-1);var i=Math.ceil((t-this.targetTime)/this.interval);for(this.targetTime+=this.interval*i;i>0&&(this.callback(),i--,!(n()-t>2)););if(i>0){var s=this;y(function t(h){for(;i>0&&h.timeRemaining()>0;)s.callback(),i--;i>0&&!h.didTimeout&&y(t,{timeout:1e3})},{timeout:1e3})}this._next(),this.prevTime=t}};var n=window.performance&&performance.now?performance.now.bind(performance):Date.now?Date.now.bind(Date):function(){return 1e3*(new Date).getTime()},y="function"==typeof requestIdleCallback?requestIdleCallback:"function"==typeof t?function(i){t(function(){var t=n();i({didTimeout:!1,timeRemaining:function(){return 50+t-n()}})})}:function(t){setTimeout(function(){var i=n();t({didTimeout:!1,timeRemaining:function(){return 50+i-n()}})},1)}}).call(this,s(4).setImmediate)},function(t,i){var s,h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};s=function(){return this}();try{s=s||new Function("return this")()}catch(t){"object"===("undefined"==typeof window?"undefined":h(window))&&(s=window)}t.exports=s},function(t,i,s){"use strict";var h=s(0);function e(t,i){if(2==arguments.length){this._dat=document.createElement("canvas"),this._dat.width=t,this._dat.height=i,this._width=t,this._height=i;var s=this._dat.getContext("2d");s.lineWidth=1.6,s.lineCap="round",s.save()}else this._dat=null,this._width=-1,this._height=-1;this._loaded=!1,this._error=!1,this._g=null}function a(t){t.onerror()}function c(t){this._ctx=t._dat.getContext("2d"),this._ctx&&(this._ctx.restore(),this._ctx.save()),this._color=_.black,this._font=new o(o.DIALOG,o.PLAIN,10)}function _(t,i,s,h){this.r=t>255?255:t<0?0:t,this.g=i>255?255:i<0?0:i,this.b=s>255?255:s<0?0:s,4==arguments.length?this.a=h>255?255:h<0?0:h:this.a=255}function o(t,i,s){this._name=t,this._style=i,this._size=s}function r(t){this.spt_kazu_x=10,this.spt_kazu_y=25,this.spt_h_kijyun=3,this.spt_kazu=250,this.li=new Array(10),this.spt_img=Object(h.c)(2,this.spt_kazu),this.ap=t,this.di=new h.a(512,320),this.backcolor=_.black,this.os_img=this.ap.createImage(this.di.width,this.di.height),this.os_g=this.os_img.getGraphics(),this.os2_img=this.ap.createImage(this.di.width+96,this.di.height+96),this.os2_g=this.os2_img.getGraphics(),this.mt=[];var i=this.ap.getParameter("filename_pattern");this.apt_img=this.ap.getImage(i)}function p(){this.key_code=0,this.up_f=!1,this.down_f=!1,this.left_f=!1,this.right_f=!1,this.tr1_f=!1,this.tr2_f=!1,this.tr3_f=!1,this.start_f=!1,this.x_f=!1,this.z_f=!1,this.space_f=!1,this.left_c=0,this.right_c=0,this.up_c=0,this.down_c=0,this.tr1_c=0,this.codekey_f=new Array(256),this.left_right_lock=!1}function m(){this.button_f=!1,this.click_x=0,this.click_y=0,this.init=function(){this.button_f=!1,this.click_x=0,this.click_y=0}}function g(){this.c=0,this.x=0,this.y=0,this.vx=0,this.vy=0,this.wx=0,this.wy=0,this.c1=0,this.c2=0,this.c3=0,this.c4=0,this.c5=0,this.pt=0,this.pth=0,this.img=null,this.zs_x=0,this.zs_y=0,this.ac=0,this.level=0,this.jimen_f=!1,this.muki=0,this.direction=0,this.score=0,this.ss=0,this.gf=!1}e.prototype.load=function(t){this._loaded=!1,this._error=!1,this._width=-1,this._height=-1,this._dat=new Image;var i=this;this._dat.onload=function(){i.onload()},this._dat.onerror=function(){a(i)},this._dat.onabort=function(){a(i)},this._dat.ontimeout=function(){a(i)},this._dat.src=t,this._dat.complete&&this.onload()},e.prototype.onload=function(){this._loaded=!0,this._width=this._dat.naturalWidth,this._height=this._dat.naturalHeight},e.prototype.onerror=function(){this._error=!0,this._dat=null},e.prototype.getGraphics=function(){return this._width<0?null:(this._g=new c(this),this._g)},e.prototype.createGraphics=function(){return this.getGraphics()},c.prototype.drawLine=function(t,i,s,h){return null!=this._ctx&&(this._ctx.beginPath(),this._ctx.moveTo(t,i),this._ctx.lineTo(s,h),this._ctx.stroke(),!0)},c.prototype.drawImage=function(t,i,s,h,e,a,c,_,o,r){if(null==t._dat)return!1;if(null==this._ctx)return!1;try{if(arguments.length<=4)return this._ctx.drawImage(t._dat,i,s),!0;if(arguments.length<=6)return this._ctx.drawImage(t._dat,i,s,h,e),!0;if(arguments.length<=10)return this._ctx.drawImage(t._dat,i,s,h,e,a,c,_,o),!0}catch(t){}return!1},c.prototype.drawRect=function(t,i,s,h){return null!=this._ctx&&(this._ctx.strokeRect(t,i,s,h),!0)},c.prototype.fillRect=function(t,i,s,h){return null!=this._ctx&&(this._ctx.fillRect(t,i,s,h),!0)},c.prototype.drawPolygon=function(t,i,s){if(null==this._ctx)return!1;this._ctx.beginPath(),this._ctx.moveTo(t[0],i[0]);for(var h=1;h<s;h++)this._ctx.lineTo(t[h],i[h]);return this._ctx.closePath(),this._ctx.stroke(),!0},c.prototype.fillPolygon=function(t,i,s){if(null==this._ctx)return!1;this._ctx.beginPath(),this._ctx.moveTo(t[0],i[0]);for(var h=1;h<s;h++)this._ctx.lineTo(t[h],i[h]);return this._ctx.closePath(),this._ctx.fill(),!0},c.prototype.drawOval=function(t,i,s,h){return null!=this._ctx&&(this.drawArc(t,i,s,h,0,2*Math.PI),!0)},c.prototype.fillOval=function(t,i,s,h){return null!=this._ctx&&(this.fillArc(t,i,s,h,0,2*Math.PI),!0)},c.prototype.drawArc=function(t,i,s,h,e,a){if(null==this._ctx)return!1;var c=h/s;return this._ctx.save(),this._ctx.beginPath(),this._ctx.scale(1,c),this._ctx.arc(t+s/2,(i+h/2)/c,s/2,e,e+a,a<0),this._ctx.stroke(),this._ctx.restore(),!0},c.prototype.fillArc=function(t,i,s,h,e,a){if(null==this._ctx)return!1;var c=h/s;return this._ctx.save(),this._ctx.beginPath(),this._ctx.scale(1,c),this._ctx.arc(t+s/2,(i+h/2)/c,s/2,e,e+a,a<0),this._ctx.lineTo(t+s/2,(i+h/2)/c),this._ctx.closePath(),this._ctx.fill(),this._ctx.restore(),!0},c.prototype.setGlobalAlpha=function(t){return null!=this._ctx&&(t<0&&(t=0),t>255&&(t=255),this._ctx.globalAlpha=t/255,!0)},c.prototype.setColor=function(t){if(null==this._ctx)return!1;this._color=new _(t.r,t.g,t.b,t.a);var i="rgba("+t.r+", "+t.g+", "+t.b+", "+t.a/255+")";return this._ctx.strokeStyle=i,this._ctx.fillStyle=i,!0},c.prototype.setFont=function(t){if(null==this._ctx)return!1;var i="";return t._style&o.ITALIC&&(i+="italic "),t._style&o.BOLD&&(i+="bold "),i+=t._size+"px ",t._name==o.SERIF?i+="serif":t._name==o.SANS_SERIF?i+="sans-serif":t._name==o.MONOSPACED?i+="monospace":t._name==o.DIALOG?i+="'Helvetica','Arial','ＭＳ ゴシック','HG ゴシックB Sun','HG ゴシックB',monospace":i+='"'+t._name+'"',this._ctx.font=i,this._font=t,!0},c.prototype.drawString=function(t,i,s){return null!=this._ctx&&(this._ctx.fillText(t,i,s),!0)},c.prototype.translate=function(t,i){return null!=this._ctx&&(this._ctx.translate(t,i),!0)},c.prototype.rotate=function(t,i,s){return null!=this._ctx&&(1==arguments.length?this._ctx.rotate(t):(this._ctx.translate(i,s),this._ctx.rotate(t),this._ctx.translate(-i,-s)),!0)},c.prototype.scale=function(t,i){return null!=this._ctx&&(this._ctx.scale(t,i),!0)},c.prototype.setClip=function(t){if(null==this._ctx)return!1;if("ellipse"==t){var i=arguments[4]/arguments[3];return this._ctx.beginPath(),this._ctx.save(),this._ctx.scale(1,i),this._ctx.arc(arguments[1]+arguments[3]/2,(arguments[2]+arguments[4]/2)/i,arguments[3]/2,0,2*Math.PI,!1),this._ctx.restore(),this._ctx.clip(),!0}if("rect"==t)return this._ctx.beginPath(),this._ctx.rect(arguments[1],arguments[2],arguments[3],arguments[4]),this._ctx.clip(),!0;if("polygon"==t){this._ctx.beginPath(),this._ctx.moveTo(arguments[1][0],arguments[2][0]);for(var s=1;s<arguments[3];s++)this._ctx.lineTo(arguments[1][s],arguments[2][s]);return this._ctx.closePath(),this._ctx.clip(),!0}return!1},c.prototype.copyArea=function(t,i,s,h,e,a){return null!=this._ctx&&(this._ctx.drawImage(this._ctx.canvas,t,i,s,h,t+e,i+a,s,h),!0)},c.prototype.dispose=function(){this._ctx.restore(),this._ctx.save()},_.prototype.getRed=function(){return this.r},_.prototype.getGreen=function(){return this.g},_.prototype.getBlue=function(){return this.b},_.white=new _(255,255,255),_.WHITE=_.white,_.lightGray=new _(192,192,192),_.LIGHT_GRAY=_.lightGray,_.gray=new _(128,128,128),_.GRAY=_.gray,_.darkGray=new _(64,64,64),_.DARK_GRAY=_.darkGray,_.black=new _(0,0,0),_.BLACK=_.black,_.red=new _(255,0,0),_.RED=_.red,_.pink=new _(255,175,175),_.PINK=_.pink,_.orange=new _(255,200,0),_.ORANGE=_.orange,_.yellow=new _(255,255,0),_.YELLOW=_.yellow,_.green=new _(0,255,0),_.GREEN=_.green,_.magenta=new _(255,0,255),_.MAGENTA=_.magenta,_.cyan=new _(0,255,255),_.CYAN=_.cyan,_.blue=new _(0,0,255),_.BLUE=_.blue,o.DIALOG="Dialog",o.DIALOG_INPUT="DialogInput",o.MONOSPACED="Monospaced",o.SANS_SERIF="SansSerif",o.SERIF="Serif",o.PLAIN=0,o.BOLD=1,o.ITALIC=2,r.prototype.cut=function(){var t,i,s,h;for(i=0;i<=this.spt_kazu_y-1;i++)for(s=0;s<=this.spt_kazu_x-1;s++)t=10*i+s,this.spt_img[0][t]=new e(32,32),(h=this.spt_img[0][t].getGraphics()).drawImage(this.apt_img,32*s,32*i,32,32,0,0,32,32,null),i>=this.spt_h_kijyun?(this.spt_img[1][t]=new e(32,32),(h=this.spt_img[1][t].getGraphics()).scale(-1,1),h.drawImage(this.apt_img,32*s,32*i,32,32,-32,0,32,32,null)):this.spt_img[1][t]=this.spt_img[0][t];this.hi=this.spt_img[0]},r.prototype.addListImage=function(t,i){this.li[t]=this.ap.getImage(i),this.mt.push(this.li[t])},r.prototype.loadImage=function(){},r.prototype.copyOS=function(t){t.drawImage(this.os_img,0,0,this.ap)},r.prototype.fill=function(){this.os_g.setColor(this.backcolor),this.os_g.fillRect(0,0,this.di.width,this.di.height)},r.prototype.fill2=function(){this.os2_g.setColor(this.backcolor),this.os2_g.fillRect(0,0,this.di.width+96,this.di.height+96)},r.prototype.setBackcolor=function(t){this.backcolor=t},r.prototype.drawPT=function(t,i,s,h){this.os_g.drawImage(this.spt_img[h][s],t,i,this.ap)},r.prototype.drawPT2=function(t,i,s){this.os2_g.drawImage(this.hi[s],t,i,this.ap)},r.prototype.drawBG2=function(t,i,s){this.os2_g.setColor(this.backcolor),this.os2_g.fillRect(t,i,32,32),this.os2_g.drawImage(this.hi[s],t,i,this.ap)},r.prototype.drawBG3=function(t,i,s,h){this.os2_g.setColor(h),this.os2_g.fillRect(t,i,32,32),this.os2_g.drawImage(this.hi[s],t,i,this.ap)},r.prototype.drawListImage=function(t,i,s){this.os_g.drawImage(this.li[s],t,i,this.ap)},p.prototype.init=function(){this.key_code=0,this.up_f=!1,this.down_f=!1,this.left_f=!1,this.right_f=!1,this.tr1_f=!1,this.tr2_f=!1,this.tr3_f=!1,this.start_f=!1,this.x_f=!1,this.z_f=!1,this.space_f=!1,this.left_c=0,this.right_c=0,this.up_c=0,this.down_c=0,this.tr1_c=0,this.left_right_lock=!1;for(var t=0;t<=255;t++)this.codekey_f[t]=!1},p.prototype.keyPressed=function(t){switch(this.key_code=t.keyCode,this.key_char=t.keyCode,this.key_code>=0&&this.key_code<=255&&(this.codekey_f[this.key_code]=!0),this.key_code){case 38:t.preventDefault(),this.up_f=!0;break;case 40:t.preventDefault(),this.down_f=!0,this.tr2_f=!0;break;case 37:t.preventDefault(),this.left_right_lock||(this.left_f=!0);break;case 39:t.preventDefault(),this.left_right_lock||(this.right_f=!0);break;case 104:t.preventDefault(),this.up_f=!0;break;case 98:t.preventDefault(),this.down_f=!0,this.tr2_f=!0;break;case 100:t.preventDefault(),this.left_right_lock||(this.left_f=!0);break;case 102:t.preventDefault(),this.left_right_lock||(this.right_f=!0);break;case 90:t.preventDefault(),this.tr1_f=!0,this.z_f=!0;break;case 88:t.preventDefault(),this.tr2_f=!0,this.x_f=!0;break;case 67:t.preventDefault(),this.tr3_f=!0;break;case 32:t.preventDefault(),this.tr1_f=!0,this.space_f=!0,this.tr1_c=0;break;case 83:t.preventDefault(),this.start_f=!0}},p.prototype.keyReleased=function(t){var i=t.keyCode;switch(i>=0&&i<=255&&(this.codekey_f[i]=!1),i){case 38:this.up_f=!1;break;case 40:this.down_f=!1,this.tr2_f=!1;break;case 37:this.left_right_lock||(this.left_f=!1,this.left_c=0);break;case 39:this.left_right_lock||(this.right_f=!1,this.right_c=0);break;case 104:this.up_f=!1;break;case 98:this.down_f=!1,this.tr2_f=!1;break;case 100:this.left_right_lock||(this.left_f=!1,this.left_c=0);break;case 102:this.left_right_lock||(this.right_f=!1,this.right_c=0);break;case 90:this.tr1_f=!1,this.z_f=!1,this.tr1_c=0;break;case 88:this.tr2_f=!1,this.x_f=!1;break;case 67:this.tr3_f=!1;break;case 32:this.tr1_f=!1,this.space_f=!1,this.tr1_c=0;break;case 83:this.start_f=!1}},p.prototype.getKeyCode=function(){return this.key_code},m.prototype.mousePressed=function(t){var i=t.target,s=i.getBoundingClientRect();this.button_f=!0,this.click_x=(t.clientX-s.left)/s.width*i.width,this.click_y=(t.clientY-s.top)/s.height*i.height},m.prototype.mouseReleased=function(t){this.button_f=!1},g.prototype.init=function(){this.c=0,this.x=0,this.y=0,this.vx=0,this.vy=0,this.wx=0,this.wy=0,this.c1=0,this.c2=0,this.c3=0,this.c4=0,this.c5=0,this.pt=0,this.pth=0,this.img=null,this.zs_x=0,this.zs_y=0,this.ac=0,this.level=0,this.jimen_f=!1,this.muki=0,this.direction=0,this.score=0,this.ss=0,this.gf=!1},g.prototype.setPattern=function(t){};var n=function(){return function(t,i){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,i){var s=[],h=!0,e=!1,a=void 0;try{for(var c,_=t[Symbol.iterator]();!(h=(c=_.next()).done)&&(s.push(c.value),!i||s.length!==i);h=!0);}catch(t){e=!0,a=t}finally{try{!h&&_.return&&_.return()}finally{if(e)throw a}}return s}(t,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),y=function(){function t(t,i){for(var s=0;s<i.length;s++){var h=i[s];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(t,h.key,h)}}return function(i,s,h){return s&&t(i.prototype,s),h&&t(i,h),i}}();var j=function(t){return(t%360+360)%360},d=function(t,i){if(t.length!==i.length)throw new Error("The given arrays do not have the same length.");return t.map(function(t,s){return[t,i[s]]})},x=function(t){function i(){return function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,i),function(t,i){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!i||"object"!=typeof i&&"function"!=typeof i?t:i}(this,(i.__proto__||Object.getPrototypeOf(i)).apply(this,arguments))}return function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function, not "+typeof i);t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(t,i):t.__proto__=i)}(i,g),y(i,[{key:"update",value:function(t){this.x>=t.maps.wx+1024||(this.move(t),this.checkCollision(t))}},{key:"move",value:function(t){var i=t.sl_wx+96,s=t.sl_wx+512-96-32;switch(this.c){case 40:this.c1<20&&this.c1++,15===this.c1&&t.mSet(t.maps.wx+256,t.maps.wy+128,2200),this.pt=0;break;case 60:this.updateDamage(t,150),this.pt=1010;break;case 65:this.updateDamage(t,155),this.pt=1015;break;case 67:this.dyingByGrenade(t),1===this.muki?this.pt=1005:this.pt=1e3;break;case 70:this.updateDamage(t,250),this.pt=1110;break;case 75:this.updateDamage(t,255),this.pt=1115;break;case 77:this.dyingByGrenade(t),1===this.muki?this.pt=1105:this.pt=1100;break;case 80:this.updateDamage(t,350),this.pt=1210;break;case 85:this.updateDamage(t,355),this.pt=1215;break;case 87:this.dyingByGrenade(t),1===this.muki?this.pt=1205:this.pt=1200;break;case 100:2!==t.sl_step&&3!==t.sl_step||(this.c=110,this.c1=0),this.pt=1e3;break;case 110:this.boss1Attack(t,0),this.pt=1e3;break;case 115:this.boss1Attack(t,1),this.pt=1005;break;case 150:this.x-=14,this.x<=i&&(this.x=i,this.c=115,this.c1=0),this.pt=1e3;break;case 155:this.x+=14,this.x>=s&&(this.x=s,this.c=110,this.c1=0),this.pt=1005;break;case 200:2!==t.sl_step&&3!==t.sl_step||(this.c=210,this.c1=0),this.pt=1100;break;case 210:this.boss2Attack(t,0),this.pt=1100;break;case 215:this.boss2Attack(t,1),this.pt=1105;break;case 250:this.x-=14,this.x<=i&&(this.x=i,this.c=215,this.c1=0),this.pt=1100;break;case 255:this.x+=14,this.x>=s&&(this.x=s,this.c=210,this.c1=0),this.pt=1105;break;case 300:2!==t.sl_step&&3!==t.sl_step||(t.boss3_type>=2&&t.boss3_type<=4?(this.c=360,this.vy=-24):this.c=310,this.c1=0),this.pt=1200;break;case 310:this.boss3Attack(t,0),this.pt=1200;break;case 315:this.boss3Attack(t,1),this.pt=1205;break;case 350:this.x-=14,this.x<=i&&(this.x=i,t.boss3_type>=2&&t.boss3_type<=4?(this.c=365,this.vy=-24):this.c=315,this.c1=0),this.pt=1200;break;case 355:this.x+=14,this.x>=s&&(this.x=s,t.boss3_type>=2&&t.boss3_type<=4?(this.c=360,this.vy=-24):this.c=310,this.c1=0),this.pt=1205;break;case 360:this.pt=1200,this.c1>=5&&this.c1<=25?this.pt=1250:30===this.c1&&(this.pt=1255),this.boss3TackleAttack(t,0);break;case 365:this.pt=1205,this.c1>=5&&this.c1<=25?this.pt=1255:30===this.c1&&(this.pt=1250),this.boss3TackleAttack(t,1)}}},{key:"checkCollision",value:function(t){var i=t.co_j;i.c>=100&&i.c<200&&this.c>=100&&Math.abs(this.x-i.x)<42&&i.y>this.y-20&&i.y<this.y+40&&(Math.abs(this.x-i.x)<34&&i.vy>0&&this.isFumuable(t)?(this.fumu(t),i.y=this.y,i.vy=-320,t.j_jump_type=1,i.c=110,i.c1=-4,i.pt=109):t.jShinu(2));if(t.jm_kazu>0&&this.c>=100)for(var s=0;s<=1;s++){var h=t.co_jm[s];h.c<100||Math.abs(this.x-h.x)<34&&Math.abs(this.y-h.y)<30&&(200===h.c?this.hitWithGrenade(t,h):(h.c=0,t.jm_kazu--))}}},{key:"boss1Attack",value:function(t,i){var s=1===i?-1:1;if(this.c1++,2===t.boss_type){var h=!0,e=!1,a=void 0;try{for(var c,_=d([1,5,7,9,21,91,95,97,99,111,170,180],[-2,-4,-6,-8,-2,-2,-4,-6,-8,-2,-4,-2])[Symbol.iterator]();!(h=(c=_.next()).done);h=!0){var o=c.value,r=n(o,2),p=r[0],m=r[1];if(this.c1===p){t.tSetBoss(this.x,this.y,150,m*s);break}}}catch(t){e=!0,a=t}finally{try{!h&&_.return&&_.return()}finally{if(e)throw a}}this.c1>250&&(this.c1=250)}else if(3===t.boss_type){var g=!0,y=!1,j=void 0;try{for(var x,l=[5,20,35,50,65,80,95,110][Symbol.iterator]();!(g=(x=l.next()).done);g=!0){var f=x.value;if(this.c1===f){t.tSetBoss(this.x,this.y,450,-3*s);break}}}catch(t){y=!0,j=t}finally{try{!g&&l.return&&l.return()}finally{if(y)throw j}}this.c1>250&&(this.c1=250)}else if(4===t.boss_type){var u=!0,k=!1,v=void 0;try{for(var w,b=d([1,15,29,81,95,109,165],[-5,-3,-2,-5,-3,-2,-3])[Symbol.iterator]();!(u=(w=b.next()).done);u=!0){var I=w.value,S=n(I,2),C=S[0],z=S[1];if(this.c1===C){t.tSetBoss(this.x,this.y,650,z*s);break}}}catch(t){k=!0,v=t}finally{try{!u&&b.return&&b.return()}finally{if(k)throw v}}this.c1>250&&(this.c1=250)}else{if(3===this.c1)t.mSet2(this.x,this.y,500,-4,-18),t.mSet2(this.x,this.y,500,4,-18);else if(14===this.c1)t.mSet2(this.x,this.y,500,-6,-20),t.mSet2(this.x,this.y,500,6,-20);else if(20===this.c1)t.mSet2(this.x,this.y,500,-3,-24),t.mSet2(this.x,this.y,500,3,-24);else if(this.c1>=28&&this.c1<=98)this.c1%7==0&&t.mSet2(this.x,this.y,500,(-15+t.ranInt(20))*s,-30);else if(130===this.c1){var M=t.ranInt(8)+3;t.mSet2(this.x,this.y,500,M,-30),t.mSet2(this.x,this.y,500,-M,-30)}this.c1>=150&&(this.c1=98)}}},{key:"boss2Attack",value:function(t,i){this.c1++,2===t.boss2_type?(10===this.c1||85===this.c1||215===this.c1?this.boss2BubbleBeam(t,0):35===this.c1||110===this.c1||295===this.c1?this.boss2BubbleBeam(t,15):60!==this.c1&&135!==this.c1&&375!==this.c1||this.boss2BubbleBeam(t,30),this.c1>445&&(this.c1=0)):(5!==this.c1&&35!==this.c1&&65!==this.c1&&110!==this.c1&&185!==this.c1||t.mSet(this.x,this.y,90),this.c1>185&&(this.c1=110))}},{key:"boss2BubbleBeam",value:function(t,i){for(var s=0;s<8;s++){var h=3.14*j(45*s+i)/180,e=Math.floor(8*Math.cos(h)),a=-Math.floor(8*Math.sin(h));t.mSet2(this.x,this.y-8,710,e,a)}}},{key:"boss3Attack",value:function(t,i){var s=1===i?-1:1;this.c1++;var h=!0,e=!1,a=void 0;try{for(var c,_=d([1,15,29,65,80,105,147,520,530],[-5,-10,-15,-20,-5,-15,-10,4,-5])[Symbol.iterator]();!(h=(c=_.next()).done);h=!0){var o=c.value,r=n(o,2),p=r[0],m=r[1];if(this.c1===p){t.mSet2(this.x,this.y,800,m*s,-32);break}}}catch(t){e=!0,a=t}finally{try{!h&&_.return&&_.return()}finally{if(e)throw a}}15===this.c1?(1!==i&&t.co_j.x>this.x-64&&(this.c1=500),1===i&&t.co_j.x<this.x+64&&(this.c1=500)):237===this.c1?this.c1=0:this.c1>=530&&(this.c1=1)}},{key:"boss3TackleAttack",value:function(t,i){var s=this,h=1===i?-1:1,e=t.sl_wx+16,a=t.sl_wx+16+512-64,c=t.sl_wx+96,_=t.sl_wx+512-96-32,o=3===t.boss3_type,r=4===t.boss3_type,p=function(t,i,h,e,a){t<=0&&s.x<=i?(e&&(s.x=i),s.c1=a):t>=0&&s.x>=h&&(e&&(s.x=h),s.c1=a)};if(this.c1<25)this.c1++;else if(25===this.c1||30===this.c1){var m=25===this.c1,g=m?30:40;if(r){var n=(m?-3:4)*h;this.x+=n,this.vy<24&&(this.vy=Math.min(this.vy+2,24)),this.y+=this.vy,this.y>=t.boss_kijyun_y&&(this.y=t.boss_kijyun_y,this.vy=-24,p(n,e,a,!1,g))}else{var y=0;y=m?o?-18:-12:o?18:8,y*=h,this.x+=y,p(y,e,a,!0,g)}}else if(40===this.c1){var j=-2*h;this.x+=j,p(j,c,_,!0,-20)}}},{key:"updateDamage",value:function(t,i){this.c1++,this.c4<=0?this.c1>=26&&(this.c=40,this.c1=0,t.addScore(10)):this.c1>=11&&(this.c=i)}},{key:"dyingByGrenade",value:function(t){this.vy+=4,this.vy>28&&(this.vy=28),this.x+=this.vx,this.y+=this.vy,this.y>=t.maps.wy+320+16&&(this.c=40,this.c1=0,t.addScore(10))}},{key:"isFumuable",value:function(t){return!(1250===this.pt||1255===this.pt)}},{key:"fumu",value:function(t){this.c4--,this.c1=0;var i=1===this.c4?1:0;switch(this.getBossNumber()){case 1:this.c=i?65:60,this.pt=i?1015:1010;break;case 2:this.c=i?75:70,this.pt=i?1115:1110;break;case 3:this.c=i?85:80,this.pt=i?1215:1210}}},{key:"hitWithGrenade",value:function(t,i){200===i.c&&(this.c<100||(i.c=50,i.c1=1,i.c2=20,1!==t.grenade_type&&5!==t.grenade_type||this.killGrenade(t,i.vx<0?1:0)))}},{key:"killGrenade",value:function(t,i){switch(this.vy=-24,this.c1=0,this.muki=i,this.vx=this.muki?-4:4,this.getBossNumber()){case 1:this.c=67,this.pt=this.muki?1005:1e3;break;case 2:this.c=77,this.pt=this.muki?1105:1100;break;case 3:this.c=87,this.pt=this.muki?1205:1200}}},{key:"getBossNumber",value:function(){return this.c>=60&&this.c<70?1:this.c>=100&&this.c<200?1:this.c>=70&&this.c<80?2:this.c>=200&&this.c<300?2:this.c>=80&&this.c<90?3:this.c>=300&&this.c<400?3:-1}}]),i}();function l(t,i,s,e){this.gg=t,this.gk=i,this.km=s,this.mp=e,this.co_j=new g,this.map_string=new Array(9),this.map_bg=Object(h.c)(15,9),this.stage_c=new Array(10),this.stage_x=new Array(10),this.stage_y=new Array(10),this.stage_cf=new Array(10),this.ie_c=new Array(16),this.ie_x=new Array(16),this.ie_y=new Array(16),this.zure_x=16,this.zure_y=24,this.mp_mode=0,this.cc_p1_x=new Array(17),this.cc_p1_y=new Array(17),this.cc_p2_x=new Array(17),this.cc_p2_y=new Array(17),this.cc_p1_x[13]=-200,this.cc_p1_y[13]=160,this.cc_p1_x[14]=-200,this.cc_p1_y[14]=520,this.cc_p1_x[15]=712,this.cc_p1_y[15]=520,this.cc_p1_x[16]=712,this.cc_p1_y[16]=160,this.cc_p2_x[13]=712,this.cc_p2_y[13]=160,this.cc_p2_x[14]=712,this.cc_p2_y[14]=-200,this.cc_p2_x[15]=-200,this.cc_p2_y[15]=-200,this.cc_p2_x[16]=-200,this.cc_p2_y[16]=160}function f(t,i,s){this.gg=t,this.gk=i,this.name_crys=s,this.hi=this.gg.spt_img[0],this.hih=this.gg.spt_img,this.hg=this.gg.os_g,this.ap=this.gg.ap,this.c=new Array(16),this.x=new Array(16),this.y=new Array(16),this.width=new Array(16),this.selectedIndex=new Array(16),this.item_kazu=new Array(16),this.message=new Array(16),this.item=Object(h.c)(16,16),this.item_int=Object(h.c)(16,16),this.item_color=new Array(16),this.list_IDlist=new Array(16),this.aw=-1,this.mode=0,this.kettei_c=0,this.cancel_c=0,this.initAll()}function u(t,i,s,e){this.width=t,this.height=i,this.gg=s,this.mp=e,this.map_bg=Object(h.c)(this.width,this.height),this.map_string=new Array(this.height),this.bg_space="",this.hi=this.gg.spt_img[0],this.g2=this.gg.os2_g,this.ap=this.gg.ap;for(var a=0;a<=this.width;a++)this.bg_space+=".";this.init()}function k(t,i,s){this.ran_seed=void 0,this.ml_mode=0,this.ml_mode_c=0,this.score=0,this.highscore=0,this.score_1up_1=0,this.score_1up_2=0,this.score_1up_1_para=0,this.score_1up_2_para=0,this.score_v=!0,this.stage=1,this.stage_cc=0,this.stage_max=1,this.stage_kaishi=1,this.g_c1=0,this.g_c2=0,this.g_c3=0,this.g_ac=0,this.g_ac2=0,this.tr1_c=0,this.tr2_c=0,this.left_dcc=0,this.right_dcc=0,this.co_t=new Array(130),this.co_m=new Array(24),this.co_a=new Array(32),this.co_h=new Array(64),this.co_jm=new Array(2),this.vo_x=Object(h.c)(32,4),this.vo_y=Object(h.c)(32,4),this.j_zan_x=new Array(6),this.j_zan_y=new Array(6),this.j_zan_pt=new Array(6),this.j_zan_pth=new Array(6),this.vo_pa_x=new Array(6),this.vo_pa_y=new Array(6),this.stage_1up_f=new Array(3),this.shop_item_name=new Array(16),this.shop_item_teika=new Array(16),this.door_score=10,this.gg=t,this.gm=i,this.gk=s,this.maps=new u(200,100,this.gg,this),this.km=new f(this.gg,this.gk,"まさお"),this.co_j=new g;for(var e=0;e<=129;e++)this.co_t[e]=new g;for(var a=0;a<=23;a++)this.co_m[a]=new g;for(var c=0;c<=31;c++)this.co_a[c]=new g;for(var _=0;_<=63;_++)this.co_h[_]=new g;for(var o=0;o<=1;o++)this.co_jm[o]=new g;this.co_b=new x,2==this.paraInt("stage_select")?(this.stage_select=2,this.stage_max=4):this.stage_select=1,this.ig=new l(this.gg,this.gk,this.km,this),this.ranInit(),this.hi=this.gg.spt_img[0],this.hih=this.gg.spt_img,this.hg=this.gg.os_g,this.ap=this.gg.ap,this.init1()}function v(t,i,s,h){this.th_interval=70,this.th_jm=10,this.params=t,this.__canvas=i,this.__appimg=new e(512,320),this.__game=s,this.options=h}l.prototype.worldInit=function(){for(var t=0;t<=9;t++)this.stage_c[t]=0,this.stage_cf[t]=!1;this.stage_kcID=0,this.door_koID=0,this.dokan_khID=0,this.door_score_open=0;for(t=0;t<=15;t++)this.ie_c[t]=0;this.co_j.x=0,this.co_j.y=0,this.co_j.vx=0,this.co_j.vy=0,this.co_j.muki=1,this.co_j.ac=0,this.mp.tr1_c=2,this.shop_kattaitem=-1,this.mp_mode=0,this.km.initAll(),this.km.mode=100;for(t=0;t<=8;t++){var i=this.gg.ap.getParameter("chizu-"+t);i+="...............",this.map_string[t]=i}for(t=0;t<=8;t++)for(var s=0;s<=14;s++){var h=this.map_string[t].charAt(s);"A"==h?(this.co_j.x=32*s,this.co_j.y=32*t,this.map_bg[s][t]=220):"B"==h?(this.map_bg[s][t]=216,this.ie_c[3]=100,this.ie_x[3]=32*s,this.ie_y[3]=32*t):"C"==h?(this.map_bg[s][t]=217,this.ie_c[4]=100,this.ie_x[4]=32*s,this.ie_y[4]=32*t):"D"==h?(this.map_bg[s][t]=218,this.ie_c[10]=100,this.ie_x[10]=32*s,this.ie_y[10]=32*t):"E"==h?(this.map_bg[s][t]=219,this.ie_c[11]=100,this.ie_x[11]=32*s,this.ie_y[11]=32*t):"a"==h?0==this.stage_c[0]?(this.map_bg[s][t]=223,this.stage_c[0]=100,this.stage_x[0]=32*s,this.stage_y[0]=32*t):this.map_bg[s][t]=220:"b"==h?0==this.stage_c[1]?(this.map_bg[s][t]=224,this.stage_c[1]=100,this.stage_x[1]=32*s,this.stage_y[1]=32*t):this.map_bg[s][t]=220:"c"==h?0==this.stage_c[2]?(this.map_bg[s][t]=225,this.stage_c[2]=100,this.stage_x[2]=32*s,this.stage_y[2]=32*t):this.map_bg[s][t]=220:"d"==h?0==this.stage_c[3]?(this.map_bg[s][t]=226,this.stage_c[3]=100,this.stage_x[3]=32*s,this.stage_y[3]=32*t):this.map_bg[s][t]=220:"e"==h?(this.map_bg[s][t]=213,this.ie_c[0]=100,this.ie_x[0]=32*s,this.ie_y[0]=32*t):"f"==h?(this.map_bg[s][t]=214,this.ie_c[1]=100,this.ie_x[1]=32*s,this.ie_y[1]=32*t):"g"==h?(this.map_bg[s][t]=215,this.ie_c[2]=100,this.ie_x[2]=32*s,this.ie_y[2]=32*t):"h"==h?(this.map_bg[s][t]=212,this.ie_c[9]=100,this.ie_x[9]=32*s,this.ie_y[9]=32*t):"i"==h?(this.map_bg[s][t]=206,this.ie_c[5]=100,this.ie_x[5]=32*s,this.ie_y[5]=32*t):"j"==h?(this.map_bg[s][t]=207,this.ie_c[6]=100,this.ie_x[6]=32*s,this.ie_y[6]=32*t):"k"==h?(this.map_bg[s][t]=208,this.ie_c[7]=100,this.ie_x[7]=32*s,this.ie_y[7]=32*t):"l"==h?(this.map_bg[s][t]=209,this.ie_c[8]=100,this.ie_x[8]=32*s,this.ie_y[8]=32*t):this.map_bg[s][t]="1"==h?220:"2"==h?221:"3"==h?222:0}this.co_j.x+16>256&&(this.co_j.muki=0),this.drawOs2()},l.prototype.worldInit2=function(){this.co_j.vx=0,this.co_j.vy=0,this.co_j.muki=1,this.co_j.ac=0,this.mp.tr1_c=2,this.mp_mode=200,this.cc_hankei=12,this.stage_kcID=0,this.door_koID=0,this.shop_kattaitem=-1,this.door_score_open=0,100==this.ie_c[9]&&this.mp.score>=this.mp.door_score&&(this.ie_c[9]=50,this.door_score_open=1),this.km.initAll(),this.km.mode=100,this.drawOs2()},l.prototype.worldInit3=function(){this.stage_kcID=this.checkStage(),this.stage_cf[this.stage_kcID-1]=!0,this.stage_c[this.stage_kcID-1]=50;for(var t=0,i=0;i<=2;i++)this.stage_cf[i]&&t++;this.door_koID=0,t>=1&&100==this.ie_c[t-1]&&(this.ie_c[t-1]=50,this.door_koID=t),this.door_score_open=0,100==this.ie_c[9]&&this.mp.score>=this.mp.door_score&&(this.ie_c[9]=50,this.door_score_open=1),this.co_j.vx=0,this.co_j.vy=0,this.co_j.muki=1,this.co_j.ac=0,this.mp.tr1_c=2,this.co_j.pt=0,this.shop_kattaitem=-1,this.mp_mode=200,this.cc_hankei=12,this.km.initAll(),this.km.mode=100,this.drawOs2()},l.prototype.drawOs2=function(){this.gg.setBackcolor(new _(0,127,0)),this.gg.fill2(),this.gg.os2_g.drawImage(this.gg.li[3],0,0,this.gg.ap);for(var t=0;t<=8;t++)for(var i=0;i<=14;i++){221==(s=this.map_bg[i][t])?(this.gg.drawPT2(32*i+16,32*t+24-16,221),this.gg.drawPT2(32*i+16,32*t+24+16,221)):222==s&&(this.gg.drawPT2(32*i+16-16,32*t+24,222),this.gg.drawPT2(32*i+16+16,32*t+24,222))}for(t=0;t<=8;t++)for(i=0;i<=14;i++){var s;61!=(s=this.map_bg[i][t])&&62!=s&&256!=s&&(s>=216&&s<=219?this.gg.drawPT2(32*i+16,32*t+24-7,s):s>=206&&s<=209?this.gg.drawPT2(32*i+16,32*t+24-7,s):s>=212&&s<=215?(this.gg.drawPT2(32*i+16-16,32*t+24,222),this.gg.drawPT2(32*i+16+16,32*t+24,222),this.gg.drawPT2(32*i+16,32*t+24-7,s)):this.gg.drawPT2(32*i+16,32*t+24,s))}},l.prototype.drawMap=function(){this.gg.os_g.drawImage(this.gg.os2_img,0,0,this.gg.ap)},l.prototype.getBGZ=function(t,i){if(t<0||t>479||i<0||i>287)return 0;var s=t>>5,h=i>>5;return this.map_bg[s][h]},l.prototype.checkStage=function(){for(var t=-1,i=0;i<=9;i++)if(100==this.stage_c[i]&&this.co_j.x==this.stage_x[i]&&this.co_j.y==this.stage_y[i]){t=i+1;break}return t},l.prototype.mainProgram=function(){if(this.gk.tr1_f?this.mp.tr1_c<2&&(this.mp.tr1_c+=1):this.mp.tr1_c=0,0==this.mp_mode){if(100==this.km.mode)this.jMove();else if(200==this.km.mode)1==this.km.cancel_c?(this.km.off(3),this.km.off(4),this.km.mode=100):1==this.km.kettei_c&&(this.km.init1(3),this.km.setMessage(3,this.mp.mes1_name),this.mp.addSerifu(3,2,3),this.km.activeSerifu(3,120,150,272,_.cyan),this.km.mode=210);else if(210==this.km.mode)1!=this.km.cancel_c&&1!=this.km.kettei_c||(this.km.off(3),this.km.off(4),this.km.mode=100);else if(300==this.km.mode)1==this.km.cancel_c?(this.km.off(3),this.km.off(4),this.km.mode=100):1==this.km.kettei_c&&(this.km.init1(3),this.km.setMessage(3,this.mp.mes2_name),this.mp.addSerifu(3,4,3),this.km.activeSerifu(3,120,150,272,_.cyan),this.km.mode=210);else if(400==this.km.mode){if(1==this.km.cancel_c)this.km.off(3),this.km.off(4),this.km.mode=100;else if(1==this.km.kettei_c){this.km.off(3),this.km.list_kazu=0,this.km.init1(6),this.km.setMessage(6,this.gg.ap.getParameter("shop_serifu1"));for(var t=0;t<=8;t++)this.mp.shop_item_teika[t]>0&&(this.km.addItem2(6,this.mp.shop_item_name[t],this.mp.shop_item_teika[t]),this.km.list_IDlist[this.km.list_kazu]=t,this.km.list_kazu+=1);this.km.list_kazu>=1?(this.km.activeKaimono(6,296,76,184),this.km.mode=410):(this.km.init1(6),this.km.init1(3),this.km.setMessage(3,"Error"),this.km.addItem(3,"Please set any item on shop menu."),this.km.activeSerifu(3,120,150,216,_.red),this.km.mode=210)}}else 410==this.km.mode?1==this.km.cancel_c?(this.km.off(4),this.km.off(6),this.km.mode=100):1==this.km.kettei_c&&(this.km.list_s=this.km.list_IDlist[this.km.selectedIndex[6]],this.km.init1(7),this.km.setMessage(7,this.mp.shop_item_name[this.km.list_s]+this.gg.ap.getParameter("shop_serifu2")),this.km.addItem(7,this.gg.ap.getParameter("shop_serifu3")),this.km.addItem(7,this.gg.ap.getParameter("shop_serifu4")),this.km.activeSerifutuki(7,48,150,236,this.mp.shop_name),this.km.mode=420):420==this.km.mode?1==this.km.cancel_c?(this.km.offActivewindow(7,6),this.km.mode=410):1==this.km.kettei_c&&(0==this.km.selectedIndex[7]?this.mp.score>=this.mp.shop_item_teika[this.km.list_s]?(this.km.init1(3),this.km.addItem(3,this.mp.shop_item_name[this.km.list_s]+this.gg.ap.getParameter("shop_serifu5")),this.km.activeIchigyou(3,48,240,236),this.mp.score-=this.mp.shop_item_teika[this.km.list_s],this.shop_kattaitem=this.km.list_s,7==this.shop_kattaitem&&(this.mp.j_left+=1),this.km.mode=430):(this.km.init1(3),this.km.addItem(3,this.gg.ap.getParameter("shop_serifu6")),this.km.activeIchigyou(3,48,240,236),this.km.mode=430):(this.km.off(4),this.km.off(6),this.km.off(7),this.km.mode=100)):430==this.km.mode?1!=this.km.cancel_c&&1!=this.km.kettei_c||(this.km.off(3),this.km.off(4),this.km.off(6),this.km.off(7),this.km.mode=100):500==this.km.mode?1==this.km.cancel_c?(this.km.off(4),this.km.off(3),this.km.mode=100):1==this.km.kettei_c&&(this.km.off(3),this.km.init1(2),this.km.setMessage(2,this.gg.ap.getParameter("setumei_menu1")),this.km.addItem(2,this.gg.ap.getParameter("setumei_menu2")),this.km.addItem(2,this.gg.ap.getParameter("setumei_menu3")),this.km.addItem(2,this.gg.ap.getParameter("setumei_menu4")),this.km.activeSerifutuki(2,120,150,224,this.mp.setumei_name),this.km.mode=510):510==this.km.mode?1==this.km.cancel_c?(this.km.off(2),this.km.off(4),this.km.mode=100):1==this.km.kettei_c&&(this.km.init1(3),this.km.setMessage(3,this.mp.setumei_name),1==this.km.selectedIndex[2]?this.mp.addSerifu(3,11,3):2==this.km.selectedIndex[2]?this.mp.addSerifu(3,12,3):this.mp.addSerifu(3,10,3),this.km.activeSerifu(3,200,191,272,_.cyan),this.km.mode=520):520==this.km.mode&&(1==this.km.cancel_c?(this.km.offActivewindow(3,2),this.km.mode=510):1==this.km.kettei_c&&(this.km.off(2),this.km.off(3),this.km.off(4),this.km.mode=100));this.km.move()}if(1e3==this.co_j.pt?this.gg.drawPT(this.co_j.x+16,this.co_j.y+24-12-6,100,this.co_j.muki):1010==this.co_j.pt?this.gg.drawPT(this.co_j.x+16,this.co_j.y+24-12+5,100,this.co_j.muki):this.co_j.pt>=202&&this.co_j.pt<=205?this.gg.drawPT(this.co_j.x+16,this.co_j.y+24-12,this.co_j.pt,0):this.gg.drawPT(this.co_j.x+16,this.co_j.y+24-12,this.co_j.pt,this.co_j.muki),this.km.drawMenus(),100==this.mp_mode)this.circleCLS(this.cc_hankei),this.cc_hankei-=12,this.cc_hankei<0&&(this.cc_hankei=0,this.mp_mode=110);else if(110==this.mp_mode)this.circleCLS(this.cc_hankei);else if(200==this.mp_mode){if(this.circleCLS(this.cc_hankei),this.cc_hankei+=12,this.cc_hankei>312)if(this.stage_kcID>=1){this.mp_mode=300,this.cc_hankei=0;var i=this.stage_y[this.stage_kcID-1]>>5;this.map_bg[this.stage_x[this.stage_kcID-1]>>5][i]=227,this.door_koID>=1&&(this.map_bg[this.ie_x[this.door_koID-1]>>5][this.ie_y[this.door_koID-1]>>5]=222),1==this.door_score_open&&(this.map_bg[this.ie_x[9]>>5][this.ie_y[9]>>5]=222),this.drawOs2()}else this.mp_mode=0,1==this.door_score_open&&(this.mp_mode=400,this.cc_hankei=0,this.map_bg[this.ie_x[9]>>5][this.ie_y[9]>>5]=222,this.drawOs2())}else if(300==this.mp_mode){var s;this.cc_hankei+=1,this.cc_hankei<=3?s=0:this.cc_hankei<=6?s=1:this.cc_hankei<=9?s=0:this.cc_hankei<=12?s=1:this.cc_hankei<=15?s=0:this.cc_hankei<=18?s=1:this.cc_hankei<=21?s=0:this.cc_hankei<=24?s=1:this.cc_hankei<=26?s=0:(s=0,this.mp_mode=0),s>0&&this.gg.drawPT(this.stage_x[this.stage_kcID-1]+16,this.stage_y[this.stage_kcID-1]+24,222+this.stage_kcID,0),s>0&&this.door_koID>=1&&this.gg.drawPT(this.ie_x[this.door_koID-1]+16,this.ie_y[this.door_koID-1]+24-7,212+this.door_koID,0),s>0&&1==this.door_score_open&&this.gg.drawPT(this.ie_x[9]+16,this.ie_y[9]+24-7,212,0)}else if(400==this.mp_mode){var h;this.cc_hankei+=1,this.cc_hankei<=3?h=0:this.cc_hankei<=6?h=1:this.cc_hankei<=9?h=0:this.cc_hankei<=12?h=1:this.cc_hankei<=15?h=0:this.cc_hankei<=18?h=1:this.cc_hankei<=21?h=0:this.cc_hankei<=24?h=1:this.cc_hankei<=26?h=0:(h=0,this.mp_mode=0),h>0&&this.gg.drawPT(this.ie_x[9]+16,this.ie_y[9]+24-7,212,0)}},l.prototype.jMove=function(){var t=this.co_j.x,i=this.co_j.y;if(this.co_j.pt=100,0==this.co_j.vx&&0==this.co_j.vy){if(this.co_j.ac+=1,this.co_j.ac>7&&(this.co_j.ac=0),this.co_j.ac>3)this.co_j.pt=1e3,((a=this.getBGZ(t,i))>=216&&a<=219||a>=206&&a<=209)&&(this.co_j.pt=1010);if(1==this.mp.tr1_c)if(this.checkStage()>=1)this.mp_mode=100,this.cc_hankei=312,this.co_j.ac=0,this.dokan_khID=0,this.co_j.pt=100;else if(this.getBGZ(t,i)>=206&&this.getBGZ(t,i)<=209)if(2==this.mp.dokan_mode)for(var s=!1,h=0;h<=8;h++){for(var e=0;e<=14;e++)if((32*e!=t||32*h!=i)&&this.map_bg[e][h]==this.getBGZ(t,i)){t=32*e,i=32*h,this.co_j.ac=0,this.co_j.pt=1010,s=!0;break}if(s)break}else this.mp_mode=100,this.cc_hankei=312,this.co_j.ac=0,this.dokan_khID=this.getBGZ(t,i)-205,this.co_j.pt=1010;else 216==this.getBGZ(t,i)?(this.km.init1(4),this.km.onKao(4,120,42,272,230),this.km.init1(3),this.km.setMessage(3,this.mp.mes1_name),this.mp.addSerifu(3,1,3),this.km.activeSerifu(3,120,150,272,_.cyan),this.km.mode=200,this.co_j.pt=1010,this.co_j.ac=0):217==this.getBGZ(t,i)?(this.km.init1(4),this.km.onKao(4,120,42,272,232),this.km.init1(3),this.km.setMessage(3,this.mp.mes2_name),this.mp.addSerifu(3,3,3),this.km.activeSerifu(3,120,150,272,_.cyan),this.km.mode=300,this.co_j.pt=1010,this.co_j.ac=0):218==this.getBGZ(t,i)?(this.km.init1(4),this.km.onKao(4,120,42,216,234),this.shop_kattaitem<0?(this.km.init1(3),this.km.setMessage(3,this.mp.shop_name),this.mp.addSerifu(3,5,3),this.km.activeSerifu(3,120,150,216,_.cyan),this.km.mode=400):(this.km.init1(3),this.km.setMessage(3,this.mp.shop_name),this.mp.addSerifu(3,8,3),this.km.activeSerifu(3,120,150,216,_.cyan),this.km.mode=210),this.co_j.pt=1010,this.co_j.ac=0):219==this.getBGZ(t,i)&&(this.km.init1(4),this.km.onKao(4,120,42,272,236),this.km.init1(3),this.km.setMessage(3,this.mp.setumei_name),this.mp.addSerifu(3,9,3),this.km.activeSerifu(3,120,150,272,_.cyan),this.km.mode=500,this.co_j.pt=1010,this.co_j.ac=0);else this.gk.up_f?221==this.getBGZ(t,i-32)&&(this.co_j.vy=-4,this.co_j.ac=-1):this.gk.down_f?221==this.getBGZ(t,i+32)&&(this.co_j.vy=4,this.co_j.ac=-1):this.gk.left_f?(this.co_j.muki=0,222==this.getBGZ(t-32,i)&&(this.co_j.vx=-4,this.co_j.ac=-1),this.getBGZ(t+32,i)>=212&&this.getBGZ(t+32,i)<=215&&(this.co_j.vx=-4,this.co_j.ac=-1)):this.gk.right_f&&(this.co_j.muki=1,222==this.getBGZ(t+32,i)&&(this.co_j.vx=4,this.co_j.ac=-1),this.getBGZ(t-32,i)>=212&&this.getBGZ(t-32,i)<=215&&(this.co_j.vx=4,this.co_j.ac=-1))}if(0!=this.co_j.vx||0!=this.co_j.vy){var a;if(this.co_j.ac+=1,this.co_j.ac>3&&(this.co_j.ac=0),t+=this.co_j.vx,i+=this.co_j.vy,0!=this.co_j.vx?this.co_j.ac<=1?this.co_j.pt=103:this.co_j.pt=104:this.co_j.vy>=0?this.co_j.ac<=1?this.co_j.pt=202:this.co_j.pt=203:this.co_j.ac<=1?this.co_j.pt=204:this.co_j.pt=205,t%32==0&&i%32==0)(220==(a=this.getBGZ(t,i))||a>=223&&a<=227||a>=216&&a<=219||a>=206&&a<=209)&&(this.co_j.vx=0,this.co_j.vy=0,this.co_j.ac=0),a=0,this.co_j.vx>0?a=this.getBGZ(t+32,i):this.co_j.vx<0&&(a=this.getBGZ(t-32,i)),a>=212&&a<=215&&(this.co_j.vx=0,this.co_j.vy=0,this.co_j.pt=100,this.co_j.ac=0);t<=-32?(t=-32,this.co_j.vx=0,this.co_j.vy=0,this.co_j.ac=0):t>=480&&(t=480,this.co_j.vx=0,this.co_j.vy=0,this.co_j.ac=0),i<=-32?(i=-32,this.co_j.vx=0,this.co_j.vy=0,this.co_j.ac=0):i>=288&&(i=288,this.co_j.vx=0,this.co_j.vy=0,this.co_j.ac=0)}this.co_j.x=t,this.co_j.y=i},l.prototype.circleCLS=function(t){for(var i=0;i<=12;i++){var s=Math.sin(.2617992*i);this.cc_p1_y[i]=160+Math.floor(s*t);var h=Math.cos(.2617992*i);this.cc_p1_x[i]=256+Math.floor(h*t),this.cc_p2_y[i]=160-Math.floor(s*t),this.cc_p2_x[i]=256-Math.floor(h*t)}this.gg.os_g.setColor(_.black),this.gg.os_g.fillPolygon(this.cc_p1_x,this.cc_p1_y,17),this.gg.os_g.fillPolygon(this.cc_p2_x,this.cc_p2_y,17)},l.prototype.squareCLS=function(t,i){var s=.017453292519943295;this.cc_p1_x[0]=Math.floor(Math.cos((this.cc_kakudo+0)*s)*t)+256,this.cc_p1_y[0]=Math.floor(Math.sin((this.cc_kakudo+0)*s)*t)+160,this.cc_p1_x[1]=Math.floor(Math.cos((this.cc_kakudo+90)*s)*t)+256,this.cc_p1_y[1]=Math.floor(Math.sin((this.cc_kakudo+90)*s)*t)+160,this.cc_p1_x[2]=Math.floor(Math.cos((this.cc_kakudo+180)*s)*t)+256,this.cc_p1_y[2]=Math.floor(Math.sin((this.cc_kakudo+180)*s)*t)+160,this.cc_p1_x[3]=Math.floor(500*Math.cos((this.cc_kakudo+180)*s))+256,this.cc_p1_y[3]=Math.floor(500*Math.sin((this.cc_kakudo+180)*s))+160,this.cc_p1_x[4]=Math.floor(700*Math.cos((this.cc_kakudo+135)*s))+256,this.cc_p1_y[4]=Math.floor(700*Math.sin((this.cc_kakudo+135)*s))+160,this.cc_p1_x[5]=Math.floor(700*Math.cos((this.cc_kakudo+45)*s))+256,this.cc_p1_y[5]=Math.floor(700*Math.sin((this.cc_kakudo+45)*s))+160,this.cc_p1_x[6]=Math.floor(500*Math.cos((this.cc_kakudo+0)*s))+256,this.cc_p1_y[6]=Math.floor(500*Math.sin((this.cc_kakudo+0)*s))+160,this.cc_p2_x[0]=Math.floor(Math.cos((this.cc_kakudo+180)*s)*t)+256,this.cc_p2_y[0]=Math.floor(Math.sin((this.cc_kakudo+180)*s)*t)+160,this.cc_p2_x[1]=Math.floor(Math.cos((this.cc_kakudo+270)*s)*t)+256,this.cc_p2_y[1]=Math.floor(Math.sin((this.cc_kakudo+270)*s)*t)+160,this.cc_p2_x[2]=Math.floor(Math.cos((this.cc_kakudo+360)*s)*t)+256,this.cc_p2_y[2]=Math.floor(Math.sin((this.cc_kakudo+360)*s)*t)+160,this.cc_p2_x[3]=Math.floor(500*Math.cos((this.cc_kakudo+360)*s))+256,this.cc_p2_y[3]=Math.floor(500*Math.sin((this.cc_kakudo+360)*s))+160,this.cc_p2_x[4]=Math.floor(700*Math.cos((this.cc_kakudo+315)*s))+256,this.cc_p2_y[4]=Math.floor(700*Math.sin((this.cc_kakudo+315)*s))+160,this.cc_p2_x[5]=Math.floor(700*Math.cos((this.cc_kakudo+225)*s))+256,this.cc_p2_y[5]=Math.floor(700*Math.sin((this.cc_kakudo+225)*s))+160,this.cc_p2_x[6]=Math.floor(500*Math.cos((this.cc_kakudo+180)*s))+256,this.cc_p2_y[6]=Math.floor(500*Math.sin((this.cc_kakudo+180)*s))+160,this.gg.os_g.setColor(_.black),this.gg.os_g.fillPolygon(this.cc_p1_x,this.cc_p1_y,7),this.gg.os_g.fillPolygon(this.cc_p2_x,this.cc_p2_y,7)},f.prototype.initAll=function(){for(var t=0;t<=15;t++)this.init1(t);this.c_fc=0,this.gk.up_c=0,this.gk.down_c=0,this.aw=-1,this.kettei_c=2,this.cancel_c=2;for(t=0;t<=15;t++)this.list_IDlist[t]=0;this.list_kazu=0,this.list_s=0},f.prototype.init1=function(t){this.c[t]=0,this.x[t]=0,this.y[t]=0,this.width[t]=180,this.selectedIndex[t]=0,this.item_kazu[t]=0,this.message[t]="どうしますか？";for(var i=0;i<=15;i++)this.item[t][i]="";for(i=0;i<=15;i++)this.item_int[t][i]=0},f.prototype.setMessage=function(t,i){this.message[t]=i},f.prototype.addItem=function(t,i){this.item[t][this.item_kazu[t]]=i,this.item_kazu[t]+=1},f.prototype.addIntitem=function(t,i){this.item_int[t][this.item_kazu[t]]=i,this.item_kazu[t]+=1},f.prototype.addItem2=function(t,i,s){this.item[t][this.item_kazu[t]]=i,this.item_int[t][this.item_kazu[t]]=s,this.item_kazu[t]+=1},f.prototype.active=function(t,i,s,h){this.c[t]=100,this.x[t]=i,this.y[t]=s,this.width[t]=void 0!==h?h:180,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=t,this.kettei_c=2,this.cancel_c=2},f.prototype.activeSerifutuki=function(t,i,s,h,e){this.c[t]=700,this.x[t]=i,this.y[t]=s,this.width[t]=h,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=t,this.kettei_c=2,this.cancel_c=2,this.item[t][15]=e},f.prototype.activeKaimono=function(t,i,s,h){this.c[t]=900,this.x[t]=i,this.y[t]=s,this.width[t]=h,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=t,this.kettei_c=2,this.cancel_c=2},f.prototype.activeIchigyou=function(t,i,s,h){this.c[t]=300,this.x[t]=i,this.y[t]=s,this.width[t]=h,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=t,this.kettei_c=2,this.cancel_c=2},f.prototype.activeNigyou=function(t,i,s,h,e){this.c[t]=310,this.x[t]=i,this.y[t]=s,this.width[t]=h,this.item_color[t]=e,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=t,this.kettei_c=2,this.cancel_c=2},f.prototype.activeYongyou=function(t,i,s,h){this.c[t]=320,this.x[t]=i,this.y[t]=s,this.width[t]=h,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=t,this.kettei_c=2,this.cancel_c=2},f.prototype.activeYongyou2=function(t,i,s,h){this.c[t]=321,this.x[t]=i,this.y[t]=s,this.width[t]=h,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=t,this.kettei_c=2,this.cancel_c=2},f.prototype.activeSerifu=function(t,i,s,h,e){this.c[t]=330,this.x[t]=i,this.y[t]=s,this.width[t]=h,this.item_color[t]=e,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=t,this.kettei_c=2,this.cancel_c=2},f.prototype.activeYasumu=function(t,i,s){this.c[t]=1e3,this.x[t]=i,this.y[t]=s,this.width[t]=272,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=t,this.kettei_c=2,this.cancel_c=2},f.prototype.onKao=function(t,i,s,h,e){this.c[t]=600,this.x[t]=i,this.y[t]=s,this.width[t]=h,this.item_int[t][0]=e},f.prototype.onMituketa=function(t,i,s){this.c[t]=610,this.x[t]=i,this.y[t]=s,this.width[t]=200},f.prototype.onOkozukai=function(t,i,s,h,e){this.c[t]=800,this.x[t]=i,this.y[t]=s,this.width[t]=h,this.item_int[t][0]=e},f.prototype.activeIchigyouTime=function(t,i,s,h){this.c[t]=350,this.x[t]=i,this.y[t]=s,this.width[t]=h,this.item_int[t][0]=100},f.prototype.activeNigyouTime=function(t,i,s,h,e){this.c[t]=360,this.x[t]=i,this.y[t]=s,this.width[t]=h,this.item_color[t]=e,this.item_int[t][0]=100},f.prototype.activeJibun=function(t,i,s,h,e,a,c,_){this.c[t]=400,this.x[t]=i,this.y[t]=s,this.item_int[14][0]=e,this.item_int[14][1]=a,this.item_int[14][2]=c,this.item_int[14][3]=_,this.width[t]=h,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=t,this.kettei_c=2,this.cancel_c=2},f.prototype.activeToujou=function(t,i,s,h,e,a){this.c[t]=420,this.x[t]=i,this.y[t]=s,this.item_int[t][2]=e,this.item[t][0]=a,this.width[t]=h,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=t,this.kettei_c=2,this.cancel_c=2},f.prototype.initCS=function(){this.item_kazu[0]=8,this.selectedIndex[0]=0},f.prototype.activeCS=function(){this.c[0]=500,this.x[0]=0,this.y[0]=0,this.width[0]=0,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=0,this.kettei_c=2},f.prototype.off=function(t){this.c[t]=0},f.prototype.offActivewindow=function(t,i){this.c[t]=0,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=i,this.kettei_c=2,this.cancel_c=2},f.prototype.move=function(){this.c_fc+=1,this.c_fc>6&&(this.c_fc=0),this.aw>=0&&(this.gk.up_f?(this.gk.up_c+=1,this.gk.up_c>3&&(this.gk.up_c=1)):this.gk.up_c=0,this.gk.down_f?(this.gk.down_c+=1,this.gk.down_c>3&&(this.gk.down_c=1)):this.gk.down_c=0,1==this.gk.up_c?(this.selectedIndex[this.aw]-=1,this.c_fc=-1,this.selectedIndex[this.aw]<0&&(this.selectedIndex[this.aw]=this.item_kazu[this.aw]-1)):1==this.gk.down_c&&(this.selectedIndex[this.aw]+=1,this.c_fc=-1,this.selectedIndex[this.aw]>this.item_kazu[this.aw]-1&&(this.selectedIndex[this.aw]=0))),this.gk.tr1_f?0==this.kettei_c&&(this.kettei_c=1):this.kettei_c=0,this.gk.x_f?0==this.cancel_c&&(this.cancel_c=1):this.cancel_c=0},f.prototype.drawMenus=function(){this.hg.setFont(new o("Dialog",0,12));for(var t=0;t<=15;t++){var i=this.c[t];if(0!=i)switch(i){case 100:if(this.drawWindowbox(this.x[t],this.y[t],this.width[t],30+14*this.item_kazu[t]),this.hg.setColor(_.white),this.hg.drawString(this.message[t],this.x[t]+24,this.y[t]+6+12),this.item_kazu[t]>=1)for(var s=0;s<=this.item_kazu[t]-1;s++)this.hg.drawString(this.item[t][s],this.x[t]+24,this.y[t]+6+18+14*s+12);t==this.aw?this.c_fc<=3&&this.hg.drawImage(this.hi[70],this.x[t]+6,this.y[t]+24+14*this.selectedIndex[t],this.ap):this.hg.drawImage(this.hi[70],this.x[t]+6,this.y[t]+24+14*this.selectedIndex[t],this.ap);break;case 200:this.hg.setColor(_.white),this.hg.fillRect(12,12,128,58),this.hg.setColor(_.black),this.hg.fillRect(14,14,124,54),this.hg.setColor(_.cyan),this.hg.drawString(this.item[14][0],18,30),(this.item_int[14][0]<=0||this.item_int[14][2]<=0)&&(this.hg.setColor(_.red),this.hg.drawString("戦闘不能",82,30)),this.hg.setColor(_.white),this.hg.drawString("HP\t"+this.item_int[14][0]+" / "+this.item_int[14][1],18,48),this.hg.drawString("PP\t"+this.item_int[14][2]+" / "+this.item_int[14][3],18,62);break;case 210:this.hg.setColor(_.white),this.hg.fillRect(160,12,128,58),this.hg.setColor(_.black),this.hg.fillRect(162,14,124,54),this.hg.setColor(_.green),this.hg.drawString(this.item[15][0],166,30),this.item_int[15][0]<=0&&(this.hg.setColor(_.red),this.hg.drawString("戦闘不能",230,30)),this.hg.setColor(_.white),this.hg.drawString("HP\t"+this.item_int[15][0]+" / "+this.item_int[15][1],166,48),this.hg.drawString("PP\t"+this.item_int[15][2]+" / "+this.item_int[15][3],166,62);break;case 220:this.hg.setColor(_.white),this.hg.fillRect(372,12,128,58),this.hg.setColor(_.black),this.hg.fillRect(374,14,124,54),this.hg.setColor(_.cyan),this.hg.drawString(this.item[15][0],378,30),(this.item_int[15][0]<=0||this.item_int[15][2]<=0)&&(this.hg.setColor(_.red),this.hg.drawString("戦闘不能",442,30)),this.hg.setColor(_.white),this.hg.drawString("HP\t"+this.item_int[15][0]+" / "+this.item_int[15][1],378,48),this.hg.drawString("PP\t"+this.item_int[15][2]+" / "+this.item_int[15][3],378,62);break;case 300:this.drawWindowbox(this.x[t],this.y[t],this.width[t],40),this.hg.setColor(_.white),this.hg.drawString(this.item[t][0],this.x[t]+6,this.y[t]+6+12),this.c_fc<=3&&this.gg.drawPT(this.x[t]+(this.width[t]-14>>1),this.y[t]+6+14+0+2,201,0);break;case 310:this.drawWindowbox(this.x[t],this.y[t],this.width[t],58),this.hg.setColor(this.item_color[t]),this.hg.drawString(this.item[t][0],this.x[t]+6,this.y[t]+6+12),this.hg.setColor(_.white),this.hg.drawString(this.item[t][1],this.x[t]+6,this.y[t]+6+18+12),this.c_fc<=3&&this.gg.drawPT(this.x[t]+(this.width[t]-14>>1),this.y[t]+6+18+14+2,71,0);break;case 320:this.drawWindowbox(this.x[t],this.y[t],this.width[t],66+14*(this.item_kazu[t]-3)+14),this.hg.setColor(_.magenta),this.hg.drawString(this.item[t][0],this.x[t]+6,this.y[t]+6+12),this.hg.setColor(_.white),this.hg.drawString(this.item[t][1],this.x[t]+6,this.y[t]+6+18+12),this.hg.setColor(_.cyan),this.hg.drawString(this.item[t][2],this.x[t]+6,this.y[t]+6+36+12),this.hg.setColor(_.white);for(s=0;s<=this.item_kazu[3]-4;s++)this.hg.drawString(this.item[3][s+3],this.x[3]+6,this.y[3]+6+54+14*s+12);this.c_fc<=3&&this.gg.drawPT(this.x[t]+(this.width[t]-14>>1),this.y[t]+6+18+36+14*(this.item_kazu[t]-3)+2,71,0);break;case 321:this.drawWindowbox(this.x[t],this.y[t],this.width[t],108),this.hg.setColor(_.cyan),this.hg.drawString(this.item[t][0],this.x[t]+6,this.y[t]+6+12),this.hg.setColor(_.white),this.hg.drawString(this.item[t][1],this.x[t]+6,this.y[t]+6+18+12),this.hg.setColor(_.magenta),this.hg.drawString(this.item[t][2],this.x[t]+6,this.y[t]+6+36+12),this.hg.setColor(_.white),this.hg.drawString(this.item[t][3],this.x[t]+6,this.y[t]+6+54+12),this.hg.setColor(_.white),this.hg.drawString(this.item[t][4],this.x[t]+6,this.y[t]+6+54+14+12),this.c_fc<=3&&this.gg.drawPT(this.x[t]+(this.width[t]-14>>1),this.y[t]+6+18+36+14+14+2,71,0);break;case 330:if(this.drawWindowbox(this.x[t],this.y[t],this.width[t],30+14*(this.item_kazu[t]+1)),this.hg.setColor(this.item_color[t]),this.hg.drawString(this.message[t],this.x[t]+6,this.y[t]+6+12),this.hg.setColor(_.white),this.item_kazu[t]>=1)for(s=0;s<=this.item_kazu[t]-1;s++)this.hg.drawString(this.item[t][s],this.x[t]+6,this.y[t]+6+18+14*s+12);t==this.aw?this.c_fc<=3&&this.gg.drawPT(this.x[t]+(this.width[t]-14>>1),this.y[t]+6+18+14*this.item_kazu[t]+2,201,0):this.gg.drawPT(this.x[t]+(this.width[t]-14>>1),this.y[t]+6+18+14*this.item_kazu[t]+2,201,0);break;case 350:if(100==this.item_int[t][0]){this.item_int[t][0]=55;break}this.drawWindowbox(this.x[t],this.y[t],this.width[t],26),this.hg.setColor(_.white),this.hg.drawString(this.item[t][0],this.x[t]+6,this.y[t]+6+12),this.item_int[t][0]-=1,this.item_int[t][0]<=0&&this.off(t);break;case 360:200==this.item_int[t][0]?(this.drawWindowbox(this.x[t],this.y[t],this.width[t],44),this.hg.setColor(this.item_color[t]),this.hg.drawString(this.item[t][0],this.x[t]+6,this.y[t]+6+12),this.hg.setColor(_.white),this.hg.drawString(this.item[t][1],this.x[t]+6,this.y[t]+6+18+12)):100==this.item_int[t][0]?this.item_int[t][0]=55:(this.drawWindowbox(this.x[t],this.y[t],this.width[t],44),this.hg.setColor(this.item_color[t]),this.hg.drawString(this.item[t][0],this.x[t]+6,this.y[t]+6+12),this.hg.setColor(_.white),this.hg.drawString(this.item[t][1],this.x[t]+6,this.y[t]+6+18+12),this.item_int[t][0]-=1,this.item_int[t][0]<=0&&this.off(t));break;case 400:this.drawWindowbox(this.x[t],this.y[t],this.width[t],128),this.hg.setColor(_.yellow),this.hg.drawString(this.name_crys+"のステータス",this.x[t]+6,this.y[t]+6+12),this.hg.setColor(_.white),this.hg.drawString("HP\t"+this.item_int[14][0]+" / "+this.item_int[14][1],this.x[t]+6,this.y[t]+6+18+0+12),this.hg.drawString("おこづかい\t",this.x[t]+6,this.y[t]+6+18+28+12),this.hg.drawString(this.item_int[14][2]+"円",this.x[t]+6+72,this.y[t]+6+18+42+12),this.hg.drawString("得点",this.x[t]+6,this.y[t]+6+18+56+12),this.hg.drawString(this.item_int[14][3]+"点",this.x[t]+6+72,this.y[t]+6+18+70+12),this.c_fc<=3&&this.gg.drawPT(this.x[t]+(this.width[t]-14>>1),this.y[t]+6+18+84+2,71,0);break;case 420:this.drawWindowbox(this.x[t],this.y[t],this.width[t],116),this.hg.setColor(new _(96,96,96)),this.hg.fillRect(this.x[t]+12,this.y[t]+12,this.width[t]-24,48),this.gg.drawPT(this.x[t]+12+(this.width[t]-24-32>>1),this.y[t]+12+8,this.item_int[t][2],0),this.hg.setColor(_.cyan),this.hg.drawString(this.item[t][0],this.x[t]+12,this.y[t]+64+12),this.hg.setColor(_.white),this.hg.drawString("これからも、よろしくね！",this.x[t]+12,this.y[t]+68+14+12),this.c_fc<=3&&this.gg.drawPT(this.x[t]+(this.width[t]-14>>1),this.y[t]+68+28+2,71,0);break;case 410:-2==this.item_int[t][0]?(this.drawWindowbox(this.x[t],this.y[t],this.width[t],116),this.hg.setColor(new _(96,96,96)),this.hg.fillRect(this.x[t]+12,this.y[t]+12,this.width[t]-24,48),this.gg.drawPT(this.x[t]+12+(this.width[t]-24-32>>1),this.y[t]+12+8,this.item_int[t][2],0),this.hg.setColor(_.yellow),this.hg.drawString(this.item[t][0],this.x[t]+12,this.y[t]+64+12),this.hg.setColor(_.white),this.hg.drawString("捕獲不可能",this.x[t]+12,this.y[t]+68+14+12),this.c_fc<=3&&this.gg.drawPT(this.x[t]+(this.width[t]-14>>1),this.y[t]+68+28+2,71,0)):this.item_int[t][0]<0?(this.drawWindowbox(this.x[t],this.y[t],this.width[t],116),this.hg.setColor(new _(96,96,96)),this.hg.fillRect(this.x[t]+12,this.y[t]+12,this.width[t]-24,48),this.gg.drawPT(this.x[t]+12+(this.width[t]-24-32>>1),this.y[t]+12+8,this.item_int[t][2],0),this.hg.setColor(_.yellow),this.hg.drawString(this.item[t][0],this.x[t]+12,this.y[t]+64+12),this.hg.setColor(_.white),this.hg.drawString("現在調査中",this.x[t]+12,this.y[t]+68+14+12),this.c_fc<=3&&this.gg.drawPT(this.x[t]+(this.width[t]-14>>1),this.y[t]+68+28+2,71,0)):(this.drawWindowbox(this.x[t],this.y[t],this.width[t],158),this.hg.setColor(new _(96,96,96)),this.hg.fillRect(this.x[t]+12,this.y[t]+12,this.width[t]-24,48),this.gg.drawPT(this.x[t]+12+(this.width[t]-24-32>>1),this.y[t]+12+8,this.item_int[t][2],0),this.hg.setColor(_.yellow),this.hg.drawString(this.item[t][0],this.x[t]+12,this.y[t]+64+12),this.hg.setColor(_.white),this.hg.drawString("最大HP",this.x[t]+12,this.y[t]+68+14+12),this.hg.drawString(""+this.item_int[t][0],this.x[t]+56,this.y[t]+68+28+12),this.hg.drawString("最大PP",this.x[t]+12,this.y[t]+68+42+12),this.hg.drawString(""+this.item_int[t][1],this.x[t]+56,this.y[t]+68+56+12),this.c_fc<=3&&this.gg.drawPT(this.x[t]+(this.width[t]-14>>1),this.y[t]+68+70+2,71,0));break;case 500:this.c_fc<=3||0!=this.aw?this.hg.drawImage(this.hi[72],12+28*this.selectedIndex[t],288,this.ap):this.hg.drawImage(this.hi[73],12+28*this.selectedIndex[t],288,this.ap);break;case 600:this.drawWindowbox(this.x[t],this.y[t],this.width[t],96);var h=this.item_int[t][0],e=this.x[t]+(this.width[t]-64>>1),a=this.y[t]+16;this.gg.drawPT(e,a,h,0),this.gg.drawPT(e+32,a,h+1,0),this.gg.drawPT(e,a+32,h+10,0),this.gg.drawPT(e+32,a+32,h+11,0);break;case 610:this.drawWindowbox(this.x[t],this.y[t],this.width[t],30+14*this.item_kazu[t]),this.hg.setColor(_.yellow),this.hg.drawString("モンスターずかん",this.x[t]+6,this.y[t]+6+12),this.hg.setColor(_.white),this.hg.drawString("見つけた数\t"+this.item_int[t][0],this.x[t]+6,this.y[t]+6+18+0+12),this.hg.drawString("捕まえた数\t"+this.item_int[t][1],this.x[t]+6,this.y[t]+6+18+14+12);break;case 700:if(this.drawWindowbox(this.x[t],this.y[t],this.width[t],30+14*this.item_kazu[t]+18),this.hg.setColor(_.cyan),this.hg.drawString(this.item[t][15],this.x[t]+24,this.y[t]+6+12),this.hg.setColor(_.white),this.hg.drawString(this.message[t],this.x[t]+24,this.y[t]+6+12+18),this.item_kazu[t]>=1)for(s=0;s<=this.item_kazu[t]-1;s++)this.hg.drawString(this.item[t][s],this.x[t]+24,this.y[t]+6+18+14*s+12+18);t==this.aw?this.c_fc<=3&&this.gg.drawPT(this.x[t]+6,this.y[t]+6+18+14*this.selectedIndex[t]+18,200,0):this.gg.drawPT(this.x[t]+6,this.y[t]+6+18+14*this.selectedIndex[t]+18,200,0);break;case 800:this.drawWindowbox(this.x[t],this.y[t],this.width[t],44),this.hg.setColor(_.yellow),this.hg.drawString("おこづかい",this.x[t]+6,this.y[t]+6+12),this.hg.setColor(_.white),this.hg.drawString(this.item_int[t][0]+"円",this.x[t]+6,this.y[t]+6+18+12);break;case 900:if(this.drawWindowbox(this.x[t],this.y[t],this.width[t],30+14*this.item_kazu[t]),this.hg.setColor(_.white),this.hg.drawString(this.message[t],this.x[t]+24,this.y[t]+6+12),this.item_kazu[t]>=1)for(s=0;s<=this.item_kazu[t]-1;s++)this.hg.drawString(this.item[t][s],this.x[t]+24,this.y[t]+6+18+14*s+12),this.hg.drawString(""+this.item_int[t][s],this.x[t]+24+116,this.y[t]+6+18+14*s+12);t==this.aw?this.c_fc<=3&&this.gg.drawPT(this.x[t]+6,this.y[t]+6+18+14*this.selectedIndex[t],200,0):this.gg.drawPT(this.x[t]+6,this.y[t]+6+18+14*this.selectedIndex[t],200,0);break;case 1e3:this.drawWindowbox(this.x[t],this.y[t],this.width[t],98),this.hg.setColor(new _(96,96,96)),this.hg.fillRect(this.x[t]+12,this.y[t]+12,248,48);for(s=0;s<=5;s++)this.item_int[t][s]>0&&this.gg.drawPT(this.x[t]+12+8+40*s,this.y[t]+12+8,this.item_int[t][s],0);this.hg.setColor(_.white),this.hg.drawString("みんな、元気になった。",this.x[t]+12,this.y[t]+64+12),this.c_fc<=3&&this.gg.drawPT(this.x[t]+(this.width[t]-14>>1),this.y[t]+64+14+2,71,0)}}},f.prototype.drawWindowbox=function(t,i,s,h){this.hg.setColor(_.white),this.hg.fillRect(t,i,s,h),this.hg.setColor(_.black),this.hg.fillRect(t+2,i+2,s-4,h-4)},u.prototype.init=function(){this.wx=0,this.wy=0,this.os2_wx=0,this.os2_wy=0;for(var t=0;t<this.height;t++)for(var i=0;i<this.width;i++)this.map_bg[i][t]=0;for(t=0;t<this.height;t++)this.map_string[t]=this.bg_space},u.prototype.setBank=function(t){var i;i=1==t?40:2==t?50:4==t?60:30;for(var s=0;s<=9;s++)this.gg.spt_img[0][10+s]=this.gg.spt_img[0][i+s]},u.prototype.drawMap=function(t,i){this.wx=t,this.wy=i;var s=this.wx%32,h=this.wy%32;this.os2_wx=this.wx>>5,this.os2_wy=this.wy>>5,this.gg.fill2();for(var e=0;e<=10;e++)for(var a=0;a<=16;a++){this.map_bg[this.os2_wx+a][this.os2_wy+e]>0&&this.gg.drawPT2(32+32*a,32+32*e,this.map_bg[this.os2_wx+a][this.os2_wy+e])}this.gg.os_g.drawImage(this.gg.os2_img,-32-s,-32-h,this.gg.ap)},u.prototype.drawMapScroll=function(t){var i=this.wx%32,s=this.wy%32,h=this.wx>>5,e=this.wy>>5;if(h>this.os2_wx+1||h<this.os2_wx-1||e>this.os2_wy+1||e<this.os2_wy-1)this.drawMap(this.wx,this.wy);else if(e>this.os2_wy)if(h>this.os2_wx){this.g2.copyArea(64,64,544,352,-32,-32),this.os2_wx=h,this.os2_wy=e;for(var a=0;a<=16;a++)this.map_bg[this.os2_wx+a][this.os2_wy+10]>0&&this.g2.drawImage(this.hi[this.map_bg[this.os2_wx+a][this.os2_wy+10]],32+32*a,352,this.ap);for(a=0;a<=9;a++)this.map_bg[this.os2_wx+16][this.os2_wy+a]>0&&this.g2.drawImage(this.hi[this.map_bg[this.os2_wx+16][this.os2_wy+a]],544,32+32*a,this.ap)}else if(h<this.os2_wx){this.g2.copyArea(0,64,544,352,32,-32),this.os2_wx=h,this.os2_wy=e;for(a=0;a<=16;a++)this.map_bg[this.os2_wx+a][this.os2_wy+10]>0&&this.g2.drawImage(this.hi[this.map_bg[this.os2_wx+a][this.os2_wy+10]],32+32*a,352,this.ap);for(a=0;a<=9;a++)this.map_bg[this.os2_wx][this.os2_wy+a]>0&&this.g2.drawImage(this.hi[this.map_bg[this.os2_wx][this.os2_wy+a]],32,32+32*a,this.ap)}else{this.g2.copyArea(32,64,544,352,0,-32),this.os2_wy=e;for(a=0;a<=16;a++)this.map_bg[this.os2_wx+a][this.os2_wy+10]>0&&this.g2.drawImage(this.hi[this.map_bg[this.os2_wx+a][this.os2_wy+10]],32+32*a,352,this.ap)}else if(e<this.os2_wy)if(h>this.os2_wx){this.g2.copyArea(64,0,544,352,-32,32),this.os2_wx=h,this.os2_wy=e;for(a=0;a<=16;a++)this.map_bg[this.os2_wx+a][this.os2_wy]>0&&this.g2.drawImage(this.hi[this.map_bg[this.os2_wx+a][this.os2_wy]],32+32*a,32,this.ap);for(a=1;a<=10;a++)this.map_bg[this.os2_wx+16][this.os2_wy+a]>0&&this.g2.drawImage(this.hi[this.map_bg[this.os2_wx+16][this.os2_wy+a]],544,32+32*a,this.ap)}else if(h<this.os2_wx){this.g2.copyArea(0,0,544,352,32,32),this.os2_wx=h,this.os2_wy=e;for(a=0;a<=16;a++)this.map_bg[this.os2_wx+a][this.os2_wy]>0&&this.g2.drawImage(this.hi[this.map_bg[this.os2_wx+a][this.os2_wy]],32+32*a,32,this.ap);for(a=1;a<=10;a++)this.map_bg[this.os2_wx][this.os2_wy+a]>0&&this.g2.drawImage(this.hi[this.map_bg[this.os2_wx][this.os2_wy+a]],32,32+32*a,this.ap)}else{this.g2.copyArea(32,0,544,352,0,32),this.os2_wy=e;for(a=0;a<=16;a++)this.map_bg[this.os2_wx+a][this.os2_wy]>0&&this.g2.drawImage(this.hi[this.map_bg[this.os2_wx+a][this.os2_wy]],32+32*a,32,this.ap)}else if(h>this.os2_wx){this.g2.copyArea(64,32,544,352,-32,0),this.os2_wx=h;for(a=0;a<=10;a++)this.map_bg[this.os2_wx+16][this.os2_wy+a]>0&&this.g2.drawImage(this.hi[this.map_bg[this.os2_wx+16][this.os2_wy+a]],544,32+32*a,this.ap)}else if(h<this.os2_wx){this.g2.copyArea(0,32,544,352,32,0),this.os2_wx=h;for(a=0;a<=10;a++)this.map_bg[this.os2_wx][this.os2_wy+a]>0&&this.g2.drawImage(this.hi[this.map_bg[this.os2_wx][this.os2_wy+a]],32,32+32*a,this.ap)}var c=this.hi[90+t];for(a=0;a<=10;a++)for(var _=0;_<=16;_++)switch(this.map_bg[this.os2_wx+_][this.os2_wy+a]){case 5:4==this.map_bg[this.os2_wx+_][this.os2_wy+a-1]&&(this.gg.drawBG2(32+32*_,32+32*a,4),this.gg.drawPT2(32+32*_,32+32*a,5));break;case 6:4==this.map_bg[this.os2_wx+_][this.os2_wy+a+1]&&(this.gg.drawBG2(32+32*_,32+32*a,4),this.gg.drawPT2(32+32*_,32+32*a,6));break;case 7:0==t||2==t?this.gg.drawBG2(32+32*_,32+32*a,96):this.gg.drawBG2(32+32*_,32+32*a,97);break;case 8:0==t?4==this.map_bg[this.os2_wx+_-1][this.os2_wy+a]?(this.gg.drawBG2(32+32*_,32+32*a,4),this.mp.stage_max>=2&&this.mp.stage>=this.mp.stage_max?this.gg.drawPT2(32+32*_,32+32*a,99):this.gg.drawPT2(32+32*_,32+32*a,95)):this.mp.stage_max>=2&&this.mp.stage>=this.mp.stage_max?this.gg.drawBG2(32+32*_,32+32*a,99):this.gg.drawBG2(32+32*_,32+32*a,95):4==this.map_bg[this.os2_wx+_-1][this.os2_wy+a]?(this.gg.drawBG2(32+32*_,32+32*a,4),this.mp.stage_max>=2&&this.mp.stage>=this.mp.stage_max?this.gg.drawPT2(32+32*_,32+32*a,98):this.gg.drawPT2(32+32*_,32+32*a,94)):this.mp.stage_max>=2&&this.mp.stage>=this.mp.stage_max?this.gg.drawBG2(32+32*_,32+32*a,98):this.gg.drawBG2(32+32*_,32+32*a,94);break;case 9:4==this.map_bg[this.os2_wx+_-1][this.os2_wy+a]?(this.gg.drawBG2(32+32*_,32+32*a,4),this.gg.os2_g.drawImage(c,32+32*_,32+32*a,this.gg.ap)):(this.g2.setColor(this.gg.backcolor),this.gg.os2_g.fillRect(32+32*_,32+32*a,32,32),this.gg.os2_g.drawImage(c,32+32*_,32+32*a,this.gg.ap))}this.gg.os_g.drawImage(this.gg.os2_img,-32-i,-32-s,this.ap)},u.prototype.getBGCode=function(t,i){return this.map_bg[t>>5][i>>5]},u.prototype.putBGCode=function(t,i,s){this.map_bg[t][i]=s,this.os2_wx<=t&&this.os2_wx+16>=t&&this.os2_wy<=i&&this.os2_wy+10>=i&&this.gg.drawBG2(32*(t-this.os2_wx)+32,32*(i-this.os2_wy)+32,s)},k.prototype.start=function(){this.ml_mode=50},k.prototype.paraInt=function(t){var i,s=this.gg.ap.getParameter(t);return i=parseInt(s),isNaN(i)&&(i=-1),i},k.prototype.addHighscoreEvent=function(t){return this.heh=t,!0},k.prototype.sendHighscore=function(){if("[object Function]"==Object.prototype.toString.call(this.heh)){var t=this.highscore;t<this.score&&(t=this.score),this.heh(t)}},k.prototype.moveGameCounter=function(){switch(this.g_c3){case 0:this.g_c3=1,this.g_c1=1,this.g_c2=1,this.g_ac=0,this.g_ac2=0;break;case 1:this.g_c3=2,this.g_c1=0,this.g_c2=2,this.g_ac=1,this.g_ac2=1;break;case 2:this.g_c3=3,this.g_c1=1,this.g_c2=3,this.g_ac=1,this.g_ac2=1;break;case 3:this.g_c3=4,this.g_c1=0,this.g_c2=0,this.g_ac=0,this.g_ac2=2;break;case 4:this.g_c3=5,this.g_c1=1,this.g_c2=1,this.g_ac=0,this.g_ac2=2;break;case 5:this.g_c3=6,this.g_c1=0,this.g_c2=2,this.g_ac=1,this.g_ac2=3;break;case 6:this.g_c3=7,this.g_c1=1,this.g_c2=3,this.g_ac=1,this.g_ac2=3;break;case 7:this.g_c3=0,this.g_c1=0,this.g_c2=0,this.g_ac=0,this.g_ac2=0}},k.prototype.ranInit=function(){this.ran_seed=4294967296*Math.random()|0},k.prototype.ranInt=function(t){var i=this.ran_seed;return i=((i=(i^i<<9)>>>0)^i>>>11)>>>0,this.ran_seed=i=(i^i<<19)>>>0,2.3283064365386963e-10*i*t|0},k.prototype.drawScore=function(){this.gg.os_g.setColor(this.gamecolor_score),this.gg.os_g.setFont(new o("Dialog",1,this.moji_size));var t=this.moji_size+14,i="";if(this.score_v&&(i+=this.moji_score+" "+this.score+"    "+this.moji_highscore+" "+this.highscore),(this.j_left_shoki>0||this.j_left>0)&&(i+=""+this.moji_left+this.j_left),this.time_max>0){var s=Math.floor(this.time/1e3);i+=""+this.moji_time+s}this.gg.os_g.drawString(i,40,t)},k.prototype.drawScore2=function(){this.gg.os_g.setColor(this.gamecolor_score),this.gg.os_g.setFont(new o("Dialog",1,this.moji_size));var t=this.moji_size+14,i="";this.score_v&&(i=this.moji_score+" "+this.score+"    "+this.moji_highscore+" "+this.highscore),(this.j_left_shoki>0||this.j_left>0)&&(i+=""+this.moji_left+this.j_left),this.gg.os_g.drawString(i,40,t)},k.prototype.addScore=function(t){this.score+=t,this.score_1up_1>0&&this.score>=this.score_1up_1&&(this.j_left++,this.score_1up_1=0),this.score_1up_2>0&&this.score>=this.score_1up_2&&(this.j_left++,this.score_1up_2=0)},k.prototype.addSerifu=function(t,i,s){for(var h=1;h<=s;h++){var e=this.gg.ap.getParameter("serifu"+i+"-"+h);0!=parseInt(e,10)&&this.km.addItem(t,e)}},k.prototype.mL100=function(){if(this.moveGameCounter(),this.aMove(),100==this.co_j.c?this.jM100():this.jMove(),this.sl_step>0&&(10==this.sl_step||11==this.sl_step?(this.ks_wx+=this.sl_speed,this.ks_wx>this.maps.wx_max&&(this.ks_wx=this.maps.wx_max),this.maps.wx=this.ks_wx,this.maps.wy=this.ks_wy,300!=this.co_j.c&&310!=this.co_j.c&&(this.co_j.x<this.ks_wx-16?(this.co_j.x=this.ks_wx-16,this.co_j.vx<0&&(this.co_j.vx=0),(this.maps.getBGCode(this.co_j.x+15,this.co_j.y)>=20||this.maps.getBGCode(this.co_j.x+15,this.co_j.y+31)>=20)&&this.co_j.c>=100&&this.co_j.c<200&&(this.co_j.c=210,this.co_j.y=this.maps.wy-64,this.co_j.c1=0,this.j_jet_c=0,this.j_v_c=0)):this.co_j.x>this.ks_wx+496&&(this.co_j.x=this.ks_wx+496,this.co_j.vx=0,this.co_j.vx>0&&(this.co_j.vx=0))),11==this.sl_step&&this.maps.wx>=this.sl_wx&&(this.maps.wx=this.sl_wx,this.sl_wy=this.ks_wy,this.sl_step=3)):1==this.sl_step?this.maps.wx>=this.sl_wx&&(this.maps.wx=this.sl_wx,this.sl_step=2):2==this.sl_step?(this.maps.wx=this.sl_wx,this.co_j.x<this.sl_wx-16?(this.co_j.x=this.sl_wx-16,this.co_j.vx=0):this.co_j.x>this.sl_wx+496&&(this.co_j.x=this.sl_wx+496,this.co_j.vx=0),this.maps.wy>=this.sl_wy&&(this.maps.wy=this.sl_wy,this.sl_step=3)):(this.maps.wx=this.sl_wx,this.maps.wy=this.sl_wy,this.co_j.x<this.sl_wx-16?(this.co_j.x=this.sl_wx-16,this.co_j.vx=0):this.co_j.x>this.sl_wx+496&&(this.co_j.x=this.sl_wx+496,this.co_j.vx=0))),this.jm_kazu>0&&this.jmMove(),this.tMove(),this.co_b.c>0&&this.bMove(),this.m_kazu>0&&this.mMove(),this.time_max>0&&this.stage_cc<=0&&(this.time-=70,this.time<0&&(this.time=0,this.j_left--,this.j_left<0?(this.j_left=0,this.ml_mode=300):this.ml_mode=90)),this.stage_cc>0&&(this.stage_cc++,this.stage_cc>28&&(2==this.stage_select?this.stage>=4?this.ml_mode=400:(this.time_max>0&&this.addScore(Object(h.d)(this.time/1e3)),this.ml_mode=260):this.stage>=this.stage_max?this.ml_mode=400:(this.stage++,this.time_max>0&&this.addScore(Object(h.d)(this.time/1e3)),this.ml_mode=90))),this.drawGamescreen(),this.drawScore(),this.j_jet_fuel>0){var t=this.moji_jet+" "+this.j_jet_fuel;this.j_gr_kazu>0&&(t=1==this.j_gr_kazu?t+"    "+this.moji_grenade:t+"    "+this.moji_grenade+" "+this.j_gr_kazu),this.hg.drawString(t,40,287+this.moji_size)}else this.j_gr_kazu>0&&(1==this.j_gr_kazu?this.hg.drawString(this.moji_grenade,40,287+this.moji_size):this.hg.drawString(this.moji_grenade+" "+this.j_gr_kazu,40,287+this.moji_size));84==this.gk.key_code&&(this.gk.key_code=0,this.ml_mode=50)},k.prototype.mainLoop=function(){switch(this.ml_mode){default:break;case 50:this.gg.drawListImage(0,0,0),(this.score>0||this.highscore>0)&&this.drawScore(),this.gm.button_f||this.gk.tr1_f||(this.ml_mode=60,this.g_c1=0,this.sendHighscore());break;case 60:if(0==this.g_c1?118==this.gk.key_char&&(this.g_c1=1):1==this.g_c1?101==this.gk.key_char?this.g_c1=2:118!=this.gk.key_char&&(this.g_c1=0):2==this.g_c1&&(114==this.gk.key_char?this.ml_mode=1e3:101!=this.gk.key_char&&(this.g_c1=0)),!this.gm.button_f&&!this.gk.tr1_f)break;if(2==this.stage_select){this.init2(),this.ig.worldInit(),this.gg.os_g.setColor(_.black),this.gg.os_g.fillRect(0,0,this.gg.di.width,this.gg.di.height),this.ml_mode=200;break}this.init2(),this.init3(),this.gg.drawListImage(0,0,0),(this.score>0||this.highscore>0)&&this.drawScore(),this.j_left<=0?this.ml_mode=100:this.ml_mode=90;break;case 80:this.init2(),this.init3(),this.gg.drawListImage(0,0,0),(this.score>0||this.highscore>0)&&this.drawScore(),this.j_left<=0?this.ml_mode=100:this.ml_mode=90;break;case 90:this.init3(),this.gg.os_g.setColor(this.gamecolor_kaishi),this.gg.os_g.fillRect(0,0,this.gg.di.width,this.gg.di.height),this.stage>=this.stage_max?(this.gg.drawPT(160,144,52,0),this.gg.drawPT(192,144,53,0),this.gg.drawPT(224,144,54,0),this.gg.drawPT(256,144,55,0),this.gg.drawPT(288,144,56,0),this.gg.drawPT(320,144,57,0)):(this.gg.drawPT(192,144,70,0),this.gg.drawPT(224,144,71,0),this.gg.drawPT(256,144,72,0),this.stage>=this.stage_max&&this.gg.drawPT(288,144,75,0),3==this.stage?this.gg.drawPT(288,144,75,0):2==this.stage?this.gg.drawPT(288,144,74,0):this.gg.drawPT(288,144,73,0)),this.drawScore(),this.ml_mode=91,this.ml_mode_c=0;break;case 91:this.ml_mode_c++,this.ml_mode_c>35&&(this.ml_mode=100),84==this.gk.key_code&&(this.gk.key_code=0,this.ml_mode=50);break;case 95:switch(this.stage=this.ig.checkStage(),this.init3(),this.ig.shop_kattaitem){case 7:default:break;case 0:this.j_gr_kazu=3;break;case 1:this.j_jet_fuel=80;break;case 2:this.j_drell_f=!0;break;case 3:this.j_helm_f=!0;break;case 4:this.j_tail_f=!0;break;case 5:this.j_v_c=150,this.j_v_kakudo=0;break;case 6:this.j_fire_f=!0;break;case 8:this.time_max>0&&(this.time+=3e4)}this.gg.os_g.setColor(_.black),this.gg.os_g.fillRect(0,0,this.gg.di.width,this.gg.di.height),this.drawScore(),this.ml_mode=96,this.ml_mode_c=0;break;case 96:this.ml_mode_c++,this.ml_mode_c>8&&(this.ml_mode=100),84==this.gk.key_code&&(this.gk.key_code=0,this.ml_mode=50);break;case 200:this.ig.drawMap(),this.ig.mainProgram(),this.time=0,this.drawScore2(),110==this.ig.mp_mode&&(this.ig.dokan_khID>=1?this.ml_mode=230:this.ml_mode=95),84==this.gk.key_code&&(this.gk.key_code=0,this.ml_mode=50);break;case 230:this.gg.os_g.setColor(_.black),this.gg.os_g.fillRect(0,0,this.gg.di.width,this.gg.di.height),this.drawScore2(),this.ml_mode=231,this.ml_mode_c=0;break;case 231:var t;if(this.ml_mode_c++,5==this.ml_mode_c)t=2==this.ig.dokan_khID?this.gg.ap.getParameter("url2"):3==this.ig.dokan_khID?this.gg.ap.getParameter("url3"):4==this.ig.dokan_khID?this.gg.ap.getParameter("url4"):this.gg.ap.getParameter("url1"),location.href=t;else this.ml_mode_c>80&&(this.ml_mode=50);84==this.gk.key_code&&(this.gk.key_code=0,this.ml_mode=50);break;case 250:this.addScore(0),this.ig.worldInit2(),this.ml_mode=251,this.ml_mode_c=0,this.gg.os_g.setColor(_.black),this.gg.os_g.fillRect(0,0,this.gg.di.width,this.gg.di.height),this.drawScore();break;case 251:this.ml_mode_c++,this.ml_mode_c>8&&(this.ml_mode=200),84==this.gk.key_code&&(this.gk.key_code=0,this.ml_mode=50);break;case 260:this.addScore(0),this.ig.worldInit3(),this.ml_mode=261,this.ml_mode_c=0,this.gg.os_g.setColor(_.black),this.gg.os_g.fillRect(0,0,this.gg.di.width,this.gg.di.height),this.drawScore();break;case 261:this.ml_mode_c++,this.ml_mode_c>8&&(this.ml_mode=200),84==this.gk.key_code&&(this.gk.key_code=0,this.ml_mode=50);break;case 300:this.gg.setBackcolor(_.black),this.gg.fill(),this.gg.drawListImage(0,0,2),this.drawScore(),this.sendHighscore(),this.ml_mode=310,this.ml_mode_c=0;break;case 310:this.ml_mode_c++,this.ml_mode_c>45&&(this.ml_mode=50),84==this.gk.key_code&&(this.gk.key_code=0,this.ml_mode=50);break;case 400:this.gg.drawListImage(0,0,1),this.time_max>0&&this.addScore(Object(h.d)(this.time/1e3)),this.drawScore(),this.sendHighscore(),this.ml_mode=410,this.ml_mode_c=0;break;case 410:this.ml_mode_c++,this.ml_mode_c>120&&(this.ml_mode=50),84==this.gk.key_code&&(this.gk.key_code=0,this.ml_mode=50);break;case 500:this.gg.setBackcolor(_.black),this.gg.fill(),this.gg.drawListImage(0,0,0),(this.score>0||this.highscore>0)&&this.drawScore(),this.ml_mode=50,this.ml_mode=50;break;case 1e3:this.gg.setBackcolor(_.black),this.gg.fill(),this.hg.setFont(new o("Dialog",0,46)),this.hg.setColor(_.white),this.hg.setFont(new o("Dialog",0,20)),this.hg.drawString("Title        MASAO CONSTRUCTION",50,50),this.hg.drawString("Version      2.8",50,80),this.hg.drawString("Language     Java2  SDK 1.3.1",50,110),this.hg.drawString("OS           WindowsXP",50,140),this.hg.drawString("Browser      InternetExplorer 6.0",50,170),this.hg.drawString("Programing   Fukuda Naoto",50,200),this.hg.drawString("Date         2003/6",50,230),this.ml_mode=1010,this.ml_mode_c=0;break;case 1010:this.ml_mode_c++,this.ml_mode_c>40&&(this.ml_mode=50)}},k.prototype.init1=function(){this.time_max=this.paraInt("time_max");var t=this.paraInt("score_v");this.score_v=2!=t,t=this.paraInt("backcolor_red");var i=this.paraInt("backcolor_green"),s=this.paraInt("backcolor_blue");t<0?t=0:t>255&&(t=255),i<0?i=0:i>255&&(i=255),s<0?s=0:s>255&&(s=255),this.gamecolor_back=new _(t,i,s),(t=this.paraInt("backcolor_red_s"))<0?t=0:t>255&&(t=255),(i=this.paraInt("backcolor_green_s"))<0?i=0:i>255&&(i=255),(s=this.paraInt("backcolor_blue_s"))<0?s=0:s>255&&(s=255),this.gamecolor_back_s=new _(t,i,s),(t=this.paraInt("backcolor_red_t"))<0?t=0:t>255&&(t=255),(i=this.paraInt("backcolor_green_t"))<0?i=0:i>255&&(i=255),(s=this.paraInt("backcolor_blue_t"))<0?s=0:s>255&&(s=255),this.gamecolor_back_t=new _(t,i,s),(t=this.paraInt("backcolor_red_f"))<0?t=0:t>255&&(t=255),(i=this.paraInt("backcolor_green_f"))<0?i=0:i>255&&(i=255),(s=this.paraInt("backcolor_blue_f"))<0?s=0:s>255&&(s=255),this.gamecolor_back_f=new _(t,i,s),(t=this.paraInt("kaishi_red"))<0?t=0:t>255&&(t=255),(i=this.paraInt("kaishi_green"))<0?i=0:i>255&&(i=255),(s=this.paraInt("kaishi_blue"))<0?s=0:s>255&&(s=255),this.gamecolor_kaishi=new _(t,i,s),(t=this.paraInt("scorecolor_red"))<0?t=0:t>255&&(t=255),(i=this.paraInt("scorecolor_green"))<0?i=0:i>255&&(i=255),(s=this.paraInt("scorecolor_blue"))<0?s=0:s>255&&(s=255),this.gamecolor_score=new _(t,i,s),(t=this.paraInt("grenade_red1"))<0?t=0:t>255&&(t=255),(i=this.paraInt("grenade_green1"))<0?i=0:i>255&&(i=255),(s=this.paraInt("grenade_blue1"))<0?s=0:s>255&&(s=255),this.gamecolor_grenade1=new _(t,i,s),(t=this.paraInt("grenade_red2"))<0?t=0:t>255&&(t=255),(i=this.paraInt("grenade_green2"))<0?i=0:i>255&&(i=255),(s=this.paraInt("grenade_blue2"))<0?s=0:s>255&&(s=255),this.gamecolor_grenade2=new _(t,i,s),(t=this.paraInt("firebar_red1"))<0?t=0:t>255&&(t=255),(i=this.paraInt("firebar_green1"))<0?i=0:i>255&&(i=255),(s=this.paraInt("firebar_blue1"))<0?s=0:s>255&&(s=255),this.gamecolor_firebar1=new _(t,i,s),(t=this.paraInt("firebar_red2"))<0?t=0:t>255&&(t=255),(i=this.paraInt("firebar_green2"))<0?i=0:i>255&&(i=255),(s=this.paraInt("firebar_blue2"))<0?s=0:s>255&&(s=255),this.gamecolor_firebar2=new _(t,i,s),(t=this.paraInt("mizunohadou_red"))<0?t=0:t>255&&(t=255),(i=this.paraInt("mizunohadou_green"))<0?i=0:i>255&&(i=255),(s=this.paraInt("mizunohadou_blue"))<0?s=0:s>255&&(s=255),this.gamecolor_mizunohadou=new _(t,i,s),this.moji_score=this.gg.ap.getParameter("moji_score"),this.moji_highscore=this.gg.ap.getParameter("moji_highscore"),this.moji_time=this.gg.ap.getParameter("moji_time"),this.moji_time="    "+this.moji_time+" ",this.moji_jet=this.gg.ap.getParameter("moji_jet"),this.moji_grenade=this.gg.ap.getParameter("moji_grenade"),this.moji_left=this.gg.ap.getParameter("moji_left"),this.moji_left="    "+this.moji_left+" ",this.moji_size=this.paraInt("moji_size"),this.moji_size<10?this.moji_size=10:this.moji_size>30&&(this.moji_size=30),this.j_left_shoki=this.paraInt("jibun_left_shoki"),this.j_left_shoki<1&&(this.j_left_shoki=1),this.j_left_shoki--,this.stage_max=this.paraInt("stage_max"),this.stage_max<1?this.stage_max=1:this.stage_max>4&&(this.stage_max=4),2==this.stage_select&&(this.stage_max=4),this.stage_kaishi=this.paraInt("stage_kaishi"),this.stage_kaishi<1&&(this.stage_kaishi=1),this.stage_kaishi>this.stage_max&&(this.stage_kaishi=this.stage_max),this.score_1up_1_para=this.paraInt("score_1up_1"),(this.score_1up_1_para<0||this.stage_max<=1)&&(this.score_1up_1_para=0),this.score_1up_2_para=this.paraInt("score_1up_2"),(this.score_1up_2_para<0||this.stage_max<=1)&&(this.score_1up_2_para=0),this.j_tail_type=this.paraInt("j_tail_type"),(this.j_tail_type<1||this.j_tail_type>3)&&(this.j_tail_type=1);var h=this.paraInt("j_tail_hf");this.j_tail_hf=2==h,this.grenade_type=this.paraInt("grenade_type"),(this.grenade_type<1||this.grenade_type>6)&&(this.grenade_type=1),this.suberuyuka_hkf=this.paraInt("suberuyuka_hkf"),2==this.suberuyuka_hkf?this.suberuyuka_hkf=2:this.suberuyuka_hkf=1,h=this.paraInt("j_fire_mkf"),this.j_fire_mkf=2==h,h=this.paraInt("dengeki_mkf"),this.dengeki_mkf=2==h,h=this.paraInt("yachamo_kf"),this.yachamo_cf=2==h,h=this.paraInt("airms_kf"),this.airms_kf=2==h,this.ugokuyuka1_type=this.paraInt("ugokuyuka1_type"),(this.ugokuyuka1_type<1||this.ugokuyuka1_type>7)&&(this.ugokuyuka1_type=1),this.ugokuyuka2_type=this.paraInt("ugokuyuka2_type"),(this.ugokuyuka2_type<1||this.ugokuyuka2_type>7)&&(this.ugokuyuka2_type=1),this.ugokuyuka3_type=this.paraInt("ugokuyuka3_type"),(this.ugokuyuka3_type<1||this.ugokuyuka3_type>7)&&(this.ugokuyuka3_type=1),this.boss_type=this.paraInt("boss_type"),(this.boss_type<1||this.boss_type>4)&&(this.boss_type=1),this.boss2_type=this.paraInt("boss2_type"),(this.boss2_type<1||this.boss2_type>2)&&(this.boss2_type=1),this.boss3_type=this.paraInt("boss3_type"),(this.boss3_type<1||this.boss3_type>4)&&(this.boss3_type=1),this.dokan_mode=this.paraInt("dokan_mode"),(this.dokan_mode<1||this.dokan_mode>2)&&(this.dokan_mode=1),this.mes1_name=this.gg.ap.getParameter("mes1_name"),this.mes2_name=this.gg.ap.getParameter("mes2_name"),this.shop_name=this.gg.ap.getParameter("shop_name"),this.setumei_name=this.gg.ap.getParameter("setumei_name"),this.door_score=this.paraInt("door_score"),this.door_score<10&&(this.door_score=10),this.shop_item_name[0]=this.gg.ap.getParameter("shop_item_name1"),this.shop_item_name[1]=this.gg.ap.getParameter("shop_item_name2"),this.shop_item_name[2]=this.gg.ap.getParameter("shop_item_name3"),this.shop_item_name[3]=this.gg.ap.getParameter("shop_item_name4"),this.shop_item_name[4]=this.gg.ap.getParameter("shop_item_name5"),this.shop_item_name[5]=this.gg.ap.getParameter("shop_item_name6"),this.shop_item_name[6]=this.gg.ap.getParameter("shop_item_name7"),this.shop_item_name[7]=this.gg.ap.getParameter("shop_item_name8"),this.shop_item_name[8]=this.gg.ap.getParameter("shop_item_name9");for(var e=0;e<=8;e++){var a=e+1;(a=this.paraInt("shop_item_teika"+a))<0&&(a=0),this.shop_item_teika[e]=a}},k.prototype.init2=function(){this.score>this.highscore&&(this.highscore=this.score),this.j_left=this.j_left_shoki,this.score_1up_1=this.score_1up_1_para,this.score_1up_2=this.score_1up_2_para;for(var t=0;t<=2;t++)this.stage_1up_f[t]=!0;this.gk.key_code=0,this.score=0,this.stage=this.stage_kaishi,this.time_max>0?this.time=1e3*this.time_max+1e3-70:this.time=0},k.prototype.init3=function(){this.sendHighscore(),this.g_c1=0,this.g_c2=0,this.g_c3=0,this.g_ac=0,this.g_ac2=0,this.stage_cc=0,this.co_j.init(),this.co_j.c=100,this.co_j.x=100,this.co_j.y=100,this.co_j.pt=100,this.co_j.muki=1,this.co_j.jimen_f=!1,this.j_hashiru_f=!1,this.j_jump_level=0,this.j_jump_type=0,this.j_a_id=-1,this.tr1_c=0,this.tr2_c=0,this.gk.left_c=0,this.gk.right_c=0,this.left_dcc=0,this.right_dcc=0,this.ochiru_y=9999,this.j_fire_f=!1,this.j_v_c=0,this.j_v_kakudo=0,this.j_jet_c=0,this.j_jet_kf=!1,this.j_jet_fuel=0,this.j_helm_f=!1,this.j_drell_f=!1,this.j_tail_f=!1,this.j_tail_ac=0,this.j_gr_kazu=0,this.j_mizu_f=!1,this.j_mizu_ac=0,this.j_mizu_awa_c=0,this.j_jdai_f=!1,this.hitokoto_c=0,this.hitokoto_num=1,this.j_tail_hf&&(this.j_tail_f=!0);for(var t=0;t<=5;t++)this.j_zan_x[t]=0,this.j_zan_y[t]=0,this.j_zan_pt[t]=0,this.j_zan_pth[t]=0;var i;this.j_zan_p=0,this.j_zan_c=0,this.j_zan_nagasa=0,this.j_zan_f=!1,this.sl_step=0,this.sl_speed=0,this.sl_wx=0,this.sl_wy=0,2==(i=2==this.stage?this.paraInt("scroll_mode_s"):3==this.stage?this.paraInt("scroll_mode_t"):4==this.stage?this.paraInt("scroll_mode_f"):this.paraInt("scroll_mode"))?(this.sl_step=10,this.ks_wx=32,this.ks_wy=960,this.sl_speed=2):3==i&&(this.sl_step=10,this.ks_wx=32,this.ks_wy=960,this.sl_speed=4);for(var s=0;s<=31;s++){this.co_a[s].init();for(var h=0;h<=3;h++)this.vo_x[s][h]=0,this.vo_y[s][h]=0}this.a_kazu=-1,this.a_hf=!1;for(var e=0;e<=129;e++)this.co_t[e].init();this.t_kazu=-1,this.co_b.init(),this.boss_kijyun_y=0;for(var a=0;a<=23;a++)this.co_m[a].init();this.m_kazu=0;for(var c=0;c<=1;c++)this.co_jm[c].init();this.jm_kazu=0;for(var _=0;_<=63;_++)this.co_h[_].init();this.time_max>0?this.time=1e3*this.time_max+1e3-70:this.time=0,this.mapsMakeStageData(100+this.stage),10!=this.sl_step&&11!=this.sl_step||(this.ks_wx=this.maps.wx,this.ks_wx<=128&&(this.ks_wx=32)),this.maps.drawMap(this.maps.wx,this.maps.wy)},k.prototype.mapsMakeStageData=function(t){this.maps.init();var i=this.maps.map_string;this.maps.wx=32,this.maps.wy=32,this.maps.wx_mini=32,this.maps.wy_mini=320,this.maps.wx_max=5856,this.maps.wy_max=6048;switch(this.gg.setBackcolor(_.blue),t){default:break;case 101:this.maps.setBank(0),this.gg.setBackcolor(this.gamecolor_back),this.maps.wx_max=5280,this.maps.wy_max=960;for(var s=0;s<=29;s++){var h="."+this.gg.ap.getParameter("map0-"+s);h+=this.gg.ap.getParameter("map1-"+s),h+=this.gg.ap.getParameter("map2-"+s),i[s+10]=h}break;case 102:this.maps.setBank(0),this.gg.setBackcolor(this.gamecolor_back_s),this.maps.wx_max=5280,this.maps.wy_max=960;for(var e=0;e<=29;e++){var a="."+this.gg.ap.getParameter("map0-"+e+"-s");a+=this.gg.ap.getParameter("map1-"+e+"-s"),a+=this.gg.ap.getParameter("map2-"+e+"-s"),i[e+10]=a}break;case 103:this.maps.setBank(0),this.gg.setBackcolor(this.gamecolor_back_t),this.maps.wx_max=5280,this.maps.wy_max=960;for(var c=0;c<=29;c++){var o="."+this.gg.ap.getParameter("map0-"+c+"-t");o+=this.gg.ap.getParameter("map1-"+c+"-t"),o+=this.gg.ap.getParameter("map2-"+c+"-t"),i[c+10]=o}break;case 104:this.maps.setBank(0),this.gg.setBackcolor(this.gamecolor_back_f),this.maps.wx_max=5280,this.maps.wy_max=960;for(var r=0;r<=29;r++){var p="."+this.gg.ap.getParameter("map0-"+r+"-f");p+=this.gg.ap.getParameter("map1-"+r+"-f"),p+=this.gg.ap.getParameter("map2-"+r+"-f"),i[r+10]=p}}for(var m=0;m<this.maps.height;m++)if(i[m].length<this.maps.width)for(var g=i[m].length;g<this.maps.width;g++)i[m]+=".";for(var n=0;n<this.maps.height;n++)for(var y=0;y<this.maps.width;y++){var j=i[n].charAt(y),d=-1;"."!=j&&("1"==j?d=1:"2"==j?d=2:"3"==j?d=3:"4"==j?d=4:"5"==j?d=5:"6"==j?d=6:"7"==j?d=7:"8"==j?d=8:"9"==j?d=9:"a"==j?d=20:"b"==j?d=21:"c"==j?d=22:"d"==j?d=23:"e"==j?d=24:"f"==j?d=25:"g"==j?d=26:"h"==j?d=27:"i"==j?d=28:"j"==j?d=29:"k"==j?(d=40,this.hSet(y,n,100)):"l"==j?(d=40,this.hSet(y,n,200)):"m"==j?(d=40,this.hSet(y,n,300)):"n"==j?(d=40,this.hSet(y,n,400)):"o"==j?(d=40,this.hSet(y,n,500)):"p"==j?(d=40,this.hSet(y,n,600)):"q"==j?(d=40,this.hSet(y,n,700)):"r"==j?(d=40,this.hSet(y,n,800)):"s"==j?(d=40,this.hSet(y,n,900)):"t"==j?(d=40,this.hSet(y,n,1e3)):"u"==j?(this.aSet(32*y,32*n,300,32*y),4==this.maps.map_bg[y-1][n]&&(d=4)):"v"==j?(this.aSet(32*y,32*n,310,32*y),4==this.maps.map_bg[y-1][n]&&(d=4)):"w"==j?(this.aSet(32*y,32*n,320,32*y),4==this.maps.map_bg[y-1][n]&&(d=4)):"x"==j?(this.aSet(32*y,32*n,330,32*y),4==this.maps.map_bg[y-1][n]&&(d=4)):"y"==j?this.stage_1up_f[this.stage-1]?(d=40,this.hSet(y,n,1100)):d=41:"z"==j?d=69:"+"==j?(this.aSet(32*y,32*n,80,32*y),4==this.maps.map_bg[y-1][n]&&(d=4)):"-"==j?(this.aSet(32*y,32*n,81,32*y),4==this.maps.map_bg[y-1][n]&&(d=4)):"*"==j?(this.aSet(32*y,32*n,82,32*y),4==this.maps.map_bg[y-1][n]&&(d=4)):"/"==j?(this.aSet(32*y,32*n,83,32*y),4==this.maps.map_bg[y-1][n]&&(d=4)):"A"==j?(this.co_j.x=32*y,this.co_j.y=32*n,4==this.maps.map_bg[y-1][n]&&(d=4)):"B"==j?(this.tSet(32*y,32*n,100,32*y-512-32),4==this.maps.map_bg[y-1][n]&&(d=4)):"C"==j?(this.tSet(32*y,32*n,110,32*y-512-32),4==this.maps.map_bg[y-1][n]&&(d=4)):"D"==j?(this.tSet(32*y,32*n,110,32*y-512-32),this.tSet(32*y+75,32*n,110,32*y-512-32),this.tSet(32*y+150,32*n,110,32*y-512-32),4==this.maps.map_bg[y-1][n]&&(d=4)):"E"==j?(this.tSet(32*y,32*n,200,32*y-512-32),4==this.maps.map_bg[y-1][n]&&(d=4)):"F"==j?(this.tSet(32*y,32*n,300,32*y-512-32),4==this.maps.map_bg[y-1][n]&&(d=4)):"G"==j?(this.tSet(32*y,32*n,400,32*y-512-32),4==this.maps.map_bg[y-1][n]&&(d=4)):"H"==j?(this.tSet(32*y,32*n,500,32*y-512-32),4==this.maps.map_bg[y-1][n]&&(d=4)):"I"==j?(this.tSet(32*y,32*n,510,32*y-512-32),4==this.maps.map_bg[y-1][n]&&(d=4)):"J"==j?(this.tSet(32*y,32*n,510,32*y-512-32-32),this.tSet(32*y+80,32*n-40,510,32*y-512-32-32),this.tSet(32*y+140,32*n+38,510,32*y-512-32-32),4==this.maps.map_bg[y-1][n]&&(d=4)):"K"==j?(2==this.ugokuyuka1_type?this.aSet(32*y,32*n,500,32*y):3==this.ugokuyuka1_type?this.aSet(32*y,32*n,510,32*y):4==this.ugokuyuka1_type?this.aSet(32*y,32*n,120,32*y):5==this.ugokuyuka1_type?this.aSet(32*y,32*n,121,32*y):6==this.ugokuyuka1_type?this.aSet(32*y,32*n,600,32*y):7==this.ugokuyuka1_type?this.aSet(32*y,32*n,700,32*y):this.aSet(32*y,32*n,100,32*y),4==this.maps.map_bg[y-1][n]&&(d=4)):"L"==j?(2==this.ugokuyuka2_type?this.aSet(32*y,32*n,500,32*y):3==this.ugokuyuka2_type?this.aSet(32*y,32*n,510,32*y):4==this.ugokuyuka2_type?this.aSet(32*y,32*n,120,32*y):5==this.ugokuyuka2_type?this.aSet(32*y,32*n,121,32*y):6==this.ugokuyuka2_type?this.aSet(32*y,32*n,600,32*y):7==this.ugokuyuka2_type?this.aSet(32*y,32*n,700,32*y):this.aSet(32*y,32*n+9,110,32*y-16),4==this.maps.map_bg[y-1][n]&&(d=4)):"M"==j?(2==this.ugokuyuka3_type?this.aSet(32*y,32*n,500,32*y):3==this.ugokuyuka3_type?this.aSet(32*y,32*n,510,32*y):4==this.ugokuyuka3_type?this.aSet(32*y,32*n,120,32*y):5==this.ugokuyuka3_type?this.aSet(32*y,32*n,121,32*y):6==this.ugokuyuka3_type?this.aSet(32*y,32*n,600,32*y):7==this.ugokuyuka3_type?this.aSet(32*y,32*n,700,32*y):(this.aSet(32*y,32*n+9,115,32*y-16),this.aSet(32*y,32*n+9,116,32*y-16)),4==this.maps.map_bg[y-1][n]&&(d=4)):"N"==j?(this.aSet(32*y-32,32*n,400,32*y),4==this.maps.map_bg[y-1][n]&&(d=4)):"O"==j?(this.tSet(32*y,32*n,600,32*y-512-32),4==this.maps.map_bg[y-1][n]&&(d=4)):"P"==j?(this.tSet(32*y,32*n,700,32*y-512-32),4==this.maps.map_bg[y-1][n]&&(d=4)):"Q"==j?(this.tSet(32*y,32*n,800,32*y-512-32),4==this.maps.map_bg[y-1][n]&&(d=4)):"R"==j?(this.tSet(32*y,32*n,900,32*y-512-32),4==this.maps.map_bg[y-1][n]&&(d=4)):"S"==j?(this.co_b.c=100,this.co_b.c4=3,this.co_b.x=32*y,this.co_b.y=32*n-16,4==this.maps.map_bg[y-1][n]&&(d=4),this.co_b.x<448?this.co_b.x=448:this.co_b.x>5664&&(this.co_b.x=5664),10==this.sl_step?this.sl_step=11:this.sl_step=1,this.sl_wx=this.co_b.x-384,this.sl_wy=960):"T"==j?(this.co_b.c=200,this.co_b.c4=3,this.co_b.x=32*y,this.co_b.y=32*n-16,4==this.maps.map_bg[y-1][n]&&(d=4),this.co_b.x<448?this.co_b.x=448:this.co_b.x>5664&&(this.co_b.x=5664),10==this.sl_step?this.sl_step=11:this.sl_step=1,this.sl_wx=this.co_b.x-384,this.sl_wy=960):"U"==j?(this.aSet(32*y+16,32*n+16,70,32*y),d=50):"V"==j?(this.aSet(32*y+16,32*n+16,71,32*y),d=50):"W"==j?(this.tSet(32*y,32*n-16,1e3,32*y-512-32-32),d=4):"X"==j?(this.tSet(32*y,32*n,1100,32*y-512-32),d=4):"Y"==j?(this.aSet(32*y,32*n,60,32*y),4==this.maps.map_bg[y-1][n]&&(d=4)):"Z"==j&&(this.co_b.c=300,this.co_b.c4=3,this.co_b.x=32*y,this.co_b.y=32*n-16,this.boss_kijyun_y=this.co_b.y,4==this.maps.map_bg[y-1][n]&&(d=4),this.co_b.x<448?this.co_b.x=448:this.co_b.x>5664&&(this.co_b.x=5664),10==this.sl_step?this.sl_step=11:this.sl_step=1,this.sl_wx=this.co_b.x-384,this.sl_wy=960),d>=0&&(this.maps.map_bg[y][n]=d))}for(var x=0;x<=this.maps.width-1;x++)this.maps.map_bg[x][0]=21,this.maps.map_bg[x][this.maps.height-1]=21;for(var l=0;l<=this.maps.height-1;l++)this.maps.map_bg[0][l]=21,this.maps.map_bg[181][l]=21,this.maps.map_bg[199][l]=21;this.ochiru_y=this.maps.wy_max+320,this.maps.wx=this.co_j.x-96,this.maps.wy=this.co_j.y-176,this.maps.wx<this.maps.wx_mini?this.maps.wx=this.maps.wx_mini:this.maps.wx>this.maps.wx_max&&(this.maps.wx=this.maps.wx_max),this.maps.wy<this.maps.wy_mini?this.maps.wy=this.maps.wy_mini:this.maps.wy>this.maps.wy_max&&(this.maps.wy=this.maps.wy_max),this.co_j.wx=this.co_j.x-this.maps.wx,this.co_j.wy=this.co_j.y-this.maps.wy},k.prototype.drawGamescreen=function(){this.maps.drawMapScroll(this.g_ac2);var t=this.maps.wx,i=this.maps.wy;if(this.co_j.wx=this.co_j.x-this.maps.wx,this.co_j.wy=this.co_j.y-this.maps.wy,this.a_hf)for(var s=0;s<=this.a_kazu;s++)if(this.co_a[s].gf){var h=this.co_a[s],e=h.x-t,a=h.y-i;switch(h.pt){default:break;case 100:this.hg.drawImage(this.hi[190],e,a,this.ap),this.hg.drawImage(this.hi[191],e+32,a,this.ap),this.hg.drawImage(this.hi[192],e+64,a,this.ap);break;case 200:this.hg.drawImage(this.hi[76],e,a,this.ap),this.hg.drawImage(this.hi[77],e+32,a,this.ap),this.hg.drawImage(this.hi[86],e,a+32,this.ap),this.hg.drawImage(this.hi[87],e+32,a+32,this.ap);break;case 210:this.hg.drawImage(this.hi[78],e,a,this.ap),this.hg.drawImage(this.hi[79],e+32,a,this.ap),this.hg.drawImage(this.hi[88],e,a+32,this.ap),this.hg.drawImage(this.hi[89],e+32,a+32,this.ap);break;case 300:this.hg.drawImage(this.hi[60],e,a,this.ap),this.hg.drawImage(this.hi[61],e+32,a,this.ap);break;case 310:this.hg.drawImage(this.hi[62],e,a,this.ap),this.hg.drawImage(this.hi[63],e+32,a,this.ap);break;case 320:this.hg.drawImage(this.hi[64],e,a,this.ap),this.hg.drawImage(this.hi[65],e+32,a,this.ap);break;case 330:this.hg.drawImage(this.hi[66],e,a,this.ap),this.hg.drawImage(this.hi[67],e+32,a,this.ap);break;case 400:this.hg.drawImage(this.hi[183],e,a,this.ap),this.hg.drawImage(this.hi[184],e+32,a,this.ap),this.hg.drawImage(this.hi[185],e+64,a,this.ap),this.hg.drawImage(this.hi[193],e,a+32,this.ap),this.hg.drawImage(this.hi[194],e+32,a+32,this.ap),this.hg.drawImage(this.hi[195],e+64,a+32,this.ap);break;case 500:this.hg.drawImage(this.hi[180],e,a,this.ap),this.hg.drawImage(this.hi[181],e+32,a,this.ap),this.hg.drawImage(this.hi[182],e+64,a,this.ap);break;case 600:this.hg.drawImage(this.hi[188],e,a,this.ap),this.hg.drawImage(this.hi[189],e+32,a,this.ap),this.hg.drawImage(this.hi[198],e,a+32,this.ap),this.hg.drawImage(this.hi[199],e+32,a+32,this.ap);break;case 605:this.hg.drawImage(this.hih[1][189],e,a,this.ap),this.hg.drawImage(this.hih[1][188],e+32,a,this.ap),this.hg.drawImage(this.hih[1][199],e,a+32,this.ap),this.hg.drawImage(this.hih[1][198],e+32,a+32,this.ap);break;case 700:this.hg.drawImage(this.hi[32],e,a,this.ap);break;case 710:this.hg.drawImage(this.hi[33],e,a,this.ap);break;case 720:this.hg.drawImage(this.hi[34],e,a,this.ap);break;case 800:h.x>=this.co_j.x?this.hg.drawImage(this.hi[35+h.c3],e,a,this.ap):this.hg.drawImage(this.hih[1][35+h.c3],e,a,this.ap);break;case 1100:var c=Math.floor(16*Math.cos(6.283185307179586*(h.c3+90)/360)),r=Math.floor(16*Math.sin(6.283185307179586*(h.c3+90)/360));if(this.vo_pa_x[0]=this.vo_x[s][0]-t+c,this.vo_pa_y[0]=this.vo_y[s][0]-i+r,this.vo_pa_x[1]=this.vo_x[s][0]-t-c,this.vo_pa_y[1]=this.vo_y[s][0]-i-r,this.vo_pa_x[2]=this.vo_x[s][1]-t-c,this.vo_pa_y[2]=this.vo_y[s][1]-i-r,this.vo_pa_x[3]=this.vo_x[s][1]-t+c,this.vo_pa_y[3]=this.vo_y[s][1]-i+r,this.gg.os_g.setColor(this.gamecolor_firebar1),this.gg.os_g.fillPolygon(this.vo_pa_x,this.vo_pa_y,4),this.g_c2>=2){this.gg.os_g.setColor(this.gamecolor_firebar2);var p=Math.floor(10*Math.cos(6.283185307179586*(h.c3+90)/360)),m=Math.floor(10*Math.sin(6.283185307179586*(h.c3+90)/360));this.vo_pa_x[0]=this.vo_x[s][2]-t+p,this.vo_pa_y[0]=this.vo_y[s][2]-i+m,this.vo_pa_x[1]=this.vo_x[s][2]-t-p,this.vo_pa_y[1]=this.vo_y[s][2]-i-m,this.vo_pa_x[2]=this.vo_x[s][3]-t-p,this.vo_pa_y[2]=this.vo_y[s][3]-i-m,this.vo_pa_x[3]=this.vo_x[s][3]-t+p,this.vo_pa_y[3]=this.vo_y[s][3]-i+m,this.gg.os_g.fillPolygon(this.vo_pa_x,this.vo_pa_y,4)}}}if(this.m_kazu>0)for(var g=0;g<=23;g++)if(this.co_m[g].c>=50){var n=this.co_m[g];if(50==n.c){this.hg.drawImage(this.hih[n.pth][n.pt],n.x-t,n.y-i,this.ap);var y=this.maps.getBGCode(n.x,n.y);y>=20&&this.gg.drawPT(32*(n.x>>5)-t,32*(n.y>>5)-i,y,0),(y=this.maps.getBGCode(n.x+31,n.y))>=20&&this.gg.drawPT(32*(n.x+31>>5)-t,32*(n.y>>5)-i,y,0)}else 1e3==n.pt?(this.gg.os_g.setColor(this.gamecolor_mizunohadou),this.gg.os_g.fillOval(n.x-t+16-n.c2,n.y-i+16-n.c2,2*n.c2,2*n.c2)):1100==n.pt?(0==this.g_ac?this.gg.os_g.setColor(this.gamecolor_grenade1):this.gg.os_g.setColor(this.gamecolor_grenade2),this.gg.os_g.fillOval(n.x-t+16-n.c2,n.y-i+16-n.c2,2*n.c2,2*n.c2)):this.hg.drawImage(this.hih[n.pth][n.pt],n.x-t,n.y-i,this.ap)}if(this.jm_kazu>0)for(var j=0;j<=1;j++)if(this.co_jm[j].c>=50){var d=this.co_jm[j];d.pt<1e3?this.hg.drawImage(this.hih[d.pth][d.pt],d.x-t,d.y-i,this.ap):1200==d.pt?(0==this.g_ac?this.gg.os_g.setColor(this.gamecolor_grenade1):this.gg.os_g.setColor(this.gamecolor_grenade2),this.gg.os_g.fillRect(d.x-t,d.y-i+12,d.vx-d.x+1,8)):1205==d.pt?(0==this.g_ac?this.gg.os_g.setColor(this.gamecolor_grenade1):this.gg.os_g.setColor(this.gamecolor_grenade2),this.gg.os_g.fillRect(d.vx-t,d.y-i+12,d.x-d.vx+1,8)):(0==this.g_ac?this.gg.os_g.setColor(this.gamecolor_grenade1):this.gg.os_g.setColor(this.gamecolor_grenade2),this.gg.os_g.fillOval(d.x-t+16-d.c2,d.y-i+16-d.c2,2*d.c2,2*d.c2))}for(var x=0;x<=this.t_kazu;x++)if(this.co_t[x].c>=50){var l=this.co_t[x].x-t,f=this.co_t[x].y-i;l>=-64&&f<=576&&this.hg.drawImage(this.hih[this.co_t[x].pth][this.co_t[x].pt],l,f,this.ap)}if(this.co_b.c>50){var u=this.co_b.x-t;if(u<528){var k=this.co_b.y-i;switch(this.co_b.pt){default:break;case 1e3:this.hg.drawImage(this.hih[0][186],u-16,k-16,this.ap),this.hg.drawImage(this.hih[0][187],u+16,k-16,this.ap),this.hg.drawImage(this.hih[0][196],u-16,k+16,this.ap),this.hg.drawImage(this.hih[0][197],u+16,k+16,this.ap);break;case 1005:this.hg.drawImage(this.hih[1][187],u-16,k-16,this.ap),this.hg.drawImage(this.hih[1][186],u+16,k-16,this.ap),this.hg.drawImage(this.hih[1][197],u-16,k+16,this.ap),this.hg.drawImage(this.hih[1][196],u+16,k+16,this.ap);break;case 1010:this.hg.drawImage(this.hih[0][176],u-16,k+16,this.ap),this.hg.drawImage(this.hih[0][177],u+16,k+16,this.ap);break;case 1015:this.hg.drawImage(this.hih[1][177],u-16,k+16,this.ap),this.hg.drawImage(this.hih[1][176],u+16,k+16,this.ap);break;case 1100:this.hg.drawImage(this.hih[0][188],u-16,k-16,this.ap),this.hg.drawImage(this.hih[0][189],u+16,k-16,this.ap),this.hg.drawImage(this.hih[0][198],u-16,k+16,this.ap),this.hg.drawImage(this.hih[0][199],u+16,k+16,this.ap);break;case 1105:this.hg.drawImage(this.hih[1][189],u-16,k-16,this.ap),this.hg.drawImage(this.hih[1][188],u+16,k-16,this.ap),this.hg.drawImage(this.hih[1][199],u-16,k+16,this.ap),this.hg.drawImage(this.hih[1][198],u+16,k+16,this.ap);break;case 1110:this.hg.drawImage(this.hih[0][178],u-16,k+16,this.ap),this.hg.drawImage(this.hih[0][179],u+16,k+16,this.ap);break;case 1115:this.hg.drawImage(this.hih[1][179],u-16,k+16,this.ap),this.hg.drawImage(this.hih[1][178],u+16,k+16,this.ap);break;case 1200:this.hg.drawImage(this.hih[0][238],u-16,k-16,this.ap),this.hg.drawImage(this.hih[0][239],u+16,k-16,this.ap),this.hg.drawImage(this.hih[0][248],u-16,k+16,this.ap),this.hg.drawImage(this.hih[0][249],u+16,k+16,this.ap);break;case 1205:this.hg.drawImage(this.hih[1][239],u-16,k-16,this.ap),this.hg.drawImage(this.hih[1][238],u+16,k-16,this.ap),this.hg.drawImage(this.hih[1][249],u-16,k+16,this.ap),this.hg.drawImage(this.hih[1][248],u+16,k+16,this.ap);break;case 1210:this.hg.drawImage(this.hih[0][228],u-16,k+16,this.ap),this.hg.drawImage(this.hih[0][229],u+16,k+16,this.ap);break;case 1215:this.hg.drawImage(this.hih[1][229],u-16,k+16,this.ap),this.hg.drawImage(this.hih[1][228],u+16,k+16,this.ap);break;case 1250:this.hg.drawImage(this.hih[0][238],u-16,k-16,this.ap),this.hg.drawImage(this.hih[0][239],u+16,k-16,this.ap),this.hg.drawImage(this.hih[0][248],u-16,k+16,this.ap),this.hg.drawImage(this.hih[0][249],u+16,k+16,this.ap),this.j_v_c<=0&&(this.j_v_kakudo+=2,this.j_v_kakudo>360&&(this.j_v_kakudo-=360)),u=this.co_b.x-t+16,k=this.co_b.y-i+16,this.gg.os_g.setColor(_.white);for(var v=.017453292519943295,w=0;w<=5;w++){var b=(this.j_v_kakudo+60*w)*v;this.vo_pa_x[w]=u+Math.floor(50*Math.cos(b)),this.vo_pa_y[w]=k+Math.floor(50*Math.sin(b))}this.gg.os_g.drawPolygon(this.vo_pa_x,this.vo_pa_y,6);for(var I=0;I<=5;I++){var S=(360-this.j_v_kakudo+60*I)*v;this.vo_pa_x[I]=u+Math.floor(50*Math.cos(S)),this.vo_pa_y[I]=k+Math.floor(50*Math.sin(S))}this.gg.os_g.drawPolygon(this.vo_pa_x,this.vo_pa_y,6);break;case 1255:this.hg.drawImage(this.hih[1][239],u-16,k-16,this.ap),this.hg.drawImage(this.hih[1][238],u+16,k-16,this.ap),this.hg.drawImage(this.hih[1][249],u-16,k+16,this.ap),this.hg.drawImage(this.hih[1][248],u+16,k+16,this.ap),this.j_v_c<=0&&(this.j_v_kakudo+=2,this.j_v_kakudo>360&&(this.j_v_kakudo-=360)),u=this.co_b.x-t+16,k=this.co_b.y-i+16,this.gg.os_g.setColor(_.white);for(var C=.017453292519943295,z=0;z<=5;z++){var M=(this.j_v_kakudo+60*z)*C;this.vo_pa_x[z]=u+Math.floor(50*Math.cos(M)),this.vo_pa_y[z]=k+Math.floor(50*Math.sin(M))}this.gg.os_g.drawPolygon(this.vo_pa_x,this.vo_pa_y,6);for(var P=0;P<=5;P++){var B=(360-this.j_v_kakudo+60*P)*C;this.vo_pa_x[P]=u+Math.floor(50*Math.cos(B)),this.vo_pa_y[P]=k+Math.floor(50*Math.sin(B))}this.gg.os_g.drawPolygon(this.vo_pa_x,this.vo_pa_y,6)}}}if(this.j_jet_c>=96&&(0==this.g_c1?this.hg.drawImage(this.hi[134],this.co_j.x-t,this.co_j.y-i+36,this.ap):this.hg.drawImage(this.hi[135],this.co_j.x-t,this.co_j.y-i+36,this.ap)),this.j_v_c>0&&(this.j_v_c--,this.j_v_kakudo+=2,this.j_v_kakudo>360&&(this.j_v_kakudo-=360),this.j_v_c>50||1==this.g_ac)){var T=this.co_j.x-t+16,G=this.co_j.y-i+16;this.gg.os_g.setColor(_.white);for(var A=.017453292519943295,D=0;D<=5;D++){var O=(this.j_v_kakudo+60*D)*A;this.vo_pa_x[D]=T+Math.floor(38*Math.cos(O)),this.vo_pa_y[D]=G+Math.floor(38*Math.sin(O))}this.gg.os_g.drawPolygon(this.vo_pa_x,this.vo_pa_y,6);for(var L=0;L<=5;L++){var E=(360-this.j_v_kakudo+60*L)*A;this.vo_pa_x[L]=T+Math.floor(38*Math.cos(E)),this.vo_pa_y[L]=G+Math.floor(38*Math.sin(E))}this.gg.os_g.drawPolygon(this.vo_pa_x,this.vo_pa_y,6)}if(this.j_zan_f){var R=this.j_zan_p+(6-this.j_zan_nagasa);R>5&&(R-=6);var N=this.j_zan_p+1;N>5&&(N-=6);do{var W=this.j_zan_x[R]-t,Z=this.j_zan_y[R]-i,F=this.j_zan_pth[R];this.hg.drawImage(this.hih[F][this.j_zan_pt[R]],W,Z,this.ap),++R>5&&(R=0)}while(R!=N);this.j_zan_p++,this.j_zan_p>5&&(this.j_zan_p=0),this.j_zan_x[this.j_zan_p]=this.co_j.x,this.j_zan_y[this.j_zan_p]=this.co_j.y,this.j_zan_pt[this.j_zan_p]=this.co_j.pt,this.j_zan_pth[this.j_zan_p]=this.co_j.muki,this.j_zan_c<9?(this.j_zan_c++,this.co_j.vy>=0&&(this.j_zan_c=9)):(this.j_zan_nagasa--,this.j_zan_nagasa<0&&(this.j_zan_f=!1))}if(this.co_j.pt<1e3?this.gg.drawPT(this.co_j.wx,this.co_j.wy,this.co_j.pt,this.co_j.muki):1e3==this.co_j.pt?0==this.co_j.muki?(this.gg.drawPT(this.co_j.wx,this.co_j.wy,118,this.co_j.muki),this.gg.drawPT(this.co_j.wx-32,this.co_j.wy,117,this.co_j.muki)):(this.gg.drawPT(this.co_j.wx,this.co_j.wy,118,1),this.gg.drawPT(this.co_j.wx+32,this.co_j.wy,117,1)):1100==this.co_j.pt?(this.co_j.c1<=0?this.gg.drawPT(this.co_j.wx,this.co_j.wy,100,this.co_j.muki):this.co_j.c1>=32?this.gg.drawPT(this.co_j.wx,this.co_j.wy+32,100,this.co_j.muki):this.gg.drawPT(this.co_j.wx,this.co_j.wy+this.co_j.c1,100,this.co_j.muki),this.gg.drawPT(this.co_j.wx-16,this.co_j.wy+32,60+2*this.co_j.c2,0),this.gg.drawPT(this.co_j.wx+16,this.co_j.wy+32,61+2*this.co_j.c2,0)):this.co_j.pt,this.hitokoto_c>0){this.hitokoto_c--;for(var Y=0,H=0;H<=2;H++){var K=H+1,q="hitokoto"+this.hitokoto_num+"-"+K;q=this.gg.ap.getParameter(q),K=parseInt(q),isNaN(K)&&(K=-1),0!=K&&Y++}this.km.drawWindowbox(208,56,224,30+14*Y),this.hg.setFont(new o("Dialog",0,12)),this.hg.setColor(_.cyan);var X="hitokoto"+this.hitokoto_num+"_name";this.hg.drawString(this.gg.ap.getParameter(X),214,74),this.hg.setColor(_.white),Y=0;for(var J=0;J<=2;J++){var U=J+1,V="hitokoto"+this.hitokoto_num+"-"+U;V=this.gg.ap.getParameter(V),U=parseInt(V),isNaN(U)&&(U=-1),0!=U&&(this.hg.drawString(V,214,80+14*Y+12),Y++)}}},k.prototype.jM100=function(){var t=!1,i=!1;this.j_mizu_f=!1;var s=this.maps.getBGCode(this.co_j.x+15,this.co_j.y+15);4==s?(this.j_mizu_f=!0,this.j_jet_c=0,this.j_mizu_awa_c++,44==this.j_mizu_awa_c||54==this.j_mizu_awa_c?this.mSet(this.co_j.x,this.co_j.y+4,60):this.j_mizu_awa_c>54&&(this.j_mizu_awa_c=0)):8!=s&&9!=s||4!=this.maps.map_bg[(this.co_j.x+15>>5)-1][this.co_j.y+15>>5]||(this.j_mizu_f=!0,this.j_jet_c=0,this.j_mizu_awa_c++,44==this.j_mizu_awa_c||54==this.j_mizu_awa_c?this.mSet(this.co_j.x,this.co_j.y+4,60):this.j_mizu_awa_c>54&&(this.j_mizu_awa_c=0)),this.gk.tr1_f?this.tr1_c<6&&this.tr1_c++:this.tr1_c=0,this.gk.tr2_f?this.tr2_c<2&&this.tr2_c++:this.tr2_c=0,this.gk.left_f?this.gk.left_c<2&&this.gk.left_c++:this.gk.left_c=0,this.gk.right_f?this.gk.right_c<2&&this.gk.right_c++:this.gk.right_c=0,1==this.gk.left_c?(this.left_dcc>0?this.j_hashiru_f=!0:this.j_hashiru_f=!1,this.left_dcc=8):this.left_dcc>0&&this.left_dcc--,1==this.gk.right_c?(this.right_dcc>0?this.j_hashiru_f=!0:this.j_hashiru_f=!1,this.right_dcc=8):this.right_dcc>0&&this.right_dcc--;var e=this.co_j.x,a=this.co_j.y;this.co_j.pt=100;var c=e+15>>5,_=a+31>>5,o=(this.maps.map_bg[c][_],a+32>>5),r=this.maps.map_bg[c][o];if(r>=20||this.j_a_id>=0?(this.co_j.jimen_f=!0,this.j_jump_type=2,69==r&&(i=!0)):this.co_j.jimen_f=!1,this.co_j.jimen_f?(this.j_zan_f=!1,this.j_jet_c=0,this.gk.left_f?(this.co_j.vx-=i?4:15,this.j_hashiru_f?(this.j_mizu_f?this.co_j.vx<-60&&(this.co_j.vx=-60):this.co_j.vx<-120&&(this.co_j.vx=-120),this.co_j.vx>0&&!i?(this.co_j.pt=108,this.co_j.ac=0):(this.co_j.pt=105+(this.co_j.ac>>1),this.co_j.ac++,this.co_j.ac>3&&(this.co_j.ac=0))):(this.j_mizu_f?this.co_j.vx<-40&&(this.co_j.vx=-40):this.co_j.vx<-60&&(this.co_j.vx=-60),this.co_j.vx>0&&!i?(this.co_j.pt=108,this.co_j.ac=0):(this.co_j.pt=103+(this.co_j.ac>>1),this.co_j.ac++,this.co_j.ac>3&&(this.co_j.ac=0))),this.co_j.muki=0):this.gk.right_f?(this.co_j.vx+=i?4:15,this.j_hashiru_f?(this.j_mizu_f?this.co_j.vx>60&&(this.co_j.vx=60):this.co_j.vx>120&&(this.co_j.vx=120),this.co_j.vx<0&&!i?(this.co_j.pt=108,this.co_j.ac=0):(this.co_j.pt=105+(this.co_j.ac>>1),this.co_j.ac++,this.co_j.ac>3&&(this.co_j.ac=0))):(this.j_mizu_f?this.co_j.vx>40&&(this.co_j.vx=40):this.co_j.vx>60&&(this.co_j.vx=60),this.co_j.vx<0&&!i?(this.co_j.pt=108,this.co_j.ac=0):(this.co_j.pt=103+(this.co_j.ac>>1),this.co_j.ac++,this.co_j.ac>3&&(this.co_j.ac=0))),this.co_j.muki=1):this.co_j.vx<0?(i?this.co_j.vx++:this.co_j.vx+=5,this.co_j.vx>0&&(this.co_j.vx=0),this.j_hashiru_f||i?(this.co_j.pt=107,this.co_j.ac=0):(this.co_j.pt=103+(this.co_j.ac>>1),this.co_j.ac++,this.co_j.ac>3&&(this.co_j.ac=0)),this.co_j.muki=0):this.co_j.vx>0?(i?this.co_j.vx--:this.co_j.vx-=5,this.co_j.vx<0&&(this.co_j.vx=0),this.j_hashiru_f||i?(this.co_j.pt=107,this.co_j.ac=0):(this.co_j.pt=103+(this.co_j.ac>>1),this.co_j.ac++,this.co_j.ac>3&&(this.co_j.ac=0)),this.co_j.muki=1):this.co_j.ac=0):(this.gk.left_f?!this.j_mizu_f&&this.co_j.vx>-60&&(this.co_j.vx-=10,this.co_j.vx<-60&&(this.co_j.vx=-60)):this.gk.right_f&&!this.j_mizu_f&&this.co_j.vx<60&&(this.co_j.vx+=10,this.co_j.vx>60&&(this.co_j.vx=60)),this.j_mizu_f?this.j_mizu_ac>1?this.co_j.pt=84:this.co_j.pt=83:0==this.j_jump_type?this.co_j.vy<20?this.co_j.pt=101:this.co_j.pt=102:2==this.j_jump_type?Math.abs(this.co_j.vx)<=60?this.co_j.pt=103:this.co_j.pt=105:3==this.j_jump_type?this.co_j.pt=119:4==this.j_jump_type?this.co_j.pt=100:this.co_j.pt=109,this.co_j.ac=2),this.j_jdai_f&&(this.co_j.vx=0,this.co_j.pt=100,this.co_j.ac=0),this.co_j.vx<0){if(this.co_j.x+=Object(h.d)(this.co_j.vx/10),this.a_hf)for(var p=0;p<=this.a_kazu;p++)if(this.co_a[p].gf){var m=this.co_a[p];m.c>=100&&m.c<200?this.co_j.x+15>=m.x&&this.co_j.x<=m.x+64&&this.co_j.y+31>=m.y&&this.co_j.y<=m.y+13&&(this.co_j.x=m.x+65,this.co_j.vx=0):300==m.c?this.co_j.x+15>=m.x&&this.co_j.x<=m.x+48&&this.co_j.y+31>=m.y&&this.co_j.y<=m.y+31&&(this.co_j.x=m.x+49,this.co_j.vx=0):400==m.c?this.co_j.x+15>=m.x&&this.co_j.x<=m.x+80&&this.co_j.y+31>=m.y&&this.co_j.y<=m.y+63&&(this.co_j.x=m.x+81,this.co_j.vx=0):500==m.c?this.co_j.x+15>=m.x&&this.co_j.x<=m.x+80&&this.co_j.y+31>=m.y&&this.co_j.y<=m.y+13&&(this.co_j.x=m.x+81,this.co_j.vx=0):600==m.c?this.co_j.x+15>=m.x&&this.co_j.x<=m.x+48&&this.co_j.y+31>=m.y+16&&this.co_j.y<=m.y+47&&(this.co_j.x=m.x+49,this.co_j.vx=0):700==m.c&&this.co_j.x+15>=m.x&&this.co_j.x<=m.x+16&&this.co_j.y+31>=m.y&&this.co_j.y<=m.y+31&&(this.co_j.x=m.x+17,this.co_j.vx=0)}var g=this.co_j.x+15>>5,n=this.maps.map_bg[g][this.co_j.y>>5],y=this.co_j.y+31>>5,j=this.maps.map_bg[g][y];(n>=20||j>=20)&&(this.co_j.x=32*g+17,this.co_j.vx=0)}else if(this.co_j.vx>0){if(this.co_j.x+=Object(h.d)(this.co_j.vx/10),this.a_hf)for(var d=0;d<=this.a_kazu;d++)if(this.co_a[d].gf){var x=this.co_a[d];x.c>=100&&x.c<200?this.co_j.x+15>=x.x&&this.co_j.x<=x.x+64&&this.co_j.y+31>=x.y&&this.co_j.y<=x.y+13&&(this.co_j.x=x.x-16,this.co_j.vx=0):300==x.c?this.co_j.x+15>=x.x&&this.co_j.x<=x.x+48&&this.co_j.y+31>=x.y&&this.co_j.y<=x.y+31&&(this.co_j.x=x.x-16,this.co_j.vx=0):400==x.c?this.co_j.x+15>=x.x&&this.co_j.x<=x.x+80&&this.co_j.y+31>=x.y&&this.co_j.y<=x.y+63&&(this.co_j.x=x.x-16,this.co_j.vx=0):500==x.c?this.co_j.x+15>=x.x&&this.co_j.x<=x.x+80&&this.co_j.y+31>=x.y&&this.co_j.y<=x.y+13&&(this.co_j.x=x.x-16,this.co_j.vx=0):600==x.c?this.co_j.x+15>=x.x&&this.co_j.x<=x.x+48&&this.co_j.y+31>=x.y+16&&this.co_j.y<=x.y+47&&(this.co_j.x=x.x-16,this.co_j.vx=0):700==x.c&&this.co_j.x+15>=x.x&&this.co_j.x<=x.x+16&&this.co_j.y+31>=x.y&&this.co_j.y<=x.y+31&&(this.co_j.x=x.x-16,this.co_j.vx=0)}var l=this.co_j.x+15>>5,f=this.maps.map_bg[l][this.co_j.y>>5],u=this.co_j.y+31>>5,k=this.maps.map_bg[l][u];(f>=20||k>=20)&&(this.co_j.x=32*l-16,this.co_j.vx=0)}if(this.co_j.jimen_f)if(this.tr1_c>=1&&this.tr1_c<=5)if(this.maps.getBGCode(this.co_j.x+15,this.co_j.y-1)>=20){if(1==this.tr1_c&&40==this.maps.getBGCode(this.co_j.x+15,this.co_j.y-1)){var v=this.co_j.x+15>>5,w=this.co_j.y-1>>5;this.hAttack(v,w)}if(s=this.maps.getBGCode(this.co_j.x+15,this.co_j.y-1),this.j_helm_f&&(20==s||69==s&&1==this.suberuyuka_hkf)){this.tr1_c=6;var b=this.co_j.x+15>>5,I=this.co_j.y-1>>5;4==this.maps.map_bg[this.co_j.x+15>>5][1+(this.co_j.y-1>>5)]?this.maps.putBGCode(b,I,4):this.maps.putBGCode(b,I,0),this.mSet2(32*b,32*I,80,12,-24),this.mSet2(32*b,32*I,80,-12,-24),this.jZutuki(32*b,32*I-32,0)}}else if(this.j_mizu_f)this.j_jump_type=0,this.co_j.pt=83,this.co_j.ac=0,this.j_mizu_ac=0,this.j_jet_kf=!1,this.j_jdai_f?(this.co_j.y=32*(this.co_j.y>>5),this.co_j.vy=-120,this.j_jump_level=0):Math.abs(this.co_j.vx)>50?(this.co_j.vy=-90,this.j_jump_level=0):(this.co_j.vy=-70,this.j_jump_level=0);else{this.j_jump_type=0,this.co_j.pt=101,this.co_j.ac=0,this.j_fire_f&&(0==this.co_j.muki?this.jmSet(this.co_j.x,this.co_j.y,100):this.jmSet(this.co_j.x,this.co_j.y,105)),this.j_jet_kf=!1;var S=Math.abs(this.co_j.vx);if(this.j_jdai_f)this.co_j.y=32*(this.co_j.y>>5),this.co_j.vy=-410,this.j_jump_level=5,this.co_a[this.j_a_id].c3<=1&&(this.co_j.vy=-230);else if(0==S)this.co_j.vy=-150,this.j_jump_level=1;else if(S<60)this.co_j.vy=-230,this.j_jump_level=2;else if(60==S)this.co_j.vy=-260,this.j_jump_level=3;else if(S<120)this.co_j.vy=-290,this.j_jump_level=4;else if(this.co_j.vy=-340,this.j_jump_level=5,(s=this.maps.map_bg[this.co_j.x+15>>5][this.co_j.y-1>>5])<=9){for(var C=0;C<=5;C++)this.j_zan_x[C]=e,this.j_zan_y[C]=a,this.j_zan_pt[C]=101,this.j_zan_pth[C]=this.co_j.muki;this.j_zan_p=0,this.j_zan_c=0,this.j_zan_nagasa=5,this.j_zan_f=!0}}else this.co_j.vy=0;else if(this.j_mizu_f)if(this.gk.left_f?this.co_j.muki=0:this.gk.right_f&&(this.co_j.muki=1),1==this.tr1_c){var z=!1;(s=this.maps.map_bg[this.co_j.x+15>>5][(this.co_j.y+15>>5)-1])<=9&&4!=s&&(z=!0),8!=s&&9!=s||4!=this.maps.map_bg[(this.co_j.x+15>>5)-1][(this.co_j.y+15>>5)-1]||(z=!1),z&&(this.co_j.y+15)%32<=8?(this.j_jump_type=0,this.co_j.pt=101,this.co_j.ac=0,this.co_j.vy=-180,this.j_jump_level=1,this.co_j.y=32*(this.co_j.y+15>>5)-14,this.j_jet_kf=!1,t=!0,this.mSet(this.co_j.x,32*(this.co_j.y+15>>5)-32,50)):(this.j_jump_type=0,this.co_j.ac=0,this.j_mizu_ac<=0&&(this.j_mizu_ac=4,this.co_j.pt=84),this.co_j.vy=-40,this.j_jump_level=0,0==this.co_j.muki?(this.co_j.vx-=30,this.co_j.vx<-60&&(this.co_j.vx=-60)):(this.co_j.vx+=30,this.co_j.vx>60&&(this.co_j.vx=60)))}else this.co_j.vx<0?(0==this.co_j.muki?this.co_j.vx++:this.co_j.vx+=2,this.co_j.vx>0&&(this.co_j.vx=0)):this.co_j.vx>0&&(1==this.co_j.muki?this.co_j.vx--:this.co_j.vx-=2,this.co_j.vx<0&&(this.co_j.vx=0)),this.co_j.vy<40?(this.co_j.vy+=5,this.co_j.vy>40&&(this.co_j.vy=40)):this.co_j.vy>40&&(this.co_j.vy-=20,this.co_j.vy<40&&(this.co_j.vy=40)),this.j_mizu_ac>0?(this.j_mizu_ac--,this.j_mizu_ac>1?this.co_j.pt=84:this.co_j.pt=83):this.co_j.pt=83;else this.co_j.vy+=25,this.co_j.vy>160&&(this.co_j.vy=160),1==this.tr1_c&&this.j_fire_f&&(0==this.co_j.muki?this.jmSet(this.co_j.x,this.co_j.y,100):this.jmSet(this.co_j.x,this.co_j.y,105)),0==this.tr1_c&&(this.j_jet_kf=!0),this.j_jet_kf&&this.tr1_c>0&&this.j_jet_fuel>0&&!this.j_mizu_f?(this.j_jet_c=100,2==this.j_jump_type&&(this.j_jump_type=0)):this.j_jet_c>96?this.j_jet_c--:this.j_jet_c=0,this.j_jet_c>=96&&(this.j_jet_fuel--,this.j_jet_fuel<0&&(this.j_jet_fuel=0,this.j_jet_c=0),this.gk.left_f?this.co_j.muki=0:this.gk.right_f&&(this.co_j.muki=1),this.co_j.vy>-150&&(this.co_j.vy-=50,this.co_j.vy<-150&&(this.co_j.vy=-150)));if(this.co_j.vy<0){var M=this.co_j.x+15>>5,P=this.co_j.y>>5,B=(this.maps.map_bg[M][P],this.co_j.vy);if(B<-320&&(B=-320),this.co_j.y+=Object(h.d)(B/10),this.j_mizu_f&&!t){var T=this.maps.getBGCode(this.co_j.x+15,this.co_j.y+15),G=!1;T<=9&&4!=T&&(G=!0),8!=T&&9!=T||4!=this.maps.map_bg[(this.co_j.x+15>>5)-1][this.co_j.y+15>>5]||(G=!1),G&&(this.co_j.y=32*(this.co_j.y+15>>5)+17,this.co_j.vy=-10)}if(this.a_hf)for(var A=0;A<=this.a_kazu;A++)if(this.co_a[A].gf){var D=this.co_a[A];D.c>=100&&D.c<200?this.co_j.x+15>=D.x&&this.co_j.x<=D.x+64&&this.co_j.y+31>=D.y&&this.co_j.y<=D.y+13&&(this.co_j.y=D.y+14,this.co_j.vy=0):300==D.c?this.co_j.x+15>=D.x&&this.co_j.x<=D.x+48&&this.co_j.y+31>=D.y&&this.co_j.y<=D.y+31&&(this.co_j.y=D.y+32,this.co_j.vy=0):400==D.c?this.co_j.x+15>=D.x&&this.co_j.x<=D.x+80&&this.co_j.y+31>=D.y&&this.co_j.y<=D.y+63&&(this.co_j.y=D.y+64,this.co_j.vy=0):500==D.c?this.co_j.x+15>=D.x&&this.co_j.x<=D.x+80&&this.co_j.y+31>=D.y&&this.co_j.y<=D.y+13&&(this.co_j.y=D.y+14,this.co_j.vy=0):600==D.c?this.co_j.x+15>=D.x&&this.co_j.x<=D.x+48&&this.co_j.y+31>=D.y+16&&this.co_j.y<=D.y+47&&(this.co_j.y=D.y+48,this.co_j.vy=0):700==D.c&&this.co_j.x+15>=D.x&&this.co_j.x<=D.x+16&&this.co_j.y+31>=D.y&&this.co_j.y<=D.y+31&&(this.co_j.y=D.y+32,this.co_j.vy=0)}var O=this.co_j.y>>5,L=this.maps.map_bg[this.co_j.x+15>>5][O];if(L>=20){if(this.co_j.y=32*O+32,this.co_j.vy=0,40==L){var E=this.co_j.x+15>>5,R=this.co_j.y-1>>5;this.hAttack(E,R)}if(this.j_helm_f&&(20==L||69==L&&1==this.suberuyuka_hkf)){var N=this.co_j.x+15>>5,W=O;4==this.maps.map_bg[N][W+1]?this.maps.putBGCode(N,W,4):this.maps.putBGCode(N,W,0),this.mSet2(32*N,32*W,80,12,-24),this.mSet2(32*N,32*W,80,-12,-24),this.jZutuki(32*N,32*W-32,0)}}if(P>O){if(this.gk.right_f){var Z=this.maps.map_bg[this.co_j.x+16>>5][P],F=this.maps.map_bg[this.co_j.x+16>>5][O];Z<=9&&F>=20&&(this.co_j.y=32*O+32,this.co_j.vy=0)}if(this.gk.left_f){var Y=this.maps.map_bg[this.co_j.x+14>>5][P],H=this.maps.map_bg[this.co_j.x+14>>5][O];Y<=9&&H>=20&&(this.co_j.y=32*O+32,this.co_j.vy=0)}}}else if(this.co_j.vy>0){var K=this.co_j.x+15>>5,q=this.co_j.y+31>>5;this.maps.map_bg[K][q];if(this.co_j.y+=Object(h.d)(this.co_j.vy/10),this.a_hf)for(var X=0;X<=this.a_kazu;X++)if(this.co_a[X].gf){var J=this.co_a[X];J.c>=100&&J.c<200?this.co_j.x+15>=J.x&&this.co_j.x<=J.x+64&&this.co_j.y+31>=J.y&&this.co_j.y<=J.y+13&&(this.co_j.y=J.y-32,this.co_j.vy=0):300==J.c?this.co_j.x+15>=J.x&&this.co_j.x<=J.x+48&&this.co_j.y+31>=J.y&&this.co_j.y<=J.y+31&&(this.co_j.y=J.y-32,this.co_j.vy=0):400==J.c?this.co_j.x+15>=J.x&&this.co_j.x<=J.x+80&&this.co_j.y+31>=J.y&&this.co_j.y<=J.y+63&&(this.co_j.y=J.y-32,this.co_j.vy=0):500==J.c?this.co_j.x+15>=J.x&&this.co_j.x<=J.x+80&&this.co_j.y+31>=J.y&&this.co_j.y<=J.y+13&&(this.co_j.y=J.y-32,this.co_j.vy=0):600==J.c?this.co_j.x+15>=J.x&&this.co_j.x<=J.x+48&&this.co_j.y+31>=J.y+16&&this.co_j.y<=J.y+47&&(this.co_j.y=J.y+16-32,this.co_j.vy=0):700==J.c&&this.co_j.x+15>=J.x&&this.co_j.x<=J.x+16&&this.co_j.y+31>=J.y&&this.co_j.y<=J.y+31&&(this.co_j.y=J.y-32,this.co_j.vy=0)}var U=this.co_j.y+31>>5;if(this.maps.map_bg[K][U]>=20){this.co_j.y=32*U-32,this.co_j.vy=0,U=this.co_j.y+31>>5;this.maps.map_bg[K][U]}if(q<U){if(this.gk.right_f){var V=this.maps.map_bg[this.co_j.x+16>>5][q],$=this.maps.map_bg[this.co_j.x+16>>5][U];V<=9&&$>=20&&(this.co_j.y=32*U-32,this.co_j.vy=0,this.co_j.pt=103,this.co_j.ac=1,this.co_j.x++)}if(this.gk.left_f){var Q=this.maps.map_bg[this.co_j.x+14>>5][q],tt=this.maps.map_bg[this.co_j.x+14>>5][U];Q<=9&&tt>=20&&(this.co_j.y=32*U-32,this.co_j.vy=0,this.co_j.pt=103,this.co_j.ac=1,this.co_j.x--)}}if(!this.j_mizu_f){var it=this.maps.getBGCode(this.co_j.x+15,this.co_j.y+15);4==it?(this.mSet(this.co_j.x,32*(this.co_j.y+15>>5)-32,50),this.j_mizu_awa_c=38,this.co_j.vx<-60?this.co_j.vx=-60:this.co_j.vx>60&&(this.co_j.vx=60)):8!=it&&9!=it||4!=this.maps.map_bg[(this.co_j.x+15>>5)-1][this.co_j.y+15>>5]||(this.mSet(this.co_j.x,32*(this.co_j.y+15>>5)-32,50),this.j_mizu_awa_c=38,this.co_j.vx<-60?this.co_j.vx=-60:this.co_j.vx>60&&(this.co_j.vx=60))}}if(1==this.tr2_c)if(this.j_gr_kazu>0?3==this.grenade_type||4==this.grenade_type?0==this.co_j.muki?this.jmSet(this.co_j.x,this.co_j.y,60):this.jmSet(this.co_j.x,this.co_j.y,65):0==this.co_j.muki?this.jmSet(this.co_j.x,this.co_j.y,200):this.jmSet(this.co_j.x,this.co_j.y,205):!this.j_fire_f||this.j_mizu_f&&!this.j_fire_mkf||(0==this.co_j.muki?this.jmSet(this.co_j.x,this.co_j.y,100):this.jmSet(this.co_j.x,this.co_j.y,105)),s=this.maps.getBGCode(this.co_j.x+15,this.co_j.y+32),this.j_drell_f&&(20==s||69==s&&1==this.suberuyuka_hkf)){var st=this.co_j.x+15>>5,ht=this.co_j.y+32>>5;4==this.maps.map_bg[this.co_j.x+15>>5][(this.co_j.y+32>>5)-1]?this.maps.putBGCode(st,ht,4):this.maps.putBGCode(st,ht,0),this.mSet2(32*st,32*ht,80,12,-24),this.mSet2(32*st,32*ht,80,-12,-24),this.jZutuki(32*st,32*ht-32,0),this.co_j.x=32*st,this.co_j.vx=0,this.co_j.vy=0,this.j_jump_type=3,this.co_j.c=120,this.co_j.c1=0,this.co_j.pt=119}else this.j_tail_f&&(this.j_tail_ac<=0||this.j_tail_ac>=8)&&(this.j_tail_ac=1,this.co_j.pt=116,this.j_zan_f=!1);if(this.j_tail_ac>=1)if(this.j_zan_f=!1,this.j_tail_ac++,this.j_tail_ac<=4)this.co_j.pt=116,1!=this.j_tail_type&&3!=this.j_tail_type||(0==this.co_j.muki?this.jZutuki(this.co_j.x-32,this.co_j.y,1):this.jZutuki(this.co_j.x+32,this.co_j.y,1));else if(this.j_tail_ac<=5){if(this.co_j.pt=1e3,1!=this.j_tail_type&&3!=this.j_tail_type||(0==this.co_j.muki?this.jZutuki(this.co_j.x-32,this.co_j.y,1):this.jZutuki(this.co_j.x+32,this.co_j.y,1)),2==this.j_tail_type||3==this.j_tail_type){var et;et=1==this.co_j.muki?this.co_j.x+40>>5:this.co_j.x-8>>5;var at=this.co_j.y+15>>5;(20==this.maps.map_bg[et][at]||69==this.maps.map_bg[et][at]&&1==this.suberuyuka_hkf)&&(4==this.maps.map_bg[et-1][at]?this.maps.putBGCode(et,at,4):this.maps.putBGCode(et,at,0),this.mSet2(32*et,32*at,80,12,-24),this.mSet2(32*et,32*at,80,-12,-24),this.jZutuki(32*et,32*at-32,0))}}else this.j_tail_ac<=7?this.co_j.pt=1e3:this.j_tail_ac<=9?this.co_j.pt=116:(this.co_j.pt=116,this.j_tail_ac=0);switch(s=this.maps.map_bg[this.co_j.x+15>>5][this.co_j.y+15>>5]){case 9:4==this.maps.map_bg[(this.co_j.x+15>>5)-1][this.co_j.y+15>>5]?(this.maps.putBGCode(this.co_j.x+15>>5,this.co_j.y+15>>5,4),this.j_mizu_f=!0):this.maps.putBGCode(this.co_j.x+15>>5,this.co_j.y+15>>5,0),this.addScore(5);break;case 8:4==this.maps.map_bg[(this.co_j.x+15>>5)-1][this.co_j.y+15>>5]?(this.maps.putBGCode(this.co_j.x+15>>5,this.co_j.y+15>>5,4),this.j_mizu_f=!0):this.maps.putBGCode(this.co_j.x+15>>5,this.co_j.y+15>>5,0),this.stage_cc=1,this.stage_max>=2&&this.stage>=this.stage_max?this.addScore(1e3):this.addScore(100);break;case 5:case 6:this.co_j.y=32*(this.co_j.y+15>>5),this.jShinu(1)}(this.co_j.y>=this.ochiru_y||this.j_mizu_f&&this.co_j.y>=this.ochiru_y-16)&&(this.co_j.c=210,this.co_j.c1=0,this.co_j.y=this.ochiru_y+64,this.j_jet_c=0,this.j_v_c=0),this.co_j.wx=this.co_j.x-this.maps.wx,this.co_j.wy=this.co_j.y-this.maps.wy,this.co_j.wx<96?this.maps.wx=this.co_j.x-96:this.co_j.wx>224&&(this.maps.wx=this.co_j.x-224),this.co_j.wy<78?this.maps.wy=this.co_j.y-78:this.co_j.wy>176&&(this.maps.wy=this.co_j.y-176),this.maps.wx<this.maps.wx_mini?this.maps.wx=this.maps.wx_mini:this.maps.wx>this.maps.wx_max&&(this.maps.wx=this.maps.wx_max),this.maps.wy<this.maps.wy_mini?this.maps.wy=this.maps.wy_mini:this.maps.wy>this.maps.wy_max&&(this.maps.wy=this.maps.wy_max)},k.prototype.jMove=function(){this.j_mizu_f=!1;var t=this.maps.getBGCode(this.co_j.x+15,this.co_j.y+15);if(4==t?(this.j_mizu_f=!0,this.j_jet_c=0,this.j_mizu_awa_c++,44==this.j_mizu_awa_c||54==this.j_mizu_awa_c?this.mSet(this.co_j.x,this.co_j.y+4,60):this.j_mizu_awa_c>54&&(this.j_mizu_awa_c=0)):8!=t&&9!=t||4!=this.maps.map_bg[(this.co_j.x+15>>5)-1][this.co_j.y+15>>5]||(this.j_mizu_f=!0,this.j_jet_c=0,this.j_mizu_awa_c++,44==this.j_mizu_awa_c||54==this.j_mizu_awa_c?this.mSet(this.co_j.x,this.co_j.y+4,60):this.j_mizu_awa_c>54&&(this.j_mizu_awa_c=0)),this.gk.tr1_f?this.tr1_c<6&&this.tr1_c++:this.tr1_c=0,this.gk.tr2_f?this.tr2_c<2&&this.tr2_c++:this.tr2_c=0,this.gk.left_f?this.gk.left_c<2&&this.gk.left_c++:this.gk.left_c=0,this.gk.right_f?this.gk.right_c<2&&this.gk.right_c++:this.gk.right_c=0,1==this.gk.left_c?(this.left_dcc>0?this.j_hashiru_f=!0:this.j_hashiru_f=!1,this.left_dcc=8):this.left_dcc>0&&this.left_dcc--,1==this.gk.right_c?(this.right_dcc>0?this.j_hashiru_f=!0:this.j_hashiru_f=!1,this.right_dcc=8):this.right_dcc>0&&this.right_dcc--,110==this.co_j.c)this.gk.left_f?(this.co_j.vx-=10,this.co_j.vx<-60&&(this.co_j.vx=-60)):this.gk.right_f&&(this.co_j.vx+=10,this.co_j.vx>60&&(this.co_j.vx=60)),this.co_j.c1++,this.co_j.c1>2&&(this.co_j.c=100),this.co_j.pt=109;else if(120==this.co_j.c)this.co_j.c1++,this.co_j.c1>6&&(this.co_j.c=100),this.co_j.pt=119;else if(200==this.co_j.c)this.co_j.vy+=25,this.co_j.vy>100&&(this.co_j.vy=100),this.co_j.y+=Object(h.d)(this.co_j.vy/10),this.co_j.wx=this.co_j.x-this.maps.wx,this.co_j.wy=this.co_j.y-this.maps.wy,this.co_j.c2<100?(this.co_j.c1<=0?(this.co_j.pt=110,this.co_j.muki=0):this.co_j.c1<=1?(this.co_j.pt=111,this.co_j.muki=0,this.co_j.c2++,this.co_j.c2>4&&(this.co_j.c2=100)):this.co_j.c1<=2?(this.co_j.pt=112,this.co_j.muki=0):(this.co_j.pt=113,this.co_j.muki=0),this.co_j.c1++,this.co_j.c1>3&&(this.co_j.c1=0)):(this.co_j.pt=112,this.co_j.muki=0),this.co_j.wy>=320&&(this.co_j.c=210,this.co_j.c1=0,this.co_j.y=this.maps.wy+320+32,this.co_j.pt=0);else if(210==this.co_j.c)this.stage_cc<=0&&(this.co_j.c1++,this.co_j.c1>16&&(this.j_left--,this.j_left<0?(this.j_left=0,this.ml_mode=300):2==this.stage_select?this.ml_mode=250:this.ml_mode=90));else if(220==this.co_j.c)this.co_j.pt=114,this.co_j.c1++,this.co_j.c1>=25&&(this.co_j.c=210,this.co_j.c1=0);else if(230==this.co_j.c)this.co_j.pt=115,this.co_j.c1++,this.co_j.c1>=25&&(this.co_j.c=210,this.co_j.c1=0);else if(240==this.co_j.c)this.co_j.c2>=100&&(this.co_j.y+=10),this.co_j.wx=this.co_j.x-this.maps.wx,this.co_j.wy=this.co_j.y-this.maps.wy,this.co_j.c2<100?(this.co_j.c1<=0?(this.co_j.pt=110,this.co_j.muki=0):this.co_j.c1<=1?(this.co_j.pt=111,this.co_j.muki=0,this.co_j.c2++,this.co_j.c2>4&&(this.co_j.c2=100)):this.co_j.c1<=2?(this.co_j.pt=112,this.co_j.muki=0):(this.co_j.pt=113,this.co_j.muki=0),this.co_j.c1++,this.co_j.c1>3&&(this.co_j.c1=0)):(this.co_j.pt=112,this.co_j.muki=0),this.co_j.wy>=320&&(this.co_j.c=210,this.co_j.c1=0,this.co_j.y=this.maps.wy+320+32,this.co_j.pt=0);else if(300==this.co_j.c)this.co_j.pt=1100,this.co_j.c1++,this.co_j.c1>=32&&(this.co_j.c=310,this.co_j.c1=0,this.co_j.pt=1110),this.co_j.wx=this.co_j.x-this.maps.wx,this.co_j.wy=this.co_j.y-this.maps.wy,this.co_j.wx<96?this.maps.wx=this.co_j.x-96:this.co_j.wx>224&&(this.maps.wx=this.co_j.x-224),this.co_j.wy<78?this.maps.wy=this.co_j.y-78:this.co_j.wy>176&&(this.maps.wy=this.co_j.y-176),this.maps.wx<this.maps.wx_mini?this.maps.wx=this.maps.wx_mini:this.maps.wx>this.maps.wx_max&&(this.maps.wx=this.maps.wx_max),this.maps.wy<this.maps.wy_mini?this.maps.wy=this.maps.wy_mini:this.maps.wy>this.maps.wy_max&&(this.maps.wy=this.maps.wy_max);else if(310==this.co_j.c){if(this.co_j.pt=1110,this.stage_cc<=0)if(this.co_j.c1++,2==this.dokan_mode){if(this.co_j.c1>=10){var i;for(this.co_j.c=320,this.co_j.c1=42,i=0;i<=this.a_kazu;i++)if(300==this.co_a[i].c&&1!=this.co_a[i].c4&&this.co_j.c2==this.co_a[i].c3&&(0==this.sl_step||1==this.sl_step||10==this.sl_step||11==this.sl_step)){this.co_j.x=this.co_a[i].x+16,this.co_j.y=this.co_a[i].y-32,this.co_a[i].c4=1;break}this.a_kazu;for(var s=0;s<=this.a_kazu;s++)(this.co_a[s].c>=100||60==this.co_a[s].c)&&(this.co_a[s].gf=!0,300!=this.co_a[s].c||this.co_j.x==this.co_a[s].x+16&&this.co_j.y==this.co_a[s].y-32||(this.co_a[s].c4=0));10!=this.sl_step&&11!=this.sl_step||(this.maps.wx=this.co_j.x-192,this.ks_wx=this.maps.wx),this.co_j.wx=this.co_j.x-this.maps.wx,this.co_j.wy=this.co_j.y-this.maps.wy,this.co_j.wx<96?this.maps.wx=this.co_j.x-96:this.co_j.wx>224&&(this.maps.wx=this.co_j.x-224),this.co_j.wy<78?this.maps.wy=this.co_j.y-78:this.co_j.wy>176&&(this.maps.wy=this.co_j.y-176),this.maps.wx<this.maps.wx_mini?this.maps.wx=this.maps.wx_mini:this.maps.wx>this.maps.wx_max&&(this.maps.wx=this.maps.wx_max),this.maps.wy<this.maps.wy_mini?this.maps.wy=this.maps.wy_mini:this.maps.wy>this.maps.wy_max&&(this.maps.wy=this.maps.wy_max)}}else if(10==this.co_j.c1){var e;e=1==this.co_j.c2?this.gg.ap.getParameter("url2"):2==this.co_j.c2?this.gg.ap.getParameter("url3"):3==this.co_j.c2?this.gg.ap.getParameter("url4"):this.gg.ap.getParameter("url1"),location.href=e}else this.co_j.c1>80&&(this.ml_mode=50)}else 320==this.co_j.c&&(this.co_j.pt=1100,this.co_j.c1--,this.co_j.c1<=0&&(this.co_j.c=100,this.co_j.c1=0,this.co_j.pt=100))},k.prototype.jShinu=function(t){this.co_j.c1=0,this.co_j.c2=0,this.j_zan_f=!1,this.j_jet_c=0,this.j_v_c=0,1==t?this.co_j.c=240:2==t?(this.co_j.c=200,this.co_j.vy=-280):3==t&&(this.co_j.c=220)},k.prototype.jZutuki=function(t,i,s){for(var h=0;h<=this.t_kazu;h++)if(this.co_t[h].c>=100){var e=this.co_t[h],a=!1;1==s?Math.abs(t-e.x)<25&&Math.abs(i-e.y)<23&&(a=!0):Math.abs(t-e.x)<34&&i==e.y&&(a=!0),a&&(t>e.x?(e.pth=1,e.vx=-7):(e.pth=0,e.vx=7),e.c=52,e.vy=-32)}},k.prototype.tSet=function(t,i,s,h){for(var e=0;e<=119;e++)if(!(this.co_t[e].c>0)){var a=this.co_t[e];switch(a.c=10,a.c1=h,a.c2=s,a.c3=t,a.c4=i,a.x=t,a.y=i,this.t_kazu++,s){case 500:a.y=i-12,a.c3=i-52,a.c4=i-12,a.vy=-4;break;case 600:a.c3=0;break;case 900:this.airms_kf&&(a.c2=950)}break}},k.prototype.tSetBoss=function(t,i,s,h){this.t_kazu=129;for(var e=120;e<=129;e++)if(!(this.co_t[e].c>0)){var a=this.co_t[e];switch(a.c=s,a.c1=0,a.c2=0,a.c3=t,a.c4=i,a.x=t,a.y=i,a.vx=h,s){case 150:a.vx=h,a.vy=-28,a.vx<=0?a.muki=0:a.muki=1;break;case 450:a.vx=h,a.vy=-22,a.vx<=0?a.muki=0:a.muki=1;break;case 650:a.vx=h,a.vy=-28,a.vx<=0?a.muki=0:a.muki=1}break}},k.prototype.tMove=function(){for(var t=!1,i=0;i<=this.t_kazu;i++)if(0!=this.co_t[i].c&&this.co_t[i].x>=this.maps.wx-512){var s=this.co_t[i],h=s.x,e=s.y;switch(s.c){case 10:this.maps.wx>=s.c1&&(s.c=s.c2,s.c1=0,s.c2=0);break;case 50:s.c1++,s.c1>14&&(s.c=0,this.addScore(10));break;case 52:h+=s.vx,s.vy+=5,s.vy>25&&(s.vy=25),(e+=s.vy)>this.maps.wy+320&&(s.c=0,this.addScore(10));break;case 100:if(h+15>>5>h+12>>5){var a=this.maps.map_bg[h+15>>5][e+31>>5];11==a||14==a?e=32*(e+31>>5)-32:10!=a&&12!=a||(e=32*(e+31>>5))}h-=3;var c=this.maps.map_bg[h+15>>5][e+31>>5];if(c>=10&&c<=15)e=32*(e+31>>5),e=this.sakamichiY(h,e);else{var _=this.maps.map_bg[h>>5][e+32>>5];_<=9&&(h=32*(h>>5)+32,(_=this.maps.map_bg[h+15>>5][e+31>>5])>=10&&_<=15&&(h-=15),s.c=105),(_=this.maps.map_bg[h>>5][e+31>>5])>=20&&(h=32*(h>>5)+32,s.c=105),(_=this.maps.map_bg[h+15>>5][e+32>>5])>=10&&_<=15&&(e=32*(e+32>>5),e=this.sakamichiY(h,e))}s.pt=140+this.g_ac,s.pth=0;break;case 105:if(h+15>>5<h+18>>5){var o=this.maps.map_bg[h+15>>5][e+31>>5];10==o||13==o?e=32*(e+31>>5)-32:11!=o&&15!=o||(e=32*(e+31>>5))}h+=3;var r=this.maps.map_bg[h+15>>5][e+31>>5];if(r>=10&&r<=15)e=32*(e+31>>5),e=this.sakamichiY(h,e);else{var p=this.maps.map_bg[h+31>>5][e+32>>5];p<=9&&(h=32*(h+31>>5)-32,(p=this.maps.map_bg[h+15>>5][e+31>>5])>=10&&p<=15&&(h+=16),s.c=100),(p=this.maps.map_bg[h+31>>5][e+31>>5])>=20&&(h=32*(h+31>>5)-32,s.c=100),(p=this.maps.map_bg[h+15>>5][e+32>>5])>=10&&p<=15&&(e=32*(e+32>>5),e=this.sakamichiY(h,e))}s.pt=140+this.g_ac,s.pth=1;break;case 110:if(h+15>>5>h+12>>5){var m=this.maps.map_bg[h+15>>5][e+31>>5];11==m||14==m?e=32*(e+31>>5)-32:10!=m&&12!=m||(e=32*(e+31>>5))}h-=3;var g=this.maps.map_bg[h+15>>5][e+31>>5];if(g>=10&&g<=15)e=32*(e+31>>5),e=this.sakamichiY(h,e);else{var n=e+32>>5;if(this.maps.map_bg[h+31>>5][n]<=9){h=32*(h+31>>5);var y=this.maps.map_bg[h+15>>5][e+31>>5];y>=10&&y<=15&&(h-=15),s.c=120}if(h<32)h<=3&&(s.c=0);else this.maps.map_bg[h>>5][e+31>>5]>=20&&(h=32*(h>>5)+32,s.c=115,this.maps.map_bg[h+15>>5][e+32>>5]<=9&&(s.c=120));i>=120&&h<this.maps.wx-32&&(s.c=0);var j=this.maps.map_bg[h+15>>5][n];j>=10&&j<=15&&(e=32*(e+32>>5),e=this.sakamichiY(h,e))}s.pt=140+this.g_ac,s.pth=0;break;case 115:if(h+15>>5<h+18>>5){var d=this.maps.map_bg[h+15>>5][e+31>>5];10==d||13==d?e=32*(e+31>>5)-32:11!=d&&15!=d||(e=32*(e+31>>5))}h+=3;var x=this.maps.map_bg[h+15>>5][e+31>>5];if(x>=10&&x<=15)e=32*(e+31>>5),e=this.sakamichiY(h,e);else{var l=e+32>>5;if(this.maps.map_bg[h>>5][l]<=9){h=32*(h>>5);var f=this.maps.map_bg[h+15>>5][e+31>>5];f>=10&&f<=15&&(h+=16),s.c=125}var u=this.maps.map_bg[h+31>>5][e+31>>5];u>=20&&(h=32*(h+31>>5)-32,s.c=110,this.maps.map_bg[h+15>>5][e+32>>5]<=9&&(s.c=125)),i>=120&&h>this.maps.wx+512&&(s.c=0),(u=this.maps.map_bg[h+15>>5][l])>=10&&u<=15&&(e=32*(e+32>>5),e=this.sakamichiY(h,e))}s.pt=140+this.g_ac,s.pth=1;break;case 120:e+=5;var k=this.maps.map_bg[h+15>>5][e+31>>5];if(k>=10&&k<=15){var v=this.sakamichiY(h,32*(e+31>>5));v<=e&&(e=v,s.c=110)}var w=e+31>>5,b=this.maps.map_bg[h>>5][w],I=this.maps.map_bg[h+31>>5][w];(b>=20||I>=20)&&(e=32*w-32,s.c=110),e>=this.ochiru_y&&(s.c=0),s.pt=140,s.pth=0;break;case 125:e+=5;var S=this.maps.map_bg[h+15>>5][e+31>>5];if(S>=10&&S<=15){var C=this.sakamichiY(h,32*(e+31>>5));C<=e&&(e=C,s.c=115)}var z=e+31>>5,M=this.maps.map_bg[h>>5][z],P=this.maps.map_bg[h+31>>5][z];(M>=20||P>=20)&&(e=32*z-32,s.c=115),e>=this.ochiru_y&&(s.c=0),s.pt=140,s.pth=1;break;case 150:s.vx<0&&(this.maps.getBGCode(h,e)>=20||this.maps.getBGCode(h,e+31)>=20)&&(h=32*(h>>5)+32,s.vx=0),s.vx>0&&(this.maps.getBGCode(h+31,e)>=20||this.maps.getBGCode(h+31,e+31)>=20)&&(h=32*(h+31>>5)-32,s.vx=0),h+=s.vx,s.vy+=2,s.vy>18&&(s.vy=18);var B=(e+=s.vy)+31>>5,T=this.maps.map_bg[h>>5][B],G=this.maps.map_bg[h+31>>5][B];(T>=20||G>=20)&&(e=32*B-32,1==s.muki?s.c=115:s.c=110),e>=this.ochiru_y&&(s.c=0),s.pt=140,s.pth=s.muki;break;case 200:s.c1<=0?this.co_j.x>=h-240&&this.co_j.x<=h+240&&(s.c=210,s.vy=-14):s.c1--,s.pt=143,h+8>=this.co_j.x?s.pth=0:s.pth=1;break;case 210:s.vy++,s.vy>14&&(s.vy=14),e+=s.vy,this.maps.getBGCode(h+15,e+31)>=20&&(e=32*(e+31>>5)-32,s.c=200,s.c1=30),e>=this.ochiru_y&&(s.c=0),0==s.vy&&(Math.abs(this.co_j.x-h)>32||e<=this.co_j.y)&&this.mSet(h,e,100),s.vy<=-1?s.pt=144:s.pt=145,h+8>=this.co_j.x?s.pth=0:s.pth=1;break;case 300:s.c1>0?(s.c1++,2==s.c1||10==s.c1||18==s.c1||26==s.c1?h+8>=this.co_j.x?this.mSet(h,e,200):this.mSet(h,e,205):s.c1>86&&(s.c1=0)):this.co_j.x>=h-256&&this.co_j.x<=h+256&&(s.c1=1),s.pt=150,h+8>=this.co_j.x?s.pth=0:s.pth=1;break;case 400:h-=4,this.maps.getBGCode(h,e+32)<=9&&(h=32*(h>>5)+32,s.c=405),this.maps.getBGCode(h,e+31)>=20&&(h=32*(h>>5)+32,s.c=405),s.pt=152+this.g_ac,s.pth=0;break;case 405:h+=4,this.maps.getBGCode(h+31,e+32)<=9&&(h=32*(h+31>>5)-32,s.c=400),this.maps.getBGCode(h+31,e+31)>=20&&(h=32*(h+31>>5)-32,s.c=400),s.pt=152+this.g_ac,s.pth=1;break;case 410:h-=4;var A=this.maps.map_bg[h+15>>5][e+31>>5];if(A>=10&&A<=15)e=32*(e+31>>5),e=this.sakamichiY(h,e);else{var D=e+32>>5;if(this.maps.map_bg[h+31>>5][D]<=9){h=32*(h+31>>5);var O=this.maps.map_bg[h+15>>5][e+31>>5];O>=10&&O<=15&&(h-=15),s.c=420}if(h<32)h<=4&&(s.c=0);else this.maps.map_bg[h>>5][e+31>>5]>=20&&(h=32*(h>>5)+32,s.c=415,this.maps.map_bg[h+15>>5][e+32>>5]<=9&&(s.c=420));i>=120&&h<this.maps.wx-32&&(s.c=0);var L=this.maps.map_bg[h+15>>5][D];L>=10&&L<=15&&(e=32*(e+32>>5),e=this.sakamichiY(h,e))}s.pt=152+this.g_ac,s.pth=0;break;case 415:h+=4;var E=this.maps.map_bg[h+15>>5][e+31>>5];if(E>=10&&E<=15)e=32*(e+31>>5),e=this.sakamichiY(h,e);else{var R=e+32>>5;if(this.maps.map_bg[h>>5][R]<=9){h=32*(h>>5);var N=this.maps.map_bg[h+15>>5][e+31>>5];N>=10&&N<=15&&(h+=16),s.c=425}var W=this.maps.map_bg[h+31>>5][e+31>>5];W>=20&&(h=32*(h+31>>5)-32,s.c=410,this.maps.map_bg[h+15>>5][e+32>>5]<=9&&(s.c=425)),i>=120&&h>this.maps.wx+512&&(s.c=0),(W=this.maps.map_bg[h+15>>5][R])>=10&&W<=15&&(e=32*(e+32>>5),e=this.sakamichiY(h,e))}s.pt=152+this.g_ac,s.pth=1;break;case 420:var Z=(e+=5)+31>>5,F=this.maps.map_bg[h>>5][Z],Y=this.maps.map_bg[h+31>>5][Z];(F>=20||Y>=20)&&(e=32*Z-32,s.c=410),e>=this.ochiru_y&&(s.c=0),s.pt=152,s.pth=0;break;case 425:var H=(e+=5)+31>>5,K=this.maps.map_bg[h>>5][H],q=this.maps.map_bg[h+31>>5][H];(K>=20||q>=20)&&(e=32*H-32,s.c=415),e>=this.ochiru_y&&(s.c=0),s.pt=152,s.pth=1;break;case 450:s.vx<0&&(this.maps.getBGCode(h,e)>=20||this.maps.getBGCode(h,e+31)>=20)&&(h=32*(h>>5)+32,s.vx=0),s.vx>0&&(this.maps.getBGCode(h+31,e)>=20||this.maps.getBGCode(h+31,e+31)>=20)&&(h=32*(h+31>>5)-32,s.vx=0),h+=s.vx,s.vy+=2,s.vy>18&&(s.vy=18);var X=(e+=s.vy)+31>>5,J=this.maps.map_bg[h>>5][X],U=this.maps.map_bg[h+31>>5][X];(J>=20||U>=20)&&(e=32*X-32,1==s.muki?s.c=415:s.c=410),e>=this.ochiru_y&&(s.c=0),s.pt=152,s.pth=s.muki;break;case 500:e<=s.c3?(s.vy++,s.vy>4&&(s.vy=4)):e>=s.c4&&(s.vy--,s.vy<-4&&(s.vy=-4)),e+=s.vy,s.pt=147+this.g_ac,this.co_j.x<=h+8?s.pth=0:s.pth=1;break;case 510:(h-=3)<48?h<=3&&(s.c=0):this.maps.getBGCode(h-16,e+31)>=20&&(h=32*(h-16>>5)+32+16,s.c=515),s.pt=147+this.g_ac,s.pth=0;break;case 515:h+=3,this.maps.getBGCode(h+31+16,e+31)>=20&&(h=32*(h+31+16>>5)-32-16,s.c=510),s.pt=147+this.g_ac,s.pth=1;break;case 600:s.c1<25?(s.c1++,s.vy=-17,s.c3=0,s.pt=154,s.pth=0):(0==s.c3?(s.vy++,s.c3=1):(s.vy+=2,s.c3=0),s.vy>17&&(s.vy=17),e+=s.vy,s.vy<4?(s.pt=155,s.pth=0):(s.pt=156,s.pth=0),(h-=5)<32?h<=3&&(s.c=0):(this.maps.getBGCode(h+15,e+6)>=20&&(e=32*(e+6>>5)+32-6,s.vy=0),this.maps.getBGCode(h+15,e+31)>=20&&(e=32*(e+31>>5)-32,s.c1=15,s.pt=154,s.pth=0),(this.maps.getBGCode(h,e+31)>=20||this.maps.getBGCode(h,e+8)>=20)&&(h=32*(h>>5)+32,s.c=605),i>=120&&h<this.maps.wx-32&&(s.c=0))),e>=this.ochiru_y&&(s.c=0);break;case 605:s.c1<25?(s.c1++,s.vy=-17,s.c3=0,s.pt=154,s.pth=1):(0==s.c3?(s.vy++,s.c3=1):(s.vy+=2,s.c3=0),s.vy>17&&(s.vy=17),e+=s.vy,s.vy<4?(s.pt=155,s.pth=1):(s.pt=156,s.pth=1),h+=5,this.maps.getBGCode(h+15,e+6)>=20&&(e=32*(e+6>>5)+32-6,s.vy=0),this.maps.getBGCode(h+15,e+31)>=20&&(e=32*(e+31>>5)-32,s.c1=15,s.pt=154,s.pth=1),(this.maps.getBGCode(h+31,e+31)>=20||this.maps.getBGCode(h+31,e+8)>=20)&&(h=32*(h+31>>5)-32,s.c=600),i>=120&&h>this.maps.wx+512&&(s.c=0)),e>=this.ochiru_y&&(s.c=0);break;case 650:s.vx<0&&(this.maps.getBGCode(h,e)>=20||this.maps.getBGCode(h,e+31)>=20)&&(h=32*(h>>5)+32,s.vx=0),s.vx>0&&(this.maps.getBGCode(h+31,e)>=20||this.maps.getBGCode(h+31,e+31)>=20)&&(h=32*(h+31>>5)-32,s.vx=0),h+=s.vx,s.vy+=2,s.vy>18&&(s.vy=18);var V=(e+=s.vy)+31>>5,$=this.maps.map_bg[h>>5][V],Q=this.maps.map_bg[h+31>>5][V];($>=20||Q>=20)&&(e=32*V-32,1==s.muki?s.c=605:s.c=600,s.c1=15),e>=this.ochiru_y&&(s.c=0),s.vy<4?s.pt=155:s.pt=156,s.pth=s.muki;break;case 700:this.yachamo_cf||(s.c1>0?(s.c1++,2==s.c1?h+8>=this.co_j.x?this.mSet(h,e,300):this.mSet(h,e,305):s.c1>40&&(s.c1=0)):this.co_j.x>=h-256&&this.co_j.x<=h+192&&Math.abs(this.co_j.x-h)>=96&&(s.c1=1)),s.pt=158,h+8>=this.co_j.x?s.pth=0:s.pth=1;break;case 800:s.c1>0?(s.c1++,2==s.c1?h+8>=this.co_j.x?this.mSet(h,e,400):this.mSet(h,e,405):s.c1>20&&(s.c=810,s.c1=0)):s.c1<0?s.c1++:this.co_j.x>=h-240&&this.co_j.x<=h+240&&(s.c1=1),s.pt=160,h+8>=this.co_j.x?s.pth=0:s.pth=1;break;case 810:s.c1<=0?((h+=3)>=s.c3+96&&(h=s.c3+96,s.c1=10),this.maps.getBGCode(h+31,e+32)<=9&&(h=32*(h+31>>5)-32,s.c1=10),s.pt=161+this.g_ac,s.pth=1):s.c1<=35?(s.c1++,15==s.c1&&(h+8>=this.co_j.x?this.mSet(h,e,400):this.mSet(h,e,405)),s.pt=160,h+8>=this.co_j.x?s.pth=0:s.pth=1):((h-=3)<=s.c3&&(h=s.c3,s.c=800,s.c1=-20),this.maps.getBGCode(h,e+32)<=9&&(h=32*(h>>5)+32,s.c=800,s.c1=-20),s.pt=161+this.g_ac,s.pth=0);break;case 900:(h-=4)<48?h<=4&&(s.c=0):(s.c1++,1==s.c1?this.mSet(h,e+19,600):s.c1>26&&(s.c1=0),this.maps.getBGCode(h,e+31)>=20&&(h=32*(h>>5)+32,s.c=910)),s.pt=164,s.pth=0;break;case 910:s.pt=164,s.pth=0;break;case 950:(h-=4)<48?h<=4&&(s.c=0):(s.c1++,1==s.c1?this.mSet(h,e+19,600):s.c1>26&&(s.c1=0),this.maps.getBGCode(h-16,e+31)>=20&&(h=32*(h-16>>5)+32+16,s.c=960,s.c1=16)),s.pt=164,s.pth=0;break;case 960:h+=4,s.c1++,1==s.c1?this.mSet(h,e+19,605):s.c1>26&&(s.c1=0),this.maps.getBGCode(h+31+16,e+31)>=20&&(h=32*(h+31+16>>5)-32-16,s.c=950,s.c1=16),s.pt=164,s.pth=1;break;case 1e3:(h-=3)<=s.c3-256+16&&(s.c=1005),(this.maps.getBGCode(h-16,e)>=20||this.maps.getBGCode(h-16,e+31)>=20)&&(h=32*(h-16>>5)+32+16,s.c=1005),s.pt=166,s.pth=0;break;case 1005:(h+=3)>=s.c3+16&&(s.c=1e3),(this.maps.getBGCode(h+31+16,e)>=20||this.maps.getBGCode(h+31+16,e+31)>=20)&&(h=32*(h+31+16>>5)-32-16,s.c=1e3),s.pt=166,s.pth=1;break;case 1100:s.c1>0?(s.c1++,s.c1>77&&(s.c1=0)):Math.abs(this.co_j.x-h)<=144&&Math.abs(this.co_j.y-e)<=144&&(s.c1=1,this.mSet2(h,e,700,-3,-3),this.mSet2(h,e,700,3,-3),this.mSet2(h,e,700,-3,3),this.mSet2(h,e,700,3,3),this.mSet2(h,e,700,-4,0),this.mSet2(h,e,700,4,0),this.mSet2(h,e,700,0,-4),this.mSet2(h,e,700,0,4)),s.pt=167,h+8>=this.co_j.x?s.pth=0:s.pth=1}if(s.c<100)s.x=h,s.y=e;else{var tt=Math.abs(h-this.co_j.x);tt>=48?(s.x=h,s.y=e):(this.co_j.c>=100&&this.co_j.c<200&&tt<30&&Math.abs(e-this.co_j.y)<23&&(this.j_v_c>0?(1==this.co_j.muki?(s.pth=0,s.vx=3):(s.pth=1,s.vx=-3),s.c=52,s.vy=-30):s.c>=400&&s.c<500||s.c>=1e3&&s.c<1200?this.jShinu(2):tt<27&&this.co_j.vy>0&&!this.j_mizu_f||t?(s.c<200?s.pt=142:s.c<300?s.pt=146:s.c<400?s.pt=151:s.c<600?s.pt=149:s.c<700?s.pt=157:s.c<800?s.pt=159:s.c<900?s.pt=163:s.c<1e3&&(s.pt=165),s.c=50,s.c1=0,this.co_j.y=e-12,this.co_j.vy=-160,this.j_jump_type=1,this.co_j.c=110,this.co_j.c1=0,this.co_j.pt=109,149!=s.pt&&165!=s.pt||(this.co_j.vy=-220,s.c1=-2),t=!0):this.jShinu(2)),s.x=h,s.y=e)}}},k.prototype.sakamichiY=function(t,i){var s=t+15>>5,h=i+31>>5,e=i;switch(this.maps.map_bg[s][h]){default:break;case 10:var a=32*h-(t+15)%32;a<i&&(e=a);break;case 11:var c=32*h+(t+15)%32-31;c<i&&(e=c);break;case 12:var _=32*h-((t+15)%32>>1);_<i&&(e=_);break;case 13:var o=32*h-((t+15)%32>>1)-16;o<i&&(e=o);break;case 14:var r=32*h+((t+15)%32>>1)-31;r<i&&(e=r);break;case 15:var p=32*h+((t+15)%32>>1)-15;p<i&&(e=p)}return e},k.prototype.mSet=function(t,i,s){for(var e=0;e<=23;e++)if(!(this.co_m[e].c>0)){var a=this.co_m[e];switch(a.c=s,a.x=t,a.y=i,a.c1=0,this.m_kazu++,s){case 90:a.c2=4,a.vx=0,a.vy=0;break;case 100:var c=this.co_j.x-t,_=this.co_j.y-i,o=Math.floor(Math.sqrt(c*c+_*_));o<48?(this.m_kazu--,a.c=0):(a.vx=Object(h.d)(14*c/o),a.vy=Object(h.d)(14*_/o),a.x+=Object(h.d)(16*a.vx/14),a.y+=Object(h.d)(16*a.vy/14)),!this.dengeki_mkf&&a.c>0&&4==this.maps.getBGCode(a.x+15,a.y+15)&&(this.m_kazu--,a.c=0);break;case 200:a.vx=-4-this.ranInt(6),a.vy=-22,a.x+=a.vx,a.y+=a.vy;break;case 205:a.c=200,a.vx=4+this.ranInt(6),a.vy=-22,a.x+=a.vx,a.y+=a.vy;break;case 300:a.vx=-12,a.x+=a.vx;break;case 305:a.c=300,a.vx=12,a.x+=a.vx;break;case 400:a.vx=-80,a.vy=-225;break;case 405:a.c=400,a.vx=80,a.vy=-225;break;case 500:a.vx=-4,a.vy=-22;break;case 600:a.vx=-40,a.vy=0;break;case 605:a.c=600,a.vx=40,a.vy=0;break;case 2e3:a.c3=i,a.vy=-210;break;case 2010:a.c=2e3,a.c3=i-64,a.vy=-280;break;case 2020:a.c=2e3,a.c3=i-32,a.vy=-250;break;case 2100:a.c2=0;break;case 2110:a.c=2100,a.c2=1;break;case 2120:a.c=2100,a.c2=2;break;case 2130:a.c=2100,a.c2=3;break;case 2140:a.c=2100,a.c2=4;break;case 2150:a.c=2100,a.c2=5;break;case 2160:a.c=2100,a.c2=6;break;case 2170:a.c=2100,a.c2=7;break;case 2180:a.c=2100,a.c2=8}break}},k.prototype.mSet2=function(t,i,s,h,e){for(var a=0;a<=23;a++)if(!(this.co_m[a].c>0)){var c=this.co_m[a];switch(c.c=s,c.x=t,c.y=i,c.vx=h,c.vy=e,c.c1=0,this.m_kazu++,s){case 500:c.x+=c.vx;break;case 700:c.c2=0;break;case 710:c.c=700,c.c2=1}break}},k.prototype.mMove=function(){for(var t=0;t<=23;t++)if(0!=this.co_m[t].c){var i=this.co_m[t];switch(i.c){case 50:i.c1++,i.c1<=5?i.pt=80:i.c1<=10?i.pt=81:i.c1<=16?i.pt=82:i.c=0,i.pth=0;break;case 60:i.y-=5;var s=i.y>>5,e=this.maps.map_bg[i.x+11>>5][s];(e<=3||e>=20)&&(i.c=0),((e=this.maps.map_bg[i.x+20>>5][s])<=3||e>=20)&&(i.c=0),8!=(e=this.maps.map_bg[i.x+15>>5][s])&&9!=e||4==this.maps.map_bg[(i.x+15>>5)-1][s]||(i.c=0),(i.x<=this.maps.wx-32||i.x>=this.maps.wx+512)&&(i.c=0),(i.y<=this.maps.wy-32||i.y>=this.maps.wy+320)&&(i.c=0),i.pt=85,i.pth=0;break;case 70:switch(i.c1++,i.c1){case 1:i.c2=20;break;case 2:i.c2=34;break;case 3:i.c2=46;break;case 4:i.c2=56;break;case 5:i.c2=64;break;case 6:i.c2=70;break;case 7:i.c2=74;break;case 8:i.c2=77;break;case 9:i.c2=79;break;case 10:i.c2=80}if(i.c1>10&&(i.c2=10,i.c=0),this.co_j.c>=100&&this.co_j.c<200){var a=this.co_j.x-i.x,c=this.co_j.y-i.y;Math.floor(Math.sqrt(a*a+c*c))<=i.c2+4&&this.j_v_c<=0&&this.jShinu(1)}i.pt=1100,i.pth=0;break;case 80:i.vy>=5&&(i.vx>2?i.vx--:i.vx<-2&&i.vx++),i.x+=i.vx,i.vy+=4,i.vy>30&&(i.vy=30),i.y+=i.vy,i.y>=this.maps.wy+320&&(i.c=0),i.pt=136,i.vx<0?i.pth=0:i.pth=1;break;case 90:if(i.c2<48){if(i.c2+=4,i.c2>=48){i.c2=48;var _=this.co_j.x-i.x,o=this.co_j.y-i.y,r=Math.floor(Math.sqrt(_*_+o*o));r<32||this.co_j.c<100||this.co_j.c>=200?(i.x<this.maps.wx+256?i.vx=14:i.vx=-14,i.vy=0):(i.vx=Object(h.d)(14*_/r),i.vy=Object(h.d)(14*o/r))}}else i.x+=i.vx,i.y+=i.vy,i.x<=this.maps.wx-32-32||i.x>=this.maps.wx+512+128+32?i.c=0:(i.y<=this.maps.wy-32-200-32||i.y>=this.maps.wy+320+32)&&(i.c=0);if(this.co_j.c>=100&&this.co_j.c<200){var p=this.co_j.x-i.x,m=this.co_j.y-i.y;Math.floor(Math.sqrt(p*p+m*m))+4<=i.c2&&(this.j_v_c>0?i.c=0:this.jShinu(1))}i.pt=1e3;break;case 100:i.x+=i.vx,i.y+=i.vy;var g=i.x+15>>5;(this.maps.map_bg[g][i.y+12>>5]>=20||this.maps.map_bg[g][i.y+18>>5]>=20)&&(i.c=0),this.dengeki_mkf||4!=this.maps.getBGCode(i.x+15,i.y+15)||(i.c=0),i.x<=this.maps.wx-32||i.x>=this.maps.wx+512+128?i.c=0:(i.y<=this.maps.wy-32-200||i.y>=this.maps.wy+320)&&(i.c=0),0==this.g_c1?(i.pt=120,i.pth=0):(i.pt=121,i.pth=0);break;case 200:i.x+=i.vx,i.vy+=2,i.vy>12&&(i.vy=12);var n=i.vy;switch(n<-18&&(n=-18),i.y+=n,i.y>=this.maps.wy+320&&(i.c=0),this.g_c2){case 0:i.pt=122;break;case 1:i.pt=123;break;case 2:i.pt=124;break;case 3:i.pt=125}i.pth=0;break;case 300:i.x+=i.vx;var y=i.y+15>>5;(this.maps.map_bg[i.x+8>>5][y]>=20||this.maps.map_bg[i.x+23>>5][y]>=20)&&(i.c=0),(i.x<=this.maps.wx-32||i.x>=this.maps.wx+512+128)&&(i.c=0),0==this.g_c1?i.pt=126:i.pt=127,i.vx<=0?i.pth=0:i.pth=1;break;case 400:i.x+=Object(h.d)(i.vx/10),i.vy+=25,i.vy>180&&(i.vy=180),i.y+=Object(h.d)(i.vy/10),i.y>=this.maps.wy+320&&(i.c=0);var j=i.x+15>>5;this.maps.map_bg[j][i.y+15>>5]>=20&&(i.c=0),0==this.g_c1?i.pt=128:i.pt=129,i.vx<=0?i.pth=0:i.pth=1;break;case 500:i.vy>=5&&(i.vx>2?i.vx--:i.vx<-2&&i.vx++),i.x+=i.vx,i.vy+=2,i.vy>12&&(i.vy=12);var d=i.vy;d<-16&&(d=-16),i.y+=d,i.y>=this.maps.wy+320&&(i.c=0),i.pt=139,i.pth=0;break;case 600:i.vx>0?i.vx-=2:i.vx<0&&(i.vx+=2),i.x+=Object(h.d)(i.vx/10),i.vy+=8,i.vy>200&&(i.vy=200),i.y+=Object(h.d)(i.vy/10),this.maps.map_bg[i.x+15>>5][i.y+15>>5]>=20&&(i.c=610,i.c1=0,i.y=32*(i.y+15>>5)-16),i.x<=this.maps.wx-32-64||i.x>=this.maps.wx+512+64?i.c=0:(i.y<=this.maps.wy-32-200||i.y>=this.maps.wy+320)&&(i.c=0),i.vx>28?(i.pt=171,i.pth=1):i.vx<-28?(i.pt=171,i.pth=0):(i.pt=170,i.pth=0);break;case 610:i.c1++,i.c1<=3?i.pt=172:i.c1<=6?i.pt=173:i.c1<=9?i.pt=174:(i.c=0,i.pt=198),i.pth=0;break;case 700:i.x+=i.vx,i.y+=i.vy,i.x<=this.maps.wx-32||i.x>=this.maps.wx+512+32?i.c=0:(i.y<=this.maps.wy-64||i.y>=this.maps.wy+320+64)&&(i.c=0);var x=this.maps.getBGCode(i.x+15,i.y+15);0==i.c2&&x>=20&&(i.c=0),0==i.c2&&x<=3&&(i.c=0),i.pt=168+this.g_c1,i.pth=0;break;case 800:i.vy>=5&&(i.vx>2?i.vx--:i.vx<-2&&i.vx++),i.x+=i.vx,i.vy+=4,i.vy>28&&(i.vy=28),i.y+=i.vy,i.y>=this.maps.wy+320&&(i.c=0),this.maps.getBGCode(i.x+15,i.y+31)>=20&&(i.c=70,i.y=32*(i.y+31>>5)-16,i.c1=1,i.c2=20),i.pt=137+this.g_c1,i.vx<0?i.pth=0:i.pth=1;break;case 2e3:i.vy+=30,i.vy>180&&(i.vy=180),i.y+=Object(h.d)(i.vy/10),i.vy>=0&&i.y>=i.c3&&(i.y=i.c3,i.vy=0),(i.x<=this.maps.wx-32||i.x>=this.maps.wx+512)&&(i.c=0),i.pt=90+this.g_ac2,i.pth=0;break;case 2100:(i.x<=this.maps.wx-32||i.x>=this.maps.wx+512)&&(i.c=0),i.pt=42+i.c2,8==i.c2&&(i.pt=59),i.pth=0;break;case 2200:i.x<this.maps.wx?i.x=this.maps.wx:i.x>this.maps.wx+512-32&&(i.x=this.maps.wx+512-32),i.y<this.maps.wy+64?i.y=this.maps.wy+64:i.y>this.maps.wy+224&&(i.y=this.maps.wy+224),this.stage_max>=2&&this.stage>=this.stage_max?0==this.g_ac2?i.pt=99:i.pt=98:0==this.g_ac2?i.pt=95:i.pt=94,i.pth=0}0==i.c?this.m_kazu--:this.co_j.c>=100&&this.co_j.c<200&&(i.c>=2e3?Math.abs(i.x-this.co_j.x)<=14&&i.y<=this.co_j.y+26&&i.y+15>=this.co_j.y&&(this.addScore(5),2100==i.c?0==i.c2?this.j_fire_f=!0:1==i.c2?(this.j_v_c=150,this.j_v_kakudo=0):2==i.c2?this.time_max>0&&(this.time+=3e4):3==i.c2?this.j_jet_fuel+=80:4==i.c2?this.j_helm_f=!0:5==i.c2?this.j_tail_f=!0:6==i.c2?this.j_drell_f=!0:7==i.c2?this.j_gr_kazu++:8==i.c2&&this.j_left++:2200==i.c&&(this.stage_cc=1,this.stage_max>=2&&this.stage>=this.stage_max?this.addScore(995):this.addScore(95)),i.c=0,this.m_kazu--):i.c>=100&&Math.abs(i.x-this.co_j.x)<=23&&Math.abs(i.y-this.co_j.y)<=28&&(this.j_v_c>0?(i.c=0,this.m_kazu--):(this.jShinu(1),800==i.c&&(i.c=70,i.c1=1,i.c2=20))))}},k.prototype.jmSet=function(t,i,s){for(var e=0;e<=1;e++)if(!(this.co_jm[e].c>0)){var a=this.co_jm[e];switch(a.c=s,a.x=t,a.y=i+8,a.c1=0,this.jm_kazu++,s){case 60:case 65:a.x=t+16,a.y=i,a.vx=t+16,a.c4=8,this.j_gr_kazu--;break;case 100:a.vx=Object(h.d)(this.co_j.vx/10)-10,a.vy=-28,Math.abs(a.vx)<2&&(a.vx=-2);break;case 105:a.vx=Object(h.d)(this.co_j.vx/10)+10,a.vy=-28,Math.abs(a.vx)<2&&(a.vx=2);break;case 200:a.vx=Object(h.d)(this.co_j.vx/10)-10,a.vy=-32,Math.abs(a.vx)<2&&(a.vx=-2),5!=this.grenade_type&&6!=this.grenade_type||(a.y=i,a.vx=-20,a.vy=0),this.j_gr_kazu--;break;case 205:a.c=200,a.vx=Object(h.d)(this.co_j.vx/10)+10,a.vy=-35,Math.abs(a.vx)<2&&(a.vx=2),5!=this.grenade_type&&6!=this.grenade_type||(a.y=i,a.vx=20,a.vy=0),this.j_gr_kazu--}break}},k.prototype.jmMove=function(){for(var t=0;t<=1;t++)if(0!=this.co_jm[t].c){var i=this.co_jm[t];switch(i.c){case 50:switch(i.c1++,i.c1){case 1:i.c2=20;break;case 2:i.c2=34;break;case 3:i.c2=46;break;case 4:i.c2=56;break;case 5:i.c2=64;break;case 6:i.c2=70;break;case 7:i.c2=74;break;case 8:i.c2=77;break;case 9:i.c2=79;break;case 10:i.c2=80}i.c1>10&&(i.c2=10,i.c=0);for(var s=0;s<=this.t_kazu;s++)if(this.co_t[s].c>=100){var h=this.co_t[s],e=h.x-i.x,a=h.y-i.y;Math.floor(Math.sqrt(e*e+a*a))<=i.c2+8&&(i.x>h.x?(h.pth=1,h.vx=-3):(h.pth=0,h.vx=3),h.c=52,h.vy=-25)}if((1==this.grenade_type||5==this.grenade_type)&&this.co_b.c>=100){var c=this.co_b.x-i.x,_=this.co_b.y-i.y;Math.floor(Math.sqrt(c*c+_*_))<=i.c2+20&&this.co_b.killGrenade(this,i.x>this.co_b.x?1:0)}i.pt=1e3,i.pth=0;break;case 60:i.y=this.co_j.y,i.x-=28,i.x<=this.maps.wx-32&&(i.x=this.maps.wx-32),i.c4>0?(i.c4--,i.vx=this.co_j.x+16):(i.vx-=28,i.vx<=i.x&&(i.c=0));for(var o=0;o<=this.t_kazu;o++)if(this.co_t[o].c>=100){var r=this.co_t[o];r.x>i.x-12&&r.x<i.vx+12&&Math.abs(r.y-i.y)<24&&(r.pth=0,r.vx=-3,r.c=52,r.vy=-25)}3==this.grenade_type&&this.co_b.c>=100&&this.co_b.x>i.x-24&&this.co_b.x<i.vx+24&&Math.abs(this.co_b.y-i.y)<36&&this.co_b.killGrenade(this,1),(this.co_j.c<100||this.co_j.c>=200)&&(i.c=0),i.pt=1200;break;case 65:i.y=this.co_j.y,i.x+=28,i.x>=this.maps.wx+512+32&&(i.x=this.maps.wx+512+32),i.c4>0?(i.c4--,i.vx=this.co_j.x+16):(i.vx+=28,i.vx>=i.x&&(i.c=0));for(var p=0;p<=this.t_kazu;p++)if(this.co_t[p].c>=100){var m=this.co_t[p];m.x>i.vx-12&&m.x<i.x+12&&Math.abs(m.y-i.y)<24&&(m.pth=0,m.vx=3,m.c=52,m.vy=-25)}3==this.grenade_type&&this.co_b.c>=100&&this.co_b.x>i.vx-24&&this.co_b.x<i.x+24&&Math.abs(this.co_b.y-i.y)<36&&this.co_b.killGrenade(this,0),(this.co_j.c<100||this.co_j.c>=200)&&(i.c=0),i.pt=1205;break;case 100:i.x+=i.vx,this.maps.getBGCode(i.x+7,i.y+15)>=20&&(i.c=0),i.vy+=5,i.vy>30&&(i.vy=30),i.y+=i.vy,i.vy<0&&this.maps.getBGCode(i.x+15,i.y+8)>=20&&(i.c=0),this.maps.getBGCode(i.x+15,i.y+23)>=20&&(i.y=32*(i.y+23>>5)-24,i.vy=-28),this.j_fire_mkf||4!=this.maps.getBGCode(i.x+15,i.y+15)||(i.c=0),(i.x<=this.maps.wx-24||i.x>=this.maps.wx+512-8||i.y<=this.maps.wy-128||i.y>=this.maps.wy+384)&&(i.c=0),i.pt=130+this.g_c2,i.pth=0;break;case 105:i.x+=i.vx,this.maps.getBGCode(i.x+23,i.y+15)>=20&&(i.c=0),i.vy+=5,i.vy>30&&(i.vy=30),i.y+=i.vy,i.vy<0&&this.maps.getBGCode(i.x+15,i.y+8)>=20&&(i.c=0),this.maps.getBGCode(i.x+15,i.y+23)>=20&&(i.y=32*(i.y+23>>5)-24,i.vy=-28),this.j_fire_mkf||4!=this.maps.getBGCode(i.x+15,i.y+15)||(i.c=0),(i.x<=this.maps.wx-24||i.x>=this.maps.wx+512-8||i.y<=this.maps.wy-128||i.y>=this.maps.wy+384)&&(i.c=0),i.pt=130+this.g_c2,i.pth=1;break;case 200:i.x+=i.vx,5!=this.grenade_type&&6!=this.grenade_type&&(i.vy+=5,i.vy>30&&(i.vy=30),i.y+=i.vy,i.vy>0&&this.maps.getBGCode(i.x+15,i.y+31)>=20&&(i.c=50,i.y=32*(i.y+31>>5)-16,i.c1=1,i.c2=20)),this.maps.getBGCode(i.x+15,i.y+15)>=20&&(i.c=50,i.c1=1,i.c2=20),(i.x<=this.maps.wx-64||i.x>=this.maps.wx+512+64||i.y<=this.maps.wy-128||i.y>=this.maps.wy+384)&&(i.c=0),i.pt=137+this.g_c1,i.vx<0?i.pth=0:i.pth=1}if(0==i.c)this.jm_kazu--;else if(i.c>=100)for(var g=0;g<=this.t_kazu;g++)if(!(this.co_t[g].c<100)){var n=this.co_t[g];if(!(Math.abs(i.x-n.x)>=22||Math.abs(i.y-n.y)>=22)){i.vx<0?(n.pth=1,n.vx=-3):(n.pth=0,n.vx=3),n.c=52,n.vy=-25,200==i.c?(i.c=50,i.c1=1,i.c2=20):(i.c=0,this.jm_kazu--);break}}}},k.prototype.aSet=function(t,i,s,h){for(var e=0;e<=31;e++)if(!(this.co_a[e].c>0)){var a=this.co_a[e];switch(a.c=s,a.c1=h-512-32,a.c2=h+128,a.x=t,a.y=i,this.a_kazu++,s){case 60:a.pt=200;break;case 70:a.vx=-3,a.c3=0,a.c1=t-512-150,a.c2=t+150;break;case 71:a.c=70,a.vx=3,a.c3=0,a.c1=t-512-150,a.c2=t+150;break;case 80:a.pt=800,a.c3=1;break;case 81:a.c=80,a.pt=800,a.c3=2;break;case 82:a.c=80,a.pt=800,a.c3=3;break;case 83:a.c=80,a.pt=800,a.c3=4;break;case 100:a.vy=5,a.x=t+8,a.y=i-212,a.c3=i-212,a.c4=i+2,a.pt=100;break;case 110:a.vx=-3,a.x=t+208,a.c3=t,a.c4=t+208,a.pt=100,a.c2=h+208+128+32;break;case 115:a.c=110,a.vx=-3,a.x=t+208,a.c3=t,a.c4=t+208,a.pt=100,a.c2=h+208+128+342+32;break;case 116:a.c=110,a.vx=3,a.x=t+320,a.c3=t+320,a.c4=t+208+320,a.pt=100,a.c2=h+208+128+320+32;break;case 120:a.vx=t+160,a.vy=i,a.x=t+8,a.y=i,a.c3=0,a.muki=1,a.c1=a.vx-512-32-130,a.c2=a.vx+128+130,a.pt=100;break;case 121:a.c=120,a.vx=t+160,a.vy=i,a.x=t+8,a.y=i,a.c3=0,a.muki=0,a.c1=a.vx-512-32-130,a.c2=a.vx+128+130,a.pt=100;break;case 300:a.pt=300,a.c3=0,a.c4=0;break;case 310:a.c=300,a.pt=310,a.c3=1,a.c4=0;break;case 320:a.c=300,a.pt=320,a.c3=2,a.c4=0;break;case 330:a.c=300,a.pt=330,a.c3=3,a.c4=0;break;case 400:a.pt=400,a.c3=0,a.vy=i;break;case 500:a.vy=0,a.x=t,a.y=i,a.c3=0,a.c4=0,a.pt=500;break;case 510:a.c=500,a.vy=0,a.x=t,a.y=i,a.c3=0,a.c4=1,a.pt=500;break;case 600:a.pt=600,a.c3=0,a.c4=0,a.vx=0,a.vy=i;break;case 700:a.pt=700,a.c3=0}break}},k.prototype.aMove=function(){this.j_a_id=-1,this.j_jdai_f=!1,this.a_hf=!1;for(var t=0;t<=this.a_kazu;t++){var i=this.co_a[t];if(0!=i.c)if(this.maps.wx<=i.c1||this.maps.wx>=i.c2)i.gf=!1;else{var s=i.x,e=i.y;switch(i.c){case 60:s>this.maps.wx-80&&s<this.maps.wx+512&&e>this.maps.wy-96&&e<this.maps.wy+320?(i.gf=!0,this.a_hf=!0,this.g_c3<=3?i.pt=200:i.pt=210):i.gf=!1;break;case 70:if(i.c3+=i.vx,i.c3<0?i.c3+=360:i.c3>=360&&(i.c3-=360),s>this.maps.wx-150&&s<this.maps.wx+512+150&&e>this.maps.wy-150&&e<this.maps.wy+320+150){i.gf=!0,this.a_hf=!0,i.pt=1100;var a=.017453292519943295,c=s+Math.floor(25*Math.cos(i.c3*a)),_=e+Math.floor(25*Math.sin(i.c3*a));this.vo_x[t][0]=c,this.vo_y[t][0]=_;var o=s+Math.floor(140*Math.cos(i.c3*a)),r=e+Math.floor(140*Math.sin(i.c3*a));if(this.vo_x[t][1]=o,this.vo_y[t][1]=r,this.vo_x[t][2]=s+Math.floor(31*Math.cos(i.c3*a)),this.vo_y[t][2]=e+Math.floor(31*Math.sin(i.c3*a)),this.vo_x[t][3]=s+Math.floor(134*Math.cos(i.c3*a)),this.vo_y[t][3]=e+Math.floor(134*Math.sin(i.c3*a)),this.co_j.c>=100&&this.co_j.c<200&&this.j_v_c<=0)if(Math.abs(c-o)>=Math.abs(_-r)){if(this.co_j.x+15>c&&this.co_j.x+15<o){var p=o-c,m=this.co_j.x+15-c,g=r-_,n=Object(h.d)(m*g/p)+_;n>this.co_j.y-12&&n<this.co_j.y+44&&this.jShinu(1)}else if(this.co_j.x+15>o&&this.co_j.x+15<c){var y=c-o,j=this.co_j.x+15-o,d=_-r,x=Object(h.d)(j*d/y)+r;x>this.co_j.y-12&&x<this.co_j.y+44&&this.jShinu(1)}}else if(this.co_j.y+15>_&&this.co_j.y+15<r){var l=r-_,f=this.co_j.y+15-_,u=o-c,k=Object(h.d)(f*u/l)+c;k>this.co_j.x-12&&k<this.co_j.x+44&&this.jShinu(1)}else if(this.co_j.y+15>r&&this.co_j.y+15<_){var v=_-r,w=this.co_j.y+15-r,b=c-o,I=Object(h.d)(w*b/v)+o;I>this.co_j.x-12&&I<this.co_j.x+44&&this.jShinu(1)}}else i.gf=!1;break;case 80:s>this.maps.wx-32&&s<this.maps.wx+512&&e>this.maps.wy-32&&e<this.maps.wy+320?(i.gf=!0,this.a_hf=!0,this.co_j.x>=s-80&&this.co_j.x<=s+64&&Math.abs(e-this.co_j.y)<32&&(this.hitokoto_c=10,this.hitokoto_num=i.c3)):i.gf=!1;break;case 100:s>this.maps.wx-80-32&&s<this.maps.wx+512+32&&e>this.maps.wy-16&&e<this.maps.wy+320+32?(i.gf=!0,this.a_hf=!0,100==this.co_j.c&&this.co_j.x+15>=s&&this.co_j.x<=s+64&&this.co_j.y==e-32&&(this.j_a_id=t)):i.gf=!1,e<=i.c3?(i.vy++,i.vy>5&&(i.vy=5)):e>=i.c4&&(i.vy--,i.vy<-5&&(i.vy=-5)),e+=i.vy,100==this.co_j.c&&(this.j_a_id==t&&(this.co_j.y=e-32),i.vy<0&&this.maps.getBGCode(this.co_j.x+15,this.co_j.y)>=20&&(this.co_j.y=32*(this.co_j.y>>5)+16,this.jShinu(3)),this.co_j.x+15>=s&&this.co_j.x<=s+64&&this.co_j.y+31>=e&&this.co_j.y<=e+13&&(i.vy>0?(this.co_j.y=e+14,this.maps.getBGCode(this.co_j.x+15,this.co_j.y+31)>=18&&(this.co_j.y=32*(this.co_j.y+31>>5)-32,this.jShinu(3))):(this.co_j.y=e-32,this.j_a_id=t)));break;case 110:if(s>this.maps.wx-80-32&&s<this.maps.wx+512+32&&e>this.maps.wy-16&&e<this.maps.wy+320+32?(i.gf=!0,this.a_hf=!0,100==this.co_j.c&&this.co_j.x+15>=s&&this.co_j.x<=s+64&&this.co_j.y==e-32&&(this.j_a_id=t)):i.gf=!1,s<=i.c3?(i.vx++,i.vx>3&&(i.vx=3)):s>=i.c4&&(i.vx--,i.vx<-3&&(i.vx=-3)),s+=i.vx,100==this.co_j.c){if(this.j_a_id==t)if(this.co_j.x+=i.vx,i.vx>0){var S=this.co_j.x+15>>5,C=this.co_j.y>>5,z=this.co_j.y+31>>5;(this.maps.map_bg[S][C]>=20||this.maps.map_bg[S][z]>=20)&&(this.co_j.x=32*S-16)}else if(i.vx<0){var M=this.co_j.x+15>>5,P=this.co_j.y>>5,B=this.co_j.y+31>>5;(this.maps.map_bg[M][P]>=20||this.maps.map_bg[M][B]>=20)&&(this.co_j.x=32*M+32-14)}if(this.co_j.x+15>=s&&this.co_j.x<=s+64&&this.co_j.y+31>=e&&this.co_j.y<=e+13)if(i.vx>0){this.co_j.x=s+65;var T=this.co_j.x+15>>5,G=this.co_j.y>>5,A=this.co_j.y+31>>5;(this.maps.map_bg[T][G]>=20||this.maps.map_bg[T][A]>=20)&&(this.co_j.c=230,this.co_j.x=32*T-32+11,this.co_j.c1=0,this.j_zan_f=!1,this.j_jet_c=0,this.j_v_c=0)}else{this.co_j.x=s-16;var D=this.co_j.x+15>>5,O=this.co_j.y>>5;this.co_j.y;(this.maps.map_bg[D][O]>=20||this.maps.map_bg[D][O]>=20)&&(this.co_j.c=230,this.co_j.x=32*D+32-11,this.co_j.c1=0,this.j_zan_f=!1,this.j_jet_c=0,this.j_v_c=0)}}break;case 120:s>this.maps.wx-80-32&&s<this.maps.wx+512+32&&e>this.maps.wy-16&&e<this.maps.wy+320+32?(i.gf=!0,this.a_hf=!0,100==this.co_j.c&&this.co_j.x+15>=s&&this.co_j.x<=s+64&&this.co_j.y==e-32&&(this.j_a_id=t)):i.gf=!1,1==i.muki?(i.c3+=2,i.c3>=360&&(i.c3-=360)):(i.c3-=2,i.c3<0&&(i.c3+=360));var L=3.14*i.c3/180,E=i.vx+Math.floor(126*Math.cos(L))+16-40-s,R=i.vy+Math.floor(-126*Math.sin(L))+16-7-e;if(e+=R,100==this.co_j.c&&(this.j_a_id==t&&(this.co_j.y+=R),R<0&&this.maps.getBGCode(this.co_j.x+15,this.co_j.y)>=20&&(this.co_j.y=32*(this.co_j.y>>5)+16,this.jShinu(3)),this.co_j.x+15>=s&&this.co_j.x<=s+64&&this.co_j.y+31>=e&&this.co_j.y<=e+13&&(R>0?(this.co_j.y=e+14,this.maps.getBGCode(this.co_j.x+15,this.co_j.y+31)>=18&&(this.co_j.y=32*(this.co_j.y+31>>5)-32,this.jShinu(3))):(this.co_j.y=e-32,this.j_a_id=t))),s+=E,100==this.co_j.c){if(this.j_a_id==t)if(this.co_j.x+=E,E>0){var N=this.co_j.x+15>>5,W=this.co_j.y>>5,Z=this.co_j.y+31>>5;(this.maps.map_bg[N][W]>=20||this.maps.map_bg[N][Z]>=20)&&(this.co_j.x=32*N-16)}else if(E<0){var F=this.co_j.x+15>>5,Y=this.co_j.y>>5,H=this.co_j.y+31>>5;(this.maps.map_bg[F][Y]>=20||this.maps.map_bg[F][H]>=20)&&(this.co_j.x=32*F+32-14)}if(this.co_j.x+15>=s&&this.co_j.x<=s+64&&this.co_j.y+31>=e&&this.co_j.y<=e+13)if(E>0){this.co_j.x=s+65;var K=this.co_j.x+15>>5,q=this.co_j.y>>5,X=this.co_j.y+31>>5;(this.maps.map_bg[K][q]>=20||this.maps.map_bg[K][X]>=20)&&(this.co_j.c=230,this.co_j.x=32*K-32+11,this.co_j.c1=0,this.j_zan_f=!1,this.j_jet_c=0,this.j_v_c=0)}else{this.co_j.x=s-16;var J=this.co_j.x+15>>5,U=this.co_j.y>>5,V=this.co_j.y+31>>5;(this.maps.map_bg[J][U]>=20||this.maps.map_bg[J][V]>=20)&&(this.co_j.c=230,this.co_j.x=32*J+32-11,this.co_j.c1=0,this.j_zan_f=!1,this.j_jet_c=0,this.j_v_c=0)}}break;case 300:s>this.maps.wx-96&&s<this.maps.wx+512&&e>this.maps.wy-64&&e<this.maps.wy+320?(i.gf=!0,this.a_hf=!0,100==this.co_j.c&&this.co_j.x+15>=s&&this.co_j.x<=s+48&&this.co_j.y==e-32&&(this.j_a_id=t,this.co_j.x+15>=s+24&&this.co_j.x<=s+48-24&&this.co_j.y==e-32&&1!=i.c4&&(0==this.sl_step||1==this.sl_step||10==this.sl_step||11==this.sl_step||2!=this.dokan_mode)&&(this.co_j.c1=-10,this.co_j.c2=i.c3,this.j_zan_f=!1,this.j_jet_c=0,this.j_v_c=0,this.co_j.c=300,this.co_j.x=s+16,this.co_j.y=e-32,this.co_j.vx=0,this.co_j.vy=0,i.c4=1)),100==this.co_j.c&&this.j_a_id!=t&&(i.c4=0)):i.gf=!1;break;case 400:s>this.maps.wx-96&&s<this.maps.wx+512&&e>this.maps.wy-64&&e<this.maps.wy+320?(i.gf=!0,this.a_hf=!0,100==this.co_j.c&&this.co_j.x+15>=s&&this.co_j.x<=s+80&&this.co_j.y==e-32&&(this.j_a_id=t)):i.gf=!1,0==i.c3?s-64<this.co_j.x+15&&s+96+64>this.co_j.x+15&&(i.c3=1):i.c3<100?(i.c3++,i.c3>8&&(i.c3=100)):100==i.c3?(e+=12)>=i.vy+128&&(e=i.vy+128,i.c3=200):200==i.c3&&(e-=3)<=i.vy&&(e=i.vy,i.c3=0,s<=this.co_j.x+15&&s+96>this.co_j.x+15&&(i.c3=100)),100==this.co_j.c&&(this.j_a_id==t&&(this.co_j.y=e-32,200==i.c3&&this.maps.getBGCode(this.co_j.x+15,this.co_j.y)>=20&&(this.co_j.y=32*(this.co_j.y>>5)+16,this.jShinu(3))),this.co_j.x+15>=s&&this.co_j.x<=s+80&&this.co_j.y+31>=e&&this.co_j.y<=e+63&&(100==i.c3?(this.co_j.y=e+64,this.maps.getBGCode(this.co_j.x+15,this.co_j.y+31)>=18&&(this.co_j.y=32*(this.co_j.y+31>>5)-32,this.jShinu(3))):200==i.c3&&(this.co_j.y=e-32,this.j_a_id=t,this.maps.getBGCode(this.co_j.x+15,this.co_j.y)>=20&&(this.co_j.y=32*(this.co_j.y>>5)+16,this.jShinu(3)))));break;case 500:s>this.maps.wx-96-32&&s<this.maps.wx+512+32&&e>this.maps.wy-32&&e<=this.maps.wy+368?(i.gf=!0,this.a_hf=!0,100==this.co_j.c&&this.co_j.x+15>=s&&this.co_j.x<=s+80&&this.co_j.y==e-32?(this.j_a_id=t,1==i.c4?i.c3<50&&(i.c3<=0?i.c3=1:i.c3<=30?i.c3++:(i.c3=55,i.vy=0)):i.c3<=0&&(i.c3=51,i.vy=0)):1==i.c4&&i.c3<50&&(i.c3=0)):i.gf=!1,i.c3>0&&(i.c3>=51&&i.c3<=54?i.c3++:i.c3>=55&&i.c3<100&&(i.vy<16&&i.vy++,e+=i.vy,this.maps.getBGCode(s+32,e+13)>=20&&(e=32*(e+13>>5)-14,i.c3=100),e>=this.ochiru_y+48&&(i.c=0,i.gf=!1))),100==this.co_j.c&&this.j_a_id==t&&(this.co_j.y=e-32);break;case 600:if(s>this.maps.wx-96&&s<this.maps.wx+512&&e>this.maps.wy-64&&e<this.maps.wy+320?(i.gf=!0,this.a_hf=!0,100==this.co_j.c&&this.co_j.x+15>=s&&this.co_j.x<=s+48&&this.co_j.y==e+16-32&&(this.j_a_id=t)):i.gf=!1,i.pt=600,i.c3<=0?(i.vx=0,this.j_a_id==t&&(i.c3=100,i.c4=0,i.vx=2),this.co_j.x>=s-144&&(i.pt=605)):100==i.c3?(i.c1=s-512-32,i.c2=s+128,this.j_a_id!=t?(i.c4++,i.c4>50&&(i.c3=0)):i.c4=0,i.pt=605):200==i.c3&&(i.pt=605,i.vx=0),s+=i.vx,(this.maps.getBGCode(s+63+16,e)>=20||this.maps.getBGCode(s+63+16,e+32)>=20)&&(s=32*(s+63+16>>5)-64-16,i.vx=s-i.x,i.c3=200),100==this.co_j.c){if(this.j_a_id==t&&(this.co_j.x+=i.vx,i.vx>0)){var $=this.co_j.x+15>>5,Q=this.co_j.y>>5,tt=this.co_j.y+31>>5;(this.maps.map_bg[$][Q]>=20||this.maps.map_bg[$][tt]>=20)&&(this.co_j.x=32*$-16)}this.co_j.x+15>=s&&this.co_j.x<=s+48&&this.co_j.y+31>=e+16&&this.co_j.y<=e+47&&(this.co_j.x=s+49)}break;case 700:s>this.maps.wx-96&&s<this.maps.wx+512&&e>this.maps.wy-64&&e<this.maps.wy+320?(i.gf=!0,this.a_hf=!0,100==this.co_j.c&&this.co_j.x+15>=s&&this.co_j.x<=s+16&&(i.c3>=1&&i.c3<=2&&this.co_j.y==e-32+10?this.j_a_id=t:i.c3>=3&&i.c3<=4&&this.co_j.y==e-32+16?this.j_a_id=t:i.c3>=5&&i.c3<=6&&this.co_j.y==e-32+10?this.j_a_id=t:this.co_j.y==e-32&&(this.j_a_id=t))):i.gf=!1,this.j_a_id==t?(this.co_j.vx=0,this.co_j.vy=0,this.co_j.x=s,this.j_jdai_f=!0,i.c3++,i.c3<=2?(i.pt=710,this.co_j.y=e-32+10):i.c3<=4?(i.pt=720,this.co_j.y=e-32+16):i.c3<=6?(i.pt=710,this.co_j.y=e-32+10):i.c3>=7&&(i.pt=700,this.co_j.y=e-32,i.c3=0,this.j_a_id=-1,this.j_jump_type=4,this.co_j.pt=101,this.co_j.ac=0,this.co_j.vy=-255,this.j_jump_level=1,4==this.maps.getBGCode(s,e)&&(this.co_j.vy=-75))):(i.c3=0,i.pt=700)}if(this.jm_kazu>0)for(var it=0;it<=1;it++)if(this.co_jm[it].c>=100){var st=this.co_jm[it];i.c<200?st.x+15>=s&&st.x<=s+64&&st.y+29>=e&&st.y+2<=e+13&&(200==st.c?(st.c=50,st.y=e-8,st.c1=1,st.c2=20):(st.c=0,this.jm_kazu--)):300==i.c?st.x+15>=s&&st.x<=s+48&&st.y+29>=e&&st.y+2<=e+31&&(200==st.c?(st.c=50,st.c1=1,st.c2=20):(st.c=0,this.jm_kazu--)):400==i.c?st.x+15>=s&&st.x<=s+80&&st.y+29>=e&&st.y+2<=e+63&&(200==st.c?(st.c=50,st.c1=1,st.c2=20):(st.c=0,this.jm_kazu--)):500==i.c&&st.x+15>=s&&st.x<=s+80&&st.y+29>=e&&st.y+2<=e+13&&(200==st.c?(st.c=50,st.y=e-8,st.c1=1,st.c2=20):(st.c=0,this.jm_kazu--))}i.x=s,i.y=e}}},k.prototype.bMove=function(){this.co_b.update(this)},k.prototype.hSet=function(t,i,s){for(var h=0;h<=63;h++)if(!(this.co_h[h].c>0)){var e=this.co_h[h];e.c=s,e.x=t,e.y=i;break}},k.prototype.hAttack=function(t,i){for(var s=0;s<=63;s++){var h=this.co_h[s];if(0!=h.c&&h.x==t&&h.y==i){switch(h.c){case 100:this.mSet(32*t,32*i-32,2e3);break;case 200:this.mSet(32*t,32*i-32,2010),this.mSet(32*t,32*i-32,2020),this.mSet(32*t,32*i-32,2e3);break;case 300:this.mSet(32*t,32*i-32,2100);break;case 400:this.mSet(32*t,32*i-32,2110);break;case 500:this.mSet(32*t,32*i-32,2120);break;case 600:this.mSet(32*t,32*i-32,2130);break;case 700:this.mSet(32*t,32*i-32,2140);break;case 800:this.mSet(32*t,32*i-32,2150);break;case 900:this.mSet(32*t,32*i-32,2160);break;case 1e3:this.mSet(32*t,32*i-32,2170);break;case 1100:this.mSet(32*t,32*i-32,2180),this.stage_1up_f[this.stage-1]=!1}this.maps.putBGCode(t,i,41),h.c=0;break}}},s.d(i,"a",function(){return v}),v.prototype.__repaint=function(){this.update(this.__appimg.getGraphics()),this.__canvas.getContext("2d").drawImage(this.__appimg._dat,0,0)},v.prototype.init=function(){},v.prototype.start=function(){null==this.th&&(this.th=1);var t=this.getParameter("game_speed");this.th_interval=parseInt(t),isNaN(this.th_interval)&&(this.th_interval=70),this.th_interval<1?this.th_interval=1:this.th_interval>300&&(this.th_interval=300),this.th_jm=10},v.prototype.stop=function(){null!=this.th&&(this.th=null)},v.prototype.destroy=function(){},v.prototype.paint=function(t){t.drawImage(this.gg.os_img,0,0,this)},v.prototype.update=function(t){this.paint(t)},v.prototype.run=function(){if(10==this.th_jm)this.init_j(),this.mp.start(),this.th_jm-=1,70;else if(6==this.th_jm){var t=0;this.gg.apt_img._loaded?t=1:this.gg.apt_img._error&&(t=2),0!=t&&(this.th_jm-=1)}else 2==this.th_jm?(this.gg.cut(),this.th_jm-=1,70):this.th_jm>=2?(this.th_jm-=1,70):(100==this.mp.ml_mode?this.mp.mL100():this.mp.mainLoop(),this.userSub(this.gg.os_g,this.gg.os_img));this.__repaint()},v.prototype.init_j=function(){this.gg=new r(this),this.gg.setBackcolor(_.black);var t,i=this.getParameter("filename_title");if(this.gg.addListImage(0,i),i=this.getParameter("filename_ending"),this.gg.addListImage(1,i),i=this.getParameter("filename_gameover"),this.gg.addListImage(2,i),i=this.getParameter("stage_select"),t=parseInt(i),isNaN(t)&&(t=-1),2==t){var s=this.getParameter("filename_chizu");this.gg.addListImage(3,s)}this.gg.loadImage(),this.gm=new m;var e=this.gm;this.__canvas.addEventListener("mousedown",function(t){t.stopImmediatePropagation(),h.b.focus.focus(this),function(t,i){t.mousePressed(i)}(e,t)}.bind(this)),this.__canvas.addEventListener("mouseup",function(t){!function(t,i){t.mouseReleased(i)}(e,t)}),this.gk=new p;var a=this.gk,c=function(t){h.b.focus.hasFocus(this)&&function(t,i){t.keyPressed(i)}(a,t)}.bind(this);document.addEventListener("keydown",c),this.__game.__resourceList.push({type:"eventListener",target:document,name:"keydown",value:c}),c=function(t){h.b.focus.hasFocus(this)&&function(t,i){t.keyReleased(i)}(a,t)}.bind(this),document.addEventListener("keyup",c),this.__game.__resourceList.push({type:"eventListener",target:document,name:"keyup",value:c}),this.mp=new k(this.gg,this.gm,this.gk),this.mp.addHighscoreEvent(this.options.highscoreCallback),this.userInit()},v.prototype.userInit=function(){},v.prototype.userSub=function(t,i){},v.prototype.getImage=function(t){var i=new e;return i.load(t),i},v.prototype.createImage=function(t,i){return new e(t,i)},v.prototype.getParameter=function(t){var i=(t+"").toLowerCase();return void 0===this.params[i]?null:this.params[i]+""}},function(t,i,s){"use strict";s.r(i);var h=s(0);window.CanvasMasao={Game:h.b},window.JSMasao=h.b},function(t,i,s){(function(t){var h=void 0!==t&&t||"undefined"!=typeof self&&self||window,e=Function.prototype.apply;function a(t,i){this._id=t,this._clearFn=i}i.setTimeout=function(){return new a(e.call(setTimeout,h,arguments),clearTimeout)},i.setInterval=function(){return new a(e.call(setInterval,h,arguments),clearInterval)},i.clearTimeout=i.clearInterval=function(t){t&&t.close()},a.prototype.unref=a.prototype.ref=function(){},a.prototype.close=function(){this._clearFn.call(h,this._id)},i.enroll=function(t,i){clearTimeout(t._idleTimeoutId),t._idleTimeout=i},i.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},i._unrefActive=i.active=function(t){clearTimeout(t._idleTimeoutId);var i=t._idleTimeout;i>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},i))},s(5),i.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,i.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,s(1))},function(t,i,s){(function(t,i){!function(t,s){"use strict";if(!t.setImmediate){var h,e,a,c,_,o=1,r={},p=!1,m=t.document,g=Object.getPrototypeOf&&Object.getPrototypeOf(t);g=g&&g.setTimeout?g:t,"[object process]"==={}.toString.call(t.process)?h=function(t){i.nextTick(function(){y(t)})}:!function(){if(t.postMessage&&!t.importScripts){var i=!0,s=t.onmessage;return t.onmessage=function(){i=!1},t.postMessage("","*"),t.onmessage=s,i}}()?t.MessageChannel?((a=new MessageChannel).port1.onmessage=function(t){y(t.data)},h=function(t){a.port2.postMessage(t)}):m&&"onreadystatechange"in m.createElement("script")?(e=m.documentElement,h=function(t){var i=m.createElement("script");i.onreadystatechange=function(){y(t),i.onreadystatechange=null,e.removeChild(i),i=null},e.appendChild(i)}):h=function(t){setTimeout(y,0,t)}:(c="setImmediate$"+Math.random()+"$",_=function(i){i.source===t&&"string"==typeof i.data&&0===i.data.indexOf(c)&&y(+i.data.slice(c.length))},t.addEventListener?t.addEventListener("message",_,!1):t.attachEvent("onmessage",_),h=function(i){t.postMessage(c+i,"*")}),g.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var i=new Array(arguments.length-1),s=0;s<i.length;s++)i[s]=arguments[s+1];var e={callback:t,args:i};return r[o]=e,h(o),o++},g.clearImmediate=n}function n(t){delete r[t]}function y(t){if(p)setTimeout(y,0,t);else{var i=r[t];if(i){p=!0;try{!function(t){var i=t.callback,h=t.args;switch(h.length){case 0:i();break;case 1:i(h[0]);break;case 2:i(h[0],h[1]);break;case 3:i(h[0],h[1],h[2]);break;default:i.apply(s,h)}}(i)}finally{n(t),p=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,s(1),s(6))},function(t,i){var s,h,e=t.exports={};function a(){throw new Error("setTimeout has not been defined")}function c(){throw new Error("clearTimeout has not been defined")}function _(t){if(s===setTimeout)return setTimeout(t,0);if((s===a||!s)&&setTimeout)return s=setTimeout,setTimeout(t,0);try{return s(t,0)}catch(i){try{return s.call(null,t,0)}catch(i){return s.call(this,t,0)}}}!function(){try{s="function"==typeof setTimeout?setTimeout:a}catch(t){s=a}try{h="function"==typeof clearTimeout?clearTimeout:c}catch(t){h=c}}();var o,r=[],p=!1,m=-1;function g(){p&&o&&(p=!1,o.length?r=o.concat(r):m=-1,r.length&&n())}function n(){if(!p){var t=_(g);p=!0;for(var i=r.length;i;){for(o=r,r=[];++m<i;)o&&o[m].run();m=-1,i=r.length}o=null,p=!1,function(t){if(h===clearTimeout)return clearTimeout(t);if((h===c||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(t);try{h(t)}catch(i){try{return h.call(null,t)}catch(i){return h.call(this,t)}}}(t)}}function y(t,i){this.fun=t,this.array=i}function j(){}e.nextTick=function(t){var i=new Array(arguments.length-1);if(arguments.length>1)for(var s=1;s<arguments.length;s++)i[s-1]=arguments[s];r.push(new y(t,i)),1!==r.length||p||_(n)},y.prototype.run=function(){this.fun.apply(null,this.array)},e.title="browser",e.browser=!0,e.env={},e.argv=[],e.version="",e.versions={},e.on=j,e.addListener=j,e.once=j,e.off=j,e.removeListener=j,e.removeAllListeners=j,e.emit=j,e.prependListener=j,e.prependOnceListener=j,e.listeners=function(t){return[]},e.binding=function(t){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(t){throw new Error("process.chdir is not supported")},e.umask=function(){return 0}}]);