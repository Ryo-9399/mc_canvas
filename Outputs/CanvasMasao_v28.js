!function(){var t={8257:function(t,i,s){var h=s(9212),e=s(5637),a=TypeError;t.exports=function(t){if(h(t))return t;throw a(e(t)+" is not a function")}},1186:function(t,i,s){var h=s(2097),e=s(5637),a=TypeError;t.exports=function(t){if(h(t))return t;throw a(e(t)+" is not a constructor")}},9882:function(t,i,s){var h=s(9212),e=String,a=TypeError;t.exports=function(t){if("object"==typeof t||h(t))return t;throw a("Can't set "+e(t)+" as a prototype")}},6288:function(t,i,s){var h=s(3649),e=s(3590),a=s(4615).f,c=h("unscopables"),o=Array.prototype;null==o[c]&&a(o,c,{configurable:!0,value:e(null)}),t.exports=function(t){o[c][t]=!0}},6733:function(t,i,s){"use strict";var h=s(6389).charAt;t.exports=function(t,i,s){return i+(s?h(t,i).length:1)}},2569:function(t,i,s){var h=s(794),e=String,a=TypeError;t.exports=function(t){if(h(t))return t;throw a(e(t)+" is not an object")}},3579:function(t,i,s){"use strict";var h=s(1324),e=s(6782),a=s(1825);t.exports=function(t){for(var i=h(this),s=a(i),c=arguments.length,o=e(c>1?arguments[1]:void 0,s),r=c>2?arguments[2]:void 0,_=void 0===r?s:e(r,s);_>o;)i[o++]=t;return i}},5513:function(t,i,s){"use strict";var h=s(2938),e=s(8262),a=s(1324),c=s(5294),o=s(114),r=s(2097),_=s(1825),n=s(5999),p=s(6307),m=s(8272),u=Array;t.exports=function(t){var i=a(t),s=r(this),g=arguments.length,f=g>1?arguments[1]:void 0,y=void 0!==f;y&&(f=h(f,g>2?arguments[2]:void 0));var l,j,v,x,d,k,w=m(i),b=0;if(!w||this===u&&o(w))for(l=_(i),j=s?new this(l):u(l);l>b;b++)k=y?f(i[b],b):i[b],n(j,b,k);else for(d=(x=p(i,w)).next,j=s?new this:[];!(v=e(d,x)).done;b++)k=y?c(x,f,[v.value,b],!0):v.value,n(j,b,k);return j.length=b,j}},5766:function(t,i,s){var h=s(2977),e=s(6782),a=s(1825),c=function(t){return function(i,s,c){var o,r=h(i),_=a(r),n=e(c,_);if(t&&s!=s){for(;_>n;)if((o=r[n++])!=o)return!0}else for(;_>n;n++)if((t||n in r)&&r[n]===s)return t||n||0;return!t&&-1}};t.exports={includes:c(!0),indexOf:c(!1)}},4805:function(t,i,s){var h=s(2938),e=s(7386),a=s(5044),c=s(1324),o=s(1825),r=s(4822),_=e([].push),n=function(t){var i=1==t,s=2==t,e=3==t,n=4==t,p=6==t,m=7==t,u=5==t||p;return function(g,f,y,l){for(var j,v,x=c(g),d=a(x),k=h(f,y),w=o(d),b=0,S=l||r,I=i?S(g,w):s||m?S(g,0):void 0;w>b;b++)if((u||b in d)&&(v=k(j=d[b],b,x),t))if(i)I[b]=v;else if(v)switch(t){case 3:return!0;case 5:return j;case 6:return b;case 2:_(I,j)}else switch(t){case 4:return!1;case 7:_(I,j)}return p?-1:e||n?n:I}};t.exports={forEach:n(0),map:n(1),filter:n(2),some:n(3),every:n(4),find:n(5),findIndex:n(6),filterReject:n(7)}},9269:function(t,i,s){var h=s(6544),e=s(3649),a=s(4061),c=e("species");t.exports=function(t){return a>=51||!h((function(){var i=[];return(i.constructor={})[c]=function(){return{foo:1}},1!==i[t](Boolean).foo}))}},4546:function(t,i,s){var h=s(6782),e=s(1825),a=s(5999),c=Array,o=Math.max;t.exports=function(t,i,s){for(var r=e(t),_=h(i,r),n=h(void 0===s?r:s,r),p=c(o(n-_,0)),m=0;_<n;_++,m++)a(p,m,t[_]);return p.length=m,p}},6917:function(t,i,s){var h=s(7386);t.exports=h([].slice)},5289:function(t,i,s){var h=s(4521),e=s(2097),a=s(794),c=s(3649)("species"),o=Array;t.exports=function(t){var i;return h(t)&&(i=t.constructor,(e(i)&&(i===o||h(i.prototype))||a(i)&&null===(i=i[c]))&&(i=void 0)),void 0===i?o:i}},4822:function(t,i,s){var h=s(5289);t.exports=function(t,i){return new(h(t))(0===i?0:i)}},5294:function(t,i,s){var h=s(2569),e=s(7093);t.exports=function(t,i,s,a){try{return a?i(h(s)[0],s[1]):i(s)}catch(i){e(t,"throw",i)}}},3616:function(t,i,s){var h=s(3649)("iterator"),e=!1;try{var a=0,c={next:function(){return{done:!!a++}},return:function(){e=!0}};c[h]=function(){return this},Array.from(c,(function(){throw 2}))}catch(t){}t.exports=function(t,i){if(!i&&!e)return!1;var s=!1;try{var a={};a[h]=function(){return{next:function(){return{done:s=!0}}}},t(a)}catch(t){}return s}},9624:function(t,i,s){var h=s(7386),e=h({}.toString),a=h("".slice);t.exports=function(t){return a(e(t),8,-1)}},3058:function(t,i,s){var h=s(8191),e=s(9212),a=s(9624),c=s(3649)("toStringTag"),o=Object,r="Arguments"==a(function(){return arguments}());t.exports=h?a:function(t){var i,s,h;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(s=function(t,i){try{return t[i]}catch(t){}}(i=o(t),c))?s:r?a(i):"Object"==(h=a(i))&&e(i.callee)?"Arguments":h}},3478:function(t,i,s){var h=s(2870),e=s(929),a=s(6683),c=s(4615);t.exports=function(t,i,s){for(var o=e(i),r=c.f,_=a.f,n=0;n<o.length;n++){var p=o[n];h(t,p)||s&&h(s,p)||r(t,p,_(i,p))}}},926:function(t,i,s){var h=s(6544);t.exports=!h((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},1002:function(t){t.exports=function(t,i){return{value:t,done:i}}},57:function(t,i,s){var h=s(8494),e=s(4615),a=s(4677);t.exports=h?function(t,i,s){return e.f(t,i,a(1,s))}:function(t,i,s){return t[i]=s,t}},4677:function(t){t.exports=function(t,i){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:i}}},5999:function(t,i,s){"use strict";var h=s(8734),e=s(4615),a=s(4677);t.exports=function(t,i,s){var c=h(i);c in t?e.f(t,c,a(0,s)):t[c]=s}},307:function(t,i,s){"use strict";var h=s(2569),e=s(6252),a=TypeError;t.exports=function(t){if(h(this),"string"===t||"default"===t)t="string";else if("number"!==t)throw a("Incorrect hint");return e(this,t)}},3746:function(t,i,s){var h=s(9212),e=s(4615),a=s(9594),c=s(2296);t.exports=function(t,i,s,o){o||(o={});var r=o.enumerable,_=void 0!==o.name?o.name:i;if(h(s)&&a(s,_,o),o.global)r?t[i]=s:c(i,s);else{try{o.unsafe?t[i]&&(r=!0):delete t[i]}catch(t){}r?t[i]=s:e.f(t,i,{value:s,enumerable:!1,configurable:!o.nonConfigurable,writable:!o.nonWritable})}return t}},2296:function(t,i,s){var h=s(7583),e=Object.defineProperty;t.exports=function(t,i){try{e(h,t,{value:i,configurable:!0,writable:!0})}catch(s){h[t]=i}return i}},8494:function(t,i,s){var h=s(6544);t.exports=!h((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},2952:function(t){var i="object"==typeof document&&document.all,s=void 0===i&&void 0!==i;t.exports={all:i,IS_HTMLDDA:s}},6668:function(t,i,s){var h=s(7583),e=s(794),a=h.document,c=e(a)&&e(a.createElement);t.exports=function(t){return c?a.createElement(t):{}}},6768:function(t){var i=TypeError;t.exports=function(t){if(t>9007199254740991)throw i("Maximum allowed index exceeded");return t}},6778:function(t){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},9307:function(t,i,s){var h=s(6668)("span").classList,e=h&&h.constructor&&h.constructor.prototype;t.exports=e===Object.prototype?void 0:e},6918:function(t){t.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""},4061:function(t,i,s){var h,e,a=s(7583),c=s(6918),o=a.process,r=a.Deno,_=o&&o.versions||r&&r.version,n=_&&_.v8;n&&(e=(h=n.split("."))[0]>0&&h[0]<4?1:+(h[0]+h[1])),!e&&c&&(!(h=c.match(/Edge\/(\d+)/))||h[1]>=74)&&(h=c.match(/Chrome\/(\d+)/))&&(e=+h[1]),t.exports=e},5690:function(t){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},7263:function(t,i,s){var h=s(7583),e=s(6683).f,a=s(57),c=s(3746),o=s(2296),r=s(3478),_=s(4451);t.exports=function(t,i){var s,n,p,m,u,g=t.target,f=t.global,y=t.stat;if(s=f?h:y?h[g]||o(g,{}):(h[g]||{}).prototype)for(n in i){if(m=i[n],p=t.dontCallGetSet?(u=e(s,n))&&u.value:s[n],!_(f?n:g+(y?".":"#")+n,t.forced)&&void 0!==p){if(typeof m==typeof p)continue;r(m,p)}(t.sham||p&&p.sham)&&a(m,"sham",!0),c(s,n,m,t)}}},6544:function(t){t.exports=function(t){try{return!!t()}catch(t){return!0}}},783:function(t,i,s){"use strict";s(2322);var h=s(6887),e=s(3746),a=s(8445),c=s(6544),o=s(3649),r=s(57),_=o("species"),n=RegExp.prototype;t.exports=function(t,i,s,p){var m=o(t),u=!c((function(){var i={};return i[m]=function(){return 7},7!=""[t](i)})),g=u&&!c((function(){var i=!1,s=/a/;return"split"===t&&((s={}).constructor={},s.constructor[_]=function(){return s},s.flags="",s[m]=/./[m]),s.exec=function(){return i=!0,null},s[m](""),!i}));if(!u||!g||s){var f=h(/./[m]),y=i(m,""[t],(function(t,i,s,e,c){var o=h(t),r=i.exec;return r===a||r===n.exec?u&&!c?{done:!0,value:f(i,s,e)}:{done:!0,value:o(s,i,e)}:{done:!1}}));e(String.prototype,t,y[0]),e(n,m,y[1])}p&&r(n[m],"sham",!0)}},1611:function(t,i,s){var h=s(8987),e=Function.prototype,a=e.apply,c=e.call;t.exports="object"==typeof Reflect&&Reflect.apply||(h?c.bind(a):function(){return c.apply(a,arguments)})},2938:function(t,i,s){var h=s(6887),e=s(8257),a=s(8987),c=h(h.bind);t.exports=function(t,i){return e(t),void 0===i?t:a?c(t,i):function(){return t.apply(i,arguments)}}},8987:function(t,i,s){var h=s(6544);t.exports=!h((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}))},1335:function(t,i,s){"use strict";var h=s(7386),e=s(8257),a=s(794),c=s(2870),o=s(6917),r=s(8987),_=Function,n=h([].concat),p=h([].join),m={},u=function(t,i,s){if(!c(m,i)){for(var h=[],e=0;e<i;e++)h[e]="a["+e+"]";m[i]=_("C,a","return new C("+p(h,",")+")")}return m[i](t,s)};t.exports=r?_.bind:function(t){var i=e(this),s=i.prototype,h=o(arguments,1),c=function(){var s=n(h,o(arguments));return this instanceof c?u(i,s.length,s):i.apply(t,s)};return a(s)&&(c.prototype=s),c}},8262:function(t,i,s){var h=s(8987),e=Function.prototype.call;t.exports=h?e.bind(e):function(){return e.apply(e,arguments)}},4340:function(t,i,s){var h=s(8494),e=s(2870),a=Function.prototype,c=h&&Object.getOwnPropertyDescriptor,o=e(a,"name"),r=o&&"something"===function(){}.name,_=o&&(!h||h&&c(a,"name").configurable);t.exports={EXISTS:o,PROPER:r,CONFIGURABLE:_}},6887:function(t,i,s){var h=s(9624),e=s(7386);t.exports=function(t){if("Function"===h(t))return e(t)}},7386:function(t,i,s){var h=s(8987),e=Function.prototype,a=e.call,c=h&&e.bind.bind(a,a);t.exports=h?c:function(t){return function(){return a.apply(t,arguments)}}},5897:function(t,i,s){var h=s(7583),e=s(9212),a=function(t){return e(t)?t:void 0};t.exports=function(t,i){return arguments.length<2?a(h[t]):h[t]&&h[t][i]}},8272:function(t,i,s){var h=s(3058),e=s(911),a=s(8505),c=s(339),o=s(3649)("iterator");t.exports=function(t){if(!a(t))return e(t,o)||e(t,"@@iterator")||c[h(t)]}},6307:function(t,i,s){var h=s(8262),e=s(8257),a=s(2569),c=s(5637),o=s(8272),r=TypeError;t.exports=function(t,i){var s=arguments.length<2?o(t):i;if(e(s))return a(h(s,t));throw r(c(t)+" is not iterable")}},911:function(t,i,s){var h=s(8257),e=s(8505);t.exports=function(t,i){var s=t[i];return e(s)?void 0:h(s)}},4305:function(t,i,s){var h=s(7386),e=s(1324),a=Math.floor,c=h("".charAt),o=h("".replace),r=h("".slice),_=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,n=/\$([$&'`]|\d{1,2})/g;t.exports=function(t,i,s,h,p,m){var u=s+t.length,g=h.length,f=n;return void 0!==p&&(p=e(p),f=_),o(m,f,(function(e,o){var _;switch(c(o,0)){case"$":return"$";case"&":return t;case"`":return r(i,0,s);case"'":return r(i,u);case"<":_=p[r(o,1,-1)];break;default:var n=+o;if(0===n)return e;if(n>g){var m=a(n/10);return 0===m?e:m<=g?void 0===h[m-1]?c(o,1):h[m-1]+c(o,1):e}_=h[n-1]}return void 0===_?"":_}))}},7583:function(t,i,s){var h=function(t){return t&&t.Math==Math&&t};t.exports=h("object"==typeof globalThis&&globalThis)||h("object"==typeof window&&window)||h("object"==typeof self&&self)||h("object"==typeof s.g&&s.g)||function(){return this}()||Function("return this")()},2870:function(t,i,s){var h=s(7386),e=s(1324),a=h({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,i){return a(e(t),i)}},4639:function(t){t.exports={}},482:function(t,i,s){var h=s(5897);t.exports=h("document","documentElement")},275:function(t,i,s){var h=s(8494),e=s(6544),a=s(6668);t.exports=!h&&!e((function(){return 7!=Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a}))},5044:function(t,i,s){var h=s(7386),e=s(6544),a=s(9624),c=Object,o=h("".split);t.exports=e((function(){return!c("z").propertyIsEnumerable(0)}))?function(t){return"String"==a(t)?o(t,""):c(t)}:c},434:function(t,i,s){var h=s(9212),e=s(794),a=s(7496);t.exports=function(t,i,s){var c,o;return a&&h(c=i.constructor)&&c!==s&&e(o=c.prototype)&&o!==s.prototype&&a(t,o),t}},9734:function(t,i,s){var h=s(7386),e=s(9212),a=s(1314),c=h(Function.toString);e(a.inspectSource)||(a.inspectSource=function(t){return c(t)}),t.exports=a.inspectSource},2743:function(t,i,s){var h,e,a,c=s(5307),o=s(7583),r=s(794),_=s(57),n=s(2870),p=s(1314),m=s(9137),u=s(4639),g="Object already initialized",f=o.TypeError,y=o.WeakMap;if(c||p.state){var l=p.state||(p.state=new y);l.get=l.get,l.has=l.has,l.set=l.set,h=function(t,i){if(l.has(t))throw f(g);return i.facade=t,l.set(t,i),i},e=function(t){return l.get(t)||{}},a=function(t){return l.has(t)}}else{var j=m("state");u[j]=!0,h=function(t,i){if(n(t,j))throw f(g);return i.facade=t,_(t,j,i),i},e=function(t){return n(t,j)?t[j]:{}},a=function(t){return n(t,j)}}t.exports={set:h,get:e,has:a,enforce:function(t){return a(t)?e(t):h(t,{})},getterFor:function(t){return function(i){var s;if(!r(i)||(s=e(i)).type!==t)throw f("Incompatible receiver, "+t+" required");return s}}}},114:function(t,i,s){var h=s(3649),e=s(339),a=h("iterator"),c=Array.prototype;t.exports=function(t){return void 0!==t&&(e.Array===t||c[a]===t)}},4521:function(t,i,s){var h=s(9624);t.exports=Array.isArray||function(t){return"Array"==h(t)}},9212:function(t,i,s){var h=s(2952),e=h.all;t.exports=h.IS_HTMLDDA?function(t){return"function"==typeof t||t===e}:function(t){return"function"==typeof t}},2097:function(t,i,s){var h=s(7386),e=s(6544),a=s(9212),c=s(3058),o=s(5897),r=s(9734),_=function(){},n=[],p=o("Reflect","construct"),m=/^\s*(?:class|function)\b/,u=h(m.exec),g=!m.exec(_),f=function(t){if(!a(t))return!1;try{return p(_,n,t),!0}catch(t){return!1}},y=function(t){if(!a(t))return!1;switch(c(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return g||!!u(m,r(t))}catch(t){return!0}};y.sham=!0,t.exports=!p||e((function(){var t;return f(f.call)||!f(Object)||!f((function(){t=!0}))||t}))?y:f},4451:function(t,i,s){var h=s(6544),e=s(9212),a=/#|\.prototype\./,c=function(t,i){var s=r[o(t)];return s==n||s!=_&&(e(i)?h(i):!!i)},o=c.normalize=function(t){return String(t).replace(a,".").toLowerCase()},r=c.data={},_=c.NATIVE="N",n=c.POLYFILL="P";t.exports=c},8505:function(t){t.exports=function(t){return null==t}},794:function(t,i,s){var h=s(9212),e=s(2952),a=e.all;t.exports=e.IS_HTMLDDA?function(t){return"object"==typeof t?null!==t:h(t)||t===a}:function(t){return"object"==typeof t?null!==t:h(t)}},6268:function(t){t.exports=!1},7574:function(t,i,s){var h=s(794),e=s(9624),a=s(3649)("match");t.exports=function(t){var i;return h(t)&&(void 0!==(i=t[a])?!!i:"RegExp"==e(t))}},5871:function(t,i,s){var h=s(5897),e=s(9212),a=s(2447),c=s(7786),o=Object;t.exports=c?function(t){return"symbol"==typeof t}:function(t){var i=h("Symbol");return e(i)&&a(i.prototype,o(t))}},7093:function(t,i,s){var h=s(8262),e=s(2569),a=s(911);t.exports=function(t,i,s){var c,o;e(t);try{if(!(c=a(t,"return"))){if("throw"===i)throw s;return s}c=h(c,t)}catch(t){o=!0,c=t}if("throw"===i)throw s;if(o)throw c;return e(c),s}},3098:function(t,i,s){"use strict";var h=s(2365).IteratorPrototype,e=s(3590),a=s(4677),c=s(8821),o=s(339),r=function(){return this};t.exports=function(t,i,s,_){var n=i+" Iterator";return t.prototype=e(h,{next:a(+!_,s)}),c(t,n,!1,!0),o[n]=r,t}},59:function(t,i,s){"use strict";var h=s(7263),e=s(8262),a=s(6268),c=s(4340),o=s(9212),r=s(3098),_=s(729),n=s(7496),p=s(8821),m=s(57),u=s(3746),g=s(3649),f=s(339),y=s(2365),l=c.PROPER,j=c.CONFIGURABLE,v=y.IteratorPrototype,x=y.BUGGY_SAFARI_ITERATORS,d=g("iterator"),k="keys",w="values",b="entries",S=function(){return this};t.exports=function(t,i,s,c,g,y,I){r(s,i,c);var P,C,M,z=function(t){if(t===g&&O)return O;if(!x&&t in G)return G[t];switch(t){case k:case w:case b:return function(){return new s(this,t)}}return function(){return new s(this)}},A=i+" Iterator",T=!1,G=t.prototype,B=G[d]||G["@@iterator"]||g&&G[g],O=!x&&B||z(g),E="Array"==i&&G.entries||B;if(E&&(P=_(E.call(new t)))!==Object.prototype&&P.next&&(a||_(P)===v||(n?n(P,v):o(P[d])||u(P,d,S)),p(P,A,!0,!0),a&&(f[A]=S)),l&&g==w&&B&&B.name!==w&&(!a&&j?m(G,"name",w):(T=!0,O=function(){return e(B,this)})),g)if(C={values:z(w),keys:y?O:z(k),entries:z(b)},I)for(M in C)(x||T||!(M in G))&&u(G,M,C[M]);else h({target:i,proto:!0,forced:x||T},C);return a&&!I||G[d]===O||u(G,d,O,{name:g}),f[i]=O,C}},2365:function(t,i,s){"use strict";var h,e,a,c=s(6544),o=s(9212),r=s(794),_=s(3590),n=s(729),p=s(3746),m=s(3649),u=s(6268),g=m("iterator"),f=!1;[].keys&&("next"in(a=[].keys())?(e=n(n(a)))!==Object.prototype&&(h=e):f=!0),!r(h)||c((function(){var t={};return h[g].call(t)!==t}))?h={}:u&&(h=_(h)),o(h[g])||p(h,g,(function(){return this})),t.exports={IteratorPrototype:h,BUGGY_SAFARI_ITERATORS:f}},339:function(t){t.exports={}},1825:function(t,i,s){var h=s(97);t.exports=function(t){return h(t.length)}},9594:function(t,i,s){var h=s(7386),e=s(6544),a=s(9212),c=s(2870),o=s(8494),r=s(4340).CONFIGURABLE,_=s(9734),n=s(2743),p=n.enforce,m=n.get,u=String,g=Object.defineProperty,f=h("".slice),y=h("".replace),l=h([].join),j=o&&!e((function(){return 8!==g((function(){}),"length",{value:8}).length})),v=String(String).split("String"),x=t.exports=function(t,i,s){"Symbol("===f(u(i),0,7)&&(i="["+y(u(i),/^Symbol\(([^)]*)\)/,"$1")+"]"),s&&s.getter&&(i="get "+i),s&&s.setter&&(i="set "+i),(!c(t,"name")||r&&t.name!==i)&&(o?g(t,"name",{value:i,configurable:!0}):t.name=i),j&&s&&c(s,"arity")&&t.length!==s.arity&&g(t,"length",{value:s.arity});try{s&&c(s,"constructor")&&s.constructor?o&&g(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(t){}var h=p(t);return c(h,"source")||(h.source=l(v,"string"==typeof i?i:"")),t};Function.prototype.toString=x((function(){return a(this)&&m(this).source||_(this)}),"toString")},9021:function(t){var i=Math.ceil,s=Math.floor;t.exports=Math.trunc||function(t){var h=+t;return(h>0?s:i)(h)}},3590:function(t,i,s){var h,e=s(2569),a=s(8728),c=s(5690),o=s(4639),r=s(482),_=s(6668),n=s(9137),p="prototype",m="script",u=n("IE_PROTO"),g=function(){},f=function(t){return"<"+m+">"+t+"</"+m+">"},y=function(t){t.write(f("")),t.close();var i=t.parentWindow.Object;return t=null,i},l=function(){try{h=new ActiveXObject("htmlfile")}catch(t){}var t,i,s;l="undefined"!=typeof document?document.domain&&h?y(h):(i=_("iframe"),s="java"+m+":",i.style.display="none",r.appendChild(i),i.src=String(s),(t=i.contentWindow.document).open(),t.write(f("document.F=Object")),t.close(),t.F):y(h);for(var e=c.length;e--;)delete l[p][c[e]];return l()};o[u]=!0,t.exports=Object.create||function(t,i){var s;return null!==t?(g[p]=e(t),s=new g,g[p]=null,s[u]=t):s=l(),void 0===i?s:a.f(s,i)}},8728:function(t,i,s){var h=s(8494),e=s(7670),a=s(4615),c=s(2569),o=s(2977),r=s(5432);i.f=h&&!e?Object.defineProperties:function(t,i){c(t);for(var s,h=o(i),e=r(i),_=e.length,n=0;_>n;)a.f(t,s=e[n++],h[s]);return t}},4615:function(t,i,s){var h=s(8494),e=s(275),a=s(7670),c=s(2569),o=s(8734),r=TypeError,_=Object.defineProperty,n=Object.getOwnPropertyDescriptor,p="enumerable",m="configurable",u="writable";i.f=h?a?function(t,i,s){if(c(t),i=o(i),c(s),"function"==typeof t&&"prototype"===i&&"value"in s&&u in s&&!s[u]){var h=n(t,i);h&&h[u]&&(t[i]=s.value,s={configurable:m in s?s[m]:h[m],enumerable:p in s?s[p]:h[p],writable:!1})}return _(t,i,s)}:_:function(t,i,s){if(c(t),i=o(i),c(s),e)try{return _(t,i,s)}catch(t){}if("get"in s||"set"in s)throw r("Accessors not supported");return"value"in s&&(t[i]=s.value),t}},6683:function(t,i,s){var h=s(8494),e=s(8262),a=s(112),c=s(4677),o=s(2977),r=s(8734),_=s(2870),n=s(275),p=Object.getOwnPropertyDescriptor;i.f=h?p:function(t,i){if(t=o(t),i=r(i),n)try{return p(t,i)}catch(t){}if(_(t,i))return c(!e(a.f,t,i),t[i])}},3130:function(t,i,s){var h=s(9624),e=s(2977),a=s(9275).f,c=s(4546),o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return o&&"Window"==h(t)?function(t){try{return a(t)}catch(t){return c(o)}}(t):a(e(t))}},9275:function(t,i,s){var h=s(8356),e=s(5690).concat("length","prototype");i.f=Object.getOwnPropertyNames||function(t){return h(t,e)}},4012:function(t,i){i.f=Object.getOwnPropertySymbols},729:function(t,i,s){var h=s(2870),e=s(9212),a=s(1324),c=s(9137),o=s(926),r=c("IE_PROTO"),_=Object,n=_.prototype;t.exports=o?_.getPrototypeOf:function(t){var i=a(t);if(h(i,r))return i[r];var s=i.constructor;return e(s)&&i instanceof s?s.prototype:i instanceof _?n:null}},2447:function(t,i,s){var h=s(7386);t.exports=h({}.isPrototypeOf)},8356:function(t,i,s){var h=s(7386),e=s(2870),a=s(2977),c=s(5766).indexOf,o=s(4639),r=h([].push);t.exports=function(t,i){var s,h=a(t),_=0,n=[];for(s in h)!e(o,s)&&e(h,s)&&r(n,s);for(;i.length>_;)e(h,s=i[_++])&&(~c(n,s)||r(n,s));return n}},5432:function(t,i,s){var h=s(8356),e=s(5690);t.exports=Object.keys||function(t){return h(t,e)}},112:function(t,i){"use strict";var s={}.propertyIsEnumerable,h=Object.getOwnPropertyDescriptor,e=h&&!s.call({1:2},1);i.f=e?function(t){var i=h(this,t);return!!i&&i.enumerable}:s},7496:function(t,i,s){var h=s(7386),e=s(2569),a=s(9882);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,i=!1,s={};try{(t=h(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(s,[]),i=s instanceof Array}catch(t){}return function(s,h){return e(s),a(h),i?t(s,h):s.__proto__=h,s}}():void 0)},3060:function(t,i,s){"use strict";var h=s(8191),e=s(3058);t.exports=h?{}.toString:function(){return"[object "+e(this)+"]"}},6252:function(t,i,s){var h=s(8262),e=s(9212),a=s(794),c=TypeError;t.exports=function(t,i){var s,o;if("string"===i&&e(s=t.toString)&&!a(o=h(s,t)))return o;if(e(s=t.valueOf)&&!a(o=h(s,t)))return o;if("string"!==i&&e(s=t.toString)&&!a(o=h(s,t)))return o;throw c("Can't convert object to primitive value")}},929:function(t,i,s){var h=s(5897),e=s(7386),a=s(9275),c=s(4012),o=s(2569),r=e([].concat);t.exports=h("Reflect","ownKeys")||function(t){var i=a.f(o(t)),s=c.f;return s?r(i,s(t)):i}},1287:function(t,i,s){var h=s(7583);t.exports=h},4214:function(t,i,s){var h=s(8262),e=s(2569),a=s(9212),c=s(9624),o=s(8445),r=TypeError;t.exports=function(t,i){var s=t.exec;if(a(s)){var _=h(s,t,i);return null!==_&&e(_),_}if("RegExp"===c(t))return h(o,t,i);throw r("RegExp#exec called on incompatible receiver")}},8445:function(t,i,s){"use strict";var h,e,a=s(8262),c=s(7386),o=s(8320),r=s(1118),_=s(5230),n=s(7836),p=s(3590),m=s(2743).get,u=s(4121),g=s(1712),f=n("native-string-replace",String.prototype.replace),y=RegExp.prototype.exec,l=y,j=c("".charAt),v=c("".indexOf),x=c("".replace),d=c("".slice),k=(e=/b*/g,a(y,h=/a/,"a"),a(y,e,"a"),0!==h.lastIndex||0!==e.lastIndex),w=_.BROKEN_CARET,b=void 0!==/()??/.exec("")[1];(k||b||w||u||g)&&(l=function(t){var i,s,h,e,c,_,n,u=this,g=m(u),S=o(t),I=g.raw;if(I)return I.lastIndex=u.lastIndex,i=a(l,I,S),u.lastIndex=I.lastIndex,i;var P=g.groups,C=w&&u.sticky,M=a(r,u),z=u.source,A=0,T=S;if(C&&(M=x(M,"y",""),-1===v(M,"g")&&(M+="g"),T=d(S,u.lastIndex),u.lastIndex>0&&(!u.multiline||u.multiline&&"\n"!==j(S,u.lastIndex-1))&&(z="(?: "+z+")",T=" "+T,A++),s=new RegExp("^(?:"+z+")",M)),b&&(s=new RegExp("^"+z+"$(?!\\s)",M)),k&&(h=u.lastIndex),e=a(y,C?s:u,T),C?e?(e.input=d(e.input,A),e[0]=d(e[0],A),e.index=u.lastIndex,u.lastIndex+=e[0].length):u.lastIndex=0:k&&e&&(u.lastIndex=u.global?e.index+e[0].length:h),b&&e&&e.length>1&&a(f,e[0],s,(function(){for(c=1;c<arguments.length-2;c++)void 0===arguments[c]&&(e[c]=void 0)})),e&&P)for(e.groups=_=p(null),c=0;c<P.length;c++)_[(n=P[c])[0]]=e[n[1]];return e}),t.exports=l},1118:function(t,i,s){"use strict";var h=s(2569);t.exports=function(){var t=h(this),i="";return t.hasIndices&&(i+="d"),t.global&&(i+="g"),t.ignoreCase&&(i+="i"),t.multiline&&(i+="m"),t.dotAll&&(i+="s"),t.unicode&&(i+="u"),t.unicodeSets&&(i+="v"),t.sticky&&(i+="y"),i}},640:function(t,i,s){var h=s(8262),e=s(2870),a=s(2447),c=s(1118),o=RegExp.prototype;t.exports=function(t){var i=t.flags;return void 0!==i||"flags"in o||e(t,"flags")||!a(o,t)?i:h(c,t)}},5230:function(t,i,s){var h=s(6544),e=s(7583).RegExp,a=h((function(){var t=e("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),c=a||h((function(){return!e("a","y").sticky})),o=a||h((function(){var t=e("^r","gy");return t.lastIndex=2,null!=t.exec("str")}));t.exports={BROKEN_CARET:o,MISSED_STICKY:c,UNSUPPORTED_Y:a}},4121:function(t,i,s){var h=s(6544),e=s(7583).RegExp;t.exports=h((function(){var t=e(".","s");return!(t.dotAll&&t.exec("\n")&&"s"===t.flags)}))},1712:function(t,i,s){var h=s(6544),e=s(7583).RegExp;t.exports=h((function(){var t=e("(?<a>b)","g");return"b"!==t.exec("b").groups.a||"bc"!=="b".replace(t,"$<a>c")}))},3955:function(t,i,s){var h=s(8505),e=TypeError;t.exports=function(t){if(h(t))throw e("Can't call method on "+t);return t}},8821:function(t,i,s){var h=s(4615).f,e=s(2870),a=s(3649)("toStringTag");t.exports=function(t,i,s){t&&!s&&(t=t.prototype),t&&!e(t,a)&&h(t,a,{configurable:!0,value:i})}},9137:function(t,i,s){var h=s(7836),e=s(8284),a=h("keys");t.exports=function(t){return a[t]||(a[t]=e(t))}},1314:function(t,i,s){var h=s(7583),e=s(2296),a="__core-js_shared__",c=h[a]||e(a,{});t.exports=c},7836:function(t,i,s){var h=s(6268),e=s(1314);(t.exports=function(t,i){return e[t]||(e[t]=void 0!==i?i:{})})("versions",[]).push({version:"3.27.2",mode:h?"pure":"global",copyright:"© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.27.2/LICENSE",source:"https://github.com/zloirock/core-js"})},6389:function(t,i,s){var h=s(7386),e=s(7486),a=s(8320),c=s(3955),o=h("".charAt),r=h("".charCodeAt),_=h("".slice),n=function(t){return function(i,s){var h,n,p=a(c(i)),m=e(s),u=p.length;return m<0||m>=u?t?"":void 0:(h=r(p,m))<55296||h>56319||m+1===u||(n=r(p,m+1))<56320||n>57343?t?o(p,m):h:t?_(p,m,m+2):n-56320+(h-55296<<10)+65536}};t.exports={codeAt:n(!1),charAt:n(!0)}},3812:function(t,i,s){"use strict";var h=s(7486),e=s(8320),a=s(3955),c=RangeError;t.exports=function(t){var i=e(a(this)),s="",o=h(t);if(o<0||o==1/0)throw c("Wrong number of repetitions");for(;o>0;(o>>>=1)&&(i+=i))1&o&&(s+=i);return s}},8940:function(t,i,s){var h=s(7386),e=s(3955),a=s(8320),c=s(771),o=h("".replace),r="["+c+"]",_=RegExp("^"+r+r+"*"),n=RegExp(r+r+"*$"),p=function(t){return function(i){var s=a(e(i));return 1&t&&(s=o(s,_,"")),2&t&&(s=o(s,n,"")),s}};t.exports={start:p(1),end:p(2),trim:p(3)}},4193:function(t,i,s){var h=s(4061),e=s(6544);t.exports=!!Object.getOwnPropertySymbols&&!e((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&h&&h<41}))},8369:function(t,i,s){var h=s(8262),e=s(5897),a=s(3649),c=s(3746);t.exports=function(){var t=e("Symbol"),i=t&&t.prototype,s=i&&i.valueOf,o=a("toPrimitive");i&&!i[o]&&c(i,o,(function(t){return h(s,this)}),{arity:1})}},2471:function(t,i,s){var h=s(4193);t.exports=h&&!!Symbol.for&&!!Symbol.keyFor},8064:function(t,i,s){var h=s(7386);t.exports=h(1..valueOf)},6782:function(t,i,s){var h=s(7486),e=Math.max,a=Math.min;t.exports=function(t,i){var s=h(t);return s<0?e(s+i,0):a(s,i)}},2977:function(t,i,s){var h=s(5044),e=s(3955);t.exports=function(t){return h(e(t))}},7486:function(t,i,s){var h=s(9021);t.exports=function(t){var i=+t;return i!=i||0===i?0:h(i)}},97:function(t,i,s){var h=s(7486),e=Math.min;t.exports=function(t){return t>0?e(h(t),9007199254740991):0}},1324:function(t,i,s){var h=s(3955),e=Object;t.exports=function(t){return e(h(t))}},2670:function(t,i,s){var h=s(8262),e=s(794),a=s(5871),c=s(911),o=s(6252),r=s(3649),_=TypeError,n=r("toPrimitive");t.exports=function(t,i){if(!e(t)||a(t))return t;var s,r=c(t,n);if(r){if(void 0===i&&(i="default"),s=h(r,t,i),!e(s)||a(s))return s;throw _("Can't convert object to primitive value")}return void 0===i&&(i="number"),o(t,i)}},8734:function(t,i,s){var h=s(2670),e=s(5871);t.exports=function(t){var i=h(t,"string");return e(i)?i:i+""}},8191:function(t,i,s){var h={};h[s(3649)("toStringTag")]="z",t.exports="[object z]"===String(h)},8320:function(t,i,s){var h=s(3058),e=String;t.exports=function(t){if("Symbol"===h(t))throw TypeError("Cannot convert a Symbol value to a string");return e(t)}},5637:function(t){var i=String;t.exports=function(t){try{return i(t)}catch(t){return"Object"}}},8284:function(t,i,s){var h=s(7386),e=0,a=Math.random(),c=h(1..toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+c(++e+a,36)}},7786:function(t,i,s){var h=s(4193);t.exports=h&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},7670:function(t,i,s){var h=s(8494),e=s(6544);t.exports=h&&e((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},5307:function(t,i,s){var h=s(7583),e=s(9212),a=h.WeakMap;t.exports=e(a)&&/native code/.test(String(a))},1513:function(t,i,s){var h=s(1287),e=s(2870),a=s(491),c=s(4615).f;t.exports=function(t){var i=h.Symbol||(h.Symbol={});e(i,t)||c(i,t,{value:a.f(t)})}},491:function(t,i,s){var h=s(3649);i.f=h},3649:function(t,i,s){var h=s(7583),e=s(7836),a=s(2870),c=s(8284),o=s(4193),r=s(7786),_=h.Symbol,n=e("wks"),p=r?_.for||_:_&&_.withoutSetter||c;t.exports=function(t){return a(n,t)||(n[t]=o&&a(_,t)?_[t]:p("Symbol."+t)),n[t]}},771:function(t){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},1646:function(t,i,s){"use strict";var h=s(7263),e=s(6544),a=s(4521),c=s(794),o=s(1324),r=s(1825),_=s(6768),n=s(5999),p=s(4822),m=s(9269),u=s(3649),g=s(4061),f=u("isConcatSpreadable"),y=g>=51||!e((function(){var t=[];return t[f]=!1,t.concat()[0]!==t})),l=function(t){if(!c(t))return!1;var i=t[f];return void 0!==i?!!i:a(t)};h({target:"Array",proto:!0,arity:1,forced:!y||!m("concat")},{concat:function(t){var i,s,h,e,a,c=o(this),m=p(c,0),u=0;for(i=-1,h=arguments.length;i<h;i++)if(l(a=-1===i?c:arguments[i]))for(e=r(a),_(u+e),s=0;s<e;s++,u++)s in a&&n(m,u,a[s]);else _(u+1),n(m,u++,a);return m.length=u,m}})},1271:function(t,i,s){var h=s(7263),e=s(3579),a=s(6288);h({target:"Array",proto:!0},{fill:e}),a("fill")},3675:function(t,i,s){var h=s(7263),e=s(5513);h({target:"Array",stat:!0,forced:!s(3616)((function(t){Array.from(t)}))},{from:e})},5677:function(t,i,s){"use strict";var h=s(2977),e=s(6288),a=s(339),c=s(2743),o=s(4615).f,r=s(59),_=s(1002),n=s(6268),p=s(8494),m="Array Iterator",u=c.set,g=c.getterFor(m);t.exports=r(Array,"Array",(function(t,i){u(this,{type:m,target:h(t),index:0,kind:i})}),(function(){var t=g(this),i=t.target,s=t.kind,h=t.index++;return!i||h>=i.length?(t.target=void 0,_(void 0,!0)):_("keys"==s?h:"values"==s?i[h]:[h,i[h]],!1)}),"values");var f=a.Arguments=a.Array;if(e("keys"),e("values"),e("entries"),!n&&p&&"values"!==f.name)try{o(f,"name",{value:"values"})}catch(t){}},2070:function(t,i,s){"use strict";var h=s(7263),e=s(4805).map;h({target:"Array",proto:!0,forced:!s(9269)("map")},{map:function(t){return e(this,t,arguments.length>1?arguments[1]:void 0)}})},288:function(t,i,s){"use strict";var h=s(7263),e=s(4521),a=s(2097),c=s(794),o=s(6782),r=s(1825),_=s(2977),n=s(5999),p=s(3649),m=s(9269),u=s(6917),g=m("slice"),f=p("species"),y=Array,l=Math.max;h({target:"Array",proto:!0,forced:!g},{slice:function(t,i){var s,h,p,m=_(this),g=r(m),j=o(t,g),v=o(void 0===i?g:i,g);if(e(m)&&(s=m.constructor,(a(s)&&(s===y||e(s.prototype))||c(s)&&null===(s=s[f]))&&(s=void 0),s===y||void 0===s))return u(m,j,v);for(h=new(void 0===s?y:s)(l(v-j,0)),p=0;j<v;j++,p++)j in m&&n(h,p,m[j]);return h.length=p,h}})},2466:function(t,i,s){var h=s(2870),e=s(3746),a=s(307),c=s(3649)("toPrimitive"),o=Date.prototype;h(o,c)||e(o,c,a)},4458:function(t,i,s){var h=s(8494),e=s(4340).EXISTS,a=s(7386),c=s(4615).f,o=Function.prototype,r=a(o.toString),_=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,n=a(_.exec);h&&!e&&c(o,"name",{configurable:!0,get:function(){try{return n(_,r(this))[1]}catch(t){return""}}})},4415:function(t,i,s){var h=s(7263),e=s(5897),a=s(1611),c=s(8262),o=s(7386),r=s(6544),_=s(4521),n=s(9212),p=s(794),m=s(5871),u=s(6917),g=s(4193),f=e("JSON","stringify"),y=o(/./.exec),l=o("".charAt),j=o("".charCodeAt),v=o("".replace),x=o(1..toString),d=/[\uD800-\uDFFF]/g,k=/^[\uD800-\uDBFF]$/,w=/^[\uDC00-\uDFFF]$/,b=!g||r((function(){var t=e("Symbol")();return"[null]"!=f([t])||"{}"!=f({a:t})||"{}"!=f(Object(t))})),S=r((function(){return'"\\udf06\\ud834"'!==f("\udf06\ud834")||'"\\udead"'!==f("\udead")})),I=function(t,i){var s=u(arguments),h=i;if((p(i)||void 0!==t)&&!m(t))return _(i)||(i=function(t,i){if(n(h)&&(i=c(h,this,t,i)),!m(i))return i}),s[1]=i,a(f,null,s)},P=function(t,i,s){var h=l(s,i-1),e=l(s,i+1);return y(k,t)&&!y(w,e)||y(w,t)&&!y(k,h)?"\\u"+x(j(t,0),16):t};f&&h({target:"JSON",stat:!0,arity:3,forced:b||S},{stringify:function(t,i,s){var h=u(arguments),e=a(b?I:f,null,h);return S&&"string"==typeof e?v(e,d,P):e}})},717:function(t,i,s){"use strict";var h=s(7263),e=s(6268),a=s(8494),c=s(7583),o=s(1287),r=s(7386),_=s(4451),n=s(2870),p=s(434),m=s(2447),u=s(5871),g=s(2670),f=s(6544),y=s(9275).f,l=s(6683).f,j=s(4615).f,v=s(8064),x=s(8940).trim,d="Number",k=c[d],w=o[d],b=k.prototype,S=c.TypeError,I=r("".slice),P=r("".charCodeAt),C=function(t){var i=g(t,"number");return"bigint"==typeof i?i:M(i)},M=function(t){var i,s,h,e,a,c,o,r,_=g(t,"number");if(u(_))throw S("Cannot convert a Symbol value to a number");if("string"==typeof _&&_.length>2)if(_=x(_),43===(i=P(_,0))||45===i){if(88===(s=P(_,2))||120===s)return NaN}else if(48===i){switch(P(_,1)){case 66:case 98:h=2,e=49;break;case 79:case 111:h=8,e=55;break;default:return+_}for(c=(a=I(_,2)).length,o=0;o<c;o++)if((r=P(a,o))<48||r>e)return NaN;return parseInt(a,h)}return+_},z=_(d,!k(" 0o1")||!k("0b1")||k("+0x1")),A=function(t){return m(b,t)&&f((function(){v(t)}))},T=function(t){var i=arguments.length<1?0:k(C(t));return A(this)?p(Object(i),this,T):i};T.prototype=b,z&&!e&&(b.constructor=T),h({global:!0,constructor:!0,wrap:!0,forced:z},{Number:T});var G=function(t,i){for(var s,h=a?y(i):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),e=0;h.length>e;e++)n(i,s=h[e])&&!n(t,s)&&j(t,s,l(i,s))};e&&w&&G(o[d],w),(z||e)&&G(o[d],k)},1626:function(t,i,s){var h=s(7263),e=s(4193),a=s(6544),c=s(4012),o=s(1324);h({target:"Object",stat:!0,forced:!e||a((function(){c.f(1)}))},{getOwnPropertySymbols:function(t){var i=c.f;return i?i(o(t)):[]}})},5101:function(t,i,s){var h=s(7263),e=s(6544),a=s(1324),c=s(729),o=s(926);h({target:"Object",stat:!0,forced:e((function(){c(1)})),sham:!o},{getPrototypeOf:function(t){return c(a(t))}})},6394:function(t,i,s){var h=s(8191),e=s(3746),a=s(3060);h||e(Object.prototype,"toString",a,{unsafe:!0})},3080:function(t,i,s){var h=s(7263),e=s(5897),a=s(1611),c=s(1335),o=s(1186),r=s(2569),_=s(794),n=s(3590),p=s(6544),m=e("Reflect","construct"),u=Object.prototype,g=[].push,f=p((function(){function t(){}return!(m((function(){}),[],t)instanceof t)})),y=!p((function(){m((function(){}))})),l=f||y;h({target:"Reflect",stat:!0,forced:l,sham:l},{construct:function(t,i){o(t),r(i);var s=arguments.length<3?t:o(arguments[2]);if(y&&!f)return m(t,i,s);if(t==s){switch(i.length){case 0:return new t;case 1:return new t(i[0]);case 2:return new t(i[0],i[1]);case 3:return new t(i[0],i[1],i[2]);case 4:return new t(i[0],i[1],i[2],i[3])}var h=[null];return a(g,h,i),new(a(c,t,h))}var e=s.prototype,p=n(_(e)?e:u),l=a(t,p,i);return _(l)?l:p}})},2322:function(t,i,s){"use strict";var h=s(7263),e=s(8445);h({target:"RegExp",proto:!0,forced:/./.exec!==e},{exec:e})},4669:function(t,i,s){"use strict";var h=s(4340).PROPER,e=s(3746),a=s(2569),c=s(8320),o=s(6544),r=s(640),_="toString",n=RegExp.prototype[_],p=o((function(){return"/a/b"!=n.call({source:"a",flags:"b"})})),m=h&&n.name!=_;(p||m)&&e(RegExp.prototype,_,(function(){var t=a(this);return"/"+c(t.source)+"/"+c(r(t))}),{unsafe:!0})},2129:function(t,i,s){"use strict";var h=s(6389).charAt,e=s(8320),a=s(2743),c=s(59),o=s(1002),r="String Iterator",_=a.set,n=a.getterFor(r);c(String,"String",(function(t){_(this,{type:r,string:e(t),index:0})}),(function(){var t,i=n(this),s=i.string,e=i.index;return e>=s.length?o(void 0,!0):(t=h(s,e),i.index+=t.length,o(t,!1))}))},5017:function(t,i,s){"use strict";var h=s(8262),e=s(783),a=s(2569),c=s(8505),o=s(97),r=s(8320),_=s(3955),n=s(911),p=s(6733),m=s(4214);e("match",(function(t,i,s){return[function(i){var s=_(this),e=c(i)?void 0:n(i,t);return e?h(e,i,s):new RegExp(i)[t](r(s))},function(t){var h=a(this),e=r(t),c=s(i,h,e);if(c.done)return c.value;if(!h.global)return m(h,e);var _=h.unicode;h.lastIndex=0;for(var n,u=[],g=0;null!==(n=m(h,e));){var f=r(n[0]);u[g]=f,""===f&&(h.lastIndex=p(e,o(h.lastIndex),_)),g++}return 0===g?null:u}]}))},1142:function(t,i,s){s(7263)({target:"String",proto:!0},{repeat:s(3812)})},6553:function(t,i,s){"use strict";var h=s(7263),e=s(8262),a=s(7386),c=s(3955),o=s(9212),r=s(8505),_=s(7574),n=s(8320),p=s(911),m=s(640),u=s(4305),g=s(3649),f=s(6268),y=g("replace"),l=TypeError,j=a("".indexOf),v=a("".replace),x=a("".slice),d=Math.max,k=function(t,i,s){return s>t.length?-1:""===i?s:j(t,i,s)};h({target:"String",proto:!0},{replaceAll:function(t,i){var s,h,a,g,w,b,S,I,P,C=c(this),M=0,z=0,A="";if(!r(t)){if((s=_(t))&&(h=n(c(m(t))),!~j(h,"g")))throw l("`.replaceAll` does not allow non-global regexes");if(a=p(t,y))return e(a,t,C,i);if(f&&s)return v(n(C),t,i)}for(g=n(C),w=n(t),(b=o(i))||(i=n(i)),S=w.length,I=d(1,S),M=k(g,w,0);-1!==M;)P=b?n(i(w,M,g)):u(w,g,M,[],void 0,i),A+=x(g,z,M)+P,z=M+S,M=k(g,w,M+I);return z<g.length&&(A+=x(g,z)),A}})},3296:function(t,i,s){"use strict";var h=s(1611),e=s(8262),a=s(7386),c=s(783),o=s(6544),r=s(2569),_=s(9212),n=s(8505),p=s(7486),m=s(97),u=s(8320),g=s(3955),f=s(6733),y=s(911),l=s(4305),j=s(4214),v=s(3649)("replace"),x=Math.max,d=Math.min,k=a([].concat),w=a([].push),b=a("".indexOf),S=a("".slice),I="$0"==="a".replace(/./,"$0"),P=!!/./[v]&&""===/./[v]("a","$0");c("replace",(function(t,i,s){var a=P?"$":"$0";return[function(t,s){var h=g(this),a=n(t)?void 0:y(t,v);return a?e(a,t,h,s):e(i,u(h),t,s)},function(t,e){var c=r(this),o=u(t);if("string"==typeof e&&-1===b(e,a)&&-1===b(e,"$<")){var n=s(i,c,o,e);if(n.done)return n.value}var g=_(e);g||(e=u(e));var y=c.global;if(y){var v=c.unicode;c.lastIndex=0}for(var I=[];;){var P=j(c,o);if(null===P)break;if(w(I,P),!y)break;""===u(P[0])&&(c.lastIndex=f(o,m(c.lastIndex),v))}for(var C,M="",z=0,A=0;A<I.length;A++){for(var T=u((P=I[A])[0]),G=x(d(p(P.index),o.length),0),B=[],O=1;O<P.length;O++)w(B,void 0===(C=P[O])?C:String(C));var E=P.groups;if(g){var D=k([T],B,G,o);void 0!==E&&w(D,E);var R=u(h(e,void 0,D))}else R=l(T,o,G,B,E,e);G>=z&&(M+=S(o,z,G)+R,z=G+T.length)}return M+S(o,z)}]}),!!o((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}))||!I||P)},7802:function(t,i,s){"use strict";var h=s(7263),e=s(7583),a=s(8262),c=s(7386),o=s(6268),r=s(8494),_=s(4193),n=s(6544),p=s(2870),m=s(2447),u=s(2569),g=s(2977),f=s(8734),y=s(8320),l=s(4677),j=s(3590),v=s(5432),x=s(9275),d=s(3130),k=s(4012),w=s(6683),b=s(4615),S=s(8728),I=s(112),P=s(3746),C=s(7836),M=s(9137),z=s(4639),A=s(8284),T=s(3649),G=s(491),B=s(1513),O=s(8369),E=s(8821),D=s(2743),R=s(4805).forEach,L=M("hidden"),N="Symbol",F="prototype",W=D.set,Y=D.getterFor(N),Z=Object[F],H=e.Symbol,$=H&&H[F],U=e.TypeError,K=e.QObject,q=w.f,V=b.f,X=d.f,J=I.f,Q=c([].push),tt=C("symbols"),it=C("op-symbols"),st=C("wks"),ht=!K||!K[F]||!K[F].findChild,et=r&&n((function(){return 7!=j(V({},"a",{get:function(){return V(this,"a",{value:7}).a}})).a}))?function(t,i,s){var h=q(Z,i);h&&delete Z[i],V(t,i,s),h&&t!==Z&&V(Z,i,h)}:V,at=function(t,i){var s=tt[t]=j($);return W(s,{type:N,tag:t,description:i}),r||(s.description=i),s},ct=function(t,i,s){t===Z&&ct(it,i,s),u(t);var h=f(i);return u(s),p(tt,h)?(s.enumerable?(p(t,L)&&t[L][h]&&(t[L][h]=!1),s=j(s,{enumerable:l(0,!1)})):(p(t,L)||V(t,L,l(1,{})),t[L][h]=!0),et(t,h,s)):V(t,h,s)},ot=function(t,i){u(t);var s=g(i),h=v(s).concat(pt(s));return R(h,(function(i){r&&!a(rt,s,i)||ct(t,i,s[i])})),t},rt=function(t){var i=f(t),s=a(J,this,i);return!(this===Z&&p(tt,i)&&!p(it,i))&&(!(s||!p(this,i)||!p(tt,i)||p(this,L)&&this[L][i])||s)},_t=function(t,i){var s=g(t),h=f(i);if(s!==Z||!p(tt,h)||p(it,h)){var e=q(s,h);return!e||!p(tt,h)||p(s,L)&&s[L][h]||(e.enumerable=!0),e}},nt=function(t){var i=X(g(t)),s=[];return R(i,(function(t){p(tt,t)||p(z,t)||Q(s,t)})),s},pt=function(t){var i=t===Z,s=X(i?it:g(t)),h=[];return R(s,(function(t){!p(tt,t)||i&&!p(Z,t)||Q(h,tt[t])})),h};_||(H=function(){if(m($,this))throw U("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?y(arguments[0]):void 0,i=A(t),s=function(t){this===Z&&a(s,it,t),p(this,L)&&p(this[L],i)&&(this[L][i]=!1),et(this,i,l(1,t))};return r&&ht&&et(Z,i,{configurable:!0,set:s}),at(i,t)},P($=H[F],"toString",(function(){return Y(this).tag})),P(H,"withoutSetter",(function(t){return at(A(t),t)})),I.f=rt,b.f=ct,S.f=ot,w.f=_t,x.f=d.f=nt,k.f=pt,G.f=function(t){return at(T(t),t)},r&&(V($,"description",{configurable:!0,get:function(){return Y(this).description}}),o||P(Z,"propertyIsEnumerable",rt,{unsafe:!0}))),h({global:!0,constructor:!0,wrap:!0,forced:!_,sham:!_},{Symbol:H}),R(v(st),(function(t){B(t)})),h({target:N,stat:!0,forced:!_},{useSetter:function(){ht=!0},useSimple:function(){ht=!1}}),h({target:"Object",stat:!0,forced:!_,sham:!r},{create:function(t,i){return void 0===i?j(t):ot(j(t),i)},defineProperty:ct,defineProperties:ot,getOwnPropertyDescriptor:_t}),h({target:"Object",stat:!0,forced:!_},{getOwnPropertyNames:nt}),O(),E(H,N),z[L]=!0},8407:function(t,i,s){"use strict";var h=s(7263),e=s(8494),a=s(7583),c=s(7386),o=s(2870),r=s(9212),_=s(2447),n=s(8320),p=s(4615).f,m=s(3478),u=a.Symbol,g=u&&u.prototype;if(e&&r(u)&&(!("description"in g)||void 0!==u().description)){var f={},y=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:n(arguments[0]),i=_(g,this)?new u(t):void 0===t?u():u(t);return""===t&&(f[i]=!0),i};m(y,u),y.prototype=g,g.constructor=y;var l="Symbol(test)"==String(u("test")),j=c(g.valueOf),v=c(g.toString),x=/^Symbol\((.*)\)[^)]+$/,d=c("".replace),k=c("".slice);p(g,"description",{configurable:!0,get:function(){var t=j(this);if(o(f,t))return"";var i=v(t),s=l?k(i,7,-1):d(i,x,"$1");return""===s?void 0:s}}),h({global:!0,constructor:!0,forced:!0},{Symbol:y})}},113:function(t,i,s){var h=s(7263),e=s(5897),a=s(2870),c=s(8320),o=s(7836),r=s(2471),_=o("string-to-symbol-registry"),n=o("symbol-to-string-registry");h({target:"Symbol",stat:!0,forced:!r},{for:function(t){var i=c(t);if(a(_,i))return _[i];var s=e("Symbol")(i);return _[i]=s,n[s]=i,s}})},8288:function(t,i,s){s(1513)("iterator")},2004:function(t,i,s){s(7802),s(113),s(3385),s(4415),s(1626)},3385:function(t,i,s){var h=s(7263),e=s(2870),a=s(5871),c=s(5637),o=s(7836),r=s(2471),_=o("symbol-to-string-registry");h({target:"Symbol",stat:!0,forced:!r},{keyFor:function(t){if(!a(t))throw TypeError(c(t)+" is not a symbol");if(e(_,t))return _[t]}})},9831:function(t,i,s){var h=s(1513),e=s(8369);h("toPrimitive"),e()},3607:function(t,i,s){s(6553)},4655:function(t,i,s){var h=s(7583),e=s(6778),a=s(9307),c=s(5677),o=s(57),r=s(3649),_=r("iterator"),n=r("toStringTag"),p=c.values,m=function(t,i){if(t){if(t[_]!==p)try{o(t,_,p)}catch(i){t[_]=p}if(t[n]||o(t,n,i),e[i])for(var s in c)if(t[s]!==c[s])try{o(t,s,c[s])}catch(i){t[s]=c[s]}}};for(var u in e)m(h[u]&&h[u].prototype,u);m(a,"DOMTokenList")}},i={};function s(h){var e=i[h];if(void 0!==e)return e.exports;var a=i[h]={exports:{}};return t[h](a,a.exports,s),a.exports}s.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),function(){"use strict";function t(t,i){if(2==arguments.length){this._dat=document.createElement("canvas"),this._dat.width=t,this._dat.height=i,this._width=t,this._height=i;var s=this._dat.getContext("2d");s.lineWidth=1.6,s.lineCap="round",s.save()}else this._dat=null,this._width=-1,this._height=-1;this._loaded=!1,this._error=!1,this._g=null}function i(t){t.onerror()}function h(t){this._ctx=t._dat.getContext("2d"),this._ctx&&(this._ctx.restore(),this._ctx.save()),this._color=e.black,this._font=new a(a.DIALOG,a.PLAIN,10)}function e(t,i,s,h){this.r=t>255?255:t<0?0:t,this.g=i>255?255:i<0?0:i,this.b=s>255?255:s<0?0:s,this.a=4==arguments.length?h>255?255:h<0?0:h:255}function a(t,i,s){this._name=t,this._style=i,this._size=s}function c(t){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c(t)}function o(t,i){for(var s=0;s<i.length;s++){var h=i[s];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(t,(void 0,e=function(t,i){if("object"!==c(t)||null===t)return t;var s=t[Symbol.toPrimitive];if(void 0!==s){var h=s.call(t,"string");if("object"!==c(h))return h;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(h.key),"symbol"===c(e)?e:String(e)),h)}var e}s(2322),s(3296),s(3607),s(5017),s(4458),s(6394),s(1271),s(288),s(4669),s(9831),s(2466),s(2004),s(8407),s(717),s(8288),s(5677),s(2129),s(4655),t.prototype.load=function(t){this._loaded=!1,this._error=!1,this._width=-1,this._height=-1,this._dat=new Image;var s=this;this._dat.onload=function(){s.onload()},this._dat.onerror=function(){i(s)},this._dat.onabort=function(){i(s)},this._dat.ontimeout=function(){i(s)},this._dat.src=t,this._dat.complete&&this.onload()},t.prototype.onload=function(){this._loaded=!0,this._width=this._dat.naturalWidth,this._height=this._dat.naturalHeight},t.prototype.onerror=function(){this._error=!0,this._dat=null},t.prototype.getGraphics=function(){return this._width<0?null:(this._g=new h(this),this._g)},t.prototype.createGraphics=function(){return this.getGraphics()},h.prototype.drawLine=function(t,i,s,h){return null!=this._ctx&&(this._ctx.beginPath(),this._ctx.moveTo(t,i),this._ctx.lineTo(s,h),this._ctx.stroke(),!0)},h.prototype.drawImage=function(t,i,s,h,e,a,c,o,r,_){if(null==t._dat)return!1;if(null==this._ctx)return!1;try{if(arguments.length<=4)return this._ctx.drawImage(t._dat,i,s),!0;if(arguments.length<=6)return this._ctx.drawImage(t._dat,i,s,h,e),!0;if(arguments.length<=10)return this._ctx.drawImage(t._dat,i,s,h,e,a,c,o,r),!0}catch(t){}return!1},h.prototype.drawRect=function(t,i,s,h){return null!=this._ctx&&(this._ctx.strokeRect(t,i,s,h),!0)},h.prototype.fillRect=function(t,i,s,h){return null!=this._ctx&&(this._ctx.fillRect(t,i,s,h),!0)},h.prototype.drawPolygon=function(t,i,s){if(null==this._ctx)return!1;this._ctx.beginPath(),this._ctx.moveTo(t[0],i[0]);for(var h=1;h<s;h++)this._ctx.lineTo(t[h],i[h]);return this._ctx.closePath(),this._ctx.stroke(),!0},h.prototype.fillPolygon=function(t,i,s){if(null==this._ctx)return!1;this._ctx.beginPath(),this._ctx.moveTo(t[0],i[0]);for(var h=1;h<s;h++)this._ctx.lineTo(t[h],i[h]);return this._ctx.closePath(),this._ctx.fill(),!0},h.prototype.drawOval=function(t,i,s,h){return null!=this._ctx&&(this.drawArc(t,i,s,h,0,2*Math.PI),!0)},h.prototype.fillOval=function(t,i,s,h){return null!=this._ctx&&(this.fillArc(t,i,s,h,0,2*Math.PI),!0)},h.prototype.drawArc=function(t,i,s,h,e,a){if(null==this._ctx)return!1;var c=h/s;return this._ctx.save(),this._ctx.beginPath(),this._ctx.scale(1,c),this._ctx.arc(t+s/2,(i+h/2)/c,s/2,e,e+a,a<0),this._ctx.stroke(),this._ctx.restore(),!0},h.prototype.fillArc=function(t,i,s,h,e,a){if(null==this._ctx)return!1;var c=h/s;return this._ctx.save(),this._ctx.beginPath(),this._ctx.scale(1,c),this._ctx.arc(t+s/2,(i+h/2)/c,s/2,e,e+a,a<0),this._ctx.lineTo(t+s/2,(i+h/2)/c),this._ctx.closePath(),this._ctx.fill(),this._ctx.restore(),!0},h.prototype.setGlobalAlpha=function(t){return null!=this._ctx&&(t<0&&(t=0),t>255&&(t=255),this._ctx.globalAlpha=t/255,!0)},h.prototype.setColor=function(t){if(null==this._ctx)return!1;this._color=new e(t.r,t.g,t.b,t.a);var i="rgba("+t.r+", "+t.g+", "+t.b+", "+t.a/255+")";return this._ctx.strokeStyle=i,this._ctx.fillStyle=i,!0},h.prototype.setFont=function(t){if(null==this._ctx)return!1;var i="";return t._style&a.ITALIC&&(i+="italic "),t._style&a.BOLD&&(i+="bold "),i+="".concat(t._size,"px "),t._name===a.SERIF?i+=a.SERIF_str:t._name===a.SANS_SERIF?i+=a.SANS_SERIF_str:t._name===a.MONOSPACED?i+=a.MONOSPACED_str:t._name===a.DIALOG?i+=a.DIALOG_str:i+='"'.concat(t._name,'"'),this._ctx.font=i,this._font=t,!0},h.prototype.drawString=function(t,i,s){return null!=this._ctx&&(this._ctx.fillText(t,i,s),!0)},h.prototype.translate=function(t,i){return null!=this._ctx&&(this._ctx.translate(t,i),!0)},h.prototype.rotate=function(t,i,s){return null!=this._ctx&&(1==arguments.length?this._ctx.rotate(t):(this._ctx.translate(i,s),this._ctx.rotate(t),this._ctx.translate(-i,-s)),!0)},h.prototype.scale=function(t,i){return null!=this._ctx&&(this._ctx.scale(t,i),!0)},h.prototype.setClip=function(t){if(null==this._ctx)return!1;if("ellipse"==t){var i=arguments[4]/arguments[3];return this._ctx.beginPath(),this._ctx.save(),this._ctx.scale(1,i),this._ctx.arc(arguments[1]+arguments[3]/2,(arguments[2]+arguments[4]/2)/i,arguments[3]/2,0,2*Math.PI,!1),this._ctx.restore(),this._ctx.clip(),!0}if("rect"==t)return this._ctx.beginPath(),this._ctx.rect(arguments[1],arguments[2],arguments[3],arguments[4]),this._ctx.clip(),!0;if("polygon"==t){this._ctx.beginPath(),this._ctx.moveTo(arguments[1][0],arguments[2][0]);for(var s=1;s<arguments[3];s++)this._ctx.lineTo(arguments[1][s],arguments[2][s]);return this._ctx.closePath(),this._ctx.clip(),!0}return!1},h.prototype.copyArea=function(t,i,s,h,e,a){return null!=this._ctx&&(this._ctx.drawImage(this._ctx.canvas,t,i,s,h,t+e,i+a,s,h),!0)},h.prototype.dispose=function(){this._ctx.restore(),this._ctx.save()},e.prototype.getRed=function(){return this.r},e.prototype.getGreen=function(){return this.g},e.prototype.getBlue=function(){return this.b},e.white=new e(255,255,255),e.WHITE=e.white,e.lightGray=new e(192,192,192),e.LIGHT_GRAY=e.lightGray,e.gray=new e(128,128,128),e.GRAY=e.gray,e.darkGray=new e(64,64,64),e.DARK_GRAY=e.darkGray,e.black=new e(0,0,0),e.BLACK=e.black,e.red=new e(255,0,0),e.RED=e.red,e.pink=new e(255,175,175),e.PINK=e.pink,e.orange=new e(255,200,0),e.ORANGE=e.orange,e.yellow=new e(255,255,0),e.YELLOW=e.yellow,e.green=new e(0,255,0),e.GREEN=e.green,e.magenta=new e(255,0,255),e.MAGENTA=e.magenta,e.cyan=new e(0,255,255),e.CYAN=e.cyan,e.blue=new e(0,0,255),e.BLUE=e.blue,a.DIALOG="Dialog",a.DIALOG_INPUT="DialogInput",a.MONOSPACED="Monospaced",a.SANS_SERIF="SansSerif",a.SERIF="Serif",a.PLAIN=0,a.BOLD=1,a.ITALIC=2,a.SERIF_str="'Times New Roman','ＭＳ 明朝',serif",a.SANS_SERIF_str="Arial,'ＭＳ ゴシック',sans-serif",a.MONOSPACED_str="'Courier New',monospace",a.DIALOG_str="'Helvetica','Arial','ＭＳ ゴシック','HG ゴシックB Sun','HG ゴシックB',monospace";var r=function(){function i(t){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,i),this.ap=t,this.spt_kazu_x=10,this.spt_kazu_y=25,this.spt_kazu=this.spt_kazu_x*this.spt_kazu_y,this.spt_h_kijyun=3,this.di=new _t(512,320),this.backcolor=e.black,this.li=new Array(10),this.mt=[],this.os_img=this.ap.createImage(this.di.width,this.di.height),this.os_g=this.os_img.getGraphics(),this.os2_img=this.ap.createImage(this.di.width+96,this.di.height+96),this.os2_g=this.os2_img.getGraphics(),this.spt_img=nt(2,this.spt_kazu);var s=this.ap.getParameter("filename_pattern");this.apt_img=this.ap.getImage(s)}var s,h;return s=i,(h=[{key:"cut",value:function(){var i,s,h,e;for(s=0;s<=this.spt_kazu_y-1;s++)for(h=0;h<=this.spt_kazu_x-1;h++)i=10*s+h,this.spt_img[0][i]=new t(32,32),(e=this.spt_img[0][i].getGraphics()).drawImage(this.apt_img,32*h,32*s,32,32,0,0,32,32,null),s>=this.spt_h_kijyun?(this.spt_img[1][i]=new t(32,32),(e=this.spt_img[1][i].getGraphics()).scale(-1,1),e.drawImage(this.apt_img,32*h,32*s,32,32,-32,0,32,32,null)):this.spt_img[1][i]=this.spt_img[0][i];this.hi=this.spt_img[0]}},{key:"addListImage",value:function(t,i){this.li[t]=this.ap.getImage(i),this.mt.push(this.li[t])}},{key:"loadImage",value:function(){}},{key:"copyOS",value:function(t){t.drawImage(this.os_img,0,0,this.ap)}},{key:"fill",value:function(){this.os_g.setColor(this.backcolor),this.os_g.fillRect(0,0,this.di.width,this.di.height)}},{key:"fill2",value:function(){this.os2_g.setColor(this.backcolor),this.os2_g.fillRect(0,0,this.di.width+96,this.di.height+96)}},{key:"setBackcolor",value:function(t){this.backcolor=t}},{key:"drawPT",value:function(t,i,s,h){this.os_g.drawImage(this.spt_img[h][s],t,i,this.ap)}},{key:"drawPT2",value:function(t,i,s){this.os2_g.drawImage(this.hi[s],t,i,this.ap)}},{key:"drawBG2",value:function(t,i,s){this.os2_g.setColor(this.backcolor),this.os2_g.fillRect(t,i,32,32),this.os2_g.drawImage(this.hi[s],t,i,this.ap)}},{key:"drawBG3",value:function(t,i,s,h){this.os2_g.setColor(h),this.os2_g.fillRect(t,i,32,32),this.os2_g.drawImage(this.hi[s],t,i,this.ap)}},{key:"drawListImage",value:function(t,i,s){this.os_g.drawImage(this.li[s],t,i,this.ap)}}])&&o(s.prototype,h),Object.defineProperty(s,"prototype",{writable:!1}),i}();function _(){this.key_code=0,this.up_f=!1,this.down_f=!1,this.left_f=!1,this.right_f=!1,this.tr1_f=!1,this.tr2_f=!1,this.tr3_f=!1,this.start_f=!1,this.x_f=!1,this.z_f=!1,this.space_f=!1,this.left_c=0,this.right_c=0,this.up_c=0,this.down_c=0,this.tr1_c=0,this.codekey_f=new Array(256),this.left_right_lock=!1}function n(){this.button_f=!1,this.click_x=0,this.click_y=0,this.init=function(){this.button_f=!1,this.click_x=0,this.click_y=0}}function p(){this.c=0,this.x=0,this.y=0,this.vx=0,this.vy=0,this.wx=0,this.wy=0,this.c1=0,this.c2=0,this.c3=0,this.c4=0,this.c5=0,this.pt=0,this.pth=0,this.img=null,this.zs_x=0,this.zs_y=0,this.ac=0,this.level=0,this.jimen_f=!1,this.muki=0,this.direction=0,this.score=0,this.ss=0,this.gf=!1}function m(t){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m(t)}function u(t,i){return function(t){if(Array.isArray(t))return t}(t)||function(t,i){var s=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=s){var h,e,a,c,o=[],r=!0,_=!1;try{if(a=(s=s.call(t)).next,0===i){if(Object(s)!==s)return;r=!1}else for(;!(r=(h=a.call(s)).done)&&(o.push(h.value),o.length!==i);r=!0);}catch(t){_=!0,e=t}finally{try{if(!r&&null!=s.return&&(c=s.return(),Object(c)!==c))return}finally{if(_)throw e}}return o}}(t,i)||f(t,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(t,i){var s="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!s){if(Array.isArray(t)||(s=f(t))||i&&t&&"number"==typeof t.length){s&&(t=s);var h=0,e=function(){};return{s:e,n:function(){return h>=t.length?{done:!0}:{done:!1,value:t[h++]}},e:function(t){throw t},f:e}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,c=!0,o=!1;return{s:function(){s=s.call(t)},n:function(){var t=s.next();return c=t.done,t},e:function(t){o=!0,a=t},f:function(){try{c||null==s.return||s.return()}finally{if(o)throw a}}}}function f(t,i){if(t){if("string"==typeof t)return y(t,i);var s=Object.prototype.toString.call(t).slice(8,-1);return"Object"===s&&t.constructor&&(s=t.constructor.name),"Map"===s||"Set"===s?Array.from(t):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?y(t,i):void 0}}function y(t,i){(null==i||i>t.length)&&(i=t.length);for(var s=0,h=new Array(i);s<i;s++)h[s]=t[s];return h}function l(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}function j(t,i){for(var s=0;s<i.length;s++){var h=i[s];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(t,(void 0,e=function(t,i){if("object"!==m(t)||null===t)return t;var s=t[Symbol.toPrimitive];if(void 0!==s){var h=s.call(t,"string");if("object"!==m(h))return h;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(h.key),"symbol"===m(e)?e:String(e)),h)}var e}function v(t,i){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,i){return t.__proto__=i,t},v(t,i)}function x(t,i){if(i&&("object"===m(i)||"function"==typeof i))return i;if(void 0!==i)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function d(t){return d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},d(t)}_.prototype.init=function(){this.key_code=0,this.up_f=!1,this.down_f=!1,this.left_f=!1,this.right_f=!1,this.tr1_f=!1,this.tr2_f=!1,this.tr3_f=!1,this.start_f=!1,this.x_f=!1,this.z_f=!1,this.space_f=!1,this.left_c=0,this.right_c=0,this.up_c=0,this.down_c=0,this.tr1_c=0,this.left_right_lock=!1;for(var t=0;t<=255;t++)this.codekey_f[t]=!1},_.prototype.keyPressed=function(t){switch(this.key_code=t.keyCode,this.key_char=t.keyCode,this.key_code>=0&&this.key_code<=255&&(this.codekey_f[this.key_code]=!0),this.key_code){case 38:case 104:t.preventDefault(),this.up_f=!0;break;case 40:case 98:t.preventDefault(),this.down_f=!0,this.tr2_f=!0;break;case 37:case 100:t.preventDefault(),this.left_right_lock||(this.left_f=!0);break;case 39:case 102:t.preventDefault(),this.left_right_lock||(this.right_f=!0);break;case 90:t.preventDefault(),this.tr1_f=!0,this.z_f=!0;break;case 88:t.preventDefault(),this.tr2_f=!0,this.x_f=!0;break;case 67:t.preventDefault(),this.tr3_f=!0;break;case 32:t.preventDefault(),this.tr1_f=!0,this.space_f=!0,this.tr1_c=0;break;case 83:t.preventDefault(),this.start_f=!0}},_.prototype.keyReleased=function(t){var i=t.keyCode;switch(i>=0&&i<=255&&(this.codekey_f[i]=!1),i){case 38:case 104:this.up_f=!1;break;case 40:case 98:this.down_f=!1,this.tr2_f=!1;break;case 37:case 100:this.left_right_lock||(this.left_f=!1,this.left_c=0);break;case 39:case 102:this.left_right_lock||(this.right_f=!1,this.right_c=0);break;case 90:this.tr1_f=!1,this.z_f=!1,this.tr1_c=0;break;case 88:this.tr2_f=!1,this.x_f=!1;break;case 67:this.tr3_f=!1;break;case 32:this.tr1_f=!1,this.space_f=!1,this.tr1_c=0;break;case 83:this.start_f=!1}},_.prototype.getKeyCode=function(){return this.key_code},n.prototype.mousePressed=function(t){var i=t.target,s=i.getBoundingClientRect();this.button_f=!0,this.click_x=(t.clientX-s.left)/s.width*i.width,this.click_y=(t.clientY-s.top)/s.height*i.height},n.prototype.mouseReleased=function(t){this.button_f=!1},s(1646),p.prototype.init=function(){this.c=0,this.x=0,this.y=0,this.vx=0,this.vy=0,this.wx=0,this.wy=0,this.c1=0,this.c2=0,this.c3=0,this.c4=0,this.c5=0,this.pt=0,this.pth=0,this.img=null,this.zs_x=0,this.zs_y=0,this.ac=0,this.level=0,this.jimen_f=!1,this.muki=0,this.direction=0,this.score=0,this.ss=0,this.gf=!1},p.prototype.setPattern=function(t){},s(2070),s(5101),s(3080),s(3675);var k=1e3,w=1005,b=1010,S=1015,I=1100,P=1105,C=1110,M=1115,z=1200,A=1205,T=1210,G=1215,B=1250,O=1255,E=function(t){return(t%360+360)%360},D=function(t,i){if(t.length!==i.length)throw new Error("The given arrays do not have the same length.");return t.map((function(t,s){return[t,i[s]]}))},R=function(t){!function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),i&&v(t,i)}(c,t);var i,s,h,e,a=(h=c,e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=d(h);if(e){var s=d(this).constructor;t=Reflect.construct(i,arguments,s)}else t=i.apply(this,arguments);return x(this,t)});function c(){return l(this,c),a.apply(this,arguments)}return i=c,(s=[{key:"update",value:function(t){this.x>=t.maps.wx+1024||(this.move(t),this.checkCollision(t))}},{key:"move",value:function(t){var i=t.sl_wx+96,s=t.sl_wx+512-96-32;switch(this.c){case 40:this.c1<20&&this.c1++,15===this.c1&&t.mSet(t.maps.wx+256,t.maps.wy+128,2200),this.pt=0;break;case 60:this.updateDamage(t,150),this.pt=b;break;case 65:this.updateDamage(t,155),this.pt=S;break;case 67:this.dyingByGrenade(t),1===this.muki?this.pt=w:this.pt=k;break;case 70:this.updateDamage(t,250),this.pt=C;break;case 75:this.updateDamage(t,255),this.pt=M;break;case 77:this.dyingByGrenade(t),1===this.muki?this.pt=P:this.pt=I;break;case 80:this.updateDamage(t,350),this.pt=T;break;case 85:this.updateDamage(t,355),this.pt=G;break;case 87:this.dyingByGrenade(t),1===this.muki?this.pt=A:this.pt=z;break;case 100:2!==t.sl_step&&3!==t.sl_step||(this.c=110,this.c1=0),this.pt=k;break;case 110:this.boss1Attack(t,0),this.pt=k;break;case 115:this.boss1Attack(t,1),this.pt=w;break;case 150:this.x-=14,this.x<=i&&(this.x=i,this.c=115,this.c1=0),this.pt=k;break;case 155:this.x+=14,this.x>=s&&(this.x=s,this.c=110,this.c1=0),this.pt=w;break;case 200:2!==t.sl_step&&3!==t.sl_step||(this.c=210,this.c1=0),this.pt=I;break;case 210:this.boss2Attack(t,0),this.pt=I;break;case 215:this.boss2Attack(t,1),this.pt=P;break;case 250:this.x-=14,this.x<=i&&(this.x=i,this.c=215,this.c1=0),this.pt=I;break;case 255:this.x+=14,this.x>=s&&(this.x=s,this.c=210,this.c1=0),this.pt=P;break;case 300:2!==t.sl_step&&3!==t.sl_step||(t.boss3_type>=2&&t.boss3_type<=4?(this.c=360,this.vy=-24):this.c=310,this.c1=0),this.pt=z;break;case 310:this.boss3Attack(t,0),this.pt=z;break;case 315:this.boss3Attack(t,1),this.pt=A;break;case 350:this.x-=14,this.x<=i&&(this.x=i,t.boss3_type>=2&&t.boss3_type<=4?(this.c=365,this.vy=-24):this.c=315,this.c1=0),this.pt=z;break;case 355:this.x+=14,this.x>=s&&(this.x=s,t.boss3_type>=2&&t.boss3_type<=4?(this.c=360,this.vy=-24):this.c=310,this.c1=0),this.pt=A;break;case 360:this.pt=z,this.c1>=5&&this.c1<=25?this.pt=B:30===this.c1&&(this.pt=O),this.boss3TackleAttack(t,0);break;case 365:this.pt=A,this.c1>=5&&this.c1<=25?this.pt=O:30===this.c1&&(this.pt=B),this.boss3TackleAttack(t,1)}}},{key:"checkCollision",value:function(t){var i=t.co_j;if(i.c>=100&&i.c<200&&this.c>=100&&Math.abs(this.x-i.x)<42&&i.y>this.y-20&&i.y<this.y+40&&(Math.abs(this.x-i.x)<34&&i.vy>0&&this.isFumuable(t)?(this.fumu(t),i.y=this.y,i.vy=-320,t.j_jump_type=1,i.c=110,i.c1=-4,i.pt=109):t.jShinu(2)),t.jm_kazu>0&&this.c>=100)for(var s=0;s<=1;s++){var h=t.co_jm[s];h.c<100||Math.abs(this.x-h.x)<34&&Math.abs(this.y-h.y)<30&&(200===h.c?this.hitWithGrenade(t,h):(h.c=0,t.jm_kazu--))}}},{key:"boss1Attack",value:function(t,i){var s=1===i?-1:1;if(this.c1++,2===t.boss_type){var h,e=g(D([1,5,7,9,21,91,95,97,99,111,170,180],[-2,-4,-6,-8,-2,-2,-4,-6,-8,-2,-4,-2]));try{for(e.s();!(h=e.n()).done;){var a=u(h.value,2),c=a[0],o=a[1];if(this.c1===c){t.tSetBoss(this.x,this.y,150,o*s);break}}}catch(t){e.e(t)}finally{e.f()}this.c1>250&&(this.c1=250)}else if(3===t.boss_type){for(var r=0,_=[5,20,35,50,65,80,95,110];r<_.length;r++){var n=_[r];if(this.c1===n){t.tSetBoss(this.x,this.y,450,-3*s);break}}this.c1>250&&(this.c1=250)}else if(4===t.boss_type){var p,m=g(D([1,15,29,81,95,109,165],[-5,-3,-2,-5,-3,-2,-3]));try{for(m.s();!(p=m.n()).done;){var f=u(p.value,2),y=f[0],l=f[1];if(this.c1===y){t.tSetBoss(this.x,this.y,650,l*s);break}}}catch(t){m.e(t)}finally{m.f()}this.c1>250&&(this.c1=250)}else{if(3===this.c1)t.mSet2(this.x,this.y,500,-4,-18),t.mSet2(this.x,this.y,500,4,-18);else if(14===this.c1)t.mSet2(this.x,this.y,500,-6,-20),t.mSet2(this.x,this.y,500,6,-20);else if(20===this.c1)t.mSet2(this.x,this.y,500,-3,-24),t.mSet2(this.x,this.y,500,3,-24);else if(this.c1>=28&&this.c1<=98)this.c1%7==0&&t.mSet2(this.x,this.y,500,(-15+t.ranInt(20))*s,-30);else if(130===this.c1){var j=t.ranInt(8)+3;t.mSet2(this.x,this.y,500,j,-30),t.mSet2(this.x,this.y,500,-j,-30)}this.c1>=150&&(this.c1=98)}}},{key:"boss2Attack",value:function(t,i){this.c1++,2===t.boss2_type?(10===this.c1||85===this.c1||215===this.c1?this.boss2BubbleBeam(t,0):35===this.c1||110===this.c1||295===this.c1?this.boss2BubbleBeam(t,15):60!==this.c1&&135!==this.c1&&375!==this.c1||this.boss2BubbleBeam(t,30),this.c1>445&&(this.c1=0)):(5!==this.c1&&35!==this.c1&&65!==this.c1&&110!==this.c1&&185!==this.c1||t.mSet(this.x,this.y,90),this.c1>185&&(this.c1=110))}},{key:"boss2BubbleBeam",value:function(t,i){for(var s=0;s<8;s++){var h=3.14*E(45*s+i)/180,e=pt(8*Math.cos(h),!0,t),a=-pt(8*Math.sin(h),!0,t);t.mSet2(this.x,this.y-8,710,e,a)}}},{key:"boss3Attack",value:function(t,i){var s=1===i?-1:1;this.c1++;var h,e=g(D([1,15,29,65,80,105,147,520,530],[-5,-10,-15,-20,-5,-15,-10,4,-5]));try{for(e.s();!(h=e.n()).done;){var a=u(h.value,2),c=a[0],o=a[1];if(this.c1===c){t.mSet2(this.x,this.y,800,o*s,-32);break}}}catch(t){e.e(t)}finally{e.f()}15===this.c1?(1!==i&&t.co_j.x>this.x-64&&(this.c1=500),1===i&&t.co_j.x<this.x+64&&(this.c1=500)):237===this.c1?this.c1=0:this.c1>=530&&(this.c1=1)}},{key:"boss3TackleAttack",value:function(t,i){var s=this,h=1===i?-1:1,e=t.sl_wx+16,a=t.sl_wx+16+512-64,c=t.sl_wx+96,o=t.sl_wx+512-96-32,r=3===t.boss3_type,_=4===t.boss3_type,n=function(t,i,h,e,a){t<=0&&s.x<=i?(e&&(s.x=i),s.c1=a):t>=0&&s.x>=h&&(e&&(s.x=h),s.c1=a)};if(this.c1<25)this.c1++;else if(25===this.c1||30===this.c1){var p=25===this.c1,m=p?30:40;if(_){var u=(p?-3:4)*h;this.x+=u,this.vy<24&&(this.vy=Math.min(this.vy+2,24)),this.y+=this.vy,this.y>=t.boss_kijyun_y&&(this.y=t.boss_kijyun_y,this.vy=-24,n(u,e,a,!1,m))}else{var g=0;g=p?r?-18:-12:r?18:8,g*=h,this.x+=g,n(g,e,a,!0,m)}}else if(40===this.c1){var f=-2*h;this.x+=f,n(f,o,c,!0,-20)}}},{key:"updateDamage",value:function(t,i){this.c1++,this.c4<=0?this.c1>=26&&(this.c=40,this.c1=0,t.addScore(10)):this.c1>=11&&(this.c=i)}},{key:"dyingByGrenade",value:function(t){this.vy+=4,this.vy>28&&(this.vy=28),this.x+=this.vx,this.y+=this.vy,this.y>=t.maps.wy+320+16&&(this.c=40,this.c1=0,t.addScore(10))}},{key:"isFumuable",value:function(t){return!(this.pt===B||this.pt===O)}},{key:"fumu",value:function(t){this.c4--,this.c1=0;var i=1===this.c4?1:0;switch(this.getBossNumber()){case 1:this.c=i?65:60,this.pt=i?S:b;break;case 2:this.c=i?75:70,this.pt=i?M:C;break;case 3:this.c=i?85:80,this.pt=i?G:T}}},{key:"hitWithGrenade",value:function(t,i){200===i.c&&(this.c<100||(i.c=50,i.c1=1,i.c2=20,1!==t.grenade_type&&5!==t.grenade_type||this.killGrenade(t,i.vx<0?1:0)))}},{key:"killGrenade",value:function(t,i){switch(this.vy=-24,this.c1=0,this.muki=i,this.vx=this.muki?-4:4,this.getBossNumber()){case 1:this.c=67,this.pt=this.muki?w:k;break;case 2:this.c=77,this.pt=this.muki?P:I;break;case 3:this.c=87,this.pt=this.muki?A:z}}},{key:"getBossNumber",value:function(){return this.c>=60&&this.c<70||this.c>=100&&this.c<200?1:this.c>=70&&this.c<80||this.c>=200&&this.c<300?2:this.c>=80&&this.c<90||this.c>=300&&this.c<400?3:-1}}])&&j(i.prototype,s),Object.defineProperty(i,"prototype",{writable:!1}),c}(p);function L(t,i,s,h){this.gg=t,this.gk=i,this.km=s,this.mp=h,this.co_j=new p,this.map_string=new Array(9),this.map_bg=nt(15,9),this.stage_c=new Array(10),this.stage_x=new Array(10),this.stage_y=new Array(10),this.stage_cf=new Array(10),this.ie_c=new Array(16),this.ie_x=new Array(16),this.ie_y=new Array(16),this.zure_x=16,this.zure_y=24,this.mp_mode=0,this.cc_p1_x=new Array(17),this.cc_p1_y=new Array(17),this.cc_p2_x=new Array(17),this.cc_p2_y=new Array(17),this.cc_p1_x[13]=-200,this.cc_p1_y[13]=160,this.cc_p1_x[14]=-200,this.cc_p1_y[14]=520,this.cc_p1_x[15]=712,this.cc_p1_y[15]=520,this.cc_p1_x[16]=712,this.cc_p1_y[16]=160,this.cc_p2_x[13]=712,this.cc_p2_y[13]=160,this.cc_p2_x[14]=712,this.cc_p2_y[14]=-200,this.cc_p2_x[15]=-200,this.cc_p2_y[15]=-200,this.cc_p2_x[16]=-200,this.cc_p2_y[16]=160}function N(t,i,s){this.gg=t,this.gk=i,this.name_crys=s,this.hi=this.gg.spt_img[0],this.hih=this.gg.spt_img,this.hg=this.gg.os_g,this.ap=this.gg.ap,this.c=new Array(16),this.x=new Array(16),this.y=new Array(16),this.width=new Array(16),this.selectedIndex=new Array(16),this.item_kazu=new Array(16),this.message=new Array(16),this.item=nt(16,16),this.item_int=nt(16,16),this.item_color=new Array(16),this.list_IDlist=new Array(16),this.aw=-1,this.mode=0,this.kettei_c=0,this.cancel_c=0,this.initAll()}function F(t){return F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},F(t)}function W(t,i){return function(t){if(Array.isArray(t))return t}(t)||function(t,i){var s=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=s){var h,e,a,c,o=[],r=!0,_=!1;try{if(a=(s=s.call(t)).next,0===i){if(Object(s)!==s)return;r=!1}else for(;!(r=(h=a.call(s)).done)&&(o.push(h.value),o.length!==i);r=!0);}catch(t){_=!0,e=t}finally{try{if(!r&&null!=s.return&&(c=s.return(),Object(c)!==c))return}finally{if(_)throw e}}return o}}(t,i)||function(t,i){if(t){if("string"==typeof t)return Y(t,i);var s=Object.prototype.toString.call(t).slice(8,-1);return"Object"===s&&t.constructor&&(s=t.constructor.name),"Map"===s||"Set"===s?Array.from(t):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?Y(t,i):void 0}}(t,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Y(t,i){(null==i||i>t.length)&&(i=t.length);for(var s=0,h=new Array(i);s<i;s++)h[s]=t[s];return h}function Z(t,i){for(var s=0;s<i.length;s++){var h=i[s];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(t,(void 0,e=function(t,i){if("object"!==F(t)||null===t)return t;var s=t[Symbol.toPrimitive];if(void 0!==s){var h=s.call(t,"string");if("object"!==F(h))return h;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(h.key),"symbol"===F(e)?e:String(e)),h)}var e}L.prototype.worldInit=function(){for(var t=0;t<=9;t++)this.stage_c[t]=0,this.stage_cf[t]=!1;for(this.stage_kcID=0,this.door_koID=0,this.dokan_khID=0,this.door_score_open=0,t=0;t<=15;t++)this.ie_c[t]=0;for(this.co_j.x=0,this.co_j.y=0,this.co_j.vx=0,this.co_j.vy=0,this.co_j.muki=1,this.co_j.ac=0,this.mp.tr1_c=2,this.shop_kattaitem=-1,this.mp_mode=0,this.km.initAll(),this.km.mode=100,t=0;t<=8;t++){var i=this.gg.ap.getParameter("chizu-"+t);i+="...............",this.map_string[t]=i}for(t=0;t<=8;t++)for(var s=0;s<=14;s++){var h=this.map_string[t].charAt(s);"A"==h?(this.co_j.x=32*s,this.co_j.y=32*t,this.map_bg[s][t]=220):"B"==h?(this.map_bg[s][t]=216,this.ie_c[3]=100,this.ie_x[3]=32*s,this.ie_y[3]=32*t):"C"==h?(this.map_bg[s][t]=217,this.ie_c[4]=100,this.ie_x[4]=32*s,this.ie_y[4]=32*t):"D"==h?(this.map_bg[s][t]=218,this.ie_c[10]=100,this.ie_x[10]=32*s,this.ie_y[10]=32*t):"E"==h?(this.map_bg[s][t]=219,this.ie_c[11]=100,this.ie_x[11]=32*s,this.ie_y[11]=32*t):"a"==h?0==this.stage_c[0]?(this.map_bg[s][t]=223,this.stage_c[0]=100,this.stage_x[0]=32*s,this.stage_y[0]=32*t):this.map_bg[s][t]=220:"b"==h?0==this.stage_c[1]?(this.map_bg[s][t]=224,this.stage_c[1]=100,this.stage_x[1]=32*s,this.stage_y[1]=32*t):this.map_bg[s][t]=220:"c"==h?0==this.stage_c[2]?(this.map_bg[s][t]=225,this.stage_c[2]=100,this.stage_x[2]=32*s,this.stage_y[2]=32*t):this.map_bg[s][t]=220:"d"==h?0==this.stage_c[3]?(this.map_bg[s][t]=226,this.stage_c[3]=100,this.stage_x[3]=32*s,this.stage_y[3]=32*t):this.map_bg[s][t]=220:"e"==h?(this.map_bg[s][t]=213,this.ie_c[0]=100,this.ie_x[0]=32*s,this.ie_y[0]=32*t):"f"==h?(this.map_bg[s][t]=214,this.ie_c[1]=100,this.ie_x[1]=32*s,this.ie_y[1]=32*t):"g"==h?(this.map_bg[s][t]=215,this.ie_c[2]=100,this.ie_x[2]=32*s,this.ie_y[2]=32*t):"h"==h?(this.map_bg[s][t]=212,this.ie_c[9]=100,this.ie_x[9]=32*s,this.ie_y[9]=32*t):"i"==h?(this.map_bg[s][t]=206,this.ie_c[5]=100,this.ie_x[5]=32*s,this.ie_y[5]=32*t):"j"==h?(this.map_bg[s][t]=207,this.ie_c[6]=100,this.ie_x[6]=32*s,this.ie_y[6]=32*t):"k"==h?(this.map_bg[s][t]=208,this.ie_c[7]=100,this.ie_x[7]=32*s,this.ie_y[7]=32*t):"l"==h?(this.map_bg[s][t]=209,this.ie_c[8]=100,this.ie_x[8]=32*s,this.ie_y[8]=32*t):this.map_bg[s][t]="1"==h?220:"2"==h?221:"3"==h?222:0}this.co_j.x+16>256&&(this.co_j.muki=0),this.drawOs2()},L.prototype.worldInit2=function(){this.co_j.vx=0,this.co_j.vy=0,this.co_j.muki=1,this.co_j.ac=0,this.mp.tr1_c=2,this.mp_mode=200,this.cc_hankei=12,this.stage_kcID=0,this.door_koID=0,this.shop_kattaitem=-1,this.door_score_open=0,100==this.ie_c[9]&&this.mp.score>=this.mp.door_score&&(this.ie_c[9]=50,this.door_score_open=1),this.km.initAll(),this.km.mode=100,this.drawOs2()},L.prototype.worldInit3=function(){this.stage_kcID=this.checkStage(),this.stage_cf[this.stage_kcID-1]=!0,this.stage_c[this.stage_kcID-1]=50;for(var t=0,i=0;i<=2;i++)this.stage_cf[i]&&t++;this.door_koID=0,t>=1&&100==this.ie_c[t-1]&&(this.ie_c[t-1]=50,this.door_koID=t),this.door_score_open=0,100==this.ie_c[9]&&this.mp.score>=this.mp.door_score&&(this.ie_c[9]=50,this.door_score_open=1),this.co_j.vx=0,this.co_j.vy=0,this.co_j.muki=1,this.co_j.ac=0,this.mp.tr1_c=2,this.co_j.pt=0,this.shop_kattaitem=-1,this.mp_mode=200,this.cc_hankei=12,this.km.initAll(),this.km.mode=100,this.drawOs2()},L.prototype.drawOs2=function(){this.gg.setBackcolor(new e(0,127,0)),this.gg.fill2(),this.gg.os2_g.drawImage(this.gg.li[3],0,0,this.gg.ap);for(var t=0;t<=8;t++)for(var i=0;i<=14;i++)221==(s=this.map_bg[i][t])?(this.gg.drawPT2(32*i+16,32*t+24-16,221),this.gg.drawPT2(32*i+16,32*t+24+16,221)):222==s&&(this.gg.drawPT2(32*i+16-16,32*t+24,222),this.gg.drawPT2(32*i+16+16,32*t+24,222));for(t=0;t<=8;t++)for(i=0;i<=14;i++){var s;61!=(s=this.map_bg[i][t])&&62!=s&&256!=s&&(s>=216&&s<=219||s>=206&&s<=209?this.gg.drawPT2(32*i+16,32*t+24-7,s):s>=212&&s<=215?(this.gg.drawPT2(32*i+16-16,32*t+24,222),this.gg.drawPT2(32*i+16+16,32*t+24,222),this.gg.drawPT2(32*i+16,32*t+24-7,s)):this.gg.drawPT2(32*i+16,32*t+24,s))}},L.prototype.drawMap=function(){this.gg.os_g.drawImage(this.gg.os2_img,0,0,this.gg.ap)},L.prototype.getBGZ=function(t,i){if(t<0||t>479||i<0||i>287)return 0;var s=t>>5,h=i>>5;return this.map_bg[s][h]},L.prototype.checkStage=function(){for(var t=-1,i=0;i<=9;i++)if(100==this.stage_c[i]&&this.co_j.x==this.stage_x[i]&&this.co_j.y==this.stage_y[i]){t=i+1;break}return t},L.prototype.mainProgram=function(){if(this.gk.tr1_f?this.mp.tr1_c<2&&(this.mp.tr1_c+=1):this.mp.tr1_c=0,0==this.mp_mode){if(100==this.km.mode)this.jMove();else if(200==this.km.mode)1==this.km.cancel_c?(this.km.off(3),this.km.off(4),this.km.mode=100):1==this.km.kettei_c&&(this.km.init1(3),this.km.setMessage(3,this.mp.mes1_name),this.mp.addSerifu(3,2,3),this.km.activeSerifu(3,120,150,272,e.cyan),this.km.mode=210);else if(210==this.km.mode)1!=this.km.cancel_c&&1!=this.km.kettei_c||(this.km.off(3),this.km.off(4),this.km.mode=100);else if(300==this.km.mode)1==this.km.cancel_c?(this.km.off(3),this.km.off(4),this.km.mode=100):1==this.km.kettei_c&&(this.km.init1(3),this.km.setMessage(3,this.mp.mes2_name),this.mp.addSerifu(3,4,3),this.km.activeSerifu(3,120,150,272,e.cyan),this.km.mode=210);else if(400==this.km.mode){if(1==this.km.cancel_c)this.km.off(3),this.km.off(4),this.km.mode=100;else if(1==this.km.kettei_c){this.km.off(3),this.km.list_kazu=0,this.km.init1(6),this.km.setMessage(6,this.gg.ap.getParameter("shop_serifu1"));for(var t=0;t<=8;t++)this.mp.shop_item_teika[t]>0&&(this.km.addItem2(6,this.mp.shop_item_name[t],this.mp.shop_item_teika[t]),this.km.list_IDlist[this.km.list_kazu]=t,this.km.list_kazu+=1);this.km.list_kazu>=1?(this.km.activeKaimono(6,296,76,184),this.km.mode=410):(this.km.init1(6),this.km.init1(3),this.km.setMessage(3,"Error"),this.km.addItem(3,"Please set any item on shop menu."),this.km.activeSerifu(3,120,150,216,e.red),this.km.mode=210)}}else 410==this.km.mode?1==this.km.cancel_c?(this.km.off(4),this.km.off(6),this.km.mode=100):1==this.km.kettei_c&&(this.km.list_s=this.km.list_IDlist[this.km.selectedIndex[6]],this.km.init1(7),this.km.setMessage(7,this.mp.shop_item_name[this.km.list_s]+this.gg.ap.getParameter("shop_serifu2")),this.km.addItem(7,this.gg.ap.getParameter("shop_serifu3")),this.km.addItem(7,this.gg.ap.getParameter("shop_serifu4")),this.km.activeSerifutuki(7,48,150,236,this.mp.shop_name),this.km.mode=420):420==this.km.mode?1==this.km.cancel_c?(this.km.offActivewindow(7,6),this.km.mode=410):1==this.km.kettei_c&&(0==this.km.selectedIndex[7]?this.mp.score>=this.mp.shop_item_teika[this.km.list_s]?(this.km.init1(3),this.km.addItem(3,this.mp.shop_item_name[this.km.list_s]+this.gg.ap.getParameter("shop_serifu5")),this.km.activeIchigyou(3,48,240,236),this.mp.score-=this.mp.shop_item_teika[this.km.list_s],this.shop_kattaitem=this.km.list_s,7==this.shop_kattaitem&&(this.mp.j_left+=1),this.km.mode=430):(this.km.init1(3),this.km.addItem(3,this.gg.ap.getParameter("shop_serifu6")),this.km.activeIchigyou(3,48,240,236),this.km.mode=430):(this.km.off(4),this.km.off(6),this.km.off(7),this.km.mode=100)):430==this.km.mode?1!=this.km.cancel_c&&1!=this.km.kettei_c||(this.km.off(3),this.km.off(4),this.km.off(6),this.km.off(7),this.km.mode=100):500==this.km.mode?1==this.km.cancel_c?(this.km.off(4),this.km.off(3),this.km.mode=100):1==this.km.kettei_c&&(this.km.off(3),this.km.init1(2),this.km.setMessage(2,this.gg.ap.getParameter("setumei_menu1")),this.km.addItem(2,this.gg.ap.getParameter("setumei_menu2")),this.km.addItem(2,this.gg.ap.getParameter("setumei_menu3")),this.km.addItem(2,this.gg.ap.getParameter("setumei_menu4")),this.km.activeSerifutuki(2,120,150,224,this.mp.setumei_name),this.km.mode=510):510==this.km.mode?1==this.km.cancel_c?(this.km.off(2),this.km.off(4),this.km.mode=100):1==this.km.kettei_c&&(this.km.init1(3),this.km.setMessage(3,this.mp.setumei_name),1==this.km.selectedIndex[2]?this.mp.addSerifu(3,11,3):2==this.km.selectedIndex[2]?this.mp.addSerifu(3,12,3):this.mp.addSerifu(3,10,3),this.km.activeSerifu(3,200,191,272,e.cyan),this.km.mode=520):520==this.km.mode&&(1==this.km.cancel_c?(this.km.offActivewindow(3,2),this.km.mode=510):1==this.km.kettei_c&&(this.km.off(2),this.km.off(3),this.km.off(4),this.km.mode=100));this.km.move()}if(1e3==this.co_j.pt?this.gg.drawPT(this.co_j.x+16,this.co_j.y+24-12-6,100,this.co_j.muki):1010==this.co_j.pt?this.gg.drawPT(this.co_j.x+16,this.co_j.y+24-12+5,100,this.co_j.muki):this.co_j.pt>=202&&this.co_j.pt<=205?this.gg.drawPT(this.co_j.x+16,this.co_j.y+24-12,this.co_j.pt,0):this.gg.drawPT(this.co_j.x+16,this.co_j.y+24-12,this.co_j.pt,this.co_j.muki),this.km.drawMenus(),100==this.mp_mode)this.circleCLS(this.cc_hankei),this.cc_hankei-=12,this.cc_hankei<0&&(this.cc_hankei=0,this.mp_mode=110);else if(110==this.mp_mode)this.circleCLS(this.cc_hankei);else if(200==this.mp_mode){if(this.circleCLS(this.cc_hankei),this.cc_hankei+=12,this.cc_hankei>312)if(this.stage_kcID>=1){this.mp_mode=300,this.cc_hankei=0;var i=this.stage_y[this.stage_kcID-1]>>5;this.map_bg[this.stage_x[this.stage_kcID-1]>>5][i]=227,this.door_koID>=1&&(this.map_bg[this.ie_x[this.door_koID-1]>>5][this.ie_y[this.door_koID-1]>>5]=222),1==this.door_score_open&&(this.map_bg[this.ie_x[9]>>5][this.ie_y[9]>>5]=222),this.drawOs2()}else this.mp_mode=0,1==this.door_score_open&&(this.mp_mode=400,this.cc_hankei=0,this.map_bg[this.ie_x[9]>>5][this.ie_y[9]>>5]=222,this.drawOs2())}else if(300==this.mp_mode){var s;this.cc_hankei+=1,this.cc_hankei<=3?s=0:this.cc_hankei<=6?s=1:this.cc_hankei<=9?s=0:this.cc_hankei<=12?s=1:this.cc_hankei<=15?s=0:this.cc_hankei<=18?s=1:this.cc_hankei<=21?s=0:this.cc_hankei<=24?s=1:this.cc_hankei<=26?s=0:(s=0,this.mp_mode=0),s>0&&this.gg.drawPT(this.stage_x[this.stage_kcID-1]+16,this.stage_y[this.stage_kcID-1]+24,222+this.stage_kcID,0),s>0&&this.door_koID>=1&&this.gg.drawPT(this.ie_x[this.door_koID-1]+16,this.ie_y[this.door_koID-1]+24-7,212+this.door_koID,0),s>0&&1==this.door_score_open&&this.gg.drawPT(this.ie_x[9]+16,this.ie_y[9]+24-7,212,0)}else if(400==this.mp_mode){var h;this.cc_hankei+=1,this.cc_hankei<=3?h=0:this.cc_hankei<=6?h=1:this.cc_hankei<=9?h=0:this.cc_hankei<=12?h=1:this.cc_hankei<=15?h=0:this.cc_hankei<=18?h=1:this.cc_hankei<=21?h=0:this.cc_hankei<=24?h=1:this.cc_hankei<=26?h=0:(h=0,this.mp_mode=0),h>0&&this.gg.drawPT(this.ie_x[9]+16,this.ie_y[9]+24-7,212,0)}},L.prototype.jMove=function(){var t,i=this.co_j.x,s=this.co_j.y;if(this.co_j.pt=100,0==this.co_j.vx&&0==this.co_j.vy)if(this.co_j.ac+=1,this.co_j.ac>7&&(this.co_j.ac=0),this.co_j.ac>3&&(this.co_j.pt=1e3,((t=this.getBGZ(i,s))>=216&&t<=219||t>=206&&t<=209)&&(this.co_j.pt=1010)),1==this.mp.tr1_c)if(this.checkStage()>=1)this.mp_mode=100,this.cc_hankei=312,this.co_j.ac=0,this.dokan_khID=0,this.co_j.pt=100;else if(this.getBGZ(i,s)>=206&&this.getBGZ(i,s)<=209)if(2==this.mp.dokan_mode)for(var h=!1,a=0;a<=8;a++){for(var c=0;c<=14;c++)if((32*c!=i||32*a!=s)&&this.map_bg[c][a]==this.getBGZ(i,s)){i=32*c,s=32*a,this.co_j.ac=0,this.co_j.pt=1010,h=!0;break}if(h)break}else this.mp_mode=100,this.cc_hankei=312,this.co_j.ac=0,this.dokan_khID=this.getBGZ(i,s)-205,this.co_j.pt=1010;else 216==this.getBGZ(i,s)?(this.km.init1(4),this.km.onKao(4,120,42,272,230),this.km.init1(3),this.km.setMessage(3,this.mp.mes1_name),this.mp.addSerifu(3,1,3),this.km.activeSerifu(3,120,150,272,e.cyan),this.km.mode=200,this.co_j.pt=1010,this.co_j.ac=0):217==this.getBGZ(i,s)?(this.km.init1(4),this.km.onKao(4,120,42,272,232),this.km.init1(3),this.km.setMessage(3,this.mp.mes2_name),this.mp.addSerifu(3,3,3),this.km.activeSerifu(3,120,150,272,e.cyan),this.km.mode=300,this.co_j.pt=1010,this.co_j.ac=0):218==this.getBGZ(i,s)?(this.km.init1(4),this.km.onKao(4,120,42,216,234),this.shop_kattaitem<0?(this.km.init1(3),this.km.setMessage(3,this.mp.shop_name),this.mp.addSerifu(3,5,3),this.km.activeSerifu(3,120,150,216,e.cyan),this.km.mode=400):(this.km.init1(3),this.km.setMessage(3,this.mp.shop_name),this.mp.addSerifu(3,8,3),this.km.activeSerifu(3,120,150,216,e.cyan),this.km.mode=210),this.co_j.pt=1010,this.co_j.ac=0):219==this.getBGZ(i,s)&&(this.km.init1(4),this.km.onKao(4,120,42,272,236),this.km.init1(3),this.km.setMessage(3,this.mp.setumei_name),this.mp.addSerifu(3,9,3),this.km.activeSerifu(3,120,150,272,e.cyan),this.km.mode=500,this.co_j.pt=1010,this.co_j.ac=0);else this.gk.up_f?221==this.getBGZ(i,s-32)&&(this.co_j.vy=-4,this.co_j.ac=-1):this.gk.down_f?221==this.getBGZ(i,s+32)&&(this.co_j.vy=4,this.co_j.ac=-1):this.gk.left_f?(this.co_j.muki=0,222==this.getBGZ(i-32,s)&&(this.co_j.vx=-4,this.co_j.ac=-1),this.getBGZ(i+32,s)>=212&&this.getBGZ(i+32,s)<=215&&(this.co_j.vx=-4,this.co_j.ac=-1)):this.gk.right_f&&(this.co_j.muki=1,222==this.getBGZ(i+32,s)&&(this.co_j.vx=4,this.co_j.ac=-1),this.getBGZ(i-32,s)>=212&&this.getBGZ(i-32,s)<=215&&(this.co_j.vx=4,this.co_j.ac=-1));0==this.co_j.vx&&0==this.co_j.vy||(this.co_j.ac+=1,this.co_j.ac>3&&(this.co_j.ac=0),i+=this.co_j.vx,s+=this.co_j.vy,0!=this.co_j.vx?this.co_j.ac<=1?this.co_j.pt=103:this.co_j.pt=104:this.co_j.vy>=0?this.co_j.ac<=1?this.co_j.pt=202:this.co_j.pt=203:this.co_j.ac<=1?this.co_j.pt=204:this.co_j.pt=205,i%32==0&&s%32==0&&((220==(t=this.getBGZ(i,s))||t>=223&&t<=227||t>=216&&t<=219||t>=206&&t<=209)&&(this.co_j.vx=0,this.co_j.vy=0,this.co_j.ac=0),t=0,this.co_j.vx>0?t=this.getBGZ(i+32,s):this.co_j.vx<0&&(t=this.getBGZ(i-32,s)),t>=212&&t<=215&&(this.co_j.vx=0,this.co_j.vy=0,this.co_j.pt=100,this.co_j.ac=0)),i<=-32?(i=-32,this.co_j.vx=0,this.co_j.vy=0,this.co_j.ac=0):i>=480&&(i=480,this.co_j.vx=0,this.co_j.vy=0,this.co_j.ac=0),s<=-32?(s=-32,this.co_j.vx=0,this.co_j.vy=0,this.co_j.ac=0):s>=288&&(s=288,this.co_j.vx=0,this.co_j.vy=0,this.co_j.ac=0));this.co_j.x=i,this.co_j.y=s},L.prototype.circleCLS=function(t){for(var i=0;i<=12;i++){var s=Math.sin(.2617992*i);this.cc_p1_y[i]=160+Math.floor(s*t);var h=Math.cos(.2617992*i);this.cc_p1_x[i]=256+Math.floor(h*t),this.cc_p2_y[i]=160-Math.floor(s*t),this.cc_p2_x[i]=256-Math.floor(h*t)}this.gg.os_g.setColor(e.black),this.gg.os_g.fillPolygon(this.cc_p1_x,this.cc_p1_y,17),this.gg.os_g.fillPolygon(this.cc_p2_x,this.cc_p2_y,17)},L.prototype.squareCLS=function(t,i){var s=.017453292519943295;this.cc_p1_x[0]=Math.floor(Math.cos((this.cc_kakudo+0)*s)*t)+256,this.cc_p1_y[0]=Math.floor(Math.sin((this.cc_kakudo+0)*s)*t)+160,this.cc_p1_x[1]=Math.floor(Math.cos((this.cc_kakudo+90)*s)*t)+256,this.cc_p1_y[1]=Math.floor(Math.sin((this.cc_kakudo+90)*s)*t)+160,this.cc_p1_x[2]=Math.floor(Math.cos((this.cc_kakudo+180)*s)*t)+256,this.cc_p1_y[2]=Math.floor(Math.sin((this.cc_kakudo+180)*s)*t)+160,this.cc_p1_x[3]=Math.floor(500*Math.cos((this.cc_kakudo+180)*s))+256,this.cc_p1_y[3]=Math.floor(500*Math.sin((this.cc_kakudo+180)*s))+160,this.cc_p1_x[4]=Math.floor(700*Math.cos((this.cc_kakudo+135)*s))+256,this.cc_p1_y[4]=Math.floor(700*Math.sin((this.cc_kakudo+135)*s))+160,this.cc_p1_x[5]=Math.floor(700*Math.cos((this.cc_kakudo+45)*s))+256,this.cc_p1_y[5]=Math.floor(700*Math.sin((this.cc_kakudo+45)*s))+160,this.cc_p1_x[6]=Math.floor(500*Math.cos((this.cc_kakudo+0)*s))+256,this.cc_p1_y[6]=Math.floor(500*Math.sin((this.cc_kakudo+0)*s))+160,this.cc_p2_x[0]=Math.floor(Math.cos((this.cc_kakudo+180)*s)*t)+256,this.cc_p2_y[0]=Math.floor(Math.sin((this.cc_kakudo+180)*s)*t)+160,this.cc_p2_x[1]=Math.floor(Math.cos((this.cc_kakudo+270)*s)*t)+256,this.cc_p2_y[1]=Math.floor(Math.sin((this.cc_kakudo+270)*s)*t)+160,this.cc_p2_x[2]=Math.floor(Math.cos((this.cc_kakudo+360)*s)*t)+256,this.cc_p2_y[2]=Math.floor(Math.sin((this.cc_kakudo+360)*s)*t)+160,this.cc_p2_x[3]=Math.floor(500*Math.cos((this.cc_kakudo+360)*s))+256,this.cc_p2_y[3]=Math.floor(500*Math.sin((this.cc_kakudo+360)*s))+160,this.cc_p2_x[4]=Math.floor(700*Math.cos((this.cc_kakudo+315)*s))+256,this.cc_p2_y[4]=Math.floor(700*Math.sin((this.cc_kakudo+315)*s))+160,this.cc_p2_x[5]=Math.floor(700*Math.cos((this.cc_kakudo+225)*s))+256,this.cc_p2_y[5]=Math.floor(700*Math.sin((this.cc_kakudo+225)*s))+160,this.cc_p2_x[6]=Math.floor(500*Math.cos((this.cc_kakudo+180)*s))+256,this.cc_p2_y[6]=Math.floor(500*Math.sin((this.cc_kakudo+180)*s))+160,this.gg.os_g.setColor(e.black),this.gg.os_g.fillPolygon(this.cc_p1_x,this.cc_p1_y,7),this.gg.os_g.fillPolygon(this.cc_p2_x,this.cc_p2_y,7)},N.prototype.initAll=function(){for(var t=0;t<=15;t++)this.init1(t);for(this.c_fc=0,this.gk.up_c=0,this.gk.down_c=0,this.aw=-1,this.kettei_c=2,this.cancel_c=2,t=0;t<=15;t++)this.list_IDlist[t]=0;this.list_kazu=0,this.list_s=0},N.prototype.init1=function(t){this.c[t]=0,this.x[t]=0,this.y[t]=0,this.width[t]=180,this.selectedIndex[t]=0,this.item_kazu[t]=0,this.message[t]="どうしますか？";for(var i=0;i<=15;i++)this.item[t][i]="";for(i=0;i<=15;i++)this.item_int[t][i]=0},N.prototype.setMessage=function(t,i){this.message[t]=i},N.prototype.addItem=function(t,i){this.item[t][this.item_kazu[t]]=i,this.item_kazu[t]+=1},N.prototype.addIntitem=function(t,i){this.item_int[t][this.item_kazu[t]]=i,this.item_kazu[t]+=1},N.prototype.addItem2=function(t,i,s){this.item[t][this.item_kazu[t]]=i,this.item_int[t][this.item_kazu[t]]=s,this.item_kazu[t]+=1},N.prototype.active=function(t,i,s,h){this.c[t]=100,this.x[t]=i,this.y[t]=s,this.width[t]=void 0!==h?h:180,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=t,this.kettei_c=2,this.cancel_c=2},N.prototype.activeSerifutuki=function(t,i,s,h,e){this.c[t]=700,this.x[t]=i,this.y[t]=s,this.width[t]=h,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=t,this.kettei_c=2,this.cancel_c=2,this.item[t][15]=e},N.prototype.activeKaimono=function(t,i,s,h){this.c[t]=900,this.x[t]=i,this.y[t]=s,this.width[t]=h,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=t,this.kettei_c=2,this.cancel_c=2},N.prototype.activeIchigyou=function(t,i,s,h){this.c[t]=300,this.x[t]=i,this.y[t]=s,this.width[t]=h,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=t,this.kettei_c=2,this.cancel_c=2},N.prototype.activeNigyou=function(t,i,s,h,e){this.c[t]=310,this.x[t]=i,this.y[t]=s,this.width[t]=h,this.item_color[t]=e,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=t,this.kettei_c=2,this.cancel_c=2},N.prototype.activeYongyou=function(t,i,s,h){this.c[t]=320,this.x[t]=i,this.y[t]=s,this.width[t]=h,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=t,this.kettei_c=2,this.cancel_c=2},N.prototype.activeYongyou2=function(t,i,s,h){this.c[t]=321,this.x[t]=i,this.y[t]=s,this.width[t]=h,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=t,this.kettei_c=2,this.cancel_c=2},N.prototype.activeSerifu=function(t,i,s,h,e){this.c[t]=330,this.x[t]=i,this.y[t]=s,this.width[t]=h,this.item_color[t]=e,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=t,this.kettei_c=2,this.cancel_c=2},N.prototype.activeYasumu=function(t,i,s){this.c[t]=1e3,this.x[t]=i,this.y[t]=s,this.width[t]=272,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=t,this.kettei_c=2,this.cancel_c=2},N.prototype.onKao=function(t,i,s,h,e){this.c[t]=600,this.x[t]=i,this.y[t]=s,this.width[t]=h,this.item_int[t][0]=e},N.prototype.onMituketa=function(t,i,s){this.c[t]=610,this.x[t]=i,this.y[t]=s,this.width[t]=200},N.prototype.onOkozukai=function(t,i,s,h,e){this.c[t]=800,this.x[t]=i,this.y[t]=s,this.width[t]=h,this.item_int[t][0]=e},N.prototype.activeIchigyouTime=function(t,i,s,h){this.c[t]=350,this.x[t]=i,this.y[t]=s,this.width[t]=h,this.item_int[t][0]=100},N.prototype.activeNigyouTime=function(t,i,s,h,e){this.c[t]=360,this.x[t]=i,this.y[t]=s,this.width[t]=h,this.item_color[t]=e,this.item_int[t][0]=100},N.prototype.activeJibun=function(t,i,s,h,e,a,c,o){this.c[t]=400,this.x[t]=i,this.y[t]=s,this.item_int[14][0]=e,this.item_int[14][1]=a,this.item_int[14][2]=c,this.item_int[14][3]=o,this.width[t]=h,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=t,this.kettei_c=2,this.cancel_c=2},N.prototype.activeToujou=function(t,i,s,h,e,a){this.c[t]=420,this.x[t]=i,this.y[t]=s,this.item_int[t][2]=e,this.item[t][0]=a,this.width[t]=h,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=t,this.kettei_c=2,this.cancel_c=2},N.prototype.initCS=function(){this.item_kazu[0]=8,this.selectedIndex[0]=0},N.prototype.activeCS=function(){this.c[0]=500,this.x[0]=0,this.y[0]=0,this.width[0]=0,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=0,this.kettei_c=2},N.prototype.off=function(t){this.c[t]=0},N.prototype.offActivewindow=function(t,i){this.c[t]=0,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=i,this.kettei_c=2,this.cancel_c=2},N.prototype.move=function(){this.c_fc+=1,this.c_fc>6&&(this.c_fc=0),this.aw>=0&&(this.gk.up_f?(this.gk.up_c+=1,this.gk.up_c>3&&(this.gk.up_c=1)):this.gk.up_c=0,this.gk.down_f?(this.gk.down_c+=1,this.gk.down_c>3&&(this.gk.down_c=1)):this.gk.down_c=0,1==this.gk.up_c?(this.selectedIndex[this.aw]-=1,this.c_fc=-1,this.selectedIndex[this.aw]<0&&(this.selectedIndex[this.aw]=this.item_kazu[this.aw]-1)):1==this.gk.down_c&&(this.selectedIndex[this.aw]+=1,this.c_fc=-1,this.selectedIndex[this.aw]>this.item_kazu[this.aw]-1&&(this.selectedIndex[this.aw]=0))),this.gk.tr1_f?0==this.kettei_c&&(this.kettei_c=1):this.kettei_c=0,this.gk.x_f?0==this.cancel_c&&(this.cancel_c=1):this.cancel_c=0},N.prototype.drawMenus=function(){this.hg.setFont(new a(a.DIALOG,0,12));for(var t=0;t<=15;t++){var i=this.c[t];if(0!=i)switch(i){case 100:if(this.drawWindowbox(this.x[t],this.y[t],this.width[t],30+14*this.item_kazu[t]),this.hg.setColor(e.white),this.hg.drawString(this.message[t],this.x[t]+24,this.y[t]+6+12),this.item_kazu[t]>=1)for(var s=0;s<=this.item_kazu[t]-1;s++)this.hg.drawString(this.item[t][s],this.x[t]+24,this.y[t]+6+18+14*s+12);t==this.aw?this.c_fc<=3&&this.hg.drawImage(this.hi[70],this.x[t]+6,this.y[t]+24+14*this.selectedIndex[t],this.ap):this.hg.drawImage(this.hi[70],this.x[t]+6,this.y[t]+24+14*this.selectedIndex[t],this.ap);break;case 200:this.hg.setColor(e.white),this.hg.fillRect(12,12,128,58),this.hg.setColor(e.black),this.hg.fillRect(14,14,124,54),this.hg.setColor(e.cyan),this.hg.drawString(this.item[14][0],18,30),(this.item_int[14][0]<=0||this.item_int[14][2]<=0)&&(this.hg.setColor(e.red),this.hg.drawString("戦闘不能",82,30)),this.hg.setColor(e.white),this.hg.drawString("HP\t"+this.item_int[14][0]+" / "+this.item_int[14][1],18,48),this.hg.drawString("PP\t"+this.item_int[14][2]+" / "+this.item_int[14][3],18,62);break;case 210:this.hg.setColor(e.white),this.hg.fillRect(160,12,128,58),this.hg.setColor(e.black),this.hg.fillRect(162,14,124,54),this.hg.setColor(e.green),this.hg.drawString(this.item[15][0],166,30),this.item_int[15][0]<=0&&(this.hg.setColor(e.red),this.hg.drawString("戦闘不能",230,30)),this.hg.setColor(e.white),this.hg.drawString("HP\t"+this.item_int[15][0]+" / "+this.item_int[15][1],166,48),this.hg.drawString("PP\t"+this.item_int[15][2]+" / "+this.item_int[15][3],166,62);break;case 220:this.hg.setColor(e.white),this.hg.fillRect(372,12,128,58),this.hg.setColor(e.black),this.hg.fillRect(374,14,124,54),this.hg.setColor(e.cyan),this.hg.drawString(this.item[15][0],378,30),(this.item_int[15][0]<=0||this.item_int[15][2]<=0)&&(this.hg.setColor(e.red),this.hg.drawString("戦闘不能",442,30)),this.hg.setColor(e.white),this.hg.drawString("HP\t"+this.item_int[15][0]+" / "+this.item_int[15][1],378,48),this.hg.drawString("PP\t"+this.item_int[15][2]+" / "+this.item_int[15][3],378,62);break;case 300:this.drawWindowbox(this.x[t],this.y[t],this.width[t],40),this.hg.setColor(e.white),this.hg.drawString(this.item[t][0],this.x[t]+6,this.y[t]+6+12),this.c_fc<=3&&this.gg.drawPT(this.x[t]+(this.width[t]-14>>1),this.y[t]+6+14+0+2,201,0);break;case 310:this.drawWindowbox(this.x[t],this.y[t],this.width[t],58),this.hg.setColor(this.item_color[t]),this.hg.drawString(this.item[t][0],this.x[t]+6,this.y[t]+6+12),this.hg.setColor(e.white),this.hg.drawString(this.item[t][1],this.x[t]+6,this.y[t]+6+18+12),this.c_fc<=3&&this.gg.drawPT(this.x[t]+(this.width[t]-14>>1),this.y[t]+6+18+14+2,71,0);break;case 320:for(this.drawWindowbox(this.x[t],this.y[t],this.width[t],66+14*(this.item_kazu[t]-3)+14),this.hg.setColor(e.magenta),this.hg.drawString(this.item[t][0],this.x[t]+6,this.y[t]+6+12),this.hg.setColor(e.white),this.hg.drawString(this.item[t][1],this.x[t]+6,this.y[t]+6+18+12),this.hg.setColor(e.cyan),this.hg.drawString(this.item[t][2],this.x[t]+6,this.y[t]+6+36+12),this.hg.setColor(e.white),s=0;s<=this.item_kazu[3]-4;s++)this.hg.drawString(this.item[3][s+3],this.x[3]+6,this.y[3]+6+54+14*s+12);this.c_fc<=3&&this.gg.drawPT(this.x[t]+(this.width[t]-14>>1),this.y[t]+6+18+36+14*(this.item_kazu[t]-3)+2,71,0);break;case 321:this.drawWindowbox(this.x[t],this.y[t],this.width[t],108),this.hg.setColor(e.cyan),this.hg.drawString(this.item[t][0],this.x[t]+6,this.y[t]+6+12),this.hg.setColor(e.white),this.hg.drawString(this.item[t][1],this.x[t]+6,this.y[t]+6+18+12),this.hg.setColor(e.magenta),this.hg.drawString(this.item[t][2],this.x[t]+6,this.y[t]+6+36+12),this.hg.setColor(e.white),this.hg.drawString(this.item[t][3],this.x[t]+6,this.y[t]+6+54+12),this.hg.setColor(e.white),this.hg.drawString(this.item[t][4],this.x[t]+6,this.y[t]+6+54+14+12),this.c_fc<=3&&this.gg.drawPT(this.x[t]+(this.width[t]-14>>1),this.y[t]+6+18+36+14+14+2,71,0);break;case 330:if(this.drawWindowbox(this.x[t],this.y[t],this.width[t],30+14*(this.item_kazu[t]+1)),this.hg.setColor(this.item_color[t]),this.hg.drawString(this.message[t],this.x[t]+6,this.y[t]+6+12),this.hg.setColor(e.white),this.item_kazu[t]>=1)for(s=0;s<=this.item_kazu[t]-1;s++)this.hg.drawString(this.item[t][s],this.x[t]+6,this.y[t]+6+18+14*s+12);t==this.aw?this.c_fc<=3&&this.gg.drawPT(this.x[t]+(this.width[t]-14>>1),this.y[t]+6+18+14*this.item_kazu[t]+2,201,0):this.gg.drawPT(this.x[t]+(this.width[t]-14>>1),this.y[t]+6+18+14*this.item_kazu[t]+2,201,0);break;case 350:if(100==this.item_int[t][0]){this.item_int[t][0]=55;break}this.drawWindowbox(this.x[t],this.y[t],this.width[t],26),this.hg.setColor(e.white),this.hg.drawString(this.item[t][0],this.x[t]+6,this.y[t]+6+12),this.item_int[t][0]-=1,this.item_int[t][0]<=0&&this.off(t);break;case 360:200==this.item_int[t][0]?(this.drawWindowbox(this.x[t],this.y[t],this.width[t],44),this.hg.setColor(this.item_color[t]),this.hg.drawString(this.item[t][0],this.x[t]+6,this.y[t]+6+12),this.hg.setColor(e.white),this.hg.drawString(this.item[t][1],this.x[t]+6,this.y[t]+6+18+12)):100==this.item_int[t][0]?this.item_int[t][0]=55:(this.drawWindowbox(this.x[t],this.y[t],this.width[t],44),this.hg.setColor(this.item_color[t]),this.hg.drawString(this.item[t][0],this.x[t]+6,this.y[t]+6+12),this.hg.setColor(e.white),this.hg.drawString(this.item[t][1],this.x[t]+6,this.y[t]+6+18+12),this.item_int[t][0]-=1,this.item_int[t][0]<=0&&this.off(t));break;case 400:this.drawWindowbox(this.x[t],this.y[t],this.width[t],128),this.hg.setColor(e.yellow),this.hg.drawString(this.name_crys+"のステータス",this.x[t]+6,this.y[t]+6+12),this.hg.setColor(e.white),this.hg.drawString("HP\t"+this.item_int[14][0]+" / "+this.item_int[14][1],this.x[t]+6,this.y[t]+6+18+0+12),this.hg.drawString("おこづかい\t",this.x[t]+6,this.y[t]+6+18+28+12),this.hg.drawString(this.item_int[14][2]+"円",this.x[t]+6+72,this.y[t]+6+18+42+12),this.hg.drawString("得点",this.x[t]+6,this.y[t]+6+18+56+12),this.hg.drawString(this.item_int[14][3]+"点",this.x[t]+6+72,this.y[t]+6+18+70+12),this.c_fc<=3&&this.gg.drawPT(this.x[t]+(this.width[t]-14>>1),this.y[t]+6+18+84+2,71,0);break;case 420:this.drawWindowbox(this.x[t],this.y[t],this.width[t],116),this.hg.setColor(new e(96,96,96)),this.hg.fillRect(this.x[t]+12,this.y[t]+12,this.width[t]-24,48),this.gg.drawPT(this.x[t]+12+(this.width[t]-24-32>>1),this.y[t]+12+8,this.item_int[t][2],0),this.hg.setColor(e.cyan),this.hg.drawString(this.item[t][0],this.x[t]+12,this.y[t]+64+12),this.hg.setColor(e.white),this.hg.drawString("これからも、よろしくね！",this.x[t]+12,this.y[t]+68+14+12),this.c_fc<=3&&this.gg.drawPT(this.x[t]+(this.width[t]-14>>1),this.y[t]+68+28+2,71,0);break;case 410:-2==this.item_int[t][0]?(this.drawWindowbox(this.x[t],this.y[t],this.width[t],116),this.hg.setColor(new e(96,96,96)),this.hg.fillRect(this.x[t]+12,this.y[t]+12,this.width[t]-24,48),this.gg.drawPT(this.x[t]+12+(this.width[t]-24-32>>1),this.y[t]+12+8,this.item_int[t][2],0),this.hg.setColor(e.yellow),this.hg.drawString(this.item[t][0],this.x[t]+12,this.y[t]+64+12),this.hg.setColor(e.white),this.hg.drawString("捕獲不可能",this.x[t]+12,this.y[t]+68+14+12),this.c_fc<=3&&this.gg.drawPT(this.x[t]+(this.width[t]-14>>1),this.y[t]+68+28+2,71,0)):this.item_int[t][0]<0?(this.drawWindowbox(this.x[t],this.y[t],this.width[t],116),this.hg.setColor(new e(96,96,96)),this.hg.fillRect(this.x[t]+12,this.y[t]+12,this.width[t]-24,48),this.gg.drawPT(this.x[t]+12+(this.width[t]-24-32>>1),this.y[t]+12+8,this.item_int[t][2],0),this.hg.setColor(e.yellow),this.hg.drawString(this.item[t][0],this.x[t]+12,this.y[t]+64+12),this.hg.setColor(e.white),this.hg.drawString("現在調査中",this.x[t]+12,this.y[t]+68+14+12),this.c_fc<=3&&this.gg.drawPT(this.x[t]+(this.width[t]-14>>1),this.y[t]+68+28+2,71,0)):(this.drawWindowbox(this.x[t],this.y[t],this.width[t],158),this.hg.setColor(new e(96,96,96)),this.hg.fillRect(this.x[t]+12,this.y[t]+12,this.width[t]-24,48),this.gg.drawPT(this.x[t]+12+(this.width[t]-24-32>>1),this.y[t]+12+8,this.item_int[t][2],0),this.hg.setColor(e.yellow),this.hg.drawString(this.item[t][0],this.x[t]+12,this.y[t]+64+12),this.hg.setColor(e.white),this.hg.drawString("最大HP",this.x[t]+12,this.y[t]+68+14+12),this.hg.drawString(""+this.item_int[t][0],this.x[t]+56,this.y[t]+68+28+12),this.hg.drawString("最大PP",this.x[t]+12,this.y[t]+68+42+12),this.hg.drawString(""+this.item_int[t][1],this.x[t]+56,this.y[t]+68+56+12),this.c_fc<=3&&this.gg.drawPT(this.x[t]+(this.width[t]-14>>1),this.y[t]+68+70+2,71,0));break;case 500:this.c_fc<=3||0!=this.aw?this.hg.drawImage(this.hi[72],12+28*this.selectedIndex[t],288,this.ap):this.hg.drawImage(this.hi[73],12+28*this.selectedIndex[t],288,this.ap);break;case 600:this.drawWindowbox(this.x[t],this.y[t],this.width[t],96);var h=this.item_int[t][0],c=this.x[t]+(this.width[t]-64>>1),o=this.y[t]+16;this.gg.drawPT(c,o,h,0),this.gg.drawPT(c+32,o,h+1,0),this.gg.drawPT(c,o+32,h+10,0),this.gg.drawPT(c+32,o+32,h+11,0);break;case 610:this.drawWindowbox(this.x[t],this.y[t],this.width[t],30+14*this.item_kazu[t]),this.hg.setColor(e.yellow),this.hg.drawString("モンスターずかん",this.x[t]+6,this.y[t]+6+12),this.hg.setColor(e.white),this.hg.drawString("見つけた数\t"+this.item_int[t][0],this.x[t]+6,this.y[t]+6+18+0+12),this.hg.drawString("捕まえた数\t"+this.item_int[t][1],this.x[t]+6,this.y[t]+6+18+14+12);break;case 700:if(this.drawWindowbox(this.x[t],this.y[t],this.width[t],30+14*this.item_kazu[t]+18),this.hg.setColor(e.cyan),this.hg.drawString(this.item[t][15],this.x[t]+24,this.y[t]+6+12),this.hg.setColor(e.white),this.hg.drawString(this.message[t],this.x[t]+24,this.y[t]+6+12+18),this.item_kazu[t]>=1)for(s=0;s<=this.item_kazu[t]-1;s++)this.hg.drawString(this.item[t][s],this.x[t]+24,this.y[t]+6+18+14*s+12+18);t==this.aw?this.c_fc<=3&&this.gg.drawPT(this.x[t]+6,this.y[t]+6+18+14*this.selectedIndex[t]+18,200,0):this.gg.drawPT(this.x[t]+6,this.y[t]+6+18+14*this.selectedIndex[t]+18,200,0);break;case 800:this.drawWindowbox(this.x[t],this.y[t],this.width[t],44),this.hg.setColor(e.yellow),this.hg.drawString("おこづかい",this.x[t]+6,this.y[t]+6+12),this.hg.setColor(e.white),this.hg.drawString(this.item_int[t][0]+"円",this.x[t]+6,this.y[t]+6+18+12);break;case 900:if(this.drawWindowbox(this.x[t],this.y[t],this.width[t],30+14*this.item_kazu[t]),this.hg.setColor(e.white),this.hg.drawString(this.message[t],this.x[t]+24,this.y[t]+6+12),this.item_kazu[t]>=1)for(s=0;s<=this.item_kazu[t]-1;s++)this.hg.drawString(this.item[t][s],this.x[t]+24,this.y[t]+6+18+14*s+12),this.hg.drawString(""+this.item_int[t][s],this.x[t]+24+116,this.y[t]+6+18+14*s+12);t==this.aw?this.c_fc<=3&&this.gg.drawPT(this.x[t]+6,this.y[t]+6+18+14*this.selectedIndex[t],200,0):this.gg.drawPT(this.x[t]+6,this.y[t]+6+18+14*this.selectedIndex[t],200,0);break;case 1e3:for(this.drawWindowbox(this.x[t],this.y[t],this.width[t],98),this.hg.setColor(new e(96,96,96)),this.hg.fillRect(this.x[t]+12,this.y[t]+12,248,48),s=0;s<=5;s++)this.item_int[t][s]>0&&this.gg.drawPT(this.x[t]+12+8+40*s,this.y[t]+12+8,this.item_int[t][s],0);this.hg.setColor(e.white),this.hg.drawString("みんな、元気になった。",this.x[t]+12,this.y[t]+64+12),this.c_fc<=3&&this.gg.drawPT(this.x[t]+(this.width[t]-14>>1),this.y[t]+64+14+2,71,0)}}},N.prototype.drawWindowbox=function(t,i,s,h){this.hg.setColor(e.white),this.hg.fillRect(t,i,s,h),this.hg.setColor(e.black),this.hg.fillRect(t+2,i+2,s-4,h-4)},s(1142);var H=function(){function t(i,s,h,e){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.width=i,this.height=s,this.gg=h,this.mp=e,this.map_bg=nt(this.width,this.height),this.map_string=new Array(this.height),this.hi=this.gg.spt_img[0],this.init()}var i,s;return i=t,(s=[{key:"init",value:function(){this.wx=0,this.wy=0,this.os2_wx=0,this.os2_wy=0;for(var t=0;t<this.height;t++)for(var i=0;i<this.width;i++)this.map_bg[i][t]=0;for(var s=".".repeat(this.width+1),h=0;h<this.height;h++)this.map_string[h]=s}},{key:"setBank",value:function(t){var i=30;1===t?i=40:2===t?i=50:4===t&&(i=60);for(var s=0;s<=9;s++)this.gg.spt_img[0][10+s]=this.gg.spt_img[0][i+s]}},{key:"drawMap",value:function(t,i){this.wx=t,this.wy=i;var s=this.wx%32,h=this.wy%32;this.os2_wx=this.wx>>5,this.os2_wy=this.wy>>5,this.gg.fill2();for(var e=0;e<=10;e++)for(var a=0;a<=16;a++)this.map_bg[this.os2_wx+a][this.os2_wy+e]>0&&this.gg.drawPT2(32+32*a,32+32*e,this.map_bg[this.os2_wx+a][this.os2_wy+e]);this.gg.os_g.drawImage(this.gg.os2_img,-32-s,-32-h)}},{key:"drawMapScroll",value:function(t){var i=this.wx%32,s=this.wy%32,h=this.wx>>5,e=this.wy>>5,a=h-this.os2_wx,c=e-this.os2_wy;if(Math.abs(a)>1||Math.abs(c)>1)this.drawMap(this.wx,this.wy);else if(0===a&&0===c);else{this.gg.os2_g.copyArea(32+32*a,32+32*c,544,352,32*-a,32*-c),0!==a&&(this.os2_wx=h),0!==c&&(this.os2_wy=e);var o=[];if(0!==c)for(var r=c<0?0:10,_=0;_<=16;_++)o.push([this.map_bg[this.os2_wx+_][this.os2_wy+r],1+_,1+r]);if(0!==a)for(var n=a<0?0:16,p=0;p<=10;p++)0===p&&c<0||10===p&&c>0||o.push([this.map_bg[this.os2_wx+n][this.os2_wy+p],1+n,1+p]);for(var m=0,u=o;m<u.length;m++){var g=W(u[m],3),f=g[0],y=g[1],l=g[2];f<=0||this.gg.os2_g.drawImage(this.hi[f],32*y,32*l)}}for(var j=0;j<=10;j++)for(var v=0;v<=16;v++){var x=this.os2_wx+v,d=this.os2_wy+j;switch(this.map_bg[x][d]){case 5:4===this.map_bg[x][d-1]&&(this.gg.drawBG2(32+32*v,32+32*j,4),this.gg.drawPT2(32+32*v,32+32*j,5));break;case 6:4===this.map_bg[x][d+1]&&(this.gg.drawBG2(32+32*v,32+32*j,4),this.gg.drawPT2(32+32*v,32+32*j,6));break;case 7:var k=96+t%2;this.gg.drawBG2(32+32*v,32+32*j,k);break;case 8:var w=94;this.mp.stage_max>=2&&this.mp.stage>=this.mp.stage_max&&(w=98),0===t&&(w+=1),4===this.map_bg[x-1][d]?(this.gg.drawBG2(32+32*v,32+32*j,4),this.gg.drawPT2(32+32*v,32+32*j,w)):this.gg.drawBG2(32+32*v,32+32*j,w);break;case 9:4===this.map_bg[x-1][d]?(this.gg.drawBG2(32+32*v,32+32*j,4),this.gg.drawPT2(32+32*v,32+32*j,90+t)):this.gg.drawBG2(32+32*v,32+32*j,90+t)}}this.gg.os_g.drawImage(this.gg.os2_img,-32-i,-32-s)}},{key:"getBGCode",value:function(t,i){return this.map_bg[t>>5][i>>5]}},{key:"putBGCode",value:function(t,i,s){this.map_bg[t][i]=s,this.os2_wx<=t&&this.os2_wx+16>=t&&this.os2_wy<=i&&this.os2_wy+10>=i&&this.gg.drawBG2(32*(t-this.os2_wx)+32,32*(i-this.os2_wy)+32,s)}}])&&Z(i.prototype,s),Object.defineProperty(i,"prototype",{writable:!1}),t}();function $(t,i){return function(t){if(Array.isArray(t))return t}(t)||function(t,i){var s=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=s){var h,e,a,c,o=[],r=!0,_=!1;try{if(a=(s=s.call(t)).next,0===i){if(Object(s)!==s)return;r=!1}else for(;!(r=(h=a.call(s)).done)&&(o.push(h.value),o.length!==i);r=!0);}catch(t){_=!0,e=t}finally{try{if(!r&&null!=s.return&&(c=s.return(),Object(c)!==c))return}finally{if(_)throw e}}return o}}(t,i)||U(t,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function U(t,i){if(t){if("string"==typeof t)return K(t,i);var s=Object.prototype.toString.call(t).slice(8,-1);return"Object"===s&&t.constructor&&(s=t.constructor.name),"Map"===s||"Set"===s?Array.from(t):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?K(t,i):void 0}}function K(t,i){(null==i||i>t.length)&&(i=t.length);for(var s=0,h=new Array(i);s<i;s++)h[s]=t[s];return h}var q,V,X=function(){this.maps.drawMapScroll(this.g_ac2);var t=this.maps.wx,i=this.maps.wy;this.co_j.wx=this.co_j.x-t,this.co_j.wy=this.co_j.y-i,this.a_hf&&Q.apply(this),this.m_kazu>0&&tt.apply(this),this.jm_kazu>0&&st.apply(this),J.apply(this),ht.apply(this),it.apply(this),this.hitokoto_c>0&&(this.hitokoto_c--,et.apply(this))},J=function(){for(var t=this.maps.wx,i=this.maps.wy,s=0;s<=this.t_kazu;s++)if(!(this.co_t[s].c<50)){var h=this.co_t[s].x-t,e=this.co_t[s].y-i;h<-64||e>576||this.hg.drawImage(this.hih[this.co_t[s].pth][this.co_t[s].pt],h,e,this.ap)}},Q=function(){for(var t=this,i=function(i,s,h,e,a){for(var c=0;c<h;c++)for(var o=0;o<s;o++)t.hg.drawImage(t.hih[0][i+10*c+o],e+32*o,a+32*c,t.ap)},s=function(i,s,h,e,a){for(var c=0;c<h;c++)for(var o=0;o<s;o++){var r=s-1-o;t.hg.drawImage(t.hih[1][i+10*c+r],e+32*o,a+32*c,t.ap)}},h=this.maps.wx,e=this.maps.wy,a=0;a<=this.a_kazu;a++)if(this.co_a[a].gf){var c=this.co_a[a],o=c.x-h,r=c.y-e;switch(c.pt){default:break;case 100:i(190,3,1,o,r);break;case 200:i(76,2,2,o,r);break;case 210:i(78,2,2,o,r);break;case 300:i(60,2,1,o,r);break;case 310:i(62,2,1,o,r);break;case 320:i(64,2,1,o,r);break;case 330:i(66,2,1,o,r);break;case 400:i(183,3,2,o,r);break;case 500:i(180,3,1,o,r);break;case 600:i(188,2,2,o,r);break;case 605:s(188,2,2,o,r);break;case 700:this.hg.drawImage(this.hi[32],o,r,this.ap);break;case 710:this.hg.drawImage(this.hi[33],o,r,this.ap);break;case 720:this.hg.drawImage(this.hi[34],o,r,this.ap);break;case 800:var _=c.x>=this.co_j.x?0:1;this.hg.drawImage(this.hih[_][35+c.c3],o,r,this.ap);break;case 1100:var n=(c.c3+90)*Math.PI/180,p=Math.floor(16*Math.cos(n)),m=Math.floor(16*Math.sin(n));if(this.vo_pa_x[0]=this.vo_x[a][0]-h+p,this.vo_pa_y[0]=this.vo_y[a][0]-e+m,this.vo_pa_x[1]=this.vo_x[a][0]-h-p,this.vo_pa_y[1]=this.vo_y[a][0]-e-m,this.vo_pa_x[2]=this.vo_x[a][1]-h-p,this.vo_pa_y[2]=this.vo_y[a][1]-e-m,this.vo_pa_x[3]=this.vo_x[a][1]-h+p,this.vo_pa_y[3]=this.vo_y[a][1]-e+m,this.gg.os_g.setColor(this.gamecolor_firebar1),this.gg.os_g.fillPolygon(this.vo_pa_x,this.vo_pa_y,4),this.g_c2>=2){this.gg.os_g.setColor(this.gamecolor_firebar2);var u=Math.floor(10*Math.cos(n)),g=Math.floor(10*Math.sin(n));this.vo_pa_x[0]=this.vo_x[a][2]-h+u,this.vo_pa_y[0]=this.vo_y[a][2]-e+g,this.vo_pa_x[1]=this.vo_x[a][2]-h-u,this.vo_pa_y[1]=this.vo_y[a][2]-e-g,this.vo_pa_x[2]=this.vo_x[a][3]-h-u,this.vo_pa_y[2]=this.vo_y[a][3]-e-g,this.vo_pa_x[3]=this.vo_x[a][3]-h+u,this.vo_pa_y[3]=this.vo_y[a][3]-e+g,this.gg.os_g.fillPolygon(this.vo_pa_x,this.vo_pa_y,4)}}}},tt=function(){for(var t=this.maps.wx,i=this.maps.wy,s=0;s<=23;s++)if(!(this.co_m[s].c<50)){var h=this.co_m[s],e=h.x-t,a=h.y-i;if(50===h.c){this.hg.drawImage(this.hih[h.pth][h.pt],e,a,this.ap);for(var c=0;c<2;c++){var o=h.x+31*c,r=h.y,_=this.maps.getBGCode(o,r);_<20||this.gg.drawPT(32*(o>>5)-t,32*(r>>5)-i,_,0)}}else if(1e3===h.pt){this.gg.os_g.setColor(this.gamecolor_mizunohadou);var n=h.c2;this.gg.os_g.fillOval(e+16-n,a+16-n,2*n,2*n)}else if(1100===h.pt){0===this.g_ac?this.gg.os_g.setColor(this.gamecolor_grenade1):this.gg.os_g.setColor(this.gamecolor_grenade2);var p=h.c2;this.gg.os_g.fillOval(e+16-p,a+16-p,2*p,2*p)}else this.hg.drawImage(this.hih[h.pth][h.pt],e,a,this.ap)}},it=function(){var t=this.maps.wx,i=this.maps.wy;if(this.co_j.wx=this.co_j.x-t,this.co_j.wy=this.co_j.y-i,this.j_jet_c>=96&&(0===this.g_c1?this.hg.drawImage(this.hi[134],this.co_j.wx,this.co_j.wy+36,this.ap):this.hg.drawImage(this.hi[135],this.co_j.wx,this.co_j.wy+36,this.ap)),this.j_v_c>0&&(this.j_v_c--,this.j_v_kakudo+=2,this.j_v_kakudo>360&&(this.j_v_kakudo-=360),this.j_v_c>50||1===this.g_ac)){var s=this.co_j.wx+16,h=this.co_j.wy+16;this.gg.os_g.setColor(e.white);for(var a=0;a<6;a++){var c=(this.j_v_kakudo+60*a)*Math.PI/180;this.vo_pa_x[a]=s+Math.floor(38*Math.cos(c)),this.vo_pa_y[a]=h+Math.floor(38*Math.sin(c))}this.gg.os_g.drawPolygon(this.vo_pa_x,this.vo_pa_y,6);for(var o=0;o<6;o++){var r=(360-this.j_v_kakudo+60*o)*Math.PI/180;this.vo_pa_x[o]=s+Math.floor(38*Math.cos(r)),this.vo_pa_y[o]=h+Math.floor(38*Math.sin(r))}this.gg.os_g.drawPolygon(this.vo_pa_x,this.vo_pa_y,6)}if(this.j_zan_f){for(var _=this.j_zan_p+6,n=_-this.j_zan_nagasa;n<=_;n++){var p=n%6,m=this.j_zan_x[p]-t,u=this.j_zan_y[p]-i,g=this.j_zan_pth[p];this.hg.drawImage(this.hih[g][this.j_zan_pt[p]],m,u,this.ap)}this.j_zan_p++,this.j_zan_p>5&&(this.j_zan_p=0),this.j_zan_x[this.j_zan_p]=this.co_j.x,this.j_zan_y[this.j_zan_p]=this.co_j.y,this.j_zan_pt[this.j_zan_p]=this.co_j.pt,this.j_zan_pth[this.j_zan_p]=this.co_j.muki,this.j_zan_c<9?(this.j_zan_c++,this.co_j.vy>=0&&(this.j_zan_c=9)):(this.j_zan_nagasa--,this.j_zan_nagasa<0&&(this.j_zan_f=!1))}if(this.co_j.pt<1e3)this.gg.drawPT(this.co_j.wx,this.co_j.wy,this.co_j.pt,this.co_j.muki);else if(1e3===this.co_j.pt)0===this.co_j.muki?(this.gg.drawPT(this.co_j.wx,this.co_j.wy,118,this.co_j.muki),this.gg.drawPT(this.co_j.wx-32,this.co_j.wy,117,this.co_j.muki)):(this.gg.drawPT(this.co_j.wx,this.co_j.wy,118,1),this.gg.drawPT(this.co_j.wx+32,this.co_j.wy,117,1));else if(1100===this.co_j.pt){var f=Math.max(0,Math.min(32,this.co_j.c1));this.gg.drawPT(this.co_j.wx,this.co_j.wy+f,100,this.co_j.muki),this.gg.drawPT(this.co_j.wx-16,this.co_j.wy+32,60+2*this.co_j.c2,0),this.gg.drawPT(this.co_j.wx+16,this.co_j.wy+32,61+2*this.co_j.c2,0)}else this.co_j.pt},st=function(){for(var t=this.maps.wx,i=this.maps.wy,s=0;s<=1;s++){var h=this.co_jm[s];if(!(h.c<50)){var e=h.x-t,a=h.y-i;if(h.pt<1e3)this.hg.drawImage(this.hih[h.pth][h.pt],e,a,this.ap);else{var c=0===this.g_ac?this.gamecolor_grenade1:this.gamecolor_grenade2;if(this.gg.os_g.setColor(c),1200===h.pt){var o=h.vx-h.x+1;this.gg.os_g.fillRect(e,a+12,o,8)}else if(1205===h.pt){var r=h.x-h.vx+1;this.gg.os_g.fillRect(h.vx-t,a+12,r,8)}else{var _=h.c2;this.gg.os_g.fillOval(e+16-_,a+16-_,2*_,2*_)}}}}},ht=function(){var t=this;if(!(this.co_b.c<=50)){var i=this.maps,s=i.wx,h=i.wy,a=this.co_b.x-s,c=this.co_b.y-h;if(!(a>=528)){var o=function(i,s,h,e,a){for(var c=0;c<h;c++)for(var o=0;o<s;o++)t.hg.drawImage(t.hih[0][i+10*c+o],e+32*o,a+32*c,t.ap)},r=function(i,s,h,e,a){for(var c=0;c<h;c++)for(var o=0;o<s;o++){var r=s-1-o;t.hg.drawImage(t.hih[1][i+10*c+r],e+32*o,a+32*c,t.ap)}};switch(this.co_b.pt){default:break;case k:o(186,2,2,a-16,c-16);break;case w:r(186,2,2,a-16,c-16);break;case b:o(176,2,1,a-16,c+16);break;case S:r(176,2,1,a-16,c+16);break;case I:o(188,2,2,a-16,c-16);break;case P:r(188,2,2,a-16,c-16);break;case C:o(178,2,1,a-16,c+16);break;case M:r(178,2,1,a-16,c+16);break;case z:o(238,2,2,a-16,c-16);break;case A:r(238,2,2,a-16,c-16);break;case T:o(228,2,1,a-16,c+16);break;case G:r(228,2,1,a-16,c+16);break;case B:o(238,2,2,a-16,c-16),this.j_v_c<=0&&(this.j_v_kakudo+=2,this.j_v_kakudo>360&&(this.j_v_kakudo-=360)),this.gg.os_g.setColor(e.white);for(var _=0;_<6;_++){var n=(this.j_v_kakudo+60*_)*Math.PI/180;this.vo_pa_x[_]=a+16+Math.floor(50*Math.cos(n)),this.vo_pa_y[_]=c+16+Math.floor(50*Math.sin(n))}this.gg.os_g.drawPolygon(this.vo_pa_x,this.vo_pa_y,6);for(var p=0;p<6;p++){var m=(360-this.j_v_kakudo+60*p)*Math.PI/180;this.vo_pa_x[p]=a+16+Math.floor(50*Math.cos(m)),this.vo_pa_y[p]=c+16+Math.floor(50*Math.sin(m))}this.gg.os_g.drawPolygon(this.vo_pa_x,this.vo_pa_y,6);break;case O:r(238,2,2,a-16,c-16),this.j_v_c<=0&&(this.j_v_kakudo+=2,this.j_v_kakudo>360&&(this.j_v_kakudo-=360)),this.gg.os_g.setColor(e.white);for(var u=0;u<6;u++){var g=(this.j_v_kakudo+60*u)*Math.PI/180;this.vo_pa_x[u]=a+16+Math.floor(50*Math.cos(g)),this.vo_pa_y[u]=c+16+Math.floor(50*Math.sin(g))}this.gg.os_g.drawPolygon(this.vo_pa_x,this.vo_pa_y,6);for(var f=0;f<6;f++){var y=(360-this.j_v_kakudo+60*f)*Math.PI/180;this.vo_pa_x[f]=a+16+Math.floor(50*Math.cos(y)),this.vo_pa_y[f]=c+16+Math.floor(50*Math.sin(y))}this.gg.os_g.drawPolygon(this.vo_pa_x,this.vo_pa_y,6)}}}},et=function(){for(var t=[],i=1;i<=3;i++){var s="hitokoto".concat(this.hitokoto_num,"-").concat(i),h=this.gg.ap.getParameter(s);0!==parseInt(h)&&t.push(h)}this.km.drawWindowbox(208,56,224,30+14*t.length),this.hg.setFont(new a(a.DIALOG,0,12)),this.hg.setColor(e.cyan);var c="hitokoto".concat(this.hitokoto_num,"_name"),o=this.gg.ap.getParameter(c);this.hg.drawString(o,214,74),this.hg.setColor(e.white);var r,_=function(t,i){var s="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!s){if(Array.isArray(t)||(s=U(t))){s&&(t=s);var h=0,e=function(){};return{s:e,n:function(){return h>=t.length?{done:!0}:{done:!1,value:t[h++]}},e:function(t){throw t},f:e}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,c=!0,o=!1;return{s:function(){s=s.call(t)},n:function(){var t=s.next();return c=t.done,t},e:function(t){o=!0,a=t},f:function(){try{c||null==s.return||s.return()}finally{if(o)throw a}}}}(t.entries());try{for(_.s();!(r=_.n()).done;){var n=$(r.value,2),p=n[0],m=n[1],u=18+14*p+12;this.hg.drawString(m,214,62+u)}}catch(t){_.e(t)}finally{_.f()}};function at(t,i,s){this.ran_seed=void 0,this.ml_mode=0,this.ml_mode_c=0,this.score=0,this.highscore=0,this.score_1up_1=0,this.score_1up_2=0,this.score_1up_1_para=0,this.score_1up_2_para=0,this.score_v=!0,this.stage=1,this.stage_cc=0,this.stage_max=1,this.stage_kaishi=1,this.g_c1=0,this.g_c2=0,this.g_c3=0,this.g_ac=0,this.g_ac2=0,this.tr1_c=0,this.tr2_c=0,this.left_dcc=0,this.right_dcc=0,this.co_t=new Array(130),this.co_m=new Array(24),this.co_a=new Array(32),this.co_h=new Array(64),this.co_jm=new Array(2),this.vo_x=nt(32,4),this.vo_y=nt(32,4),this.j_zan_x=new Array(6),this.j_zan_y=new Array(6),this.j_zan_pt=new Array(6),this.j_zan_pth=new Array(6),this.vo_pa_x=new Array(6),this.vo_pa_y=new Array(6),this.stage_1up_f=new Array(3),this.shop_item_name=new Array(16),this.shop_item_teika=new Array(16),this.door_score=10,this.gg=t,this.gm=i,this.gk=s,this.maps=new H(200,100,this.gg,this),this.km=new N(this.gg,this.gk,"まさお"),this.co_j=new p;for(var h=0;h<=129;h++)this.co_t[h]=new p;for(var e=0;e<=23;e++)this.co_m[e]=new p;for(var a=0;a<=31;a++)this.co_a[a]=new p;for(var c=0;c<=63;c++)this.co_h[c]=new p;for(var o=0;o<=1;o++)this.co_jm[o]=new p;this.co_b=new R,2==this.paraInt("stage_select")?(this.stage_select=2,this.stage_max=4):this.stage_select=1,this.ig=new L(this.gg,this.gk,this.km,this),this.ranInit(),this.hi=this.gg.spt_img[0],this.hih=this.gg.spt_img,this.hg=this.gg.os_g,this.ap=this.gg.ap,this.init1()}function ct(i,s,h,e){this.th_interval=70,this.th_jm=10,this.params=i,this.__canvas=s,this.__appimg=new t(512,320),this.__game=h,this.options=e}function ot(t,i,s){var h=mt();if((s=s||{}).extensions=s.extensions||[],i?this.__boxID=i:(this.__boxID="__mcdiv"+h,document.write("<div id='"+this.__boxID+"'></div>")),this.__canvasID="__mccanvas"+h,this.__padDivID="__mcpaddiv"+h,this.__box=document.getElementById(this.__boxID),this.__resourceList=[],this.__canvas=document.createElement("canvas"),this.__canvas.id=this.__canvasID,this.__canvas.width=s.width||512,this.__canvas.height=s.height||320,this.__canvas.textContent="※お使いのブラウザはHTML5に対応していないため表示できません。",this.__box.appendChild(this.__canvas),this.__padDiv=document.createElement("div"),this.__padDiv.id=this.__padDivID,this.__box.appendChild(this.__padDiv),this.__canvas&&this.__canvas.getContext){if(this.__pad_before=[],this.__pad_after=[],this.__pad_touches=[],window.TouchEvent){var e,a=document.createElement("input");a.type="button",a.value="バーチャル操作パッド 表示 / 非表示",(e=a.style).width="24em",e.height="2.5em",a.onclick=function(){"inline"==c.style.display?c.style.display="none":ot.padAccessor.show(c)},this.__padDiv.appendChild(a),this.__padDiv.appendChild(document.createElement("br"));var c=this.__pad=document.createElement("canvas");c.width=500,c.height=200;var o=function(t){this.__pad_event(t)}.bind(this);c.addEventListener("touchstart",o,!1),c.addEventListener("touchmove",o,!1),c.addEventListener("touchend",o,!1),c.addEventListener("touchcancel",o,!1),c.style.display="none",this.__padDiv.appendChild(c),(e=c.style).position="absolute";var r=setInterval(function(){var t=innerWidth,i=innerHeight,s=t<i?t:i;c.style.width=t+"px",c.style.height=s*ot.pad.style.rate+"px",c.style.left=scrollX+"px",ot.pad.avoidAD?c.style.top=scrollY+i-s*ot.pad.style.rate-.16*s+"px":c.style.top=scrollY+i-s*ot.pad.style.rate+"px",this.__pad_update()}.bind(this),500);this.__resourceList.push({type:"setInterval",value:r}),ot.padAccessor.append(c),this.__pad_off=document.createElement("canvas"),this.__pad_off.width=500,this.__pad_off.height=200;var _=this.__pad_off.getContext("2d");_.font="24px monospace",_.textAlign="center",_.textBaseline="middle",_.lineWidth=2,_.lineCap="round",_.lineJoin="round";for(var n=0;n<8;n++)this.__pad_before[n]=!1,this.__pad_after[n]=!1;this.__pad_update()}for(this.__mc=new ct(t,this.__canvas,this,s||{}),n=0;n<s.extensions.length;n++)s.extensions[n].inject(this.__mc,s);this.__mc.start();var p=this.__st=this.__mc.getParameter("game_speed");p?(p=parseInt(p),isNaN(p)?p=70:p<10?p=10:p>300&&(p=300)):p=70,this.__pt=0;var m=new(s["custom-loop"]||ut)(this,!!s["bc-loop-setinterval"]);m.start(p,this.__loop.bind(this)),this.__resourceList.push({type:"Loop",value:m})}}function rt(t){this._dat=new Audio,this._dat.preload="auto",this._dat.src=t}function _t(t,i){this.width=t,this.height=i}function nt(){if(0==arguments.length)return null;for(var t=new Array(arguments.length),i=0;i<arguments.length;i++)t[i]=arguments[i];var s=function t(i){var s=new Array(i[0]);if(1==i.length)return s;for(var h=i.slice(1),e=0;e<i[0];e++)s[e]=t(h);return s}(t);return s}function pt(t){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=arguments.length>2?arguments[2]:void 0;return t>=0||i&&!s.tdb.options["bc-use-rounddown"]?Math.floor(t):-Math.floor(-t)}function mt(){return Math.random().toString(36).slice(2)}function ut(t,i){this.game=t,this.forceSetInterval=i,this.running=!1,this.interval=null,this.callback=null,this.mode=0,this.prevTime=null,this.timerid=null,this._loop=this._loop.bind(this)}at.prototype.start=function(){this.ml_mode=50},at.prototype.paraInt=function(t){var i,s=this.gg.ap.getParameter(t);return i=parseInt(s),isNaN(i)&&(i=-1),i},at.prototype.addHighscoreEvent=function(t){return this.heh=t,!0},at.prototype.sendHighscore=function(){if("[object Function]"==Object.prototype.toString.call(this.heh)){var t=this.highscore;t<this.score&&(t=this.score),this.heh(t)}},at.prototype.moveGameCounter=function(){switch(this.g_c3){case 0:this.g_c3=1,this.g_c1=1,this.g_c2=1,this.g_ac=0,this.g_ac2=0;break;case 1:this.g_c3=2,this.g_c1=0,this.g_c2=2,this.g_ac=1,this.g_ac2=1;break;case 2:this.g_c3=3,this.g_c1=1,this.g_c2=3,this.g_ac=1,this.g_ac2=1;break;case 3:this.g_c3=4,this.g_c1=0,this.g_c2=0,this.g_ac=0,this.g_ac2=2;break;case 4:this.g_c3=5,this.g_c1=1,this.g_c2=1,this.g_ac=0,this.g_ac2=2;break;case 5:this.g_c3=6,this.g_c1=0,this.g_c2=2,this.g_ac=1,this.g_ac2=3;break;case 6:this.g_c3=7,this.g_c1=1,this.g_c2=3,this.g_ac=1,this.g_ac2=3;break;case 7:this.g_c3=0,this.g_c1=0,this.g_c2=0,this.g_ac=0,this.g_ac2=0}},at.prototype.ranInit=function(){this.ran_seed=4294967296*Math.random()|0},at.prototype.ranInt=function(t){var i=this.ran_seed;return i=((i=(i^i<<9)>>>0)^i>>>11)>>>0,this.ran_seed=i=(i^i<<19)>>>0,2.3283064365386963e-10*i*t|0},at.prototype.drawScore=function(){this.hg.setColor(this.gamecolor_score),this.hg.setFont(new a(a.DIALOG,1,this.moji_size));var t=this.moji_size+14,i="";if(this.score_v&&(i+="".concat(this.moji_score," ").concat(this.score,"    ").concat(this.moji_highscore," ").concat(this.highscore)),(this.j_left_shoki>0||this.j_left>0)&&(i+="".concat(this.moji_left).concat(this.j_left)),this.time_max>0){var s=Math.floor(this.time/1e3);i+="".concat(this.moji_time).concat(s)}this.hg.drawString(i,40,t)},at.prototype.drawScore2=function(){this.hg.setColor(this.gamecolor_score),this.hg.setFont(new a(a.DIALOG,1,this.moji_size));var t=this.moji_size+14,i="";this.score_v&&(i="".concat(this.moji_score," ").concat(this.score,"    ").concat(this.moji_highscore," ").concat(this.highscore)),(this.j_left_shoki>0||this.j_left>0)&&(i+="".concat(this.moji_left).concat(this.j_left)),this.hg.drawString(i,40,t)},at.prototype.addScore=function(t){this.score+=t,this.score_1up_1>0&&this.score>=this.score_1up_1&&(this.j_left++,this.score_1up_1=0),this.score_1up_2>0&&this.score>=this.score_1up_2&&(this.j_left++,this.score_1up_2=0)},at.prototype.addSerifu=function(t,i,s){for(var h=1;h<=s;h++){var e=this.gg.ap.getParameter("serifu"+i+"-"+h);0!=parseInt(e,10)&&this.km.addItem(t,e)}},at.prototype.mL100=function(){if(this.moveGameCounter(),this.aMove(),100==this.co_j.c?this.jM100():this.jMove(),this.sl_step>0&&(10==this.sl_step||11==this.sl_step?(this.ks_wx+=this.sl_speed,this.ks_wx>this.maps.wx_max&&(this.ks_wx=this.maps.wx_max),this.maps.wx=this.ks_wx,this.maps.wy=this.ks_wy,300!=this.co_j.c&&310!=this.co_j.c&&(this.co_j.x<this.ks_wx-16?(this.co_j.x=this.ks_wx-16,this.co_j.vx<0&&(this.co_j.vx=0),(this.maps.getBGCode(this.co_j.x+15,this.co_j.y)>=20||this.maps.getBGCode(this.co_j.x+15,this.co_j.y+31)>=20)&&this.co_j.c>=100&&this.co_j.c<200&&(this.co_j.c=210,this.co_j.y=this.maps.wy-64,this.co_j.c1=0,this.j_jet_c=0,this.j_v_c=0)):this.co_j.x>this.ks_wx+496&&(this.co_j.x=this.ks_wx+496,this.co_j.vx=0,this.co_j.vx>0&&(this.co_j.vx=0))),11==this.sl_step&&this.maps.wx>=this.sl_wx&&(this.maps.wx=this.sl_wx,this.sl_wy=this.ks_wy,this.sl_step=3)):1==this.sl_step?this.maps.wx>=this.sl_wx&&(this.maps.wx=this.sl_wx,this.sl_step=2):2==this.sl_step?(this.maps.wx=this.sl_wx,this.co_j.x<this.sl_wx-16?(this.co_j.x=this.sl_wx-16,this.co_j.vx=0):this.co_j.x>this.sl_wx+496&&(this.co_j.x=this.sl_wx+496,this.co_j.vx=0),this.maps.wy>=this.sl_wy&&(this.maps.wy=this.sl_wy,this.sl_step=3)):(this.maps.wx=this.sl_wx,this.maps.wy=this.sl_wy,this.co_j.x<this.sl_wx-16?(this.co_j.x=this.sl_wx-16,this.co_j.vx=0):this.co_j.x>this.sl_wx+496&&(this.co_j.x=this.sl_wx+496,this.co_j.vx=0))),this.jm_kazu>0&&this.jmMove(),this.tMove(),this.co_b.c>0&&this.bMove(),this.m_kazu>0&&this.mMove(),this.time_max>0&&this.stage_cc<=0&&(this.time-=70,this.time<0&&(this.time=0,this.j_left--,this.j_left<0?(this.j_left=0,this.ml_mode=300):this.ml_mode=90)),this.stage_cc>0&&(this.stage_cc++,this.stage_cc>28&&(2==this.stage_select?this.stage>=4?this.ml_mode=400:(this.time_max>0&&this.addScore(pt(this.time/1e3)),this.ml_mode=260):this.stage>=this.stage_max?this.ml_mode=400:(this.stage++,this.time_max>0&&this.addScore(pt(this.time/1e3)),this.ml_mode=90))),this.drawGamescreen(),this.drawScore(),this.j_jet_fuel>0){var t=this.moji_jet+" "+this.j_jet_fuel;this.j_gr_kazu>0&&(t=1==this.j_gr_kazu?t+"    "+this.moji_grenade:t+"    "+this.moji_grenade+" "+this.j_gr_kazu),this.hg.drawString(t,40,287+this.moji_size)}else this.j_gr_kazu>0&&(1==this.j_gr_kazu?this.hg.drawString(this.moji_grenade,40,287+this.moji_size):this.hg.drawString(this.moji_grenade+" "+this.j_gr_kazu,40,287+this.moji_size));84==this.gk.key_code&&(this.gk.key_code=0,this.ml_mode=50)},at.prototype.mainLoop=function(){var t=this,i=function(){t.hg.setColor(e.black),t.hg.fillRect(0,0,t.gg.di.width,t.gg.di.height)},s=function(){t.gg.drawListImage(0,0,0),(t.score>0||t.highscore>0)&&t.drawScore()},h=function(){84==t.gk.key_code&&(t.gk.key_code=0,t.ml_mode=50)};switch(this.ml_mode){default:break;case 50:s(),this.gm.button_f||this.gk.tr1_f||(this.ml_mode=60,this.g_c1=0,this.sendHighscore());break;case 60:if(0==this.g_c1?this.gk.key_char=="v".toUpperCase().charCodeAt()&&(this.g_c1=1):1==this.g_c1?this.gk.key_char=="e".toUpperCase().charCodeAt()?this.g_c1=2:this.gk.key_char!="v".toUpperCase().charCodeAt()&&(this.g_c1=0):2==this.g_c1&&(this.gk.key_char=="r".toUpperCase().charCodeAt()?this.ml_mode=1e3:this.gk.key_char!="e".toUpperCase().charCodeAt()&&(this.g_c1=0)),!this.gm.button_f&&!this.gk.tr1_f)break;if(2==this.stage_select){this.init2(),this.ig.worldInit(),i(),this.ml_mode=200;break}this.init2(),this.init3(),s(),this.j_left<=0?this.ml_mode=100:this.ml_mode=90;break;case 80:this.init2(),this.init3(),s(),this.j_left<=0?this.ml_mode=100:this.ml_mode=90;break;case 90:this.init3(),this.hg.setColor(this.gamecolor_kaishi),this.hg.fillRect(0,0,this.gg.di.width,this.gg.di.height),this.stage>=this.stage_max?(this.gg.drawPT(160,144,52,0),this.gg.drawPT(192,144,53,0),this.gg.drawPT(224,144,54,0),this.gg.drawPT(256,144,55,0),this.gg.drawPT(288,144,56,0),this.gg.drawPT(320,144,57,0)):(this.gg.drawPT(192,144,70,0),this.gg.drawPT(224,144,71,0),this.gg.drawPT(256,144,72,0),this.stage>=this.stage_max&&this.gg.drawPT(288,144,75,0),3==this.stage?this.gg.drawPT(288,144,75,0):2==this.stage?this.gg.drawPT(288,144,74,0):this.gg.drawPT(288,144,73,0)),this.drawScore(),this.ml_mode=91,this.ml_mode_c=0;break;case 91:this.ml_mode_c++,this.ml_mode_c>35&&(this.ml_mode=100),h();break;case 95:switch(this.stage=this.ig.checkStage(),this.init3(),this.ig.shop_kattaitem){case 7:default:break;case 0:this.j_gr_kazu=3;break;case 1:this.j_jet_fuel=80;break;case 2:this.j_drell_f=!0;break;case 3:this.j_helm_f=!0;break;case 4:this.j_tail_f=!0;break;case 5:this.j_v_c=150,this.j_v_kakudo=0;break;case 6:this.j_fire_f=!0;break;case 8:this.time_max>0&&(this.time+=3e4)}i(),this.drawScore(),this.ml_mode=96,this.ml_mode_c=0;break;case 96:this.ml_mode_c++,this.ml_mode_c>8&&(this.ml_mode=100),h();break;case 200:this.ig.drawMap(),this.ig.mainProgram(),this.time=0,this.drawScore2(),110==this.ig.mp_mode&&(this.ig.dokan_khID>=1?this.ml_mode=230:this.ml_mode=95),h();break;case 230:i(),this.drawScore2(),this.ml_mode=231,this.ml_mode_c=0;break;case 231:var c;this.ml_mode_c++,5==this.ml_mode_c?(c=2==this.ig.dokan_khID?this.gg.ap.getParameter("url2"):3==this.ig.dokan_khID?this.gg.ap.getParameter("url3"):4==this.ig.dokan_khID?this.gg.ap.getParameter("url4"):this.gg.ap.getParameter("url1"),location.href=c):this.ml_mode_c>80&&(this.ml_mode=50),h();break;case 250:this.addScore(0),this.ig.worldInit2(),this.ml_mode=251,this.ml_mode_c=0,i(),this.drawScore();break;case 251:case 261:this.ml_mode_c++,this.ml_mode_c>8&&(this.ml_mode=200),h();break;case 260:this.addScore(0),this.ig.worldInit3(),this.ml_mode=261,this.ml_mode_c=0,i(),this.drawScore();break;case 300:this.gg.setBackcolor(e.black),this.gg.fill(),this.gg.drawListImage(0,0,2),this.drawScore(),this.sendHighscore(),this.ml_mode=310,this.ml_mode_c=0;break;case 310:this.ml_mode_c++,this.ml_mode_c>45&&(this.ml_mode=50),h();break;case 400:this.gg.drawListImage(0,0,1),this.time_max>0&&this.addScore(pt(this.time/1e3)),this.drawScore(),this.sendHighscore(),this.ml_mode=410,this.ml_mode_c=0;break;case 410:this.ml_mode_c++,this.ml_mode_c>120&&(this.ml_mode=50),h();break;case 500:this.gg.setBackcolor(e.black),this.gg.fill(),s(),this.ml_mode=50;break;case 1e3:this.gg.setBackcolor(e.black),this.gg.fill(),this.hg.setFont(new a(a.DIALOG,0,46)),this.hg.setColor(e.white),this.hg.setFont(new a(a.DIALOG,0,20)),["Title        MASAO CONSTRUCTION","Version      2.8","Language     Java2  SDK 1.3.1","OS           WindowsXP","Browser      InternetExplorer 6.0","Programing   Fukuda Naoto","Date         2003/6"].forEach((function(i,s){t.hg.drawString(i,50,50+30*s)})),this.ml_mode=1010,this.ml_mode_c=0;break;case 1010:this.ml_mode_c++,this.ml_mode_c>40&&(this.ml_mode=50)}},at.prototype.init1=function(){this.time_max=this.paraInt("time_max");var t=this.paraInt("score_v");this.score_v=2!=t,t=this.paraInt("backcolor_red");var i=this.paraInt("backcolor_green"),s=this.paraInt("backcolor_blue");t<0?t=0:t>255&&(t=255),i<0?i=0:i>255&&(i=255),s<0?s=0:s>255&&(s=255),this.gamecolor_back=new e(t,i,s),(t=this.paraInt("backcolor_red_s"))<0?t=0:t>255&&(t=255),(i=this.paraInt("backcolor_green_s"))<0?i=0:i>255&&(i=255),(s=this.paraInt("backcolor_blue_s"))<0?s=0:s>255&&(s=255),this.gamecolor_back_s=new e(t,i,s),(t=this.paraInt("backcolor_red_t"))<0?t=0:t>255&&(t=255),(i=this.paraInt("backcolor_green_t"))<0?i=0:i>255&&(i=255),(s=this.paraInt("backcolor_blue_t"))<0?s=0:s>255&&(s=255),this.gamecolor_back_t=new e(t,i,s),(t=this.paraInt("backcolor_red_f"))<0?t=0:t>255&&(t=255),(i=this.paraInt("backcolor_green_f"))<0?i=0:i>255&&(i=255),(s=this.paraInt("backcolor_blue_f"))<0?s=0:s>255&&(s=255),this.gamecolor_back_f=new e(t,i,s),(t=this.paraInt("kaishi_red"))<0?t=0:t>255&&(t=255),(i=this.paraInt("kaishi_green"))<0?i=0:i>255&&(i=255),(s=this.paraInt("kaishi_blue"))<0?s=0:s>255&&(s=255),this.gamecolor_kaishi=new e(t,i,s),(t=this.paraInt("scorecolor_red"))<0?t=0:t>255&&(t=255),(i=this.paraInt("scorecolor_green"))<0?i=0:i>255&&(i=255),(s=this.paraInt("scorecolor_blue"))<0?s=0:s>255&&(s=255),this.gamecolor_score=new e(t,i,s),(t=this.paraInt("grenade_red1"))<0?t=0:t>255&&(t=255),(i=this.paraInt("grenade_green1"))<0?i=0:i>255&&(i=255),(s=this.paraInt("grenade_blue1"))<0?s=0:s>255&&(s=255),this.gamecolor_grenade1=new e(t,i,s),(t=this.paraInt("grenade_red2"))<0?t=0:t>255&&(t=255),(i=this.paraInt("grenade_green2"))<0?i=0:i>255&&(i=255),(s=this.paraInt("grenade_blue2"))<0?s=0:s>255&&(s=255),this.gamecolor_grenade2=new e(t,i,s),(t=this.paraInt("firebar_red1"))<0?t=0:t>255&&(t=255),(i=this.paraInt("firebar_green1"))<0?i=0:i>255&&(i=255),(s=this.paraInt("firebar_blue1"))<0?s=0:s>255&&(s=255),this.gamecolor_firebar1=new e(t,i,s),(t=this.paraInt("firebar_red2"))<0?t=0:t>255&&(t=255),(i=this.paraInt("firebar_green2"))<0?i=0:i>255&&(i=255),(s=this.paraInt("firebar_blue2"))<0?s=0:s>255&&(s=255),this.gamecolor_firebar2=new e(t,i,s),(t=this.paraInt("mizunohadou_red"))<0?t=0:t>255&&(t=255),(i=this.paraInt("mizunohadou_green"))<0?i=0:i>255&&(i=255),(s=this.paraInt("mizunohadou_blue"))<0?s=0:s>255&&(s=255),this.gamecolor_mizunohadou=new e(t,i,s),this.moji_score=this.gg.ap.getParameter("moji_score"),this.moji_highscore=this.gg.ap.getParameter("moji_highscore"),this.moji_time=this.gg.ap.getParameter("moji_time"),this.moji_time="    "+this.moji_time+" ",this.moji_jet=this.gg.ap.getParameter("moji_jet"),this.moji_grenade=this.gg.ap.getParameter("moji_grenade"),this.moji_left=this.gg.ap.getParameter("moji_left"),this.moji_left="    "+this.moji_left+" ",this.moji_size=this.paraInt("moji_size"),this.moji_size<10?this.moji_size=10:this.moji_size>30&&(this.moji_size=30),this.j_left_shoki=this.paraInt("jibun_left_shoki"),this.j_left_shoki<1&&(this.j_left_shoki=1),this.j_left_shoki--,this.stage_max=this.paraInt("stage_max"),this.stage_max<1?this.stage_max=1:this.stage_max>4&&(this.stage_max=4),2==this.stage_select&&(this.stage_max=4),this.stage_kaishi=this.paraInt("stage_kaishi"),this.stage_kaishi<1&&(this.stage_kaishi=1),this.stage_kaishi>this.stage_max&&(this.stage_kaishi=this.stage_max),this.score_1up_1_para=this.paraInt("score_1up_1"),(this.score_1up_1_para<0||this.stage_max<=1)&&(this.score_1up_1_para=0),this.score_1up_2_para=this.paraInt("score_1up_2"),(this.score_1up_2_para<0||this.stage_max<=1)&&(this.score_1up_2_para=0),this.j_tail_type=this.paraInt("j_tail_type"),(this.j_tail_type<1||this.j_tail_type>3)&&(this.j_tail_type=1);var h=this.paraInt("j_tail_hf");this.j_tail_hf=2==h,this.grenade_type=this.paraInt("grenade_type"),(this.grenade_type<1||this.grenade_type>6)&&(this.grenade_type=1),this.suberuyuka_hkf=this.paraInt("suberuyuka_hkf"),2==this.suberuyuka_hkf?this.suberuyuka_hkf=2:this.suberuyuka_hkf=1,h=this.paraInt("j_fire_mkf"),this.j_fire_mkf=2==h,h=this.paraInt("dengeki_mkf"),this.dengeki_mkf=2==h,h=this.paraInt("yachamo_kf"),this.yachamo_cf=2==h,h=this.paraInt("airms_kf"),this.airms_kf=2==h,this.ugokuyuka1_type=this.paraInt("ugokuyuka1_type"),(this.ugokuyuka1_type<1||this.ugokuyuka1_type>7)&&(this.ugokuyuka1_type=1),this.ugokuyuka2_type=this.paraInt("ugokuyuka2_type"),(this.ugokuyuka2_type<1||this.ugokuyuka2_type>7)&&(this.ugokuyuka2_type=1),this.ugokuyuka3_type=this.paraInt("ugokuyuka3_type"),(this.ugokuyuka3_type<1||this.ugokuyuka3_type>7)&&(this.ugokuyuka3_type=1),this.boss_type=this.paraInt("boss_type"),(this.boss_type<1||this.boss_type>4)&&(this.boss_type=1),this.boss2_type=this.paraInt("boss2_type"),(this.boss2_type<1||this.boss2_type>2)&&(this.boss2_type=1),this.boss3_type=this.paraInt("boss3_type"),(this.boss3_type<1||this.boss3_type>4)&&(this.boss3_type=1),this.dokan_mode=this.paraInt("dokan_mode"),(this.dokan_mode<1||this.dokan_mode>2)&&(this.dokan_mode=1),this.mes1_name=this.gg.ap.getParameter("mes1_name"),this.mes2_name=this.gg.ap.getParameter("mes2_name"),this.shop_name=this.gg.ap.getParameter("shop_name"),this.setumei_name=this.gg.ap.getParameter("setumei_name"),this.door_score=this.paraInt("door_score"),this.door_score<10&&(this.door_score=10),this.shop_item_name[0]=this.gg.ap.getParameter("shop_item_name1"),this.shop_item_name[1]=this.gg.ap.getParameter("shop_item_name2"),this.shop_item_name[2]=this.gg.ap.getParameter("shop_item_name3"),this.shop_item_name[3]=this.gg.ap.getParameter("shop_item_name4"),this.shop_item_name[4]=this.gg.ap.getParameter("shop_item_name5"),this.shop_item_name[5]=this.gg.ap.getParameter("shop_item_name6"),this.shop_item_name[6]=this.gg.ap.getParameter("shop_item_name7"),this.shop_item_name[7]=this.gg.ap.getParameter("shop_item_name8"),this.shop_item_name[8]=this.gg.ap.getParameter("shop_item_name9");for(var a=0;a<=8;a++){var c=a+1;(c=this.paraInt("shop_item_teika"+c))<0&&(c=0),this.shop_item_teika[a]=c}},at.prototype.init2=function(){this.score>this.highscore&&(this.highscore=this.score),this.j_left=this.j_left_shoki,this.score_1up_1=this.score_1up_1_para,this.score_1up_2=this.score_1up_2_para;for(var t=0;t<=2;t++)this.stage_1up_f[t]=!0;this.gk.key_code=0,this.score=0,this.stage=this.stage_kaishi,this.time_max>0?this.time=1e3*this.time_max+1e3-70:this.time=0},at.prototype.init3=function(){this.sendHighscore(),this.g_c1=0,this.g_c2=0,this.g_c3=0,this.g_ac=0,this.g_ac2=0,this.stage_cc=0,this.co_j.init(),this.co_j.c=100,this.co_j.x=100,this.co_j.y=100,this.co_j.pt=100,this.co_j.muki=1,this.co_j.jimen_f=!1,this.j_hashiru_f=!1,this.j_jump_level=0,this.j_jump_type=0,this.j_a_id=-1,this.tr1_c=0,this.tr2_c=0,this.gk.left_c=0,this.gk.right_c=0,this.left_dcc=0,this.right_dcc=0,this.ochiru_y=9999,this.j_fire_f=!1,this.j_v_c=0,this.j_v_kakudo=0,this.j_jet_c=0,this.j_jet_kf=!1,this.j_jet_fuel=0,this.j_helm_f=!1,this.j_drell_f=!1,this.j_tail_f=!1,this.j_tail_ac=0,this.j_gr_kazu=0,this.j_mizu_f=!1,this.j_mizu_ac=0,this.j_mizu_awa_c=0,this.j_jdai_f=!1,this.hitokoto_c=0,this.hitokoto_num=1,this.j_tail_hf&&(this.j_tail_f=!0);for(var t=0;t<=5;t++)this.j_zan_x[t]=0,this.j_zan_y[t]=0,this.j_zan_pt[t]=0,this.j_zan_pth[t]=0;var i;this.j_zan_p=0,this.j_zan_c=0,this.j_zan_nagasa=0,this.j_zan_f=!1,this.sl_step=0,this.sl_speed=0,this.sl_wx=0,this.sl_wy=0,2==(i=2==this.stage?this.paraInt("scroll_mode_s"):3==this.stage?this.paraInt("scroll_mode_t"):4==this.stage?this.paraInt("scroll_mode_f"):this.paraInt("scroll_mode"))?(this.sl_step=10,this.ks_wx=32,this.ks_wy=960,this.sl_speed=2):3==i&&(this.sl_step=10,this.ks_wx=32,this.ks_wy=960,this.sl_speed=4);for(var s=0;s<=31;s++){this.co_a[s].init();for(var h=0;h<=3;h++)this.vo_x[s][h]=0,this.vo_y[s][h]=0}this.a_kazu=-1,this.a_hf=!1;for(var e=0;e<=129;e++)this.co_t[e].init();this.t_kazu=-1,this.co_b.init(),this.boss_kijyun_y=0;for(var a=0;a<=23;a++)this.co_m[a].init();this.m_kazu=0;for(var c=0;c<=1;c++)this.co_jm[c].init();this.jm_kazu=0;for(var o=0;o<=63;o++)this.co_h[o].init();this.time_max>0?this.time=1e3*this.time_max+1e3-70:this.time=0,this.mapsMakeStageData(100+this.stage),10!=this.sl_step&&11!=this.sl_step||(this.ks_wx=this.maps.wx,this.ks_wx<=128&&(this.ks_wx=32)),this.maps.drawMap(this.maps.wx,this.maps.wy)},at.prototype.mapsMakeStageData=function(t){this.maps.init();var i=this.maps.map_string;switch(this.maps.wx=32,this.maps.wy=32,this.maps.wx_mini=32,this.maps.wy_mini=320,this.maps.wx_max=5856,this.maps.wy_max=6048,this.gg.setBackcolor(e.blue),t){default:break;case 101:this.maps.setBank(0),this.gg.setBackcolor(this.gamecolor_back),this.maps.wx_max=5280,this.maps.wy_max=960;for(var s=0;s<=29;s++){var h="."+this.gg.ap.getParameter("map0-"+s);h+=this.gg.ap.getParameter("map1-"+s),h+=this.gg.ap.getParameter("map2-"+s),i[s+10]=h}break;case 102:this.maps.setBank(0),this.gg.setBackcolor(this.gamecolor_back_s),this.maps.wx_max=5280,this.maps.wy_max=960;for(var a=0;a<=29;a++){var c="."+this.gg.ap.getParameter("map0-"+a+"-s");c+=this.gg.ap.getParameter("map1-"+a+"-s"),c+=this.gg.ap.getParameter("map2-"+a+"-s"),i[a+10]=c}break;case 103:this.maps.setBank(0),this.gg.setBackcolor(this.gamecolor_back_t),this.maps.wx_max=5280,this.maps.wy_max=960;for(var o=0;o<=29;o++){var r="."+this.gg.ap.getParameter("map0-"+o+"-t");r+=this.gg.ap.getParameter("map1-"+o+"-t"),r+=this.gg.ap.getParameter("map2-"+o+"-t"),i[o+10]=r}break;case 104:this.maps.setBank(0),this.gg.setBackcolor(this.gamecolor_back_f),this.maps.wx_max=5280,this.maps.wy_max=960;for(var _=0;_<=29;_++){var n="."+this.gg.ap.getParameter("map0-"+_+"-f");n+=this.gg.ap.getParameter("map1-"+_+"-f"),n+=this.gg.ap.getParameter("map2-"+_+"-f"),i[_+10]=n}}for(var p=0;p<this.maps.height;p++)if(i[p].length<this.maps.width)for(var m=i[p].length;m<this.maps.width;m++)i[p]+=".";for(var u=0;u<this.maps.height;u++)for(var g=0;g<this.maps.width;g++){var f=i[u].charAt(g),y=-1;"."!=f&&("1"==f?y=1:"2"==f?y=2:"3"==f?y=3:"4"==f?y=4:"5"==f?y=5:"6"==f?y=6:"7"==f?y=7:"8"==f?y=8:"9"==f?y=9:"a"==f?y=20:"b"==f?y=21:"c"==f?y=22:"d"==f?y=23:"e"==f?y=24:"f"==f?y=25:"g"==f?y=26:"h"==f?y=27:"i"==f?y=28:"j"==f?y=29:"k"==f?(y=40,this.hSet(g,u,100)):"l"==f?(y=40,this.hSet(g,u,200)):"m"==f?(y=40,this.hSet(g,u,300)):"n"==f?(y=40,this.hSet(g,u,400)):"o"==f?(y=40,this.hSet(g,u,500)):"p"==f?(y=40,this.hSet(g,u,600)):"q"==f?(y=40,this.hSet(g,u,700)):"r"==f?(y=40,this.hSet(g,u,800)):"s"==f?(y=40,this.hSet(g,u,900)):"t"==f?(y=40,this.hSet(g,u,1e3)):"u"==f?(this.aSet(32*g,32*u,300,32*g),4==this.maps.map_bg[g-1][u]&&(y=4)):"v"==f?(this.aSet(32*g,32*u,310,32*g),4==this.maps.map_bg[g-1][u]&&(y=4)):"w"==f?(this.aSet(32*g,32*u,320,32*g),4==this.maps.map_bg[g-1][u]&&(y=4)):"x"==f?(this.aSet(32*g,32*u,330,32*g),4==this.maps.map_bg[g-1][u]&&(y=4)):"y"==f?this.stage_1up_f[this.stage-1]?(y=40,this.hSet(g,u,1100)):y=41:"z"==f?y=69:"+"==f?(this.aSet(32*g,32*u,80,32*g),4==this.maps.map_bg[g-1][u]&&(y=4)):"-"==f?(this.aSet(32*g,32*u,81,32*g),4==this.maps.map_bg[g-1][u]&&(y=4)):"*"==f?(this.aSet(32*g,32*u,82,32*g),4==this.maps.map_bg[g-1][u]&&(y=4)):"/"==f?(this.aSet(32*g,32*u,83,32*g),4==this.maps.map_bg[g-1][u]&&(y=4)):"A"==f?(this.co_j.x=32*g,this.co_j.y=32*u,4==this.maps.map_bg[g-1][u]&&(y=4)):"B"==f?(this.tSet(32*g,32*u,100,32*g-512-32),4==this.maps.map_bg[g-1][u]&&(y=4)):"C"==f?(this.tSet(32*g,32*u,110,32*g-512-32),4==this.maps.map_bg[g-1][u]&&(y=4)):"D"==f?(this.tSet(32*g,32*u,110,32*g-512-32),this.tSet(32*g+75,32*u,110,32*g-512-32),this.tSet(32*g+150,32*u,110,32*g-512-32),4==this.maps.map_bg[g-1][u]&&(y=4)):"E"==f?(this.tSet(32*g,32*u,200,32*g-512-32),4==this.maps.map_bg[g-1][u]&&(y=4)):"F"==f?(this.tSet(32*g,32*u,300,32*g-512-32),4==this.maps.map_bg[g-1][u]&&(y=4)):"G"==f?(this.tSet(32*g,32*u,400,32*g-512-32),4==this.maps.map_bg[g-1][u]&&(y=4)):"H"==f?(this.tSet(32*g,32*u,500,32*g-512-32),4==this.maps.map_bg[g-1][u]&&(y=4)):"I"==f?(this.tSet(32*g,32*u,510,32*g-512-32),4==this.maps.map_bg[g-1][u]&&(y=4)):"J"==f?(this.tSet(32*g,32*u,510,32*g-512-32-32),this.tSet(32*g+80,32*u-40,510,32*g-512-32-32),this.tSet(32*g+140,32*u+38,510,32*g-512-32-32),4==this.maps.map_bg[g-1][u]&&(y=4)):"K"==f?(2==this.ugokuyuka1_type?this.aSet(32*g,32*u,500,32*g):3==this.ugokuyuka1_type?this.aSet(32*g,32*u,510,32*g):4==this.ugokuyuka1_type?this.aSet(32*g,32*u,120,32*g):5==this.ugokuyuka1_type?this.aSet(32*g,32*u,121,32*g):6==this.ugokuyuka1_type?this.aSet(32*g,32*u,600,32*g):7==this.ugokuyuka1_type?this.aSet(32*g,32*u,700,32*g):this.aSet(32*g,32*u,100,32*g),4==this.maps.map_bg[g-1][u]&&(y=4)):"L"==f?(2==this.ugokuyuka2_type?this.aSet(32*g,32*u,500,32*g):3==this.ugokuyuka2_type?this.aSet(32*g,32*u,510,32*g):4==this.ugokuyuka2_type?this.aSet(32*g,32*u,120,32*g):5==this.ugokuyuka2_type?this.aSet(32*g,32*u,121,32*g):6==this.ugokuyuka2_type?this.aSet(32*g,32*u,600,32*g):7==this.ugokuyuka2_type?this.aSet(32*g,32*u,700,32*g):this.aSet(32*g,32*u+9,110,32*g-16),4==this.maps.map_bg[g-1][u]&&(y=4)):"M"==f?(2==this.ugokuyuka3_type?this.aSet(32*g,32*u,500,32*g):3==this.ugokuyuka3_type?this.aSet(32*g,32*u,510,32*g):4==this.ugokuyuka3_type?this.aSet(32*g,32*u,120,32*g):5==this.ugokuyuka3_type?this.aSet(32*g,32*u,121,32*g):6==this.ugokuyuka3_type?this.aSet(32*g,32*u,600,32*g):7==this.ugokuyuka3_type?this.aSet(32*g,32*u,700,32*g):(this.aSet(32*g,32*u+9,115,32*g-16),this.aSet(32*g,32*u+9,116,32*g-16)),4==this.maps.map_bg[g-1][u]&&(y=4)):"N"==f?(this.aSet(32*g-32,32*u,400,32*g),4==this.maps.map_bg[g-1][u]&&(y=4)):"O"==f?(this.tSet(32*g,32*u,600,32*g-512-32),4==this.maps.map_bg[g-1][u]&&(y=4)):"P"==f?(this.tSet(32*g,32*u,700,32*g-512-32),4==this.maps.map_bg[g-1][u]&&(y=4)):"Q"==f?(this.tSet(32*g,32*u,800,32*g-512-32),4==this.maps.map_bg[g-1][u]&&(y=4)):"R"==f?(this.tSet(32*g,32*u,900,32*g-512-32),4==this.maps.map_bg[g-1][u]&&(y=4)):"S"==f?(this.co_b.c=100,this.co_b.c4=3,this.co_b.x=32*g,this.co_b.y=32*u-16,4==this.maps.map_bg[g-1][u]&&(y=4),this.co_b.x<448?this.co_b.x=448:this.co_b.x>5664&&(this.co_b.x=5664),10==this.sl_step?this.sl_step=11:this.sl_step=1,this.sl_wx=this.co_b.x-384,this.sl_wy=960):"T"==f?(this.co_b.c=200,this.co_b.c4=3,this.co_b.x=32*g,this.co_b.y=32*u-16,4==this.maps.map_bg[g-1][u]&&(y=4),this.co_b.x<448?this.co_b.x=448:this.co_b.x>5664&&(this.co_b.x=5664),10==this.sl_step?this.sl_step=11:this.sl_step=1,this.sl_wx=this.co_b.x-384,this.sl_wy=960):"U"==f?(this.aSet(32*g+16,32*u+16,70,32*g),y=50):"V"==f?(this.aSet(32*g+16,32*u+16,71,32*g),y=50):"W"==f?(this.tSet(32*g,32*u-16,1e3,32*g-512-32-32),y=4):"X"==f?(this.tSet(32*g,32*u,1100,32*g-512-32),y=4):"Y"==f?(this.aSet(32*g,32*u,60,32*g),4==this.maps.map_bg[g-1][u]&&(y=4)):"Z"==f&&(this.co_b.c=300,this.co_b.c4=3,this.co_b.x=32*g,this.co_b.y=32*u-16,this.boss_kijyun_y=this.co_b.y,4==this.maps.map_bg[g-1][u]&&(y=4),this.co_b.x<448?this.co_b.x=448:this.co_b.x>5664&&(this.co_b.x=5664),10==this.sl_step?this.sl_step=11:this.sl_step=1,this.sl_wx=this.co_b.x-384,this.sl_wy=960),y>=0&&(this.maps.map_bg[g][u]=y))}for(var l=0;l<=this.maps.width-1;l++)this.maps.map_bg[l][0]=21,this.maps.map_bg[l][this.maps.height-1]=21;for(var j=0;j<=this.maps.height-1;j++)this.maps.map_bg[0][j]=21,this.maps.map_bg[181][j]=21,this.maps.map_bg[199][j]=21;this.ochiru_y=this.maps.wy_max+320,this.maps.wx=this.co_j.x-96,this.maps.wy=this.co_j.y-176,this.maps.wx<this.maps.wx_mini?this.maps.wx=this.maps.wx_mini:this.maps.wx>this.maps.wx_max&&(this.maps.wx=this.maps.wx_max),this.maps.wy<this.maps.wy_mini?this.maps.wy=this.maps.wy_mini:this.maps.wy>this.maps.wy_max&&(this.maps.wy=this.maps.wy_max),this.co_j.wx=this.co_j.x-this.maps.wx,this.co_j.wy=this.co_j.y-this.maps.wy},at.prototype.drawGamescreen=function(){X.apply(this)},at.prototype.jM100=function(){var t=!1,i=!1;this.j_mizu_f=!1;var s=this.maps.getBGCode(this.co_j.x+15,this.co_j.y+15);4==s?(this.j_mizu_f=!0,this.j_jet_c=0,this.j_mizu_awa_c++,44==this.j_mizu_awa_c||54==this.j_mizu_awa_c?this.mSet(this.co_j.x,this.co_j.y+4,60):this.j_mizu_awa_c>54&&(this.j_mizu_awa_c=0)):8!=s&&9!=s||4!=this.maps.map_bg[(this.co_j.x+15>>5)-1][this.co_j.y+15>>5]||(this.j_mizu_f=!0,this.j_jet_c=0,this.j_mizu_awa_c++,44==this.j_mizu_awa_c||54==this.j_mizu_awa_c?this.mSet(this.co_j.x,this.co_j.y+4,60):this.j_mizu_awa_c>54&&(this.j_mizu_awa_c=0)),this.gk.tr1_f?this.tr1_c<6&&this.tr1_c++:this.tr1_c=0,this.gk.tr2_f?this.tr2_c<2&&this.tr2_c++:this.tr2_c=0,this.gk.left_f?this.gk.left_c<2&&this.gk.left_c++:this.gk.left_c=0,this.gk.right_f?this.gk.right_c<2&&this.gk.right_c++:this.gk.right_c=0,1==this.gk.left_c?(this.left_dcc>0?this.j_hashiru_f=!0:this.j_hashiru_f=!1,this.left_dcc=8):this.left_dcc>0&&this.left_dcc--,1==this.gk.right_c?(this.right_dcc>0?this.j_hashiru_f=!0:this.j_hashiru_f=!1,this.right_dcc=8):this.right_dcc>0&&this.right_dcc--;var h=this.co_j.x,e=this.co_j.y;this.co_j.pt=100;var a=h+15>>5,c=e+31>>5,o=(this.maps.map_bg[a][c],e+32>>5),r=this.maps.map_bg[a][o];if(r>=20||this.j_a_id>=0?(this.co_j.jimen_f=!0,this.j_jump_type=2,69==r&&(i=!0)):this.co_j.jimen_f=!1,this.co_j.jimen_f?(this.j_zan_f=!1,this.j_jet_c=0,this.gk.left_f?(this.co_j.vx-=i?4:15,this.j_hashiru_f?(this.j_mizu_f?this.co_j.vx<-60&&(this.co_j.vx=-60):this.co_j.vx<-120&&(this.co_j.vx=-120),this.co_j.vx>0&&!i?(this.co_j.pt=108,this.co_j.ac=0):(this.co_j.pt=105+(this.co_j.ac>>1),this.co_j.ac++,this.co_j.ac>3&&(this.co_j.ac=0))):(this.j_mizu_f?this.co_j.vx<-40&&(this.co_j.vx=-40):this.co_j.vx<-60&&(this.co_j.vx=-60),this.co_j.vx>0&&!i?(this.co_j.pt=108,this.co_j.ac=0):(this.co_j.pt=103+(this.co_j.ac>>1),this.co_j.ac++,this.co_j.ac>3&&(this.co_j.ac=0))),this.co_j.muki=0):this.gk.right_f?(this.co_j.vx+=i?4:15,this.j_hashiru_f?(this.j_mizu_f?this.co_j.vx>60&&(this.co_j.vx=60):this.co_j.vx>120&&(this.co_j.vx=120),this.co_j.vx<0&&!i?(this.co_j.pt=108,this.co_j.ac=0):(this.co_j.pt=105+(this.co_j.ac>>1),this.co_j.ac++,this.co_j.ac>3&&(this.co_j.ac=0))):(this.j_mizu_f?this.co_j.vx>40&&(this.co_j.vx=40):this.co_j.vx>60&&(this.co_j.vx=60),this.co_j.vx<0&&!i?(this.co_j.pt=108,this.co_j.ac=0):(this.co_j.pt=103+(this.co_j.ac>>1),this.co_j.ac++,this.co_j.ac>3&&(this.co_j.ac=0))),this.co_j.muki=1):this.co_j.vx<0?(i?this.co_j.vx++:this.co_j.vx+=5,this.co_j.vx>0&&(this.co_j.vx=0),this.j_hashiru_f||i?(this.co_j.pt=107,this.co_j.ac=0):(this.co_j.pt=103+(this.co_j.ac>>1),this.co_j.ac++,this.co_j.ac>3&&(this.co_j.ac=0)),this.co_j.muki=0):this.co_j.vx>0?(i?this.co_j.vx--:this.co_j.vx-=5,this.co_j.vx<0&&(this.co_j.vx=0),this.j_hashiru_f||i?(this.co_j.pt=107,this.co_j.ac=0):(this.co_j.pt=103+(this.co_j.ac>>1),this.co_j.ac++,this.co_j.ac>3&&(this.co_j.ac=0)),this.co_j.muki=1):this.co_j.ac=0):(this.gk.left_f?!this.j_mizu_f&&this.co_j.vx>-60&&(this.co_j.vx-=10,this.co_j.vx<-60&&(this.co_j.vx=-60)):this.gk.right_f&&!this.j_mizu_f&&this.co_j.vx<60&&(this.co_j.vx+=10,this.co_j.vx>60&&(this.co_j.vx=60)),this.j_mizu_f?this.j_mizu_ac>1?this.co_j.pt=84:this.co_j.pt=83:0==this.j_jump_type?this.co_j.vy<20?this.co_j.pt=101:this.co_j.pt=102:2==this.j_jump_type?Math.abs(this.co_j.vx)<=60?this.co_j.pt=103:this.co_j.pt=105:3==this.j_jump_type?this.co_j.pt=119:4==this.j_jump_type?this.co_j.pt=100:this.co_j.pt=109,this.co_j.ac=2),this.j_jdai_f&&(this.co_j.vx=0,this.co_j.pt=100,this.co_j.ac=0),this.co_j.vx<0){if(this.co_j.x+=pt(this.co_j.vx/10),this.a_hf)for(var _=0;_<=this.a_kazu;_++)if(this.co_a[_].gf){var n=this.co_a[_];n.c>=100&&n.c<200?this.co_j.x+15>=n.x&&this.co_j.x<=n.x+64&&this.co_j.y+31>=n.y&&this.co_j.y<=n.y+13&&(this.co_j.x=n.x+65,this.co_j.vx=0):300==n.c?this.co_j.x+15>=n.x&&this.co_j.x<=n.x+48&&this.co_j.y+31>=n.y&&this.co_j.y<=n.y+31&&(this.co_j.x=n.x+49,this.co_j.vx=0):400==n.c?this.co_j.x+15>=n.x&&this.co_j.x<=n.x+80&&this.co_j.y+31>=n.y&&this.co_j.y<=n.y+63&&(this.co_j.x=n.x+81,this.co_j.vx=0):500==n.c?this.co_j.x+15>=n.x&&this.co_j.x<=n.x+80&&this.co_j.y+31>=n.y&&this.co_j.y<=n.y+13&&(this.co_j.x=n.x+81,this.co_j.vx=0):600==n.c?this.co_j.x+15>=n.x&&this.co_j.x<=n.x+48&&this.co_j.y+31>=n.y+16&&this.co_j.y<=n.y+47&&(this.co_j.x=n.x+49,this.co_j.vx=0):700==n.c&&this.co_j.x+15>=n.x&&this.co_j.x<=n.x+16&&this.co_j.y+31>=n.y&&this.co_j.y<=n.y+31&&(this.co_j.x=n.x+17,this.co_j.vx=0)}var p=this.co_j.x+15>>5,m=this.maps.map_bg[p][this.co_j.y>>5],u=this.co_j.y+31>>5,g=this.maps.map_bg[p][u];(m>=20||g>=20)&&(this.co_j.x=32*p+17,this.co_j.vx=0)}else if(this.co_j.vx>0){if(this.co_j.x+=pt(this.co_j.vx/10),this.a_hf)for(var f=0;f<=this.a_kazu;f++)if(this.co_a[f].gf){var y=this.co_a[f];y.c>=100&&y.c<200?this.co_j.x+15>=y.x&&this.co_j.x<=y.x+64&&this.co_j.y+31>=y.y&&this.co_j.y<=y.y+13&&(this.co_j.x=y.x-16,this.co_j.vx=0):300==y.c?this.co_j.x+15>=y.x&&this.co_j.x<=y.x+48&&this.co_j.y+31>=y.y&&this.co_j.y<=y.y+31&&(this.co_j.x=y.x-16,this.co_j.vx=0):400==y.c?this.co_j.x+15>=y.x&&this.co_j.x<=y.x+80&&this.co_j.y+31>=y.y&&this.co_j.y<=y.y+63&&(this.co_j.x=y.x-16,this.co_j.vx=0):500==y.c?this.co_j.x+15>=y.x&&this.co_j.x<=y.x+80&&this.co_j.y+31>=y.y&&this.co_j.y<=y.y+13&&(this.co_j.x=y.x-16,this.co_j.vx=0):600==y.c?this.co_j.x+15>=y.x&&this.co_j.x<=y.x+48&&this.co_j.y+31>=y.y+16&&this.co_j.y<=y.y+47&&(this.co_j.x=y.x-16,this.co_j.vx=0):700==y.c&&this.co_j.x+15>=y.x&&this.co_j.x<=y.x+16&&this.co_j.y+31>=y.y&&this.co_j.y<=y.y+31&&(this.co_j.x=y.x-16,this.co_j.vx=0)}var l=this.co_j.x+15>>5,j=this.maps.map_bg[l][this.co_j.y>>5],v=this.co_j.y+31>>5,x=this.maps.map_bg[l][v];(j>=20||x>=20)&&(this.co_j.x=32*l-16,this.co_j.vx=0)}if(this.co_j.jimen_f)if(this.tr1_c>=1&&this.tr1_c<=5)if(this.maps.getBGCode(this.co_j.x+15,this.co_j.y-1)>=20){if(1==this.tr1_c&&40==this.maps.getBGCode(this.co_j.x+15,this.co_j.y-1)){var d=this.co_j.x+15>>5,k=this.co_j.y-1>>5;this.hAttack(d,k)}if(s=this.maps.getBGCode(this.co_j.x+15,this.co_j.y-1),this.j_helm_f&&(20==s||69==s&&1==this.suberuyuka_hkf)){this.tr1_c=6;var w=this.co_j.x+15>>5,b=this.co_j.y-1>>5;4==this.maps.map_bg[this.co_j.x+15>>5][1+(this.co_j.y-1>>5)]?this.maps.putBGCode(w,b,4):this.maps.putBGCode(w,b,0),this.mSet2(32*w,32*b,80,12,-24),this.mSet2(32*w,32*b,80,-12,-24),this.jZutuki(32*w,32*b-32,0)}}else if(this.j_mizu_f)this.j_jump_type=0,this.co_j.pt=83,this.co_j.ac=0,this.j_mizu_ac=0,this.j_jet_kf=!1,this.j_jdai_f?(this.co_j.y=32*(this.co_j.y>>5),this.co_j.vy=-120,this.j_jump_level=0):Math.abs(this.co_j.vx)>50?(this.co_j.vy=-90,this.j_jump_level=0):(this.co_j.vy=-70,this.j_jump_level=0);else{this.j_jump_type=0,this.co_j.pt=101,this.co_j.ac=0,this.j_fire_f&&(0==this.co_j.muki?this.jmSet(this.co_j.x,this.co_j.y,100):this.jmSet(this.co_j.x,this.co_j.y,105)),this.j_jet_kf=!1;var S=Math.abs(this.co_j.vx);if(this.j_jdai_f)this.co_j.y=32*(this.co_j.y>>5),this.co_j.vy=-410,this.j_jump_level=5,this.co_a[this.j_a_id].c3<=1&&(this.co_j.vy=-230);else if(0==S)this.co_j.vy=-150,this.j_jump_level=1;else if(S<60)this.co_j.vy=-230,this.j_jump_level=2;else if(60==S)this.co_j.vy=-260,this.j_jump_level=3;else if(S<120)this.co_j.vy=-290,this.j_jump_level=4;else if(this.co_j.vy=-340,this.j_jump_level=5,(s=this.maps.map_bg[this.co_j.x+15>>5][this.co_j.y-1>>5])<=9){for(var I=0;I<=5;I++)this.j_zan_x[I]=h,this.j_zan_y[I]=e,this.j_zan_pt[I]=101,this.j_zan_pth[I]=this.co_j.muki;this.j_zan_p=0,this.j_zan_c=0,this.j_zan_nagasa=5,this.j_zan_f=!0}}else this.co_j.vy=0;else if(this.j_mizu_f)if(this.gk.left_f?this.co_j.muki=0:this.gk.right_f&&(this.co_j.muki=1),1==this.tr1_c){var P=!1;(s=this.maps.map_bg[this.co_j.x+15>>5][(this.co_j.y+15>>5)-1])<=9&&4!=s&&(P=!0),8!=s&&9!=s||4!=this.maps.map_bg[(this.co_j.x+15>>5)-1][(this.co_j.y+15>>5)-1]||(P=!1),P&&(this.co_j.y+15)%32<=8?(this.j_jump_type=0,this.co_j.pt=101,this.co_j.ac=0,this.co_j.vy=-180,this.j_jump_level=1,this.co_j.y=32*(this.co_j.y+15>>5)-14,this.j_jet_kf=!1,t=!0,this.mSet(this.co_j.x,32*(this.co_j.y+15>>5)-32,50)):(this.j_jump_type=0,this.co_j.ac=0,this.j_mizu_ac<=0&&(this.j_mizu_ac=4,this.co_j.pt=84),this.co_j.vy=-40,this.j_jump_level=0,0==this.co_j.muki?(this.co_j.vx-=30,this.co_j.vx<-60&&(this.co_j.vx=-60)):(this.co_j.vx+=30,this.co_j.vx>60&&(this.co_j.vx=60)))}else this.co_j.vx<0?(0==this.co_j.muki?this.co_j.vx++:this.co_j.vx+=2,this.co_j.vx>0&&(this.co_j.vx=0)):this.co_j.vx>0&&(1==this.co_j.muki?this.co_j.vx--:this.co_j.vx-=2,this.co_j.vx<0&&(this.co_j.vx=0)),this.co_j.vy<40?(this.co_j.vy+=5,this.co_j.vy>40&&(this.co_j.vy=40)):this.co_j.vy>40&&(this.co_j.vy-=20,this.co_j.vy<40&&(this.co_j.vy=40)),this.j_mizu_ac>0?(this.j_mizu_ac--,this.j_mizu_ac>1?this.co_j.pt=84:this.co_j.pt=83):this.co_j.pt=83;else this.co_j.vy+=25,this.co_j.vy>160&&(this.co_j.vy=160),1==this.tr1_c&&this.j_fire_f&&(0==this.co_j.muki?this.jmSet(this.co_j.x,this.co_j.y,100):this.jmSet(this.co_j.x,this.co_j.y,105)),0==this.tr1_c&&(this.j_jet_kf=!0),this.j_jet_kf&&this.tr1_c>0&&this.j_jet_fuel>0&&!this.j_mizu_f?(this.j_jet_c=100,2==this.j_jump_type&&(this.j_jump_type=0)):this.j_jet_c>96?this.j_jet_c--:this.j_jet_c=0,this.j_jet_c>=96&&(this.j_jet_fuel--,this.j_jet_fuel<0&&(this.j_jet_fuel=0,this.j_jet_c=0),this.gk.left_f?this.co_j.muki=0:this.gk.right_f&&(this.co_j.muki=1),this.co_j.vy>-150&&(this.co_j.vy-=50,this.co_j.vy<-150&&(this.co_j.vy=-150)));if(this.co_j.vy<0){var C=this.co_j.x+15>>5,M=this.co_j.y>>5,z=(this.maps.map_bg[C][M],this.co_j.vy);if(z<-320&&(z=-320),this.co_j.y+=pt(z/10),this.j_mizu_f&&!t){var A=this.maps.getBGCode(this.co_j.x+15,this.co_j.y+15),T=!1;A<=9&&4!=A&&(T=!0),8!=A&&9!=A||4!=this.maps.map_bg[(this.co_j.x+15>>5)-1][this.co_j.y+15>>5]||(T=!1),T&&(this.co_j.y=32*(this.co_j.y+15>>5)+17,this.co_j.vy=-10)}if(this.a_hf)for(var G=0;G<=this.a_kazu;G++)if(this.co_a[G].gf){var B=this.co_a[G];B.c>=100&&B.c<200?this.co_j.x+15>=B.x&&this.co_j.x<=B.x+64&&this.co_j.y+31>=B.y&&this.co_j.y<=B.y+13&&(this.co_j.y=B.y+14,this.co_j.vy=0):300==B.c?this.co_j.x+15>=B.x&&this.co_j.x<=B.x+48&&this.co_j.y+31>=B.y&&this.co_j.y<=B.y+31&&(this.co_j.y=B.y+32,this.co_j.vy=0):400==B.c?this.co_j.x+15>=B.x&&this.co_j.x<=B.x+80&&this.co_j.y+31>=B.y&&this.co_j.y<=B.y+63&&(this.co_j.y=B.y+64,this.co_j.vy=0):500==B.c?this.co_j.x+15>=B.x&&this.co_j.x<=B.x+80&&this.co_j.y+31>=B.y&&this.co_j.y<=B.y+13&&(this.co_j.y=B.y+14,this.co_j.vy=0):600==B.c?this.co_j.x+15>=B.x&&this.co_j.x<=B.x+48&&this.co_j.y+31>=B.y+16&&this.co_j.y<=B.y+47&&(this.co_j.y=B.y+48,this.co_j.vy=0):700==B.c&&this.co_j.x+15>=B.x&&this.co_j.x<=B.x+16&&this.co_j.y+31>=B.y&&this.co_j.y<=B.y+31&&(this.co_j.y=B.y+32,this.co_j.vy=0)}var O=this.co_j.y>>5,E=this.maps.map_bg[this.co_j.x+15>>5][O];if(E>=20){if(this.co_j.y=32*O+32,this.co_j.vy=0,40==E){var D=this.co_j.x+15>>5,R=this.co_j.y-1>>5;this.hAttack(D,R)}if(this.j_helm_f&&(20==E||69==E&&1==this.suberuyuka_hkf)){var L=this.co_j.x+15>>5,N=O;4==this.maps.map_bg[L][N+1]?this.maps.putBGCode(L,N,4):this.maps.putBGCode(L,N,0),this.mSet2(32*L,32*N,80,12,-24),this.mSet2(32*L,32*N,80,-12,-24),this.jZutuki(32*L,32*N-32,0)}}if(M>O){if(this.gk.right_f){var F=this.maps.map_bg[this.co_j.x+16>>5][M],W=this.maps.map_bg[this.co_j.x+16>>5][O];F<=9&&W>=20&&(this.co_j.y=32*O+32,this.co_j.vy=0)}if(this.gk.left_f){var Y=this.maps.map_bg[this.co_j.x+14>>5][M],Z=this.maps.map_bg[this.co_j.x+14>>5][O];Y<=9&&Z>=20&&(this.co_j.y=32*O+32,this.co_j.vy=0)}}}else if(this.co_j.vy>0){var H=this.co_j.x+15>>5,$=this.co_j.y+31>>5;if(this.maps.map_bg[H][$],this.co_j.y+=pt(this.co_j.vy/10),this.a_hf)for(var U=0;U<=this.a_kazu;U++)if(this.co_a[U].gf){var K=this.co_a[U];K.c>=100&&K.c<200?this.co_j.x+15>=K.x&&this.co_j.x<=K.x+64&&this.co_j.y+31>=K.y&&this.co_j.y<=K.y+13&&(this.co_j.y=K.y-32,this.co_j.vy=0):300==K.c?this.co_j.x+15>=K.x&&this.co_j.x<=K.x+48&&this.co_j.y+31>=K.y&&this.co_j.y<=K.y+31&&(this.co_j.y=K.y-32,this.co_j.vy=0):400==K.c?this.co_j.x+15>=K.x&&this.co_j.x<=K.x+80&&this.co_j.y+31>=K.y&&this.co_j.y<=K.y+63&&(this.co_j.y=K.y-32,this.co_j.vy=0):500==K.c?this.co_j.x+15>=K.x&&this.co_j.x<=K.x+80&&this.co_j.y+31>=K.y&&this.co_j.y<=K.y+13&&(this.co_j.y=K.y-32,this.co_j.vy=0):600==K.c?this.co_j.x+15>=K.x&&this.co_j.x<=K.x+48&&this.co_j.y+31>=K.y+16&&this.co_j.y<=K.y+47&&(this.co_j.y=K.y+16-32,this.co_j.vy=0):700==K.c&&this.co_j.x+15>=K.x&&this.co_j.x<=K.x+16&&this.co_j.y+31>=K.y&&this.co_j.y<=K.y+31&&(this.co_j.y=K.y-32,this.co_j.vy=0)}var q=this.co_j.y+31>>5;if(this.maps.map_bg[H][q]>=20&&(this.co_j.y=32*q-32,this.co_j.vy=0,q=this.co_j.y+31>>5,this.maps.map_bg[H][q]),$<q){if(this.gk.right_f){var V=this.maps.map_bg[this.co_j.x+16>>5][$],X=this.maps.map_bg[this.co_j.x+16>>5][q];V<=9&&X>=20&&(this.co_j.y=32*q-32,this.co_j.vy=0,this.co_j.pt=103,this.co_j.ac=1,this.co_j.x++)}if(this.gk.left_f){var J=this.maps.map_bg[this.co_j.x+14>>5][$],Q=this.maps.map_bg[this.co_j.x+14>>5][q];J<=9&&Q>=20&&(this.co_j.y=32*q-32,this.co_j.vy=0,this.co_j.pt=103,this.co_j.ac=1,this.co_j.x--)}}if(!this.j_mizu_f){var tt=this.maps.getBGCode(this.co_j.x+15,this.co_j.y+15);4==tt?(this.mSet(this.co_j.x,32*(this.co_j.y+15>>5)-32,50),this.j_mizu_awa_c=38,this.co_j.vx<-60?this.co_j.vx=-60:this.co_j.vx>60&&(this.co_j.vx=60)):8!=tt&&9!=tt||4!=this.maps.map_bg[(this.co_j.x+15>>5)-1][this.co_j.y+15>>5]||(this.mSet(this.co_j.x,32*(this.co_j.y+15>>5)-32,50),this.j_mizu_awa_c=38,this.co_j.vx<-60?this.co_j.vx=-60:this.co_j.vx>60&&(this.co_j.vx=60))}}if(1==this.tr2_c)if(this.j_gr_kazu>0?3==this.grenade_type||4==this.grenade_type?0==this.co_j.muki?this.jmSet(this.co_j.x,this.co_j.y,60):this.jmSet(this.co_j.x,this.co_j.y,65):0==this.co_j.muki?this.jmSet(this.co_j.x,this.co_j.y,200):this.jmSet(this.co_j.x,this.co_j.y,205):!this.j_fire_f||this.j_mizu_f&&!this.j_fire_mkf||(0==this.co_j.muki?this.jmSet(this.co_j.x,this.co_j.y,100):this.jmSet(this.co_j.x,this.co_j.y,105)),s=this.maps.getBGCode(this.co_j.x+15,this.co_j.y+32),this.j_drell_f&&(20==s||69==s&&1==this.suberuyuka_hkf)){var it=this.co_j.x+15>>5,st=this.co_j.y+32>>5;4==this.maps.map_bg[this.co_j.x+15>>5][(this.co_j.y+32>>5)-1]?this.maps.putBGCode(it,st,4):this.maps.putBGCode(it,st,0),this.mSet2(32*it,32*st,80,12,-24),this.mSet2(32*it,32*st,80,-12,-24),this.jZutuki(32*it,32*st-32,0),this.co_j.x=32*it,this.co_j.vx=0,this.co_j.vy=0,this.j_jump_type=3,this.co_j.c=120,this.co_j.c1=0,this.co_j.pt=119}else this.j_tail_f&&(this.j_tail_ac<=0||this.j_tail_ac>=8)&&(this.j_tail_ac=1,this.co_j.pt=116,this.j_zan_f=!1);if(this.j_tail_ac>=1)if(this.j_zan_f=!1,this.j_tail_ac++,this.j_tail_ac<=4)this.co_j.pt=116,1!=this.j_tail_type&&3!=this.j_tail_type||(0==this.co_j.muki?this.jZutuki(this.co_j.x-32,this.co_j.y,1):this.jZutuki(this.co_j.x+32,this.co_j.y,1));else if(this.j_tail_ac<=5){if(this.co_j.pt=1e3,1!=this.j_tail_type&&3!=this.j_tail_type||(0==this.co_j.muki?this.jZutuki(this.co_j.x-32,this.co_j.y,1):this.jZutuki(this.co_j.x+32,this.co_j.y,1)),2==this.j_tail_type||3==this.j_tail_type){var ht;ht=1==this.co_j.muki?this.co_j.x+40>>5:this.co_j.x-8>>5;var et=this.co_j.y+15>>5;(20==this.maps.map_bg[ht][et]||69==this.maps.map_bg[ht][et]&&1==this.suberuyuka_hkf)&&(4==this.maps.map_bg[ht-1][et]?this.maps.putBGCode(ht,et,4):this.maps.putBGCode(ht,et,0),this.mSet2(32*ht,32*et,80,12,-24),this.mSet2(32*ht,32*et,80,-12,-24),this.jZutuki(32*ht,32*et-32,0))}}else this.j_tail_ac<=7?this.co_j.pt=1e3:this.j_tail_ac<=9?this.co_j.pt=116:(this.co_j.pt=116,this.j_tail_ac=0);switch(s=this.maps.map_bg[this.co_j.x+15>>5][this.co_j.y+15>>5]){case 9:4==this.maps.map_bg[(this.co_j.x+15>>5)-1][this.co_j.y+15>>5]?(this.maps.putBGCode(this.co_j.x+15>>5,this.co_j.y+15>>5,4),this.j_mizu_f=!0):this.maps.putBGCode(this.co_j.x+15>>5,this.co_j.y+15>>5,0),this.addScore(5);break;case 8:4==this.maps.map_bg[(this.co_j.x+15>>5)-1][this.co_j.y+15>>5]?(this.maps.putBGCode(this.co_j.x+15>>5,this.co_j.y+15>>5,4),this.j_mizu_f=!0):this.maps.putBGCode(this.co_j.x+15>>5,this.co_j.y+15>>5,0),this.stage_cc=1,this.stage_max>=2&&this.stage>=this.stage_max?this.addScore(1e3):this.addScore(100);break;case 5:case 6:this.co_j.y=32*(this.co_j.y+15>>5),this.jShinu(1)}(this.co_j.y>=this.ochiru_y||this.j_mizu_f&&this.co_j.y>=this.ochiru_y-16)&&(this.co_j.c=210,this.co_j.c1=0,this.co_j.y=this.ochiru_y+64,this.j_jet_c=0,this.j_v_c=0),this.co_j.wx=this.co_j.x-this.maps.wx,this.co_j.wy=this.co_j.y-this.maps.wy,this.co_j.wx<96?this.maps.wx=this.co_j.x-96:this.co_j.wx>224&&(this.maps.wx=this.co_j.x-224),this.co_j.wy<78?this.maps.wy=this.co_j.y-78:this.co_j.wy>176&&(this.maps.wy=this.co_j.y-176),this.maps.wx<this.maps.wx_mini?this.maps.wx=this.maps.wx_mini:this.maps.wx>this.maps.wx_max&&(this.maps.wx=this.maps.wx_max),this.maps.wy<this.maps.wy_mini?this.maps.wy=this.maps.wy_mini:this.maps.wy>this.maps.wy_max&&(this.maps.wy=this.maps.wy_max)},at.prototype.jMove=function(){this.j_mizu_f=!1;var t=this.maps.getBGCode(this.co_j.x+15,this.co_j.y+15);if(4==t?(this.j_mizu_f=!0,this.j_jet_c=0,this.j_mizu_awa_c++,44==this.j_mizu_awa_c||54==this.j_mizu_awa_c?this.mSet(this.co_j.x,this.co_j.y+4,60):this.j_mizu_awa_c>54&&(this.j_mizu_awa_c=0)):8!=t&&9!=t||4!=this.maps.map_bg[(this.co_j.x+15>>5)-1][this.co_j.y+15>>5]||(this.j_mizu_f=!0,this.j_jet_c=0,this.j_mizu_awa_c++,44==this.j_mizu_awa_c||54==this.j_mizu_awa_c?this.mSet(this.co_j.x,this.co_j.y+4,60):this.j_mizu_awa_c>54&&(this.j_mizu_awa_c=0)),this.gk.tr1_f?this.tr1_c<6&&this.tr1_c++:this.tr1_c=0,this.gk.tr2_f?this.tr2_c<2&&this.tr2_c++:this.tr2_c=0,this.gk.left_f?this.gk.left_c<2&&this.gk.left_c++:this.gk.left_c=0,this.gk.right_f?this.gk.right_c<2&&this.gk.right_c++:this.gk.right_c=0,1==this.gk.left_c?(this.left_dcc>0?this.j_hashiru_f=!0:this.j_hashiru_f=!1,this.left_dcc=8):this.left_dcc>0&&this.left_dcc--,1==this.gk.right_c?(this.right_dcc>0?this.j_hashiru_f=!0:this.j_hashiru_f=!1,this.right_dcc=8):this.right_dcc>0&&this.right_dcc--,110==this.co_j.c)this.gk.left_f?(this.co_j.vx-=10,this.co_j.vx<-60&&(this.co_j.vx=-60)):this.gk.right_f&&(this.co_j.vx+=10,this.co_j.vx>60&&(this.co_j.vx=60)),this.co_j.c1++,this.co_j.c1>2&&(this.co_j.c=100),this.co_j.pt=109;else if(120==this.co_j.c)this.co_j.c1++,this.co_j.c1>6&&(this.co_j.c=100),this.co_j.pt=119;else if(200==this.co_j.c)this.co_j.vy+=25,this.co_j.vy>100&&(this.co_j.vy=100),this.co_j.y+=pt(this.co_j.vy/10),this.co_j.wx=this.co_j.x-this.maps.wx,this.co_j.wy=this.co_j.y-this.maps.wy,this.co_j.c2<100?(this.co_j.c1<=0?(this.co_j.pt=110,this.co_j.muki=0):this.co_j.c1<=1?(this.co_j.pt=111,this.co_j.muki=0,this.co_j.c2++,this.co_j.c2>4&&(this.co_j.c2=100)):this.co_j.c1<=2?(this.co_j.pt=112,this.co_j.muki=0):(this.co_j.pt=113,this.co_j.muki=0),this.co_j.c1++,this.co_j.c1>3&&(this.co_j.c1=0)):(this.co_j.pt=112,this.co_j.muki=0),this.co_j.wy>=320&&(this.co_j.c=210,this.co_j.c1=0,this.co_j.y=this.maps.wy+320+32,this.co_j.pt=0);else if(210==this.co_j.c)this.stage_cc<=0&&(this.co_j.c1++,this.co_j.c1>16&&(this.j_left--,this.j_left<0?(this.j_left=0,this.ml_mode=300):2==this.stage_select?this.ml_mode=250:this.ml_mode=90));else if(220==this.co_j.c)this.co_j.pt=114,this.co_j.c1++,this.co_j.c1>=25&&(this.co_j.c=210,this.co_j.c1=0);else if(230==this.co_j.c)this.co_j.pt=115,this.co_j.c1++,this.co_j.c1>=25&&(this.co_j.c=210,this.co_j.c1=0);else if(240==this.co_j.c)this.co_j.c2>=100&&(this.co_j.y+=10),this.co_j.wx=this.co_j.x-this.maps.wx,this.co_j.wy=this.co_j.y-this.maps.wy,this.co_j.c2<100?(this.co_j.c1<=0?(this.co_j.pt=110,this.co_j.muki=0):this.co_j.c1<=1?(this.co_j.pt=111,this.co_j.muki=0,this.co_j.c2++,this.co_j.c2>4&&(this.co_j.c2=100)):this.co_j.c1<=2?(this.co_j.pt=112,this.co_j.muki=0):(this.co_j.pt=113,this.co_j.muki=0),this.co_j.c1++,this.co_j.c1>3&&(this.co_j.c1=0)):(this.co_j.pt=112,this.co_j.muki=0),this.co_j.wy>=320&&(this.co_j.c=210,this.co_j.c1=0,this.co_j.y=this.maps.wy+320+32,this.co_j.pt=0);else if(300==this.co_j.c)this.co_j.pt=1100,this.co_j.c1++,this.co_j.c1>=32&&(this.co_j.c=310,this.co_j.c1=0,this.co_j.pt=1110),this.co_j.wx=this.co_j.x-this.maps.wx,this.co_j.wy=this.co_j.y-this.maps.wy,this.co_j.wx<96?this.maps.wx=this.co_j.x-96:this.co_j.wx>224&&(this.maps.wx=this.co_j.x-224),this.co_j.wy<78?this.maps.wy=this.co_j.y-78:this.co_j.wy>176&&(this.maps.wy=this.co_j.y-176),this.maps.wx<this.maps.wx_mini?this.maps.wx=this.maps.wx_mini:this.maps.wx>this.maps.wx_max&&(this.maps.wx=this.maps.wx_max),this.maps.wy<this.maps.wy_mini?this.maps.wy=this.maps.wy_mini:this.maps.wy>this.maps.wy_max&&(this.maps.wy=this.maps.wy_max);else if(310==this.co_j.c){if(this.co_j.pt=1110,this.stage_cc<=0)if(this.co_j.c1++,2==this.dokan_mode){if(this.co_j.c1>=10){var i;for(this.co_j.c=320,this.co_j.c1=42,i=0;i<=this.a_kazu;i++)if(300==this.co_a[i].c&&1!=this.co_a[i].c4&&this.co_j.c2==this.co_a[i].c3&&(0==this.sl_step||1==this.sl_step||10==this.sl_step||11==this.sl_step)){this.co_j.x=this.co_a[i].x+16,this.co_j.y=this.co_a[i].y-32,this.co_a[i].c4=1;break}this.a_kazu;for(var s=0;s<=this.a_kazu;s++)(this.co_a[s].c>=100||60==this.co_a[s].c)&&(this.co_a[s].gf=!0,300!=this.co_a[s].c||this.co_j.x==this.co_a[s].x+16&&this.co_j.y==this.co_a[s].y-32||(this.co_a[s].c4=0));10!=this.sl_step&&11!=this.sl_step||(this.maps.wx=this.co_j.x-192,this.ks_wx=this.maps.wx),this.co_j.wx=this.co_j.x-this.maps.wx,this.co_j.wy=this.co_j.y-this.maps.wy,this.co_j.wx<96?this.maps.wx=this.co_j.x-96:this.co_j.wx>224&&(this.maps.wx=this.co_j.x-224),this.co_j.wy<78?this.maps.wy=this.co_j.y-78:this.co_j.wy>176&&(this.maps.wy=this.co_j.y-176),this.maps.wx<this.maps.wx_mini?this.maps.wx=this.maps.wx_mini:this.maps.wx>this.maps.wx_max&&(this.maps.wx=this.maps.wx_max),this.maps.wy<this.maps.wy_mini?this.maps.wy=this.maps.wy_mini:this.maps.wy>this.maps.wy_max&&(this.maps.wy=this.maps.wy_max)}}else if(10==this.co_j.c1){var h;h=1==this.co_j.c2?this.gg.ap.getParameter("url2"):2==this.co_j.c2?this.gg.ap.getParameter("url3"):3==this.co_j.c2?this.gg.ap.getParameter("url4"):this.gg.ap.getParameter("url1"),location.href=h}else this.co_j.c1>80&&(this.ml_mode=50)}else 320==this.co_j.c&&(this.co_j.pt=1100,this.co_j.c1--,this.co_j.c1<=0&&(this.co_j.c=100,this.co_j.c1=0,this.co_j.pt=100))},at.prototype.jShinu=function(t){this.co_j.c1=0,this.co_j.c2=0,this.j_zan_f=!1,this.j_jet_c=0,this.j_v_c=0,1==t?this.co_j.c=240:2==t?(this.co_j.c=200,this.co_j.vy=-280):3==t&&(this.co_j.c=220)},at.prototype.jZutuki=function(t,i,s){for(var h=0;h<=this.t_kazu;h++)if(this.co_t[h].c>=100){var e=this.co_t[h],a=!1;1==s?Math.abs(t-e.x)<25&&Math.abs(i-e.y)<23&&(a=!0):Math.abs(t-e.x)<34&&i==e.y&&(a=!0),a&&(t>e.x?(e.pth=1,e.vx=-7):(e.pth=0,e.vx=7),e.c=52,e.vy=-32)}},at.prototype.tSet=function(t,i,s,h){for(var e=0;e<=119;e++)if(!(this.co_t[e].c>0)){var a=this.co_t[e];switch(a.c=10,a.c1=h,a.c2=s,a.c3=t,a.c4=i,a.x=t,a.y=i,this.t_kazu++,s){case 500:a.y=i-12,a.c3=i-52,a.c4=i-12,a.vy=-4;break;case 600:a.c3=0;break;case 900:this.airms_kf&&(a.c2=950)}break}},at.prototype.tSetBoss=function(t,i,s,h){this.t_kazu=129;for(var e=120;e<=129;e++)if(!(this.co_t[e].c>0)){var a=this.co_t[e];switch(a.c=s,a.c1=0,a.c2=0,a.c3=t,a.c4=i,a.x=t,a.y=i,a.vx=h,s){case 150:case 650:a.vx=h,a.vy=-28,a.vx<=0?a.muki=0:a.muki=1;break;case 450:a.vx=h,a.vy=-22,a.vx<=0?a.muki=0:a.muki=1}break}},at.prototype.tMove=function(){for(var t=!1,i=0;i<=this.t_kazu;i++)if(0!=this.co_t[i].c&&this.co_t[i].x>=this.maps.wx-512){var s=this.co_t[i],h=s.x,e=s.y;switch(s.c){case 10:this.maps.wx>=s.c1&&(s.c=s.c2,s.c1=0,s.c2=0);break;case 50:s.c1++,s.c1>14&&(s.c=0,this.addScore(10));break;case 52:h+=s.vx,s.vy+=5,s.vy>25&&(s.vy=25),(e+=s.vy)>this.maps.wy+320&&(s.c=0,this.addScore(10));break;case 100:if(h+15>>5>h+12>>5){var a=this.maps.map_bg[h+15>>5][e+31>>5];11==a||14==a?e=32*(e+31>>5)-32:10!=a&&12!=a||(e=32*(e+31>>5))}h-=3;var c=this.maps.map_bg[h+15>>5][e+31>>5];if(c>=10&&c<=15)e=32*(e+31>>5),e=this.sakamichiY(h,e);else{var o=this.maps.map_bg[h>>5][e+32>>5];o<=9&&(h=32*(h>>5)+32,(o=this.maps.map_bg[h+15>>5][e+31>>5])>=10&&o<=15&&(h-=15),s.c=105),(o=this.maps.map_bg[h>>5][e+31>>5])>=20&&(h=32*(h>>5)+32,s.c=105),(o=this.maps.map_bg[h+15>>5][e+32>>5])>=10&&o<=15&&(e=32*(e+32>>5),e=this.sakamichiY(h,e))}s.pt=140+this.g_ac,s.pth=0;break;case 105:if(h+15>>5<h+18>>5){var r=this.maps.map_bg[h+15>>5][e+31>>5];10==r||13==r?e=32*(e+31>>5)-32:11!=r&&15!=r||(e=32*(e+31>>5))}h+=3;var _=this.maps.map_bg[h+15>>5][e+31>>5];if(_>=10&&_<=15)e=32*(e+31>>5),e=this.sakamichiY(h,e);else{var n=this.maps.map_bg[h+31>>5][e+32>>5];n<=9&&(h=32*(h+31>>5)-32,(n=this.maps.map_bg[h+15>>5][e+31>>5])>=10&&n<=15&&(h+=16),s.c=100),(n=this.maps.map_bg[h+31>>5][e+31>>5])>=20&&(h=32*(h+31>>5)-32,s.c=100),(n=this.maps.map_bg[h+15>>5][e+32>>5])>=10&&n<=15&&(e=32*(e+32>>5),e=this.sakamichiY(h,e))}s.pt=140+this.g_ac,s.pth=1;break;case 110:if(h+15>>5>h+12>>5){var p=this.maps.map_bg[h+15>>5][e+31>>5];11==p||14==p?e=32*(e+31>>5)-32:10!=p&&12!=p||(e=32*(e+31>>5))}h-=3;var m=this.maps.map_bg[h+15>>5][e+31>>5];if(m>=10&&m<=15)e=32*(e+31>>5),e=this.sakamichiY(h,e);else{var u=e+32>>5;if(this.maps.map_bg[h+31>>5][u]<=9){h=32*(h+31>>5);var g=this.maps.map_bg[h+15>>5][e+31>>5];g>=10&&g<=15&&(h-=15),s.c=120}h<32?h<=3&&(s.c=0):this.maps.map_bg[h>>5][e+31>>5]>=20&&(h=32*(h>>5)+32,s.c=115,this.maps.map_bg[h+15>>5][e+32>>5]<=9&&(s.c=120)),i>=120&&h<this.maps.wx-32&&(s.c=0);var f=this.maps.map_bg[h+15>>5][u];f>=10&&f<=15&&(e=32*(e+32>>5),e=this.sakamichiY(h,e))}s.pt=140+this.g_ac,s.pth=0;break;case 115:if(h+15>>5<h+18>>5){var y=this.maps.map_bg[h+15>>5][e+31>>5];10==y||13==y?e=32*(e+31>>5)-32:11!=y&&15!=y||(e=32*(e+31>>5))}h+=3;var l=this.maps.map_bg[h+15>>5][e+31>>5];if(l>=10&&l<=15)e=32*(e+31>>5),e=this.sakamichiY(h,e);else{var j=e+32>>5;if(this.maps.map_bg[h>>5][j]<=9){h=32*(h>>5);var v=this.maps.map_bg[h+15>>5][e+31>>5];v>=10&&v<=15&&(h+=16),s.c=125}var x=this.maps.map_bg[h+31>>5][e+31>>5];x>=20&&(h=32*(h+31>>5)-32,s.c=110,this.maps.map_bg[h+15>>5][e+32>>5]<=9&&(s.c=125)),i>=120&&h>this.maps.wx+512&&(s.c=0),(x=this.maps.map_bg[h+15>>5][j])>=10&&x<=15&&(e=32*(e+32>>5),e=this.sakamichiY(h,e))}s.pt=140+this.g_ac,s.pth=1;break;case 120:e+=5;var d=this.maps.map_bg[h+15>>5][e+31>>5];if(d>=10&&d<=15){var k=this.sakamichiY(h,32*(e+31>>5));k<=e&&(e=k,s.c=110)}var w=e+31>>5,b=this.maps.map_bg[h>>5][w],S=this.maps.map_bg[h+31>>5][w];(b>=20||S>=20)&&(e=32*w-32,s.c=110),e>=this.ochiru_y&&(s.c=0),s.pt=140,s.pth=0;break;case 125:e+=5;var I=this.maps.map_bg[h+15>>5][e+31>>5];if(I>=10&&I<=15){var P=this.sakamichiY(h,32*(e+31>>5));P<=e&&(e=P,s.c=115)}var C=e+31>>5,M=this.maps.map_bg[h>>5][C],z=this.maps.map_bg[h+31>>5][C];(M>=20||z>=20)&&(e=32*C-32,s.c=115),e>=this.ochiru_y&&(s.c=0),s.pt=140,s.pth=1;break;case 150:s.vx<0&&(this.maps.getBGCode(h,e)>=20||this.maps.getBGCode(h,e+31)>=20)&&(h=32*(h>>5)+32,s.vx=0),s.vx>0&&(this.maps.getBGCode(h+31,e)>=20||this.maps.getBGCode(h+31,e+31)>=20)&&(h=32*(h+31>>5)-32,s.vx=0),h+=s.vx,s.vy+=2,s.vy>18&&(s.vy=18);var A=(e+=s.vy)+31>>5,T=this.maps.map_bg[h>>5][A],G=this.maps.map_bg[h+31>>5][A];(T>=20||G>=20)&&(e=32*A-32,1==s.muki?s.c=115:s.c=110),e>=this.ochiru_y&&(s.c=0),s.pt=140,s.pth=s.muki;break;case 200:s.c1<=0?this.co_j.x>=h-240&&this.co_j.x<=h+240&&(s.c=210,s.vy=-14):s.c1--,s.pt=143,h+8>=this.co_j.x?s.pth=0:s.pth=1;break;case 210:s.vy++,s.vy>14&&(s.vy=14),e+=s.vy,this.maps.getBGCode(h+15,e+31)>=20&&(e=32*(e+31>>5)-32,s.c=200,s.c1=30),e>=this.ochiru_y&&(s.c=0),0==s.vy&&(Math.abs(this.co_j.x-h)>32||e<=this.co_j.y)&&this.mSet(h,e,100),s.vy<=-1?s.pt=144:s.pt=145,h+8>=this.co_j.x?s.pth=0:s.pth=1;break;case 300:s.c1>0?(s.c1++,2==s.c1||10==s.c1||18==s.c1||26==s.c1?h+8>=this.co_j.x?this.mSet(h,e,200):this.mSet(h,e,205):s.c1>86&&(s.c1=0)):this.co_j.x>=h-256&&this.co_j.x<=h+256&&(s.c1=1),s.pt=150,h+8>=this.co_j.x?s.pth=0:s.pth=1;break;case 400:h-=4,this.maps.getBGCode(h,e+32)<=9&&(h=32*(h>>5)+32,s.c=405),this.maps.getBGCode(h,e+31)>=20&&(h=32*(h>>5)+32,s.c=405),s.pt=152+this.g_ac,s.pth=0;break;case 405:h+=4,this.maps.getBGCode(h+31,e+32)<=9&&(h=32*(h+31>>5)-32,s.c=400),this.maps.getBGCode(h+31,e+31)>=20&&(h=32*(h+31>>5)-32,s.c=400),s.pt=152+this.g_ac,s.pth=1;break;case 410:h-=4;var B=this.maps.map_bg[h+15>>5][e+31>>5];if(B>=10&&B<=15)e=32*(e+31>>5),e=this.sakamichiY(h,e);else{var O=e+32>>5;if(this.maps.map_bg[h+31>>5][O]<=9){h=32*(h+31>>5);var E=this.maps.map_bg[h+15>>5][e+31>>5];E>=10&&E<=15&&(h-=15),s.c=420}h<32?h<=4&&(s.c=0):this.maps.map_bg[h>>5][e+31>>5]>=20&&(h=32*(h>>5)+32,s.c=415,this.maps.map_bg[h+15>>5][e+32>>5]<=9&&(s.c=420)),i>=120&&h<this.maps.wx-32&&(s.c=0);var D=this.maps.map_bg[h+15>>5][O];D>=10&&D<=15&&(e=32*(e+32>>5),e=this.sakamichiY(h,e))}s.pt=152+this.g_ac,s.pth=0;break;case 415:h+=4;var R=this.maps.map_bg[h+15>>5][e+31>>5];if(R>=10&&R<=15)e=32*(e+31>>5),e=this.sakamichiY(h,e);else{var L=e+32>>5;if(this.maps.map_bg[h>>5][L]<=9){h=32*(h>>5);var N=this.maps.map_bg[h+15>>5][e+31>>5];N>=10&&N<=15&&(h+=16),s.c=425}var F=this.maps.map_bg[h+31>>5][e+31>>5];F>=20&&(h=32*(h+31>>5)-32,s.c=410,this.maps.map_bg[h+15>>5][e+32>>5]<=9&&(s.c=425)),i>=120&&h>this.maps.wx+512&&(s.c=0),(F=this.maps.map_bg[h+15>>5][L])>=10&&F<=15&&(e=32*(e+32>>5),e=this.sakamichiY(h,e))}s.pt=152+this.g_ac,s.pth=1;break;case 420:var W=(e+=5)+31>>5,Y=this.maps.map_bg[h>>5][W],Z=this.maps.map_bg[h+31>>5][W];(Y>=20||Z>=20)&&(e=32*W-32,s.c=410),e>=this.ochiru_y&&(s.c=0),s.pt=152,s.pth=0;break;case 425:var H=(e+=5)+31>>5,$=this.maps.map_bg[h>>5][H],U=this.maps.map_bg[h+31>>5][H];($>=20||U>=20)&&(e=32*H-32,s.c=415),e>=this.ochiru_y&&(s.c=0),s.pt=152,s.pth=1;break;case 450:s.vx<0&&(this.maps.getBGCode(h,e)>=20||this.maps.getBGCode(h,e+31)>=20)&&(h=32*(h>>5)+32,s.vx=0),s.vx>0&&(this.maps.getBGCode(h+31,e)>=20||this.maps.getBGCode(h+31,e+31)>=20)&&(h=32*(h+31>>5)-32,s.vx=0),h+=s.vx,s.vy+=2,s.vy>18&&(s.vy=18);var K=(e+=s.vy)+31>>5,q=this.maps.map_bg[h>>5][K],V=this.maps.map_bg[h+31>>5][K];(q>=20||V>=20)&&(e=32*K-32,1==s.muki?s.c=415:s.c=410),e>=this.ochiru_y&&(s.c=0),s.pt=152,s.pth=s.muki;break;case 500:e<=s.c3?(s.vy++,s.vy>4&&(s.vy=4)):e>=s.c4&&(s.vy--,s.vy<-4&&(s.vy=-4)),e+=s.vy,s.pt=147+this.g_ac,this.co_j.x<=h+8?s.pth=0:s.pth=1;break;case 510:(h-=3)<48?h<=3&&(s.c=0):this.maps.getBGCode(h-16,e+31)>=20&&(h=32*(h-16>>5)+32+16,s.c=515),s.pt=147+this.g_ac,s.pth=0;break;case 515:h+=3,this.maps.getBGCode(h+31+16,e+31)>=20&&(h=32*(h+31+16>>5)-32-16,s.c=510),s.pt=147+this.g_ac,s.pth=1;break;case 600:s.c1<25?(s.c1++,s.vy=-17,s.c3=0,s.pt=154,s.pth=0):(0==s.c3?(s.vy++,s.c3=1):(s.vy+=2,s.c3=0),s.vy>17&&(s.vy=17),e+=s.vy,s.vy<4?(s.pt=155,s.pth=0):(s.pt=156,s.pth=0),(h-=5)<32?h<=3&&(s.c=0):(this.maps.getBGCode(h+15,e+6)>=20&&(e=32*(e+6>>5)+32-6,s.vy=0),this.maps.getBGCode(h+15,e+31)>=20&&(e=32*(e+31>>5)-32,s.c1=15,s.pt=154,s.pth=0),(this.maps.getBGCode(h,e+31)>=20||this.maps.getBGCode(h,e+8)>=20)&&(h=32*(h>>5)+32,s.c=605),i>=120&&h<this.maps.wx-32&&(s.c=0))),e>=this.ochiru_y&&(s.c=0);break;case 605:s.c1<25?(s.c1++,s.vy=-17,s.c3=0,s.pt=154,s.pth=1):(0==s.c3?(s.vy++,s.c3=1):(s.vy+=2,s.c3=0),s.vy>17&&(s.vy=17),e+=s.vy,s.vy<4?(s.pt=155,s.pth=1):(s.pt=156,s.pth=1),h+=5,this.maps.getBGCode(h+15,e+6)>=20&&(e=32*(e+6>>5)+32-6,s.vy=0),this.maps.getBGCode(h+15,e+31)>=20&&(e=32*(e+31>>5)-32,s.c1=15,s.pt=154,s.pth=1),(this.maps.getBGCode(h+31,e+31)>=20||this.maps.getBGCode(h+31,e+8)>=20)&&(h=32*(h+31>>5)-32,s.c=600),i>=120&&h>this.maps.wx+512&&(s.c=0)),e>=this.ochiru_y&&(s.c=0);break;case 650:s.vx<0&&(this.maps.getBGCode(h,e)>=20||this.maps.getBGCode(h,e+31)>=20)&&(h=32*(h>>5)+32,s.vx=0),s.vx>0&&(this.maps.getBGCode(h+31,e)>=20||this.maps.getBGCode(h+31,e+31)>=20)&&(h=32*(h+31>>5)-32,s.vx=0),h+=s.vx,s.vy+=2,s.vy>18&&(s.vy=18);var X=(e+=s.vy)+31>>5,J=this.maps.map_bg[h>>5][X],Q=this.maps.map_bg[h+31>>5][X];(J>=20||Q>=20)&&(e=32*X-32,1==s.muki?s.c=605:s.c=600,s.c1=15),e>=this.ochiru_y&&(s.c=0),s.vy<4?s.pt=155:s.pt=156,s.pth=s.muki;break;case 700:this.yachamo_cf||(s.c1>0?(s.c1++,2==s.c1?h+8>=this.co_j.x?this.mSet(h,e,300):this.mSet(h,e,305):s.c1>40&&(s.c1=0)):this.co_j.x>=h-256&&this.co_j.x<=h+192&&Math.abs(this.co_j.x-h)>=96&&(s.c1=1)),s.pt=158,h+8>=this.co_j.x?s.pth=0:s.pth=1;break;case 800:s.c1>0?(s.c1++,2==s.c1?h+8>=this.co_j.x?this.mSet(h,e,400):this.mSet(h,e,405):s.c1>20&&(s.c=810,s.c1=0)):s.c1<0?s.c1++:this.co_j.x>=h-240&&this.co_j.x<=h+240&&(s.c1=1),s.pt=160,h+8>=this.co_j.x?s.pth=0:s.pth=1;break;case 810:s.c1<=0?((h+=3)>=s.c3+96&&(h=s.c3+96,s.c1=10),this.maps.getBGCode(h+31,e+32)<=9&&(h=32*(h+31>>5)-32,s.c1=10),s.pt=161+this.g_ac,s.pth=1):s.c1<=35?(s.c1++,15==s.c1&&(h+8>=this.co_j.x?this.mSet(h,e,400):this.mSet(h,e,405)),s.pt=160,h+8>=this.co_j.x?s.pth=0:s.pth=1):((h-=3)<=s.c3&&(h=s.c3,s.c=800,s.c1=-20),this.maps.getBGCode(h,e+32)<=9&&(h=32*(h>>5)+32,s.c=800,s.c1=-20),s.pt=161+this.g_ac,s.pth=0);break;case 900:(h-=4)<48?h<=4&&(s.c=0):(s.c1++,1==s.c1?this.mSet(h,e+19,600):s.c1>26&&(s.c1=0),this.maps.getBGCode(h,e+31)>=20&&(h=32*(h>>5)+32,s.c=910)),s.pt=164,s.pth=0;break;case 910:s.pt=164,s.pth=0;break;case 950:(h-=4)<48?h<=4&&(s.c=0):(s.c1++,1==s.c1?this.mSet(h,e+19,600):s.c1>26&&(s.c1=0),this.maps.getBGCode(h-16,e+31)>=20&&(h=32*(h-16>>5)+32+16,s.c=960,s.c1=16)),s.pt=164,s.pth=0;break;case 960:h+=4,s.c1++,1==s.c1?this.mSet(h,e+19,605):s.c1>26&&(s.c1=0),this.maps.getBGCode(h+31+16,e+31)>=20&&(h=32*(h+31+16>>5)-32-16,s.c=950,s.c1=16),s.pt=164,s.pth=1;break;case 1e3:(h-=3)<=s.c3-256+16&&(s.c=1005),(this.maps.getBGCode(h-16,e)>=20||this.maps.getBGCode(h-16,e+31)>=20)&&(h=32*(h-16>>5)+32+16,s.c=1005),s.pt=166,s.pth=0;break;case 1005:(h+=3)>=s.c3+16&&(s.c=1e3),(this.maps.getBGCode(h+31+16,e)>=20||this.maps.getBGCode(h+31+16,e+31)>=20)&&(h=32*(h+31+16>>5)-32-16,s.c=1e3),s.pt=166,s.pth=1;break;case 1100:s.c1>0?(s.c1++,s.c1>77&&(s.c1=0)):Math.abs(this.co_j.x-h)<=144&&Math.abs(this.co_j.y-e)<=144&&(s.c1=1,this.mSet2(h,e,700,-3,-3),this.mSet2(h,e,700,3,-3),this.mSet2(h,e,700,-3,3),this.mSet2(h,e,700,3,3),this.mSet2(h,e,700,-4,0),this.mSet2(h,e,700,4,0),this.mSet2(h,e,700,0,-4),this.mSet2(h,e,700,0,4)),s.pt=167,h+8>=this.co_j.x?s.pth=0:s.pth=1}if(s.c<100)s.x=h,s.y=e;else{var tt=Math.abs(h-this.co_j.x);tt>=48?(s.x=h,s.y=e):(this.co_j.c>=100&&this.co_j.c<200&&tt<30&&Math.abs(e-this.co_j.y)<23&&(this.j_v_c>0?(1==this.co_j.muki?(s.pth=0,s.vx=3):(s.pth=1,s.vx=-3),s.c=52,s.vy=-30):s.c>=400&&s.c<500||s.c>=1e3&&s.c<1200?this.jShinu(2):tt<27&&this.co_j.vy>0&&!this.j_mizu_f||t?(s.c<200?s.pt=142:s.c<300?s.pt=146:s.c<400?s.pt=151:s.c<600?s.pt=149:s.c<700?s.pt=157:s.c<800?s.pt=159:s.c<900?s.pt=163:s.c<1e3&&(s.pt=165),s.c=50,s.c1=0,this.co_j.y=e-12,this.co_j.vy=-160,this.j_jump_type=1,this.co_j.c=110,this.co_j.c1=0,this.co_j.pt=109,149!=s.pt&&165!=s.pt||(this.co_j.vy=-220,s.c1=-2),t=!0):this.jShinu(2)),s.x=h,s.y=e)}}},at.prototype.sakamichiY=function(t,i){var s=t+15>>5,h=i+31>>5,e=i;switch(this.maps.map_bg[s][h]){default:break;case 10:var a=32*h-(t+15)%32;a<i&&(e=a);break;case 11:var c=32*h+(t+15)%32-31;c<i&&(e=c);break;case 12:var o=32*h-((t+15)%32>>1);o<i&&(e=o);break;case 13:var r=32*h-((t+15)%32>>1)-16;r<i&&(e=r);break;case 14:var _=32*h+((t+15)%32>>1)-31;_<i&&(e=_);break;case 15:var n=32*h+((t+15)%32>>1)-15;n<i&&(e=n)}return e},at.prototype.mSet=function(t,i,s){for(var h=0;h<=23;h++)if(!(this.co_m[h].c>0)){var e=this.co_m[h];switch(e.c=s,e.x=t,e.y=i,e.c1=0,this.m_kazu++,s){case 90:e.c2=4,e.vx=0,e.vy=0;break;case 100:var a=this.co_j.x-t,c=this.co_j.y-i,o=Math.floor(Math.sqrt(a*a+c*c));o<48?(this.m_kazu--,e.c=0):(e.vx=pt(14*a/o),e.vy=pt(14*c/o),e.x+=pt(16*e.vx/14),e.y+=pt(16*e.vy/14)),!this.dengeki_mkf&&e.c>0&&4==this.maps.getBGCode(e.x+15,e.y+15)&&(this.m_kazu--,e.c=0);break;case 200:e.vx=-4-this.ranInt(6),e.vy=-22,e.x+=e.vx,e.y+=e.vy;break;case 205:e.c=200,e.vx=4+this.ranInt(6),e.vy=-22,e.x+=e.vx,e.y+=e.vy;break;case 300:e.vx=-12,e.x+=e.vx;break;case 305:e.c=300,e.vx=12,e.x+=e.vx;break;case 400:e.vx=-80,e.vy=-225;break;case 405:e.c=400,e.vx=80,e.vy=-225;break;case 500:e.vx=-4,e.vy=-22;break;case 600:e.vx=-40,e.vy=0;break;case 605:e.c=600,e.vx=40,e.vy=0;break;case 2e3:e.c3=i,e.vy=-210;break;case 2010:e.c=2e3,e.c3=i-64,e.vy=-280;break;case 2020:e.c=2e3,e.c3=i-32,e.vy=-250;break;case 2100:e.c2=0;break;case 2110:e.c=2100,e.c2=1;break;case 2120:e.c=2100,e.c2=2;break;case 2130:e.c=2100,e.c2=3;break;case 2140:e.c=2100,e.c2=4;break;case 2150:e.c=2100,e.c2=5;break;case 2160:e.c=2100,e.c2=6;break;case 2170:e.c=2100,e.c2=7;break;case 2180:e.c=2100,e.c2=8}break}},at.prototype.mSet2=function(t,i,s,h,e){for(var a=0;a<=23;a++)if(!(this.co_m[a].c>0)){var c=this.co_m[a];switch(c.c=s,c.x=t,c.y=i,c.vx=h,c.vy=e,c.c1=0,this.m_kazu++,s){case 500:c.x+=c.vx;break;case 700:c.c2=0;break;case 710:c.c=700,c.c2=1}break}},at.prototype.mMove=function(){for(var t=0;t<=23;t++)if(0!=this.co_m[t].c){var i=this.co_m[t];switch(i.c){case 50:i.c1++,i.c1<=5?i.pt=80:i.c1<=10?i.pt=81:i.c1<=16?i.pt=82:i.c=0,i.pth=0;break;case 60:i.y-=5;var s=i.y>>5,h=this.maps.map_bg[i.x+11>>5][s];(h<=3||h>=20)&&(i.c=0),((h=this.maps.map_bg[i.x+20>>5][s])<=3||h>=20)&&(i.c=0),8!=(h=this.maps.map_bg[i.x+15>>5][s])&&9!=h||4==this.maps.map_bg[(i.x+15>>5)-1][s]||(i.c=0),(i.x<=this.maps.wx-32||i.x>=this.maps.wx+512)&&(i.c=0),(i.y<=this.maps.wy-32||i.y>=this.maps.wy+320)&&(i.c=0),i.pt=85,i.pth=0;break;case 70:switch(i.c1++,i.c1){case 1:i.c2=20;break;case 2:i.c2=34;break;case 3:i.c2=46;break;case 4:i.c2=56;break;case 5:i.c2=64;break;case 6:i.c2=70;break;case 7:i.c2=74;break;case 8:i.c2=77;break;case 9:i.c2=79;break;case 10:i.c2=80}if(i.c1>10&&(i.c2=10,i.c=0),this.co_j.c>=100&&this.co_j.c<200){var e=this.co_j.x-i.x,a=this.co_j.y-i.y;Math.floor(Math.sqrt(e*e+a*a))<=i.c2+4&&this.j_v_c<=0&&this.jShinu(1)}i.pt=1100,i.pth=0;break;case 80:i.vy>=5&&(i.vx>2?i.vx--:i.vx<-2&&i.vx++),i.x+=i.vx,i.vy+=4,i.vy>30&&(i.vy=30),i.y+=i.vy,i.y>=this.maps.wy+320&&(i.c=0),i.pt=136,i.vx<0?i.pth=0:i.pth=1;break;case 90:if(i.c2<48){if(i.c2+=4,i.c2>=48){i.c2=48;var c=this.co_j.x-i.x,o=this.co_j.y-i.y,r=Math.floor(Math.sqrt(c*c+o*o));r<32||this.co_j.c<100||this.co_j.c>=200?(i.x<this.maps.wx+256?i.vx=14:i.vx=-14,i.vy=0):(i.vx=pt(14*c/r),i.vy=pt(14*o/r))}}else i.x+=i.vx,i.y+=i.vy,(i.x<=this.maps.wx-32-32||i.x>=this.maps.wx+512+128+32||i.y<=this.maps.wy-32-200-32||i.y>=this.maps.wy+320+32)&&(i.c=0);if(this.co_j.c>=100&&this.co_j.c<200){var _=this.co_j.x-i.x,n=this.co_j.y-i.y;Math.floor(Math.sqrt(_*_+n*n))+4<=i.c2&&(this.j_v_c>0?i.c=0:this.jShinu(1))}i.pt=1e3;break;case 100:i.x+=i.vx,i.y+=i.vy;var p=i.x+15>>5;(this.maps.map_bg[p][i.y+12>>5]>=20||this.maps.map_bg[p][i.y+18>>5]>=20)&&(i.c=0),this.dengeki_mkf||4!=this.maps.getBGCode(i.x+15,i.y+15)||(i.c=0),(i.x<=this.maps.wx-32||i.x>=this.maps.wx+512+128||i.y<=this.maps.wy-32-200||i.y>=this.maps.wy+320)&&(i.c=0),0==this.g_c1?(i.pt=120,i.pth=0):(i.pt=121,i.pth=0);break;case 200:i.x+=i.vx,i.vy+=2,i.vy>12&&(i.vy=12);var m=i.vy;switch(m<-18&&(m=-18),i.y+=m,i.y>=this.maps.wy+320&&(i.c=0),this.g_c2){case 0:i.pt=122;break;case 1:i.pt=123;break;case 2:i.pt=124;break;case 3:i.pt=125}i.pth=0;break;case 300:i.x+=i.vx;var u=i.y+15>>5;(this.maps.map_bg[i.x+8>>5][u]>=20||this.maps.map_bg[i.x+23>>5][u]>=20)&&(i.c=0),(i.x<=this.maps.wx-32||i.x>=this.maps.wx+512+128)&&(i.c=0),0==this.g_c1?i.pt=126:i.pt=127,i.vx<=0?i.pth=0:i.pth=1;break;case 400:i.x+=pt(i.vx/10),i.vy+=25,i.vy>180&&(i.vy=180),i.y+=pt(i.vy/10),i.y>=this.maps.wy+320&&(i.c=0);var g=i.x+15>>5;this.maps.map_bg[g][i.y+15>>5]>=20&&(i.c=0),0==this.g_c1?i.pt=128:i.pt=129,i.vx<=0?i.pth=0:i.pth=1;break;case 500:i.vy>=5&&(i.vx>2?i.vx--:i.vx<-2&&i.vx++),i.x+=i.vx,i.vy+=2,i.vy>12&&(i.vy=12);var f=i.vy;f<-16&&(f=-16),i.y+=f,i.y>=this.maps.wy+320&&(i.c=0),i.pt=139,i.pth=0;break;case 600:i.vx>0?i.vx-=2:i.vx<0&&(i.vx+=2),i.x+=pt(i.vx/10),i.vy+=8,i.vy>200&&(i.vy=200),i.y+=pt(i.vy/10),this.maps.map_bg[i.x+15>>5][i.y+15>>5]>=20&&(i.c=610,i.c1=0,i.y=32*(i.y+15>>5)-16),(i.x<=this.maps.wx-32-64||i.x>=this.maps.wx+512+64||i.y<=this.maps.wy-32-200||i.y>=this.maps.wy+320)&&(i.c=0),i.vx>28?(i.pt=171,i.pth=1):i.vx<-28?(i.pt=171,i.pth=0):(i.pt=170,i.pth=0);break;case 610:i.c1++,i.c1<=3?i.pt=172:i.c1<=6?i.pt=173:i.c1<=9?i.pt=174:(i.c=0,i.pt=198),i.pth=0;break;case 700:i.x+=i.vx,i.y+=i.vy,(i.x<=this.maps.wx-32||i.x>=this.maps.wx+512+32||i.y<=this.maps.wy-64||i.y>=this.maps.wy+320+64)&&(i.c=0);var y=this.maps.getBGCode(i.x+15,i.y+15);0==i.c2&&y>=20&&(i.c=0),0==i.c2&&y<=3&&(i.c=0),i.pt=168+this.g_c1,i.pth=0;break;case 800:i.vy>=5&&(i.vx>2?i.vx--:i.vx<-2&&i.vx++),i.x+=i.vx,i.vy+=4,i.vy>28&&(i.vy=28),i.y+=i.vy,i.y>=this.maps.wy+320&&(i.c=0),this.maps.getBGCode(i.x+15,i.y+31)>=20&&(i.c=70,i.y=32*(i.y+31>>5)-16,i.c1=1,i.c2=20),i.pt=137+this.g_c1,i.vx<0?i.pth=0:i.pth=1;break;case 2e3:i.vy+=30,i.vy>180&&(i.vy=180),i.y+=pt(i.vy/10),i.vy>=0&&i.y>=i.c3&&(i.y=i.c3,i.vy=0),(i.x<=this.maps.wx-32||i.x>=this.maps.wx+512)&&(i.c=0),i.pt=90+this.g_ac2,i.pth=0;break;case 2100:(i.x<=this.maps.wx-32||i.x>=this.maps.wx+512)&&(i.c=0),i.pt=42+i.c2,8==i.c2&&(i.pt=59),i.pth=0;break;case 2200:i.x<this.maps.wx?i.x=this.maps.wx:i.x>this.maps.wx+512-32&&(i.x=this.maps.wx+512-32),i.y<this.maps.wy+64?i.y=this.maps.wy+64:i.y>this.maps.wy+224&&(i.y=this.maps.wy+224),this.stage_max>=2&&this.stage>=this.stage_max?0==this.g_ac2?i.pt=99:i.pt=98:0==this.g_ac2?i.pt=95:i.pt=94,i.pth=0}0==i.c?this.m_kazu--:this.co_j.c>=100&&this.co_j.c<200&&(i.c>=2e3?Math.abs(i.x-this.co_j.x)<=14&&i.y<=this.co_j.y+26&&i.y+15>=this.co_j.y&&(this.addScore(5),2100==i.c?0==i.c2?this.j_fire_f=!0:1==i.c2?(this.j_v_c=150,this.j_v_kakudo=0):2==i.c2?this.time_max>0&&(this.time+=3e4):3==i.c2?this.j_jet_fuel+=80:4==i.c2?this.j_helm_f=!0:5==i.c2?this.j_tail_f=!0:6==i.c2?this.j_drell_f=!0:7==i.c2?this.j_gr_kazu++:8==i.c2&&this.j_left++:2200==i.c&&(this.stage_cc=1,this.stage_max>=2&&this.stage>=this.stage_max?this.addScore(995):this.addScore(95)),i.c=0,this.m_kazu--):i.c>=100&&Math.abs(i.x-this.co_j.x)<=23&&Math.abs(i.y-this.co_j.y)<=28&&(this.j_v_c>0?(i.c=0,this.m_kazu--):(this.jShinu(1),800==i.c&&(i.c=70,i.c1=1,i.c2=20))))}},at.prototype.jmSet=function(t,i,s){for(var h=0;h<=1;h++)if(!(this.co_jm[h].c>0)){var e=this.co_jm[h];switch(e.c=s,e.x=t,e.y=i+8,e.c1=0,this.jm_kazu++,s){case 60:case 65:e.x=t+16,e.y=i,e.vx=t+16,e.c4=8,this.j_gr_kazu--;break;case 100:e.vx=pt(this.co_j.vx/10)-10,e.vy=-28,Math.abs(e.vx)<2&&(e.vx=-2);break;case 105:e.vx=pt(this.co_j.vx/10)+10,e.vy=-28,Math.abs(e.vx)<2&&(e.vx=2);break;case 200:e.vx=pt(this.co_j.vx/10)-10,e.vy=-32,Math.abs(e.vx)<2&&(e.vx=-2),5!=this.grenade_type&&6!=this.grenade_type||(e.y=i,e.vx=-20,e.vy=0),this.j_gr_kazu--;break;case 205:e.c=200,e.vx=pt(this.co_j.vx/10)+10,e.vy=-35,Math.abs(e.vx)<2&&(e.vx=2),5!=this.grenade_type&&6!=this.grenade_type||(e.y=i,e.vx=20,e.vy=0),this.j_gr_kazu--}break}},at.prototype.jmMove=function(){for(var t=0;t<=1;t++)if(0!=this.co_jm[t].c){var i=this.co_jm[t];switch(i.c){case 50:switch(i.c1++,i.c1){case 1:i.c2=20;break;case 2:i.c2=34;break;case 3:i.c2=46;break;case 4:i.c2=56;break;case 5:i.c2=64;break;case 6:i.c2=70;break;case 7:i.c2=74;break;case 8:i.c2=77;break;case 9:i.c2=79;break;case 10:i.c2=80}i.c1>10&&(i.c2=10,i.c=0);for(var s=0;s<=this.t_kazu;s++)if(this.co_t[s].c>=100){var h=this.co_t[s],e=h.x-i.x,a=h.y-i.y;Math.floor(Math.sqrt(e*e+a*a))<=i.c2+8&&(i.x>h.x?(h.pth=1,h.vx=-3):(h.pth=0,h.vx=3),h.c=52,h.vy=-25)}if((1==this.grenade_type||5==this.grenade_type)&&this.co_b.c>=100){var c=this.co_b.x-i.x,o=this.co_b.y-i.y;Math.floor(Math.sqrt(c*c+o*o))<=i.c2+20&&this.co_b.killGrenade(this,i.x>this.co_b.x?1:0)}i.pt=1e3,i.pth=0;break;case 60:i.y=this.co_j.y,i.x-=28,i.x<=this.maps.wx-32&&(i.x=this.maps.wx-32),i.c4>0?(i.c4--,i.vx=this.co_j.x+16):(i.vx-=28,i.vx<=i.x&&(i.c=0));for(var r=0;r<=this.t_kazu;r++)if(this.co_t[r].c>=100){var _=this.co_t[r];_.x>i.x-12&&_.x<i.vx+12&&Math.abs(_.y-i.y)<24&&(_.pth=0,_.vx=-3,_.c=52,_.vy=-25)}3==this.grenade_type&&this.co_b.c>=100&&this.co_b.x>i.x-24&&this.co_b.x<i.vx+24&&Math.abs(this.co_b.y-i.y)<36&&this.co_b.killGrenade(this,1),(this.co_j.c<100||this.co_j.c>=200)&&(i.c=0),i.pt=1200;break;case 65:i.y=this.co_j.y,i.x+=28,i.x>=this.maps.wx+512+32&&(i.x=this.maps.wx+512+32),i.c4>0?(i.c4--,i.vx=this.co_j.x+16):(i.vx+=28,i.vx>=i.x&&(i.c=0));for(var n=0;n<=this.t_kazu;n++)if(this.co_t[n].c>=100){var p=this.co_t[n];p.x>i.vx-12&&p.x<i.x+12&&Math.abs(p.y-i.y)<24&&(p.pth=0,p.vx=3,p.c=52,p.vy=-25)}3==this.grenade_type&&this.co_b.c>=100&&this.co_b.x>i.vx-24&&this.co_b.x<i.x+24&&Math.abs(this.co_b.y-i.y)<36&&this.co_b.killGrenade(this,0),(this.co_j.c<100||this.co_j.c>=200)&&(i.c=0),i.pt=1205;break;case 100:i.x+=i.vx,this.maps.getBGCode(i.x+7,i.y+15)>=20&&(i.c=0),i.vy+=5,i.vy>30&&(i.vy=30),i.y+=i.vy,i.vy<0&&this.maps.getBGCode(i.x+15,i.y+8)>=20&&(i.c=0),this.maps.getBGCode(i.x+15,i.y+23)>=20&&(i.y=32*(i.y+23>>5)-24,i.vy=-28),this.j_fire_mkf||4!=this.maps.getBGCode(i.x+15,i.y+15)||(i.c=0),(i.x<=this.maps.wx-24||i.x>=this.maps.wx+512-8||i.y<=this.maps.wy-128||i.y>=this.maps.wy+384)&&(i.c=0),i.pt=130+this.g_c2,i.pth=0;break;case 105:i.x+=i.vx,this.maps.getBGCode(i.x+23,i.y+15)>=20&&(i.c=0),i.vy+=5,i.vy>30&&(i.vy=30),i.y+=i.vy,i.vy<0&&this.maps.getBGCode(i.x+15,i.y+8)>=20&&(i.c=0),this.maps.getBGCode(i.x+15,i.y+23)>=20&&(i.y=32*(i.y+23>>5)-24,i.vy=-28),this.j_fire_mkf||4!=this.maps.getBGCode(i.x+15,i.y+15)||(i.c=0),(i.x<=this.maps.wx-24||i.x>=this.maps.wx+512-8||i.y<=this.maps.wy-128||i.y>=this.maps.wy+384)&&(i.c=0),i.pt=130+this.g_c2,i.pth=1;break;case 200:i.x+=i.vx,5!=this.grenade_type&&6!=this.grenade_type&&(i.vy+=5,i.vy>30&&(i.vy=30),i.y+=i.vy,i.vy>0&&this.maps.getBGCode(i.x+15,i.y+31)>=20&&(i.c=50,i.y=32*(i.y+31>>5)-16,i.c1=1,i.c2=20)),this.maps.getBGCode(i.x+15,i.y+15)>=20&&(i.c=50,i.c1=1,i.c2=20),(i.x<=this.maps.wx-64||i.x>=this.maps.wx+512+64||i.y<=this.maps.wy-128||i.y>=this.maps.wy+384)&&(i.c=0),i.pt=137+this.g_c1,i.vx<0?i.pth=0:i.pth=1}if(0==i.c)this.jm_kazu--;else if(i.c>=100)for(var m=0;m<=this.t_kazu;m++)if(!(this.co_t[m].c<100)){var u=this.co_t[m];if(!(Math.abs(i.x-u.x)>=22||Math.abs(i.y-u.y)>=22)){i.vx<0?(u.pth=1,u.vx=-3):(u.pth=0,u.vx=3),u.c=52,u.vy=-25,200==i.c?(i.c=50,i.c1=1,i.c2=20):(i.c=0,this.jm_kazu--);break}}}},at.prototype.aSet=function(t,i,s,h){for(var e=0;e<=31;e++)if(!(this.co_a[e].c>0)){var a=this.co_a[e];switch(a.c=s,a.c1=h-512-32,a.c2=h+128,a.x=t,a.y=i,this.a_kazu++,s){case 60:a.pt=200;break;case 70:a.vx=-3,a.c3=0,a.c1=t-512-150,a.c2=t+150;break;case 71:a.c=70,a.vx=3,a.c3=0,a.c1=t-512-150,a.c2=t+150;break;case 80:a.pt=800,a.c3=1;break;case 81:a.c=80,a.pt=800,a.c3=2;break;case 82:a.c=80,a.pt=800,a.c3=3;break;case 83:a.c=80,a.pt=800,a.c3=4;break;case 100:a.vy=5,a.x=t+8,a.y=i-212,a.c3=i-212,a.c4=i+2,a.pt=100;break;case 110:a.vx=-3,a.x=t+208,a.c3=t,a.c4=t+208,a.pt=100,a.c2=h+208+128+32;break;case 115:a.c=110,a.vx=-3,a.x=t+208,a.c3=t,a.c4=t+208,a.pt=100,a.c2=h+208+128+342+32;break;case 116:a.c=110,a.vx=3,a.x=t+320,a.c3=t+320,a.c4=t+208+320,a.pt=100,a.c2=h+208+128+320+32;break;case 120:a.vx=t+160,a.vy=i,a.x=t+8,a.y=i,a.c3=0,a.muki=1,a.c1=a.vx-512-32-130,a.c2=a.vx+128+130,a.pt=100;break;case 121:a.c=120,a.vx=t+160,a.vy=i,a.x=t+8,a.y=i,a.c3=0,a.muki=0,a.c1=a.vx-512-32-130,a.c2=a.vx+128+130,a.pt=100;break;case 300:a.pt=300,a.c3=0,a.c4=0;break;case 310:a.c=300,a.pt=310,a.c3=1,a.c4=0;break;case 320:a.c=300,a.pt=320,a.c3=2,a.c4=0;break;case 330:a.c=300,a.pt=330,a.c3=3,a.c4=0;break;case 400:a.pt=400,a.c3=0,a.vy=i;break;case 500:a.vy=0,a.x=t,a.y=i,a.c3=0,a.c4=0,a.pt=500;break;case 510:a.c=500,a.vy=0,a.x=t,a.y=i,a.c3=0,a.c4=1,a.pt=500;break;case 600:a.pt=600,a.c3=0,a.c4=0,a.vx=0,a.vy=i;break;case 700:a.pt=700,a.c3=0}break}},at.prototype.aMove=function(){this.j_a_id=-1,this.j_jdai_f=!1,this.a_hf=!1;for(var t=0;t<=this.a_kazu;t++){var i=this.co_a[t];if(0!=i.c)if(this.maps.wx<=i.c1||this.maps.wx>=i.c2)i.gf=!1;else{var s=i.x,h=i.y;switch(i.c){case 60:s>this.maps.wx-80&&s<this.maps.wx+512&&h>this.maps.wy-96&&h<this.maps.wy+320?(i.gf=!0,this.a_hf=!0,this.g_c3<=3?i.pt=200:i.pt=210):i.gf=!1;break;case 70:if(i.c3+=i.vx,i.c3<0?i.c3+=360:i.c3>=360&&(i.c3-=360),s>this.maps.wx-150&&s<this.maps.wx+512+150&&h>this.maps.wy-150&&h<this.maps.wy+320+150){i.gf=!0,this.a_hf=!0,i.pt=1100;var e=.017453292519943295,a=s+pt(25*Math.cos(i.c3*e),!0,this),c=h+pt(25*Math.sin(i.c3*e),!0,this);this.vo_x[t][0]=a,this.vo_y[t][0]=c;var o=s+pt(140*Math.cos(i.c3*e),!0,this),r=h+pt(140*Math.sin(i.c3*e),!0,this);if(this.vo_x[t][1]=o,this.vo_y[t][1]=r,this.vo_x[t][2]=s+pt(31*Math.cos(i.c3*e),!0,this),this.vo_y[t][2]=h+pt(31*Math.sin(i.c3*e),!0,this),this.vo_x[t][3]=s+pt(134*Math.cos(i.c3*e),!0,this),this.vo_y[t][3]=h+pt(134*Math.sin(i.c3*e),!0,this),this.co_j.c>=100&&this.co_j.c<200&&this.j_v_c<=0)if(Math.abs(a-o)>=Math.abs(c-r)){if(this.co_j.x+15>a&&this.co_j.x+15<o){var _=o-a,n=pt((this.co_j.x+15-a)*(r-c)/_)+c;n>this.co_j.y-12&&n<this.co_j.y+44&&this.jShinu(1)}else if(this.co_j.x+15>o&&this.co_j.x+15<a){var p=a-o,m=pt((this.co_j.x+15-o)*(c-r)/p)+r;m>this.co_j.y-12&&m<this.co_j.y+44&&this.jShinu(1)}}else if(this.co_j.y+15>c&&this.co_j.y+15<r){var u=r-c,g=pt((this.co_j.y+15-c)*(o-a)/u)+a;g>this.co_j.x-12&&g<this.co_j.x+44&&this.jShinu(1)}else if(this.co_j.y+15>r&&this.co_j.y+15<c){var f=c-r,y=pt((this.co_j.y+15-r)*(a-o)/f)+o;y>this.co_j.x-12&&y<this.co_j.x+44&&this.jShinu(1)}}else i.gf=!1;break;case 80:s>this.maps.wx-32&&s<this.maps.wx+512&&h>this.maps.wy-32&&h<this.maps.wy+320?(i.gf=!0,this.a_hf=!0,this.co_j.x>=s-80&&this.co_j.x<=s+64&&Math.abs(h-this.co_j.y)<32&&(this.hitokoto_c=10,this.hitokoto_num=i.c3)):i.gf=!1;break;case 100:s>this.maps.wx-80-32&&s<this.maps.wx+512+32&&h>this.maps.wy-16&&h<this.maps.wy+320+32?(i.gf=!0,this.a_hf=!0,100==this.co_j.c&&this.co_j.x+15>=s&&this.co_j.x<=s+64&&this.co_j.y==h-32&&(this.j_a_id=t)):i.gf=!1,h<=i.c3?(i.vy++,i.vy>5&&(i.vy=5)):h>=i.c4&&(i.vy--,i.vy<-5&&(i.vy=-5)),h+=i.vy,100==this.co_j.c&&(this.j_a_id==t&&(this.co_j.y=h-32),i.vy<0&&this.maps.getBGCode(this.co_j.x+15,this.co_j.y)>=20&&(this.co_j.y=32*(this.co_j.y>>5)+16,this.jShinu(3)),this.co_j.x+15>=s&&this.co_j.x<=s+64&&this.co_j.y+31>=h&&this.co_j.y<=h+13&&(i.vy>0?(this.co_j.y=h+14,this.maps.getBGCode(this.co_j.x+15,this.co_j.y+31)>=18&&(this.co_j.y=32*(this.co_j.y+31>>5)-32,this.jShinu(3))):(this.co_j.y=h-32,this.j_a_id=t)));break;case 110:if(s>this.maps.wx-80-32&&s<this.maps.wx+512+32&&h>this.maps.wy-16&&h<this.maps.wy+320+32?(i.gf=!0,this.a_hf=!0,100==this.co_j.c&&this.co_j.x+15>=s&&this.co_j.x<=s+64&&this.co_j.y==h-32&&(this.j_a_id=t)):i.gf=!1,s<=i.c3?(i.vx++,i.vx>3&&(i.vx=3)):s>=i.c4&&(i.vx--,i.vx<-3&&(i.vx=-3)),s+=i.vx,100==this.co_j.c){if(this.j_a_id==t)if(this.co_j.x+=i.vx,i.vx>0){var l=this.co_j.x+15>>5,j=this.co_j.y>>5,v=this.co_j.y+31>>5;(this.maps.map_bg[l][j]>=20||this.maps.map_bg[l][v]>=20)&&(this.co_j.x=32*l-16)}else if(i.vx<0){var x=this.co_j.x+15>>5,d=this.co_j.y>>5,k=this.co_j.y+31>>5;(this.maps.map_bg[x][d]>=20||this.maps.map_bg[x][k]>=20)&&(this.co_j.x=32*x+32-14)}if(this.co_j.x+15>=s&&this.co_j.x<=s+64&&this.co_j.y+31>=h&&this.co_j.y<=h+13)if(i.vx>0){this.co_j.x=s+65;var w=this.co_j.x+15>>5,b=this.co_j.y>>5,S=this.co_j.y+31>>5;(this.maps.map_bg[w][b]>=20||this.maps.map_bg[w][S]>=20)&&(this.co_j.c=230,this.co_j.x=32*w-32+11,this.co_j.c1=0,this.j_zan_f=!1,this.j_jet_c=0,this.j_v_c=0)}else{this.co_j.x=s-16;var I=this.co_j.x+15>>5,P=this.co_j.y>>5;this.co_j.y,(this.maps.map_bg[I][P]>=20||this.maps.map_bg[I][P]>=20)&&(this.co_j.c=230,this.co_j.x=32*I+32-11,this.co_j.c1=0,this.j_zan_f=!1,this.j_jet_c=0,this.j_v_c=0)}}break;case 120:s>this.maps.wx-80-32&&s<this.maps.wx+512+32&&h>this.maps.wy-16&&h<this.maps.wy+320+32?(i.gf=!0,this.a_hf=!0,100==this.co_j.c&&this.co_j.x+15>=s&&this.co_j.x<=s+64&&this.co_j.y==h-32&&(this.j_a_id=t)):i.gf=!1,1==i.muki?(i.c3+=2,i.c3>=360&&(i.c3-=360)):(i.c3-=2,i.c3<0&&(i.c3+=360));var C=3.14*i.c3/180,M=i.vx+pt(126*Math.cos(C),!0,this)+16-40-s,z=i.vy+pt(-126*Math.sin(C),!0,this)+16-7-h;if(h+=z,100==this.co_j.c&&(this.j_a_id==t&&(this.co_j.y+=z),z<0&&this.maps.getBGCode(this.co_j.x+15,this.co_j.y)>=20&&(this.co_j.y=32*(this.co_j.y>>5)+16,this.jShinu(3)),this.co_j.x+15>=s&&this.co_j.x<=s+64&&this.co_j.y+31>=h&&this.co_j.y<=h+13&&(z>0?(this.co_j.y=h+14,this.maps.getBGCode(this.co_j.x+15,this.co_j.y+31)>=18&&(this.co_j.y=32*(this.co_j.y+31>>5)-32,this.jShinu(3))):(this.co_j.y=h-32,this.j_a_id=t))),s+=M,100==this.co_j.c){if(this.j_a_id==t)if(this.co_j.x+=M,M>0){var A=this.co_j.x+15>>5,T=this.co_j.y>>5,G=this.co_j.y+31>>5;(this.maps.map_bg[A][T]>=20||this.maps.map_bg[A][G]>=20)&&(this.co_j.x=32*A-16)}else if(M<0){var B=this.co_j.x+15>>5,O=this.co_j.y>>5,E=this.co_j.y+31>>5;(this.maps.map_bg[B][O]>=20||this.maps.map_bg[B][E]>=20)&&(this.co_j.x=32*B+32-14)}if(this.co_j.x+15>=s&&this.co_j.x<=s+64&&this.co_j.y+31>=h&&this.co_j.y<=h+13)if(M>0){this.co_j.x=s+65;var D=this.co_j.x+15>>5,R=this.co_j.y>>5,L=this.co_j.y+31>>5;(this.maps.map_bg[D][R]>=20||this.maps.map_bg[D][L]>=20)&&(this.co_j.c=230,this.co_j.x=32*D-32+11,this.co_j.c1=0,this.j_zan_f=!1,this.j_jet_c=0,this.j_v_c=0)}else{this.co_j.x=s-16;var N=this.co_j.x+15>>5,F=this.co_j.y>>5,W=this.co_j.y+31>>5;(this.maps.map_bg[N][F]>=20||this.maps.map_bg[N][W]>=20)&&(this.co_j.c=230,this.co_j.x=32*N+32-11,this.co_j.c1=0,this.j_zan_f=!1,this.j_jet_c=0,this.j_v_c=0)}}break;case 300:s>this.maps.wx-96&&s<this.maps.wx+512&&h>this.maps.wy-64&&h<this.maps.wy+320?(i.gf=!0,this.a_hf=!0,100==this.co_j.c&&this.co_j.x+15>=s&&this.co_j.x<=s+48&&this.co_j.y==h-32&&(this.j_a_id=t,this.co_j.x+15>=s+24&&this.co_j.x<=s+48-24&&this.co_j.y==h-32&&1!=i.c4&&(0==this.sl_step||1==this.sl_step||10==this.sl_step||11==this.sl_step||2!=this.dokan_mode)&&(this.co_j.c1=-10,this.co_j.c2=i.c3,this.j_zan_f=!1,this.j_jet_c=0,this.j_v_c=0,this.co_j.c=300,this.co_j.x=s+16,this.co_j.y=h-32,this.co_j.vx=0,this.co_j.vy=0,i.c4=1)),100==this.co_j.c&&this.j_a_id!=t&&(i.c4=0)):i.gf=!1;break;case 400:s>this.maps.wx-96&&s<this.maps.wx+512&&h>this.maps.wy-64&&h<this.maps.wy+320?(i.gf=!0,this.a_hf=!0,100==this.co_j.c&&this.co_j.x+15>=s&&this.co_j.x<=s+80&&this.co_j.y==h-32&&(this.j_a_id=t)):i.gf=!1,0==i.c3?s-64<this.co_j.x+15&&s+96+64>this.co_j.x+15&&(i.c3=1):i.c3<100?(i.c3++,i.c3>8&&(i.c3=100)):100==i.c3?(h+=12)>=i.vy+128&&(h=i.vy+128,i.c3=200):200==i.c3&&(h-=3)<=i.vy&&(h=i.vy,i.c3=0,s<=this.co_j.x+15&&s+96>this.co_j.x+15&&(i.c3=100)),100==this.co_j.c&&(this.j_a_id==t&&(this.co_j.y=h-32,200==i.c3&&this.maps.getBGCode(this.co_j.x+15,this.co_j.y)>=20&&(this.co_j.y=32*(this.co_j.y>>5)+16,this.jShinu(3))),this.co_j.x+15>=s&&this.co_j.x<=s+80&&this.co_j.y+31>=h&&this.co_j.y<=h+63&&(100==i.c3?(this.co_j.y=h+64,this.maps.getBGCode(this.co_j.x+15,this.co_j.y+31)>=18&&(this.co_j.y=32*(this.co_j.y+31>>5)-32,this.jShinu(3))):200==i.c3&&(this.co_j.y=h-32,this.j_a_id=t,this.maps.getBGCode(this.co_j.x+15,this.co_j.y)>=20&&(this.co_j.y=32*(this.co_j.y>>5)+16,this.jShinu(3)))));break;case 500:s>this.maps.wx-96-32&&s<this.maps.wx+512+32&&h>this.maps.wy-32&&h<=this.maps.wy+368?(i.gf=!0,this.a_hf=!0,100==this.co_j.c&&this.co_j.x+15>=s&&this.co_j.x<=s+80&&this.co_j.y==h-32?(this.j_a_id=t,1==i.c4?i.c3<50&&(i.c3<=0?i.c3=1:i.c3<=30?i.c3++:(i.c3=55,i.vy=0)):i.c3<=0&&(i.c3=51,i.vy=0)):1==i.c4&&i.c3<50&&(i.c3=0)):i.gf=!1,i.c3>0&&(i.c3>=51&&i.c3<=54?i.c3++:i.c3>=55&&i.c3<100&&(i.vy<16&&i.vy++,h+=i.vy,this.maps.getBGCode(s+32,h+13)>=20&&(h=32*(h+13>>5)-14,i.c3=100),h>=this.ochiru_y+48&&(i.c=0,i.gf=!1))),100==this.co_j.c&&this.j_a_id==t&&(this.co_j.y=h-32);break;case 600:if(s>this.maps.wx-96&&s<this.maps.wx+512&&h>this.maps.wy-64&&h<this.maps.wy+320?(i.gf=!0,this.a_hf=!0,100==this.co_j.c&&this.co_j.x+15>=s&&this.co_j.x<=s+48&&this.co_j.y==h+16-32&&(this.j_a_id=t)):i.gf=!1,i.pt=600,i.c3<=0?(i.vx=0,this.j_a_id==t&&(i.c3=100,i.c4=0,i.vx=2),this.co_j.x>=s-144&&(i.pt=605)):100==i.c3?(i.c1=s-512-32,i.c2=s+128,this.j_a_id!=t?(i.c4++,i.c4>50&&(i.c3=0)):i.c4=0,i.pt=605):200==i.c3&&(i.pt=605,i.vx=0),s+=i.vx,(this.maps.getBGCode(s+63+16,h)>=20||this.maps.getBGCode(s+63+16,h+32)>=20)&&(s=32*(s+63+16>>5)-64-16,i.vx=s-i.x,i.c3=200),100==this.co_j.c){if(this.j_a_id==t&&(this.co_j.x+=i.vx,i.vx>0)){var Y=this.co_j.x+15>>5,Z=this.co_j.y>>5,H=this.co_j.y+31>>5;(this.maps.map_bg[Y][Z]>=20||this.maps.map_bg[Y][H]>=20)&&(this.co_j.x=32*Y-16)}this.co_j.x+15>=s&&this.co_j.x<=s+48&&this.co_j.y+31>=h+16&&this.co_j.y<=h+47&&(this.co_j.x=s+49)}break;case 700:s>this.maps.wx-96&&s<this.maps.wx+512&&h>this.maps.wy-64&&h<this.maps.wy+320?(i.gf=!0,this.a_hf=!0,100==this.co_j.c&&this.co_j.x+15>=s&&this.co_j.x<=s+16&&(i.c3>=1&&i.c3<=2&&this.co_j.y==h-32+10||i.c3>=3&&i.c3<=4&&this.co_j.y==h-32+16||i.c3>=5&&i.c3<=6&&this.co_j.y==h-32+10||this.co_j.y==h-32)&&(this.j_a_id=t)):i.gf=!1,this.j_a_id==t?(this.co_j.vx=0,this.co_j.vy=0,this.co_j.x=s,this.j_jdai_f=!0,i.c3++,i.c3<=2?(i.pt=710,this.co_j.y=h-32+10):i.c3<=4?(i.pt=720,this.co_j.y=h-32+16):i.c3<=6?(i.pt=710,this.co_j.y=h-32+10):i.c3>=7&&(i.pt=700,this.co_j.y=h-32,i.c3=0,this.j_a_id=-1,this.j_jump_type=4,this.co_j.pt=101,this.co_j.ac=0,this.co_j.vy=-255,this.j_jump_level=1,4==this.maps.getBGCode(s,h)&&(this.co_j.vy=-75))):(i.c3=0,i.pt=700)}if(this.jm_kazu>0)for(var $=0;$<=1;$++)if(this.co_jm[$].c>=100){var U=this.co_jm[$];i.c<200?U.x+15>=s&&U.x<=s+64&&U.y+29>=h&&U.y+2<=h+13&&(200==U.c?(U.c=50,U.y=h-8,U.c1=1,U.c2=20):(U.c=0,this.jm_kazu--)):300==i.c?U.x+15>=s&&U.x<=s+48&&U.y+29>=h&&U.y+2<=h+31&&(200==U.c?(U.c=50,U.c1=1,U.c2=20):(U.c=0,this.jm_kazu--)):400==i.c?U.x+15>=s&&U.x<=s+80&&U.y+29>=h&&U.y+2<=h+63&&(200==U.c?(U.c=50,U.c1=1,U.c2=20):(U.c=0,this.jm_kazu--)):500==i.c&&U.x+15>=s&&U.x<=s+80&&U.y+29>=h&&U.y+2<=h+13&&(200==U.c?(U.c=50,U.y=h-8,U.c1=1,U.c2=20):(U.c=0,this.jm_kazu--))}i.x=s,i.y=h}}},at.prototype.bMove=function(){this.co_b.update(this)},at.prototype.hSet=function(t,i,s){for(var h=0;h<=63;h++)if(!(this.co_h[h].c>0)){var e=this.co_h[h];e.c=s,e.x=t,e.y=i;break}},at.prototype.hAttack=function(t,i){for(var s=0;s<=63;s++){var h=this.co_h[s];if(0!=h.c&&h.x==t&&h.y==i){switch(h.c){case 100:this.mSet(32*t,32*i-32,2e3);break;case 200:this.mSet(32*t,32*i-32,2010),this.mSet(32*t,32*i-32,2020),this.mSet(32*t,32*i-32,2e3);break;case 300:this.mSet(32*t,32*i-32,2100);break;case 400:this.mSet(32*t,32*i-32,2110);break;case 500:this.mSet(32*t,32*i-32,2120);break;case 600:this.mSet(32*t,32*i-32,2130);break;case 700:this.mSet(32*t,32*i-32,2140);break;case 800:this.mSet(32*t,32*i-32,2150);break;case 900:this.mSet(32*t,32*i-32,2160);break;case 1e3:this.mSet(32*t,32*i-32,2170);break;case 1100:this.mSet(32*t,32*i-32,2180),this.stage_1up_f[this.stage-1]=!1}this.maps.putBGCode(t,i,41),h.c=0;break}}},ct.prototype.__repaint=function(){this.update(this.__appimg.getGraphics()),this.__canvas.getContext("2d").drawImage(this.__appimg._dat,0,0)},ct.prototype.init=function(){},ct.prototype.start=function(){null==this.th&&(this.th=1);var t=this.getParameter("game_speed");this.th_interval=parseInt(t),isNaN(this.th_interval)&&(this.th_interval=70),this.th_interval<1?this.th_interval=1:this.th_interval>300&&(this.th_interval=300),this.th_jm=10},ct.prototype.stop=function(){null!=this.th&&(this.th=null)},ct.prototype.destroy=function(){},ct.prototype.paint=function(t){t.drawImage(this.gg.os_img,0,0,this)},ct.prototype.update=function(t){this.paint(t)},ct.prototype.run=function(){if(10==this.th_jm)this.init_j(),this.mp.start(),this.th_jm-=1;else if(6==this.th_jm){var t=0;this.gg.apt_img._loaded?t=1:this.gg.apt_img._error&&(t=2),0!=t&&(this.th_jm-=1)}else 2==this.th_jm?(this.gg.cut(),this.th_jm-=1):this.th_jm>=2?this.th_jm-=1:(100==this.mp.ml_mode?this.mp.mL100():this.mp.mainLoop(),this.userSub(this.gg.os_g,this.gg.os_img));this.__repaint()},ct.prototype.init_j=function(){this.gg=new r(this),this.gg.setBackcolor(e.black);var t,i=this.getParameter("filename_title");if(this.gg.addListImage(0,i),i=this.getParameter("filename_ending"),this.gg.addListImage(1,i),i=this.getParameter("filename_gameover"),this.gg.addListImage(2,i),i=this.getParameter("stage_select"),t=parseInt(i),isNaN(t)&&(t=-1),2==t){var s=this.getParameter("filename_chizu");this.gg.addListImage(3,s)}this.gg.loadImage(),this.gm=new n;var h=this.gm;this.__canvas.addEventListener("mousedown",function(t){t.stopImmediatePropagation(),ot.focus.focus(this),function(t,i){t.mousePressed(i)}(h,t)}.bind(this)),this.__canvas.addEventListener("mouseup",(function(t){!function(t,i){t.mouseReleased(i)}(h,t)})),this.gk=new _;var a=this.gk,c=function(t){ot.focus.hasFocus(this)&&function(t,i){t.keyPressed(i)}(a,t)}.bind(this);document.addEventListener("keydown",c),this.__game.__resourceList.push({type:"eventListener",target:document,name:"keydown",value:c}),c=function(t){ot.focus.hasFocus(this)&&function(t,i){t.keyReleased(i)}(a,t)}.bind(this),document.addEventListener("keyup",c),this.__game.__resourceList.push({type:"eventListener",target:document,name:"keyup",value:c}),this.mp=new at(this.gg,this.gm,this.gk),(this.mp.tdb={}).options=this.options,this.mp.addHighscoreEvent(this.options.highscoreCallback),this.userInit()},ct.prototype.userInit=function(){},ct.prototype.userSub=function(t,i){},ct.prototype.getImage=function(i){var s=new t;return s.load(i),s},ct.prototype.createImage=function(i,s){return new t(i,s)},ct.prototype.getParameter=function(t){var i=(t+"").toLowerCase();return void 0===this.params[i]?null:this.params[i]+""},ot.replaceAll=function(t){function i(){for(var i=document.getElementsByTagName("applet"),s=[],h=0;h<i.length;h++)s.push(i[h]);for(h=0;h<s.length;h++){var e=s[h];(e.getAttribute("code")||"").match(/masaoconstruction/i)&&ot.replaceByDom(e,t)}var a=document.getElementsByTagName("object"),c=[];for(h=0;h<a.length;h++)c.push(a[h]);for(h=0;h<c;h++){var o=c[h],r=o.getElementsByName("code")[0];r.tagName.match(/param/i)&&r.value.match(/masaoconstruction/i)&&ot.replaceByDom(o,t)}}"complete"==document.readyState?i():window.addEventListener("load",i)},ot.replace=function(t,i){function s(){ot.replaceByDom(document.getElementById(t),i)}"complete"==document.readyState?s():window.addEventListener("load",s)},ot.replaceByDom=function(t,i){for(var s=t.getElementsByTagName("param"),h=s.length,e={},a=0;a<h;a++)e[s[a].name]=s[a].value;var c=document.createElement("div"),o=t.id||mt();c.id=o,t.parentNode.replaceChild(c,t),!1!==(i=i||{})["bc-use-rounddown"]&&(i["bc-use-rounddown"]=!0),new ot(e,o,i)},ot.focus=(document.addEventListener("mousedown",(function(){q=null})),{focus:function(t){q=t},hasFocus:function(t){return q===t}}),ot.padAccessor=(V=[],{append:function(t){V.push(t)},show:function(t){for(var i=0;i<V.length;i++)t!==V[i]?V[i].style.display="none":t.style.display="inline"}}),ot.prototype.kill=function(){this.__mc.stop();for(var t=this.__resourceList,i=0,s=t.length;i<s;i++)"setInterval"===t[i].type?clearInterval(t[i].value):"eventListener"===t[i].type?t[i].target.removeEventListener(t[i].name,t[i].value):"Loop"===t[i].type&&t[i].value.stop();for(this.__resourceList=[];this.__box.hasChildNodes();)this.__box.removeChild(this.__box.firstChild)},ot.prototype.__loop=function(){var t=(new Date).getTime();if(!(t-this.__pt<this.__st)){if(this.__pt=t-10,this.__testCanvas){var i,s=this.__testCanvas.getContext("2d");if(s.fillStyle="rgb(128,0,128)",s.fillRect(0,0,700,700),s.strokeStyle="#f00",this.__mc.gg)for(s.save(),s.scale(.5,.5),s.drawImage(this.__mc.gg.os_img._dat,0,0),s.drawImage(this.__mc.gg.os2_img._dat,576,0),s.restore(),s.beginPath(),i=0;i<700;i+=32)s.moveTo(0,i),s.lineTo(700,i),s.moveTo(i,0),s.lineTo(i,700);s.stroke()}if(this.__testDiv&&this.__mc.mp){var h,e,a=this.__mc.mp,c="<div style='text-align:left'>";for(h in a)"[object Array]"!=(e=Object.prototype.toString.call(a[h]))&&"[object Function]"!=e&&(h in this.__teo?this.__teo[h].t>0?(c+="<span style='background-color:rgba(255,255,255,"+this.__teo[h].t/6+")'>"+h+": "+a[h]+"</span> ",this.__teo[h].t--):c+=h+": "+a[h]+" ":this.__teo[h]={val:a[h],t:0},this.__teo[h].val!=a[h]&&(this.__teo[h].val=a[h],this.__teo[h].t=6));this.__testDiv.innerHTML=c+"</div>"}this.__mc.run()}},ot.prototype.__pad_update=function(){var t,i,s,h,e,a,c=this.__pad.getBoundingClientRect(),o=c.left,r=c.top,_=this.__pad_off.getContext("2d"),n=ot.pad.coords.length;for(_.clearRect(0,0,500,200),_.fillStyle=ot.pad.style.back,_.fillRect(0,0,500,200),_.fillStyle=ot.pad.style.button,t=0;t<n;t++){for(_.beginPath(),s=(h=ot.pad.coords[t]).length>>1,_.moveTo(h[0],h[1]),i=0;i<s;i++)_.lineTo(h[i<<1],h[1+(i<<1)]);_.closePath(),_.fill()}for(t=0;t<n;t++)this.__pad_after[t]=!1;for(_.fillStyle=ot.pad.style.active,t=0;t<n;t++){for(_.beginPath(),s=(h=ot.pad.coords[t]).length>>1,_.moveTo(h[0],h[1]),i=0;i<s;i++)_.lineTo(h[i<<1],h[1+(i<<1)]);for(i in _.closePath(),this.__pad_touches)e=this.__pad_touches[i].clientX-o,a=this.__pad_touches[i].clientY-r,this.__pad_after[t]|=_.isPointInPath(e/c.width*500,a/c.height*200);this.__pad_after[t]&&_.fill()}for(_.strokeStyle=ot.pad.style.border,_.fillStyle=ot.pad.style.text,t=0;t<n;t++){for(_.beginPath(),s=(h=ot.pad.coords[t]).length>>1,_.moveTo(h[0],h[1]),i=1;i<s;i++)_.lineTo(h[i<<1],h[1+(i<<1)]);_.closePath(),_.stroke(),s=p(h),_.fillText(ot.pad.chars[t],s[0],s[1])}for(_.stroke(),(_=this.__pad.getContext("2d")).clearRect(0,0,500,200),_.drawImage(this.__pad_off,0,0),t=0;t<n;t++)this.__pad_before[t]!=this.__pad_after[t]&&(this.__pad_before[t]=this.__pad_after[t],this.__pad_after[t]?this.__pad_pressed(t):this.__pad_released(t));function p(t){var i,s,h,e,a,c,o,r,_,n,p,m=t.length>>1;if(r=s=t[0],_=h=t[1],1==m)return[r,_];if(r=(r+(e=t[2]))/2,_=(_+(a=t[3]))/2,2==m)return[r,r];for(c=t[4],o=t[5],n=Math.abs((e-s)*(o-h)-(a-h)*(c-s))/2,r=(s+e+c)/3,_=(h+a+o)/3,i=3;i<m;i++)e=c,a=o,c=t[i<<1],o=t[1+(i<<1)],r=(n*r+(p=Math.abs((e-s)*(o-h)-(a-h)*(c-s))/2)*((s+e+c)/3))/(n+p),_=(n*_+p*((h+a+o)/3))/(n+p),n=p;return[r,_]}},ot.prototype.__pad_pressed=function(t){if(this.__mc.gk){var i=ot.pad.codes[t];this.__mc.gk.keyPressed({keyCode:i,preventDefault:function(){}})}},ot.prototype.__pad_released=function(t){if(this.__mc.gk){var i=ot.pad.codes[t];this.__mc.gk.keyReleased({keyCode:i,preventDefault:function(){}})}},ot.prototype.__pad_event=function(t){t.preventDefault(),this.__pad_touches=[];for(var i=0;i<t.touches.length;i++)this.__pad_touches.push(t.touches[i]);this.__pad_update()},ot.pad={coords:[[410,30,490,30,490,170,410,170],[320,30,400,30,400,170,320,170],[250,30,290,30,290,70,250,70],[200,30,240,30,240,70,200,70],[5,60,87,60,87,140,5,140],[175,60,93,60,93,140,175,140],[30,5,30,80,150,80,150,5],[30,195,30,120,150,120,150,195]],chars:["X","Z","T","P","←","→","↑","↓"],codes:[88,90,84,80,37,39,38,40],style:{rate:.4,back:"rgba(0, 0, 0, 0)",button:"rgba(128, 128, 128, 0.5)",active:"rgba(0, 0, 0, 0.5)",text:"black",border:"black"},avoidAD:!1},rt.prototype._oncanplaythrough=function(){},rt.prototype._onerror=function(){},rt.prototype.play=function(){try{this._dat.loop=!1,this._dat.currentTime=0,this._dat.play()}catch(t){return!1}return!0},rt.prototype.loop=function(){try{this._dat.loop=!0,this._dat.currentTime=0,this._dat.play()}catch(t){return!1}return!0},rt.prototype.stop=function(){try{this._dat.pause()}catch(t){return!1}return!0},ut.prototype.start=function(t,i){this.running=!0,this.interval=t,this.callback=i;var s=gt();this.targetTime=s+t,this.prevTime=s,window.requestAnimationFrame&&!this.forceSetInterval?this.mode=1:this.mode=0,0===this.mode&&(this.timerid=setInterval(this._loop,t)),this._next()},ut.prototype.stop=function(){this.running&&(this.running=!1,1===this.mode?cancelAnimationFrame(this.timerid):clearInterval(this.timerid))},ut.prototype._next=function(){1===this.mode&&(this.timerid=requestAnimationFrame(this._loop))},ut.prototype._loop=function(){if(this.running){var t=gt();t-this.prevTime>=500&&(this.targetTime=t-1);var i=Math.ceil((t-this.targetTime)/this.interval);for(this.targetTime+=this.interval*i;i>0&&(this.callback(),i--,!(gt()-t>2)););if(i>0){var s=this;ft((function t(h){for(;i>0&&h.timeRemaining()>0;)s.callback(),i--;i>0&&!h.didTimeout&&ft(t,{timeout:1e3})}),{timeout:1e3})}this._next(),this.prevTime=t}};var gt=window.performance&&performance.now?performance.now.bind(performance):Date.now?Date.now.bind(Date):function(){return 1e3*(new Date).getTime()},ft="function"==typeof requestIdleCallback?requestIdleCallback:"function"==typeof setImmediate?function(t){setImmediate((function(){var i=gt();t({didTimeout:!1,timeRemaining:function(){return 50+i-gt()}})}))}:function(t){setTimeout((function(){var i=gt();t({didTimeout:!1,timeRemaining:function(){return 50+i-gt()}})}),1)};window.CanvasMasao={Game:ot},window.JSMasao=ot,Object.defineProperty(CanvasMasao,"version",{value:"v5.3.0"})}()}();