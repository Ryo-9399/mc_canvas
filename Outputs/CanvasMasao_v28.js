!function(t){var i={};function s(h){if(i[h])return i[h].exports;var e=i[h]={i:h,l:!1,exports:{}};return t[h].call(e.exports,e,e.exports,s),e.l=!0,e.exports}s.m=t,s.c=i,s.d=function(t,i,h){s.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:h})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,i){if(1&i&&(t=s(t)),8&i)return t;if(4&i&&"object"==typeof t&&t&&t.__esModule)return t;var h=Object.create(null);if(s.r(h),Object.defineProperty(h,"default",{enumerable:!0,value:t}),2&i&&"string"!=typeof t)for(var e in t)s.d(h,e,function(i){return t[i]}.bind(null,e));return h},s.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(i,"a",i),i},s.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},s.p="",s(s.s=73)}([function(t,i,s){"use strict";(function(t){s.d(i,"b",function(){return c}),s.d(i,"a",function(){return _}),s.d(i,"c",function(){return r}),s.d(i,"d",function(){return n});s(29),s(84),s(85),s(19),s(58),s(88),s(89);var h,e,a=s(72);function c(t,i,s){var h=p();if((s=s||{}).width=s.width||512,s.height=s.height||320,s.extensions=s.extensions||[],i?this.__boxID=i:(this.__boxID="__mcdiv"+h,document.write("<div id='"+this.__boxID+"'></div>")),this.__canvasID="__mccanvas"+h,this.__padDivID="__mcpaddiv"+h,this.__box=document.getElementById(this.__boxID),this.__resourceList=[],this.__canvas=document.createElement("canvas"),this.__canvas.id=this.__canvasID,this.__canvas.width=s.width,this.__canvas.height=s.height,this.__canvas.textContent="※お使いのブラウザはHTML5に対応していないため表示できません。",this.__box.appendChild(this.__canvas),this.__padDiv=document.createElement("div"),this.__padDiv.id=this.__padDivID,this.__box.appendChild(this.__padDiv),this.__canvas&&this.__canvas.getContext){if(this.__pad_before=[],this.__pad_after=[],this.__pad_touches=[],window.TouchEvent){var e,o=document.createElement("input");o.type="button",o.value="バーチャル操作パッド 表示 / 非表示",(e=o.style).width="24em",e.height="2.5em",o.onclick=function(){"inline"==_.style.display?_.style.display="none":c.padAccessor.show(_)},this.__padDiv.appendChild(o),this.__padDiv.appendChild(document.createElement("br"));var _=this.__pad=document.createElement("canvas");_.width=500,_.height=200;var r=function(t){this.__pad_event(t)}.bind(this);_.addEventListener("touchstart",r,!1),_.addEventListener("touchmove",r,!1),_.addEventListener("touchend",r,!1),_.addEventListener("touchcancel",r,!1),_.style.display="none",this.__padDiv.appendChild(_),(e=_.style).position="absolute";var n=setInterval(function(){var t=innerWidth,i=innerHeight,s=t<i?t:i;_.style.width=t+"px",_.style.height=s*c.pad.style.rate+"px",_.style.left=scrollX+"px",c.pad.avoidAD?_.style.top=scrollY+i-s*c.pad.style.rate-.16*s+"px":_.style.top=scrollY+i-s*c.pad.style.rate+"px",this.__pad_update()}.bind(this),500);this.__resourceList.push({type:"setInterval",value:n}),c.padAccessor.append(_),this.__pad_off=document.createElement("canvas"),this.__pad_off.width=500,this.__pad_off.height=200;var g=this.__pad_off.getContext("2d");g.font="24px monospace",g.textAlign="center",g.textBaseline="middle",g.lineWidth=2,g.lineCap="round",g.lineJoin="round";for(var u=0;u<8;u++)this.__pad_before[u]=!1,this.__pad_after[u]=!1;this.__pad_update()}this.__mc=new a.a(t,this.__canvas,this,s||{});for(u=0;u<s.extensions.length;u++)s.extensions[u].inject(this.__mc,s);this.__mc.start();var f=this.__st=this.__mc.getParameter("game_speed");f?(f=parseInt(f),isNaN(f)?f=70:f<10?f=10:f>300&&(f=300)):f=70,this.__pt=0;var y=new(s["custom-loop"]||m)(this,!!s["bc-loop-setinterval"]);y.start(f,this.__loop.bind(this)),this.__resourceList.push({type:"Loop",value:y})}}function o(t){this._dat=new Audio,this._dat.preload="auto",this._dat.src=t}function _(t,i){this.width=t,this.height=i}function r(){if(0==arguments.length)return null;for(var t=new Array(arguments.length),i=0;i<arguments.length;i++)t[i]=arguments[i];return function t(i){var s=new Array(i[0]);if(1==i.length)return s;for(var h=i.slice(1),e=0;e<i[0];e++)s[e]=t(h);return s}(t)}function n(t){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=arguments.length>2?arguments[2]:void 0;return t>=0||i&&!s.tdb.options["bc-use-rounddown"]?Math.floor(t):-Math.floor(-t)}function p(){return Math.random().toString(36).slice(2)}function m(t,i){this.game=t,this.forceSetInterval=i,this.running=!1,this.interval=null,this.callback=null,this.mode=0,this.prevTime=null,this.timerid=null,this._loop=this._loop.bind(this)}c.replaceAll=function(t){function i(){for(var i=document.getElementsByTagName("applet"),s=[],h=0;h<i.length;h++)s.push(i[h]);for(h=0;h<s.length;h++){var e=s[h];(e.getAttribute("code")||"").match(/masaoconstruction/i)&&c.replaceByDom(e,t)}var a=document.getElementsByTagName("object"),o=[];for(h=0;h<a.length;h++)o.push(a[h]);for(h=0;h<o;h++){var _=o[h],r=_.getElementsByName("code")[0];r.tagName.match(/param/i)&&r.value.match(/masaoconstruction/i)&&c.replaceByDom(_,t)}}"complete"==document.readyState?i():window.addEventListener("load",i)},c.replace=function(t,i){function s(){c.replaceByDom(document.getElementById(t),i)}"complete"==document.readyState?s():window.addEventListener("load",s)},c.replaceByDom=function(t,i){for(var s=t.getElementsByTagName("param"),h=s.length,e={},a=0;a<h;a++)e[s[a].name]=s[a].value;var o=document.createElement("div"),_=t.id||p();o.id=_,t.parentNode.replaceChild(o,t),!1!==(i=i||{})["bc-use-rounddown"]&&(i["bc-use-rounddown"]=!0),new c(e,_,i)},c.focus=(document.addEventListener("mousedown",function(){h=null}),{focus:function(t){h=t},hasFocus:function(t){return h===t}}),c.padAccessor=(e=[],{append:function(t){e.push(t)},show:function(t){for(var i=0;i<e.length;i++)t!==e[i]?e[i].style.display="none":t.style.display="inline"}}),c.prototype.kill=function(){this.__mc.stop();for(var t=this.__resourceList,i=0,s=t.length;i<s;i++)"setInterval"===t[i].type?clearInterval(t[i].value):"eventListener"===t[i].type?t[i].target.removeEventListener(t[i].name,t[i].value):"Loop"===t[i].type&&t[i].value.stop();for(this.__resourceList=[];this.__box.hasChildNodes();)this.__box.removeChild(this.__box.firstChild)},c.prototype.__loop=function(){var t=(new Date).getTime();if(!(t-this.__pt<this.__st)){if(this.__pt=t-10,this.__testCanvas){var i,s=this.__testCanvas.getContext("2d");if(s.fillStyle="rgb(128,0,128)",s.fillRect(0,0,700,700),s.strokeStyle="#f00",this.__mc.gg)for(s.save(),s.scale(.5,.5),s.drawImage(this.__mc.gg.os_img._dat,0,0),s.drawImage(this.__mc.gg.os2_img._dat,576,0),s.restore(),s.beginPath(),i=0;i<700;i+=32)s.moveTo(0,i),s.lineTo(700,i),s.moveTo(i,0),s.lineTo(i,700);s.stroke()}if(this.__testDiv&&this.__mc.mp){var h,e,a=this.__mc.mp,c="<div style='text-align:left'>";for(h in a)"[object Array]"!=(e=Object.prototype.toString.call(a[h]))&&"[object Function]"!=e&&(h in this.__teo?this.__teo[h].t>0?(c+="<span style='background-color:rgba(255,255,255,"+this.__teo[h].t/6+")'>"+h+": "+a[h]+"</span> ",this.__teo[h].t--):c+=h+": "+a[h]+" ":this.__teo[h]={val:a[h],t:0},this.__teo[h].val!=a[h]&&(this.__teo[h].val=a[h],this.__teo[h].t=6));this.__testDiv.innerHTML=c+"</div>"}this.__mc.run()}},c.prototype.__pad_update=function(){var t,i,s,h,e,a,o=this.__pad.getBoundingClientRect(),_=o.left,r=o.top,n=this.__pad_off.getContext("2d"),p=c.pad.coords.length;for(n.clearRect(0,0,500,200),n.fillStyle=c.pad.style.back,n.fillRect(0,0,500,200),n.fillStyle=c.pad.style.button,t=0;t<p;t++){for(n.beginPath(),s=(h=c.pad.coords[t]).length>>1,n.moveTo(h[0],h[1]),i=0;i<s;i++)n.lineTo(h[i<<1],h[1+(i<<1)]);n.closePath(),n.fill()}for(t=0;t<p;t++)this.__pad_after[t]=!1;for(n.fillStyle=c.pad.style.active,t=0;t<p;t++){for(n.beginPath(),s=(h=c.pad.coords[t]).length>>1,n.moveTo(h[0],h[1]),i=0;i<s;i++)n.lineTo(h[i<<1],h[1+(i<<1)]);for(i in n.closePath(),this.__pad_touches)e=this.__pad_touches[i].clientX-_,a=this.__pad_touches[i].clientY-r,this.__pad_after[t]|=n.isPointInPath(e/o.width*500,a/o.height*200);this.__pad_after[t]&&n.fill()}for(n.strokeStyle=c.pad.style.border,n.fillStyle=c.pad.style.text,t=0;t<p;t++){for(n.beginPath(),s=(h=c.pad.coords[t]).length>>1,n.moveTo(h[0],h[1]),i=1;i<s;i++)n.lineTo(h[i<<1],h[1+(i<<1)]);n.closePath(),n.stroke(),s=m(h),n.fillText(c.pad.chars[t],s[0],s[1])}for(n.stroke(),(n=this.__pad.getContext("2d")).clearRect(0,0,500,200),n.drawImage(this.__pad_off,0,0),t=0;t<p;t++)this.__pad_before[t]!=this.__pad_after[t]&&(this.__pad_before[t]=this.__pad_after[t],this.__pad_after[t]?this.__pad_pressed(t):this.__pad_released(t));function m(t){var i,s,h,e,a,c,o,_,r,n,p,m=t.length>>1;if(_=s=t[0],r=h=t[1],1==m)return[_,r];if(_=(_+(e=t[2]))/2,r=(r+(a=t[3]))/2,2==m)return[_,_];for(c=t[4],o=t[5],n=Math.abs((e-s)*(o-h)-(a-h)*(c-s))/2,_=(s+e+c)/3,r=(h+a+o)/3,i=3;i<m;i++)e=c,a=o,c=t[i<<1],o=t[1+(i<<1)],_=(n*_+(p=Math.abs((e-s)*(o-h)-(a-h)*(c-s))/2)*((s+e+c)/3))/(n+p),r=(n*r+p*((h+a+o)/3))/(n+p),n=p;return[_,r]}},c.prototype.__pad_pressed=function(t){if(this.__mc.gk){var i=c.pad.codes[t];this.__mc.gk.keyPressed({keyCode:i,preventDefault:function(){}})}},c.prototype.__pad_released=function(t){if(this.__mc.gk){var i=c.pad.codes[t];this.__mc.gk.keyReleased({keyCode:i,preventDefault:function(){}})}},c.prototype.__pad_event=function(t){t.preventDefault(),this.__pad_touches=[];for(var i=0;i<t.touches.length;i++)this.__pad_touches.push(t.touches[i]);this.__pad_update()},c.pad={coords:[[410,30,490,30,490,170,410,170],[320,30,400,30,400,170,320,170],[250,30,290,30,290,70,250,70],[200,30,240,30,240,70,200,70],[5,60,87,60,87,140,5,140],[175,60,93,60,93,140,175,140],[30,5,30,80,150,80,150,5],[30,195,30,120,150,120,150,195]],chars:["X","Z","T","P","←","→","↑","↓"],codes:[88,90,84,80,37,39,38,40],style:{rate:.4,back:"rgba(0, 0, 0, 0)",button:"rgba(128, 128, 128, 0.5)",active:"rgba(0, 0, 0, 0.5)",text:"black",border:"black"},avoidAD:!1},o.prototype._oncanplaythrough=function(){},o.prototype._onerror=function(){},o.prototype.play=function(){try{this._dat.loop=!1,this._dat.currentTime=0,this._dat.play()}catch(t){return!1}return!0},o.prototype.loop=function(){try{this._dat.loop=!0,this._dat.currentTime=0,this._dat.play()}catch(t){return!1}return!0},o.prototype.stop=function(){try{this._dat.pause()}catch(t){return!1}return!0},m.prototype.start=function(t,i){this.running=!0,this.interval=t,this.callback=i;var s=g();this.targetTime=s+t,this.prevTime=s,window.requestAnimationFrame&&!this.forceSetInterval?this.mode=1:this.mode=0,0===this.mode&&(this.timerid=setInterval(this._loop,t)),this._next()},m.prototype.stop=function(){this.running&&(this.running=!1,1===this.mode?cancelAnimationFrame(this.timerid):clearInterval(this.timerid))},m.prototype._next=function(){1===this.mode&&(this.timerid=requestAnimationFrame(this._loop))},m.prototype._loop=function(){if(this.running){var t=g();t-this.prevTime>=500&&(this.targetTime=t-1);var i=Math.ceil((t-this.targetTime)/this.interval);for(this.targetTime+=this.interval*i;i>0&&(this.callback(),i--,!(g()-t>2)););if(i>0){var s=this;u(function t(h){for(;i>0&&h.timeRemaining()>0;)s.callback(),i--;i>0&&!h.didTimeout&&u(t,{timeout:1e3})},{timeout:1e3})}this._next(),this.prevTime=t}};var g=window.performance&&performance.now?performance.now.bind(performance):Date.now?Date.now.bind(Date):function(){return 1e3*(new Date).getTime()},u="function"==typeof requestIdleCallback?requestIdleCallback:"function"==typeof t?function(i){t(function(){var t=g();i({didTimeout:!1,timeRemaining:function(){return 50+t-g()}})})}:function(t){setTimeout(function(){var i=g();t({didTimeout:!1,timeRemaining:function(){return 50+i-g()}})},1)}}).call(this,s(74).setImmediate)},function(t,i,s){(function(i){var s="object",h=function(t){return t&&t.Math==Math&&t};t.exports=h(typeof globalThis==s&&globalThis)||h(typeof window==s&&window)||h(typeof self==s&&self)||h(typeof i==s&&i)||Function("return this")()}).call(this,s(28))},function(t,i,s){var h=s(1),e=s(17),a=s(33),c=s(56),o=h.Symbol,_=e("wks");t.exports=function(t){return _[t]||(_[t]=c&&o[t]||(c?o:a)("Symbol."+t))}},function(t,i){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,i){var s={}.hasOwnProperty;t.exports=function(t,i){return s.call(t,i)}},function(t,i){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,i,s){var h=s(10),e=s(9),a=s(16);t.exports=h?function(t,i,s){return e.f(t,i,a(1,s))}:function(t,i,s){return t[i]=s,t}},function(t,i,s){var h=s(5);t.exports=function(t){if(!h(t))throw TypeError(String(t)+" is not an object");return t}},function(t,i,s){var h=s(1),e=s(30).f,a=s(6),c=s(15),o=s(32),_=s(53),r=s(80);t.exports=function(t,i){var s,n,p,m,g,u=t.target,f=t.global,y=t.stat;if(s=f?h:y?h[u]||o(u,{}):(h[u]||{}).prototype)for(n in i){if(m=i[n],p=t.noTargetGet?(g=e(s,n))&&g.value:s[n],!r(f?n:u+(y?".":"#")+n,t.forced)&&void 0!==p){if(typeof m==typeof p)continue;_(m,p)}(t.sham||p&&p.sham)&&a(m,"sham",!0),c(s,n,m,t)}}},function(t,i,s){var h=s(10),e=s(50),a=s(7),c=s(21),o=Object.defineProperty;i.f=h?o:function(t,i,s){if(a(t),i=c(i,!0),a(s),e)try{return o(t,i,s)}catch(t){}if("get"in s||"set"in s)throw TypeError("Accessors not supported");return"value"in s&&(t[i]=s.value),t}},function(t,i,s){var h=s(3);t.exports=!h(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,i,s){var h=s(49),e=s(14);t.exports=function(t){return h(e(t))}},function(t,i,s){var h=s(18),e=Math.min;t.exports=function(t){return t>0?e(h(t),9007199254740991):0}},function(t,i,s){var h=s(14);t.exports=function(t){return Object(h(t))}},function(t,i){t.exports=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t}},function(t,i,s){var h=s(1),e=s(17),a=s(6),c=s(4),o=s(32),_=s(52),r=s(23),n=r.get,p=r.enforce,m=String(_).split("toString");e("inspectSource",function(t){return _.call(t)}),(t.exports=function(t,i,s,e){var _=!!e&&!!e.unsafe,r=!!e&&!!e.enumerable,n=!!e&&!!e.noTargetGet;"function"==typeof s&&("string"!=typeof i||c(s,"name")||a(s,"name",i),p(s).source=m.join("string"==typeof i?i:"")),t!==h?(_?!n&&t[i]&&(r=!0):delete t[i],r?t[i]=s:a(t,i,s)):r?t[i]=s:o(i,s)})(Function.prototype,"toString",function(){return"function"==typeof this&&n(this).source||_.call(this)})},function(t,i){t.exports=function(t,i){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:i}}},function(t,i,s){var h=s(1),e=s(32),a=s(22),c=h["__core-js_shared__"]||e("__core-js_shared__",{});(t.exports=function(t,i){return c[t]||(c[t]=void 0!==i?i:{})})("versions",[]).push({version:"3.1.3",mode:a?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(t,i){var s=Math.ceil,h=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?h:s)(t)}},function(t,i,s){var h=s(15),e=s(86),a=Object.prototype;e!==a.toString&&h(a,"toString",e,{unsafe:!0})},function(t,i){var s={}.toString;t.exports=function(t){return s.call(t).slice(8,-1)}},function(t,i,s){var h=s(5);t.exports=function(t,i){if(!h(t))return t;var s,e;if(i&&"function"==typeof(s=t.toString)&&!h(e=s.call(t)))return e;if("function"==typeof(s=t.valueOf)&&!h(e=s.call(t)))return e;if(!i&&"function"==typeof(s=t.toString)&&!h(e=s.call(t)))return e;throw TypeError("Can't convert object to primitive value")}},function(t,i){t.exports=!1},function(t,i,s){var h,e,a,c=s(77),o=s(1),_=s(5),r=s(6),n=s(4),p=s(24),m=s(25),g=o.WeakMap;if(c){var u=new g,f=u.get,y=u.has,l=u.set;h=function(t,i){return l.call(u,t,i),i},e=function(t){return f.call(u,t)||{}},a=function(t){return y.call(u,t)}}else{var j=p("state");m[j]=!0,h=function(t,i){return r(t,j,i),i},e=function(t){return n(t,j)?t[j]:{}},a=function(t){return n(t,j)}}t.exports={set:h,get:e,has:a,enforce:function(t){return a(t)?e(t):h(t,{})},getterFor:function(t){return function(i){var s;if(!_(i)||(s=e(i)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return s}}}},function(t,i,s){var h=s(17),e=s(33),a=h("keys");t.exports=function(t){return a[t]||(a[t]=e(t))}},function(t,i){t.exports={}},function(t,i,s){var h=s(20);t.exports=Array.isArray||function(t){return"Array"==h(t)}},function(t,i,s){"use strict";var h=s(11),e=s(55),a=s(45),c=s(23),o=s(69),_=c.set,r=c.getterFor("Array Iterator");t.exports=o(Array,"Array",function(t,i){_(this,{type:"Array Iterator",target:h(t),index:0,kind:i})},function(){var t=r(this),i=t.target,s=t.kind,h=t.index++;return!i||h>=i.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==s?{value:h,done:!1}:"values"==s?{value:i[h],done:!1}:{value:[h,i[h]],done:!1}},"values"),a.Arguments=a.Array,e("keys"),e("values"),e("entries")},function(t,i){var s;s=function(){return this}();try{s=s||new Function("return this")()}catch(t){"object"==typeof window&&(s=window)}t.exports=s},function(t,i,s){var h=s(8),e=s(81),a=s(55);h({target:"Array",proto:!0},{fill:e}),a("fill")},function(t,i,s){var h=s(10),e=s(31),a=s(16),c=s(11),o=s(21),_=s(4),r=s(50),n=Object.getOwnPropertyDescriptor;i.f=h?n:function(t,i){if(t=c(t),i=o(i,!0),r)try{return n(t,i)}catch(t){}if(_(t,i))return a(!e.f.call(t,i),t[i])}},function(t,i,s){"use strict";var h={}.propertyIsEnumerable,e=Object.getOwnPropertyDescriptor,a=e&&!h.call({1:2},1);i.f=a?function(t){var i=e(this,t);return!!i&&i.enumerable}:h},function(t,i,s){var h=s(1),e=s(6);t.exports=function(t,i){try{e(h,t,i)}catch(s){h[t]=i}return i}},function(t,i){var s=0,h=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++s+h).toString(36))}},function(t,i,s){var h=s(54),e=s(36).concat("length","prototype");i.f=Object.getOwnPropertyNames||function(t){return h(t,e)}},function(t,i,s){var h=s(18),e=Math.max,a=Math.min;t.exports=function(t,i){var s=h(t);return s<0?e(s+i,0):a(s,i)}},function(t,i){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(t,i){i.f=Object.getOwnPropertySymbols},function(t,i,s){var h=s(7),e=s(82),a=s(36),c=s(25),o=s(83),_=s(51),r=s(24)("IE_PROTO"),n=function(){},p=function(){var t,i=_("iframe"),s=a.length;for(i.style.display="none",o.appendChild(i),i.src=String("javascript:"),(t=i.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),p=t.F;s--;)delete p.prototype[a[s]];return p()};t.exports=Object.create||function(t,i){var s;return null!==t?(n.prototype=h(t),s=new n,n.prototype=null,s[r]=t):s=p(),void 0===i?s:e(s,i)},c[r]=!0},function(t,i,s){var h=s(54),e=s(36);t.exports=Object.keys||function(t){return h(t,e)}},function(t,i,s){var h=s(3),e=s(2)("species");t.exports=function(t){return!h(function(){var i=[];return(i.constructor={})[e]=function(){return{foo:1}},1!==i[t](Boolean).foo})}},function(t,i,s){"use strict";var h=s(8),e=s(1),a=s(4),c=s(56),o=s(10),_=s(22),r=s(15),n=s(25),p=s(3),m=s(17),g=s(42),u=s(33),f=s(2),y=s(67),l=s(68),j=s(91),d=s(26),x=s(7),v=s(5),k=s(13),w=s(11),b=s(21),S=s(16),I=s(38),P=s(34),M=s(92),C=s(30),z=s(9),T=s(31),O=s(6),G=s(39),B=s(37),A=s(24),D=s(23),E=A("hidden"),L=D.set,R=D.getterFor("Symbol"),N=C.f,F=z.f,W=M.f,Z=e.Symbol,Y=e.JSON,H=Y&&Y.stringify,q=f("toPrimitive"),K=T.f,$=m("symbol-registry"),V=m("symbols"),J=m("op-symbols"),U=m("wks"),X=Object.prototype,Q=e.QObject,tt=!Q||!Q.prototype||!Q.prototype.findChild,it=o&&p(function(){return 7!=I(F({},"a",{get:function(){return F(this,"a",{value:7}).a}})).a})?function(t,i,s){var h=N(X,i);h&&delete X[i],F(t,i,s),h&&t!==X&&F(X,i,h)}:F,st=function(t,i){var s=V[t]=I(Z.prototype);return L(s,{type:"Symbol",tag:t,description:i}),o||(s.description=i),s},ht=c&&"symbol"==typeof Z.iterator?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof Z},et=function(t,i,s){return t===X&&et(J,i,s),x(t),i=b(i,!0),x(s),a(V,i)?(s.enumerable?(a(t,E)&&t[E][i]&&(t[E][i]=!1),s=I(s,{enumerable:S(0,!1)})):(a(t,E)||F(t,E,S(1,{})),t[E][i]=!0),it(t,i,s)):F(t,i,s)},at=function(t,i){x(t);for(var s,h=j(i=w(i)),e=0,a=h.length;a>e;)et(t,s=h[e++],i[s]);return t},ct=function(t){var i=K.call(this,t=b(t,!0));return!(this===X&&a(V,t)&&!a(J,t))&&(!(i||!a(this,t)||!a(V,t)||a(this,E)&&this[E][t])||i)},ot=function(t,i){if(t=w(t),i=b(i,!0),t!==X||!a(V,i)||a(J,i)){var s=N(t,i);return!s||!a(V,i)||a(t,E)&&t[E][i]||(s.enumerable=!0),s}},_t=function(t){for(var i,s=W(w(t)),h=[],e=0;s.length>e;)a(V,i=s[e++])||a(n,i)||h.push(i);return h},rt=function(t){for(var i,s=t===X,h=W(s?J:w(t)),e=[],c=0;h.length>c;)!a(V,i=h[c++])||s&&!a(X,i)||e.push(V[i]);return e};c||(r((Z=function(){if(this instanceof Z)throw TypeError("Symbol is not a constructor");var t=void 0===arguments[0]?void 0:String(arguments[0]),i=u(t),s=function(t){this===X&&s.call(J,t),a(this,E)&&a(this[E],i)&&(this[E][i]=!1),it(this,i,S(1,t))};return o&&tt&&it(X,i,{configurable:!0,set:s}),st(i,t)}).prototype,"toString",function(){return R(this).tag}),T.f=ct,z.f=et,C.f=ot,P.f=M.f=_t,B.f=rt,o&&(F(Z.prototype,"description",{configurable:!0,get:function(){return R(this).description}}),_||r(X,"propertyIsEnumerable",ct,{unsafe:!0})),y.f=function(t){return st(f(t),t)}),h({global:!0,wrap:!0,forced:!c,sham:!c},{Symbol:Z});for(var nt=G(U),pt=0;nt.length>pt;)l(nt[pt++]);h({target:"Symbol",stat:!0,forced:!c},{for:function(t){return a($,t+="")?$[t]:$[t]=Z(t)},keyFor:function(t){if(!ht(t))throw TypeError(t+" is not a symbol");for(var i in $)if($[i]===t)return i},useSetter:function(){tt=!0},useSimple:function(){tt=!1}}),h({target:"Object",stat:!0,forced:!c,sham:!o},{create:function(t,i){return void 0===i?I(t):at(I(t),i)},defineProperty:et,defineProperties:at,getOwnPropertyDescriptor:ot}),h({target:"Object",stat:!0,forced:!c},{getOwnPropertyNames:_t,getOwnPropertySymbols:rt}),h({target:"Object",stat:!0,forced:p(function(){B.f(1)})},{getOwnPropertySymbols:function(t){return B.f(k(t))}}),Y&&h({target:"JSON",stat:!0,forced:!c||p(function(){var t=Z();return"[null]"!=H([t])||"{}"!=H({a:t})||"{}"!=H(Object(t))})},{stringify:function(t){for(var i,s,h=[t],e=1;arguments.length>e;)h.push(arguments[e++]);if(s=i=h[1],(v(i)||void 0!==t)&&!ht(t))return d(i)||(i=function(t,i){if("function"==typeof s&&(i=s.call(this,t,i)),!ht(i))return i}),h[1]=i,H.apply(Y,h)}}),Z.prototype[q]||O(Z.prototype,q,Z.prototype.valueOf),g(Z,"Symbol"),n[E]=!0},function(t,i,s){var h=s(9).f,e=s(4),a=s(2)("toStringTag");t.exports=function(t,i,s){t&&!e(t=s?t:t.prototype,a)&&h(t,a,{configurable:!0,value:i})}},function(t,i,s){"use strict";var h=s(8),e=s(10),a=s(1),c=s(4),o=s(5),_=s(9).f,r=s(53),n=a.Symbol;if(e&&"function"==typeof n&&(!("description"in n.prototype)||void 0!==n().description)){var p={},m=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),i=this instanceof m?new n(t):void 0===t?n():n(t);return""===t&&(p[i]=!0),i};r(m,n);var g=m.prototype=n.prototype;g.constructor=m;var u=g.toString,f="Symbol(test)"==String(n("test")),y=/^Symbol\((.*)\)[^)]+$/;_(g,"description",{configurable:!0,get:function(){var t=o(this)?this.valueOf():this,i=u.call(t);if(c(p,t))return"";var s=f?i.slice(7,-1):i.replace(y,"$1");return""===s?void 0:s}}),h({global:!0,forced:!0},{Symbol:m})}},function(t,i,s){s(68)("iterator")},function(t,i){t.exports={}},function(t,i,s){var h=s(4),e=s(13),a=s(24),c=s(71),o=a("IE_PROTO"),_=Object.prototype;t.exports=c?Object.getPrototypeOf:function(t){return t=e(t),h(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?_:null}},function(t,i,s){"use strict";var h=s(63),e=s(23),a=s(69),c=e.set,o=e.getterFor("String Iterator");a(String,"String",function(t){c(this,{type:"String Iterator",string:String(t),index:0})},function(){var t,i=o(this),s=i.string,e=i.index;return e>=s.length?{value:void 0,done:!0}:(t=h(s,e,!0),i.index+=t.length,{value:t,done:!1})})},function(t,i,s){var h=s(1),e=s(101),a=s(27),c=s(6),o=s(2),_=o("iterator"),r=o("toStringTag"),n=a.values;for(var p in e){var m=h[p],g=m&&m.prototype;if(g){if(g[_]!==n)try{c(g,_,n)}catch(t){g[_]=n}if(g[r]||c(g,r,p),e[p])for(var u in a)if(g[u]!==a[u])try{c(g,u,a[u])}catch(t){g[u]=a[u]}}}},function(t,i,s){var h=s(3),e=s(20),a="".split;t.exports=h(function(){return!Object("z").propertyIsEnumerable(0)})?function(t){return"String"==e(t)?a.call(t,""):Object(t)}:Object},function(t,i,s){var h=s(10),e=s(3),a=s(51);t.exports=!h&&!e(function(){return 7!=Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a})},function(t,i,s){var h=s(1),e=s(5),a=h.document,c=e(a)&&e(a.createElement);t.exports=function(t){return c?a.createElement(t):{}}},function(t,i,s){var h=s(17);t.exports=h("native-function-to-string",Function.toString)},function(t,i,s){var h=s(4),e=s(78),a=s(30),c=s(9);t.exports=function(t,i){for(var s=e(i),o=c.f,_=a.f,r=0;r<s.length;r++){var n=s[r];h(t,n)||o(t,n,_(i,n))}}},function(t,i,s){var h=s(4),e=s(11),a=s(79),c=s(25),o=a(!1);t.exports=function(t,i){var s,a=e(t),_=0,r=[];for(s in a)!h(c,s)&&h(a,s)&&r.push(s);for(;i.length>_;)h(a,s=i[_++])&&(~o(r,s)||r.push(s));return r}},function(t,i,s){var h=s(2),e=s(38),a=s(6),c=h("unscopables"),o=Array.prototype;null==o[c]&&a(o,c,e(null)),t.exports=function(t){o[c][t]=!0}},function(t,i,s){var h=s(3);t.exports=!!Object.getOwnPropertySymbols&&!h(function(){return!String(Symbol())})},function(t,i,s){"use strict";var h=s(21),e=s(9),a=s(16);t.exports=function(t,i,s){var c=h(i);c in t?e.f(t,c,a(0,s)):t[c]=s}},function(t,i,s){"use strict";var h=s(15),e=s(7),a=s(3),c=s(59),o=/./.toString,_=RegExp.prototype,r=a(function(){return"/a/b"!=o.call({source:"a",flags:"b"})}),n="toString"!=o.name;(r||n)&&h(RegExp.prototype,"toString",function(){var t=e(this),i=String(t.source),s=t.flags;return"/"+i+"/"+String(void 0===s&&t instanceof RegExp&&!("flags"in _)?c.call(t):s)},{unsafe:!0})},function(t,i,s){"use strict";var h=s(7);t.exports=function(){var t=h(this),i="";return t.global&&(i+="g"),t.ignoreCase&&(i+="i"),t.multiline&&(i+="m"),t.unicode&&(i+="u"),t.sticky&&(i+="y"),i}},function(t,i,s){"use strict";var h=s(6),e=s(15),a=s(3),c=s(2),o=s(61),_=c("species"),r=!a(function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}),n=!a(function(){var t=/(?:)/,i=t.exec;t.exec=function(){return i.apply(this,arguments)};var s="ab".split(t);return 2!==s.length||"a"!==s[0]||"b"!==s[1]});t.exports=function(t,i,s,p){var m=c(t),g=!a(function(){var i={};return i[m]=function(){return 7},7!=""[t](i)}),u=g&&!a(function(){var i=!1,s=/a/;return s.exec=function(){return i=!0,null},"split"===t&&(s.constructor={},s.constructor[_]=function(){return s}),s[m](""),!i});if(!g||!u||"replace"===t&&!r||"split"===t&&!n){var f=/./[m],y=s(m,""[t],function(t,i,s,h,e){return i.exec===o?g&&!e?{done:!0,value:f.call(i,s,h)}:{done:!0,value:t.call(s,i,h)}:{done:!1}}),l=y[0],j=y[1];e(String.prototype,t,l),e(RegExp.prototype,m,2==i?function(t,i){return j.call(t,this,i)}:function(t){return j.call(t,this)}),p&&h(RegExp.prototype[m],"sham",!0)}}},function(t,i,s){"use strict";var h,e,a=s(59),c=RegExp.prototype.exec,o=String.prototype.replace,_=c,r=(h=/a/,e=/b*/g,c.call(h,"a"),c.call(e,"a"),0!==h.lastIndex||0!==e.lastIndex),n=void 0!==/()??/.exec("")[1];(r||n)&&(_=function(t){var i,s,h,e,_=this;return n&&(s=new RegExp("^"+_.source+"$(?!\\s)",a.call(_))),r&&(i=_.lastIndex),h=c.call(_,t),r&&h&&(_.lastIndex=_.global?h.index+h[0].length:i),n&&h&&h.length>1&&o.call(h[0],s,function(){for(e=1;e<arguments.length-2;e++)void 0===arguments[e]&&(h[e]=void 0)}),h}),t.exports=_},function(t,i,s){"use strict";var h=s(63);t.exports=function(t,i,s){return i+(s?h(t,i,!0).length:1)}},function(t,i,s){var h=s(18),e=s(14);t.exports=function(t,i,s){var a,c,o=String(e(t)),_=h(i),r=o.length;return _<0||_>=r?s?"":void 0:(a=o.charCodeAt(_))<55296||a>56319||_+1===r||(c=o.charCodeAt(_+1))<56320||c>57343?s?o.charAt(_):a:s?o.slice(_,_+2):c-56320+(a-55296<<10)+65536}},function(t,i,s){var h=s(20),e=s(61);t.exports=function(t,i){var s=t.exec;if("function"==typeof s){var a=s.call(t,i);if("object"!=typeof a)throw TypeError("RegExp exec method returned something other than an Object or null");return a}if("RegExp"!==h(t))throw TypeError("RegExp#exec called on incompatible receiver");return e.call(t,i)}},function(t,i,s){"use strict";var h=s(8),e=s(3),a=s(26),c=s(5),o=s(13),_=s(12),r=s(57),n=s(66),p=s(40),m=s(2)("isConcatSpreadable"),g=!e(function(){var t=[];return t[m]=!1,t.concat()[0]!==t}),u=p("concat"),f=function(t){if(!c(t))return!1;var i=t[m];return void 0!==i?!!i:a(t)};h({target:"Array",proto:!0,forced:!g||!u},{concat:function(t){var i,s,h,e,a,c=o(this),p=n(c,0),m=0;for(i=-1,h=arguments.length;i<h;i++)if(a=-1===i?c:arguments[i],f(a)){if(m+(e=_(a.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(s=0;s<e;s++,m++)s in a&&r(p,m,a[s])}else{if(m>=9007199254740991)throw TypeError("Maximum allowed index exceeded");r(p,m++,a)}return p.length=m,p}})},function(t,i,s){var h=s(5),e=s(26),a=s(2)("species");t.exports=function(t,i){var s;return e(t)&&("function"!=typeof(s=t.constructor)||s!==Array&&!e(s.prototype)?h(s)&&null===(s=s[a])&&(s=void 0):s=void 0),new(void 0===s?Array:s)(0===i?0:i)}},function(t,i,s){i.f=s(2)},function(t,i,s){var h=s(90),e=s(4),a=s(67),c=s(9).f;t.exports=function(t){var i=h.Symbol||(h.Symbol={});e(i,t)||c(i,t,{value:a.f(t)})}},function(t,i,s){"use strict";var h=s(8),e=s(93),a=s(46),c=s(94),o=s(42),_=s(6),r=s(15),n=s(2),p=s(22),m=s(45),g=s(70),u=g.IteratorPrototype,f=g.BUGGY_SAFARI_ITERATORS,y=n("iterator"),l=function(){return this};t.exports=function(t,i,s,n,g,j,d){e(s,i,n);var x,v,k,w=function(t){if(t===g&&M)return M;if(!f&&t in I)return I[t];switch(t){case"keys":case"values":case"entries":return function(){return new s(this,t)}}return function(){return new s(this)}},b=i+" Iterator",S=!1,I=t.prototype,P=I[y]||I["@@iterator"]||g&&I[g],M=!f&&P||w(g),C="Array"==i&&I.entries||P;if(C&&(x=a(C.call(new t)),u!==Object.prototype&&x.next&&(p||a(x)===u||(c?c(x,u):"function"!=typeof x[y]&&_(x,y,l)),o(x,b,!0,!0),p&&(m[b]=l))),"values"==g&&P&&"values"!==P.name&&(S=!0,M=function(){return P.call(this)}),p&&!d||I[y]===M||_(I,y,M),m[i]=M,g)if(v={values:w("values"),keys:j?M:w("keys"),entries:w("entries")},d)for(k in v)!f&&!S&&k in I||r(I,k,v[k]);else h({target:i,proto:!0,forced:f||S},v);return v}},function(t,i,s){"use strict";var h,e,a,c=s(46),o=s(6),_=s(4),r=s(2),n=s(22),p=r("iterator"),m=!1;[].keys&&("next"in(a=[].keys())?(e=c(c(a)))!==Object.prototype&&(h=e):m=!0),null==h&&(h={}),n||_(h,p)||o(h,p,function(){return this}),t.exports={IteratorPrototype:h,BUGGY_SAFARI_ITERATORS:m}},function(t,i,s){var h=s(3);t.exports=!h(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})},function(t,i,s){"use strict";var h=s(0);s(29);function e(t,i){if(2==arguments.length){this._dat=document.createElement("canvas"),this._dat.width=t,this._dat.height=i,this._width=t,this._height=i;var s=this._dat.getContext("2d");s.lineWidth=1.6,s.lineCap="round",s.save()}else this._dat=null,this._width=-1,this._height=-1;this._loaded=!1,this._error=!1,this._g=null}function a(t){t.onerror()}function c(t){this._ctx=t._dat.getContext("2d"),this._ctx&&(this._ctx.restore(),this._ctx.save()),this._color=o.black,this._font=new _(_.DIALOG,_.PLAIN,10)}function o(t,i,s,h){this.r=t>255?255:t<0?0:t,this.g=i>255?255:i<0?0:i,this.b=s>255?255:s<0?0:s,4==arguments.length?this.a=h>255?255:h<0?0:h:this.a=255}function _(t,i,s){this._name=t,this._style=i,this._size=s}function r(t,i){for(var s=0;s<i.length;s++){var h=i[s];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(t,h.key,h)}}e.prototype.load=function(t){this._loaded=!1,this._error=!1,this._width=-1,this._height=-1,this._dat=new Image;var i=this;this._dat.onload=function(){i.onload()},this._dat.onerror=function(){a(i)},this._dat.onabort=function(){a(i)},this._dat.ontimeout=function(){a(i)},this._dat.src=t,this._dat.complete&&this.onload()},e.prototype.onload=function(){this._loaded=!0,this._width=this._dat.naturalWidth,this._height=this._dat.naturalHeight},e.prototype.onerror=function(){this._error=!0,this._dat=null},e.prototype.getGraphics=function(){return this._width<0?null:(this._g=new c(this),this._g)},e.prototype.createGraphics=function(){return this.getGraphics()},c.prototype.drawLine=function(t,i,s,h){return null!=this._ctx&&(this._ctx.beginPath(),this._ctx.moveTo(t,i),this._ctx.lineTo(s,h),this._ctx.stroke(),!0)},c.prototype.drawImage=function(t,i,s,h,e,a,c,o,_,r){if(null==t._dat)return!1;if(null==this._ctx)return!1;try{if(arguments.length<=4)return this._ctx.drawImage(t._dat,i,s),!0;if(arguments.length<=6)return this._ctx.drawImage(t._dat,i,s,h,e),!0;if(arguments.length<=10)return this._ctx.drawImage(t._dat,i,s,h,e,a,c,o,_),!0}catch(t){}return!1},c.prototype.drawRect=function(t,i,s,h){return null!=this._ctx&&(this._ctx.strokeRect(t,i,s,h),!0)},c.prototype.fillRect=function(t,i,s,h){return null!=this._ctx&&(this._ctx.fillRect(t,i,s,h),!0)},c.prototype.drawPolygon=function(t,i,s){if(null==this._ctx)return!1;this._ctx.beginPath(),this._ctx.moveTo(t[0],i[0]);for(var h=1;h<s;h++)this._ctx.lineTo(t[h],i[h]);return this._ctx.closePath(),this._ctx.stroke(),!0},c.prototype.fillPolygon=function(t,i,s){if(null==this._ctx)return!1;this._ctx.beginPath(),this._ctx.moveTo(t[0],i[0]);for(var h=1;h<s;h++)this._ctx.lineTo(t[h],i[h]);return this._ctx.closePath(),this._ctx.fill(),!0},c.prototype.drawOval=function(t,i,s,h){return null!=this._ctx&&(this.drawArc(t,i,s,h,0,2*Math.PI),!0)},c.prototype.fillOval=function(t,i,s,h){return null!=this._ctx&&(this.fillArc(t,i,s,h,0,2*Math.PI),!0)},c.prototype.drawArc=function(t,i,s,h,e,a){if(null==this._ctx)return!1;var c=h/s;return this._ctx.save(),this._ctx.beginPath(),this._ctx.scale(1,c),this._ctx.arc(t+s/2,(i+h/2)/c,s/2,e,e+a,a<0),this._ctx.stroke(),this._ctx.restore(),!0},c.prototype.fillArc=function(t,i,s,h,e,a){if(null==this._ctx)return!1;var c=h/s;return this._ctx.save(),this._ctx.beginPath(),this._ctx.scale(1,c),this._ctx.arc(t+s/2,(i+h/2)/c,s/2,e,e+a,a<0),this._ctx.lineTo(t+s/2,(i+h/2)/c),this._ctx.closePath(),this._ctx.fill(),this._ctx.restore(),!0},c.prototype.setGlobalAlpha=function(t){return null!=this._ctx&&(t<0&&(t=0),t>255&&(t=255),this._ctx.globalAlpha=t/255,!0)},c.prototype.setColor=function(t){if(null==this._ctx)return!1;this._color=new o(t.r,t.g,t.b,t.a);var i="rgba("+t.r+", "+t.g+", "+t.b+", "+t.a/255+")";return this._ctx.strokeStyle=i,this._ctx.fillStyle=i,!0},c.prototype.setFont=function(t){if(null==this._ctx)return!1;var i="";return t._style&_.ITALIC&&(i+="italic "),t._style&_.BOLD&&(i+="bold "),i+="".concat(t._size,"px "),t._name===_.SERIF?i+=_.SERIF_str:t._name===_.SANS_SERIF?i+=_.SANS_SERIF_str:t._name===_.MONOSPACED?i+=_.MONOSPACED_str:t._name===_.DIALOG?i+=_.DIALOG_str:i+='"'.concat(t._name,'"'),this._ctx.font=i,this._font=t,!0},c.prototype.drawString=function(t,i,s){return null!=this._ctx&&(this._ctx.fillText(t,i,s),!0)},c.prototype.translate=function(t,i){return null!=this._ctx&&(this._ctx.translate(t,i),!0)},c.prototype.rotate=function(t,i,s){return null!=this._ctx&&(1==arguments.length?this._ctx.rotate(t):(this._ctx.translate(i,s),this._ctx.rotate(t),this._ctx.translate(-i,-s)),!0)},c.prototype.scale=function(t,i){return null!=this._ctx&&(this._ctx.scale(t,i),!0)},c.prototype.setClip=function(t){if(null==this._ctx)return!1;if("ellipse"==t){var i=arguments[4]/arguments[3];return this._ctx.beginPath(),this._ctx.save(),this._ctx.scale(1,i),this._ctx.arc(arguments[1]+arguments[3]/2,(arguments[2]+arguments[4]/2)/i,arguments[3]/2,0,2*Math.PI,!1),this._ctx.restore(),this._ctx.clip(),!0}if("rect"==t)return this._ctx.beginPath(),this._ctx.rect(arguments[1],arguments[2],arguments[3],arguments[4]),this._ctx.clip(),!0;if("polygon"==t){this._ctx.beginPath(),this._ctx.moveTo(arguments[1][0],arguments[2][0]);for(var s=1;s<arguments[3];s++)this._ctx.lineTo(arguments[1][s],arguments[2][s]);return this._ctx.closePath(),this._ctx.clip(),!0}return!1},c.prototype.copyArea=function(t,i,s,h,e,a){return null!=this._ctx&&(this._ctx.drawImage(this._ctx.canvas,t,i,s,h,t+e,i+a,s,h),!0)},c.prototype.dispose=function(){this._ctx.restore(),this._ctx.save()},o.prototype.getRed=function(){return this.r},o.prototype.getGreen=function(){return this.g},o.prototype.getBlue=function(){return this.b},o.white=new o(255,255,255),o.WHITE=o.white,o.lightGray=new o(192,192,192),o.LIGHT_GRAY=o.lightGray,o.gray=new o(128,128,128),o.GRAY=o.gray,o.darkGray=new o(64,64,64),o.DARK_GRAY=o.darkGray,o.black=new o(0,0,0),o.BLACK=o.black,o.red=new o(255,0,0),o.RED=o.red,o.pink=new o(255,175,175),o.PINK=o.pink,o.orange=new o(255,200,0),o.ORANGE=o.orange,o.yellow=new o(255,255,0),o.YELLOW=o.yellow,o.green=new o(0,255,0),o.GREEN=o.green,o.magenta=new o(255,0,255),o.MAGENTA=o.magenta,o.cyan=new o(0,255,255),o.CYAN=o.cyan,o.blue=new o(0,0,255),o.BLUE=o.blue,_.DIALOG="Dialog",_.DIALOG_INPUT="DialogInput",_.MONOSPACED="Monospaced",_.SANS_SERIF="SansSerif",_.SERIF="Serif",_.PLAIN=0,_.BOLD=1,_.ITALIC=2,_.SERIF_str="'Times New Roman','ＭＳ 明朝',serif",_.SANS_SERIF_str="Arial,'ＭＳ ゴシック',sans-serif",_.MONOSPACED_str="'Courier New',monospace",_.DIALOG_str="'Helvetica','Arial','ＭＳ ゴシック','HG ゴシックB Sun','HG ゴシックB',monospace";var n=function(){function t(i){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.ap=i,this.spt_kazu_x=10,this.spt_kazu_y=25,this.spt_kazu=this.spt_kazu_x*this.spt_kazu_y,this.spt_h_kijyun=3,this.di=new h.a(512,320),this.backcolor=o.black,this.li=new Array(10),this.mt=[],this.os_img=this.ap.createImage(this.di.width,this.di.height),this.os_g=this.os_img.getGraphics(),this.os2_img=this.ap.createImage(this.di.width+96,this.di.height+96),this.os2_g=this.os2_img.getGraphics(),this.spt_img=Object(h.c)(2,this.spt_kazu);var s=this.ap.getParameter("filename_pattern");this.apt_img=this.ap.getImage(s)}var i,s,a;return i=t,(s=[{key:"cut",value:function(){var t,i,s,h;for(i=0;i<=this.spt_kazu_y-1;i++)for(s=0;s<=this.spt_kazu_x-1;s++)t=10*i+s,this.spt_img[0][t]=new e(32,32),(h=this.spt_img[0][t].getGraphics()).drawImage(this.apt_img,32*s,32*i,32,32,0,0,32,32,null),i>=this.spt_h_kijyun?(this.spt_img[1][t]=new e(32,32),(h=this.spt_img[1][t].getGraphics()).scale(-1,1),h.drawImage(this.apt_img,32*s,32*i,32,32,-32,0,32,32,null)):this.spt_img[1][t]=this.spt_img[0][t];this.hi=this.spt_img[0]}},{key:"addListImage",value:function(t,i){this.li[t]=this.ap.getImage(i),this.mt.push(this.li[t])}},{key:"loadImage",value:function(){}},{key:"copyOS",value:function(t){t.drawImage(this.os_img,0,0,this.ap)}},{key:"fill",value:function(){this.os_g.setColor(this.backcolor),this.os_g.fillRect(0,0,this.di.width,this.di.height)}},{key:"fill2",value:function(){this.os2_g.setColor(this.backcolor),this.os2_g.fillRect(0,0,this.di.width+96,this.di.height+96)}},{key:"setBackcolor",value:function(t){this.backcolor=t}},{key:"drawPT",value:function(t,i,s,h){this.os_g.drawImage(this.spt_img[h][s],t,i,this.ap)}},{key:"drawPT2",value:function(t,i,s){this.os2_g.drawImage(this.hi[s],t,i,this.ap)}},{key:"drawBG2",value:function(t,i,s){this.os2_g.setColor(this.backcolor),this.os2_g.fillRect(t,i,32,32),this.os2_g.drawImage(this.hi[s],t,i,this.ap)}},{key:"drawBG3",value:function(t,i,s,h){this.os2_g.setColor(h),this.os2_g.fillRect(t,i,32,32),this.os2_g.drawImage(this.hi[s],t,i,this.ap)}},{key:"drawListImage",value:function(t,i,s){this.os_g.drawImage(this.li[s],t,i,this.ap)}}])&&r(i.prototype,s),a&&r(i,a),t}();function p(){this.key_code=0,this.up_f=!1,this.down_f=!1,this.left_f=!1,this.right_f=!1,this.tr1_f=!1,this.tr2_f=!1,this.tr3_f=!1,this.start_f=!1,this.x_f=!1,this.z_f=!1,this.space_f=!1,this.left_c=0,this.right_c=0,this.up_c=0,this.down_c=0,this.tr1_c=0,this.codekey_f=new Array(256),this.left_right_lock=!1}function m(){this.button_f=!1,this.click_x=0,this.click_y=0,this.init=function(){this.button_f=!1,this.click_x=0,this.click_y=0}}p.prototype.init=function(){this.key_code=0,this.up_f=!1,this.down_f=!1,this.left_f=!1,this.right_f=!1,this.tr1_f=!1,this.tr2_f=!1,this.tr3_f=!1,this.start_f=!1,this.x_f=!1,this.z_f=!1,this.space_f=!1,this.left_c=0,this.right_c=0,this.up_c=0,this.down_c=0,this.tr1_c=0,this.left_right_lock=!1;for(var t=0;t<=255;t++)this.codekey_f[t]=!1},p.prototype.keyPressed=function(t){switch(this.key_code=t.keyCode,this.key_char=t.keyCode,this.key_code>=0&&this.key_code<=255&&(this.codekey_f[this.key_code]=!0),this.key_code){case 38:t.preventDefault(),this.up_f=!0;break;case 40:t.preventDefault(),this.down_f=!0,this.tr2_f=!0;break;case 37:t.preventDefault(),this.left_right_lock||(this.left_f=!0);break;case 39:t.preventDefault(),this.left_right_lock||(this.right_f=!0);break;case 104:t.preventDefault(),this.up_f=!0;break;case 98:t.preventDefault(),this.down_f=!0,this.tr2_f=!0;break;case 100:t.preventDefault(),this.left_right_lock||(this.left_f=!0);break;case 102:t.preventDefault(),this.left_right_lock||(this.right_f=!0);break;case 90:t.preventDefault(),this.tr1_f=!0,this.z_f=!0;break;case 88:t.preventDefault(),this.tr2_f=!0,this.x_f=!0;break;case 67:t.preventDefault(),this.tr3_f=!0;break;case 32:t.preventDefault(),this.tr1_f=!0,this.space_f=!0,this.tr1_c=0;break;case 83:t.preventDefault(),this.start_f=!0}},p.prototype.keyReleased=function(t){var i=t.keyCode;switch(i>=0&&i<=255&&(this.codekey_f[i]=!1),i){case 38:this.up_f=!1;break;case 40:this.down_f=!1,this.tr2_f=!1;break;case 37:this.left_right_lock||(this.left_f=!1,this.left_c=0);break;case 39:this.left_right_lock||(this.right_f=!1,this.right_c=0);break;case 104:this.up_f=!1;break;case 98:this.down_f=!1,this.tr2_f=!1;break;case 100:this.left_right_lock||(this.left_f=!1,this.left_c=0);break;case 102:this.left_right_lock||(this.right_f=!1,this.right_c=0);break;case 90:this.tr1_f=!1,this.z_f=!1,this.tr1_c=0;break;case 88:this.tr2_f=!1,this.x_f=!1;break;case 67:this.tr3_f=!1;break;case 32:this.tr1_f=!1,this.space_f=!1,this.tr1_c=0;break;case 83:this.start_f=!1}},p.prototype.getKeyCode=function(){return this.key_code},m.prototype.mousePressed=function(t){var i=t.target,s=i.getBoundingClientRect();this.button_f=!0,this.click_x=(t.clientX-s.left)/s.width*i.width,this.click_y=(t.clientY-s.top)/s.height*i.height},m.prototype.mouseReleased=function(t){this.button_f=!1};s(65),s(19),s(58);function g(){this.c=0,this.x=0,this.y=0,this.vx=0,this.vy=0,this.wx=0,this.wy=0,this.c1=0,this.c2=0,this.c3=0,this.c4=0,this.c5=0,this.pt=0,this.pth=0,this.img=null,this.zs_x=0,this.zs_y=0,this.ac=0,this.level=0,this.jimen_f=!1,this.muki=0,this.direction=0,this.score=0,this.ss=0,this.gf=!1}g.prototype.init=function(){this.c=0,this.x=0,this.y=0,this.vx=0,this.vy=0,this.wx=0,this.wy=0,this.c1=0,this.c2=0,this.c3=0,this.c4=0,this.c5=0,this.pt=0,this.pth=0,this.img=null,this.zs_x=0,this.zs_y=0,this.ac=0,this.level=0,this.jimen_f=!1,this.muki=0,this.direction=0,this.score=0,this.ss=0,this.gf=!1},g.prototype.setPattern=function(t){};s(41),s(43),s(44),s(27),s(96),s(100),s(47),s(48);function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function f(t,i){return function(t){if(Array.isArray(t))return t}(t)||function(t,i){var s=[],h=!0,e=!1,a=void 0;try{for(var c,o=t[Symbol.iterator]();!(h=(c=o.next()).done)&&(s.push(c.value),!i||s.length!==i);h=!0);}catch(t){e=!0,a=t}finally{try{h||null==o.return||o.return()}finally{if(e)throw a}}return s}(t,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function y(t,i){for(var s=0;s<i.length;s++){var h=i[s];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(t,h.key,h)}}function l(t,i){return!i||"object"!==u(i)&&"function"!=typeof i?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):i}function j(t){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function d(t,i){return(d=Object.setPrototypeOf||function(t,i){return t.__proto__=i,t})(t,i)}var x=function(t){return(t%360+360)%360},v=function(t,i){if(t.length!==i.length)throw new Error("The given arrays do not have the same length.");return t.map(function(t,s){return[t,i[s]]})},k=function(t){function i(){return function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,i),l(this,j(i).apply(this,arguments))}var s,e,a;return function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),i&&d(t,i)}(i,g),s=i,(e=[{key:"update",value:function(t){this.x>=t.maps.wx+1024||(this.move(t),this.checkCollision(t))}},{key:"move",value:function(t){var i=t.sl_wx+96,s=t.sl_wx+512-96-32;switch(this.c){case 40:this.c1<20&&this.c1++,15===this.c1&&t.mSet(t.maps.wx+256,t.maps.wy+128,2200),this.pt=0;break;case 60:this.updateDamage(t,150),this.pt=1010;break;case 65:this.updateDamage(t,155),this.pt=1015;break;case 67:this.dyingByGrenade(t),1===this.muki?this.pt=1005:this.pt=1e3;break;case 70:this.updateDamage(t,250),this.pt=1110;break;case 75:this.updateDamage(t,255),this.pt=1115;break;case 77:this.dyingByGrenade(t),1===this.muki?this.pt=1105:this.pt=1100;break;case 80:this.updateDamage(t,350),this.pt=1210;break;case 85:this.updateDamage(t,355),this.pt=1215;break;case 87:this.dyingByGrenade(t),1===this.muki?this.pt=1205:this.pt=1200;break;case 100:2!==t.sl_step&&3!==t.sl_step||(this.c=110,this.c1=0),this.pt=1e3;break;case 110:this.boss1Attack(t,0),this.pt=1e3;break;case 115:this.boss1Attack(t,1),this.pt=1005;break;case 150:this.x-=14,this.x<=i&&(this.x=i,this.c=115,this.c1=0),this.pt=1e3;break;case 155:this.x+=14,this.x>=s&&(this.x=s,this.c=110,this.c1=0),this.pt=1005;break;case 200:2!==t.sl_step&&3!==t.sl_step||(this.c=210,this.c1=0),this.pt=1100;break;case 210:this.boss2Attack(t,0),this.pt=1100;break;case 215:this.boss2Attack(t,1),this.pt=1105;break;case 250:this.x-=14,this.x<=i&&(this.x=i,this.c=215,this.c1=0),this.pt=1100;break;case 255:this.x+=14,this.x>=s&&(this.x=s,this.c=210,this.c1=0),this.pt=1105;break;case 300:2!==t.sl_step&&3!==t.sl_step||(t.boss3_type>=2&&t.boss3_type<=4?(this.c=360,this.vy=-24):this.c=310,this.c1=0),this.pt=1200;break;case 310:this.boss3Attack(t,0),this.pt=1200;break;case 315:this.boss3Attack(t,1),this.pt=1205;break;case 350:this.x-=14,this.x<=i&&(this.x=i,t.boss3_type>=2&&t.boss3_type<=4?(this.c=365,this.vy=-24):this.c=315,this.c1=0),this.pt=1200;break;case 355:this.x+=14,this.x>=s&&(this.x=s,t.boss3_type>=2&&t.boss3_type<=4?(this.c=360,this.vy=-24):this.c=310,this.c1=0),this.pt=1205;break;case 360:this.pt=1200,this.c1>=5&&this.c1<=25?this.pt=1250:30===this.c1&&(this.pt=1255),this.boss3TackleAttack(t,0);break;case 365:this.pt=1205,this.c1>=5&&this.c1<=25?this.pt=1255:30===this.c1&&(this.pt=1250),this.boss3TackleAttack(t,1)}}},{key:"checkCollision",value:function(t){var i=t.co_j;i.c>=100&&i.c<200&&this.c>=100&&Math.abs(this.x-i.x)<42&&i.y>this.y-20&&i.y<this.y+40&&(Math.abs(this.x-i.x)<34&&i.vy>0&&this.isFumuable(t)?(this.fumu(t),i.y=this.y,i.vy=-320,t.j_jump_type=1,i.c=110,i.c1=-4,i.pt=109):t.jShinu(2));if(t.jm_kazu>0&&this.c>=100)for(var s=0;s<=1;s++){var h=t.co_jm[s];h.c<100||Math.abs(this.x-h.x)<34&&Math.abs(this.y-h.y)<30&&(200===h.c?this.hitWithGrenade(t,h):(h.c=0,t.jm_kazu--))}}},{key:"boss1Attack",value:function(t,i){var s=1===i?-1:1;if(this.c1++,2===t.boss_type){var h=!0,e=!1,a=void 0;try{for(var c,o=v([1,5,7,9,21,91,95,97,99,111,170,180],[-2,-4,-6,-8,-2,-2,-4,-6,-8,-2,-4,-2])[Symbol.iterator]();!(h=(c=o.next()).done);h=!0){var _=f(c.value,2),r=_[0],n=_[1];if(this.c1===r){t.tSetBoss(this.x,this.y,150,n*s);break}}}catch(t){e=!0,a=t}finally{try{h||null==o.return||o.return()}finally{if(e)throw a}}this.c1>250&&(this.c1=250)}else if(3===t.boss_type){for(var p=0,m=[5,20,35,50,65,80,95,110];p<m.length;p++){r=m[p];if(this.c1===r){t.tSetBoss(this.x,this.y,450,-3*s);break}}this.c1>250&&(this.c1=250)}else if(4===t.boss_type){var g=!0,u=!1,y=void 0;try{for(var l,j=v([1,15,29,81,95,109,165],[-5,-3,-2,-5,-3,-2,-3])[Symbol.iterator]();!(g=(l=j.next()).done);g=!0){var d=f(l.value,2),x=d[0];n=d[1];if(this.c1===x){t.tSetBoss(this.x,this.y,650,n*s);break}}}catch(t){u=!0,y=t}finally{try{g||null==j.return||j.return()}finally{if(u)throw y}}this.c1>250&&(this.c1=250)}else{if(3===this.c1)t.mSet2(this.x,this.y,500,-4,-18),t.mSet2(this.x,this.y,500,4,-18);else if(14===this.c1)t.mSet2(this.x,this.y,500,-6,-20),t.mSet2(this.x,this.y,500,6,-20);else if(20===this.c1)t.mSet2(this.x,this.y,500,-3,-24),t.mSet2(this.x,this.y,500,3,-24);else if(this.c1>=28&&this.c1<=98)this.c1%7==0&&t.mSet2(this.x,this.y,500,(-15+t.ranInt(20))*s,-30);else if(130===this.c1){var k=t.ranInt(8)+3;t.mSet2(this.x,this.y,500,k,-30),t.mSet2(this.x,this.y,500,-k,-30)}this.c1>=150&&(this.c1=98)}}},{key:"boss2Attack",value:function(t,i){this.c1++,2===t.boss2_type?(10===this.c1||85===this.c1||215===this.c1?this.boss2BubbleBeam(t,0):35===this.c1||110===this.c1||295===this.c1?this.boss2BubbleBeam(t,15):60!==this.c1&&135!==this.c1&&375!==this.c1||this.boss2BubbleBeam(t,30),this.c1>445&&(this.c1=0)):(5!==this.c1&&35!==this.c1&&65!==this.c1&&110!==this.c1&&185!==this.c1||t.mSet(this.x,this.y,90),this.c1>185&&(this.c1=110))}},{key:"boss2BubbleBeam",value:function(t,i){for(var s=0;s<8;s++){var e=3.14*x(45*s+i)/180,a=Object(h.d)(8*Math.cos(e),!0,t),c=-Object(h.d)(8*Math.sin(e),!0,t);t.mSet2(this.x,this.y-8,710,a,c)}}},{key:"boss3Attack",value:function(t,i){var s=1===i?-1:1;this.c1++;var h=!0,e=!1,a=void 0;try{for(var c,o=v([1,15,29,65,80,105,147,520,530],[-5,-10,-15,-20,-5,-15,-10,4,-5])[Symbol.iterator]();!(h=(c=o.next()).done);h=!0){var _=f(c.value,2),r=_[0],n=_[1];if(this.c1===r){t.mSet2(this.x,this.y,800,n*s,-32);break}}}catch(t){e=!0,a=t}finally{try{h||null==o.return||o.return()}finally{if(e)throw a}}15===this.c1?(1!==i&&t.co_j.x>this.x-64&&(this.c1=500),1===i&&t.co_j.x<this.x+64&&(this.c1=500)):237===this.c1?this.c1=0:this.c1>=530&&(this.c1=1)}},{key:"boss3TackleAttack",value:function(t,i){var s=this,h=1===i?-1:1,e=t.sl_wx+16,a=t.sl_wx+16+512-64,c=t.sl_wx+96,o=t.sl_wx+512-96-32,_=3===t.boss3_type,r=4===t.boss3_type,n=function(t,i,h,e,a){t<=0&&s.x<=i?(e&&(s.x=i),s.c1=a):t>=0&&s.x>=h&&(e&&(s.x=h),s.c1=a)};if(this.c1<25)this.c1++;else if(25===this.c1||30===this.c1){var p=25===this.c1,m=p?30:40;if(r){var g=(p?-3:4)*h;this.x+=g,this.vy<24&&(this.vy=Math.min(this.vy+2,24)),this.y+=this.vy,this.y>=t.boss_kijyun_y&&(this.y=t.boss_kijyun_y,this.vy=-24,n(g,e,a,!1,m))}else{var u=0;u=p?_?-18:-12:_?18:8,u*=h,this.x+=u,n(u,e,a,!0,m)}}else if(40===this.c1){var f=-2*h;this.x+=f,n(f,o,c,!0,-20)}}},{key:"updateDamage",value:function(t,i){this.c1++,this.c4<=0?this.c1>=26&&(this.c=40,this.c1=0,t.addScore(10)):this.c1>=11&&(this.c=i)}},{key:"dyingByGrenade",value:function(t){this.vy+=4,this.vy>28&&(this.vy=28),this.x+=this.vx,this.y+=this.vy,this.y>=t.maps.wy+320+16&&(this.c=40,this.c1=0,t.addScore(10))}},{key:"isFumuable",value:function(t){return!(1250===this.pt||1255===this.pt)}},{key:"fumu",value:function(t){this.c4--,this.c1=0;var i=1===this.c4?1:0;switch(this.getBossNumber()){case 1:this.c=i?65:60,this.pt=i?1015:1010;break;case 2:this.c=i?75:70,this.pt=i?1115:1110;break;case 3:this.c=i?85:80,this.pt=i?1215:1210}}},{key:"hitWithGrenade",value:function(t,i){200===i.c&&(this.c<100||(i.c=50,i.c1=1,i.c2=20,1!==t.grenade_type&&5!==t.grenade_type||this.killGrenade(t,i.vx<0?1:0)))}},{key:"killGrenade",value:function(t,i){switch(this.vy=-24,this.c1=0,this.muki=i,this.vx=this.muki?-4:4,this.getBossNumber()){case 1:this.c=67,this.pt=this.muki?1005:1e3;break;case 2:this.c=77,this.pt=this.muki?1105:1100;break;case 3:this.c=87,this.pt=this.muki?1205:1200}}},{key:"getBossNumber",value:function(){return this.c>=60&&this.c<70?1:this.c>=100&&this.c<200?1:this.c>=70&&this.c<80?2:this.c>=200&&this.c<300?2:this.c>=80&&this.c<90?3:this.c>=300&&this.c<400?3:-1}}])&&y(s.prototype,e),a&&y(s,a),i}();function w(t,i,s,e){this.gg=t,this.gk=i,this.km=s,this.mp=e,this.co_j=new g,this.map_string=new Array(9),this.map_bg=Object(h.c)(15,9),this.stage_c=new Array(10),this.stage_x=new Array(10),this.stage_y=new Array(10),this.stage_cf=new Array(10),this.ie_c=new Array(16),this.ie_x=new Array(16),this.ie_y=new Array(16),this.zure_x=16,this.zure_y=24,this.mp_mode=0,this.cc_p1_x=new Array(17),this.cc_p1_y=new Array(17),this.cc_p2_x=new Array(17),this.cc_p2_y=new Array(17),this.cc_p1_x[13]=-200,this.cc_p1_y[13]=160,this.cc_p1_x[14]=-200,this.cc_p1_y[14]=520,this.cc_p1_x[15]=712,this.cc_p1_y[15]=520,this.cc_p1_x[16]=712,this.cc_p1_y[16]=160,this.cc_p2_x[13]=712,this.cc_p2_y[13]=160,this.cc_p2_x[14]=712,this.cc_p2_y[14]=-200,this.cc_p2_x[15]=-200,this.cc_p2_y[15]=-200,this.cc_p2_x[16]=-200,this.cc_p2_y[16]=160}function b(t,i,s){this.gg=t,this.gk=i,this.name_crys=s,this.hi=this.gg.spt_img[0],this.hih=this.gg.spt_img,this.hg=this.gg.os_g,this.ap=this.gg.ap,this.c=new Array(16),this.x=new Array(16),this.y=new Array(16),this.width=new Array(16),this.selectedIndex=new Array(16),this.item_kazu=new Array(16),this.message=new Array(16),this.item=Object(h.c)(16,16),this.item_int=Object(h.c)(16,16),this.item_color=new Array(16),this.list_IDlist=new Array(16),this.aw=-1,this.mode=0,this.kettei_c=0,this.cancel_c=0,this.initAll()}w.prototype.worldInit=function(){for(var t=0;t<=9;t++)this.stage_c[t]=0,this.stage_cf[t]=!1;this.stage_kcID=0,this.door_koID=0,this.dokan_khID=0,this.door_score_open=0;for(t=0;t<=15;t++)this.ie_c[t]=0;this.co_j.x=0,this.co_j.y=0,this.co_j.vx=0,this.co_j.vy=0,this.co_j.muki=1,this.co_j.ac=0,this.mp.tr1_c=2,this.shop_kattaitem=-1,this.mp_mode=0,this.km.initAll(),this.km.mode=100;for(t=0;t<=8;t++){var i=this.gg.ap.getParameter("chizu-"+t);i+="...............",this.map_string[t]=i}for(t=0;t<=8;t++)for(var s=0;s<=14;s++){var h=this.map_string[t].charAt(s);"A"==h?(this.co_j.x=32*s,this.co_j.y=32*t,this.map_bg[s][t]=220):"B"==h?(this.map_bg[s][t]=216,this.ie_c[3]=100,this.ie_x[3]=32*s,this.ie_y[3]=32*t):"C"==h?(this.map_bg[s][t]=217,this.ie_c[4]=100,this.ie_x[4]=32*s,this.ie_y[4]=32*t):"D"==h?(this.map_bg[s][t]=218,this.ie_c[10]=100,this.ie_x[10]=32*s,this.ie_y[10]=32*t):"E"==h?(this.map_bg[s][t]=219,this.ie_c[11]=100,this.ie_x[11]=32*s,this.ie_y[11]=32*t):"a"==h?0==this.stage_c[0]?(this.map_bg[s][t]=223,this.stage_c[0]=100,this.stage_x[0]=32*s,this.stage_y[0]=32*t):this.map_bg[s][t]=220:"b"==h?0==this.stage_c[1]?(this.map_bg[s][t]=224,this.stage_c[1]=100,this.stage_x[1]=32*s,this.stage_y[1]=32*t):this.map_bg[s][t]=220:"c"==h?0==this.stage_c[2]?(this.map_bg[s][t]=225,this.stage_c[2]=100,this.stage_x[2]=32*s,this.stage_y[2]=32*t):this.map_bg[s][t]=220:"d"==h?0==this.stage_c[3]?(this.map_bg[s][t]=226,this.stage_c[3]=100,this.stage_x[3]=32*s,this.stage_y[3]=32*t):this.map_bg[s][t]=220:"e"==h?(this.map_bg[s][t]=213,this.ie_c[0]=100,this.ie_x[0]=32*s,this.ie_y[0]=32*t):"f"==h?(this.map_bg[s][t]=214,this.ie_c[1]=100,this.ie_x[1]=32*s,this.ie_y[1]=32*t):"g"==h?(this.map_bg[s][t]=215,this.ie_c[2]=100,this.ie_x[2]=32*s,this.ie_y[2]=32*t):"h"==h?(this.map_bg[s][t]=212,this.ie_c[9]=100,this.ie_x[9]=32*s,this.ie_y[9]=32*t):"i"==h?(this.map_bg[s][t]=206,this.ie_c[5]=100,this.ie_x[5]=32*s,this.ie_y[5]=32*t):"j"==h?(this.map_bg[s][t]=207,this.ie_c[6]=100,this.ie_x[6]=32*s,this.ie_y[6]=32*t):"k"==h?(this.map_bg[s][t]=208,this.ie_c[7]=100,this.ie_x[7]=32*s,this.ie_y[7]=32*t):"l"==h?(this.map_bg[s][t]=209,this.ie_c[8]=100,this.ie_x[8]=32*s,this.ie_y[8]=32*t):this.map_bg[s][t]="1"==h?220:"2"==h?221:"3"==h?222:0}this.co_j.x+16>256&&(this.co_j.muki=0),this.drawOs2()},w.prototype.worldInit2=function(){this.co_j.vx=0,this.co_j.vy=0,this.co_j.muki=1,this.co_j.ac=0,this.mp.tr1_c=2,this.mp_mode=200,this.cc_hankei=12,this.stage_kcID=0,this.door_koID=0,this.shop_kattaitem=-1,this.door_score_open=0,100==this.ie_c[9]&&this.mp.score>=this.mp.door_score&&(this.ie_c[9]=50,this.door_score_open=1),this.km.initAll(),this.km.mode=100,this.drawOs2()},w.prototype.worldInit3=function(){this.stage_kcID=this.checkStage(),this.stage_cf[this.stage_kcID-1]=!0,this.stage_c[this.stage_kcID-1]=50;for(var t=0,i=0;i<=2;i++)this.stage_cf[i]&&t++;this.door_koID=0,t>=1&&100==this.ie_c[t-1]&&(this.ie_c[t-1]=50,this.door_koID=t),this.door_score_open=0,100==this.ie_c[9]&&this.mp.score>=this.mp.door_score&&(this.ie_c[9]=50,this.door_score_open=1),this.co_j.vx=0,this.co_j.vy=0,this.co_j.muki=1,this.co_j.ac=0,this.mp.tr1_c=2,this.co_j.pt=0,this.shop_kattaitem=-1,this.mp_mode=200,this.cc_hankei=12,this.km.initAll(),this.km.mode=100,this.drawOs2()},w.prototype.drawOs2=function(){this.gg.setBackcolor(new o(0,127,0)),this.gg.fill2(),this.gg.os2_g.drawImage(this.gg.li[3],0,0,this.gg.ap);for(var t=0;t<=8;t++)for(var i=0;i<=14;i++){221==(s=this.map_bg[i][t])?(this.gg.drawPT2(32*i+16,32*t+24-16,221),this.gg.drawPT2(32*i+16,32*t+24+16,221)):222==s&&(this.gg.drawPT2(32*i+16-16,32*t+24,222),this.gg.drawPT2(32*i+16+16,32*t+24,222))}for(t=0;t<=8;t++)for(i=0;i<=14;i++){var s;61!=(s=this.map_bg[i][t])&&62!=s&&256!=s&&(s>=216&&s<=219?this.gg.drawPT2(32*i+16,32*t+24-7,s):s>=206&&s<=209?this.gg.drawPT2(32*i+16,32*t+24-7,s):s>=212&&s<=215?(this.gg.drawPT2(32*i+16-16,32*t+24,222),this.gg.drawPT2(32*i+16+16,32*t+24,222),this.gg.drawPT2(32*i+16,32*t+24-7,s)):this.gg.drawPT2(32*i+16,32*t+24,s))}},w.prototype.drawMap=function(){this.gg.os_g.drawImage(this.gg.os2_img,0,0,this.gg.ap)},w.prototype.getBGZ=function(t,i){if(t<0||t>479||i<0||i>287)return 0;var s=t>>5,h=i>>5;return this.map_bg[s][h]},w.prototype.checkStage=function(){for(var t=-1,i=0;i<=9;i++)if(100==this.stage_c[i]&&this.co_j.x==this.stage_x[i]&&this.co_j.y==this.stage_y[i]){t=i+1;break}return t},w.prototype.mainProgram=function(){if(this.gk.tr1_f?this.mp.tr1_c<2&&(this.mp.tr1_c+=1):this.mp.tr1_c=0,0==this.mp_mode){if(100==this.km.mode)this.jMove();else if(200==this.km.mode)1==this.km.cancel_c?(this.km.off(3),this.km.off(4),this.km.mode=100):1==this.km.kettei_c&&(this.km.init1(3),this.km.setMessage(3,this.mp.mes1_name),this.mp.addSerifu(3,2,3),this.km.activeSerifu(3,120,150,272,o.cyan),this.km.mode=210);else if(210==this.km.mode)1!=this.km.cancel_c&&1!=this.km.kettei_c||(this.km.off(3),this.km.off(4),this.km.mode=100);else if(300==this.km.mode)1==this.km.cancel_c?(this.km.off(3),this.km.off(4),this.km.mode=100):1==this.km.kettei_c&&(this.km.init1(3),this.km.setMessage(3,this.mp.mes2_name),this.mp.addSerifu(3,4,3),this.km.activeSerifu(3,120,150,272,o.cyan),this.km.mode=210);else if(400==this.km.mode){if(1==this.km.cancel_c)this.km.off(3),this.km.off(4),this.km.mode=100;else if(1==this.km.kettei_c){this.km.off(3),this.km.list_kazu=0,this.km.init1(6),this.km.setMessage(6,this.gg.ap.getParameter("shop_serifu1"));for(var t=0;t<=8;t++)this.mp.shop_item_teika[t]>0&&(this.km.addItem2(6,this.mp.shop_item_name[t],this.mp.shop_item_teika[t]),this.km.list_IDlist[this.km.list_kazu]=t,this.km.list_kazu+=1);this.km.list_kazu>=1?(this.km.activeKaimono(6,296,76,184),this.km.mode=410):(this.km.init1(6),this.km.init1(3),this.km.setMessage(3,"Error"),this.km.addItem(3,"Please set any item on shop menu."),this.km.activeSerifu(3,120,150,216,o.red),this.km.mode=210)}}else 410==this.km.mode?1==this.km.cancel_c?(this.km.off(4),this.km.off(6),this.km.mode=100):1==this.km.kettei_c&&(this.km.list_s=this.km.list_IDlist[this.km.selectedIndex[6]],this.km.init1(7),this.km.setMessage(7,this.mp.shop_item_name[this.km.list_s]+this.gg.ap.getParameter("shop_serifu2")),this.km.addItem(7,this.gg.ap.getParameter("shop_serifu3")),this.km.addItem(7,this.gg.ap.getParameter("shop_serifu4")),this.km.activeSerifutuki(7,48,150,236,this.mp.shop_name),this.km.mode=420):420==this.km.mode?1==this.km.cancel_c?(this.km.offActivewindow(7,6),this.km.mode=410):1==this.km.kettei_c&&(0==this.km.selectedIndex[7]?this.mp.score>=this.mp.shop_item_teika[this.km.list_s]?(this.km.init1(3),this.km.addItem(3,this.mp.shop_item_name[this.km.list_s]+this.gg.ap.getParameter("shop_serifu5")),this.km.activeIchigyou(3,48,240,236),this.mp.score-=this.mp.shop_item_teika[this.km.list_s],this.shop_kattaitem=this.km.list_s,7==this.shop_kattaitem&&(this.mp.j_left+=1),this.km.mode=430):(this.km.init1(3),this.km.addItem(3,this.gg.ap.getParameter("shop_serifu6")),this.km.activeIchigyou(3,48,240,236),this.km.mode=430):(this.km.off(4),this.km.off(6),this.km.off(7),this.km.mode=100)):430==this.km.mode?1!=this.km.cancel_c&&1!=this.km.kettei_c||(this.km.off(3),this.km.off(4),this.km.off(6),this.km.off(7),this.km.mode=100):500==this.km.mode?1==this.km.cancel_c?(this.km.off(4),this.km.off(3),this.km.mode=100):1==this.km.kettei_c&&(this.km.off(3),this.km.init1(2),this.km.setMessage(2,this.gg.ap.getParameter("setumei_menu1")),this.km.addItem(2,this.gg.ap.getParameter("setumei_menu2")),this.km.addItem(2,this.gg.ap.getParameter("setumei_menu3")),this.km.addItem(2,this.gg.ap.getParameter("setumei_menu4")),this.km.activeSerifutuki(2,120,150,224,this.mp.setumei_name),this.km.mode=510):510==this.km.mode?1==this.km.cancel_c?(this.km.off(2),this.km.off(4),this.km.mode=100):1==this.km.kettei_c&&(this.km.init1(3),this.km.setMessage(3,this.mp.setumei_name),1==this.km.selectedIndex[2]?this.mp.addSerifu(3,11,3):2==this.km.selectedIndex[2]?this.mp.addSerifu(3,12,3):this.mp.addSerifu(3,10,3),this.km.activeSerifu(3,200,191,272,o.cyan),this.km.mode=520):520==this.km.mode&&(1==this.km.cancel_c?(this.km.offActivewindow(3,2),this.km.mode=510):1==this.km.kettei_c&&(this.km.off(2),this.km.off(3),this.km.off(4),this.km.mode=100));this.km.move()}if(1e3==this.co_j.pt?this.gg.drawPT(this.co_j.x+16,this.co_j.y+24-12-6,100,this.co_j.muki):1010==this.co_j.pt?this.gg.drawPT(this.co_j.x+16,this.co_j.y+24-12+5,100,this.co_j.muki):this.co_j.pt>=202&&this.co_j.pt<=205?this.gg.drawPT(this.co_j.x+16,this.co_j.y+24-12,this.co_j.pt,0):this.gg.drawPT(this.co_j.x+16,this.co_j.y+24-12,this.co_j.pt,this.co_j.muki),this.km.drawMenus(),100==this.mp_mode)this.circleCLS(this.cc_hankei),this.cc_hankei-=12,this.cc_hankei<0&&(this.cc_hankei=0,this.mp_mode=110);else if(110==this.mp_mode)this.circleCLS(this.cc_hankei);else if(200==this.mp_mode){if(this.circleCLS(this.cc_hankei),this.cc_hankei+=12,this.cc_hankei>312)if(this.stage_kcID>=1){this.mp_mode=300,this.cc_hankei=0;var i=this.stage_y[this.stage_kcID-1]>>5;this.map_bg[this.stage_x[this.stage_kcID-1]>>5][i]=227,this.door_koID>=1&&(this.map_bg[this.ie_x[this.door_koID-1]>>5][this.ie_y[this.door_koID-1]>>5]=222),1==this.door_score_open&&(this.map_bg[this.ie_x[9]>>5][this.ie_y[9]>>5]=222),this.drawOs2()}else this.mp_mode=0,1==this.door_score_open&&(this.mp_mode=400,this.cc_hankei=0,this.map_bg[this.ie_x[9]>>5][this.ie_y[9]>>5]=222,this.drawOs2())}else if(300==this.mp_mode){var s;this.cc_hankei+=1,this.cc_hankei<=3?s=0:this.cc_hankei<=6?s=1:this.cc_hankei<=9?s=0:this.cc_hankei<=12?s=1:this.cc_hankei<=15?s=0:this.cc_hankei<=18?s=1:this.cc_hankei<=21?s=0:this.cc_hankei<=24?s=1:this.cc_hankei<=26?s=0:(s=0,this.mp_mode=0),s>0&&this.gg.drawPT(this.stage_x[this.stage_kcID-1]+16,this.stage_y[this.stage_kcID-1]+24,222+this.stage_kcID,0),s>0&&this.door_koID>=1&&this.gg.drawPT(this.ie_x[this.door_koID-1]+16,this.ie_y[this.door_koID-1]+24-7,212+this.door_koID,0),s>0&&1==this.door_score_open&&this.gg.drawPT(this.ie_x[9]+16,this.ie_y[9]+24-7,212,0)}else if(400==this.mp_mode){var h;this.cc_hankei+=1,this.cc_hankei<=3?h=0:this.cc_hankei<=6?h=1:this.cc_hankei<=9?h=0:this.cc_hankei<=12?h=1:this.cc_hankei<=15?h=0:this.cc_hankei<=18?h=1:this.cc_hankei<=21?h=0:this.cc_hankei<=24?h=1:this.cc_hankei<=26?h=0:(h=0,this.mp_mode=0),h>0&&this.gg.drawPT(this.ie_x[9]+16,this.ie_y[9]+24-7,212,0)}},w.prototype.jMove=function(){var t=this.co_j.x,i=this.co_j.y;if(this.co_j.pt=100,0==this.co_j.vx&&0==this.co_j.vy){if(this.co_j.ac+=1,this.co_j.ac>7&&(this.co_j.ac=0),this.co_j.ac>3)this.co_j.pt=1e3,((a=this.getBGZ(t,i))>=216&&a<=219||a>=206&&a<=209)&&(this.co_j.pt=1010);if(1==this.mp.tr1_c)if(this.checkStage()>=1)this.mp_mode=100,this.cc_hankei=312,this.co_j.ac=0,this.dokan_khID=0,this.co_j.pt=100;else if(this.getBGZ(t,i)>=206&&this.getBGZ(t,i)<=209)if(2==this.mp.dokan_mode)for(var s=!1,h=0;h<=8;h++){for(var e=0;e<=14;e++)if((32*e!=t||32*h!=i)&&this.map_bg[e][h]==this.getBGZ(t,i)){t=32*e,i=32*h,this.co_j.ac=0,this.co_j.pt=1010,s=!0;break}if(s)break}else this.mp_mode=100,this.cc_hankei=312,this.co_j.ac=0,this.dokan_khID=this.getBGZ(t,i)-205,this.co_j.pt=1010;else 216==this.getBGZ(t,i)?(this.km.init1(4),this.km.onKao(4,120,42,272,230),this.km.init1(3),this.km.setMessage(3,this.mp.mes1_name),this.mp.addSerifu(3,1,3),this.km.activeSerifu(3,120,150,272,o.cyan),this.km.mode=200,this.co_j.pt=1010,this.co_j.ac=0):217==this.getBGZ(t,i)?(this.km.init1(4),this.km.onKao(4,120,42,272,232),this.km.init1(3),this.km.setMessage(3,this.mp.mes2_name),this.mp.addSerifu(3,3,3),this.km.activeSerifu(3,120,150,272,o.cyan),this.km.mode=300,this.co_j.pt=1010,this.co_j.ac=0):218==this.getBGZ(t,i)?(this.km.init1(4),this.km.onKao(4,120,42,216,234),this.shop_kattaitem<0?(this.km.init1(3),this.km.setMessage(3,this.mp.shop_name),this.mp.addSerifu(3,5,3),this.km.activeSerifu(3,120,150,216,o.cyan),this.km.mode=400):(this.km.init1(3),this.km.setMessage(3,this.mp.shop_name),this.mp.addSerifu(3,8,3),this.km.activeSerifu(3,120,150,216,o.cyan),this.km.mode=210),this.co_j.pt=1010,this.co_j.ac=0):219==this.getBGZ(t,i)&&(this.km.init1(4),this.km.onKao(4,120,42,272,236),this.km.init1(3),this.km.setMessage(3,this.mp.setumei_name),this.mp.addSerifu(3,9,3),this.km.activeSerifu(3,120,150,272,o.cyan),this.km.mode=500,this.co_j.pt=1010,this.co_j.ac=0);else this.gk.up_f?221==this.getBGZ(t,i-32)&&(this.co_j.vy=-4,this.co_j.ac=-1):this.gk.down_f?221==this.getBGZ(t,i+32)&&(this.co_j.vy=4,this.co_j.ac=-1):this.gk.left_f?(this.co_j.muki=0,222==this.getBGZ(t-32,i)&&(this.co_j.vx=-4,this.co_j.ac=-1),this.getBGZ(t+32,i)>=212&&this.getBGZ(t+32,i)<=215&&(this.co_j.vx=-4,this.co_j.ac=-1)):this.gk.right_f&&(this.co_j.muki=1,222==this.getBGZ(t+32,i)&&(this.co_j.vx=4,this.co_j.ac=-1),this.getBGZ(t-32,i)>=212&&this.getBGZ(t-32,i)<=215&&(this.co_j.vx=4,this.co_j.ac=-1))}if(0!=this.co_j.vx||0!=this.co_j.vy){var a;if(this.co_j.ac+=1,this.co_j.ac>3&&(this.co_j.ac=0),t+=this.co_j.vx,i+=this.co_j.vy,0!=this.co_j.vx?this.co_j.ac<=1?this.co_j.pt=103:this.co_j.pt=104:this.co_j.vy>=0?this.co_j.ac<=1?this.co_j.pt=202:this.co_j.pt=203:this.co_j.ac<=1?this.co_j.pt=204:this.co_j.pt=205,t%32==0&&i%32==0)(220==(a=this.getBGZ(t,i))||a>=223&&a<=227||a>=216&&a<=219||a>=206&&a<=209)&&(this.co_j.vx=0,this.co_j.vy=0,this.co_j.ac=0),a=0,this.co_j.vx>0?a=this.getBGZ(t+32,i):this.co_j.vx<0&&(a=this.getBGZ(t-32,i)),a>=212&&a<=215&&(this.co_j.vx=0,this.co_j.vy=0,this.co_j.pt=100,this.co_j.ac=0);t<=-32?(t=-32,this.co_j.vx=0,this.co_j.vy=0,this.co_j.ac=0):t>=480&&(t=480,this.co_j.vx=0,this.co_j.vy=0,this.co_j.ac=0),i<=-32?(i=-32,this.co_j.vx=0,this.co_j.vy=0,this.co_j.ac=0):i>=288&&(i=288,this.co_j.vx=0,this.co_j.vy=0,this.co_j.ac=0)}this.co_j.x=t,this.co_j.y=i},w.prototype.circleCLS=function(t){for(var i=0;i<=12;i++){var s=Math.sin(.2617992*i);this.cc_p1_y[i]=160+Math.floor(s*t);var h=Math.cos(.2617992*i);this.cc_p1_x[i]=256+Math.floor(h*t),this.cc_p2_y[i]=160-Math.floor(s*t),this.cc_p2_x[i]=256-Math.floor(h*t)}this.gg.os_g.setColor(o.black),this.gg.os_g.fillPolygon(this.cc_p1_x,this.cc_p1_y,17),this.gg.os_g.fillPolygon(this.cc_p2_x,this.cc_p2_y,17)},w.prototype.squareCLS=function(t,i){var s=.017453292519943295;this.cc_p1_x[0]=Math.floor(Math.cos((this.cc_kakudo+0)*s)*t)+256,this.cc_p1_y[0]=Math.floor(Math.sin((this.cc_kakudo+0)*s)*t)+160,this.cc_p1_x[1]=Math.floor(Math.cos((this.cc_kakudo+90)*s)*t)+256,this.cc_p1_y[1]=Math.floor(Math.sin((this.cc_kakudo+90)*s)*t)+160,this.cc_p1_x[2]=Math.floor(Math.cos((this.cc_kakudo+180)*s)*t)+256,this.cc_p1_y[2]=Math.floor(Math.sin((this.cc_kakudo+180)*s)*t)+160,this.cc_p1_x[3]=Math.floor(500*Math.cos((this.cc_kakudo+180)*s))+256,this.cc_p1_y[3]=Math.floor(500*Math.sin((this.cc_kakudo+180)*s))+160,this.cc_p1_x[4]=Math.floor(700*Math.cos((this.cc_kakudo+135)*s))+256,this.cc_p1_y[4]=Math.floor(700*Math.sin((this.cc_kakudo+135)*s))+160,this.cc_p1_x[5]=Math.floor(700*Math.cos((this.cc_kakudo+45)*s))+256,this.cc_p1_y[5]=Math.floor(700*Math.sin((this.cc_kakudo+45)*s))+160,this.cc_p1_x[6]=Math.floor(500*Math.cos((this.cc_kakudo+0)*s))+256,this.cc_p1_y[6]=Math.floor(500*Math.sin((this.cc_kakudo+0)*s))+160,this.cc_p2_x[0]=Math.floor(Math.cos((this.cc_kakudo+180)*s)*t)+256,this.cc_p2_y[0]=Math.floor(Math.sin((this.cc_kakudo+180)*s)*t)+160,this.cc_p2_x[1]=Math.floor(Math.cos((this.cc_kakudo+270)*s)*t)+256,this.cc_p2_y[1]=Math.floor(Math.sin((this.cc_kakudo+270)*s)*t)+160,this.cc_p2_x[2]=Math.floor(Math.cos((this.cc_kakudo+360)*s)*t)+256,this.cc_p2_y[2]=Math.floor(Math.sin((this.cc_kakudo+360)*s)*t)+160,this.cc_p2_x[3]=Math.floor(500*Math.cos((this.cc_kakudo+360)*s))+256,this.cc_p2_y[3]=Math.floor(500*Math.sin((this.cc_kakudo+360)*s))+160,this.cc_p2_x[4]=Math.floor(700*Math.cos((this.cc_kakudo+315)*s))+256,this.cc_p2_y[4]=Math.floor(700*Math.sin((this.cc_kakudo+315)*s))+160,this.cc_p2_x[5]=Math.floor(700*Math.cos((this.cc_kakudo+225)*s))+256,this.cc_p2_y[5]=Math.floor(700*Math.sin((this.cc_kakudo+225)*s))+160,this.cc_p2_x[6]=Math.floor(500*Math.cos((this.cc_kakudo+180)*s))+256,this.cc_p2_y[6]=Math.floor(500*Math.sin((this.cc_kakudo+180)*s))+160,this.gg.os_g.setColor(o.black),this.gg.os_g.fillPolygon(this.cc_p1_x,this.cc_p1_y,7),this.gg.os_g.fillPolygon(this.cc_p2_x,this.cc_p2_y,7)},b.prototype.initAll=function(){for(var t=0;t<=15;t++)this.init1(t);this.c_fc=0,this.gk.up_c=0,this.gk.down_c=0,this.aw=-1,this.kettei_c=2,this.cancel_c=2;for(t=0;t<=15;t++)this.list_IDlist[t]=0;this.list_kazu=0,this.list_s=0},b.prototype.init1=function(t){this.c[t]=0,this.x[t]=0,this.y[t]=0,this.width[t]=180,this.selectedIndex[t]=0,this.item_kazu[t]=0,this.message[t]="どうしますか？";for(var i=0;i<=15;i++)this.item[t][i]="";for(i=0;i<=15;i++)this.item_int[t][i]=0},b.prototype.setMessage=function(t,i){this.message[t]=i},b.prototype.addItem=function(t,i){this.item[t][this.item_kazu[t]]=i,this.item_kazu[t]+=1},b.prototype.addIntitem=function(t,i){this.item_int[t][this.item_kazu[t]]=i,this.item_kazu[t]+=1},b.prototype.addItem2=function(t,i,s){this.item[t][this.item_kazu[t]]=i,this.item_int[t][this.item_kazu[t]]=s,this.item_kazu[t]+=1},b.prototype.active=function(t,i,s,h){this.c[t]=100,this.x[t]=i,this.y[t]=s,this.width[t]=void 0!==h?h:180,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=t,this.kettei_c=2,this.cancel_c=2},b.prototype.activeSerifutuki=function(t,i,s,h,e){this.c[t]=700,this.x[t]=i,this.y[t]=s,this.width[t]=h,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=t,this.kettei_c=2,this.cancel_c=2,this.item[t][15]=e},b.prototype.activeKaimono=function(t,i,s,h){this.c[t]=900,this.x[t]=i,this.y[t]=s,this.width[t]=h,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=t,this.kettei_c=2,this.cancel_c=2},b.prototype.activeIchigyou=function(t,i,s,h){this.c[t]=300,this.x[t]=i,this.y[t]=s,this.width[t]=h,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=t,this.kettei_c=2,this.cancel_c=2},b.prototype.activeNigyou=function(t,i,s,h,e){this.c[t]=310,this.x[t]=i,this.y[t]=s,this.width[t]=h,this.item_color[t]=e,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=t,this.kettei_c=2,this.cancel_c=2},b.prototype.activeYongyou=function(t,i,s,h){this.c[t]=320,this.x[t]=i,this.y[t]=s,this.width[t]=h,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=t,this.kettei_c=2,this.cancel_c=2},b.prototype.activeYongyou2=function(t,i,s,h){this.c[t]=321,this.x[t]=i,this.y[t]=s,this.width[t]=h,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=t,this.kettei_c=2,this.cancel_c=2},b.prototype.activeSerifu=function(t,i,s,h,e){this.c[t]=330,this.x[t]=i,this.y[t]=s,this.width[t]=h,this.item_color[t]=e,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=t,this.kettei_c=2,this.cancel_c=2},b.prototype.activeYasumu=function(t,i,s){this.c[t]=1e3,this.x[t]=i,this.y[t]=s,this.width[t]=272,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=t,this.kettei_c=2,this.cancel_c=2},b.prototype.onKao=function(t,i,s,h,e){this.c[t]=600,this.x[t]=i,this.y[t]=s,this.width[t]=h,this.item_int[t][0]=e},b.prototype.onMituketa=function(t,i,s){this.c[t]=610,this.x[t]=i,this.y[t]=s,this.width[t]=200},b.prototype.onOkozukai=function(t,i,s,h,e){this.c[t]=800,this.x[t]=i,this.y[t]=s,this.width[t]=h,this.item_int[t][0]=e},b.prototype.activeIchigyouTime=function(t,i,s,h){this.c[t]=350,this.x[t]=i,this.y[t]=s,this.width[t]=h,this.item_int[t][0]=100},b.prototype.activeNigyouTime=function(t,i,s,h,e){this.c[t]=360,this.x[t]=i,this.y[t]=s,this.width[t]=h,this.item_color[t]=e,this.item_int[t][0]=100},b.prototype.activeJibun=function(t,i,s,h,e,a,c,o){this.c[t]=400,this.x[t]=i,this.y[t]=s,this.item_int[14][0]=e,this.item_int[14][1]=a,this.item_int[14][2]=c,this.item_int[14][3]=o,this.width[t]=h,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=t,this.kettei_c=2,this.cancel_c=2},b.prototype.activeToujou=function(t,i,s,h,e,a){this.c[t]=420,this.x[t]=i,this.y[t]=s,this.item_int[t][2]=e,this.item[t][0]=a,this.width[t]=h,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=t,this.kettei_c=2,this.cancel_c=2},b.prototype.initCS=function(){this.item_kazu[0]=8,this.selectedIndex[0]=0},b.prototype.activeCS=function(){this.c[0]=500,this.x[0]=0,this.y[0]=0,this.width[0]=0,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=0,this.kettei_c=2},b.prototype.off=function(t){this.c[t]=0},b.prototype.offActivewindow=function(t,i){this.c[t]=0,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=i,this.kettei_c=2,this.cancel_c=2},b.prototype.move=function(){this.c_fc+=1,this.c_fc>6&&(this.c_fc=0),this.aw>=0&&(this.gk.up_f?(this.gk.up_c+=1,this.gk.up_c>3&&(this.gk.up_c=1)):this.gk.up_c=0,this.gk.down_f?(this.gk.down_c+=1,this.gk.down_c>3&&(this.gk.down_c=1)):this.gk.down_c=0,1==this.gk.up_c?(this.selectedIndex[this.aw]-=1,this.c_fc=-1,this.selectedIndex[this.aw]<0&&(this.selectedIndex[this.aw]=this.item_kazu[this.aw]-1)):1==this.gk.down_c&&(this.selectedIndex[this.aw]+=1,this.c_fc=-1,this.selectedIndex[this.aw]>this.item_kazu[this.aw]-1&&(this.selectedIndex[this.aw]=0))),this.gk.tr1_f?0==this.kettei_c&&(this.kettei_c=1):this.kettei_c=0,this.gk.x_f?0==this.cancel_c&&(this.cancel_c=1):this.cancel_c=0},b.prototype.drawMenus=function(){this.hg.setFont(new _(_.DIALOG,0,12));for(var t=0;t<=15;t++){var i=this.c[t];if(0!=i)switch(i){case 100:if(this.drawWindowbox(this.x[t],this.y[t],this.width[t],30+14*this.item_kazu[t]),this.hg.setColor(o.white),this.hg.drawString(this.message[t],this.x[t]+24,this.y[t]+6+12),this.item_kazu[t]>=1)for(var s=0;s<=this.item_kazu[t]-1;s++)this.hg.drawString(this.item[t][s],this.x[t]+24,this.y[t]+6+18+14*s+12);t==this.aw?this.c_fc<=3&&this.hg.drawImage(this.hi[70],this.x[t]+6,this.y[t]+24+14*this.selectedIndex[t],this.ap):this.hg.drawImage(this.hi[70],this.x[t]+6,this.y[t]+24+14*this.selectedIndex[t],this.ap);break;case 200:this.hg.setColor(o.white),this.hg.fillRect(12,12,128,58),this.hg.setColor(o.black),this.hg.fillRect(14,14,124,54),this.hg.setColor(o.cyan),this.hg.drawString(this.item[14][0],18,30),(this.item_int[14][0]<=0||this.item_int[14][2]<=0)&&(this.hg.setColor(o.red),this.hg.drawString("戦闘不能",82,30)),this.hg.setColor(o.white),this.hg.drawString("HP\t"+this.item_int[14][0]+" / "+this.item_int[14][1],18,48),this.hg.drawString("PP\t"+this.item_int[14][2]+" / "+this.item_int[14][3],18,62);break;case 210:this.hg.setColor(o.white),this.hg.fillRect(160,12,128,58),this.hg.setColor(o.black),this.hg.fillRect(162,14,124,54),this.hg.setColor(o.green),this.hg.drawString(this.item[15][0],166,30),this.item_int[15][0]<=0&&(this.hg.setColor(o.red),this.hg.drawString("戦闘不能",230,30)),this.hg.setColor(o.white),this.hg.drawString("HP\t"+this.item_int[15][0]+" / "+this.item_int[15][1],166,48),this.hg.drawString("PP\t"+this.item_int[15][2]+" / "+this.item_int[15][3],166,62);break;case 220:this.hg.setColor(o.white),this.hg.fillRect(372,12,128,58),this.hg.setColor(o.black),this.hg.fillRect(374,14,124,54),this.hg.setColor(o.cyan),this.hg.drawString(this.item[15][0],378,30),(this.item_int[15][0]<=0||this.item_int[15][2]<=0)&&(this.hg.setColor(o.red),this.hg.drawString("戦闘不能",442,30)),this.hg.setColor(o.white),this.hg.drawString("HP\t"+this.item_int[15][0]+" / "+this.item_int[15][1],378,48),this.hg.drawString("PP\t"+this.item_int[15][2]+" / "+this.item_int[15][3],378,62);break;case 300:this.drawWindowbox(this.x[t],this.y[t],this.width[t],40),this.hg.setColor(o.white),this.hg.drawString(this.item[t][0],this.x[t]+6,this.y[t]+6+12),this.c_fc<=3&&this.gg.drawPT(this.x[t]+(this.width[t]-14>>1),this.y[t]+6+14+0+2,201,0);break;case 310:this.drawWindowbox(this.x[t],this.y[t],this.width[t],58),this.hg.setColor(this.item_color[t]),this.hg.drawString(this.item[t][0],this.x[t]+6,this.y[t]+6+12),this.hg.setColor(o.white),this.hg.drawString(this.item[t][1],this.x[t]+6,this.y[t]+6+18+12),this.c_fc<=3&&this.gg.drawPT(this.x[t]+(this.width[t]-14>>1),this.y[t]+6+18+14+2,71,0);break;case 320:this.drawWindowbox(this.x[t],this.y[t],this.width[t],66+14*(this.item_kazu[t]-3)+14),this.hg.setColor(o.magenta),this.hg.drawString(this.item[t][0],this.x[t]+6,this.y[t]+6+12),this.hg.setColor(o.white),this.hg.drawString(this.item[t][1],this.x[t]+6,this.y[t]+6+18+12),this.hg.setColor(o.cyan),this.hg.drawString(this.item[t][2],this.x[t]+6,this.y[t]+6+36+12),this.hg.setColor(o.white);for(s=0;s<=this.item_kazu[3]-4;s++)this.hg.drawString(this.item[3][s+3],this.x[3]+6,this.y[3]+6+54+14*s+12);this.c_fc<=3&&this.gg.drawPT(this.x[t]+(this.width[t]-14>>1),this.y[t]+6+18+36+14*(this.item_kazu[t]-3)+2,71,0);break;case 321:this.drawWindowbox(this.x[t],this.y[t],this.width[t],108),this.hg.setColor(o.cyan),this.hg.drawString(this.item[t][0],this.x[t]+6,this.y[t]+6+12),this.hg.setColor(o.white),this.hg.drawString(this.item[t][1],this.x[t]+6,this.y[t]+6+18+12),this.hg.setColor(o.magenta),this.hg.drawString(this.item[t][2],this.x[t]+6,this.y[t]+6+36+12),this.hg.setColor(o.white),this.hg.drawString(this.item[t][3],this.x[t]+6,this.y[t]+6+54+12),this.hg.setColor(o.white),this.hg.drawString(this.item[t][4],this.x[t]+6,this.y[t]+6+54+14+12),this.c_fc<=3&&this.gg.drawPT(this.x[t]+(this.width[t]-14>>1),this.y[t]+6+18+36+14+14+2,71,0);break;case 330:if(this.drawWindowbox(this.x[t],this.y[t],this.width[t],30+14*(this.item_kazu[t]+1)),this.hg.setColor(this.item_color[t]),this.hg.drawString(this.message[t],this.x[t]+6,this.y[t]+6+12),this.hg.setColor(o.white),this.item_kazu[t]>=1)for(s=0;s<=this.item_kazu[t]-1;s++)this.hg.drawString(this.item[t][s],this.x[t]+6,this.y[t]+6+18+14*s+12);t==this.aw?this.c_fc<=3&&this.gg.drawPT(this.x[t]+(this.width[t]-14>>1),this.y[t]+6+18+14*this.item_kazu[t]+2,201,0):this.gg.drawPT(this.x[t]+(this.width[t]-14>>1),this.y[t]+6+18+14*this.item_kazu[t]+2,201,0);break;case 350:if(100==this.item_int[t][0]){this.item_int[t][0]=55;break}this.drawWindowbox(this.x[t],this.y[t],this.width[t],26),this.hg.setColor(o.white),this.hg.drawString(this.item[t][0],this.x[t]+6,this.y[t]+6+12),this.item_int[t][0]-=1,this.item_int[t][0]<=0&&this.off(t);break;case 360:200==this.item_int[t][0]?(this.drawWindowbox(this.x[t],this.y[t],this.width[t],44),this.hg.setColor(this.item_color[t]),this.hg.drawString(this.item[t][0],this.x[t]+6,this.y[t]+6+12),this.hg.setColor(o.white),this.hg.drawString(this.item[t][1],this.x[t]+6,this.y[t]+6+18+12)):100==this.item_int[t][0]?this.item_int[t][0]=55:(this.drawWindowbox(this.x[t],this.y[t],this.width[t],44),this.hg.setColor(this.item_color[t]),this.hg.drawString(this.item[t][0],this.x[t]+6,this.y[t]+6+12),this.hg.setColor(o.white),this.hg.drawString(this.item[t][1],this.x[t]+6,this.y[t]+6+18+12),this.item_int[t][0]-=1,this.item_int[t][0]<=0&&this.off(t));break;case 400:this.drawWindowbox(this.x[t],this.y[t],this.width[t],128),this.hg.setColor(o.yellow),this.hg.drawString(this.name_crys+"のステータス",this.x[t]+6,this.y[t]+6+12),this.hg.setColor(o.white),this.hg.drawString("HP\t"+this.item_int[14][0]+" / "+this.item_int[14][1],this.x[t]+6,this.y[t]+6+18+0+12),this.hg.drawString("おこづかい\t",this.x[t]+6,this.y[t]+6+18+28+12),this.hg.drawString(this.item_int[14][2]+"円",this.x[t]+6+72,this.y[t]+6+18+42+12),this.hg.drawString("得点",this.x[t]+6,this.y[t]+6+18+56+12),this.hg.drawString(this.item_int[14][3]+"点",this.x[t]+6+72,this.y[t]+6+18+70+12),this.c_fc<=3&&this.gg.drawPT(this.x[t]+(this.width[t]-14>>1),this.y[t]+6+18+84+2,71,0);break;case 420:this.drawWindowbox(this.x[t],this.y[t],this.width[t],116),this.hg.setColor(new o(96,96,96)),this.hg.fillRect(this.x[t]+12,this.y[t]+12,this.width[t]-24,48),this.gg.drawPT(this.x[t]+12+(this.width[t]-24-32>>1),this.y[t]+12+8,this.item_int[t][2],0),this.hg.setColor(o.cyan),this.hg.drawString(this.item[t][0],this.x[t]+12,this.y[t]+64+12),this.hg.setColor(o.white),this.hg.drawString("これからも、よろしくね！",this.x[t]+12,this.y[t]+68+14+12),this.c_fc<=3&&this.gg.drawPT(this.x[t]+(this.width[t]-14>>1),this.y[t]+68+28+2,71,0);break;case 410:-2==this.item_int[t][0]?(this.drawWindowbox(this.x[t],this.y[t],this.width[t],116),this.hg.setColor(new o(96,96,96)),this.hg.fillRect(this.x[t]+12,this.y[t]+12,this.width[t]-24,48),this.gg.drawPT(this.x[t]+12+(this.width[t]-24-32>>1),this.y[t]+12+8,this.item_int[t][2],0),this.hg.setColor(o.yellow),this.hg.drawString(this.item[t][0],this.x[t]+12,this.y[t]+64+12),this.hg.setColor(o.white),this.hg.drawString("捕獲不可能",this.x[t]+12,this.y[t]+68+14+12),this.c_fc<=3&&this.gg.drawPT(this.x[t]+(this.width[t]-14>>1),this.y[t]+68+28+2,71,0)):this.item_int[t][0]<0?(this.drawWindowbox(this.x[t],this.y[t],this.width[t],116),this.hg.setColor(new o(96,96,96)),this.hg.fillRect(this.x[t]+12,this.y[t]+12,this.width[t]-24,48),this.gg.drawPT(this.x[t]+12+(this.width[t]-24-32>>1),this.y[t]+12+8,this.item_int[t][2],0),this.hg.setColor(o.yellow),this.hg.drawString(this.item[t][0],this.x[t]+12,this.y[t]+64+12),this.hg.setColor(o.white),this.hg.drawString("現在調査中",this.x[t]+12,this.y[t]+68+14+12),this.c_fc<=3&&this.gg.drawPT(this.x[t]+(this.width[t]-14>>1),this.y[t]+68+28+2,71,0)):(this.drawWindowbox(this.x[t],this.y[t],this.width[t],158),this.hg.setColor(new o(96,96,96)),this.hg.fillRect(this.x[t]+12,this.y[t]+12,this.width[t]-24,48),this.gg.drawPT(this.x[t]+12+(this.width[t]-24-32>>1),this.y[t]+12+8,this.item_int[t][2],0),this.hg.setColor(o.yellow),this.hg.drawString(this.item[t][0],this.x[t]+12,this.y[t]+64+12),this.hg.setColor(o.white),this.hg.drawString("最大HP",this.x[t]+12,this.y[t]+68+14+12),this.hg.drawString(""+this.item_int[t][0],this.x[t]+56,this.y[t]+68+28+12),this.hg.drawString("最大PP",this.x[t]+12,this.y[t]+68+42+12),this.hg.drawString(""+this.item_int[t][1],this.x[t]+56,this.y[t]+68+56+12),this.c_fc<=3&&this.gg.drawPT(this.x[t]+(this.width[t]-14>>1),this.y[t]+68+70+2,71,0));break;case 500:this.c_fc<=3||0!=this.aw?this.hg.drawImage(this.hi[72],12+28*this.selectedIndex[t],288,this.ap):this.hg.drawImage(this.hi[73],12+28*this.selectedIndex[t],288,this.ap);break;case 600:this.drawWindowbox(this.x[t],this.y[t],this.width[t],96);var h=this.item_int[t][0],e=this.x[t]+(this.width[t]-64>>1),a=this.y[t]+16;this.gg.drawPT(e,a,h,0),this.gg.drawPT(e+32,a,h+1,0),this.gg.drawPT(e,a+32,h+10,0),this.gg.drawPT(e+32,a+32,h+11,0);break;case 610:this.drawWindowbox(this.x[t],this.y[t],this.width[t],30+14*this.item_kazu[t]),this.hg.setColor(o.yellow),this.hg.drawString("モンスターずかん",this.x[t]+6,this.y[t]+6+12),this.hg.setColor(o.white),this.hg.drawString("見つけた数\t"+this.item_int[t][0],this.x[t]+6,this.y[t]+6+18+0+12),this.hg.drawString("捕まえた数\t"+this.item_int[t][1],this.x[t]+6,this.y[t]+6+18+14+12);break;case 700:if(this.drawWindowbox(this.x[t],this.y[t],this.width[t],30+14*this.item_kazu[t]+18),this.hg.setColor(o.cyan),this.hg.drawString(this.item[t][15],this.x[t]+24,this.y[t]+6+12),this.hg.setColor(o.white),this.hg.drawString(this.message[t],this.x[t]+24,this.y[t]+6+12+18),this.item_kazu[t]>=1)for(s=0;s<=this.item_kazu[t]-1;s++)this.hg.drawString(this.item[t][s],this.x[t]+24,this.y[t]+6+18+14*s+12+18);t==this.aw?this.c_fc<=3&&this.gg.drawPT(this.x[t]+6,this.y[t]+6+18+14*this.selectedIndex[t]+18,200,0):this.gg.drawPT(this.x[t]+6,this.y[t]+6+18+14*this.selectedIndex[t]+18,200,0);break;case 800:this.drawWindowbox(this.x[t],this.y[t],this.width[t],44),this.hg.setColor(o.yellow),this.hg.drawString("おこづかい",this.x[t]+6,this.y[t]+6+12),this.hg.setColor(o.white),this.hg.drawString(this.item_int[t][0]+"円",this.x[t]+6,this.y[t]+6+18+12);break;case 900:if(this.drawWindowbox(this.x[t],this.y[t],this.width[t],30+14*this.item_kazu[t]),this.hg.setColor(o.white),this.hg.drawString(this.message[t],this.x[t]+24,this.y[t]+6+12),this.item_kazu[t]>=1)for(s=0;s<=this.item_kazu[t]-1;s++)this.hg.drawString(this.item[t][s],this.x[t]+24,this.y[t]+6+18+14*s+12),this.hg.drawString(""+this.item_int[t][s],this.x[t]+24+116,this.y[t]+6+18+14*s+12);t==this.aw?this.c_fc<=3&&this.gg.drawPT(this.x[t]+6,this.y[t]+6+18+14*this.selectedIndex[t],200,0):this.gg.drawPT(this.x[t]+6,this.y[t]+6+18+14*this.selectedIndex[t],200,0);break;case 1e3:this.drawWindowbox(this.x[t],this.y[t],this.width[t],98),this.hg.setColor(new o(96,96,96)),this.hg.fillRect(this.x[t]+12,this.y[t]+12,248,48);for(s=0;s<=5;s++)this.item_int[t][s]>0&&this.gg.drawPT(this.x[t]+12+8+40*s,this.y[t]+12+8,this.item_int[t][s],0);this.hg.setColor(o.white),this.hg.drawString("みんな、元気になった。",this.x[t]+12,this.y[t]+64+12),this.c_fc<=3&&this.gg.drawPT(this.x[t]+(this.width[t]-14>>1),this.y[t]+64+14+2,71,0)}}},b.prototype.drawWindowbox=function(t,i,s,h){this.hg.setColor(o.white),this.hg.fillRect(t,i,s,h),this.hg.setColor(o.black),this.hg.fillRect(t+2,i+2,s-4,h-4)};s(102);function S(t,i){return function(t){if(Array.isArray(t))return t}(t)||function(t,i){var s=[],h=!0,e=!1,a=void 0;try{for(var c,o=t[Symbol.iterator]();!(h=(c=o.next()).done)&&(s.push(c.value),!i||s.length!==i);h=!0);}catch(t){e=!0,a=t}finally{try{h||null==o.return||o.return()}finally{if(e)throw a}}return s}(t,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function I(t,i){for(var s=0;s<i.length;s++){var h=i[s];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(t,h.key,h)}}var P=function(){function t(i,s,e,a){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.width=i,this.height=s,this.gg=e,this.mp=a,this.map_bg=Object(h.c)(this.width,this.height),this.map_string=new Array(this.height),this.hi=this.gg.spt_img[0],this.init()}var i,s,e;return i=t,(s=[{key:"init",value:function(){this.wx=0,this.wy=0,this.os2_wx=0,this.os2_wy=0;for(var t=0;t<this.height;t++)for(var i=0;i<this.width;i++)this.map_bg[i][t]=0;for(var s=".".repeat(this.width+1),h=0;h<this.height;h++)this.map_string[h]=s}},{key:"setBank",value:function(t){var i=30;1===t?i=40:2===t?i=50:4===t&&(i=60);for(var s=0;s<=9;s++)this.gg.spt_img[0][10+s]=this.gg.spt_img[0][i+s]}},{key:"drawMap",value:function(t,i){this.wx=t,this.wy=i;var s=this.wx%32,h=this.wy%32;this.os2_wx=this.wx>>5,this.os2_wy=this.wy>>5,this.gg.fill2();for(var e=0;e<=10;e++)for(var a=0;a<=16;a++)this.map_bg[this.os2_wx+a][this.os2_wy+e]>0&&this.gg.drawPT2(32+32*a,32+32*e,this.map_bg[this.os2_wx+a][this.os2_wy+e]);this.gg.os_g.drawImage(this.gg.os2_img,-32-s,-32-h)}},{key:"drawMapScroll",value:function(t){var i=this.wx%32,s=this.wy%32,h=this.wx>>5,e=this.wy>>5,a=h-this.os2_wx,c=e-this.os2_wy;if(Math.abs(a)>1||Math.abs(c)>1)this.drawMap(this.wx,this.wy);else if(0===a&&0===c);else{this.gg.os2_g.copyArea(32+32*a,32+32*c,544,352,32*-a,32*-c),0!==a&&(this.os2_wx=h),0!==c&&(this.os2_wy=e);var o=[];if(0!==c)for(var _=c<0?0:10,r=0;r<=16;r++)o.push([this.map_bg[this.os2_wx+r][this.os2_wy+_],1+r,1+_]);if(0!==a)for(var n=a<0?0:16,p=0;p<=10;p++)0===p&&c<0||10===p&&c>0||o.push([this.map_bg[this.os2_wx+n][this.os2_wy+p],1+n,1+p]);for(var m=0,g=o;m<g.length;m++){var u=S(g[m],3),f=u[0],y=u[1],l=u[2];f<=0||this.gg.os2_g.drawImage(this.hi[f],32*y,32*l)}}for(var j=0;j<=10;j++)for(var d=0;d<=16;d++){y=this.os2_wx+d,l=this.os2_wy+j;switch(this.map_bg[y][l]){case 5:4===this.map_bg[y][l-1]&&(this.gg.drawBG2(32+32*d,32+32*j,4),this.gg.drawPT2(32+32*d,32+32*j,5));break;case 6:4===this.map_bg[y][l+1]&&(this.gg.drawBG2(32+32*d,32+32*j,4),this.gg.drawPT2(32+32*d,32+32*j,6));break;case 7:var x=96+t%2;this.gg.drawBG2(32+32*d,32+32*j,x);break;case 8:var v=94;this.mp.stage_max>=2&&this.mp.stage>=this.mp.stage_max&&(v=98),0===t&&(v+=1),4===this.map_bg[y-1][l]?(this.gg.drawBG2(32+32*d,32+32*j,4),this.gg.drawPT2(32+32*d,32+32*j,v)):this.gg.drawBG2(32+32*d,32+32*j,v);break;case 9:4===this.map_bg[y-1][l]?(this.gg.drawBG2(32+32*d,32+32*j,4),this.gg.drawPT2(32+32*d,32+32*j,90+t)):this.gg.drawBG2(32+32*d,32+32*j,90+t)}}this.gg.os_g.drawImage(this.gg.os2_img,-32-i,-32-s)}},{key:"getBGCode",value:function(t,i){return this.map_bg[t>>5][i>>5]}},{key:"putBGCode",value:function(t,i,s){this.map_bg[t][i]=s,this.os2_wx<=t&&this.os2_wx+16>=t&&this.os2_wy<=i&&this.os2_wy+10>=i&&this.gg.drawBG2(32*(t-this.os2_wx)+32,32*(i-this.os2_wy)+32,s)}}])&&I(i.prototype,s),e&&I(i,e),t}();function M(t,i){return function(t){if(Array.isArray(t))return t}(t)||function(t,i){var s=[],h=!0,e=!1,a=void 0;try{for(var c,o=t[Symbol.iterator]();!(h=(c=o.next()).done)&&(s.push(c.value),!i||s.length!==i);h=!0);}catch(t){e=!0,a=t}finally{try{h||null==o.return||o.return()}finally{if(e)throw a}}return s}(t,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var C=function(){for(var t=this.maps.wx,i=this.maps.wy,s=0;s<=this.t_kazu;s++)if(!(this.co_t[s].c<50)){var h=this.co_t[s].x-t,e=this.co_t[s].y-i;h<-64||e>576||this.hg.drawImage(this.hih[this.co_t[s].pth][this.co_t[s].pt],h,e,this.ap)}},z=function(){for(var t=this,i=function(i,s,h,e,a){for(var c=0;c<h;c++)for(var o=0;o<s;o++)t.hg.drawImage(t.hih[0][i+10*c+o],e+32*o,a+32*c,t.ap)},s=function(i,s,h,e,a){for(var c=0;c<h;c++)for(var o=0;o<s;o++){var _=s-1-o;t.hg.drawImage(t.hih[1][i+10*c+_],e+32*o,a+32*c,t.ap)}},h=this.maps.wx,e=this.maps.wy,a=0;a<=this.a_kazu;a++)if(this.co_a[a].gf){var c=this.co_a[a],o=c.x-h,_=c.y-e;switch(c.pt){default:break;case 100:i(190,3,1,o,_);break;case 200:i(76,2,2,o,_);break;case 210:i(78,2,2,o,_);break;case 300:i(60,2,1,o,_);break;case 310:i(62,2,1,o,_);break;case 320:i(64,2,1,o,_);break;case 330:i(66,2,1,o,_);break;case 400:i(183,3,2,o,_);break;case 500:i(180,3,1,o,_);break;case 600:i(188,2,2,o,_);break;case 605:s(188,2,2,o,_);break;case 700:this.hg.drawImage(this.hi[32],o,_,this.ap);break;case 710:this.hg.drawImage(this.hi[33],o,_,this.ap);break;case 720:this.hg.drawImage(this.hi[34],o,_,this.ap);break;case 800:var r=c.x>=this.co_j.x?0:1;this.hg.drawImage(this.hih[r][35+c.c3],o,_,this.ap);break;case 1100:var n=(c.c3+90)*Math.PI/180,p=Math.floor(16*Math.cos(n)),m=Math.floor(16*Math.sin(n));if(this.vo_pa_x[0]=this.vo_x[a][0]-h+p,this.vo_pa_y[0]=this.vo_y[a][0]-e+m,this.vo_pa_x[1]=this.vo_x[a][0]-h-p,this.vo_pa_y[1]=this.vo_y[a][0]-e-m,this.vo_pa_x[2]=this.vo_x[a][1]-h-p,this.vo_pa_y[2]=this.vo_y[a][1]-e-m,this.vo_pa_x[3]=this.vo_x[a][1]-h+p,this.vo_pa_y[3]=this.vo_y[a][1]-e+m,this.gg.os_g.setColor(this.gamecolor_firebar1),this.gg.os_g.fillPolygon(this.vo_pa_x,this.vo_pa_y,4),this.g_c2>=2){this.gg.os_g.setColor(this.gamecolor_firebar2);var g=Math.floor(10*Math.cos(n)),u=Math.floor(10*Math.sin(n));this.vo_pa_x[0]=this.vo_x[a][2]-h+g,this.vo_pa_y[0]=this.vo_y[a][2]-e+u,this.vo_pa_x[1]=this.vo_x[a][2]-h-g,this.vo_pa_y[1]=this.vo_y[a][2]-e-u,this.vo_pa_x[2]=this.vo_x[a][3]-h-g,this.vo_pa_y[2]=this.vo_y[a][3]-e-u,this.vo_pa_x[3]=this.vo_x[a][3]-h+g,this.vo_pa_y[3]=this.vo_y[a][3]-e+u,this.gg.os_g.fillPolygon(this.vo_pa_x,this.vo_pa_y,4)}}}},T=function(){for(var t=this.maps.wx,i=this.maps.wy,s=0;s<=23;s++)if(!(this.co_m[s].c<50)){var h=this.co_m[s],e=h.x-t,a=h.y-i;if(50===h.c){this.hg.drawImage(this.hih[h.pth][h.pt],e,a,this.ap);for(var c=0;c<2;c++){var o=h.x+31*c,_=h.y,r=this.maps.getBGCode(o,_);r<20||this.gg.drawPT(32*(o>>5)-t,32*(_>>5)-i,r,0)}}else if(1e3===h.pt){this.gg.os_g.setColor(this.gamecolor_mizunohadou);var n=h.c2;this.gg.os_g.fillOval(e+16-n,a+16-n,2*n,2*n)}else if(1100===h.pt){0===this.g_ac?this.gg.os_g.setColor(this.gamecolor_grenade1):this.gg.os_g.setColor(this.gamecolor_grenade2);var p=h.c2;this.gg.os_g.fillOval(e+16-p,a+16-p,2*p,2*p)}else this.hg.drawImage(this.hih[h.pth][h.pt],e,a,this.ap)}},O=function(){var t=this.maps.wx,i=this.maps.wy;if(this.co_j.wx=this.co_j.x-t,this.co_j.wy=this.co_j.y-i,this.j_jet_c>=96&&(0===this.g_c1?this.hg.drawImage(this.hi[134],this.co_j.wx,this.co_j.wy+36,this.ap):this.hg.drawImage(this.hi[135],this.co_j.wx,this.co_j.wy+36,this.ap)),this.j_v_c>0&&(this.j_v_c--,this.j_v_kakudo+=2,this.j_v_kakudo>360&&(this.j_v_kakudo-=360),this.j_v_c>50||1===this.g_ac)){var s=this.co_j.wx+16,h=this.co_j.wy+16;this.gg.os_g.setColor(o.white);for(var e=0;e<6;e++){var a=(this.j_v_kakudo+60*e)*Math.PI/180;this.vo_pa_x[e]=s+Math.floor(38*Math.cos(a)),this.vo_pa_y[e]=h+Math.floor(38*Math.sin(a))}this.gg.os_g.drawPolygon(this.vo_pa_x,this.vo_pa_y,6);for(var c=0;c<6;c++){var _=(360-this.j_v_kakudo+60*c)*Math.PI/180;this.vo_pa_x[c]=s+Math.floor(38*Math.cos(_)),this.vo_pa_y[c]=h+Math.floor(38*Math.sin(_))}this.gg.os_g.drawPolygon(this.vo_pa_x,this.vo_pa_y,6)}if(this.j_zan_f){for(var r=this.j_zan_p+6,n=r-this.j_zan_nagasa;n<=r;n++){var p=n%6,m=this.j_zan_x[p]-t,g=this.j_zan_y[p]-i,u=this.j_zan_pth[p];this.hg.drawImage(this.hih[u][this.j_zan_pt[p]],m,g,this.ap)}this.j_zan_p++,this.j_zan_p>5&&(this.j_zan_p=0),this.j_zan_x[this.j_zan_p]=this.co_j.x,this.j_zan_y[this.j_zan_p]=this.co_j.y,this.j_zan_pt[this.j_zan_p]=this.co_j.pt,this.j_zan_pth[this.j_zan_p]=this.co_j.muki,this.j_zan_c<9?(this.j_zan_c++,this.co_j.vy>=0&&(this.j_zan_c=9)):(this.j_zan_nagasa--,this.j_zan_nagasa<0&&(this.j_zan_f=!1))}if(this.co_j.pt<1e3)this.gg.drawPT(this.co_j.wx,this.co_j.wy,this.co_j.pt,this.co_j.muki);else if(1e3===this.co_j.pt)0===this.co_j.muki?(this.gg.drawPT(this.co_j.wx,this.co_j.wy,118,this.co_j.muki),this.gg.drawPT(this.co_j.wx-32,this.co_j.wy,117,this.co_j.muki)):(this.gg.drawPT(this.co_j.wx,this.co_j.wy,118,1),this.gg.drawPT(this.co_j.wx+32,this.co_j.wy,117,1));else if(1100===this.co_j.pt){var f=Math.max(0,Math.min(32,this.co_j.c1));this.gg.drawPT(this.co_j.wx,this.co_j.wy+f,100,this.co_j.muki),this.gg.drawPT(this.co_j.wx-16,this.co_j.wy+32,60+2*this.co_j.c2,0),this.gg.drawPT(this.co_j.wx+16,this.co_j.wy+32,61+2*this.co_j.c2,0)}else this.co_j.pt},G=function(){for(var t=this.maps.wx,i=this.maps.wy,s=0;s<=1;s++){var h=this.co_jm[s];if(!(h.c<50)){var e=h.x-t,a=h.y-i;if(h.pt<1e3)this.hg.drawImage(this.hih[h.pth][h.pt],e,a,this.ap);else{var c=0===this.g_ac?this.gamecolor_grenade1:this.gamecolor_grenade2;if(this.gg.os_g.setColor(c),1200===h.pt){var o=h.vx-h.x+1;this.gg.os_g.fillRect(e,a+12,o,8)}else if(1205===h.pt){var _=h.x-h.vx+1;this.gg.os_g.fillRect(h.vx-t,a+12,_,8)}else{var r=h.c2;this.gg.os_g.fillOval(e+16-r,a+16-r,2*r,2*r)}}}}},B=function(){var t=this;if(!(this.co_b.c<=50)){var i=this.maps,s=i.wx,h=i.wy,e=this.co_b.x-s,a=this.co_b.y-h;if(!(e>=528)){var c=function(i,s,h,e,a){for(var c=0;c<h;c++)for(var o=0;o<s;o++)t.hg.drawImage(t.hih[0][i+10*c+o],e+32*o,a+32*c,t.ap)},_=function(i,s,h,e,a){for(var c=0;c<h;c++)for(var o=0;o<s;o++){var _=s-1-o;t.hg.drawImage(t.hih[1][i+10*c+_],e+32*o,a+32*c,t.ap)}};switch(this.co_b.pt){default:break;case 1e3:c(186,2,2,e-16,a-16);break;case 1005:_(186,2,2,e-16,a-16);break;case 1010:c(176,2,1,e-16,a+16);break;case 1015:_(176,2,1,e-16,a+16);break;case 1100:c(188,2,2,e-16,a-16);break;case 1105:_(188,2,2,e-16,a-16);break;case 1110:c(178,2,1,e-16,a+16);break;case 1115:_(178,2,1,e-16,a+16);break;case 1200:c(238,2,2,e-16,a-16);break;case 1205:_(238,2,2,e-16,a-16);break;case 1210:c(228,2,1,e-16,a+16);break;case 1215:_(228,2,1,e-16,a+16);break;case 1250:c(238,2,2,e-16,a-16),this.j_v_c<=0&&(this.j_v_kakudo+=2,this.j_v_kakudo>360&&(this.j_v_kakudo-=360)),this.gg.os_g.setColor(o.white);for(var r=0;r<6;r++){var n=(this.j_v_kakudo+60*r)*Math.PI/180;this.vo_pa_x[r]=e+16+Math.floor(50*Math.cos(n)),this.vo_pa_y[r]=a+16+Math.floor(50*Math.sin(n))}this.gg.os_g.drawPolygon(this.vo_pa_x,this.vo_pa_y,6);for(var p=0;p<6;p++){var m=(360-this.j_v_kakudo+60*p)*Math.PI/180;this.vo_pa_x[p]=e+16+Math.floor(50*Math.cos(m)),this.vo_pa_y[p]=a+16+Math.floor(50*Math.sin(m))}this.gg.os_g.drawPolygon(this.vo_pa_x,this.vo_pa_y,6);break;case 1255:_(238,2,2,e-16,a-16),this.j_v_c<=0&&(this.j_v_kakudo+=2,this.j_v_kakudo>360&&(this.j_v_kakudo-=360)),this.gg.os_g.setColor(o.white);for(var g=0;g<6;g++){var u=(this.j_v_kakudo+60*g)*Math.PI/180;this.vo_pa_x[g]=e+16+Math.floor(50*Math.cos(u)),this.vo_pa_y[g]=a+16+Math.floor(50*Math.sin(u))}this.gg.os_g.drawPolygon(this.vo_pa_x,this.vo_pa_y,6);for(var f=0;f<6;f++){var y=(360-this.j_v_kakudo+60*f)*Math.PI/180;this.vo_pa_x[f]=e+16+Math.floor(50*Math.cos(y)),this.vo_pa_y[f]=a+16+Math.floor(50*Math.sin(y))}this.gg.os_g.drawPolygon(this.vo_pa_x,this.vo_pa_y,6)}}}},A=function(){for(var t=[],i=1;i<=3;i++){var s="hitokoto".concat(this.hitokoto_num,"-").concat(i),h=this.gg.ap.getParameter(s);0!==parseInt(h)&&t.push(h)}this.km.drawWindowbox(208,56,224,30+14*t.length),this.hg.setFont(new _(_.DIALOG,0,12)),this.hg.setColor(o.cyan);var e="hitokoto".concat(this.hitokoto_num,"_name"),a=this.gg.ap.getParameter(e);this.hg.drawString(a,214,74),this.hg.setColor(o.white);var c=!0,r=!1,n=void 0;try{for(var p,m=t.entries()[Symbol.iterator]();!(c=(p=m.next()).done);c=!0){var g=M(p.value,2),u=g[0],f=g[1],y=18+14*u+12;this.hg.drawString(f,214,62+y)}}catch(t){r=!0,n=t}finally{try{c||null==m.return||m.return()}finally{if(r)throw n}}};function D(t,i,s){this.ran_seed=void 0,this.ml_mode=0,this.ml_mode_c=0,this.score=0,this.highscore=0,this.score_1up_1=0,this.score_1up_2=0,this.score_1up_1_para=0,this.score_1up_2_para=0,this.score_v=!0,this.stage=1,this.stage_cc=0,this.stage_max=1,this.stage_kaishi=1,this.g_c1=0,this.g_c2=0,this.g_c3=0,this.g_ac=0,this.g_ac2=0,this.tr1_c=0,this.tr2_c=0,this.left_dcc=0,this.right_dcc=0,this.co_t=new Array(130),this.co_m=new Array(24),this.co_a=new Array(32),this.co_h=new Array(64),this.co_jm=new Array(2),this.vo_x=Object(h.c)(32,4),this.vo_y=Object(h.c)(32,4),this.j_zan_x=new Array(6),this.j_zan_y=new Array(6),this.j_zan_pt=new Array(6),this.j_zan_pth=new Array(6),this.vo_pa_x=new Array(6),this.vo_pa_y=new Array(6),this.stage_1up_f=new Array(3),this.shop_item_name=new Array(16),this.shop_item_teika=new Array(16),this.door_score=10,this.gg=t,this.gm=i,this.gk=s,this.maps=new P(200,100,this.gg,this),this.km=new b(this.gg,this.gk,"まさお"),this.co_j=new g;for(var e=0;e<=129;e++)this.co_t[e]=new g;for(var a=0;a<=23;a++)this.co_m[a]=new g;for(var c=0;c<=31;c++)this.co_a[c]=new g;for(var o=0;o<=63;o++)this.co_h[o]=new g;for(var _=0;_<=1;_++)this.co_jm[_]=new g;this.co_b=new k,2==this.paraInt("stage_select")?(this.stage_select=2,this.stage_max=4):this.stage_select=1,this.ig=new w(this.gg,this.gk,this.km,this),this.ranInit(),this.hi=this.gg.spt_img[0],this.hih=this.gg.spt_img,this.hg=this.gg.os_g,this.ap=this.gg.ap,this.init1()}function E(t,i,s,h){this.th_interval=70,this.th_jm=10,this.params=t,this.__canvas=i,this.__appimg=new e(512,320),this.__game=s,this.options=h}D.prototype.start=function(){this.ml_mode=50},D.prototype.paraInt=function(t){var i,s=this.gg.ap.getParameter(t);return i=parseInt(s),isNaN(i)&&(i=-1),i},D.prototype.addHighscoreEvent=function(t){return this.heh=t,!0},D.prototype.sendHighscore=function(){if("[object Function]"==Object.prototype.toString.call(this.heh)){var t=this.highscore;t<this.score&&(t=this.score),this.heh(t)}},D.prototype.moveGameCounter=function(){switch(this.g_c3){case 0:this.g_c3=1,this.g_c1=1,this.g_c2=1,this.g_ac=0,this.g_ac2=0;break;case 1:this.g_c3=2,this.g_c1=0,this.g_c2=2,this.g_ac=1,this.g_ac2=1;break;case 2:this.g_c3=3,this.g_c1=1,this.g_c2=3,this.g_ac=1,this.g_ac2=1;break;case 3:this.g_c3=4,this.g_c1=0,this.g_c2=0,this.g_ac=0,this.g_ac2=2;break;case 4:this.g_c3=5,this.g_c1=1,this.g_c2=1,this.g_ac=0,this.g_ac2=2;break;case 5:this.g_c3=6,this.g_c1=0,this.g_c2=2,this.g_ac=1,this.g_ac2=3;break;case 6:this.g_c3=7,this.g_c1=1,this.g_c2=3,this.g_ac=1,this.g_ac2=3;break;case 7:this.g_c3=0,this.g_c1=0,this.g_c2=0,this.g_ac=0,this.g_ac2=0}},D.prototype.ranInit=function(){this.ran_seed=4294967296*Math.random()|0},D.prototype.ranInt=function(t){var i=this.ran_seed;return i=((i=(i^i<<9)>>>0)^i>>>11)>>>0,this.ran_seed=i=(i^i<<19)>>>0,2.3283064365386963e-10*i*t|0},D.prototype.drawScore=function(){this.hg.setColor(this.gamecolor_score),this.hg.setFont(new _(_.DIALOG,1,this.moji_size));var t=this.moji_size+14,i="";if(this.score_v&&(i+="".concat(this.moji_score," ").concat(this.score,"    ").concat(this.moji_highscore," ").concat(this.highscore)),(this.j_left_shoki>0||this.j_left>0)&&(i+="".concat(this.moji_left).concat(this.j_left)),this.time_max>0){var s=Math.floor(this.time/1e3);i+="".concat(this.moji_time).concat(s)}this.hg.drawString(i,40,t)},D.prototype.drawScore2=function(){this.hg.setColor(this.gamecolor_score),this.hg.setFont(new _(_.DIALOG,1,this.moji_size));var t=this.moji_size+14,i="";this.score_v&&(i="".concat(this.moji_score," ").concat(this.score,"    ").concat(this.moji_highscore," ").concat(this.highscore)),(this.j_left_shoki>0||this.j_left>0)&&(i+="".concat(this.moji_left).concat(this.j_left)),this.hg.drawString(i,40,t)},D.prototype.addScore=function(t){this.score+=t,this.score_1up_1>0&&this.score>=this.score_1up_1&&(this.j_left++,this.score_1up_1=0),this.score_1up_2>0&&this.score>=this.score_1up_2&&(this.j_left++,this.score_1up_2=0)},D.prototype.addSerifu=function(t,i,s){for(var h=1;h<=s;h++){var e=this.gg.ap.getParameter("serifu"+i+"-"+h);0!=parseInt(e,10)&&this.km.addItem(t,e)}},D.prototype.mL100=function(){if(this.moveGameCounter(),this.aMove(),100==this.co_j.c?this.jM100():this.jMove(),this.sl_step>0&&(10==this.sl_step||11==this.sl_step?(this.ks_wx+=this.sl_speed,this.ks_wx>this.maps.wx_max&&(this.ks_wx=this.maps.wx_max),this.maps.wx=this.ks_wx,this.maps.wy=this.ks_wy,300!=this.co_j.c&&310!=this.co_j.c&&(this.co_j.x<this.ks_wx-16?(this.co_j.x=this.ks_wx-16,this.co_j.vx<0&&(this.co_j.vx=0),(this.maps.getBGCode(this.co_j.x+15,this.co_j.y)>=20||this.maps.getBGCode(this.co_j.x+15,this.co_j.y+31)>=20)&&this.co_j.c>=100&&this.co_j.c<200&&(this.co_j.c=210,this.co_j.y=this.maps.wy-64,this.co_j.c1=0,this.j_jet_c=0,this.j_v_c=0)):this.co_j.x>this.ks_wx+496&&(this.co_j.x=this.ks_wx+496,this.co_j.vx=0,this.co_j.vx>0&&(this.co_j.vx=0))),11==this.sl_step&&this.maps.wx>=this.sl_wx&&(this.maps.wx=this.sl_wx,this.sl_wy=this.ks_wy,this.sl_step=3)):1==this.sl_step?this.maps.wx>=this.sl_wx&&(this.maps.wx=this.sl_wx,this.sl_step=2):2==this.sl_step?(this.maps.wx=this.sl_wx,this.co_j.x<this.sl_wx-16?(this.co_j.x=this.sl_wx-16,this.co_j.vx=0):this.co_j.x>this.sl_wx+496&&(this.co_j.x=this.sl_wx+496,this.co_j.vx=0),this.maps.wy>=this.sl_wy&&(this.maps.wy=this.sl_wy,this.sl_step=3)):(this.maps.wx=this.sl_wx,this.maps.wy=this.sl_wy,this.co_j.x<this.sl_wx-16?(this.co_j.x=this.sl_wx-16,this.co_j.vx=0):this.co_j.x>this.sl_wx+496&&(this.co_j.x=this.sl_wx+496,this.co_j.vx=0))),this.jm_kazu>0&&this.jmMove(),this.tMove(),this.co_b.c>0&&this.bMove(),this.m_kazu>0&&this.mMove(),this.time_max>0&&this.stage_cc<=0&&(this.time-=70,this.time<0&&(this.time=0,this.j_left--,this.j_left<0?(this.j_left=0,this.ml_mode=300):this.ml_mode=90)),this.stage_cc>0&&(this.stage_cc++,this.stage_cc>28&&(2==this.stage_select?this.stage>=4?this.ml_mode=400:(this.time_max>0&&this.addScore(Object(h.d)(this.time/1e3)),this.ml_mode=260):this.stage>=this.stage_max?this.ml_mode=400:(this.stage++,this.time_max>0&&this.addScore(Object(h.d)(this.time/1e3)),this.ml_mode=90))),this.drawGamescreen(),this.drawScore(),this.j_jet_fuel>0){var t=this.moji_jet+" "+this.j_jet_fuel;this.j_gr_kazu>0&&(t=1==this.j_gr_kazu?t+"    "+this.moji_grenade:t+"    "+this.moji_grenade+" "+this.j_gr_kazu),this.hg.drawString(t,40,287+this.moji_size)}else this.j_gr_kazu>0&&(1==this.j_gr_kazu?this.hg.drawString(this.moji_grenade,40,287+this.moji_size):this.hg.drawString(this.moji_grenade+" "+this.j_gr_kazu,40,287+this.moji_size));84==this.gk.key_code&&(this.gk.key_code=0,this.ml_mode=50)},D.prototype.mainLoop=function(){var t=this,i=function(){t.hg.setColor(o.black),t.hg.fillRect(0,0,t.gg.di.width,t.gg.di.height)},s=function(){t.gg.drawListImage(0,0,0),(t.score>0||t.highscore>0)&&t.drawScore()},e=function(){84==t.gk.key_code&&(t.gk.key_code=0,t.ml_mode=50)};switch(this.ml_mode){default:break;case 50:s(),this.gm.button_f||this.gk.tr1_f||(this.ml_mode=60,this.g_c1=0,this.sendHighscore());break;case 60:if(0==this.g_c1?118==this.gk.key_char&&(this.g_c1=1):1==this.g_c1?101==this.gk.key_char?this.g_c1=2:118!=this.gk.key_char&&(this.g_c1=0):2==this.g_c1&&(114==this.gk.key_char?this.ml_mode=1e3:101!=this.gk.key_char&&(this.g_c1=0)),!this.gm.button_f&&!this.gk.tr1_f)break;if(2==this.stage_select){this.init2(),this.ig.worldInit(),i(),this.ml_mode=200;break}this.init2(),this.init3(),s(),this.j_left<=0?this.ml_mode=100:this.ml_mode=90;break;case 80:this.init2(),this.init3(),s(),this.j_left<=0?this.ml_mode=100:this.ml_mode=90;break;case 90:this.init3(),this.hg.setColor(this.gamecolor_kaishi),this.hg.fillRect(0,0,this.gg.di.width,this.gg.di.height),this.stage>=this.stage_max?(this.gg.drawPT(160,144,52,0),this.gg.drawPT(192,144,53,0),this.gg.drawPT(224,144,54,0),this.gg.drawPT(256,144,55,0),this.gg.drawPT(288,144,56,0),this.gg.drawPT(320,144,57,0)):(this.gg.drawPT(192,144,70,0),this.gg.drawPT(224,144,71,0),this.gg.drawPT(256,144,72,0),this.stage>=this.stage_max&&this.gg.drawPT(288,144,75,0),3==this.stage?this.gg.drawPT(288,144,75,0):2==this.stage?this.gg.drawPT(288,144,74,0):this.gg.drawPT(288,144,73,0)),this.drawScore(),this.ml_mode=91,this.ml_mode_c=0;break;case 91:this.ml_mode_c++,this.ml_mode_c>35&&(this.ml_mode=100),e();break;case 95:switch(this.stage=this.ig.checkStage(),this.init3(),this.ig.shop_kattaitem){case 7:default:break;case 0:this.j_gr_kazu=3;break;case 1:this.j_jet_fuel=80;break;case 2:this.j_drell_f=!0;break;case 3:this.j_helm_f=!0;break;case 4:this.j_tail_f=!0;break;case 5:this.j_v_c=150,this.j_v_kakudo=0;break;case 6:this.j_fire_f=!0;break;case 8:this.time_max>0&&(this.time+=3e4)}i(),this.drawScore(),this.ml_mode=96,this.ml_mode_c=0;break;case 96:this.ml_mode_c++,this.ml_mode_c>8&&(this.ml_mode=100),e();break;case 200:this.ig.drawMap(),this.ig.mainProgram(),this.time=0,this.drawScore2(),110==this.ig.mp_mode&&(this.ig.dokan_khID>=1?this.ml_mode=230:this.ml_mode=95),e();break;case 230:i(),this.drawScore2(),this.ml_mode=231,this.ml_mode_c=0;break;case 231:var a;if(this.ml_mode_c++,5==this.ml_mode_c)a=2==this.ig.dokan_khID?this.gg.ap.getParameter("url2"):3==this.ig.dokan_khID?this.gg.ap.getParameter("url3"):4==this.ig.dokan_khID?this.gg.ap.getParameter("url4"):this.gg.ap.getParameter("url1"),location.href=a;else this.ml_mode_c>80&&(this.ml_mode=50);e();break;case 250:this.addScore(0),this.ig.worldInit2(),this.ml_mode=251,this.ml_mode_c=0,i(),this.drawScore();break;case 251:this.ml_mode_c++,this.ml_mode_c>8&&(this.ml_mode=200),e();break;case 260:this.addScore(0),this.ig.worldInit3(),this.ml_mode=261,this.ml_mode_c=0,i(),this.drawScore();break;case 261:this.ml_mode_c++,this.ml_mode_c>8&&(this.ml_mode=200),e();break;case 300:this.gg.setBackcolor(o.black),this.gg.fill(),this.gg.drawListImage(0,0,2),this.drawScore(),this.sendHighscore(),this.ml_mode=310,this.ml_mode_c=0;break;case 310:this.ml_mode_c++,this.ml_mode_c>45&&(this.ml_mode=50),e();break;case 400:this.gg.drawListImage(0,0,1),this.time_max>0&&this.addScore(Object(h.d)(this.time/1e3)),this.drawScore(),this.sendHighscore(),this.ml_mode=410,this.ml_mode_c=0;break;case 410:this.ml_mode_c++,this.ml_mode_c>120&&(this.ml_mode=50),e();break;case 500:this.gg.setBackcolor(o.black),this.gg.fill(),s(),this.ml_mode=50;break;case 1e3:this.gg.setBackcolor(o.black),this.gg.fill(),this.hg.setFont(new _(_.DIALOG,0,46)),this.hg.setColor(o.white),this.hg.setFont(new _(_.DIALOG,0,20)),this.hg.drawString("Title        MASAO CONSTRUCTION",50,50),this.hg.drawString("Version      2.8",50,80),this.hg.drawString("Language     Java2  SDK 1.3.1",50,110),this.hg.drawString("OS           WindowsXP",50,140),this.hg.drawString("Browser      InternetExplorer 6.0",50,170),this.hg.drawString("Programing   Fukuda Naoto",50,200),this.hg.drawString("Date         2003/6",50,230),this.ml_mode=1010,this.ml_mode_c=0;break;case 1010:this.ml_mode_c++,this.ml_mode_c>40&&(this.ml_mode=50)}},D.prototype.init1=function(){this.time_max=this.paraInt("time_max");var t=this.paraInt("score_v");this.score_v=2!=t,t=this.paraInt("backcolor_red");var i=this.paraInt("backcolor_green"),s=this.paraInt("backcolor_blue");t<0?t=0:t>255&&(t=255),i<0?i=0:i>255&&(i=255),s<0?s=0:s>255&&(s=255),this.gamecolor_back=new o(t,i,s),(t=this.paraInt("backcolor_red_s"))<0?t=0:t>255&&(t=255),(i=this.paraInt("backcolor_green_s"))<0?i=0:i>255&&(i=255),(s=this.paraInt("backcolor_blue_s"))<0?s=0:s>255&&(s=255),this.gamecolor_back_s=new o(t,i,s),(t=this.paraInt("backcolor_red_t"))<0?t=0:t>255&&(t=255),(i=this.paraInt("backcolor_green_t"))<0?i=0:i>255&&(i=255),(s=this.paraInt("backcolor_blue_t"))<0?s=0:s>255&&(s=255),this.gamecolor_back_t=new o(t,i,s),(t=this.paraInt("backcolor_red_f"))<0?t=0:t>255&&(t=255),(i=this.paraInt("backcolor_green_f"))<0?i=0:i>255&&(i=255),(s=this.paraInt("backcolor_blue_f"))<0?s=0:s>255&&(s=255),this.gamecolor_back_f=new o(t,i,s),(t=this.paraInt("kaishi_red"))<0?t=0:t>255&&(t=255),(i=this.paraInt("kaishi_green"))<0?i=0:i>255&&(i=255),(s=this.paraInt("kaishi_blue"))<0?s=0:s>255&&(s=255),this.gamecolor_kaishi=new o(t,i,s),(t=this.paraInt("scorecolor_red"))<0?t=0:t>255&&(t=255),(i=this.paraInt("scorecolor_green"))<0?i=0:i>255&&(i=255),(s=this.paraInt("scorecolor_blue"))<0?s=0:s>255&&(s=255),this.gamecolor_score=new o(t,i,s),(t=this.paraInt("grenade_red1"))<0?t=0:t>255&&(t=255),(i=this.paraInt("grenade_green1"))<0?i=0:i>255&&(i=255),(s=this.paraInt("grenade_blue1"))<0?s=0:s>255&&(s=255),this.gamecolor_grenade1=new o(t,i,s),(t=this.paraInt("grenade_red2"))<0?t=0:t>255&&(t=255),(i=this.paraInt("grenade_green2"))<0?i=0:i>255&&(i=255),(s=this.paraInt("grenade_blue2"))<0?s=0:s>255&&(s=255),this.gamecolor_grenade2=new o(t,i,s),(t=this.paraInt("firebar_red1"))<0?t=0:t>255&&(t=255),(i=this.paraInt("firebar_green1"))<0?i=0:i>255&&(i=255),(s=this.paraInt("firebar_blue1"))<0?s=0:s>255&&(s=255),this.gamecolor_firebar1=new o(t,i,s),(t=this.paraInt("firebar_red2"))<0?t=0:t>255&&(t=255),(i=this.paraInt("firebar_green2"))<0?i=0:i>255&&(i=255),(s=this.paraInt("firebar_blue2"))<0?s=0:s>255&&(s=255),this.gamecolor_firebar2=new o(t,i,s),(t=this.paraInt("mizunohadou_red"))<0?t=0:t>255&&(t=255),(i=this.paraInt("mizunohadou_green"))<0?i=0:i>255&&(i=255),(s=this.paraInt("mizunohadou_blue"))<0?s=0:s>255&&(s=255),this.gamecolor_mizunohadou=new o(t,i,s),this.moji_score=this.gg.ap.getParameter("moji_score"),this.moji_highscore=this.gg.ap.getParameter("moji_highscore"),this.moji_time=this.gg.ap.getParameter("moji_time"),this.moji_time="    "+this.moji_time+" ",this.moji_jet=this.gg.ap.getParameter("moji_jet"),this.moji_grenade=this.gg.ap.getParameter("moji_grenade"),this.moji_left=this.gg.ap.getParameter("moji_left"),this.moji_left="    "+this.moji_left+" ",this.moji_size=this.paraInt("moji_size"),this.moji_size<10?this.moji_size=10:this.moji_size>30&&(this.moji_size=30),this.j_left_shoki=this.paraInt("jibun_left_shoki"),this.j_left_shoki<1&&(this.j_left_shoki=1),this.j_left_shoki--,this.stage_max=this.paraInt("stage_max"),this.stage_max<1?this.stage_max=1:this.stage_max>4&&(this.stage_max=4),2==this.stage_select&&(this.stage_max=4),this.stage_kaishi=this.paraInt("stage_kaishi"),this.stage_kaishi<1&&(this.stage_kaishi=1),this.stage_kaishi>this.stage_max&&(this.stage_kaishi=this.stage_max),this.score_1up_1_para=this.paraInt("score_1up_1"),(this.score_1up_1_para<0||this.stage_max<=1)&&(this.score_1up_1_para=0),this.score_1up_2_para=this.paraInt("score_1up_2"),(this.score_1up_2_para<0||this.stage_max<=1)&&(this.score_1up_2_para=0),this.j_tail_type=this.paraInt("j_tail_type"),(this.j_tail_type<1||this.j_tail_type>3)&&(this.j_tail_type=1);var h=this.paraInt("j_tail_hf");this.j_tail_hf=2==h,this.grenade_type=this.paraInt("grenade_type"),(this.grenade_type<1||this.grenade_type>6)&&(this.grenade_type=1),this.suberuyuka_hkf=this.paraInt("suberuyuka_hkf"),2==this.suberuyuka_hkf?this.suberuyuka_hkf=2:this.suberuyuka_hkf=1,h=this.paraInt("j_fire_mkf"),this.j_fire_mkf=2==h,h=this.paraInt("dengeki_mkf"),this.dengeki_mkf=2==h,h=this.paraInt("yachamo_kf"),this.yachamo_cf=2==h,h=this.paraInt("airms_kf"),this.airms_kf=2==h,this.ugokuyuka1_type=this.paraInt("ugokuyuka1_type"),(this.ugokuyuka1_type<1||this.ugokuyuka1_type>7)&&(this.ugokuyuka1_type=1),this.ugokuyuka2_type=this.paraInt("ugokuyuka2_type"),(this.ugokuyuka2_type<1||this.ugokuyuka2_type>7)&&(this.ugokuyuka2_type=1),this.ugokuyuka3_type=this.paraInt("ugokuyuka3_type"),(this.ugokuyuka3_type<1||this.ugokuyuka3_type>7)&&(this.ugokuyuka3_type=1),this.boss_type=this.paraInt("boss_type"),(this.boss_type<1||this.boss_type>4)&&(this.boss_type=1),this.boss2_type=this.paraInt("boss2_type"),(this.boss2_type<1||this.boss2_type>2)&&(this.boss2_type=1),this.boss3_type=this.paraInt("boss3_type"),(this.boss3_type<1||this.boss3_type>4)&&(this.boss3_type=1),this.dokan_mode=this.paraInt("dokan_mode"),(this.dokan_mode<1||this.dokan_mode>2)&&(this.dokan_mode=1),this.mes1_name=this.gg.ap.getParameter("mes1_name"),this.mes2_name=this.gg.ap.getParameter("mes2_name"),this.shop_name=this.gg.ap.getParameter("shop_name"),this.setumei_name=this.gg.ap.getParameter("setumei_name"),this.door_score=this.paraInt("door_score"),this.door_score<10&&(this.door_score=10),this.shop_item_name[0]=this.gg.ap.getParameter("shop_item_name1"),this.shop_item_name[1]=this.gg.ap.getParameter("shop_item_name2"),this.shop_item_name[2]=this.gg.ap.getParameter("shop_item_name3"),this.shop_item_name[3]=this.gg.ap.getParameter("shop_item_name4"),this.shop_item_name[4]=this.gg.ap.getParameter("shop_item_name5"),this.shop_item_name[5]=this.gg.ap.getParameter("shop_item_name6"),this.shop_item_name[6]=this.gg.ap.getParameter("shop_item_name7"),this.shop_item_name[7]=this.gg.ap.getParameter("shop_item_name8"),this.shop_item_name[8]=this.gg.ap.getParameter("shop_item_name9");for(var e=0;e<=8;e++){var a=e+1;(a=this.paraInt("shop_item_teika"+a))<0&&(a=0),this.shop_item_teika[e]=a}},D.prototype.init2=function(){this.score>this.highscore&&(this.highscore=this.score),this.j_left=this.j_left_shoki,this.score_1up_1=this.score_1up_1_para,this.score_1up_2=this.score_1up_2_para;for(var t=0;t<=2;t++)this.stage_1up_f[t]=!0;this.gk.key_code=0,this.score=0,this.stage=this.stage_kaishi,this.time_max>0?this.time=1e3*this.time_max+1e3-70:this.time=0},D.prototype.init3=function(){this.sendHighscore(),this.g_c1=0,this.g_c2=0,this.g_c3=0,this.g_ac=0,this.g_ac2=0,this.stage_cc=0,this.co_j.init(),this.co_j.c=100,this.co_j.x=100,this.co_j.y=100,this.co_j.pt=100,this.co_j.muki=1,this.co_j.jimen_f=!1,this.j_hashiru_f=!1,this.j_jump_level=0,this.j_jump_type=0,this.j_a_id=-1,this.tr1_c=0,this.tr2_c=0,this.gk.left_c=0,this.gk.right_c=0,this.left_dcc=0,this.right_dcc=0,this.ochiru_y=9999,this.j_fire_f=!1,this.j_v_c=0,this.j_v_kakudo=0,this.j_jet_c=0,this.j_jet_kf=!1,this.j_jet_fuel=0,this.j_helm_f=!1,this.j_drell_f=!1,this.j_tail_f=!1,this.j_tail_ac=0,this.j_gr_kazu=0,this.j_mizu_f=!1,this.j_mizu_ac=0,this.j_mizu_awa_c=0,this.j_jdai_f=!1,this.hitokoto_c=0,this.hitokoto_num=1,this.j_tail_hf&&(this.j_tail_f=!0);for(var t=0;t<=5;t++)this.j_zan_x[t]=0,this.j_zan_y[t]=0,this.j_zan_pt[t]=0,this.j_zan_pth[t]=0;var i;this.j_zan_p=0,this.j_zan_c=0,this.j_zan_nagasa=0,this.j_zan_f=!1,this.sl_step=0,this.sl_speed=0,this.sl_wx=0,this.sl_wy=0,2==(i=2==this.stage?this.paraInt("scroll_mode_s"):3==this.stage?this.paraInt("scroll_mode_t"):4==this.stage?this.paraInt("scroll_mode_f"):this.paraInt("scroll_mode"))?(this.sl_step=10,this.ks_wx=32,this.ks_wy=960,this.sl_speed=2):3==i&&(this.sl_step=10,this.ks_wx=32,this.ks_wy=960,this.sl_speed=4);for(var s=0;s<=31;s++){this.co_a[s].init();for(var h=0;h<=3;h++)this.vo_x[s][h]=0,this.vo_y[s][h]=0}this.a_kazu=-1,this.a_hf=!1;for(var e=0;e<=129;e++)this.co_t[e].init();this.t_kazu=-1,this.co_b.init(),this.boss_kijyun_y=0;for(var a=0;a<=23;a++)this.co_m[a].init();this.m_kazu=0;for(var c=0;c<=1;c++)this.co_jm[c].init();this.jm_kazu=0;for(var o=0;o<=63;o++)this.co_h[o].init();this.time_max>0?this.time=1e3*this.time_max+1e3-70:this.time=0,this.mapsMakeStageData(100+this.stage),10!=this.sl_step&&11!=this.sl_step||(this.ks_wx=this.maps.wx,this.ks_wx<=128&&(this.ks_wx=32)),this.maps.drawMap(this.maps.wx,this.maps.wy)},D.prototype.mapsMakeStageData=function(t){this.maps.init();var i=this.maps.map_string;this.maps.wx=32,this.maps.wy=32,this.maps.wx_mini=32,this.maps.wy_mini=320,this.maps.wx_max=5856,this.maps.wy_max=6048;switch(this.gg.setBackcolor(o.blue),t){default:break;case 101:this.maps.setBank(0),this.gg.setBackcolor(this.gamecolor_back),this.maps.wx_max=5280,this.maps.wy_max=960;for(var s=0;s<=29;s++){var h="."+this.gg.ap.getParameter("map0-"+s);h+=this.gg.ap.getParameter("map1-"+s),h+=this.gg.ap.getParameter("map2-"+s),i[s+10]=h}break;case 102:this.maps.setBank(0),this.gg.setBackcolor(this.gamecolor_back_s),this.maps.wx_max=5280,this.maps.wy_max=960;for(var e=0;e<=29;e++){var a="."+this.gg.ap.getParameter("map0-"+e+"-s");a+=this.gg.ap.getParameter("map1-"+e+"-s"),a+=this.gg.ap.getParameter("map2-"+e+"-s"),i[e+10]=a}break;case 103:this.maps.setBank(0),this.gg.setBackcolor(this.gamecolor_back_t),this.maps.wx_max=5280,this.maps.wy_max=960;for(var c=0;c<=29;c++){var _="."+this.gg.ap.getParameter("map0-"+c+"-t");_+=this.gg.ap.getParameter("map1-"+c+"-t"),_+=this.gg.ap.getParameter("map2-"+c+"-t"),i[c+10]=_}break;case 104:this.maps.setBank(0),this.gg.setBackcolor(this.gamecolor_back_f),this.maps.wx_max=5280,this.maps.wy_max=960;for(var r=0;r<=29;r++){var n="."+this.gg.ap.getParameter("map0-"+r+"-f");n+=this.gg.ap.getParameter("map1-"+r+"-f"),n+=this.gg.ap.getParameter("map2-"+r+"-f"),i[r+10]=n}}for(var p=0;p<this.maps.height;p++)if(i[p].length<this.maps.width)for(var m=i[p].length;m<this.maps.width;m++)i[p]+=".";for(var g=0;g<this.maps.height;g++)for(var u=0;u<this.maps.width;u++){var f=i[g].charAt(u),y=-1;"."!=f&&("1"==f?y=1:"2"==f?y=2:"3"==f?y=3:"4"==f?y=4:"5"==f?y=5:"6"==f?y=6:"7"==f?y=7:"8"==f?y=8:"9"==f?y=9:"a"==f?y=20:"b"==f?y=21:"c"==f?y=22:"d"==f?y=23:"e"==f?y=24:"f"==f?y=25:"g"==f?y=26:"h"==f?y=27:"i"==f?y=28:"j"==f?y=29:"k"==f?(y=40,this.hSet(u,g,100)):"l"==f?(y=40,this.hSet(u,g,200)):"m"==f?(y=40,this.hSet(u,g,300)):"n"==f?(y=40,this.hSet(u,g,400)):"o"==f?(y=40,this.hSet(u,g,500)):"p"==f?(y=40,this.hSet(u,g,600)):"q"==f?(y=40,this.hSet(u,g,700)):"r"==f?(y=40,this.hSet(u,g,800)):"s"==f?(y=40,this.hSet(u,g,900)):"t"==f?(y=40,this.hSet(u,g,1e3)):"u"==f?(this.aSet(32*u,32*g,300,32*u),4==this.maps.map_bg[u-1][g]&&(y=4)):"v"==f?(this.aSet(32*u,32*g,310,32*u),4==this.maps.map_bg[u-1][g]&&(y=4)):"w"==f?(this.aSet(32*u,32*g,320,32*u),4==this.maps.map_bg[u-1][g]&&(y=4)):"x"==f?(this.aSet(32*u,32*g,330,32*u),4==this.maps.map_bg[u-1][g]&&(y=4)):"y"==f?this.stage_1up_f[this.stage-1]?(y=40,this.hSet(u,g,1100)):y=41:"z"==f?y=69:"+"==f?(this.aSet(32*u,32*g,80,32*u),4==this.maps.map_bg[u-1][g]&&(y=4)):"-"==f?(this.aSet(32*u,32*g,81,32*u),4==this.maps.map_bg[u-1][g]&&(y=4)):"*"==f?(this.aSet(32*u,32*g,82,32*u),4==this.maps.map_bg[u-1][g]&&(y=4)):"/"==f?(this.aSet(32*u,32*g,83,32*u),4==this.maps.map_bg[u-1][g]&&(y=4)):"A"==f?(this.co_j.x=32*u,this.co_j.y=32*g,4==this.maps.map_bg[u-1][g]&&(y=4)):"B"==f?(this.tSet(32*u,32*g,100,32*u-512-32),4==this.maps.map_bg[u-1][g]&&(y=4)):"C"==f?(this.tSet(32*u,32*g,110,32*u-512-32),4==this.maps.map_bg[u-1][g]&&(y=4)):"D"==f?(this.tSet(32*u,32*g,110,32*u-512-32),this.tSet(32*u+75,32*g,110,32*u-512-32),this.tSet(32*u+150,32*g,110,32*u-512-32),4==this.maps.map_bg[u-1][g]&&(y=4)):"E"==f?(this.tSet(32*u,32*g,200,32*u-512-32),4==this.maps.map_bg[u-1][g]&&(y=4)):"F"==f?(this.tSet(32*u,32*g,300,32*u-512-32),4==this.maps.map_bg[u-1][g]&&(y=4)):"G"==f?(this.tSet(32*u,32*g,400,32*u-512-32),4==this.maps.map_bg[u-1][g]&&(y=4)):"H"==f?(this.tSet(32*u,32*g,500,32*u-512-32),4==this.maps.map_bg[u-1][g]&&(y=4)):"I"==f?(this.tSet(32*u,32*g,510,32*u-512-32),4==this.maps.map_bg[u-1][g]&&(y=4)):"J"==f?(this.tSet(32*u,32*g,510,32*u-512-32-32),this.tSet(32*u+80,32*g-40,510,32*u-512-32-32),this.tSet(32*u+140,32*g+38,510,32*u-512-32-32),4==this.maps.map_bg[u-1][g]&&(y=4)):"K"==f?(2==this.ugokuyuka1_type?this.aSet(32*u,32*g,500,32*u):3==this.ugokuyuka1_type?this.aSet(32*u,32*g,510,32*u):4==this.ugokuyuka1_type?this.aSet(32*u,32*g,120,32*u):5==this.ugokuyuka1_type?this.aSet(32*u,32*g,121,32*u):6==this.ugokuyuka1_type?this.aSet(32*u,32*g,600,32*u):7==this.ugokuyuka1_type?this.aSet(32*u,32*g,700,32*u):this.aSet(32*u,32*g,100,32*u),4==this.maps.map_bg[u-1][g]&&(y=4)):"L"==f?(2==this.ugokuyuka2_type?this.aSet(32*u,32*g,500,32*u):3==this.ugokuyuka2_type?this.aSet(32*u,32*g,510,32*u):4==this.ugokuyuka2_type?this.aSet(32*u,32*g,120,32*u):5==this.ugokuyuka2_type?this.aSet(32*u,32*g,121,32*u):6==this.ugokuyuka2_type?this.aSet(32*u,32*g,600,32*u):7==this.ugokuyuka2_type?this.aSet(32*u,32*g,700,32*u):this.aSet(32*u,32*g+9,110,32*u-16),4==this.maps.map_bg[u-1][g]&&(y=4)):"M"==f?(2==this.ugokuyuka3_type?this.aSet(32*u,32*g,500,32*u):3==this.ugokuyuka3_type?this.aSet(32*u,32*g,510,32*u):4==this.ugokuyuka3_type?this.aSet(32*u,32*g,120,32*u):5==this.ugokuyuka3_type?this.aSet(32*u,32*g,121,32*u):6==this.ugokuyuka3_type?this.aSet(32*u,32*g,600,32*u):7==this.ugokuyuka3_type?this.aSet(32*u,32*g,700,32*u):(this.aSet(32*u,32*g+9,115,32*u-16),this.aSet(32*u,32*g+9,116,32*u-16)),4==this.maps.map_bg[u-1][g]&&(y=4)):"N"==f?(this.aSet(32*u-32,32*g,400,32*u),4==this.maps.map_bg[u-1][g]&&(y=4)):"O"==f?(this.tSet(32*u,32*g,600,32*u-512-32),4==this.maps.map_bg[u-1][g]&&(y=4)):"P"==f?(this.tSet(32*u,32*g,700,32*u-512-32),4==this.maps.map_bg[u-1][g]&&(y=4)):"Q"==f?(this.tSet(32*u,32*g,800,32*u-512-32),4==this.maps.map_bg[u-1][g]&&(y=4)):"R"==f?(this.tSet(32*u,32*g,900,32*u-512-32),4==this.maps.map_bg[u-1][g]&&(y=4)):"S"==f?(this.co_b.c=100,this.co_b.c4=3,this.co_b.x=32*u,this.co_b.y=32*g-16,4==this.maps.map_bg[u-1][g]&&(y=4),this.co_b.x<448?this.co_b.x=448:this.co_b.x>5664&&(this.co_b.x=5664),10==this.sl_step?this.sl_step=11:this.sl_step=1,this.sl_wx=this.co_b.x-384,this.sl_wy=960):"T"==f?(this.co_b.c=200,this.co_b.c4=3,this.co_b.x=32*u,this.co_b.y=32*g-16,4==this.maps.map_bg[u-1][g]&&(y=4),this.co_b.x<448?this.co_b.x=448:this.co_b.x>5664&&(this.co_b.x=5664),10==this.sl_step?this.sl_step=11:this.sl_step=1,this.sl_wx=this.co_b.x-384,this.sl_wy=960):"U"==f?(this.aSet(32*u+16,32*g+16,70,32*u),y=50):"V"==f?(this.aSet(32*u+16,32*g+16,71,32*u),y=50):"W"==f?(this.tSet(32*u,32*g-16,1e3,32*u-512-32-32),y=4):"X"==f?(this.tSet(32*u,32*g,1100,32*u-512-32),y=4):"Y"==f?(this.aSet(32*u,32*g,60,32*u),4==this.maps.map_bg[u-1][g]&&(y=4)):"Z"==f&&(this.co_b.c=300,this.co_b.c4=3,this.co_b.x=32*u,this.co_b.y=32*g-16,this.boss_kijyun_y=this.co_b.y,4==this.maps.map_bg[u-1][g]&&(y=4),this.co_b.x<448?this.co_b.x=448:this.co_b.x>5664&&(this.co_b.x=5664),10==this.sl_step?this.sl_step=11:this.sl_step=1,this.sl_wx=this.co_b.x-384,this.sl_wy=960),y>=0&&(this.maps.map_bg[u][g]=y))}for(var l=0;l<=this.maps.width-1;l++)this.maps.map_bg[l][0]=21,this.maps.map_bg[l][this.maps.height-1]=21;for(var j=0;j<=this.maps.height-1;j++)this.maps.map_bg[0][j]=21,this.maps.map_bg[181][j]=21,this.maps.map_bg[199][j]=21;this.ochiru_y=this.maps.wy_max+320,this.maps.wx=this.co_j.x-96,this.maps.wy=this.co_j.y-176,this.maps.wx<this.maps.wx_mini?this.maps.wx=this.maps.wx_mini:this.maps.wx>this.maps.wx_max&&(this.maps.wx=this.maps.wx_max),this.maps.wy<this.maps.wy_mini?this.maps.wy=this.maps.wy_mini:this.maps.wy>this.maps.wy_max&&(this.maps.wy=this.maps.wy_max),this.co_j.wx=this.co_j.x-this.maps.wx,this.co_j.wy=this.co_j.y-this.maps.wy},D.prototype.drawGamescreen=function(){(function(){this.maps.drawMapScroll(this.g_ac2);var t=this.maps.wx,i=this.maps.wy;this.co_j.wx=this.co_j.x-t,this.co_j.wy=this.co_j.y-i,this.a_hf&&z.apply(this),this.m_kazu>0&&T.apply(this),this.jm_kazu>0&&G.apply(this),C.apply(this),B.apply(this),O.apply(this),this.hitokoto_c>0&&(this.hitokoto_c--,A.apply(this))}).apply(this)},D.prototype.jM100=function(){var t=!1,i=!1;this.j_mizu_f=!1;var s=this.maps.getBGCode(this.co_j.x+15,this.co_j.y+15);4==s?(this.j_mizu_f=!0,this.j_jet_c=0,this.j_mizu_awa_c++,44==this.j_mizu_awa_c||54==this.j_mizu_awa_c?this.mSet(this.co_j.x,this.co_j.y+4,60):this.j_mizu_awa_c>54&&(this.j_mizu_awa_c=0)):8!=s&&9!=s||4!=this.maps.map_bg[(this.co_j.x+15>>5)-1][this.co_j.y+15>>5]||(this.j_mizu_f=!0,this.j_jet_c=0,this.j_mizu_awa_c++,44==this.j_mizu_awa_c||54==this.j_mizu_awa_c?this.mSet(this.co_j.x,this.co_j.y+4,60):this.j_mizu_awa_c>54&&(this.j_mizu_awa_c=0)),this.gk.tr1_f?this.tr1_c<6&&this.tr1_c++:this.tr1_c=0,this.gk.tr2_f?this.tr2_c<2&&this.tr2_c++:this.tr2_c=0,this.gk.left_f?this.gk.left_c<2&&this.gk.left_c++:this.gk.left_c=0,this.gk.right_f?this.gk.right_c<2&&this.gk.right_c++:this.gk.right_c=0,1==this.gk.left_c?(this.left_dcc>0?this.j_hashiru_f=!0:this.j_hashiru_f=!1,this.left_dcc=8):this.left_dcc>0&&this.left_dcc--,1==this.gk.right_c?(this.right_dcc>0?this.j_hashiru_f=!0:this.j_hashiru_f=!1,this.right_dcc=8):this.right_dcc>0&&this.right_dcc--;var e=this.co_j.x,a=this.co_j.y;this.co_j.pt=100;var c=e+15>>5,o=a+31>>5,_=(this.maps.map_bg[c][o],a+32>>5),r=this.maps.map_bg[c][_];if(r>=20||this.j_a_id>=0?(this.co_j.jimen_f=!0,this.j_jump_type=2,69==r&&(i=!0)):this.co_j.jimen_f=!1,this.co_j.jimen_f?(this.j_zan_f=!1,this.j_jet_c=0,this.gk.left_f?(this.co_j.vx-=i?4:15,this.j_hashiru_f?(this.j_mizu_f?this.co_j.vx<-60&&(this.co_j.vx=-60):this.co_j.vx<-120&&(this.co_j.vx=-120),this.co_j.vx>0&&!i?(this.co_j.pt=108,this.co_j.ac=0):(this.co_j.pt=105+(this.co_j.ac>>1),this.co_j.ac++,this.co_j.ac>3&&(this.co_j.ac=0))):(this.j_mizu_f?this.co_j.vx<-40&&(this.co_j.vx=-40):this.co_j.vx<-60&&(this.co_j.vx=-60),this.co_j.vx>0&&!i?(this.co_j.pt=108,this.co_j.ac=0):(this.co_j.pt=103+(this.co_j.ac>>1),this.co_j.ac++,this.co_j.ac>3&&(this.co_j.ac=0))),this.co_j.muki=0):this.gk.right_f?(this.co_j.vx+=i?4:15,this.j_hashiru_f?(this.j_mizu_f?this.co_j.vx>60&&(this.co_j.vx=60):this.co_j.vx>120&&(this.co_j.vx=120),this.co_j.vx<0&&!i?(this.co_j.pt=108,this.co_j.ac=0):(this.co_j.pt=105+(this.co_j.ac>>1),this.co_j.ac++,this.co_j.ac>3&&(this.co_j.ac=0))):(this.j_mizu_f?this.co_j.vx>40&&(this.co_j.vx=40):this.co_j.vx>60&&(this.co_j.vx=60),this.co_j.vx<0&&!i?(this.co_j.pt=108,this.co_j.ac=0):(this.co_j.pt=103+(this.co_j.ac>>1),this.co_j.ac++,this.co_j.ac>3&&(this.co_j.ac=0))),this.co_j.muki=1):this.co_j.vx<0?(i?this.co_j.vx++:this.co_j.vx+=5,this.co_j.vx>0&&(this.co_j.vx=0),this.j_hashiru_f||i?(this.co_j.pt=107,this.co_j.ac=0):(this.co_j.pt=103+(this.co_j.ac>>1),this.co_j.ac++,this.co_j.ac>3&&(this.co_j.ac=0)),this.co_j.muki=0):this.co_j.vx>0?(i?this.co_j.vx--:this.co_j.vx-=5,this.co_j.vx<0&&(this.co_j.vx=0),this.j_hashiru_f||i?(this.co_j.pt=107,this.co_j.ac=0):(this.co_j.pt=103+(this.co_j.ac>>1),this.co_j.ac++,this.co_j.ac>3&&(this.co_j.ac=0)),this.co_j.muki=1):this.co_j.ac=0):(this.gk.left_f?!this.j_mizu_f&&this.co_j.vx>-60&&(this.co_j.vx-=10,this.co_j.vx<-60&&(this.co_j.vx=-60)):this.gk.right_f&&!this.j_mizu_f&&this.co_j.vx<60&&(this.co_j.vx+=10,this.co_j.vx>60&&(this.co_j.vx=60)),this.j_mizu_f?this.j_mizu_ac>1?this.co_j.pt=84:this.co_j.pt=83:0==this.j_jump_type?this.co_j.vy<20?this.co_j.pt=101:this.co_j.pt=102:2==this.j_jump_type?Math.abs(this.co_j.vx)<=60?this.co_j.pt=103:this.co_j.pt=105:3==this.j_jump_type?this.co_j.pt=119:4==this.j_jump_type?this.co_j.pt=100:this.co_j.pt=109,this.co_j.ac=2),this.j_jdai_f&&(this.co_j.vx=0,this.co_j.pt=100,this.co_j.ac=0),this.co_j.vx<0){if(this.co_j.x+=Object(h.d)(this.co_j.vx/10),this.a_hf)for(var n=0;n<=this.a_kazu;n++)if(this.co_a[n].gf){var p=this.co_a[n];p.c>=100&&p.c<200?this.co_j.x+15>=p.x&&this.co_j.x<=p.x+64&&this.co_j.y+31>=p.y&&this.co_j.y<=p.y+13&&(this.co_j.x=p.x+65,this.co_j.vx=0):300==p.c?this.co_j.x+15>=p.x&&this.co_j.x<=p.x+48&&this.co_j.y+31>=p.y&&this.co_j.y<=p.y+31&&(this.co_j.x=p.x+49,this.co_j.vx=0):400==p.c?this.co_j.x+15>=p.x&&this.co_j.x<=p.x+80&&this.co_j.y+31>=p.y&&this.co_j.y<=p.y+63&&(this.co_j.x=p.x+81,this.co_j.vx=0):500==p.c?this.co_j.x+15>=p.x&&this.co_j.x<=p.x+80&&this.co_j.y+31>=p.y&&this.co_j.y<=p.y+13&&(this.co_j.x=p.x+81,this.co_j.vx=0):600==p.c?this.co_j.x+15>=p.x&&this.co_j.x<=p.x+48&&this.co_j.y+31>=p.y+16&&this.co_j.y<=p.y+47&&(this.co_j.x=p.x+49,this.co_j.vx=0):700==p.c&&this.co_j.x+15>=p.x&&this.co_j.x<=p.x+16&&this.co_j.y+31>=p.y&&this.co_j.y<=p.y+31&&(this.co_j.x=p.x+17,this.co_j.vx=0)}var m=this.co_j.x+15>>5,g=this.maps.map_bg[m][this.co_j.y>>5],u=this.co_j.y+31>>5,f=this.maps.map_bg[m][u];(g>=20||f>=20)&&(this.co_j.x=32*m+17,this.co_j.vx=0)}else if(this.co_j.vx>0){if(this.co_j.x+=Object(h.d)(this.co_j.vx/10),this.a_hf)for(var y=0;y<=this.a_kazu;y++)if(this.co_a[y].gf){var l=this.co_a[y];l.c>=100&&l.c<200?this.co_j.x+15>=l.x&&this.co_j.x<=l.x+64&&this.co_j.y+31>=l.y&&this.co_j.y<=l.y+13&&(this.co_j.x=l.x-16,this.co_j.vx=0):300==l.c?this.co_j.x+15>=l.x&&this.co_j.x<=l.x+48&&this.co_j.y+31>=l.y&&this.co_j.y<=l.y+31&&(this.co_j.x=l.x-16,this.co_j.vx=0):400==l.c?this.co_j.x+15>=l.x&&this.co_j.x<=l.x+80&&this.co_j.y+31>=l.y&&this.co_j.y<=l.y+63&&(this.co_j.x=l.x-16,this.co_j.vx=0):500==l.c?this.co_j.x+15>=l.x&&this.co_j.x<=l.x+80&&this.co_j.y+31>=l.y&&this.co_j.y<=l.y+13&&(this.co_j.x=l.x-16,this.co_j.vx=0):600==l.c?this.co_j.x+15>=l.x&&this.co_j.x<=l.x+48&&this.co_j.y+31>=l.y+16&&this.co_j.y<=l.y+47&&(this.co_j.x=l.x-16,this.co_j.vx=0):700==l.c&&this.co_j.x+15>=l.x&&this.co_j.x<=l.x+16&&this.co_j.y+31>=l.y&&this.co_j.y<=l.y+31&&(this.co_j.x=l.x-16,this.co_j.vx=0)}var j=this.co_j.x+15>>5,d=this.maps.map_bg[j][this.co_j.y>>5],x=this.co_j.y+31>>5,v=this.maps.map_bg[j][x];(d>=20||v>=20)&&(this.co_j.x=32*j-16,this.co_j.vx=0)}if(this.co_j.jimen_f)if(this.tr1_c>=1&&this.tr1_c<=5)if(this.maps.getBGCode(this.co_j.x+15,this.co_j.y-1)>=20){if(1==this.tr1_c&&40==this.maps.getBGCode(this.co_j.x+15,this.co_j.y-1)){var k=this.co_j.x+15>>5,w=this.co_j.y-1>>5;this.hAttack(k,w)}if(s=this.maps.getBGCode(this.co_j.x+15,this.co_j.y-1),this.j_helm_f&&(20==s||69==s&&1==this.suberuyuka_hkf)){this.tr1_c=6;var b=this.co_j.x+15>>5,S=this.co_j.y-1>>5;4==this.maps.map_bg[this.co_j.x+15>>5][1+(this.co_j.y-1>>5)]?this.maps.putBGCode(b,S,4):this.maps.putBGCode(b,S,0),this.mSet2(32*b,32*S,80,12,-24),this.mSet2(32*b,32*S,80,-12,-24),this.jZutuki(32*b,32*S-32,0)}}else if(this.j_mizu_f)this.j_jump_type=0,this.co_j.pt=83,this.co_j.ac=0,this.j_mizu_ac=0,this.j_jet_kf=!1,this.j_jdai_f?(this.co_j.y=32*(this.co_j.y>>5),this.co_j.vy=-120,this.j_jump_level=0):Math.abs(this.co_j.vx)>50?(this.co_j.vy=-90,this.j_jump_level=0):(this.co_j.vy=-70,this.j_jump_level=0);else{this.j_jump_type=0,this.co_j.pt=101,this.co_j.ac=0,this.j_fire_f&&(0==this.co_j.muki?this.jmSet(this.co_j.x,this.co_j.y,100):this.jmSet(this.co_j.x,this.co_j.y,105)),this.j_jet_kf=!1;var I=Math.abs(this.co_j.vx);if(this.j_jdai_f)this.co_j.y=32*(this.co_j.y>>5),this.co_j.vy=-410,this.j_jump_level=5,this.co_a[this.j_a_id].c3<=1&&(this.co_j.vy=-230);else if(0==I)this.co_j.vy=-150,this.j_jump_level=1;else if(I<60)this.co_j.vy=-230,this.j_jump_level=2;else if(60==I)this.co_j.vy=-260,this.j_jump_level=3;else if(I<120)this.co_j.vy=-290,this.j_jump_level=4;else if(this.co_j.vy=-340,this.j_jump_level=5,(s=this.maps.map_bg[this.co_j.x+15>>5][this.co_j.y-1>>5])<=9){for(var P=0;P<=5;P++)this.j_zan_x[P]=e,this.j_zan_y[P]=a,this.j_zan_pt[P]=101,this.j_zan_pth[P]=this.co_j.muki;this.j_zan_p=0,this.j_zan_c=0,this.j_zan_nagasa=5,this.j_zan_f=!0}}else this.co_j.vy=0;else if(this.j_mizu_f)if(this.gk.left_f?this.co_j.muki=0:this.gk.right_f&&(this.co_j.muki=1),1==this.tr1_c){var M=!1;(s=this.maps.map_bg[this.co_j.x+15>>5][(this.co_j.y+15>>5)-1])<=9&&4!=s&&(M=!0),8!=s&&9!=s||4!=this.maps.map_bg[(this.co_j.x+15>>5)-1][(this.co_j.y+15>>5)-1]||(M=!1),M&&(this.co_j.y+15)%32<=8?(this.j_jump_type=0,this.co_j.pt=101,this.co_j.ac=0,this.co_j.vy=-180,this.j_jump_level=1,this.co_j.y=32*(this.co_j.y+15>>5)-14,this.j_jet_kf=!1,t=!0,this.mSet(this.co_j.x,32*(this.co_j.y+15>>5)-32,50)):(this.j_jump_type=0,this.co_j.ac=0,this.j_mizu_ac<=0&&(this.j_mizu_ac=4,this.co_j.pt=84),this.co_j.vy=-40,this.j_jump_level=0,0==this.co_j.muki?(this.co_j.vx-=30,this.co_j.vx<-60&&(this.co_j.vx=-60)):(this.co_j.vx+=30,this.co_j.vx>60&&(this.co_j.vx=60)))}else this.co_j.vx<0?(0==this.co_j.muki?this.co_j.vx++:this.co_j.vx+=2,this.co_j.vx>0&&(this.co_j.vx=0)):this.co_j.vx>0&&(1==this.co_j.muki?this.co_j.vx--:this.co_j.vx-=2,this.co_j.vx<0&&(this.co_j.vx=0)),this.co_j.vy<40?(this.co_j.vy+=5,this.co_j.vy>40&&(this.co_j.vy=40)):this.co_j.vy>40&&(this.co_j.vy-=20,this.co_j.vy<40&&(this.co_j.vy=40)),this.j_mizu_ac>0?(this.j_mizu_ac--,this.j_mizu_ac>1?this.co_j.pt=84:this.co_j.pt=83):this.co_j.pt=83;else this.co_j.vy+=25,this.co_j.vy>160&&(this.co_j.vy=160),1==this.tr1_c&&this.j_fire_f&&(0==this.co_j.muki?this.jmSet(this.co_j.x,this.co_j.y,100):this.jmSet(this.co_j.x,this.co_j.y,105)),0==this.tr1_c&&(this.j_jet_kf=!0),this.j_jet_kf&&this.tr1_c>0&&this.j_jet_fuel>0&&!this.j_mizu_f?(this.j_jet_c=100,2==this.j_jump_type&&(this.j_jump_type=0)):this.j_jet_c>96?this.j_jet_c--:this.j_jet_c=0,this.j_jet_c>=96&&(this.j_jet_fuel--,this.j_jet_fuel<0&&(this.j_jet_fuel=0,this.j_jet_c=0),this.gk.left_f?this.co_j.muki=0:this.gk.right_f&&(this.co_j.muki=1),this.co_j.vy>-150&&(this.co_j.vy-=50,this.co_j.vy<-150&&(this.co_j.vy=-150)));if(this.co_j.vy<0){var C=this.co_j.x+15>>5,z=this.co_j.y>>5,T=(this.maps.map_bg[C][z],this.co_j.vy);if(T<-320&&(T=-320),this.co_j.y+=Object(h.d)(T/10),this.j_mizu_f&&!t){var O=this.maps.getBGCode(this.co_j.x+15,this.co_j.y+15),G=!1;O<=9&&4!=O&&(G=!0),8!=O&&9!=O||4!=this.maps.map_bg[(this.co_j.x+15>>5)-1][this.co_j.y+15>>5]||(G=!1),G&&(this.co_j.y=32*(this.co_j.y+15>>5)+17,this.co_j.vy=-10)}if(this.a_hf)for(var B=0;B<=this.a_kazu;B++)if(this.co_a[B].gf){var A=this.co_a[B];A.c>=100&&A.c<200?this.co_j.x+15>=A.x&&this.co_j.x<=A.x+64&&this.co_j.y+31>=A.y&&this.co_j.y<=A.y+13&&(this.co_j.y=A.y+14,this.co_j.vy=0):300==A.c?this.co_j.x+15>=A.x&&this.co_j.x<=A.x+48&&this.co_j.y+31>=A.y&&this.co_j.y<=A.y+31&&(this.co_j.y=A.y+32,this.co_j.vy=0):400==A.c?this.co_j.x+15>=A.x&&this.co_j.x<=A.x+80&&this.co_j.y+31>=A.y&&this.co_j.y<=A.y+63&&(this.co_j.y=A.y+64,this.co_j.vy=0):500==A.c?this.co_j.x+15>=A.x&&this.co_j.x<=A.x+80&&this.co_j.y+31>=A.y&&this.co_j.y<=A.y+13&&(this.co_j.y=A.y+14,this.co_j.vy=0):600==A.c?this.co_j.x+15>=A.x&&this.co_j.x<=A.x+48&&this.co_j.y+31>=A.y+16&&this.co_j.y<=A.y+47&&(this.co_j.y=A.y+48,this.co_j.vy=0):700==A.c&&this.co_j.x+15>=A.x&&this.co_j.x<=A.x+16&&this.co_j.y+31>=A.y&&this.co_j.y<=A.y+31&&(this.co_j.y=A.y+32,this.co_j.vy=0)}var D=this.co_j.y>>5,E=this.maps.map_bg[this.co_j.x+15>>5][D];if(E>=20){if(this.co_j.y=32*D+32,this.co_j.vy=0,40==E){var L=this.co_j.x+15>>5,R=this.co_j.y-1>>5;this.hAttack(L,R)}if(this.j_helm_f&&(20==E||69==E&&1==this.suberuyuka_hkf)){var N=this.co_j.x+15>>5,F=D;4==this.maps.map_bg[N][F+1]?this.maps.putBGCode(N,F,4):this.maps.putBGCode(N,F,0),this.mSet2(32*N,32*F,80,12,-24),this.mSet2(32*N,32*F,80,-12,-24),this.jZutuki(32*N,32*F-32,0)}}if(z>D){if(this.gk.right_f){var W=this.maps.map_bg[this.co_j.x+16>>5][z],Z=this.maps.map_bg[this.co_j.x+16>>5][D];W<=9&&Z>=20&&(this.co_j.y=32*D+32,this.co_j.vy=0)}if(this.gk.left_f){var Y=this.maps.map_bg[this.co_j.x+14>>5][z],H=this.maps.map_bg[this.co_j.x+14>>5][D];Y<=9&&H>=20&&(this.co_j.y=32*D+32,this.co_j.vy=0)}}}else if(this.co_j.vy>0){var q=this.co_j.x+15>>5,K=this.co_j.y+31>>5;this.maps.map_bg[q][K];if(this.co_j.y+=Object(h.d)(this.co_j.vy/10),this.a_hf)for(var $=0;$<=this.a_kazu;$++)if(this.co_a[$].gf){var V=this.co_a[$];V.c>=100&&V.c<200?this.co_j.x+15>=V.x&&this.co_j.x<=V.x+64&&this.co_j.y+31>=V.y&&this.co_j.y<=V.y+13&&(this.co_j.y=V.y-32,this.co_j.vy=0):300==V.c?this.co_j.x+15>=V.x&&this.co_j.x<=V.x+48&&this.co_j.y+31>=V.y&&this.co_j.y<=V.y+31&&(this.co_j.y=V.y-32,this.co_j.vy=0):400==V.c?this.co_j.x+15>=V.x&&this.co_j.x<=V.x+80&&this.co_j.y+31>=V.y&&this.co_j.y<=V.y+63&&(this.co_j.y=V.y-32,this.co_j.vy=0):500==V.c?this.co_j.x+15>=V.x&&this.co_j.x<=V.x+80&&this.co_j.y+31>=V.y&&this.co_j.y<=V.y+13&&(this.co_j.y=V.y-32,this.co_j.vy=0):600==V.c?this.co_j.x+15>=V.x&&this.co_j.x<=V.x+48&&this.co_j.y+31>=V.y+16&&this.co_j.y<=V.y+47&&(this.co_j.y=V.y+16-32,this.co_j.vy=0):700==V.c&&this.co_j.x+15>=V.x&&this.co_j.x<=V.x+16&&this.co_j.y+31>=V.y&&this.co_j.y<=V.y+31&&(this.co_j.y=V.y-32,this.co_j.vy=0)}var J=this.co_j.y+31>>5;if(this.maps.map_bg[q][J]>=20){this.co_j.y=32*J-32,this.co_j.vy=0,J=this.co_j.y+31>>5;this.maps.map_bg[q][J]}if(K<J){if(this.gk.right_f){var U=this.maps.map_bg[this.co_j.x+16>>5][K],X=this.maps.map_bg[this.co_j.x+16>>5][J];U<=9&&X>=20&&(this.co_j.y=32*J-32,this.co_j.vy=0,this.co_j.pt=103,this.co_j.ac=1,this.co_j.x++)}if(this.gk.left_f){var Q=this.maps.map_bg[this.co_j.x+14>>5][K],tt=this.maps.map_bg[this.co_j.x+14>>5][J];Q<=9&&tt>=20&&(this.co_j.y=32*J-32,this.co_j.vy=0,this.co_j.pt=103,this.co_j.ac=1,this.co_j.x--)}}if(!this.j_mizu_f){var it=this.maps.getBGCode(this.co_j.x+15,this.co_j.y+15);4==it?(this.mSet(this.co_j.x,32*(this.co_j.y+15>>5)-32,50),this.j_mizu_awa_c=38,this.co_j.vx<-60?this.co_j.vx=-60:this.co_j.vx>60&&(this.co_j.vx=60)):8!=it&&9!=it||4!=this.maps.map_bg[(this.co_j.x+15>>5)-1][this.co_j.y+15>>5]||(this.mSet(this.co_j.x,32*(this.co_j.y+15>>5)-32,50),this.j_mizu_awa_c=38,this.co_j.vx<-60?this.co_j.vx=-60:this.co_j.vx>60&&(this.co_j.vx=60))}}if(1==this.tr2_c)if(this.j_gr_kazu>0?3==this.grenade_type||4==this.grenade_type?0==this.co_j.muki?this.jmSet(this.co_j.x,this.co_j.y,60):this.jmSet(this.co_j.x,this.co_j.y,65):0==this.co_j.muki?this.jmSet(this.co_j.x,this.co_j.y,200):this.jmSet(this.co_j.x,this.co_j.y,205):!this.j_fire_f||this.j_mizu_f&&!this.j_fire_mkf||(0==this.co_j.muki?this.jmSet(this.co_j.x,this.co_j.y,100):this.jmSet(this.co_j.x,this.co_j.y,105)),s=this.maps.getBGCode(this.co_j.x+15,this.co_j.y+32),this.j_drell_f&&(20==s||69==s&&1==this.suberuyuka_hkf)){var st=this.co_j.x+15>>5,ht=this.co_j.y+32>>5;4==this.maps.map_bg[this.co_j.x+15>>5][(this.co_j.y+32>>5)-1]?this.maps.putBGCode(st,ht,4):this.maps.putBGCode(st,ht,0),this.mSet2(32*st,32*ht,80,12,-24),this.mSet2(32*st,32*ht,80,-12,-24),this.jZutuki(32*st,32*ht-32,0),this.co_j.x=32*st,this.co_j.vx=0,this.co_j.vy=0,this.j_jump_type=3,this.co_j.c=120,this.co_j.c1=0,this.co_j.pt=119}else this.j_tail_f&&(this.j_tail_ac<=0||this.j_tail_ac>=8)&&(this.j_tail_ac=1,this.co_j.pt=116,this.j_zan_f=!1);if(this.j_tail_ac>=1)if(this.j_zan_f=!1,this.j_tail_ac++,this.j_tail_ac<=4)this.co_j.pt=116,1!=this.j_tail_type&&3!=this.j_tail_type||(0==this.co_j.muki?this.jZutuki(this.co_j.x-32,this.co_j.y,1):this.jZutuki(this.co_j.x+32,this.co_j.y,1));else if(this.j_tail_ac<=5){if(this.co_j.pt=1e3,1!=this.j_tail_type&&3!=this.j_tail_type||(0==this.co_j.muki?this.jZutuki(this.co_j.x-32,this.co_j.y,1):this.jZutuki(this.co_j.x+32,this.co_j.y,1)),2==this.j_tail_type||3==this.j_tail_type){var et;et=1==this.co_j.muki?this.co_j.x+40>>5:this.co_j.x-8>>5;var at=this.co_j.y+15>>5;(20==this.maps.map_bg[et][at]||69==this.maps.map_bg[et][at]&&1==this.suberuyuka_hkf)&&(4==this.maps.map_bg[et-1][at]?this.maps.putBGCode(et,at,4):this.maps.putBGCode(et,at,0),this.mSet2(32*et,32*at,80,12,-24),this.mSet2(32*et,32*at,80,-12,-24),this.jZutuki(32*et,32*at-32,0))}}else this.j_tail_ac<=7?this.co_j.pt=1e3:this.j_tail_ac<=9?this.co_j.pt=116:(this.co_j.pt=116,this.j_tail_ac=0);switch(s=this.maps.map_bg[this.co_j.x+15>>5][this.co_j.y+15>>5]){case 9:4==this.maps.map_bg[(this.co_j.x+15>>5)-1][this.co_j.y+15>>5]?(this.maps.putBGCode(this.co_j.x+15>>5,this.co_j.y+15>>5,4),this.j_mizu_f=!0):this.maps.putBGCode(this.co_j.x+15>>5,this.co_j.y+15>>5,0),this.addScore(5);break;case 8:4==this.maps.map_bg[(this.co_j.x+15>>5)-1][this.co_j.y+15>>5]?(this.maps.putBGCode(this.co_j.x+15>>5,this.co_j.y+15>>5,4),this.j_mizu_f=!0):this.maps.putBGCode(this.co_j.x+15>>5,this.co_j.y+15>>5,0),this.stage_cc=1,this.stage_max>=2&&this.stage>=this.stage_max?this.addScore(1e3):this.addScore(100);break;case 5:case 6:this.co_j.y=32*(this.co_j.y+15>>5),this.jShinu(1)}(this.co_j.y>=this.ochiru_y||this.j_mizu_f&&this.co_j.y>=this.ochiru_y-16)&&(this.co_j.c=210,this.co_j.c1=0,this.co_j.y=this.ochiru_y+64,this.j_jet_c=0,this.j_v_c=0),this.co_j.wx=this.co_j.x-this.maps.wx,this.co_j.wy=this.co_j.y-this.maps.wy,this.co_j.wx<96?this.maps.wx=this.co_j.x-96:this.co_j.wx>224&&(this.maps.wx=this.co_j.x-224),this.co_j.wy<78?this.maps.wy=this.co_j.y-78:this.co_j.wy>176&&(this.maps.wy=this.co_j.y-176),this.maps.wx<this.maps.wx_mini?this.maps.wx=this.maps.wx_mini:this.maps.wx>this.maps.wx_max&&(this.maps.wx=this.maps.wx_max),this.maps.wy<this.maps.wy_mini?this.maps.wy=this.maps.wy_mini:this.maps.wy>this.maps.wy_max&&(this.maps.wy=this.maps.wy_max)},D.prototype.jMove=function(){this.j_mizu_f=!1;var t=this.maps.getBGCode(this.co_j.x+15,this.co_j.y+15);if(4==t?(this.j_mizu_f=!0,this.j_jet_c=0,this.j_mizu_awa_c++,44==this.j_mizu_awa_c||54==this.j_mizu_awa_c?this.mSet(this.co_j.x,this.co_j.y+4,60):this.j_mizu_awa_c>54&&(this.j_mizu_awa_c=0)):8!=t&&9!=t||4!=this.maps.map_bg[(this.co_j.x+15>>5)-1][this.co_j.y+15>>5]||(this.j_mizu_f=!0,this.j_jet_c=0,this.j_mizu_awa_c++,44==this.j_mizu_awa_c||54==this.j_mizu_awa_c?this.mSet(this.co_j.x,this.co_j.y+4,60):this.j_mizu_awa_c>54&&(this.j_mizu_awa_c=0)),this.gk.tr1_f?this.tr1_c<6&&this.tr1_c++:this.tr1_c=0,this.gk.tr2_f?this.tr2_c<2&&this.tr2_c++:this.tr2_c=0,this.gk.left_f?this.gk.left_c<2&&this.gk.left_c++:this.gk.left_c=0,this.gk.right_f?this.gk.right_c<2&&this.gk.right_c++:this.gk.right_c=0,1==this.gk.left_c?(this.left_dcc>0?this.j_hashiru_f=!0:this.j_hashiru_f=!1,this.left_dcc=8):this.left_dcc>0&&this.left_dcc--,1==this.gk.right_c?(this.right_dcc>0?this.j_hashiru_f=!0:this.j_hashiru_f=!1,this.right_dcc=8):this.right_dcc>0&&this.right_dcc--,110==this.co_j.c)this.gk.left_f?(this.co_j.vx-=10,this.co_j.vx<-60&&(this.co_j.vx=-60)):this.gk.right_f&&(this.co_j.vx+=10,this.co_j.vx>60&&(this.co_j.vx=60)),this.co_j.c1++,this.co_j.c1>2&&(this.co_j.c=100),this.co_j.pt=109;else if(120==this.co_j.c)this.co_j.c1++,this.co_j.c1>6&&(this.co_j.c=100),this.co_j.pt=119;else if(200==this.co_j.c)this.co_j.vy+=25,this.co_j.vy>100&&(this.co_j.vy=100),this.co_j.y+=Object(h.d)(this.co_j.vy/10),this.co_j.wx=this.co_j.x-this.maps.wx,this.co_j.wy=this.co_j.y-this.maps.wy,this.co_j.c2<100?(this.co_j.c1<=0?(this.co_j.pt=110,this.co_j.muki=0):this.co_j.c1<=1?(this.co_j.pt=111,this.co_j.muki=0,this.co_j.c2++,this.co_j.c2>4&&(this.co_j.c2=100)):this.co_j.c1<=2?(this.co_j.pt=112,this.co_j.muki=0):(this.co_j.pt=113,this.co_j.muki=0),this.co_j.c1++,this.co_j.c1>3&&(this.co_j.c1=0)):(this.co_j.pt=112,this.co_j.muki=0),this.co_j.wy>=320&&(this.co_j.c=210,this.co_j.c1=0,this.co_j.y=this.maps.wy+320+32,this.co_j.pt=0);else if(210==this.co_j.c)this.stage_cc<=0&&(this.co_j.c1++,this.co_j.c1>16&&(this.j_left--,this.j_left<0?(this.j_left=0,this.ml_mode=300):2==this.stage_select?this.ml_mode=250:this.ml_mode=90));else if(220==this.co_j.c)this.co_j.pt=114,this.co_j.c1++,this.co_j.c1>=25&&(this.co_j.c=210,this.co_j.c1=0);else if(230==this.co_j.c)this.co_j.pt=115,this.co_j.c1++,this.co_j.c1>=25&&(this.co_j.c=210,this.co_j.c1=0);else if(240==this.co_j.c)this.co_j.c2>=100&&(this.co_j.y+=10),this.co_j.wx=this.co_j.x-this.maps.wx,this.co_j.wy=this.co_j.y-this.maps.wy,this.co_j.c2<100?(this.co_j.c1<=0?(this.co_j.pt=110,this.co_j.muki=0):this.co_j.c1<=1?(this.co_j.pt=111,this.co_j.muki=0,this.co_j.c2++,this.co_j.c2>4&&(this.co_j.c2=100)):this.co_j.c1<=2?(this.co_j.pt=112,this.co_j.muki=0):(this.co_j.pt=113,this.co_j.muki=0),this.co_j.c1++,this.co_j.c1>3&&(this.co_j.c1=0)):(this.co_j.pt=112,this.co_j.muki=0),this.co_j.wy>=320&&(this.co_j.c=210,this.co_j.c1=0,this.co_j.y=this.maps.wy+320+32,this.co_j.pt=0);else if(300==this.co_j.c)this.co_j.pt=1100,this.co_j.c1++,this.co_j.c1>=32&&(this.co_j.c=310,this.co_j.c1=0,this.co_j.pt=1110),this.co_j.wx=this.co_j.x-this.maps.wx,this.co_j.wy=this.co_j.y-this.maps.wy,this.co_j.wx<96?this.maps.wx=this.co_j.x-96:this.co_j.wx>224&&(this.maps.wx=this.co_j.x-224),this.co_j.wy<78?this.maps.wy=this.co_j.y-78:this.co_j.wy>176&&(this.maps.wy=this.co_j.y-176),this.maps.wx<this.maps.wx_mini?this.maps.wx=this.maps.wx_mini:this.maps.wx>this.maps.wx_max&&(this.maps.wx=this.maps.wx_max),this.maps.wy<this.maps.wy_mini?this.maps.wy=this.maps.wy_mini:this.maps.wy>this.maps.wy_max&&(this.maps.wy=this.maps.wy_max);else if(310==this.co_j.c){if(this.co_j.pt=1110,this.stage_cc<=0)if(this.co_j.c1++,2==this.dokan_mode){if(this.co_j.c1>=10){var i;for(this.co_j.c=320,this.co_j.c1=42,i=0;i<=this.a_kazu;i++)if(300==this.co_a[i].c&&1!=this.co_a[i].c4&&this.co_j.c2==this.co_a[i].c3&&(0==this.sl_step||1==this.sl_step||10==this.sl_step||11==this.sl_step)){this.co_j.x=this.co_a[i].x+16,this.co_j.y=this.co_a[i].y-32,this.co_a[i].c4=1;break}this.a_kazu;for(var s=0;s<=this.a_kazu;s++)(this.co_a[s].c>=100||60==this.co_a[s].c)&&(this.co_a[s].gf=!0,300!=this.co_a[s].c||this.co_j.x==this.co_a[s].x+16&&this.co_j.y==this.co_a[s].y-32||(this.co_a[s].c4=0));10!=this.sl_step&&11!=this.sl_step||(this.maps.wx=this.co_j.x-192,this.ks_wx=this.maps.wx),this.co_j.wx=this.co_j.x-this.maps.wx,this.co_j.wy=this.co_j.y-this.maps.wy,this.co_j.wx<96?this.maps.wx=this.co_j.x-96:this.co_j.wx>224&&(this.maps.wx=this.co_j.x-224),this.co_j.wy<78?this.maps.wy=this.co_j.y-78:this.co_j.wy>176&&(this.maps.wy=this.co_j.y-176),this.maps.wx<this.maps.wx_mini?this.maps.wx=this.maps.wx_mini:this.maps.wx>this.maps.wx_max&&(this.maps.wx=this.maps.wx_max),this.maps.wy<this.maps.wy_mini?this.maps.wy=this.maps.wy_mini:this.maps.wy>this.maps.wy_max&&(this.maps.wy=this.maps.wy_max)}}else if(10==this.co_j.c1){var e;e=1==this.co_j.c2?this.gg.ap.getParameter("url2"):2==this.co_j.c2?this.gg.ap.getParameter("url3"):3==this.co_j.c2?this.gg.ap.getParameter("url4"):this.gg.ap.getParameter("url1"),location.href=e}else this.co_j.c1>80&&(this.ml_mode=50)}else 320==this.co_j.c&&(this.co_j.pt=1100,this.co_j.c1--,this.co_j.c1<=0&&(this.co_j.c=100,this.co_j.c1=0,this.co_j.pt=100))},D.prototype.jShinu=function(t){this.co_j.c1=0,this.co_j.c2=0,this.j_zan_f=!1,this.j_jet_c=0,this.j_v_c=0,1==t?this.co_j.c=240:2==t?(this.co_j.c=200,this.co_j.vy=-280):3==t&&(this.co_j.c=220)},D.prototype.jZutuki=function(t,i,s){for(var h=0;h<=this.t_kazu;h++)if(this.co_t[h].c>=100){var e=this.co_t[h],a=!1;1==s?Math.abs(t-e.x)<25&&Math.abs(i-e.y)<23&&(a=!0):Math.abs(t-e.x)<34&&i==e.y&&(a=!0),a&&(t>e.x?(e.pth=1,e.vx=-7):(e.pth=0,e.vx=7),e.c=52,e.vy=-32)}},D.prototype.tSet=function(t,i,s,h){for(var e=0;e<=119;e++)if(!(this.co_t[e].c>0)){var a=this.co_t[e];switch(a.c=10,a.c1=h,a.c2=s,a.c3=t,a.c4=i,a.x=t,a.y=i,this.t_kazu++,s){case 500:a.y=i-12,a.c3=i-52,a.c4=i-12,a.vy=-4;break;case 600:a.c3=0;break;case 900:this.airms_kf&&(a.c2=950)}break}},D.prototype.tSetBoss=function(t,i,s,h){this.t_kazu=129;for(var e=120;e<=129;e++)if(!(this.co_t[e].c>0)){var a=this.co_t[e];switch(a.c=s,a.c1=0,a.c2=0,a.c3=t,a.c4=i,a.x=t,a.y=i,a.vx=h,s){case 150:a.vx=h,a.vy=-28,a.vx<=0?a.muki=0:a.muki=1;break;case 450:a.vx=h,a.vy=-22,a.vx<=0?a.muki=0:a.muki=1;break;case 650:a.vx=h,a.vy=-28,a.vx<=0?a.muki=0:a.muki=1}break}},D.prototype.tMove=function(){for(var t=!1,i=0;i<=this.t_kazu;i++)if(0!=this.co_t[i].c&&this.co_t[i].x>=this.maps.wx-512){var s=this.co_t[i],h=s.x,e=s.y;switch(s.c){case 10:this.maps.wx>=s.c1&&(s.c=s.c2,s.c1=0,s.c2=0);break;case 50:s.c1++,s.c1>14&&(s.c=0,this.addScore(10));break;case 52:h+=s.vx,s.vy+=5,s.vy>25&&(s.vy=25),(e+=s.vy)>this.maps.wy+320&&(s.c=0,this.addScore(10));break;case 100:if(h+15>>5>h+12>>5){var a=this.maps.map_bg[h+15>>5][e+31>>5];11==a||14==a?e=32*(e+31>>5)-32:10!=a&&12!=a||(e=32*(e+31>>5))}h-=3;var c=this.maps.map_bg[h+15>>5][e+31>>5];if(c>=10&&c<=15)e=32*(e+31>>5),e=this.sakamichiY(h,e);else{var o=this.maps.map_bg[h>>5][e+32>>5];o<=9&&(h=32*(h>>5)+32,(o=this.maps.map_bg[h+15>>5][e+31>>5])>=10&&o<=15&&(h-=15),s.c=105),(o=this.maps.map_bg[h>>5][e+31>>5])>=20&&(h=32*(h>>5)+32,s.c=105),(o=this.maps.map_bg[h+15>>5][e+32>>5])>=10&&o<=15&&(e=32*(e+32>>5),e=this.sakamichiY(h,e))}s.pt=140+this.g_ac,s.pth=0;break;case 105:if(h+15>>5<h+18>>5){var _=this.maps.map_bg[h+15>>5][e+31>>5];10==_||13==_?e=32*(e+31>>5)-32:11!=_&&15!=_||(e=32*(e+31>>5))}h+=3;var r=this.maps.map_bg[h+15>>5][e+31>>5];if(r>=10&&r<=15)e=32*(e+31>>5),e=this.sakamichiY(h,e);else{var n=this.maps.map_bg[h+31>>5][e+32>>5];n<=9&&(h=32*(h+31>>5)-32,(n=this.maps.map_bg[h+15>>5][e+31>>5])>=10&&n<=15&&(h+=16),s.c=100),(n=this.maps.map_bg[h+31>>5][e+31>>5])>=20&&(h=32*(h+31>>5)-32,s.c=100),(n=this.maps.map_bg[h+15>>5][e+32>>5])>=10&&n<=15&&(e=32*(e+32>>5),e=this.sakamichiY(h,e))}s.pt=140+this.g_ac,s.pth=1;break;case 110:if(h+15>>5>h+12>>5){var p=this.maps.map_bg[h+15>>5][e+31>>5];11==p||14==p?e=32*(e+31>>5)-32:10!=p&&12!=p||(e=32*(e+31>>5))}h-=3;var m=this.maps.map_bg[h+15>>5][e+31>>5];if(m>=10&&m<=15)e=32*(e+31>>5),e=this.sakamichiY(h,e);else{var g=e+32>>5;if(this.maps.map_bg[h+31>>5][g]<=9){h=32*(h+31>>5);var u=this.maps.map_bg[h+15>>5][e+31>>5];u>=10&&u<=15&&(h-=15),s.c=120}if(h<32)h<=3&&(s.c=0);else this.maps.map_bg[h>>5][e+31>>5]>=20&&(h=32*(h>>5)+32,s.c=115,this.maps.map_bg[h+15>>5][e+32>>5]<=9&&(s.c=120));i>=120&&h<this.maps.wx-32&&(s.c=0);var f=this.maps.map_bg[h+15>>5][g];f>=10&&f<=15&&(e=32*(e+32>>5),e=this.sakamichiY(h,e))}s.pt=140+this.g_ac,s.pth=0;break;case 115:if(h+15>>5<h+18>>5){var y=this.maps.map_bg[h+15>>5][e+31>>5];10==y||13==y?e=32*(e+31>>5)-32:11!=y&&15!=y||(e=32*(e+31>>5))}h+=3;var l=this.maps.map_bg[h+15>>5][e+31>>5];if(l>=10&&l<=15)e=32*(e+31>>5),e=this.sakamichiY(h,e);else{var j=e+32>>5;if(this.maps.map_bg[h>>5][j]<=9){h=32*(h>>5);var d=this.maps.map_bg[h+15>>5][e+31>>5];d>=10&&d<=15&&(h+=16),s.c=125}var x=this.maps.map_bg[h+31>>5][e+31>>5];x>=20&&(h=32*(h+31>>5)-32,s.c=110,this.maps.map_bg[h+15>>5][e+32>>5]<=9&&(s.c=125)),i>=120&&h>this.maps.wx+512&&(s.c=0),(x=this.maps.map_bg[h+15>>5][j])>=10&&x<=15&&(e=32*(e+32>>5),e=this.sakamichiY(h,e))}s.pt=140+this.g_ac,s.pth=1;break;case 120:e+=5;var v=this.maps.map_bg[h+15>>5][e+31>>5];if(v>=10&&v<=15){var k=this.sakamichiY(h,32*(e+31>>5));k<=e&&(e=k,s.c=110)}var w=e+31>>5,b=this.maps.map_bg[h>>5][w],S=this.maps.map_bg[h+31>>5][w];(b>=20||S>=20)&&(e=32*w-32,s.c=110),e>=this.ochiru_y&&(s.c=0),s.pt=140,s.pth=0;break;case 125:e+=5;var I=this.maps.map_bg[h+15>>5][e+31>>5];if(I>=10&&I<=15){var P=this.sakamichiY(h,32*(e+31>>5));P<=e&&(e=P,s.c=115)}var M=e+31>>5,C=this.maps.map_bg[h>>5][M],z=this.maps.map_bg[h+31>>5][M];(C>=20||z>=20)&&(e=32*M-32,s.c=115),e>=this.ochiru_y&&(s.c=0),s.pt=140,s.pth=1;break;case 150:s.vx<0&&(this.maps.getBGCode(h,e)>=20||this.maps.getBGCode(h,e+31)>=20)&&(h=32*(h>>5)+32,s.vx=0),s.vx>0&&(this.maps.getBGCode(h+31,e)>=20||this.maps.getBGCode(h+31,e+31)>=20)&&(h=32*(h+31>>5)-32,s.vx=0),h+=s.vx,s.vy+=2,s.vy>18&&(s.vy=18);var T=(e+=s.vy)+31>>5,O=this.maps.map_bg[h>>5][T],G=this.maps.map_bg[h+31>>5][T];(O>=20||G>=20)&&(e=32*T-32,1==s.muki?s.c=115:s.c=110),e>=this.ochiru_y&&(s.c=0),s.pt=140,s.pth=s.muki;break;case 200:s.c1<=0?this.co_j.x>=h-240&&this.co_j.x<=h+240&&(s.c=210,s.vy=-14):s.c1--,s.pt=143,h+8>=this.co_j.x?s.pth=0:s.pth=1;break;case 210:s.vy++,s.vy>14&&(s.vy=14),e+=s.vy,this.maps.getBGCode(h+15,e+31)>=20&&(e=32*(e+31>>5)-32,s.c=200,s.c1=30),e>=this.ochiru_y&&(s.c=0),0==s.vy&&(Math.abs(this.co_j.x-h)>32||e<=this.co_j.y)&&this.mSet(h,e,100),s.vy<=-1?s.pt=144:s.pt=145,h+8>=this.co_j.x?s.pth=0:s.pth=1;break;case 300:s.c1>0?(s.c1++,2==s.c1||10==s.c1||18==s.c1||26==s.c1?h+8>=this.co_j.x?this.mSet(h,e,200):this.mSet(h,e,205):s.c1>86&&(s.c1=0)):this.co_j.x>=h-256&&this.co_j.x<=h+256&&(s.c1=1),s.pt=150,h+8>=this.co_j.x?s.pth=0:s.pth=1;break;case 400:h-=4,this.maps.getBGCode(h,e+32)<=9&&(h=32*(h>>5)+32,s.c=405),this.maps.getBGCode(h,e+31)>=20&&(h=32*(h>>5)+32,s.c=405),s.pt=152+this.g_ac,s.pth=0;break;case 405:h+=4,this.maps.getBGCode(h+31,e+32)<=9&&(h=32*(h+31>>5)-32,s.c=400),this.maps.getBGCode(h+31,e+31)>=20&&(h=32*(h+31>>5)-32,s.c=400),s.pt=152+this.g_ac,s.pth=1;break;case 410:h-=4;var B=this.maps.map_bg[h+15>>5][e+31>>5];if(B>=10&&B<=15)e=32*(e+31>>5),e=this.sakamichiY(h,e);else{var A=e+32>>5;if(this.maps.map_bg[h+31>>5][A]<=9){h=32*(h+31>>5);var D=this.maps.map_bg[h+15>>5][e+31>>5];D>=10&&D<=15&&(h-=15),s.c=420}if(h<32)h<=4&&(s.c=0);else this.maps.map_bg[h>>5][e+31>>5]>=20&&(h=32*(h>>5)+32,s.c=415,this.maps.map_bg[h+15>>5][e+32>>5]<=9&&(s.c=420));i>=120&&h<this.maps.wx-32&&(s.c=0);var E=this.maps.map_bg[h+15>>5][A];E>=10&&E<=15&&(e=32*(e+32>>5),e=this.sakamichiY(h,e))}s.pt=152+this.g_ac,s.pth=0;break;case 415:h+=4;var L=this.maps.map_bg[h+15>>5][e+31>>5];if(L>=10&&L<=15)e=32*(e+31>>5),e=this.sakamichiY(h,e);else{var R=e+32>>5;if(this.maps.map_bg[h>>5][R]<=9){h=32*(h>>5);var N=this.maps.map_bg[h+15>>5][e+31>>5];N>=10&&N<=15&&(h+=16),s.c=425}var F=this.maps.map_bg[h+31>>5][e+31>>5];F>=20&&(h=32*(h+31>>5)-32,s.c=410,this.maps.map_bg[h+15>>5][e+32>>5]<=9&&(s.c=425)),i>=120&&h>this.maps.wx+512&&(s.c=0),(F=this.maps.map_bg[h+15>>5][R])>=10&&F<=15&&(e=32*(e+32>>5),e=this.sakamichiY(h,e))}s.pt=152+this.g_ac,s.pth=1;break;case 420:var W=(e+=5)+31>>5,Z=this.maps.map_bg[h>>5][W],Y=this.maps.map_bg[h+31>>5][W];(Z>=20||Y>=20)&&(e=32*W-32,s.c=410),e>=this.ochiru_y&&(s.c=0),s.pt=152,s.pth=0;break;case 425:var H=(e+=5)+31>>5,q=this.maps.map_bg[h>>5][H],K=this.maps.map_bg[h+31>>5][H];(q>=20||K>=20)&&(e=32*H-32,s.c=415),e>=this.ochiru_y&&(s.c=0),s.pt=152,s.pth=1;break;case 450:s.vx<0&&(this.maps.getBGCode(h,e)>=20||this.maps.getBGCode(h,e+31)>=20)&&(h=32*(h>>5)+32,s.vx=0),s.vx>0&&(this.maps.getBGCode(h+31,e)>=20||this.maps.getBGCode(h+31,e+31)>=20)&&(h=32*(h+31>>5)-32,s.vx=0),h+=s.vx,s.vy+=2,s.vy>18&&(s.vy=18);var $=(e+=s.vy)+31>>5,V=this.maps.map_bg[h>>5][$],J=this.maps.map_bg[h+31>>5][$];(V>=20||J>=20)&&(e=32*$-32,1==s.muki?s.c=415:s.c=410),e>=this.ochiru_y&&(s.c=0),s.pt=152,s.pth=s.muki;break;case 500:e<=s.c3?(s.vy++,s.vy>4&&(s.vy=4)):e>=s.c4&&(s.vy--,s.vy<-4&&(s.vy=-4)),e+=s.vy,s.pt=147+this.g_ac,this.co_j.x<=h+8?s.pth=0:s.pth=1;break;case 510:(h-=3)<48?h<=3&&(s.c=0):this.maps.getBGCode(h-16,e+31)>=20&&(h=32*(h-16>>5)+32+16,s.c=515),s.pt=147+this.g_ac,s.pth=0;break;case 515:h+=3,this.maps.getBGCode(h+31+16,e+31)>=20&&(h=32*(h+31+16>>5)-32-16,s.c=510),s.pt=147+this.g_ac,s.pth=1;break;case 600:s.c1<25?(s.c1++,s.vy=-17,s.c3=0,s.pt=154,s.pth=0):(0==s.c3?(s.vy++,s.c3=1):(s.vy+=2,s.c3=0),s.vy>17&&(s.vy=17),e+=s.vy,s.vy<4?(s.pt=155,s.pth=0):(s.pt=156,s.pth=0),(h-=5)<32?h<=3&&(s.c=0):(this.maps.getBGCode(h+15,e+6)>=20&&(e=32*(e+6>>5)+32-6,s.vy=0),this.maps.getBGCode(h+15,e+31)>=20&&(e=32*(e+31>>5)-32,s.c1=15,s.pt=154,s.pth=0),(this.maps.getBGCode(h,e+31)>=20||this.maps.getBGCode(h,e+8)>=20)&&(h=32*(h>>5)+32,s.c=605),i>=120&&h<this.maps.wx-32&&(s.c=0))),e>=this.ochiru_y&&(s.c=0);break;case 605:s.c1<25?(s.c1++,s.vy=-17,s.c3=0,s.pt=154,s.pth=1):(0==s.c3?(s.vy++,s.c3=1):(s.vy+=2,s.c3=0),s.vy>17&&(s.vy=17),e+=s.vy,s.vy<4?(s.pt=155,s.pth=1):(s.pt=156,s.pth=1),h+=5,this.maps.getBGCode(h+15,e+6)>=20&&(e=32*(e+6>>5)+32-6,s.vy=0),this.maps.getBGCode(h+15,e+31)>=20&&(e=32*(e+31>>5)-32,s.c1=15,s.pt=154,s.pth=1),(this.maps.getBGCode(h+31,e+31)>=20||this.maps.getBGCode(h+31,e+8)>=20)&&(h=32*(h+31>>5)-32,s.c=600),i>=120&&h>this.maps.wx+512&&(s.c=0)),e>=this.ochiru_y&&(s.c=0);break;case 650:s.vx<0&&(this.maps.getBGCode(h,e)>=20||this.maps.getBGCode(h,e+31)>=20)&&(h=32*(h>>5)+32,s.vx=0),s.vx>0&&(this.maps.getBGCode(h+31,e)>=20||this.maps.getBGCode(h+31,e+31)>=20)&&(h=32*(h+31>>5)-32,s.vx=0),h+=s.vx,s.vy+=2,s.vy>18&&(s.vy=18);var U=(e+=s.vy)+31>>5,X=this.maps.map_bg[h>>5][U],Q=this.maps.map_bg[h+31>>5][U];(X>=20||Q>=20)&&(e=32*U-32,1==s.muki?s.c=605:s.c=600,s.c1=15),e>=this.ochiru_y&&(s.c=0),s.vy<4?s.pt=155:s.pt=156,s.pth=s.muki;break;case 700:this.yachamo_cf||(s.c1>0?(s.c1++,2==s.c1?h+8>=this.co_j.x?this.mSet(h,e,300):this.mSet(h,e,305):s.c1>40&&(s.c1=0)):this.co_j.x>=h-256&&this.co_j.x<=h+192&&Math.abs(this.co_j.x-h)>=96&&(s.c1=1)),s.pt=158,h+8>=this.co_j.x?s.pth=0:s.pth=1;break;case 800:s.c1>0?(s.c1++,2==s.c1?h+8>=this.co_j.x?this.mSet(h,e,400):this.mSet(h,e,405):s.c1>20&&(s.c=810,s.c1=0)):s.c1<0?s.c1++:this.co_j.x>=h-240&&this.co_j.x<=h+240&&(s.c1=1),s.pt=160,h+8>=this.co_j.x?s.pth=0:s.pth=1;break;case 810:s.c1<=0?((h+=3)>=s.c3+96&&(h=s.c3+96,s.c1=10),this.maps.getBGCode(h+31,e+32)<=9&&(h=32*(h+31>>5)-32,s.c1=10),s.pt=161+this.g_ac,s.pth=1):s.c1<=35?(s.c1++,15==s.c1&&(h+8>=this.co_j.x?this.mSet(h,e,400):this.mSet(h,e,405)),s.pt=160,h+8>=this.co_j.x?s.pth=0:s.pth=1):((h-=3)<=s.c3&&(h=s.c3,s.c=800,s.c1=-20),this.maps.getBGCode(h,e+32)<=9&&(h=32*(h>>5)+32,s.c=800,s.c1=-20),s.pt=161+this.g_ac,s.pth=0);break;case 900:(h-=4)<48?h<=4&&(s.c=0):(s.c1++,1==s.c1?this.mSet(h,e+19,600):s.c1>26&&(s.c1=0),this.maps.getBGCode(h,e+31)>=20&&(h=32*(h>>5)+32,s.c=910)),s.pt=164,s.pth=0;break;case 910:s.pt=164,s.pth=0;break;case 950:(h-=4)<48?h<=4&&(s.c=0):(s.c1++,1==s.c1?this.mSet(h,e+19,600):s.c1>26&&(s.c1=0),this.maps.getBGCode(h-16,e+31)>=20&&(h=32*(h-16>>5)+32+16,s.c=960,s.c1=16)),s.pt=164,s.pth=0;break;case 960:h+=4,s.c1++,1==s.c1?this.mSet(h,e+19,605):s.c1>26&&(s.c1=0),this.maps.getBGCode(h+31+16,e+31)>=20&&(h=32*(h+31+16>>5)-32-16,s.c=950,s.c1=16),s.pt=164,s.pth=1;break;case 1e3:(h-=3)<=s.c3-256+16&&(s.c=1005),(this.maps.getBGCode(h-16,e)>=20||this.maps.getBGCode(h-16,e+31)>=20)&&(h=32*(h-16>>5)+32+16,s.c=1005),s.pt=166,s.pth=0;break;case 1005:(h+=3)>=s.c3+16&&(s.c=1e3),(this.maps.getBGCode(h+31+16,e)>=20||this.maps.getBGCode(h+31+16,e+31)>=20)&&(h=32*(h+31+16>>5)-32-16,s.c=1e3),s.pt=166,s.pth=1;break;case 1100:s.c1>0?(s.c1++,s.c1>77&&(s.c1=0)):Math.abs(this.co_j.x-h)<=144&&Math.abs(this.co_j.y-e)<=144&&(s.c1=1,this.mSet2(h,e,700,-3,-3),this.mSet2(h,e,700,3,-3),this.mSet2(h,e,700,-3,3),this.mSet2(h,e,700,3,3),this.mSet2(h,e,700,-4,0),this.mSet2(h,e,700,4,0),this.mSet2(h,e,700,0,-4),this.mSet2(h,e,700,0,4)),s.pt=167,h+8>=this.co_j.x?s.pth=0:s.pth=1}if(s.c<100)s.x=h,s.y=e;else{var tt=Math.abs(h-this.co_j.x);tt>=48?(s.x=h,s.y=e):(this.co_j.c>=100&&this.co_j.c<200&&tt<30&&Math.abs(e-this.co_j.y)<23&&(this.j_v_c>0?(1==this.co_j.muki?(s.pth=0,s.vx=3):(s.pth=1,s.vx=-3),s.c=52,s.vy=-30):s.c>=400&&s.c<500||s.c>=1e3&&s.c<1200?this.jShinu(2):tt<27&&this.co_j.vy>0&&!this.j_mizu_f||t?(s.c<200?s.pt=142:s.c<300?s.pt=146:s.c<400?s.pt=151:s.c<600?s.pt=149:s.c<700?s.pt=157:s.c<800?s.pt=159:s.c<900?s.pt=163:s.c<1e3&&(s.pt=165),s.c=50,s.c1=0,this.co_j.y=e-12,this.co_j.vy=-160,this.j_jump_type=1,this.co_j.c=110,this.co_j.c1=0,this.co_j.pt=109,149!=s.pt&&165!=s.pt||(this.co_j.vy=-220,s.c1=-2),t=!0):this.jShinu(2)),s.x=h,s.y=e)}}},D.prototype.sakamichiY=function(t,i){var s=t+15>>5,h=i+31>>5,e=i;switch(this.maps.map_bg[s][h]){default:break;case 10:var a=32*h-(t+15)%32;a<i&&(e=a);break;case 11:var c=32*h+(t+15)%32-31;c<i&&(e=c);break;case 12:var o=32*h-((t+15)%32>>1);o<i&&(e=o);break;case 13:var _=32*h-((t+15)%32>>1)-16;_<i&&(e=_);break;case 14:var r=32*h+((t+15)%32>>1)-31;r<i&&(e=r);break;case 15:var n=32*h+((t+15)%32>>1)-15;n<i&&(e=n)}return e},D.prototype.mSet=function(t,i,s){for(var e=0;e<=23;e++)if(!(this.co_m[e].c>0)){var a=this.co_m[e];switch(a.c=s,a.x=t,a.y=i,a.c1=0,this.m_kazu++,s){case 90:a.c2=4,a.vx=0,a.vy=0;break;case 100:var c=this.co_j.x-t,o=this.co_j.y-i,_=Math.floor(Math.sqrt(c*c+o*o));_<48?(this.m_kazu--,a.c=0):(a.vx=Object(h.d)(14*c/_),a.vy=Object(h.d)(14*o/_),a.x+=Object(h.d)(16*a.vx/14),a.y+=Object(h.d)(16*a.vy/14)),!this.dengeki_mkf&&a.c>0&&4==this.maps.getBGCode(a.x+15,a.y+15)&&(this.m_kazu--,a.c=0);break;case 200:a.vx=-4-this.ranInt(6),a.vy=-22,a.x+=a.vx,a.y+=a.vy;break;case 205:a.c=200,a.vx=4+this.ranInt(6),a.vy=-22,a.x+=a.vx,a.y+=a.vy;break;case 300:a.vx=-12,a.x+=a.vx;break;case 305:a.c=300,a.vx=12,a.x+=a.vx;break;case 400:a.vx=-80,a.vy=-225;break;case 405:a.c=400,a.vx=80,a.vy=-225;break;case 500:a.vx=-4,a.vy=-22;break;case 600:a.vx=-40,a.vy=0;break;case 605:a.c=600,a.vx=40,a.vy=0;break;case 2e3:a.c3=i,a.vy=-210;break;case 2010:a.c=2e3,a.c3=i-64,a.vy=-280;break;case 2020:a.c=2e3,a.c3=i-32,a.vy=-250;break;case 2100:a.c2=0;break;case 2110:a.c=2100,a.c2=1;break;case 2120:a.c=2100,a.c2=2;break;case 2130:a.c=2100,a.c2=3;break;case 2140:a.c=2100,a.c2=4;break;case 2150:a.c=2100,a.c2=5;break;case 2160:a.c=2100,a.c2=6;break;case 2170:a.c=2100,a.c2=7;break;case 2180:a.c=2100,a.c2=8}break}},D.prototype.mSet2=function(t,i,s,h,e){for(var a=0;a<=23;a++)if(!(this.co_m[a].c>0)){var c=this.co_m[a];switch(c.c=s,c.x=t,c.y=i,c.vx=h,c.vy=e,c.c1=0,this.m_kazu++,s){case 500:c.x+=c.vx;break;case 700:c.c2=0;break;case 710:c.c=700,c.c2=1}break}},D.prototype.mMove=function(){for(var t=0;t<=23;t++)if(0!=this.co_m[t].c){var i=this.co_m[t];switch(i.c){case 50:i.c1++,i.c1<=5?i.pt=80:i.c1<=10?i.pt=81:i.c1<=16?i.pt=82:i.c=0,i.pth=0;break;case 60:i.y-=5;var s=i.y>>5,e=this.maps.map_bg[i.x+11>>5][s];(e<=3||e>=20)&&(i.c=0),((e=this.maps.map_bg[i.x+20>>5][s])<=3||e>=20)&&(i.c=0),8!=(e=this.maps.map_bg[i.x+15>>5][s])&&9!=e||4==this.maps.map_bg[(i.x+15>>5)-1][s]||(i.c=0),(i.x<=this.maps.wx-32||i.x>=this.maps.wx+512)&&(i.c=0),(i.y<=this.maps.wy-32||i.y>=this.maps.wy+320)&&(i.c=0),i.pt=85,i.pth=0;break;case 70:switch(i.c1++,i.c1){case 1:i.c2=20;break;case 2:i.c2=34;break;case 3:i.c2=46;break;case 4:i.c2=56;break;case 5:i.c2=64;break;case 6:i.c2=70;break;case 7:i.c2=74;break;case 8:i.c2=77;break;case 9:i.c2=79;break;case 10:i.c2=80}if(i.c1>10&&(i.c2=10,i.c=0),this.co_j.c>=100&&this.co_j.c<200){var a=this.co_j.x-i.x,c=this.co_j.y-i.y;Math.floor(Math.sqrt(a*a+c*c))<=i.c2+4&&this.j_v_c<=0&&this.jShinu(1)}i.pt=1100,i.pth=0;break;case 80:i.vy>=5&&(i.vx>2?i.vx--:i.vx<-2&&i.vx++),i.x+=i.vx,i.vy+=4,i.vy>30&&(i.vy=30),i.y+=i.vy,i.y>=this.maps.wy+320&&(i.c=0),i.pt=136,i.vx<0?i.pth=0:i.pth=1;break;case 90:if(i.c2<48){if(i.c2+=4,i.c2>=48){i.c2=48;var o=this.co_j.x-i.x,_=this.co_j.y-i.y,r=Math.floor(Math.sqrt(o*o+_*_));r<32||this.co_j.c<100||this.co_j.c>=200?(i.x<this.maps.wx+256?i.vx=14:i.vx=-14,i.vy=0):(i.vx=Object(h.d)(14*o/r),i.vy=Object(h.d)(14*_/r))}}else i.x+=i.vx,i.y+=i.vy,i.x<=this.maps.wx-32-32||i.x>=this.maps.wx+512+128+32?i.c=0:(i.y<=this.maps.wy-32-200-32||i.y>=this.maps.wy+320+32)&&(i.c=0);if(this.co_j.c>=100&&this.co_j.c<200){var n=this.co_j.x-i.x,p=this.co_j.y-i.y;Math.floor(Math.sqrt(n*n+p*p))+4<=i.c2&&(this.j_v_c>0?i.c=0:this.jShinu(1))}i.pt=1e3;break;case 100:i.x+=i.vx,i.y+=i.vy;var m=i.x+15>>5;(this.maps.map_bg[m][i.y+12>>5]>=20||this.maps.map_bg[m][i.y+18>>5]>=20)&&(i.c=0),this.dengeki_mkf||4!=this.maps.getBGCode(i.x+15,i.y+15)||(i.c=0),i.x<=this.maps.wx-32||i.x>=this.maps.wx+512+128?i.c=0:(i.y<=this.maps.wy-32-200||i.y>=this.maps.wy+320)&&(i.c=0),0==this.g_c1?(i.pt=120,i.pth=0):(i.pt=121,i.pth=0);break;case 200:i.x+=i.vx,i.vy+=2,i.vy>12&&(i.vy=12);var g=i.vy;switch(g<-18&&(g=-18),i.y+=g,i.y>=this.maps.wy+320&&(i.c=0),this.g_c2){case 0:i.pt=122;break;case 1:i.pt=123;break;case 2:i.pt=124;break;case 3:i.pt=125}i.pth=0;break;case 300:i.x+=i.vx;var u=i.y+15>>5;(this.maps.map_bg[i.x+8>>5][u]>=20||this.maps.map_bg[i.x+23>>5][u]>=20)&&(i.c=0),(i.x<=this.maps.wx-32||i.x>=this.maps.wx+512+128)&&(i.c=0),0==this.g_c1?i.pt=126:i.pt=127,i.vx<=0?i.pth=0:i.pth=1;break;case 400:i.x+=Object(h.d)(i.vx/10),i.vy+=25,i.vy>180&&(i.vy=180),i.y+=Object(h.d)(i.vy/10),i.y>=this.maps.wy+320&&(i.c=0);var f=i.x+15>>5;this.maps.map_bg[f][i.y+15>>5]>=20&&(i.c=0),0==this.g_c1?i.pt=128:i.pt=129,i.vx<=0?i.pth=0:i.pth=1;break;case 500:i.vy>=5&&(i.vx>2?i.vx--:i.vx<-2&&i.vx++),i.x+=i.vx,i.vy+=2,i.vy>12&&(i.vy=12);var y=i.vy;y<-16&&(y=-16),i.y+=y,i.y>=this.maps.wy+320&&(i.c=0),i.pt=139,i.pth=0;break;case 600:i.vx>0?i.vx-=2:i.vx<0&&(i.vx+=2),i.x+=Object(h.d)(i.vx/10),i.vy+=8,i.vy>200&&(i.vy=200),i.y+=Object(h.d)(i.vy/10),this.maps.map_bg[i.x+15>>5][i.y+15>>5]>=20&&(i.c=610,i.c1=0,i.y=32*(i.y+15>>5)-16),i.x<=this.maps.wx-32-64||i.x>=this.maps.wx+512+64?i.c=0:(i.y<=this.maps.wy-32-200||i.y>=this.maps.wy+320)&&(i.c=0),i.vx>28?(i.pt=171,i.pth=1):i.vx<-28?(i.pt=171,i.pth=0):(i.pt=170,i.pth=0);break;case 610:i.c1++,i.c1<=3?i.pt=172:i.c1<=6?i.pt=173:i.c1<=9?i.pt=174:(i.c=0,i.pt=198),i.pth=0;break;case 700:i.x+=i.vx,i.y+=i.vy,i.x<=this.maps.wx-32||i.x>=this.maps.wx+512+32?i.c=0:(i.y<=this.maps.wy-64||i.y>=this.maps.wy+320+64)&&(i.c=0);var l=this.maps.getBGCode(i.x+15,i.y+15);0==i.c2&&l>=20&&(i.c=0),0==i.c2&&l<=3&&(i.c=0),i.pt=168+this.g_c1,i.pth=0;break;case 800:i.vy>=5&&(i.vx>2?i.vx--:i.vx<-2&&i.vx++),i.x+=i.vx,i.vy+=4,i.vy>28&&(i.vy=28),i.y+=i.vy,i.y>=this.maps.wy+320&&(i.c=0),this.maps.getBGCode(i.x+15,i.y+31)>=20&&(i.c=70,i.y=32*(i.y+31>>5)-16,i.c1=1,i.c2=20),i.pt=137+this.g_c1,i.vx<0?i.pth=0:i.pth=1;break;case 2e3:i.vy+=30,i.vy>180&&(i.vy=180),i.y+=Object(h.d)(i.vy/10),i.vy>=0&&i.y>=i.c3&&(i.y=i.c3,i.vy=0),(i.x<=this.maps.wx-32||i.x>=this.maps.wx+512)&&(i.c=0),i.pt=90+this.g_ac2,i.pth=0;break;case 2100:(i.x<=this.maps.wx-32||i.x>=this.maps.wx+512)&&(i.c=0),i.pt=42+i.c2,8==i.c2&&(i.pt=59),i.pth=0;break;case 2200:i.x<this.maps.wx?i.x=this.maps.wx:i.x>this.maps.wx+512-32&&(i.x=this.maps.wx+512-32),i.y<this.maps.wy+64?i.y=this.maps.wy+64:i.y>this.maps.wy+224&&(i.y=this.maps.wy+224),this.stage_max>=2&&this.stage>=this.stage_max?0==this.g_ac2?i.pt=99:i.pt=98:0==this.g_ac2?i.pt=95:i.pt=94,i.pth=0}0==i.c?this.m_kazu--:this.co_j.c>=100&&this.co_j.c<200&&(i.c>=2e3?Math.abs(i.x-this.co_j.x)<=14&&i.y<=this.co_j.y+26&&i.y+15>=this.co_j.y&&(this.addScore(5),2100==i.c?0==i.c2?this.j_fire_f=!0:1==i.c2?(this.j_v_c=150,this.j_v_kakudo=0):2==i.c2?this.time_max>0&&(this.time+=3e4):3==i.c2?this.j_jet_fuel+=80:4==i.c2?this.j_helm_f=!0:5==i.c2?this.j_tail_f=!0:6==i.c2?this.j_drell_f=!0:7==i.c2?this.j_gr_kazu++:8==i.c2&&this.j_left++:2200==i.c&&(this.stage_cc=1,this.stage_max>=2&&this.stage>=this.stage_max?this.addScore(995):this.addScore(95)),i.c=0,this.m_kazu--):i.c>=100&&Math.abs(i.x-this.co_j.x)<=23&&Math.abs(i.y-this.co_j.y)<=28&&(this.j_v_c>0?(i.c=0,this.m_kazu--):(this.jShinu(1),800==i.c&&(i.c=70,i.c1=1,i.c2=20))))}},D.prototype.jmSet=function(t,i,s){for(var e=0;e<=1;e++)if(!(this.co_jm[e].c>0)){var a=this.co_jm[e];switch(a.c=s,a.x=t,a.y=i+8,a.c1=0,this.jm_kazu++,s){case 60:case 65:a.x=t+16,a.y=i,a.vx=t+16,a.c4=8,this.j_gr_kazu--;break;case 100:a.vx=Object(h.d)(this.co_j.vx/10)-10,a.vy=-28,Math.abs(a.vx)<2&&(a.vx=-2);break;case 105:a.vx=Object(h.d)(this.co_j.vx/10)+10,a.vy=-28,Math.abs(a.vx)<2&&(a.vx=2);break;case 200:a.vx=Object(h.d)(this.co_j.vx/10)-10,a.vy=-32,Math.abs(a.vx)<2&&(a.vx=-2),5!=this.grenade_type&&6!=this.grenade_type||(a.y=i,a.vx=-20,a.vy=0),this.j_gr_kazu--;break;case 205:a.c=200,a.vx=Object(h.d)(this.co_j.vx/10)+10,a.vy=-35,Math.abs(a.vx)<2&&(a.vx=2),5!=this.grenade_type&&6!=this.grenade_type||(a.y=i,a.vx=20,a.vy=0),this.j_gr_kazu--}break}},D.prototype.jmMove=function(){for(var t=0;t<=1;t++)if(0!=this.co_jm[t].c){var i=this.co_jm[t];switch(i.c){case 50:switch(i.c1++,i.c1){case 1:i.c2=20;break;case 2:i.c2=34;break;case 3:i.c2=46;break;case 4:i.c2=56;break;case 5:i.c2=64;break;case 6:i.c2=70;break;case 7:i.c2=74;break;case 8:i.c2=77;break;case 9:i.c2=79;break;case 10:i.c2=80}i.c1>10&&(i.c2=10,i.c=0);for(var s=0;s<=this.t_kazu;s++)if(this.co_t[s].c>=100){var h=this.co_t[s],e=h.x-i.x,a=h.y-i.y;Math.floor(Math.sqrt(e*e+a*a))<=i.c2+8&&(i.x>h.x?(h.pth=1,h.vx=-3):(h.pth=0,h.vx=3),h.c=52,h.vy=-25)}if((1==this.grenade_type||5==this.grenade_type)&&this.co_b.c>=100){var c=this.co_b.x-i.x,o=this.co_b.y-i.y;Math.floor(Math.sqrt(c*c+o*o))<=i.c2+20&&this.co_b.killGrenade(this,i.x>this.co_b.x?1:0)}i.pt=1e3,i.pth=0;break;case 60:i.y=this.co_j.y,i.x-=28,i.x<=this.maps.wx-32&&(i.x=this.maps.wx-32),i.c4>0?(i.c4--,i.vx=this.co_j.x+16):(i.vx-=28,i.vx<=i.x&&(i.c=0));for(var _=0;_<=this.t_kazu;_++)if(this.co_t[_].c>=100){var r=this.co_t[_];r.x>i.x-12&&r.x<i.vx+12&&Math.abs(r.y-i.y)<24&&(r.pth=0,r.vx=-3,r.c=52,r.vy=-25)}3==this.grenade_type&&this.co_b.c>=100&&this.co_b.x>i.x-24&&this.co_b.x<i.vx+24&&Math.abs(this.co_b.y-i.y)<36&&this.co_b.killGrenade(this,1),(this.co_j.c<100||this.co_j.c>=200)&&(i.c=0),i.pt=1200;break;case 65:i.y=this.co_j.y,i.x+=28,i.x>=this.maps.wx+512+32&&(i.x=this.maps.wx+512+32),i.c4>0?(i.c4--,i.vx=this.co_j.x+16):(i.vx+=28,i.vx>=i.x&&(i.c=0));for(var n=0;n<=this.t_kazu;n++)if(this.co_t[n].c>=100){var p=this.co_t[n];p.x>i.vx-12&&p.x<i.x+12&&Math.abs(p.y-i.y)<24&&(p.pth=0,p.vx=3,p.c=52,p.vy=-25)}3==this.grenade_type&&this.co_b.c>=100&&this.co_b.x>i.vx-24&&this.co_b.x<i.x+24&&Math.abs(this.co_b.y-i.y)<36&&this.co_b.killGrenade(this,0),(this.co_j.c<100||this.co_j.c>=200)&&(i.c=0),i.pt=1205;break;case 100:i.x+=i.vx,this.maps.getBGCode(i.x+7,i.y+15)>=20&&(i.c=0),i.vy+=5,i.vy>30&&(i.vy=30),i.y+=i.vy,i.vy<0&&this.maps.getBGCode(i.x+15,i.y+8)>=20&&(i.c=0),this.maps.getBGCode(i.x+15,i.y+23)>=20&&(i.y=32*(i.y+23>>5)-24,i.vy=-28),this.j_fire_mkf||4!=this.maps.getBGCode(i.x+15,i.y+15)||(i.c=0),(i.x<=this.maps.wx-24||i.x>=this.maps.wx+512-8||i.y<=this.maps.wy-128||i.y>=this.maps.wy+384)&&(i.c=0),i.pt=130+this.g_c2,i.pth=0;break;case 105:i.x+=i.vx,this.maps.getBGCode(i.x+23,i.y+15)>=20&&(i.c=0),i.vy+=5,i.vy>30&&(i.vy=30),i.y+=i.vy,i.vy<0&&this.maps.getBGCode(i.x+15,i.y+8)>=20&&(i.c=0),this.maps.getBGCode(i.x+15,i.y+23)>=20&&(i.y=32*(i.y+23>>5)-24,i.vy=-28),this.j_fire_mkf||4!=this.maps.getBGCode(i.x+15,i.y+15)||(i.c=0),(i.x<=this.maps.wx-24||i.x>=this.maps.wx+512-8||i.y<=this.maps.wy-128||i.y>=this.maps.wy+384)&&(i.c=0),i.pt=130+this.g_c2,i.pth=1;break;case 200:i.x+=i.vx,5!=this.grenade_type&&6!=this.grenade_type&&(i.vy+=5,i.vy>30&&(i.vy=30),i.y+=i.vy,i.vy>0&&this.maps.getBGCode(i.x+15,i.y+31)>=20&&(i.c=50,i.y=32*(i.y+31>>5)-16,i.c1=1,i.c2=20)),this.maps.getBGCode(i.x+15,i.y+15)>=20&&(i.c=50,i.c1=1,i.c2=20),(i.x<=this.maps.wx-64||i.x>=this.maps.wx+512+64||i.y<=this.maps.wy-128||i.y>=this.maps.wy+384)&&(i.c=0),i.pt=137+this.g_c1,i.vx<0?i.pth=0:i.pth=1}if(0==i.c)this.jm_kazu--;else if(i.c>=100)for(var m=0;m<=this.t_kazu;m++)if(!(this.co_t[m].c<100)){var g=this.co_t[m];if(!(Math.abs(i.x-g.x)>=22||Math.abs(i.y-g.y)>=22)){i.vx<0?(g.pth=1,g.vx=-3):(g.pth=0,g.vx=3),g.c=52,g.vy=-25,200==i.c?(i.c=50,i.c1=1,i.c2=20):(i.c=0,this.jm_kazu--);break}}}},D.prototype.aSet=function(t,i,s,h){for(var e=0;e<=31;e++)if(!(this.co_a[e].c>0)){var a=this.co_a[e];switch(a.c=s,a.c1=h-512-32,a.c2=h+128,a.x=t,a.y=i,this.a_kazu++,s){case 60:a.pt=200;break;case 70:a.vx=-3,a.c3=0,a.c1=t-512-150,a.c2=t+150;break;case 71:a.c=70,a.vx=3,a.c3=0,a.c1=t-512-150,a.c2=t+150;break;case 80:a.pt=800,a.c3=1;break;case 81:a.c=80,a.pt=800,a.c3=2;break;case 82:a.c=80,a.pt=800,a.c3=3;break;case 83:a.c=80,a.pt=800,a.c3=4;break;case 100:a.vy=5,a.x=t+8,a.y=i-212,a.c3=i-212,a.c4=i+2,a.pt=100;break;case 110:a.vx=-3,a.x=t+208,a.c3=t,a.c4=t+208,a.pt=100,a.c2=h+208+128+32;break;case 115:a.c=110,a.vx=-3,a.x=t+208,a.c3=t,a.c4=t+208,a.pt=100,a.c2=h+208+128+342+32;break;case 116:a.c=110,a.vx=3,a.x=t+320,a.c3=t+320,a.c4=t+208+320,a.pt=100,a.c2=h+208+128+320+32;break;case 120:a.vx=t+160,a.vy=i,a.x=t+8,a.y=i,a.c3=0,a.muki=1,a.c1=a.vx-512-32-130,a.c2=a.vx+128+130,a.pt=100;break;case 121:a.c=120,a.vx=t+160,a.vy=i,a.x=t+8,a.y=i,a.c3=0,a.muki=0,a.c1=a.vx-512-32-130,a.c2=a.vx+128+130,a.pt=100;break;case 300:a.pt=300,a.c3=0,a.c4=0;break;case 310:a.c=300,a.pt=310,a.c3=1,a.c4=0;break;case 320:a.c=300,a.pt=320,a.c3=2,a.c4=0;break;case 330:a.c=300,a.pt=330,a.c3=3,a.c4=0;break;case 400:a.pt=400,a.c3=0,a.vy=i;break;case 500:a.vy=0,a.x=t,a.y=i,a.c3=0,a.c4=0,a.pt=500;break;case 510:a.c=500,a.vy=0,a.x=t,a.y=i,a.c3=0,a.c4=1,a.pt=500;break;case 600:a.pt=600,a.c3=0,a.c4=0,a.vx=0,a.vy=i;break;case 700:a.pt=700,a.c3=0}break}},D.prototype.aMove=function(){this.j_a_id=-1,this.j_jdai_f=!1,this.a_hf=!1;for(var t=0;t<=this.a_kazu;t++){var i=this.co_a[t];if(0!=i.c)if(this.maps.wx<=i.c1||this.maps.wx>=i.c2)i.gf=!1;else{var s=i.x,e=i.y;switch(i.c){case 60:s>this.maps.wx-80&&s<this.maps.wx+512&&e>this.maps.wy-96&&e<this.maps.wy+320?(i.gf=!0,this.a_hf=!0,this.g_c3<=3?i.pt=200:i.pt=210):i.gf=!1;break;case 70:if(i.c3+=i.vx,i.c3<0?i.c3+=360:i.c3>=360&&(i.c3-=360),s>this.maps.wx-150&&s<this.maps.wx+512+150&&e>this.maps.wy-150&&e<this.maps.wy+320+150){i.gf=!0,this.a_hf=!0,i.pt=1100;var a=.017453292519943295,c=s+Object(h.d)(25*Math.cos(i.c3*a),!0,this),o=e+Object(h.d)(25*Math.sin(i.c3*a),!0,this);this.vo_x[t][0]=c,this.vo_y[t][0]=o;var _=s+Object(h.d)(140*Math.cos(i.c3*a),!0,this),r=e+Object(h.d)(140*Math.sin(i.c3*a),!0,this);if(this.vo_x[t][1]=_,this.vo_y[t][1]=r,this.vo_x[t][2]=s+Object(h.d)(31*Math.cos(i.c3*a),!0,this),this.vo_y[t][2]=e+Object(h.d)(31*Math.sin(i.c3*a),!0,this),this.vo_x[t][3]=s+Object(h.d)(134*Math.cos(i.c3*a),!0,this),this.vo_y[t][3]=e+Object(h.d)(134*Math.sin(i.c3*a),!0,this),this.co_j.c>=100&&this.co_j.c<200&&this.j_v_c<=0)if(Math.abs(c-_)>=Math.abs(o-r)){if(this.co_j.x+15>c&&this.co_j.x+15<_){var n=_-c,p=this.co_j.x+15-c,m=r-o,g=Object(h.d)(p*m/n)+o;g>this.co_j.y-12&&g<this.co_j.y+44&&this.jShinu(1)}else if(this.co_j.x+15>_&&this.co_j.x+15<c){var u=c-_,f=this.co_j.x+15-_,y=o-r,l=Object(h.d)(f*y/u)+r;l>this.co_j.y-12&&l<this.co_j.y+44&&this.jShinu(1)}}else if(this.co_j.y+15>o&&this.co_j.y+15<r){var j=r-o,d=this.co_j.y+15-o,x=_-c,v=Object(h.d)(d*x/j)+c;v>this.co_j.x-12&&v<this.co_j.x+44&&this.jShinu(1)}else if(this.co_j.y+15>r&&this.co_j.y+15<o){var k=o-r,w=this.co_j.y+15-r,b=c-_,S=Object(h.d)(w*b/k)+_;S>this.co_j.x-12&&S<this.co_j.x+44&&this.jShinu(1)}}else i.gf=!1;break;case 80:s>this.maps.wx-32&&s<this.maps.wx+512&&e>this.maps.wy-32&&e<this.maps.wy+320?(i.gf=!0,this.a_hf=!0,this.co_j.x>=s-80&&this.co_j.x<=s+64&&Math.abs(e-this.co_j.y)<32&&(this.hitokoto_c=10,this.hitokoto_num=i.c3)):i.gf=!1;break;case 100:s>this.maps.wx-80-32&&s<this.maps.wx+512+32&&e>this.maps.wy-16&&e<this.maps.wy+320+32?(i.gf=!0,this.a_hf=!0,100==this.co_j.c&&this.co_j.x+15>=s&&this.co_j.x<=s+64&&this.co_j.y==e-32&&(this.j_a_id=t)):i.gf=!1,e<=i.c3?(i.vy++,i.vy>5&&(i.vy=5)):e>=i.c4&&(i.vy--,i.vy<-5&&(i.vy=-5)),e+=i.vy,100==this.co_j.c&&(this.j_a_id==t&&(this.co_j.y=e-32),i.vy<0&&this.maps.getBGCode(this.co_j.x+15,this.co_j.y)>=20&&(this.co_j.y=32*(this.co_j.y>>5)+16,this.jShinu(3)),this.co_j.x+15>=s&&this.co_j.x<=s+64&&this.co_j.y+31>=e&&this.co_j.y<=e+13&&(i.vy>0?(this.co_j.y=e+14,this.maps.getBGCode(this.co_j.x+15,this.co_j.y+31)>=18&&(this.co_j.y=32*(this.co_j.y+31>>5)-32,this.jShinu(3))):(this.co_j.y=e-32,this.j_a_id=t)));break;case 110:if(s>this.maps.wx-80-32&&s<this.maps.wx+512+32&&e>this.maps.wy-16&&e<this.maps.wy+320+32?(i.gf=!0,this.a_hf=!0,100==this.co_j.c&&this.co_j.x+15>=s&&this.co_j.x<=s+64&&this.co_j.y==e-32&&(this.j_a_id=t)):i.gf=!1,s<=i.c3?(i.vx++,i.vx>3&&(i.vx=3)):s>=i.c4&&(i.vx--,i.vx<-3&&(i.vx=-3)),s+=i.vx,100==this.co_j.c){if(this.j_a_id==t)if(this.co_j.x+=i.vx,i.vx>0){var I=this.co_j.x+15>>5,P=this.co_j.y>>5,M=this.co_j.y+31>>5;(this.maps.map_bg[I][P]>=20||this.maps.map_bg[I][M]>=20)&&(this.co_j.x=32*I-16)}else if(i.vx<0){var C=this.co_j.x+15>>5,z=this.co_j.y>>5,T=this.co_j.y+31>>5;(this.maps.map_bg[C][z]>=20||this.maps.map_bg[C][T]>=20)&&(this.co_j.x=32*C+32-14)}if(this.co_j.x+15>=s&&this.co_j.x<=s+64&&this.co_j.y+31>=e&&this.co_j.y<=e+13)if(i.vx>0){this.co_j.x=s+65;var O=this.co_j.x+15>>5,G=this.co_j.y>>5,B=this.co_j.y+31>>5;(this.maps.map_bg[O][G]>=20||this.maps.map_bg[O][B]>=20)&&(this.co_j.c=230,this.co_j.x=32*O-32+11,this.co_j.c1=0,this.j_zan_f=!1,this.j_jet_c=0,this.j_v_c=0)}else{this.co_j.x=s-16;var A=this.co_j.x+15>>5,D=this.co_j.y>>5;this.co_j.y;(this.maps.map_bg[A][D]>=20||this.maps.map_bg[A][D]>=20)&&(this.co_j.c=230,this.co_j.x=32*A+32-11,this.co_j.c1=0,this.j_zan_f=!1,this.j_jet_c=0,this.j_v_c=0)}}break;case 120:s>this.maps.wx-80-32&&s<this.maps.wx+512+32&&e>this.maps.wy-16&&e<this.maps.wy+320+32?(i.gf=!0,this.a_hf=!0,100==this.co_j.c&&this.co_j.x+15>=s&&this.co_j.x<=s+64&&this.co_j.y==e-32&&(this.j_a_id=t)):i.gf=!1,1==i.muki?(i.c3+=2,i.c3>=360&&(i.c3-=360)):(i.c3-=2,i.c3<0&&(i.c3+=360));var E=3.14*i.c3/180,L=i.vx+Object(h.d)(126*Math.cos(E),!0,this)+16-40-s,R=i.vy+Object(h.d)(-126*Math.sin(E),!0,this)+16-7-e;if(e+=R,100==this.co_j.c&&(this.j_a_id==t&&(this.co_j.y+=R),R<0&&this.maps.getBGCode(this.co_j.x+15,this.co_j.y)>=20&&(this.co_j.y=32*(this.co_j.y>>5)+16,this.jShinu(3)),this.co_j.x+15>=s&&this.co_j.x<=s+64&&this.co_j.y+31>=e&&this.co_j.y<=e+13&&(R>0?(this.co_j.y=e+14,this.maps.getBGCode(this.co_j.x+15,this.co_j.y+31)>=18&&(this.co_j.y=32*(this.co_j.y+31>>5)-32,this.jShinu(3))):(this.co_j.y=e-32,this.j_a_id=t))),s+=L,100==this.co_j.c){if(this.j_a_id==t)if(this.co_j.x+=L,L>0){var N=this.co_j.x+15>>5,F=this.co_j.y>>5,W=this.co_j.y+31>>5;(this.maps.map_bg[N][F]>=20||this.maps.map_bg[N][W]>=20)&&(this.co_j.x=32*N-16)}else if(L<0){var Z=this.co_j.x+15>>5,Y=this.co_j.y>>5,H=this.co_j.y+31>>5;(this.maps.map_bg[Z][Y]>=20||this.maps.map_bg[Z][H]>=20)&&(this.co_j.x=32*Z+32-14)}if(this.co_j.x+15>=s&&this.co_j.x<=s+64&&this.co_j.y+31>=e&&this.co_j.y<=e+13)if(L>0){this.co_j.x=s+65;var q=this.co_j.x+15>>5,K=this.co_j.y>>5,$=this.co_j.y+31>>5;(this.maps.map_bg[q][K]>=20||this.maps.map_bg[q][$]>=20)&&(this.co_j.c=230,this.co_j.x=32*q-32+11,this.co_j.c1=0,this.j_zan_f=!1,this.j_jet_c=0,this.j_v_c=0)}else{this.co_j.x=s-16;var V=this.co_j.x+15>>5,J=this.co_j.y>>5,U=this.co_j.y+31>>5;(this.maps.map_bg[V][J]>=20||this.maps.map_bg[V][U]>=20)&&(this.co_j.c=230,this.co_j.x=32*V+32-11,this.co_j.c1=0,this.j_zan_f=!1,this.j_jet_c=0,this.j_v_c=0)}}break;case 300:s>this.maps.wx-96&&s<this.maps.wx+512&&e>this.maps.wy-64&&e<this.maps.wy+320?(i.gf=!0,this.a_hf=!0,100==this.co_j.c&&this.co_j.x+15>=s&&this.co_j.x<=s+48&&this.co_j.y==e-32&&(this.j_a_id=t,this.co_j.x+15>=s+24&&this.co_j.x<=s+48-24&&this.co_j.y==e-32&&1!=i.c4&&(0==this.sl_step||1==this.sl_step||10==this.sl_step||11==this.sl_step||2!=this.dokan_mode)&&(this.co_j.c1=-10,this.co_j.c2=i.c3,this.j_zan_f=!1,this.j_jet_c=0,this.j_v_c=0,this.co_j.c=300,this.co_j.x=s+16,this.co_j.y=e-32,this.co_j.vx=0,this.co_j.vy=0,i.c4=1)),100==this.co_j.c&&this.j_a_id!=t&&(i.c4=0)):i.gf=!1;break;case 400:s>this.maps.wx-96&&s<this.maps.wx+512&&e>this.maps.wy-64&&e<this.maps.wy+320?(i.gf=!0,this.a_hf=!0,100==this.co_j.c&&this.co_j.x+15>=s&&this.co_j.x<=s+80&&this.co_j.y==e-32&&(this.j_a_id=t)):i.gf=!1,0==i.c3?s-64<this.co_j.x+15&&s+96+64>this.co_j.x+15&&(i.c3=1):i.c3<100?(i.c3++,i.c3>8&&(i.c3=100)):100==i.c3?(e+=12)>=i.vy+128&&(e=i.vy+128,i.c3=200):200==i.c3&&(e-=3)<=i.vy&&(e=i.vy,i.c3=0,s<=this.co_j.x+15&&s+96>this.co_j.x+15&&(i.c3=100)),100==this.co_j.c&&(this.j_a_id==t&&(this.co_j.y=e-32,200==i.c3&&this.maps.getBGCode(this.co_j.x+15,this.co_j.y)>=20&&(this.co_j.y=32*(this.co_j.y>>5)+16,this.jShinu(3))),this.co_j.x+15>=s&&this.co_j.x<=s+80&&this.co_j.y+31>=e&&this.co_j.y<=e+63&&(100==i.c3?(this.co_j.y=e+64,this.maps.getBGCode(this.co_j.x+15,this.co_j.y+31)>=18&&(this.co_j.y=32*(this.co_j.y+31>>5)-32,this.jShinu(3))):200==i.c3&&(this.co_j.y=e-32,this.j_a_id=t,this.maps.getBGCode(this.co_j.x+15,this.co_j.y)>=20&&(this.co_j.y=32*(this.co_j.y>>5)+16,this.jShinu(3)))));break;case 500:s>this.maps.wx-96-32&&s<this.maps.wx+512+32&&e>this.maps.wy-32&&e<=this.maps.wy+368?(i.gf=!0,this.a_hf=!0,100==this.co_j.c&&this.co_j.x+15>=s&&this.co_j.x<=s+80&&this.co_j.y==e-32?(this.j_a_id=t,1==i.c4?i.c3<50&&(i.c3<=0?i.c3=1:i.c3<=30?i.c3++:(i.c3=55,i.vy=0)):i.c3<=0&&(i.c3=51,i.vy=0)):1==i.c4&&i.c3<50&&(i.c3=0)):i.gf=!1,i.c3>0&&(i.c3>=51&&i.c3<=54?i.c3++:i.c3>=55&&i.c3<100&&(i.vy<16&&i.vy++,e+=i.vy,this.maps.getBGCode(s+32,e+13)>=20&&(e=32*(e+13>>5)-14,i.c3=100),e>=this.ochiru_y+48&&(i.c=0,i.gf=!1))),100==this.co_j.c&&this.j_a_id==t&&(this.co_j.y=e-32);break;case 600:if(s>this.maps.wx-96&&s<this.maps.wx+512&&e>this.maps.wy-64&&e<this.maps.wy+320?(i.gf=!0,this.a_hf=!0,100==this.co_j.c&&this.co_j.x+15>=s&&this.co_j.x<=s+48&&this.co_j.y==e+16-32&&(this.j_a_id=t)):i.gf=!1,i.pt=600,i.c3<=0?(i.vx=0,this.j_a_id==t&&(i.c3=100,i.c4=0,i.vx=2),this.co_j.x>=s-144&&(i.pt=605)):100==i.c3?(i.c1=s-512-32,i.c2=s+128,this.j_a_id!=t?(i.c4++,i.c4>50&&(i.c3=0)):i.c4=0,i.pt=605):200==i.c3&&(i.pt=605,i.vx=0),s+=i.vx,(this.maps.getBGCode(s+63+16,e)>=20||this.maps.getBGCode(s+63+16,e+32)>=20)&&(s=32*(s+63+16>>5)-64-16,i.vx=s-i.x,i.c3=200),100==this.co_j.c){if(this.j_a_id==t&&(this.co_j.x+=i.vx,i.vx>0)){var X=this.co_j.x+15>>5,Q=this.co_j.y>>5,tt=this.co_j.y+31>>5;(this.maps.map_bg[X][Q]>=20||this.maps.map_bg[X][tt]>=20)&&(this.co_j.x=32*X-16)}this.co_j.x+15>=s&&this.co_j.x<=s+48&&this.co_j.y+31>=e+16&&this.co_j.y<=e+47&&(this.co_j.x=s+49)}break;case 700:s>this.maps.wx-96&&s<this.maps.wx+512&&e>this.maps.wy-64&&e<this.maps.wy+320?(i.gf=!0,this.a_hf=!0,100==this.co_j.c&&this.co_j.x+15>=s&&this.co_j.x<=s+16&&(i.c3>=1&&i.c3<=2&&this.co_j.y==e-32+10?this.j_a_id=t:i.c3>=3&&i.c3<=4&&this.co_j.y==e-32+16?this.j_a_id=t:i.c3>=5&&i.c3<=6&&this.co_j.y==e-32+10?this.j_a_id=t:this.co_j.y==e-32&&(this.j_a_id=t))):i.gf=!1,this.j_a_id==t?(this.co_j.vx=0,this.co_j.vy=0,this.co_j.x=s,this.j_jdai_f=!0,i.c3++,i.c3<=2?(i.pt=710,this.co_j.y=e-32+10):i.c3<=4?(i.pt=720,this.co_j.y=e-32+16):i.c3<=6?(i.pt=710,this.co_j.y=e-32+10):i.c3>=7&&(i.pt=700,this.co_j.y=e-32,i.c3=0,this.j_a_id=-1,this.j_jump_type=4,this.co_j.pt=101,this.co_j.ac=0,this.co_j.vy=-255,this.j_jump_level=1,4==this.maps.getBGCode(s,e)&&(this.co_j.vy=-75))):(i.c3=0,i.pt=700)}if(this.jm_kazu>0)for(var it=0;it<=1;it++)if(this.co_jm[it].c>=100){var st=this.co_jm[it];i.c<200?st.x+15>=s&&st.x<=s+64&&st.y+29>=e&&st.y+2<=e+13&&(200==st.c?(st.c=50,st.y=e-8,st.c1=1,st.c2=20):(st.c=0,this.jm_kazu--)):300==i.c?st.x+15>=s&&st.x<=s+48&&st.y+29>=e&&st.y+2<=e+31&&(200==st.c?(st.c=50,st.c1=1,st.c2=20):(st.c=0,this.jm_kazu--)):400==i.c?st.x+15>=s&&st.x<=s+80&&st.y+29>=e&&st.y+2<=e+63&&(200==st.c?(st.c=50,st.c1=1,st.c2=20):(st.c=0,this.jm_kazu--)):500==i.c&&st.x+15>=s&&st.x<=s+80&&st.y+29>=e&&st.y+2<=e+13&&(200==st.c?(st.c=50,st.y=e-8,st.c1=1,st.c2=20):(st.c=0,this.jm_kazu--))}i.x=s,i.y=e}}},D.prototype.bMove=function(){this.co_b.update(this)},D.prototype.hSet=function(t,i,s){for(var h=0;h<=63;h++)if(!(this.co_h[h].c>0)){var e=this.co_h[h];e.c=s,e.x=t,e.y=i;break}},D.prototype.hAttack=function(t,i){for(var s=0;s<=63;s++){var h=this.co_h[s];if(0!=h.c&&h.x==t&&h.y==i){switch(h.c){case 100:this.mSet(32*t,32*i-32,2e3);break;case 200:this.mSet(32*t,32*i-32,2010),this.mSet(32*t,32*i-32,2020),this.mSet(32*t,32*i-32,2e3);break;case 300:this.mSet(32*t,32*i-32,2100);break;case 400:this.mSet(32*t,32*i-32,2110);break;case 500:this.mSet(32*t,32*i-32,2120);break;case 600:this.mSet(32*t,32*i-32,2130);break;case 700:this.mSet(32*t,32*i-32,2140);break;case 800:this.mSet(32*t,32*i-32,2150);break;case 900:this.mSet(32*t,32*i-32,2160);break;case 1e3:this.mSet(32*t,32*i-32,2170);break;case 1100:this.mSet(32*t,32*i-32,2180),this.stage_1up_f[this.stage-1]=!1}this.maps.putBGCode(t,i,41),h.c=0;break}}},s.d(i,"a",function(){return E}),E.prototype.__repaint=function(){this.update(this.__appimg.getGraphics()),this.__canvas.getContext("2d").drawImage(this.__appimg._dat,0,0)},E.prototype.init=function(){},E.prototype.start=function(){null==this.th&&(this.th=1);var t=this.getParameter("game_speed");this.th_interval=parseInt(t),isNaN(this.th_interval)&&(this.th_interval=70),this.th_interval<1?this.th_interval=1:this.th_interval>300&&(this.th_interval=300),this.th_jm=10},E.prototype.stop=function(){null!=this.th&&(this.th=null)},E.prototype.destroy=function(){},E.prototype.paint=function(t){t.drawImage(this.gg.os_img,0,0,this)},E.prototype.update=function(t){this.paint(t)},E.prototype.run=function(){if(10==this.th_jm)this.init_j(),this.mp.start(),this.th_jm-=1,70;else if(6==this.th_jm){var t=0;this.gg.apt_img._loaded?t=1:this.gg.apt_img._error&&(t=2),0!=t&&(this.th_jm-=1)}else 2==this.th_jm?(this.gg.cut(),this.th_jm-=1,70):this.th_jm>=2?(this.th_jm-=1,70):(100==this.mp.ml_mode?this.mp.mL100():this.mp.mainLoop(),this.userSub(this.gg.os_g,this.gg.os_img));this.__repaint()},E.prototype.init_j=function(){this.gg=new n(this),this.gg.setBackcolor(o.black);var t,i=this.getParameter("filename_title");if(this.gg.addListImage(0,i),i=this.getParameter("filename_ending"),this.gg.addListImage(1,i),i=this.getParameter("filename_gameover"),this.gg.addListImage(2,i),i=this.getParameter("stage_select"),t=parseInt(i),isNaN(t)&&(t=-1),2==t){var s=this.getParameter("filename_chizu");this.gg.addListImage(3,s)}this.gg.loadImage(),this.gm=new m;var e=this.gm;this.__canvas.addEventListener("mousedown",function(t){t.stopImmediatePropagation(),h.b.focus.focus(this),function(t,i){t.mousePressed(i)}(e,t)}.bind(this)),this.__canvas.addEventListener("mouseup",function(t){!function(t,i){t.mouseReleased(i)}(e,t)}),this.gk=new p;var a=this.gk,c=function(t){h.b.focus.hasFocus(this)&&function(t,i){t.keyPressed(i)}(a,t)}.bind(this);document.addEventListener("keydown",c),this.__game.__resourceList.push({type:"eventListener",target:document,name:"keydown",value:c}),c=function(t){h.b.focus.hasFocus(this)&&function(t,i){t.keyReleased(i)}(a,t)}.bind(this),document.addEventListener("keyup",c),this.__game.__resourceList.push({type:"eventListener",target:document,name:"keyup",value:c}),this.mp=new D(this.gg,this.gm,this.gk),(this.mp.tdb={}).options=this.options,this.mp.addHighscoreEvent(this.options.highscoreCallback),this.userInit()},E.prototype.userInit=function(){},E.prototype.userSub=function(t,i){},E.prototype.getImage=function(t){var i=new e;return i.load(t),i},E.prototype.createImage=function(t,i){return new e(t,i)},E.prototype.getParameter=function(t){var i=(t+"").toLowerCase();return void 0===this.params[i]?null:this.params[i]+""}},function(t,i,s){"use strict";s.r(i);var h=s(0);window.CanvasMasao={Game:h.b},window.JSMasao=h.b},function(t,i,s){(function(t){var h=void 0!==t&&t||"undefined"!=typeof self&&self||window,e=Function.prototype.apply;function a(t,i){this._id=t,this._clearFn=i}i.setTimeout=function(){return new a(e.call(setTimeout,h,arguments),clearTimeout)},i.setInterval=function(){return new a(e.call(setInterval,h,arguments),clearInterval)},i.clearTimeout=i.clearInterval=function(t){t&&t.close()},a.prototype.unref=a.prototype.ref=function(){},a.prototype.close=function(){this._clearFn.call(h,this._id)},i.enroll=function(t,i){clearTimeout(t._idleTimeoutId),t._idleTimeout=i},i.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},i._unrefActive=i.active=function(t){clearTimeout(t._idleTimeoutId);var i=t._idleTimeout;i>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},i))},s(75),i.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,i.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,s(28))},function(t,i,s){(function(t,i){!function(t,s){"use strict";if(!t.setImmediate){var h,e,a,c,o,_=1,r={},n=!1,p=t.document,m=Object.getPrototypeOf&&Object.getPrototypeOf(t);m=m&&m.setTimeout?m:t,"[object process]"==={}.toString.call(t.process)?h=function(t){i.nextTick(function(){u(t)})}:!function(){if(t.postMessage&&!t.importScripts){var i=!0,s=t.onmessage;return t.onmessage=function(){i=!1},t.postMessage("","*"),t.onmessage=s,i}}()?t.MessageChannel?((a=new MessageChannel).port1.onmessage=function(t){u(t.data)},h=function(t){a.port2.postMessage(t)}):p&&"onreadystatechange"in p.createElement("script")?(e=p.documentElement,h=function(t){var i=p.createElement("script");i.onreadystatechange=function(){u(t),i.onreadystatechange=null,e.removeChild(i),i=null},e.appendChild(i)}):h=function(t){setTimeout(u,0,t)}:(c="setImmediate$"+Math.random()+"$",o=function(i){i.source===t&&"string"==typeof i.data&&0===i.data.indexOf(c)&&u(+i.data.slice(c.length))},t.addEventListener?t.addEventListener("message",o,!1):t.attachEvent("onmessage",o),h=function(i){t.postMessage(c+i,"*")}),m.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var i=new Array(arguments.length-1),s=0;s<i.length;s++)i[s]=arguments[s+1];var e={callback:t,args:i};return r[_]=e,h(_),_++},m.clearImmediate=g}function g(t){delete r[t]}function u(t){if(n)setTimeout(u,0,t);else{var i=r[t];if(i){n=!0;try{!function(t){var i=t.callback,h=t.args;switch(h.length){case 0:i();break;case 1:i(h[0]);break;case 2:i(h[0],h[1]);break;case 3:i(h[0],h[1],h[2]);break;default:i.apply(s,h)}}(i)}finally{g(t),n=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,s(28),s(76))},function(t,i){var s,h,e=t.exports={};function a(){throw new Error("setTimeout has not been defined")}function c(){throw new Error("clearTimeout has not been defined")}function o(t){if(s===setTimeout)return setTimeout(t,0);if((s===a||!s)&&setTimeout)return s=setTimeout,setTimeout(t,0);try{return s(t,0)}catch(i){try{return s.call(null,t,0)}catch(i){return s.call(this,t,0)}}}!function(){try{s="function"==typeof setTimeout?setTimeout:a}catch(t){s=a}try{h="function"==typeof clearTimeout?clearTimeout:c}catch(t){h=c}}();var _,r=[],n=!1,p=-1;function m(){n&&_&&(n=!1,_.length?r=_.concat(r):p=-1,r.length&&g())}function g(){if(!n){var t=o(m);n=!0;for(var i=r.length;i;){for(_=r,r=[];++p<i;)_&&_[p].run();p=-1,i=r.length}_=null,n=!1,function(t){if(h===clearTimeout)return clearTimeout(t);if((h===c||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(t);try{h(t)}catch(i){try{return h.call(null,t)}catch(i){return h.call(this,t)}}}(t)}}function u(t,i){this.fun=t,this.array=i}function f(){}e.nextTick=function(t){var i=new Array(arguments.length-1);if(arguments.length>1)for(var s=1;s<arguments.length;s++)i[s-1]=arguments[s];r.push(new u(t,i)),1!==r.length||n||o(g)},u.prototype.run=function(){this.fun.apply(null,this.array)},e.title="browser",e.browser=!0,e.env={},e.argv=[],e.version="",e.versions={},e.on=f,e.addListener=f,e.once=f,e.off=f,e.removeListener=f,e.removeAllListeners=f,e.emit=f,e.prependListener=f,e.prependOnceListener=f,e.listeners=function(t){return[]},e.binding=function(t){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(t){throw new Error("process.chdir is not supported")},e.umask=function(){return 0}},function(t,i,s){var h=s(1),e=s(52),a=h.WeakMap;t.exports="function"==typeof a&&/native code/.test(e.call(a))},function(t,i,s){var h=s(1),e=s(34),a=s(37),c=s(7),o=h.Reflect;t.exports=o&&o.ownKeys||function(t){var i=e.f(c(t)),s=a.f;return s?i.concat(s(t)):i}},function(t,i,s){var h=s(11),e=s(12),a=s(35);t.exports=function(t){return function(i,s,c){var o,_=h(i),r=e(_.length),n=a(c,r);if(t&&s!=s){for(;r>n;)if((o=_[n++])!=o)return!0}else for(;r>n;n++)if((t||n in _)&&_[n]===s)return t||n||0;return!t&&-1}}},function(t,i,s){var h=s(3),e=/#|\.prototype\./,a=function(t,i){var s=o[c(t)];return s==r||s!=_&&("function"==typeof i?h(i):!!i)},c=a.normalize=function(t){return String(t).replace(e,".").toLowerCase()},o=a.data={},_=a.NATIVE="N",r=a.POLYFILL="P";t.exports=a},function(t,i,s){"use strict";var h=s(13),e=s(35),a=s(12);t.exports=function(t){for(var i=h(this),s=a(i.length),c=arguments.length,o=e(c>1?arguments[1]:void 0,s),_=c>2?arguments[2]:void 0,r=void 0===_?s:e(_,s);r>o;)i[o++]=t;return i}},function(t,i,s){var h=s(10),e=s(9),a=s(7),c=s(39);t.exports=h?Object.defineProperties:function(t,i){a(t);for(var s,h=c(i),o=h.length,_=0;o>_;)e.f(t,s=h[_++],i[s]);return t}},function(t,i,s){var h=s(1).document;t.exports=h&&h.documentElement},function(t,i,s){"use strict";var h=s(8),e=s(5),a=s(26),c=s(35),o=s(12),_=s(11),r=s(57),n=s(40),p=s(2)("species"),m=[].slice,g=Math.max;h({target:"Array",proto:!0,forced:!n("slice")},{slice:function(t,i){var s,h,n,u=_(this),f=o(u.length),y=c(t,f),l=c(void 0===i?f:i,f);if(a(u)&&("function"!=typeof(s=u.constructor)||s!==Array&&!a(s.prototype)?e(s)&&null===(s=s[p])&&(s=void 0):s=void 0,s===Array||void 0===s))return m.call(u,y,l);for(h=new(void 0===s?Array:s)(g(l-y,0)),n=0;y<l;y++,n++)y in u&&r(h,n,u[y]);return h.length=n,h}})},function(t,i,s){var h=s(10),e=s(9).f,a=Function.prototype,c=a.toString,o=/^\s*function ([^ (]*)/;!h||"name"in a||e(a,"name",{configurable:!0,get:function(){try{return c.call(this).match(o)[1]}catch(t){return""}}})},function(t,i,s){"use strict";var h=s(87),e={};e[s(2)("toStringTag")]="z",t.exports="[object z]"!==String(e)?function(){return"[object "+h(this)+"]"}:e.toString},function(t,i,s){var h=s(20),e=s(2)("toStringTag"),a="Arguments"==h(function(){return arguments}());t.exports=function(t){var i,s,c;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(s=function(t,i){try{return t[i]}catch(t){}}(i=Object(t),e))?s:a?h(i):"Object"==(c=h(i))&&"function"==typeof i.callee?"Arguments":c}},function(t,i,s){"use strict";var h=s(60),e=s(7),a=s(12),c=s(14),o=s(62),_=s(64);h("match",1,function(t,i,s){return[function(i){var s=c(this),h=null==i?void 0:i[t];return void 0!==h?h.call(i,s):new RegExp(i)[t](String(s))},function(t){var h=s(i,t,this);if(h.done)return h.value;var c=e(t),r=String(this);if(!c.global)return _(c,r);var n=c.unicode;c.lastIndex=0;for(var p,m=[],g=0;null!==(p=_(c,r));){var u=String(p[0]);m[g]=u,""===u&&(c.lastIndex=o(r,a(c.lastIndex),n)),g++}return 0===g?null:m}]})},function(t,i,s){"use strict";var h=s(60),e=s(7),a=s(13),c=s(12),o=s(18),_=s(14),r=s(62),n=s(64),p=Math.max,m=Math.min,g=Math.floor,u=/\$([$&'`]|\d\d?|<[^>]*>)/g,f=/\$([$&'`]|\d\d?)/g;h("replace",2,function(t,i,s){return[function(s,h){var e=_(this),a=null==s?void 0:s[t];return void 0!==a?a.call(s,e,h):i.call(String(e),s,h)},function(t,a){var _=s(i,t,this,a);if(_.done)return _.value;var g=e(t),u=String(this),f="function"==typeof a;f||(a=String(a));var y=g.global;if(y){var l=g.unicode;g.lastIndex=0}for(var j=[];;){var d=n(g,u);if(null===d)break;if(j.push(d),!y)break;""===String(d[0])&&(g.lastIndex=r(u,c(g.lastIndex),l))}for(var x,v="",k=0,w=0;w<j.length;w++){d=j[w];for(var b=String(d[0]),S=p(m(o(d.index),u.length),0),I=[],P=1;P<d.length;P++)I.push(void 0===(x=d[P])?x:String(x));var M=d.groups;if(f){var C=[b].concat(I,S,u);void 0!==M&&C.push(M);var z=String(a.apply(void 0,C))}else z=h(b,u,S,I,M,a);S>=k&&(v+=u.slice(k,S)+z,k=S+b.length)}return v+u.slice(k)}];function h(t,s,h,e,c,o){var _=h+t.length,r=e.length,n=f;return void 0!==c&&(c=a(c),n=u),i.call(o,n,function(i,a){var o;switch(a.charAt(0)){case"$":return"$";case"&":return t;case"`":return s.slice(0,h);case"'":return s.slice(_);case"<":o=c[a.slice(1,-1)];break;default:var n=+a;if(0===n)return i;if(n>r){var p=g(n/10);return 0===p?i:p<=r?void 0===e[p-1]?a.charAt(1):e[p-1]+a.charAt(1):i}o=e[n-1]}return void 0===o?"":o})}})},function(t,i,s){t.exports=s(1)},function(t,i,s){var h=s(39),e=s(37),a=s(31);t.exports=function(t){var i=h(t),s=e.f;if(s)for(var c,o=s(t),_=a.f,r=0;o.length>r;)_.call(t,c=o[r++])&&i.push(c);return i}},function(t,i,s){var h=s(11),e=s(34).f,a={}.toString,c="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return c&&"[object Window]"==a.call(t)?function(t){try{return e(t)}catch(t){return c.slice()}}(t):e(h(t))}},function(t,i,s){"use strict";var h=s(70).IteratorPrototype,e=s(38),a=s(16),c=s(42),o=s(45),_=function(){return this};t.exports=function(t,i,s){var r=i+" Iterator";return t.prototype=e(h,{next:a(1,s)}),c(t,r,!1,!0),o[r]=_,t}},function(t,i,s){var h=s(95);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,i=!1,s={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(s,[]),i=s instanceof Array}catch(t){}return function(s,e){return h(s,e),i?t.call(s,e):s.__proto__=e,s}}():void 0)},function(t,i,s){var h=s(5),e=s(7);t.exports=function(t,i){if(e(t),!h(i)&&null!==i)throw TypeError("Can't set "+String(i)+" as a prototype")}},function(t,i,s){"use strict";var h=s(8),e=s(97),a=s(40),c=e(1);h({target:"Array",proto:!0,forced:!a("map")},{map:function(t){return c(this,t,arguments[1])}})},function(t,i,s){var h=s(98),e=s(49),a=s(13),c=s(12),o=s(66);t.exports=function(t,i){var s=1==t,_=2==t,r=3==t,n=4==t,p=6==t,m=5==t||p,g=i||o;return function(i,o,u){for(var f,y,l=a(i),j=e(l),d=h(o,u,3),x=c(j.length),v=0,k=s?g(i,x):_?g(i,0):void 0;x>v;v++)if((m||v in j)&&(y=d(f=j[v],v,l),t))if(s)k[v]=y;else if(y)switch(t){case 3:return!0;case 5:return f;case 6:return v;case 2:k.push(f)}else if(n)return!1;return p?-1:r||n?n:k}}},function(t,i,s){var h=s(99);t.exports=function(t,i,s){if(h(t),void 0===i)return t;switch(s){case 0:return function(){return t.call(i)};case 1:return function(s){return t.call(i,s)};case 2:return function(s,h){return t.call(i,s,h)};case 3:return function(s,h,e){return t.call(i,s,h,e)}}return function(){return t.apply(i,arguments)}}},function(t,i){t.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},function(t,i,s){var h=s(8),e=s(3),a=s(13),c=s(46),o=s(71);h({target:"Object",stat:!0,forced:e(function(){c(1)}),sham:!o},{getPrototypeOf:function(t){return c(a(t))}})},function(t,i){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(t,i,s){s(8)({target:"String",proto:!0},{repeat:s(103)})},function(t,i,s){"use strict";var h=s(18),e=s(14);t.exports="".repeat||function(t){var i=String(e(this)),s="",a=h(t);if(a<0||a==1/0)throw RangeError("Wrong number of repetitions");for(;a>0;(a>>>=1)&&(i+=i))1&a&&(s+=i);return s}}]);
