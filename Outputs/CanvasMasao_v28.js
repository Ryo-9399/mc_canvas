var CanvasMasao=function(a,b,c){function d(){this.c=0,this.x=0,this.y=0,this.vx=0,this.vy=0,this.wx=0,this.wy=0,this.c1=0,this.c2=0,this.c3=0,this.c4=0,this.c5=0,this.pt=0,this.pth=0,this.img=null,this.zs_x=0,this.zs_y=0,this.ac=0,this.level=0,this.jimen_f=!1,this.muki=0,this.direction=0,this.score=0,this.ss=0,this.gf=!1}function e(L){this.spt_kazu_x=10,this.spt_kazu_y=25,this.spt_h_kijyun=3,this.spt_kazu=250,this.li=new Array(10),this.spt_img=r(2,this.spt_kazu),this.ap=L,this.di=new q(512,320),this.backcolor=D.black,this.os_img=this.ap.createImage(this.di.width,this.di.height),this.os_g=this.os_img.getGraphics(),this.os2_img=this.ap.createImage(this.di.width+96,this.di.height+96),this.os2_g=this.os2_img.getGraphics(),this.mt=[],str=this.ap.getParameter("filename_pattern"),this.apt_img=this.ap.getImage(str)}function f(){this.key_code=0,this.up_f=!1,this.down_f=!1,this.left_f=!1,this.right_f=!1,this.tr1_f=!1,this.tr2_f=!1,this.tr3_f=!1,this.start_f=!1,this.x_f=!1,this.z_f=!1,this.space_f=!1,this.left_c=0,this.right_c=0,this.up_c=0,this.down_c=0,this.tr1_c=0,this.codekey_f=new Array(256),this.left_right_lock=!1}function i(){this.button_f=!1,this.click_x=0,this.click_y=0,this.init=function(){this.button_f=!1,this.click_x=0,this.click_y=0}}function l(Ca,Da,Ea){var Fa=u();if((Ea=Ea||{}).width=Ea.width||512,Ea.height=Ea.height||320,Ea.extensions=Ea.extensions||[],Da?this.__boxID=Da:(this.__boxID="__mcdiv"+Fa,b.write("<div id='"+this.__boxID+"'></div>")),this.__canvasID="__mccanvas"+Fa,this.__padDivID="__mcpaddiv"+Fa,this.__box=b.getElementById(this.__boxID),this.__resourceList=[],this.__canvas=b.createElement("canvas"),this.__canvas.id=this.__canvasID,this.__canvas.width=Ea.width,this.__canvas.height=Ea.height,this.__canvas.textContent="※お使いのブラウザはHTML5に対応していないため表示できません。",this.__box.appendChild(this.__canvas),this.__padDiv=b.createElement("div"),this.__padDiv.id=this.__padDivID,this.__box.appendChild(this.__padDiv),this.__canvas&&this.__canvas.getContext){if(this.__pad_before=[],this.__pad_after=[],this.__pad_touches=[],a.TouchEvent){var Ga,Ha=b.createElement("input");Ha.type="button",Ha.value="バーチャル操作パッド 表示 / 非表示",(Ga=Ha.style).width="24em",Ga.height="2.5em",Ha.onclick=function(){"inline"==Ia.style.display?Ia.style.display="none":l.padAccessor.show(Ia)},this.__padDiv.appendChild(Ha),this.__padDiv.appendChild(b.createElement("br"));var Ia=this.__pad=b.createElement("canvas");Ia.width=500,Ia.height=200;var Ja=function(Qa){this.__pad_event(Qa)}.bind(this);Ia.addEventListener("touchstart",Ja,!1),Ia.addEventListener("touchmove",Ja,!1),Ia.addEventListener("touchend",Ja,!1),Ia.addEventListener("touchcancel",Ja,!1),Ia.style.display="none",this.__padDiv.appendChild(Ia),(Ga=Ia.style).position="absolute";var Ka=setInterval(function(){var Ra=innerWidth,Sa=innerHeight,Ta=Ra<Sa?Ra:Sa;Ia.style.width=Ra+"px",Ia.style.height=Ta*l.pad.style.rate+"px",Ia.style.left=scrollX+"px",l.pad.avoidAD?Ia.style.top=scrollY+Sa-Ta*l.pad.style.rate-.16*Ta+"px":Ia.style.top=scrollY+Sa-Ta*l.pad.style.rate+"px",this.__pad_update()}.bind(this),500);this.__resourceList.push({type:"setInterval",value:Ka}),l.padAccessor.append(Ia),this.__pad_off=b.createElement("canvas"),this.__pad_off.width=500,this.__pad_off.height=200;var La=this.__pad_off.getContext("2d");La.font="24px monospace",La.textAlign="center",La.textBaseline="middle",La.lineWidth=2,La.lineCap="round",La.lineJoin="round";for(var Ma=0;Ma<8;Ma++)this.__pad_before[Ma]=!1,this.__pad_after[Ma]=!1;this.__pad_update()}this.__mc=new I(Ca,this.__canvas,this,Ea||{});for(Ma=0;Ma<Ea.extensions.length;Ma++)Ea.extensions[Ma].inject(this.__mc,Ea);this.__mc.start();var Na=this.__st=this.__mc.getParameter("game_speed");Na?(Na=parseInt(Na),isNaN(Na)?Na=70:Na<10?Na=10:300<Na&&(Na=300)):Na=70,this.__pt=0;var Pa=new(Ea["custom-loop"]||v)(this,!!Ea["bc-loop-setinterval"]);Pa.start(Na,this.__loop.bind(this)),this.__resourceList.push({type:"Loop",value:Pa})}}var ob,rb;function q(rc,sc){this.width=rc,this.height=sc}function r(){if(0==arguments.length)return null;for(var tc=new Array(arguments.length),uc=0;uc<arguments.length;uc++)tc[uc]=arguments[uc];return function wc(xc){var yc=new Array(xc[0]);if(1==xc.length)return yc;for(var zc=xc.slice(1),Ac=0;Ac<xc[0];Ac++)yc[Ac]=wc(zc);return yc}(tc)}function s(Bc){return 0<=Bc?c.floor(Bc):-c.floor(-Bc)}function u(){return c.random().toString(36).slice(2)}function v(Ec,Fc){this.game=Ec,this.forceSetInterval=Fc,this.running=!1,this.interval=null,this.callback=null,this.mode=0,this.prevTime=null,this.timerid=null,this._loop=this._loop.bind(this)}d.prototype.init=function(){this.c=0,this.x=0,this.y=0,this.vx=0,this.vy=0,this.wx=0,this.wy=0,this.c1=0,this.c2=0,this.c3=0,this.c4=0,this.c5=0,this.pt=0,this.pth=0,this.img=null,this.zs_x=0,this.zs_y=0,this.ac=0,this.level=0,this.jimen_f=!1,this.muki=0,this.direction=0,this.score=0,this.ss=0,this.gf=!1},d.prototype.setPattern=function(K){},e.prototype.cut=function(){var N,Q,R,S;for(Q=0;Q<=this.spt_kazu_y-1;Q++)for(R=0;R<=this.spt_kazu_x-1;R++)N=10*Q+R,this.spt_img[0][N]=new z(32,32),(S=this.spt_img[0][N].getGraphics()).drawImage(this.apt_img,32*R,32*Q,32,32,0,0,32,32,null),Q>=this.spt_h_kijyun?(this.spt_img[1][N]=new z(32,32),(S=this.spt_img[1][N].getGraphics()).scale(-1,1),S.drawImage(this.apt_img,32*R,32*Q,32,32,-32,0,32,32,null)):this.spt_img[1][N]=this.spt_img[0][N];this.hi=this.spt_img[0]},e.prototype.addListImage=function(T,U){this.li[T]=this.ap.getImage(U),this.mt.push(this.li[T])},e.prototype.loadImage=function(){},e.prototype.copyOS=function(V){V.drawImage(this.os_img,0,0,this.ap)},e.prototype.fill=function(){this.os_g.setColor(this.backcolor),this.os_g.fillRect(0,0,this.di.width,this.di.height)},e.prototype.fill2=function(){this.os2_g.setColor(this.backcolor),this.os2_g.fillRect(0,0,this.di.width+96,this.di.height+96)},e.prototype.setBackcolor=function(W){this.backcolor=W},e.prototype.drawPT=function(X,Y,Z,$){this.os_g.drawImage(this.spt_img[$][Z],X,Y,this.ap)},e.prototype.drawPT2=function(_,aa,ba){this.os2_g.drawImage(this.hi[ba],_,aa,this.ap)},e.prototype.drawBG2=function(ca,da,ea){this.os2_g.setColor(this.backcolor),this.os2_g.fillRect(ca,da,32,32),this.os2_g.drawImage(this.hi[ea],ca,da,this.ap)},e.prototype.drawBG3=function(fa,ga,ha,ia){this.os2_g.setColor(ia),this.os2_g.fillRect(fa,ga,32,32),this.os2_g.drawImage(this.hi[ha],fa,ga,this.ap)},e.prototype.drawListImage=function(ja,ka,la){this.os_g.drawImage(this.li[la],ja,ka,this.ap)},f.prototype.init=function(){this.key_code=0,this.up_f=!1,this.down_f=!1,this.left_f=!1,this.right_f=!1,this.tr1_f=!1,this.tr2_f=!1,this.tr3_f=!1,this.start_f=!1,this.x_f=!1,this.z_f=!1,this.space_f=!1,this.left_c=0,this.right_c=0,this.up_c=0,this.down_c=0,this.tr1_c=0,this.left_right_lock=!1;for(var ma=0;ma<=255;ma++)this.codekey_f[ma]=!1},f.prototype.keyPressed=function(na){switch(this.key_code=na.keyCode,this.key_char=na.keyCode,0<=this.key_code&&this.key_code<=255&&(this.codekey_f[this.key_code]=!0),this.key_code){case 38:na.preventDefault(),this.up_f=!0;break;case 40:na.preventDefault(),this.down_f=!0,this.tr2_f=!0;break;case 37:na.preventDefault(),this.left_right_lock||(this.left_f=!0);break;case 39:na.preventDefault(),this.left_right_lock||(this.right_f=!0);break;case 104:na.preventDefault(),this.up_f=!0;break;case 98:na.preventDefault(),this.down_f=!0,this.tr2_f=!0;break;case 100:na.preventDefault(),this.left_right_lock||(this.left_f=!0);break;case 102:na.preventDefault(),this.left_right_lock||(this.right_f=!0);break;case 90:na.preventDefault(),this.tr1_f=!0,this.z_f=!0;break;case 88:na.preventDefault(),this.tr2_f=!0,this.x_f=!0;break;case 67:na.preventDefault(),this.tr3_f=!0;break;case 32:na.preventDefault(),this.tr1_f=!0,this.space_f=!0,this.tr1_c=0;break;case 83:na.preventDefault(),this.start_f=!0}},f.prototype.keyReleased=function(oa){var pa=oa.keyCode;switch(0<=pa&&pa<=255&&(this.codekey_f[pa]=!1),pa){case 38:this.up_f=!1;break;case 40:this.down_f=!1,this.tr2_f=!1;break;case 37:this.left_right_lock||(this.left_f=!1,this.left_c=0);break;case 39:this.left_right_lock||(this.right_f=!1,this.right_c=0);break;case 104:this.up_f=!1;break;case 98:this.down_f=!1,this.tr2_f=!1;break;case 100:this.left_right_lock||(this.left_f=!1,this.left_c=0);break;case 102:this.left_right_lock||(this.right_f=!1,this.right_c=0);break;case 90:this.tr1_f=!1,this.z_f=!1,this.tr1_c=0;break;case 88:this.tr2_f=!1,this.x_f=!1;break;case 67:this.tr3_f=!1;break;case 32:this.tr1_f=!1,this.space_f=!1,this.tr1_c=0;break;case 83:this.start_f=!1}},f.prototype.getKeyCode=function(){return this.key_code},i.prototype.mousePressed=function(ua){var va=ua.target,wa=va.getBoundingClientRect();this.button_f=!0,this.click_x=(ua.clientX-wa.left)/wa.width*va.width,this.click_y=(ua.clientY-wa.top)/wa.height*va.height},i.prototype.mouseReleased=function(xa){this.button_f=!1},l.replaceAll=function(Ua){function Va(){for(var Wa=b.getElementsByTagName("applet"),Xa=[],Ya=0;Ya<Wa.length;Ya++)Xa.push(Wa[Ya]);for(Ya=0;Ya<Xa.length;Ya++){var Za=Xa[Ya];(Za.getAttribute("code")||"").match(/masaoconstruction/i)&&l.replaceByDom(Za,Ua)}var _a=b.getElementsByTagName("object"),ab=[];for(Ya=0;Ya<_a.length;Ya++)ab.push(_a[Ya]);for(Ya=0;Ya<ab;Ya++){var bb=ab[Ya],cb=bb.getElementsByName("code")[0];cb.tagName.match(/param/i)&&cb.value.match(/masaoconstruction/i)&&l.replaceByDom(bb,Ua)}}"complete"==b.readyState?Va():a.addEventListener("load",Va)},l.replace=function(db,eb){function fb(){l.replaceByDom(b.getElementById(db),eb)}"complete"==b.readyState?fb():a.addEventListener("load",fb)},l.replaceByDom=function(gb,hb){for(var ib=gb.getElementsByTagName("param"),jb=ib.length,kb={},lb=0;lb<jb;lb++)kb[ib[lb].name]=ib[lb].value;var mb=b.createElement("div"),nb=gb.id||u();mb.id=nb,gb.parentNode.replaceChild(mb,gb),new l(kb,nb,hb)},l.focus=(b.addEventListener("mousedown",function(){ob=null}),{focus:function(pb){ob=pb},hasFocus:function(qb){return ob===qb}}),l.padAccessor=(rb=[],{append:function(sb){rb.push(sb)},show:function(tb){for(var ub=0;ub<rb.length;ub++)tb!==rb[ub]?rb[ub].style.display="none":tb.style.display="inline"}}),l.prototype.kill=function(){this.__mc.stop();for(var vb=this.__resourceList,wb=0,xb=vb.length;wb<xb;wb++)"setInterval"===vb[wb].type?clearInterval(vb[wb].value):"eventListener"===vb[wb].type?vb[wb].target.removeEventListener(vb[wb].name,vb[wb].value):"Loop"===vb[wb].type&&vb[wb].value.stop();for(this.__resourceList=[];this.__box.hasChildNodes();)this.__box.removeChild(this.__box.firstChild)},l.prototype.__loop=function(){var yb=(new Date).getTime();if(!(yb-this.__pt<this.__st)){if(this.__pt=yb-10,this.__testCanvas){var Ab,zb=this.__testCanvas.getContext("2d");if(zb.fillStyle="rgb(128,0,128)",zb.fillRect(0,0,700,700),zb.strokeStyle="#f00",this.__mc.gg)for(zb.save(),zb.scale(.5,.5),zb.drawImage(this.__mc.gg.os_img._dat,0,0),zb.drawImage(this.__mc.gg.os2_img._dat,576,0),zb.restore(),zb.beginPath(),Ab=0;Ab<700;Ab+=32)zb.moveTo(0,Ab),zb.lineTo(700,Ab),zb.moveTo(Ab,0),zb.lineTo(Ab,700);zb.stroke()}if(this.__testDiv&&this.__mc.mp){var Db,Eb,Bb=this.__mc.mp,Cb="<div style='text-align:left'>";for(Db in Bb)"[object Array]"!=(Eb=Object.prototype.toString.call(Bb[Db]))&&"[object Function]"!=Eb&&(Db in this.__teo?0<this.__teo[Db].t?(Cb+="<span style='background-color:rgba(255,255,255,"+this.__teo[Db].t/6+")'>"+Db+": "+Bb[Db]+"</span> ",this.__teo[Db].t--):Cb+=Db+": "+Bb[Db]+" ":this.__teo[Db]={val:Bb[Db],t:0},this.__teo[Db].val!=Bb[Db]&&(this.__teo[Db].val=Bb[Db],this.__teo[Db].t=6));this.__testDiv.innerHTML=Cb+"</div>"}this.__mc.run()}},l.prototype.__pad_update=function(){var Jb,Kb,Lb,Mb,Nb,Ob,Fb=this.__pad.getBoundingClientRect(),Gb=Fb.left,Hb=Fb.top,Ib=this.__pad_off.getContext("2d"),Pb=l.pad.coords.length;for(Ib.clearRect(0,0,500,200),Ib.fillStyle=l.pad.style.back,Ib.fillRect(0,0,500,200),Ib.fillStyle=l.pad.style.button,Jb=0;Jb<Pb;Jb++){for(Ib.beginPath(),Lb=(Mb=l.pad.coords[Jb]).length>>1,Ib.moveTo(Mb[0],Mb[1]),Kb=0;Kb<Lb;Kb++)Ib.lineTo(Mb[Kb<<1],Mb[1+(Kb<<1)]);Ib.closePath(),Ib.fill()}for(Jb=0;Jb<Pb;Jb++)this.__pad_after[Jb]=!1;for(Ib.fillStyle=l.pad.style.active,Jb=0;Jb<Pb;Jb++){for(Ib.beginPath(),Lb=(Mb=l.pad.coords[Jb]).length>>1,Ib.moveTo(Mb[0],Mb[1]),Kb=0;Kb<Lb;Kb++)Ib.lineTo(Mb[Kb<<1],Mb[1+(Kb<<1)]);for(Kb in Ib.closePath(),this.__pad_touches)Nb=this.__pad_touches[Kb].clientX-Gb,Ob=this.__pad_touches[Kb].clientY-Hb,this.__pad_after[Jb]|=Ib.isPointInPath(Nb/Fb.width*500,Ob/Fb.height*200);this.__pad_after[Jb]&&Ib.fill()}for(Ib.strokeStyle=l.pad.style.border,Ib.fillStyle=l.pad.style.text,Jb=0;Jb<Pb;Jb++){for(Ib.beginPath(),Lb=(Mb=l.pad.coords[Jb]).length>>1,Ib.moveTo(Mb[0],Mb[1]),Kb=1;Kb<Lb;Kb++)Ib.lineTo(Mb[Kb<<1],Mb[1+(Kb<<1)]);Ib.closePath(),Ib.stroke(),Lb=Qb(Mb),Ib.fillText(l.pad.chars[Jb],Lb[0],Lb[1])}for(Ib.stroke(),(Ib=this.__pad.getContext("2d")).clearRect(0,0,500,200),Ib.drawImage(this.__pad_off,0,0),Jb=0;Jb<Pb;Jb++)this.__pad_before[Jb]!=this.__pad_after[Jb]&&(this.__pad_before[Jb]=this.__pad_after[Jb],this.__pad_after[Jb]?this.__pad_pressed(Jb):this.__pad_released(Jb));function Qb(Rb){var Sb,Ub,Vb,Wb,Xb,Yb,Zb,$b,_b,ac,dc,Tb=Rb.length>>1;if($b=Ub=Rb[0],_b=Vb=Rb[1],1==Tb)return[$b,_b];if($b=($b+(Wb=Rb[2]))/2,_b=(_b+(Xb=Rb[3]))/2,2==Tb)return[$b,$b];for(Yb=Rb[4],Zb=Rb[5],ac=c.abs((Wb-Ub)*(Zb-Vb)-(Xb-Vb)*(Yb-Ub))/2,$b=(Ub+Wb+Yb)/3,_b=(Vb+Xb+Zb)/3,Sb=3;Sb<Tb;Sb++)Wb=Yb,Xb=Zb,Yb=Rb[Sb<<1],Zb=Rb[1+(Sb<<1)],$b=(ac*$b+(dc=c.abs((Wb-Ub)*(Zb-Vb)-(Xb-Vb)*(Yb-Ub))/2)*((Ub+Wb+Yb)/3))/(ac+dc),_b=(ac*_b+dc*((Vb+Xb+Zb)/3))/(ac+dc),ac=dc;return[$b,_b]}},l.prototype.__pad_pressed=function(ec){if(this.__mc.gk){var fc=l.pad.codes[ec];this.__mc.gk.keyPressed({keyCode:fc,preventDefault:function(){}})}},l.prototype.__pad_released=function(gc){if(this.__mc.gk){var hc=l.pad.codes[gc];this.__mc.gk.keyReleased({keyCode:hc,preventDefault:function(){}})}},l.prototype.__pad_event=function(ic){ic.preventDefault(),this.__pad_touches=[];for(var jc=0;jc<ic.touches.length;jc++)this.__pad_touches.push(ic.touches[jc]);this.__pad_update()},l.pad={coords:[[410,30,490,30,490,170,410,170],[320,30,400,30,400,170,320,170],[250,30,290,30,290,70,250,70],[200,30,240,30,240,70,200,70],[5,60,87,60,87,140,5,140],[175,60,93,60,93,140,175,140],[30,5,30,80,150,80,150,5],[30,195,30,120,150,120,150,195]],chars:["X","Z","T","P","←","→","↑","↓"],codes:[88,90,84,80,37,39,38,40],style:{rate:.4,back:"rgba(0, 0, 0, 0)",button:"rgba(128, 128, 128, 0.5)",active:"rgba(0, 0, 0, 0.5)",text:"black",border:"black"},avoidAD:!1},v.prototype.start=function(Gc,Hc){this.running=!0,this.interval=Gc,this.callback=Hc;var Ic=w();this.targetTime=Ic+Gc,this.prevTime=Ic,a.requestAnimationFrame&&!this.forceSetInterval?this.mode=1:this.mode=0,0===this.mode&&(this.timerid=setInterval(this._loop,Gc)),this._next()},v.prototype.stop=function(){this.running&&(this.running=!1,1===this.mode?cancelAnimationFrame(this.timerid):clearInterval(this.timerid))},v.prototype._next=function(){1===this.mode&&(this.timerid=requestAnimationFrame(this._loop))},v.prototype._loop=function(){if(this.running){var Mc=w();500<=Mc-this.prevTime&&(this.targetTime=Mc-1);var Nc=c.ceil((Mc-this.targetTime)/this.interval);for(this.targetTime+=this.interval*Nc;0<Nc&&(this.callback(),Nc--,!(2<w()-Mc)););if(0<Nc){var Oc=this;x(function Pc(Qc){for(;0<Nc&&0<Qc.timeRemaining();)Oc.callback(),Nc--;0<Nc&&!Qc.didTimeout&&x(Pc,{timeout:1e3})},{timeout:1e3})}this._next(),this.prevTime=Mc}};var w=a.performance&&performance.now?performance.now.bind(performance):Date.now?Date.now.bind(Date):function(){return 1e3*(new Date).getTime()},x="function"==typeof requestIdleCallback?requestIdleCallback:"function"==typeof setImmediate?function(Rc){setImmediate(function(){var Sc=w();Rc({didTimeout:!1,timeRemaining:function(){return 50+Sc-w()}})})}:function(Uc){setTimeout(function(){var Vc=w();Uc({didTimeout:!1,timeRemaining:function(){return 50+Vc-w()}})},1)};function y(Xc,Yc,Zc,$c){this.zure_x=16,this.zure_y=24,this.co_j=new d,this.map_string=new Array(9),this.map_bg=r(15,9),this.stage_c=new Array(10),this.stage_x=new Array(10),this.stage_y=new Array(10),this.stage_cf=new Array(10),this.ie_c=new Array(16),this.ie_x=new Array(16),this.ie_y=new Array(16),this.mp_mode=0,this.cc_p1_x=new Array(17),this.cc_p1_y=new Array(17),this.cc_p2_x=new Array(17),this.cc_p2_y=new Array(17),this.gg=Xc,this.gk=Yc,this.km=Zc,this.mp=$c,this.cc_p1_x[13]=-200,this.cc_p1_y[13]=160,this.cc_p1_x[14]=-200,this.cc_p1_y[14]=520,this.cc_p1_x[15]=712,this.cc_p1_y[15]=520,this.cc_p1_x[16]=712,this.cc_p1_y[16]=160,this.cc_p2_x[13]=712,this.cc_p2_y[13]=160,this.cc_p2_x[14]=712,this.cc_p2_y[14]=-200,this.cc_p2_x[15]=-200,this.cc_p2_y[15]=-200,this.cc_p2_x[16]=-200,this.cc_p2_y[16]=160}function z(Nd,Od){if(2==arguments.length){this._dat=b.createElement("canvas"),this._dat.width=Nd,this._dat.height=Od,this._width=Nd,this._height=Od;var Pd=this._dat.getContext("2d");Pd.lineWidth=1.6,Pd.lineCap="round",Pd.save()}else this._dat=null,this._width=-1,this._height=-1;this._loaded=!1,this._error=!1,this._g=null}function B(Td){Td.onerror()}function C(Ud){this._ctx=Ud._dat.getContext("2d"),this._ctx&&(this._ctx.restore(),this._ctx.save()),this._color=D.black,this._font=new E(E.DIALOG,E.PLAIN,10)}function D(rf,sf,tf,uf){this.r=255<rf?255:rf<0?0:rf,this.g=255<sf?255:sf<0?0:sf,this.b=255<tf?255:tf<0?0:tf,4==arguments.length?this.a=255<uf?255:uf<0?0:uf:this.a=255}function E(vf,wf,xf){this._name=vf,this._style=wf,this._size=xf}function F(yf,zf,Af){this.gg=yf,this.gk=zf,this.name_crys=Af,this.hi=this.gg.spt_img[0],this.hih=this.gg.spt_img,this.hg=this.gg.os_g,this.ap=this.gg.ap,this.c=new Array(16),this.x=new Array(16),this.y=new Array(16),this.width=new Array(16),this.selectedIndex=new Array(16),this.item_kazu=new Array(16),this.message=new Array(16),this.item=r(16,16),this.item_int=r(16,16),this.item_color=new Array(16),this.list_IDlist=new Array(16),this.aw=-1,this.mode=0,this.kettei_c=0,this.cancel_c=0,this.initAll()}function G(xh,yh,zh){this.ran_seed=void 0,this.ml_mode=0,this.ml_mode_c=0,this.score=0,this.highscore=0,this.score_1up_1=0,this.score_1up_2=0,this.score_1up_1_para=0,this.score_1up_2_para=0,this.score_v=!0,this.stage=1,this.stage_cc=0,this.stage_max=1,this.stage_kaishi=1,this.g_c1=0,this.g_c2=0,this.g_c3=0,this.g_ac=0,this.g_ac2=0,this.tr1_c=0,this.tr2_c=0,this.left_dcc=0,this.right_dcc=0,this.co_t=new Array(130),this.co_m=new Array(24),this.co_a=new Array(32),this.co_h=new Array(64),this.co_jm=new Array(2),this.vo_x=r(32,4),this.vo_y=r(32,4),this.j_zan_x=new Array(6),this.j_zan_y=new Array(6),this.j_zan_pt=new Array(6),this.j_zan_pth=new Array(6),this.vo_pa_x=new Array(6),this.vo_pa_y=new Array(6),this.stage_1up_f=new Array(3),this.shop_item_name=new Array(16),this.shop_item_teika=new Array(16),this.door_score=10,this.gg=xh,this.gm=yh,this.gk=zh,this.maps=new H(200,100,this.gg,this),this.km=new F(this.gg,this.gk,"まさお"),this.co_j=new d;for(var Ah=0;Ah<=129;Ah++)this.co_t[Ah]=new d;for(var Bh=0;Bh<=23;Bh++)this.co_m[Bh]=new d;for(var Ch=0;Ch<=31;Ch++)this.co_a[Ch]=new d;for(var Dh=0;Dh<=63;Dh++)this.co_h[Dh]=new d;for(var Eh=0;Eh<=1;Eh++)this.co_jm[Eh]=new d;this.co_b=new d,2==this.paraInt("stage_select")?(this.stage_select=2,this.stage_max=4):this.stage_select=1,this.ig=new y(this.gg,this.gk,this.km,this),this.ranInit(),this.hi=this.gg.spt_img[0],this.hih=this.gg.spt_img,this.hg=this.gg.os_g,this.ap=this.gg.ap,this.init1()}function H(Wp,Xp,Yp,Zp){this.width=Wp,this.height=Xp,this.gg=Yp,this.mp=Zp,this.map_bg=r(this.width,this.height),this.map_string=new Array(this.height),this.bg_space="";for(var $p=0;$p<=this.width;$p++)this.bg_space=this.bg_space+".";this.init(),this.hi=this.gg.spt_img[0],this.g2=this.gg.os2_g,this.ap=this.gg.ap}function I(Sq,Tq,Uq,Vq){this.th_interval=70,this.th_jm=10,this.params=Sq,this.__canvas=Tq,this.__appimg=new z(512,320),this.__game=Uq,this.options=Vq}y.prototype.worldInit=function(){for(var _c=0;_c<=9;_c++)this.stage_c[_c]=0,this.stage_cf[_c]=!1;this.stage_kcID=0,this.door_koID=0,this.dokan_khID=0;for(var ad=this.door_score_open=0;ad<=15;ad++)this.ie_c[ad]=0;this.co_j.x=0,this.co_j.y=0,this.co_j.vx=0,this.co_j.vy=0,this.co_j.muki=1,this.co_j.ac=0,this.mp.tr1_c=2,this.shop_kattaitem=-1,this.mp_mode=0,this.km.initAll(),this.km.mode=100;for(var bd=0;bd<=8;bd++){var cd=this.gg.ap.getParameter("chizu-"+bd);cd+="...............",this.map_string[bd]=cd}for(var dd=0;dd<=8;dd++)for(var ed=0;ed<=14;ed++){var fd=this.map_string[dd].charAt(ed);"A"==fd?(this.co_j.x=32*ed,this.co_j.y=32*dd,this.map_bg[ed][dd]=220):"B"==fd?(this.map_bg[ed][dd]=216,this.ie_c[3]=100,this.ie_x[3]=32*ed,this.ie_y[3]=32*dd):"C"==fd?(this.map_bg[ed][dd]=217,this.ie_c[4]=100,this.ie_x[4]=32*ed,this.ie_y[4]=32*dd):"D"==fd?(this.map_bg[ed][dd]=218,this.ie_c[10]=100,this.ie_x[10]=32*ed,this.ie_y[10]=32*dd):"E"==fd?(this.map_bg[ed][dd]=219,this.ie_c[11]=100,this.ie_x[11]=32*ed,this.ie_y[11]=32*dd):"a"==fd?0==this.stage_c[0]?(this.map_bg[ed][dd]=223,this.stage_c[0]=100,this.stage_x[0]=32*ed,this.stage_y[0]=32*dd):this.map_bg[ed][dd]=220:"b"==fd?0==this.stage_c[1]?(this.map_bg[ed][dd]=224,this.stage_c[1]=100,this.stage_x[1]=32*ed,this.stage_y[1]=32*dd):this.map_bg[ed][dd]=220:"c"==fd?0==this.stage_c[2]?(this.map_bg[ed][dd]=225,this.stage_c[2]=100,this.stage_x[2]=32*ed,this.stage_y[2]=32*dd):this.map_bg[ed][dd]=220:"d"==fd?0==this.stage_c[3]?(this.map_bg[ed][dd]=226,this.stage_c[3]=100,this.stage_x[3]=32*ed,this.stage_y[3]=32*dd):this.map_bg[ed][dd]=220:"e"==fd?(this.map_bg[ed][dd]=213,this.ie_c[0]=100,this.ie_x[0]=32*ed,this.ie_y[0]=32*dd):"f"==fd?(this.map_bg[ed][dd]=214,this.ie_c[1]=100,this.ie_x[1]=32*ed,this.ie_y[1]=32*dd):"g"==fd?(this.map_bg[ed][dd]=215,this.ie_c[2]=100,this.ie_x[2]=32*ed,this.ie_y[2]=32*dd):"h"==fd?(this.map_bg[ed][dd]=212,this.ie_c[9]=100,this.ie_x[9]=32*ed,this.ie_y[9]=32*dd):"i"==fd?(this.map_bg[ed][dd]=206,this.ie_c[5]=100,this.ie_x[5]=32*ed,this.ie_y[5]=32*dd):"j"==fd?(this.map_bg[ed][dd]=207,this.ie_c[6]=100,this.ie_x[6]=32*ed,this.ie_y[6]=32*dd):"k"==fd?(this.map_bg[ed][dd]=208,this.ie_c[7]=100,this.ie_x[7]=32*ed,this.ie_y[7]=32*dd):"l"==fd?(this.map_bg[ed][dd]=209,this.ie_c[8]=100,this.ie_x[8]=32*ed,this.ie_y[8]=32*dd):this.map_bg[ed][dd]="1"==fd?220:"2"==fd?221:"3"==fd?222:0}256<this.co_j.x+16&&(this.co_j.muki=0),this.drawOs2()},y.prototype.worldInit2=function(){this.co_j.vx=0,this.co_j.vy=0,this.co_j.muki=1,this.co_j.ac=0,this.mp.tr1_c=2,this.mp_mode=200,this.cc_hankei=12,this.stage_kcID=0,this.door_koID=0,this.shop_kattaitem=-1,this.door_score_open=0,100==this.ie_c[9]&&this.mp.score>=this.mp.door_score&&(this.ie_c[9]=50,this.door_score_open=1),this.km.initAll(),this.km.mode=100,this.drawOs2()},y.prototype.worldInit3=function(){this.stage_kcID=this.checkStage(),this.stage_cf[this.stage_kcID-1]=!0,this.stage_c[this.stage_kcID-1]=50;for(var gd=0,hd=0;hd<=2;hd++)this.stage_cf[hd]&&gd++;this.door_koID=0,1<=gd&&100==this.ie_c[gd-1]&&(this.ie_c[gd-1]=50,this.door_koID=gd),this.door_score_open=0,100==this.ie_c[9]&&this.mp.score>=this.mp.door_score&&(this.ie_c[9]=50,this.door_score_open=1),this.co_j.vx=0,this.co_j.vy=0,this.co_j.muki=1,this.co_j.ac=0,this.mp.tr1_c=2,this.co_j.pt=0,this.shop_kattaitem=-1,this.mp_mode=200,this.cc_hankei=12,this.km.initAll(),this.km.mode=100,this.drawOs2()},y.prototype.drawOs2=function(){this.gg.setBackcolor(new D(0,127,0)),this.gg.fill2(),this.gg.os2_g.drawImage(this.gg.li[3],0,0,this.gg.ap);for(var id=0;id<=8;id++)for(var jd=0;jd<=14;jd++){var kd=this.map_bg[jd][id];221==kd?(this.gg.drawPT2(32*jd+16,32*id+24-16,221),this.gg.drawPT2(32*jd+16,32*id+24+16,221)):222==kd&&(this.gg.drawPT2(32*jd+16-16,32*id+24,222),this.gg.drawPT2(32*jd+16+16,32*id+24,222))}for(var ld=0;ld<=8;ld++)for(var md=0;md<=14;md++){var nd=this.map_bg[md][ld];61!=nd&&62!=nd&&256!=nd&&(216<=nd&&nd<=219?this.gg.drawPT2(32*md+16,32*ld+24-7,nd):206<=nd&&nd<=209?this.gg.drawPT2(32*md+16,32*ld+24-7,nd):212<=nd&&nd<=215?(this.gg.drawPT2(32*md+16-16,32*ld+24,222),this.gg.drawPT2(32*md+16+16,32*ld+24,222),this.gg.drawPT2(32*md+16,32*ld+24-7,nd)):this.gg.drawPT2(32*md+16,32*ld+24,nd))}},y.prototype.drawMap=function(){this.gg.os_g.drawImage(this.gg.os2_img,0,0,this.gg.ap)},y.prototype.getBGZ=function(od,pd){if(od<0||479<od||pd<0||287<pd)return 0;var qd=od>>5,rd=pd>>5;return this.map_bg[qd][rd]},y.prototype.checkStage=function(){for(var sd=-1,td=0;td<=9;td++)if(100==this.stage_c[td]&&this.co_j.x==this.stage_x[td]&&this.co_j.y==this.stage_y[td]){sd=td+1;break}return sd},y.prototype.mainProgram=function(){if(this.gk.tr1_f?this.mp.tr1_c<2&&this.mp.tr1_c++:this.mp.tr1_c=0,0==this.mp_mode){if(100==this.km.mode)this.jMove();else if(200==this.km.mode)1==this.km.cancel_c?(this.km.off(3),this.km.off(4),this.km.mode=100):1==this.km.kettei_c&&(this.km.init1(3),this.km.setMessage(3,this.mp.mes1_name),this.mp.addSerifu(3,2,3),this.km.activeSerifu(3,120,150,272,D.cyan),this.km.mode=210);else if(210==this.km.mode)1!=this.km.cancel_c&&1!=this.km.kettei_c||(this.km.off(3),this.km.off(4),this.km.mode=100);else if(300==this.km.mode)1==this.km.cancel_c?(this.km.off(3),this.km.off(4),this.km.mode=100):1==this.km.kettei_c&&(this.km.init1(3),this.km.setMessage(3,this.mp.mes2_name),this.mp.addSerifu(3,4,3),this.km.activeSerifu(3,120,150,272,D.cyan),this.km.mode=210);else if(400==this.km.mode){if(1==this.km.cancel_c)this.km.off(3),this.km.off(4),this.km.mode=100;else if(1==this.km.kettei_c){this.km.off(3),this.km.list_kazu=0,this.km.init1(6),this.km.setMessage(6,this.gg.ap.getParameter("shop_serifu1"));for(var ud=0;ud<=8;ud++)0<this.mp.shop_item_teika[ud]&&(this.km.addItem2(6,this.mp.shop_item_name[ud],this.mp.shop_item_teika[ud]),this.km.list_IDlist[this.km.list_kazu]=ud,this.km.list_kazu++);1<=this.km.list_kazu?(this.km.activeKaimono(6,296,76,184),this.km.mode=410):(this.km.init1(6),this.km.init1(3),this.km.setMessage(3,"Error"),this.km.addItem(3,"Please set any item on shop menu."),this.km.activeSerifu(3,120,150,216,D.red),this.km.mode=210)}}else 410==this.km.mode?1==this.km.cancel_c?(this.km.off(4),this.km.off(6),this.km.mode=100):1==this.km.kettei_c&&(this.km.list_s=this.km.list_IDlist[this.km.selectedIndex[6]],this.km.init1(7),this.km.setMessage(7,this.mp.shop_item_name[this.km.list_s]+this.gg.ap.getParameter("shop_serifu2")),this.km.addItem(7,this.gg.ap.getParameter("shop_serifu3")),this.km.addItem(7,this.gg.ap.getParameter("shop_serifu4")),this.km.activeSerifutuki(7,48,150,236,this.mp.shop_name),this.km.mode=420):420==this.km.mode?1==this.km.cancel_c?(this.km.offActivewindow(7,6),this.km.mode=410):1==this.km.kettei_c&&(0==this.km.selectedIndex[7]?(this.mp.score>=this.mp.shop_item_teika[this.km.list_s]?(this.km.init1(3),this.km.addItem(3,this.mp.shop_item_name[this.km.list_s]+this.gg.ap.getParameter("shop_serifu5")),this.km.activeIchigyou(3,48,240,236),this.mp.score-=this.mp.shop_item_teika[this.km.list_s],this.shop_kattaitem=this.km.list_s,7==this.shop_kattaitem&&this.mp.j_left++):(this.km.init1(3),this.km.addItem(3,this.gg.ap.getParameter("shop_serifu6")),this.km.activeIchigyou(3,48,240,236)),this.km.mode=430):(this.km.off(4),this.km.off(6),this.km.off(7),this.km.mode=100)):430==this.km.mode?1!=this.km.cancel_c&&1!=this.km.kettei_c||(this.km.off(3),this.km.off(4),this.km.off(6),this.km.off(7),this.km.mode=100):500==this.km.mode?1==this.km.cancel_c?(this.km.off(4),this.km.off(3),this.km.mode=100):1==this.km.kettei_c&&(this.km.off(3),this.km.init1(2),this.km.setMessage(2,this.gg.ap.getParameter("setumei_menu1")),this.km.addItem(2,this.gg.ap.getParameter("setumei_menu2")),this.km.addItem(2,this.gg.ap.getParameter("setumei_menu3")),this.km.addItem(2,this.gg.ap.getParameter("setumei_menu4")),this.km.activeSerifutuki(2,120,150,224,this.mp.setumei_name),this.km.mode=510):510==this.km.mode?1==this.km.cancel_c?(this.km.off(2),this.km.off(4),this.km.mode=100):1==this.km.kettei_c&&(this.km.init1(3),this.km.setMessage(3,this.mp.setumei_name),1==this.km.selectedIndex[2]?this.mp.addSerifu(3,11,3):2==this.km.selectedIndex[2]?this.mp.addSerifu(3,12,3):this.mp.addSerifu(3,10,3),this.km.activeSerifu(3,200,191,272,D.cyan),this.km.mode=520):520==this.km.mode&&(1==this.km.cancel_c?(this.km.offActivewindow(3,2),this.km.mode=510):1==this.km.kettei_c&&(this.km.off(2),this.km.off(3),this.km.off(4),this.km.mode=100));this.km.move()}if(1e3==this.co_j.pt?this.gg.drawPT(this.co_j.x+16,this.co_j.y+24-12-6,100,this.co_j.muki):1010==this.co_j.pt?this.gg.drawPT(this.co_j.x+16,this.co_j.y+24-12+5,100,this.co_j.muki):202<=this.co_j.pt&&this.co_j.pt<=205?this.gg.drawPT(this.co_j.x+16,this.co_j.y+24-12,this.co_j.pt,0):this.gg.drawPT(this.co_j.x+16,this.co_j.y+24-12,this.co_j.pt,this.co_j.muki),this.km.drawMenus(),100==this.mp_mode)this.circleCLS(this.cc_hankei),this.cc_hankei-=12,this.cc_hankei<0&&(this.cc_hankei=0,this.mp_mode=110);else if(110==this.mp_mode)this.circleCLS(this.cc_hankei);else if(200==this.mp_mode){if(this.circleCLS(this.cc_hankei),this.cc_hankei+=12,312<this.cc_hankei)if(1<=this.stage_kcID){this.mp_mode=300,this.cc_hankei=0;var vd=this.stage_y[this.stage_kcID-1]>>5;this.map_bg[this.stage_x[this.stage_kcID-1]>>5][vd]=227,1<=this.door_koID&&(this.map_bg[this.ie_x[this.door_koID-1]>>5][this.ie_y[this.door_koID-1]>>5]=222),1==this.door_score_open&&(this.map_bg[this.ie_x[9]>>5][this.ie_y[9]>>5]=222),this.drawOs2()}else this.mp_mode=0,1==this.door_score_open&&(this.mp_mode=400,this.cc_hankei=0,this.map_bg[this.ie_x[9]>>5][this.ie_y[9]>>5]=222,this.drawOs2())}else if(300==this.mp_mode){var wd;this.cc_hankei++,this.cc_hankei<=3?wd=0:this.cc_hankei<=6?wd=1:this.cc_hankei<=9?wd=0:this.cc_hankei<=12?wd=1:this.cc_hankei<=15?wd=0:this.cc_hankei<=18?wd=1:this.cc_hankei<=21?wd=0:this.cc_hankei<=24?wd=1:this.cc_hankei<=26?wd=0:(wd=0,this.mp_mode=0),0<wd&&this.gg.drawPT(this.stage_x[this.stage_kcID-1]+16,this.stage_y[this.stage_kcID-1]+24,222+this.stage_kcID,0),0<wd&&1<=this.door_koID&&this.gg.drawPT(this.ie_x[this.door_koID-1]+16,this.ie_y[this.door_koID-1]+24-7,212+this.door_koID,0),0<wd&&1==this.door_score_open&&this.gg.drawPT(this.ie_x[9]+16,this.ie_y[9]+24-7,212,0)}else if(400==this.mp_mode){var xd;this.cc_hankei++,this.cc_hankei<=3?xd=0:this.cc_hankei<=6?xd=1:this.cc_hankei<=9?xd=0:this.cc_hankei<=12?xd=1:this.cc_hankei<=15?xd=0:this.cc_hankei<=18?xd=1:this.cc_hankei<=21?xd=0:this.cc_hankei<=24?xd=1:this.cc_hankei<=26?xd=0:(xd=0,this.mp_mode=0),0<xd&&this.gg.drawPT(this.ie_x[9]+16,this.ie_y[9]+24-7,212,0)}},y.prototype.jMove=function(){var yd=this.co_j.x,zd=this.co_j.y;if(this.co_j.pt=100,0==this.co_j.vx&&0==this.co_j.vy){if(this.co_j.ac++,7<this.co_j.ac&&(this.co_j.ac=0),3<this.co_j.ac){this.co_j.pt=1e3;var Ad=this.getBGZ(yd,zd);(216<=Ad&&Ad<=219||206<=Ad&&Ad<=209)&&(this.co_j.pt=1010)}if(1==this.mp.tr1_c)if(1<=this.checkStage())this.mp_mode=100,this.cc_hankei=312,this.co_j.ac=0,this.dokan_khID=0,this.co_j.pt=100;else if(206<=this.getBGZ(yd,zd)&&this.getBGZ(yd,zd)<=209)if(2==this.mp.dokan_mode)for(var Bd=!1,Cd=0;Cd<=8;Cd++){for(var Dd=0;Dd<=14;Dd++){if(32*Dd!=yd||32*Cd!=zd)if(this.map_bg[Dd][Cd]==this.getBGZ(yd,zd)){yd=32*Dd,zd=32*Cd,this.co_j.ac=0,this.co_j.pt=1010,Bd=!0;break}}if(Bd)break}else this.mp_mode=100,this.cc_hankei=312,this.co_j.ac=0,this.dokan_khID=this.getBGZ(yd,zd)-205,this.co_j.pt=1010;else 216==this.getBGZ(yd,zd)?(this.km.init1(4),this.km.onKao(4,120,42,272,230),this.km.init1(3),this.km.setMessage(3,this.mp.mes1_name),this.mp.addSerifu(3,1,3),this.km.activeSerifu(3,120,150,272,D.cyan),this.km.mode=200,this.co_j.pt=1010,this.co_j.ac=0):217==this.getBGZ(yd,zd)?(this.km.init1(4),this.km.onKao(4,120,42,272,232),this.km.init1(3),this.km.setMessage(3,this.mp.mes2_name),this.mp.addSerifu(3,3,3),this.km.activeSerifu(3,120,150,272,D.cyan),this.km.mode=300,this.co_j.pt=1010,this.co_j.ac=0):218==this.getBGZ(yd,zd)?(this.km.init1(4),this.km.onKao(4,120,42,216,234),this.shop_kattaitem<0?(this.km.init1(3),this.km.setMessage(3,this.mp.shop_name),this.mp.addSerifu(3,5,3),this.km.activeSerifu(3,120,150,216,D.cyan),this.km.mode=400):(this.km.init1(3),this.km.setMessage(3,this.mp.shop_name),this.mp.addSerifu(3,8,3),this.km.activeSerifu(3,120,150,216,D.cyan),this.km.mode=210),this.co_j.pt=1010,this.co_j.ac=0):219==this.getBGZ(yd,zd)&&(this.km.init1(4),this.km.onKao(4,120,42,272,236),this.km.init1(3),this.km.setMessage(3,this.mp.setumei_name),this.mp.addSerifu(3,9,3),this.km.activeSerifu(3,120,150,272,D.cyan),this.km.mode=500,this.co_j.pt=1010,this.co_j.ac=0);else this.gk.up_f?221==this.getBGZ(yd,zd-32)&&(this.co_j.vy=-4,this.co_j.ac=-1):this.gk.down_f?221==this.getBGZ(yd,zd+32)&&(this.co_j.vy=4,this.co_j.ac=-1):this.gk.left_f?(this.co_j.muki=0,222==this.getBGZ(yd-32,zd)&&(this.co_j.vx=-4,this.co_j.ac=-1),212<=this.getBGZ(yd+32,zd)&&this.getBGZ(yd+32,zd)<=215&&(this.co_j.vx=-4,this.co_j.ac=-1)):this.gk.right_f&&(this.co_j.muki=1,222==this.getBGZ(yd+32,zd)&&(this.co_j.vx=4,this.co_j.ac=-1),212<=this.getBGZ(yd-32,zd)&&this.getBGZ(yd-32,zd)<=215&&(this.co_j.vx=4,this.co_j.ac=-1))}if(0!=this.co_j.vx||0!=this.co_j.vy){if(this.co_j.ac++,3<this.co_j.ac&&(this.co_j.ac=0),yd+=this.co_j.vx,zd+=this.co_j.vy,0!=this.co_j.vx?this.co_j.ac<=1?this.co_j.pt=103:this.co_j.pt=104:0<=this.co_j.vy?this.co_j.ac<=1?this.co_j.pt=202:this.co_j.pt=203:this.co_j.ac<=1?this.co_j.pt=204:this.co_j.pt=205,yd%32==0&&zd%32==0){var Fd=this.getBGZ(yd,zd);(220==Fd||223<=Fd&&Fd<=227||216<=Fd&&Fd<=219||206<=Fd&&Fd<=209)&&(this.co_j.vx=0,this.co_j.vy=0,this.co_j.ac=0),(Fd=0)<this.co_j.vx?Fd=this.getBGZ(yd+32,zd):this.co_j.vx<0&&(Fd=this.getBGZ(yd-32,zd)),212<=Fd&&Fd<=215&&(this.co_j.vx=0,this.co_j.vy=0,this.co_j.pt=100,this.co_j.ac=0)}yd<=-32?(yd=-32,this.co_j.vx=0,this.co_j.vy=0,this.co_j.ac=0):480<=yd&&(yd=480,this.co_j.vx=0,this.co_j.vy=0,this.co_j.ac=0),zd<=-32?(zd=-32,this.co_j.vx=0,this.co_j.vy=0,this.co_j.ac=0):288<=zd&&(zd=288,this.co_j.vx=0,this.co_j.vy=0,this.co_j.ac=0)}this.co_j.x=yd,this.co_j.y=zd},y.prototype.circleCLS=function(Gd){for(var Hd=0;Hd<=12;Hd++){var Id=c.sin(.2617992*Hd);this.cc_p1_y[Hd]=160+c.floor(Id*Gd);var Jd=c.cos(.2617992*Hd);this.cc_p1_x[Hd]=256+c.floor(Jd*Gd),this.cc_p2_y[Hd]=160-c.floor(Id*Gd),this.cc_p2_x[Hd]=256-c.floor(Jd*Gd)}this.gg.os_g.setColor(D.black),this.gg.os_g.fillPolygon(this.cc_p1_x,this.cc_p1_y,17),this.gg.os_g.fillPolygon(this.cc_p2_x,this.cc_p2_y,17)},y.prototype.squareCLS=function(Kd,Ld){var Md=.017453292519943295;this.cc_p1_x[0]=c.floor(c.cos((this.cc_kakudo+0)*Md)*Kd)+256,this.cc_p1_y[0]=c.floor(c.sin((this.cc_kakudo+0)*Md)*Kd)+160,this.cc_p1_x[1]=c.floor(c.cos((this.cc_kakudo+90)*Md)*Kd)+256,this.cc_p1_y[1]=c.floor(c.sin((this.cc_kakudo+90)*Md)*Kd)+160,this.cc_p1_x[2]=c.floor(c.cos((this.cc_kakudo+180)*Md)*Kd)+256,this.cc_p1_y[2]=c.floor(c.sin((this.cc_kakudo+180)*Md)*Kd)+160,this.cc_p1_x[3]=c.floor(500*c.cos((this.cc_kakudo+180)*Md))+256,this.cc_p1_y[3]=c.floor(500*c.sin((this.cc_kakudo+180)*Md))+160,this.cc_p1_x[4]=c.floor(700*c.cos((this.cc_kakudo+135)*Md))+256,this.cc_p1_y[4]=c.floor(700*c.sin((this.cc_kakudo+135)*Md))+160,this.cc_p1_x[5]=c.floor(700*c.cos((this.cc_kakudo+45)*Md))+256,this.cc_p1_y[5]=c.floor(700*c.sin((this.cc_kakudo+45)*Md))+160,this.cc_p1_x[6]=c.floor(500*c.cos((this.cc_kakudo+0)*Md))+256,this.cc_p1_y[6]=c.floor(500*c.sin((this.cc_kakudo+0)*Md))+160,this.cc_p2_x[0]=c.floor(c.cos((this.cc_kakudo+180)*Md)*Kd)+256,this.cc_p2_y[0]=c.floor(c.sin((this.cc_kakudo+180)*Md)*Kd)+160,this.cc_p2_x[1]=c.floor(c.cos((this.cc_kakudo+270)*Md)*Kd)+256,this.cc_p2_y[1]=c.floor(c.sin((this.cc_kakudo+270)*Md)*Kd)+160,this.cc_p2_x[2]=c.floor(c.cos((this.cc_kakudo+360)*Md)*Kd)+256,this.cc_p2_y[2]=c.floor(c.sin((this.cc_kakudo+360)*Md)*Kd)+160,this.cc_p2_x[3]=c.floor(500*c.cos((this.cc_kakudo+360)*Md))+256,this.cc_p2_y[3]=c.floor(500*c.sin((this.cc_kakudo+360)*Md))+160,this.cc_p2_x[4]=c.floor(700*c.cos((this.cc_kakudo+315)*Md))+256,this.cc_p2_y[4]=c.floor(700*c.sin((this.cc_kakudo+315)*Md))+160,this.cc_p2_x[5]=c.floor(700*c.cos((this.cc_kakudo+225)*Md))+256,this.cc_p2_y[5]=c.floor(700*c.sin((this.cc_kakudo+225)*Md))+160,this.cc_p2_x[6]=c.floor(500*c.cos((this.cc_kakudo+180)*Md))+256,this.cc_p2_y[6]=c.floor(500*c.sin((this.cc_kakudo+180)*Md))+160,this.gg.os_g.setColor(D.black),this.gg.os_g.fillPolygon(this.cc_p1_x,this.cc_p1_y,7),this.gg.os_g.fillPolygon(this.cc_p2_x,this.cc_p2_y,7)},z.prototype.load=function(Qd){this._loaded=!1,this._error=!1,this._width=-1,this._height=-1,this._dat=new Image;var Rd=this;this._dat.onload=function(){Rd.onload()},this._dat.onerror=function(){B(Rd)},this._dat.onabort=function(){B(Rd)},this._dat.ontimeout=function(){B(Rd)},this._dat.src=Qd,this._dat.complete&&this.onload()},z.prototype.onload=function(){this._loaded=!0,this._width=this._dat.naturalWidth,this._height=this._dat.naturalHeight},z.prototype.onerror=function(){this._error=!0,this._dat=null},z.prototype.getGraphics=function(){return this._width<0?null:(this._g=new C(this),this._g)},z.prototype.createGraphics=function(){return this.getGraphics()},C.prototype.drawLine=function(Vd,Wd,Xd,Yd){return null!=this._ctx&&(this._ctx.beginPath(),this._ctx.moveTo(Vd,Wd),this._ctx.lineTo(Xd,Yd),this._ctx.stroke(),!0)},C.prototype.drawImage=function(Zd,$d,_d,ae,be,ce,de,ee,fe,ge){if(null==Zd._dat)return!1;if(null==this._ctx)return!1;try{if(arguments.length<=4)return this._ctx.drawImage(Zd._dat,$d,_d),!0;if(arguments.length<=6)return this._ctx.drawImage(Zd._dat,$d,_d,ae,be),!0;if(arguments.length<=10)return this._ctx.drawImage(Zd._dat,$d,_d,ae,be,ce,de,ee,fe),!0}catch(he){}return!1},C.prototype.drawRect=function(ie,je,ke,le){return null!=this._ctx&&(this._ctx.strokeRect(ie,je,ke,le),!0)},C.prototype.fillRect=function(me,ne,oe,pe){return null!=this._ctx&&(this._ctx.fillRect(me,ne,oe,pe),!0)},C.prototype.drawPolygon=function(qe,re,se){if(null==this._ctx)return!1;this._ctx.beginPath(),this._ctx.moveTo(qe[0],re[0]);for(var te=1;te<se;te++)this._ctx.lineTo(qe[te],re[te]);return this._ctx.closePath(),this._ctx.stroke(),!0},C.prototype.fillPolygon=function(ue,ve,we){if(null==this._ctx)return!1;this._ctx.beginPath(),this._ctx.moveTo(ue[0],ve[0]);for(var xe=1;xe<we;xe++)this._ctx.lineTo(ue[xe],ve[xe]);return this._ctx.closePath(),this._ctx.fill(),!0},C.prototype.drawOval=function(ye,ze,Ae,Be){return null!=this._ctx&&(this.drawArc(ye,ze,Ae,Be,0,2*c.PI),!0)},C.prototype.fillOval=function(Ce,De,Ee,Fe){return null!=this._ctx&&(this.fillArc(Ce,De,Ee,Fe,0,2*c.PI),!0)},C.prototype.drawArc=function(Ge,He,Ie,Je,Ke,Le){if(null==this._ctx)return!1;var Me=Je/Ie;return this._ctx.save(),this._ctx.beginPath(),this._ctx.scale(1,Me),this._ctx.arc(Ge+Ie/2,(He+Je/2)/Me,Ie/2,Ke,Ke+Le,Le<0),this._ctx.stroke(),this._ctx.restore(),!0},C.prototype.fillArc=function(Ne,Oe,Pe,Qe,Re,Se){if(null==this._ctx)return!1;var Te=Qe/Pe;return this._ctx.save(),this._ctx.beginPath(),this._ctx.scale(1,Te),this._ctx.arc(Ne+Pe/2,(Oe+Qe/2)/Te,Pe/2,Re,Re+Se,Se<0),this._ctx.lineTo(Ne+Pe/2,(Oe+Qe/2)/Te),this._ctx.closePath(),this._ctx.fill(),this._ctx.restore(),!0},C.prototype.setGlobalAlpha=function(Ue){return null!=this._ctx&&(Ue<0&&(Ue=0),255<Ue&&(Ue=255),this._ctx.globalAlpha=Ue/255,!0)},C.prototype.setColor=function(Ve){if(null==this._ctx)return!1;this._color=new D(Ve.r,Ve.g,Ve.b,Ve.a);var We="rgba("+Ve.r+", "+Ve.g+", "+Ve.b+", "+Ve.a/255+")";return this._ctx.strokeStyle=We,this._ctx.fillStyle=We,!0},C.prototype.setFont=function(Xe){if(null==this._ctx)return!1;var Ye="";return Xe._style&E.ITALIC&&(Ye+="italic "),Xe._style&E.BOLD&&(Ye+="bold "),Ye+=Xe._size+"px ",Xe._name==E.SERIF?Ye+="serif":Xe._name==E.SANS_SERIF?Ye+="sans-serif":Xe._name==E.MONOSPACED?Ye+="monospace":Xe._name==E.DIALOG?Ye+="'Helvetica','Arial','ＭＳ ゴシック','HG ゴシックB Sun','HG ゴシックB',monospace":Ye+='"'+Xe._name+'"',this._ctx.font=Ye,this._font=Xe,!0},C.prototype.drawString=function(Ze,$e,_e){return null!=this._ctx&&(this._ctx.fillText(Ze,$e,_e),!0)},C.prototype.translate=function(af,bf){return null!=this._ctx&&(this._ctx.translate(af,bf),!0)},C.prototype.rotate=function(cf,df,ef){return null!=this._ctx&&(1==arguments.length?this._ctx.rotate(cf):(this._ctx.translate(df,ef),this._ctx.rotate(cf),this._ctx.translate(-df,-ef)),!0)},C.prototype.scale=function(ff,gf){return null!=this._ctx&&(this._ctx.scale(ff,gf),!0)},C.prototype.setClip=function(hf){if(null==this._ctx)return!1;if("ellipse"==hf){var jf=arguments[4]/arguments[3];return this._ctx.beginPath(),this._ctx.save(),this._ctx.scale(1,jf),this._ctx.arc(arguments[1]+arguments[3]/2,(arguments[2]+arguments[4]/2)/jf,arguments[3]/2,0,2*c.PI,!1),this._ctx.restore(),this._ctx.clip(),!0}if("rect"==hf)return this._ctx.beginPath(),this._ctx.rect(arguments[1],arguments[2],arguments[3],arguments[4]),this._ctx.clip(),!0;if("polygon"==hf){this._ctx.beginPath(),this._ctx.moveTo(arguments[1][0],arguments[2][0]);for(var kf=1;kf<arguments[3];kf++)this._ctx.lineTo(arguments[1][kf],arguments[2][kf]);return this._ctx.closePath(),this._ctx.clip(),!0}return!1},C.prototype.copyArea=function(lf,mf,nf,of,pf,qf){return null!=this._ctx&&(this._ctx.drawImage(this._ctx.canvas,lf,mf,nf,of,lf+pf,mf+qf,nf,of),!0)},C.prototype.dispose=function(){this._ctx.restore(),this._ctx.save()},D.prototype.getRed=function(){return this.r},D.prototype.getGreen=function(){return this.g},D.prototype.getBlue=function(){return this.b},D.white=new D(255,255,255),D.WHITE=D.white,D.lightGray=new D(192,192,192),D.LIGHT_GRAY=D.lightGray,D.gray=new D(128,128,128),D.GRAY=D.gray,D.darkGray=new D(64,64,64),D.DARK_GRAY=D.darkGray,D.black=new D(0,0,0),D.BLACK=D.black,D.red=new D(255,0,0),D.RED=D.red,D.pink=new D(255,175,175),D.PINK=D.pink,D.orange=new D(255,200,0),D.ORANGE=D.orange,D.yellow=new D(255,255,0),D.YELLOW=D.yellow,D.green=new D(0,255,0),D.GREEN=D.green,D.magenta=new D(255,0,255),D.MAGENTA=D.magenta,D.cyan=new D(0,255,255),D.CYAN=D.cyan,D.blue=new D(0,0,255),D.BLUE=D.blue,E.DIALOG="Dialog",E.DIALOG_INPUT="DialogInput",E.MONOSPACED="Monospaced",E.SANS_SERIF="SansSerif",E.SERIF="Serif",E.PLAIN=0,E.BOLD=1,E.ITALIC=2,F.prototype.initAll=function(){var Bf;for(Bf=0;Bf<=15;Bf++)this.init1(Bf);for(this.c_fc=0,this.gk.up_c=0,this.gk.down_c=0,this.aw=-1,this.kettei_c=2,this.cancel_c=2,Bf=0;Bf<=15;Bf++)this.list_IDlist[Bf]=0;this.list_kazu=0,this.list_s=0},F.prototype.init1=function(Cf){var Df;for(this.c[Cf]=0,this.x[Cf]=0,this.y[Cf]=0,this.width[Cf]=180,this.selectedIndex[Cf]=0,this.item_kazu[Cf]=0,this.message[Cf]="どうしますか？",Df=0;Df<=15;Df++)this.item[Cf][Df]="";for(Df=0;Df<=15;Df++)this.item_int[Cf][Df]=0},F.prototype.setMessage=function(Ef,Ff){this.message[Ef]=Ff},F.prototype.addItem=function(Gf,Hf){this.item[Gf][this.item_kazu[Gf]]=Hf,this.item_kazu[Gf]+=1},F.prototype.addIntitem=function(If,Jf){this.item_int[If][this.item_kazu[If]]=Jf,this.item_kazu[If]+=1},F.prototype.addItem2=function(Kf,Lf,Mf){this.item[Kf][this.item_kazu[Kf]]=Lf,this.item_int[Kf][this.item_kazu[Kf]]=Mf,this.item_kazu[Kf]+=1},F.prototype.active=function(Nf,Of,Pf,Qf){this.c[Nf]=100,this.x[Nf]=Of,this.y[Nf]=Pf,this.width[Nf]=void 0!==Qf?ParamInt4:180,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=Nf,this.kettei_c=2,this.cancel_c=2},F.prototype.activeSerifutuki=function(Rf,Sf,Tf,Uf,Vf){this.c[Rf]=700,this.x[Rf]=Sf,this.y[Rf]=Tf,this.width[Rf]=Uf,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=Rf,this.kettei_c=2,this.cancel_c=2,this.item[Rf][15]=Vf},F.prototype.activeKaimono=function(Wf,Xf,Yf,Zf){this.c[Wf]=900,this.x[Wf]=Xf,this.y[Wf]=Yf,this.width[Wf]=Zf,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=Wf,this.kettei_c=2,this.cancel_c=2},F.prototype.activeIchigyou=function($f,_f,ag,bg){this.c[$f]=300,this.x[$f]=_f,this.y[$f]=ag,this.width[$f]=bg,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=$f,this.kettei_c=2,this.cancel_c=2},F.prototype.activeNigyou=function(cg,dg,eg,fg,gg){this.c[cg]=310,this.x[cg]=dg,this.y[cg]=eg,this.width[cg]=fg,this.item_color[cg]=gg,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=cg,this.kettei_c=2,this.cancel_c=2},F.prototype.activeYongyou=function(hg,ig,jg,kg){this.c[hg]=320,this.x[hg]=ig,this.y[hg]=jg,this.width[hg]=kg,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=hg,this.kettei_c=2,this.cancel_c=2},F.prototype.activeYongyou2=function(lg,mg,ng,og){this.c[lg]=321,this.x[lg]=mg,this.y[lg]=ng,this.width[lg]=og,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=lg,this.kettei_c=2,this.cancel_c=2},F.prototype.activeSerifu=function(pg,qg,rg,sg,tg){this.c[pg]=330,this.x[pg]=qg,this.y[pg]=rg,this.width[pg]=sg,this.item_color[pg]=tg,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=pg,this.kettei_c=2,this.cancel_c=2},F.prototype.activeYasumu=function(ug,vg,wg){this.c[ug]=1e3,this.x[ug]=vg,this.y[ug]=wg,this.width[ug]=272,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=ug,this.kettei_c=2,this.cancel_c=2},F.prototype.onKao=function(xg,yg,zg,Ag,Bg){this.c[xg]=600,this.x[xg]=yg,this.y[xg]=zg,this.width[xg]=Ag,this.item_int[xg][0]=Bg},F.prototype.onMituketa=function(Cg,Dg,Eg){this.c[Cg]=610,this.x[Cg]=Dg,this.y[Cg]=Eg,this.width[Cg]=200},F.prototype.onOkozukai=function(Fg,Gg,Hg,Ig,Jg){this.c[Fg]=800,this.x[Fg]=Gg,this.y[Fg]=Hg,this.width[Fg]=Ig,this.item_int[Fg][0]=Jg},F.prototype.activeIchigyouTime=function(Kg,Lg,Mg,Ng){this.c[Kg]=350,this.x[Kg]=Lg,this.y[Kg]=Mg,this.width[Kg]=Ng,this.item_int[Kg][0]=100},F.prototype.activeNigyouTime=function(Og,Pg,Qg,Rg,Sg){this.c[Og]=360,this.x[Og]=Pg,this.y[Og]=Qg,this.width[Og]=Rg,this.item_color[Og]=Sg,this.item_int[Og][0]=100},F.prototype.activeJibun=function(Tg,Ug,Vg,Wg,Xg,Yg,Zg,$g){this.c[Tg]=400,this.x[Tg]=Ug,this.y[Tg]=Vg,this.item_int[14][0]=Xg,this.item_int[14][1]=Yg,this.item_int[14][2]=Zg,this.item_int[14][3]=$g,this.width[Tg]=Wg,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=Tg,this.kettei_c=2,this.cancel_c=2},F.prototype.activeToujou=function(_g,ah,bh,ch,dh,eh){this.c[_g]=420,this.x[_g]=ah,this.y[_g]=bh,this.item_int[_g][2]=dh,this.item[_g][0]=eh,this.width[_g]=ch,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=_g,this.kettei_c=2,this.cancel_c=2},F.prototype.initCS=function(){this.item_kazu[0]=8,this.selectedIndex[0]=0},F.prototype.activeCS=function(){this.c[0]=500,this.x[0]=0,this.y[0]=0,this.width[0]=0,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=0,this.kettei_c=2},F.prototype.off=function(fh){this.c[fh]=0},F.prototype.offActivewindow=function(gh,hh){this.c[gh]=0,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=hh,this.kettei_c=2,this.cancel_c=2},F.prototype.move=function(){this.c_fc++,6<this.c_fc&&(this.c_fc=0),0<=this.aw&&(this.gk.up_f?(this.gk.up_c++,3<this.gk.up_c&&(this.gk.up_c=1)):this.gk.up_c=0,this.gk.down_f?(this.gk.down_c++,3<this.gk.down_c&&(this.gk.down_c=1)):this.gk.down_c=0,1==this.gk.up_c?(this.selectedIndex[this.aw]--,this.c_fc=-1,this.selectedIndex[this.aw]<0&&(this.selectedIndex[this.aw]=this.item_kazu[this.aw]-1)):1==this.gk.down_c&&(this.selectedIndex[this.aw]++,this.c_fc=-1,this.selectedIndex[this.aw]>this.item_kazu[this.aw]-1&&(this.selectedIndex[this.aw]=0))),this.gk.tr1_f?0==this.kettei_c&&(this.kettei_c=1):this.kettei_c=0,this.gk.x_f?0==this.cancel_c&&(this.cancel_c=1):this.cancel_c=0},F.prototype.drawMenus=function(){this.hg.setFont(new E("Dialog",0,12));for(var ih=0;ih<=15;ih++){var jh=this.c[ih];if(0!=jh)switch(jh){default:break;case 100:if(this.drawWindowbox(this.x[ih],this.y[ih],this.width[ih],30+14*this.item_kazu[ih]),this.hg.setColor(D.white),this.hg.drawString(this.message[ih],this.x[ih]+24,this.y[ih]+6+12),1<=this.item_kazu[ih])for(var kh=0;kh<=this.item_kazu[ih]-1;kh++)this.hg.drawString(this.item[ih][kh],this.x[ih]+24,this.y[ih]+6+18+14*kh+12);ih==this.aw?this.c_fc<=3&&this.hg.drawImage(this.hi[70],this.x[ih]+6,this.y[ih]+24+14*this.selectedIndex[ih],this.ap):this.hg.drawImage(this.hi[70],this.x[ih]+6,this.y[ih]+24+14*this.selectedIndex[ih],this.ap);break;case 200:this.hg.setColor(D.white),this.hg.fillRect(12,12,128,58),this.hg.setColor(D.black),this.hg.fillRect(14,14,124,54),this.hg.setColor(D.cyan),this.hg.drawString(this.item[14][0],18,30),(this.item_int[14][0]<=0||this.item_int[14][2]<=0)&&(this.hg.setColor(D.red),this.hg.drawString("戦闘不能",82,30)),this.hg.setColor(D.white),this.hg.drawString("HP  "+this.item_int[14][0]+" / "+this.item_int[14][1],18,48),this.hg.drawString("PP  "+this.item_int[14][2]+" / "+this.item_int[14][3],18,62);break;case 210:this.hg.setColor(D.white),this.hg.fillRect(160,12,128,58),this.hg.setColor(D.black),this.hg.fillRect(162,14,124,54),this.hg.setColor(D.green),this.hg.drawString(this.item[15][0],166,30),this.item_int[15][0]<=0&&(this.hg.setColor(D.red),this.hg.drawString("戦闘不能",230,30)),this.hg.setColor(D.white),this.hg.drawString("HP  "+this.item_int[15][0]+" / "+this.item_int[15][1],166,48),this.hg.drawString("PP  "+this.item_int[15][2]+" / "+this.item_int[15][3],166,62);break;case 220:this.hg.setColor(D.white),this.hg.fillRect(372,12,128,58),this.hg.setColor(D.black),this.hg.fillRect(374,14,124,54),this.hg.setColor(D.cyan),this.hg.drawString(this.item[15][0],378,30),(this.item_int[15][0]<=0||this.item_int[15][2]<=0)&&(this.hg.setColor(D.red),this.hg.drawString("戦闘不能",442,30)),this.hg.setColor(D.white),this.hg.drawString("HP  "+this.item_int[15][0]+" / "+this.item_int[15][1],378,48),this.hg.drawString("PP  "+this.item_int[15][2]+" / "+this.item_int[15][3],378,62);break;case 300:this.drawWindowbox(this.x[ih],this.y[ih],this.width[ih],40),this.hg.setColor(D.white),this.hg.drawString(this.item[ih][0],this.x[ih]+6,this.y[ih]+6+12),this.c_fc<=3&&this.gg.drawPT(this.x[ih]+(this.width[ih]-14>>1),this.y[ih]+6+14+0+2,201,0);break;case 310:this.drawWindowbox(this.x[ih],this.y[ih],this.width[ih],58),this.hg.setColor(this.item_color[ih]),this.hg.drawString(this.item[ih][0],this.x[ih]+6,this.y[ih]+6+12),this.hg.setColor(D.white),this.hg.drawString(this.item[ih][1],this.x[ih]+6,this.y[ih]+6+18+12),this.c_fc<=3&&this.gg.drawPT(this.x[ih]+(this.width[ih]-14>>1),this.y[ih]+6+18+14+2,71,0);break;case 320:this.drawWindowbox(this.x[ih],this.y[ih],this.width[ih],66+14*(this.item_kazu[ih]-3)+14),this.hg.setColor(D.magenta),this.hg.drawString(this.item[ih][0],this.x[ih]+6,this.y[ih]+6+12),this.hg.setColor(D.white),this.hg.drawString(this.item[ih][1],this.x[ih]+6,this.y[ih]+6+18+12),this.hg.setColor(D.cyan),this.hg.drawString(this.item[ih][2],this.x[ih]+6,this.y[ih]+6+36+12),this.hg.setColor(D.white);for(var lh=0;lh<=this.item_kazu[3]-4;lh++)this.hg.drawString(this.item[3][lh+3],this.x[3]+6,this.y[3]+6+54+14*lh+12);this.c_fc<=3&&this.gg.drawPT(this.x[ih]+(this.width[ih]-14>>1),this.y[ih]+6+18+36+14*(this.item_kazu[ih]-3)+2,71,0);break;case 321:this.drawWindowbox(this.x[ih],this.y[ih],this.width[ih],108),this.hg.setColor(D.cyan),this.hg.drawString(this.item[ih][0],this.x[ih]+6,this.y[ih]+6+12),this.hg.setColor(D.white),this.hg.drawString(this.item[ih][1],this.x[ih]+6,this.y[ih]+6+18+12),this.hg.setColor(D.magenta),this.hg.drawString(this.item[ih][2],this.x[ih]+6,this.y[ih]+6+36+12),this.hg.setColor(D.white),this.hg.drawString(this.item[ih][3],this.x[ih]+6,this.y[ih]+6+54+12),this.hg.setColor(D.white),this.hg.drawString(this.item[ih][4],this.x[ih]+6,this.y[ih]+6+54+14+12),this.c_fc<=3&&this.gg.drawPT(this.x[ih]+(this.width[ih]-14>>1),this.y[ih]+6+18+36+14+14+2,71,0);break;case 330:if(this.drawWindowbox(this.x[ih],this.y[ih],this.width[ih],30+14*(this.item_kazu[ih]+1)),this.hg.setColor(this.item_color[ih]),this.hg.drawString(this.message[ih],this.x[ih]+6,this.y[ih]+6+12),this.hg.setColor(D.white),1<=this.item_kazu[ih])for(var mh=0;mh<=this.item_kazu[ih]-1;mh++)this.hg.drawString(this.item[ih][mh],this.x[ih]+6,this.y[ih]+6+18+14*mh+12);ih==this.aw?this.c_fc<=3&&this.gg.drawPT(this.x[ih]+(this.width[ih]-14>>1),this.y[ih]+6+18+14*this.item_kazu[ih]+2,201,0):this.gg.drawPT(this.x[ih]+(this.width[ih]-14>>1),this.y[ih]+6+18+14*this.item_kazu[ih]+2,201,0);break;case 350:if(100==this.item_int[ih][0]){this.item_int[ih][0]=55;break}this.drawWindowbox(this.x[ih],this.y[ih],this.width[ih],26),this.hg.setColor(D.white),this.hg.drawString(this.item[ih][0],this.x[ih]+6,this.y[ih]+6+12),this.item_int[ih][0]--,this.item_int[ih][0]<=0&&this.off(ih);break;case 360:if(200==this.item_int[ih][0]){this.drawWindowbox(this.x[ih],this.y[ih],this.width[ih],44),this.hg.setColor(this.item_color[ih]),this.hg.drawString(this.item[ih][0],this.x[ih]+6,this.y[ih]+6+12),this.hg.setColor(D.white),this.hg.drawString(this.item[ih][1],this.x[ih]+6,this.y[ih]+6+18+12);break}if(100==this.item_int[ih][0]){this.item_int[ih][0]=55;break}this.drawWindowbox(this.x[ih],this.y[ih],this.width[ih],44),this.hg.setColor(this.item_color[ih]),this.hg.drawString(this.item[ih][0],this.x[ih]+6,this.y[ih]+6+12),this.hg.setColor(D.white),this.hg.drawString(this.item[ih][1],this.x[ih]+6,this.y[ih]+6+18+12),this.item_int[ih][0]--,this.item_int[ih][0]<=0&&this.off(ih);break;case 400:this.drawWindowbox(this.x[ih],this.y[ih],this.width[ih],128),this.hg.setColor(D.yellow),this.hg.drawString(this.name_crys+"のステータス",this.x[ih]+6,this.y[ih]+6+12),this.hg.setColor(D.white),this.hg.drawString("HP  "+this.item_int[14][0]+" / "+this.item_int[14][1],this.x[ih]+6,this.y[ih]+6+18+0+12),this.hg.drawString("おこづかい  ",this.x[ih]+6,this.y[ih]+6+18+28+12),this.hg.drawString(this.item_int[14][2]+"円",this.x[ih]+6+72,this.y[ih]+6+18+42+12),this.hg.drawString("得点",this.x[ih]+6,this.y[ih]+6+18+56+12),this.hg.drawString(this.item_int[14][3]+"点",this.x[ih]+6+72,this.y[ih]+6+18+70+12),this.c_fc<=3&&this.gg.drawPT(this.x[ih]+(this.width[ih]-14>>1),this.y[ih]+6+18+84+2,71,0);break;case 420:this.drawWindowbox(this.x[ih],this.y[ih],this.width[ih],116),this.hg.setColor(new D(96,96,96)),this.hg.fillRect(this.x[ih]+12,this.y[ih]+12,this.width[ih]-24,48),this.gg.drawPT(this.x[ih]+12+(this.width[ih]-24-32>>1),this.y[ih]+12+8,this.item_int[ih][2],0),this.hg.setColor(D.cyan),this.hg.drawString(this.item[ih][0],this.x[ih]+12,this.y[ih]+64+12),this.hg.setColor(D.white),this.hg.drawString("これからも、よろしくね！",this.x[ih]+12,this.y[ih]+68+14+12),this.c_fc<=3&&this.gg.drawPT(this.x[ih]+(this.width[ih]-14>>1),this.y[ih]+68+28+2,71,0);break;case 410:if(-2==this.item_int[ih][0]){this.drawWindowbox(this.x[ih],this.y[ih],this.width[ih],116),this.hg.setColor(new D(96,96,96)),this.hg.fillRect(this.x[ih]+12,this.y[ih]+12,this.width[ih]-24,48),this.gg.drawPT(this.x[ih]+12+(this.width[ih]-24-32>>1),this.y[ih]+12+8,this.item_int[ih][2],0),this.hg.setColor(D.yellow),this.hg.drawString(this.item[ih][0],this.x[ih]+12,this.y[ih]+64+12),this.hg.setColor(D.white),this.hg.drawString("捕獲不可能",this.x[ih]+12,this.y[ih]+68+14+12),this.c_fc<=3&&this.gg.drawPT(this.x[ih]+(this.width[ih]-14>>1),this.y[ih]+68+28+2,71,0);break}if(this.item_int[ih][0]<0){this.drawWindowbox(this.x[ih],this.y[ih],this.width[ih],116),this.hg.setColor(new D(96,96,96)),this.hg.fillRect(this.x[ih]+12,this.y[ih]+12,this.width[ih]-24,48),this.gg.drawPT(this.x[ih]+12+(this.width[ih]-24-32>>1),this.y[ih]+12+8,this.item_int[ih][2],0),this.hg.setColor(D.yellow),this.hg.drawString(this.item[ih][0],this.x[ih]+12,this.y[ih]+64+12),this.hg.setColor(D.white),this.hg.drawString("現在調査中",this.x[ih]+12,this.y[ih]+68+14+12),this.c_fc<=3&&this.gg.drawPT(this.x[ih]+(this.width[ih]-14>>1),this.y[ih]+68+28+2,71,0);break}this.drawWindowbox(this.x[ih],this.y[ih],this.width[ih],158),this.hg.setColor(new D(96,96,96)),this.hg.fillRect(this.x[ih]+12,this.y[ih]+12,this.width[ih]-24,48),this.gg.drawPT(this.x[ih]+12+(this.width[ih]-24-32>>1),this.y[ih]+12+8,this.item_int[ih][2],0),this.hg.setColor(D.yellow),this.hg.drawString(this.item[ih][0],this.x[ih]+12,this.y[ih]+64+12),this.hg.setColor(D.white),this.hg.drawString("最大HP",this.x[ih]+12,this.y[ih]+68+14+12),this.hg.drawString(""+this.item_int[ih][0],this.x[ih]+56,this.y[ih]+68+28+12),this.hg.drawString("最大PP",this.x[ih]+12,this.y[ih]+68+42+12),this.hg.drawString(""+this.item_int[ih][1],this.x[ih]+56,this.y[ih]+68+56+12),this.c_fc<=3&&this.gg.drawPT(this.x[ih]+(this.width[ih]-14>>1),this.y[ih]+68+70+2,71,0);break;case 500:this.c_fc<=3||0!=this.aw?this.hg.drawImage(this.hi[72],12+28*this.selectedIndex[ih],288,this.ap):this.hg.drawImage(this.hi[73],12+28*this.selectedIndex[ih],288,this.ap);break;case 600:this.drawWindowbox(this.x[ih],this.y[ih],this.width[ih],96);var nh=this.item_int[ih][0],oh=this.x[ih]+(this.width[ih]-64>>1),ph=this.y[ih]+16;this.gg.drawPT(oh,ph,nh,0),this.gg.drawPT(oh+32,ph,nh+1,0),this.gg.drawPT(oh,ph+32,nh+10,0),this.gg.drawPT(oh+32,ph+32,nh+11,0);break;case 610:this.drawWindowbox(this.x[ih],this.y[ih],this.width[ih],30+14*this.item_kazu[ih]),this.hg.setColor(D.yellow),this.hg.drawString("モンスターずかん",this.x[ih]+6,this.y[ih]+6+12),this.hg.setColor(D.white),this.hg.drawString("見つけた数  "+this.item_int[ih][0],this.x[ih]+6,this.y[ih]+6+18+0+12),this.hg.drawString("捕まえた数  "+this.item_int[ih][1],this.x[ih]+6,this.y[ih]+6+18+14+12);break;case 700:if(this.drawWindowbox(this.x[ih],this.y[ih],this.width[ih],30+14*this.item_kazu[ih]+18),this.hg.setColor(D.cyan),this.hg.drawString(this.item[ih][15],this.x[ih]+24,this.y[ih]+6+12),this.hg.setColor(D.white),this.hg.drawString(this.message[ih],this.x[ih]+24,this.y[ih]+6+12+18),1<=this.item_kazu[ih])for(var qh=0;qh<=this.item_kazu[ih]-1;qh++)this.hg.drawString(this.item[ih][qh],this.x[ih]+24,this.y[ih]+6+18+14*qh+12+18);ih==this.aw?this.c_fc<=3&&this.gg.drawPT(this.x[ih]+6,this.y[ih]+6+18+14*this.selectedIndex[ih]+18,200,0):this.gg.drawPT(this.x[ih]+6,this.y[ih]+6+18+14*this.selectedIndex[ih]+18,200,0);break;case 800:this.drawWindowbox(this.x[ih],this.y[ih],this.width[ih],44),this.hg.setColor(D.yellow),this.hg.drawString("おこづかい",this.x[ih]+6,this.y[ih]+6+12),this.hg.setColor(D.white),this.hg.drawString(this.item_int[ih][0]+"円",this.x[ih]+6,this.y[ih]+6+18+12);break;case 900:if(this.drawWindowbox(this.x[ih],this.y[ih],this.width[ih],30+14*this.item_kazu[ih]),this.hg.setColor(D.white),this.hg.drawString(this.message[ih],this.x[ih]+24,this.y[ih]+6+12),1<=this.item_kazu[ih])for(var rh=0;rh<=this.item_kazu[ih]-1;rh++)this.hg.drawString(this.item[ih][rh],this.x[ih]+24,this.y[ih]+6+18+14*rh+12),this.hg.drawString(""+this.item_int[ih][rh],this.x[ih]+24+116,this.y[ih]+6+18+14*rh+12);ih==this.aw?this.c_fc<=3&&this.gg.drawPT(this.x[ih]+6,this.y[ih]+6+18+14*this.selectedIndex[ih],200,0):this.gg.drawPT(this.x[ih]+6,this.y[ih]+6+18+14*this.selectedIndex[ih],200,0);break;case 1e3:this.drawWindowbox(this.x[ih],this.y[ih],this.width[ih],98),this.hg.setColor(new D(96,96,96)),this.hg.fillRect(this.x[ih]+12,this.y[ih]+12,248,48);for(var sh=0;sh<=5;sh++)0<this.item_int[ih][sh]&&this.gg.drawPT(this.x[ih]+12+8+40*sh,this.y[ih]+12+8,this.item_int[ih][sh],0);this.hg.setColor(D.white),this.hg.drawString("みんな、元気になった。",this.x[ih]+12,this.y[ih]+64+12),this.c_fc<=3&&this.gg.drawPT(this.x[ih]+(this.width[ih]-14>>1),this.y[ih]+64+14+2,71,0)}}},F.prototype.drawWindowbox=function(th,uh,vh,wh){this.hg.setColor(D.white),this.hg.fillRect(th,uh,vh,wh),this.hg.setColor(D.black),this.hg.fillRect(th+2,uh+2,vh-4,wh-4)},G.prototype.start=function(){this.ml_mode=50},G.prototype.paraInt=function(Gh){var Ih,Hh=this.gg.ap.getParameter(Gh);return Ih=parseInt(Hh),isNaN(Ih)&&(Ih=-1),Ih},G.prototype.addHighscoreEvent=function(Jh){return this.heh=Jh,!0},G.prototype.sendHighscore=function(){if("[object Function]"==Object.prototype.toString.call(this.heh)){var Lh=this.highscore;Lh<this.score&&(Lh=this.score),this.heh(Lh)}},G.prototype.moveGameCounter=function(){switch(this.g_c3){case 0:this.g_c3=1,this.g_c1=1,this.g_c2=1,this.g_ac=0,this.g_ac2=0;break;case 1:this.g_c3=2,this.g_c1=0,this.g_c2=2,this.g_ac=1,this.g_ac2=1;break;case 2:this.g_c3=3,this.g_c1=1,this.g_c2=3,this.g_ac=1,this.g_ac2=1;break;case 3:this.g_c3=4,this.g_c1=0,this.g_c2=0,this.g_ac=0,this.g_ac2=2;break;case 4:this.g_c3=5,this.g_c1=1,this.g_c2=1,this.g_ac=0,this.g_ac2=2;break;case 5:this.g_c3=6,this.g_c1=0,this.g_c2=2,this.g_ac=1,this.g_ac2=3;break;case 6:this.g_c3=7,this.g_c1=1,this.g_c2=3,this.g_ac=1,this.g_ac2=3;break;case 7:this.g_c3=0,this.g_c1=0,this.g_c2=0,this.g_ac=0,this.g_ac2=0}},G.prototype.ranInit=function(){this.ran_seed=4294967296*c.random()|0},G.prototype.ranInt=function(Mh){var Nh=this.ran_seed;return Nh=((Nh=(Nh^Nh<<9)>>>0)^Nh>>>11)>>>0,this.ran_seed=Nh=(Nh^Nh<<19)>>>0,2.3283064365386963e-10*Nh*Mh|0},G.prototype.drawScore=function(){if(this.score_v)if(0<this.time_max){var Vh,Th=s(this.time/1e3),Uh=14+this.moji_size;this.gg.os_g.setColor(this.gamecolor_score),this.gg.os_g.setFont(new E("Dialog",1,this.moji_size)),Vh=this.j_left_shoki<=0&&this.j_left<=0?this.moji_score+" "+this.score+"    "+this.moji_highscore+" "+this.highscore+this.moji_time+Th:(Vh=this.moji_score+" "+this.score+"    "+this.moji_highscore+" "+this.highscore+this.moji_left+this.j_left)+this.moji_time+Th,this.gg.os_g.drawString(Vh,40,Uh)}else{var Xh,Wh=14+this.moji_size;this.gg.os_g.setColor(this.gamecolor_score),this.gg.os_g.setFont(new E("Dialog",1,this.moji_size)),Xh=this.j_left_shoki<=0&&this.j_left<=0?this.moji_score+" "+this.score+"    "+this.moji_highscore+" "+this.highscore:this.moji_score+" "+this.score+"    "+this.moji_highscore+" "+this.highscore+this.moji_left+this.j_left,this.gg.os_g.drawString(Xh,40,Wh)}else if(0<this.time_max){var Qh,Oh=s(this.time/1e3),Ph=14+this.moji_size;this.gg.os_g.setColor(this.gamecolor_score),this.gg.os_g.setFont(new E("Dialog",1,this.moji_size)),Qh=this.j_left_shoki<=0&&this.j_left<=0?this.moji_time+Oh:(Qh=this.moji_left+this.j_left)+this.moji_time+Oh,this.gg.os_g.drawString(Qh,40,Ph)}else{var Sh,Rh=14+this.moji_size;this.gg.os_g.setColor(this.gamecolor_score),this.gg.os_g.setFont(new E("Dialog",1,this.moji_size)),Sh=this.j_left_shoki<=0&&this.j_left<=0?"":this.moji_left+this.j_left,this.gg.os_g.drawString(Sh,40,Rh)}},G.prototype.drawScore2=function(){if(this.score_v){var _h,$h=14+this.moji_size;this.gg.os_g.setColor(this.gamecolor_score),this.gg.os_g.setFont(new E("Dialog",1,this.moji_size)),_h=this.j_left_shoki<=0&&this.j_left<=0?this.moji_score+" "+this.score+"    "+this.moji_highscore+" "+this.highscore:this.moji_score+" "+this.score+"    "+this.moji_highscore+" "+this.highscore+this.moji_left+this.j_left,this.gg.os_g.drawString(_h,40,$h)}else{var Zh,Yh=14+this.moji_size;this.gg.os_g.setColor(this.gamecolor_score),this.gg.os_g.setFont(new E("Dialog",1,this.moji_size)),Zh=this.j_left_shoki<=0&&this.j_left<=0?"":this.moji_left+this.j_left,this.gg.os_g.drawString(Zh,40,Yh)}},G.prototype.addScore=function(ai){this.score+=ai,0<this.score_1up_1&&this.score>=this.score_1up_1&&(this.j_left++,this.score_1up_1=0),0<this.score_1up_2&&this.score>=this.score_1up_2&&(this.j_left++,this.score_1up_2=0)},G.prototype.addSerifu=function(bi,ci,di){for(var ei=1;ei<=di;ei++){var gi,fi=this.gg.ap.getParameter("serifu"+ci+"-"+ei);gi=parseInt(fi),isNaN(gi)&&(gi=-1),0!=gi&&this.km.addItem(bi,fi)}},G.prototype.mL100=function(){if(this.moveGameCounter(),this.aMove(),100==this.co_j.c?this.jM100():this.jMove(),0<this.sl_step&&(10==this.sl_step||11==this.sl_step?(this.ks_wx+=this.sl_speed,this.ks_wx>this.maps.wx_max&&(this.ks_wx=this.maps.wx_max),this.maps.wx=this.ks_wx,this.maps.wy=this.ks_wy,300!=this.co_j.c&&310!=this.co_j.c&&(this.co_j.x<this.ks_wx-16?(this.co_j.x=this.ks_wx-16,this.co_j.vx<0&&(this.co_j.vx=0),(20<=this.maps.getBGCode(this.co_j.x+15,this.co_j.y)||20<=this.maps.getBGCode(this.co_j.x+15,this.co_j.y+31))&&100<=this.co_j.c&&this.co_j.c<200&&(this.co_j.c=210,this.co_j.y=this.maps.wy-64,this.co_j.c1=0,this.j_jet_c=0,this.j_v_c=0)):this.co_j.x>this.ks_wx+496&&(this.co_j.x=this.ks_wx+496,(this.co_j.vx=0)<this.co_j.vx&&(this.co_j.vx=0))),11==this.sl_step&&this.maps.wx>=this.sl_wx&&(this.maps.wx=this.sl_wx,this.sl_wy=this.ks_wy,this.sl_step=3)):1==this.sl_step?this.maps.wx>=this.sl_wx&&(this.maps.wx=this.sl_wx,this.sl_step=2):2==this.sl_step?(this.maps.wx=this.sl_wx,this.co_j.x<this.sl_wx-16?(this.co_j.x=this.sl_wx-16,this.co_j.vx=0):this.co_j.x>this.sl_wx+496&&(this.co_j.x=this.sl_wx+496,this.co_j.vx=0),this.maps.wy>=this.sl_wy&&(this.maps.wy=this.sl_wy,this.sl_step=3)):(this.maps.wx=this.sl_wx,this.maps.wy=this.sl_wy,this.co_j.x<this.sl_wx-16?(this.co_j.x=this.sl_wx-16,this.co_j.vx=0):this.co_j.x>this.sl_wx+496&&(this.co_j.x=this.sl_wx+496,this.co_j.vx=0))),0<this.jm_kazu&&this.jmMove(),this.tMove(),0<this.co_b.c&&this.bMove(),0<this.m_kazu&&this.mMove(),0<this.time_max&&this.stage_cc<=0&&(this.time-=70,this.time<0&&(this.time=0,this.j_left--,this.j_left<0?(this.j_left=0,this.ml_mode=300):this.ml_mode=90)),0<this.stage_cc&&(this.stage_cc++,28<this.stage_cc&&(2==this.stage_select?4<=this.stage?this.ml_mode=400:(0<this.time_max&&this.addScore(s(this.time/1e3)),this.ml_mode=260):this.stage>=this.stage_max?this.ml_mode=400:(this.stage++,0<this.time_max&&this.addScore(s(this.time/1e3)),this.ml_mode=90))),this.drawGamescreen(),this.drawScore(),0<this.j_jet_fuel){var hi=this.moji_jet+" "+this.j_jet_fuel;0<this.j_gr_kazu&&(hi=1==this.j_gr_kazu?hi+"    "+this.moji_grenade:hi+"    "+this.moji_grenade+" "+this.j_gr_kazu),this.hg.drawString(hi,40,287+this.moji_size)}else 0<this.j_gr_kazu&&(1==this.j_gr_kazu?this.hg.drawString(this.moji_grenade,40,287+this.moji_size):this.hg.drawString(this.moji_grenade+" "+this.j_gr_kazu,40,287+this.moji_size));84==this.gk.key_code&&(this.gk.key_code=0,this.ml_mode=50)},G.prototype.mainLoop=function(){switch(this.ml_mode){default:break;case 50:this.gg.drawListImage(0,0,0),(0<this.score||0<this.highscore)&&this.drawScore(),this.gm.button_f||this.gk.tr1_f||(this.ml_mode=60,this.g_c1=0,this.sendHighscore());break;case 60:if(0==this.g_c1?118==this.gk.key_char&&(this.g_c1=1):1==this.g_c1?101==this.gk.key_char?this.g_c1=2:118!=this.gk.key_char&&(this.g_c1=0):2==this.g_c1&&(114==this.gk.key_char?this.ml_mode=1e3:101!=this.gk.key_char&&(this.g_c1=0)),!this.gm.button_f&&!this.gk.tr1_f)break;if(2==this.stage_select){this.init2(),this.ig.worldInit(),this.gg.os_g.setColor(D.black),this.gg.os_g.fillRect(0,0,this.gg.di.width,this.gg.di.height),this.ml_mode=200;break}this.init2(),this.init3(),this.gg.drawListImage(0,0,0),(0<this.score||0<this.highscore)&&this.drawScore(),this.j_left<=0?this.ml_mode=100:this.ml_mode=90;break;case 80:this.init2(),this.init3(),this.gg.drawListImage(0,0,0),(0<this.score||0<this.highscore)&&this.drawScore(),this.j_left<=0?this.ml_mode=100:this.ml_mode=90;break;case 90:this.init3(),this.gg.os_g.setColor(this.gamecolor_kaishi),this.gg.os_g.fillRect(0,0,this.gg.di.width,this.gg.di.height),this.stage>=this.stage_max?(this.gg.drawPT(160,144,52,0),this.gg.drawPT(192,144,53,0),this.gg.drawPT(224,144,54,0),this.gg.drawPT(256,144,55,0),this.gg.drawPT(288,144,56,0),this.gg.drawPT(320,144,57,0)):(this.gg.drawPT(192,144,70,0),this.gg.drawPT(224,144,71,0),this.gg.drawPT(256,144,72,0),this.stage>=this.stage_max&&this.gg.drawPT(288,144,75,0),3==this.stage?this.gg.drawPT(288,144,75,0):2==this.stage?this.gg.drawPT(288,144,74,0):this.gg.drawPT(288,144,73,0)),this.drawScore(),this.ml_mode=91,this.ml_mode_c=0;break;case 91:this.ml_mode_c++,35<this.ml_mode_c&&(this.ml_mode=100),84==this.gk.key_code&&(this.gk.key_code=0,this.ml_mode=50);break;case 95:switch(this.stage=this.ig.checkStage(),this.init3(),this.ig.shop_kattaitem){case 7:default:break;case 0:this.j_gr_kazu=3;break;case 1:this.j_jet_fuel=80;break;case 2:this.j_drell_f=!0;break;case 3:this.j_helm_f=!0;break;case 4:this.j_tail_f=!0;break;case 5:this.j_v_c=150,this.j_v_kakudo=0;break;case 6:this.j_fire_f=!0;break;case 8:0<this.time_max&&(this.time+=3e4)}this.gg.os_g.setColor(D.black),this.gg.os_g.fillRect(0,0,this.gg.di.width,this.gg.di.height),this.drawScore(),this.ml_mode=96,this.ml_mode_c=0;break;case 96:this.ml_mode_c++,8<this.ml_mode_c&&(this.ml_mode=100),84==this.gk.key_code&&(this.gk.key_code=0,this.ml_mode=50);break;case 200:this.ig.drawMap(),this.ig.mainProgram(),this.time=0,this.drawScore2(),110==this.ig.mp_mode&&(1<=this.ig.dokan_khID?this.ml_mode=230:this.ml_mode=95),84==this.gk.key_code&&(this.gk.key_code=0,this.ml_mode=50);break;case 230:this.gg.os_g.setColor(D.black),this.gg.os_g.fillRect(0,0,this.gg.di.width,this.gg.di.height),this.drawScore2(),this.ml_mode=231,this.ml_mode_c=0;break;case 231:var ii;if(this.ml_mode_c++,5==this.ml_mode_c)ii=2==this.ig.dokan_khID?this.gg.ap.getParameter("url2"):3==this.ig.dokan_khID?this.gg.ap.getParameter("url3"):4==this.ig.dokan_khID?this.gg.ap.getParameter("url4"):this.gg.ap.getParameter("url1"),location.href=ii;else 80<this.ml_mode_c&&(this.ml_mode=50);84==this.gk.key_code&&(this.gk.key_code=0,this.ml_mode=50);break;case 250:this.addScore(0),this.ig.worldInit2(),this.ml_mode=251,this.ml_mode_c=0,this.gg.os_g.setColor(D.black),this.gg.os_g.fillRect(0,0,this.gg.di.width,this.gg.di.height),this.drawScore();break;case 251:this.ml_mode_c++,8<this.ml_mode_c&&(this.ml_mode=200),84==this.gk.key_code&&(this.gk.key_code=0,this.ml_mode=50);break;case 260:this.addScore(0),this.ig.worldInit3(),this.ml_mode=261,this.ml_mode_c=0,this.gg.os_g.setColor(D.black),this.gg.os_g.fillRect(0,0,this.gg.di.width,this.gg.di.height),this.drawScore();break;case 261:this.ml_mode_c++,8<this.ml_mode_c&&(this.ml_mode=200),84==this.gk.key_code&&(this.gk.key_code=0,this.ml_mode=50);break;case 300:this.gg.setBackcolor(D.black),this.gg.fill(),this.gg.drawListImage(0,0,2),this.drawScore(),this.sendHighscore(),this.ml_mode=310,this.ml_mode_c=0;break;case 310:this.ml_mode_c++,45<this.ml_mode_c&&(this.ml_mode=50),84==this.gk.key_code&&(this.gk.key_code=0,this.ml_mode=50);break;case 400:this.gg.drawListImage(0,0,1),0<this.time_max&&this.addScore(s(this.time/1e3)),this.drawScore(),this.sendHighscore(),this.ml_mode=410,this.ml_mode_c=0;break;case 410:this.ml_mode_c++,120<this.ml_mode_c&&(this.ml_mode=50),84==this.gk.key_code&&(this.gk.key_code=0,this.ml_mode=50);break;case 500:this.gg.setBackcolor(D.black),this.gg.fill(),this.gg.drawListImage(0,0,0),(0<this.score||0<this.highscore)&&this.drawScore(),this.ml_mode=50,this.ml_mode=50;break;case 1e3:this.gg.setBackcolor(D.black),this.gg.fill(),this.hg.setFont(new E("Dialog",0,46)),this.hg.setColor(D.white),this.hg.setFont(new E("Dialog",0,20)),this.hg.drawString("Title        MASAO CONSTRUCTION",50,50),this.hg.drawString("Version      2.8",50,80),this.hg.drawString("Language     Java2  SDK 1.3.1",50,110),this.hg.drawString("OS           WindowsXP",50,140),this.hg.drawString("Browser      InternetExplorer 6.0",50,170),this.hg.drawString("Programing   Fukuda Naoto",50,200),this.hg.drawString("Date         2003/6",50,230),this.ml_mode=1010,this.ml_mode_c=0;break;case 1010:this.ml_mode_c++,40<this.ml_mode_c&&(this.ml_mode=50)}},G.prototype.init1=function(){this.time_max=this.paraInt("time_max");var ji=this.paraInt("score_v");this.score_v=2!=ji,ji=this.paraInt("backcolor_red");var ki=this.paraInt("backcolor_green"),li=this.paraInt("backcolor_blue");ji<0?ji=0:255<ji&&(ji=255),ki<0?ki=0:255<ki&&(ki=255),li<0?li=0:255<li&&(li=255),this.gamecolor_back=new D(ji,ki,li),(ji=this.paraInt("backcolor_red_s"))<0?ji=0:255<ji&&(ji=255),(ki=this.paraInt("backcolor_green_s"))<0?ki=0:255<ki&&(ki=255),(li=this.paraInt("backcolor_blue_s"))<0?li=0:255<li&&(li=255),this.gamecolor_back_s=new D(ji,ki,li),(ji=this.paraInt("backcolor_red_t"))<0?ji=0:255<ji&&(ji=255),(ki=this.paraInt("backcolor_green_t"))<0?ki=0:255<ki&&(ki=255),(li=this.paraInt("backcolor_blue_t"))<0?li=0:255<li&&(li=255),this.gamecolor_back_t=new D(ji,ki,li),(ji=this.paraInt("backcolor_red_f"))<0?ji=0:255<ji&&(ji=255),(ki=this.paraInt("backcolor_green_f"))<0?ki=0:255<ki&&(ki=255),(li=this.paraInt("backcolor_blue_f"))<0?li=0:255<li&&(li=255),this.gamecolor_back_f=new D(ji,ki,li),(ji=this.paraInt("kaishi_red"))<0?ji=0:255<ji&&(ji=255),(ki=this.paraInt("kaishi_green"))<0?ki=0:255<ki&&(ki=255),(li=this.paraInt("kaishi_blue"))<0?li=0:255<li&&(li=255),this.gamecolor_kaishi=new D(ji,ki,li),(ji=this.paraInt("scorecolor_red"))<0?ji=0:255<ji&&(ji=255),(ki=this.paraInt("scorecolor_green"))<0?ki=0:255<ki&&(ki=255),(li=this.paraInt("scorecolor_blue"))<0?li=0:255<li&&(li=255),this.gamecolor_score=new D(ji,ki,li),(ji=this.paraInt("grenade_red1"))<0?ji=0:255<ji&&(ji=255),(ki=this.paraInt("grenade_green1"))<0?ki=0:255<ki&&(ki=255),(li=this.paraInt("grenade_blue1"))<0?li=0:255<li&&(li=255),this.gamecolor_grenade1=new D(ji,ki,li),(ji=this.paraInt("grenade_red2"))<0?ji=0:255<ji&&(ji=255),(ki=this.paraInt("grenade_green2"))<0?ki=0:255<ki&&(ki=255),(li=this.paraInt("grenade_blue2"))<0?li=0:255<li&&(li=255),this.gamecolor_grenade2=new D(ji,ki,li),(ji=this.paraInt("firebar_red1"))<0?ji=0:255<ji&&(ji=255),(ki=this.paraInt("firebar_green1"))<0?ki=0:255<ki&&(ki=255),(li=this.paraInt("firebar_blue1"))<0?li=0:255<li&&(li=255),this.gamecolor_firebar1=new D(ji,ki,li),(ji=this.paraInt("firebar_red2"))<0?ji=0:255<ji&&(ji=255),(ki=this.paraInt("firebar_green2"))<0?ki=0:255<ki&&(ki=255),(li=this.paraInt("firebar_blue2"))<0?li=0:255<li&&(li=255),this.gamecolor_firebar2=new D(ji,ki,li),(ji=this.paraInt("mizunohadou_red"))<0?ji=0:255<ji&&(ji=255),(ki=this.paraInt("mizunohadou_green"))<0?ki=0:255<ki&&(ki=255),(li=this.paraInt("mizunohadou_blue"))<0?li=0:255<li&&(li=255),this.gamecolor_mizunohadou=new D(ji,ki,li),this.moji_score=this.gg.ap.getParameter("moji_score"),this.moji_highscore=this.gg.ap.getParameter("moji_highscore"),this.moji_time=this.gg.ap.getParameter("moji_time"),this.moji_time="    "+this.moji_time+" ",this.moji_jet=this.gg.ap.getParameter("moji_jet"),this.moji_grenade=this.gg.ap.getParameter("moji_grenade"),this.moji_left=this.gg.ap.getParameter("moji_left"),this.moji_left="    "+this.moji_left+" ",this.moji_size=this.paraInt("moji_size"),this.moji_size<10?this.moji_size=10:30<this.moji_size&&(this.moji_size=30),this.j_left_shoki=this.paraInt("jibun_left_shoki"),this.j_left_shoki<1&&(this.j_left_shoki=1),this.j_left_shoki--,this.stage_max=this.paraInt("stage_max"),this.stage_max<1?this.stage_max=1:4<this.stage_max&&(this.stage_max=4),2==this.stage_select&&(this.stage_max=4),this.stage_kaishi=this.paraInt("stage_kaishi"),this.stage_kaishi<1&&(this.stage_kaishi=1),this.stage_kaishi>this.stage_max&&(this.stage_kaishi=this.stage_max),this.score_1up_1_para=this.paraInt("score_1up_1"),(this.score_1up_1_para<0||this.stage_max<=1)&&(this.score_1up_1_para=0),this.score_1up_2_para=this.paraInt("score_1up_2"),(this.score_1up_2_para<0||this.stage_max<=1)&&(this.score_1up_2_para=0),this.j_tail_type=this.paraInt("j_tail_type"),(this.j_tail_type<1||3<this.j_tail_type)&&(this.j_tail_type=1);var mi=this.paraInt("j_tail_hf");this.j_tail_hf=2==mi,this.grenade_type=this.paraInt("grenade_type"),(this.grenade_type<1||6<this.grenade_type)&&(this.grenade_type=1),this.suberuyuka_hkf=this.paraInt("suberuyuka_hkf"),2==this.suberuyuka_hkf?this.suberuyuka_hkf=2:this.suberuyuka_hkf=1,mi=this.paraInt("j_fire_mkf"),this.j_fire_mkf=2==mi,mi=this.paraInt("dengeki_mkf"),this.dengeki_mkf=2==mi,mi=this.paraInt("yachamo_kf"),this.yachamo_cf=2==mi,mi=this.paraInt("airms_kf"),this.airms_kf=2==mi,this.ugokuyuka1_type=this.paraInt("ugokuyuka1_type"),(this.ugokuyuka1_type<1||7<this.ugokuyuka1_type)&&(this.ugokuyuka1_type=1),this.ugokuyuka2_type=this.paraInt("ugokuyuka2_type"),(this.ugokuyuka2_type<1||7<this.ugokuyuka2_type)&&(this.ugokuyuka2_type=1),this.ugokuyuka3_type=this.paraInt("ugokuyuka3_type"),(this.ugokuyuka3_type<1||7<this.ugokuyuka3_type)&&(this.ugokuyuka3_type=1),this.boss_type=this.paraInt("boss_type"),(this.boss_type<1||4<this.boss_type)&&(this.boss_type=1),this.boss2_type=this.paraInt("boss2_type"),(this.boss2_type<1||2<this.boss2_type)&&(this.boss2_type=1),this.boss3_type=this.paraInt("boss3_type"),(this.boss3_type<1||4<this.boss3_type)&&(this.boss3_type=1),this.dokan_mode=this.paraInt("dokan_mode"),(this.dokan_mode<1||2<this.dokan_mode)&&(this.dokan_mode=1),this.mes1_name=this.gg.ap.getParameter("mes1_name"),this.mes2_name=this.gg.ap.getParameter("mes2_name"),this.shop_name=this.gg.ap.getParameter("shop_name"),this.setumei_name=this.gg.ap.getParameter("setumei_name"),this.door_score=this.paraInt("door_score"),this.door_score<10&&(this.door_score=10),this.shop_item_name[0]=this.gg.ap.getParameter("shop_item_name1"),this.shop_item_name[1]=this.gg.ap.getParameter("shop_item_name2"),this.shop_item_name[2]=this.gg.ap.getParameter("shop_item_name3"),this.shop_item_name[3]=this.gg.ap.getParameter("shop_item_name4"),this.shop_item_name[4]=this.gg.ap.getParameter("shop_item_name5"),this.shop_item_name[5]=this.gg.ap.getParameter("shop_item_name6"),this.shop_item_name[6]=this.gg.ap.getParameter("shop_item_name7"),this.shop_item_name[7]=this.gg.ap.getParameter("shop_item_name8"),this.shop_item_name[8]=this.gg.ap.getParameter("shop_item_name9");for(var ni=0;ni<=8;ni++){var oi=ni+1;(oi=this.paraInt("shop_item_teika"+oi))<0&&(oi=0),this.shop_item_teika[ni]=oi}},G.prototype.init2=function(){this.score>this.highscore&&(this.highscore=this.score),this.j_left=this.j_left_shoki,this.score_1up_1=this.score_1up_1_para,this.score_1up_2=this.score_1up_2_para;for(var pi=0;pi<=2;pi++)this.stage_1up_f[pi]=!0;this.gk.key_code=0,this.score=0,this.stage=this.stage_kaishi,0<this.time_max?this.time=1e3*this.time_max+1e3-70:this.time=0},G.prototype.init3=function(){this.sendHighscore(),this.g_c1=0,this.g_c2=0,this.g_c3=0,this.g_ac=0,this.g_ac2=0,this.stage_cc=0,this.co_j.init(),this.co_j.c=100,this.co_j.x=100,this.co_j.y=100,this.co_j.pt=100,this.co_j.muki=1,this.co_j.jimen_f=!1,this.j_hashiru_f=!1,this.j_jump_level=0,this.j_jump_type=0,this.j_a_id=-1,this.tr1_c=0,this.tr2_c=0,this.gk.left_c=0,this.gk.right_c=0,this.left_dcc=0,this.right_dcc=0,this.ochiru_y=9999,this.j_fire_f=!1,this.j_v_c=0,this.j_v_kakudo=0,this.j_jet_c=0,this.j_jet_kf=!1,this.j_jet_fuel=0,this.j_helm_f=!1,this.j_drell_f=!1,this.j_tail_f=!1,this.j_tail_ac=0,this.j_gr_kazu=0,this.j_mizu_f=!1,this.j_mizu_ac=0,this.j_mizu_awa_c=0,this.j_jdai_f=!1,this.hitokoto_c=0,this.hitokoto_num=1,this.j_tail_hf&&(this.j_tail_f=!0);for(var qi=0;qi<=5;qi++)this.j_zan_x[qi]=0,this.j_zan_y[qi]=0,this.j_zan_pt[qi]=0,this.j_zan_pth[qi]=0;var ri;this.j_zan_p=0,this.j_zan_c=0,this.j_zan_nagasa=0,this.j_zan_f=!1,this.sl_step=0,this.sl_speed=0,this.sl_wx=0,this.sl_wy=0,2==(ri=2==this.stage?this.paraInt("scroll_mode_s"):3==this.stage?this.paraInt("scroll_mode_t"):4==this.stage?this.paraInt("scroll_mode_f"):this.paraInt("scroll_mode"))?(this.sl_step=10,this.ks_wx=32,this.ks_wy=960,this.sl_speed=2):3==ri&&(this.sl_step=10,this.ks_wx=32,this.ks_wy=960,this.sl_speed=4);for(var si=0;si<=31;si++){this.co_a[si].init();for(var ti=0;ti<=3;ti++)this.vo_x[si][ti]=0,this.vo_y[si][ti]=0}this.a_kazu=-1,this.a_hf=!1;for(var ui=0;ui<=129;ui++)this.co_t[ui].init();this.t_kazu=-1,this.co_b.init();for(var vi=this.boss_kijyun_y=0;vi<=23;vi++)this.co_m[vi].init();for(var wi=this.m_kazu=0;wi<=1;wi++)this.co_jm[wi].init();for(var xi=this.jm_kazu=0;xi<=63;xi++)this.co_h[xi].init();0<this.time_max?this.time=1e3*this.time_max+1e3-70:this.time=0,this.mapsMakeStageData(100+this.stage),10!=this.sl_step&&11!=this.sl_step||(this.ks_wx=this.maps.wx,this.ks_wx<=128&&(this.ks_wx=32)),this.maps.drawMap(this.maps.wx,this.maps.wy)},G.prototype.mapsMakeStageData=function(yi){this.maps.init();var zi=this.maps.map_string;this.maps.wx=32,this.maps.wy=32,this.maps.wx_mini=32,this.maps.wy_mini=320,this.maps.wx_max=5856,this.maps.wy_max=6048;switch(this.gg.setBackcolor(D.blue),yi){default:break;case 101:this.maps.setBank(0),this.gg.setBackcolor(this.gamecolor_back),this.maps.wx_max=5280,this.maps.wy_max=960;for(var Bi=0;Bi<=29;Bi++){var Ci="."+this.gg.ap.getParameter("map0-"+Bi);Ci+=this.gg.ap.getParameter("map1-"+Bi),Ci+=this.gg.ap.getParameter("map2-"+Bi),zi[Bi+10]=Ci}break;case 102:this.maps.setBank(0),this.gg.setBackcolor(this.gamecolor_back_s),this.maps.wx_max=5280,this.maps.wy_max=960;for(var Di=0;Di<=29;Di++){var Ei="."+this.gg.ap.getParameter("map0-"+Di+"-s");Ei+=this.gg.ap.getParameter("map1-"+Di+"-s"),Ei+=this.gg.ap.getParameter("map2-"+Di+"-s"),zi[Di+10]=Ei}break;case 103:this.maps.setBank(0),this.gg.setBackcolor(this.gamecolor_back_t),this.maps.wx_max=5280,this.maps.wy_max=960;for(var Fi=0;Fi<=29;Fi++){var Gi="."+this.gg.ap.getParameter("map0-"+Fi+"-t");Gi+=this.gg.ap.getParameter("map1-"+Fi+"-t"),Gi+=this.gg.ap.getParameter("map2-"+Fi+"-t"),zi[Fi+10]=Gi}break;case 104:this.maps.setBank(0),this.gg.setBackcolor(this.gamecolor_back_f),this.maps.wx_max=5280,this.maps.wy_max=960;for(var Hi=0;Hi<=29;Hi++){var Ii="."+this.gg.ap.getParameter("map0-"+Hi+"-f");Ii+=this.gg.ap.getParameter("map1-"+Hi+"-f"),Ii+=this.gg.ap.getParameter("map2-"+Hi+"-f"),zi[Hi+10]=Ii}}for(var Ji=0;Ji<this.maps.height;Ji++)if(zi[Ji].length<this.maps.width)for(var Li=zi[Ji].length;Li<this.maps.width;Li++)zi[Ji]+=".";for(var Ni=0;Ni<this.maps.height;Ni++)for(var Oi=0;Oi<this.maps.width;Oi++){var Pi=zi[Ni].charAt(Oi),Qi=-1;"."!=Pi&&("1"==Pi?Qi=1:"2"==Pi?Qi=2:"3"==Pi?Qi=3:"4"==Pi?Qi=4:"5"==Pi?Qi=5:"6"==Pi?Qi=6:"7"==Pi?Qi=7:"8"==Pi?Qi=8:"9"==Pi?Qi=9:"a"==Pi?Qi=20:"b"==Pi?Qi=21:"c"==Pi?Qi=22:"d"==Pi?Qi=23:"e"==Pi?Qi=24:"f"==Pi?Qi=25:"g"==Pi?Qi=26:"h"==Pi?Qi=27:"i"==Pi?Qi=28:"j"==Pi?Qi=29:"k"==Pi?(Qi=40,this.hSet(Oi,Ni,100)):"l"==Pi?(Qi=40,this.hSet(Oi,Ni,200)):"m"==Pi?(Qi=40,this.hSet(Oi,Ni,300)):"n"==Pi?(Qi=40,this.hSet(Oi,Ni,400)):"o"==Pi?(Qi=40,this.hSet(Oi,Ni,500)):"p"==Pi?(Qi=40,this.hSet(Oi,Ni,600)):"q"==Pi?(Qi=40,this.hSet(Oi,Ni,700)):"r"==Pi?(Qi=40,this.hSet(Oi,Ni,800)):"s"==Pi?(Qi=40,this.hSet(Oi,Ni,900)):"t"==Pi?(Qi=40,this.hSet(Oi,Ni,1e3)):"u"==Pi?(this.aSet(32*Oi,32*Ni,300,32*Oi),4==this.maps.map_bg[Oi-1][Ni]&&(Qi=4)):"v"==Pi?(this.aSet(32*Oi,32*Ni,310,32*Oi),4==this.maps.map_bg[Oi-1][Ni]&&(Qi=4)):"w"==Pi?(this.aSet(32*Oi,32*Ni,320,32*Oi),4==this.maps.map_bg[Oi-1][Ni]&&(Qi=4)):"x"==Pi?(this.aSet(32*Oi,32*Ni,330,32*Oi),4==this.maps.map_bg[Oi-1][Ni]&&(Qi=4)):"y"==Pi?this.stage_1up_f[this.stage-1]?(Qi=40,this.hSet(Oi,Ni,1100)):Qi=41:"z"==Pi?Qi=69:"+"==Pi?(this.aSet(32*Oi,32*Ni,80,32*Oi),4==this.maps.map_bg[Oi-1][Ni]&&(Qi=4)):"-"==Pi?(this.aSet(32*Oi,32*Ni,81,32*Oi),4==this.maps.map_bg[Oi-1][Ni]&&(Qi=4)):"*"==Pi?(this.aSet(32*Oi,32*Ni,82,32*Oi),4==this.maps.map_bg[Oi-1][Ni]&&(Qi=4)):"/"==Pi?(this.aSet(32*Oi,32*Ni,83,32*Oi),4==this.maps.map_bg[Oi-1][Ni]&&(Qi=4)):"A"==Pi?(this.co_j.x=32*Oi,this.co_j.y=32*Ni,4==this.maps.map_bg[Oi-1][Ni]&&(Qi=4)):"B"==Pi?(this.tSet(32*Oi,32*Ni,100,32*Oi-512-32),4==this.maps.map_bg[Oi-1][Ni]&&(Qi=4)):"C"==Pi?(this.tSet(32*Oi,32*Ni,110,32*Oi-512-32),4==this.maps.map_bg[Oi-1][Ni]&&(Qi=4)):"D"==Pi?(this.tSet(32*Oi,32*Ni,110,32*Oi-512-32),this.tSet(32*Oi+75,32*Ni,110,32*Oi-512-32),this.tSet(32*Oi+150,32*Ni,110,32*Oi-512-32),4==this.maps.map_bg[Oi-1][Ni]&&(Qi=4)):"E"==Pi?(this.tSet(32*Oi,32*Ni,200,32*Oi-512-32),4==this.maps.map_bg[Oi-1][Ni]&&(Qi=4)):"F"==Pi?(this.tSet(32*Oi,32*Ni,300,32*Oi-512-32),4==this.maps.map_bg[Oi-1][Ni]&&(Qi=4)):"G"==Pi?(this.tSet(32*Oi,32*Ni,400,32*Oi-512-32),4==this.maps.map_bg[Oi-1][Ni]&&(Qi=4)):"H"==Pi?(this.tSet(32*Oi,32*Ni,500,32*Oi-512-32),4==this.maps.map_bg[Oi-1][Ni]&&(Qi=4)):"I"==Pi?(this.tSet(32*Oi,32*Ni,510,32*Oi-512-32),4==this.maps.map_bg[Oi-1][Ni]&&(Qi=4)):"J"==Pi?(this.tSet(32*Oi,32*Ni,510,32*Oi-512-32-32),this.tSet(32*Oi+80,32*Ni-40,510,32*Oi-512-32-32),this.tSet(32*Oi+140,32*Ni+38,510,32*Oi-512-32-32),4==this.maps.map_bg[Oi-1][Ni]&&(Qi=4)):"K"==Pi?(2==this.ugokuyuka1_type?this.aSet(32*Oi,32*Ni,500,32*Oi):3==this.ugokuyuka1_type?this.aSet(32*Oi,32*Ni,510,32*Oi):4==this.ugokuyuka1_type?this.aSet(32*Oi,32*Ni,120,32*Oi):5==this.ugokuyuka1_type?this.aSet(32*Oi,32*Ni,121,32*Oi):6==this.ugokuyuka1_type?this.aSet(32*Oi,32*Ni,600,32*Oi):7==this.ugokuyuka1_type?this.aSet(32*Oi,32*Ni,700,32*Oi):this.aSet(32*Oi,32*Ni,100,32*Oi),4==this.maps.map_bg[Oi-1][Ni]&&(Qi=4)):"L"==Pi?(2==this.ugokuyuka2_type?this.aSet(32*Oi,32*Ni,500,32*Oi):3==this.ugokuyuka2_type?this.aSet(32*Oi,32*Ni,510,32*Oi):4==this.ugokuyuka2_type?this.aSet(32*Oi,32*Ni,120,32*Oi):5==this.ugokuyuka2_type?this.aSet(32*Oi,32*Ni,121,32*Oi):6==this.ugokuyuka2_type?this.aSet(32*Oi,32*Ni,600,32*Oi):7==this.ugokuyuka2_type?this.aSet(32*Oi,32*Ni,700,32*Oi):this.aSet(32*Oi,32*Ni+9,110,32*Oi-16),4==this.maps.map_bg[Oi-1][Ni]&&(Qi=4)):"M"==Pi?(2==this.ugokuyuka3_type?this.aSet(32*Oi,32*Ni,500,32*Oi):3==this.ugokuyuka3_type?this.aSet(32*Oi,32*Ni,510,32*Oi):4==this.ugokuyuka3_type?this.aSet(32*Oi,32*Ni,120,32*Oi):5==this.ugokuyuka3_type?this.aSet(32*Oi,32*Ni,121,32*Oi):6==this.ugokuyuka3_type?this.aSet(32*Oi,32*Ni,600,32*Oi):7==this.ugokuyuka3_type?this.aSet(32*Oi,32*Ni,700,32*Oi):(this.aSet(32*Oi,32*Ni+9,115,32*Oi-16),this.aSet(32*Oi,32*Ni+9,116,32*Oi-16)),4==this.maps.map_bg[Oi-1][Ni]&&(Qi=4)):"N"==Pi?(this.aSet(32*Oi-32,32*Ni,400,32*Oi),4==this.maps.map_bg[Oi-1][Ni]&&(Qi=4)):"O"==Pi?(this.tSet(32*Oi,32*Ni,600,32*Oi-512-32),4==this.maps.map_bg[Oi-1][Ni]&&(Qi=4)):"P"==Pi?(this.tSet(32*Oi,32*Ni,700,32*Oi-512-32),4==this.maps.map_bg[Oi-1][Ni]&&(Qi=4)):"Q"==Pi?(this.tSet(32*Oi,32*Ni,800,32*Oi-512-32),4==this.maps.map_bg[Oi-1][Ni]&&(Qi=4)):"R"==Pi?(this.tSet(32*Oi,32*Ni,900,32*Oi-512-32),4==this.maps.map_bg[Oi-1][Ni]&&(Qi=4)):"S"==Pi?(this.co_b.c=100,this.co_b.c4=3,this.co_b.x=32*Oi,this.co_b.y=32*Ni-16,4==this.maps.map_bg[Oi-1][Ni]&&(Qi=4),this.co_b.x<448?this.co_b.x=448:5664<this.co_b.x&&(this.co_b.x=5664),10==this.sl_step?this.sl_step=11:this.sl_step=1,this.sl_wx=this.co_b.x-384,this.sl_wy=960):"T"==Pi?(this.co_b.c=200,this.co_b.c4=3,this.co_b.x=32*Oi,this.co_b.y=32*Ni-16,4==this.maps.map_bg[Oi-1][Ni]&&(Qi=4),this.co_b.x<448?this.co_b.x=448:5664<this.co_b.x&&(this.co_b.x=5664),10==this.sl_step?this.sl_step=11:this.sl_step=1,this.sl_wx=this.co_b.x-384,this.sl_wy=960):"U"==Pi?(this.aSet(32*Oi+16,32*Ni+16,70,32*Oi),Qi=50):"V"==Pi?(this.aSet(32*Oi+16,32*Ni+16,71,32*Oi),Qi=50):"W"==Pi?(this.tSet(32*Oi,32*Ni-16,1e3,32*Oi-512-32-32),Qi=4):"X"==Pi?(this.tSet(32*Oi,32*Ni,1100,32*Oi-512-32),Qi=4):"Y"==Pi?(this.aSet(32*Oi,32*Ni,60,32*Oi),4==this.maps.map_bg[Oi-1][Ni]&&(Qi=4)):"Z"==Pi&&(this.co_b.c=300,this.co_b.c4=3,this.co_b.x=32*Oi,this.co_b.y=32*Ni-16,this.boss_kijyun_y=this.co_b.y,4==this.maps.map_bg[Oi-1][Ni]&&(Qi=4),this.co_b.x<448?this.co_b.x=448:5664<this.co_b.x&&(this.co_b.x=5664),10==this.sl_step?this.sl_step=11:this.sl_step=1,this.sl_wx=this.co_b.x-384,this.sl_wy=960),0<=Qi&&(this.maps.map_bg[Oi][Ni]=Qi))}for(var Ri=0;Ri<=this.maps.width-1;Ri++)this.maps.map_bg[Ri][0]=21,this.maps.map_bg[Ri][this.maps.height-1]=21;for(var Si=0;Si<=this.maps.height-1;Si++)this.maps.map_bg[0][Si]=21,this.maps.map_bg[181][Si]=21,this.maps.map_bg[199][Si]=21;this.ochiru_y=this.maps.wy_max+320,this.maps.wx=this.co_j.x-96,this.maps.wy=this.co_j.y-176,this.maps.wx<this.maps.wx_mini?this.maps.wx=this.maps.wx_mini:this.maps.wx>this.maps.wx_max&&(this.maps.wx=this.maps.wx_max),this.maps.wy<this.maps.wy_mini?this.maps.wy=this.maps.wy_mini:this.maps.wy>this.maps.wy_max&&(this.maps.wy=this.maps.wy_max),this.co_j.wx=this.co_j.x-this.maps.wx,this.co_j.wy=this.co_j.y-this.maps.wy},G.prototype.drawGamescreen=function(){this.maps.drawMapScroll(this.g_ac2);var Ti=this.maps.wx,Ui=this.maps.wy;if(this.co_j.wx=this.co_j.x-this.maps.wx,this.co_j.wy=this.co_j.y-this.maps.wy,this.a_hf)for(var Vi=0;Vi<=this.a_kazu;Vi++)if(this.co_a[Vi].gf){var Wi=this.co_a[Vi],Xi=Wi.x-Ti,Yi=Wi.y-Ui;switch(Wi.pt){default:break;case 100:this.hg.drawImage(this.hi[190],Xi,Yi,this.ap),this.hg.drawImage(this.hi[191],Xi+32,Yi,this.ap),this.hg.drawImage(this.hi[192],Xi+64,Yi,this.ap);break;case 200:this.hg.drawImage(this.hi[76],Xi,Yi,this.ap),this.hg.drawImage(this.hi[77],Xi+32,Yi,this.ap),this.hg.drawImage(this.hi[86],Xi,Yi+32,this.ap),this.hg.drawImage(this.hi[87],Xi+32,Yi+32,this.ap);break;case 210:this.hg.drawImage(this.hi[78],Xi,Yi,this.ap),this.hg.drawImage(this.hi[79],Xi+32,Yi,this.ap),this.hg.drawImage(this.hi[88],Xi,Yi+32,this.ap),this.hg.drawImage(this.hi[89],Xi+32,Yi+32,this.ap);break;case 300:this.hg.drawImage(this.hi[60],Xi,Yi,this.ap),this.hg.drawImage(this.hi[61],Xi+32,Yi,this.ap);break;case 310:this.hg.drawImage(this.hi[62],Xi,Yi,this.ap),this.hg.drawImage(this.hi[63],Xi+32,Yi,this.ap);break;case 320:this.hg.drawImage(this.hi[64],Xi,Yi,this.ap),this.hg.drawImage(this.hi[65],Xi+32,Yi,this.ap);break;case 330:this.hg.drawImage(this.hi[66],Xi,Yi,this.ap),this.hg.drawImage(this.hi[67],Xi+32,Yi,this.ap);break;case 400:this.hg.drawImage(this.hi[183],Xi,Yi,this.ap),this.hg.drawImage(this.hi[184],Xi+32,Yi,this.ap),this.hg.drawImage(this.hi[185],Xi+64,Yi,this.ap),this.hg.drawImage(this.hi[193],Xi,Yi+32,this.ap),this.hg.drawImage(this.hi[194],Xi+32,Yi+32,this.ap),this.hg.drawImage(this.hi[195],Xi+64,Yi+32,this.ap);break;case 500:this.hg.drawImage(this.hi[180],Xi,Yi,this.ap),this.hg.drawImage(this.hi[181],Xi+32,Yi,this.ap),this.hg.drawImage(this.hi[182],Xi+64,Yi,this.ap);break;case 600:this.hg.drawImage(this.hi[188],Xi,Yi,this.ap),this.hg.drawImage(this.hi[189],Xi+32,Yi,this.ap),this.hg.drawImage(this.hi[198],Xi,Yi+32,this.ap),this.hg.drawImage(this.hi[199],Xi+32,Yi+32,this.ap);break;case 605:this.hg.drawImage(this.hih[1][189],Xi,Yi,this.ap),this.hg.drawImage(this.hih[1][188],Xi+32,Yi,this.ap),this.hg.drawImage(this.hih[1][199],Xi,Yi+32,this.ap),this.hg.drawImage(this.hih[1][198],Xi+32,Yi+32,this.ap);break;case 700:this.hg.drawImage(this.hi[32],Xi,Yi,this.ap);break;case 710:this.hg.drawImage(this.hi[33],Xi,Yi,this.ap);break;case 720:this.hg.drawImage(this.hi[34],Xi,Yi,this.ap);break;case 800:Wi.x>=this.co_j.x?this.hg.drawImage(this.hi[35+Wi.c3],Xi,Yi,this.ap):this.hg.drawImage(this.hih[1][35+Wi.c3],Xi,Yi,this.ap);break;case 1100:var Zi=c.floor(16*c.cos(6.283185307179586*(Wi.c3+90)/360)),$i=c.floor(16*c.sin(6.283185307179586*(Wi.c3+90)/360));if(this.vo_pa_x[0]=this.vo_x[Vi][0]-Ti+Zi,this.vo_pa_y[0]=this.vo_y[Vi][0]-Ui+$i,this.vo_pa_x[1]=this.vo_x[Vi][0]-Ti-Zi,this.vo_pa_y[1]=this.vo_y[Vi][0]-Ui-$i,this.vo_pa_x[2]=this.vo_x[Vi][1]-Ti-Zi,this.vo_pa_y[2]=this.vo_y[Vi][1]-Ui-$i,this.vo_pa_x[3]=this.vo_x[Vi][1]-Ti+Zi,this.vo_pa_y[3]=this.vo_y[Vi][1]-Ui+$i,this.gg.os_g.setColor(this.gamecolor_firebar1),this.gg.os_g.fillPolygon(this.vo_pa_x,this.vo_pa_y,4),2<=this.g_c2){this.gg.os_g.setColor(this.gamecolor_firebar2);var _i=c.floor(10*c.cos(6.283185307179586*(Wi.c3+90)/360)),aj=c.floor(10*c.sin(6.283185307179586*(Wi.c3+90)/360));this.vo_pa_x[0]=this.vo_x[Vi][2]-Ti+_i,this.vo_pa_y[0]=this.vo_y[Vi][2]-Ui+aj,this.vo_pa_x[1]=this.vo_x[Vi][2]-Ti-_i,this.vo_pa_y[1]=this.vo_y[Vi][2]-Ui-aj,this.vo_pa_x[2]=this.vo_x[Vi][3]-Ti-_i,this.vo_pa_y[2]=this.vo_y[Vi][3]-Ui-aj,this.vo_pa_x[3]=this.vo_x[Vi][3]-Ti+_i,this.vo_pa_y[3]=this.vo_y[Vi][3]-Ui+aj,this.gg.os_g.fillPolygon(this.vo_pa_x,this.vo_pa_y,4)}}}if(0<this.m_kazu)for(var bj=0;bj<=23;bj++)if(50<=this.co_m[bj].c){var cj=this.co_m[bj];if(50==cj.c){this.hg.drawImage(this.hih[cj.pth][cj.pt],cj.x-Ti,cj.y-Ui,this.ap);var dj=this.maps.getBGCode(cj.x,cj.y);20<=dj&&this.gg.drawPT(32*(cj.x>>5)-Ti,32*(cj.y>>5)-Ui,dj,0),20<=(dj=this.maps.getBGCode(cj.x+31,cj.y))&&this.gg.drawPT(32*(cj.x+31>>5)-Ti,32*(cj.y>>5)-Ui,dj,0)}else 1e3==cj.pt?(this.gg.os_g.setColor(this.gamecolor_mizunohadou),this.gg.os_g.fillOval(cj.x-Ti+16-cj.c2,cj.y-Ui+16-cj.c2,2*cj.c2,2*cj.c2)):1100==cj.pt?(0==this.g_ac?this.gg.os_g.setColor(this.gamecolor_grenade1):this.gg.os_g.setColor(this.gamecolor_grenade2),this.gg.os_g.fillOval(cj.x-Ti+16-cj.c2,cj.y-Ui+16-cj.c2,2*cj.c2,2*cj.c2)):this.hg.drawImage(this.hih[cj.pth][cj.pt],cj.x-Ti,cj.y-Ui,this.ap)}if(0<this.jm_kazu)for(var ej=0;ej<=1;ej++)if(50<=this.co_jm[ej].c){var fj=this.co_jm[ej];fj.pt<1e3?this.hg.drawImage(this.hih[fj.pth][fj.pt],fj.x-Ti,fj.y-Ui,this.ap):1200==fj.pt?(0==this.g_ac?this.gg.os_g.setColor(this.gamecolor_grenade1):this.gg.os_g.setColor(this.gamecolor_grenade2),this.gg.os_g.fillRect(fj.x-Ti,fj.y-Ui+12,fj.vx-fj.x+1,8)):1205==fj.pt?(0==this.g_ac?this.gg.os_g.setColor(this.gamecolor_grenade1):this.gg.os_g.setColor(this.gamecolor_grenade2),this.gg.os_g.fillRect(fj.vx-Ti,fj.y-Ui+12,fj.x-fj.vx+1,8)):(0==this.g_ac?this.gg.os_g.setColor(this.gamecolor_grenade1):this.gg.os_g.setColor(this.gamecolor_grenade2),this.gg.os_g.fillOval(fj.x-Ti+16-fj.c2,fj.y-Ui+16-fj.c2,2*fj.c2,2*fj.c2))}for(var gj=0;gj<=this.t_kazu;gj++)if(50<=this.co_t[gj].c){var hj=this.co_t[gj].x-Ti,ij=this.co_t[gj].y-Ui;-64<=hj&&ij<=576&&this.hg.drawImage(this.hih[this.co_t[gj].pth][this.co_t[gj].pt],hj,ij,this.ap)}if(50<this.co_b.c){var jj=this.co_b.x-Ti;if(jj<528){var kj=this.co_b.y-Ui;switch(this.co_b.pt){default:break;case 1e3:this.hg.drawImage(this.hih[0][186],jj-16,kj-16,this.ap),this.hg.drawImage(this.hih[0][187],jj+16,kj-16,this.ap),this.hg.drawImage(this.hih[0][196],jj-16,kj+16,this.ap),this.hg.drawImage(this.hih[0][197],jj+16,kj+16,this.ap);break;case 1005:this.hg.drawImage(this.hih[1][187],jj-16,kj-16,this.ap),this.hg.drawImage(this.hih[1][186],jj+16,kj-16,this.ap),this.hg.drawImage(this.hih[1][197],jj-16,kj+16,this.ap),this.hg.drawImage(this.hih[1][196],jj+16,kj+16,this.ap);break;case 1010:this.hg.drawImage(this.hih[0][176],jj-16,kj+16,this.ap),this.hg.drawImage(this.hih[0][177],jj+16,kj+16,this.ap);break;case 1015:this.hg.drawImage(this.hih[1][177],jj-16,kj+16,this.ap),this.hg.drawImage(this.hih[1][176],jj+16,kj+16,this.ap);break;case 1100:this.hg.drawImage(this.hih[0][188],jj-16,kj-16,this.ap),this.hg.drawImage(this.hih[0][189],jj+16,kj-16,this.ap),this.hg.drawImage(this.hih[0][198],jj-16,kj+16,this.ap),this.hg.drawImage(this.hih[0][199],jj+16,kj+16,this.ap);break;case 1105:this.hg.drawImage(this.hih[1][189],jj-16,kj-16,this.ap),this.hg.drawImage(this.hih[1][188],jj+16,kj-16,this.ap),this.hg.drawImage(this.hih[1][199],jj-16,kj+16,this.ap),this.hg.drawImage(this.hih[1][198],jj+16,kj+16,this.ap);break;case 1110:this.hg.drawImage(this.hih[0][178],jj-16,kj+16,this.ap),this.hg.drawImage(this.hih[0][179],jj+16,kj+16,this.ap);break;case 1115:this.hg.drawImage(this.hih[1][179],jj-16,kj+16,this.ap),this.hg.drawImage(this.hih[1][178],jj+16,kj+16,this.ap);break;case 1200:this.hg.drawImage(this.hih[0][238],jj-16,kj-16,this.ap),this.hg.drawImage(this.hih[0][239],jj+16,kj-16,this.ap),this.hg.drawImage(this.hih[0][248],jj-16,kj+16,this.ap),this.hg.drawImage(this.hih[0][249],jj+16,kj+16,this.ap);break;case 1205:this.hg.drawImage(this.hih[1][239],jj-16,kj-16,this.ap),this.hg.drawImage(this.hih[1][238],jj+16,kj-16,this.ap),this.hg.drawImage(this.hih[1][249],jj-16,kj+16,this.ap),this.hg.drawImage(this.hih[1][248],jj+16,kj+16,this.ap);break;case 1210:this.hg.drawImage(this.hih[0][228],jj-16,kj+16,this.ap),this.hg.drawImage(this.hih[0][229],jj+16,kj+16,this.ap);break;case 1215:this.hg.drawImage(this.hih[1][229],jj-16,kj+16,this.ap),this.hg.drawImage(this.hih[1][228],jj+16,kj+16,this.ap);break;case 1250:this.hg.drawImage(this.hih[0][238],jj-16,kj-16,this.ap),this.hg.drawImage(this.hih[0][239],jj+16,kj-16,this.ap),this.hg.drawImage(this.hih[0][248],jj-16,kj+16,this.ap),this.hg.drawImage(this.hih[0][249],jj+16,kj+16,this.ap),this.j_v_c<=0&&(this.j_v_kakudo+=2,360<this.j_v_kakudo&&(this.j_v_kakudo-=360)),jj=this.co_b.x-Ti+16,kj=this.co_b.y-Ui+16,this.gg.os_g.setColor(D.white);for(var lj=.017453292519943295,mj=0;mj<=5;mj++){var nj=(this.j_v_kakudo+60*mj)*lj;this.vo_pa_x[mj]=jj+c.floor(50*c.cos(nj)),this.vo_pa_y[mj]=kj+c.floor(50*c.sin(nj))}this.gg.os_g.drawPolygon(this.vo_pa_x,this.vo_pa_y,6);for(var oj=0;oj<=5;oj++){var pj=(360-this.j_v_kakudo+60*oj)*lj;this.vo_pa_x[oj]=jj+c.floor(50*c.cos(pj)),this.vo_pa_y[oj]=kj+c.floor(50*c.sin(pj))}this.gg.os_g.drawPolygon(this.vo_pa_x,this.vo_pa_y,6);break;case 1255:this.hg.drawImage(this.hih[1][239],jj-16,kj-16,this.ap),this.hg.drawImage(this.hih[1][238],jj+16,kj-16,this.ap),this.hg.drawImage(this.hih[1][249],jj-16,kj+16,this.ap),this.hg.drawImage(this.hih[1][248],jj+16,kj+16,this.ap),this.j_v_c<=0&&(this.j_v_kakudo+=2,360<this.j_v_kakudo&&(this.j_v_kakudo-=360)),jj=this.co_b.x-Ti+16,kj=this.co_b.y-Ui+16,this.gg.os_g.setColor(D.white);for(var qj=.017453292519943295,rj=0;rj<=5;rj++){var sj=(this.j_v_kakudo+60*rj)*qj;this.vo_pa_x[rj]=jj+c.floor(50*c.cos(sj)),this.vo_pa_y[rj]=kj+c.floor(50*c.sin(sj))}this.gg.os_g.drawPolygon(this.vo_pa_x,this.vo_pa_y,6);for(var tj=0;tj<=5;tj++){var uj=(360-this.j_v_kakudo+60*tj)*qj;this.vo_pa_x[tj]=jj+c.floor(50*c.cos(uj)),this.vo_pa_y[tj]=kj+c.floor(50*c.sin(uj))}this.gg.os_g.drawPolygon(this.vo_pa_x,this.vo_pa_y,6)}}}if(96<=this.j_jet_c&&(0==this.g_c1?this.hg.drawImage(this.hi[134],this.co_j.x-Ti,this.co_j.y-Ui+36,this.ap):this.hg.drawImage(this.hi[135],this.co_j.x-Ti,this.co_j.y-Ui+36,this.ap)),0<this.j_v_c&&(this.j_v_c--,this.j_v_kakudo+=2,360<this.j_v_kakudo&&(this.j_v_kakudo-=360),50<this.j_v_c||1==this.g_ac)){var vj=this.co_j.x-Ti+16,wj=this.co_j.y-Ui+16;this.gg.os_g.setColor(D.white);for(var xj=.017453292519943295,yj=0;yj<=5;yj++){var zj=(this.j_v_kakudo+60*yj)*xj;this.vo_pa_x[yj]=vj+c.floor(38*c.cos(zj)),this.vo_pa_y[yj]=wj+c.floor(38*c.sin(zj))}this.gg.os_g.drawPolygon(this.vo_pa_x,this.vo_pa_y,6);for(var Aj=0;Aj<=5;Aj++){var Bj=(360-this.j_v_kakudo+60*Aj)*xj;this.vo_pa_x[Aj]=vj+c.floor(38*c.cos(Bj)),this.vo_pa_y[Aj]=wj+c.floor(38*c.sin(Bj))}this.gg.os_g.drawPolygon(this.vo_pa_x,this.vo_pa_y,6)}if(this.j_zan_f){var Cj=this.j_zan_p+(6-this.j_zan_nagasa);5<Cj&&(Cj-=6);var Dj=this.j_zan_p+1;5<Dj&&(Dj-=6);do{var Ej=this.j_zan_x[Cj]-Ti,Fj=this.j_zan_y[Cj]-Ui,Gj=this.j_zan_pth[Cj];this.hg.drawImage(this.hih[Gj][this.j_zan_pt[Cj]],Ej,Fj,this.ap),5<++Cj&&(Cj=0)}while(Cj!=Dj);this.j_zan_p++,5<this.j_zan_p&&(this.j_zan_p=0),this.j_zan_x[this.j_zan_p]=this.co_j.x,this.j_zan_y[this.j_zan_p]=this.co_j.y,this.j_zan_pt[this.j_zan_p]=this.co_j.pt,this.j_zan_pth[this.j_zan_p]=this.co_j.muki,this.j_zan_c<9?(this.j_zan_c++,0<=this.co_j.vy&&(this.j_zan_c=9)):(this.j_zan_nagasa--,this.j_zan_nagasa<0&&(this.j_zan_f=!1))}if(this.co_j.pt<1e3?this.gg.drawPT(this.co_j.wx,this.co_j.wy,this.co_j.pt,this.co_j.muki):1e3==this.co_j.pt?0==this.co_j.muki?(this.gg.drawPT(this.co_j.wx,this.co_j.wy,118,this.co_j.muki),this.gg.drawPT(this.co_j.wx-32,this.co_j.wy,117,this.co_j.muki)):(this.gg.drawPT(this.co_j.wx,this.co_j.wy,118,1),this.gg.drawPT(this.co_j.wx+32,this.co_j.wy,117,1)):1100==this.co_j.pt?(this.co_j.c1<=0?this.gg.drawPT(this.co_j.wx,this.co_j.wy,100,this.co_j.muki):32<=this.co_j.c1?this.gg.drawPT(this.co_j.wx,this.co_j.wy+32,100,this.co_j.muki):this.gg.drawPT(this.co_j.wx,this.co_j.wy+this.co_j.c1,100,this.co_j.muki),this.gg.drawPT(this.co_j.wx-16,this.co_j.wy+32,60+2*this.co_j.c2,0),this.gg.drawPT(this.co_j.wx+16,this.co_j.wy+32,61+2*this.co_j.c2,0)):this.co_j.pt,0<this.hitokoto_c){this.hitokoto_c--;for(var Kj=0,Lj=0;Lj<=2;Lj++){var Mj=Lj+1,Nj="hitokoto"+this.hitokoto_num+"-"+Mj;Nj=this.gg.ap.getParameter(Nj),Mj=parseInt(Nj),isNaN(Mj)&&(Mj=-1),0!=Mj&&Kj++}this.km.drawWindowbox(208,56,224,30+14*Kj),this.hg.setFont(new E("Dialog",0,12)),this.hg.setColor(D.cyan);var Oj="hitokoto"+this.hitokoto_num+"_name";this.hg.drawString(this.gg.ap.getParameter(Oj),214,74),this.hg.setColor(D.white);for(var Pj=Kj=0;Pj<=2;Pj++){var Qj=Pj+1,Rj="hitokoto"+this.hitokoto_num+"-"+Qj;Rj=this.gg.ap.getParameter(Rj),Qj=parseInt(Rj),isNaN(Qj)&&(Qj=-1),0!=Qj&&(this.hg.drawString(Rj,214,80+14*Kj+12),Kj++)}}},G.prototype.jM100=function(){var Sj=!1,Tj=!1;this.j_mizu_f=!1;var Uj=this.maps.getBGCode(this.co_j.x+15,this.co_j.y+15);4==Uj?(this.j_mizu_f=!0,this.j_jet_c=0,this.j_mizu_awa_c++,44==this.j_mizu_awa_c||54==this.j_mizu_awa_c?this.mSet(this.co_j.x,this.co_j.y+4,60):54<this.j_mizu_awa_c&&(this.j_mizu_awa_c=0)):8!=Uj&&9!=Uj||4!=this.maps.map_bg[(this.co_j.x+15>>5)-1][this.co_j.y+15>>5]||(this.j_mizu_f=!0,this.j_jet_c=0,this.j_mizu_awa_c++,44==this.j_mizu_awa_c||54==this.j_mizu_awa_c?this.mSet(this.co_j.x,this.co_j.y+4,60):54<this.j_mizu_awa_c&&(this.j_mizu_awa_c=0)),this.gk.tr1_f?this.tr1_c<6&&this.tr1_c++:this.tr1_c=0,this.gk.tr2_f?this.tr2_c<2&&this.tr2_c++:this.tr2_c=0,this.gk.left_f?this.gk.left_c<2&&this.gk.left_c++:this.gk.left_c=0,this.gk.right_f?this.gk.right_c<2&&this.gk.right_c++:this.gk.right_c=0,1==this.gk.left_c?(0<this.left_dcc?this.j_hashiru_f=!0:this.j_hashiru_f=!1,this.left_dcc=8):0<this.left_dcc&&this.left_dcc--,1==this.gk.right_c?(0<this.right_dcc?this.j_hashiru_f=!0:this.j_hashiru_f=!1,this.right_dcc=8):0<this.right_dcc&&this.right_dcc--;var Vj=this.co_j.x,Wj=this.co_j.y;this.co_j.pt=100;var Xj=Vj+15>>5,Yj=Wj+31>>5,$j=(this.maps.map_bg[Xj][Yj],Wj+32>>5),_j=this.maps.map_bg[Xj][$j];if(20<=_j||0<=this.j_a_id?(this.co_j.jimen_f=!0,this.j_jump_type=2,69==_j&&(Tj=!0)):this.co_j.jimen_f=!1,this.co_j.jimen_f?(this.j_zan_f=!1,this.j_jet_c=0,this.gk.left_f?(this.co_j.vx-=Tj?4:15,this.j_hashiru_f?(this.j_mizu_f?this.co_j.vx<-60&&(this.co_j.vx=-60):this.co_j.vx<-120&&(this.co_j.vx=-120),0<this.co_j.vx&&!Tj?(this.co_j.pt=108,this.co_j.ac=0):(this.co_j.pt=105+(this.co_j.ac>>1),this.co_j.ac++,3<this.co_j.ac&&(this.co_j.ac=0))):(this.j_mizu_f?this.co_j.vx<-40&&(this.co_j.vx=-40):this.co_j.vx<-60&&(this.co_j.vx=-60),0<this.co_j.vx&&!Tj?(this.co_j.pt=108,this.co_j.ac=0):(this.co_j.pt=103+(this.co_j.ac>>1),this.co_j.ac++,3<this.co_j.ac&&(this.co_j.ac=0))),this.co_j.muki=0):this.gk.right_f?(this.co_j.vx+=Tj?4:15,this.j_hashiru_f?(this.j_mizu_f?60<this.co_j.vx&&(this.co_j.vx=60):120<this.co_j.vx&&(this.co_j.vx=120),this.co_j.vx<0&&!Tj?(this.co_j.pt=108,this.co_j.ac=0):(this.co_j.pt=105+(this.co_j.ac>>1),this.co_j.ac++,3<this.co_j.ac&&(this.co_j.ac=0))):(this.j_mizu_f?40<this.co_j.vx&&(this.co_j.vx=40):60<this.co_j.vx&&(this.co_j.vx=60),this.co_j.vx<0&&!Tj?(this.co_j.pt=108,this.co_j.ac=0):(this.co_j.pt=103+(this.co_j.ac>>1),this.co_j.ac++,3<this.co_j.ac&&(this.co_j.ac=0))),this.co_j.muki=1):this.co_j.vx<0?(Tj?this.co_j.vx++:this.co_j.vx+=5,0<this.co_j.vx&&(this.co_j.vx=0),this.j_hashiru_f||Tj?(this.co_j.pt=107,this.co_j.ac=0):(this.co_j.pt=103+(this.co_j.ac>>1),this.co_j.ac++,3<this.co_j.ac&&(this.co_j.ac=0)),this.co_j.muki=0):0<this.co_j.vx?(Tj?this.co_j.vx--:this.co_j.vx-=5,this.co_j.vx<0&&(this.co_j.vx=0),this.j_hashiru_f||Tj?(this.co_j.pt=107,this.co_j.ac=0):(this.co_j.pt=103+(this.co_j.ac>>1),this.co_j.ac++,3<this.co_j.ac&&(this.co_j.ac=0)),this.co_j.muki=1):this.co_j.ac=0):(this.gk.left_f?!this.j_mizu_f&&-60<this.co_j.vx&&(this.co_j.vx-=10,this.co_j.vx<-60&&(this.co_j.vx=-60)):this.gk.right_f&&!this.j_mizu_f&&this.co_j.vx<60&&(this.co_j.vx+=10,60<this.co_j.vx&&(this.co_j.vx=60)),this.j_mizu_f?1<this.j_mizu_ac?this.co_j.pt=84:this.co_j.pt=83:0==this.j_jump_type?this.co_j.vy<20?this.co_j.pt=101:this.co_j.pt=102:2==this.j_jump_type?c.abs(this.co_j.vx)<=60?this.co_j.pt=103:this.co_j.pt=105:3==this.j_jump_type?this.co_j.pt=119:4==this.j_jump_type?this.co_j.pt=100:this.co_j.pt=109,this.co_j.ac=2),this.j_jdai_f&&(this.co_j.vx=0,this.co_j.pt=100,this.co_j.ac=0),this.co_j.vx<0){if(this.co_j.x+=s(this.co_j.vx/10),this.a_hf)for(var ak=0;ak<=this.a_kazu;ak++)if(this.co_a[ak].gf){var bk=this.co_a[ak];100<=bk.c&&bk.c<200?this.co_j.x+15>=bk.x&&this.co_j.x<=bk.x+64&&this.co_j.y+31>=bk.y&&this.co_j.y<=bk.y+13&&(this.co_j.x=bk.x+65,this.co_j.vx=0):300==bk.c?this.co_j.x+15>=bk.x&&this.co_j.x<=bk.x+48&&this.co_j.y+31>=bk.y&&this.co_j.y<=bk.y+31&&(this.co_j.x=bk.x+49,this.co_j.vx=0):400==bk.c?this.co_j.x+15>=bk.x&&this.co_j.x<=bk.x+80&&this.co_j.y+31>=bk.y&&this.co_j.y<=bk.y+63&&(this.co_j.x=bk.x+81,this.co_j.vx=0):500==bk.c?this.co_j.x+15>=bk.x&&this.co_j.x<=bk.x+80&&this.co_j.y+31>=bk.y&&this.co_j.y<=bk.y+13&&(this.co_j.x=bk.x+81,this.co_j.vx=0):600==bk.c?this.co_j.x+15>=bk.x&&this.co_j.x<=bk.x+48&&this.co_j.y+31>=bk.y+16&&this.co_j.y<=bk.y+47&&(this.co_j.x=bk.x+49,this.co_j.vx=0):700==bk.c&&this.co_j.x+15>=bk.x&&this.co_j.x<=bk.x+16&&this.co_j.y+31>=bk.y&&this.co_j.y<=bk.y+31&&(this.co_j.x=bk.x+17,this.co_j.vx=0)}var ck=this.co_j.x+15>>5,dk=this.maps.map_bg[ck][this.co_j.y>>5],ek=this.co_j.y+31>>5,fk=this.maps.map_bg[ck][ek];(20<=dk||20<=fk)&&(this.co_j.x=32*ck+17,this.co_j.vx=0)}else if(0<this.co_j.vx){if(this.co_j.x+=s(this.co_j.vx/10),this.a_hf)for(var gk=0;gk<=this.a_kazu;gk++)if(this.co_a[gk].gf){var hk=this.co_a[gk];100<=hk.c&&hk.c<200?this.co_j.x+15>=hk.x&&this.co_j.x<=hk.x+64&&this.co_j.y+31>=hk.y&&this.co_j.y<=hk.y+13&&(this.co_j.x=hk.x-16,this.co_j.vx=0):300==hk.c?this.co_j.x+15>=hk.x&&this.co_j.x<=hk.x+48&&this.co_j.y+31>=hk.y&&this.co_j.y<=hk.y+31&&(this.co_j.x=hk.x-16,this.co_j.vx=0):400==hk.c?this.co_j.x+15>=hk.x&&this.co_j.x<=hk.x+80&&this.co_j.y+31>=hk.y&&this.co_j.y<=hk.y+63&&(this.co_j.x=hk.x-16,this.co_j.vx=0):500==hk.c?this.co_j.x+15>=hk.x&&this.co_j.x<=hk.x+80&&this.co_j.y+31>=hk.y&&this.co_j.y<=hk.y+13&&(this.co_j.x=hk.x-16,this.co_j.vx=0):600==hk.c?this.co_j.x+15>=hk.x&&this.co_j.x<=hk.x+48&&this.co_j.y+31>=hk.y+16&&this.co_j.y<=hk.y+47&&(this.co_j.x=hk.x-16,this.co_j.vx=0):700==hk.c&&this.co_j.x+15>=hk.x&&this.co_j.x<=hk.x+16&&this.co_j.y+31>=hk.y&&this.co_j.y<=hk.y+31&&(this.co_j.x=hk.x-16,this.co_j.vx=0)}var ik=this.co_j.x+15>>5,jk=this.maps.map_bg[ik][this.co_j.y>>5],kk=this.co_j.y+31>>5,lk=this.maps.map_bg[ik][kk];(20<=jk||20<=lk)&&(this.co_j.x=32*ik-16,this.co_j.vx=0)}if(this.co_j.jimen_f)if(1<=this.tr1_c&&this.tr1_c<=5)if(20<=this.maps.getBGCode(this.co_j.x+15,this.co_j.y-1)){if(1==this.tr1_c&&40==this.maps.getBGCode(this.co_j.x+15,this.co_j.y-1)){var mk=this.co_j.x+15>>5,nk=this.co_j.y-1>>5;this.hAttack(mk,nk)}if(Uj=this.maps.getBGCode(this.co_j.x+15,this.co_j.y-1),this.j_helm_f&&(20==Uj||69==Uj&&1==this.suberuyuka_hkf)){this.tr1_c=6;var ok=this.co_j.x+15>>5,pk=this.co_j.y-1>>5;4==this.maps.map_bg[this.co_j.x+15>>5][1+(this.co_j.y-1>>5)]?this.maps.putBGCode(ok,pk,4):this.maps.putBGCode(ok,pk,0),this.mSet2(32*ok,32*pk,80,12,-24),this.mSet2(32*ok,32*pk,80,-12,-24),this.jZutuki(32*ok,32*pk-32,0)}}else if(this.j_mizu_f)this.j_jump_type=0,this.co_j.pt=83,this.co_j.ac=0,this.j_mizu_ac=0,this.j_jet_kf=!1,this.j_jdai_f?(this.co_j.y=32*(this.co_j.y>>5),this.co_j.vy=-120):50<c.abs(this.co_j.vx)?this.co_j.vy=-90:this.co_j.vy=-70,this.j_jump_level=0;else{this.j_jump_type=0,this.co_j.pt=101,this.co_j.ac=0,this.j_fire_f&&(0==this.co_j.muki?this.jmSet(this.co_j.x,this.co_j.y,100):this.jmSet(this.co_j.x,this.co_j.y,105)),this.j_jet_kf=!1;var qk=c.abs(this.co_j.vx);if(this.j_jdai_f)this.co_j.y=32*(this.co_j.y>>5),this.co_j.vy=-410,this.j_jump_level=5,this.co_a[this.j_a_id].c3<=1&&(this.co_j.vy=-230);else if(0==qk)this.co_j.vy=-150,this.j_jump_level=1;else if(qk<60)this.co_j.vy=-230,this.j_jump_level=2;else if(60==qk)this.co_j.vy=-260,this.j_jump_level=3;else if(qk<120)this.co_j.vy=-290,this.j_jump_level=4;else if(this.co_j.vy=-340,this.j_jump_level=5,(Uj=this.maps.map_bg[this.co_j.x+15>>5][this.co_j.y-1>>5])<=9){for(var rk=0;rk<=5;rk++)this.j_zan_x[rk]=Vj,this.j_zan_y[rk]=Wj,this.j_zan_pt[rk]=101,this.j_zan_pth[rk]=this.co_j.muki;this.j_zan_p=0,this.j_zan_c=0,this.j_zan_nagasa=5,this.j_zan_f=!0}}else this.co_j.vy=0;else if(this.j_mizu_f)if(this.gk.left_f?this.co_j.muki=0:this.gk.right_f&&(this.co_j.muki=1),1==this.tr1_c){var sk=!1;(Uj=this.maps.map_bg[this.co_j.x+15>>5][(this.co_j.y+15>>5)-1])<=9&&4!=Uj&&(sk=!0),8!=Uj&&9!=Uj||4!=this.maps.map_bg[(this.co_j.x+15>>5)-1][(this.co_j.y+15>>5)-1]||(sk=!1),sk&&(this.co_j.y+15)%32<=8?(this.j_jump_type=0,this.co_j.pt=101,this.co_j.ac=0,this.co_j.vy=-180,this.j_jump_level=1,this.co_j.y=32*(this.co_j.y+15>>5)-14,Sj=!(this.j_jet_kf=!1),this.mSet(this.co_j.x,32*(this.co_j.y+15>>5)-32,50)):(this.j_jump_type=0,this.co_j.ac=0,this.j_mizu_ac<=0&&(this.j_mizu_ac=4,this.co_j.pt=84),this.co_j.vy=-40,(this.j_jump_level=0)==this.co_j.muki?(this.co_j.vx-=30,this.co_j.vx<-60&&(this.co_j.vx=-60)):(this.co_j.vx+=30,60<this.co_j.vx&&(this.co_j.vx=60)))}else this.co_j.vx<0?(0==this.co_j.muki?this.co_j.vx++:this.co_j.vx+=2,0<this.co_j.vx&&(this.co_j.vx=0)):0<this.co_j.vx&&(1==this.co_j.muki?this.co_j.vx--:this.co_j.vx-=2,this.co_j.vx<0&&(this.co_j.vx=0)),this.co_j.vy<40?(this.co_j.vy+=5,40<this.co_j.vy&&(this.co_j.vy=40)):40<this.co_j.vy&&(this.co_j.vy-=20,this.co_j.vy<40&&(this.co_j.vy=40)),0<this.j_mizu_ac?(this.j_mizu_ac--,1<this.j_mizu_ac?this.co_j.pt=84:this.co_j.pt=83):this.co_j.pt=83;else this.co_j.vy+=25,160<this.co_j.vy&&(this.co_j.vy=160),1==this.tr1_c&&this.j_fire_f&&(0==this.co_j.muki?this.jmSet(this.co_j.x,this.co_j.y,100):this.jmSet(this.co_j.x,this.co_j.y,105)),0==this.tr1_c&&(this.j_jet_kf=!0),this.j_jet_kf&&0<this.tr1_c&&0<this.j_jet_fuel&&!this.j_mizu_f?(this.j_jet_c=100,2==this.j_jump_type&&(this.j_jump_type=0)):96<this.j_jet_c?this.j_jet_c--:this.j_jet_c=0,96<=this.j_jet_c&&(this.j_jet_fuel--,this.j_jet_fuel<0&&(this.j_jet_fuel=0,this.j_jet_c=0),this.gk.left_f?this.co_j.muki=0:this.gk.right_f&&(this.co_j.muki=1),-150<this.co_j.vy&&(this.co_j.vy-=50,this.co_j.vy<-150&&(this.co_j.vy=-150)));if(this.co_j.vy<0){var tk=this.co_j.x+15>>5,uk=this.co_j.y>>5,wk=(this.maps.map_bg[tk][uk],this.co_j.vy);if(wk<-320&&(wk=-320),this.co_j.y+=s(wk/10),this.j_mizu_f&&!Sj){var xk=this.maps.getBGCode(this.co_j.x+15,this.co_j.y+15),yk=!1;xk<=9&&4!=xk&&(yk=!0),8!=xk&&9!=xk||4!=this.maps.map_bg[(this.co_j.x+15>>5)-1][this.co_j.y+15>>5]||(yk=!1),yk&&(this.co_j.y=32*(this.co_j.y+15>>5)+17,this.co_j.vy=-10)}if(this.a_hf)for(var zk=0;zk<=this.a_kazu;zk++)if(this.co_a[zk].gf){var Ak=this.co_a[zk];100<=Ak.c&&Ak.c<200?this.co_j.x+15>=Ak.x&&this.co_j.x<=Ak.x+64&&this.co_j.y+31>=Ak.y&&this.co_j.y<=Ak.y+13&&(this.co_j.y=Ak.y+14,this.co_j.vy=0):300==Ak.c?this.co_j.x+15>=Ak.x&&this.co_j.x<=Ak.x+48&&this.co_j.y+31>=Ak.y&&this.co_j.y<=Ak.y+31&&(this.co_j.y=Ak.y+32,this.co_j.vy=0):400==Ak.c?this.co_j.x+15>=Ak.x&&this.co_j.x<=Ak.x+80&&this.co_j.y+31>=Ak.y&&this.co_j.y<=Ak.y+63&&(this.co_j.y=Ak.y+64,this.co_j.vy=0):500==Ak.c?this.co_j.x+15>=Ak.x&&this.co_j.x<=Ak.x+80&&this.co_j.y+31>=Ak.y&&this.co_j.y<=Ak.y+13&&(this.co_j.y=Ak.y+14,this.co_j.vy=0):600==Ak.c?this.co_j.x+15>=Ak.x&&this.co_j.x<=Ak.x+48&&this.co_j.y+31>=Ak.y+16&&this.co_j.y<=Ak.y+47&&(this.co_j.y=Ak.y+48,this.co_j.vy=0):700==Ak.c&&this.co_j.x+15>=Ak.x&&this.co_j.x<=Ak.x+16&&this.co_j.y+31>=Ak.y&&this.co_j.y<=Ak.y+31&&(this.co_j.y=Ak.y+32,this.co_j.vy=0)}var Bk=this.co_j.y>>5,Ck=this.maps.map_bg[this.co_j.x+15>>5][Bk];if(20<=Ck){if(this.co_j.y=32*Bk+32,this.co_j.vy=0,40==Ck){var Dk=this.co_j.x+15>>5,Ek=this.co_j.y-1>>5;this.hAttack(Dk,Ek)}if(this.j_helm_f&&(20==Ck||69==Ck&&1==this.suberuyuka_hkf)){var Fk=this.co_j.x+15>>5,Gk=Bk;4==this.maps.map_bg[Fk][Gk+1]?this.maps.putBGCode(Fk,Gk,4):this.maps.putBGCode(Fk,Gk,0),this.mSet2(32*Fk,32*Gk,80,12,-24),this.mSet2(32*Fk,32*Gk,80,-12,-24),this.jZutuki(32*Fk,32*Gk-32,0)}}if(Bk<uk){if(this.gk.right_f){var Hk=this.maps.map_bg[this.co_j.x+16>>5][uk],Ik=this.maps.map_bg[this.co_j.x+16>>5][Bk];Hk<=9&&20<=Ik&&(this.co_j.y=32*Bk+32,this.co_j.vy=0)}if(this.gk.left_f){var Jk=this.maps.map_bg[this.co_j.x+14>>5][uk],Kk=this.maps.map_bg[this.co_j.x+14>>5][Bk];Jk<=9&&20<=Kk&&(this.co_j.y=32*Bk+32,this.co_j.vy=0)}}}else if(0<this.co_j.vy){var Lk=this.co_j.x+15>>5,Mk=this.co_j.y+31>>5;this.maps.map_bg[Lk][Mk];if(this.co_j.y+=s(this.co_j.vy/10),this.a_hf)for(var Ok=0;Ok<=this.a_kazu;Ok++)if(this.co_a[Ok].gf){var Pk=this.co_a[Ok];100<=Pk.c&&Pk.c<200?this.co_j.x+15>=Pk.x&&this.co_j.x<=Pk.x+64&&this.co_j.y+31>=Pk.y&&this.co_j.y<=Pk.y+13&&(this.co_j.y=Pk.y-32,this.co_j.vy=0):300==Pk.c?this.co_j.x+15>=Pk.x&&this.co_j.x<=Pk.x+48&&this.co_j.y+31>=Pk.y&&this.co_j.y<=Pk.y+31&&(this.co_j.y=Pk.y-32,this.co_j.vy=0):400==Pk.c?this.co_j.x+15>=Pk.x&&this.co_j.x<=Pk.x+80&&this.co_j.y+31>=Pk.y&&this.co_j.y<=Pk.y+63&&(this.co_j.y=Pk.y-32,this.co_j.vy=0):500==Pk.c?this.co_j.x+15>=Pk.x&&this.co_j.x<=Pk.x+80&&this.co_j.y+31>=Pk.y&&this.co_j.y<=Pk.y+13&&(this.co_j.y=Pk.y-32,this.co_j.vy=0):600==Pk.c?this.co_j.x+15>=Pk.x&&this.co_j.x<=Pk.x+48&&this.co_j.y+31>=Pk.y+16&&this.co_j.y<=Pk.y+47&&(this.co_j.y=Pk.y+16-32,this.co_j.vy=0):700==Pk.c&&this.co_j.x+15>=Pk.x&&this.co_j.x<=Pk.x+16&&this.co_j.y+31>=Pk.y&&this.co_j.y<=Pk.y+31&&(this.co_j.y=Pk.y-32,this.co_j.vy=0)}var Qk=this.co_j.y+31>>5;if(20<=this.maps.map_bg[Lk][Qk]){this.co_j.y=32*Qk-32,this.co_j.vy=0,Qk=this.co_j.y+31>>5;this.maps.map_bg[Lk][Qk]}if(Mk<Qk){if(this.gk.right_f){var Tk=this.maps.map_bg[this.co_j.x+16>>5][Mk],Uk=this.maps.map_bg[this.co_j.x+16>>5][Qk];Tk<=9&&20<=Uk&&(this.co_j.y=32*Qk-32,this.co_j.vy=0,this.co_j.pt=103,this.co_j.ac=1,this.co_j.x++)}if(this.gk.left_f){var Vk=this.maps.map_bg[this.co_j.x+14>>5][Mk],Wk=this.maps.map_bg[this.co_j.x+14>>5][Qk];Vk<=9&&20<=Wk&&(this.co_j.y=32*Qk-32,this.co_j.vy=0,this.co_j.pt=103,this.co_j.ac=1,this.co_j.x--)}}if(!this.j_mizu_f){var Xk=this.maps.getBGCode(this.co_j.x+15,this.co_j.y+15);4==Xk?(this.mSet(this.co_j.x,32*(this.co_j.y+15>>5)-32,50),this.j_mizu_awa_c=38,this.co_j.vx<-60?this.co_j.vx=-60:60<this.co_j.vx&&(this.co_j.vx=60)):8!=Xk&&9!=Xk||4!=this.maps.map_bg[(this.co_j.x+15>>5)-1][this.co_j.y+15>>5]||(this.mSet(this.co_j.x,32*(this.co_j.y+15>>5)-32,50),this.j_mizu_awa_c=38,this.co_j.vx<-60?this.co_j.vx=-60:60<this.co_j.vx&&(this.co_j.vx=60))}}if(1==this.tr2_c)if(0<this.j_gr_kazu?3==this.grenade_type||4==this.grenade_type?0==this.co_j.muki?this.jmSet(this.co_j.x,this.co_j.y,60):this.jmSet(this.co_j.x,this.co_j.y,65):0==this.co_j.muki?this.jmSet(this.co_j.x,this.co_j.y,200):this.jmSet(this.co_j.x,this.co_j.y,205):!this.j_fire_f||this.j_mizu_f&&!this.j_fire_mkf||(0==this.co_j.muki?this.jmSet(this.co_j.x,this.co_j.y,100):this.jmSet(this.co_j.x,this.co_j.y,105)),Uj=this.maps.getBGCode(this.co_j.x+15,this.co_j.y+32),this.j_drell_f&&(20==Uj||69==Uj&&1==this.suberuyuka_hkf)){var Yk=this.co_j.x+15>>5,Zk=this.co_j.y+32>>5;4==this.maps.map_bg[this.co_j.x+15>>5][(this.co_j.y+32>>5)-1]?this.maps.putBGCode(Yk,Zk,4):this.maps.putBGCode(Yk,Zk,0),this.mSet2(32*Yk,32*Zk,80,12,-24),this.mSet2(32*Yk,32*Zk,80,-12,-24),this.jZutuki(32*Yk,32*Zk-32,0),this.co_j.x=32*Yk,this.co_j.vx=0,this.co_j.vy=0,this.j_jump_type=3,this.co_j.c=120,this.co_j.c1=0,this.co_j.pt=119}else this.j_tail_f&&(this.j_tail_ac<=0||8<=this.j_tail_ac)&&(this.j_tail_ac=1,this.co_j.pt=116,this.j_zan_f=!1);if(1<=this.j_tail_ac)if(this.j_zan_f=!1,this.j_tail_ac++,this.j_tail_ac<=4)this.co_j.pt=116,1!=this.j_tail_type&&3!=this.j_tail_type||(0==this.co_j.muki?this.jZutuki(this.co_j.x-32,this.co_j.y,1):this.jZutuki(this.co_j.x+32,this.co_j.y,1));else if(this.j_tail_ac<=5){if(this.co_j.pt=1e3,1!=this.j_tail_type&&3!=this.j_tail_type||(0==this.co_j.muki?this.jZutuki(this.co_j.x-32,this.co_j.y,1):this.jZutuki(this.co_j.x+32,this.co_j.y,1)),2==this.j_tail_type||3==this.j_tail_type){var $k;$k=1==this.co_j.muki?this.co_j.x+40>>5:this.co_j.x-8>>5;var _k=this.co_j.y+15>>5;(20==this.maps.map_bg[$k][_k]||69==this.maps.map_bg[$k][_k]&&1==this.suberuyuka_hkf)&&(4==this.maps.map_bg[$k-1][_k]?this.maps.putBGCode($k,_k,4):this.maps.putBGCode($k,_k,0),this.mSet2(32*$k,32*_k,80,12,-24),this.mSet2(32*$k,32*_k,80,-12,-24),this.jZutuki(32*$k,32*_k-32,0))}}else this.j_tail_ac<=7?this.co_j.pt=1e3:this.j_tail_ac<=9?this.co_j.pt=116:(this.co_j.pt=116,this.j_tail_ac=0);switch(Uj=this.maps.map_bg[this.co_j.x+15>>5][this.co_j.y+15>>5]){case 9:4==this.maps.map_bg[(this.co_j.x+15>>5)-1][this.co_j.y+15>>5]?(this.maps.putBGCode(this.co_j.x+15>>5,this.co_j.y+15>>5,4),this.j_mizu_f=!0):this.maps.putBGCode(this.co_j.x+15>>5,this.co_j.y+15>>5,0),this.addScore(5);break;case 8:4==this.maps.map_bg[(this.co_j.x+15>>5)-1][this.co_j.y+15>>5]?(this.maps.putBGCode(this.co_j.x+15>>5,this.co_j.y+15>>5,4),this.j_mizu_f=!0):this.maps.putBGCode(this.co_j.x+15>>5,this.co_j.y+15>>5,0),this.stage_cc=1,2<=this.stage_max&&this.stage>=this.stage_max?this.addScore(1e3):this.addScore(100);break;case 5:case 6:this.co_j.y=32*(this.co_j.y+15>>5),this.jShinu(1)}(this.co_j.y>=this.ochiru_y||this.j_mizu_f&&this.co_j.y>=this.ochiru_y-16)&&(this.co_j.c=210,this.co_j.c1=0,this.co_j.y=this.ochiru_y+64,this.j_jet_c=0,this.j_v_c=0),this.co_j.wx=this.co_j.x-this.maps.wx,this.co_j.wy=this.co_j.y-this.maps.wy,this.co_j.wx<96?this.maps.wx=this.co_j.x-96:224<this.co_j.wx&&(this.maps.wx=this.co_j.x-224),this.co_j.wy<78?this.maps.wy=this.co_j.y-78:176<this.co_j.wy&&(this.maps.wy=this.co_j.y-176),this.maps.wx<this.maps.wx_mini?this.maps.wx=this.maps.wx_mini:this.maps.wx>this.maps.wx_max&&(this.maps.wx=this.maps.wx_max),this.maps.wy<this.maps.wy_mini?this.maps.wy=this.maps.wy_mini:this.maps.wy>this.maps.wy_max&&(this.maps.wy=this.maps.wy_max)},G.prototype.jMove=function(){this.j_mizu_f=!1;var bl=this.maps.getBGCode(this.co_j.x+15,this.co_j.y+15);if(4==bl?(this.j_mizu_f=!0,this.j_jet_c=0,this.j_mizu_awa_c++,44==this.j_mizu_awa_c||54==this.j_mizu_awa_c?this.mSet(this.co_j.x,this.co_j.y+4,60):54<this.j_mizu_awa_c&&(this.j_mizu_awa_c=0)):8!=bl&&9!=bl||4!=this.maps.map_bg[(this.co_j.x+15>>5)-1][this.co_j.y+15>>5]||(this.j_mizu_f=!0,this.j_jet_c=0,this.j_mizu_awa_c++,44==this.j_mizu_awa_c||54==this.j_mizu_awa_c?this.mSet(this.co_j.x,this.co_j.y+4,60):54<this.j_mizu_awa_c&&(this.j_mizu_awa_c=0)),this.gk.tr1_f?this.tr1_c<6&&this.tr1_c++:this.tr1_c=0,this.gk.tr2_f?this.tr2_c<2&&this.tr2_c++:this.tr2_c=0,this.gk.left_f?this.gk.left_c<2&&this.gk.left_c++:this.gk.left_c=0,this.gk.right_f?this.gk.right_c<2&&this.gk.right_c++:this.gk.right_c=0,1==this.gk.left_c?(0<this.left_dcc?this.j_hashiru_f=!0:this.j_hashiru_f=!1,this.left_dcc=8):0<this.left_dcc&&this.left_dcc--,1==this.gk.right_c?(0<this.right_dcc?this.j_hashiru_f=!0:this.j_hashiru_f=!1,this.right_dcc=8):0<this.right_dcc&&this.right_dcc--,110==this.co_j.c)this.gk.left_f?(this.co_j.vx-=10,this.co_j.vx<-60&&(this.co_j.vx=-60)):this.gk.right_f&&(this.co_j.vx+=10,60<this.co_j.vx&&(this.co_j.vx=60)),this.co_j.c1++,2<this.co_j.c1&&(this.co_j.c=100),this.co_j.pt=109;else if(120==this.co_j.c)this.co_j.c1++,6<this.co_j.c1&&(this.co_j.c=100),this.co_j.pt=119;else if(200==this.co_j.c)this.co_j.vy+=25,100<this.co_j.vy&&(this.co_j.vy=100),this.co_j.y+=s(this.co_j.vy/10),this.co_j.wx=this.co_j.x-this.maps.wx,this.co_j.wy=this.co_j.y-this.maps.wy,this.co_j.c2<100?(this.co_j.c1<=0?(this.co_j.pt=110,this.co_j.muki=0):this.co_j.c1<=1?(this.co_j.pt=111,this.co_j.muki=0,this.co_j.c2++,4<this.co_j.c2&&(this.co_j.c2=100)):(this.co_j.c1<=2?this.co_j.pt=112:this.co_j.pt=113,this.co_j.muki=0),this.co_j.c1++,3<this.co_j.c1&&(this.co_j.c1=0)):(this.co_j.pt=112,this.co_j.muki=0),320<=this.co_j.wy&&(this.co_j.c=210,this.co_j.c1=0,this.co_j.y=this.maps.wy+320+32,this.co_j.pt=0);else if(210==this.co_j.c)this.stage_cc<=0&&(this.co_j.c1++,16<this.co_j.c1&&(this.j_left--,this.j_left<0?(this.j_left=0,this.ml_mode=300):2==this.stage_select?this.ml_mode=250:this.ml_mode=90));else if(220==this.co_j.c)this.co_j.pt=114,this.co_j.c1++,25<=this.co_j.c1&&(this.co_j.c=210,this.co_j.c1=0);else if(230==this.co_j.c)this.co_j.pt=115,this.co_j.c1++,25<=this.co_j.c1&&(this.co_j.c=210,this.co_j.c1=0);else if(240==this.co_j.c)100<=this.co_j.c2&&(this.co_j.y+=10),this.co_j.wx=this.co_j.x-this.maps.wx,this.co_j.wy=this.co_j.y-this.maps.wy,this.co_j.c2<100?(this.co_j.c1<=0?(this.co_j.pt=110,this.co_j.muki=0):this.co_j.c1<=1?(this.co_j.pt=111,this.co_j.muki=0,this.co_j.c2++,4<this.co_j.c2&&(this.co_j.c2=100)):(this.co_j.c1<=2?this.co_j.pt=112:this.co_j.pt=113,this.co_j.muki=0),this.co_j.c1++,3<this.co_j.c1&&(this.co_j.c1=0)):(this.co_j.pt=112,this.co_j.muki=0),320<=this.co_j.wy&&(this.co_j.c=210,this.co_j.c1=0,this.co_j.y=this.maps.wy+320+32,this.co_j.pt=0);else if(300==this.co_j.c)this.co_j.pt=1100,this.co_j.c1++,32<=this.co_j.c1&&(this.co_j.c=310,this.co_j.c1=0,this.co_j.pt=1110),this.co_j.wx=this.co_j.x-this.maps.wx,this.co_j.wy=this.co_j.y-this.maps.wy,this.co_j.wx<96?this.maps.wx=this.co_j.x-96:224<this.co_j.wx&&(this.maps.wx=this.co_j.x-224),this.co_j.wy<78?this.maps.wy=this.co_j.y-78:176<this.co_j.wy&&(this.maps.wy=this.co_j.y-176),this.maps.wx<this.maps.wx_mini?this.maps.wx=this.maps.wx_mini:this.maps.wx>this.maps.wx_max&&(this.maps.wx=this.maps.wx_max),this.maps.wy<this.maps.wy_mini?this.maps.wy=this.maps.wy_mini:this.maps.wy>this.maps.wy_max&&(this.maps.wy=this.maps.wy_max);else if(310==this.co_j.c){if(this.co_j.pt=1110,this.stage_cc<=0)if(this.co_j.c1++,2==this.dokan_mode){if(10<=this.co_j.c1){var cl;for(this.co_j.c=320,this.co_j.c1=42,cl=0;cl<=this.a_kazu;cl++)if(300==this.co_a[cl].c&&1!=this.co_a[cl].c4&&this.co_j.c2==this.co_a[cl].c3&&(0==this.sl_step||1==this.sl_step||10==this.sl_step||11==this.sl_step)){this.co_j.x=this.co_a[cl].x+16,this.co_j.y=this.co_a[cl].y-32,this.co_a[cl].c4=1;break}this.a_kazu;for(var dl=0;dl<=this.a_kazu;dl++)(100<=this.co_a[dl].c||60==this.co_a[dl].c)&&(this.co_a[dl].gf=!0,300!=this.co_a[dl].c||this.co_j.x==this.co_a[dl].x+16&&this.co_j.y==this.co_a[dl].y-32||(this.co_a[dl].c4=0));10!=this.sl_step&&11!=this.sl_step||(this.maps.wx=this.co_j.x-192,this.ks_wx=this.maps.wx),this.co_j.wx=this.co_j.x-this.maps.wx,this.co_j.wy=this.co_j.y-this.maps.wy,this.co_j.wx<96?this.maps.wx=this.co_j.x-96:224<this.co_j.wx&&(this.maps.wx=this.co_j.x-224),this.co_j.wy<78?this.maps.wy=this.co_j.y-78:176<this.co_j.wy&&(this.maps.wy=this.co_j.y-176),this.maps.wx<this.maps.wx_mini?this.maps.wx=this.maps.wx_mini:this.maps.wx>this.maps.wx_max&&(this.maps.wx=this.maps.wx_max),this.maps.wy<this.maps.wy_mini?this.maps.wy=this.maps.wy_mini:this.maps.wy>this.maps.wy_max&&(this.maps.wy=this.maps.wy_max)}}else if(10==this.co_j.c1){var el;el=1==this.co_j.c2?this.gg.ap.getParameter("url2"):2==this.co_j.c2?this.gg.ap.getParameter("url3"):3==this.co_j.c2?this.gg.ap.getParameter("url4"):this.gg.ap.getParameter("url1"),location.href=el}else 80<this.co_j.c1&&(this.ml_mode=50)}else 320==this.co_j.c&&(this.co_j.pt=1100,this.co_j.c1--,this.co_j.c1<=0&&(this.co_j.c=100,this.co_j.c1=0,this.co_j.pt=100))},G.prototype.jShinu=function(fl){this.co_j.c1=0,this.co_j.c2=0,this.j_zan_f=!1,this.j_jet_c=0,this.j_v_c=0,1==fl?this.co_j.c=240:2==fl?(this.co_j.c=200,this.co_j.vy=-280):3==fl&&(this.co_j.c=220)},G.prototype.jZutuki=function(gl,hl,il){for(var jl=0;jl<=this.t_kazu;jl++)if(100<=this.co_t[jl].c){var kl=this.co_t[jl],ll=!1;1==il?c.abs(gl-kl.x)<25&&c.abs(hl-kl.y)<23&&(ll=!0):c.abs(gl-kl.x)<34&&hl==kl.y&&(ll=!0),ll&&(gl>kl.x?(kl.pth=1,kl.vx=-7):(kl.pth=0,kl.vx=7),kl.c=52,kl.vy=-32)}},G.prototype.tSet=function(ml,nl,ol,pl){for(var ql=0;ql<=119;ql++)if(!(0<this.co_t[ql].c)){var rl=this.co_t[ql];switch(rl.c=10,rl.c1=pl,rl.c2=ol,rl.c3=ml,rl.c4=nl,rl.x=ml,rl.y=nl,this.t_kazu++,ol){case 500:rl.y=nl-12,rl.c3=nl-52,rl.c4=nl-12,rl.vy=-4;break;case 600:rl.c3=0;break;case 900:this.airms_kf&&(rl.c2=950)}break}},G.prototype.tSetBoss=function(sl,tl,ul,vl){this.t_kazu=129;for(var wl=120;wl<=129;wl++)if(!(0<this.co_t[wl].c)){var xl=this.co_t[wl];switch(xl.c=ul,xl.c1=0,xl.c2=0,xl.c3=sl,xl.c4=tl,xl.x=sl,xl.y=tl,xl.vx=vl,ul){case 150:xl.vx=vl,xl.vy=-28,xl.vx<=0?xl.muki=0:xl.muki=1;break;case 450:xl.vx=vl,xl.vy=-22,xl.vx<=0?xl.muki=0:xl.muki=1;break;case 650:xl.vx=vl,xl.vy=-28,xl.vx<=0?xl.muki=0:xl.muki=1}break}},G.prototype.tMove=function(){for(var yl=!1,zl=0;zl<=this.t_kazu;zl++)if(0!=this.co_t[zl].c&&this.co_t[zl].x>=this.maps.wx-512){var Al=this.co_t[zl],Bl=Al.x,Cl=Al.y;switch(Al.c){case 10:this.maps.wx>=Al.c1&&(Al.c=Al.c2,Al.c1=0,Al.c2=0);break;case 50:Al.c1++,14<Al.c1&&(Al.c=0,this.addScore(10));break;case 52:Bl+=Al.vx,Al.vy+=5,25<Al.vy&&(Al.vy=25),(Cl+=Al.vy)>this.maps.wy+320&&(Al.c=0,this.addScore(10));break;case 100:if(Bl+12>>5<Bl+15>>5){var Dl=this.maps.map_bg[Bl+15>>5][Cl+31>>5];11==Dl||14==Dl?Cl=32*(Cl+31>>5)-32:10!=Dl&&12!=Dl||(Cl=32*(Cl+31>>5))}Bl-=3;var El=this.maps.map_bg[Bl+15>>5][Cl+31>>5];if(10<=El&&El<=15)Cl=32*(Cl+31>>5),Cl=this.sakamichiY(Bl,Cl);else{var Fl=this.maps.map_bg[Bl>>5][Cl+32>>5];Fl<=9&&(Bl=32*(Bl>>5)+32,10<=(Fl=this.maps.map_bg[Bl+15>>5][Cl+31>>5])&&Fl<=15&&(Bl-=15),Al.c=105),20<=(Fl=this.maps.map_bg[Bl>>5][Cl+31>>5])&&(Bl=32*(Bl>>5)+32,Al.c=105),10<=(Fl=this.maps.map_bg[Bl+15>>5][Cl+32>>5])&&Fl<=15&&(Cl=32*(Cl+32>>5),Cl=this.sakamichiY(Bl,Cl))}Al.pt=140+this.g_ac,Al.pth=0;break;case 105:if(Bl+15>>5<Bl+18>>5){var Gl=this.maps.map_bg[Bl+15>>5][Cl+31>>5];10==Gl||13==Gl?Cl=32*(Cl+31>>5)-32:11!=Gl&&15!=Gl||(Cl=32*(Cl+31>>5))}Bl+=3;var Hl=this.maps.map_bg[Bl+15>>5][Cl+31>>5];if(10<=Hl&&Hl<=15)Cl=32*(Cl+31>>5),Cl=this.sakamichiY(Bl,Cl);else{var Il=this.maps.map_bg[Bl+31>>5][Cl+32>>5];Il<=9&&(Bl=32*(Bl+31>>5)-32,10<=(Il=this.maps.map_bg[Bl+15>>5][Cl+31>>5])&&Il<=15&&(Bl+=16),Al.c=100),20<=(Il=this.maps.map_bg[Bl+31>>5][Cl+31>>5])&&(Bl=32*(Bl+31>>5)-32,Al.c=100),10<=(Il=this.maps.map_bg[Bl+15>>5][Cl+32>>5])&&Il<=15&&(Cl=32*(Cl+32>>5),Cl=this.sakamichiY(Bl,Cl))}Al.pt=140+this.g_ac,Al.pth=1;break;case 110:if(Bl+12>>5<Bl+15>>5){var Jl=this.maps.map_bg[Bl+15>>5][Cl+31>>5];11==Jl||14==Jl?Cl=32*(Cl+31>>5)-32:10!=Jl&&12!=Jl||(Cl=32*(Cl+31>>5))}Bl-=3;var Kl=this.maps.map_bg[Bl+15>>5][Cl+31>>5];if(10<=Kl&&Kl<=15)Cl=32*(Cl+31>>5),Cl=this.sakamichiY(Bl,Cl);else{var Ll=Cl+32>>5;if(this.maps.map_bg[Bl+31>>5][Ll]<=9){Bl=32*(Bl+31>>5);var Nl=this.maps.map_bg[Bl+15>>5][Cl+31>>5];10<=Nl&&Nl<=15&&(Bl-=15),Al.c=120}if(Bl<32)Bl<=3&&(Al.c=0);else 20<=this.maps.map_bg[Bl>>5][Cl+31>>5]&&(Bl=32*(Bl>>5)+32,Al.c=115,this.maps.map_bg[Bl+15>>5][Cl+32>>5]<=9&&(Al.c=120));120<=zl&&Bl<this.maps.wx-32&&(Al.c=0);var Pl=this.maps.map_bg[Bl+15>>5][Ll];10<=Pl&&Pl<=15&&(Cl=32*(Cl+32>>5),Cl=this.sakamichiY(Bl,Cl))}Al.pt=140+this.g_ac,Al.pth=0;break;case 115:if(Bl+15>>5<Bl+18>>5){var Ql=this.maps.map_bg[Bl+15>>5][Cl+31>>5];10==Ql||13==Ql?Cl=32*(Cl+31>>5)-32:11!=Ql&&15!=Ql||(Cl=32*(Cl+31>>5))}Bl+=3;var Rl=this.maps.map_bg[Bl+15>>5][Cl+31>>5];if(10<=Rl&&Rl<=15)Cl=32*(Cl+31>>5),Cl=this.sakamichiY(Bl,Cl);else{var Sl=Cl+32>>5;if(this.maps.map_bg[Bl>>5][Sl]<=9){Bl=32*(Bl>>5);var Ul=this.maps.map_bg[Bl+15>>5][Cl+31>>5];10<=Ul&&Ul<=15&&(Bl+=16),Al.c=125}var Vl=this.maps.map_bg[Bl+31>>5][Cl+31>>5];20<=Vl&&(Bl=32*(Bl+31>>5)-32,Al.c=110,this.maps.map_bg[Bl+15>>5][Cl+32>>5]<=9&&(Al.c=125)),120<=zl&&Bl>this.maps.wx+512&&(Al.c=0),10<=(Vl=this.maps.map_bg[Bl+15>>5][Sl])&&Vl<=15&&(Cl=32*(Cl+32>>5),Cl=this.sakamichiY(Bl,Cl))}Al.pt=140+this.g_ac,Al.pth=1;break;case 120:Cl+=5;var Wl=this.maps.map_bg[Bl+15>>5][Cl+31>>5];if(10<=Wl&&Wl<=15){var Xl=this.sakamichiY(Bl,32*(Cl+31>>5));Xl<=Cl&&(Cl=Xl,Al.c=110)}var Yl=Cl+31>>5,Zl=this.maps.map_bg[Bl>>5][Yl],$l=this.maps.map_bg[Bl+31>>5][Yl];(20<=Zl||20<=$l)&&(Cl=32*Yl-32,Al.c=110),Cl>=this.ochiru_y&&(Al.c=0),Al.pt=140,Al.pth=0;break;case 125:Cl+=5;var _l=this.maps.map_bg[Bl+15>>5][Cl+31>>5];if(10<=_l&&_l<=15){var am=this.sakamichiY(Bl,32*(Cl+31>>5));am<=Cl&&(Cl=am,Al.c=115)}var bm=Cl+31>>5,cm=this.maps.map_bg[Bl>>5][bm],dm=this.maps.map_bg[Bl+31>>5][bm];(20<=cm||20<=dm)&&(Cl=32*bm-32,Al.c=115),Cl>=this.ochiru_y&&(Al.c=0),Al.pt=140,Al.pth=1;break;case 150:Al.vx<0&&(20<=this.maps.getBGCode(Bl,Cl)||20<=this.maps.getBGCode(Bl,Cl+31))&&(Bl=32*(Bl>>5)+32,Al.vx=0),0<Al.vx&&(20<=this.maps.getBGCode(Bl+31,Cl)||20<=this.maps.getBGCode(Bl+31,Cl+31))&&(Bl=32*(Bl+31>>5)-32,Al.vx=0),Bl+=Al.vx,Al.vy+=2,18<Al.vy&&(Al.vy=18);var em=(Cl+=Al.vy)+31>>5,fm=this.maps.map_bg[Bl>>5][em],gm=this.maps.map_bg[Bl+31>>5][em];(20<=fm||20<=gm)&&(Cl=32*em-32,1==Al.muki?Al.c=115:Al.c=110),Cl>=this.ochiru_y&&(Al.c=0),Al.pt=140,Al.pth=Al.muki;break;case 200:Al.c1<=0?this.co_j.x>=Bl-240&&this.co_j.x<=Bl+240&&(Al.c=210,Al.vy=-14):Al.c1--,Al.pt=143,Bl+8>=this.co_j.x?Al.pth=0:Al.pth=1;break;case 210:Al.vy++,14<Al.vy&&(Al.vy=14),Cl+=Al.vy,20<=this.maps.getBGCode(Bl+15,Cl+31)&&(Cl=32*(Cl+31>>5)-32,Al.c=200,Al.c1=30),Cl>=this.ochiru_y&&(Al.c=0),0==Al.vy&&(32<c.abs(this.co_j.x-Bl)||Cl<=this.co_j.y)&&this.mSet(Bl,Cl,100),Al.vy<=-1?Al.pt=144:Al.pt=145,Bl+8>=this.co_j.x?Al.pth=0:Al.pth=1;break;case 300:0<Al.c1?(Al.c1++,2==Al.c1||10==Al.c1||18==Al.c1||26==Al.c1?Bl+8>=this.co_j.x?this.mSet(Bl,Cl,200):this.mSet(Bl,Cl,205):86<Al.c1&&(Al.c1=0)):this.co_j.x>=Bl-256&&this.co_j.x<=Bl+256&&(Al.c1=1),Al.pt=150,Bl+8>=this.co_j.x?Al.pth=0:Al.pth=1;break;case 400:Bl-=4,this.maps.getBGCode(Bl,Cl+32)<=9&&(Bl=32*(Bl>>5)+32,Al.c=405),20<=this.maps.getBGCode(Bl,Cl+31)&&(Bl=32*(Bl>>5)+32,Al.c=405),Al.pt=152+this.g_ac,Al.pth=0;break;case 405:Bl+=4,this.maps.getBGCode(Bl+31,Cl+32)<=9&&(Bl=32*(Bl+31>>5)-32,Al.c=400),20<=this.maps.getBGCode(Bl+31,Cl+31)&&(Bl=32*(Bl+31>>5)-32,Al.c=400),Al.pt=152+this.g_ac,Al.pth=1;break;case 410:Bl-=4;var hm=this.maps.map_bg[Bl+15>>5][Cl+31>>5];if(10<=hm&&hm<=15)Cl=32*(Cl+31>>5),Cl=this.sakamichiY(Bl,Cl);else{var im=Cl+32>>5;if(this.maps.map_bg[Bl+31>>5][im]<=9){Bl=32*(Bl+31>>5);var km=this.maps.map_bg[Bl+15>>5][Cl+31>>5];10<=km&&km<=15&&(Bl-=15),Al.c=420}if(Bl<32)Bl<=4&&(Al.c=0);else 20<=this.maps.map_bg[Bl>>5][Cl+31>>5]&&(Bl=32*(Bl>>5)+32,Al.c=415,this.maps.map_bg[Bl+15>>5][Cl+32>>5]<=9&&(Al.c=420));120<=zl&&Bl<this.maps.wx-32&&(Al.c=0);var mm=this.maps.map_bg[Bl+15>>5][im];10<=mm&&mm<=15&&(Cl=32*(Cl+32>>5),Cl=this.sakamichiY(Bl,Cl))}Al.pt=152+this.g_ac,Al.pth=0;break;case 415:Bl+=4;var nm=this.maps.map_bg[Bl+15>>5][Cl+31>>5];if(10<=nm&&nm<=15)Cl=32*(Cl+31>>5),Cl=this.sakamichiY(Bl,Cl);else{var om=Cl+32>>5;if(this.maps.map_bg[Bl>>5][om]<=9){Bl=32*(Bl>>5);var qm=this.maps.map_bg[Bl+15>>5][Cl+31>>5];10<=qm&&qm<=15&&(Bl+=16),Al.c=425}var rm=this.maps.map_bg[Bl+31>>5][Cl+31>>5];20<=rm&&(Bl=32*(Bl+31>>5)-32,Al.c=410,this.maps.map_bg[Bl+15>>5][Cl+32>>5]<=9&&(Al.c=425)),120<=zl&&Bl>this.maps.wx+512&&(Al.c=0),10<=(rm=this.maps.map_bg[Bl+15>>5][om])&&rm<=15&&(Cl=32*(Cl+32>>5),Cl=this.sakamichiY(Bl,Cl))}Al.pt=152+this.g_ac,Al.pth=1;break;case 420:var sm=(Cl+=5)+31>>5,tm=this.maps.map_bg[Bl>>5][sm],um=this.maps.map_bg[Bl+31>>5][sm];(20<=tm||20<=um)&&(Cl=32*sm-32,Al.c=410),Cl>=this.ochiru_y&&(Al.c=0),Al.pt=152,Al.pth=0;break;case 425:var vm=(Cl+=5)+31>>5,wm=this.maps.map_bg[Bl>>5][vm],xm=this.maps.map_bg[Bl+31>>5][vm];(20<=wm||20<=xm)&&(Cl=32*vm-32,Al.c=415),Cl>=this.ochiru_y&&(Al.c=0),Al.pt=152,Al.pth=1;break;case 450:Al.vx<0&&(20<=this.maps.getBGCode(Bl,Cl)||20<=this.maps.getBGCode(Bl,Cl+31))&&(Bl=32*(Bl>>5)+32,Al.vx=0),0<Al.vx&&(20<=this.maps.getBGCode(Bl+31,Cl)||20<=this.maps.getBGCode(Bl+31,Cl+31))&&(Bl=32*(Bl+31>>5)-32,Al.vx=0),Bl+=Al.vx,Al.vy+=2,18<Al.vy&&(Al.vy=18);var ym=(Cl+=Al.vy)+31>>5,zm=this.maps.map_bg[Bl>>5][ym],Am=this.maps.map_bg[Bl+31>>5][ym];(20<=zm||20<=Am)&&(Cl=32*ym-32,1==Al.muki?Al.c=415:Al.c=410),Cl>=this.ochiru_y&&(Al.c=0),Al.pt=152,Al.pth=Al.muki;break;case 500:Cl<=Al.c3?(Al.vy++,4<Al.vy&&(Al.vy=4)):Cl>=Al.c4&&(Al.vy--,Al.vy<-4&&(Al.vy=-4)),Cl+=Al.vy,Al.pt=147+this.g_ac,this.co_j.x<=Bl+8?Al.pth=0:Al.pth=1;break;case 510:(Bl-=3)<48?Bl<=3&&(Al.c=0):20<=this.maps.getBGCode(Bl-16,Cl+31)&&(Bl=32*(Bl-16>>5)+32+16,Al.c=515),Al.pt=147+this.g_ac,Al.pth=0;break;case 515:Bl+=3,20<=this.maps.getBGCode(Bl+31+16,Cl+31)&&(Bl=32*(Bl+31+16>>5)-32-16,Al.c=510),Al.pt=147+this.g_ac,Al.pth=1;break;case 600:Al.c1<25?(Al.c1++,Al.vy=-17,Al.c3=0,Al.pt=154,Al.pth=0):(0==Al.c3?(Al.vy++,Al.c3=1):(Al.vy+=2,Al.c3=0),17<Al.vy&&(Al.vy=17),Cl+=Al.vy,Al.vy<4?Al.pt=155:Al.pt=156,Al.pth=0,(Bl-=5)<32?Bl<=3&&(Al.c=0):(20<=this.maps.getBGCode(Bl+15,Cl+6)&&(Cl=32*(Cl+6>>5)+32-6,Al.vy=0),20<=this.maps.getBGCode(Bl+15,Cl+31)&&(Cl=32*(Cl+31>>5)-32,Al.c1=15,Al.pt=154,Al.pth=0),(20<=this.maps.getBGCode(Bl,Cl+31)||20<=this.maps.getBGCode(Bl,Cl+8))&&(Bl=32*(Bl>>5)+32,Al.c=605),120<=zl&&Bl<this.maps.wx-32&&(Al.c=0))),Cl>=this.ochiru_y&&(Al.c=0);break;case 605:Al.c1<25?(Al.c1++,Al.vy=-17,Al.c3=0,Al.pt=154,Al.pth=1):(0==Al.c3?(Al.vy++,Al.c3=1):(Al.vy+=2,Al.c3=0),17<Al.vy&&(Al.vy=17),Cl+=Al.vy,Al.vy<4?Al.pt=155:Al.pt=156,Al.pth=1,Bl+=5,20<=this.maps.getBGCode(Bl+15,Cl+6)&&(Cl=32*(Cl+6>>5)+32-6,Al.vy=0),20<=this.maps.getBGCode(Bl+15,Cl+31)&&(Cl=32*(Cl+31>>5)-32,Al.c1=15,Al.pt=154,Al.pth=1),(20<=this.maps.getBGCode(Bl+31,Cl+31)||20<=this.maps.getBGCode(Bl+31,Cl+8))&&(Bl=32*(Bl+31>>5)-32,Al.c=600),120<=zl&&Bl>this.maps.wx+512&&(Al.c=0)),Cl>=this.ochiru_y&&(Al.c=0);break;case 650:Al.vx<0&&(20<=this.maps.getBGCode(Bl,Cl)||20<=this.maps.getBGCode(Bl,Cl+31))&&(Bl=32*(Bl>>5)+32,Al.vx=0),0<Al.vx&&(20<=this.maps.getBGCode(Bl+31,Cl)||20<=this.maps.getBGCode(Bl+31,Cl+31))&&(Bl=32*(Bl+31>>5)-32,Al.vx=0),Bl+=Al.vx,Al.vy+=2,18<Al.vy&&(Al.vy=18);var Bm=(Cl+=Al.vy)+31>>5,Cm=this.maps.map_bg[Bl>>5][Bm],Dm=this.maps.map_bg[Bl+31>>5][Bm];(20<=Cm||20<=Dm)&&(Cl=32*Bm-32,1==Al.muki?Al.c=605:Al.c=600,Al.c1=15),Cl>=this.ochiru_y&&(Al.c=0),Al.vy<4?Al.pt=155:Al.pt=156,Al.pth=Al.muki;break;case 700:this.yachamo_cf||(0<Al.c1?(Al.c1++,2==Al.c1?Bl+8>=this.co_j.x?this.mSet(Bl,Cl,300):this.mSet(Bl,Cl,305):40<Al.c1&&(Al.c1=0)):this.co_j.x>=Bl-256&&this.co_j.x<=Bl+192&&96<=c.abs(this.co_j.x-Bl)&&(Al.c1=1)),Al.pt=158,Bl+8>=this.co_j.x?Al.pth=0:Al.pth=1;break;case 800:0<Al.c1?(Al.c1++,2==Al.c1?Bl+8>=this.co_j.x?this.mSet(Bl,Cl,400):this.mSet(Bl,Cl,405):20<Al.c1&&(Al.c=810,Al.c1=0)):Al.c1<0?Al.c1++:this.co_j.x>=Bl-240&&this.co_j.x<=Bl+240&&(Al.c1=1),Al.pt=160,Bl+8>=this.co_j.x?Al.pth=0:Al.pth=1;break;case 810:Al.c1<=0?((Bl+=3)>=Al.c3+96&&(Bl=Al.c3+96,Al.c1=10),this.maps.getBGCode(Bl+31,Cl+32)<=9&&(Bl=32*(Bl+31>>5)-32,Al.c1=10),Al.pt=161+this.g_ac,Al.pth=1):Al.c1<=35?(Al.c1++,15==Al.c1&&(Bl+8>=this.co_j.x?this.mSet(Bl,Cl,400):this.mSet(Bl,Cl,405)),Al.pt=160,Bl+8>=this.co_j.x?Al.pth=0:Al.pth=1):((Bl-=3)<=Al.c3&&(Bl=Al.c3,Al.c=800,Al.c1=-20),this.maps.getBGCode(Bl,Cl+32)<=9&&(Bl=32*(Bl>>5)+32,Al.c=800,Al.c1=-20),Al.pt=161+this.g_ac,Al.pth=0);break;case 900:(Bl-=4)<48?Bl<=4&&(Al.c=0):(Al.c1++,1==Al.c1?this.mSet(Bl,Cl+19,600):26<Al.c1&&(Al.c1=0),20<=this.maps.getBGCode(Bl,Cl+31)&&(Bl=32*(Bl>>5)+32,Al.c=910)),Al.pt=164,Al.pth=0;break;case 910:Al.pt=164,Al.pth=0;break;case 950:(Bl-=4)<48?Bl<=4&&(Al.c=0):(Al.c1++,1==Al.c1?this.mSet(Bl,Cl+19,600):26<Al.c1&&(Al.c1=0),20<=this.maps.getBGCode(Bl-16,Cl+31)&&(Bl=32*(Bl-16>>5)+32+16,Al.c=960,Al.c1=16)),Al.pt=164,Al.pth=0;break;case 960:Bl+=4,Al.c1++,1==Al.c1?this.mSet(Bl,Cl+19,605):26<Al.c1&&(Al.c1=0),20<=this.maps.getBGCode(Bl+31+16,Cl+31)&&(Bl=32*(Bl+31+16>>5)-32-16,Al.c=950,Al.c1=16),Al.pt=164,Al.pth=1;break;case 1e3:(Bl-=3)<=Al.c3-256+16&&(Al.c=1005),(20<=this.maps.getBGCode(Bl-16,Cl)||20<=this.maps.getBGCode(Bl-16,Cl+31))&&(Bl=32*(Bl-16>>5)+32+16,Al.c=1005),Al.pt=166,Al.pth=0;break;case 1005:(Bl+=3)>=Al.c3+16&&(Al.c=1e3),(20<=this.maps.getBGCode(Bl+31+16,Cl)||20<=this.maps.getBGCode(Bl+31+16,Cl+31))&&(Bl=32*(Bl+31+16>>5)-32-16,Al.c=1e3),Al.pt=166,Al.pth=1;break;case 1100:0<Al.c1?(Al.c1++,77<Al.c1&&(Al.c1=0)):c.abs(this.co_j.x-Bl)<=144&&c.abs(this.co_j.y-Cl)<=144&&(Al.c1=1,this.mSet2(Bl,Cl,700,-3,-3),this.mSet2(Bl,Cl,700,3,-3),this.mSet2(Bl,Cl,700,-3,3),this.mSet2(Bl,Cl,700,3,3),this.mSet2(Bl,Cl,700,-4,0),this.mSet2(Bl,Cl,700,4,0),this.mSet2(Bl,Cl,700,0,-4),this.mSet2(Bl,Cl,700,0,4)),Al.pt=167,Bl+8>=this.co_j.x?Al.pth=0:Al.pth=1}if(Al.c<100)Al.x=Bl,Al.y=Cl;else{var Em=c.abs(Bl-this.co_j.x);48<=Em||100<=this.co_j.c&&this.co_j.c<200&&Em<30&&c.abs(Cl-this.co_j.y)<23&&(0<this.j_v_c?(1==this.co_j.muki?(Al.pth=0,Al.vx=3):(Al.pth=1,Al.vx=-3),Al.c=52,Al.vy=-30):400<=Al.c&&Al.c<500||1e3<=Al.c&&Al.c<1200?this.jShinu(2):Em<27&&0<this.co_j.vy&&!this.j_mizu_f||yl?(Al.c<200?Al.pt=142:Al.c<300?Al.pt=146:Al.c<400?Al.pt=151:Al.c<600?Al.pt=149:Al.c<700?Al.pt=157:Al.c<800?Al.pt=159:Al.c<900?Al.pt=163:Al.c<1e3&&(Al.pt=165),Al.c=50,Al.c1=0,this.co_j.y=Cl-12,this.co_j.vy=-160,this.j_jump_type=1,this.co_j.c=110,this.co_j.c1=0,this.co_j.pt=109,149!=Al.pt&&165!=Al.pt||(this.co_j.vy=-220,Al.c1=-2),yl=!0):this.jShinu(2)),Al.x=Bl,Al.y=Cl}}},G.prototype.sakamichiY=function(Fm,Gm){var Hm=Fm+15>>5,Im=Gm+31>>5,Km=Gm;switch(this.maps.map_bg[Hm][Im]){default:break;case 10:var Lm=32*Im-(Fm+15)%32;Lm<Gm&&(Km=Lm);break;case 11:var Mm=32*Im+(Fm+15)%32-31;Mm<Gm&&(Km=Mm);break;case 12:var Nm=32*Im-((Fm+15)%32>>1);Nm<Gm&&(Km=Nm);break;case 13:var Om=32*Im-((Fm+15)%32>>1)-16;Om<Gm&&(Km=Om);break;case 14:var Pm=32*Im+((Fm+15)%32>>1)-31;Pm<Gm&&(Km=Pm);break;case 15:var Qm=32*Im+((Fm+15)%32>>1)-15;Qm<Gm&&(Km=Qm)}return Km},G.prototype.mSet=function(Rm,Sm,Tm){for(var Um=0;Um<=23;Um++)if(!(0<this.co_m[Um].c)){var Vm=this.co_m[Um];switch(Vm.c=Tm,Vm.x=Rm,Vm.y=Sm,Vm.c1=0,this.m_kazu++,Tm){case 90:Vm.c2=4,Vm.vx=0,Vm.vy=0;break;case 100:var Wm=this.co_j.x-Rm,Xm=this.co_j.y-Sm,Ym=c.floor(c.sqrt(Wm*Wm+Xm*Xm));Ym<48?(this.m_kazu--,Vm.c=0):(Vm.vx=s(14*Wm/Ym),Vm.vy=s(14*Xm/Ym),Vm.x+=s(16*Vm.vx/14),Vm.y+=s(16*Vm.vy/14)),!this.dengeki_mkf&&0<Vm.c&&4==this.maps.getBGCode(Vm.x+15,Vm.y+15)&&(this.m_kazu--,Vm.c=0);break;case 200:Vm.vx=-4-this.ranInt(6),Vm.vy=-22,Vm.x+=Vm.vx,Vm.y+=Vm.vy;break;case 205:Vm.c=200,Vm.vx=4+this.ranInt(6),Vm.vy=-22,Vm.x+=Vm.vx,Vm.y+=Vm.vy;break;case 300:Vm.vx=-12,Vm.x+=Vm.vx;break;case 305:Vm.c=300,Vm.vx=12,Vm.x+=Vm.vx;break;case 400:Vm.vx=-80,Vm.vy=-225;break;case 405:Vm.c=400,Vm.vx=80,Vm.vy=-225;break;case 500:Vm.vx=-4,Vm.vy=-22;break;case 600:Vm.vx=-40,Vm.vy=0;break;case 605:Vm.c=600,Vm.vx=40,Vm.vy=0;break;case 2e3:Vm.c3=Sm,Vm.vy=-210;break;case 2010:Vm.c=2e3,Vm.c3=Sm-64,Vm.vy=-280;break;case 2020:Vm.c=2e3,Vm.c3=Sm-32,Vm.vy=-250;break;case 2100:Vm.c2=0;break;case 2110:Vm.c=2100,Vm.c2=1;break;case 2120:Vm.c=2100,Vm.c2=2;break;case 2130:Vm.c=2100,Vm.c2=3;break;case 2140:Vm.c=2100,Vm.c2=4;break;case 2150:Vm.c=2100,Vm.c2=5;break;case 2160:Vm.c=2100,Vm.c2=6;break;case 2170:Vm.c=2100,Vm.c2=7;break;case 2180:Vm.c=2100,Vm.c2=8}break}},G.prototype.mSet2=function(Zm,$m,_m,an,bn){for(var cn=0;cn<=23;cn++)if(!(0<this.co_m[cn].c)){var dn=this.co_m[cn];switch(dn.c=_m,dn.x=Zm,dn.y=$m,dn.vx=an,dn.vy=bn,dn.c1=0,this.m_kazu++,_m){case 500:dn.x+=dn.vx;break;case 700:dn.c2=0;break;case 710:dn.c=700,dn.c2=1}break}},G.prototype.mMove=function(){for(var en=0;en<=23;en++)if(0!=this.co_m[en].c){var fn=this.co_m[en];switch(fn.c){case 50:fn.c1++,fn.c1<=5?fn.pt=80:fn.c1<=10?fn.pt=81:fn.c1<=16?fn.pt=82:fn.c=0,fn.pth=0;break;case 60:fn.y-=5;var gn=fn.y>>5,hn=this.maps.map_bg[fn.x+11>>5][gn];(hn<=3||20<=hn)&&(fn.c=0),((hn=this.maps.map_bg[fn.x+20>>5][gn])<=3||20<=hn)&&(fn.c=0),8!=(hn=this.maps.map_bg[fn.x+15>>5][gn])&&9!=hn||4==this.maps.map_bg[(fn.x+15>>5)-1][gn]||(fn.c=0),(fn.x<=this.maps.wx-32||fn.x>=this.maps.wx+512)&&(fn.c=0),(fn.y<=this.maps.wy-32||fn.y>=this.maps.wy+320)&&(fn.c=0),fn.pt=85,fn.pth=0;break;case 70:switch(fn.c1++,fn.c1){case 1:fn.c2=20;break;case 2:fn.c2=34;break;case 3:fn.c2=46;break;case 4:fn.c2=56;break;case 5:fn.c2=64;break;case 6:fn.c2=70;break;case 7:fn.c2=74;break;case 8:fn.c2=77;break;case 9:fn.c2=79;break;case 10:fn.c2=80}if(10<fn.c1&&(fn.c2=10,fn.c=0),100<=this.co_j.c&&this.co_j.c<200){var jn=this.co_j.x-fn.x,kn=this.co_j.y-fn.y;c.floor(c.sqrt(jn*jn+kn*kn))<=fn.c2+4&&this.j_v_c<=0&&this.jShinu(1)}fn.pt=1100,fn.pth=0;break;case 80:5<=fn.vy&&(2<fn.vx?fn.vx--:fn.vx<-2&&fn.vx++),fn.x+=fn.vx,fn.vy+=4,30<fn.vy&&(fn.vy=30),fn.y+=fn.vy,fn.y>=this.maps.wy+320&&(fn.c=0),fn.pt=136,fn.vx<0?fn.pth=0:fn.pth=1;break;case 90:if(fn.c2<48){if(fn.c2+=4,48<=fn.c2){fn.c2=48;var mn=this.co_j.x-fn.x,nn=this.co_j.y-fn.y,on=c.floor(c.sqrt(mn*mn+nn*nn));on<32||this.co_j.c<100||200<=this.co_j.c?(fn.x<this.maps.wx+256?fn.vx=14:fn.vx=-14,fn.vy=0):(fn.vx=s(14*mn/on),fn.vy=s(14*nn/on))}}else fn.x+=fn.vx,fn.y+=fn.vy,fn.x<=this.maps.wx-32-32||fn.x>=this.maps.wx+512+128+32?fn.c=0:(fn.y<=this.maps.wy-32-200-32||fn.y>=this.maps.wy+320+32)&&(fn.c=0);if(100<=this.co_j.c&&this.co_j.c<200){var pn=this.co_j.x-fn.x,qn=this.co_j.y-fn.y;c.floor(c.sqrt(pn*pn+qn*qn))+4<=fn.c2&&(0<this.j_v_c?fn.c=0:this.jShinu(1))}fn.pt=1e3;break;case 100:fn.x+=fn.vx,fn.y+=fn.vy;var sn=fn.x+15>>5;(20<=this.maps.map_bg[sn][fn.y+12>>5]||20<=this.maps.map_bg[sn][fn.y+18>>5])&&(fn.c=0),this.dengeki_mkf||4!=this.maps.getBGCode(fn.x+15,fn.y+15)||(fn.c=0),fn.x<=this.maps.wx-32||fn.x>=this.maps.wx+512+128?fn.c=0:(fn.y<=this.maps.wy-32-200||fn.y>=this.maps.wy+320)&&(fn.c=0),0==this.g_c1?fn.pt=120:fn.pt=121,fn.pth=0;break;case 200:fn.x+=fn.vx,fn.vy+=2,12<fn.vy&&(fn.vy=12);var tn=fn.vy;switch(tn<-18&&(tn=-18),fn.y+=tn,fn.y>=this.maps.wy+320&&(fn.c=0),this.g_c2){case 0:fn.pt=122;break;case 1:fn.pt=123;break;case 2:fn.pt=124;break;case 3:fn.pt=125}fn.pth=0;break;case 300:fn.x+=fn.vx;var un=fn.y+15>>5;(20<=this.maps.map_bg[fn.x+8>>5][un]||20<=this.maps.map_bg[fn.x+23>>5][un])&&(fn.c=0),(fn.x<=this.maps.wx-32||fn.x>=this.maps.wx+512+128)&&(fn.c=0),0==this.g_c1?fn.pt=126:fn.pt=127,fn.vx<=0?fn.pth=0:fn.pth=1;break;case 400:fn.x+=s(fn.vx/10),fn.vy+=25,180<fn.vy&&(fn.vy=180),fn.y+=s(fn.vy/10),fn.y>=this.maps.wy+320&&(fn.c=0);var vn=fn.x+15>>5;20<=this.maps.map_bg[vn][fn.y+15>>5]&&(fn.c=0),0==this.g_c1?fn.pt=128:fn.pt=129,fn.vx<=0?fn.pth=0:fn.pth=1;break;case 500:5<=fn.vy&&(2<fn.vx?fn.vx--:fn.vx<-2&&fn.vx++),fn.x+=fn.vx,fn.vy+=2,12<fn.vy&&(fn.vy=12);var wn=fn.vy;wn<-16&&(wn=-16),fn.y+=wn,fn.y>=this.maps.wy+320&&(fn.c=0),fn.pt=139,fn.pth=0;break;case 600:0<fn.vx?fn.vx-=2:fn.vx<0&&(fn.vx+=2),fn.x+=s(fn.vx/10),fn.vy+=8,200<fn.vy&&(fn.vy=200),fn.y+=s(fn.vy/10),20<=this.maps.map_bg[fn.x+15>>5][fn.y+15>>5]&&(fn.c=610,fn.c1=0,fn.y=32*(fn.y+15>>5)-16),fn.x<=this.maps.wx-32-64||fn.x>=this.maps.wx+512+64?fn.c=0:(fn.y<=this.maps.wy-32-200||fn.y>=this.maps.wy+320)&&(fn.c=0),28<fn.vx?(fn.pt=171,fn.pth=1):(fn.vx<-28?fn.pt=171:fn.pt=170,fn.pth=0);break;case 610:fn.c1++,fn.c1<=3?fn.pt=172:fn.c1<=6?fn.pt=173:fn.c1<=9?fn.pt=174:(fn.c=0,fn.pt=198),fn.pth=0;break;case 700:fn.x+=fn.vx,fn.y+=fn.vy,fn.x<=this.maps.wx-32||fn.x>=this.maps.wx+512+32?fn.c=0:(fn.y<=this.maps.wy-64||fn.y>=this.maps.wy+320+64)&&(fn.c=0);var xn=this.maps.getBGCode(fn.x+15,fn.y+15);0==fn.c2&&20<=xn&&(fn.c=0),0==fn.c2&&xn<=3&&(fn.c=0),fn.pt=168+this.g_c1,fn.pth=0;break;case 800:5<=fn.vy&&(2<fn.vx?fn.vx--:fn.vx<-2&&fn.vx++),fn.x+=fn.vx,fn.vy+=4,28<fn.vy&&(fn.vy=28),fn.y+=fn.vy,fn.y>=this.maps.wy+320&&(fn.c=0),20<=this.maps.getBGCode(fn.x+15,fn.y+31)&&(fn.c=70,fn.y=32*(fn.y+31>>5)-16,fn.c1=1,fn.c2=20),fn.pt=137+this.g_c1,fn.vx<0?fn.pth=0:fn.pth=1;break;case 2e3:fn.vy+=30,180<fn.vy&&(fn.vy=180),fn.y+=s(fn.vy/10),0<=fn.vy&&fn.y>=fn.c3&&(fn.y=fn.c3,fn.vy=0),(fn.x<=this.maps.wx-32||fn.x>=this.maps.wx+512)&&(fn.c=0),fn.pt=90+this.g_ac2,fn.pth=0;break;case 2100:(fn.x<=this.maps.wx-32||fn.x>=this.maps.wx+512)&&(fn.c=0),fn.pt=42+fn.c2,8==fn.c2&&(fn.pt=59),fn.pth=0;break;case 2200:fn.x<this.maps.wx?fn.x=this.maps.wx:fn.x>this.maps.wx+512-32&&(fn.x=this.maps.wx+512-32),fn.y<this.maps.wy+64?fn.y=this.maps.wy+64:fn.y>this.maps.wy+224&&(fn.y=this.maps.wy+224),2<=this.stage_max&&this.stage>=this.stage_max?0==this.g_ac2?fn.pt=99:fn.pt=98:0==this.g_ac2?fn.pt=95:fn.pt=94,fn.pth=0}0==fn.c?this.m_kazu--:100<=this.co_j.c&&this.co_j.c<200&&(2e3<=fn.c?c.abs(fn.x-this.co_j.x)<=14&&fn.y<=this.co_j.y+26&&fn.y+15>=this.co_j.y&&(this.addScore(5),2100==fn.c?0==fn.c2?this.j_fire_f=!0:1==fn.c2?(this.j_v_c=150,this.j_v_kakudo=0):2==fn.c2?0<this.time_max&&(this.time+=3e4):3==fn.c2?this.j_jet_fuel+=80:4==fn.c2?this.j_helm_f=!0:5==fn.c2?this.j_tail_f=!0:6==fn.c2?this.j_drell_f=!0:7==fn.c2?this.j_gr_kazu++:8==fn.c2&&this.j_left++:2200==fn.c&&(this.stage_cc=1,2<=this.stage_max&&this.stage>=this.stage_max?this.addScore(995):this.addScore(95)),fn.c=0,this.m_kazu--):100<=fn.c&&c.abs(fn.x-this.co_j.x)<=23&&c.abs(fn.y-this.co_j.y)<=28&&(0<this.j_v_c?(fn.c=0,this.m_kazu--):(this.jShinu(1),800==fn.c&&(fn.c=70,fn.c1=1,fn.c2=20))))}},G.prototype.jmSet=function(yn,zn,An){for(var Bn=0;Bn<=1;Bn++)if(!(0<this.co_jm[Bn].c)){var Cn=this.co_jm[Bn];switch(Cn.c=An,Cn.x=yn,Cn.y=zn+8,Cn.c1=0,this.jm_kazu++,An){case 60:case 65:Cn.x=yn+16,Cn.y=zn,Cn.vx=yn+16,Cn.c4=8,this.j_gr_kazu--;break;case 100:Cn.vx=s(this.co_j.vx/10)-10,Cn.vy=-28,c.abs(Cn.vx)<2&&(Cn.vx=-2);break;case 105:Cn.vx=s(this.co_j.vx/10)+10,Cn.vy=-28,c.abs(Cn.vx)<2&&(Cn.vx=2);break;case 200:Cn.vx=s(this.co_j.vx/10)-10,Cn.vy=-32,c.abs(Cn.vx)<2&&(Cn.vx=-2),5!=this.grenade_type&&6!=this.grenade_type||(Cn.y=zn,Cn.vx=-20,Cn.vy=0),this.j_gr_kazu--;break;case 205:Cn.c=200,Cn.vx=s(this.co_j.vx/10)+10,Cn.vy=-35,c.abs(Cn.vx)<2&&(Cn.vx=2),5!=this.grenade_type&&6!=this.grenade_type||(Cn.y=zn,Cn.vx=20,Cn.vy=0),this.j_gr_kazu--}break}},G.prototype.jmMove=function(){for(var Dn=0;Dn<=1;Dn++)if(0!=this.co_jm[Dn].c){var En=this.co_jm[Dn];switch(En.c){case 50:switch(En.c1++,En.c1){case 1:En.c2=20;break;case 2:En.c2=34;break;case 3:En.c2=46;break;case 4:En.c2=56;break;case 5:En.c2=64;break;case 6:En.c2=70;break;case 7:En.c2=74;break;case 8:En.c2=77;break;case 9:En.c2=79;break;case 10:En.c2=80}10<En.c1&&(En.c2=10,En.c=0);for(var Fn=0;Fn<=this.t_kazu;Fn++)if(100<=this.co_t[Fn].c){var Gn=this.co_t[Fn],Hn=Gn.x-En.x,In=Gn.y-En.y;c.floor(c.sqrt(Hn*Hn+In*In))<=En.c2+8&&(En.x>Gn.x?(Gn.pth=1,Gn.vx=-3):(Gn.pth=0,Gn.vx=3),Gn.c=52,Gn.vy=-25)}if((1==this.grenade_type||5==this.grenade_type)&&100<=this.co_b.c){var Kn=this.co_b.x-En.x,Ln=this.co_b.y-En.y;c.floor(c.sqrt(Kn*Kn+Ln*Ln))<=En.c2+20&&(this.co_b.c<200?(this.co_b.c=67,this.co_b.vy=-24,this.co_b.c1=0,En.x>this.co_b.x?(this.co_b.muki=1,this.co_b.pt=1005,this.co_b.vx=-4):(this.co_b.muki=0,this.co_b.pt=1e3,this.co_b.vx=4)):this.co_b.c<300?(this.co_b.c=77,this.co_b.vy=-24,this.co_b.c1=0,En.x>this.co_b.x?(this.co_b.muki=1,this.co_b.pt=1105,this.co_b.vx=-4):(this.co_b.muki=0,this.co_b.pt=1100,this.co_b.vx=4)):(this.co_b.c=87,this.co_b.vy=-24,this.co_b.c1=0,En.x>this.co_b.x?(this.co_b.muki=1,this.co_b.pt=1205,this.co_b.vx=-4):(this.co_b.muki=0,this.co_b.pt=1200,this.co_b.vx=4)))}En.pt=1e3,En.pth=0;break;case 60:En.y=this.co_j.y,En.x-=28,En.x<=this.maps.wx-32&&(En.x=this.maps.wx-32),0<En.c4?(En.c4--,En.vx=this.co_j.x+16):(En.vx-=28,En.vx<=En.x&&(En.c=0));for(var Nn=0;Nn<=this.t_kazu;Nn++)if(100<=this.co_t[Nn].c){var On=this.co_t[Nn];On.x>En.x-12&&On.x<En.vx+12&&c.abs(On.y-En.y)<24&&(On.pth=0,On.vx=-3,On.c=52,On.vy=-25)}3==this.grenade_type&&100<=this.co_b.c&&this.co_b.x>En.x-24&&this.co_b.x<En.vx+24&&c.abs(this.co_b.y-En.y)<36&&(this.co_b.c<200?(this.co_b.c=67,this.co_b.vy=-24,this.co_b.c1=0,this.co_b.muki=1,this.co_b.pt=1005):this.co_b.c<300?(this.co_b.c=77,this.co_b.vy=-24,this.co_b.c1=0,this.co_b.muki=1,this.co_b.pt=1105):(this.co_b.c=87,this.co_b.vy=-24,this.co_b.c1=0,this.co_b.muki=1,this.co_b.pt=1205),this.co_b.vx=-4),(this.co_j.c<100||200<=this.co_j.c)&&(En.c=0),En.pt=1200;break;case 65:En.y=this.co_j.y,En.x+=28,En.x>=this.maps.wx+512+32&&(En.x=this.maps.wx+512+32),0<En.c4?(En.c4--,En.vx=this.co_j.x+16):(En.vx+=28,En.vx>=En.x&&(En.c=0));for(var Pn=0;Pn<=this.t_kazu;Pn++)if(100<=this.co_t[Pn].c){var Qn=this.co_t[Pn];Qn.x>En.vx-12&&Qn.x<En.x+12&&c.abs(Qn.y-En.y)<24&&(Qn.pth=0,Qn.vx=3,Qn.c=52,Qn.vy=-25)}3==this.grenade_type&&100<=this.co_b.c&&this.co_b.x>En.vx-24&&this.co_b.x<En.x+24&&c.abs(this.co_b.y-En.y)<36&&(this.co_b.c<200?(this.co_b.c=67,this.co_b.vy=-24,this.co_b.c1=0,this.co_b.muki=0,this.co_b.pt=1e3):this.co_b.c<300?(this.co_b.c=77,this.co_b.vy=-24,this.co_b.c1=0,this.co_b.muki=0,this.co_b.pt=1100):(this.co_b.c=87,this.co_b.vy=-24,this.co_b.c1=0,this.co_b.muki=0,this.co_b.pt=1200),this.co_b.vx=4),(this.co_j.c<100||200<=this.co_j.c)&&(En.c=0),En.pt=1205;break;case 100:En.x+=En.vx,20<=this.maps.getBGCode(En.x+7,En.y+15)&&(En.c=0),En.vy+=5,30<En.vy&&(En.vy=30),En.y+=En.vy,En.vy<0&&20<=this.maps.getBGCode(En.x+15,En.y+8)&&(En.c=0),20<=this.maps.getBGCode(En.x+15,En.y+23)&&(En.y=32*(En.y+23>>5)-24,En.vy=-28),this.j_fire_mkf||4!=this.maps.getBGCode(En.x+15,En.y+15)||(En.c=0),(En.x<=this.maps.wx-24||En.x>=this.maps.wx+512-8||En.y<=this.maps.wy-128||En.y>=this.maps.wy+384)&&(En.c=0),En.pt=130+this.g_c2,En.pth=0;break;case 105:En.x+=En.vx,20<=this.maps.getBGCode(En.x+23,En.y+15)&&(En.c=0),En.vy+=5,30<En.vy&&(En.vy=30),En.y+=En.vy,En.vy<0&&20<=this.maps.getBGCode(En.x+15,En.y+8)&&(En.c=0),20<=this.maps.getBGCode(En.x+15,En.y+23)&&(En.y=32*(En.y+23>>5)-24,En.vy=-28),this.j_fire_mkf||4!=this.maps.getBGCode(En.x+15,En.y+15)||(En.c=0),(En.x<=this.maps.wx-24||En.x>=this.maps.wx+512-8||En.y<=this.maps.wy-128||En.y>=this.maps.wy+384)&&(En.c=0),En.pt=130+this.g_c2,En.pth=1;break;case 200:En.x+=En.vx,5!=this.grenade_type&&6!=this.grenade_type&&(En.vy+=5,30<En.vy&&(En.vy=30),En.y+=En.vy,0<En.vy&&20<=this.maps.getBGCode(En.x+15,En.y+31)&&(En.c=50,En.y=32*(En.y+31>>5)-16,En.c1=1,En.c2=20)),20<=this.maps.getBGCode(En.x+15,En.y+15)&&(En.c=50,En.c1=1,En.c2=20),(En.x<=this.maps.wx-64||En.x>=this.maps.wx+512+64||En.y<=this.maps.wy-128||En.y>=this.maps.wy+384)&&(En.c=0),En.pt=137+this.g_c1,En.vx<0?En.pth=0:En.pth=1}if(0==En.c)this.jm_kazu--;else if(100<=En.c)for(var Rn=0;Rn<=this.t_kazu;Rn++)if(!(this.co_t[Rn].c<100)){var Sn=this.co_t[Rn];if(!(22<=c.abs(En.x-Sn.x)||22<=c.abs(En.y-Sn.y))){En.vx<0?(Sn.pth=1,Sn.vx=-3):(Sn.pth=0,Sn.vx=3),Sn.c=52,Sn.vy=-25,200==En.c?(En.c=50,En.c1=1,En.c2=20):(En.c=0,this.jm_kazu--);break}}}},G.prototype.aSet=function(Tn,Un,Vn,Wn){for(var Xn=0;Xn<=31;Xn++)if(!(0<this.co_a[Xn].c)){var Yn=this.co_a[Xn];switch(Yn.c=Vn,Yn.c1=Wn-512-32,Yn.c2=Wn+128,Yn.x=Tn,Yn.y=Un,this.a_kazu++,Vn){case 60:Yn.pt=200;break;case 70:Yn.vx=-3,Yn.c3=0,Yn.c1=Tn-512-150,Yn.c2=Tn+150;break;case 71:Yn.c=70,Yn.vx=3,Yn.c3=0,Yn.c1=Tn-512-150,Yn.c2=Tn+150;break;case 80:Yn.pt=800,Yn.c3=1;break;case 81:Yn.c=80,Yn.pt=800,Yn.c3=2;break;case 82:Yn.c=80,Yn.pt=800,Yn.c3=3;break;case 83:Yn.c=80,Yn.pt=800,Yn.c3=4;break;case 100:Yn.vy=5,Yn.x=Tn+8,Yn.y=Un-212,Yn.c3=Un-212,Yn.c4=Un+2,Yn.pt=100;break;case 110:Yn.vx=-3,Yn.x=Tn+208,Yn.c3=Tn,Yn.c4=Tn+208,Yn.pt=100,Yn.c2=Wn+208+128+32;break;case 115:Yn.c=110,Yn.vx=-3,Yn.x=Tn+208,Yn.c3=Tn,Yn.c4=Tn+208,Yn.pt=100,Yn.c2=Wn+208+128+342+32;break;case 116:Yn.c=110,Yn.vx=3,Yn.x=Tn+320,Yn.c3=Tn+320,Yn.c4=Tn+208+320,Yn.pt=100,Yn.c2=Wn+208+128+320+32;break;case 120:Yn.vx=Tn+160,Yn.vy=Un,Yn.x=Tn+8,Yn.y=Un,Yn.c3=0,Yn.muki=1,Yn.c1=Yn.vx-512-32-130,Yn.c2=Yn.vx+128+130,Yn.pt=100;break;case 121:Yn.c=120,Yn.vx=Tn+160,Yn.vy=Un,Yn.x=Tn+8,Yn.y=Un,Yn.c3=0,Yn.muki=0,Yn.c1=Yn.vx-512-32-130,Yn.c2=Yn.vx+128+130,Yn.pt=100;break;case 300:Yn.pt=300,Yn.c3=0,Yn.c4=0;break;case 310:Yn.c=300,Yn.pt=310,Yn.c3=1,Yn.c4=0;break;case 320:Yn.c=300,Yn.pt=320,Yn.c3=2,Yn.c4=0;break;case 330:Yn.c=300,Yn.pt=330,Yn.c3=3,Yn.c4=0;break;case 400:Yn.pt=400,Yn.c3=0,Yn.vy=Un;break;case 500:Yn.vy=0,Yn.x=Tn,Yn.y=Un,Yn.c3=0,Yn.c4=0,Yn.pt=500;break;case 510:Yn.c=500,Yn.vy=0,Yn.x=Tn,Yn.y=Un,Yn.c3=0,Yn.c4=1,Yn.pt=500;break;case 600:Yn.pt=600,Yn.c3=0,Yn.c4=0,Yn.vx=0,Yn.vy=Un;break;case 700:Yn.pt=700,Yn.c3=0}break}},G.prototype.aMove=function(){this.j_a_id=-1,this.j_jdai_f=!1,this.a_hf=!1;for(var _n=0;_n<=this.a_kazu;_n++){var ao=this.co_a[_n];if(0!=ao.c)if(this.maps.wx<=ao.c1||this.maps.wx>=ao.c2)ao.gf=!1;else{var bo=ao.x,co=ao.y;switch(ao.c){case 60:bo>this.maps.wx-80&&bo<this.maps.wx+512&&co>this.maps.wy-96&&co<this.maps.wy+320?(ao.gf=!0,this.a_hf=!0,this.g_c3<=3?ao.pt=200:ao.pt=210):ao.gf=!1;break;case 70:if(ao.c3+=ao.vx,ao.c3<0?ao.c3+=360:360<=ao.c3&&(ao.c3-=360),bo>this.maps.wx-150&&bo<this.maps.wx+512+150&&co>this.maps.wy-150&&co<this.maps.wy+320+150){ao.gf=!0,this.a_hf=!0,ao.pt=1100;var eo=.017453292519943295,fo=bo+c.floor(25*c.cos(ao.c3*eo)),go=co+c.floor(25*c.sin(ao.c3*eo));this.vo_x[_n][0]=fo,this.vo_y[_n][0]=go;var ho=bo+c.floor(140*c.cos(ao.c3*eo)),io=co+c.floor(140*c.sin(ao.c3*eo));if(this.vo_x[_n][1]=ho,this.vo_y[_n][1]=io,this.vo_x[_n][2]=bo+c.floor(31*c.cos(ao.c3*eo)),this.vo_y[_n][2]=co+c.floor(31*c.sin(ao.c3*eo)),this.vo_x[_n][3]=bo+c.floor(134*c.cos(ao.c3*eo)),this.vo_y[_n][3]=co+c.floor(134*c.sin(ao.c3*eo)),100<=this.co_j.c&&this.co_j.c<200&&this.j_v_c<=0)if(c.abs(fo-ho)>=c.abs(go-io)){if(this.co_j.x+15>fo&&this.co_j.x+15<ho){var jo=ho-fo,mo=s((this.co_j.x+15-fo)*(io-go)/jo)+go;mo>this.co_j.y-12&&mo<this.co_j.y+44&&this.jShinu(1)}else if(this.co_j.x+15>ho&&this.co_j.x+15<fo){var no=fo-ho,qo=s((this.co_j.x+15-ho)*(go-io)/no)+io;qo>this.co_j.y-12&&qo<this.co_j.y+44&&this.jShinu(1)}}else if(this.co_j.y+15>go&&this.co_j.y+15<io){var ro=io-go,uo=s((this.co_j.y+15-go)*(ho-fo)/ro)+fo;uo>this.co_j.x-12&&uo<this.co_j.x+44&&this.jShinu(1)}else if(this.co_j.y+15>io&&this.co_j.y+15<go){var vo=go-io,yo=s((this.co_j.y+15-io)*(fo-ho)/vo)+ho;yo>this.co_j.x-12&&yo<this.co_j.x+44&&this.jShinu(1)}}else ao.gf=!1;break;case 80:bo>this.maps.wx-32&&bo<this.maps.wx+512&&co>this.maps.wy-32&&co<this.maps.wy+320?(ao.gf=!0,this.a_hf=!0,this.co_j.x>=bo-80&&this.co_j.x<=bo+64&&c.abs(co-this.co_j.y)<32&&(this.hitokoto_c=10,this.hitokoto_num=ao.c3)):ao.gf=!1;break;case 100:bo>this.maps.wx-80-32&&bo<this.maps.wx+512+32&&co>this.maps.wy-16&&co<this.maps.wy+320+32?(ao.gf=!0,this.a_hf=!0,100==this.co_j.c&&this.co_j.x+15>=bo&&this.co_j.x<=bo+64&&this.co_j.y==co-32&&(this.j_a_id=_n)):ao.gf=!1,co<=ao.c3?(ao.vy++,5<ao.vy&&(ao.vy=5)):co>=ao.c4&&(ao.vy--,ao.vy<-5&&(ao.vy=-5)),co+=ao.vy,100==this.co_j.c&&(this.j_a_id==_n&&(this.co_j.y=co-32),ao.vy<0&&20<=this.maps.getBGCode(this.co_j.x+15,this.co_j.y)&&(this.co_j.y=32*(this.co_j.y>>5)+16,this.jShinu(3)),this.co_j.x+15>=bo&&this.co_j.x<=bo+64&&this.co_j.y+31>=co&&this.co_j.y<=co+13&&(0<ao.vy?(this.co_j.y=co+14,18<=this.maps.getBGCode(this.co_j.x+15,this.co_j.y+31)&&(this.co_j.y=32*(this.co_j.y+31>>5)-32,this.jShinu(3))):(this.co_j.y=co-32,this.j_a_id=_n)));break;case 110:if(bo>this.maps.wx-80-32&&bo<this.maps.wx+512+32&&co>this.maps.wy-16&&co<this.maps.wy+320+32?(ao.gf=!0,this.a_hf=!0,100==this.co_j.c&&this.co_j.x+15>=bo&&this.co_j.x<=bo+64&&this.co_j.y==co-32&&(this.j_a_id=_n)):ao.gf=!1,bo<=ao.c3?(ao.vx++,3<ao.vx&&(ao.vx=3)):bo>=ao.c4&&(ao.vx--,ao.vx<-3&&(ao.vx=-3)),bo+=ao.vx,100==this.co_j.c){if(this.j_a_id==_n)if(this.co_j.x+=ao.vx,0<ao.vx){var zo=this.co_j.x+15>>5,Ao=this.co_j.y>>5,Bo=this.co_j.y+31>>5;(20<=this.maps.map_bg[zo][Ao]||20<=this.maps.map_bg[zo][Bo])&&(this.co_j.x=32*zo-16)}else if(ao.vx<0){var Co=this.co_j.x+15>>5,Do=this.co_j.y>>5,Eo=this.co_j.y+31>>5;(20<=this.maps.map_bg[Co][Do]||20<=this.maps.map_bg[Co][Eo])&&(this.co_j.x=32*Co+32-14)}if(this.co_j.x+15>=bo&&this.co_j.x<=bo+64&&this.co_j.y+31>=co&&this.co_j.y<=co+13)if(0<ao.vx){this.co_j.x=bo+65;var Fo=this.co_j.x+15>>5,Go=this.co_j.y>>5,Ho=this.co_j.y+31>>5;(20<=this.maps.map_bg[Fo][Go]||20<=this.maps.map_bg[Fo][Ho])&&(this.co_j.c=230,this.co_j.x=32*Fo-32+11,this.co_j.c1=0,this.j_zan_f=!1,this.j_jet_c=0,this.j_v_c=0)}else{this.co_j.x=bo-16;var Io=this.co_j.x+15>>5,Jo=this.co_j.y>>5;this.co_j.y;(20<=this.maps.map_bg[Io][Jo]||20<=this.maps.map_bg[Io][Jo])&&(this.co_j.c=230,this.co_j.x=32*Io+32-11,this.co_j.c1=0,this.j_zan_f=!1,this.j_jet_c=0,this.j_v_c=0)}}break;case 120:bo>this.maps.wx-80-32&&bo<this.maps.wx+512+32&&co>this.maps.wy-16&&co<this.maps.wy+320+32?(ao.gf=!0,this.a_hf=!0,100==this.co_j.c&&this.co_j.x+15>=bo&&this.co_j.x<=bo+64&&this.co_j.y==co-32&&(this.j_a_id=_n)):ao.gf=!1,1==ao.muki?(ao.c3+=2,360<=ao.c3&&(ao.c3-=360)):(ao.c3-=2,ao.c3<0&&(ao.c3+=360));var Lo=3.14*ao.c3/180,Oo=ao.vx+c.floor(126*c.cos(Lo))+16-40-bo,Po=ao.vy+c.floor(-126*c.sin(Lo))+16-7-co;if(co+=Po,100==this.co_j.c&&(this.j_a_id==_n&&(this.co_j.y+=Po),Po<0&&20<=this.maps.getBGCode(this.co_j.x+15,this.co_j.y)&&(this.co_j.y=32*(this.co_j.y>>5)+16,this.jShinu(3)),this.co_j.x+15>=bo&&this.co_j.x<=bo+64&&this.co_j.y+31>=co&&this.co_j.y<=co+13&&(0<Po?(this.co_j.y=co+14,18<=this.maps.getBGCode(this.co_j.x+15,this.co_j.y+31)&&(this.co_j.y=32*(this.co_j.y+31>>5)-32,this.jShinu(3))):(this.co_j.y=co-32,this.j_a_id=_n))),bo+=Oo,100==this.co_j.c){if(this.j_a_id==_n)if(this.co_j.x+=Oo,0<Oo){var Qo=this.co_j.x+15>>5,Ro=this.co_j.y>>5,So=this.co_j.y+31>>5;(20<=this.maps.map_bg[Qo][Ro]||20<=this.maps.map_bg[Qo][So])&&(this.co_j.x=32*Qo-16)}else if(Oo<0){var To=this.co_j.x+15>>5,Uo=this.co_j.y>>5,Vo=this.co_j.y+31>>5;(20<=this.maps.map_bg[To][Uo]||20<=this.maps.map_bg[To][Vo])&&(this.co_j.x=32*To+32-14)}if(this.co_j.x+15>=bo&&this.co_j.x<=bo+64&&this.co_j.y+31>=co&&this.co_j.y<=co+13)if(0<Oo){this.co_j.x=bo+65;var Wo=this.co_j.x+15>>5,Xo=this.co_j.y>>5,Yo=this.co_j.y+31>>5;(20<=this.maps.map_bg[Wo][Xo]||20<=this.maps.map_bg[Wo][Yo])&&(this.co_j.c=230,this.co_j.x=32*Wo-32+11,this.co_j.c1=0,this.j_zan_f=!1,this.j_jet_c=0,this.j_v_c=0)}else{this.co_j.x=bo-16;var Zo=this.co_j.x+15>>5,$o=this.co_j.y>>5,_o=this.co_j.y+31>>5;(20<=this.maps.map_bg[Zo][$o]||20<=this.maps.map_bg[Zo][_o])&&(this.co_j.c=230,this.co_j.x=32*Zo+32-11,this.co_j.c1=0,this.j_zan_f=!1,this.j_jet_c=0,this.j_v_c=0)}}break;case 300:bo>this.maps.wx-96&&bo<this.maps.wx+512&&co>this.maps.wy-64&&co<this.maps.wy+320?(ao.gf=!0,this.a_hf=!0,100==this.co_j.c&&this.co_j.x+15>=bo&&this.co_j.x<=bo+48&&this.co_j.y==co-32&&(this.j_a_id=_n,this.co_j.x+15>=bo+24&&this.co_j.x<=bo+48-24&&this.co_j.y==co-32&&1!=ao.c4&&(0==this.sl_step||1==this.sl_step||10==this.sl_step||11==this.sl_step||2!=this.dokan_mode)&&(this.co_j.c1=-10,this.co_j.c2=ao.c3,this.j_zan_f=!1,this.j_jet_c=0,this.j_v_c=0,this.co_j.c=300,this.co_j.x=bo+16,this.co_j.y=co-32,this.co_j.vx=0,this.co_j.vy=0,ao.c4=1)),100==this.co_j.c&&this.j_a_id!=_n&&(ao.c4=0)):ao.gf=!1;break;case 400:bo>this.maps.wx-96&&bo<this.maps.wx+512&&co>this.maps.wy-64&&co<this.maps.wy+320?(ao.gf=!0,this.a_hf=!0,100==this.co_j.c&&this.co_j.x+15>=bo&&this.co_j.x<=bo+80&&this.co_j.y==co-32&&(this.j_a_id=_n)):ao.gf=!1,0==ao.c3?bo-64<this.co_j.x+15&&bo+96+64>this.co_j.x+15&&(ao.c3=1):ao.c3<100?(ao.c3++,8<ao.c3&&(ao.c3=100)):100==ao.c3?(co+=12)>=ao.vy+128&&(co=ao.vy+128,ao.c3=200):200==ao.c3&&(co-=3)<=ao.vy&&(co=ao.vy,ao.c3=0,bo<=this.co_j.x+15&&bo+96>this.co_j.x+15&&(ao.c3=100)),100==this.co_j.c&&(this.j_a_id==_n&&(this.co_j.y=co-32,200==ao.c3&&20<=this.maps.getBGCode(this.co_j.x+15,this.co_j.y)&&(this.co_j.y=32*(this.co_j.y>>5)+16,this.jShinu(3))),this.co_j.x+15>=bo&&this.co_j.x<=bo+80&&this.co_j.y+31>=co&&this.co_j.y<=co+63&&(100==ao.c3?(this.co_j.y=co+64,18<=this.maps.getBGCode(this.co_j.x+15,this.co_j.y+31)&&(this.co_j.y=32*(this.co_j.y+31>>5)-32,this.jShinu(3))):200==ao.c3&&(this.co_j.y=co-32,this.j_a_id=_n,20<=this.maps.getBGCode(this.co_j.x+15,this.co_j.y)&&(this.co_j.y=32*(this.co_j.y>>5)+16,this.jShinu(3)))));break;case 500:bo>this.maps.wx-96-32&&bo<this.maps.wx+512+32&&co>this.maps.wy-32&&co<=this.maps.wy+368?(ao.gf=!0,this.a_hf=!0,100==this.co_j.c&&this.co_j.x+15>=bo&&this.co_j.x<=bo+80&&this.co_j.y==co-32?(this.j_a_id=_n,1==ao.c4?ao.c3<50&&(ao.c3<=0?ao.c3=1:ao.c3<=30?ao.c3++:(ao.c3=55,ao.vy=0)):ao.c3<=0&&(ao.c3=51,ao.vy=0)):1==ao.c4&&ao.c3<50&&(ao.c3=0)):ao.gf=!1,0<ao.c3&&(51<=ao.c3&&ao.c3<=54?ao.c3++:55<=ao.c3&&ao.c3<100&&(ao.vy<16&&ao.vy++,co+=ao.vy,20<=this.maps.getBGCode(bo+32,co+13)&&(co=32*(co+13>>5)-14,ao.c3=100),co>=this.ochiru_y+48&&(ao.c=0,ao.gf=!1))),100==this.co_j.c&&this.j_a_id==_n&&(this.co_j.y=co-32);break;case 600:if(bo>this.maps.wx-96&&bo<this.maps.wx+512&&co>this.maps.wy-64&&co<this.maps.wy+320?(ao.gf=!0,this.a_hf=!0,100==this.co_j.c&&this.co_j.x+15>=bo&&this.co_j.x<=bo+48&&this.co_j.y==co+16-32&&(this.j_a_id=_n)):ao.gf=!1,ao.pt=600,ao.c3<=0?(ao.vx=0,this.j_a_id==_n&&(ao.c3=100,ao.c4=0,ao.vx=2),this.co_j.x>=bo-144&&(ao.pt=605)):100==ao.c3?(ao.c1=bo-512-32,ao.c2=bo+128,this.j_a_id!=_n?(ao.c4++,50<ao.c4&&(ao.c3=0)):ao.c4=0,ao.pt=605):200==ao.c3&&(ao.pt=605,ao.vx=0),bo+=ao.vx,(20<=this.maps.getBGCode(bo+63+16,co)||20<=this.maps.getBGCode(bo+63+16,co+32))&&(bo=32*(bo+63+16>>5)-64-16,ao.vx=bo-ao.x,ao.c3=200),100==this.co_j.c){if(this.j_a_id==_n&&(this.co_j.x+=ao.vx,0<ao.vx)){var ap=this.co_j.x+15>>5,bp=this.co_j.y>>5,cp=this.co_j.y+31>>5;(20<=this.maps.map_bg[ap][bp]||20<=this.maps.map_bg[ap][cp])&&(this.co_j.x=32*ap-16)}this.co_j.x+15>=bo&&this.co_j.x<=bo+48&&this.co_j.y+31>=co+16&&this.co_j.y<=co+47&&(this.co_j.x=bo+49)}break;case 700:bo>this.maps.wx-96&&bo<this.maps.wx+512&&co>this.maps.wy-64&&co<this.maps.wy+320?(ao.gf=!0,this.a_hf=!0,100==this.co_j.c&&this.co_j.x+15>=bo&&this.co_j.x<=bo+16&&(1<=ao.c3&&ao.c3<=2&&this.co_j.y==co-32+10?this.j_a_id=_n:3<=ao.c3&&ao.c3<=4&&this.co_j.y==co-32+16?this.j_a_id=_n:5<=ao.c3&&ao.c3<=6&&this.co_j.y==co-32+10?this.j_a_id=_n:this.co_j.y==co-32&&(this.j_a_id=_n))):ao.gf=!1,this.j_a_id==_n?(this.co_j.vx=0,this.co_j.vy=0,this.co_j.x=bo,this.j_jdai_f=!0,ao.c3++,ao.c3<=2?(ao.pt=710,this.co_j.y=co-32+10):ao.c3<=4?(ao.pt=720,this.co_j.y=co-32+16):ao.c3<=6?(ao.pt=710,this.co_j.y=co-32+10):7<=ao.c3&&(ao.pt=700,this.co_j.y=co-32,ao.c3=0,this.j_a_id=-1,this.j_jump_type=4,this.co_j.pt=101,this.co_j.ac=0,this.co_j.vy=-255,this.j_jump_level=1,4==this.maps.getBGCode(bo,co)&&(this.co_j.vy=-75))):(ao.c3=0,ao.pt=700)}if(0<this.jm_kazu)for(var dp=0;dp<=1;dp++)if(100<=this.co_jm[dp].c){var ep=this.co_jm[dp];ao.c<200?ep.x+15>=bo&&ep.x<=bo+64&&ep.y+29>=co&&ep.y+2<=co+13&&(200==ep.c?(ep.c=50,ep.y=co-8,ep.c1=1,ep.c2=20):(ep.c=0,this.jm_kazu--)):300==ao.c?ep.x+15>=bo&&ep.x<=bo+48&&ep.y+29>=co&&ep.y+2<=co+31&&(200==ep.c?(ep.c=50,ep.c1=1,ep.c2=20):(ep.c=0,this.jm_kazu--)):400==ao.c?ep.x+15>=bo&&ep.x<=bo+80&&ep.y+29>=co&&ep.y+2<=co+63&&(200==ep.c?(ep.c=50,ep.c1=1,ep.c2=20):(ep.c=0,this.jm_kazu--)):500==ao.c&&ep.x+15>=bo&&ep.x<=bo+80&&ep.y+29>=co&&ep.y+2<=co+13&&(200==ep.c?(ep.c=50,ep.y=co-8,ep.c1=1,ep.c2=20):(ep.c=0,this.jm_kazu--))}ao.x=bo,ao.y=co}}},G.prototype.bMove=function(){if(!(this.co_b.x>=this.maps.wx+1024)){switch(this.co_b.c){case 40:this.co_b.c1<20&&this.co_b.c1++,15==this.co_b.c1&&this.mSet(this.maps.wx+256,this.maps.wy+128,2200),this.co_b.pt=0;break;case 60:this.co_b.c1++,this.co_b.c4<=0?26<=this.co_b.c1&&(this.co_b.c=40,this.co_b.c1=0,this.addScore(10)):11<=this.co_b.c1&&(this.co_b.c=150),this.co_b.pt=1010;break;case 65:this.co_b.c1++,11<=this.co_b.c1&&(this.co_b.c=155),this.co_b.pt=1015;break;case 67:this.co_b.vy+=4,28<this.co_b.vy&&(this.co_b.vy=28),this.co_b.x+=this.co_b.vx,this.co_b.y+=this.co_b.vy,this.co_b.y>=this.maps.wy+320+16&&(this.co_b.c=40,this.co_b.c1=0,this.addScore(10)),1==this.co_b.muki?this.co_b.pt=1005:this.co_b.pt=1e3;break;case 70:this.co_b.c1++,this.co_b.c4<=0?26<=this.co_b.c1&&(this.co_b.c=40,this.co_b.c1=0,this.addScore(10)):11<=this.co_b.c1&&(this.co_b.c=250),this.co_b.pt=1110;break;case 75:this.co_b.c1++,11<=this.co_b.c1&&(this.co_b.c=255),this.co_b.pt=1115;break;case 77:this.co_b.vy+=4,28<this.co_b.vy&&(this.co_b.vy=28),this.co_b.x+=this.co_b.vx,this.co_b.y+=this.co_b.vy,this.co_b.y>=this.maps.wy+320+16&&(this.co_b.c=40,this.co_b.c1=0,this.addScore(10)),1==this.co_b.muki?this.co_b.pt=1105:this.co_b.pt=1100;break;case 80:this.co_b.c1++,this.co_b.c4<=0?26<=this.co_b.c1&&(this.co_b.c=40,this.co_b.c1=0,this.addScore(10)):11<=this.co_b.c1&&(this.co_b.c=350),this.co_b.pt=1210;break;case 85:this.co_b.c1++,11<=this.co_b.c1&&(this.co_b.c=355),this.co_b.pt=1215;break;case 87:this.co_b.vy+=4,28<this.co_b.vy&&(this.co_b.vy=28),this.co_b.x+=this.co_b.vx,this.co_b.y+=this.co_b.vy,this.co_b.y>=this.maps.wy+320+16&&(this.co_b.c=40,this.co_b.c1=0,this.addScore(10)),1==this.co_b.muki?this.co_b.pt=1205:this.co_b.pt=1200;break;case 100:2!=this.sl_step&&3!=this.sl_step||(this.co_b.c=110,this.co_b.c1=0),this.co_b.pt=1e3;break;case 110:if(2==this.boss_type){var fp=150;this.co_b.c1++,1==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,fp,-2):5==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,fp,-4):7==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,fp,-6):9==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,fp,-8):21==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,fp,-2):91==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,fp,-2):95==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,fp,-4):97==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,fp,-6):99==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,fp,-8):111==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,fp,-2):170==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,fp,-4):180==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,fp,-2):250<this.co_b.c1&&(this.co_b.c1=250)}else if(3==this.boss_type){var gp=450;this.co_b.c1++,5==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,gp,-3):20==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,gp,-3):35==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,gp,-3):50==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,gp,-3):65==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,gp,-3):80==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,gp,-3):95==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,gp,-3):110==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,gp,-3):250<this.co_b.c1&&(this.co_b.c1=250)}else if(4==this.boss_type){this.co_b.c1++,1==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,650,-5):15==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,650,-3):29==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,650,-2):81==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,650,-5):95==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,650,-3):109==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,650,-2):165==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,650,-3):250<this.co_b.c1&&(this.co_b.c1=250)}else if(this.co_b.c1++,3==this.co_b.c1)this.mSet2(this.co_b.x,this.co_b.y,500,-4,-18),this.mSet2(this.co_b.x,this.co_b.y,500,4,-18);else if(14==this.co_b.c1)this.mSet2(this.co_b.x,this.co_b.y,500,-6,-20),this.mSet2(this.co_b.x,this.co_b.y,500,6,-20);else if(20==this.co_b.c1)this.mSet2(this.co_b.x,this.co_b.y,500,-3,-24),this.mSet2(this.co_b.x,this.co_b.y,500,3,-24);else if(28<=this.co_b.c1&&this.co_b.c1<=98)this.co_b.c1%7==0&&this.mSet2(this.co_b.x,this.co_b.y,500,-15+this.ranInt(20),-30);else if(130==this.co_b.c1){var ip=this.ranInt(8)+3;this.mSet2(this.co_b.x,this.co_b.y,500,ip,-30),this.mSet2(this.co_b.x,this.co_b.y,500,-ip,-30)}else 150<=this.co_b.c1&&(this.co_b.c1=98);this.co_b.pt=1e3;break;case 115:if(2==this.boss_type){var jp=150;this.co_b.c1++,1==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,jp,2):5==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,jp,4):7==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,jp,6):9==this.co_b.c1&&3!=this.boss_type?this.tSetBoss(this.co_b.x,this.co_b.y,jp,8):21==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,jp,2):91==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,jp,2):95==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,jp,4):97==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,jp,6):99==this.co_b.c1&&3!=this.boss_type?this.tSetBoss(this.co_b.x,this.co_b.y,jp,8):111==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,jp,2):170==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,jp,4):180==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,jp,2):250<this.co_b.c1&&(this.co_b.c1=250)}else if(3==this.boss_type){var kp=450;this.co_b.c1++,5==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,kp,3):20==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,kp,3):35==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,kp,3):50==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,kp,3):65==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,kp,3):80==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,kp,3):95==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,kp,3):110==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,kp,3):250<this.co_b.c1&&(this.co_b.c1=250)}else if(4==this.boss_type){this.co_b.c1++,1==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,650,5):15==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,650,3):29==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,650,2):81==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,650,5):95==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,650,3):109==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,650,2):165==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,650,3):250<this.co_b.c1&&(this.co_b.c1=250)}else if(this.co_b.c1++,3==this.co_b.c1)this.mSet2(this.co_b.x,this.co_b.y,500,-4,-18),this.mSet2(this.co_b.x,this.co_b.y,500,4,-18);else if(14==this.co_b.c1)this.mSet2(this.co_b.x,this.co_b.y,500,-6,-20),this.mSet2(this.co_b.x,this.co_b.y,500,6,-20);else if(20==this.co_b.c1)this.mSet2(this.co_b.x,this.co_b.y,500,-3,-24),this.mSet2(this.co_b.x,this.co_b.y,500,3,-24);else if(28<=this.co_b.c1&&this.co_b.c1<=98)this.co_b.c1%7==0&&this.mSet2(this.co_b.x,this.co_b.y,500,15-this.ranInt(20),-30);else if(130==this.co_b.c1){var mp=this.ranInt(8)+3;this.mSet2(this.co_b.x,this.co_b.y,500,mp,-30),this.mSet2(this.co_b.x,this.co_b.y,500,-mp,-30)}else 150<=this.co_b.c1&&(this.co_b.c1=98);this.co_b.pt=1005;break;case 150:this.co_b.x-=14,this.co_b.x<=this.sl_wx+96&&(this.co_b.x=this.sl_wx+96,this.co_b.c=115,this.co_b.c1=0),this.co_b.pt=1e3;break;case 155:this.co_b.x+=14,this.co_b.x>=this.sl_wx+512-96-32&&(this.co_b.x=this.sl_wx+512-96-32,this.co_b.c=110,this.co_b.c1=0),this.co_b.pt=1005;break;case 200:2!=this.sl_step&&3!=this.sl_step||(this.co_b.c=210,this.co_b.c1=0),this.co_b.pt=1100;break;case 210:if(this.co_b.c1++,2==this.boss2_type)if(10==this.co_b.c1||85==this.co_b.c1||215==this.co_b.c1)for(var np=0;np<=7;np++){var op=45*np*3.14/180,pp=c.floor(8*c.cos(op)),qp=-1*c.floor(8*c.sin(op));this.mSet2(this.co_b.x,this.co_b.y-8,710,pp,qp)}else if(35==this.co_b.c1||110==this.co_b.c1||295==this.co_b.c1)for(var rp=0;rp<=7;rp++){var sp=3.14*(45*rp+15)/180,tp=c.floor(8*c.cos(sp)),up=-1*c.floor(8*c.sin(sp));this.mSet2(this.co_b.x,this.co_b.y-8,710,tp,up)}else if(60==this.co_b.c1||135==this.co_b.c1||375==this.co_b.c1)for(var vp=0;vp<=7;vp++){var wp=3.14*(45*vp+30)/180,xp=c.floor(8*c.cos(wp)),yp=-1*c.floor(8*c.sin(wp));this.mSet2(this.co_b.x,this.co_b.y-8,710,xp,yp)}else 445<this.co_b.c1&&(this.co_b.c1=0);else 5==this.co_b.c1||35==this.co_b.c1||65==this.co_b.c1||110==this.co_b.c1||185==this.co_b.c1?this.mSet(this.co_b.x,this.co_b.y,90):185<this.co_b.c1&&(this.co_b.c1=110);this.co_b.pt=1100;break;case 215:if(this.co_b.c1++,2==this.boss2_type)if(10==this.co_b.c1||85==this.co_b.c1||215==this.co_b.c1)for(var zp=0;zp<=7;zp++){var Ap=45*zp*3.14/180,Bp=c.floor(8*c.cos(Ap)),Cp=-1*c.floor(8*c.sin(Ap));this.mSet2(this.co_b.x,this.co_b.y-8,710,Bp,Cp)}else if(35==this.co_b.c1||110==this.co_b.c1||295==this.co_b.c1)for(var Dp=0;Dp<=7;Dp++){var Ep=3.14*(45*Dp+15)/180,Fp=c.floor(8*c.cos(Ep)),Gp=-1*c.floor(8*c.sin(Ep));this.mSet2(this.co_b.x,this.co_b.y-8,710,Fp,Gp)}else if(60==this.co_b.c1||135==this.co_b.c1||375==this.co_b.c1)for(var Hp=0;Hp<=7;Hp++){var Ip=3.14*(45*Hp+30)/180,Jp=c.floor(8*c.cos(Ip)),Kp=-1*c.floor(8*c.sin(Ip));this.mSet2(this.co_b.x,this.co_b.y-8,710,Jp,Kp)}else 445<this.co_b.c1&&(this.co_b.c1=0);else 5==this.co_b.c1||35==this.co_b.c1||65==this.co_b.c1||110==this.co_b.c1||185==this.co_b.c1?this.mSet(this.co_b.x,this.co_b.y,90):185<this.co_b.c1&&(this.co_b.c1=110);this.co_b.pt=1105;break;case 250:this.co_b.x-=14,this.co_b.x<=this.sl_wx+96&&(this.co_b.x=this.sl_wx+96,this.co_b.c=215,this.co_b.c1=0),this.co_b.pt=1100;break;case 255:this.co_b.x+=14,this.co_b.x>=this.sl_wx+512-96-32&&(this.co_b.x=this.sl_wx+512-96-32,this.co_b.c=210,this.co_b.c1=0),this.co_b.pt=1105;break;case 300:2!=this.sl_step&&3!=this.sl_step||(2<=this.boss3_type&&this.boss3_type<=4?(this.co_b.c=360,this.co_b.vy=-24):this.co_b.c=310,this.co_b.c1=0),this.co_b.pt=1200;break;case 310:this.co_b.c1++,1==this.co_b.c1?this.mSet2(this.co_b.x,this.co_b.y,800,-5,-32):15==this.co_b.c1?(this.mSet2(this.co_b.x,this.co_b.y,800,-10,-32),this.co_j.x>this.co_b.x-64&&(this.co_b.c1=500)):29==this.co_b.c1?this.mSet2(this.co_b.x,this.co_b.y,800,-15,-32):65==this.co_b.c1?this.mSet2(this.co_b.x-2,this.co_b.y,800,-20,-32):80==this.co_b.c1?this.mSet2(this.co_b.x,this.co_b.y,800,-5,-32):105==this.co_b.c1?this.mSet2(this.co_b.x,this.co_b.y,800,-15,-32):147==this.co_b.c1?this.mSet2(this.co_b.x,this.co_b.y,800,-10,-32):237==this.co_b.c1?this.co_b.c1=0:520==this.co_b.c1?this.mSet2(this.co_b.x,this.co_b.y,800,4,-32):530==this.co_b.c1?(this.mSet2(this.co_b.x,this.co_b.y,800,-5,-32),this.co_b.c1=1):530<this.co_b.c1&&(this.co_b.c1=1),this.co_b.pt=1200;break;case 315:this.co_b.c1++,1==this.co_b.c1?this.mSet2(this.co_b.x,this.co_b.y,800,5,-32):15==this.co_b.c1?(this.mSet2(this.co_b.x,this.co_b.y,800,10,-32),this.co_j.x<this.co_b.x+64&&(this.co_b.c1=500)):29==this.co_b.c1?this.mSet2(this.co_b.x,this.co_b.y,800,15,-32):65==this.co_b.c1?this.mSet2(this.co_b.x+2,this.co_b.y,800,20,-32):80==this.co_b.c1?this.mSet2(this.co_b.x,this.co_b.y,800,5,-32):105==this.co_b.c1?this.mSet2(this.co_b.x,this.co_b.y,800,15,-32):147==this.co_b.c1?this.mSet2(this.co_b.x,this.co_b.y,800,10,-32):237==this.co_b.c1?this.co_b.c1=0:520==this.co_b.c1?this.mSet2(this.co_b.x,this.co_b.y,800,-4,-32):530==this.co_b.c1?(this.mSet2(this.co_b.x,this.co_b.y,800,5,-32),this.co_b.c1=1):530<this.co_b.c1&&(this.co_b.c1=1),this.co_b.pt=1205;break;case 350:this.co_b.x-=14,this.co_b.x<=this.sl_wx+96&&(this.co_b.x=this.sl_wx+96,2<=this.boss3_type&&this.boss3_type<=4?(this.co_b.c=365,this.co_b.vy=-24):this.co_b.c=315,this.co_b.c1=0),this.co_b.pt=1200;break;case 355:this.co_b.x+=14,this.co_b.x>=this.sl_wx+512-96-32&&(this.co_b.x=this.sl_wx+512-96-32,2<=this.boss3_type&&this.boss3_type<=4?(this.co_b.c=360,this.co_b.vy=-24):this.co_b.c=310,this.co_b.c1=0),this.co_b.pt=1205;break;case 360:this.co_b.pt=1200,this.co_b.c1<5?this.co_b.c1++:this.co_b.c1<25?(this.co_b.c1++,this.co_b.pt=1250):25==this.co_b.c1?(3==this.boss3_type?(this.co_b.x-=18,this.co_b.x<=this.sl_wx+16&&(this.co_b.x=this.sl_wx+16,this.co_b.c1=30)):4==this.boss3_type?(this.co_b.x-=3,this.co_b.vy+=2,24<this.co_b.vy&&(this.co_b.vy=24),this.co_b.y+=this.co_b.vy,this.co_b.y>=this.boss_kijyun_y&&(this.co_b.y=this.boss_kijyun_y,this.co_b.vy=-24,this.co_b.x<=this.sl_wx+16&&(this.co_b.c1=30))):(this.co_b.x-=12,this.co_b.x<=this.sl_wx+16&&(this.co_b.x=this.sl_wx+16,this.co_b.c1=30)),this.co_b.pt=1250):30==this.co_b.c1?(3==this.boss3_type?(this.co_b.x+=18,this.co_b.x>=this.sl_wx+512-48&&(this.co_b.x=this.sl_wx+512-48,this.co_b.c1=40)):4==this.boss3_type?(this.co_b.x+=4,this.co_b.vy+=2,24<this.co_b.vy&&(this.co_b.vy=24),this.co_b.y+=this.co_b.vy,this.co_b.y>=this.boss_kijyun_y&&(this.co_b.y=this.boss_kijyun_y,this.co_b.vy=-24,this.co_b.x>=this.sl_wx+512-48&&(this.co_b.c1=40))):(this.co_b.x+=8,this.co_b.x>=this.sl_wx+512-48&&(this.co_b.x=this.sl_wx+512-48,this.co_b.c1=40)),this.co_b.pt=1255):40==this.co_b.c1&&(this.co_b.x-=2,this.co_b.x<=this.sl_wx+512-96-32&&(this.co_b.x=this.sl_wx+512-96-32,this.co_b.c1=-20));break;case 365:this.co_b.pt=1205,this.co_b.c1<5?this.co_b.c1++:this.co_b.c1<25?(this.co_b.c1++,this.co_b.pt=1255):25==this.co_b.c1?(3==this.boss3_type?(this.co_b.x+=18,this.co_b.x>=this.sl_wx+512-48&&(this.co_b.x=this.sl_wx+512-48,this.co_b.c1=30)):4==this.boss3_type?(this.co_b.x+=3,this.co_b.vy+=2,24<this.co_b.vy&&(this.co_b.vy=24),this.co_b.y+=this.co_b.vy,this.co_b.y>=this.boss_kijyun_y&&(this.co_b.y=this.boss_kijyun_y,this.co_b.vy=-24,this.co_b.x>=this.sl_wx+512-48&&(this.co_b.c1=30))):(this.co_b.x+=12,this.co_b.x>=this.sl_wx+512-48&&(this.co_b.x=this.sl_wx+512-48,this.co_b.c1=30)),this.co_b.pt=1255):30==this.co_b.c1?(3==this.boss3_type?(this.co_b.x-=18,this.co_b.x<=this.sl_wx+16&&(this.co_b.x=this.sl_wx+16,this.co_b.c1=40)):4==this.boss3_type?(this.co_b.x-=4,this.co_b.vy+=2,24<this.co_b.vy&&(this.co_b.vy=24),this.co_b.y+=this.co_b.vy,this.co_b.y>=this.boss_kijyun_y&&(this.co_b.y=this.boss_kijyun_y,this.co_b.vy=-24,this.co_b.x<=this.sl_wx+16&&(this.co_b.c1=40))):(this.co_b.x-=8,this.co_b.x<=this.sl_wx+16&&(this.co_b.x=this.sl_wx+16,this.co_b.c1=40)),this.co_b.pt=1250):40==this.co_b.c1&&(this.co_b.x+=2,this.co_b.x>=this.sl_wx+96&&(this.co_b.x=this.sl_wx+96,this.co_b.c1=-20))}if(100<=this.co_j.c&&this.co_j.c<200&&100<=this.co_b.c&&c.abs(this.co_b.x-this.co_j.x)<42&&this.co_j.y>this.co_b.y-20&&this.co_j.y<this.co_b.y+40&&(1250==this.co_b.pt||1255==this.co_b.pt?this.jShinu(2):c.abs(this.co_b.x-this.co_j.x)<34&&0<this.co_j.vy?(this.co_b.c<200?(this.co_b.c4--,1==this.co_b.c4?(this.co_b.c=65,this.co_b.c1=0,this.co_b.pt=1015):(this.co_b.c=60,this.co_b.c1=0,this.co_b.pt=1010)):this.co_b.c<300?(this.co_b.c4--,1==this.co_b.c4?(this.co_b.c=75,this.co_b.c1=0,this.co_b.pt=1115):(this.co_b.c=70,this.co_b.c1=0,this.co_b.pt=1110)):(this.co_b.c4--,1==this.co_b.c4?(this.co_b.c=85,this.co_b.c1=0,this.co_b.pt=1215):(this.co_b.c=80,this.co_b.c1=0,this.co_b.pt=1210)),this.co_j.y=this.co_b.y,this.co_j.vy=-320,this.j_jump_type=1,this.co_j.c=110,this.co_j.c1=-4,this.co_j.pt=109):this.jShinu(2)),0<this.jm_kazu&&100<=this.co_b.c)for(var Lp=0;Lp<=1;Lp++)if(100<=this.co_jm[Lp].c){var Mp=this.co_jm[Lp];c.abs(this.co_b.x-Mp.x)<34&&c.abs(this.co_b.y-Mp.y)<30&&(200==Mp.c?(Mp.c=50,Mp.c1=1,Mp.c2=20,1!=this.grenade_type&&5!=this.grenade_type||(this.co_b.c<200?(this.co_b.c=67,this.co_b.vy=-24,this.co_b.c1=0,Mp.vx<0?(this.co_b.muki=1,this.co_b.pt=1005,this.co_b.vx=-4):(this.co_b.muki=0,this.co_b.pt=1e3,this.co_b.vx=4)):this.co_b.c<300?(this.co_b.c=77,this.co_b.vy=-24,this.co_b.c1=0,Mp.vx<0?(this.co_b.muki=1,this.co_b.pt=1105,this.co_b.vx=-4):(this.co_b.muki=0,this.co_b.pt=1100,this.co_b.vx=4)):(this.co_b.c=87,this.co_b.vy=-24,this.co_b.c1=0,Mp.vx<0?(this.co_b.muki=1,this.co_b.pt=1205,this.co_b.vx=-4):(this.co_b.muki=0,this.co_b.pt=1200,this.co_b.vx=4)))):(Mp.c=0,this.jm_kazu--))}}},G.prototype.hSet=function(Np,Op,Pp){for(var Qp=0;Qp<=63;Qp++)if(!(0<this.co_h[Qp].c)){var Rp=this.co_h[Qp];Rp.c=Pp,Rp.x=Np,Rp.y=Op;break}},G.prototype.hAttack=function(Sp,Tp){for(var Up=0;Up<=63;Up++){var Vp=this.co_h[Up];if(0!=Vp.c&&Vp.x==Sp&&Vp.y==Tp){switch(Vp.c){case 100:this.mSet(32*Sp,32*Tp-32,2e3);break;case 200:this.mSet(32*Sp,32*Tp-32,2010),this.mSet(32*Sp,32*Tp-32,2020),this.mSet(32*Sp,32*Tp-32,2e3);break;case 300:this.mSet(32*Sp,32*Tp-32,2100);break;case 400:this.mSet(32*Sp,32*Tp-32,2110);break;case 500:this.mSet(32*Sp,32*Tp-32,2120);break;case 600:this.mSet(32*Sp,32*Tp-32,2130);break;case 700:this.mSet(32*Sp,32*Tp-32,2140);break;case 800:this.mSet(32*Sp,32*Tp-32,2150);break;case 900:this.mSet(32*Sp,32*Tp-32,2160);break;case 1e3:this.mSet(32*Sp,32*Tp-32,2170);break;case 1100:this.mSet(32*Sp,32*Tp-32,2180),this.stage_1up_f[this.stage-1]=!1}this.maps.putBGCode(Sp,Tp,41),Vp.c=0;break}}},H.prototype.init=function(){this.wx=0,this.wy=0,this.os2_wx=0;for(var _p=this.os2_wy=0;_p<this.height;_p++)for(var aq=0;aq<this.width;aq++)this.map_bg[aq][_p]=0;for(var bq=0;bq<this.height;bq++)this.map_string[bq]=this.bg_space},H.prototype.setBank=function(cq){var dq;dq=1==cq?40:2==cq?50:4==cq?60:30;for(var eq=0;eq<=9;eq++)this.gg.spt_img[0][10+eq]=this.gg.spt_img[0][dq+eq]},H.prototype.drawMap=function(fq,gq){this.wx=fq,this.wy=gq;var hq=this.wx%32,iq=this.wy%32;this.os2_wx=this.wx>>5,this.os2_wy=this.wy>>5,this.gg.fill2();for(var jq=0;jq<=10;jq++)for(var kq=0;kq<=16;kq++){0<this.map_bg[this.os2_wx+kq][this.os2_wy+jq]&&this.gg.drawPT2(32+32*kq,32+32*jq,this.map_bg[this.os2_wx+kq][this.os2_wy+jq])}this.gg.os_g.drawImage(this.gg.os2_img,-32-hq,-32-iq,this.gg.ap)},H.prototype.drawMapScroll=function(mq){var nq=this.wx%32,oq=this.wy%32,pq=this.wx>>5,qq=this.wy>>5;if(pq>this.os2_wx+1||pq<this.os2_wx-1||qq>this.os2_wy+1||qq<this.os2_wy-1)this.drawMap(this.wx,this.wy);else if(qq>this.os2_wy)if(pq>this.os2_wx){this.g2.copyArea(64,64,544,352,-32,-32),this.os2_wx=pq,this.os2_wy=qq;for(var rq=this.os2_wy+10,sq=0;sq<=16;sq++)0<this.map_bg[this.os2_wx+sq][rq]&&this.g2.drawImage(this.hi[this.map_bg[this.os2_wx+sq][rq]],32+32*sq,352,this.ap);for(var tq=this.os2_wx+16,uq=0;uq<=9;uq++)0<this.map_bg[tq][this.os2_wy+uq]&&this.g2.drawImage(this.hi[this.map_bg[tq][this.os2_wy+uq]],544,32+32*uq,this.ap)}else if(pq<this.os2_wx){this.g2.copyArea(0,64,544,352,32,-32),this.os2_wx=pq,this.os2_wy=qq;for(var vq=this.os2_wy+10,wq=0;wq<=16;wq++)0<this.map_bg[this.os2_wx+wq][vq]&&this.g2.drawImage(this.hi[this.map_bg[this.os2_wx+wq][vq]],32+32*wq,352,this.ap);for(var xq=0;xq<=9;xq++)0<this.map_bg[this.os2_wx][this.os2_wy+xq]&&this.g2.drawImage(this.hi[this.map_bg[this.os2_wx][this.os2_wy+xq]],32,32+32*xq,this.ap)}else{this.g2.copyArea(32,64,544,352,0,-32),this.os2_wy=qq;for(var yq=this.os2_wy+10,zq=0;zq<=16;zq++)0<this.map_bg[this.os2_wx+zq][yq]&&this.g2.drawImage(this.hi[this.map_bg[this.os2_wx+zq][yq]],32+32*zq,352,this.ap)}else if(qq<this.os2_wy)if(pq>this.os2_wx){this.g2.copyArea(64,0,544,352,-32,32),this.os2_wx=pq,this.os2_wy=qq;for(var Aq=0;Aq<=16;Aq++)0<this.map_bg[this.os2_wx+Aq][this.os2_wy]&&this.g2.drawImage(this.hi[this.map_bg[this.os2_wx+Aq][this.os2_wy]],32+32*Aq,32,this.ap);for(var Bq=this.os2_wx+16,Cq=1;Cq<=10;Cq++)0<this.map_bg[Bq][this.os2_wy+Cq]&&this.g2.drawImage(this.hi[this.map_bg[Bq][this.os2_wy+Cq]],544,32+32*Cq,this.ap)}else if(pq<this.os2_wx){this.g2.copyArea(0,0,544,352,32,32),this.os2_wx=pq,this.os2_wy=qq;for(var Dq=0;Dq<=16;Dq++)0<this.map_bg[this.os2_wx+Dq][this.os2_wy]&&this.g2.drawImage(this.hi[this.map_bg[this.os2_wx+Dq][this.os2_wy]],32+32*Dq,32,this.ap);for(var Eq=1;Eq<=10;Eq++)0<this.map_bg[this.os2_wx][this.os2_wy+Eq]&&this.g2.drawImage(this.hi[this.map_bg[this.os2_wx][this.os2_wy+Eq]],32,32+32*Eq,this.ap)}else{this.g2.copyArea(32,0,544,352,0,32),this.os2_wy=qq;for(var Fq=0;Fq<=16;Fq++)0<this.map_bg[this.os2_wx+Fq][this.os2_wy]&&this.g2.drawImage(this.hi[this.map_bg[this.os2_wx+Fq][this.os2_wy]],32+32*Fq,32,this.ap)}else if(pq>this.os2_wx){this.g2.copyArea(64,32,544,352,-32,0),this.os2_wx=pq;for(var Gq=this.os2_wx+16,Hq=0;Hq<=10;Hq++)0<this.map_bg[Gq][this.os2_wy+Hq]&&this.g2.drawImage(this.hi[this.map_bg[Gq][this.os2_wy+Hq]],544,32+32*Hq,this.ap)}else if(pq<this.os2_wx){this.g2.copyArea(0,32,544,352,32,0),this.os2_wx=pq;for(var Iq=0;Iq<=10;Iq++)0<this.map_bg[this.os2_wx][this.os2_wy+Iq]&&this.g2.drawImage(this.hi[this.map_bg[this.os2_wx][this.os2_wy+Iq]],32,32+32*Iq,this.ap)}for(var Jq=this.hi[90+mq],Kq=0;Kq<=10;Kq++)for(var Lq=this.os2_wy+Kq,Mq=0;Mq<=16;Mq++)switch(this.map_bg[this.os2_wx+Mq][Lq]){default:break;case 5:4==this.map_bg[this.os2_wx+Mq][Lq-1]&&(this.gg.drawBG2(32+32*Mq,32+32*Kq,4),this.gg.drawPT2(32+32*Mq,32+32*Kq,5));break;case 6:4==this.map_bg[this.os2_wx+Mq][Lq+1]&&(this.gg.drawBG2(32+32*Mq,32+32*Kq,4),this.gg.drawPT2(32+32*Mq,32+32*Kq,6));break;case 7:0==mq||2==mq?this.gg.drawBG2(32+32*Mq,32+32*Kq,96):this.gg.drawBG2(32+32*Mq,32+32*Kq,97);break;case 8:if(0==mq){if(4==this.map_bg[this.os2_wx+Mq-1][Lq]){this.gg.drawBG2(32+32*Mq,32+32*Kq,4),2<=this.mp.stage_max&&this.mp.stage>=this.mp.stage_max?this.gg.drawPT2(32+32*Mq,32+32*Kq,99):this.gg.drawPT2(32+32*Mq,32+32*Kq,95);break}2<=this.mp.stage_max&&this.mp.stage>=this.mp.stage_max?this.gg.drawBG2(32+32*Mq,32+32*Kq,99):this.gg.drawBG2(32+32*Mq,32+32*Kq,95);break}if(4==this.map_bg[this.os2_wx+Mq-1][Lq]){this.gg.drawBG2(32+32*Mq,32+32*Kq,4),2<=this.mp.stage_max&&this.mp.stage>=this.mp.stage_max?this.gg.drawPT2(32+32*Mq,32+32*Kq,98):this.gg.drawPT2(32+32*Mq,32+32*Kq,94);break}2<=this.mp.stage_max&&this.mp.stage>=this.mp.stage_max?this.gg.drawBG2(32+32*Mq,32+32*Kq,98):this.gg.drawBG2(32+32*Mq,32+32*Kq,94);break;case 9:4==this.map_bg[this.os2_wx+Mq-1][Lq]?this.gg.drawBG2(32+32*Mq,32+32*Kq,4):(this.g2.setColor(this.gg.backcolor),this.gg.os2_g.fillRect(32+32*Mq,32+32*Kq,32,32)),this.gg.os2_g.drawImage(Jq,32+32*Mq,32+32*Kq,this.gg.ap)}this.gg.os_g.drawImage(this.gg.os2_img,-32-nq,-32-oq,this.ap)},H.prototype.getBGCode=function(Nq,Oq){return this.map_bg[Nq>>5][Oq>>5]},H.prototype.putBGCode=function(Pq,Qq,Rq){this.map_bg[Pq][Qq]=Rq,this.os2_wx<=Pq&&this.os2_wx+16>=Pq&&this.os2_wy<=Qq&&this.os2_wy+10>=Qq&&this.gg.drawBG2(32*(Pq-this.os2_wx)+32,32*(Qq-this.os2_wy)+32,Rq)},I.prototype.__repaint=function(){this.update(this.__appimg.getGraphics()),this.__canvas.getContext("2d").drawImage(this.__appimg._dat,0,0)},I.prototype.init=function(){},I.prototype.start=function(){null==this.th&&(this.th=1);var Xq=this.getParameter("game_speed");this.th_interval=parseInt(Xq),isNaN(this.th_interval)&&(this.th_interval=70),this.th_interval<1?this.th_interval=1:300<this.th_interval&&(this.th_interval=300),this.th_jm=10},I.prototype.stop=function(){null!=this.th&&(this.th=null)},I.prototype.destroy=function(){},I.prototype.paint=function(Yq){Yq.drawImage(this.gg.os_img,0,0,this)},I.prototype.update=function(Zq){this.paint(Zq)},I.prototype.run=function(){if(10==this.th_jm)this.init_j(),this.mp.start(),this.th_jm-=1,sleepTime=70;else if(6==this.th_jm){var $q=0;this.gg.apt_img._loaded?$q=1:this.gg.apt_img._error&&($q=2),0!=$q&&(this.th_jm-=1)}else 2==this.th_jm?(this.gg.cut(),this.th_jm-=1,sleepTime=70):2<=this.th_jm?(this.th_jm-=1,sleepTime=70):(100==this.mp.ml_mode?this.mp.mL100():this.mp.mainLoop(),this.userSub(this.gg.os_g,this.gg.os_img));this.__repaint()},I.prototype.init_j=function(){this.gg=new e(this),this.gg.setBackcolor(D.black);var ar,_q=this.getParameter("filename_title");if(this.gg.addListImage(0,_q),_q=this.getParameter("filename_ending"),this.gg.addListImage(1,_q),_q=this.getParameter("filename_gameover"),this.gg.addListImage(2,_q),_q=this.getParameter("stage_select"),ar=parseInt(_q),isNaN(ar)&&(ar=-1),2==ar){var br=this.getParameter("filename_chizu");this.gg.addListImage(3,br)}this.gg.loadImage(),this.gm=new i;var cr=this.gm;this.__canvas.addEventListener("mousedown",function(fr){var za;fr.stopImmediatePropagation(),l.focus.focus(this),za=fr,cr.mousePressed(za)}.bind(this)),this.__canvas.addEventListener("mouseup",function(gr){var Ba;Ba=gr,cr.mouseReleased(Ba)}),this.gk=new f;var dr=this.gk,er=function(hr){var ra;l.focus.hasFocus(this)&&(ra=hr,dr.keyPressed(ra))}.bind(this);b.addEventListener("keydown",er),this.__game.__resourceList.push({type:"eventListener",target:b,name:"keydown",value:er}),er=function(ir){var ta;l.focus.hasFocus(this)&&(ta=ir,dr.keyReleased(ta))}.bind(this),b.addEventListener("keyup",er),this.__game.__resourceList.push({type:"eventListener",target:b,name:"keyup",value:er}),this.mp=new G(this.gg,this.gm,this.gk),this.mp.addHighscoreEvent(this.options.highscoreCallback),this.userInit()},I.prototype.userInit=function(){},I.prototype.userSub=function(jr,kr){},I.prototype.getImage=function(lr){var mr=new z;return mr.load(lr),mr},I.prototype.createImage=function(nr,or){return new z(nr,or)},I.prototype.getParameter=function(qr){var rr=(qr+"").toLowerCase();return void 0===this.params[rr]?null:this.params[rr]+""};var J={};return J.CharacterObject=d,J.GameGraphics=e,J.GameKey=f,J.GameMouse=i,J.Game=l,J.IdouGamen=y,J.ImageBuff=z,J.KeyboardMenu=F,J.MainProgram=G,J.MapSystem=H,J.MasaoConstruction=I,J}(window,document,Math);