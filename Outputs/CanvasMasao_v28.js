var CanvasMasao=function(a,b,c){function d(){this.c=0,this.x=0,this.y=0,this.vx=0,this.vy=0,this.wx=0,this.wy=0,this.c1=0,this.c2=0,this.c3=0,this.c4=0,this.c5=0,this.pt=0,this.pth=0,this.img=null,this.zs_x=0,this.zs_y=0,this.ac=0,this.level=0,this.jimen_f=!1,this.muki=0,this.direction=0,this.score=0,this.ss=0,this.gf=!1}function e(L){this.spt_kazu_x=10,this.spt_kazu_y=25,this.spt_h_kijyun=3,this.spt_kazu=250,this.li=new Array(10),this.spt_img=s(2,this.spt_kazu),this.ap=L,this.di=new function(cc,dc){this.width=cc,this.height=dc}(512,320),this.backcolor=D.black,this.os_img=this.ap.createImage(this.di.width,this.di.height),this.os_g=this.os_img.getGraphics(),this.os2_img=this.ap.createImage(this.di.width+96,this.di.height+96),this.os2_g=this.os2_img.getGraphics(),this.mt=[],str=this.ap.getParameter("filename_pattern"),this.apt_img=this.ap.getImage(str)}function f(){this.key_code=0,this.up_f=!1,this.down_f=!1,this.left_f=!1,this.right_f=!1,this.tr1_f=!1,this.tr2_f=!1,this.tr3_f=!1,this.start_f=!1,this.x_f=!1,this.z_f=!1,this.space_f=!1,this.left_c=0,this.right_c=0,this.up_c=0,this.down_c=0,this.tr1_c=0,this.codekey_f=new Array(256),this.left_right_lock=!1}function j(){this.button_f=!1,this.click_x=0,this.click_y=0,this.init=function(){this.button_f=!1,this.click_x=0,this.click_y=0}}function m(Ca,Da,Ea){var Fa=u();if((Ea=Ea||{}).width=Ea.width||512,Ea.height=Ea.height||320,Ea.extensions=Ea.extensions||[],Da?this.__boxID=Da:(this.__boxID="__mcdiv"+Fa,b.write("<div id='"+this.__boxID+"'></div>")),this.__canvasID="__mccanvas"+Fa,this.__padDivID="__mcpaddiv"+Fa,this.__box=b.getElementById(this.__boxID),this.__resourceList=[],this.__canvas=b.createElement("canvas"),this.__canvas.id=this.__canvasID,this.__canvas.width=Ea.width,this.__canvas.height=Ea.height,this.__canvas.textContent="※お使いのブラウザはHTML5に対応していないため表示できません。",this.__box.appendChild(this.__canvas),this.__padDiv=b.createElement("div"),this.__padDiv.id=this.__padDivID,this.__box.appendChild(this.__padDiv),this.__canvas&&this.__canvas.getContext){if(this.__pad_before=new Array(8),this.__pad_after=new Array(8),this.__pad_touches=[],this.__pad_coords=[[410,30,490,30,490,170,410,170],[320,30,400,30,400,170,320,170],[250,30,290,30,290,70,250,70],[200,30,240,30,240,70,200,70],[5,60,87,60,87,140,5,140],[175,60,93,60,93,140,175,140],[30,5,30,80,150,80,150,5],[30,195,30,120,150,120,150,195]],this.__pad_chars=["X","Z","T","P","←","→","↑","↓"],a.TouchEvent){var Ga,Ha=b.createElement("input");Ha.type="button",Ha.value="バーチャル操作パッド 表示 / 非表示",(Ga=Ha.style).width="24em",Ga.height="2.5em",Ha.onclick=function(){"inline"==Ia.style.display?Ia.style.display="none":m.padAccessor.show(Ia)},this.__padDiv.appendChild(Ha),this.__padDiv.appendChild(b.createElement("br"));var Ia=this.__pad=b.createElement("canvas");Ia.width=500,Ia.height=200;var Ja=function(Pa){this.__pad_event(Pa)}.bind(this);Ia.addEventListener("touchstart",Ja,!1),Ia.addEventListener("touchmove",Ja,!1),Ia.addEventListener("touchend",Ja,!1),Ia.addEventListener("touchcancel",Ja,!1),Ia.style.display="none",this.__padDiv.appendChild(Ia),(Ga=Ia.style).position="fixed",Ga.bottom="0px",Ga.left="0px";var Ka=setInterval(function(){var Qa=innerWidth,Ra=innerHeight,Sa=Qa<Ra?Qa:Ra;Ia.style.width=Qa+"px",Ia.style.height=.4*Sa+"px"},500);this.__resourceList.push({type:"setInterval",value:Ka}),m.padAccessor.append(Ia),this.__pad_off=b.createElement("canvas"),this.__pad_off.width=500,this.__pad_off.height=200;var La=this.__pad_off.getContext("2d");La.font="24px monospace",La.textAlign="center",La.textBaseline="middle",La.lineWidth=2,La.lineCap="round",La.lineJoin="round";for(var Ma=0;Ma<8;Ma++)this.__pad_before[Ma]=!1,this.__pad_after[Ma]=!1;this.__pad_update()}this.__mc=new I(Ca,this.__canvas,this,Ea||{});for(Ma=0;Ma<Ea.extensions.length;Ma++)Ea.extensions[Ma].inject(this.__mc,Ea);this.__mc.start();var Na=this.__st=this.__mc.getParameter("game_speed");Na?(Na=parseInt(Na),isNaN(Na)?Na=70:Na<10?Na=10:300<Na&&(Na=300)):Na=70,this.__pt=0;var Oa=new v(this,!!Ea["bc-loop-setinterval"]);Oa.start(Na,this.__loop.bind(this)),this.__resourceList.push({type:"Loop",value:Oa})}}var mb,pb;function s(){if(0==arguments.length)return null;for(var ec=new Array(arguments.length),fc=0;fc<arguments.length;fc++)ec[fc]=arguments[fc];return function(hc){var ic=new Array(hc[0]);if(1==hc.length)return ic;for(var jc=hc.slice(1),kc=0;kc<hc[0];kc++)ic[kc]=arguments.callee(jc);return ic}(ec)}function t(lc){return 0<=lc?c.floor(lc):-c.floor(-lc)}function u(){return c.random().toString(36).slice(2)}function v(mc,nc){this.game=mc,this.forceSetInterval=nc,this.running=!1,this.interval=null,this.callback=null,this.mode=0,this.prevTime=null,this.timerid=null,this._loop=this._loop.bind(this)}d.prototype.init=function(){this.c=0,this.x=0,this.y=0,this.vx=0,this.vy=0,this.wx=0,this.wy=0,this.c1=0,this.c2=0,this.c3=0,this.c4=0,this.c5=0,this.pt=0,this.pth=0,this.img=null,this.zs_x=0,this.zs_y=0,this.ac=0,this.level=0,this.jimen_f=!1,this.muki=0,this.direction=0,this.score=0,this.ss=0,this.gf=!1},d.prototype.setPattern=function(K){},e.prototype.cut=function(){var N,Q,R,S;for(Q=0;Q<=this.spt_kazu_y-1;Q++)for(R=0;R<=this.spt_kazu_x-1;R++)N=10*Q+R,this.spt_img[0][N]=new z(32,32),(S=this.spt_img[0][N].getGraphics()).drawImage(this.apt_img,32*R,32*Q,32,32,0,0,32,32,null),Q>=this.spt_h_kijyun?(this.spt_img[1][N]=new z(32,32),(S=this.spt_img[1][N].getGraphics()).scale(-1,1),S.drawImage(this.apt_img,32*R,32*Q,32,32,-32,0,32,32,null)):this.spt_img[1][N]=this.spt_img[0][N];this.hi=this.spt_img[0]},e.prototype.addListImage=function(T,U){this.li[T]=this.ap.getImage(U),this.mt.push(this.li[T])},e.prototype.loadImage=function(){},e.prototype.copyOS=function(V){V.drawImage(this.os_img,0,0,this.ap)},e.prototype.fill=function(){this.os_g.setColor(this.backcolor),this.os_g.fillRect(0,0,this.di.width,this.di.height)},e.prototype.fill2=function(){this.os2_g.setColor(this.backcolor),this.os2_g.fillRect(0,0,this.di.width+96,this.di.height+96)},e.prototype.setBackcolor=function(W){this.backcolor=W},e.prototype.drawPT=function(X,Y,Z,$){this.os_g.drawImage(this.spt_img[$][Z],X,Y,this.ap)},e.prototype.drawPT2=function(_,aa,ba){this.os2_g.drawImage(this.hi[ba],_,aa,this.ap)},e.prototype.drawBG2=function(ca,da,ea){this.os2_g.setColor(this.backcolor),this.os2_g.fillRect(ca,da,32,32),this.os2_g.drawImage(this.hi[ea],ca,da,this.ap)},e.prototype.drawBG3=function(fa,ga,ha,ia){this.os2_g.setColor(ia),this.os2_g.fillRect(fa,ga,32,32),this.os2_g.drawImage(this.hi[ha],fa,ga,this.ap)},e.prototype.drawListImage=function(ja,ka,la){this.os_g.drawImage(this.li[la],ja,ka,this.ap)},f.prototype.init=function(){this.key_code=0,this.up_f=!1,this.down_f=!1,this.left_f=!1,this.right_f=!1,this.tr1_f=!1,this.tr2_f=!1,this.tr3_f=!1,this.start_f=!1,this.x_f=!1,this.z_f=!1,this.space_f=!1,this.left_c=0,this.right_c=0,this.up_c=0,this.down_c=0,this.tr1_c=0,this.left_right_lock=!1;for(var ma=0;ma<=255;ma++)this.codekey_f[ma]=!1},f.prototype.keyPressed=function(na){switch(this.key_code=na.keyCode,this.key_char=na.keyCode,0<=this.key_code&&this.key_code<=255&&(this.codekey_f[this.key_code]=!0),this.key_code){case 38:na.preventDefault(),this.up_f=!0;break;case 40:na.preventDefault(),this.down_f=!0,this.tr2_f=!0;break;case 37:na.preventDefault(),this.left_right_lock||(this.left_f=!0);break;case 39:na.preventDefault(),this.left_right_lock||(this.right_f=!0);break;case 104:na.preventDefault(),this.up_f=!0;break;case 98:na.preventDefault(),this.down_f=!0,this.tr2_f=!0;break;case 100:na.preventDefault(),this.left_right_lock||(this.left_f=!0);break;case 102:na.preventDefault(),this.left_right_lock||(this.right_f=!0);break;case 90:na.preventDefault(),this.tr1_f=!0,this.z_f=!0;break;case 88:na.preventDefault(),this.tr2_f=!0,this.x_f=!0;break;case 67:na.preventDefault(),this.tr3_f=!0;break;case 32:na.preventDefault(),this.tr1_f=!0,this.space_f=!0,this.tr1_c=0;break;case 83:na.preventDefault(),this.start_f=!0}},f.prototype.keyReleased=function(oa){var pa=oa.keyCode;switch(0<=pa&&pa<=255&&(this.codekey_f[pa]=!1),pa){case 38:this.up_f=!1;break;case 40:this.down_f=!1,this.tr2_f=!1;break;case 37:this.left_right_lock||(this.left_f=!1,this.left_c=0);break;case 39:this.left_right_lock||(this.right_f=!1,this.right_c=0);break;case 104:this.up_f=!1;break;case 98:this.down_f=!1,this.tr2_f=!1;break;case 100:this.left_right_lock||(this.left_f=!1,this.left_c=0);break;case 102:this.left_right_lock||(this.right_f=!1,this.right_c=0);break;case 90:this.tr1_f=!1,this.z_f=!1,this.tr1_c=0;break;case 88:this.tr2_f=!1,this.x_f=!1;break;case 67:this.tr3_f=!1;break;case 32:this.tr1_f=!1,this.space_f=!1,this.tr1_c=0;break;case 83:this.start_f=!1}},f.prototype.getKeyCode=function(){return this.key_code},j.prototype.mousePressed=function(ua){var va=ua.target,wa=va.getBoundingClientRect();this.button_f=!0,this.click_x=(ua.clientX-wa.left)/wa.width*va.width,this.click_y=(ua.clientY-wa.top)/wa.height*va.height},j.prototype.mouseReleased=function(xa){this.button_f=!1},m.replaceAll=function(Ta){function Ua(){for(var Va=b.getElementsByTagName("applet"),Wa=[],Xa=0;Xa<Va.length;Xa++)Wa.push(Va[Xa]);for(Xa=0;Xa<Wa.length;Xa++){var Ya=Wa[Xa];(Ya.getAttribute("code")||"").match(/masaoconstruction/i)&&m.replaceByDom(Ya,Ta)}var $a=b.getElementsByTagName("object"),_a=[];for(Xa=0;Xa<$a.length;Xa++)_a.push($a[Xa]);for(Xa=0;Xa<_a;Xa++){var ab=_a[Xa],bb=ab.getElementsByName("code")[0];bb.tagName.match(/param/i)&&bb.value.match(/masaoconstruction/i)&&m.replaceByDom(ab,Ta)}}"complete"==b.readyState?Ua():a.addEventListener("load",Ua)},m.replace=function(cb,db){function eb(){m.replaceByDom(b.getElementById(cb),db)}"complete"==b.readyState?eb():a.addEventListener("load",eb)},m.replaceByDom=function(fb,gb){var hb=fb.getElementsByTagName("param"),ib=hb.length,jb={};for(i=0;i<ib;i++)jb[hb[i].name]=hb[i].value;var kb=b.createElement("div"),lb=fb.id||u();kb.id=lb,fb.parentNode.replaceChild(kb,fb),new m(jb,lb,gb)},m.focus=(b.addEventListener("mousedown",function(){mb=null}),{focus:function(nb){mb=nb},hasFocus:function(ob){return mb===ob}}),m.padAccessor=(pb=[],{append:function(qb){pb.push(qb)},show:function(rb){for(var sb=0;sb<pb.length;sb++)rb!==pb[sb]?pb[sb].style.display="none":rb.style.display="inline"}}),m.prototype.kill=function(){this.__mc.stop();for(var tb=this.__resourceList,ub=0,vb=tb.length;ub<vb;ub++)"setInterval"===tb[ub].type?clearInterval(tb[ub].value):"eventListener"===tb[ub].type?tb[ub].target.removeEventListener(tb[ub].name,tb[ub].value):"Loop"===tb[ub].type&&tb[ub].value.stop();for(this.__resourceList=[];this.__box.hasChildNodes();)this.__box.removeChild(this.__box.firstChild)},m.prototype.__loop=function(){var wb=(new Date).getTime();if(!(wb-this.__pt<this.__st)){if(this.__pt=wb-10,this.__testCanvas){var yb,xb=this.__testCanvas.getContext("2d");if(xb.fillStyle="rgb(128,0,128)",xb.fillRect(0,0,700,700),xb.strokeStyle="#f00",this.__mc.gg)for(xb.save(),xb.scale(.5,.5),xb.drawImage(this.__mc.gg.os_img._dat,0,0),xb.drawImage(this.__mc.gg.os2_img._dat,576,0),xb.restore(),xb.beginPath(),yb=0;yb<700;yb+=32)xb.moveTo(0,yb),xb.lineTo(700,yb),xb.moveTo(yb,0),xb.lineTo(yb,700);xb.stroke()}if(this.__testDiv&&this.__mc.mp){var Cb,Db,Ab=this.__mc.mp,Bb="<div style='text-align:left'>";for(Cb in Ab)"[object Array]"!=(Db=Object.prototype.toString.call(Ab[Cb]))&&"[object Function]"!=Db&&(Cb in this.__teo?0<this.__teo[Cb].t?(Bb+="<span style='background-color:rgba(255,255,255,"+this.__teo[Cb].t/6+")'>"+Cb+": "+Ab[Cb]+"</span> ",this.__teo[Cb].t--):Bb+=Cb+": "+Ab[Cb]+" ":this.__teo[Cb]={val:Ab[Cb],t:0},this.__teo[Cb].val!=Ab[Cb]&&(this.__teo[Cb].val=Ab[Cb],this.__teo[Cb].t=6));this.__testDiv.innerHTML=Bb+"</div>"}this.__mc.run()}},m.prototype.__pad_update=function(){var Lb,Mb,Nb,Ob,Pb,Gb=this.__pad.getBoundingClientRect(),Hb=Gb.left,Ib=Gb.top,Jb=this.__pad_off.getContext("2d");for(Jb.clearRect(0,0,500,200),Jb.fillStyle="rgba(128, 128, 128, 0.5)",Kb=0;Kb<8;Kb++){for(Jb.beginPath(),Mb=(Nb=this.__pad_coords[Kb]).length>>1,Jb.moveTo(Nb[0],Nb[1]),Lb=0;Lb<Mb;Lb++)Jb.lineTo(Nb[Lb<<1],Nb[1+(Lb<<1)]);Jb.closePath(),Jb.fill()}for(Kb=0;Kb<8;Kb++)this.__pad_after[Kb]=!1;for(Jb.fillStyle="rgba(0, 0, 0, 0.5)",Kb=0;Kb<8;Kb++){for(Jb.beginPath(),Mb=(Nb=this.__pad_coords[Kb]).length>>1,Jb.moveTo(Nb[0],Nb[1]),Lb=0;Lb<Mb;Lb++)Jb.lineTo(Nb[Lb<<1],Nb[1+(Lb<<1)]);for(Lb in Jb.closePath(),this.__pad_touches)Ob=this.__pad_touches[Lb].clientX-Hb,Pb=this.__pad_touches[Lb].clientY-Ib,this.__pad_after[Kb]|=Jb.isPointInPath(Ob/Gb.width*500,Pb/Gb.height*200);this.__pad_after[Kb]&&Jb.fill()}for(Jb.strokeStyle="black",Jb.fillStyle="black",Kb=0;Kb<8;Kb++){for(Jb.beginPath(),Mb=(Nb=this.__pad_coords[Kb]).length>>1,Jb.moveTo(Nb[0],Nb[1]),Ob=Nb[0],Pb=Nb[1],Lb=1;Lb<Mb;Lb++)Jb.lineTo(Nb[Lb<<1],Nb[1+(Lb<<1)]),Ob+=Nb[Lb<<1],Pb+=Nb[1+(Lb<<1)];Jb.closePath(),Jb.stroke(),Jb.fillText(this.__pad_chars[Kb],Ob/Mb,Pb/Mb)}Jb.stroke(),(Jb=this.__pad.getContext("2d")).clearRect(0,0,500,200),Jb.drawImage(this.__pad_off,0,0);for(var Kb=0;Kb<8;Kb++)this.__pad_before[Kb]!=this.__pad_after[Kb]&&(this.__pad_before[Kb]=this.__pad_after[Kb],this.__pad_after[Kb]?this.__pad_pressed(Kb):this.__pad_released(Kb))},m.prototype.__pad_pressed=function(Qb){if(this.__mc.gk){var Rb=this.__get_code(Qb);this.__mc.gk.keyPressed({keyCode:Rb,preventDefault:function(){}})}},m.prototype.__pad_released=function(Sb){if(this.__mc.gk){var Tb=this.__get_code(Sb);this.__mc.gk.keyReleased({keyCode:Tb,preventDefault:function(){}})}},m.prototype.__get_code=function(Ub){switch(Ub){case 4:return 37;case 6:return 38;case 5:return 39;case 7:return 40;case 1:return 90;case 0:return 88;case 2:return 84;case 3:return 80}},m.prototype.__pad_event=function(Vb){Vb.preventDefault(),this.__pad_touches=[];for(var Wb=0;Wb<Vb.touches.length;Wb++)this.__pad_touches.push(Vb.touches[Wb]);this.__pad_update()},v.prototype.start=function(oc,pc){this.running=!0,this.interval=oc,this.callback=pc;var qc=w();this.targetTime=qc+oc,this.prevTime=qc,a.requestAnimationFrame&&!this.forceSetInterval?this.mode=1:this.mode=0,0===this.mode&&(this.timerid=setInterval(this._loop,oc)),this._next()},v.prototype.stop=function(){this.running&&(this.running=!1,1===this.mode?cancelAnimationFrame(this.timerid):clearInterval(this.timerid))},v.prototype._next=function(){1===this.mode&&(this.timerid=requestAnimationFrame(this._loop))},v.prototype._loop=function(){if(this.running){var uc=w();500<=uc-this.prevTime&&(this.targetTime=uc-1);var vc=c.ceil((uc-this.targetTime)/this.interval);for(this.targetTime+=this.interval*vc;0<vc&&(this.callback(),vc--,!(2<w()-uc)););if(0<vc){var wc=this;x(function xc(yc){for(;0<vc&&0<yc.timeRemaining();)wc.callback(),vc--;0<vc&&!yc.didTimeout&&x(xc,{timeout:1e3})},{timeout:1e3})}this._next(),this.prevTime=uc}};var w=a.performance&&performance.now?performance.now.bind(performance):Date.now?Date.now.bind(Date):function(){return 1e3*(new Date).getTime()},x="function"==typeof requestIdleCallback?requestIdleCallback:"function"==typeof setImmediate?function(zc){setImmediate(function(){var Ac=w();zc({didTimeout:!1,timeRemaining:function(){return 50+Ac-w()}})})}:function(Cc){setTimeout(function(){var Dc=w();Cc({didTimeout:!1,timeRemaining:function(){return 50+Dc-w()}})},1)};function y(Fc,Gc,Hc,Ic){this.zure_x=16,this.zure_y=24,this.co_j=new d,this.map_string=new Array(9),this.map_bg=s(15,9),this.stage_c=new Array(10),this.stage_x=new Array(10),this.stage_y=new Array(10),this.stage_cf=new Array(10),this.ie_c=new Array(16),this.ie_x=new Array(16),this.ie_y=new Array(16),this.mp_mode=0,this.cc_p1_x=new Array(17),this.cc_p1_y=new Array(17),this.cc_p2_x=new Array(17),this.cc_p2_y=new Array(17),this.gg=Fc,this.gk=Gc,this.km=Hc,this.mp=Ic,this.cc_p1_x[13]=-200,this.cc_p1_y[13]=160,this.cc_p1_x[14]=-200,this.cc_p1_y[14]=520,this.cc_p1_x[15]=712,this.cc_p1_y[15]=520,this.cc_p1_x[16]=712,this.cc_p1_y[16]=160,this.cc_p2_x[13]=712,this.cc_p2_y[13]=160,this.cc_p2_x[14]=712,this.cc_p2_y[14]=-200,this.cc_p2_x[15]=-200,this.cc_p2_y[15]=-200,this.cc_p2_x[16]=-200,this.cc_p2_y[16]=160}function z(vd,wd){if(2==arguments.length){this._dat=b.createElement("canvas"),this._dat.width=vd,this._dat.height=wd,this._width=vd,this._height=wd;var xd=this._dat.getContext("2d");xd.lineWidth=1.6,xd.lineCap="round",xd.save()}else this._dat=null,this._width=-1,this._height=-1;this._loaded=!1,this._error=!1,this._g=null}function B(Bd){Bd.onerror()}function C(Cd){this._ctx=Cd._dat.getContext("2d"),this._ctx&&(this._ctx.restore(),this._ctx.save()),this._color=D.black,this._font=new E(E.DIALOG,E.PLAIN,10)}function D($e,_e,af,bf){this.r=255<$e?255:$e<0?0:$e,this.g=255<_e?255:_e<0?0:_e,this.b=255<af?255:af<0?0:af,4==arguments.length?this.a=255<bf?255:bf<0?0:bf:this.a=255}function E(cf,df,ef){this._name=cf,this._style=df,this._size=ef}function F(ff,gf,hf){this.c=new Array(16),this.x=new Array(16),this.y=new Array(16),this.width=new Array(16),this.selectedIndex=new Array(16),this.item_kazu=new Array(16),this.message=new Array(16),this.item=s(16,16),this.item_int=s(16,16),this.item_color=new Array(16),this.list_IDlist=new Array(16),this.aw=-1,this.mode=0,this.kettei_c=0,this.cancel_c=0,this.gg=ff,this.gk=gf,this.name_crys=hf,this.hi=this.gg.spt_img[0],this.hih=this.gg.spt_img,this.hg=this.gg.os_g,this.ap=this.gg.ap,this.initAll()}function G(hh,ih,jh){this.ran_seed=void 0,this.ml_mode=0,this.ml_mode_c=0,this.score=0,this.highscore=0,this.score_1up_1=0,this.score_1up_2=0,this.score_1up_1_para=0,this.score_1up_2_para=0,this.score_v=!0,this.stage=1,this.stage_cc=0,this.stage_max=1,this.stage_kaishi=1,this.g_c1=0,this.g_c2=0,this.g_c3=0,this.g_ac=0,this.g_ac2=0,this.tr1_c=0,this.tr2_c=0,this.left_dcc=0,this.right_dcc=0,this.co_t=new Array(130),this.co_m=new Array(24),this.co_a=new Array(32),this.co_h=new Array(64),this.co_jm=new Array(2),this.vo_x=s(32,4),this.vo_y=s(32,4),this.j_zan_x=new Array(6),this.j_zan_y=new Array(6),this.j_zan_pt=new Array(6),this.j_zan_pth=new Array(6),this.vo_pa_x=new Array(6),this.vo_pa_y=new Array(6),this.stage_1up_f=new Array(3),this.shop_item_name=new Array(16),this.shop_item_teika=new Array(16),this.door_score=10,this.gg=hh,this.gm=ih,this.gk=jh,this.maps=new H(200,100,this.gg,this),this.km=new F(this.gg,this.gk,"まさお"),this.co_j=new d;for(var kh=0;kh<=129;kh++)this.co_t[kh]=new d;for(var lh=0;lh<=23;lh++)this.co_m[lh]=new d;for(var mh=0;mh<=31;mh++)this.co_a[mh]=new d;for(var nh=0;nh<=63;nh++)this.co_h[nh]=new d;for(var oh=0;oh<=1;oh++)this.co_jm[oh]=new d;this.co_b=new d,2==this.paraInt("stage_select")?(this.stage_select=2,this.stage_max=4):this.stage_select=1,this.ig=new y(this.gg,this.gk,this.km,this),this.ranInit(),this.hi=this.gg.spt_img[0],this.hih=this.gg.spt_img,this.hg=this.gg.os_g,this.ap=this.gg.ap,this.init1()}function H(Gp,Hp,Ip,Jp){this.width=Gp,this.height=Hp,this.gg=Ip,this.mp=Jp,this.map_bg=s(this.width,this.height),this.map_string=new Array(this.height),this.bg_space="";for(var Kp=0;Kp<=this.width;Kp++)this.bg_space=this.bg_space+".";this.init(),this.hi=this.gg.spt_img[0],this.g2=this.gg.os2_g,this.ap=this.gg.ap}function I(Cq,Dq,Eq,Fq){this.th_interval=70,this.th_jm=10,this.params=Cq,this.__canvas=Dq,this.__appimg=new z(512,320),this.__game=Eq,this.options=Fq}y.prototype.worldInit=function(){for(var Jc=0;Jc<=9;Jc++)this.stage_c[Jc]=0,this.stage_cf[Jc]=!1;this.stage_kcID=0,this.door_koID=0,this.dokan_khID=0;for(var Kc=this.door_score_open=0;Kc<=15;Kc++)this.ie_c[Kc]=0;this.co_j.x=0,this.co_j.y=0,this.co_j.vx=0,this.co_j.vy=0,this.co_j.muki=1,this.co_j.ac=0,this.mp.tr1_c=2,this.shop_kattaitem=-1,this.mp_mode=0,this.km.initAll(),this.km.mode=100;for(var Lc=0;Lc<=8;Lc++){var Mc=this.gg.ap.getParameter("chizu-"+Lc);Mc+="...............",this.map_string[Lc]=Mc}for(var Nc=0;Nc<=8;Nc++)for(var Oc=0;Oc<=14;Oc++){var Pc=this.map_string[Nc].charAt(Oc);"A"==Pc?(this.co_j.x=32*Oc,this.co_j.y=32*Nc,this.map_bg[Oc][Nc]=220):"B"==Pc?(this.map_bg[Oc][Nc]=216,this.ie_c[3]=100,this.ie_x[3]=32*Oc,this.ie_y[3]=32*Nc):"C"==Pc?(this.map_bg[Oc][Nc]=217,this.ie_c[4]=100,this.ie_x[4]=32*Oc,this.ie_y[4]=32*Nc):"D"==Pc?(this.map_bg[Oc][Nc]=218,this.ie_c[10]=100,this.ie_x[10]=32*Oc,this.ie_y[10]=32*Nc):"E"==Pc?(this.map_bg[Oc][Nc]=219,this.ie_c[11]=100,this.ie_x[11]=32*Oc,this.ie_y[11]=32*Nc):"a"==Pc?0==this.stage_c[0]?(this.map_bg[Oc][Nc]=223,this.stage_c[0]=100,this.stage_x[0]=32*Oc,this.stage_y[0]=32*Nc):this.map_bg[Oc][Nc]=220:"b"==Pc?0==this.stage_c[1]?(this.map_bg[Oc][Nc]=224,this.stage_c[1]=100,this.stage_x[1]=32*Oc,this.stage_y[1]=32*Nc):this.map_bg[Oc][Nc]=220:"c"==Pc?0==this.stage_c[2]?(this.map_bg[Oc][Nc]=225,this.stage_c[2]=100,this.stage_x[2]=32*Oc,this.stage_y[2]=32*Nc):this.map_bg[Oc][Nc]=220:"d"==Pc?0==this.stage_c[3]?(this.map_bg[Oc][Nc]=226,this.stage_c[3]=100,this.stage_x[3]=32*Oc,this.stage_y[3]=32*Nc):this.map_bg[Oc][Nc]=220:"e"==Pc?(this.map_bg[Oc][Nc]=213,this.ie_c[0]=100,this.ie_x[0]=32*Oc,this.ie_y[0]=32*Nc):"f"==Pc?(this.map_bg[Oc][Nc]=214,this.ie_c[1]=100,this.ie_x[1]=32*Oc,this.ie_y[1]=32*Nc):"g"==Pc?(this.map_bg[Oc][Nc]=215,this.ie_c[2]=100,this.ie_x[2]=32*Oc,this.ie_y[2]=32*Nc):"h"==Pc?(this.map_bg[Oc][Nc]=212,this.ie_c[9]=100,this.ie_x[9]=32*Oc,this.ie_y[9]=32*Nc):"i"==Pc?(this.map_bg[Oc][Nc]=206,this.ie_c[5]=100,this.ie_x[5]=32*Oc,this.ie_y[5]=32*Nc):"j"==Pc?(this.map_bg[Oc][Nc]=207,this.ie_c[6]=100,this.ie_x[6]=32*Oc,this.ie_y[6]=32*Nc):"k"==Pc?(this.map_bg[Oc][Nc]=208,this.ie_c[7]=100,this.ie_x[7]=32*Oc,this.ie_y[7]=32*Nc):"l"==Pc?(this.map_bg[Oc][Nc]=209,this.ie_c[8]=100,this.ie_x[8]=32*Oc,this.ie_y[8]=32*Nc):this.map_bg[Oc][Nc]="1"==Pc?220:"2"==Pc?221:"3"==Pc?222:0}256<this.co_j.x+16&&(this.co_j.muki=0),this.drawOs2()},y.prototype.worldInit2=function(){this.co_j.vx=0,this.co_j.vy=0,this.co_j.muki=1,this.co_j.ac=0,this.mp.tr1_c=2,this.mp_mode=200,this.cc_hankei=12,this.stage_kcID=0,this.door_koID=0,this.shop_kattaitem=-1,this.door_score_open=0,100==this.ie_c[9]&&this.mp.score>=this.mp.door_score&&(this.ie_c[9]=50,this.door_score_open=1),this.km.initAll(),this.km.mode=100,this.drawOs2()},y.prototype.worldInit3=function(){this.stage_kcID=this.checkStage(),this.stage_cf[this.stage_kcID-1]=!0,this.stage_c[this.stage_kcID-1]=50;for(var Qc=0,Rc=0;Rc<=2;Rc++)this.stage_cf[Rc]&&Qc++;this.door_koID=0,1<=Qc&&100==this.ie_c[Qc-1]&&(this.ie_c[Qc-1]=50,this.door_koID=Qc),this.door_score_open=0,100==this.ie_c[9]&&this.mp.score>=this.mp.door_score&&(this.ie_c[9]=50,this.door_score_open=1),this.co_j.vx=0,this.co_j.vy=0,this.co_j.muki=1,this.co_j.ac=0,this.mp.tr1_c=2,this.co_j.pt=0,this.shop_kattaitem=-1,this.mp_mode=200,this.cc_hankei=12,this.km.initAll(),this.km.mode=100,this.drawOs2()},y.prototype.drawOs2=function(){this.gg.setBackcolor(new D(0,127,0)),this.gg.fill2(),this.gg.os2_g.drawImage(this.gg.li[3],0,0,this.gg.ap);for(var Sc=0;Sc<=8;Sc++)for(var Tc=0;Tc<=14;Tc++){var Uc=this.map_bg[Tc][Sc];221==Uc?(this.gg.drawPT2(32*Tc+16,32*Sc+24-16,221),this.gg.drawPT2(32*Tc+16,32*Sc+24+16,221)):222==Uc&&(this.gg.drawPT2(32*Tc+16-16,32*Sc+24,222),this.gg.drawPT2(32*Tc+16+16,32*Sc+24,222))}for(var Vc=0;Vc<=8;Vc++)for(var Wc=0;Wc<=14;Wc++){var Xc=this.map_bg[Wc][Vc];61!=Xc&&62!=Xc&&256!=Xc&&(216<=Xc&&Xc<=219?this.gg.drawPT2(32*Wc+16,32*Vc+24-7,Xc):206<=Xc&&Xc<=209?this.gg.drawPT2(32*Wc+16,32*Vc+24-7,Xc):212<=Xc&&Xc<=215?(this.gg.drawPT2(32*Wc+16-16,32*Vc+24,222),this.gg.drawPT2(32*Wc+16+16,32*Vc+24,222),this.gg.drawPT2(32*Wc+16,32*Vc+24-7,Xc)):this.gg.drawPT2(32*Wc+16,32*Vc+24,Xc))}},y.prototype.drawMap=function(){this.gg.os_g.drawImage(this.gg.os2_img,0,0,this.gg.ap)},y.prototype.getBGZ=function(Yc,Zc){if(Yc<0||479<Yc||Zc<0||287<Zc)return 0;var $c=Yc>>5,_c=Zc>>5;return this.map_bg[$c][_c]},y.prototype.checkStage=function(){for(var ad=-1,bd=0;bd<=9;bd++)if(100==this.stage_c[bd]&&this.co_j.x==this.stage_x[bd]&&this.co_j.y==this.stage_y[bd]){ad=bd+1;break}return ad},y.prototype.mainProgram=function(){if(this.gk.tr1_f?this.mp.tr1_c<2&&this.mp.tr1_c++:this.mp.tr1_c=0,0==this.mp_mode){if(100==this.km.mode)this.jMove();else if(200==this.km.mode)1==this.km.cancel_c?(this.km.off(3),this.km.off(4),this.km.mode=100):1==this.km.kettei_c&&(this.km.init1(3),this.km.setMessage(3,this.mp.mes1_name),this.mp.addSerifu(3,2,3),this.km.activeSerifu(3,120,150,272,D.cyan),this.km.mode=210);else if(210==this.km.mode)1!=this.km.cancel_c&&1!=this.km.kettei_c||(this.km.off(3),this.km.off(4),this.km.mode=100);else if(300==this.km.mode)1==this.km.cancel_c?(this.km.off(3),this.km.off(4),this.km.mode=100):1==this.km.kettei_c&&(this.km.init1(3),this.km.setMessage(3,this.mp.mes2_name),this.mp.addSerifu(3,4,3),this.km.activeSerifu(3,120,150,272,D.cyan),this.km.mode=210);else if(400==this.km.mode){if(1==this.km.cancel_c)this.km.off(3),this.km.off(4),this.km.mode=100;else if(1==this.km.kettei_c){this.km.off(3),this.km.list_kazu=0,this.km.init1(6),this.km.setMessage(6,this.gg.ap.getParameter("shop_serifu1"));for(var cd=0;cd<=8;cd++)0<this.mp.shop_item_teika[cd]&&(this.km.addItem2(6,this.mp.shop_item_name[cd],this.mp.shop_item_teika[cd]),this.km.list_IDlist[this.km.list_kazu]=cd,this.km.list_kazu++);1<=this.km.list_kazu?(this.km.activeKaimono(6,296,76,184),this.km.mode=410):(this.km.init1(6),this.km.init1(3),this.km.setMessage(3,"Error"),this.km.addItem(3,"Please set any item on shop menu."),this.km.activeSerifu(3,120,150,216,D.red),this.km.mode=210)}}else 410==this.km.mode?1==this.km.cancel_c?(this.km.off(4),this.km.off(6),this.km.mode=100):1==this.km.kettei_c&&(this.km.list_s=this.km.list_IDlist[this.km.selectedIndex[6]],this.km.init1(7),this.km.setMessage(7,this.mp.shop_item_name[this.km.list_s]+this.gg.ap.getParameter("shop_serifu2")),this.km.addItem(7,this.gg.ap.getParameter("shop_serifu3")),this.km.addItem(7,this.gg.ap.getParameter("shop_serifu4")),this.km.activeSerifutuki(7,48,150,236,this.mp.shop_name),this.km.mode=420):420==this.km.mode?1==this.km.cancel_c?(this.km.offActivewindow(7,6),this.km.mode=410):1==this.km.kettei_c&&(0==this.km.selectedIndex[7]?(this.mp.score>=this.mp.shop_item_teika[this.km.list_s]?(this.km.init1(3),this.km.addItem(3,this.mp.shop_item_name[this.km.list_s]+this.gg.ap.getParameter("shop_serifu5")),this.km.activeIchigyou(3,48,240,236),this.mp.score-=this.mp.shop_item_teika[this.km.list_s],this.shop_kattaitem=this.km.list_s,7==this.shop_kattaitem&&this.mp.j_left++):(this.km.init1(3),this.km.addItem(3,this.gg.ap.getParameter("shop_serifu6")),this.km.activeIchigyou(3,48,240,236)),this.km.mode=430):(this.km.off(4),this.km.off(6),this.km.off(7),this.km.mode=100)):430==this.km.mode?1!=this.km.cancel_c&&1!=this.km.kettei_c||(this.km.off(3),this.km.off(4),this.km.off(6),this.km.off(7),this.km.mode=100):500==this.km.mode?1==this.km.cancel_c?(this.km.off(4),this.km.off(3),this.km.mode=100):1==this.km.kettei_c&&(this.km.off(3),this.km.init1(2),this.km.setMessage(2,this.gg.ap.getParameter("setumei_menu1")),this.km.addItem(2,this.gg.ap.getParameter("setumei_menu2")),this.km.addItem(2,this.gg.ap.getParameter("setumei_menu3")),this.km.addItem(2,this.gg.ap.getParameter("setumei_menu4")),this.km.activeSerifutuki(2,120,150,224,this.mp.setumei_name),this.km.mode=510):510==this.km.mode?1==this.km.cancel_c?(this.km.off(2),this.km.off(4),this.km.mode=100):1==this.km.kettei_c&&(this.km.init1(3),this.km.setMessage(3,this.mp.setumei_name),1==this.km.selectedIndex[2]?this.mp.addSerifu(3,11,3):2==this.km.selectedIndex[2]?this.mp.addSerifu(3,12,3):this.mp.addSerifu(3,10,3),this.km.activeSerifu(3,200,191,272,D.cyan),this.km.mode=520):520==this.km.mode&&(1==this.km.cancel_c?(this.km.offActivewindow(3,2),this.km.mode=510):1==this.km.kettei_c&&(this.km.off(2),this.km.off(3),this.km.off(4),this.km.mode=100));this.km.move()}if(1e3==this.co_j.pt?this.gg.drawPT(this.co_j.x+16,this.co_j.y+24-12-6,100,this.co_j.muki):1010==this.co_j.pt?this.gg.drawPT(this.co_j.x+16,this.co_j.y+24-12+5,100,this.co_j.muki):202<=this.co_j.pt&&this.co_j.pt<=205?this.gg.drawPT(this.co_j.x+16,this.co_j.y+24-12,this.co_j.pt,0):this.gg.drawPT(this.co_j.x+16,this.co_j.y+24-12,this.co_j.pt,this.co_j.muki),this.km.drawMenus(),100==this.mp_mode)this.circleCLS(this.cc_hankei),this.cc_hankei-=12,this.cc_hankei<0&&(this.cc_hankei=0,this.mp_mode=110);else if(110==this.mp_mode)this.circleCLS(this.cc_hankei);else if(200==this.mp_mode){if(this.circleCLS(this.cc_hankei),this.cc_hankei+=12,312<this.cc_hankei)if(1<=this.stage_kcID){this.mp_mode=300,this.cc_hankei=0;var dd=this.stage_y[this.stage_kcID-1]>>5;this.map_bg[this.stage_x[this.stage_kcID-1]>>5][dd]=227,1<=this.door_koID&&(this.map_bg[this.ie_x[this.door_koID-1]>>5][this.ie_y[this.door_koID-1]>>5]=222),1==this.door_score_open&&(this.map_bg[this.ie_x[9]>>5][this.ie_y[9]>>5]=222),this.drawOs2()}else this.mp_mode=0,1==this.door_score_open&&(this.mp_mode=400,this.cc_hankei=0,this.map_bg[this.ie_x[9]>>5][this.ie_y[9]>>5]=222,this.drawOs2())}else if(300==this.mp_mode){var ed;this.cc_hankei++,this.cc_hankei<=3?ed=0:this.cc_hankei<=6?ed=1:this.cc_hankei<=9?ed=0:this.cc_hankei<=12?ed=1:this.cc_hankei<=15?ed=0:this.cc_hankei<=18?ed=1:this.cc_hankei<=21?ed=0:this.cc_hankei<=24?ed=1:this.cc_hankei<=26?ed=0:(ed=0,this.mp_mode=0),0<ed&&this.gg.drawPT(this.stage_x[this.stage_kcID-1]+16,this.stage_y[this.stage_kcID-1]+24,222+this.stage_kcID,0),0<ed&&1<=this.door_koID&&this.gg.drawPT(this.ie_x[this.door_koID-1]+16,this.ie_y[this.door_koID-1]+24-7,212+this.door_koID,0),0<ed&&1==this.door_score_open&&this.gg.drawPT(this.ie_x[9]+16,this.ie_y[9]+24-7,212,0)}else if(400==this.mp_mode){var fd;this.cc_hankei++,this.cc_hankei<=3?fd=0:this.cc_hankei<=6?fd=1:this.cc_hankei<=9?fd=0:this.cc_hankei<=12?fd=1:this.cc_hankei<=15?fd=0:this.cc_hankei<=18?fd=1:this.cc_hankei<=21?fd=0:this.cc_hankei<=24?fd=1:this.cc_hankei<=26?fd=0:(fd=0,this.mp_mode=0),0<fd&&this.gg.drawPT(this.ie_x[9]+16,this.ie_y[9]+24-7,212,0)}},y.prototype.jMove=function(){var gd=this.co_j.x,hd=this.co_j.y;if(this.co_j.pt=100,0==this.co_j.vx&&0==this.co_j.vy){if(this.co_j.ac++,7<this.co_j.ac&&(this.co_j.ac=0),3<this.co_j.ac){this.co_j.pt=1e3;var id=this.getBGZ(gd,hd);(216<=id&&id<=219||206<=id&&id<=209)&&(this.co_j.pt=1010)}if(1==this.mp.tr1_c)if(1<=this.checkStage())this.mp_mode=100,this.cc_hankei=312,this.co_j.ac=0,this.dokan_khID=0,this.co_j.pt=100;else if(206<=this.getBGZ(gd,hd)&&this.getBGZ(gd,hd)<=209)if(2==this.mp.dokan_mode)for(var jd=!1,kd=0;kd<=8;kd++){for(var ld=0;ld<=14;ld++){if(32*ld!=gd||32*kd!=hd)if(this.map_bg[ld][kd]==this.getBGZ(gd,hd)){gd=32*ld,hd=32*kd,this.co_j.ac=0,this.co_j.pt=1010,jd=!0;break}}if(jd)break}else this.mp_mode=100,this.cc_hankei=312,this.co_j.ac=0,this.dokan_khID=this.getBGZ(gd,hd)-205,this.co_j.pt=1010;else 216==this.getBGZ(gd,hd)?(this.km.init1(4),this.km.onKao(4,120,42,272,230),this.km.init1(3),this.km.setMessage(3,this.mp.mes1_name),this.mp.addSerifu(3,1,3),this.km.activeSerifu(3,120,150,272,D.cyan),this.km.mode=200,this.co_j.pt=1010,this.co_j.ac=0):217==this.getBGZ(gd,hd)?(this.km.init1(4),this.km.onKao(4,120,42,272,232),this.km.init1(3),this.km.setMessage(3,this.mp.mes2_name),this.mp.addSerifu(3,3,3),this.km.activeSerifu(3,120,150,272,D.cyan),this.km.mode=300,this.co_j.pt=1010,this.co_j.ac=0):218==this.getBGZ(gd,hd)?(this.km.init1(4),this.km.onKao(4,120,42,216,234),this.shop_kattaitem<0?(this.km.init1(3),this.km.setMessage(3,this.mp.shop_name),this.mp.addSerifu(3,5,3),this.km.activeSerifu(3,120,150,216,D.cyan),this.km.mode=400):(this.km.init1(3),this.km.setMessage(3,this.mp.shop_name),this.mp.addSerifu(3,8,3),this.km.activeSerifu(3,120,150,216,D.cyan),this.km.mode=210),this.co_j.pt=1010,this.co_j.ac=0):219==this.getBGZ(gd,hd)&&(this.km.init1(4),this.km.onKao(4,120,42,272,236),this.km.init1(3),this.km.setMessage(3,this.mp.setumei_name),this.mp.addSerifu(3,9,3),this.km.activeSerifu(3,120,150,272,D.cyan),this.km.mode=500,this.co_j.pt=1010,this.co_j.ac=0);else this.gk.up_f?221==this.getBGZ(gd,hd-32)&&(this.co_j.vy=-4,this.co_j.ac=-1):this.gk.down_f?221==this.getBGZ(gd,hd+32)&&(this.co_j.vy=4,this.co_j.ac=-1):this.gk.left_f?(this.co_j.muki=0,222==this.getBGZ(gd-32,hd)&&(this.co_j.vx=-4,this.co_j.ac=-1),212<=this.getBGZ(gd+32,hd)&&this.getBGZ(gd+32,hd)<=215&&(this.co_j.vx=-4,this.co_j.ac=-1)):this.gk.right_f&&(this.co_j.muki=1,222==this.getBGZ(gd+32,hd)&&(this.co_j.vx=4,this.co_j.ac=-1),212<=this.getBGZ(gd-32,hd)&&this.getBGZ(gd-32,hd)<=215&&(this.co_j.vx=4,this.co_j.ac=-1))}if(0!=this.co_j.vx||0!=this.co_j.vy){if(this.co_j.ac++,3<this.co_j.ac&&(this.co_j.ac=0),gd+=this.co_j.vx,hd+=this.co_j.vy,0!=this.co_j.vx?this.co_j.ac<=1?this.co_j.pt=103:this.co_j.pt=104:0<=this.co_j.vy?this.co_j.ac<=1?this.co_j.pt=202:this.co_j.pt=203:this.co_j.ac<=1?this.co_j.pt=204:this.co_j.pt=205,gd%32==0&&hd%32==0){var nd=this.getBGZ(gd,hd);(220==nd||223<=nd&&nd<=227||216<=nd&&nd<=219||206<=nd&&nd<=209)&&(this.co_j.vx=0,this.co_j.vy=0,this.co_j.ac=0),(nd=0)<this.co_j.vx?nd=this.getBGZ(gd+32,hd):this.co_j.vx<0&&(nd=this.getBGZ(gd-32,hd)),212<=nd&&nd<=215&&(this.co_j.vx=0,this.co_j.vy=0,this.co_j.pt=100,this.co_j.ac=0)}gd<=-32?(gd=-32,this.co_j.vx=0,this.co_j.vy=0,this.co_j.ac=0):480<=gd&&(gd=480,this.co_j.vx=0,this.co_j.vy=0,this.co_j.ac=0),hd<=-32?(hd=-32,this.co_j.vx=0,this.co_j.vy=0,this.co_j.ac=0):288<=hd&&(hd=288,this.co_j.vx=0,this.co_j.vy=0,this.co_j.ac=0)}this.co_j.x=gd,this.co_j.y=hd},y.prototype.circleCLS=function(od){for(var pd=0;pd<=12;pd++){var qd=c.sin(.2617992*pd);this.cc_p1_y[pd]=160+c.floor(qd*od);var rd=c.cos(.2617992*pd);this.cc_p1_x[pd]=256+c.floor(rd*od),this.cc_p2_y[pd]=160-c.floor(qd*od),this.cc_p2_x[pd]=256-c.floor(rd*od)}this.gg.os_g.setColor(D.black),this.gg.os_g.fillPolygon(this.cc_p1_x,this.cc_p1_y,17),this.gg.os_g.fillPolygon(this.cc_p2_x,this.cc_p2_y,17)},y.prototype.squareCLS=function(sd,td){var ud=.017453292519943295;this.cc_p1_x[0]=c.floor(c.cos((this.cc_kakudo+0)*ud)*sd)+256,this.cc_p1_y[0]=c.floor(c.sin((this.cc_kakudo+0)*ud)*sd)+160,this.cc_p1_x[1]=c.floor(c.cos((this.cc_kakudo+90)*ud)*sd)+256,this.cc_p1_y[1]=c.floor(c.sin((this.cc_kakudo+90)*ud)*sd)+160,this.cc_p1_x[2]=c.floor(c.cos((this.cc_kakudo+180)*ud)*sd)+256,this.cc_p1_y[2]=c.floor(c.sin((this.cc_kakudo+180)*ud)*sd)+160,this.cc_p1_x[3]=c.floor(500*c.cos((this.cc_kakudo+180)*ud))+256,this.cc_p1_y[3]=c.floor(500*c.sin((this.cc_kakudo+180)*ud))+160,this.cc_p1_x[4]=c.floor(700*c.cos((this.cc_kakudo+135)*ud))+256,this.cc_p1_y[4]=c.floor(700*c.sin((this.cc_kakudo+135)*ud))+160,this.cc_p1_x[5]=c.floor(700*c.cos((this.cc_kakudo+45)*ud))+256,this.cc_p1_y[5]=c.floor(700*c.sin((this.cc_kakudo+45)*ud))+160,this.cc_p1_x[6]=c.floor(500*c.cos((this.cc_kakudo+0)*ud))+256,this.cc_p1_y[6]=c.floor(500*c.sin((this.cc_kakudo+0)*ud))+160,this.cc_p2_x[0]=c.floor(c.cos((this.cc_kakudo+180)*ud)*sd)+256,this.cc_p2_y[0]=c.floor(c.sin((this.cc_kakudo+180)*ud)*sd)+160,this.cc_p2_x[1]=c.floor(c.cos((this.cc_kakudo+270)*ud)*sd)+256,this.cc_p2_y[1]=c.floor(c.sin((this.cc_kakudo+270)*ud)*sd)+160,this.cc_p2_x[2]=c.floor(c.cos((this.cc_kakudo+360)*ud)*sd)+256,this.cc_p2_y[2]=c.floor(c.sin((this.cc_kakudo+360)*ud)*sd)+160,this.cc_p2_x[3]=c.floor(500*c.cos((this.cc_kakudo+360)*ud))+256,this.cc_p2_y[3]=c.floor(500*c.sin((this.cc_kakudo+360)*ud))+160,this.cc_p2_x[4]=c.floor(700*c.cos((this.cc_kakudo+315)*ud))+256,this.cc_p2_y[4]=c.floor(700*c.sin((this.cc_kakudo+315)*ud))+160,this.cc_p2_x[5]=c.floor(700*c.cos((this.cc_kakudo+225)*ud))+256,this.cc_p2_y[5]=c.floor(700*c.sin((this.cc_kakudo+225)*ud))+160,this.cc_p2_x[6]=c.floor(500*c.cos((this.cc_kakudo+180)*ud))+256,this.cc_p2_y[6]=c.floor(500*c.sin((this.cc_kakudo+180)*ud))+160,this.gg.os_g.setColor(D.black),this.gg.os_g.fillPolygon(this.cc_p1_x,this.cc_p1_y,7),this.gg.os_g.fillPolygon(this.cc_p2_x,this.cc_p2_y,7)},z.prototype.load=function(yd){this._loaded=!1,this._error=!1,this._width=-1,this._height=-1,this._dat=new Image;var zd=this;this._dat.onload=function(){zd.onload()},this._dat.onerror=function(){B(zd)},this._dat.onabort=function(){B(zd)},this._dat.ontimeout=function(){B(zd)},this._dat.src=yd,this._dat.complete&&this.onload()},z.prototype.onload=function(){this._loaded=!0,this._width=this._dat.naturalWidth,this._height=this._dat.naturalHeight},z.prototype.onerror=function(){this._error=!0,this._dat=null},z.prototype.getGraphics=function(){return this._width<0?null:(this._g=new C(this),this._g)},z.prototype.createGraphics=function(){return this.getGraphics()},C.prototype.drawLine=function(Dd,Ed,Fd,Gd){return null!=this._ctx&&(this._ctx.beginPath(),this._ctx.moveTo(Dd,Ed),this._ctx.lineTo(Fd,Gd),this._ctx.stroke(),!0)},C.prototype.drawImage=function(Hd,Id,Jd,Kd,Ld,Md,Nd,Od,Pd,Qd){if(null==Hd._dat)return!1;if(null==this._ctx)return!1;try{if(arguments.length<=4)return this._ctx.drawImage(Hd._dat,Id,Jd),!0;if(arguments.length<=6)return this._ctx.drawImage(Hd._dat,Id,Jd,Kd,Ld),!0;if(arguments.length<=10)return this._ctx.drawImage(Hd._dat,Id,Jd,Kd,Ld,Md,Nd,Od,Pd),!0}catch(Rd){}return!1},C.prototype.drawRect=function(Sd,Td,Ud,Vd){return null!=this._ctx&&(this._ctx.strokeRect(Sd,Td,Ud,Vd),!0)},C.prototype.fillRect=function(Wd,Xd,Yd,Zd){return null!=this._ctx&&(this._ctx.fillRect(Wd,Xd,Yd,Zd),!0)},C.prototype.drawPolygon=function($d,_d,ae){if(null==this._ctx)return!1;this._ctx.beginPath(),this._ctx.moveTo($d[0],_d[0]);for(var be=1;be<ae;be++)this._ctx.lineTo($d[be],_d[be]);return this._ctx.closePath(),this._ctx.stroke(),!0},C.prototype.fillPolygon=function(ce,de,ee){if(null==this._ctx)return!1;this._ctx.beginPath(),this._ctx.moveTo(ce[0],de[0]);for(var fe=1;fe<ee;fe++)this._ctx.lineTo(ce[fe],de[fe]);return this._ctx.closePath(),this._ctx.fill(),!0},C.prototype.drawOval=function(ge,he,ie,je){return null!=this._ctx&&(this.drawArc(ge,he,ie,je,0,2*c.PI),!0)},C.prototype.fillOval=function(ke,le,me,ne){return null!=this._ctx&&(this.fillArc(ke,le,me,ne,0,2*c.PI),!0)},C.prototype.drawArc=function(oe,pe,qe,re,se,te){if(null==this._ctx)return!1;var ue=re/qe;return this._ctx.save(),this._ctx.beginPath(),this._ctx.scale(1,ue),this._ctx.arc(oe+qe/2,(pe+re/2)/ue,qe/2,se,se+te,te<0),this._ctx.stroke(),this._ctx.restore(),!0},C.prototype.fillArc=function(ve,we,xe,ye,ze,Ae){if(null==this._ctx)return!1;var Be=ye/xe;return this._ctx.save(),this._ctx.beginPath(),this._ctx.scale(1,Be),this._ctx.arc(ve+xe/2,(we+ye/2)/Be,xe/2,ze,ze+Ae,Ae<0),this._ctx.lineTo(ve+xe/2,(we+ye/2)/Be),this._ctx.closePath(),this._ctx.fill(),this._ctx.restore(),!0},C.prototype.setGlobalAlpha=function(Ce){return null!=this._ctx&&(Ce<0&&(Ce=0),255<Ce&&(Ce=255),this._ctx.globalAlpha=Ce/255,!0)},C.prototype.setColor=function(De){if(null==this._ctx)return!1;this._color=new D(De.r,De.g,De.b,De.a);var Ee="rgba("+De.r+", "+De.g+", "+De.b+", "+De.a/255+")";return this._ctx.strokeStyle=Ee,this._ctx.fillStyle=Ee,!0},C.prototype.setFont=function(Fe){if(null==this._ctx)return!1;var Ge="";return Fe._style&E.ITALIC&&(Ge+="italic "),Fe._style&E.BOLD&&(Ge+="bold "),Ge+=Fe._size+"px ",Fe._name==E.SERIF?Ge+="serif":Fe._name==E.SANS_SERIF?Ge+="sans-serif":Fe._name==E.MONOSPACED?Ge+="monospace":Fe._name==E.DIALOG?Ge+="'Helvetica','Arial','ＭＳ ゴシック','HG ゴシックB Sun','HG ゴシックB',monospace":Ge+='"'+Fe._name+'"',this._ctx.font=Ge,this._font=Fe,!0},C.prototype.drawString=function(He,Ie,Je){return null!=this._ctx&&(this._ctx.fillText(He,Ie,Je),!0)},C.prototype.translate=function(Ke,Le){return null!=this._ctx&&(this._ctx.translate(Ke,Le),!0)},C.prototype.rotate=function(Me,Ne,Oe){return null!=this._ctx&&(1==arguments.length?this._ctx.rotate(Me):(this._ctx.translate(Ne,Oe),this._ctx.rotate(Me),this._ctx.translate(-Ne,-Oe)),!0)},C.prototype.scale=function(Pe,Qe){return null!=this._ctx&&(this._ctx.scale(Pe,Qe),!0)},C.prototype.setClip=function(Re){if(null==this._ctx)return!1;if("ellipse"==Re){var Se=arguments[4]/arguments[3];return this._ctx.beginPath(),this._ctx.save(),this._ctx.scale(1,Se),this._ctx.arc(arguments[1]+arguments[3]/2,(arguments[2]+arguments[4]/2)/Se,arguments[3]/2,0,2*c.PI,!1),this._ctx.restore(),this._ctx.clip(),!0}if("rect"==Re)return this._ctx.beginPath(),this._ctx.rect(arguments[1],arguments[2],arguments[3],arguments[4]),this._ctx.clip(),!0;if("polygon"==Re){this._ctx.beginPath(),this._ctx.moveTo(arguments[1][0],arguments[2][0]);for(var Te=1;Te<arguments[3];Te++)this._ctx.lineTo(arguments[1][Te],arguments[2][Te]);return this._ctx.closePath(),this._ctx.clip(),!0}return!1},C.prototype.copyArea=function(Ue,Ve,We,Xe,Ye,Ze){return null!=this._ctx&&(this._ctx.drawImage(this._ctx.canvas,Ue,Ve,We,Xe,Ue+Ye,Ve+Ze,We,Xe),!0)},C.prototype.dispose=function(){this._ctx.restore(),this._ctx.save()},D.prototype.getRed=function(){return this.r},D.prototype.getGreen=function(){return this.g},D.prototype.getBlue=function(){return this.b},D.white=new D(255,255,255),D.WHITE=D.white,D.lightGray=new D(192,192,192),D.LIGHT_GRAY=D.lightGray,D.gray=new D(128,128,128),D.GRAY=D.gray,D.darkGray=new D(64,64,64),D.DARK_GRAY=D.darkGray,D.black=new D(0,0,0),D.BLACK=D.black,D.red=new D(255,0,0),D.RED=D.red,D.pink=new D(255,175,175),D.PINK=D.pink,D.orange=new D(255,200,0),D.ORANGE=D.orange,D.yellow=new D(255,255,0),D.YELLOW=D.yellow,D.green=new D(0,255,0),D.GREEN=D.green,D.magenta=new D(255,0,255),D.MAGENTA=D.magenta,D.cyan=new D(0,255,255),D.CYAN=D.cyan,D.blue=new D(0,0,255),D.BLUE=D.blue,E.DIALOG="Dialog",E.DIALOG_INPUT="DialogInput",E.MONOSPACED="Monospaced",E.SANS_SERIF="SansSerif",E.SERIF="Serif",E.PLAIN=0,E.BOLD=1,E.ITALIC=2,F.prototype.initAll=function(){for(var jf=0;jf<=15;jf++)this.init1(jf);this.c_fc=0,this.gk.up_c=0,this.gk.down_c=0,this.aw=-1,this.kettei_c=2,this.cancel_c=2;for(var kf=0;kf<=15;kf++)this.list_IDlist[kf]=0;this.list_kazu=0,this.list_s=0},F.prototype.init1=function(lf){this.c[lf]=0,this.x[lf]=0,this.y[lf]=0,this.width[lf]=180,this.selectedIndex[lf]=0,this.item_kazu[lf]=0,this.message[lf]="どうしますか？";for(var mf=0;mf<=15;mf++)this.item[lf][mf]="";for(var nf=0;nf<=15;nf++)this.item_int[lf][nf]=0},F.prototype.setMessage=function(of,pf){this.message[of]=pf},F.prototype.addItem=function(qf,rf){this.item[qf][this.item_kazu[qf]]=rf,this.item_kazu[qf]++},F.prototype.addIntitem=function(sf,tf){this.item_int[sf][this.item_kazu[sf]]=tf,this.item_kazu[sf]++},F.prototype.addItem2=function(uf,vf,wf){this.item[uf][this.item_kazu[uf]]=vf,this.item_int[uf][this.item_kazu[uf]]=wf,this.item_kazu[uf]++},F.prototype.active=function(xf,yf,zf,Af){this.c[xf]=100,this.x[xf]=yf,this.y[xf]=zf,this.width[xf]=void 0!==Af?Af:180,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=xf,this.kettei_c=2,this.cancel_c=2},F.prototype.activeSerifutuki=function(Bf,Cf,Df,Ef,Ff){this.c[Bf]=700,this.x[Bf]=Cf,this.y[Bf]=Df,this.width[Bf]=Ef,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=Bf,this.kettei_c=2,this.cancel_c=2,this.item[Bf][15]=Ff},F.prototype.activeKaimono=function(Gf,Hf,If,Jf){this.c[Gf]=900,this.x[Gf]=Hf,this.y[Gf]=If,this.width[Gf]=Jf,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=Gf,this.kettei_c=2,this.cancel_c=2},F.prototype.activeIchigyou=function(Kf,Lf,Mf,Nf){this.c[Kf]=300,this.x[Kf]=Lf,this.y[Kf]=Mf,this.width[Kf]=Nf,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=Kf,this.kettei_c=2,this.cancel_c=2},F.prototype.activeNigyou=function(Of,Pf,Qf,Rf,Sf){this.c[Of]=310,this.x[Of]=Pf,this.y[Of]=Qf,this.width[Of]=Rf,this.item_color[Of]=Sf,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=Of,this.kettei_c=2,this.cancel_c=2},F.prototype.activeYongyou=function(Tf,Uf,Vf,Wf){this.c[Tf]=320,this.x[Tf]=Uf,this.y[Tf]=Vf,this.width[Tf]=Wf,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=Tf,this.kettei_c=2,this.cancel_c=2},F.prototype.activeYongyou2=function(Xf,Yf,Zf,$f){this.c[Xf]=321,this.x[Xf]=Yf,this.y[Xf]=Zf,this.width[Xf]=$f,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=Xf,this.kettei_c=2,this.cancel_c=2},F.prototype.activeSerifu=function(_f,ag,bg,cg,dg){this.c[_f]=330,this.x[_f]=ag,this.y[_f]=bg,this.width[_f]=cg,this.item_color[_f]=dg,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=_f,this.kettei_c=2,this.cancel_c=2},F.prototype.activeYasumu=function(eg,fg,gg){this.c[eg]=1e3,this.x[eg]=fg,this.y[eg]=gg,this.width[eg]=272,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=eg,this.kettei_c=2,this.cancel_c=2},F.prototype.onKao=function(hg,ig,jg,kg,lg){this.c[hg]=600,this.x[hg]=ig,this.y[hg]=jg,this.width[hg]=kg,this.item_int[hg][0]=lg},F.prototype.onMituketa=function(mg,ng,og){this.c[mg]=610,this.x[mg]=ng,this.y[mg]=og,this.width[mg]=200},F.prototype.onOkozukai=function(pg,qg,rg,sg,tg){this.c[pg]=800,this.x[pg]=qg,this.y[pg]=rg,this.width[pg]=sg,this.item_int[pg][0]=tg},F.prototype.activeIchigyouTime=function(ug,vg,wg,xg){this.c[ug]=350,this.x[ug]=vg,this.y[ug]=wg,this.width[ug]=xg,this.item_int[ug][0]=100},F.prototype.activeNigyouTime=function(yg,zg,Ag,Bg,Cg){this.c[yg]=360,this.x[yg]=zg,this.y[yg]=Ag,this.width[yg]=Bg,this.item_color[yg]=Cg,this.item_int[yg][0]=100},F.prototype.activeJibun=function(Dg,Eg,Fg,Gg,Hg,Ig,Jg,Kg){this.c[Dg]=400,this.x[Dg]=Eg,this.y[Dg]=Fg,this.item_int[14][0]=Hg,this.item_int[14][1]=Ig,this.item_int[14][2]=Jg,this.item_int[14][3]=Kg,this.width[Dg]=Gg,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=Dg,this.kettei_c=2,this.cancel_c=2},F.prototype.activeToujou=function(Lg,Mg,Ng,Og,Pg,Qg){this.c[Lg]=420,this.x[Lg]=Mg,this.y[Lg]=Ng,this.item_int[Lg][2]=Pg,this.item[Lg][0]=Qg,this.width[Lg]=Og,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=Lg,this.kettei_c=2,this.cancel_c=2},F.prototype.initCS=function(){this.item_kazu[0]=8,this.selectedIndex[0]=0},F.prototype.activeCS=function(){this.c[0]=500,this.x[0]=0,this.y[0]=0,this.width[0]=0,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=0,this.kettei_c=2},F.prototype.off=function(Rg){this.c[Rg]=0},F.prototype.offActivewindow=function(Sg,Tg){this.c[Sg]=0,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=Tg,this.kettei_c=2,this.cancel_c=2},F.prototype.move=function(){this.c_fc++,6<this.c_fc&&(this.c_fc=0),0<=this.aw&&(this.gk.up_f?(this.gk.up_c++,3<this.gk.up_c&&(this.gk.up_c=1)):this.gk.up_c=0,this.gk.down_f?(this.gk.down_c++,3<this.gk.down_c&&(this.gk.down_c=1)):this.gk.down_c=0,1==this.gk.up_c?(this.selectedIndex[this.aw]--,this.c_fc=-1,this.selectedIndex[this.aw]<0&&(this.selectedIndex[this.aw]=this.item_kazu[this.aw]-1)):1==this.gk.down_c&&(this.selectedIndex[this.aw]++,this.c_fc=-1,this.selectedIndex[this.aw]>this.item_kazu[this.aw]-1&&(this.selectedIndex[this.aw]=0))),this.gk.tr1_f?0==this.kettei_c&&(this.kettei_c=1):this.kettei_c=0,this.gk.x_f?0==this.cancel_c&&(this.cancel_c=1):this.cancel_c=0},F.prototype.drawMenus=function(){this.hg.setFont(new E("Dialog",0,12));for(var Ug=0;Ug<=15;Ug++){var Vg=this.c[Ug];if(0!=Vg)switch(Vg){default:break;case 100:if(this.drawWindowbox(this.x[Ug],this.y[Ug],this.width[Ug],30+14*this.item_kazu[Ug]),this.hg.setColor(D.white),this.hg.drawString(this.message[Ug],this.x[Ug]+24,this.y[Ug]+6+12),1<=this.item_kazu[Ug])for(var Wg=0;Wg<=this.item_kazu[Ug]-1;Wg++)this.hg.drawString(this.item[Ug][Wg],this.x[Ug]+24,this.y[Ug]+6+18+14*Wg+12);Ug==this.aw?this.c_fc<=3&&this.hg.drawImage(this.hi[70],this.x[Ug]+6,this.y[Ug]+24+14*this.selectedIndex[Ug],this.ap):this.hg.drawImage(this.hi[70],this.x[Ug]+6,this.y[Ug]+24+14*this.selectedIndex[Ug],this.ap);break;case 200:this.hg.setColor(D.white),this.hg.fillRect(12,12,128,58),this.hg.setColor(D.black),this.hg.fillRect(14,14,124,54),this.hg.setColor(D.cyan),this.hg.drawString(this.item[14][0],18,30),(this.item_int[14][0]<=0||this.item_int[14][2]<=0)&&(this.hg.setColor(D.red),this.hg.drawString("戦闘不能",82,30)),this.hg.setColor(D.white),this.hg.drawString("HP  "+this.item_int[14][0]+" / "+this.item_int[14][1],18,48),this.hg.drawString("PP  "+this.item_int[14][2]+" / "+this.item_int[14][3],18,62);break;case 210:this.hg.setColor(D.white),this.hg.fillRect(160,12,128,58),this.hg.setColor(D.black),this.hg.fillRect(162,14,124,54),this.hg.setColor(D.green),this.hg.drawString(this.item[15][0],166,30),this.item_int[15][0]<=0&&(this.hg.setColor(D.red),this.hg.drawString("戦闘不能",230,30)),this.hg.setColor(D.white),this.hg.drawString("HP  "+this.item_int[15][0]+" / "+this.item_int[15][1],166,48),this.hg.drawString("PP  "+this.item_int[15][2]+" / "+this.item_int[15][3],166,62);break;case 220:this.hg.setColor(D.white),this.hg.fillRect(372,12,128,58),this.hg.setColor(D.black),this.hg.fillRect(374,14,124,54),this.hg.setColor(D.cyan),this.hg.drawString(this.item[15][0],378,30),(this.item_int[15][0]<=0||this.item_int[15][2]<=0)&&(this.hg.setColor(D.red),this.hg.drawString("戦闘不能",442,30)),this.hg.setColor(D.white),this.hg.drawString("HP  "+this.item_int[15][0]+" / "+this.item_int[15][1],378,48),this.hg.drawString("PP  "+this.item_int[15][2]+" / "+this.item_int[15][3],378,62);break;case 300:this.drawWindowbox(this.x[Ug],this.y[Ug],this.width[Ug],40),this.hg.setColor(D.white),this.hg.drawString(this.item[Ug][0],this.x[Ug]+6,this.y[Ug]+6+12),this.c_fc<=3&&this.gg.drawPT(this.x[Ug]+(this.width[Ug]-14>>1),this.y[Ug]+6+14+0+2,201,0);break;case 310:this.drawWindowbox(this.x[Ug],this.y[Ug],this.width[Ug],58),this.hg.setColor(this.item_color[Ug]),this.hg.drawString(this.item[Ug][0],this.x[Ug]+6,this.y[Ug]+6+12),this.hg.setColor(D.white),this.hg.drawString(this.item[Ug][1],this.x[Ug]+6,this.y[Ug]+6+18+12),this.c_fc<=3&&this.gg.drawPT(this.x[Ug]+(this.width[Ug]-14>>1),this.y[Ug]+6+18+14+2,71,0);break;case 320:this.drawWindowbox(this.x[Ug],this.y[Ug],this.width[Ug],66+14*(this.item_kazu[Ug]-3)+14),this.hg.setColor(D.magenta),this.hg.drawString(this.item[Ug][0],this.x[Ug]+6,this.y[Ug]+6+12),this.hg.setColor(D.white),this.hg.drawString(this.item[Ug][1],this.x[Ug]+6,this.y[Ug]+6+18+12),this.hg.setColor(D.cyan),this.hg.drawString(this.item[Ug][2],this.x[Ug]+6,this.y[Ug]+6+36+12),this.hg.setColor(D.white);for(var Xg=0;Xg<=this.item_kazu[3]-4;Xg++)this.hg.drawString(this.item[3][Xg+3],this.x[3]+6,this.y[3]+6+54+14*Xg+12);this.c_fc<=3&&this.gg.drawPT(this.x[Ug]+(this.width[Ug]-14>>1),this.y[Ug]+6+18+36+14*(this.item_kazu[Ug]-3)+2,71,0);break;case 321:this.drawWindowbox(this.x[Ug],this.y[Ug],this.width[Ug],108),this.hg.setColor(D.cyan),this.hg.drawString(this.item[Ug][0],this.x[Ug]+6,this.y[Ug]+6+12),this.hg.setColor(D.white),this.hg.drawString(this.item[Ug][1],this.x[Ug]+6,this.y[Ug]+6+18+12),this.hg.setColor(D.magenta),this.hg.drawString(this.item[Ug][2],this.x[Ug]+6,this.y[Ug]+6+36+12),this.hg.setColor(D.white),this.hg.drawString(this.item[Ug][3],this.x[Ug]+6,this.y[Ug]+6+54+12),this.hg.setColor(D.white),this.hg.drawString(this.item[Ug][4],this.x[Ug]+6,this.y[Ug]+6+54+14+12),this.c_fc<=3&&this.gg.drawPT(this.x[Ug]+(this.width[Ug]-14>>1),this.y[Ug]+6+18+36+14+14+2,71,0);break;case 330:if(this.drawWindowbox(this.x[Ug],this.y[Ug],this.width[Ug],30+14*(this.item_kazu[Ug]+1)),this.hg.setColor(this.item_color[Ug]),this.hg.drawString(this.message[Ug],this.x[Ug]+6,this.y[Ug]+6+12),this.hg.setColor(D.white),1<=this.item_kazu[Ug])for(var Yg=0;Yg<=this.item_kazu[Ug]-1;Yg++)this.hg.drawString(this.item[Ug][Yg],this.x[Ug]+6,this.y[Ug]+6+18+14*Yg+12);Ug==this.aw?this.c_fc<=3&&this.gg.drawPT(this.x[Ug]+(this.width[Ug]-14>>1),this.y[Ug]+6+18+14*this.item_kazu[Ug]+2,201,0):this.gg.drawPT(this.x[Ug]+(this.width[Ug]-14>>1),this.y[Ug]+6+18+14*this.item_kazu[Ug]+2,201,0);break;case 350:if(100==this.item_int[Ug][0]){this.item_int[Ug][0]=55;break}this.drawWindowbox(this.x[Ug],this.y[Ug],this.width[Ug],26),this.hg.setColor(D.white),this.hg.drawString(this.item[Ug][0],this.x[Ug]+6,this.y[Ug]+6+12),this.item_int[Ug][0]--,this.item_int[Ug][0]<=0&&this.off(Ug);break;case 360:if(200==this.item_int[Ug][0]){this.drawWindowbox(this.x[Ug],this.y[Ug],this.width[Ug],44),this.hg.setColor(this.item_color[Ug]),this.hg.drawString(this.item[Ug][0],this.x[Ug]+6,this.y[Ug]+6+12),this.hg.setColor(D.white),this.hg.drawString(this.item[Ug][1],this.x[Ug]+6,this.y[Ug]+6+18+12);break}if(100==this.item_int[Ug][0]){this.item_int[Ug][0]=55;break}this.drawWindowbox(this.x[Ug],this.y[Ug],this.width[Ug],44),this.hg.setColor(this.item_color[Ug]),this.hg.drawString(this.item[Ug][0],this.x[Ug]+6,this.y[Ug]+6+12),this.hg.setColor(D.white),this.hg.drawString(this.item[Ug][1],this.x[Ug]+6,this.y[Ug]+6+18+12),this.item_int[Ug][0]--,this.item_int[Ug][0]<=0&&this.off(Ug);break;case 400:this.drawWindowbox(this.x[Ug],this.y[Ug],this.width[Ug],128),this.hg.setColor(D.yellow),this.hg.drawString(this.name_crys+"のステータス",this.x[Ug]+6,this.y[Ug]+6+12),this.hg.setColor(D.white),this.hg.drawString("HP  "+this.item_int[14][0]+" / "+this.item_int[14][1],this.x[Ug]+6,this.y[Ug]+6+18+0+12),this.hg.drawString("おこづかい  ",this.x[Ug]+6,this.y[Ug]+6+18+28+12),this.hg.drawString(this.item_int[14][2]+"円",this.x[Ug]+6+72,this.y[Ug]+6+18+42+12),this.hg.drawString("得点",this.x[Ug]+6,this.y[Ug]+6+18+56+12),this.hg.drawString(this.item_int[14][3]+"点",this.x[Ug]+6+72,this.y[Ug]+6+18+70+12),this.c_fc<=3&&this.gg.drawPT(this.x[Ug]+(this.width[Ug]-14>>1),this.y[Ug]+6+18+84+2,71,0);break;case 420:this.drawWindowbox(this.x[Ug],this.y[Ug],this.width[Ug],116),this.hg.setColor(new D(96,96,96)),this.hg.fillRect(this.x[Ug]+12,this.y[Ug]+12,this.width[Ug]-24,48),this.gg.drawPT(this.x[Ug]+12+(this.width[Ug]-24-32>>1),this.y[Ug]+12+8,this.item_int[Ug][2],0),this.hg.setColor(D.cyan),this.hg.drawString(this.item[Ug][0],this.x[Ug]+12,this.y[Ug]+64+12),this.hg.setColor(D.white),this.hg.drawString("これからも、よろしくね！",this.x[Ug]+12,this.y[Ug]+68+14+12),this.c_fc<=3&&this.gg.drawPT(this.x[Ug]+(this.width[Ug]-14>>1),this.y[Ug]+68+28+2,71,0);break;case 410:if(-2==this.item_int[Ug][0]){this.drawWindowbox(this.x[Ug],this.y[Ug],this.width[Ug],116),this.hg.setColor(new D(96,96,96)),this.hg.fillRect(this.x[Ug]+12,this.y[Ug]+12,this.width[Ug]-24,48),this.gg.drawPT(this.x[Ug]+12+(this.width[Ug]-24-32>>1),this.y[Ug]+12+8,this.item_int[Ug][2],0),this.hg.setColor(D.yellow),this.hg.drawString(this.item[Ug][0],this.x[Ug]+12,this.y[Ug]+64+12),this.hg.setColor(D.white),this.hg.drawString("捕獲不可能",this.x[Ug]+12,this.y[Ug]+68+14+12),this.c_fc<=3&&this.gg.drawPT(this.x[Ug]+(this.width[Ug]-14>>1),this.y[Ug]+68+28+2,71,0);break}if(this.item_int[Ug][0]<0){this.drawWindowbox(this.x[Ug],this.y[Ug],this.width[Ug],116),this.hg.setColor(new D(96,96,96)),this.hg.fillRect(this.x[Ug]+12,this.y[Ug]+12,this.width[Ug]-24,48),this.gg.drawPT(this.x[Ug]+12+(this.width[Ug]-24-32>>1),this.y[Ug]+12+8,this.item_int[Ug][2],0),this.hg.setColor(D.yellow),this.hg.drawString(this.item[Ug][0],this.x[Ug]+12,this.y[Ug]+64+12),this.hg.setColor(D.white),this.hg.drawString("現在調査中",this.x[Ug]+12,this.y[Ug]+68+14+12),this.c_fc<=3&&this.gg.drawPT(this.x[Ug]+(this.width[Ug]-14>>1),this.y[Ug]+68+28+2,71,0);break}this.drawWindowbox(this.x[Ug],this.y[Ug],this.width[Ug],158),this.hg.setColor(new D(96,96,96)),this.hg.fillRect(this.x[Ug]+12,this.y[Ug]+12,this.width[Ug]-24,48),this.gg.drawPT(this.x[Ug]+12+(this.width[Ug]-24-32>>1),this.y[Ug]+12+8,this.item_int[Ug][2],0),this.hg.setColor(D.yellow),this.hg.drawString(this.item[Ug][0],this.x[Ug]+12,this.y[Ug]+64+12),this.hg.setColor(D.white),this.hg.drawString("最大HP",this.x[Ug]+12,this.y[Ug]+68+14+12),this.hg.drawString(""+this.item_int[Ug][0],this.x[Ug]+56,this.y[Ug]+68+28+12),this.hg.drawString("最大PP",this.x[Ug]+12,this.y[Ug]+68+42+12),this.hg.drawString(""+this.item_int[Ug][1],this.x[Ug]+56,this.y[Ug]+68+56+12),this.c_fc<=3&&this.gg.drawPT(this.x[Ug]+(this.width[Ug]-14>>1),this.y[Ug]+68+70+2,71,0);break;case 500:this.c_fc<=3||0!=this.aw?this.hg.drawImage(this.hi[72],12+28*this.selectedIndex[Ug],288,this.ap):this.hg.drawImage(this.hi[73],12+28*this.selectedIndex[Ug],288,this.ap);break;case 600:this.drawWindowbox(this.x[Ug],this.y[Ug],this.width[Ug],96);var Zg=this.item_int[Ug][0],$g=this.x[Ug]+(this.width[Ug]-64>>1),_g=this.y[Ug]+16;this.gg.drawPT($g,_g,Zg,0),this.gg.drawPT($g+32,_g,Zg+1,0),this.gg.drawPT($g,_g+32,Zg+10,0),this.gg.drawPT($g+32,_g+32,Zg+11,0);break;case 610:this.drawWindowbox(this.x[Ug],this.y[Ug],this.width[Ug],30+14*this.item_kazu[Ug]),this.hg.setColor(D.yellow),this.hg.drawString("モンスターずかん",this.x[Ug]+6,this.y[Ug]+6+12),this.hg.setColor(D.white),this.hg.drawString("見つけた数  "+this.item_int[Ug][0],this.x[Ug]+6,this.y[Ug]+6+18+0+12),this.hg.drawString("捕まえた数  "+this.item_int[Ug][1],this.x[Ug]+6,this.y[Ug]+6+18+14+12);break;case 700:if(this.drawWindowbox(this.x[Ug],this.y[Ug],this.width[Ug],30+14*this.item_kazu[Ug]+18),this.hg.setColor(D.cyan),this.hg.drawString(this.item[Ug][15],this.x[Ug]+24,this.y[Ug]+6+12),this.hg.setColor(D.white),this.hg.drawString(this.message[Ug],this.x[Ug]+24,this.y[Ug]+6+12+18),1<=this.item_kazu[Ug])for(var ah=0;ah<=this.item_kazu[Ug]-1;ah++)this.hg.drawString(this.item[Ug][ah],this.x[Ug]+24,this.y[Ug]+6+18+14*ah+12+18);Ug==this.aw?this.c_fc<=3&&this.gg.drawPT(this.x[Ug]+6,this.y[Ug]+6+18+14*this.selectedIndex[Ug]+18,200,0):this.gg.drawPT(this.x[Ug]+6,this.y[Ug]+6+18+14*this.selectedIndex[Ug]+18,200,0);break;case 800:this.drawWindowbox(this.x[Ug],this.y[Ug],this.width[Ug],44),this.hg.setColor(D.yellow),this.hg.drawString("おこづかい",this.x[Ug]+6,this.y[Ug]+6+12),this.hg.setColor(D.white),this.hg.drawString(this.item_int[Ug][0]+"円",this.x[Ug]+6,this.y[Ug]+6+18+12);break;case 900:if(this.drawWindowbox(this.x[Ug],this.y[Ug],this.width[Ug],30+14*this.item_kazu[Ug]),this.hg.setColor(D.white),this.hg.drawString(this.message[Ug],this.x[Ug]+24,this.y[Ug]+6+12),1<=this.item_kazu[Ug])for(var bh=0;bh<=this.item_kazu[Ug]-1;bh++)this.hg.drawString(this.item[Ug][bh],this.x[Ug]+24,this.y[Ug]+6+18+14*bh+12),this.hg.drawString(""+this.item_int[Ug][bh],this.x[Ug]+24+116,this.y[Ug]+6+18+14*bh+12);Ug==this.aw?this.c_fc<=3&&this.gg.drawPT(this.x[Ug]+6,this.y[Ug]+6+18+14*this.selectedIndex[Ug],200,0):this.gg.drawPT(this.x[Ug]+6,this.y[Ug]+6+18+14*this.selectedIndex[Ug],200,0);break;case 1e3:this.drawWindowbox(this.x[Ug],this.y[Ug],this.width[Ug],98),this.hg.setColor(new D(96,96,96)),this.hg.fillRect(this.x[Ug]+12,this.y[Ug]+12,248,48);for(var ch=0;ch<=5;ch++)0<this.item_int[Ug][ch]&&this.gg.drawPT(this.x[Ug]+12+8+40*ch,this.y[Ug]+12+8,this.item_int[Ug][ch],0);this.hg.setColor(D.white),this.hg.drawString("みんな、元気になった。",this.x[Ug]+12,this.y[Ug]+64+12),this.c_fc<=3&&this.gg.drawPT(this.x[Ug]+(this.width[Ug]-14>>1),this.y[Ug]+64+14+2,71,0)}}},F.prototype.drawWindowbox=function(dh,eh,fh,gh){this.hg.setColor(D.white),this.hg.fillRect(dh,eh,fh,gh),this.hg.setColor(D.black),this.hg.fillRect(dh+2,eh+2,fh-4,gh-4)},G.prototype.start=function(){this.ml_mode=50},G.prototype.paraInt=function(qh){var sh,rh=this.gg.ap.getParameter(qh);return sh=parseInt(rh),isNaN(sh)&&(sh=-1),sh},G.prototype.addHighscoreEvent=function(th){return this.heh=th,!0},G.prototype.sendHighscore=function(){if("[object Function]"==Object.prototype.toString.call(this.heh)){var vh=this.highscore;vh<this.score&&(vh=this.score),this.heh(vh)}},G.prototype.moveGameCounter=function(){switch(this.g_c3){case 0:this.g_c3=1,this.g_c1=1,this.g_c2=1,this.g_ac=0,this.g_ac2=0;break;case 1:this.g_c3=2,this.g_c1=0,this.g_c2=2,this.g_ac=1,this.g_ac2=1;break;case 2:this.g_c3=3,this.g_c1=1,this.g_c2=3,this.g_ac=1,this.g_ac2=1;break;case 3:this.g_c3=4,this.g_c1=0,this.g_c2=0,this.g_ac=0,this.g_ac2=2;break;case 4:this.g_c3=5,this.g_c1=1,this.g_c2=1,this.g_ac=0,this.g_ac2=2;break;case 5:this.g_c3=6,this.g_c1=0,this.g_c2=2,this.g_ac=1,this.g_ac2=3;break;case 6:this.g_c3=7,this.g_c1=1,this.g_c2=3,this.g_ac=1,this.g_ac2=3;break;case 7:this.g_c3=0,this.g_c1=0,this.g_c2=0,this.g_ac=0,this.g_ac2=0}},G.prototype.ranInit=function(){this.ran_seed=4294967296*c.random()|0},G.prototype.ranInt=function(wh){var xh=this.ran_seed;return xh=((xh=(xh^xh<<9)>>>0)^xh>>>11)>>>0,this.ran_seed=xh=(xh^xh<<19)>>>0,2.3283064365386963e-10*xh*wh|0},G.prototype.drawScore=function(){if(this.score_v)if(0<this.time_max){var Fh,Dh=t(this.time/1e3),Eh=14+this.moji_size;this.gg.os_g.setColor(this.gamecolor_score),this.gg.os_g.setFont(new E("Dialog",1,this.moji_size)),Fh=this.j_left_shoki<=0&&this.j_left<=0?this.moji_score+" "+this.score+"    "+this.moji_highscore+" "+this.highscore+this.moji_time+Dh:(Fh=this.moji_score+" "+this.score+"    "+this.moji_highscore+" "+this.highscore+this.moji_left+this.j_left)+this.moji_time+Dh,this.gg.os_g.drawString(Fh,40,Eh)}else{var Hh,Gh=14+this.moji_size;this.gg.os_g.setColor(this.gamecolor_score),this.gg.os_g.setFont(new E("Dialog",1,this.moji_size)),Hh=this.j_left_shoki<=0&&this.j_left<=0?this.moji_score+" "+this.score+"    "+this.moji_highscore+" "+this.highscore:this.moji_score+" "+this.score+"    "+this.moji_highscore+" "+this.highscore+this.moji_left+this.j_left,this.gg.os_g.drawString(Hh,40,Gh)}else if(0<this.time_max){var Ah,yh=t(this.time/1e3),zh=14+this.moji_size;this.gg.os_g.setColor(this.gamecolor_score),this.gg.os_g.setFont(new E("Dialog",1,this.moji_size)),Ah=this.j_left_shoki<=0&&this.j_left<=0?this.moji_time+yh:(Ah=this.moji_left+this.j_left)+this.moji_time+yh,this.gg.os_g.drawString(Ah,40,zh)}else{var Ch,Bh=14+this.moji_size;this.gg.os_g.setColor(this.gamecolor_score),this.gg.os_g.setFont(new E("Dialog",1,this.moji_size)),Ch=this.j_left_shoki<=0&&this.j_left<=0?"":this.moji_left+this.j_left,this.gg.os_g.drawString(Ch,40,Bh)}},G.prototype.drawScore2=function(){if(this.score_v){var Lh,Kh=14+this.moji_size;this.gg.os_g.setColor(this.gamecolor_score),this.gg.os_g.setFont(new E("Dialog",1,this.moji_size)),Lh=this.j_left_shoki<=0&&this.j_left<=0?this.moji_score+" "+this.score+"    "+this.moji_highscore+" "+this.highscore:this.moji_score+" "+this.score+"    "+this.moji_highscore+" "+this.highscore+this.moji_left+this.j_left,this.gg.os_g.drawString(Lh,40,Kh)}else{var Jh,Ih=14+this.moji_size;this.gg.os_g.setColor(this.gamecolor_score),this.gg.os_g.setFont(new E("Dialog",1,this.moji_size)),Jh=this.j_left_shoki<=0&&this.j_left<=0?"":this.moji_left+this.j_left,this.gg.os_g.drawString(Jh,40,Ih)}},G.prototype.addScore=function(Mh){this.score+=Mh,0<this.score_1up_1&&this.score>=this.score_1up_1&&(this.j_left++,this.score_1up_1=0),0<this.score_1up_2&&this.score>=this.score_1up_2&&(this.j_left++,this.score_1up_2=0)},G.prototype.addSerifu=function(Nh,Oh,Ph){for(var Qh=1;Qh<=Ph;Qh++){var Sh,Rh=this.gg.ap.getParameter("serifu"+Oh+"-"+Qh);Sh=parseInt(Rh),isNaN(Sh)&&(Sh=-1),0!=Sh&&this.km.addItem(Nh,Rh)}},G.prototype.mL100=function(){if(this.moveGameCounter(),this.aMove(),100==this.co_j.c?this.jM100():this.jMove(),0<this.sl_step&&(10==this.sl_step||11==this.sl_step?(this.ks_wx+=this.sl_speed,this.ks_wx>this.maps.wx_max&&(this.ks_wx=this.maps.wx_max),this.maps.wx=this.ks_wx,this.maps.wy=this.ks_wy,300!=this.co_j.c&&310!=this.co_j.c&&(this.co_j.x<this.ks_wx-16?(this.co_j.x=this.ks_wx-16,this.co_j.vx<0&&(this.co_j.vx=0),(20<=this.maps.getBGCode(this.co_j.x+15,this.co_j.y)||20<=this.maps.getBGCode(this.co_j.x+15,this.co_j.y+31))&&100<=this.co_j.c&&this.co_j.c<200&&(this.co_j.c=210,this.co_j.y=this.maps.wy-64,this.co_j.c1=0,this.j_jet_c=0,this.j_v_c=0)):this.co_j.x>this.ks_wx+496&&(this.co_j.x=this.ks_wx+496,(this.co_j.vx=0)<this.co_j.vx&&(this.co_j.vx=0))),11==this.sl_step&&this.maps.wx>=this.sl_wx&&(this.maps.wx=this.sl_wx,this.sl_wy=this.ks_wy,this.sl_step=3)):1==this.sl_step?this.maps.wx>=this.sl_wx&&(this.maps.wx=this.sl_wx,this.sl_step=2):2==this.sl_step?(this.maps.wx=this.sl_wx,this.co_j.x<this.sl_wx-16?(this.co_j.x=this.sl_wx-16,this.co_j.vx=0):this.co_j.x>this.sl_wx+496&&(this.co_j.x=this.sl_wx+496,this.co_j.vx=0),this.maps.wy>=this.sl_wy&&(this.maps.wy=this.sl_wy,this.sl_step=3)):(this.maps.wx=this.sl_wx,this.maps.wy=this.sl_wy,this.co_j.x<this.sl_wx-16?(this.co_j.x=this.sl_wx-16,this.co_j.vx=0):this.co_j.x>this.sl_wx+496&&(this.co_j.x=this.sl_wx+496,this.co_j.vx=0))),0<this.jm_kazu&&this.jmMove(),this.tMove(),0<this.co_b.c&&this.bMove(),0<this.m_kazu&&this.mMove(),0<this.time_max&&this.stage_cc<=0&&(this.time-=70,this.time<0&&(this.time=0,this.j_left--,this.j_left<0?(this.j_left=0,this.ml_mode=300):this.ml_mode=90)),0<this.stage_cc&&(this.stage_cc++,28<this.stage_cc&&(2==this.stage_select?4<=this.stage?this.ml_mode=400:(0<this.time_max&&this.addScore(t(this.time/1e3)),this.ml_mode=260):this.stage>=this.stage_max?this.ml_mode=400:(this.stage++,0<this.time_max&&this.addScore(t(this.time/1e3)),this.ml_mode=90))),this.drawGamescreen(),this.drawScore(),0<this.j_jet_fuel){var Th=this.moji_jet+" "+this.j_jet_fuel;0<this.j_gr_kazu&&(Th=1==this.j_gr_kazu?Th+"    "+this.moji_grenade:Th+"    "+this.moji_grenade+" "+this.j_gr_kazu),this.hg.drawString(Th,40,287+this.moji_size)}else 0<this.j_gr_kazu&&(1==this.j_gr_kazu?this.hg.drawString(this.moji_grenade,40,287+this.moji_size):this.hg.drawString(this.moji_grenade+" "+this.j_gr_kazu,40,287+this.moji_size));84==this.gk.key_code&&(this.gk.key_code=0,this.ml_mode=50)},G.prototype.mainLoop=function(){switch(this.ml_mode){default:break;case 50:this.gg.drawListImage(0,0,0),(0<this.score||0<this.highscore)&&this.drawScore(),this.gm.button_f||this.gk.tr1_f||(this.ml_mode=60,this.g_c1=0,this.sendHighscore());break;case 60:if(0==this.g_c1?118==this.gk.key_char&&(this.g_c1=1):1==this.g_c1?101==this.gk.key_char?this.g_c1=2:118!=this.gk.key_char&&(this.g_c1=0):2==this.g_c1&&(114==this.gk.key_char?this.ml_mode=1e3:101!=this.gk.key_char&&(this.g_c1=0)),!this.gm.button_f&&!this.gk.tr1_f)break;if(2==this.stage_select){this.init2(),this.ig.worldInit(),this.gg.os_g.setColor(D.black),this.gg.os_g.fillRect(0,0,this.gg.di.width,this.gg.di.height),this.ml_mode=200;break}this.init2(),this.init3(),this.gg.drawListImage(0,0,0),(0<this.score||0<this.highscore)&&this.drawScore(),this.j_left<=0?this.ml_mode=100:this.ml_mode=90;break;case 80:this.init2(),this.init3(),this.gg.drawListImage(0,0,0),(0<this.score||0<this.highscore)&&this.drawScore(),this.j_left<=0?this.ml_mode=100:this.ml_mode=90;break;case 90:this.init3(),this.gg.os_g.setColor(this.gamecolor_kaishi),this.gg.os_g.fillRect(0,0,this.gg.di.width,this.gg.di.height),this.stage>=this.stage_max?(this.gg.drawPT(160,144,52,0),this.gg.drawPT(192,144,53,0),this.gg.drawPT(224,144,54,0),this.gg.drawPT(256,144,55,0),this.gg.drawPT(288,144,56,0),this.gg.drawPT(320,144,57,0)):(this.gg.drawPT(192,144,70,0),this.gg.drawPT(224,144,71,0),this.gg.drawPT(256,144,72,0),this.stage>=this.stage_max&&this.gg.drawPT(288,144,75,0),3==this.stage?this.gg.drawPT(288,144,75,0):2==this.stage?this.gg.drawPT(288,144,74,0):this.gg.drawPT(288,144,73,0)),this.drawScore(),this.ml_mode=91,this.ml_mode_c=0;break;case 91:this.ml_mode_c++,35<this.ml_mode_c&&(this.ml_mode=100),84==this.gk.key_code&&(this.gk.key_code=0,this.ml_mode=50);break;case 95:switch(this.stage=this.ig.checkStage(),this.init3(),this.ig.shop_kattaitem){case 7:default:break;case 0:this.j_gr_kazu=3;break;case 1:this.j_jet_fuel=80;break;case 2:this.j_drell_f=!0;break;case 3:this.j_helm_f=!0;break;case 4:this.j_tail_f=!0;break;case 5:this.j_v_c=150,this.j_v_kakudo=0;break;case 6:this.j_fire_f=!0;break;case 8:0<this.time_max&&(this.time+=3e4)}this.gg.os_g.setColor(D.black),this.gg.os_g.fillRect(0,0,this.gg.di.width,this.gg.di.height),this.drawScore(),this.ml_mode=96,this.ml_mode_c=0;break;case 96:this.ml_mode_c++,8<this.ml_mode_c&&(this.ml_mode=100),84==this.gk.key_code&&(this.gk.key_code=0,this.ml_mode=50);break;case 200:this.ig.drawMap(),this.ig.mainProgram(),this.time=0,this.drawScore2(),110==this.ig.mp_mode&&(1<=this.ig.dokan_khID?this.ml_mode=230:this.ml_mode=95),84==this.gk.key_code&&(this.gk.key_code=0,this.ml_mode=50);break;case 230:this.gg.os_g.setColor(D.black),this.gg.os_g.fillRect(0,0,this.gg.di.width,this.gg.di.height),this.drawScore2(),this.ml_mode=231,this.ml_mode_c=0;break;case 231:var Uh;if(this.ml_mode_c++,5==this.ml_mode_c)Uh=2==this.ig.dokan_khID?this.gg.ap.getParameter("url2"):3==this.ig.dokan_khID?this.gg.ap.getParameter("url3"):4==this.ig.dokan_khID?this.gg.ap.getParameter("url4"):this.gg.ap.getParameter("url1"),location.href=Uh;else 80<this.ml_mode_c&&(this.ml_mode=50);84==this.gk.key_code&&(this.gk.key_code=0,this.ml_mode=50);break;case 250:this.addScore(0),this.ig.worldInit2(),this.ml_mode=251,this.ml_mode_c=0,this.gg.os_g.setColor(D.black),this.gg.os_g.fillRect(0,0,this.gg.di.width,this.gg.di.height),this.drawScore();break;case 251:this.ml_mode_c++,8<this.ml_mode_c&&(this.ml_mode=200),84==this.gk.key_code&&(this.gk.key_code=0,this.ml_mode=50);break;case 260:this.addScore(0),this.ig.worldInit3(),this.ml_mode=261,this.ml_mode_c=0,this.gg.os_g.setColor(D.black),this.gg.os_g.fillRect(0,0,this.gg.di.width,this.gg.di.height),this.drawScore();break;case 261:this.ml_mode_c++,8<this.ml_mode_c&&(this.ml_mode=200),84==this.gk.key_code&&(this.gk.key_code=0,this.ml_mode=50);break;case 300:this.gg.setBackcolor(D.black),this.gg.fill(),this.gg.drawListImage(0,0,2),this.drawScore(),this.sendHighscore(),this.ml_mode=310,this.ml_mode_c=0;break;case 310:this.ml_mode_c++,45<this.ml_mode_c&&(this.ml_mode=50),84==this.gk.key_code&&(this.gk.key_code=0,this.ml_mode=50);break;case 400:this.gg.drawListImage(0,0,1),0<this.time_max&&this.addScore(t(this.time/1e3)),this.drawScore(),this.sendHighscore(),this.ml_mode=410,this.ml_mode_c=0;break;case 410:this.ml_mode_c++,120<this.ml_mode_c&&(this.ml_mode=50),84==this.gk.key_code&&(this.gk.key_code=0,this.ml_mode=50);break;case 500:this.gg.setBackcolor(D.black),this.gg.fill(),this.gg.drawListImage(0,0,0),(0<this.score||0<this.highscore)&&this.drawScore(),this.ml_mode=50,this.ml_mode=50;break;case 1e3:this.gg.setBackcolor(D.black),this.gg.fill(),this.hg.setFont(new E("Dialog",0,46)),this.hg.setColor(D.white),this.hg.setFont(new E("Dialog",0,20)),this.hg.drawString("Title        MASAO CONSTRUCTION",50,50),this.hg.drawString("Version      2.8",50,80),this.hg.drawString("Language     Java2  SDK 1.3.1",50,110),this.hg.drawString("OS           WindowsXP",50,140),this.hg.drawString("Browser      InternetExplorer 6.0",50,170),this.hg.drawString("Programing   Fukuda Naoto",50,200),this.hg.drawString("Date         2003/6",50,230),this.ml_mode=1010,this.ml_mode_c=0;break;case 1010:this.ml_mode_c++,40<this.ml_mode_c&&(this.ml_mode=50)}},G.prototype.init1=function(){this.time_max=this.paraInt("time_max");var Vh=this.paraInt("score_v");this.score_v=2!=Vh,Vh=this.paraInt("backcolor_red");var Wh=this.paraInt("backcolor_green"),Xh=this.paraInt("backcolor_blue");Vh<0?Vh=0:255<Vh&&(Vh=255),Wh<0?Wh=0:255<Wh&&(Wh=255),Xh<0?Xh=0:255<Xh&&(Xh=255),this.gamecolor_back=new D(Vh,Wh,Xh),(Vh=this.paraInt("backcolor_red_s"))<0?Vh=0:255<Vh&&(Vh=255),(Wh=this.paraInt("backcolor_green_s"))<0?Wh=0:255<Wh&&(Wh=255),(Xh=this.paraInt("backcolor_blue_s"))<0?Xh=0:255<Xh&&(Xh=255),this.gamecolor_back_s=new D(Vh,Wh,Xh),(Vh=this.paraInt("backcolor_red_t"))<0?Vh=0:255<Vh&&(Vh=255),(Wh=this.paraInt("backcolor_green_t"))<0?Wh=0:255<Wh&&(Wh=255),(Xh=this.paraInt("backcolor_blue_t"))<0?Xh=0:255<Xh&&(Xh=255),this.gamecolor_back_t=new D(Vh,Wh,Xh),(Vh=this.paraInt("backcolor_red_f"))<0?Vh=0:255<Vh&&(Vh=255),(Wh=this.paraInt("backcolor_green_f"))<0?Wh=0:255<Wh&&(Wh=255),(Xh=this.paraInt("backcolor_blue_f"))<0?Xh=0:255<Xh&&(Xh=255),this.gamecolor_back_f=new D(Vh,Wh,Xh),(Vh=this.paraInt("kaishi_red"))<0?Vh=0:255<Vh&&(Vh=255),(Wh=this.paraInt("kaishi_green"))<0?Wh=0:255<Wh&&(Wh=255),(Xh=this.paraInt("kaishi_blue"))<0?Xh=0:255<Xh&&(Xh=255),this.gamecolor_kaishi=new D(Vh,Wh,Xh),(Vh=this.paraInt("scorecolor_red"))<0?Vh=0:255<Vh&&(Vh=255),(Wh=this.paraInt("scorecolor_green"))<0?Wh=0:255<Wh&&(Wh=255),(Xh=this.paraInt("scorecolor_blue"))<0?Xh=0:255<Xh&&(Xh=255),this.gamecolor_score=new D(Vh,Wh,Xh),(Vh=this.paraInt("grenade_red1"))<0?Vh=0:255<Vh&&(Vh=255),(Wh=this.paraInt("grenade_green1"))<0?Wh=0:255<Wh&&(Wh=255),(Xh=this.paraInt("grenade_blue1"))<0?Xh=0:255<Xh&&(Xh=255),this.gamecolor_grenade1=new D(Vh,Wh,Xh),(Vh=this.paraInt("grenade_red2"))<0?Vh=0:255<Vh&&(Vh=255),(Wh=this.paraInt("grenade_green2"))<0?Wh=0:255<Wh&&(Wh=255),(Xh=this.paraInt("grenade_blue2"))<0?Xh=0:255<Xh&&(Xh=255),this.gamecolor_grenade2=new D(Vh,Wh,Xh),(Vh=this.paraInt("firebar_red1"))<0?Vh=0:255<Vh&&(Vh=255),(Wh=this.paraInt("firebar_green1"))<0?Wh=0:255<Wh&&(Wh=255),(Xh=this.paraInt("firebar_blue1"))<0?Xh=0:255<Xh&&(Xh=255),this.gamecolor_firebar1=new D(Vh,Wh,Xh),(Vh=this.paraInt("firebar_red2"))<0?Vh=0:255<Vh&&(Vh=255),(Wh=this.paraInt("firebar_green2"))<0?Wh=0:255<Wh&&(Wh=255),(Xh=this.paraInt("firebar_blue2"))<0?Xh=0:255<Xh&&(Xh=255),this.gamecolor_firebar2=new D(Vh,Wh,Xh),(Vh=this.paraInt("mizunohadou_red"))<0?Vh=0:255<Vh&&(Vh=255),(Wh=this.paraInt("mizunohadou_green"))<0?Wh=0:255<Wh&&(Wh=255),(Xh=this.paraInt("mizunohadou_blue"))<0?Xh=0:255<Xh&&(Xh=255),this.gamecolor_mizunohadou=new D(Vh,Wh,Xh),this.moji_score=this.gg.ap.getParameter("moji_score"),this.moji_highscore=this.gg.ap.getParameter("moji_highscore"),this.moji_time=this.gg.ap.getParameter("moji_time"),this.moji_time="    "+this.moji_time+" ",this.moji_jet=this.gg.ap.getParameter("moji_jet"),this.moji_grenade=this.gg.ap.getParameter("moji_grenade"),this.moji_left=this.gg.ap.getParameter("moji_left"),this.moji_left="    "+this.moji_left+" ",this.moji_size=this.paraInt("moji_size"),this.moji_size<10?this.moji_size=10:30<this.moji_size&&(this.moji_size=30),this.j_left_shoki=this.paraInt("jibun_left_shoki"),this.j_left_shoki<1&&(this.j_left_shoki=1),this.j_left_shoki--,this.stage_max=this.paraInt("stage_max"),this.stage_max<1?this.stage_max=1:4<this.stage_max&&(this.stage_max=4),2==this.stage_select&&(this.stage_max=4),this.stage_kaishi=this.paraInt("stage_kaishi"),this.stage_kaishi<1&&(this.stage_kaishi=1),this.stage_kaishi>this.stage_max&&(this.stage_kaishi=this.stage_max),this.score_1up_1_para=this.paraInt("score_1up_1"),(this.score_1up_1_para<0||this.stage_max<=1)&&(this.score_1up_1_para=0),this.score_1up_2_para=this.paraInt("score_1up_2"),(this.score_1up_2_para<0||this.stage_max<=1)&&(this.score_1up_2_para=0),this.j_tail_type=this.paraInt("j_tail_type"),(this.j_tail_type<1||3<this.j_tail_type)&&(this.j_tail_type=1);var Yh=this.paraInt("j_tail_hf");this.j_tail_hf=2==Yh,this.grenade_type=this.paraInt("grenade_type"),(this.grenade_type<1||6<this.grenade_type)&&(this.grenade_type=1),this.suberuyuka_hkf=this.paraInt("suberuyuka_hkf"),2==this.suberuyuka_hkf?this.suberuyuka_hkf=2:this.suberuyuka_hkf=1,Yh=this.paraInt("j_fire_mkf"),this.j_fire_mkf=2==Yh,Yh=this.paraInt("dengeki_mkf"),this.dengeki_mkf=2==Yh,Yh=this.paraInt("yachamo_kf"),this.yachamo_cf=2==Yh,Yh=this.paraInt("airms_kf"),this.airms_kf=2==Yh,this.ugokuyuka1_type=this.paraInt("ugokuyuka1_type"),(this.ugokuyuka1_type<1||7<this.ugokuyuka1_type)&&(this.ugokuyuka1_type=1),this.ugokuyuka2_type=this.paraInt("ugokuyuka2_type"),(this.ugokuyuka2_type<1||7<this.ugokuyuka2_type)&&(this.ugokuyuka2_type=1),this.ugokuyuka3_type=this.paraInt("ugokuyuka3_type"),(this.ugokuyuka3_type<1||7<this.ugokuyuka3_type)&&(this.ugokuyuka3_type=1),this.boss_type=this.paraInt("boss_type"),(this.boss_type<1||4<this.boss_type)&&(this.boss_type=1),this.boss2_type=this.paraInt("boss2_type"),(this.boss2_type<1||2<this.boss2_type)&&(this.boss2_type=1),this.boss3_type=this.paraInt("boss3_type"),(this.boss3_type<1||4<this.boss3_type)&&(this.boss3_type=1),this.dokan_mode=this.paraInt("dokan_mode"),(this.dokan_mode<1||2<this.dokan_mode)&&(this.dokan_mode=1),this.mes1_name=this.gg.ap.getParameter("mes1_name"),this.mes2_name=this.gg.ap.getParameter("mes2_name"),this.shop_name=this.gg.ap.getParameter("shop_name"),this.setumei_name=this.gg.ap.getParameter("setumei_name"),this.door_score=this.paraInt("door_score"),this.door_score<10&&(this.door_score=10),this.shop_item_name[0]=this.gg.ap.getParameter("shop_item_name1"),this.shop_item_name[1]=this.gg.ap.getParameter("shop_item_name2"),this.shop_item_name[2]=this.gg.ap.getParameter("shop_item_name3"),this.shop_item_name[3]=this.gg.ap.getParameter("shop_item_name4"),this.shop_item_name[4]=this.gg.ap.getParameter("shop_item_name5"),this.shop_item_name[5]=this.gg.ap.getParameter("shop_item_name6"),this.shop_item_name[6]=this.gg.ap.getParameter("shop_item_name7"),this.shop_item_name[7]=this.gg.ap.getParameter("shop_item_name8"),this.shop_item_name[8]=this.gg.ap.getParameter("shop_item_name9");for(var Zh=0;Zh<=8;Zh++){var $h=Zh+1;($h=this.paraInt("shop_item_teika"+$h))<0&&($h=0),this.shop_item_teika[Zh]=$h}},G.prototype.init2=function(){this.score>this.highscore&&(this.highscore=this.score),this.j_left=this.j_left_shoki,this.score_1up_1=this.score_1up_1_para,this.score_1up_2=this.score_1up_2_para;for(var _h=0;_h<=2;_h++)this.stage_1up_f[_h]=!0;this.gk.key_code=0,this.score=0,this.stage=this.stage_kaishi,0<this.time_max?this.time=1e3*this.time_max+1e3-70:this.time=0},G.prototype.init3=function(){this.sendHighscore(),this.g_c1=0,this.g_c2=0,this.g_c3=0,this.g_ac=0,this.g_ac2=0,this.stage_cc=0,this.co_j.init(),this.co_j.c=100,this.co_j.x=100,this.co_j.y=100,this.co_j.pt=100,this.co_j.muki=1,this.co_j.jimen_f=!1,this.j_hashiru_f=!1,this.j_jump_level=0,this.j_jump_type=0,this.j_a_id=-1,this.tr1_c=0,this.tr2_c=0,this.gk.left_c=0,this.gk.right_c=0,this.left_dcc=0,this.right_dcc=0,this.ochiru_y=9999,this.j_fire_f=!1,this.j_v_c=0,this.j_v_kakudo=0,this.j_jet_c=0,this.j_jet_kf=!1,this.j_jet_fuel=0,this.j_helm_f=!1,this.j_drell_f=!1,this.j_tail_f=!1,this.j_tail_ac=0,this.j_gr_kazu=0,this.j_mizu_f=!1,this.j_mizu_ac=0,this.j_mizu_awa_c=0,this.j_jdai_f=!1,this.hitokoto_c=0,this.hitokoto_num=1,this.j_tail_hf&&(this.j_tail_f=!0);for(var ai=0;ai<=5;ai++)this.j_zan_x[ai]=0,this.j_zan_y[ai]=0,this.j_zan_pt[ai]=0,this.j_zan_pth[ai]=0;var bi;this.j_zan_p=0,this.j_zan_c=0,this.j_zan_nagasa=0,this.j_zan_f=!1,this.sl_step=0,this.sl_speed=0,this.sl_wx=0,this.sl_wy=0,2==(bi=2==this.stage?this.paraInt("scroll_mode_s"):3==this.stage?this.paraInt("scroll_mode_t"):4==this.stage?this.paraInt("scroll_mode_f"):this.paraInt("scroll_mode"))?(this.sl_step=10,this.ks_wx=32,this.ks_wy=960,this.sl_speed=2):3==bi&&(this.sl_step=10,this.ks_wx=32,this.ks_wy=960,this.sl_speed=4);for(var ci=0;ci<=31;ci++){this.co_a[ci].init();for(var di=0;di<=3;di++)this.vo_x[ci][di]=0,this.vo_y[ci][di]=0}this.a_kazu=-1,this.a_hf=!1;for(var ei=0;ei<=129;ei++)this.co_t[ei].init();this.t_kazu=-1,this.co_b.init();for(var fi=this.boss_kijyun_y=0;fi<=23;fi++)this.co_m[fi].init();for(var gi=this.m_kazu=0;gi<=1;gi++)this.co_jm[gi].init();for(var hi=this.jm_kazu=0;hi<=63;hi++)this.co_h[hi].init();0<this.time_max?this.time=1e3*this.time_max+1e3-70:this.time=0,this.mapsMakeStageData(100+this.stage),10!=this.sl_step&&11!=this.sl_step||(this.ks_wx=this.maps.wx,this.ks_wx<=128&&(this.ks_wx=32)),this.maps.drawMap(this.maps.wx,this.maps.wy)},G.prototype.mapsMakeStageData=function(ii){this.maps.init();var ji=this.maps.map_string;this.maps.wx=32,this.maps.wy=32,this.maps.wx_mini=32,this.maps.wy_mini=320,this.maps.wx_max=5856,this.maps.wy_max=6048;switch(this.gg.setBackcolor(D.blue),ii){default:break;case 101:this.maps.setBank(0),this.gg.setBackcolor(this.gamecolor_back),this.maps.wx_max=5280,this.maps.wy_max=960;for(var li=0;li<=29;li++){var mi="."+this.gg.ap.getParameter("map0-"+li);mi+=this.gg.ap.getParameter("map1-"+li),mi+=this.gg.ap.getParameter("map2-"+li),ji[li+10]=mi}break;case 102:this.maps.setBank(0),this.gg.setBackcolor(this.gamecolor_back_s),this.maps.wx_max=5280,this.maps.wy_max=960;for(var ni=0;ni<=29;ni++){var oi="."+this.gg.ap.getParameter("map0-"+ni+"-s");oi+=this.gg.ap.getParameter("map1-"+ni+"-s"),oi+=this.gg.ap.getParameter("map2-"+ni+"-s"),ji[ni+10]=oi}break;case 103:this.maps.setBank(0),this.gg.setBackcolor(this.gamecolor_back_t),this.maps.wx_max=5280,this.maps.wy_max=960;for(var pi=0;pi<=29;pi++){var qi="."+this.gg.ap.getParameter("map0-"+pi+"-t");qi+=this.gg.ap.getParameter("map1-"+pi+"-t"),qi+=this.gg.ap.getParameter("map2-"+pi+"-t"),ji[pi+10]=qi}break;case 104:this.maps.setBank(0),this.gg.setBackcolor(this.gamecolor_back_f),this.maps.wx_max=5280,this.maps.wy_max=960;for(var ri=0;ri<=29;ri++){var si="."+this.gg.ap.getParameter("map0-"+ri+"-f");si+=this.gg.ap.getParameter("map1-"+ri+"-f"),si+=this.gg.ap.getParameter("map2-"+ri+"-f"),ji[ri+10]=si}}for(var ti=0;ti<this.maps.height;ti++)if(ji[ti].length<this.maps.width)for(var vi=ji[ti].length;vi<this.maps.width;vi++)ji[ti]+=".";for(var xi=0;xi<this.maps.height;xi++)for(var yi=0;yi<this.maps.width;yi++){var zi=ji[xi].charAt(yi),Ai=-1;"."!=zi&&("1"==zi?Ai=1:"2"==zi?Ai=2:"3"==zi?Ai=3:"4"==zi?Ai=4:"5"==zi?Ai=5:"6"==zi?Ai=6:"7"==zi?Ai=7:"8"==zi?Ai=8:"9"==zi?Ai=9:"a"==zi?Ai=20:"b"==zi?Ai=21:"c"==zi?Ai=22:"d"==zi?Ai=23:"e"==zi?Ai=24:"f"==zi?Ai=25:"g"==zi?Ai=26:"h"==zi?Ai=27:"i"==zi?Ai=28:"j"==zi?Ai=29:"k"==zi?(Ai=40,this.hSet(yi,xi,100)):"l"==zi?(Ai=40,this.hSet(yi,xi,200)):"m"==zi?(Ai=40,this.hSet(yi,xi,300)):"n"==zi?(Ai=40,this.hSet(yi,xi,400)):"o"==zi?(Ai=40,this.hSet(yi,xi,500)):"p"==zi?(Ai=40,this.hSet(yi,xi,600)):"q"==zi?(Ai=40,this.hSet(yi,xi,700)):"r"==zi?(Ai=40,this.hSet(yi,xi,800)):"s"==zi?(Ai=40,this.hSet(yi,xi,900)):"t"==zi?(Ai=40,this.hSet(yi,xi,1e3)):"u"==zi?(this.aSet(32*yi,32*xi,300,32*yi),4==this.maps.map_bg[yi-1][xi]&&(Ai=4)):"v"==zi?(this.aSet(32*yi,32*xi,310,32*yi),4==this.maps.map_bg[yi-1][xi]&&(Ai=4)):"w"==zi?(this.aSet(32*yi,32*xi,320,32*yi),4==this.maps.map_bg[yi-1][xi]&&(Ai=4)):"x"==zi?(this.aSet(32*yi,32*xi,330,32*yi),4==this.maps.map_bg[yi-1][xi]&&(Ai=4)):"y"==zi?this.stage_1up_f[this.stage-1]?(Ai=40,this.hSet(yi,xi,1100)):Ai=41:"z"==zi?Ai=69:"+"==zi?(this.aSet(32*yi,32*xi,80,32*yi),4==this.maps.map_bg[yi-1][xi]&&(Ai=4)):"-"==zi?(this.aSet(32*yi,32*xi,81,32*yi),4==this.maps.map_bg[yi-1][xi]&&(Ai=4)):"*"==zi?(this.aSet(32*yi,32*xi,82,32*yi),4==this.maps.map_bg[yi-1][xi]&&(Ai=4)):"/"==zi?(this.aSet(32*yi,32*xi,83,32*yi),4==this.maps.map_bg[yi-1][xi]&&(Ai=4)):"A"==zi?(this.co_j.x=32*yi,this.co_j.y=32*xi,4==this.maps.map_bg[yi-1][xi]&&(Ai=4)):"B"==zi?(this.tSet(32*yi,32*xi,100,32*yi-512-32),4==this.maps.map_bg[yi-1][xi]&&(Ai=4)):"C"==zi?(this.tSet(32*yi,32*xi,110,32*yi-512-32),4==this.maps.map_bg[yi-1][xi]&&(Ai=4)):"D"==zi?(this.tSet(32*yi,32*xi,110,32*yi-512-32),this.tSet(32*yi+75,32*xi,110,32*yi-512-32),this.tSet(32*yi+150,32*xi,110,32*yi-512-32),4==this.maps.map_bg[yi-1][xi]&&(Ai=4)):"E"==zi?(this.tSet(32*yi,32*xi,200,32*yi-512-32),4==this.maps.map_bg[yi-1][xi]&&(Ai=4)):"F"==zi?(this.tSet(32*yi,32*xi,300,32*yi-512-32),4==this.maps.map_bg[yi-1][xi]&&(Ai=4)):"G"==zi?(this.tSet(32*yi,32*xi,400,32*yi-512-32),4==this.maps.map_bg[yi-1][xi]&&(Ai=4)):"H"==zi?(this.tSet(32*yi,32*xi,500,32*yi-512-32),4==this.maps.map_bg[yi-1][xi]&&(Ai=4)):"I"==zi?(this.tSet(32*yi,32*xi,510,32*yi-512-32),4==this.maps.map_bg[yi-1][xi]&&(Ai=4)):"J"==zi?(this.tSet(32*yi,32*xi,510,32*yi-512-32-32),this.tSet(32*yi+80,32*xi-40,510,32*yi-512-32-32),this.tSet(32*yi+140,32*xi+38,510,32*yi-512-32-32),4==this.maps.map_bg[yi-1][xi]&&(Ai=4)):"K"==zi?(2==this.ugokuyuka1_type?this.aSet(32*yi,32*xi,500,32*yi):3==this.ugokuyuka1_type?this.aSet(32*yi,32*xi,510,32*yi):4==this.ugokuyuka1_type?this.aSet(32*yi,32*xi,120,32*yi):5==this.ugokuyuka1_type?this.aSet(32*yi,32*xi,121,32*yi):6==this.ugokuyuka1_type?this.aSet(32*yi,32*xi,600,32*yi):7==this.ugokuyuka1_type?this.aSet(32*yi,32*xi,700,32*yi):this.aSet(32*yi,32*xi,100,32*yi),4==this.maps.map_bg[yi-1][xi]&&(Ai=4)):"L"==zi?(2==this.ugokuyuka2_type?this.aSet(32*yi,32*xi,500,32*yi):3==this.ugokuyuka2_type?this.aSet(32*yi,32*xi,510,32*yi):4==this.ugokuyuka2_type?this.aSet(32*yi,32*xi,120,32*yi):5==this.ugokuyuka2_type?this.aSet(32*yi,32*xi,121,32*yi):6==this.ugokuyuka2_type?this.aSet(32*yi,32*xi,600,32*yi):7==this.ugokuyuka2_type?this.aSet(32*yi,32*xi,700,32*yi):this.aSet(32*yi,32*xi+9,110,32*yi-16),4==this.maps.map_bg[yi-1][xi]&&(Ai=4)):"M"==zi?(2==this.ugokuyuka3_type?this.aSet(32*yi,32*xi,500,32*yi):3==this.ugokuyuka3_type?this.aSet(32*yi,32*xi,510,32*yi):4==this.ugokuyuka3_type?this.aSet(32*yi,32*xi,120,32*yi):5==this.ugokuyuka3_type?this.aSet(32*yi,32*xi,121,32*yi):6==this.ugokuyuka3_type?this.aSet(32*yi,32*xi,600,32*yi):7==this.ugokuyuka3_type?this.aSet(32*yi,32*xi,700,32*yi):(this.aSet(32*yi,32*xi+9,115,32*yi-16),this.aSet(32*yi,32*xi+9,116,32*yi-16)),4==this.maps.map_bg[yi-1][xi]&&(Ai=4)):"N"==zi?(this.aSet(32*yi-32,32*xi,400,32*yi),4==this.maps.map_bg[yi-1][xi]&&(Ai=4)):"O"==zi?(this.tSet(32*yi,32*xi,600,32*yi-512-32),4==this.maps.map_bg[yi-1][xi]&&(Ai=4)):"P"==zi?(this.tSet(32*yi,32*xi,700,32*yi-512-32),4==this.maps.map_bg[yi-1][xi]&&(Ai=4)):"Q"==zi?(this.tSet(32*yi,32*xi,800,32*yi-512-32),4==this.maps.map_bg[yi-1][xi]&&(Ai=4)):"R"==zi?(this.tSet(32*yi,32*xi,900,32*yi-512-32),4==this.maps.map_bg[yi-1][xi]&&(Ai=4)):"S"==zi?(this.co_b.c=100,this.co_b.c4=3,this.co_b.x=32*yi,this.co_b.y=32*xi-16,4==this.maps.map_bg[yi-1][xi]&&(Ai=4),this.co_b.x<448?this.co_b.x=448:5664<this.co_b.x&&(this.co_b.x=5664),10==this.sl_step?this.sl_step=11:this.sl_step=1,this.sl_wx=this.co_b.x-384,this.sl_wy=960):"T"==zi?(this.co_b.c=200,this.co_b.c4=3,this.co_b.x=32*yi,this.co_b.y=32*xi-16,4==this.maps.map_bg[yi-1][xi]&&(Ai=4),this.co_b.x<448?this.co_b.x=448:5664<this.co_b.x&&(this.co_b.x=5664),10==this.sl_step?this.sl_step=11:this.sl_step=1,this.sl_wx=this.co_b.x-384,this.sl_wy=960):"U"==zi?(this.aSet(32*yi+16,32*xi+16,70,32*yi),Ai=50):"V"==zi?(this.aSet(32*yi+16,32*xi+16,71,32*yi),Ai=50):"W"==zi?(this.tSet(32*yi,32*xi-16,1e3,32*yi-512-32-32),Ai=4):"X"==zi?(this.tSet(32*yi,32*xi,1100,32*yi-512-32),Ai=4):"Y"==zi?(this.aSet(32*yi,32*xi,60,32*yi),4==this.maps.map_bg[yi-1][xi]&&(Ai=4)):"Z"==zi&&(this.co_b.c=300,this.co_b.c4=3,this.co_b.x=32*yi,this.co_b.y=32*xi-16,this.boss_kijyun_y=this.co_b.y,4==this.maps.map_bg[yi-1][xi]&&(Ai=4),this.co_b.x<448?this.co_b.x=448:5664<this.co_b.x&&(this.co_b.x=5664),10==this.sl_step?this.sl_step=11:this.sl_step=1,this.sl_wx=this.co_b.x-384,this.sl_wy=960),0<=Ai&&(this.maps.map_bg[yi][xi]=Ai))}for(var Bi=0;Bi<=this.maps.width-1;Bi++)this.maps.map_bg[Bi][0]=21,this.maps.map_bg[Bi][this.maps.height-1]=21;for(var Ci=0;Ci<=this.maps.height-1;Ci++)this.maps.map_bg[0][Ci]=21,this.maps.map_bg[181][Ci]=21,this.maps.map_bg[199][Ci]=21;this.ochiru_y=this.maps.wy_max+320,this.maps.wx=this.co_j.x-96,this.maps.wy=this.co_j.y-176,this.maps.wx<this.maps.wx_mini?this.maps.wx=this.maps.wx_mini:this.maps.wx>this.maps.wx_max&&(this.maps.wx=this.maps.wx_max),this.maps.wy<this.maps.wy_mini?this.maps.wy=this.maps.wy_mini:this.maps.wy>this.maps.wy_max&&(this.maps.wy=this.maps.wy_max),this.co_j.wx=this.co_j.x-this.maps.wx,this.co_j.wy=this.co_j.y-this.maps.wy},G.prototype.drawGamescreen=function(){this.maps.drawMapScroll(this.g_ac2);var Di=this.maps.wx,Ei=this.maps.wy;if(this.co_j.wx=this.co_j.x-this.maps.wx,this.co_j.wy=this.co_j.y-this.maps.wy,this.a_hf)for(var Fi=0;Fi<=this.a_kazu;Fi++)if(this.co_a[Fi].gf){var Gi=this.co_a[Fi],Hi=Gi.x-Di,Ii=Gi.y-Ei;switch(Gi.pt){default:break;case 100:this.hg.drawImage(this.hi[190],Hi,Ii,this.ap),this.hg.drawImage(this.hi[191],Hi+32,Ii,this.ap),this.hg.drawImage(this.hi[192],Hi+64,Ii,this.ap);break;case 200:this.hg.drawImage(this.hi[76],Hi,Ii,this.ap),this.hg.drawImage(this.hi[77],Hi+32,Ii,this.ap),this.hg.drawImage(this.hi[86],Hi,Ii+32,this.ap),this.hg.drawImage(this.hi[87],Hi+32,Ii+32,this.ap);break;case 210:this.hg.drawImage(this.hi[78],Hi,Ii,this.ap),this.hg.drawImage(this.hi[79],Hi+32,Ii,this.ap),this.hg.drawImage(this.hi[88],Hi,Ii+32,this.ap),this.hg.drawImage(this.hi[89],Hi+32,Ii+32,this.ap);break;case 300:this.hg.drawImage(this.hi[60],Hi,Ii,this.ap),this.hg.drawImage(this.hi[61],Hi+32,Ii,this.ap);break;case 310:this.hg.drawImage(this.hi[62],Hi,Ii,this.ap),this.hg.drawImage(this.hi[63],Hi+32,Ii,this.ap);break;case 320:this.hg.drawImage(this.hi[64],Hi,Ii,this.ap),this.hg.drawImage(this.hi[65],Hi+32,Ii,this.ap);break;case 330:this.hg.drawImage(this.hi[66],Hi,Ii,this.ap),this.hg.drawImage(this.hi[67],Hi+32,Ii,this.ap);break;case 400:this.hg.drawImage(this.hi[183],Hi,Ii,this.ap),this.hg.drawImage(this.hi[184],Hi+32,Ii,this.ap),this.hg.drawImage(this.hi[185],Hi+64,Ii,this.ap),this.hg.drawImage(this.hi[193],Hi,Ii+32,this.ap),this.hg.drawImage(this.hi[194],Hi+32,Ii+32,this.ap),this.hg.drawImage(this.hi[195],Hi+64,Ii+32,this.ap);break;case 500:this.hg.drawImage(this.hi[180],Hi,Ii,this.ap),this.hg.drawImage(this.hi[181],Hi+32,Ii,this.ap),this.hg.drawImage(this.hi[182],Hi+64,Ii,this.ap);break;case 600:this.hg.drawImage(this.hi[188],Hi,Ii,this.ap),this.hg.drawImage(this.hi[189],Hi+32,Ii,this.ap),this.hg.drawImage(this.hi[198],Hi,Ii+32,this.ap),this.hg.drawImage(this.hi[199],Hi+32,Ii+32,this.ap);break;case 605:this.hg.drawImage(this.hih[1][189],Hi,Ii,this.ap),this.hg.drawImage(this.hih[1][188],Hi+32,Ii,this.ap),this.hg.drawImage(this.hih[1][199],Hi,Ii+32,this.ap),this.hg.drawImage(this.hih[1][198],Hi+32,Ii+32,this.ap);break;case 700:this.hg.drawImage(this.hi[32],Hi,Ii,this.ap);break;case 710:this.hg.drawImage(this.hi[33],Hi,Ii,this.ap);break;case 720:this.hg.drawImage(this.hi[34],Hi,Ii,this.ap);break;case 800:Gi.x>=this.co_j.x?this.hg.drawImage(this.hi[35+Gi.c3],Hi,Ii,this.ap):this.hg.drawImage(this.hih[1][35+Gi.c3],Hi,Ii,this.ap);break;case 1100:var Ji=c.floor(16*c.cos(6.283185307179586*(Gi.c3+90)/360)),Ki=c.floor(16*c.sin(6.283185307179586*(Gi.c3+90)/360));if(this.vo_pa_x[0]=this.vo_x[Fi][0]-Di+Ji,this.vo_pa_y[0]=this.vo_y[Fi][0]-Ei+Ki,this.vo_pa_x[1]=this.vo_x[Fi][0]-Di-Ji,this.vo_pa_y[1]=this.vo_y[Fi][0]-Ei-Ki,this.vo_pa_x[2]=this.vo_x[Fi][1]-Di-Ji,this.vo_pa_y[2]=this.vo_y[Fi][1]-Ei-Ki,this.vo_pa_x[3]=this.vo_x[Fi][1]-Di+Ji,this.vo_pa_y[3]=this.vo_y[Fi][1]-Ei+Ki,this.gg.os_g.setColor(this.gamecolor_firebar1),this.gg.os_g.fillPolygon(this.vo_pa_x,this.vo_pa_y,4),2<=this.g_c2){this.gg.os_g.setColor(this.gamecolor_firebar2);var Li=c.floor(10*c.cos(6.283185307179586*(Gi.c3+90)/360)),Mi=c.floor(10*c.sin(6.283185307179586*(Gi.c3+90)/360));this.vo_pa_x[0]=this.vo_x[Fi][2]-Di+Li,this.vo_pa_y[0]=this.vo_y[Fi][2]-Ei+Mi,this.vo_pa_x[1]=this.vo_x[Fi][2]-Di-Li,this.vo_pa_y[1]=this.vo_y[Fi][2]-Ei-Mi,this.vo_pa_x[2]=this.vo_x[Fi][3]-Di-Li,this.vo_pa_y[2]=this.vo_y[Fi][3]-Ei-Mi,this.vo_pa_x[3]=this.vo_x[Fi][3]-Di+Li,this.vo_pa_y[3]=this.vo_y[Fi][3]-Ei+Mi,this.gg.os_g.fillPolygon(this.vo_pa_x,this.vo_pa_y,4)}}}if(0<this.m_kazu)for(var Ni=0;Ni<=23;Ni++)if(50<=this.co_m[Ni].c){var Oi=this.co_m[Ni];if(50==Oi.c){this.hg.drawImage(this.hih[Oi.pth][Oi.pt],Oi.x-Di,Oi.y-Ei,this.ap);var Pi=this.maps.getBGCode(Oi.x,Oi.y);20<=Pi&&this.gg.drawPT(32*(Oi.x>>5)-Di,32*(Oi.y>>5)-Ei,Pi,0),20<=(Pi=this.maps.getBGCode(Oi.x+31,Oi.y))&&this.gg.drawPT(32*(Oi.x+31>>5)-Di,32*(Oi.y>>5)-Ei,Pi,0)}else 1e3==Oi.pt?(this.gg.os_g.setColor(this.gamecolor_mizunohadou),this.gg.os_g.fillOval(Oi.x-Di+16-Oi.c2,Oi.y-Ei+16-Oi.c2,2*Oi.c2,2*Oi.c2)):1100==Oi.pt?(0==this.g_ac?this.gg.os_g.setColor(this.gamecolor_grenade1):this.gg.os_g.setColor(this.gamecolor_grenade2),this.gg.os_g.fillOval(Oi.x-Di+16-Oi.c2,Oi.y-Ei+16-Oi.c2,2*Oi.c2,2*Oi.c2)):this.hg.drawImage(this.hih[Oi.pth][Oi.pt],Oi.x-Di,Oi.y-Ei,this.ap)}if(0<this.jm_kazu)for(var Qi=0;Qi<=1;Qi++)if(50<=this.co_jm[Qi].c){var Ri=this.co_jm[Qi];Ri.pt<1e3?this.hg.drawImage(this.hih[Ri.pth][Ri.pt],Ri.x-Di,Ri.y-Ei,this.ap):1200==Ri.pt?(0==this.g_ac?this.gg.os_g.setColor(this.gamecolor_grenade1):this.gg.os_g.setColor(this.gamecolor_grenade2),this.gg.os_g.fillRect(Ri.x-Di,Ri.y-Ei+12,Ri.vx-Ri.x+1,8)):1205==Ri.pt?(0==this.g_ac?this.gg.os_g.setColor(this.gamecolor_grenade1):this.gg.os_g.setColor(this.gamecolor_grenade2),this.gg.os_g.fillRect(Ri.vx-Di,Ri.y-Ei+12,Ri.x-Ri.vx+1,8)):(0==this.g_ac?this.gg.os_g.setColor(this.gamecolor_grenade1):this.gg.os_g.setColor(this.gamecolor_grenade2),this.gg.os_g.fillOval(Ri.x-Di+16-Ri.c2,Ri.y-Ei+16-Ri.c2,2*Ri.c2,2*Ri.c2))}for(var Si=0;Si<=this.t_kazu;Si++)if(50<=this.co_t[Si].c){var Ti=this.co_t[Si].x-Di,Ui=this.co_t[Si].y-Ei;-64<=Ti&&Ui<=576&&this.hg.drawImage(this.hih[this.co_t[Si].pth][this.co_t[Si].pt],Ti,Ui,this.ap)}if(50<this.co_b.c){var Vi=this.co_b.x-Di;if(Vi<528){var Wi=this.co_b.y-Ei;switch(this.co_b.pt){default:break;case 1e3:this.hg.drawImage(this.hih[0][186],Vi-16,Wi-16,this.ap),this.hg.drawImage(this.hih[0][187],Vi+16,Wi-16,this.ap),this.hg.drawImage(this.hih[0][196],Vi-16,Wi+16,this.ap),this.hg.drawImage(this.hih[0][197],Vi+16,Wi+16,this.ap);break;case 1005:this.hg.drawImage(this.hih[1][187],Vi-16,Wi-16,this.ap),this.hg.drawImage(this.hih[1][186],Vi+16,Wi-16,this.ap),this.hg.drawImage(this.hih[1][197],Vi-16,Wi+16,this.ap),this.hg.drawImage(this.hih[1][196],Vi+16,Wi+16,this.ap);break;case 1010:this.hg.drawImage(this.hih[0][176],Vi-16,Wi+16,this.ap),this.hg.drawImage(this.hih[0][177],Vi+16,Wi+16,this.ap);break;case 1015:this.hg.drawImage(this.hih[1][177],Vi-16,Wi+16,this.ap),this.hg.drawImage(this.hih[1][176],Vi+16,Wi+16,this.ap);break;case 1100:this.hg.drawImage(this.hih[0][188],Vi-16,Wi-16,this.ap),this.hg.drawImage(this.hih[0][189],Vi+16,Wi-16,this.ap),this.hg.drawImage(this.hih[0][198],Vi-16,Wi+16,this.ap),this.hg.drawImage(this.hih[0][199],Vi+16,Wi+16,this.ap);break;case 1105:this.hg.drawImage(this.hih[1][189],Vi-16,Wi-16,this.ap),this.hg.drawImage(this.hih[1][188],Vi+16,Wi-16,this.ap),this.hg.drawImage(this.hih[1][199],Vi-16,Wi+16,this.ap),this.hg.drawImage(this.hih[1][198],Vi+16,Wi+16,this.ap);break;case 1110:this.hg.drawImage(this.hih[0][178],Vi-16,Wi+16,this.ap),this.hg.drawImage(this.hih[0][179],Vi+16,Wi+16,this.ap);break;case 1115:this.hg.drawImage(this.hih[1][179],Vi-16,Wi+16,this.ap),this.hg.drawImage(this.hih[1][178],Vi+16,Wi+16,this.ap);break;case 1200:this.hg.drawImage(this.hih[0][238],Vi-16,Wi-16,this.ap),this.hg.drawImage(this.hih[0][239],Vi+16,Wi-16,this.ap),this.hg.drawImage(this.hih[0][248],Vi-16,Wi+16,this.ap),this.hg.drawImage(this.hih[0][249],Vi+16,Wi+16,this.ap);break;case 1205:this.hg.drawImage(this.hih[1][239],Vi-16,Wi-16,this.ap),this.hg.drawImage(this.hih[1][238],Vi+16,Wi-16,this.ap),this.hg.drawImage(this.hih[1][249],Vi-16,Wi+16,this.ap),this.hg.drawImage(this.hih[1][248],Vi+16,Wi+16,this.ap);break;case 1210:this.hg.drawImage(this.hih[0][228],Vi-16,Wi+16,this.ap),this.hg.drawImage(this.hih[0][229],Vi+16,Wi+16,this.ap);break;case 1215:this.hg.drawImage(this.hih[1][229],Vi-16,Wi+16,this.ap),this.hg.drawImage(this.hih[1][228],Vi+16,Wi+16,this.ap);break;case 1250:this.hg.drawImage(this.hih[0][238],Vi-16,Wi-16,this.ap),this.hg.drawImage(this.hih[0][239],Vi+16,Wi-16,this.ap),this.hg.drawImage(this.hih[0][248],Vi-16,Wi+16,this.ap),this.hg.drawImage(this.hih[0][249],Vi+16,Wi+16,this.ap),this.j_v_c<=0&&(this.j_v_kakudo+=2,360<this.j_v_kakudo&&(this.j_v_kakudo-=360)),Vi=this.co_b.x-Di+16,Wi=this.co_b.y-Ei+16,this.gg.os_g.setColor(D.white);for(var Xi=.017453292519943295,Yi=0;Yi<=5;Yi++){var Zi=(this.j_v_kakudo+60*Yi)*Xi;this.vo_pa_x[Yi]=Vi+c.floor(50*c.cos(Zi)),this.vo_pa_y[Yi]=Wi+c.floor(50*c.sin(Zi))}this.gg.os_g.drawPolygon(this.vo_pa_x,this.vo_pa_y,6);for(var $i=0;$i<=5;$i++){var _i=(360-this.j_v_kakudo+60*$i)*Xi;this.vo_pa_x[$i]=Vi+c.floor(50*c.cos(_i)),this.vo_pa_y[$i]=Wi+c.floor(50*c.sin(_i))}this.gg.os_g.drawPolygon(this.vo_pa_x,this.vo_pa_y,6);break;case 1255:this.hg.drawImage(this.hih[1][239],Vi-16,Wi-16,this.ap),this.hg.drawImage(this.hih[1][238],Vi+16,Wi-16,this.ap),this.hg.drawImage(this.hih[1][249],Vi-16,Wi+16,this.ap),this.hg.drawImage(this.hih[1][248],Vi+16,Wi+16,this.ap),this.j_v_c<=0&&(this.j_v_kakudo+=2,360<this.j_v_kakudo&&(this.j_v_kakudo-=360)),Vi=this.co_b.x-Di+16,Wi=this.co_b.y-Ei+16,this.gg.os_g.setColor(D.white);for(var aj=.017453292519943295,bj=0;bj<=5;bj++){var cj=(this.j_v_kakudo+60*bj)*aj;this.vo_pa_x[bj]=Vi+c.floor(50*c.cos(cj)),this.vo_pa_y[bj]=Wi+c.floor(50*c.sin(cj))}this.gg.os_g.drawPolygon(this.vo_pa_x,this.vo_pa_y,6);for(var dj=0;dj<=5;dj++){var ej=(360-this.j_v_kakudo+60*dj)*aj;this.vo_pa_x[dj]=Vi+c.floor(50*c.cos(ej)),this.vo_pa_y[dj]=Wi+c.floor(50*c.sin(ej))}this.gg.os_g.drawPolygon(this.vo_pa_x,this.vo_pa_y,6)}}}if(96<=this.j_jet_c&&(0==this.g_c1?this.hg.drawImage(this.hi[134],this.co_j.x-Di,this.co_j.y-Ei+36,this.ap):this.hg.drawImage(this.hi[135],this.co_j.x-Di,this.co_j.y-Ei+36,this.ap)),0<this.j_v_c&&(this.j_v_c--,this.j_v_kakudo+=2,360<this.j_v_kakudo&&(this.j_v_kakudo-=360),50<this.j_v_c||1==this.g_ac)){var fj=this.co_j.x-Di+16,gj=this.co_j.y-Ei+16;this.gg.os_g.setColor(D.white);for(var hj=.017453292519943295,ij=0;ij<=5;ij++){var jj=(this.j_v_kakudo+60*ij)*hj;this.vo_pa_x[ij]=fj+c.floor(38*c.cos(jj)),this.vo_pa_y[ij]=gj+c.floor(38*c.sin(jj))}this.gg.os_g.drawPolygon(this.vo_pa_x,this.vo_pa_y,6);for(var kj=0;kj<=5;kj++){var lj=(360-this.j_v_kakudo+60*kj)*hj;this.vo_pa_x[kj]=fj+c.floor(38*c.cos(lj)),this.vo_pa_y[kj]=gj+c.floor(38*c.sin(lj))}this.gg.os_g.drawPolygon(this.vo_pa_x,this.vo_pa_y,6)}if(this.j_zan_f){var mj=this.j_zan_p+(6-this.j_zan_nagasa);5<mj&&(mj-=6);var nj=this.j_zan_p+1;5<nj&&(nj-=6);do{var oj=this.j_zan_x[mj]-Di,pj=this.j_zan_y[mj]-Ei,qj=this.j_zan_pth[mj];this.hg.drawImage(this.hih[qj][this.j_zan_pt[mj]],oj,pj,this.ap),5<++mj&&(mj=0)}while(mj!=nj);this.j_zan_p++,5<this.j_zan_p&&(this.j_zan_p=0),this.j_zan_x[this.j_zan_p]=this.co_j.x,this.j_zan_y[this.j_zan_p]=this.co_j.y,this.j_zan_pt[this.j_zan_p]=this.co_j.pt,this.j_zan_pth[this.j_zan_p]=this.co_j.muki,this.j_zan_c<9?(this.j_zan_c++,0<=this.co_j.vy&&(this.j_zan_c=9)):(this.j_zan_nagasa--,this.j_zan_nagasa<0&&(this.j_zan_f=!1))}if(this.co_j.pt<1e3?this.gg.drawPT(this.co_j.wx,this.co_j.wy,this.co_j.pt,this.co_j.muki):1e3==this.co_j.pt?0==this.co_j.muki?(this.gg.drawPT(this.co_j.wx,this.co_j.wy,118,this.co_j.muki),this.gg.drawPT(this.co_j.wx-32,this.co_j.wy,117,this.co_j.muki)):(this.gg.drawPT(this.co_j.wx,this.co_j.wy,118,1),this.gg.drawPT(this.co_j.wx+32,this.co_j.wy,117,1)):1100==this.co_j.pt?(this.co_j.c1<=0?this.gg.drawPT(this.co_j.wx,this.co_j.wy,100,this.co_j.muki):32<=this.co_j.c1?this.gg.drawPT(this.co_j.wx,this.co_j.wy+32,100,this.co_j.muki):this.gg.drawPT(this.co_j.wx,this.co_j.wy+this.co_j.c1,100,this.co_j.muki),this.gg.drawPT(this.co_j.wx-16,this.co_j.wy+32,60+2*this.co_j.c2,0),this.gg.drawPT(this.co_j.wx+16,this.co_j.wy+32,61+2*this.co_j.c2,0)):this.co_j.pt,0<this.hitokoto_c){this.hitokoto_c--;for(var uj=0,vj=0;vj<=2;vj++){var wj=vj+1,xj="hitokoto"+this.hitokoto_num+"-"+wj;xj=this.gg.ap.getParameter(xj),wj=parseInt(xj),isNaN(wj)&&(wj=-1),0!=wj&&uj++}this.km.drawWindowbox(208,56,224,30+14*uj),this.hg.setFont(new E("Dialog",0,12)),this.hg.setColor(D.cyan);var yj="hitokoto"+this.hitokoto_num+"_name";this.hg.drawString(this.gg.ap.getParameter(yj),214,74),this.hg.setColor(D.white);for(var zj=uj=0;zj<=2;zj++){var Aj=zj+1,Bj="hitokoto"+this.hitokoto_num+"-"+Aj;Bj=this.gg.ap.getParameter(Bj),Aj=parseInt(Bj),isNaN(Aj)&&(Aj=-1),0!=Aj&&(this.hg.drawString(Bj,214,80+14*uj+12),uj++)}}},G.prototype.jM100=function(){var Cj=!1,Dj=!1;this.j_mizu_f=!1;var Ej=this.maps.getBGCode(this.co_j.x+15,this.co_j.y+15);4==Ej?(this.j_mizu_f=!0,this.j_jet_c=0,this.j_mizu_awa_c++,44==this.j_mizu_awa_c||54==this.j_mizu_awa_c?this.mSet(this.co_j.x,this.co_j.y+4,60):54<this.j_mizu_awa_c&&(this.j_mizu_awa_c=0)):8!=Ej&&9!=Ej||4!=this.maps.map_bg[(this.co_j.x+15>>5)-1][this.co_j.y+15>>5]||(this.j_mizu_f=!0,this.j_jet_c=0,this.j_mizu_awa_c++,44==this.j_mizu_awa_c||54==this.j_mizu_awa_c?this.mSet(this.co_j.x,this.co_j.y+4,60):54<this.j_mizu_awa_c&&(this.j_mizu_awa_c=0)),this.gk.tr1_f?this.tr1_c<6&&this.tr1_c++:this.tr1_c=0,this.gk.tr2_f?this.tr2_c<2&&this.tr2_c++:this.tr2_c=0,this.gk.left_f?this.gk.left_c<2&&this.gk.left_c++:this.gk.left_c=0,this.gk.right_f?this.gk.right_c<2&&this.gk.right_c++:this.gk.right_c=0,1==this.gk.left_c?(0<this.left_dcc?this.j_hashiru_f=!0:this.j_hashiru_f=!1,this.left_dcc=8):0<this.left_dcc&&this.left_dcc--,1==this.gk.right_c?(0<this.right_dcc?this.j_hashiru_f=!0:this.j_hashiru_f=!1,this.right_dcc=8):0<this.right_dcc&&this.right_dcc--;var Fj=this.co_j.x,Gj=this.co_j.y;this.co_j.pt=100;var Hj=Fj+15>>5,Ij=Gj+31>>5,Kj=(this.maps.map_bg[Hj][Ij],Gj+32>>5),Lj=this.maps.map_bg[Hj][Kj];if(20<=Lj||0<=this.j_a_id?(this.co_j.jimen_f=!0,this.j_jump_type=2,69==Lj&&(Dj=!0)):this.co_j.jimen_f=!1,this.co_j.jimen_f?(this.j_zan_f=!1,this.j_jet_c=0,this.gk.left_f?(this.co_j.vx-=Dj?4:15,this.j_hashiru_f?(this.j_mizu_f?this.co_j.vx<-60&&(this.co_j.vx=-60):this.co_j.vx<-120&&(this.co_j.vx=-120),0<this.co_j.vx&&!Dj?(this.co_j.pt=108,this.co_j.ac=0):(this.co_j.pt=105+(this.co_j.ac>>1),this.co_j.ac++,3<this.co_j.ac&&(this.co_j.ac=0))):(this.j_mizu_f?this.co_j.vx<-40&&(this.co_j.vx=-40):this.co_j.vx<-60&&(this.co_j.vx=-60),0<this.co_j.vx&&!Dj?(this.co_j.pt=108,this.co_j.ac=0):(this.co_j.pt=103+(this.co_j.ac>>1),this.co_j.ac++,3<this.co_j.ac&&(this.co_j.ac=0))),this.co_j.muki=0):this.gk.right_f?(this.co_j.vx+=Dj?4:15,this.j_hashiru_f?(this.j_mizu_f?60<this.co_j.vx&&(this.co_j.vx=60):120<this.co_j.vx&&(this.co_j.vx=120),this.co_j.vx<0&&!Dj?(this.co_j.pt=108,this.co_j.ac=0):(this.co_j.pt=105+(this.co_j.ac>>1),this.co_j.ac++,3<this.co_j.ac&&(this.co_j.ac=0))):(this.j_mizu_f?40<this.co_j.vx&&(this.co_j.vx=40):60<this.co_j.vx&&(this.co_j.vx=60),this.co_j.vx<0&&!Dj?(this.co_j.pt=108,this.co_j.ac=0):(this.co_j.pt=103+(this.co_j.ac>>1),this.co_j.ac++,3<this.co_j.ac&&(this.co_j.ac=0))),this.co_j.muki=1):this.co_j.vx<0?(Dj?this.co_j.vx++:this.co_j.vx+=5,0<this.co_j.vx&&(this.co_j.vx=0),this.j_hashiru_f||Dj?(this.co_j.pt=107,this.co_j.ac=0):(this.co_j.pt=103+(this.co_j.ac>>1),this.co_j.ac++,3<this.co_j.ac&&(this.co_j.ac=0)),this.co_j.muki=0):0<this.co_j.vx?(Dj?this.co_j.vx--:this.co_j.vx-=5,this.co_j.vx<0&&(this.co_j.vx=0),this.j_hashiru_f||Dj?(this.co_j.pt=107,this.co_j.ac=0):(this.co_j.pt=103+(this.co_j.ac>>1),this.co_j.ac++,3<this.co_j.ac&&(this.co_j.ac=0)),this.co_j.muki=1):this.co_j.ac=0):(this.gk.left_f?!this.j_mizu_f&&-60<this.co_j.vx&&(this.co_j.vx-=10,this.co_j.vx<-60&&(this.co_j.vx=-60)):this.gk.right_f&&!this.j_mizu_f&&this.co_j.vx<60&&(this.co_j.vx+=10,60<this.co_j.vx&&(this.co_j.vx=60)),this.j_mizu_f?1<this.j_mizu_ac?this.co_j.pt=84:this.co_j.pt=83:0==this.j_jump_type?this.co_j.vy<20?this.co_j.pt=101:this.co_j.pt=102:2==this.j_jump_type?c.abs(this.co_j.vx)<=60?this.co_j.pt=103:this.co_j.pt=105:3==this.j_jump_type?this.co_j.pt=119:4==this.j_jump_type?this.co_j.pt=100:this.co_j.pt=109,this.co_j.ac=2),this.j_jdai_f&&(this.co_j.vx=0,this.co_j.pt=100,this.co_j.ac=0),this.co_j.vx<0){if(this.co_j.x+=t(this.co_j.vx/10),this.a_hf)for(var Mj=0;Mj<=this.a_kazu;Mj++)if(this.co_a[Mj].gf){var Nj=this.co_a[Mj];100<=Nj.c&&Nj.c<200?this.co_j.x+15>=Nj.x&&this.co_j.x<=Nj.x+64&&this.co_j.y+31>=Nj.y&&this.co_j.y<=Nj.y+13&&(this.co_j.x=Nj.x+65,this.co_j.vx=0):300==Nj.c?this.co_j.x+15>=Nj.x&&this.co_j.x<=Nj.x+48&&this.co_j.y+31>=Nj.y&&this.co_j.y<=Nj.y+31&&(this.co_j.x=Nj.x+49,this.co_j.vx=0):400==Nj.c?this.co_j.x+15>=Nj.x&&this.co_j.x<=Nj.x+80&&this.co_j.y+31>=Nj.y&&this.co_j.y<=Nj.y+63&&(this.co_j.x=Nj.x+81,this.co_j.vx=0):500==Nj.c?this.co_j.x+15>=Nj.x&&this.co_j.x<=Nj.x+80&&this.co_j.y+31>=Nj.y&&this.co_j.y<=Nj.y+13&&(this.co_j.x=Nj.x+81,this.co_j.vx=0):600==Nj.c?this.co_j.x+15>=Nj.x&&this.co_j.x<=Nj.x+48&&this.co_j.y+31>=Nj.y+16&&this.co_j.y<=Nj.y+47&&(this.co_j.x=Nj.x+49,this.co_j.vx=0):700==Nj.c&&this.co_j.x+15>=Nj.x&&this.co_j.x<=Nj.x+16&&this.co_j.y+31>=Nj.y&&this.co_j.y<=Nj.y+31&&(this.co_j.x=Nj.x+17,this.co_j.vx=0)}var Oj=this.co_j.x+15>>5,Pj=this.maps.map_bg[Oj][this.co_j.y>>5],Qj=this.co_j.y+31>>5,Rj=this.maps.map_bg[Oj][Qj];(20<=Pj||20<=Rj)&&(this.co_j.x=32*Oj+17,this.co_j.vx=0)}else if(0<this.co_j.vx){if(this.co_j.x+=t(this.co_j.vx/10),this.a_hf)for(var Sj=0;Sj<=this.a_kazu;Sj++)if(this.co_a[Sj].gf){var Tj=this.co_a[Sj];100<=Tj.c&&Tj.c<200?this.co_j.x+15>=Tj.x&&this.co_j.x<=Tj.x+64&&this.co_j.y+31>=Tj.y&&this.co_j.y<=Tj.y+13&&(this.co_j.x=Tj.x-16,this.co_j.vx=0):300==Tj.c?this.co_j.x+15>=Tj.x&&this.co_j.x<=Tj.x+48&&this.co_j.y+31>=Tj.y&&this.co_j.y<=Tj.y+31&&(this.co_j.x=Tj.x-16,this.co_j.vx=0):400==Tj.c?this.co_j.x+15>=Tj.x&&this.co_j.x<=Tj.x+80&&this.co_j.y+31>=Tj.y&&this.co_j.y<=Tj.y+63&&(this.co_j.x=Tj.x-16,this.co_j.vx=0):500==Tj.c?this.co_j.x+15>=Tj.x&&this.co_j.x<=Tj.x+80&&this.co_j.y+31>=Tj.y&&this.co_j.y<=Tj.y+13&&(this.co_j.x=Tj.x-16,this.co_j.vx=0):600==Tj.c?this.co_j.x+15>=Tj.x&&this.co_j.x<=Tj.x+48&&this.co_j.y+31>=Tj.y+16&&this.co_j.y<=Tj.y+47&&(this.co_j.x=Tj.x-16,this.co_j.vx=0):700==Tj.c&&this.co_j.x+15>=Tj.x&&this.co_j.x<=Tj.x+16&&this.co_j.y+31>=Tj.y&&this.co_j.y<=Tj.y+31&&(this.co_j.x=Tj.x-16,this.co_j.vx=0)}var Uj=this.co_j.x+15>>5,Vj=this.maps.map_bg[Uj][this.co_j.y>>5],Wj=this.co_j.y+31>>5,Xj=this.maps.map_bg[Uj][Wj];(20<=Vj||20<=Xj)&&(this.co_j.x=32*Uj-16,this.co_j.vx=0)}if(this.co_j.jimen_f)if(1<=this.tr1_c&&this.tr1_c<=5)if(20<=this.maps.getBGCode(this.co_j.x+15,this.co_j.y-1)){if(1==this.tr1_c&&40==this.maps.getBGCode(this.co_j.x+15,this.co_j.y-1)){var Yj=this.co_j.x+15>>5,Zj=this.co_j.y-1>>5;this.hAttack(Yj,Zj)}if(Ej=this.maps.getBGCode(this.co_j.x+15,this.co_j.y-1),this.j_helm_f&&(20==Ej||69==Ej&&1==this.suberuyuka_hkf)){this.tr1_c=6;var $j=this.co_j.x+15>>5,_j=this.co_j.y-1>>5;4==this.maps.map_bg[this.co_j.x+15>>5][1+(this.co_j.y-1>>5)]?this.maps.putBGCode($j,_j,4):this.maps.putBGCode($j,_j,0),this.mSet2(32*$j,32*_j,80,12,-24),this.mSet2(32*$j,32*_j,80,-12,-24),this.jZutuki(32*$j,32*_j-32,0)}}else if(this.j_mizu_f)this.j_jump_type=0,this.co_j.pt=83,this.co_j.ac=0,this.j_mizu_ac=0,this.j_jet_kf=!1,this.j_jdai_f?(this.co_j.y=32*(this.co_j.y>>5),this.co_j.vy=-120):50<c.abs(this.co_j.vx)?this.co_j.vy=-90:this.co_j.vy=-70,this.j_jump_level=0;else{this.j_jump_type=0,this.co_j.pt=101,this.co_j.ac=0,this.j_fire_f&&(0==this.co_j.muki?this.jmSet(this.co_j.x,this.co_j.y,100):this.jmSet(this.co_j.x,this.co_j.y,105)),this.j_jet_kf=!1;var ak=c.abs(this.co_j.vx);if(this.j_jdai_f)this.co_j.y=32*(this.co_j.y>>5),this.co_j.vy=-410,this.j_jump_level=5,this.co_a[this.j_a_id].c3<=1&&(this.co_j.vy=-230);else if(0==ak)this.co_j.vy=-150,this.j_jump_level=1;else if(ak<60)this.co_j.vy=-230,this.j_jump_level=2;else if(60==ak)this.co_j.vy=-260,this.j_jump_level=3;else if(ak<120)this.co_j.vy=-290,this.j_jump_level=4;else if(this.co_j.vy=-340,this.j_jump_level=5,(Ej=this.maps.map_bg[this.co_j.x+15>>5][this.co_j.y-1>>5])<=9){for(var bk=0;bk<=5;bk++)this.j_zan_x[bk]=Fj,this.j_zan_y[bk]=Gj,this.j_zan_pt[bk]=101,this.j_zan_pth[bk]=this.co_j.muki;this.j_zan_p=0,this.j_zan_c=0,this.j_zan_nagasa=5,this.j_zan_f=!0}}else this.co_j.vy=0;else if(this.j_mizu_f)if(this.gk.left_f?this.co_j.muki=0:this.gk.right_f&&(this.co_j.muki=1),1==this.tr1_c){var ck=!1;(Ej=this.maps.map_bg[this.co_j.x+15>>5][(this.co_j.y+15>>5)-1])<=9&&4!=Ej&&(ck=!0),8!=Ej&&9!=Ej||4!=this.maps.map_bg[(this.co_j.x+15>>5)-1][(this.co_j.y+15>>5)-1]||(ck=!1),ck&&(this.co_j.y+15)%32<=8?(this.j_jump_type=0,this.co_j.pt=101,this.co_j.ac=0,this.co_j.vy=-180,this.j_jump_level=1,this.co_j.y=32*(this.co_j.y+15>>5)-14,this.j_jet_kf=!1,Cj=!0,this.mSet(this.co_j.x,32*(this.co_j.y+15>>5)-32,50)):(this.j_jump_type=0,this.co_j.ac=0,this.j_mizu_ac<=0&&(this.j_mizu_ac=4,this.co_j.pt=84),this.co_j.vy=-40,(this.j_jump_level=0)==this.co_j.muki?(this.co_j.vx-=30,this.co_j.vx<-60&&(this.co_j.vx=-60)):(this.co_j.vx+=30,60<this.co_j.vx&&(this.co_j.vx=60)))}else this.co_j.vx<0?(0==this.co_j.muki?this.co_j.vx++:this.co_j.vx+=2,0<this.co_j.vx&&(this.co_j.vx=0)):0<this.co_j.vx&&(1==this.co_j.muki?this.co_j.vx--:this.co_j.vx-=2,this.co_j.vx<0&&(this.co_j.vx=0)),this.co_j.vy<40?(this.co_j.vy+=5,40<this.co_j.vy&&(this.co_j.vy=40)):40<this.co_j.vy&&(this.co_j.vy-=20,this.co_j.vy<40&&(this.co_j.vy=40)),0<this.j_mizu_ac?(this.j_mizu_ac--,1<this.j_mizu_ac?this.co_j.pt=84:this.co_j.pt=83):this.co_j.pt=83;else this.co_j.vy+=25,160<this.co_j.vy&&(this.co_j.vy=160),1==this.tr1_c&&this.j_fire_f&&(0==this.co_j.muki?this.jmSet(this.co_j.x,this.co_j.y,100):this.jmSet(this.co_j.x,this.co_j.y,105)),0==this.tr1_c&&(this.j_jet_kf=!0),this.j_jet_kf&&0<this.tr1_c&&0<this.j_jet_fuel&&!this.j_mizu_f?(this.j_jet_c=100,2==this.j_jump_type&&(this.j_jump_type=0)):96<this.j_jet_c?this.j_jet_c--:this.j_jet_c=0,96<=this.j_jet_c&&(this.j_jet_fuel--,this.j_jet_fuel<0&&(this.j_jet_fuel=0,this.j_jet_c=0),this.gk.left_f?this.co_j.muki=0:this.gk.right_f&&(this.co_j.muki=1),-150<this.co_j.vy&&(this.co_j.vy-=50,this.co_j.vy<-150&&(this.co_j.vy=-150)));if(this.co_j.vy<0){var dk=this.co_j.x+15>>5,ek=this.co_j.y>>5,gk=(this.maps.map_bg[dk][ek],this.co_j.vy);if(gk<-320&&(gk=-320),this.co_j.y+=t(gk/10),this.j_mizu_f&&!Cj){var hk=this.maps.getBGCode(this.co_j.x+15,this.co_j.y+15),ik=!1;hk<=9&&4!=hk&&(ik=!0),8!=hk&&9!=hk||4!=this.maps.map_bg[(this.co_j.x+15>>5)-1][this.co_j.y+15>>5]||(ik=!1),ik&&(this.co_j.y=32*(this.co_j.y+15>>5)+17,this.co_j.vy=-10)}if(this.a_hf)for(var jk=0;jk<=this.a_kazu;jk++)if(this.co_a[jk].gf){var kk=this.co_a[jk];100<=kk.c&&kk.c<200?this.co_j.x+15>=kk.x&&this.co_j.x<=kk.x+64&&this.co_j.y+31>=kk.y&&this.co_j.y<=kk.y+13&&(this.co_j.y=kk.y+14,this.co_j.vy=0):300==kk.c?this.co_j.x+15>=kk.x&&this.co_j.x<=kk.x+48&&this.co_j.y+31>=kk.y&&this.co_j.y<=kk.y+31&&(this.co_j.y=kk.y+32,this.co_j.vy=0):400==kk.c?this.co_j.x+15>=kk.x&&this.co_j.x<=kk.x+80&&this.co_j.y+31>=kk.y&&this.co_j.y<=kk.y+63&&(this.co_j.y=kk.y+64,this.co_j.vy=0):500==kk.c?this.co_j.x+15>=kk.x&&this.co_j.x<=kk.x+80&&this.co_j.y+31>=kk.y&&this.co_j.y<=kk.y+13&&(this.co_j.y=kk.y+14,this.co_j.vy=0):600==kk.c?this.co_j.x+15>=kk.x&&this.co_j.x<=kk.x+48&&this.co_j.y+31>=kk.y+16&&this.co_j.y<=kk.y+47&&(this.co_j.y=kk.y+48,this.co_j.vy=0):700==kk.c&&this.co_j.x+15>=kk.x&&this.co_j.x<=kk.x+16&&this.co_j.y+31>=kk.y&&this.co_j.y<=kk.y+31&&(this.co_j.y=kk.y+32,this.co_j.vy=0)}var lk=this.co_j.y>>5,mk=this.maps.map_bg[this.co_j.x+15>>5][lk];if(20<=mk){if(this.co_j.y=32*lk+32,this.co_j.vy=0,40==mk){var nk=this.co_j.x+15>>5,ok=this.co_j.y-1>>5;this.hAttack(nk,ok)}if(this.j_helm_f&&(20==mk||69==mk&&1==this.suberuyuka_hkf)){var pk=this.co_j.x+15>>5,qk=lk;4==this.maps.map_bg[pk][qk+1]?this.maps.putBGCode(pk,qk,4):this.maps.putBGCode(pk,qk,0),this.mSet2(32*pk,32*qk,80,12,-24),this.mSet2(32*pk,32*qk,80,-12,-24),this.jZutuki(32*pk,32*qk-32,0)}}if(lk<ek){if(this.gk.right_f){var rk=this.maps.map_bg[this.co_j.x+16>>5][ek],sk=this.maps.map_bg[this.co_j.x+16>>5][lk];rk<=9&&20<=sk&&(this.co_j.y=32*lk+32,this.co_j.vy=0)}if(this.gk.left_f){var tk=this.maps.map_bg[this.co_j.x+14>>5][ek],uk=this.maps.map_bg[this.co_j.x+14>>5][lk];tk<=9&&20<=uk&&(this.co_j.y=32*lk+32,this.co_j.vy=0)}}}else if(0<this.co_j.vy){var vk=this.co_j.x+15>>5,wk=this.co_j.y+31>>5;this.maps.map_bg[vk][wk];if(this.co_j.y+=t(this.co_j.vy/10),this.a_hf)for(var yk=0;yk<=this.a_kazu;yk++)if(this.co_a[yk].gf){var zk=this.co_a[yk];100<=zk.c&&zk.c<200?this.co_j.x+15>=zk.x&&this.co_j.x<=zk.x+64&&this.co_j.y+31>=zk.y&&this.co_j.y<=zk.y+13&&(this.co_j.y=zk.y-32,this.co_j.vy=0):300==zk.c?this.co_j.x+15>=zk.x&&this.co_j.x<=zk.x+48&&this.co_j.y+31>=zk.y&&this.co_j.y<=zk.y+31&&(this.co_j.y=zk.y-32,this.co_j.vy=0):400==zk.c?this.co_j.x+15>=zk.x&&this.co_j.x<=zk.x+80&&this.co_j.y+31>=zk.y&&this.co_j.y<=zk.y+63&&(this.co_j.y=zk.y-32,this.co_j.vy=0):500==zk.c?this.co_j.x+15>=zk.x&&this.co_j.x<=zk.x+80&&this.co_j.y+31>=zk.y&&this.co_j.y<=zk.y+13&&(this.co_j.y=zk.y-32,this.co_j.vy=0):600==zk.c?this.co_j.x+15>=zk.x&&this.co_j.x<=zk.x+48&&this.co_j.y+31>=zk.y+16&&this.co_j.y<=zk.y+47&&(this.co_j.y=zk.y+16-32,this.co_j.vy=0):700==zk.c&&this.co_j.x+15>=zk.x&&this.co_j.x<=zk.x+16&&this.co_j.y+31>=zk.y&&this.co_j.y<=zk.y+31&&(this.co_j.y=zk.y-32,this.co_j.vy=0)}var Ak=this.co_j.y+31>>5;if(20<=this.maps.map_bg[vk][Ak]){this.co_j.y=32*Ak-32,this.co_j.vy=0,Ak=this.co_j.y+31>>5;this.maps.map_bg[vk][Ak]}if(wk<Ak){if(this.gk.right_f){var Dk=this.maps.map_bg[this.co_j.x+16>>5][wk],Ek=this.maps.map_bg[this.co_j.x+16>>5][Ak];Dk<=9&&20<=Ek&&(this.co_j.y=32*Ak-32,this.co_j.vy=0,this.co_j.pt=103,this.co_j.ac=1,this.co_j.x++)}if(this.gk.left_f){var Fk=this.maps.map_bg[this.co_j.x+14>>5][wk],Gk=this.maps.map_bg[this.co_j.x+14>>5][Ak];Fk<=9&&20<=Gk&&(this.co_j.y=32*Ak-32,this.co_j.vy=0,this.co_j.pt=103,this.co_j.ac=1,this.co_j.x--)}}if(!this.j_mizu_f){var Hk=this.maps.getBGCode(this.co_j.x+15,this.co_j.y+15);4==Hk?(this.mSet(this.co_j.x,32*(this.co_j.y+15>>5)-32,50),this.j_mizu_awa_c=38,this.co_j.vx<-60?this.co_j.vx=-60:60<this.co_j.vx&&(this.co_j.vx=60)):8!=Hk&&9!=Hk||4!=this.maps.map_bg[(this.co_j.x+15>>5)-1][this.co_j.y+15>>5]||(this.mSet(this.co_j.x,32*(this.co_j.y+15>>5)-32,50),this.j_mizu_awa_c=38,this.co_j.vx<-60?this.co_j.vx=-60:60<this.co_j.vx&&(this.co_j.vx=60))}}if(1==this.tr2_c)if(0<this.j_gr_kazu?3==this.grenade_type||4==this.grenade_type?0==this.co_j.muki?this.jmSet(this.co_j.x,this.co_j.y,60):this.jmSet(this.co_j.x,this.co_j.y,65):0==this.co_j.muki?this.jmSet(this.co_j.x,this.co_j.y,200):this.jmSet(this.co_j.x,this.co_j.y,205):!this.j_fire_f||this.j_mizu_f&&!this.j_fire_mkf||(0==this.co_j.muki?this.jmSet(this.co_j.x,this.co_j.y,100):this.jmSet(this.co_j.x,this.co_j.y,105)),Ej=this.maps.getBGCode(this.co_j.x+15,this.co_j.y+32),this.j_drell_f&&(20==Ej||69==Ej&&1==this.suberuyuka_hkf)){var Ik=this.co_j.x+15>>5,Jk=this.co_j.y+32>>5;4==this.maps.map_bg[this.co_j.x+15>>5][(this.co_j.y+32>>5)-1]?this.maps.putBGCode(Ik,Jk,4):this.maps.putBGCode(Ik,Jk,0),this.mSet2(32*Ik,32*Jk,80,12,-24),this.mSet2(32*Ik,32*Jk,80,-12,-24),this.jZutuki(32*Ik,32*Jk-32,0),this.co_j.x=32*Ik,this.co_j.vx=0,this.co_j.vy=0,this.j_jump_type=3,this.co_j.c=120,this.co_j.c1=0,this.co_j.pt=119}else this.j_tail_f&&(this.j_tail_ac<=0||8<=this.j_tail_ac)&&(this.j_tail_ac=1,this.co_j.pt=116,this.j_zan_f=!1);if(1<=this.j_tail_ac)if(this.j_zan_f=!1,this.j_tail_ac++,this.j_tail_ac<=4)this.co_j.pt=116,1!=this.j_tail_type&&3!=this.j_tail_type||(0==this.co_j.muki?this.jZutuki(this.co_j.x-32,this.co_j.y,1):this.jZutuki(this.co_j.x+32,this.co_j.y,1));else if(this.j_tail_ac<=5){if(this.co_j.pt=1e3,1!=this.j_tail_type&&3!=this.j_tail_type||(0==this.co_j.muki?this.jZutuki(this.co_j.x-32,this.co_j.y,1):this.jZutuki(this.co_j.x+32,this.co_j.y,1)),2==this.j_tail_type||3==this.j_tail_type){var Kk;Kk=1==this.co_j.muki?this.co_j.x+40>>5:this.co_j.x-8>>5;var Lk=this.co_j.y+15>>5;(20==this.maps.map_bg[Kk][Lk]||69==this.maps.map_bg[Kk][Lk]&&1==this.suberuyuka_hkf)&&(4==this.maps.map_bg[Kk-1][Lk]?this.maps.putBGCode(Kk,Lk,4):this.maps.putBGCode(Kk,Lk,0),this.mSet2(32*Kk,32*Lk,80,12,-24),this.mSet2(32*Kk,32*Lk,80,-12,-24),this.jZutuki(32*Kk,32*Lk-32,0))}}else this.j_tail_ac<=7?this.co_j.pt=1e3:this.j_tail_ac<=9?this.co_j.pt=116:(this.co_j.pt=116,this.j_tail_ac=0);switch(Ej=this.maps.map_bg[this.co_j.x+15>>5][this.co_j.y+15>>5]){case 9:4==this.maps.map_bg[(this.co_j.x+15>>5)-1][this.co_j.y+15>>5]?(this.maps.putBGCode(this.co_j.x+15>>5,this.co_j.y+15>>5,4),this.j_mizu_f=!0):this.maps.putBGCode(this.co_j.x+15>>5,this.co_j.y+15>>5,0),this.addScore(5);break;case 8:4==this.maps.map_bg[(this.co_j.x+15>>5)-1][this.co_j.y+15>>5]?(this.maps.putBGCode(this.co_j.x+15>>5,this.co_j.y+15>>5,4),this.j_mizu_f=!0):this.maps.putBGCode(this.co_j.x+15>>5,this.co_j.y+15>>5,0),this.stage_cc=1,2<=this.stage_max&&this.stage>=this.stage_max?this.addScore(1e3):this.addScore(100);break;case 5:case 6:this.co_j.y=32*(this.co_j.y+15>>5),this.jShinu(1)}(this.co_j.y>=this.ochiru_y||this.j_mizu_f&&this.co_j.y>=this.ochiru_y-16)&&(this.co_j.c=210,this.co_j.c1=0,this.co_j.y=this.ochiru_y+64,this.j_jet_c=0,this.j_v_c=0),this.co_j.wx=this.co_j.x-this.maps.wx,this.co_j.wy=this.co_j.y-this.maps.wy,this.co_j.wx<96?this.maps.wx=this.co_j.x-96:224<this.co_j.wx&&(this.maps.wx=this.co_j.x-224),this.co_j.wy<78?this.maps.wy=this.co_j.y-78:176<this.co_j.wy&&(this.maps.wy=this.co_j.y-176),this.maps.wx<this.maps.wx_mini?this.maps.wx=this.maps.wx_mini:this.maps.wx>this.maps.wx_max&&(this.maps.wx=this.maps.wx_max),this.maps.wy<this.maps.wy_mini?this.maps.wy=this.maps.wy_mini:this.maps.wy>this.maps.wy_max&&(this.maps.wy=this.maps.wy_max)},G.prototype.jMove=function(){this.j_mizu_f=!1;var Nk=this.maps.getBGCode(this.co_j.x+15,this.co_j.y+15);if(4==Nk?(this.j_mizu_f=!0,this.j_jet_c=0,this.j_mizu_awa_c++,44==this.j_mizu_awa_c||54==this.j_mizu_awa_c?this.mSet(this.co_j.x,this.co_j.y+4,60):54<this.j_mizu_awa_c&&(this.j_mizu_awa_c=0)):8!=Nk&&9!=Nk||4!=this.maps.map_bg[(this.co_j.x+15>>5)-1][this.co_j.y+15>>5]||(this.j_mizu_f=!0,this.j_jet_c=0,this.j_mizu_awa_c++,44==this.j_mizu_awa_c||54==this.j_mizu_awa_c?this.mSet(this.co_j.x,this.co_j.y+4,60):54<this.j_mizu_awa_c&&(this.j_mizu_awa_c=0)),this.gk.tr1_f?this.tr1_c<6&&this.tr1_c++:this.tr1_c=0,this.gk.tr2_f?this.tr2_c<2&&this.tr2_c++:this.tr2_c=0,this.gk.left_f?this.gk.left_c<2&&this.gk.left_c++:this.gk.left_c=0,this.gk.right_f?this.gk.right_c<2&&this.gk.right_c++:this.gk.right_c=0,1==this.gk.left_c?(0<this.left_dcc?this.j_hashiru_f=!0:this.j_hashiru_f=!1,this.left_dcc=8):0<this.left_dcc&&this.left_dcc--,1==this.gk.right_c?(0<this.right_dcc?this.j_hashiru_f=!0:this.j_hashiru_f=!1,this.right_dcc=8):0<this.right_dcc&&this.right_dcc--,110==this.co_j.c)this.gk.left_f?(this.co_j.vx-=10,this.co_j.vx<-60&&(this.co_j.vx=-60)):this.gk.right_f&&(this.co_j.vx+=10,60<this.co_j.vx&&(this.co_j.vx=60)),this.co_j.c1++,2<this.co_j.c1&&(this.co_j.c=100),this.co_j.pt=109;else if(120==this.co_j.c)this.co_j.c1++,6<this.co_j.c1&&(this.co_j.c=100),this.co_j.pt=119;else if(200==this.co_j.c)this.co_j.vy+=25,100<this.co_j.vy&&(this.co_j.vy=100),this.co_j.y+=t(this.co_j.vy/10),this.co_j.wx=this.co_j.x-this.maps.wx,this.co_j.wy=this.co_j.y-this.maps.wy,this.co_j.c2<100?(this.co_j.c1<=0?(this.co_j.pt=110,this.co_j.muki=0):this.co_j.c1<=1?(this.co_j.pt=111,this.co_j.muki=0,this.co_j.c2++,4<this.co_j.c2&&(this.co_j.c2=100)):(this.co_j.c1<=2?this.co_j.pt=112:this.co_j.pt=113,this.co_j.muki=0),this.co_j.c1++,3<this.co_j.c1&&(this.co_j.c1=0)):(this.co_j.pt=112,this.co_j.muki=0),320<=this.co_j.wy&&(this.co_j.c=210,this.co_j.c1=0,this.co_j.y=this.maps.wy+320+32,this.co_j.pt=0);else if(210==this.co_j.c)this.stage_cc<=0&&(this.co_j.c1++,16<this.co_j.c1&&(this.j_left--,this.j_left<0?(this.j_left=0,this.ml_mode=300):2==this.stage_select?this.ml_mode=250:this.ml_mode=90));else if(220==this.co_j.c)this.co_j.pt=114,this.co_j.c1++,25<=this.co_j.c1&&(this.co_j.c=210,this.co_j.c1=0);else if(230==this.co_j.c)this.co_j.pt=115,this.co_j.c1++,25<=this.co_j.c1&&(this.co_j.c=210,this.co_j.c1=0);else if(240==this.co_j.c)100<=this.co_j.c2&&(this.co_j.y+=10),this.co_j.wx=this.co_j.x-this.maps.wx,this.co_j.wy=this.co_j.y-this.maps.wy,this.co_j.c2<100?(this.co_j.c1<=0?(this.co_j.pt=110,this.co_j.muki=0):this.co_j.c1<=1?(this.co_j.pt=111,this.co_j.muki=0,this.co_j.c2++,4<this.co_j.c2&&(this.co_j.c2=100)):(this.co_j.c1<=2?this.co_j.pt=112:this.co_j.pt=113,this.co_j.muki=0),this.co_j.c1++,3<this.co_j.c1&&(this.co_j.c1=0)):(this.co_j.pt=112,this.co_j.muki=0),320<=this.co_j.wy&&(this.co_j.c=210,this.co_j.c1=0,this.co_j.y=this.maps.wy+320+32,this.co_j.pt=0);else if(300==this.co_j.c)this.co_j.pt=1100,this.co_j.c1++,32<=this.co_j.c1&&(this.co_j.c=310,this.co_j.c1=0,this.co_j.pt=1110),this.co_j.wx=this.co_j.x-this.maps.wx,this.co_j.wy=this.co_j.y-this.maps.wy,this.co_j.wx<96?this.maps.wx=this.co_j.x-96:224<this.co_j.wx&&(this.maps.wx=this.co_j.x-224),this.co_j.wy<78?this.maps.wy=this.co_j.y-78:176<this.co_j.wy&&(this.maps.wy=this.co_j.y-176),this.maps.wx<this.maps.wx_mini?this.maps.wx=this.maps.wx_mini:this.maps.wx>this.maps.wx_max&&(this.maps.wx=this.maps.wx_max),this.maps.wy<this.maps.wy_mini?this.maps.wy=this.maps.wy_mini:this.maps.wy>this.maps.wy_max&&(this.maps.wy=this.maps.wy_max);else if(310==this.co_j.c){if(this.co_j.pt=1110,this.stage_cc<=0)if(this.co_j.c1++,2==this.dokan_mode){if(10<=this.co_j.c1){var Ok;for(this.co_j.c=320,this.co_j.c1=42,Ok=0;Ok<=this.a_kazu;Ok++)if(300==this.co_a[Ok].c&&1!=this.co_a[Ok].c4&&this.co_j.c2==this.co_a[Ok].c3&&(0==this.sl_step||1==this.sl_step||10==this.sl_step||11==this.sl_step)){this.co_j.x=this.co_a[Ok].x+16,this.co_j.y=this.co_a[Ok].y-32,this.co_a[Ok].c4=1;break}this.a_kazu;for(var Pk=0;Pk<=this.a_kazu;Pk++)(100<=this.co_a[Pk].c||60==this.co_a[Pk].c)&&(this.co_a[Pk].gf=!0,300!=this.co_a[Pk].c||this.co_j.x==this.co_a[Pk].x+16&&this.co_j.y==this.co_a[Pk].y-32||(this.co_a[Pk].c4=0));10!=this.sl_step&&11!=this.sl_step||(this.maps.wx=this.co_j.x-192,this.ks_wx=this.maps.wx),this.co_j.wx=this.co_j.x-this.maps.wx,this.co_j.wy=this.co_j.y-this.maps.wy,this.co_j.wx<96?this.maps.wx=this.co_j.x-96:224<this.co_j.wx&&(this.maps.wx=this.co_j.x-224),this.co_j.wy<78?this.maps.wy=this.co_j.y-78:176<this.co_j.wy&&(this.maps.wy=this.co_j.y-176),this.maps.wx<this.maps.wx_mini?this.maps.wx=this.maps.wx_mini:this.maps.wx>this.maps.wx_max&&(this.maps.wx=this.maps.wx_max),this.maps.wy<this.maps.wy_mini?this.maps.wy=this.maps.wy_mini:this.maps.wy>this.maps.wy_max&&(this.maps.wy=this.maps.wy_max)}}else if(10==this.co_j.c1){var Qk;Qk=1==this.co_j.c2?this.gg.ap.getParameter("url2"):2==this.co_j.c2?this.gg.ap.getParameter("url3"):3==this.co_j.c2?this.gg.ap.getParameter("url4"):this.gg.ap.getParameter("url1"),location.href=Qk}else 80<this.co_j.c1&&(this.ml_mode=50)}else 320==this.co_j.c&&(this.co_j.pt=1100,this.co_j.c1--,this.co_j.c1<=0&&(this.co_j.c=100,this.co_j.c1=0,this.co_j.pt=100))},G.prototype.jShinu=function(Rk){this.co_j.c1=0,this.co_j.c2=0,this.j_zan_f=!1,this.j_jet_c=0,this.j_v_c=0,1==Rk?this.co_j.c=240:2==Rk?(this.co_j.c=200,this.co_j.vy=-280):3==Rk&&(this.co_j.c=220)},G.prototype.jZutuki=function(Sk,Tk,Uk){for(var Vk=0;Vk<=this.t_kazu;Vk++)if(100<=this.co_t[Vk].c){var Wk=this.co_t[Vk],Xk=!1;1==Uk?c.abs(Sk-Wk.x)<25&&c.abs(Tk-Wk.y)<23&&(Xk=!0):c.abs(Sk-Wk.x)<34&&Tk==Wk.y&&(Xk=!0),Xk&&(Sk>Wk.x?(Wk.pth=1,Wk.vx=-7):(Wk.pth=0,Wk.vx=7),Wk.c=52,Wk.vy=-32)}},G.prototype.tSet=function(Yk,Zk,$k,_k){for(var al=0;al<=119;al++)if(!(0<this.co_t[al].c)){var bl=this.co_t[al];switch(bl.c=10,bl.c1=_k,bl.c2=$k,bl.c3=Yk,bl.c4=Zk,bl.x=Yk,bl.y=Zk,this.t_kazu++,$k){case 500:bl.y=Zk-12,bl.c3=Zk-52,bl.c4=Zk-12,bl.vy=-4;break;case 600:bl.c3=0;break;case 900:this.airms_kf&&(bl.c2=950)}break}},G.prototype.tSetBoss=function(cl,dl,el,fl){this.t_kazu=129;for(var gl=120;gl<=129;gl++)if(!(0<this.co_t[gl].c)){var hl=this.co_t[gl];switch(hl.c=el,hl.c1=0,hl.c2=0,hl.c3=cl,hl.c4=dl,hl.x=cl,hl.y=dl,hl.vx=fl,el){case 150:hl.vx=fl,hl.vy=-28,hl.vx<=0?hl.muki=0:hl.muki=1;break;case 450:hl.vx=fl,hl.vy=-22,hl.vx<=0?hl.muki=0:hl.muki=1;break;case 650:hl.vx=fl,hl.vy=-28,hl.vx<=0?hl.muki=0:hl.muki=1}break}},G.prototype.tMove=function(){for(var il=!1,jl=0;jl<=this.t_kazu;jl++)if(0!=this.co_t[jl].c&&this.co_t[jl].x>=this.maps.wx-512){var kl=this.co_t[jl],ll=kl.x,ml=kl.y;switch(kl.c){case 10:this.maps.wx>=kl.c1&&(kl.c=kl.c2,kl.c1=0,kl.c2=0);break;case 50:kl.c1++,14<kl.c1&&(kl.c=0,this.addScore(10));break;case 52:ll+=kl.vx,kl.vy+=5,25<kl.vy&&(kl.vy=25),(ml+=kl.vy)>this.maps.wy+320&&(kl.c=0,this.addScore(10));break;case 100:if(ll+12>>5<ll+15>>5){var nl=this.maps.map_bg[ll+15>>5][ml+31>>5];11==nl||14==nl?ml=32*(ml+31>>5)-32:10!=nl&&12!=nl||(ml=32*(ml+31>>5))}ll-=3;var ol=this.maps.map_bg[ll+15>>5][ml+31>>5];if(10<=ol&&ol<=15)ml=32*(ml+31>>5),ml=this.sakamichiY(ll,ml);else{var pl=this.maps.map_bg[ll>>5][ml+32>>5];pl<=9&&(ll=32*(ll>>5)+32,10<=(pl=this.maps.map_bg[ll+15>>5][ml+31>>5])&&pl<=15&&(ll-=15),kl.c=105),20<=(pl=this.maps.map_bg[ll>>5][ml+31>>5])&&(ll=32*(ll>>5)+32,kl.c=105),10<=(pl=this.maps.map_bg[ll+15>>5][ml+32>>5])&&pl<=15&&(ml=32*(ml+32>>5),ml=this.sakamichiY(ll,ml))}kl.pt=140+this.g_ac,kl.pth=0;break;case 105:if(ll+15>>5<ll+18>>5){var ql=this.maps.map_bg[ll+15>>5][ml+31>>5];10==ql||13==ql?ml=32*(ml+31>>5)-32:11!=ql&&15!=ql||(ml=32*(ml+31>>5))}ll+=3;var rl=this.maps.map_bg[ll+15>>5][ml+31>>5];if(10<=rl&&rl<=15)ml=32*(ml+31>>5),ml=this.sakamichiY(ll,ml);else{var sl=this.maps.map_bg[ll+31>>5][ml+32>>5];sl<=9&&(ll=32*(ll+31>>5)-32,10<=(sl=this.maps.map_bg[ll+15>>5][ml+31>>5])&&sl<=15&&(ll+=16),kl.c=100),20<=(sl=this.maps.map_bg[ll+31>>5][ml+31>>5])&&(ll=32*(ll+31>>5)-32,kl.c=100),10<=(sl=this.maps.map_bg[ll+15>>5][ml+32>>5])&&sl<=15&&(ml=32*(ml+32>>5),ml=this.sakamichiY(ll,ml))}kl.pt=140+this.g_ac,kl.pth=1;break;case 110:if(ll+12>>5<ll+15>>5){var tl=this.maps.map_bg[ll+15>>5][ml+31>>5];11==tl||14==tl?ml=32*(ml+31>>5)-32:10!=tl&&12!=tl||(ml=32*(ml+31>>5))}ll-=3;var ul=this.maps.map_bg[ll+15>>5][ml+31>>5];if(10<=ul&&ul<=15)ml=32*(ml+31>>5),ml=this.sakamichiY(ll,ml);else{var vl=ml+32>>5;if(this.maps.map_bg[ll+31>>5][vl]<=9){ll=32*(ll+31>>5);var xl=this.maps.map_bg[ll+15>>5][ml+31>>5];10<=xl&&xl<=15&&(ll-=15),kl.c=120}if(ll<32)ll<=3&&(kl.c=0);else 20<=this.maps.map_bg[ll>>5][ml+31>>5]&&(ll=32*(ll>>5)+32,kl.c=115,this.maps.map_bg[ll+15>>5][ml+32>>5]<=9&&(kl.c=120));120<=jl&&ll<this.maps.wx-32&&(kl.c=0);var zl=this.maps.map_bg[ll+15>>5][vl];10<=zl&&zl<=15&&(ml=32*(ml+32>>5),ml=this.sakamichiY(ll,ml))}kl.pt=140+this.g_ac,kl.pth=0;break;case 115:if(ll+15>>5<ll+18>>5){var Al=this.maps.map_bg[ll+15>>5][ml+31>>5];10==Al||13==Al?ml=32*(ml+31>>5)-32:11!=Al&&15!=Al||(ml=32*(ml+31>>5))}ll+=3;var Bl=this.maps.map_bg[ll+15>>5][ml+31>>5];if(10<=Bl&&Bl<=15)ml=32*(ml+31>>5),ml=this.sakamichiY(ll,ml);else{var Cl=ml+32>>5;if(this.maps.map_bg[ll>>5][Cl]<=9){ll=32*(ll>>5);var El=this.maps.map_bg[ll+15>>5][ml+31>>5];10<=El&&El<=15&&(ll+=16),kl.c=125}var Fl=this.maps.map_bg[ll+31>>5][ml+31>>5];20<=Fl&&(ll=32*(ll+31>>5)-32,kl.c=110,this.maps.map_bg[ll+15>>5][ml+32>>5]<=9&&(kl.c=125)),120<=jl&&ll>this.maps.wx+512&&(kl.c=0),10<=(Fl=this.maps.map_bg[ll+15>>5][Cl])&&Fl<=15&&(ml=32*(ml+32>>5),ml=this.sakamichiY(ll,ml))}kl.pt=140+this.g_ac,kl.pth=1;break;case 120:ml+=5;var Gl=this.maps.map_bg[ll+15>>5][ml+31>>5];if(10<=Gl&&Gl<=15){var Hl=this.sakamichiY(ll,32*(ml+31>>5));Hl<=ml&&(ml=Hl,kl.c=110)}var Il=ml+31>>5,Jl=this.maps.map_bg[ll>>5][Il],Kl=this.maps.map_bg[ll+31>>5][Il];(20<=Jl||20<=Kl)&&(ml=32*Il-32,kl.c=110),ml>=this.ochiru_y&&(kl.c=0),kl.pt=140,kl.pth=0;break;case 125:ml+=5;var Ll=this.maps.map_bg[ll+15>>5][ml+31>>5];if(10<=Ll&&Ll<=15){var Ml=this.sakamichiY(ll,32*(ml+31>>5));Ml<=ml&&(ml=Ml,kl.c=115)}var Nl=ml+31>>5,Ol=this.maps.map_bg[ll>>5][Nl],Pl=this.maps.map_bg[ll+31>>5][Nl];(20<=Ol||20<=Pl)&&(ml=32*Nl-32,kl.c=115),ml>=this.ochiru_y&&(kl.c=0),kl.pt=140,kl.pth=1;break;case 150:kl.vx<0&&(20<=this.maps.getBGCode(ll,ml)||20<=this.maps.getBGCode(ll,ml+31))&&(ll=32*(ll>>5)+32,kl.vx=0),0<kl.vx&&(20<=this.maps.getBGCode(ll+31,ml)||20<=this.maps.getBGCode(ll+31,ml+31))&&(ll=32*(ll+31>>5)-32,kl.vx=0),ll+=kl.vx,kl.vy+=2,18<kl.vy&&(kl.vy=18);var Ql=(ml+=kl.vy)+31>>5,Rl=this.maps.map_bg[ll>>5][Ql],Sl=this.maps.map_bg[ll+31>>5][Ql];(20<=Rl||20<=Sl)&&(ml=32*Ql-32,1==kl.muki?kl.c=115:kl.c=110),ml>=this.ochiru_y&&(kl.c=0),kl.pt=140,kl.pth=kl.muki;break;case 200:kl.c1<=0?this.co_j.x>=ll-240&&this.co_j.x<=ll+240&&(kl.c=210,kl.vy=-14):kl.c1--,kl.pt=143,ll+8>=this.co_j.x?kl.pth=0:kl.pth=1;break;case 210:kl.vy++,14<kl.vy&&(kl.vy=14),ml+=kl.vy,20<=this.maps.getBGCode(ll+15,ml+31)&&(ml=32*(ml+31>>5)-32,kl.c=200,kl.c1=30),ml>=this.ochiru_y&&(kl.c=0),0==kl.vy&&(32<c.abs(this.co_j.x-ll)||ml<=this.co_j.y)&&this.mSet(ll,ml,100),kl.vy<=-1?kl.pt=144:kl.pt=145,ll+8>=this.co_j.x?kl.pth=0:kl.pth=1;break;case 300:0<kl.c1?(kl.c1++,2==kl.c1||10==kl.c1||18==kl.c1||26==kl.c1?ll+8>=this.co_j.x?this.mSet(ll,ml,200):this.mSet(ll,ml,205):86<kl.c1&&(kl.c1=0)):this.co_j.x>=ll-256&&this.co_j.x<=ll+256&&(kl.c1=1),kl.pt=150,ll+8>=this.co_j.x?kl.pth=0:kl.pth=1;break;case 400:ll-=4,this.maps.getBGCode(ll,ml+32)<=9&&(ll=32*(ll>>5)+32,kl.c=405),20<=this.maps.getBGCode(ll,ml+31)&&(ll=32*(ll>>5)+32,kl.c=405),kl.pt=152+this.g_ac,kl.pth=0;break;case 405:ll+=4,this.maps.getBGCode(ll+31,ml+32)<=9&&(ll=32*(ll+31>>5)-32,kl.c=400),20<=this.maps.getBGCode(ll+31,ml+31)&&(ll=32*(ll+31>>5)-32,kl.c=400),kl.pt=152+this.g_ac,kl.pth=1;break;case 410:ll-=4;var Tl=this.maps.map_bg[ll+15>>5][ml+31>>5];if(10<=Tl&&Tl<=15)ml=32*(ml+31>>5),ml=this.sakamichiY(ll,ml);else{var Ul=ml+32>>5;if(this.maps.map_bg[ll+31>>5][Ul]<=9){ll=32*(ll+31>>5);var Wl=this.maps.map_bg[ll+15>>5][ml+31>>5];10<=Wl&&Wl<=15&&(ll-=15),kl.c=420}if(ll<32)ll<=4&&(kl.c=0);else 20<=this.maps.map_bg[ll>>5][ml+31>>5]&&(ll=32*(ll>>5)+32,kl.c=415,this.maps.map_bg[ll+15>>5][ml+32>>5]<=9&&(kl.c=420));120<=jl&&ll<this.maps.wx-32&&(kl.c=0);var Yl=this.maps.map_bg[ll+15>>5][Ul];10<=Yl&&Yl<=15&&(ml=32*(ml+32>>5),ml=this.sakamichiY(ll,ml))}kl.pt=152+this.g_ac,kl.pth=0;break;case 415:ll+=4;var Zl=this.maps.map_bg[ll+15>>5][ml+31>>5];if(10<=Zl&&Zl<=15)ml=32*(ml+31>>5),ml=this.sakamichiY(ll,ml);else{var $l=ml+32>>5;if(this.maps.map_bg[ll>>5][$l]<=9){ll=32*(ll>>5);var am=this.maps.map_bg[ll+15>>5][ml+31>>5];10<=am&&am<=15&&(ll+=16),kl.c=425}var bm=this.maps.map_bg[ll+31>>5][ml+31>>5];20<=bm&&(ll=32*(ll+31>>5)-32,kl.c=410,this.maps.map_bg[ll+15>>5][ml+32>>5]<=9&&(kl.c=425)),120<=jl&&ll>this.maps.wx+512&&(kl.c=0),10<=(bm=this.maps.map_bg[ll+15>>5][$l])&&bm<=15&&(ml=32*(ml+32>>5),ml=this.sakamichiY(ll,ml))}kl.pt=152+this.g_ac,kl.pth=1;break;case 420:var cm=(ml+=5)+31>>5,dm=this.maps.map_bg[ll>>5][cm],em=this.maps.map_bg[ll+31>>5][cm];(20<=dm||20<=em)&&(ml=32*cm-32,kl.c=410),ml>=this.ochiru_y&&(kl.c=0),kl.pt=152,kl.pth=0;break;case 425:var fm=(ml+=5)+31>>5,gm=this.maps.map_bg[ll>>5][fm],hm=this.maps.map_bg[ll+31>>5][fm];(20<=gm||20<=hm)&&(ml=32*fm-32,kl.c=415),ml>=this.ochiru_y&&(kl.c=0),kl.pt=152,kl.pth=1;break;case 450:kl.vx<0&&(20<=this.maps.getBGCode(ll,ml)||20<=this.maps.getBGCode(ll,ml+31))&&(ll=32*(ll>>5)+32,kl.vx=0),0<kl.vx&&(20<=this.maps.getBGCode(ll+31,ml)||20<=this.maps.getBGCode(ll+31,ml+31))&&(ll=32*(ll+31>>5)-32,kl.vx=0),ll+=kl.vx,kl.vy+=2,18<kl.vy&&(kl.vy=18);var im=(ml+=kl.vy)+31>>5,jm=this.maps.map_bg[ll>>5][im],km=this.maps.map_bg[ll+31>>5][im];(20<=jm||20<=km)&&(ml=32*im-32,1==kl.muki?kl.c=415:kl.c=410),ml>=this.ochiru_y&&(kl.c=0),kl.pt=152,kl.pth=kl.muki;break;case 500:ml<=kl.c3?(kl.vy++,4<kl.vy&&(kl.vy=4)):ml>=kl.c4&&(kl.vy--,kl.vy<-4&&(kl.vy=-4)),ml+=kl.vy,kl.pt=147+this.g_ac,this.co_j.x<=ll+8?kl.pth=0:kl.pth=1;break;case 510:(ll-=3)<48?ll<=3&&(kl.c=0):20<=this.maps.getBGCode(ll-16,ml+31)&&(ll=32*(ll-16>>5)+32+16,kl.c=515),kl.pt=147+this.g_ac,kl.pth=0;break;case 515:ll+=3,20<=this.maps.getBGCode(ll+31+16,ml+31)&&(ll=32*(ll+31+16>>5)-32-16,kl.c=510),kl.pt=147+this.g_ac,kl.pth=1;break;case 600:kl.c1<25?(kl.c1++,kl.vy=-17,kl.c3=0,kl.pt=154,kl.pth=0):(0==kl.c3?(kl.vy++,kl.c3=1):(kl.vy+=2,kl.c3=0),17<kl.vy&&(kl.vy=17),ml+=kl.vy,kl.vy<4?kl.pt=155:kl.pt=156,kl.pth=0,(ll-=5)<32?ll<=3&&(kl.c=0):(20<=this.maps.getBGCode(ll+15,ml+6)&&(ml=32*(ml+6>>5)+32-6,kl.vy=0),20<=this.maps.getBGCode(ll+15,ml+31)&&(ml=32*(ml+31>>5)-32,kl.c1=15,kl.pt=154,kl.pth=0),(20<=this.maps.getBGCode(ll,ml+31)||20<=this.maps.getBGCode(ll,ml+8))&&(ll=32*(ll>>5)+32,kl.c=605),120<=jl&&ll<this.maps.wx-32&&(kl.c=0))),ml>=this.ochiru_y&&(kl.c=0);break;case 605:kl.c1<25?(kl.c1++,kl.vy=-17,kl.c3=0,kl.pt=154,kl.pth=1):(0==kl.c3?(kl.vy++,kl.c3=1):(kl.vy+=2,kl.c3=0),17<kl.vy&&(kl.vy=17),ml+=kl.vy,kl.vy<4?kl.pt=155:kl.pt=156,kl.pth=1,ll+=5,20<=this.maps.getBGCode(ll+15,ml+6)&&(ml=32*(ml+6>>5)+32-6,kl.vy=0),20<=this.maps.getBGCode(ll+15,ml+31)&&(ml=32*(ml+31>>5)-32,kl.c1=15,kl.pt=154,kl.pth=1),(20<=this.maps.getBGCode(ll+31,ml+31)||20<=this.maps.getBGCode(ll+31,ml+8))&&(ll=32*(ll+31>>5)-32,kl.c=600),120<=jl&&ll>this.maps.wx+512&&(kl.c=0)),ml>=this.ochiru_y&&(kl.c=0);break;case 650:kl.vx<0&&(20<=this.maps.getBGCode(ll,ml)||20<=this.maps.getBGCode(ll,ml+31))&&(ll=32*(ll>>5)+32,kl.vx=0),0<kl.vx&&(20<=this.maps.getBGCode(ll+31,ml)||20<=this.maps.getBGCode(ll+31,ml+31))&&(ll=32*(ll+31>>5)-32,kl.vx=0),ll+=kl.vx,kl.vy+=2,18<kl.vy&&(kl.vy=18);var lm=(ml+=kl.vy)+31>>5,mm=this.maps.map_bg[ll>>5][lm],nm=this.maps.map_bg[ll+31>>5][lm];(20<=mm||20<=nm)&&(ml=32*lm-32,1==kl.muki?kl.c=605:kl.c=600,kl.c1=15),ml>=this.ochiru_y&&(kl.c=0),kl.vy<4?kl.pt=155:kl.pt=156,kl.pth=kl.muki;break;case 700:this.yachamo_cf||(0<kl.c1?(kl.c1++,2==kl.c1?ll+8>=this.co_j.x?this.mSet(ll,ml,300):this.mSet(ll,ml,305):40<kl.c1&&(kl.c1=0)):this.co_j.x>=ll-256&&this.co_j.x<=ll+192&&96<=c.abs(this.co_j.x-ll)&&(kl.c1=1)),kl.pt=158,ll+8>=this.co_j.x?kl.pth=0:kl.pth=1;break;case 800:0<kl.c1?(kl.c1++,2==kl.c1?ll+8>=this.co_j.x?this.mSet(ll,ml,400):this.mSet(ll,ml,405):20<kl.c1&&(kl.c=810,kl.c1=0)):kl.c1<0?kl.c1++:this.co_j.x>=ll-240&&this.co_j.x<=ll+240&&(kl.c1=1),kl.pt=160,ll+8>=this.co_j.x?kl.pth=0:kl.pth=1;break;case 810:kl.c1<=0?((ll+=3)>=kl.c3+96&&(ll=kl.c3+96,kl.c1=10),this.maps.getBGCode(ll+31,ml+32)<=9&&(ll=32*(ll+31>>5)-32,kl.c1=10),kl.pt=161+this.g_ac,kl.pth=1):kl.c1<=35?(kl.c1++,15==kl.c1&&(ll+8>=this.co_j.x?this.mSet(ll,ml,400):this.mSet(ll,ml,405)),kl.pt=160,ll+8>=this.co_j.x?kl.pth=0:kl.pth=1):((ll-=3)<=kl.c3&&(ll=kl.c3,kl.c=800,kl.c1=-20),this.maps.getBGCode(ll,ml+32)<=9&&(ll=32*(ll>>5)+32,kl.c=800,kl.c1=-20),kl.pt=161+this.g_ac,kl.pth=0);break;case 900:(ll-=4)<48?ll<=4&&(kl.c=0):(kl.c1++,1==kl.c1?this.mSet(ll,ml+19,600):26<kl.c1&&(kl.c1=0),20<=this.maps.getBGCode(ll,ml+31)&&(ll=32*(ll>>5)+32,kl.c=910)),kl.pt=164,kl.pth=0;break;case 910:kl.pt=164,kl.pth=0;break;case 950:(ll-=4)<48?ll<=4&&(kl.c=0):(kl.c1++,1==kl.c1?this.mSet(ll,ml+19,600):26<kl.c1&&(kl.c1=0),20<=this.maps.getBGCode(ll-16,ml+31)&&(ll=32*(ll-16>>5)+32+16,kl.c=960,kl.c1=16)),kl.pt=164,kl.pth=0;break;case 960:ll+=4,kl.c1++,1==kl.c1?this.mSet(ll,ml+19,605):26<kl.c1&&(kl.c1=0),20<=this.maps.getBGCode(ll+31+16,ml+31)&&(ll=32*(ll+31+16>>5)-32-16,kl.c=950,kl.c1=16),kl.pt=164,kl.pth=1;break;case 1e3:(ll-=3)<=kl.c3-256+16&&(kl.c=1005),(20<=this.maps.getBGCode(ll-16,ml)||20<=this.maps.getBGCode(ll-16,ml+31))&&(ll=32*(ll-16>>5)+32+16,kl.c=1005),kl.pt=166,kl.pth=0;break;case 1005:(ll+=3)>=kl.c3+16&&(kl.c=1e3),(20<=this.maps.getBGCode(ll+31+16,ml)||20<=this.maps.getBGCode(ll+31+16,ml+31))&&(ll=32*(ll+31+16>>5)-32-16,kl.c=1e3),kl.pt=166,kl.pth=1;break;case 1100:0<kl.c1?(kl.c1++,77<kl.c1&&(kl.c1=0)):c.abs(this.co_j.x-ll)<=144&&c.abs(this.co_j.y-ml)<=144&&(kl.c1=1,this.mSet2(ll,ml,700,-3,-3),this.mSet2(ll,ml,700,3,-3),this.mSet2(ll,ml,700,-3,3),this.mSet2(ll,ml,700,3,3),this.mSet2(ll,ml,700,-4,0),this.mSet2(ll,ml,700,4,0),this.mSet2(ll,ml,700,0,-4),this.mSet2(ll,ml,700,0,4)),kl.pt=167,ll+8>=this.co_j.x?kl.pth=0:kl.pth=1}if(kl.c<100)kl.x=ll,kl.y=ml;else{var om=c.abs(ll-this.co_j.x);48<=om||100<=this.co_j.c&&this.co_j.c<200&&om<30&&c.abs(ml-this.co_j.y)<23&&(0<this.j_v_c?(1==this.co_j.muki?(kl.pth=0,kl.vx=3):(kl.pth=1,kl.vx=-3),kl.c=52,kl.vy=-30):400<=kl.c&&kl.c<500||1e3<=kl.c&&kl.c<1200?this.jShinu(2):om<27&&0<this.co_j.vy&&!this.j_mizu_f||il?(kl.c<200?kl.pt=142:kl.c<300?kl.pt=146:kl.c<400?kl.pt=151:kl.c<600?kl.pt=149:kl.c<700?kl.pt=157:kl.c<800?kl.pt=159:kl.c<900?kl.pt=163:kl.c<1e3&&(kl.pt=165),kl.c=50,kl.c1=0,this.co_j.y=ml-12,this.co_j.vy=-160,this.j_jump_type=1,this.co_j.c=110,this.co_j.c1=0,this.co_j.pt=109,149!=kl.pt&&165!=kl.pt||(this.co_j.vy=-220,kl.c1=-2),il=!0):this.jShinu(2)),kl.x=ll,kl.y=ml}}},G.prototype.sakamichiY=function(pm,qm){var rm=pm+15>>5,sm=qm+31>>5,um=qm;switch(this.maps.map_bg[rm][sm]){default:break;case 10:var vm=32*sm-(pm+15)%32;vm<qm&&(um=vm);break;case 11:var wm=32*sm+(pm+15)%32-31;wm<qm&&(um=wm);break;case 12:var xm=32*sm-((pm+15)%32>>1);xm<qm&&(um=xm);break;case 13:var ym=32*sm-((pm+15)%32>>1)-16;ym<qm&&(um=ym);break;case 14:var zm=32*sm+((pm+15)%32>>1)-31;zm<qm&&(um=zm);break;case 15:var Am=32*sm+((pm+15)%32>>1)-15;Am<qm&&(um=Am)}return um},G.prototype.mSet=function(Bm,Cm,Dm){for(var Em=0;Em<=23;Em++)if(!(0<this.co_m[Em].c)){var Fm=this.co_m[Em];switch(Fm.c=Dm,Fm.x=Bm,Fm.y=Cm,Fm.c1=0,this.m_kazu++,Dm){case 90:Fm.c2=4,Fm.vx=0,Fm.vy=0;break;case 100:var Gm=this.co_j.x-Bm,Hm=this.co_j.y-Cm,Im=c.floor(c.sqrt(Gm*Gm+Hm*Hm));Im<48?(this.m_kazu--,Fm.c=0):(Fm.vx=t(14*Gm/Im),Fm.vy=t(14*Hm/Im),Fm.x+=t(16*Fm.vx/14),Fm.y+=t(16*Fm.vy/14)),!this.dengeki_mkf&&0<Fm.c&&4==this.maps.getBGCode(Fm.x+15,Fm.y+15)&&(this.m_kazu--,Fm.c=0);break;case 200:Fm.vx=-4-this.ranInt(6),Fm.vy=-22,Fm.x+=Fm.vx,Fm.y+=Fm.vy;break;case 205:Fm.c=200,Fm.vx=4+this.ranInt(6),Fm.vy=-22,Fm.x+=Fm.vx,Fm.y+=Fm.vy;break;case 300:Fm.vx=-12,Fm.x+=Fm.vx;break;case 305:Fm.c=300,Fm.vx=12,Fm.x+=Fm.vx;break;case 400:Fm.vx=-80,Fm.vy=-225;break;case 405:Fm.c=400,Fm.vx=80,Fm.vy=-225;break;case 500:Fm.vx=-4,Fm.vy=-22;break;case 600:Fm.vx=-40,Fm.vy=0;break;case 605:Fm.c=600,Fm.vx=40,Fm.vy=0;break;case 2e3:Fm.c3=Cm,Fm.vy=-210;break;case 2010:Fm.c=2e3,Fm.c3=Cm-64,Fm.vy=-280;break;case 2020:Fm.c=2e3,Fm.c3=Cm-32,Fm.vy=-250;break;case 2100:Fm.c2=0;break;case 2110:Fm.c=2100,Fm.c2=1;break;case 2120:Fm.c=2100,Fm.c2=2;break;case 2130:Fm.c=2100,Fm.c2=3;break;case 2140:Fm.c=2100,Fm.c2=4;break;case 2150:Fm.c=2100,Fm.c2=5;break;case 2160:Fm.c=2100,Fm.c2=6;break;case 2170:Fm.c=2100,Fm.c2=7;break;case 2180:Fm.c=2100,Fm.c2=8}break}},G.prototype.mSet2=function(Jm,Km,Lm,Mm,Nm){for(var Om=0;Om<=23;Om++)if(!(0<this.co_m[Om].c)){var Pm=this.co_m[Om];switch(Pm.c=Lm,Pm.x=Jm,Pm.y=Km,Pm.vx=Mm,Pm.vy=Nm,Pm.c1=0,this.m_kazu++,Lm){case 500:Pm.x+=Pm.vx;break;case 700:Pm.c2=0;break;case 710:Pm.c=700,Pm.c2=1}break}},G.prototype.mMove=function(){for(var Qm=0;Qm<=23;Qm++)if(0!=this.co_m[Qm].c){var Rm=this.co_m[Qm];switch(Rm.c){case 50:Rm.c1++,Rm.c1<=5?Rm.pt=80:Rm.c1<=10?Rm.pt=81:Rm.c1<=16?Rm.pt=82:Rm.c=0,Rm.pth=0;break;case 60:Rm.y-=5;var Sm=Rm.y>>5,Tm=this.maps.map_bg[Rm.x+11>>5][Sm];(Tm<=3||20<=Tm)&&(Rm.c=0),((Tm=this.maps.map_bg[Rm.x+20>>5][Sm])<=3||20<=Tm)&&(Rm.c=0),8!=(Tm=this.maps.map_bg[Rm.x+15>>5][Sm])&&9!=Tm||4==this.maps.map_bg[(Rm.x+15>>5)-1][Sm]||(Rm.c=0),(Rm.x<=this.maps.wx-32||Rm.x>=this.maps.wx+512)&&(Rm.c=0),(Rm.y<=this.maps.wy-32||Rm.y>=this.maps.wy+320)&&(Rm.c=0),Rm.pt=85,Rm.pth=0;break;case 70:switch(Rm.c1++,Rm.c1){case 1:Rm.c2=20;break;case 2:Rm.c2=34;break;case 3:Rm.c2=46;break;case 4:Rm.c2=56;break;case 5:Rm.c2=64;break;case 6:Rm.c2=70;break;case 7:Rm.c2=74;break;case 8:Rm.c2=77;break;case 9:Rm.c2=79;break;case 10:Rm.c2=80}if(10<Rm.c1&&(Rm.c2=10,Rm.c=0),100<=this.co_j.c&&this.co_j.c<200){var Um=this.co_j.x-Rm.x,Vm=this.co_j.y-Rm.y;c.floor(c.sqrt(Um*Um+Vm*Vm))<=Rm.c2+4&&this.j_v_c<=0&&this.jShinu(1)}Rm.pt=1100,Rm.pth=0;break;case 80:5<=Rm.vy&&(2<Rm.vx?Rm.vx--:Rm.vx<-2&&Rm.vx++),Rm.x+=Rm.vx,Rm.vy+=4,30<Rm.vy&&(Rm.vy=30),Rm.y+=Rm.vy,Rm.y>=this.maps.wy+320&&(Rm.c=0),Rm.pt=136,Rm.vx<0?Rm.pth=0:Rm.pth=1;break;case 90:if(Rm.c2<48){if(Rm.c2+=4,48<=Rm.c2){Rm.c2=48;var Xm=this.co_j.x-Rm.x,Ym=this.co_j.y-Rm.y,Zm=c.floor(c.sqrt(Xm*Xm+Ym*Ym));Zm<32||this.co_j.c<100||200<=this.co_j.c?(Rm.x<this.maps.wx+256?Rm.vx=14:Rm.vx=-14,Rm.vy=0):(Rm.vx=t(14*Xm/Zm),Rm.vy=t(14*Ym/Zm))}}else Rm.x+=Rm.vx,Rm.y+=Rm.vy,Rm.x<=this.maps.wx-32-32||Rm.x>=this.maps.wx+512+128+32?Rm.c=0:(Rm.y<=this.maps.wy-32-200-32||Rm.y>=this.maps.wy+320+32)&&(Rm.c=0);if(100<=this.co_j.c&&this.co_j.c<200){var $m=this.co_j.x-Rm.x,_m=this.co_j.y-Rm.y;c.floor(c.sqrt($m*$m+_m*_m))+4<=Rm.c2&&(0<this.j_v_c?Rm.c=0:this.jShinu(1))}Rm.pt=1e3;break;case 100:Rm.x+=Rm.vx,Rm.y+=Rm.vy;var bn=Rm.x+15>>5;(20<=this.maps.map_bg[bn][Rm.y+12>>5]||20<=this.maps.map_bg[bn][Rm.y+18>>5])&&(Rm.c=0),this.dengeki_mkf||4!=this.maps.getBGCode(Rm.x+15,Rm.y+15)||(Rm.c=0),Rm.x<=this.maps.wx-32||Rm.x>=this.maps.wx+512+128?Rm.c=0:(Rm.y<=this.maps.wy-32-200||Rm.y>=this.maps.wy+320)&&(Rm.c=0),0==this.g_c1?Rm.pt=120:Rm.pt=121,Rm.pth=0;break;case 200:Rm.x+=Rm.vx,Rm.vy+=2,12<Rm.vy&&(Rm.vy=12);var cn=Rm.vy;switch(cn<-18&&(cn=-18),Rm.y+=cn,Rm.y>=this.maps.wy+320&&(Rm.c=0),this.g_c2){case 0:Rm.pt=122;break;case 1:Rm.pt=123;break;case 2:Rm.pt=124;break;case 3:Rm.pt=125}Rm.pth=0;break;case 300:Rm.x+=Rm.vx;var dn=Rm.y+15>>5;(20<=this.maps.map_bg[Rm.x+8>>5][dn]||20<=this.maps.map_bg[Rm.x+23>>5][dn])&&(Rm.c=0),(Rm.x<=this.maps.wx-32||Rm.x>=this.maps.wx+512+128)&&(Rm.c=0),0==this.g_c1?Rm.pt=126:Rm.pt=127,Rm.vx<=0?Rm.pth=0:Rm.pth=1;break;case 400:Rm.x+=t(Rm.vx/10),Rm.vy+=25,180<Rm.vy&&(Rm.vy=180),Rm.y+=t(Rm.vy/10),Rm.y>=this.maps.wy+320&&(Rm.c=0);var en=Rm.x+15>>5;20<=this.maps.map_bg[en][Rm.y+15>>5]&&(Rm.c=0),0==this.g_c1?Rm.pt=128:Rm.pt=129,Rm.vx<=0?Rm.pth=0:Rm.pth=1;break;case 500:5<=Rm.vy&&(2<Rm.vx?Rm.vx--:Rm.vx<-2&&Rm.vx++),Rm.x+=Rm.vx,Rm.vy+=2,12<Rm.vy&&(Rm.vy=12);var fn=Rm.vy;fn<-16&&(fn=-16),Rm.y+=fn,Rm.y>=this.maps.wy+320&&(Rm.c=0),Rm.pt=139,Rm.pth=0;break;case 600:0<Rm.vx?Rm.vx-=2:Rm.vx<0&&(Rm.vx+=2),Rm.x+=t(Rm.vx/10),Rm.vy+=8,200<Rm.vy&&(Rm.vy=200),Rm.y+=t(Rm.vy/10),20<=this.maps.map_bg[Rm.x+15>>5][Rm.y+15>>5]&&(Rm.c=610,Rm.c1=0,Rm.y=32*(Rm.y+15>>5)-16),Rm.x<=this.maps.wx-32-64||Rm.x>=this.maps.wx+512+64?Rm.c=0:(Rm.y<=this.maps.wy-32-200||Rm.y>=this.maps.wy+320)&&(Rm.c=0),28<Rm.vx?(Rm.pt=171,Rm.pth=1):(Rm.vx<-28?Rm.pt=171:Rm.pt=170,Rm.pth=0);break;case 610:Rm.c1++,Rm.c1<=3?Rm.pt=172:Rm.c1<=6?Rm.pt=173:Rm.c1<=9?Rm.pt=174:(Rm.c=0,Rm.pt=198),Rm.pth=0;break;case 700:Rm.x+=Rm.vx,Rm.y+=Rm.vy,Rm.x<=this.maps.wx-32||Rm.x>=this.maps.wx+512+32?Rm.c=0:(Rm.y<=this.maps.wy-64||Rm.y>=this.maps.wy+320+64)&&(Rm.c=0);var gn=this.maps.getBGCode(Rm.x+15,Rm.y+15);0==Rm.c2&&20<=gn&&(Rm.c=0),0==Rm.c2&&gn<=3&&(Rm.c=0),Rm.pt=168+this.g_c1,Rm.pth=0;break;case 800:5<=Rm.vy&&(2<Rm.vx?Rm.vx--:Rm.vx<-2&&Rm.vx++),Rm.x+=Rm.vx,Rm.vy+=4,28<Rm.vy&&(Rm.vy=28),Rm.y+=Rm.vy,Rm.y>=this.maps.wy+320&&(Rm.c=0),20<=this.maps.getBGCode(Rm.x+15,Rm.y+31)&&(Rm.c=70,Rm.y=32*(Rm.y+31>>5)-16,Rm.c1=1,Rm.c2=20),Rm.pt=137+this.g_c1,Rm.vx<0?Rm.pth=0:Rm.pth=1;break;case 2e3:Rm.vy+=30,180<Rm.vy&&(Rm.vy=180),Rm.y+=t(Rm.vy/10),0<=Rm.vy&&Rm.y>=Rm.c3&&(Rm.y=Rm.c3,Rm.vy=0),(Rm.x<=this.maps.wx-32||Rm.x>=this.maps.wx+512)&&(Rm.c=0),Rm.pt=90+this.g_ac2,Rm.pth=0;break;case 2100:(Rm.x<=this.maps.wx-32||Rm.x>=this.maps.wx+512)&&(Rm.c=0),Rm.pt=42+Rm.c2,8==Rm.c2&&(Rm.pt=59),Rm.pth=0;break;case 2200:Rm.x<this.maps.wx?Rm.x=this.maps.wx:Rm.x>this.maps.wx+512-32&&(Rm.x=this.maps.wx+512-32),Rm.y<this.maps.wy+64?Rm.y=this.maps.wy+64:Rm.y>this.maps.wy+224&&(Rm.y=this.maps.wy+224),2<=this.stage_max&&this.stage>=this.stage_max?0==this.g_ac2?Rm.pt=99:Rm.pt=98:0==this.g_ac2?Rm.pt=95:Rm.pt=94,Rm.pth=0}0==Rm.c?this.m_kazu--:100<=this.co_j.c&&this.co_j.c<200&&(2e3<=Rm.c?c.abs(Rm.x-this.co_j.x)<=14&&Rm.y<=this.co_j.y+26&&Rm.y+15>=this.co_j.y&&(this.addScore(5),2100==Rm.c?0==Rm.c2?this.j_fire_f=!0:1==Rm.c2?(this.j_v_c=150,this.j_v_kakudo=0):2==Rm.c2?0<this.time_max&&(this.time+=3e4):3==Rm.c2?this.j_jet_fuel+=80:4==Rm.c2?this.j_helm_f=!0:5==Rm.c2?this.j_tail_f=!0:6==Rm.c2?this.j_drell_f=!0:7==Rm.c2?this.j_gr_kazu++:8==Rm.c2&&this.j_left++:2200==Rm.c&&(this.stage_cc=1,2<=this.stage_max&&this.stage>=this.stage_max?this.addScore(995):this.addScore(95)),Rm.c=0,this.m_kazu--):100<=Rm.c&&c.abs(Rm.x-this.co_j.x)<=23&&c.abs(Rm.y-this.co_j.y)<=28&&(0<this.j_v_c?(Rm.c=0,this.m_kazu--):(this.jShinu(1),800==Rm.c&&(Rm.c=70,Rm.c1=1,Rm.c2=20))))}},G.prototype.jmSet=function(hn,jn,kn){for(var ln=0;ln<=1;ln++)if(!(0<this.co_jm[ln].c)){var mn=this.co_jm[ln];switch(mn.c=kn,mn.x=hn,mn.y=jn+8,mn.c1=0,this.jm_kazu++,kn){case 60:case 65:mn.x=hn+16,mn.y=jn,mn.vx=hn+16,mn.c4=8,this.j_gr_kazu--;break;case 100:mn.vx=t(this.co_j.vx/10)-10,mn.vy=-28,c.abs(mn.vx)<2&&(mn.vx=-2);break;case 105:mn.vx=t(this.co_j.vx/10)+10,mn.vy=-28,c.abs(mn.vx)<2&&(mn.vx=2);break;case 200:mn.vx=t(this.co_j.vx/10)-10,mn.vy=-32,c.abs(mn.vx)<2&&(mn.vx=-2),5!=this.grenade_type&&6!=this.grenade_type||(mn.y=jn,mn.vx=-20,mn.vy=0),this.j_gr_kazu--;break;case 205:mn.c=200,mn.vx=t(this.co_j.vx/10)+10,mn.vy=-35,c.abs(mn.vx)<2&&(mn.vx=2),5!=this.grenade_type&&6!=this.grenade_type||(mn.y=jn,mn.vx=20,mn.vy=0),this.j_gr_kazu--}break}},G.prototype.jmMove=function(){for(var nn=0;nn<=1;nn++)if(0!=this.co_jm[nn].c){var on=this.co_jm[nn];switch(on.c){case 50:switch(on.c1++,on.c1){case 1:on.c2=20;break;case 2:on.c2=34;break;case 3:on.c2=46;break;case 4:on.c2=56;break;case 5:on.c2=64;break;case 6:on.c2=70;break;case 7:on.c2=74;break;case 8:on.c2=77;break;case 9:on.c2=79;break;case 10:on.c2=80}10<on.c1&&(on.c2=10,on.c=0);for(var pn=0;pn<=this.t_kazu;pn++)if(100<=this.co_t[pn].c){var qn=this.co_t[pn],rn=qn.x-on.x,sn=qn.y-on.y;c.floor(c.sqrt(rn*rn+sn*sn))<=on.c2+8&&(on.x>qn.x?(qn.pth=1,qn.vx=-3):(qn.pth=0,qn.vx=3),qn.c=52,qn.vy=-25)}if((1==this.grenade_type||5==this.grenade_type)&&100<=this.co_b.c){var un=this.co_b.x-on.x,vn=this.co_b.y-on.y;c.floor(c.sqrt(un*un+vn*vn))<=on.c2+20&&(this.co_b.c<200?(this.co_b.c=67,this.co_b.vy=-24,this.co_b.c1=0,on.x>this.co_b.x?(this.co_b.muki=1,this.co_b.pt=1005,this.co_b.vx=-4):(this.co_b.muki=0,this.co_b.pt=1e3,this.co_b.vx=4)):this.co_b.c<300?(this.co_b.c=77,this.co_b.vy=-24,this.co_b.c1=0,on.x>this.co_b.x?(this.co_b.muki=1,this.co_b.pt=1105,this.co_b.vx=-4):(this.co_b.muki=0,this.co_b.pt=1100,this.co_b.vx=4)):(this.co_b.c=87,this.co_b.vy=-24,this.co_b.c1=0,on.x>this.co_b.x?(this.co_b.muki=1,this.co_b.pt=1205,this.co_b.vx=-4):(this.co_b.muki=0,this.co_b.pt=1200,this.co_b.vx=4)))}on.pt=1e3,on.pth=0;break;case 60:on.y=this.co_j.y,on.x-=28,on.x<=this.maps.wx-32&&(on.x=this.maps.wx-32),0<on.c4?(on.c4--,on.vx=this.co_j.x+16):(on.vx-=28,on.vx<=on.x&&(on.c=0));for(var xn=0;xn<=this.t_kazu;xn++)if(100<=this.co_t[xn].c){var yn=this.co_t[xn];yn.x>on.x-12&&yn.x<on.vx+12&&c.abs(yn.y-on.y)<24&&(yn.pth=0,yn.vx=-3,yn.c=52,yn.vy=-25)}3==this.grenade_type&&100<=this.co_b.c&&this.co_b.x>on.x-24&&this.co_b.x<on.vx+24&&c.abs(this.co_b.y-on.y)<36&&(this.co_b.c<200?(this.co_b.c=67,this.co_b.vy=-24,this.co_b.c1=0,this.co_b.muki=1,this.co_b.pt=1005):this.co_b.c<300?(this.co_b.c=77,this.co_b.vy=-24,this.co_b.c1=0,this.co_b.muki=1,this.co_b.pt=1105):(this.co_b.c=87,this.co_b.vy=-24,this.co_b.c1=0,this.co_b.muki=1,this.co_b.pt=1205),this.co_b.vx=-4),(this.co_j.c<100||200<=this.co_j.c)&&(on.c=0),on.pt=1200;break;case 65:on.y=this.co_j.y,on.x+=28,on.x>=this.maps.wx+512+32&&(on.x=this.maps.wx+512+32),0<on.c4?(on.c4--,on.vx=this.co_j.x+16):(on.vx+=28,on.vx>=on.x&&(on.c=0));for(var zn=0;zn<=this.t_kazu;zn++)if(100<=this.co_t[zn].c){var An=this.co_t[zn];An.x>on.vx-12&&An.x<on.x+12&&c.abs(An.y-on.y)<24&&(An.pth=0,An.vx=3,An.c=52,An.vy=-25)}3==this.grenade_type&&100<=this.co_b.c&&this.co_b.x>on.vx-24&&this.co_b.x<on.x+24&&c.abs(this.co_b.y-on.y)<36&&(this.co_b.c<200?(this.co_b.c=67,this.co_b.vy=-24,this.co_b.c1=0,this.co_b.muki=0,this.co_b.pt=1e3):this.co_b.c<300?(this.co_b.c=77,this.co_b.vy=-24,this.co_b.c1=0,this.co_b.muki=0,this.co_b.pt=1100):(this.co_b.c=87,this.co_b.vy=-24,this.co_b.c1=0,this.co_b.muki=0,this.co_b.pt=1200),this.co_b.vx=4),(this.co_j.c<100||200<=this.co_j.c)&&(on.c=0),on.pt=1205;break;case 100:on.x+=on.vx,20<=this.maps.getBGCode(on.x+7,on.y+15)&&(on.c=0),on.vy+=5,30<on.vy&&(on.vy=30),on.y+=on.vy,on.vy<0&&20<=this.maps.getBGCode(on.x+15,on.y+8)&&(on.c=0),20<=this.maps.getBGCode(on.x+15,on.y+23)&&(on.y=32*(on.y+23>>5)-24,on.vy=-28),this.j_fire_mkf||4!=this.maps.getBGCode(on.x+15,on.y+15)||(on.c=0),(on.x<=this.maps.wx-24||on.x>=this.maps.wx+512-8||on.y<=this.maps.wy-128||on.y>=this.maps.wy+384)&&(on.c=0),on.pt=130+this.g_c2,on.pth=0;break;case 105:on.x+=on.vx,20<=this.maps.getBGCode(on.x+23,on.y+15)&&(on.c=0),on.vy+=5,30<on.vy&&(on.vy=30),on.y+=on.vy,on.vy<0&&20<=this.maps.getBGCode(on.x+15,on.y+8)&&(on.c=0),20<=this.maps.getBGCode(on.x+15,on.y+23)&&(on.y=32*(on.y+23>>5)-24,on.vy=-28),this.j_fire_mkf||4!=this.maps.getBGCode(on.x+15,on.y+15)||(on.c=0),(on.x<=this.maps.wx-24||on.x>=this.maps.wx+512-8||on.y<=this.maps.wy-128||on.y>=this.maps.wy+384)&&(on.c=0),on.pt=130+this.g_c2,on.pth=1;break;case 200:on.x+=on.vx,5!=this.grenade_type&&6!=this.grenade_type&&(on.vy+=5,30<on.vy&&(on.vy=30),on.y+=on.vy,0<on.vy&&20<=this.maps.getBGCode(on.x+15,on.y+31)&&(on.c=50,on.y=32*(on.y+31>>5)-16,on.c1=1,on.c2=20)),20<=this.maps.getBGCode(on.x+15,on.y+15)&&(on.c=50,on.c1=1,on.c2=20),(on.x<=this.maps.wx-64||on.x>=this.maps.wx+512+64||on.y<=this.maps.wy-128||on.y>=this.maps.wy+384)&&(on.c=0),on.pt=137+this.g_c1,on.vx<0?on.pth=0:on.pth=1}if(0==on.c)this.jm_kazu--;else if(100<=on.c)for(var Bn=0;Bn<=this.t_kazu;Bn++)if(!(this.co_t[Bn].c<100)){var Cn=this.co_t[Bn];if(!(22<=c.abs(on.x-Cn.x)||22<=c.abs(on.y-Cn.y))){on.vx<0?(Cn.pth=1,Cn.vx=-3):(Cn.pth=0,Cn.vx=3),Cn.c=52,Cn.vy=-25,200==on.c?(on.c=50,on.c1=1,on.c2=20):(on.c=0,this.jm_kazu--);break}}}},G.prototype.aSet=function(Dn,En,Fn,Gn){for(var Hn=0;Hn<=31;Hn++)if(!(0<this.co_a[Hn].c)){var In=this.co_a[Hn];switch(In.c=Fn,In.c1=Gn-512-32,In.c2=Gn+128,In.x=Dn,In.y=En,this.a_kazu++,Fn){case 60:In.pt=200;break;case 70:In.vx=-3,In.c3=0,In.c1=Dn-512-150,In.c2=Dn+150;break;case 71:In.c=70,In.vx=3,In.c3=0,In.c1=Dn-512-150,In.c2=Dn+150;break;case 80:In.pt=800,In.c3=1;break;case 81:In.c=80,In.pt=800,In.c3=2;break;case 82:In.c=80,In.pt=800,In.c3=3;break;case 83:In.c=80,In.pt=800,In.c3=4;break;case 100:In.vy=5,In.x=Dn+8,In.y=En-212,In.c3=En-212,In.c4=En+2,In.pt=100;break;case 110:In.vx=-3,In.x=Dn+208,In.c3=Dn,In.c4=Dn+208,In.pt=100,In.c2=Gn+208+128+32;break;case 115:In.c=110,In.vx=-3,In.x=Dn+208,In.c3=Dn,In.c4=Dn+208,In.pt=100,In.c2=Gn+208+128+342+32;break;case 116:In.c=110,In.vx=3,In.x=Dn+320,In.c3=Dn+320,In.c4=Dn+208+320,In.pt=100,In.c2=Gn+208+128+320+32;break;case 120:In.vx=Dn+160,In.vy=En,In.x=Dn+8,In.y=En,In.c3=0,In.muki=1,In.c1=In.vx-512-32-130,In.c2=In.vx+128+130,In.pt=100;break;case 121:In.c=120,In.vx=Dn+160,In.vy=En,In.x=Dn+8,In.y=En,In.c3=0,In.muki=0,In.c1=In.vx-512-32-130,In.c2=In.vx+128+130,In.pt=100;break;case 300:In.pt=300,In.c3=0,In.c4=0;break;case 310:In.c=300,In.pt=310,In.c3=1,In.c4=0;break;case 320:In.c=300,In.pt=320,In.c3=2,In.c4=0;break;case 330:In.c=300,In.pt=330,In.c3=3,In.c4=0;break;case 400:In.pt=400,In.c3=0,In.vy=En;break;case 500:In.vy=0,In.x=Dn,In.y=En,In.c3=0,In.c4=0,In.pt=500;break;case 510:In.c=500,In.vy=0,In.x=Dn,In.y=En,In.c3=0,In.c4=1,In.pt=500;break;case 600:In.pt=600,In.c3=0,In.c4=0,In.vx=0,In.vy=En;break;case 700:In.pt=700,In.c3=0}break}},G.prototype.aMove=function(){this.j_a_id=-1,this.j_jdai_f=!1,this.a_hf=!1;for(var Ln=0;Ln<=this.a_kazu;Ln++){var Mn=this.co_a[Ln];if(0!=Mn.c)if(this.maps.wx<=Mn.c1||this.maps.wx>=Mn.c2)Mn.gf=!1;else{var Nn=Mn.x,On=Mn.y;switch(Mn.c){case 60:Nn>this.maps.wx-80&&Nn<this.maps.wx+512&&On>this.maps.wy-96&&On<this.maps.wy+320?(Mn.gf=!0,this.a_hf=!0,this.g_c3<=3?Mn.pt=200:Mn.pt=210):Mn.gf=!1;break;case 70:if(Mn.c3+=Mn.vx,Mn.c3<0?Mn.c3+=360:360<=Mn.c3&&(Mn.c3-=360),Nn>this.maps.wx-150&&Nn<this.maps.wx+512+150&&On>this.maps.wy-150&&On<this.maps.wy+320+150){Mn.gf=!0,this.a_hf=!0,Mn.pt=1100;var Pn=.017453292519943295,Qn=Nn+c.floor(25*c.cos(Mn.c3*Pn)),Rn=On+c.floor(25*c.sin(Mn.c3*Pn));this.vo_x[Ln][0]=Qn,this.vo_y[Ln][0]=Rn;var Sn=Nn+c.floor(140*c.cos(Mn.c3*Pn)),Tn=On+c.floor(140*c.sin(Mn.c3*Pn));if(this.vo_x[Ln][1]=Sn,this.vo_y[Ln][1]=Tn,this.vo_x[Ln][2]=Nn+c.floor(31*c.cos(Mn.c3*Pn)),this.vo_y[Ln][2]=On+c.floor(31*c.sin(Mn.c3*Pn)),this.vo_x[Ln][3]=Nn+c.floor(134*c.cos(Mn.c3*Pn)),this.vo_y[Ln][3]=On+c.floor(134*c.sin(Mn.c3*Pn)),100<=this.co_j.c&&this.co_j.c<200&&this.j_v_c<=0)if(c.abs(Qn-Sn)>=c.abs(Rn-Tn)){if(this.co_j.x+15>Qn&&this.co_j.x+15<Sn){var Un=Sn-Qn,Xn=t((this.co_j.x+15-Qn)*(Tn-Rn)/Un)+Rn;Xn>this.co_j.y-12&&Xn<this.co_j.y+44&&this.jShinu(1)}else if(this.co_j.x+15>Sn&&this.co_j.x+15<Qn){var Yn=Qn-Sn,_n=t((this.co_j.x+15-Sn)*(Rn-Tn)/Yn)+Tn;_n>this.co_j.y-12&&_n<this.co_j.y+44&&this.jShinu(1)}}else if(this.co_j.y+15>Rn&&this.co_j.y+15<Tn){var ao=Tn-Rn,eo=t((this.co_j.y+15-Rn)*(Sn-Qn)/ao)+Qn;eo>this.co_j.x-12&&eo<this.co_j.x+44&&this.jShinu(1)}else if(this.co_j.y+15>Tn&&this.co_j.y+15<Rn){var fo=Rn-Tn,io=t((this.co_j.y+15-Tn)*(Qn-Sn)/fo)+Sn;io>this.co_j.x-12&&io<this.co_j.x+44&&this.jShinu(1)}}else Mn.gf=!1;break;case 80:Nn>this.maps.wx-32&&Nn<this.maps.wx+512&&On>this.maps.wy-32&&On<this.maps.wy+320?(Mn.gf=!0,this.a_hf=!0,this.co_j.x>=Nn-80&&this.co_j.x<=Nn+64&&c.abs(On-this.co_j.y)<32&&(this.hitokoto_c=10,this.hitokoto_num=Mn.c3)):Mn.gf=!1;break;case 100:Nn>this.maps.wx-80-32&&Nn<this.maps.wx+512+32&&On>this.maps.wy-16&&On<this.maps.wy+320+32?(Mn.gf=!0,this.a_hf=!0,100==this.co_j.c&&this.co_j.x+15>=Nn&&this.co_j.x<=Nn+64&&this.co_j.y==On-32&&(this.j_a_id=Ln)):Mn.gf=!1,On<=Mn.c3?(Mn.vy++,5<Mn.vy&&(Mn.vy=5)):On>=Mn.c4&&(Mn.vy--,Mn.vy<-5&&(Mn.vy=-5)),On+=Mn.vy,100==this.co_j.c&&(this.j_a_id==Ln&&(this.co_j.y=On-32),Mn.vy<0&&20<=this.maps.getBGCode(this.co_j.x+15,this.co_j.y)&&(this.co_j.y=32*(this.co_j.y>>5)+16,this.jShinu(3)),this.co_j.x+15>=Nn&&this.co_j.x<=Nn+64&&this.co_j.y+31>=On&&this.co_j.y<=On+13&&(0<Mn.vy?(this.co_j.y=On+14,18<=this.maps.getBGCode(this.co_j.x+15,this.co_j.y+31)&&(this.co_j.y=32*(this.co_j.y+31>>5)-32,this.jShinu(3))):(this.co_j.y=On-32,this.j_a_id=Ln)));break;case 110:if(Nn>this.maps.wx-80-32&&Nn<this.maps.wx+512+32&&On>this.maps.wy-16&&On<this.maps.wy+320+32?(Mn.gf=!0,this.a_hf=!0,100==this.co_j.c&&this.co_j.x+15>=Nn&&this.co_j.x<=Nn+64&&this.co_j.y==On-32&&(this.j_a_id=Ln)):Mn.gf=!1,Nn<=Mn.c3?(Mn.vx++,3<Mn.vx&&(Mn.vx=3)):Nn>=Mn.c4&&(Mn.vx--,Mn.vx<-3&&(Mn.vx=-3)),Nn+=Mn.vx,100==this.co_j.c){if(this.j_a_id==Ln)if(this.co_j.x+=Mn.vx,0<Mn.vx){var jo=this.co_j.x+15>>5,ko=this.co_j.y>>5,lo=this.co_j.y+31>>5;(20<=this.maps.map_bg[jo][ko]||20<=this.maps.map_bg[jo][lo])&&(this.co_j.x=32*jo-16)}else if(Mn.vx<0){var mo=this.co_j.x+15>>5,no=this.co_j.y>>5,oo=this.co_j.y+31>>5;(20<=this.maps.map_bg[mo][no]||20<=this.maps.map_bg[mo][oo])&&(this.co_j.x=32*mo+32-14)}if(this.co_j.x+15>=Nn&&this.co_j.x<=Nn+64&&this.co_j.y+31>=On&&this.co_j.y<=On+13)if(0<Mn.vx){this.co_j.x=Nn+65;var po=this.co_j.x+15>>5,qo=this.co_j.y>>5,ro=this.co_j.y+31>>5;(20<=this.maps.map_bg[po][qo]||20<=this.maps.map_bg[po][ro])&&(this.co_j.c=230,this.co_j.x=32*po-32+11,this.co_j.c1=0,this.j_zan_f=!1,this.j_jet_c=0,this.j_v_c=0)}else{this.co_j.x=Nn-16;var so=this.co_j.x+15>>5,to=this.co_j.y>>5;this.co_j.y;(20<=this.maps.map_bg[so][to]||20<=this.maps.map_bg[so][to])&&(this.co_j.c=230,this.co_j.x=32*so+32-11,this.co_j.c1=0,this.j_zan_f=!1,this.j_jet_c=0,this.j_v_c=0)}}break;case 120:Nn>this.maps.wx-80-32&&Nn<this.maps.wx+512+32&&On>this.maps.wy-16&&On<this.maps.wy+320+32?(Mn.gf=!0,this.a_hf=!0,100==this.co_j.c&&this.co_j.x+15>=Nn&&this.co_j.x<=Nn+64&&this.co_j.y==On-32&&(this.j_a_id=Ln)):Mn.gf=!1,1==Mn.muki?(Mn.c3+=2,360<=Mn.c3&&(Mn.c3-=360)):(Mn.c3-=2,Mn.c3<0&&(Mn.c3+=360));var vo=3.14*Mn.c3/180,yo=Mn.vx+c.floor(126*c.cos(vo))+16-40-Nn,zo=Mn.vy+c.floor(-126*c.sin(vo))+16-7-On;if(On+=zo,100==this.co_j.c&&(this.j_a_id==Ln&&(this.co_j.y+=zo),zo<0&&20<=this.maps.getBGCode(this.co_j.x+15,this.co_j.y)&&(this.co_j.y=32*(this.co_j.y>>5)+16,this.jShinu(3)),this.co_j.x+15>=Nn&&this.co_j.x<=Nn+64&&this.co_j.y+31>=On&&this.co_j.y<=On+13&&(0<zo?(this.co_j.y=On+14,18<=this.maps.getBGCode(this.co_j.x+15,this.co_j.y+31)&&(this.co_j.y=32*(this.co_j.y+31>>5)-32,this.jShinu(3))):(this.co_j.y=On-32,this.j_a_id=Ln))),Nn+=yo,100==this.co_j.c){if(this.j_a_id==Ln)if(this.co_j.x+=yo,0<yo){var Ao=this.co_j.x+15>>5,Bo=this.co_j.y>>5,Co=this.co_j.y+31>>5;(20<=this.maps.map_bg[Ao][Bo]||20<=this.maps.map_bg[Ao][Co])&&(this.co_j.x=32*Ao-16)}else if(yo<0){var Do=this.co_j.x+15>>5,Eo=this.co_j.y>>5,Fo=this.co_j.y+31>>5;(20<=this.maps.map_bg[Do][Eo]||20<=this.maps.map_bg[Do][Fo])&&(this.co_j.x=32*Do+32-14)}if(this.co_j.x+15>=Nn&&this.co_j.x<=Nn+64&&this.co_j.y+31>=On&&this.co_j.y<=On+13)if(0<yo){this.co_j.x=Nn+65;var Go=this.co_j.x+15>>5,Ho=this.co_j.y>>5,Io=this.co_j.y+31>>5;(20<=this.maps.map_bg[Go][Ho]||20<=this.maps.map_bg[Go][Io])&&(this.co_j.c=230,this.co_j.x=32*Go-32+11,this.co_j.c1=0,this.j_zan_f=!1,this.j_jet_c=0,this.j_v_c=0)}else{this.co_j.x=Nn-16;var Jo=this.co_j.x+15>>5,Ko=this.co_j.y>>5,Lo=this.co_j.y+31>>5;(20<=this.maps.map_bg[Jo][Ko]||20<=this.maps.map_bg[Jo][Lo])&&(this.co_j.c=230,this.co_j.x=32*Jo+32-11,this.co_j.c1=0,this.j_zan_f=!1,this.j_jet_c=0,this.j_v_c=0)}}break;case 300:Nn>this.maps.wx-96&&Nn<this.maps.wx+512&&On>this.maps.wy-64&&On<this.maps.wy+320?(Mn.gf=!0,this.a_hf=!0,100==this.co_j.c&&this.co_j.x+15>=Nn&&this.co_j.x<=Nn+48&&this.co_j.y==On-32&&(this.j_a_id=Ln,this.co_j.x+15>=Nn+24&&this.co_j.x<=Nn+48-24&&this.co_j.y==On-32&&1!=Mn.c4&&(0==this.sl_step||1==this.sl_step||10==this.sl_step||11==this.sl_step||2!=this.dokan_mode)&&(this.co_j.c1=-10,this.co_j.c2=Mn.c3,this.j_zan_f=!1,this.j_jet_c=0,this.j_v_c=0,this.co_j.c=300,this.co_j.x=Nn+16,this.co_j.y=On-32,this.co_j.vx=0,this.co_j.vy=0,Mn.c4=1)),100==this.co_j.c&&this.j_a_id!=Ln&&(Mn.c4=0)):Mn.gf=!1;break;case 400:Nn>this.maps.wx-96&&Nn<this.maps.wx+512&&On>this.maps.wy-64&&On<this.maps.wy+320?(Mn.gf=!0,this.a_hf=!0,100==this.co_j.c&&this.co_j.x+15>=Nn&&this.co_j.x<=Nn+80&&this.co_j.y==On-32&&(this.j_a_id=Ln)):Mn.gf=!1,0==Mn.c3?Nn-64<this.co_j.x+15&&Nn+96+64>this.co_j.x+15&&(Mn.c3=1):Mn.c3<100?(Mn.c3++,8<Mn.c3&&(Mn.c3=100)):100==Mn.c3?(On+=12)>=Mn.vy+128&&(On=Mn.vy+128,Mn.c3=200):200==Mn.c3&&(On-=3)<=Mn.vy&&(On=Mn.vy,Mn.c3=0,Nn<=this.co_j.x+15&&Nn+96>this.co_j.x+15&&(Mn.c3=100)),100==this.co_j.c&&(this.j_a_id==Ln&&(this.co_j.y=On-32,200==Mn.c3&&20<=this.maps.getBGCode(this.co_j.x+15,this.co_j.y)&&(this.co_j.y=32*(this.co_j.y>>5)+16,this.jShinu(3))),this.co_j.x+15>=Nn&&this.co_j.x<=Nn+80&&this.co_j.y+31>=On&&this.co_j.y<=On+63&&(100==Mn.c3?(this.co_j.y=On+64,18<=this.maps.getBGCode(this.co_j.x+15,this.co_j.y+31)&&(this.co_j.y=32*(this.co_j.y+31>>5)-32,this.jShinu(3))):200==Mn.c3&&(this.co_j.y=On-32,this.j_a_id=Ln,20<=this.maps.getBGCode(this.co_j.x+15,this.co_j.y)&&(this.co_j.y=32*(this.co_j.y>>5)+16,this.jShinu(3)))));break;case 500:Nn>this.maps.wx-96-32&&Nn<this.maps.wx+512+32&&On>this.maps.wy-32&&On<=this.maps.wy+368?(Mn.gf=!0,this.a_hf=!0,100==this.co_j.c&&this.co_j.x+15>=Nn&&this.co_j.x<=Nn+80&&this.co_j.y==On-32?(this.j_a_id=Ln,1==Mn.c4?Mn.c3<50&&(Mn.c3<=0?Mn.c3=1:Mn.c3<=30?Mn.c3++:(Mn.c3=55,Mn.vy=0)):Mn.c3<=0&&(Mn.c3=51,Mn.vy=0)):1==Mn.c4&&Mn.c3<50&&(Mn.c3=0)):Mn.gf=!1,0<Mn.c3&&(51<=Mn.c3&&Mn.c3<=54?Mn.c3++:55<=Mn.c3&&Mn.c3<100&&(Mn.vy<16&&Mn.vy++,On+=Mn.vy,20<=this.maps.getBGCode(Nn+32,On+13)&&(On=32*(On+13>>5)-14,Mn.c3=100),On>=this.ochiru_y+48&&(Mn.c=0,Mn.gf=!1))),100==this.co_j.c&&this.j_a_id==Ln&&(this.co_j.y=On-32);break;case 600:if(Nn>this.maps.wx-96&&Nn<this.maps.wx+512&&On>this.maps.wy-64&&On<this.maps.wy+320?(Mn.gf=!0,this.a_hf=!0,100==this.co_j.c&&this.co_j.x+15>=Nn&&this.co_j.x<=Nn+48&&this.co_j.y==On+16-32&&(this.j_a_id=Ln)):Mn.gf=!1,Mn.pt=600,Mn.c3<=0?(Mn.vx=0,this.j_a_id==Ln&&(Mn.c3=100,Mn.c4=0,Mn.vx=2),this.co_j.x>=Nn-144&&(Mn.pt=605)):100==Mn.c3?(Mn.c1=Nn-512-32,Mn.c2=Nn+128,this.j_a_id!=Ln?(Mn.c4++,50<Mn.c4&&(Mn.c3=0)):Mn.c4=0,Mn.pt=605):200==Mn.c3&&(Mn.pt=605,Mn.vx=0),Nn+=Mn.vx,(20<=this.maps.getBGCode(Nn+63+16,On)||20<=this.maps.getBGCode(Nn+63+16,On+32))&&(Nn=32*(Nn+63+16>>5)-64-16,Mn.vx=Nn-Mn.x,Mn.c3=200),100==this.co_j.c){if(this.j_a_id==Ln&&(this.co_j.x+=Mn.vx,0<Mn.vx)){var Mo=this.co_j.x+15>>5,No=this.co_j.y>>5,Oo=this.co_j.y+31>>5;(20<=this.maps.map_bg[Mo][No]||20<=this.maps.map_bg[Mo][Oo])&&(this.co_j.x=32*Mo-16)}this.co_j.x+15>=Nn&&this.co_j.x<=Nn+48&&this.co_j.y+31>=On+16&&this.co_j.y<=On+47&&(this.co_j.x=Nn+49)}break;case 700:Nn>this.maps.wx-96&&Nn<this.maps.wx+512&&On>this.maps.wy-64&&On<this.maps.wy+320?(Mn.gf=!0,this.a_hf=!0,100==this.co_j.c&&this.co_j.x+15>=Nn&&this.co_j.x<=Nn+16&&(1<=Mn.c3&&Mn.c3<=2&&this.co_j.y==On-32+10?this.j_a_id=Ln:3<=Mn.c3&&Mn.c3<=4&&this.co_j.y==On-32+16?this.j_a_id=Ln:5<=Mn.c3&&Mn.c3<=6&&this.co_j.y==On-32+10?this.j_a_id=Ln:this.co_j.y==On-32&&(this.j_a_id=Ln))):Mn.gf=!1,this.j_a_id==Ln?(this.co_j.vx=0,this.co_j.vy=0,this.co_j.x=Nn,this.j_jdai_f=!0,Mn.c3++,Mn.c3<=2?(Mn.pt=710,this.co_j.y=On-32+10):Mn.c3<=4?(Mn.pt=720,this.co_j.y=On-32+16):Mn.c3<=6?(Mn.pt=710,this.co_j.y=On-32+10):7<=Mn.c3&&(Mn.pt=700,this.co_j.y=On-32,Mn.c3=0,this.j_a_id=-1,this.j_jump_type=4,this.co_j.pt=101,this.co_j.ac=0,this.co_j.vy=-255,this.j_jump_level=1,4==this.maps.getBGCode(Nn,On)&&(this.co_j.vy=-75))):(Mn.c3=0,Mn.pt=700)}if(0<this.jm_kazu)for(var Po=0;Po<=1;Po++)if(100<=this.co_jm[Po].c){var Qo=this.co_jm[Po];Mn.c<200?Qo.x+15>=Nn&&Qo.x<=Nn+64&&Qo.y+29>=On&&Qo.y+2<=On+13&&(200==Qo.c?(Qo.c=50,Qo.y=On-8,Qo.c1=1,Qo.c2=20):(Qo.c=0,this.jm_kazu--)):300==Mn.c?Qo.x+15>=Nn&&Qo.x<=Nn+48&&Qo.y+29>=On&&Qo.y+2<=On+31&&(200==Qo.c?(Qo.c=50,Qo.c1=1,Qo.c2=20):(Qo.c=0,this.jm_kazu--)):400==Mn.c?Qo.x+15>=Nn&&Qo.x<=Nn+80&&Qo.y+29>=On&&Qo.y+2<=On+63&&(200==Qo.c?(Qo.c=50,Qo.c1=1,Qo.c2=20):(Qo.c=0,this.jm_kazu--)):500==Mn.c&&Qo.x+15>=Nn&&Qo.x<=Nn+80&&Qo.y+29>=On&&Qo.y+2<=On+13&&(200==Qo.c?(Qo.c=50,Qo.y=On-8,Qo.c1=1,Qo.c2=20):(Qo.c=0,this.jm_kazu--))}Mn.x=Nn,Mn.y=On}}},G.prototype.bMove=function(){if(!(this.co_b.x>=this.maps.wx+1024)){switch(this.co_b.c){case 40:this.co_b.c1<20&&this.co_b.c1++,15==this.co_b.c1&&this.mSet(this.maps.wx+256,this.maps.wy+128,2200),this.co_b.pt=0;break;case 60:this.co_b.c1++,this.co_b.c4<=0?26<=this.co_b.c1&&(this.co_b.c=40,this.co_b.c1=0,this.addScore(10)):11<=this.co_b.c1&&(this.co_b.c=150),this.co_b.pt=1010;break;case 65:this.co_b.c1++,11<=this.co_b.c1&&(this.co_b.c=155),this.co_b.pt=1015;break;case 67:this.co_b.vy+=4,28<this.co_b.vy&&(this.co_b.vy=28),this.co_b.x+=this.co_b.vx,this.co_b.y+=this.co_b.vy,this.co_b.y>=this.maps.wy+320+16&&(this.co_b.c=40,this.co_b.c1=0,this.addScore(10)),1==this.co_b.muki?this.co_b.pt=1005:this.co_b.pt=1e3;break;case 70:this.co_b.c1++,this.co_b.c4<=0?26<=this.co_b.c1&&(this.co_b.c=40,this.co_b.c1=0,this.addScore(10)):11<=this.co_b.c1&&(this.co_b.c=250),this.co_b.pt=1110;break;case 75:this.co_b.c1++,11<=this.co_b.c1&&(this.co_b.c=255),this.co_b.pt=1115;break;case 77:this.co_b.vy+=4,28<this.co_b.vy&&(this.co_b.vy=28),this.co_b.x+=this.co_b.vx,this.co_b.y+=this.co_b.vy,this.co_b.y>=this.maps.wy+320+16&&(this.co_b.c=40,this.co_b.c1=0,this.addScore(10)),1==this.co_b.muki?this.co_b.pt=1105:this.co_b.pt=1100;break;case 80:this.co_b.c1++,this.co_b.c4<=0?26<=this.co_b.c1&&(this.co_b.c=40,this.co_b.c1=0,this.addScore(10)):11<=this.co_b.c1&&(this.co_b.c=350),this.co_b.pt=1210;break;case 85:this.co_b.c1++,11<=this.co_b.c1&&(this.co_b.c=355),this.co_b.pt=1215;break;case 87:this.co_b.vy+=4,28<this.co_b.vy&&(this.co_b.vy=28),this.co_b.x+=this.co_b.vx,this.co_b.y+=this.co_b.vy,this.co_b.y>=this.maps.wy+320+16&&(this.co_b.c=40,this.co_b.c1=0,this.addScore(10)),1==this.co_b.muki?this.co_b.pt=1205:this.co_b.pt=1200;break;case 100:2!=this.sl_step&&3!=this.sl_step||(this.co_b.c=110,this.co_b.c1=0),this.co_b.pt=1e3;break;case 110:if(2==this.boss_type){var Ro=150;this.co_b.c1++,1==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,Ro,-2):5==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,Ro,-4):7==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,Ro,-6):9==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,Ro,-8):21==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,Ro,-2):91==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,Ro,-2):95==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,Ro,-4):97==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,Ro,-6):99==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,Ro,-8):111==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,Ro,-2):170==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,Ro,-4):180==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,Ro,-2):250<this.co_b.c1&&(this.co_b.c1=250)}else if(3==this.boss_type){var So=450;this.co_b.c1++,5==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,So,-3):20==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,So,-3):35==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,So,-3):50==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,So,-3):65==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,So,-3):80==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,So,-3):95==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,So,-3):110==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,So,-3):250<this.co_b.c1&&(this.co_b.c1=250)}else if(4==this.boss_type){this.co_b.c1++,1==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,650,-5):15==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,650,-3):29==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,650,-2):81==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,650,-5):95==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,650,-3):109==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,650,-2):165==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,650,-3):250<this.co_b.c1&&(this.co_b.c1=250)}else if(this.co_b.c1++,3==this.co_b.c1)this.mSet2(this.co_b.x,this.co_b.y,500,-4,-18),this.mSet2(this.co_b.x,this.co_b.y,500,4,-18);else if(14==this.co_b.c1)this.mSet2(this.co_b.x,this.co_b.y,500,-6,-20),this.mSet2(this.co_b.x,this.co_b.y,500,6,-20);else if(20==this.co_b.c1)this.mSet2(this.co_b.x,this.co_b.y,500,-3,-24),this.mSet2(this.co_b.x,this.co_b.y,500,3,-24);else if(28<=this.co_b.c1&&this.co_b.c1<=98)this.co_b.c1%7==0&&this.mSet2(this.co_b.x,this.co_b.y,500,-15+this.ranInt(20),-30);else if(130==this.co_b.c1){var Uo=this.ranInt(8)+3;this.mSet2(this.co_b.x,this.co_b.y,500,Uo,-30),this.mSet2(this.co_b.x,this.co_b.y,500,-Uo,-30)}else 150<=this.co_b.c1&&(this.co_b.c1=98);this.co_b.pt=1e3;break;case 115:if(2==this.boss_type){var Vo=150;this.co_b.c1++,1==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,Vo,2):5==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,Vo,4):7==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,Vo,6):9==this.co_b.c1&&3!=this.boss_type?this.tSetBoss(this.co_b.x,this.co_b.y,Vo,8):21==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,Vo,2):91==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,Vo,2):95==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,Vo,4):97==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,Vo,6):99==this.co_b.c1&&3!=this.boss_type?this.tSetBoss(this.co_b.x,this.co_b.y,Vo,8):111==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,Vo,2):170==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,Vo,4):180==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,Vo,2):250<this.co_b.c1&&(this.co_b.c1=250)}else if(3==this.boss_type){var Wo=450;this.co_b.c1++,5==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,Wo,3):20==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,Wo,3):35==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,Wo,3):50==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,Wo,3):65==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,Wo,3):80==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,Wo,3):95==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,Wo,3):110==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,Wo,3):250<this.co_b.c1&&(this.co_b.c1=250)}else if(4==this.boss_type){this.co_b.c1++,1==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,650,5):15==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,650,3):29==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,650,2):81==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,650,5):95==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,650,3):109==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,650,2):165==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,650,3):250<this.co_b.c1&&(this.co_b.c1=250)}else if(this.co_b.c1++,3==this.co_b.c1)this.mSet2(this.co_b.x,this.co_b.y,500,-4,-18),this.mSet2(this.co_b.x,this.co_b.y,500,4,-18);else if(14==this.co_b.c1)this.mSet2(this.co_b.x,this.co_b.y,500,-6,-20),this.mSet2(this.co_b.x,this.co_b.y,500,6,-20);else if(20==this.co_b.c1)this.mSet2(this.co_b.x,this.co_b.y,500,-3,-24),this.mSet2(this.co_b.x,this.co_b.y,500,3,-24);else if(28<=this.co_b.c1&&this.co_b.c1<=98)this.co_b.c1%7==0&&this.mSet2(this.co_b.x,this.co_b.y,500,15-this.ranInt(20),-30);else if(130==this.co_b.c1){var Yo=this.ranInt(8)+3;this.mSet2(this.co_b.x,this.co_b.y,500,Yo,-30),this.mSet2(this.co_b.x,this.co_b.y,500,-Yo,-30)}else 150<=this.co_b.c1&&(this.co_b.c1=98);this.co_b.pt=1005;break;case 150:this.co_b.x-=14,this.co_b.x<=this.sl_wx+96&&(this.co_b.x=this.sl_wx+96,this.co_b.c=115,this.co_b.c1=0),this.co_b.pt=1e3;break;case 155:this.co_b.x+=14,this.co_b.x>=this.sl_wx+512-96-32&&(this.co_b.x=this.sl_wx+512-96-32,this.co_b.c=110,this.co_b.c1=0),this.co_b.pt=1005;break;case 200:2!=this.sl_step&&3!=this.sl_step||(this.co_b.c=210,this.co_b.c1=0),this.co_b.pt=1100;break;case 210:if(this.co_b.c1++,2==this.boss2_type)if(10==this.co_b.c1||85==this.co_b.c1||215==this.co_b.c1)for(var Zo=0;Zo<=7;Zo++){var $o=45*Zo*3.14/180,_o=c.floor(8*c.cos($o)),ap=-1*c.floor(8*c.sin($o));this.mSet2(this.co_b.x,this.co_b.y-8,710,_o,ap)}else if(35==this.co_b.c1||110==this.co_b.c1||295==this.co_b.c1)for(var bp=0;bp<=7;bp++){var cp=3.14*(45*bp+15)/180,dp=c.floor(8*c.cos(cp)),ep=-1*c.floor(8*c.sin(cp));this.mSet2(this.co_b.x,this.co_b.y-8,710,dp,ep)}else if(60==this.co_b.c1||135==this.co_b.c1||375==this.co_b.c1)for(var fp=0;fp<=7;fp++){var gp=3.14*(45*fp+30)/180,hp=c.floor(8*c.cos(gp)),ip=-1*c.floor(8*c.sin(gp));this.mSet2(this.co_b.x,this.co_b.y-8,710,hp,ip)}else 445<this.co_b.c1&&(this.co_b.c1=0);else 5==this.co_b.c1||35==this.co_b.c1||65==this.co_b.c1||110==this.co_b.c1||185==this.co_b.c1?this.mSet(this.co_b.x,this.co_b.y,90):185<this.co_b.c1&&(this.co_b.c1=110);this.co_b.pt=1100;break;case 215:if(this.co_b.c1++,2==this.boss2_type)if(10==this.co_b.c1||85==this.co_b.c1||215==this.co_b.c1)for(var jp=0;jp<=7;jp++){var kp=45*jp*3.14/180,lp=c.floor(8*c.cos(kp)),mp=-1*c.floor(8*c.sin(kp));this.mSet2(this.co_b.x,this.co_b.y-8,710,lp,mp)}else if(35==this.co_b.c1||110==this.co_b.c1||295==this.co_b.c1)for(var np=0;np<=7;np++){var op=3.14*(45*np+15)/180,pp=c.floor(8*c.cos(op)),qp=-1*c.floor(8*c.sin(op));this.mSet2(this.co_b.x,this.co_b.y-8,710,pp,qp)}else if(60==this.co_b.c1||135==this.co_b.c1||375==this.co_b.c1)for(var rp=0;rp<=7;rp++){var sp=3.14*(45*rp+30)/180,tp=c.floor(8*c.cos(sp)),up=-1*c.floor(8*c.sin(sp));this.mSet2(this.co_b.x,this.co_b.y-8,710,tp,up)}else 445<this.co_b.c1&&(this.co_b.c1=0);else 5==this.co_b.c1||35==this.co_b.c1||65==this.co_b.c1||110==this.co_b.c1||185==this.co_b.c1?this.mSet(this.co_b.x,this.co_b.y,90):185<this.co_b.c1&&(this.co_b.c1=110);this.co_b.pt=1105;break;case 250:this.co_b.x-=14,this.co_b.x<=this.sl_wx+96&&(this.co_b.x=this.sl_wx+96,this.co_b.c=215,this.co_b.c1=0),this.co_b.pt=1100;break;case 255:this.co_b.x+=14,this.co_b.x>=this.sl_wx+512-96-32&&(this.co_b.x=this.sl_wx+512-96-32,this.co_b.c=210,this.co_b.c1=0),this.co_b.pt=1105;break;case 300:2!=this.sl_step&&3!=this.sl_step||(2<=this.boss3_type&&this.boss3_type<=4?(this.co_b.c=360,this.co_b.vy=-24):this.co_b.c=310,this.co_b.c1=0),this.co_b.pt=1200;break;case 310:this.co_b.c1++,1==this.co_b.c1?this.mSet2(this.co_b.x,this.co_b.y,800,-5,-32):15==this.co_b.c1?(this.mSet2(this.co_b.x,this.co_b.y,800,-10,-32),this.co_j.x>this.co_b.x-64&&(this.co_b.c1=500)):29==this.co_b.c1?this.mSet2(this.co_b.x,this.co_b.y,800,-15,-32):65==this.co_b.c1?this.mSet2(this.co_b.x-2,this.co_b.y,800,-20,-32):80==this.co_b.c1?this.mSet2(this.co_b.x,this.co_b.y,800,-5,-32):105==this.co_b.c1?this.mSet2(this.co_b.x,this.co_b.y,800,-15,-32):147==this.co_b.c1?this.mSet2(this.co_b.x,this.co_b.y,800,-10,-32):237==this.co_b.c1?this.co_b.c1=0:520==this.co_b.c1?this.mSet2(this.co_b.x,this.co_b.y,800,4,-32):530==this.co_b.c1?(this.mSet2(this.co_b.x,this.co_b.y,800,-5,-32),this.co_b.c1=1):530<this.co_b.c1&&(this.co_b.c1=1),this.co_b.pt=1200;break;case 315:this.co_b.c1++,1==this.co_b.c1?this.mSet2(this.co_b.x,this.co_b.y,800,5,-32):15==this.co_b.c1?(this.mSet2(this.co_b.x,this.co_b.y,800,10,-32),this.co_j.x<this.co_b.x+64&&(this.co_b.c1=500)):29==this.co_b.c1?this.mSet2(this.co_b.x,this.co_b.y,800,15,-32):65==this.co_b.c1?this.mSet2(this.co_b.x+2,this.co_b.y,800,20,-32):80==this.co_b.c1?this.mSet2(this.co_b.x,this.co_b.y,800,5,-32):105==this.co_b.c1?this.mSet2(this.co_b.x,this.co_b.y,800,15,-32):147==this.co_b.c1?this.mSet2(this.co_b.x,this.co_b.y,800,10,-32):237==this.co_b.c1?this.co_b.c1=0:520==this.co_b.c1?this.mSet2(this.co_b.x,this.co_b.y,800,-4,-32):530==this.co_b.c1?(this.mSet2(this.co_b.x,this.co_b.y,800,5,-32),this.co_b.c1=1):530<this.co_b.c1&&(this.co_b.c1=1),this.co_b.pt=1205;break;case 350:this.co_b.x-=14,this.co_b.x<=this.sl_wx+96&&(this.co_b.x=this.sl_wx+96,2<=this.boss3_type&&this.boss3_type<=4?(this.co_b.c=365,this.co_b.vy=-24):this.co_b.c=315,this.co_b.c1=0),this.co_b.pt=1200;break;case 355:this.co_b.x+=14,this.co_b.x>=this.sl_wx+512-96-32&&(this.co_b.x=this.sl_wx+512-96-32,2<=this.boss3_type&&this.boss3_type<=4?(this.co_b.c=360,this.co_b.vy=-24):this.co_b.c=310,this.co_b.c1=0),this.co_b.pt=1205;break;case 360:this.co_b.pt=1200,this.co_b.c1<5?this.co_b.c1++:this.co_b.c1<25?(this.co_b.c1++,this.co_b.pt=1250):25==this.co_b.c1?(3==this.boss3_type?(this.co_b.x-=18,this.co_b.x<=this.sl_wx+16&&(this.co_b.x=this.sl_wx+16,this.co_b.c1=30)):4==this.boss3_type?(this.co_b.x-=3,this.co_b.vy+=2,24<this.co_b.vy&&(this.co_b.vy=24),this.co_b.y+=this.co_b.vy,this.co_b.y>=this.boss_kijyun_y&&(this.co_b.y=this.boss_kijyun_y,this.co_b.vy=-24,this.co_b.x<=this.sl_wx+16&&(this.co_b.c1=30))):(this.co_b.x-=12,this.co_b.x<=this.sl_wx+16&&(this.co_b.x=this.sl_wx+16,this.co_b.c1=30)),this.co_b.pt=1250):30==this.co_b.c1?(3==this.boss3_type?(this.co_b.x+=18,this.co_b.x>=this.sl_wx+512-48&&(this.co_b.x=this.sl_wx+512-48,this.co_b.c1=40)):4==this.boss3_type?(this.co_b.x+=4,this.co_b.vy+=2,24<this.co_b.vy&&(this.co_b.vy=24),this.co_b.y+=this.co_b.vy,this.co_b.y>=this.boss_kijyun_y&&(this.co_b.y=this.boss_kijyun_y,this.co_b.vy=-24,this.co_b.x>=this.sl_wx+512-48&&(this.co_b.c1=40))):(this.co_b.x+=8,this.co_b.x>=this.sl_wx+512-48&&(this.co_b.x=this.sl_wx+512-48,this.co_b.c1=40)),this.co_b.pt=1255):40==this.co_b.c1&&(this.co_b.x-=2,this.co_b.x<=this.sl_wx+512-96-32&&(this.co_b.x=this.sl_wx+512-96-32,this.co_b.c1=-20));break;case 365:this.co_b.pt=1205,this.co_b.c1<5?this.co_b.c1++:this.co_b.c1<25?(this.co_b.c1++,this.co_b.pt=1255):25==this.co_b.c1?(3==this.boss3_type?(this.co_b.x+=18,this.co_b.x>=this.sl_wx+512-48&&(this.co_b.x=this.sl_wx+512-48,this.co_b.c1=30)):4==this.boss3_type?(this.co_b.x+=3,this.co_b.vy+=2,24<this.co_b.vy&&(this.co_b.vy=24),this.co_b.y+=this.co_b.vy,this.co_b.y>=this.boss_kijyun_y&&(this.co_b.y=this.boss_kijyun_y,this.co_b.vy=-24,this.co_b.x>=this.sl_wx+512-48&&(this.co_b.c1=30))):(this.co_b.x+=12,this.co_b.x>=this.sl_wx+512-48&&(this.co_b.x=this.sl_wx+512-48,this.co_b.c1=30)),this.co_b.pt=1255):30==this.co_b.c1?(3==this.boss3_type?(this.co_b.x-=18,this.co_b.x<=this.sl_wx+16&&(this.co_b.x=this.sl_wx+16,this.co_b.c1=40)):4==this.boss3_type?(this.co_b.x-=4,this.co_b.vy+=2,24<this.co_b.vy&&(this.co_b.vy=24),this.co_b.y+=this.co_b.vy,this.co_b.y>=this.boss_kijyun_y&&(this.co_b.y=this.boss_kijyun_y,this.co_b.vy=-24,this.co_b.x<=this.sl_wx+16&&(this.co_b.c1=40))):(this.co_b.x-=8,this.co_b.x<=this.sl_wx+16&&(this.co_b.x=this.sl_wx+16,this.co_b.c1=40)),this.co_b.pt=1250):40==this.co_b.c1&&(this.co_b.x+=2,this.co_b.x>=this.sl_wx+96&&(this.co_b.x=this.sl_wx+96,this.co_b.c1=-20))}if(100<=this.co_j.c&&this.co_j.c<200&&100<=this.co_b.c&&c.abs(this.co_b.x-this.co_j.x)<42&&this.co_j.y>this.co_b.y-20&&this.co_j.y<this.co_b.y+40&&(1250==this.co_b.pt||1255==this.co_b.pt?this.jShinu(2):c.abs(this.co_b.x-this.co_j.x)<34&&0<this.co_j.vy?(this.co_b.c<200?(this.co_b.c4--,1==this.co_b.c4?(this.co_b.c=65,this.co_b.c1=0,this.co_b.pt=1015):(this.co_b.c=60,this.co_b.c1=0,this.co_b.pt=1010)):this.co_b.c<300?(this.co_b.c4--,1==this.co_b.c4?(this.co_b.c=75,this.co_b.c1=0,this.co_b.pt=1115):(this.co_b.c=70,this.co_b.c1=0,this.co_b.pt=1110)):(this.co_b.c4--,1==this.co_b.c4?(this.co_b.c=85,this.co_b.c1=0,this.co_b.pt=1215):(this.co_b.c=80,this.co_b.c1=0,this.co_b.pt=1210)),this.co_j.y=this.co_b.y,this.co_j.vy=-320,this.j_jump_type=1,this.co_j.c=110,this.co_j.c1=-4,this.co_j.pt=109):this.jShinu(2)),0<this.jm_kazu&&100<=this.co_b.c)for(var vp=0;vp<=1;vp++)if(100<=this.co_jm[vp].c){var wp=this.co_jm[vp];c.abs(this.co_b.x-wp.x)<34&&c.abs(this.co_b.y-wp.y)<30&&(200==wp.c?(wp.c=50,wp.c1=1,wp.c2=20,1!=this.grenade_type&&5!=this.grenade_type||(this.co_b.c<200?(this.co_b.c=67,this.co_b.vy=-24,this.co_b.c1=0,wp.vx<0?(this.co_b.muki=1,this.co_b.pt=1005,this.co_b.vx=-4):(this.co_b.muki=0,this.co_b.pt=1e3,this.co_b.vx=4)):this.co_b.c<300?(this.co_b.c=77,this.co_b.vy=-24,this.co_b.c1=0,wp.vx<0?(this.co_b.muki=1,this.co_b.pt=1105,this.co_b.vx=-4):(this.co_b.muki=0,this.co_b.pt=1100,this.co_b.vx=4)):(this.co_b.c=87,this.co_b.vy=-24,this.co_b.c1=0,wp.vx<0?(this.co_b.muki=1,this.co_b.pt=1205,this.co_b.vx=-4):(this.co_b.muki=0,this.co_b.pt=1200,this.co_b.vx=4)))):(wp.c=0,this.jm_kazu--))}}},G.prototype.hSet=function(xp,yp,zp){for(var Ap=0;Ap<=63;Ap++)if(!(0<this.co_h[Ap].c)){var Bp=this.co_h[Ap];Bp.c=zp,Bp.x=xp,Bp.y=yp;break}},G.prototype.hAttack=function(Cp,Dp){for(var Ep=0;Ep<=63;Ep++){var Fp=this.co_h[Ep];if(0!=Fp.c&&Fp.x==Cp&&Fp.y==Dp){switch(Fp.c){case 100:this.mSet(32*Cp,32*Dp-32,2e3);break;case 200:this.mSet(32*Cp,32*Dp-32,2010),this.mSet(32*Cp,32*Dp-32,2020),this.mSet(32*Cp,32*Dp-32,2e3);break;case 300:this.mSet(32*Cp,32*Dp-32,2100);break;case 400:this.mSet(32*Cp,32*Dp-32,2110);break;case 500:this.mSet(32*Cp,32*Dp-32,2120);break;case 600:this.mSet(32*Cp,32*Dp-32,2130);break;case 700:this.mSet(32*Cp,32*Dp-32,2140);break;case 800:this.mSet(32*Cp,32*Dp-32,2150);break;case 900:this.mSet(32*Cp,32*Dp-32,2160);break;case 1e3:this.mSet(32*Cp,32*Dp-32,2170);break;case 1100:this.mSet(32*Cp,32*Dp-32,2180),this.stage_1up_f[this.stage-1]=!1}this.maps.putBGCode(Cp,Dp,41),Fp.c=0;break}}},H.prototype.init=function(){this.wx=0,this.wy=0,this.os2_wx=0;for(var Lp=this.os2_wy=0;Lp<this.height;Lp++)for(var Mp=0;Mp<this.width;Mp++)this.map_bg[Mp][Lp]=0;for(var Np=0;Np<this.height;Np++)this.map_string[Np]=this.bg_space},H.prototype.setBank=function(Op){var Pp;Pp=1==Op?40:2==Op?50:4==Op?60:30;for(var Qp=0;Qp<=9;Qp++)this.gg.spt_img[0][10+Qp]=this.gg.spt_img[0][Pp+Qp]},H.prototype.drawMap=function(Rp,Sp){this.wx=Rp,this.wy=Sp;var Tp=this.wx%32,Up=this.wy%32;this.os2_wx=this.wx>>5,this.os2_wy=this.wy>>5,this.gg.fill2();for(var Vp=0;Vp<=10;Vp++)for(var Wp=0;Wp<=16;Wp++){0<this.map_bg[this.os2_wx+Wp][this.os2_wy+Vp]&&this.gg.drawPT2(32+32*Wp,32+32*Vp,this.map_bg[this.os2_wx+Wp][this.os2_wy+Vp])}this.gg.os_g.drawImage(this.gg.os2_img,-32-Tp,-32-Up,this.gg.ap)},H.prototype.drawMapScroll=function(Yp){var Zp=this.wx%32,$p=this.wy%32,_p=this.wx>>5,aq=this.wy>>5;if(_p>this.os2_wx+1||_p<this.os2_wx-1||aq>this.os2_wy+1||aq<this.os2_wy-1)this.drawMap(this.wx,this.wy);else if(aq>this.os2_wy)if(_p>this.os2_wx){this.g2.copyArea(64,64,544,352,-32,-32),this.os2_wx=_p,this.os2_wy=aq;for(var bq=this.os2_wy+10,cq=0;cq<=16;cq++)0<this.map_bg[this.os2_wx+cq][bq]&&this.g2.drawImage(this.hi[this.map_bg[this.os2_wx+cq][bq]],32+32*cq,352,this.ap);for(var dq=this.os2_wx+16,eq=0;eq<=9;eq++)0<this.map_bg[dq][this.os2_wy+eq]&&this.g2.drawImage(this.hi[this.map_bg[dq][this.os2_wy+eq]],544,32+32*eq,this.ap)}else if(_p<this.os2_wx){this.g2.copyArea(0,64,544,352,32,-32),this.os2_wx=_p,this.os2_wy=aq;for(var fq=this.os2_wy+10,gq=0;gq<=16;gq++)0<this.map_bg[this.os2_wx+gq][fq]&&this.g2.drawImage(this.hi[this.map_bg[this.os2_wx+gq][fq]],32+32*gq,352,this.ap);for(var hq=0;hq<=9;hq++)0<this.map_bg[this.os2_wx][this.os2_wy+hq]&&this.g2.drawImage(this.hi[this.map_bg[this.os2_wx][this.os2_wy+hq]],32,32+32*hq,this.ap)}else{this.g2.copyArea(32,64,544,352,0,-32),this.os2_wy=aq;for(var iq=this.os2_wy+10,jq=0;jq<=16;jq++)0<this.map_bg[this.os2_wx+jq][iq]&&this.g2.drawImage(this.hi[this.map_bg[this.os2_wx+jq][iq]],32+32*jq,352,this.ap)}else if(aq<this.os2_wy)if(_p>this.os2_wx){this.g2.copyArea(64,0,544,352,-32,32),this.os2_wx=_p,this.os2_wy=aq;for(var kq=0;kq<=16;kq++)0<this.map_bg[this.os2_wx+kq][this.os2_wy]&&this.g2.drawImage(this.hi[this.map_bg[this.os2_wx+kq][this.os2_wy]],32+32*kq,32,this.ap);for(var lq=this.os2_wx+16,mq=1;mq<=10;mq++)0<this.map_bg[lq][this.os2_wy+mq]&&this.g2.drawImage(this.hi[this.map_bg[lq][this.os2_wy+mq]],544,32+32*mq,this.ap)}else if(_p<this.os2_wx){this.g2.copyArea(0,0,544,352,32,32),this.os2_wx=_p,this.os2_wy=aq;for(var nq=0;nq<=16;nq++)0<this.map_bg[this.os2_wx+nq][this.os2_wy]&&this.g2.drawImage(this.hi[this.map_bg[this.os2_wx+nq][this.os2_wy]],32+32*nq,32,this.ap);for(var oq=1;oq<=10;oq++)0<this.map_bg[this.os2_wx][this.os2_wy+oq]&&this.g2.drawImage(this.hi[this.map_bg[this.os2_wx][this.os2_wy+oq]],32,32+32*oq,this.ap)}else{this.g2.copyArea(32,0,544,352,0,32),this.os2_wy=aq;for(var pq=0;pq<=16;pq++)0<this.map_bg[this.os2_wx+pq][this.os2_wy]&&this.g2.drawImage(this.hi[this.map_bg[this.os2_wx+pq][this.os2_wy]],32+32*pq,32,this.ap)}else if(_p>this.os2_wx){this.g2.copyArea(64,32,544,352,-32,0),this.os2_wx=_p;for(var qq=this.os2_wx+16,rq=0;rq<=10;rq++)0<this.map_bg[qq][this.os2_wy+rq]&&this.g2.drawImage(this.hi[this.map_bg[qq][this.os2_wy+rq]],544,32+32*rq,this.ap)}else if(_p<this.os2_wx){this.g2.copyArea(0,32,544,352,32,0),this.os2_wx=_p;for(var sq=0;sq<=10;sq++)0<this.map_bg[this.os2_wx][this.os2_wy+sq]&&this.g2.drawImage(this.hi[this.map_bg[this.os2_wx][this.os2_wy+sq]],32,32+32*sq,this.ap)}for(var tq=this.hi[90+Yp],uq=0;uq<=10;uq++)for(var vq=this.os2_wy+uq,wq=0;wq<=16;wq++)switch(this.map_bg[this.os2_wx+wq][vq]){default:break;case 5:4==this.map_bg[this.os2_wx+wq][vq-1]&&(this.gg.drawBG2(32+32*wq,32+32*uq,4),this.gg.drawPT2(32+32*wq,32+32*uq,5));break;case 6:4==this.map_bg[this.os2_wx+wq][vq+1]&&(this.gg.drawBG2(32+32*wq,32+32*uq,4),this.gg.drawPT2(32+32*wq,32+32*uq,6));break;case 7:0==Yp||2==Yp?this.gg.drawBG2(32+32*wq,32+32*uq,96):this.gg.drawBG2(32+32*wq,32+32*uq,97);break;case 8:if(0==Yp){if(4==this.map_bg[this.os2_wx+wq-1][vq]){this.gg.drawBG2(32+32*wq,32+32*uq,4),2<=this.mp.stage_max&&this.mp.stage>=this.mp.stage_max?this.gg.drawPT2(32+32*wq,32+32*uq,99):this.gg.drawPT2(32+32*wq,32+32*uq,95);break}2<=this.mp.stage_max&&this.mp.stage>=this.mp.stage_max?this.gg.drawBG2(32+32*wq,32+32*uq,99):this.gg.drawBG2(32+32*wq,32+32*uq,95);break}if(4==this.map_bg[this.os2_wx+wq-1][vq]){this.gg.drawBG2(32+32*wq,32+32*uq,4),2<=this.mp.stage_max&&this.mp.stage>=this.mp.stage_max?this.gg.drawPT2(32+32*wq,32+32*uq,98):this.gg.drawPT2(32+32*wq,32+32*uq,94);break}2<=this.mp.stage_max&&this.mp.stage>=this.mp.stage_max?this.gg.drawBG2(32+32*wq,32+32*uq,98):this.gg.drawBG2(32+32*wq,32+32*uq,94);break;case 9:4==this.map_bg[this.os2_wx+wq-1][vq]?this.gg.drawBG2(32+32*wq,32+32*uq,4):(this.g2.setColor(this.gg.backcolor),this.gg.os2_g.fillRect(32+32*wq,32+32*uq,32,32)),this.gg.os2_g.drawImage(tq,32+32*wq,32+32*uq,this.gg.ap)}this.gg.os_g.drawImage(this.gg.os2_img,-32-Zp,-32-$p,this.ap)},H.prototype.getBGCode=function(xq,yq){return this.map_bg[xq>>5][yq>>5]},H.prototype.putBGCode=function(zq,Aq,Bq){this.map_bg[zq][Aq]=Bq,this.os2_wx<=zq&&this.os2_wx+16>=zq&&this.os2_wy<=Aq&&this.os2_wy+10>=Aq&&this.gg.drawBG2(32*(zq-this.os2_wx)+32,32*(Aq-this.os2_wy)+32,Bq)},I.prototype.__repaint=function(){this.update(this.__appimg.getGraphics()),this.__canvas.getContext("2d").drawImage(this.__appimg._dat,0,0)},I.prototype.init=function(){},I.prototype.start=function(){null==this.th&&(this.th=1);var Hq=this.getParameter("game_speed");this.th_interval=parseInt(Hq),isNaN(this.th_interval)&&(this.th_interval=70),this.th_interval<1?this.th_interval=1:300<this.th_interval&&(this.th_interval=300),this.th_jm=10},I.prototype.stop=function(){null!=this.th&&(this.th=null)},I.prototype.destroy=function(){},I.prototype.paint=function(Iq){Iq.drawImage(this.gg.os_img,0,0,this)},I.prototype.update=function(Jq){this.paint(Jq)},I.prototype.run=function(){if(10==this.th_jm)this.init_j(),this.mp.start(),this.th_jm-=1,sleepTime=70;else if(6==this.th_jm){var Kq=0;this.gg.apt_img._loaded?Kq=1:this.gg.apt_img._error&&(Kq=2),0!=Kq&&(this.th_jm-=1)}else 2==this.th_jm?(this.gg.cut(),this.th_jm-=1,sleepTime=70):2<=this.th_jm?(this.th_jm-=1,sleepTime=70):(100==this.mp.ml_mode?this.mp.mL100():this.mp.mainLoop(),this.userSub(this.gg.os_g,this.gg.os_img));this.__repaint()},I.prototype.init_j=function(){this.gg=new e(this),this.gg.setBackcolor(D.black);var Mq,Lq=this.getParameter("filename_title");if(this.gg.addListImage(0,Lq),Lq=this.getParameter("filename_ending"),this.gg.addListImage(1,Lq),Lq=this.getParameter("filename_gameover"),this.gg.addListImage(2,Lq),Lq=this.getParameter("stage_select"),Mq=parseInt(Lq),isNaN(Mq)&&(Mq=-1),2==Mq){var Nq=this.getParameter("filename_chizu");this.gg.addListImage(3,Nq)}this.gg.loadImage(),this.gm=new j;var Oq=this.gm;this.__canvas.addEventListener("mousedown",function(Rq){var za;Rq.stopImmediatePropagation(),m.focus.focus(this),za=Rq,Oq.mousePressed(za)}.bind(this)),this.__canvas.addEventListener("mouseup",function(Sq){var Ba;Ba=Sq,Oq.mouseReleased(Ba)}),this.gk=new f;var Pq=this.gk,Qq=function(Tq){var ra;m.focus.hasFocus(this)&&(ra=Tq,Pq.keyPressed(ra))}.bind(this);b.addEventListener("keydown",Qq),this.__game.__resourceList.push({type:"eventListener",target:b,name:"keydown",value:Qq}),Qq=function(Uq){var ta;m.focus.hasFocus(this)&&(ta=Uq,Pq.keyReleased(ta))}.bind(this),b.addEventListener("keyup",Qq),this.__game.__resourceList.push({type:"eventListener",target:b,name:"keyup",value:Qq}),this.mp=new G(this.gg,this.gm,this.gk),this.mp.addHighscoreEvent(this.options.highscoreCallback),this.userInit()},I.prototype.userInit=function(){},I.prototype.userSub=function(Vq,Wq){},I.prototype.getImage=function(Xq){var Yq=new z;return Yq.load(Xq),Yq},I.prototype.createImage=function(Zq,$q){return new z(Zq,$q)},I.prototype.getParameter=function(ar){var br=(ar+"").toLowerCase();return void 0===this.params[br]?null:this.params[br]+""};var J={};return J.CharacterObject=d,J.GameGraphics=e,J.GameKey=f,J.GameMouse=j,J.Game=m,J.IdouGamen=y,J.ImageBuff=z,J.KeyboardMenu=F,J.MainProgram=G,J.MapSystem=H,J.MasaoConstruction=I,J}(window,document,Math);