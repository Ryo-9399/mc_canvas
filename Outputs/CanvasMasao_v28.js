var CanvasMasao=function(a,b,c){function d(){this.c=0,this.x=0,this.y=0,this.vx=0,this.vy=0,this.wx=0,this.wy=0,this.c1=0,this.c2=0,this.c3=0,this.c4=0,this.c5=0,this.pt=0,this.pth=0,this.img=null,this.zs_x=0,this.zs_y=0,this.ac=0,this.level=0,this.jimen_f=!1,this.muki=0,this.direction=0,this.score=0,this.ss=0,this.gf=!1}function e(L){this.spt_kazu_x=10,this.spt_kazu_y=25,this.spt_h_kijyun=3,this.spt_kazu=250,this.li=new Array(10),this.spt_img=r(2,this.spt_kazu),this.ap=L,this.di=new q(512,320),this.backcolor=D.black,this.os_img=this.ap.createImage(this.di.width,this.di.height),this.os_g=this.os_img.getGraphics(),this.os2_img=this.ap.createImage(this.di.width+96,this.di.height+96),this.os2_g=this.os2_img.getGraphics(),this.mt=[],str=this.ap.getParameter("filename_pattern"),this.apt_img=this.ap.getImage(str)}function f(){this.key_code=0,this.up_f=!1,this.down_f=!1,this.left_f=!1,this.right_f=!1,this.tr1_f=!1,this.tr2_f=!1,this.tr3_f=!1,this.start_f=!1,this.x_f=!1,this.z_f=!1,this.space_f=!1,this.left_c=0,this.right_c=0,this.up_c=0,this.down_c=0,this.tr1_c=0,this.codekey_f=new Array(256),this.left_right_lock=!1}function i(){this.button_f=!1,this.click_x=0,this.click_y=0,this.init=function(){this.button_f=!1,this.click_x=0,this.click_y=0}}function l(Ca,Da,Ea){var Fa=u();if((Ea=Ea||{}).width=Ea.width||512,Ea.height=Ea.height||320,Ea.extensions=Ea.extensions||[],Da?this.__boxID=Da:(this.__boxID="__mcdiv"+Fa,b.write("<div id='"+this.__boxID+"'></div>")),this.__canvasID="__mccanvas"+Fa,this.__padDivID="__mcpaddiv"+Fa,this.__box=b.getElementById(this.__boxID),this.__resourceList=[],this.__canvas=b.createElement("canvas"),this.__canvas.id=this.__canvasID,this.__canvas.width=Ea.width,this.__canvas.height=Ea.height,this.__canvas.textContent="※お使いのブラウザはHTML5に対応していないため表示できません。",this.__box.appendChild(this.__canvas),this.__padDiv=b.createElement("div"),this.__padDiv.id=this.__padDivID,this.__box.appendChild(this.__padDiv),this.__canvas&&this.__canvas.getContext){if(this.__pad_before=[],this.__pad_after=[],this.__pad_touches=[],a.TouchEvent){var Ga,Ha=b.createElement("input");Ha.type="button",Ha.value="バーチャル操作パッド 表示 / 非表示",(Ga=Ha.style).width="24em",Ga.height="2.5em",Ha.onclick=function(){"inline"==Ia.style.display?Ia.style.display="none":l.padAccessor.show(Ia)},this.__padDiv.appendChild(Ha),this.__padDiv.appendChild(b.createElement("br"));var Ia=this.__pad=b.createElement("canvas");Ia.width=500,Ia.height=200;var Ja=function(Qa){this.__pad_event(Qa)}.bind(this);Ia.addEventListener("touchstart",Ja,!1),Ia.addEventListener("touchmove",Ja,!1),Ia.addEventListener("touchend",Ja,!1),Ia.addEventListener("touchcancel",Ja,!1),Ia.style.display="none",this.__padDiv.appendChild(Ia),(Ga=Ia.style).position="absolute";var Ka=setInterval(function(){var Ra=innerWidth,Sa=innerHeight,Ta=Ra<Sa?Ra:Sa;Ia.style.width=Ra+"px",Ia.style.height=Ta*l.pad.style.rate+"px",Ia.style.left=scrollX+"px",l.pad.avoidAD?Ia.style.top=scrollY+Sa-Ta*l.pad.style.rate-.16*Ta+"px":Ia.style.top=scrollY+Sa-Ta*l.pad.style.rate+"px",this.__pad_update()}.bind(this),500);this.__resourceList.push({type:"setInterval",value:Ka}),l.padAccessor.append(Ia),this.__pad_off=b.createElement("canvas"),this.__pad_off.width=500,this.__pad_off.height=200;var La=this.__pad_off.getContext("2d");La.font="24px monospace",La.textAlign="center",La.textBaseline="middle",La.lineWidth=2,La.lineCap="round",La.lineJoin="round";for(var Ma=0;Ma<8;Ma++)this.__pad_before[Ma]=!1,this.__pad_after[Ma]=!1;this.__pad_update()}this.__mc=new I(Ca,this.__canvas,this,Ea||{});for(Ma=0;Ma<Ea.extensions.length;Ma++)Ea.extensions[Ma].inject(this.__mc,Ea);this.__mc.start();var Na=this.__st=this.__mc.getParameter("game_speed");Na?(Na=parseInt(Na),isNaN(Na)?Na=70:Na<10?Na=10:300<Na&&(Na=300)):Na=70,this.__pt=0;var Pa=new(Ea["custom-loop"]||v)(this,!!Ea["bc-loop-setinterval"]);Pa.start(Na,this.__loop.bind(this)),this.__resourceList.push({type:"Loop",value:Pa})}}var ob,rb;function q(rc,sc){this.width=rc,this.height=sc}function r(){if(0==arguments.length)return null;for(var tc=new Array(arguments.length),uc=0;uc<arguments.length;uc++)tc[uc]=arguments[uc];return function wc(xc){var yc=new Array(xc[0]);if(1==xc.length)return yc;for(var zc=xc.slice(1),Ac=0;Ac<xc[0];Ac++)yc[Ac]=wc(zc);return yc}(tc)}function s(Bc){return 0<=Bc?c.floor(Bc):-c.floor(-Bc)}function u(){return c.random().toString(36).slice(2)}function v(Ec,Fc){this.game=Ec,this.forceSetInterval=Fc,this.running=!1,this.interval=null,this.callback=null,this.mode=0,this.prevTime=null,this.timerid=null,this._loop=this._loop.bind(this)}d.prototype.init=function(){this.c=0,this.x=0,this.y=0,this.vx=0,this.vy=0,this.wx=0,this.wy=0,this.c1=0,this.c2=0,this.c3=0,this.c4=0,this.c5=0,this.pt=0,this.pth=0,this.img=null,this.zs_x=0,this.zs_y=0,this.ac=0,this.level=0,this.jimen_f=!1,this.muki=0,this.direction=0,this.score=0,this.ss=0,this.gf=!1},d.prototype.setPattern=function(K){},e.prototype.cut=function(){var N,Q,R,S;for(Q=0;Q<=this.spt_kazu_y-1;Q++)for(R=0;R<=this.spt_kazu_x-1;R++)N=10*Q+R,this.spt_img[0][N]=new z(32,32),(S=this.spt_img[0][N].getGraphics()).drawImage(this.apt_img,32*R,32*Q,32,32,0,0,32,32,null),Q>=this.spt_h_kijyun?(this.spt_img[1][N]=new z(32,32),(S=this.spt_img[1][N].getGraphics()).scale(-1,1),S.drawImage(this.apt_img,32*R,32*Q,32,32,-32,0,32,32,null)):this.spt_img[1][N]=this.spt_img[0][N];this.hi=this.spt_img[0]},e.prototype.addListImage=function(T,U){this.li[T]=this.ap.getImage(U),this.mt.push(this.li[T])},e.prototype.loadImage=function(){},e.prototype.copyOS=function(V){V.drawImage(this.os_img,0,0,this.ap)},e.prototype.fill=function(){this.os_g.setColor(this.backcolor),this.os_g.fillRect(0,0,this.di.width,this.di.height)},e.prototype.fill2=function(){this.os2_g.setColor(this.backcolor),this.os2_g.fillRect(0,0,this.di.width+96,this.di.height+96)},e.prototype.setBackcolor=function(W){this.backcolor=W},e.prototype.drawPT=function(X,Y,Z,$){this.os_g.drawImage(this.spt_img[$][Z],X,Y,this.ap)},e.prototype.drawPT2=function(_,aa,ba){this.os2_g.drawImage(this.hi[ba],_,aa,this.ap)},e.prototype.drawBG2=function(ca,da,ea){this.os2_g.setColor(this.backcolor),this.os2_g.fillRect(ca,da,32,32),this.os2_g.drawImage(this.hi[ea],ca,da,this.ap)},e.prototype.drawBG3=function(fa,ga,ha,ia){this.os2_g.setColor(ia),this.os2_g.fillRect(fa,ga,32,32),this.os2_g.drawImage(this.hi[ha],fa,ga,this.ap)},e.prototype.drawListImage=function(ja,ka,la){this.os_g.drawImage(this.li[la],ja,ka,this.ap)},f.prototype.init=function(){this.key_code=0,this.up_f=!1,this.down_f=!1,this.left_f=!1,this.right_f=!1,this.tr1_f=!1,this.tr2_f=!1,this.tr3_f=!1,this.start_f=!1,this.x_f=!1,this.z_f=!1,this.space_f=!1,this.left_c=0,this.right_c=0,this.up_c=0,this.down_c=0,this.tr1_c=0,this.left_right_lock=!1;for(var ma=0;ma<=255;ma++)this.codekey_f[ma]=!1},f.prototype.keyPressed=function(na){switch(this.key_code=na.keyCode,this.key_char=na.keyCode,0<=this.key_code&&this.key_code<=255&&(this.codekey_f[this.key_code]=!0),this.key_code){case 38:na.preventDefault(),this.up_f=!0;break;case 40:na.preventDefault(),this.down_f=!0,this.tr2_f=!0;break;case 37:na.preventDefault(),this.left_right_lock||(this.left_f=!0);break;case 39:na.preventDefault(),this.left_right_lock||(this.right_f=!0);break;case 104:na.preventDefault(),this.up_f=!0;break;case 98:na.preventDefault(),this.down_f=!0,this.tr2_f=!0;break;case 100:na.preventDefault(),this.left_right_lock||(this.left_f=!0);break;case 102:na.preventDefault(),this.left_right_lock||(this.right_f=!0);break;case 90:na.preventDefault(),this.tr1_f=!0,this.z_f=!0;break;case 88:na.preventDefault(),this.tr2_f=!0,this.x_f=!0;break;case 67:na.preventDefault(),this.tr3_f=!0;break;case 32:na.preventDefault(),this.tr1_f=!0,this.space_f=!0,this.tr1_c=0;break;case 83:na.preventDefault(),this.start_f=!0}},f.prototype.keyReleased=function(oa){var pa=oa.keyCode;switch(0<=pa&&pa<=255&&(this.codekey_f[pa]=!1),pa){case 38:this.up_f=!1;break;case 40:this.down_f=!1,this.tr2_f=!1;break;case 37:this.left_right_lock||(this.left_f=!1,this.left_c=0);break;case 39:this.left_right_lock||(this.right_f=!1,this.right_c=0);break;case 104:this.up_f=!1;break;case 98:this.down_f=!1,this.tr2_f=!1;break;case 100:this.left_right_lock||(this.left_f=!1,this.left_c=0);break;case 102:this.left_right_lock||(this.right_f=!1,this.right_c=0);break;case 90:this.tr1_f=!1,this.z_f=!1,this.tr1_c=0;break;case 88:this.tr2_f=!1,this.x_f=!1;break;case 67:this.tr3_f=!1;break;case 32:this.tr1_f=!1,this.space_f=!1,this.tr1_c=0;break;case 83:this.start_f=!1}},f.prototype.getKeyCode=function(){return this.key_code},i.prototype.mousePressed=function(ua){var va=ua.target,wa=va.getBoundingClientRect();this.button_f=!0,this.click_x=(ua.clientX-wa.left)/wa.width*va.width,this.click_y=(ua.clientY-wa.top)/wa.height*va.height},i.prototype.mouseReleased=function(xa){this.button_f=!1},l.replaceAll=function(Ua){function Va(){for(var Wa=b.getElementsByTagName("applet"),Xa=[],Ya=0;Ya<Wa.length;Ya++)Xa.push(Wa[Ya]);for(Ya=0;Ya<Xa.length;Ya++){var Za=Xa[Ya];(Za.getAttribute("code")||"").match(/masaoconstruction/i)&&l.replaceByDom(Za,Ua)}var _a=b.getElementsByTagName("object"),ab=[];for(Ya=0;Ya<_a.length;Ya++)ab.push(_a[Ya]);for(Ya=0;Ya<ab;Ya++){var bb=ab[Ya],cb=bb.getElementsByName("code")[0];cb.tagName.match(/param/i)&&cb.value.match(/masaoconstruction/i)&&l.replaceByDom(bb,Ua)}}"complete"==b.readyState?Va():a.addEventListener("load",Va)},l.replace=function(db,eb){function fb(){l.replaceByDom(b.getElementById(db),eb)}"complete"==b.readyState?fb():a.addEventListener("load",fb)},l.replaceByDom=function(gb,hb){for(var ib=gb.getElementsByTagName("param"),jb=ib.length,kb={},lb=0;lb<jb;lb++)kb[ib[lb].name]=ib[lb].value;var mb=b.createElement("div"),nb=gb.id||u();mb.id=nb,gb.parentNode.replaceChild(mb,gb),new l(kb,nb,hb)},l.focus=(b.addEventListener("mousedown",function(){ob=null}),{focus:function(pb){ob=pb},hasFocus:function(qb){return ob===qb}}),l.padAccessor=(rb=[],{append:function(sb){rb.push(sb)},show:function(tb){for(var ub=0;ub<rb.length;ub++)tb!==rb[ub]?rb[ub].style.display="none":tb.style.display="inline"}}),l.prototype.kill=function(){this.__mc.stop();for(var vb=this.__resourceList,wb=0,xb=vb.length;wb<xb;wb++)"setInterval"===vb[wb].type?clearInterval(vb[wb].value):"eventListener"===vb[wb].type?vb[wb].target.removeEventListener(vb[wb].name,vb[wb].value):"Loop"===vb[wb].type&&vb[wb].value.stop();for(this.__resourceList=[];this.__box.hasChildNodes();)this.__box.removeChild(this.__box.firstChild)},l.prototype.__loop=function(){var yb=(new Date).getTime();if(!(yb-this.__pt<this.__st)){if(this.__pt=yb-10,this.__testCanvas){var Ab,zb=this.__testCanvas.getContext("2d");if(zb.fillStyle="rgb(128,0,128)",zb.fillRect(0,0,700,700),zb.strokeStyle="#f00",this.__mc.gg)for(zb.save(),zb.scale(.5,.5),zb.drawImage(this.__mc.gg.os_img._dat,0,0),zb.drawImage(this.__mc.gg.os2_img._dat,576,0),zb.restore(),zb.beginPath(),Ab=0;Ab<700;Ab+=32)zb.moveTo(0,Ab),zb.lineTo(700,Ab),zb.moveTo(Ab,0),zb.lineTo(Ab,700);zb.stroke()}if(this.__testDiv&&this.__mc.mp){var Db,Eb,Bb=this.__mc.mp,Cb="<div style='text-align:left'>";for(Db in Bb)"[object Array]"!=(Eb=Object.prototype.toString.call(Bb[Db]))&&"[object Function]"!=Eb&&(Db in this.__teo?0<this.__teo[Db].t?(Cb+="<span style='background-color:rgba(255,255,255,"+this.__teo[Db].t/6+")'>"+Db+": "+Bb[Db]+"</span> ",this.__teo[Db].t--):Cb+=Db+": "+Bb[Db]+" ":this.__teo[Db]={val:Bb[Db],t:0},this.__teo[Db].val!=Bb[Db]&&(this.__teo[Db].val=Bb[Db],this.__teo[Db].t=6));this.__testDiv.innerHTML=Cb+"</div>"}this.__mc.run()}},l.prototype.__pad_update=function(){var Jb,Kb,Lb,Mb,Nb,Ob,Fb=this.__pad.getBoundingClientRect(),Gb=Fb.left,Hb=Fb.top,Ib=this.__pad_off.getContext("2d"),Pb=l.pad.coords.length;for(Ib.clearRect(0,0,500,200),Ib.fillStyle=l.pad.style.back,Ib.fillRect(0,0,500,200),Ib.fillStyle=l.pad.style.button,Jb=0;Jb<Pb;Jb++){for(Ib.beginPath(),Lb=(Mb=l.pad.coords[Jb]).length>>1,Ib.moveTo(Mb[0],Mb[1]),Kb=0;Kb<Lb;Kb++)Ib.lineTo(Mb[Kb<<1],Mb[1+(Kb<<1)]);Ib.closePath(),Ib.fill()}for(Jb=0;Jb<Pb;Jb++)this.__pad_after[Jb]=!1;for(Ib.fillStyle=l.pad.style.active,Jb=0;Jb<Pb;Jb++){for(Ib.beginPath(),Lb=(Mb=l.pad.coords[Jb]).length>>1,Ib.moveTo(Mb[0],Mb[1]),Kb=0;Kb<Lb;Kb++)Ib.lineTo(Mb[Kb<<1],Mb[1+(Kb<<1)]);for(Kb in Ib.closePath(),this.__pad_touches)Nb=this.__pad_touches[Kb].clientX-Gb,Ob=this.__pad_touches[Kb].clientY-Hb,this.__pad_after[Jb]|=Ib.isPointInPath(Nb/Fb.width*500,Ob/Fb.height*200);this.__pad_after[Jb]&&Ib.fill()}for(Ib.strokeStyle=l.pad.style.border,Ib.fillStyle=l.pad.style.text,Jb=0;Jb<Pb;Jb++){for(Ib.beginPath(),Lb=(Mb=l.pad.coords[Jb]).length>>1,Ib.moveTo(Mb[0],Mb[1]),Kb=1;Kb<Lb;Kb++)Ib.lineTo(Mb[Kb<<1],Mb[1+(Kb<<1)]);Ib.closePath(),Ib.stroke(),Lb=Qb(Mb),Ib.fillText(l.pad.chars[Jb],Lb[0],Lb[1])}for(Ib.stroke(),(Ib=this.__pad.getContext("2d")).clearRect(0,0,500,200),Ib.drawImage(this.__pad_off,0,0),Jb=0;Jb<Pb;Jb++)this.__pad_before[Jb]!=this.__pad_after[Jb]&&(this.__pad_before[Jb]=this.__pad_after[Jb],this.__pad_after[Jb]?this.__pad_pressed(Jb):this.__pad_released(Jb));function Qb(Rb){var Sb,Ub,Vb,Wb,Xb,Yb,Zb,$b,_b,ac,dc,Tb=Rb.length>>1;if($b=Ub=Rb[0],_b=Vb=Rb[1],1==Tb)return[$b,_b];if($b=($b+(Wb=Rb[2]))/2,_b=(_b+(Xb=Rb[3]))/2,2==Tb)return[$b,$b];for(Yb=Rb[4],Zb=Rb[5],ac=c.abs((Wb-Ub)*(Zb-Vb)-(Xb-Vb)*(Yb-Ub))/2,$b=(Ub+Wb+Yb)/3,_b=(Vb+Xb+Zb)/3,Sb=3;Sb<Tb;Sb++)Wb=Yb,Xb=Zb,Yb=Rb[Sb<<1],Zb=Rb[1+(Sb<<1)],$b=(ac*$b+(dc=c.abs((Wb-Ub)*(Zb-Vb)-(Xb-Vb)*(Yb-Ub))/2)*((Ub+Wb+Yb)/3))/(ac+dc),_b=(ac*_b+dc*((Vb+Xb+Zb)/3))/(ac+dc),ac=dc;return[$b,_b]}},l.prototype.__pad_pressed=function(ec){if(this.__mc.gk){var fc=l.pad.codes[ec];this.__mc.gk.keyPressed({keyCode:fc,preventDefault:function(){}})}},l.prototype.__pad_released=function(gc){if(this.__mc.gk){var hc=l.pad.codes[gc];this.__mc.gk.keyReleased({keyCode:hc,preventDefault:function(){}})}},l.prototype.__pad_event=function(ic){ic.preventDefault(),this.__pad_touches=[];for(var jc=0;jc<ic.touches.length;jc++)this.__pad_touches.push(ic.touches[jc]);this.__pad_update()},l.pad={coords:[[410,30,490,30,490,170,410,170],[320,30,400,30,400,170,320,170],[250,30,290,30,290,70,250,70],[200,30,240,30,240,70,200,70],[5,60,87,60,87,140,5,140],[175,60,93,60,93,140,175,140],[30,5,30,80,150,80,150,5],[30,195,30,120,150,120,150,195]],chars:["X","Z","T","P","←","→","↑","↓"],codes:[88,90,84,80,37,39,38,40],style:{rate:.4,back:"rgba(0, 0, 0, 0)",button:"rgba(128, 128, 128, 0.5)",active:"rgba(0, 0, 0, 0.5)",text:"black",border:"black"},avoidAD:!1},v.prototype.start=function(Gc,Hc){this.running=!0,this.interval=Gc,this.callback=Hc;var Ic=w();this.targetTime=Ic+Gc,this.prevTime=Ic,a.requestAnimationFrame&&!this.forceSetInterval?this.mode=1:this.mode=0,0===this.mode&&(this.timerid=setInterval(this._loop,Gc)),this._next()},v.prototype.stop=function(){this.running&&(this.running=!1,1===this.mode?cancelAnimationFrame(this.timerid):clearInterval(this.timerid))},v.prototype._next=function(){1===this.mode&&(this.timerid=requestAnimationFrame(this._loop))},v.prototype._loop=function(){if(this.running){var Mc=w();500<=Mc-this.prevTime&&(this.targetTime=Mc-1);var Nc=c.ceil((Mc-this.targetTime)/this.interval);for(this.targetTime+=this.interval*Nc;0<Nc&&(this.callback(),Nc--,!(2<w()-Mc)););if(0<Nc){var Oc=this;x(function Pc(Qc){for(;0<Nc&&0<Qc.timeRemaining();)Oc.callback(),Nc--;0<Nc&&!Qc.didTimeout&&x(Pc,{timeout:1e3})},{timeout:1e3})}this._next(),this.prevTime=Mc}};var w=a.performance&&performance.now?performance.now.bind(performance):Date.now?Date.now.bind(Date):function(){return 1e3*(new Date).getTime()},x="function"==typeof requestIdleCallback?requestIdleCallback:"function"==typeof setImmediate?function(Rc){setImmediate(function(){var Sc=w();Rc({didTimeout:!1,timeRemaining:function(){return 50+Sc-w()}})})}:function(Uc){setTimeout(function(){var Vc=w();Uc({didTimeout:!1,timeRemaining:function(){return 50+Vc-w()}})},1)};function y(Xc,Yc,Zc,$c){this.gg=Xc,this.gk=Yc,this.km=Zc,this.mp=$c,this.co_j=new d,this.map_string=new Array(9),this.map_bg=r(15,9),this.stage_c=new Array(10),this.stage_x=new Array(10),this.stage_y=new Array(10),this.stage_cf=new Array(10),this.ie_c=new Array(16),this.ie_x=new Array(16),this.ie_y=new Array(16),this.zure_x=16,this.zure_y=24,this.mp_mode=0,this.cc_p1_x=new Array(17),this.cc_p1_y=new Array(17),this.cc_p2_x=new Array(17),this.cc_p2_y=new Array(17),this.cc_p1_x[13]=-200,this.cc_p1_y[13]=160,this.cc_p1_x[14]=-200,this.cc_p1_y[14]=520,this.cc_p1_x[15]=712,this.cc_p1_y[15]=520,this.cc_p1_x[16]=712,this.cc_p1_y[16]=160,this.cc_p2_x[13]=712,this.cc_p2_y[13]=160,this.cc_p2_x[14]=712,this.cc_p2_y[14]=-200,this.cc_p2_x[15]=-200,this.cc_p2_y[15]=-200,this.cc_p2_x[16]=-200,this.cc_p2_y[16]=160}function z(Gd,Hd){if(2==arguments.length){this._dat=b.createElement("canvas"),this._dat.width=Gd,this._dat.height=Hd,this._width=Gd,this._height=Hd;var Id=this._dat.getContext("2d");Id.lineWidth=1.6,Id.lineCap="round",Id.save()}else this._dat=null,this._width=-1,this._height=-1;this._loaded=!1,this._error=!1,this._g=null}function B(Md){Md.onerror()}function C(Nd){this._ctx=Nd._dat.getContext("2d"),this._ctx&&(this._ctx.restore(),this._ctx.save()),this._color=D.black,this._font=new E(E.DIALOG,E.PLAIN,10)}function D(kf,lf,mf,nf){this.r=255<kf?255:kf<0?0:kf,this.g=255<lf?255:lf<0?0:lf,this.b=255<mf?255:mf<0?0:mf,4==arguments.length?this.a=255<nf?255:nf<0?0:nf:this.a=255}function E(of,pf,qf){this._name=of,this._style=pf,this._size=qf}function F(rf,sf,tf){this.gg=rf,this.gk=sf,this.name_crys=tf,this.hi=this.gg.spt_img[0],this.hih=this.gg.spt_img,this.hg=this.gg.os_g,this.ap=this.gg.ap,this.c=new Array(16),this.x=new Array(16),this.y=new Array(16),this.width=new Array(16),this.selectedIndex=new Array(16),this.item_kazu=new Array(16),this.message=new Array(16),this.item=r(16,16),this.item_int=r(16,16),this.item_color=new Array(16),this.list_IDlist=new Array(16),this.aw=-1,this.mode=0,this.kettei_c=0,this.cancel_c=0,this.initAll()}function G(qh,rh,sh){this.ran_seed=void 0,this.ml_mode=0,this.ml_mode_c=0,this.score=0,this.highscore=0,this.score_1up_1=0,this.score_1up_2=0,this.score_1up_1_para=0,this.score_1up_2_para=0,this.score_v=!0,this.stage=1,this.stage_cc=0,this.stage_max=1,this.stage_kaishi=1,this.g_c1=0,this.g_c2=0,this.g_c3=0,this.g_ac=0,this.g_ac2=0,this.tr1_c=0,this.tr2_c=0,this.left_dcc=0,this.right_dcc=0,this.co_t=new Array(130),this.co_m=new Array(24),this.co_a=new Array(32),this.co_h=new Array(64),this.co_jm=new Array(2),this.vo_x=r(32,4),this.vo_y=r(32,4),this.j_zan_x=new Array(6),this.j_zan_y=new Array(6),this.j_zan_pt=new Array(6),this.j_zan_pth=new Array(6),this.vo_pa_x=new Array(6),this.vo_pa_y=new Array(6),this.stage_1up_f=new Array(3),this.shop_item_name=new Array(16),this.shop_item_teika=new Array(16),this.door_score=10,this.gg=qh,this.gm=rh,this.gk=sh,this.maps=new H(200,100,this.gg,this),this.km=new F(this.gg,this.gk,"まさお"),this.co_j=new d;for(var th=0;th<=129;th++)this.co_t[th]=new d;for(var uh=0;uh<=23;uh++)this.co_m[uh]=new d;for(var vh=0;vh<=31;vh++)this.co_a[vh]=new d;for(var wh=0;wh<=63;wh++)this.co_h[wh]=new d;for(var xh=0;xh<=1;xh++)this.co_jm[xh]=new d;this.co_b=new d,2==this.paraInt("stage_select")?(this.stage_select=2,this.stage_max=4):this.stage_select=1,this.ig=new y(this.gg,this.gk,this.km,this),this.ranInit(),this.hi=this.gg.spt_img[0],this.hih=this.gg.spt_img,this.hg=this.gg.os_g,this.ap=this.gg.ap,this.init1()}function H(Pp,Qp,Rp,Sp){this.width=Pp,this.height=Qp,this.gg=Rp,this.mp=Sp,this.map_bg=r(this.width,this.height),this.map_string=new Array(this.height),this.bg_space="",this.hi=this.gg.spt_img[0],this.g2=this.gg.os2_g,this.ap=this.gg.ap;for(var Tp=0;Tp<=this.width;Tp++)this.bg_space+=".";this.init()}function I(rq,sq,tq,uq){this.th_interval=70,this.th_jm=10,this.params=rq,this.__canvas=sq,this.__appimg=new z(512,320),this.__game=tq,this.options=uq}y.prototype.worldInit=function(){for(var _c=0;_c<=9;_c++)this.stage_c[_c]=0,this.stage_cf[_c]=!1;this.stage_kcID=0,this.door_koID=0,this.dokan_khID=0;for(_c=this.door_score_open=0;_c<=15;_c++)this.ie_c[_c]=0;this.co_j.x=0,this.co_j.y=0,this.co_j.vx=0,this.co_j.vy=0,this.co_j.muki=1,this.co_j.ac=0,this.mp.tr1_c=2,this.shop_kattaitem=-1,this.mp_mode=0,this.km.initAll(),this.km.mode=100;for(_c=0;_c<=8;_c++){var ad=this.gg.ap.getParameter("chizu-"+_c);ad+="...............",this.map_string[_c]=ad}for(_c=0;_c<=8;_c++)for(var bd=0;bd<=14;bd++){var cd=this.map_string[_c].charAt(bd);"A"==cd?(this.co_j.x=32*bd,this.co_j.y=32*_c,this.map_bg[bd][_c]=220):"B"==cd?(this.map_bg[bd][_c]=216,this.ie_c[3]=100,this.ie_x[3]=32*bd,this.ie_y[3]=32*_c):"C"==cd?(this.map_bg[bd][_c]=217,this.ie_c[4]=100,this.ie_x[4]=32*bd,this.ie_y[4]=32*_c):"D"==cd?(this.map_bg[bd][_c]=218,this.ie_c[10]=100,this.ie_x[10]=32*bd,this.ie_y[10]=32*_c):"E"==cd?(this.map_bg[bd][_c]=219,this.ie_c[11]=100,this.ie_x[11]=32*bd,this.ie_y[11]=32*_c):"a"==cd?0==this.stage_c[0]?(this.map_bg[bd][_c]=223,this.stage_c[0]=100,this.stage_x[0]=32*bd,this.stage_y[0]=32*_c):this.map_bg[bd][_c]=220:"b"==cd?0==this.stage_c[1]?(this.map_bg[bd][_c]=224,this.stage_c[1]=100,this.stage_x[1]=32*bd,this.stage_y[1]=32*_c):this.map_bg[bd][_c]=220:"c"==cd?0==this.stage_c[2]?(this.map_bg[bd][_c]=225,this.stage_c[2]=100,this.stage_x[2]=32*bd,this.stage_y[2]=32*_c):this.map_bg[bd][_c]=220:"d"==cd?0==this.stage_c[3]?(this.map_bg[bd][_c]=226,this.stage_c[3]=100,this.stage_x[3]=32*bd,this.stage_y[3]=32*_c):this.map_bg[bd][_c]=220:"e"==cd?(this.map_bg[bd][_c]=213,this.ie_c[0]=100,this.ie_x[0]=32*bd,this.ie_y[0]=32*_c):"f"==cd?(this.map_bg[bd][_c]=214,this.ie_c[1]=100,this.ie_x[1]=32*bd,this.ie_y[1]=32*_c):"g"==cd?(this.map_bg[bd][_c]=215,this.ie_c[2]=100,this.ie_x[2]=32*bd,this.ie_y[2]=32*_c):"h"==cd?(this.map_bg[bd][_c]=212,this.ie_c[9]=100,this.ie_x[9]=32*bd,this.ie_y[9]=32*_c):"i"==cd?(this.map_bg[bd][_c]=206,this.ie_c[5]=100,this.ie_x[5]=32*bd,this.ie_y[5]=32*_c):"j"==cd?(this.map_bg[bd][_c]=207,this.ie_c[6]=100,this.ie_x[6]=32*bd,this.ie_y[6]=32*_c):"k"==cd?(this.map_bg[bd][_c]=208,this.ie_c[7]=100,this.ie_x[7]=32*bd,this.ie_y[7]=32*_c):"l"==cd?(this.map_bg[bd][_c]=209,this.ie_c[8]=100,this.ie_x[8]=32*bd,this.ie_y[8]=32*_c):this.map_bg[bd][_c]="1"==cd?220:"2"==cd?221:"3"==cd?222:0}256<this.co_j.x+16&&(this.co_j.muki=0),this.drawOs2()},y.prototype.worldInit2=function(){this.co_j.vx=0,this.co_j.vy=0,this.co_j.muki=1,this.co_j.ac=0,this.mp.tr1_c=2,this.mp_mode=200,this.cc_hankei=12,this.stage_kcID=0,this.door_koID=0,this.shop_kattaitem=-1,this.door_score_open=0,100==this.ie_c[9]&&this.mp.score>=this.mp.door_score&&(this.ie_c[9]=50,this.door_score_open=1),this.km.initAll(),this.km.mode=100,this.drawOs2()},y.prototype.worldInit3=function(){this.stage_kcID=this.checkStage(),this.stage_cf[this.stage_kcID-1]=!0,this.stage_c[this.stage_kcID-1]=50;for(var dd=0,ed=0;ed<=2;ed++)this.stage_cf[ed]&&dd++;this.door_koID=0,1<=dd&&100==this.ie_c[dd-1]&&(this.ie_c[dd-1]=50,this.door_koID=dd),this.door_score_open=0,100==this.ie_c[9]&&this.mp.score>=this.mp.door_score&&(this.ie_c[9]=50,this.door_score_open=1),this.co_j.vx=0,this.co_j.vy=0,this.co_j.muki=1,this.co_j.ac=0,this.mp.tr1_c=2,this.co_j.pt=0,this.shop_kattaitem=-1,this.mp_mode=200,this.cc_hankei=12,this.km.initAll(),this.km.mode=100,this.drawOs2()},y.prototype.drawOs2=function(){this.gg.setBackcolor(new D(0,127,0)),this.gg.fill2(),this.gg.os2_g.drawImage(this.gg.li[3],0,0,this.gg.ap);for(var fd=0;fd<=8;fd++)for(var gd=0;gd<=14;gd++){221==(hd=this.map_bg[gd][fd])?(this.gg.drawPT2(32*gd+16,32*fd+24-16,221),this.gg.drawPT2(32*gd+16,32*fd+24+16,221)):222==hd&&(this.gg.drawPT2(32*gd+16-16,32*fd+24,222),this.gg.drawPT2(32*gd+16+16,32*fd+24,222))}for(fd=0;fd<=8;fd++)for(gd=0;gd<=14;gd++){var hd;61!=(hd=this.map_bg[gd][fd])&&62!=hd&&256!=hd&&(216<=hd&&hd<=219?this.gg.drawPT2(32*gd+16,32*fd+24-7,hd):206<=hd&&hd<=209?this.gg.drawPT2(32*gd+16,32*fd+24-7,hd):212<=hd&&hd<=215?(this.gg.drawPT2(32*gd+16-16,32*fd+24,222),this.gg.drawPT2(32*gd+16+16,32*fd+24,222),this.gg.drawPT2(32*gd+16,32*fd+24-7,hd)):this.gg.drawPT2(32*gd+16,32*fd+24,hd))}},y.prototype.drawMap=function(){this.gg.os_g.drawImage(this.gg.os2_img,0,0,this.gg.ap)},y.prototype.getBGZ=function(id,jd){if(id<0||479<id||jd<0||287<jd)return 0;var kd=id>>5,ld=jd>>5;return this.map_bg[kd][ld]},y.prototype.checkStage=function(){for(var md=-1,nd=0;nd<=9;nd++)if(100==this.stage_c[nd]&&this.co_j.x==this.stage_x[nd]&&this.co_j.y==this.stage_y[nd]){md=nd+1;break}return md},y.prototype.mainProgram=function(){if(this.gk.tr1_f?this.mp.tr1_c<2&&(this.mp.tr1_c+=1):this.mp.tr1_c=0,0==this.mp_mode){if(100==this.km.mode)this.jMove();else if(200==this.km.mode)1==this.km.cancel_c?(this.km.off(3),this.km.off(4),this.km.mode=100):1==this.km.kettei_c&&(this.km.init1(3),this.km.setMessage(3,this.mp.mes1_name),this.mp.addSerifu(3,2,3),this.km.activeSerifu(3,120,150,272,D.cyan),this.km.mode=210);else if(210==this.km.mode)1!=this.km.cancel_c&&1!=this.km.kettei_c||(this.km.off(3),this.km.off(4),this.km.mode=100);else if(300==this.km.mode)1==this.km.cancel_c?(this.km.off(3),this.km.off(4),this.km.mode=100):1==this.km.kettei_c&&(this.km.init1(3),this.km.setMessage(3,this.mp.mes2_name),this.mp.addSerifu(3,4,3),this.km.activeSerifu(3,120,150,272,D.cyan),this.km.mode=210);else if(400==this.km.mode){if(1==this.km.cancel_c)this.km.off(3),this.km.off(4),this.km.mode=100;else if(1==this.km.kettei_c){this.km.off(3),this.km.list_kazu=0,this.km.init1(6),this.km.setMessage(6,this.gg.ap.getParameter("shop_serifu1"));for(var od=0;od<=8;od++)0<this.mp.shop_item_teika[od]&&(this.km.addItem2(6,this.mp.shop_item_name[od],this.mp.shop_item_teika[od]),this.km.list_IDlist[this.km.list_kazu]=od,this.km.list_kazu+=1);1<=this.km.list_kazu?(this.km.activeKaimono(6,296,76,184),this.km.mode=410):(this.km.init1(6),this.km.init1(3),this.km.setMessage(3,"Error"),this.km.addItem(3,"Please set any item on shop menu."),this.km.activeSerifu(3,120,150,216,D.red),this.km.mode=210)}}else 410==this.km.mode?1==this.km.cancel_c?(this.km.off(4),this.km.off(6),this.km.mode=100):1==this.km.kettei_c&&(this.km.list_s=this.km.list_IDlist[this.km.selectedIndex[6]],this.km.init1(7),this.km.setMessage(7,this.mp.shop_item_name[this.km.list_s]+this.gg.ap.getParameter("shop_serifu2")),this.km.addItem(7,this.gg.ap.getParameter("shop_serifu3")),this.km.addItem(7,this.gg.ap.getParameter("shop_serifu4")),this.km.activeSerifutuki(7,48,150,236,this.mp.shop_name),this.km.mode=420):420==this.km.mode?1==this.km.cancel_c?(this.km.offActivewindow(7,6),this.km.mode=410):1==this.km.kettei_c&&(0==this.km.selectedIndex[7]?(this.mp.score>=this.mp.shop_item_teika[this.km.list_s]?(this.km.init1(3),this.km.addItem(3,this.mp.shop_item_name[this.km.list_s]+this.gg.ap.getParameter("shop_serifu5")),this.km.activeIchigyou(3,48,240,236),this.mp.score-=this.mp.shop_item_teika[this.km.list_s],this.shop_kattaitem=this.km.list_s,7==this.shop_kattaitem&&(this.mp.j_left+=1)):(this.km.init1(3),this.km.addItem(3,this.gg.ap.getParameter("shop_serifu6")),this.km.activeIchigyou(3,48,240,236)),this.km.mode=430):(this.km.off(4),this.km.off(6),this.km.off(7),this.km.mode=100)):430==this.km.mode?1!=this.km.cancel_c&&1!=this.km.kettei_c||(this.km.off(3),this.km.off(4),this.km.off(6),this.km.off(7),this.km.mode=100):500==this.km.mode?1==this.km.cancel_c?(this.km.off(4),this.km.off(3),this.km.mode=100):1==this.km.kettei_c&&(this.km.off(3),this.km.init1(2),this.km.setMessage(2,this.gg.ap.getParameter("setumei_menu1")),this.km.addItem(2,this.gg.ap.getParameter("setumei_menu2")),this.km.addItem(2,this.gg.ap.getParameter("setumei_menu3")),this.km.addItem(2,this.gg.ap.getParameter("setumei_menu4")),this.km.activeSerifutuki(2,120,150,224,this.mp.setumei_name),this.km.mode=510):510==this.km.mode?1==this.km.cancel_c?(this.km.off(2),this.km.off(4),this.km.mode=100):1==this.km.kettei_c&&(this.km.init1(3),this.km.setMessage(3,this.mp.setumei_name),1==this.km.selectedIndex[2]?this.mp.addSerifu(3,11,3):2==this.km.selectedIndex[2]?this.mp.addSerifu(3,12,3):this.mp.addSerifu(3,10,3),this.km.activeSerifu(3,200,191,272,D.cyan),this.km.mode=520):520==this.km.mode&&(1==this.km.cancel_c?(this.km.offActivewindow(3,2),this.km.mode=510):1==this.km.kettei_c&&(this.km.off(2),this.km.off(3),this.km.off(4),this.km.mode=100));this.km.move()}if(1e3==this.co_j.pt?this.gg.drawPT(this.co_j.x+16,this.co_j.y+24-12-6,100,this.co_j.muki):1010==this.co_j.pt?this.gg.drawPT(this.co_j.x+16,this.co_j.y+24-12+5,100,this.co_j.muki):202<=this.co_j.pt&&this.co_j.pt<=205?this.gg.drawPT(this.co_j.x+16,this.co_j.y+24-12,this.co_j.pt,0):this.gg.drawPT(this.co_j.x+16,this.co_j.y+24-12,this.co_j.pt,this.co_j.muki),this.km.drawMenus(),100==this.mp_mode)this.circleCLS(this.cc_hankei),this.cc_hankei-=12,this.cc_hankei<0&&(this.cc_hankei=0,this.mp_mode=110);else if(110==this.mp_mode)this.circleCLS(this.cc_hankei);else if(200==this.mp_mode){if(this.circleCLS(this.cc_hankei),this.cc_hankei+=12,312<this.cc_hankei)if(1<=this.stage_kcID){this.mp_mode=300,this.cc_hankei=0;var pd=this.stage_y[this.stage_kcID-1]>>5;this.map_bg[this.stage_x[this.stage_kcID-1]>>5][pd]=227,1<=this.door_koID&&(this.map_bg[this.ie_x[this.door_koID-1]>>5][this.ie_y[this.door_koID-1]>>5]=222),1==this.door_score_open&&(this.map_bg[this.ie_x[9]>>5][this.ie_y[9]>>5]=222),this.drawOs2()}else this.mp_mode=0,1==this.door_score_open&&(this.mp_mode=400,this.cc_hankei=0,this.map_bg[this.ie_x[9]>>5][this.ie_y[9]>>5]=222,this.drawOs2())}else if(300==this.mp_mode){var qd;this.cc_hankei+=1,this.cc_hankei<=3?qd=0:this.cc_hankei<=6?qd=1:this.cc_hankei<=9?qd=0:this.cc_hankei<=12?qd=1:this.cc_hankei<=15?qd=0:this.cc_hankei<=18?qd=1:this.cc_hankei<=21?qd=0:this.cc_hankei<=24?qd=1:this.cc_hankei<=26?qd=0:(qd=0,this.mp_mode=0),0<qd&&this.gg.drawPT(this.stage_x[this.stage_kcID-1]+16,this.stage_y[this.stage_kcID-1]+24,222+this.stage_kcID,0),0<qd&&1<=this.door_koID&&this.gg.drawPT(this.ie_x[this.door_koID-1]+16,this.ie_y[this.door_koID-1]+24-7,212+this.door_koID,0),0<qd&&1==this.door_score_open&&this.gg.drawPT(this.ie_x[9]+16,this.ie_y[9]+24-7,212,0)}else if(400==this.mp_mode){var rd;this.cc_hankei+=1,this.cc_hankei<=3?rd=0:this.cc_hankei<=6?rd=1:this.cc_hankei<=9?rd=0:this.cc_hankei<=12?rd=1:this.cc_hankei<=15?rd=0:this.cc_hankei<=18?rd=1:this.cc_hankei<=21?rd=0:this.cc_hankei<=24?rd=1:this.cc_hankei<=26?rd=0:(rd=0,this.mp_mode=0),0<rd&&this.gg.drawPT(this.ie_x[9]+16,this.ie_y[9]+24-7,212,0)}},y.prototype.jMove=function(){var sd=this.co_j.x,td=this.co_j.y;if(this.co_j.pt=100,0==this.co_j.vx&&0==this.co_j.vy){if(this.co_j.ac+=1,7<this.co_j.ac&&(this.co_j.ac=0),3<this.co_j.ac){this.co_j.pt=1e3;var ud=this.getBGZ(sd,td);(216<=ud&&ud<=219||206<=ud&&ud<=209)&&(this.co_j.pt=1010)}if(1==this.mp.tr1_c)if(1<=this.checkStage())this.mp_mode=100,this.cc_hankei=312,this.co_j.ac=0,this.dokan_khID=0,this.co_j.pt=100;else if(206<=this.getBGZ(sd,td)&&this.getBGZ(sd,td)<=209)if(2==this.mp.dokan_mode)for(var vd=!1,wd=0;wd<=8;wd++){for(var xd=0;xd<=14;xd++)if((32*xd!=sd||32*wd!=td)&&this.map_bg[xd][wd]==this.getBGZ(sd,td)){sd=32*xd,td=32*wd,this.co_j.ac=0,this.co_j.pt=1010,vd=!0;break}if(vd)break}else this.mp_mode=100,this.cc_hankei=312,this.co_j.ac=0,this.dokan_khID=this.getBGZ(sd,td)-205,this.co_j.pt=1010;else 216==this.getBGZ(sd,td)?(this.km.init1(4),this.km.onKao(4,120,42,272,230),this.km.init1(3),this.km.setMessage(3,this.mp.mes1_name),this.mp.addSerifu(3,1,3),this.km.activeSerifu(3,120,150,272,D.cyan),this.km.mode=200,this.co_j.pt=1010,this.co_j.ac=0):217==this.getBGZ(sd,td)?(this.km.init1(4),this.km.onKao(4,120,42,272,232),this.km.init1(3),this.km.setMessage(3,this.mp.mes2_name),this.mp.addSerifu(3,3,3),this.km.activeSerifu(3,120,150,272,D.cyan),this.km.mode=300,this.co_j.pt=1010,this.co_j.ac=0):218==this.getBGZ(sd,td)?(this.km.init1(4),this.km.onKao(4,120,42,216,234),this.shop_kattaitem<0?(this.km.init1(3),this.km.setMessage(3,this.mp.shop_name),this.mp.addSerifu(3,5,3),this.km.activeSerifu(3,120,150,216,D.cyan),this.km.mode=400):(this.km.init1(3),this.km.setMessage(3,this.mp.shop_name),this.mp.addSerifu(3,8,3),this.km.activeSerifu(3,120,150,216,D.cyan),this.km.mode=210),this.co_j.pt=1010,this.co_j.ac=0):219==this.getBGZ(sd,td)&&(this.km.init1(4),this.km.onKao(4,120,42,272,236),this.km.init1(3),this.km.setMessage(3,this.mp.setumei_name),this.mp.addSerifu(3,9,3),this.km.activeSerifu(3,120,150,272,D.cyan),this.km.mode=500,this.co_j.pt=1010,this.co_j.ac=0);else this.gk.up_f?221==this.getBGZ(sd,td-32)&&(this.co_j.vy=-4,this.co_j.ac=-1):this.gk.down_f?221==this.getBGZ(sd,td+32)&&(this.co_j.vy=4,this.co_j.ac=-1):this.gk.left_f?(this.co_j.muki=0,222==this.getBGZ(sd-32,td)&&(this.co_j.vx=-4,this.co_j.ac=-1),212<=this.getBGZ(sd+32,td)&&this.getBGZ(sd+32,td)<=215&&(this.co_j.vx=-4,this.co_j.ac=-1)):this.gk.right_f&&(this.co_j.muki=1,222==this.getBGZ(sd+32,td)&&(this.co_j.vx=4,this.co_j.ac=-1),212<=this.getBGZ(sd-32,td)&&this.getBGZ(sd-32,td)<=215&&(this.co_j.vx=4,this.co_j.ac=-1))}if(0!=this.co_j.vx||0!=this.co_j.vy){if(this.co_j.ac+=1,3<this.co_j.ac&&(this.co_j.ac=0),sd+=this.co_j.vx,td+=this.co_j.vy,0!=this.co_j.vx?this.co_j.ac<=1?this.co_j.pt=103:this.co_j.pt=104:0<=this.co_j.vy?this.co_j.ac<=1?this.co_j.pt=202:this.co_j.pt=203:this.co_j.ac<=1?this.co_j.pt=204:this.co_j.pt=205,sd%32==0&&td%32==0){var yd=this.getBGZ(sd,td);(220==yd||223<=yd&&yd<=227||216<=yd&&yd<=219||206<=yd&&yd<=209)&&(this.co_j.vx=0,this.co_j.vy=0,this.co_j.ac=0),(yd=0)<this.co_j.vx?yd=this.getBGZ(sd+32,td):this.co_j.vx<0&&(yd=this.getBGZ(sd-32,td)),212<=yd&&yd<=215&&(this.co_j.vx=0,this.co_j.vy=0,this.co_j.pt=100,this.co_j.ac=0)}sd<=-32?(sd=-32,this.co_j.vx=0,this.co_j.vy=0,this.co_j.ac=0):480<=sd&&(sd=480,this.co_j.vx=0,this.co_j.vy=0,this.co_j.ac=0),td<=-32?(td=-32,this.co_j.vx=0,this.co_j.vy=0,this.co_j.ac=0):288<=td&&(td=288,this.co_j.vx=0,this.co_j.vy=0,this.co_j.ac=0)}this.co_j.x=sd,this.co_j.y=td},y.prototype.circleCLS=function(zd){for(var Ad=0;Ad<=12;Ad++){var Bd=c.sin(.2617992*Ad);this.cc_p1_y[Ad]=160+c.floor(Bd*zd);var Cd=c.cos(.2617992*Ad);this.cc_p1_x[Ad]=256+c.floor(Cd*zd),this.cc_p2_y[Ad]=160-c.floor(Bd*zd),this.cc_p2_x[Ad]=256-c.floor(Cd*zd)}this.gg.os_g.setColor(D.black),this.gg.os_g.fillPolygon(this.cc_p1_x,this.cc_p1_y,17),this.gg.os_g.fillPolygon(this.cc_p2_x,this.cc_p2_y,17)},y.prototype.squareCLS=function(Dd,Ed){var Fd=.017453292519943295;this.cc_p1_x[0]=c.floor(c.cos((this.cc_kakudo+0)*Fd)*Dd)+256,this.cc_p1_y[0]=c.floor(c.sin((this.cc_kakudo+0)*Fd)*Dd)+160,this.cc_p1_x[1]=c.floor(c.cos((this.cc_kakudo+90)*Fd)*Dd)+256,this.cc_p1_y[1]=c.floor(c.sin((this.cc_kakudo+90)*Fd)*Dd)+160,this.cc_p1_x[2]=c.floor(c.cos((this.cc_kakudo+180)*Fd)*Dd)+256,this.cc_p1_y[2]=c.floor(c.sin((this.cc_kakudo+180)*Fd)*Dd)+160,this.cc_p1_x[3]=c.floor(500*c.cos((this.cc_kakudo+180)*Fd))+256,this.cc_p1_y[3]=c.floor(500*c.sin((this.cc_kakudo+180)*Fd))+160,this.cc_p1_x[4]=c.floor(700*c.cos((this.cc_kakudo+135)*Fd))+256,this.cc_p1_y[4]=c.floor(700*c.sin((this.cc_kakudo+135)*Fd))+160,this.cc_p1_x[5]=c.floor(700*c.cos((this.cc_kakudo+45)*Fd))+256,this.cc_p1_y[5]=c.floor(700*c.sin((this.cc_kakudo+45)*Fd))+160,this.cc_p1_x[6]=c.floor(500*c.cos((this.cc_kakudo+0)*Fd))+256,this.cc_p1_y[6]=c.floor(500*c.sin((this.cc_kakudo+0)*Fd))+160,this.cc_p2_x[0]=c.floor(c.cos((this.cc_kakudo+180)*Fd)*Dd)+256,this.cc_p2_y[0]=c.floor(c.sin((this.cc_kakudo+180)*Fd)*Dd)+160,this.cc_p2_x[1]=c.floor(c.cos((this.cc_kakudo+270)*Fd)*Dd)+256,this.cc_p2_y[1]=c.floor(c.sin((this.cc_kakudo+270)*Fd)*Dd)+160,this.cc_p2_x[2]=c.floor(c.cos((this.cc_kakudo+360)*Fd)*Dd)+256,this.cc_p2_y[2]=c.floor(c.sin((this.cc_kakudo+360)*Fd)*Dd)+160,this.cc_p2_x[3]=c.floor(500*c.cos((this.cc_kakudo+360)*Fd))+256,this.cc_p2_y[3]=c.floor(500*c.sin((this.cc_kakudo+360)*Fd))+160,this.cc_p2_x[4]=c.floor(700*c.cos((this.cc_kakudo+315)*Fd))+256,this.cc_p2_y[4]=c.floor(700*c.sin((this.cc_kakudo+315)*Fd))+160,this.cc_p2_x[5]=c.floor(700*c.cos((this.cc_kakudo+225)*Fd))+256,this.cc_p2_y[5]=c.floor(700*c.sin((this.cc_kakudo+225)*Fd))+160,this.cc_p2_x[6]=c.floor(500*c.cos((this.cc_kakudo+180)*Fd))+256,this.cc_p2_y[6]=c.floor(500*c.sin((this.cc_kakudo+180)*Fd))+160,this.gg.os_g.setColor(D.black),this.gg.os_g.fillPolygon(this.cc_p1_x,this.cc_p1_y,7),this.gg.os_g.fillPolygon(this.cc_p2_x,this.cc_p2_y,7)},z.prototype.load=function(Jd){this._loaded=!1,this._error=!1,this._width=-1,this._height=-1,this._dat=new Image;var Kd=this;this._dat.onload=function(){Kd.onload()},this._dat.onerror=function(){B(Kd)},this._dat.onabort=function(){B(Kd)},this._dat.ontimeout=function(){B(Kd)},this._dat.src=Jd,this._dat.complete&&this.onload()},z.prototype.onload=function(){this._loaded=!0,this._width=this._dat.naturalWidth,this._height=this._dat.naturalHeight},z.prototype.onerror=function(){this._error=!0,this._dat=null},z.prototype.getGraphics=function(){return this._width<0?null:(this._g=new C(this),this._g)},z.prototype.createGraphics=function(){return this.getGraphics()},C.prototype.drawLine=function(Od,Pd,Qd,Rd){return null!=this._ctx&&(this._ctx.beginPath(),this._ctx.moveTo(Od,Pd),this._ctx.lineTo(Qd,Rd),this._ctx.stroke(),!0)},C.prototype.drawImage=function(Sd,Td,Ud,Vd,Wd,Xd,Yd,Zd,$d,_d){if(null==Sd._dat)return!1;if(null==this._ctx)return!1;try{if(arguments.length<=4)return this._ctx.drawImage(Sd._dat,Td,Ud),!0;if(arguments.length<=6)return this._ctx.drawImage(Sd._dat,Td,Ud,Vd,Wd),!0;if(arguments.length<=10)return this._ctx.drawImage(Sd._dat,Td,Ud,Vd,Wd,Xd,Yd,Zd,$d),!0}catch(ae){}return!1},C.prototype.drawRect=function(be,ce,de,ee){return null!=this._ctx&&(this._ctx.strokeRect(be,ce,de,ee),!0)},C.prototype.fillRect=function(fe,ge,he,ie){return null!=this._ctx&&(this._ctx.fillRect(fe,ge,he,ie),!0)},C.prototype.drawPolygon=function(je,ke,le){if(null==this._ctx)return!1;this._ctx.beginPath(),this._ctx.moveTo(je[0],ke[0]);for(var me=1;me<le;me++)this._ctx.lineTo(je[me],ke[me]);return this._ctx.closePath(),this._ctx.stroke(),!0},C.prototype.fillPolygon=function(ne,oe,pe){if(null==this._ctx)return!1;this._ctx.beginPath(),this._ctx.moveTo(ne[0],oe[0]);for(var qe=1;qe<pe;qe++)this._ctx.lineTo(ne[qe],oe[qe]);return this._ctx.closePath(),this._ctx.fill(),!0},C.prototype.drawOval=function(re,se,te,ue){return null!=this._ctx&&(this.drawArc(re,se,te,ue,0,2*c.PI),!0)},C.prototype.fillOval=function(ve,we,xe,ye){return null!=this._ctx&&(this.fillArc(ve,we,xe,ye,0,2*c.PI),!0)},C.prototype.drawArc=function(ze,Ae,Be,Ce,De,Ee){if(null==this._ctx)return!1;var Fe=Ce/Be;return this._ctx.save(),this._ctx.beginPath(),this._ctx.scale(1,Fe),this._ctx.arc(ze+Be/2,(Ae+Ce/2)/Fe,Be/2,De,De+Ee,Ee<0),this._ctx.stroke(),this._ctx.restore(),!0},C.prototype.fillArc=function(Ge,He,Ie,Je,Ke,Le){if(null==this._ctx)return!1;var Me=Je/Ie;return this._ctx.save(),this._ctx.beginPath(),this._ctx.scale(1,Me),this._ctx.arc(Ge+Ie/2,(He+Je/2)/Me,Ie/2,Ke,Ke+Le,Le<0),this._ctx.lineTo(Ge+Ie/2,(He+Je/2)/Me),this._ctx.closePath(),this._ctx.fill(),this._ctx.restore(),!0},C.prototype.setGlobalAlpha=function(Ne){return null!=this._ctx&&(Ne<0&&(Ne=0),255<Ne&&(Ne=255),this._ctx.globalAlpha=Ne/255,!0)},C.prototype.setColor=function(Oe){if(null==this._ctx)return!1;this._color=new D(Oe.r,Oe.g,Oe.b,Oe.a);var Pe="rgba("+Oe.r+", "+Oe.g+", "+Oe.b+", "+Oe.a/255+")";return this._ctx.strokeStyle=Pe,this._ctx.fillStyle=Pe,!0},C.prototype.setFont=function(Qe){if(null==this._ctx)return!1;var Re="";return Qe._style&E.ITALIC&&(Re+="italic "),Qe._style&E.BOLD&&(Re+="bold "),Re+=Qe._size+"px ",Qe._name==E.SERIF?Re+="serif":Qe._name==E.SANS_SERIF?Re+="sans-serif":Qe._name==E.MONOSPACED?Re+="monospace":Qe._name==E.DIALOG?Re+="'Helvetica','Arial','ＭＳ ゴシック','HG ゴシックB Sun','HG ゴシックB',monospace":Re+='"'+Qe._name+'"',this._ctx.font=Re,this._font=Qe,!0},C.prototype.drawString=function(Se,Te,Ue){return null!=this._ctx&&(this._ctx.fillText(Se,Te,Ue),!0)},C.prototype.translate=function(Ve,We){return null!=this._ctx&&(this._ctx.translate(Ve,We),!0)},C.prototype.rotate=function(Xe,Ye,Ze){return null!=this._ctx&&(1==arguments.length?this._ctx.rotate(Xe):(this._ctx.translate(Ye,Ze),this._ctx.rotate(Xe),this._ctx.translate(-Ye,-Ze)),!0)},C.prototype.scale=function($e,_e){return null!=this._ctx&&(this._ctx.scale($e,_e),!0)},C.prototype.setClip=function(af){if(null==this._ctx)return!1;if("ellipse"==af){var bf=arguments[4]/arguments[3];return this._ctx.beginPath(),this._ctx.save(),this._ctx.scale(1,bf),this._ctx.arc(arguments[1]+arguments[3]/2,(arguments[2]+arguments[4]/2)/bf,arguments[3]/2,0,2*c.PI,!1),this._ctx.restore(),this._ctx.clip(),!0}if("rect"==af)return this._ctx.beginPath(),this._ctx.rect(arguments[1],arguments[2],arguments[3],arguments[4]),this._ctx.clip(),!0;if("polygon"==af){this._ctx.beginPath(),this._ctx.moveTo(arguments[1][0],arguments[2][0]);for(var cf=1;cf<arguments[3];cf++)this._ctx.lineTo(arguments[1][cf],arguments[2][cf]);return this._ctx.closePath(),this._ctx.clip(),!0}return!1},C.prototype.copyArea=function(df,ef,ff,gf,hf,jf){return null!=this._ctx&&(this._ctx.drawImage(this._ctx.canvas,df,ef,ff,gf,df+hf,ef+jf,ff,gf),!0)},C.prototype.dispose=function(){this._ctx.restore(),this._ctx.save()},D.prototype.getRed=function(){return this.r},D.prototype.getGreen=function(){return this.g},D.prototype.getBlue=function(){return this.b},D.white=new D(255,255,255),D.WHITE=D.white,D.lightGray=new D(192,192,192),D.LIGHT_GRAY=D.lightGray,D.gray=new D(128,128,128),D.GRAY=D.gray,D.darkGray=new D(64,64,64),D.DARK_GRAY=D.darkGray,D.black=new D(0,0,0),D.BLACK=D.black,D.red=new D(255,0,0),D.RED=D.red,D.pink=new D(255,175,175),D.PINK=D.pink,D.orange=new D(255,200,0),D.ORANGE=D.orange,D.yellow=new D(255,255,0),D.YELLOW=D.yellow,D.green=new D(0,255,0),D.GREEN=D.green,D.magenta=new D(255,0,255),D.MAGENTA=D.magenta,D.cyan=new D(0,255,255),D.CYAN=D.cyan,D.blue=new D(0,0,255),D.BLUE=D.blue,E.DIALOG="Dialog",E.DIALOG_INPUT="DialogInput",E.MONOSPACED="Monospaced",E.SANS_SERIF="SansSerif",E.SERIF="Serif",E.PLAIN=0,E.BOLD=1,E.ITALIC=2,F.prototype.initAll=function(){var uf;for(uf=0;uf<=15;uf++)this.init1(uf);for(this.c_fc=0,this.gk.up_c=0,this.gk.down_c=0,this.aw=-1,this.kettei_c=2,this.cancel_c=2,uf=0;uf<=15;uf++)this.list_IDlist[uf]=0;this.list_kazu=0,this.list_s=0},F.prototype.init1=function(vf){var wf;for(this.c[vf]=0,this.x[vf]=0,this.y[vf]=0,this.width[vf]=180,this.selectedIndex[vf]=0,this.item_kazu[vf]=0,this.message[vf]="どうしますか？",wf=0;wf<=15;wf++)this.item[vf][wf]="";for(wf=0;wf<=15;wf++)this.item_int[vf][wf]=0},F.prototype.setMessage=function(xf,yf){this.message[xf]=yf},F.prototype.addItem=function(zf,Af){this.item[zf][this.item_kazu[zf]]=Af,this.item_kazu[zf]+=1},F.prototype.addIntitem=function(Bf,Cf){this.item_int[Bf][this.item_kazu[Bf]]=Cf,this.item_kazu[Bf]+=1},F.prototype.addItem2=function(Df,Ef,Ff){this.item[Df][this.item_kazu[Df]]=Ef,this.item_int[Df][this.item_kazu[Df]]=Ff,this.item_kazu[Df]+=1},F.prototype.active=function(Gf,Hf,If,Jf){this.c[Gf]=100,this.x[Gf]=Hf,this.y[Gf]=If,this.width[Gf]=void 0!==Jf?ParamInt4:180,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=Gf,this.kettei_c=2,this.cancel_c=2},F.prototype.activeSerifutuki=function(Kf,Lf,Mf,Nf,Of){this.c[Kf]=700,this.x[Kf]=Lf,this.y[Kf]=Mf,this.width[Kf]=Nf,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=Kf,this.kettei_c=2,this.cancel_c=2,this.item[Kf][15]=Of},F.prototype.activeKaimono=function(Pf,Qf,Rf,Sf){this.c[Pf]=900,this.x[Pf]=Qf,this.y[Pf]=Rf,this.width[Pf]=Sf,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=Pf,this.kettei_c=2,this.cancel_c=2},F.prototype.activeIchigyou=function(Tf,Uf,Vf,Wf){this.c[Tf]=300,this.x[Tf]=Uf,this.y[Tf]=Vf,this.width[Tf]=Wf,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=Tf,this.kettei_c=2,this.cancel_c=2},F.prototype.activeNigyou=function(Xf,Yf,Zf,$f,_f){this.c[Xf]=310,this.x[Xf]=Yf,this.y[Xf]=Zf,this.width[Xf]=$f,this.item_color[Xf]=_f,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=Xf,this.kettei_c=2,this.cancel_c=2},F.prototype.activeYongyou=function(ag,bg,cg,dg){this.c[ag]=320,this.x[ag]=bg,this.y[ag]=cg,this.width[ag]=dg,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=ag,this.kettei_c=2,this.cancel_c=2},F.prototype.activeYongyou2=function(eg,fg,gg,hg){this.c[eg]=321,this.x[eg]=fg,this.y[eg]=gg,this.width[eg]=hg,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=eg,this.kettei_c=2,this.cancel_c=2},F.prototype.activeSerifu=function(ig,jg,kg,lg,mg){this.c[ig]=330,this.x[ig]=jg,this.y[ig]=kg,this.width[ig]=lg,this.item_color[ig]=mg,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=ig,this.kettei_c=2,this.cancel_c=2},F.prototype.activeYasumu=function(ng,og,pg){this.c[ng]=1e3,this.x[ng]=og,this.y[ng]=pg,this.width[ng]=272,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=ng,this.kettei_c=2,this.cancel_c=2},F.prototype.onKao=function(qg,rg,sg,tg,ug){this.c[qg]=600,this.x[qg]=rg,this.y[qg]=sg,this.width[qg]=tg,this.item_int[qg][0]=ug},F.prototype.onMituketa=function(vg,wg,xg){this.c[vg]=610,this.x[vg]=wg,this.y[vg]=xg,this.width[vg]=200},F.prototype.onOkozukai=function(yg,zg,Ag,Bg,Cg){this.c[yg]=800,this.x[yg]=zg,this.y[yg]=Ag,this.width[yg]=Bg,this.item_int[yg][0]=Cg},F.prototype.activeIchigyouTime=function(Dg,Eg,Fg,Gg){this.c[Dg]=350,this.x[Dg]=Eg,this.y[Dg]=Fg,this.width[Dg]=Gg,this.item_int[Dg][0]=100},F.prototype.activeNigyouTime=function(Hg,Ig,Jg,Kg,Lg){this.c[Hg]=360,this.x[Hg]=Ig,this.y[Hg]=Jg,this.width[Hg]=Kg,this.item_color[Hg]=Lg,this.item_int[Hg][0]=100},F.prototype.activeJibun=function(Mg,Ng,Og,Pg,Qg,Rg,Sg,Tg){this.c[Mg]=400,this.x[Mg]=Ng,this.y[Mg]=Og,this.item_int[14][0]=Qg,this.item_int[14][1]=Rg,this.item_int[14][2]=Sg,this.item_int[14][3]=Tg,this.width[Mg]=Pg,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=Mg,this.kettei_c=2,this.cancel_c=2},F.prototype.activeToujou=function(Ug,Vg,Wg,Xg,Yg,Zg){this.c[Ug]=420,this.x[Ug]=Vg,this.y[Ug]=Wg,this.item_int[Ug][2]=Yg,this.item[Ug][0]=Zg,this.width[Ug]=Xg,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=Ug,this.kettei_c=2,this.cancel_c=2},F.prototype.initCS=function(){this.item_kazu[0]=8,this.selectedIndex[0]=0},F.prototype.activeCS=function(){this.c[0]=500,this.x[0]=0,this.y[0]=0,this.width[0]=0,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=0,this.kettei_c=2},F.prototype.off=function($g){this.c[$g]=0},F.prototype.offActivewindow=function(_g,ah){this.c[_g]=0,this.c_fc=-1,this.gk.up_c=0,this.gk.down_c=0,this.aw=ah,this.kettei_c=2,this.cancel_c=2},F.prototype.move=function(){this.c_fc+=1,6<this.c_fc&&(this.c_fc=0),0<=this.aw&&(this.gk.up_f?(this.gk.up_c+=1,3<this.gk.up_c&&(this.gk.up_c=1)):this.gk.up_c=0,this.gk.down_f?(this.gk.down_c+=1,3<this.gk.down_c&&(this.gk.down_c=1)):this.gk.down_c=0,1==this.gk.up_c?(this.selectedIndex[this.aw]-=1,this.c_fc=-1,this.selectedIndex[this.aw]<0&&(this.selectedIndex[this.aw]=this.item_kazu[this.aw]-1)):1==this.gk.down_c&&(this.selectedIndex[this.aw]+=1,this.c_fc=-1,this.selectedIndex[this.aw]>this.item_kazu[this.aw]-1&&(this.selectedIndex[this.aw]=0))),this.gk.tr1_f?0==this.kettei_c&&(this.kettei_c=1):this.kettei_c=0,this.gk.x_f?0==this.cancel_c&&(this.cancel_c=1):this.cancel_c=0},F.prototype.drawMenus=function(){this.hg.setFont(new E("Dialog",0,12));for(var bh=0;bh<=15;bh++){var ch=this.c[bh];if(0!=ch)switch(ch){case 100:if(this.drawWindowbox(this.x[bh],this.y[bh],this.width[bh],30+14*this.item_kazu[bh]),this.hg.setColor(D.white),this.hg.drawString(this.message[bh],this.x[bh]+24,this.y[bh]+6+12),1<=this.item_kazu[bh])for(var dh=0;dh<=this.item_kazu[bh]-1;dh++)this.hg.drawString(this.item[bh][dh],this.x[bh]+24,this.y[bh]+6+18+14*dh+12);bh==this.aw?this.c_fc<=3&&this.hg.drawImage(this.hi[70],this.x[bh]+6,this.y[bh]+24+14*this.selectedIndex[bh],this.ap):this.hg.drawImage(this.hi[70],this.x[bh]+6,this.y[bh]+24+14*this.selectedIndex[bh],this.ap);break;case 200:this.hg.setColor(D.white),this.hg.fillRect(12,12,128,58),this.hg.setColor(D.black),this.hg.fillRect(14,14,124,54),this.hg.setColor(D.cyan),this.hg.drawString(this.item[14][0],18,30),(this.item_int[14][0]<=0||this.item_int[14][2]<=0)&&(this.hg.setColor(D.red),this.hg.drawString("戦闘不能",82,30)),this.hg.setColor(D.white),this.hg.drawString("HP\t"+this.item_int[14][0]+" / "+this.item_int[14][1],18,48),this.hg.drawString("PP\t"+this.item_int[14][2]+" / "+this.item_int[14][3],18,62);break;case 210:this.hg.setColor(D.white),this.hg.fillRect(160,12,128,58),this.hg.setColor(D.black),this.hg.fillRect(162,14,124,54),this.hg.setColor(D.green),this.hg.drawString(this.item[15][0],166,30),this.item_int[15][0]<=0&&(this.hg.setColor(D.red),this.hg.drawString("戦闘不能",230,30)),this.hg.setColor(D.white),this.hg.drawString("HP\t"+this.item_int[15][0]+" / "+this.item_int[15][1],166,48),this.hg.drawString("PP\t"+this.item_int[15][2]+" / "+this.item_int[15][3],166,62);break;case 220:this.hg.setColor(D.white),this.hg.fillRect(372,12,128,58),this.hg.setColor(D.black),this.hg.fillRect(374,14,124,54),this.hg.setColor(D.cyan),this.hg.drawString(this.item[15][0],378,30),(this.item_int[15][0]<=0||this.item_int[15][2]<=0)&&(this.hg.setColor(D.red),this.hg.drawString("戦闘不能",442,30)),this.hg.setColor(D.white),this.hg.drawString("HP\t"+this.item_int[15][0]+" / "+this.item_int[15][1],378,48),this.hg.drawString("PP\t"+this.item_int[15][2]+" / "+this.item_int[15][3],378,62);break;case 300:this.drawWindowbox(this.x[bh],this.y[bh],this.width[bh],40),this.hg.setColor(D.white),this.hg.drawString(this.item[bh][0],this.x[bh]+6,this.y[bh]+6+12),this.c_fc<=3&&this.gg.drawPT(this.x[bh]+(this.width[bh]-14>>1),this.y[bh]+6+14+0+2,201,0);break;case 310:this.drawWindowbox(this.x[bh],this.y[bh],this.width[bh],58),this.hg.setColor(this.item_color[bh]),this.hg.drawString(this.item[bh][0],this.x[bh]+6,this.y[bh]+6+12),this.hg.setColor(D.white),this.hg.drawString(this.item[bh][1],this.x[bh]+6,this.y[bh]+6+18+12),this.c_fc<=3&&this.gg.drawPT(this.x[bh]+(this.width[bh]-14>>1),this.y[bh]+6+18+14+2,71,0);break;case 320:this.drawWindowbox(this.x[bh],this.y[bh],this.width[bh],66+14*(this.item_kazu[bh]-3)+14),this.hg.setColor(D.magenta),this.hg.drawString(this.item[bh][0],this.x[bh]+6,this.y[bh]+6+12),this.hg.setColor(D.white),this.hg.drawString(this.item[bh][1],this.x[bh]+6,this.y[bh]+6+18+12),this.hg.setColor(D.cyan),this.hg.drawString(this.item[bh][2],this.x[bh]+6,this.y[bh]+6+36+12),this.hg.setColor(D.white);for(var eh=0;eh<=this.item_kazu[3]-4;eh++)this.hg.drawString(this.item[3][eh+3],this.x[3]+6,this.y[3]+6+54+14*eh+12);this.c_fc<=3&&this.gg.drawPT(this.x[bh]+(this.width[bh]-14>>1),this.y[bh]+6+18+36+14*(this.item_kazu[bh]-3)+2,71,0);break;case 321:this.drawWindowbox(this.x[bh],this.y[bh],this.width[bh],108),this.hg.setColor(D.cyan),this.hg.drawString(this.item[bh][0],this.x[bh]+6,this.y[bh]+6+12),this.hg.setColor(D.white),this.hg.drawString(this.item[bh][1],this.x[bh]+6,this.y[bh]+6+18+12),this.hg.setColor(D.magenta),this.hg.drawString(this.item[bh][2],this.x[bh]+6,this.y[bh]+6+36+12),this.hg.setColor(D.white),this.hg.drawString(this.item[bh][3],this.x[bh]+6,this.y[bh]+6+54+12),this.hg.setColor(D.white),this.hg.drawString(this.item[bh][4],this.x[bh]+6,this.y[bh]+6+54+14+12),this.c_fc<=3&&this.gg.drawPT(this.x[bh]+(this.width[bh]-14>>1),this.y[bh]+6+18+36+14+14+2,71,0);break;case 330:if(this.drawWindowbox(this.x[bh],this.y[bh],this.width[bh],30+14*(this.item_kazu[bh]+1)),this.hg.setColor(this.item_color[bh]),this.hg.drawString(this.message[bh],this.x[bh]+6,this.y[bh]+6+12),this.hg.setColor(D.white),1<=this.item_kazu[bh])for(var fh=0;fh<=this.item_kazu[bh]-1;fh++)this.hg.drawString(this.item[bh][fh],this.x[bh]+6,this.y[bh]+6+18+14*fh+12);bh==this.aw?this.c_fc<=3&&this.gg.drawPT(this.x[bh]+(this.width[bh]-14>>1),this.y[bh]+6+18+14*this.item_kazu[bh]+2,201,0):this.gg.drawPT(this.x[bh]+(this.width[bh]-14>>1),this.y[bh]+6+18+14*this.item_kazu[bh]+2,201,0);break;case 350:if(100==this.item_int[bh][0]){this.item_int[bh][0]=55;break}this.drawWindowbox(this.x[bh],this.y[bh],this.width[bh],26),this.hg.setColor(D.white),this.hg.drawString(this.item[bh][0],this.x[bh]+6,this.y[bh]+6+12),this.item_int[bh][0]-=1,this.item_int[bh][0]<=0&&this.off(bh);break;case 360:200==this.item_int[bh][0]?(this.drawWindowbox(this.x[bh],this.y[bh],this.width[bh],44),this.hg.setColor(this.item_color[bh]),this.hg.drawString(this.item[bh][0],this.x[bh]+6,this.y[bh]+6+12),this.hg.setColor(D.white),this.hg.drawString(this.item[bh][1],this.x[bh]+6,this.y[bh]+6+18+12)):100==this.item_int[bh][0]?this.item_int[bh][0]=55:(this.drawWindowbox(this.x[bh],this.y[bh],this.width[bh],44),this.hg.setColor(this.item_color[bh]),this.hg.drawString(this.item[bh][0],this.x[bh]+6,this.y[bh]+6+12),this.hg.setColor(D.white),this.hg.drawString(this.item[bh][1],this.x[bh]+6,this.y[bh]+6+18+12),this.item_int[bh][0]-=1,this.item_int[bh][0]<=0&&this.off(bh));break;case 400:this.drawWindowbox(this.x[bh],this.y[bh],this.width[bh],128),this.hg.setColor(D.yellow),this.hg.drawString(this.name_crys+"のステータス",this.x[bh]+6,this.y[bh]+6+12),this.hg.setColor(D.white),this.hg.drawString("HP\t"+this.item_int[14][0]+" / "+this.item_int[14][1],this.x[bh]+6,this.y[bh]+6+18+0+12),this.hg.drawString("おこづかい\t",this.x[bh]+6,this.y[bh]+6+18+28+12),this.hg.drawString(this.item_int[14][2]+"円",this.x[bh]+6+72,this.y[bh]+6+18+42+12),this.hg.drawString("得点",this.x[bh]+6,this.y[bh]+6+18+56+12),this.hg.drawString(this.item_int[14][3]+"点",this.x[bh]+6+72,this.y[bh]+6+18+70+12),this.c_fc<=3&&this.gg.drawPT(this.x[bh]+(this.width[bh]-14>>1),this.y[bh]+6+18+84+2,71,0);break;case 420:this.drawWindowbox(this.x[bh],this.y[bh],this.width[bh],116),this.hg.setColor(new D(96,96,96)),this.hg.fillRect(this.x[bh]+12,this.y[bh]+12,this.width[bh]-24,48),this.gg.drawPT(this.x[bh]+12+(this.width[bh]-24-32>>1),this.y[bh]+12+8,this.item_int[bh][2],0),this.hg.setColor(D.cyan),this.hg.drawString(this.item[bh][0],this.x[bh]+12,this.y[bh]+64+12),this.hg.setColor(D.white),this.hg.drawString("これからも、よろしくね！",this.x[bh]+12,this.y[bh]+68+14+12),this.c_fc<=3&&this.gg.drawPT(this.x[bh]+(this.width[bh]-14>>1),this.y[bh]+68+28+2,71,0);break;case 410:-2==this.item_int[bh][0]?(this.drawWindowbox(this.x[bh],this.y[bh],this.width[bh],116),this.hg.setColor(new D(96,96,96)),this.hg.fillRect(this.x[bh]+12,this.y[bh]+12,this.width[bh]-24,48),this.gg.drawPT(this.x[bh]+12+(this.width[bh]-24-32>>1),this.y[bh]+12+8,this.item_int[bh][2],0),this.hg.setColor(D.yellow),this.hg.drawString(this.item[bh][0],this.x[bh]+12,this.y[bh]+64+12),this.hg.setColor(D.white),this.hg.drawString("捕獲不可能",this.x[bh]+12,this.y[bh]+68+14+12),this.c_fc<=3&&this.gg.drawPT(this.x[bh]+(this.width[bh]-14>>1),this.y[bh]+68+28+2,71,0)):this.item_int[bh][0]<0?(this.drawWindowbox(this.x[bh],this.y[bh],this.width[bh],116),this.hg.setColor(new D(96,96,96)),this.hg.fillRect(this.x[bh]+12,this.y[bh]+12,this.width[bh]-24,48),this.gg.drawPT(this.x[bh]+12+(this.width[bh]-24-32>>1),this.y[bh]+12+8,this.item_int[bh][2],0),this.hg.setColor(D.yellow),this.hg.drawString(this.item[bh][0],this.x[bh]+12,this.y[bh]+64+12),this.hg.setColor(D.white),this.hg.drawString("現在調査中",this.x[bh]+12,this.y[bh]+68+14+12),this.c_fc<=3&&this.gg.drawPT(this.x[bh]+(this.width[bh]-14>>1),this.y[bh]+68+28+2,71,0)):(this.drawWindowbox(this.x[bh],this.y[bh],this.width[bh],158),this.hg.setColor(new D(96,96,96)),this.hg.fillRect(this.x[bh]+12,this.y[bh]+12,this.width[bh]-24,48),this.gg.drawPT(this.x[bh]+12+(this.width[bh]-24-32>>1),this.y[bh]+12+8,this.item_int[bh][2],0),this.hg.setColor(D.yellow),this.hg.drawString(this.item[bh][0],this.x[bh]+12,this.y[bh]+64+12),this.hg.setColor(D.white),this.hg.drawString("最大HP",this.x[bh]+12,this.y[bh]+68+14+12),this.hg.drawString(""+this.item_int[bh][0],this.x[bh]+56,this.y[bh]+68+28+12),this.hg.drawString("最大PP",this.x[bh]+12,this.y[bh]+68+42+12),this.hg.drawString(""+this.item_int[bh][1],this.x[bh]+56,this.y[bh]+68+56+12),this.c_fc<=3&&this.gg.drawPT(this.x[bh]+(this.width[bh]-14>>1),this.y[bh]+68+70+2,71,0));break;case 500:this.c_fc<=3||0!=this.aw?this.hg.drawImage(this.hi[72],12+28*this.selectedIndex[bh],288,this.ap):this.hg.drawImage(this.hi[73],12+28*this.selectedIndex[bh],288,this.ap);break;case 600:this.drawWindowbox(this.x[bh],this.y[bh],this.width[bh],96);var gh=this.item_int[bh][0],hh=this.x[bh]+(this.width[bh]-64>>1),ih=this.y[bh]+16;this.gg.drawPT(hh,ih,gh,0),this.gg.drawPT(hh+32,ih,gh+1,0),this.gg.drawPT(hh,ih+32,gh+10,0),this.gg.drawPT(hh+32,ih+32,gh+11,0);break;case 610:this.drawWindowbox(this.x[bh],this.y[bh],this.width[bh],30+14*this.item_kazu[bh]),this.hg.setColor(D.yellow),this.hg.drawString("モンスターずかん",this.x[bh]+6,this.y[bh]+6+12),this.hg.setColor(D.white),this.hg.drawString("見つけた数\t"+this.item_int[bh][0],this.x[bh]+6,this.y[bh]+6+18+0+12),this.hg.drawString("捕まえた数\t"+this.item_int[bh][1],this.x[bh]+6,this.y[bh]+6+18+14+12);break;case 700:if(this.drawWindowbox(this.x[bh],this.y[bh],this.width[bh],30+14*this.item_kazu[bh]+18),this.hg.setColor(D.cyan),this.hg.drawString(this.item[bh][15],this.x[bh]+24,this.y[bh]+6+12),this.hg.setColor(D.white),this.hg.drawString(this.message[bh],this.x[bh]+24,this.y[bh]+6+12+18),1<=this.item_kazu[bh])for(var jh=0;jh<=this.item_kazu[bh]-1;jh++)this.hg.drawString(this.item[bh][jh],this.x[bh]+24,this.y[bh]+6+18+14*jh+12+18);bh==this.aw?this.c_fc<=3&&this.gg.drawPT(this.x[bh]+6,this.y[bh]+6+18+14*this.selectedIndex[bh]+18,200,0):this.gg.drawPT(this.x[bh]+6,this.y[bh]+6+18+14*this.selectedIndex[bh]+18,200,0);break;case 800:this.drawWindowbox(this.x[bh],this.y[bh],this.width[bh],44),this.hg.setColor(D.yellow),this.hg.drawString("おこづかい",this.x[bh]+6,this.y[bh]+6+12),this.hg.setColor(D.white),this.hg.drawString(this.item_int[bh][0]+"円",this.x[bh]+6,this.y[bh]+6+18+12);break;case 900:if(this.drawWindowbox(this.x[bh],this.y[bh],this.width[bh],30+14*this.item_kazu[bh]),this.hg.setColor(D.white),this.hg.drawString(this.message[bh],this.x[bh]+24,this.y[bh]+6+12),1<=this.item_kazu[bh])for(var kh=0;kh<=this.item_kazu[bh]-1;kh++)this.hg.drawString(this.item[bh][kh],this.x[bh]+24,this.y[bh]+6+18+14*kh+12),this.hg.drawString(""+this.item_int[bh][kh],this.x[bh]+24+116,this.y[bh]+6+18+14*kh+12);bh==this.aw?this.c_fc<=3&&this.gg.drawPT(this.x[bh]+6,this.y[bh]+6+18+14*this.selectedIndex[bh],200,0):this.gg.drawPT(this.x[bh]+6,this.y[bh]+6+18+14*this.selectedIndex[bh],200,0);break;case 1e3:this.drawWindowbox(this.x[bh],this.y[bh],this.width[bh],98),this.hg.setColor(new D(96,96,96)),this.hg.fillRect(this.x[bh]+12,this.y[bh]+12,248,48);for(var lh=0;lh<=5;lh++)0<this.item_int[bh][lh]&&this.gg.drawPT(this.x[bh]+12+8+40*lh,this.y[bh]+12+8,this.item_int[bh][lh],0);this.hg.setColor(D.white),this.hg.drawString("みんな、元気になった。",this.x[bh]+12,this.y[bh]+64+12),this.c_fc<=3&&this.gg.drawPT(this.x[bh]+(this.width[bh]-14>>1),this.y[bh]+64+14+2,71,0)}}},F.prototype.drawWindowbox=function(mh,nh,oh,ph){this.hg.setColor(D.white),this.hg.fillRect(mh,nh,oh,ph),this.hg.setColor(D.black),this.hg.fillRect(mh+2,nh+2,oh-4,ph-4)},G.prototype.start=function(){this.ml_mode=50},G.prototype.paraInt=function(zh){var Bh,Ah=this.gg.ap.getParameter(zh);return Bh=parseInt(Ah),isNaN(Bh)&&(Bh=-1),Bh},G.prototype.addHighscoreEvent=function(Ch){return this.heh=Ch,!0},G.prototype.sendHighscore=function(){if("[object Function]"==Object.prototype.toString.call(this.heh)){var Eh=this.highscore;Eh<this.score&&(Eh=this.score),this.heh(Eh)}},G.prototype.moveGameCounter=function(){switch(this.g_c3){case 0:this.g_c3=1,this.g_c1=1,this.g_c2=1,this.g_ac=0,this.g_ac2=0;break;case 1:this.g_c3=2,this.g_c1=0,this.g_c2=2,this.g_ac=1,this.g_ac2=1;break;case 2:this.g_c3=3,this.g_c1=1,this.g_c2=3,this.g_ac=1,this.g_ac2=1;break;case 3:this.g_c3=4,this.g_c1=0,this.g_c2=0,this.g_ac=0,this.g_ac2=2;break;case 4:this.g_c3=5,this.g_c1=1,this.g_c2=1,this.g_ac=0,this.g_ac2=2;break;case 5:this.g_c3=6,this.g_c1=0,this.g_c2=2,this.g_ac=1,this.g_ac2=3;break;case 6:this.g_c3=7,this.g_c1=1,this.g_c2=3,this.g_ac=1,this.g_ac2=3;break;case 7:this.g_c3=0,this.g_c1=0,this.g_c2=0,this.g_ac=0,this.g_ac2=0}},G.prototype.ranInit=function(){this.ran_seed=4294967296*c.random()|0},G.prototype.ranInt=function(Fh){var Gh=this.ran_seed;return Gh=((Gh=(Gh^Gh<<9)>>>0)^Gh>>>11)>>>0,this.ran_seed=Gh=(Gh^Gh<<19)>>>0,2.3283064365386963e-10*Gh*Fh|0},G.prototype.drawScore=function(){if(this.score_v)if(0<this.time_max){var Oh,Mh=s(this.time/1e3),Nh=14+this.moji_size;this.gg.os_g.setColor(this.gamecolor_score),this.gg.os_g.setFont(new E("Dialog",1,this.moji_size)),Oh=this.j_left_shoki<=0&&this.j_left<=0?this.moji_score+" "+this.score+"    "+this.moji_highscore+" "+this.highscore+this.moji_time+Mh:(Oh=this.moji_score+" "+this.score+"    "+this.moji_highscore+" "+this.highscore+this.moji_left+this.j_left)+this.moji_time+Mh,this.gg.os_g.drawString(Oh,40,Nh)}else{var Qh,Ph=14+this.moji_size;this.gg.os_g.setColor(this.gamecolor_score),this.gg.os_g.setFont(new E("Dialog",1,this.moji_size)),Qh=this.j_left_shoki<=0&&this.j_left<=0?this.moji_score+" "+this.score+"    "+this.moji_highscore+" "+this.highscore:this.moji_score+" "+this.score+"    "+this.moji_highscore+" "+this.highscore+this.moji_left+this.j_left,this.gg.os_g.drawString(Qh,40,Ph)}else if(0<this.time_max){var Jh,Hh=s(this.time/1e3),Ih=14+this.moji_size;this.gg.os_g.setColor(this.gamecolor_score),this.gg.os_g.setFont(new E("Dialog",1,this.moji_size)),Jh=this.j_left_shoki<=0&&this.j_left<=0?this.moji_time+Hh:(Jh=this.moji_left+this.j_left)+this.moji_time+Hh,this.gg.os_g.drawString(Jh,40,Ih)}else{var Lh,Kh=14+this.moji_size;this.gg.os_g.setColor(this.gamecolor_score),this.gg.os_g.setFont(new E("Dialog",1,this.moji_size)),Lh=this.j_left_shoki<=0&&this.j_left<=0?"":this.moji_left+this.j_left,this.gg.os_g.drawString(Lh,40,Kh)}},G.prototype.drawScore2=function(){if(this.score_v){var Uh,Th=14+this.moji_size;this.gg.os_g.setColor(this.gamecolor_score),this.gg.os_g.setFont(new E("Dialog",1,this.moji_size)),Uh=this.j_left_shoki<=0&&this.j_left<=0?this.moji_score+" "+this.score+"    "+this.moji_highscore+" "+this.highscore:this.moji_score+" "+this.score+"    "+this.moji_highscore+" "+this.highscore+this.moji_left+this.j_left,this.gg.os_g.drawString(Uh,40,Th)}else{var Sh,Rh=14+this.moji_size;this.gg.os_g.setColor(this.gamecolor_score),this.gg.os_g.setFont(new E("Dialog",1,this.moji_size)),Sh=this.j_left_shoki<=0&&this.j_left<=0?"":this.moji_left+this.j_left,this.gg.os_g.drawString(Sh,40,Rh)}},G.prototype.addScore=function(Vh){this.score+=Vh,0<this.score_1up_1&&this.score>=this.score_1up_1&&(this.j_left++,this.score_1up_1=0),0<this.score_1up_2&&this.score>=this.score_1up_2&&(this.j_left++,this.score_1up_2=0)},G.prototype.addSerifu=function(Wh,Xh,Yh){for(var Zh=1;Zh<=Yh;Zh++){var _h,$h=this.gg.ap.getParameter("serifu"+Xh+"-"+Zh);_h=parseInt($h),isNaN(_h)&&(_h=-1),0!=_h&&this.km.addItem(Wh,$h)}},G.prototype.mL100=function(){if(this.moveGameCounter(),this.aMove(),100==this.co_j.c?this.jM100():this.jMove(),0<this.sl_step&&(10==this.sl_step||11==this.sl_step?(this.ks_wx+=this.sl_speed,this.ks_wx>this.maps.wx_max&&(this.ks_wx=this.maps.wx_max),this.maps.wx=this.ks_wx,this.maps.wy=this.ks_wy,300!=this.co_j.c&&310!=this.co_j.c&&(this.co_j.x<this.ks_wx-16?(this.co_j.x=this.ks_wx-16,this.co_j.vx<0&&(this.co_j.vx=0),(20<=this.maps.getBGCode(this.co_j.x+15,this.co_j.y)||20<=this.maps.getBGCode(this.co_j.x+15,this.co_j.y+31))&&100<=this.co_j.c&&this.co_j.c<200&&(this.co_j.c=210,this.co_j.y=this.maps.wy-64,this.co_j.c1=0,this.j_jet_c=0,this.j_v_c=0)):this.co_j.x>this.ks_wx+496&&(this.co_j.x=this.ks_wx+496,(this.co_j.vx=0)<this.co_j.vx&&(this.co_j.vx=0))),11==this.sl_step&&this.maps.wx>=this.sl_wx&&(this.maps.wx=this.sl_wx,this.sl_wy=this.ks_wy,this.sl_step=3)):1==this.sl_step?this.maps.wx>=this.sl_wx&&(this.maps.wx=this.sl_wx,this.sl_step=2):2==this.sl_step?(this.maps.wx=this.sl_wx,this.co_j.x<this.sl_wx-16?(this.co_j.x=this.sl_wx-16,this.co_j.vx=0):this.co_j.x>this.sl_wx+496&&(this.co_j.x=this.sl_wx+496,this.co_j.vx=0),this.maps.wy>=this.sl_wy&&(this.maps.wy=this.sl_wy,this.sl_step=3)):(this.maps.wx=this.sl_wx,this.maps.wy=this.sl_wy,this.co_j.x<this.sl_wx-16?(this.co_j.x=this.sl_wx-16,this.co_j.vx=0):this.co_j.x>this.sl_wx+496&&(this.co_j.x=this.sl_wx+496,this.co_j.vx=0))),0<this.jm_kazu&&this.jmMove(),this.tMove(),0<this.co_b.c&&this.bMove(),0<this.m_kazu&&this.mMove(),0<this.time_max&&this.stage_cc<=0&&(this.time-=70,this.time<0&&(this.time=0,this.j_left--,this.j_left<0?(this.j_left=0,this.ml_mode=300):this.ml_mode=90)),0<this.stage_cc&&(this.stage_cc++,28<this.stage_cc&&(2==this.stage_select?4<=this.stage?this.ml_mode=400:(0<this.time_max&&this.addScore(s(this.time/1e3)),this.ml_mode=260):this.stage>=this.stage_max?this.ml_mode=400:(this.stage++,0<this.time_max&&this.addScore(s(this.time/1e3)),this.ml_mode=90))),this.drawGamescreen(),this.drawScore(),0<this.j_jet_fuel){var ai=this.moji_jet+" "+this.j_jet_fuel;0<this.j_gr_kazu&&(ai=1==this.j_gr_kazu?ai+"    "+this.moji_grenade:ai+"    "+this.moji_grenade+" "+this.j_gr_kazu),this.hg.drawString(ai,40,287+this.moji_size)}else 0<this.j_gr_kazu&&(1==this.j_gr_kazu?this.hg.drawString(this.moji_grenade,40,287+this.moji_size):this.hg.drawString(this.moji_grenade+" "+this.j_gr_kazu,40,287+this.moji_size));84==this.gk.key_code&&(this.gk.key_code=0,this.ml_mode=50)},G.prototype.mainLoop=function(){switch(this.ml_mode){default:break;case 50:this.gg.drawListImage(0,0,0),(0<this.score||0<this.highscore)&&this.drawScore(),this.gm.button_f||this.gk.tr1_f||(this.ml_mode=60,this.g_c1=0,this.sendHighscore());break;case 60:if(0==this.g_c1?118==this.gk.key_char&&(this.g_c1=1):1==this.g_c1?101==this.gk.key_char?this.g_c1=2:118!=this.gk.key_char&&(this.g_c1=0):2==this.g_c1&&(114==this.gk.key_char?this.ml_mode=1e3:101!=this.gk.key_char&&(this.g_c1=0)),!this.gm.button_f&&!this.gk.tr1_f)break;if(2==this.stage_select){this.init2(),this.ig.worldInit(),this.gg.os_g.setColor(D.black),this.gg.os_g.fillRect(0,0,this.gg.di.width,this.gg.di.height),this.ml_mode=200;break}this.init2(),this.init3(),this.gg.drawListImage(0,0,0),(0<this.score||0<this.highscore)&&this.drawScore(),this.j_left<=0?this.ml_mode=100:this.ml_mode=90;break;case 80:this.init2(),this.init3(),this.gg.drawListImage(0,0,0),(0<this.score||0<this.highscore)&&this.drawScore(),this.j_left<=0?this.ml_mode=100:this.ml_mode=90;break;case 90:this.init3(),this.gg.os_g.setColor(this.gamecolor_kaishi),this.gg.os_g.fillRect(0,0,this.gg.di.width,this.gg.di.height),this.stage>=this.stage_max?(this.gg.drawPT(160,144,52,0),this.gg.drawPT(192,144,53,0),this.gg.drawPT(224,144,54,0),this.gg.drawPT(256,144,55,0),this.gg.drawPT(288,144,56,0),this.gg.drawPT(320,144,57,0)):(this.gg.drawPT(192,144,70,0),this.gg.drawPT(224,144,71,0),this.gg.drawPT(256,144,72,0),this.stage>=this.stage_max&&this.gg.drawPT(288,144,75,0),3==this.stage?this.gg.drawPT(288,144,75,0):2==this.stage?this.gg.drawPT(288,144,74,0):this.gg.drawPT(288,144,73,0)),this.drawScore(),this.ml_mode=91,this.ml_mode_c=0;break;case 91:this.ml_mode_c++,35<this.ml_mode_c&&(this.ml_mode=100),84==this.gk.key_code&&(this.gk.key_code=0,this.ml_mode=50);break;case 95:switch(this.stage=this.ig.checkStage(),this.init3(),this.ig.shop_kattaitem){case 7:default:break;case 0:this.j_gr_kazu=3;break;case 1:this.j_jet_fuel=80;break;case 2:this.j_drell_f=!0;break;case 3:this.j_helm_f=!0;break;case 4:this.j_tail_f=!0;break;case 5:this.j_v_c=150,this.j_v_kakudo=0;break;case 6:this.j_fire_f=!0;break;case 8:0<this.time_max&&(this.time+=3e4)}this.gg.os_g.setColor(D.black),this.gg.os_g.fillRect(0,0,this.gg.di.width,this.gg.di.height),this.drawScore(),this.ml_mode=96,this.ml_mode_c=0;break;case 96:this.ml_mode_c++,8<this.ml_mode_c&&(this.ml_mode=100),84==this.gk.key_code&&(this.gk.key_code=0,this.ml_mode=50);break;case 200:this.ig.drawMap(),this.ig.mainProgram(),this.time=0,this.drawScore2(),110==this.ig.mp_mode&&(1<=this.ig.dokan_khID?this.ml_mode=230:this.ml_mode=95),84==this.gk.key_code&&(this.gk.key_code=0,this.ml_mode=50);break;case 230:this.gg.os_g.setColor(D.black),this.gg.os_g.fillRect(0,0,this.gg.di.width,this.gg.di.height),this.drawScore2(),this.ml_mode=231,this.ml_mode_c=0;break;case 231:var bi;if(this.ml_mode_c++,5==this.ml_mode_c)bi=2==this.ig.dokan_khID?this.gg.ap.getParameter("url2"):3==this.ig.dokan_khID?this.gg.ap.getParameter("url3"):4==this.ig.dokan_khID?this.gg.ap.getParameter("url4"):this.gg.ap.getParameter("url1"),location.href=bi;else 80<this.ml_mode_c&&(this.ml_mode=50);84==this.gk.key_code&&(this.gk.key_code=0,this.ml_mode=50);break;case 250:this.addScore(0),this.ig.worldInit2(),this.ml_mode=251,this.ml_mode_c=0,this.gg.os_g.setColor(D.black),this.gg.os_g.fillRect(0,0,this.gg.di.width,this.gg.di.height),this.drawScore();break;case 251:this.ml_mode_c++,8<this.ml_mode_c&&(this.ml_mode=200),84==this.gk.key_code&&(this.gk.key_code=0,this.ml_mode=50);break;case 260:this.addScore(0),this.ig.worldInit3(),this.ml_mode=261,this.ml_mode_c=0,this.gg.os_g.setColor(D.black),this.gg.os_g.fillRect(0,0,this.gg.di.width,this.gg.di.height),this.drawScore();break;case 261:this.ml_mode_c++,8<this.ml_mode_c&&(this.ml_mode=200),84==this.gk.key_code&&(this.gk.key_code=0,this.ml_mode=50);break;case 300:this.gg.setBackcolor(D.black),this.gg.fill(),this.gg.drawListImage(0,0,2),this.drawScore(),this.sendHighscore(),this.ml_mode=310,this.ml_mode_c=0;break;case 310:this.ml_mode_c++,45<this.ml_mode_c&&(this.ml_mode=50),84==this.gk.key_code&&(this.gk.key_code=0,this.ml_mode=50);break;case 400:this.gg.drawListImage(0,0,1),0<this.time_max&&this.addScore(s(this.time/1e3)),this.drawScore(),this.sendHighscore(),this.ml_mode=410,this.ml_mode_c=0;break;case 410:this.ml_mode_c++,120<this.ml_mode_c&&(this.ml_mode=50),84==this.gk.key_code&&(this.gk.key_code=0,this.ml_mode=50);break;case 500:this.gg.setBackcolor(D.black),this.gg.fill(),this.gg.drawListImage(0,0,0),(0<this.score||0<this.highscore)&&this.drawScore(),this.ml_mode=50,this.ml_mode=50;break;case 1e3:this.gg.setBackcolor(D.black),this.gg.fill(),this.hg.setFont(new E("Dialog",0,46)),this.hg.setColor(D.white),this.hg.setFont(new E("Dialog",0,20)),this.hg.drawString("Title        MASAO CONSTRUCTION",50,50),this.hg.drawString("Version      2.8",50,80),this.hg.drawString("Language     Java2  SDK 1.3.1",50,110),this.hg.drawString("OS           WindowsXP",50,140),this.hg.drawString("Browser      InternetExplorer 6.0",50,170),this.hg.drawString("Programing   Fukuda Naoto",50,200),this.hg.drawString("Date         2003/6",50,230),this.ml_mode=1010,this.ml_mode_c=0;break;case 1010:this.ml_mode_c++,40<this.ml_mode_c&&(this.ml_mode=50)}},G.prototype.init1=function(){this.time_max=this.paraInt("time_max");var ci=this.paraInt("score_v");this.score_v=2!=ci,ci=this.paraInt("backcolor_red");var di=this.paraInt("backcolor_green"),ei=this.paraInt("backcolor_blue");ci<0?ci=0:255<ci&&(ci=255),di<0?di=0:255<di&&(di=255),ei<0?ei=0:255<ei&&(ei=255),this.gamecolor_back=new D(ci,di,ei),(ci=this.paraInt("backcolor_red_s"))<0?ci=0:255<ci&&(ci=255),(di=this.paraInt("backcolor_green_s"))<0?di=0:255<di&&(di=255),(ei=this.paraInt("backcolor_blue_s"))<0?ei=0:255<ei&&(ei=255),this.gamecolor_back_s=new D(ci,di,ei),(ci=this.paraInt("backcolor_red_t"))<0?ci=0:255<ci&&(ci=255),(di=this.paraInt("backcolor_green_t"))<0?di=0:255<di&&(di=255),(ei=this.paraInt("backcolor_blue_t"))<0?ei=0:255<ei&&(ei=255),this.gamecolor_back_t=new D(ci,di,ei),(ci=this.paraInt("backcolor_red_f"))<0?ci=0:255<ci&&(ci=255),(di=this.paraInt("backcolor_green_f"))<0?di=0:255<di&&(di=255),(ei=this.paraInt("backcolor_blue_f"))<0?ei=0:255<ei&&(ei=255),this.gamecolor_back_f=new D(ci,di,ei),(ci=this.paraInt("kaishi_red"))<0?ci=0:255<ci&&(ci=255),(di=this.paraInt("kaishi_green"))<0?di=0:255<di&&(di=255),(ei=this.paraInt("kaishi_blue"))<0?ei=0:255<ei&&(ei=255),this.gamecolor_kaishi=new D(ci,di,ei),(ci=this.paraInt("scorecolor_red"))<0?ci=0:255<ci&&(ci=255),(di=this.paraInt("scorecolor_green"))<0?di=0:255<di&&(di=255),(ei=this.paraInt("scorecolor_blue"))<0?ei=0:255<ei&&(ei=255),this.gamecolor_score=new D(ci,di,ei),(ci=this.paraInt("grenade_red1"))<0?ci=0:255<ci&&(ci=255),(di=this.paraInt("grenade_green1"))<0?di=0:255<di&&(di=255),(ei=this.paraInt("grenade_blue1"))<0?ei=0:255<ei&&(ei=255),this.gamecolor_grenade1=new D(ci,di,ei),(ci=this.paraInt("grenade_red2"))<0?ci=0:255<ci&&(ci=255),(di=this.paraInt("grenade_green2"))<0?di=0:255<di&&(di=255),(ei=this.paraInt("grenade_blue2"))<0?ei=0:255<ei&&(ei=255),this.gamecolor_grenade2=new D(ci,di,ei),(ci=this.paraInt("firebar_red1"))<0?ci=0:255<ci&&(ci=255),(di=this.paraInt("firebar_green1"))<0?di=0:255<di&&(di=255),(ei=this.paraInt("firebar_blue1"))<0?ei=0:255<ei&&(ei=255),this.gamecolor_firebar1=new D(ci,di,ei),(ci=this.paraInt("firebar_red2"))<0?ci=0:255<ci&&(ci=255),(di=this.paraInt("firebar_green2"))<0?di=0:255<di&&(di=255),(ei=this.paraInt("firebar_blue2"))<0?ei=0:255<ei&&(ei=255),this.gamecolor_firebar2=new D(ci,di,ei),(ci=this.paraInt("mizunohadou_red"))<0?ci=0:255<ci&&(ci=255),(di=this.paraInt("mizunohadou_green"))<0?di=0:255<di&&(di=255),(ei=this.paraInt("mizunohadou_blue"))<0?ei=0:255<ei&&(ei=255),this.gamecolor_mizunohadou=new D(ci,di,ei),this.moji_score=this.gg.ap.getParameter("moji_score"),this.moji_highscore=this.gg.ap.getParameter("moji_highscore"),this.moji_time=this.gg.ap.getParameter("moji_time"),this.moji_time="    "+this.moji_time+" ",this.moji_jet=this.gg.ap.getParameter("moji_jet"),this.moji_grenade=this.gg.ap.getParameter("moji_grenade"),this.moji_left=this.gg.ap.getParameter("moji_left"),this.moji_left="    "+this.moji_left+" ",this.moji_size=this.paraInt("moji_size"),this.moji_size<10?this.moji_size=10:30<this.moji_size&&(this.moji_size=30),this.j_left_shoki=this.paraInt("jibun_left_shoki"),this.j_left_shoki<1&&(this.j_left_shoki=1),this.j_left_shoki--,this.stage_max=this.paraInt("stage_max"),this.stage_max<1?this.stage_max=1:4<this.stage_max&&(this.stage_max=4),2==this.stage_select&&(this.stage_max=4),this.stage_kaishi=this.paraInt("stage_kaishi"),this.stage_kaishi<1&&(this.stage_kaishi=1),this.stage_kaishi>this.stage_max&&(this.stage_kaishi=this.stage_max),this.score_1up_1_para=this.paraInt("score_1up_1"),(this.score_1up_1_para<0||this.stage_max<=1)&&(this.score_1up_1_para=0),this.score_1up_2_para=this.paraInt("score_1up_2"),(this.score_1up_2_para<0||this.stage_max<=1)&&(this.score_1up_2_para=0),this.j_tail_type=this.paraInt("j_tail_type"),(this.j_tail_type<1||3<this.j_tail_type)&&(this.j_tail_type=1);var fi=this.paraInt("j_tail_hf");this.j_tail_hf=2==fi,this.grenade_type=this.paraInt("grenade_type"),(this.grenade_type<1||6<this.grenade_type)&&(this.grenade_type=1),this.suberuyuka_hkf=this.paraInt("suberuyuka_hkf"),2==this.suberuyuka_hkf?this.suberuyuka_hkf=2:this.suberuyuka_hkf=1,fi=this.paraInt("j_fire_mkf"),this.j_fire_mkf=2==fi,fi=this.paraInt("dengeki_mkf"),this.dengeki_mkf=2==fi,fi=this.paraInt("yachamo_kf"),this.yachamo_cf=2==fi,fi=this.paraInt("airms_kf"),this.airms_kf=2==fi,this.ugokuyuka1_type=this.paraInt("ugokuyuka1_type"),(this.ugokuyuka1_type<1||7<this.ugokuyuka1_type)&&(this.ugokuyuka1_type=1),this.ugokuyuka2_type=this.paraInt("ugokuyuka2_type"),(this.ugokuyuka2_type<1||7<this.ugokuyuka2_type)&&(this.ugokuyuka2_type=1),this.ugokuyuka3_type=this.paraInt("ugokuyuka3_type"),(this.ugokuyuka3_type<1||7<this.ugokuyuka3_type)&&(this.ugokuyuka3_type=1),this.boss_type=this.paraInt("boss_type"),(this.boss_type<1||4<this.boss_type)&&(this.boss_type=1),this.boss2_type=this.paraInt("boss2_type"),(this.boss2_type<1||2<this.boss2_type)&&(this.boss2_type=1),this.boss3_type=this.paraInt("boss3_type"),(this.boss3_type<1||4<this.boss3_type)&&(this.boss3_type=1),this.dokan_mode=this.paraInt("dokan_mode"),(this.dokan_mode<1||2<this.dokan_mode)&&(this.dokan_mode=1),this.mes1_name=this.gg.ap.getParameter("mes1_name"),this.mes2_name=this.gg.ap.getParameter("mes2_name"),this.shop_name=this.gg.ap.getParameter("shop_name"),this.setumei_name=this.gg.ap.getParameter("setumei_name"),this.door_score=this.paraInt("door_score"),this.door_score<10&&(this.door_score=10),this.shop_item_name[0]=this.gg.ap.getParameter("shop_item_name1"),this.shop_item_name[1]=this.gg.ap.getParameter("shop_item_name2"),this.shop_item_name[2]=this.gg.ap.getParameter("shop_item_name3"),this.shop_item_name[3]=this.gg.ap.getParameter("shop_item_name4"),this.shop_item_name[4]=this.gg.ap.getParameter("shop_item_name5"),this.shop_item_name[5]=this.gg.ap.getParameter("shop_item_name6"),this.shop_item_name[6]=this.gg.ap.getParameter("shop_item_name7"),this.shop_item_name[7]=this.gg.ap.getParameter("shop_item_name8"),this.shop_item_name[8]=this.gg.ap.getParameter("shop_item_name9");for(var gi=0;gi<=8;gi++){var hi=gi+1;(hi=this.paraInt("shop_item_teika"+hi))<0&&(hi=0),this.shop_item_teika[gi]=hi}},G.prototype.init2=function(){this.score>this.highscore&&(this.highscore=this.score),this.j_left=this.j_left_shoki,this.score_1up_1=this.score_1up_1_para,this.score_1up_2=this.score_1up_2_para;for(var ii=0;ii<=2;ii++)this.stage_1up_f[ii]=!0;this.gk.key_code=0,this.score=0,this.stage=this.stage_kaishi,0<this.time_max?this.time=1e3*this.time_max+1e3-70:this.time=0},G.prototype.init3=function(){this.sendHighscore(),this.g_c1=0,this.g_c2=0,this.g_c3=0,this.g_ac=0,this.g_ac2=0,this.stage_cc=0,this.co_j.init(),this.co_j.c=100,this.co_j.x=100,this.co_j.y=100,this.co_j.pt=100,this.co_j.muki=1,this.co_j.jimen_f=!1,this.j_hashiru_f=!1,this.j_jump_level=0,this.j_jump_type=0,this.j_a_id=-1,this.tr1_c=0,this.tr2_c=0,this.gk.left_c=0,this.gk.right_c=0,this.left_dcc=0,this.right_dcc=0,this.ochiru_y=9999,this.j_fire_f=!1,this.j_v_c=0,this.j_v_kakudo=0,this.j_jet_c=0,this.j_jet_kf=!1,this.j_jet_fuel=0,this.j_helm_f=!1,this.j_drell_f=!1,this.j_tail_f=!1,this.j_tail_ac=0,this.j_gr_kazu=0,this.j_mizu_f=!1,this.j_mizu_ac=0,this.j_mizu_awa_c=0,this.j_jdai_f=!1,this.hitokoto_c=0,this.hitokoto_num=1,this.j_tail_hf&&(this.j_tail_f=!0);for(var ji=0;ji<=5;ji++)this.j_zan_x[ji]=0,this.j_zan_y[ji]=0,this.j_zan_pt[ji]=0,this.j_zan_pth[ji]=0;var ki;this.j_zan_p=0,this.j_zan_c=0,this.j_zan_nagasa=0,this.j_zan_f=!1,this.sl_step=0,this.sl_speed=0,this.sl_wx=0,this.sl_wy=0,2==(ki=2==this.stage?this.paraInt("scroll_mode_s"):3==this.stage?this.paraInt("scroll_mode_t"):4==this.stage?this.paraInt("scroll_mode_f"):this.paraInt("scroll_mode"))?(this.sl_step=10,this.ks_wx=32,this.ks_wy=960,this.sl_speed=2):3==ki&&(this.sl_step=10,this.ks_wx=32,this.ks_wy=960,this.sl_speed=4);for(var li=0;li<=31;li++){this.co_a[li].init();for(var mi=0;mi<=3;mi++)this.vo_x[li][mi]=0,this.vo_y[li][mi]=0}this.a_kazu=-1,this.a_hf=!1;for(var ni=0;ni<=129;ni++)this.co_t[ni].init();this.t_kazu=-1,this.co_b.init();for(var oi=this.boss_kijyun_y=0;oi<=23;oi++)this.co_m[oi].init();for(var pi=this.m_kazu=0;pi<=1;pi++)this.co_jm[pi].init();for(var qi=this.jm_kazu=0;qi<=63;qi++)this.co_h[qi].init();0<this.time_max?this.time=1e3*this.time_max+1e3-70:this.time=0,this.mapsMakeStageData(100+this.stage),10!=this.sl_step&&11!=this.sl_step||(this.ks_wx=this.maps.wx,this.ks_wx<=128&&(this.ks_wx=32)),this.maps.drawMap(this.maps.wx,this.maps.wy)},G.prototype.mapsMakeStageData=function(ri){this.maps.init();var si=this.maps.map_string;this.maps.wx=32,this.maps.wy=32,this.maps.wx_mini=32,this.maps.wy_mini=320,this.maps.wx_max=5856,this.maps.wy_max=6048;switch(this.gg.setBackcolor(D.blue),ri){default:break;case 101:this.maps.setBank(0),this.gg.setBackcolor(this.gamecolor_back),this.maps.wx_max=5280,this.maps.wy_max=960;for(var ui=0;ui<=29;ui++){var vi="."+this.gg.ap.getParameter("map0-"+ui);vi+=this.gg.ap.getParameter("map1-"+ui),vi+=this.gg.ap.getParameter("map2-"+ui),si[ui+10]=vi}break;case 102:this.maps.setBank(0),this.gg.setBackcolor(this.gamecolor_back_s),this.maps.wx_max=5280,this.maps.wy_max=960;for(var wi=0;wi<=29;wi++){var xi="."+this.gg.ap.getParameter("map0-"+wi+"-s");xi+=this.gg.ap.getParameter("map1-"+wi+"-s"),xi+=this.gg.ap.getParameter("map2-"+wi+"-s"),si[wi+10]=xi}break;case 103:this.maps.setBank(0),this.gg.setBackcolor(this.gamecolor_back_t),this.maps.wx_max=5280,this.maps.wy_max=960;for(var yi=0;yi<=29;yi++){var zi="."+this.gg.ap.getParameter("map0-"+yi+"-t");zi+=this.gg.ap.getParameter("map1-"+yi+"-t"),zi+=this.gg.ap.getParameter("map2-"+yi+"-t"),si[yi+10]=zi}break;case 104:this.maps.setBank(0),this.gg.setBackcolor(this.gamecolor_back_f),this.maps.wx_max=5280,this.maps.wy_max=960;for(var Ai=0;Ai<=29;Ai++){var Bi="."+this.gg.ap.getParameter("map0-"+Ai+"-f");Bi+=this.gg.ap.getParameter("map1-"+Ai+"-f"),Bi+=this.gg.ap.getParameter("map2-"+Ai+"-f"),si[Ai+10]=Bi}}for(var Ci=0;Ci<this.maps.height;Ci++)if(si[Ci].length<this.maps.width)for(var Ei=si[Ci].length;Ei<this.maps.width;Ei++)si[Ci]+=".";for(var Gi=0;Gi<this.maps.height;Gi++)for(var Hi=0;Hi<this.maps.width;Hi++){var Ii=si[Gi].charAt(Hi),Ji=-1;"."!=Ii&&("1"==Ii?Ji=1:"2"==Ii?Ji=2:"3"==Ii?Ji=3:"4"==Ii?Ji=4:"5"==Ii?Ji=5:"6"==Ii?Ji=6:"7"==Ii?Ji=7:"8"==Ii?Ji=8:"9"==Ii?Ji=9:"a"==Ii?Ji=20:"b"==Ii?Ji=21:"c"==Ii?Ji=22:"d"==Ii?Ji=23:"e"==Ii?Ji=24:"f"==Ii?Ji=25:"g"==Ii?Ji=26:"h"==Ii?Ji=27:"i"==Ii?Ji=28:"j"==Ii?Ji=29:"k"==Ii?(Ji=40,this.hSet(Hi,Gi,100)):"l"==Ii?(Ji=40,this.hSet(Hi,Gi,200)):"m"==Ii?(Ji=40,this.hSet(Hi,Gi,300)):"n"==Ii?(Ji=40,this.hSet(Hi,Gi,400)):"o"==Ii?(Ji=40,this.hSet(Hi,Gi,500)):"p"==Ii?(Ji=40,this.hSet(Hi,Gi,600)):"q"==Ii?(Ji=40,this.hSet(Hi,Gi,700)):"r"==Ii?(Ji=40,this.hSet(Hi,Gi,800)):"s"==Ii?(Ji=40,this.hSet(Hi,Gi,900)):"t"==Ii?(Ji=40,this.hSet(Hi,Gi,1e3)):"u"==Ii?(this.aSet(32*Hi,32*Gi,300,32*Hi),4==this.maps.map_bg[Hi-1][Gi]&&(Ji=4)):"v"==Ii?(this.aSet(32*Hi,32*Gi,310,32*Hi),4==this.maps.map_bg[Hi-1][Gi]&&(Ji=4)):"w"==Ii?(this.aSet(32*Hi,32*Gi,320,32*Hi),4==this.maps.map_bg[Hi-1][Gi]&&(Ji=4)):"x"==Ii?(this.aSet(32*Hi,32*Gi,330,32*Hi),4==this.maps.map_bg[Hi-1][Gi]&&(Ji=4)):"y"==Ii?this.stage_1up_f[this.stage-1]?(Ji=40,this.hSet(Hi,Gi,1100)):Ji=41:"z"==Ii?Ji=69:"+"==Ii?(this.aSet(32*Hi,32*Gi,80,32*Hi),4==this.maps.map_bg[Hi-1][Gi]&&(Ji=4)):"-"==Ii?(this.aSet(32*Hi,32*Gi,81,32*Hi),4==this.maps.map_bg[Hi-1][Gi]&&(Ji=4)):"*"==Ii?(this.aSet(32*Hi,32*Gi,82,32*Hi),4==this.maps.map_bg[Hi-1][Gi]&&(Ji=4)):"/"==Ii?(this.aSet(32*Hi,32*Gi,83,32*Hi),4==this.maps.map_bg[Hi-1][Gi]&&(Ji=4)):"A"==Ii?(this.co_j.x=32*Hi,this.co_j.y=32*Gi,4==this.maps.map_bg[Hi-1][Gi]&&(Ji=4)):"B"==Ii?(this.tSet(32*Hi,32*Gi,100,32*Hi-512-32),4==this.maps.map_bg[Hi-1][Gi]&&(Ji=4)):"C"==Ii?(this.tSet(32*Hi,32*Gi,110,32*Hi-512-32),4==this.maps.map_bg[Hi-1][Gi]&&(Ji=4)):"D"==Ii?(this.tSet(32*Hi,32*Gi,110,32*Hi-512-32),this.tSet(32*Hi+75,32*Gi,110,32*Hi-512-32),this.tSet(32*Hi+150,32*Gi,110,32*Hi-512-32),4==this.maps.map_bg[Hi-1][Gi]&&(Ji=4)):"E"==Ii?(this.tSet(32*Hi,32*Gi,200,32*Hi-512-32),4==this.maps.map_bg[Hi-1][Gi]&&(Ji=4)):"F"==Ii?(this.tSet(32*Hi,32*Gi,300,32*Hi-512-32),4==this.maps.map_bg[Hi-1][Gi]&&(Ji=4)):"G"==Ii?(this.tSet(32*Hi,32*Gi,400,32*Hi-512-32),4==this.maps.map_bg[Hi-1][Gi]&&(Ji=4)):"H"==Ii?(this.tSet(32*Hi,32*Gi,500,32*Hi-512-32),4==this.maps.map_bg[Hi-1][Gi]&&(Ji=4)):"I"==Ii?(this.tSet(32*Hi,32*Gi,510,32*Hi-512-32),4==this.maps.map_bg[Hi-1][Gi]&&(Ji=4)):"J"==Ii?(this.tSet(32*Hi,32*Gi,510,32*Hi-512-32-32),this.tSet(32*Hi+80,32*Gi-40,510,32*Hi-512-32-32),this.tSet(32*Hi+140,32*Gi+38,510,32*Hi-512-32-32),4==this.maps.map_bg[Hi-1][Gi]&&(Ji=4)):"K"==Ii?(2==this.ugokuyuka1_type?this.aSet(32*Hi,32*Gi,500,32*Hi):3==this.ugokuyuka1_type?this.aSet(32*Hi,32*Gi,510,32*Hi):4==this.ugokuyuka1_type?this.aSet(32*Hi,32*Gi,120,32*Hi):5==this.ugokuyuka1_type?this.aSet(32*Hi,32*Gi,121,32*Hi):6==this.ugokuyuka1_type?this.aSet(32*Hi,32*Gi,600,32*Hi):7==this.ugokuyuka1_type?this.aSet(32*Hi,32*Gi,700,32*Hi):this.aSet(32*Hi,32*Gi,100,32*Hi),4==this.maps.map_bg[Hi-1][Gi]&&(Ji=4)):"L"==Ii?(2==this.ugokuyuka2_type?this.aSet(32*Hi,32*Gi,500,32*Hi):3==this.ugokuyuka2_type?this.aSet(32*Hi,32*Gi,510,32*Hi):4==this.ugokuyuka2_type?this.aSet(32*Hi,32*Gi,120,32*Hi):5==this.ugokuyuka2_type?this.aSet(32*Hi,32*Gi,121,32*Hi):6==this.ugokuyuka2_type?this.aSet(32*Hi,32*Gi,600,32*Hi):7==this.ugokuyuka2_type?this.aSet(32*Hi,32*Gi,700,32*Hi):this.aSet(32*Hi,32*Gi+9,110,32*Hi-16),4==this.maps.map_bg[Hi-1][Gi]&&(Ji=4)):"M"==Ii?(2==this.ugokuyuka3_type?this.aSet(32*Hi,32*Gi,500,32*Hi):3==this.ugokuyuka3_type?this.aSet(32*Hi,32*Gi,510,32*Hi):4==this.ugokuyuka3_type?this.aSet(32*Hi,32*Gi,120,32*Hi):5==this.ugokuyuka3_type?this.aSet(32*Hi,32*Gi,121,32*Hi):6==this.ugokuyuka3_type?this.aSet(32*Hi,32*Gi,600,32*Hi):7==this.ugokuyuka3_type?this.aSet(32*Hi,32*Gi,700,32*Hi):(this.aSet(32*Hi,32*Gi+9,115,32*Hi-16),this.aSet(32*Hi,32*Gi+9,116,32*Hi-16)),4==this.maps.map_bg[Hi-1][Gi]&&(Ji=4)):"N"==Ii?(this.aSet(32*Hi-32,32*Gi,400,32*Hi),4==this.maps.map_bg[Hi-1][Gi]&&(Ji=4)):"O"==Ii?(this.tSet(32*Hi,32*Gi,600,32*Hi-512-32),4==this.maps.map_bg[Hi-1][Gi]&&(Ji=4)):"P"==Ii?(this.tSet(32*Hi,32*Gi,700,32*Hi-512-32),4==this.maps.map_bg[Hi-1][Gi]&&(Ji=4)):"Q"==Ii?(this.tSet(32*Hi,32*Gi,800,32*Hi-512-32),4==this.maps.map_bg[Hi-1][Gi]&&(Ji=4)):"R"==Ii?(this.tSet(32*Hi,32*Gi,900,32*Hi-512-32),4==this.maps.map_bg[Hi-1][Gi]&&(Ji=4)):"S"==Ii?(this.co_b.c=100,this.co_b.c4=3,this.co_b.x=32*Hi,this.co_b.y=32*Gi-16,4==this.maps.map_bg[Hi-1][Gi]&&(Ji=4),this.co_b.x<448?this.co_b.x=448:5664<this.co_b.x&&(this.co_b.x=5664),10==this.sl_step?this.sl_step=11:this.sl_step=1,this.sl_wx=this.co_b.x-384,this.sl_wy=960):"T"==Ii?(this.co_b.c=200,this.co_b.c4=3,this.co_b.x=32*Hi,this.co_b.y=32*Gi-16,4==this.maps.map_bg[Hi-1][Gi]&&(Ji=4),this.co_b.x<448?this.co_b.x=448:5664<this.co_b.x&&(this.co_b.x=5664),10==this.sl_step?this.sl_step=11:this.sl_step=1,this.sl_wx=this.co_b.x-384,this.sl_wy=960):"U"==Ii?(this.aSet(32*Hi+16,32*Gi+16,70,32*Hi),Ji=50):"V"==Ii?(this.aSet(32*Hi+16,32*Gi+16,71,32*Hi),Ji=50):"W"==Ii?(this.tSet(32*Hi,32*Gi-16,1e3,32*Hi-512-32-32),Ji=4):"X"==Ii?(this.tSet(32*Hi,32*Gi,1100,32*Hi-512-32),Ji=4):"Y"==Ii?(this.aSet(32*Hi,32*Gi,60,32*Hi),4==this.maps.map_bg[Hi-1][Gi]&&(Ji=4)):"Z"==Ii&&(this.co_b.c=300,this.co_b.c4=3,this.co_b.x=32*Hi,this.co_b.y=32*Gi-16,this.boss_kijyun_y=this.co_b.y,4==this.maps.map_bg[Hi-1][Gi]&&(Ji=4),this.co_b.x<448?this.co_b.x=448:5664<this.co_b.x&&(this.co_b.x=5664),10==this.sl_step?this.sl_step=11:this.sl_step=1,this.sl_wx=this.co_b.x-384,this.sl_wy=960),0<=Ji&&(this.maps.map_bg[Hi][Gi]=Ji))}for(var Ki=0;Ki<=this.maps.width-1;Ki++)this.maps.map_bg[Ki][0]=21,this.maps.map_bg[Ki][this.maps.height-1]=21;for(var Li=0;Li<=this.maps.height-1;Li++)this.maps.map_bg[0][Li]=21,this.maps.map_bg[181][Li]=21,this.maps.map_bg[199][Li]=21;this.ochiru_y=this.maps.wy_max+320,this.maps.wx=this.co_j.x-96,this.maps.wy=this.co_j.y-176,this.maps.wx<this.maps.wx_mini?this.maps.wx=this.maps.wx_mini:this.maps.wx>this.maps.wx_max&&(this.maps.wx=this.maps.wx_max),this.maps.wy<this.maps.wy_mini?this.maps.wy=this.maps.wy_mini:this.maps.wy>this.maps.wy_max&&(this.maps.wy=this.maps.wy_max),this.co_j.wx=this.co_j.x-this.maps.wx,this.co_j.wy=this.co_j.y-this.maps.wy},G.prototype.drawGamescreen=function(){this.maps.drawMapScroll(this.g_ac2);var Mi=this.maps.wx,Ni=this.maps.wy;if(this.co_j.wx=this.co_j.x-this.maps.wx,this.co_j.wy=this.co_j.y-this.maps.wy,this.a_hf)for(var Oi=0;Oi<=this.a_kazu;Oi++)if(this.co_a[Oi].gf){var Pi=this.co_a[Oi],Qi=Pi.x-Mi,Ri=Pi.y-Ni;switch(Pi.pt){default:break;case 100:this.hg.drawImage(this.hi[190],Qi,Ri,this.ap),this.hg.drawImage(this.hi[191],Qi+32,Ri,this.ap),this.hg.drawImage(this.hi[192],Qi+64,Ri,this.ap);break;case 200:this.hg.drawImage(this.hi[76],Qi,Ri,this.ap),this.hg.drawImage(this.hi[77],Qi+32,Ri,this.ap),this.hg.drawImage(this.hi[86],Qi,Ri+32,this.ap),this.hg.drawImage(this.hi[87],Qi+32,Ri+32,this.ap);break;case 210:this.hg.drawImage(this.hi[78],Qi,Ri,this.ap),this.hg.drawImage(this.hi[79],Qi+32,Ri,this.ap),this.hg.drawImage(this.hi[88],Qi,Ri+32,this.ap),this.hg.drawImage(this.hi[89],Qi+32,Ri+32,this.ap);break;case 300:this.hg.drawImage(this.hi[60],Qi,Ri,this.ap),this.hg.drawImage(this.hi[61],Qi+32,Ri,this.ap);break;case 310:this.hg.drawImage(this.hi[62],Qi,Ri,this.ap),this.hg.drawImage(this.hi[63],Qi+32,Ri,this.ap);break;case 320:this.hg.drawImage(this.hi[64],Qi,Ri,this.ap),this.hg.drawImage(this.hi[65],Qi+32,Ri,this.ap);break;case 330:this.hg.drawImage(this.hi[66],Qi,Ri,this.ap),this.hg.drawImage(this.hi[67],Qi+32,Ri,this.ap);break;case 400:this.hg.drawImage(this.hi[183],Qi,Ri,this.ap),this.hg.drawImage(this.hi[184],Qi+32,Ri,this.ap),this.hg.drawImage(this.hi[185],Qi+64,Ri,this.ap),this.hg.drawImage(this.hi[193],Qi,Ri+32,this.ap),this.hg.drawImage(this.hi[194],Qi+32,Ri+32,this.ap),this.hg.drawImage(this.hi[195],Qi+64,Ri+32,this.ap);break;case 500:this.hg.drawImage(this.hi[180],Qi,Ri,this.ap),this.hg.drawImage(this.hi[181],Qi+32,Ri,this.ap),this.hg.drawImage(this.hi[182],Qi+64,Ri,this.ap);break;case 600:this.hg.drawImage(this.hi[188],Qi,Ri,this.ap),this.hg.drawImage(this.hi[189],Qi+32,Ri,this.ap),this.hg.drawImage(this.hi[198],Qi,Ri+32,this.ap),this.hg.drawImage(this.hi[199],Qi+32,Ri+32,this.ap);break;case 605:this.hg.drawImage(this.hih[1][189],Qi,Ri,this.ap),this.hg.drawImage(this.hih[1][188],Qi+32,Ri,this.ap),this.hg.drawImage(this.hih[1][199],Qi,Ri+32,this.ap),this.hg.drawImage(this.hih[1][198],Qi+32,Ri+32,this.ap);break;case 700:this.hg.drawImage(this.hi[32],Qi,Ri,this.ap);break;case 710:this.hg.drawImage(this.hi[33],Qi,Ri,this.ap);break;case 720:this.hg.drawImage(this.hi[34],Qi,Ri,this.ap);break;case 800:Pi.x>=this.co_j.x?this.hg.drawImage(this.hi[35+Pi.c3],Qi,Ri,this.ap):this.hg.drawImage(this.hih[1][35+Pi.c3],Qi,Ri,this.ap);break;case 1100:var Si=c.floor(16*c.cos(6.283185307179586*(Pi.c3+90)/360)),Ti=c.floor(16*c.sin(6.283185307179586*(Pi.c3+90)/360));if(this.vo_pa_x[0]=this.vo_x[Oi][0]-Mi+Si,this.vo_pa_y[0]=this.vo_y[Oi][0]-Ni+Ti,this.vo_pa_x[1]=this.vo_x[Oi][0]-Mi-Si,this.vo_pa_y[1]=this.vo_y[Oi][0]-Ni-Ti,this.vo_pa_x[2]=this.vo_x[Oi][1]-Mi-Si,this.vo_pa_y[2]=this.vo_y[Oi][1]-Ni-Ti,this.vo_pa_x[3]=this.vo_x[Oi][1]-Mi+Si,this.vo_pa_y[3]=this.vo_y[Oi][1]-Ni+Ti,this.gg.os_g.setColor(this.gamecolor_firebar1),this.gg.os_g.fillPolygon(this.vo_pa_x,this.vo_pa_y,4),2<=this.g_c2){this.gg.os_g.setColor(this.gamecolor_firebar2);var Ui=c.floor(10*c.cos(6.283185307179586*(Pi.c3+90)/360)),Vi=c.floor(10*c.sin(6.283185307179586*(Pi.c3+90)/360));this.vo_pa_x[0]=this.vo_x[Oi][2]-Mi+Ui,this.vo_pa_y[0]=this.vo_y[Oi][2]-Ni+Vi,this.vo_pa_x[1]=this.vo_x[Oi][2]-Mi-Ui,this.vo_pa_y[1]=this.vo_y[Oi][2]-Ni-Vi,this.vo_pa_x[2]=this.vo_x[Oi][3]-Mi-Ui,this.vo_pa_y[2]=this.vo_y[Oi][3]-Ni-Vi,this.vo_pa_x[3]=this.vo_x[Oi][3]-Mi+Ui,this.vo_pa_y[3]=this.vo_y[Oi][3]-Ni+Vi,this.gg.os_g.fillPolygon(this.vo_pa_x,this.vo_pa_y,4)}}}if(0<this.m_kazu)for(var Wi=0;Wi<=23;Wi++)if(50<=this.co_m[Wi].c){var Xi=this.co_m[Wi];if(50==Xi.c){this.hg.drawImage(this.hih[Xi.pth][Xi.pt],Xi.x-Mi,Xi.y-Ni,this.ap);var Yi=this.maps.getBGCode(Xi.x,Xi.y);20<=Yi&&this.gg.drawPT(32*(Xi.x>>5)-Mi,32*(Xi.y>>5)-Ni,Yi,0),20<=(Yi=this.maps.getBGCode(Xi.x+31,Xi.y))&&this.gg.drawPT(32*(Xi.x+31>>5)-Mi,32*(Xi.y>>5)-Ni,Yi,0)}else 1e3==Xi.pt?(this.gg.os_g.setColor(this.gamecolor_mizunohadou),this.gg.os_g.fillOval(Xi.x-Mi+16-Xi.c2,Xi.y-Ni+16-Xi.c2,2*Xi.c2,2*Xi.c2)):1100==Xi.pt?(0==this.g_ac?this.gg.os_g.setColor(this.gamecolor_grenade1):this.gg.os_g.setColor(this.gamecolor_grenade2),this.gg.os_g.fillOval(Xi.x-Mi+16-Xi.c2,Xi.y-Ni+16-Xi.c2,2*Xi.c2,2*Xi.c2)):this.hg.drawImage(this.hih[Xi.pth][Xi.pt],Xi.x-Mi,Xi.y-Ni,this.ap)}if(0<this.jm_kazu)for(var Zi=0;Zi<=1;Zi++)if(50<=this.co_jm[Zi].c){var $i=this.co_jm[Zi];$i.pt<1e3?this.hg.drawImage(this.hih[$i.pth][$i.pt],$i.x-Mi,$i.y-Ni,this.ap):1200==$i.pt?(0==this.g_ac?this.gg.os_g.setColor(this.gamecolor_grenade1):this.gg.os_g.setColor(this.gamecolor_grenade2),this.gg.os_g.fillRect($i.x-Mi,$i.y-Ni+12,$i.vx-$i.x+1,8)):1205==$i.pt?(0==this.g_ac?this.gg.os_g.setColor(this.gamecolor_grenade1):this.gg.os_g.setColor(this.gamecolor_grenade2),this.gg.os_g.fillRect($i.vx-Mi,$i.y-Ni+12,$i.x-$i.vx+1,8)):(0==this.g_ac?this.gg.os_g.setColor(this.gamecolor_grenade1):this.gg.os_g.setColor(this.gamecolor_grenade2),this.gg.os_g.fillOval($i.x-Mi+16-$i.c2,$i.y-Ni+16-$i.c2,2*$i.c2,2*$i.c2))}for(var _i=0;_i<=this.t_kazu;_i++)if(50<=this.co_t[_i].c){var aj=this.co_t[_i].x-Mi,bj=this.co_t[_i].y-Ni;-64<=aj&&bj<=576&&this.hg.drawImage(this.hih[this.co_t[_i].pth][this.co_t[_i].pt],aj,bj,this.ap)}if(50<this.co_b.c){var cj=this.co_b.x-Mi;if(cj<528){var dj=this.co_b.y-Ni;switch(this.co_b.pt){default:break;case 1e3:this.hg.drawImage(this.hih[0][186],cj-16,dj-16,this.ap),this.hg.drawImage(this.hih[0][187],cj+16,dj-16,this.ap),this.hg.drawImage(this.hih[0][196],cj-16,dj+16,this.ap),this.hg.drawImage(this.hih[0][197],cj+16,dj+16,this.ap);break;case 1005:this.hg.drawImage(this.hih[1][187],cj-16,dj-16,this.ap),this.hg.drawImage(this.hih[1][186],cj+16,dj-16,this.ap),this.hg.drawImage(this.hih[1][197],cj-16,dj+16,this.ap),this.hg.drawImage(this.hih[1][196],cj+16,dj+16,this.ap);break;case 1010:this.hg.drawImage(this.hih[0][176],cj-16,dj+16,this.ap),this.hg.drawImage(this.hih[0][177],cj+16,dj+16,this.ap);break;case 1015:this.hg.drawImage(this.hih[1][177],cj-16,dj+16,this.ap),this.hg.drawImage(this.hih[1][176],cj+16,dj+16,this.ap);break;case 1100:this.hg.drawImage(this.hih[0][188],cj-16,dj-16,this.ap),this.hg.drawImage(this.hih[0][189],cj+16,dj-16,this.ap),this.hg.drawImage(this.hih[0][198],cj-16,dj+16,this.ap),this.hg.drawImage(this.hih[0][199],cj+16,dj+16,this.ap);break;case 1105:this.hg.drawImage(this.hih[1][189],cj-16,dj-16,this.ap),this.hg.drawImage(this.hih[1][188],cj+16,dj-16,this.ap),this.hg.drawImage(this.hih[1][199],cj-16,dj+16,this.ap),this.hg.drawImage(this.hih[1][198],cj+16,dj+16,this.ap);break;case 1110:this.hg.drawImage(this.hih[0][178],cj-16,dj+16,this.ap),this.hg.drawImage(this.hih[0][179],cj+16,dj+16,this.ap);break;case 1115:this.hg.drawImage(this.hih[1][179],cj-16,dj+16,this.ap),this.hg.drawImage(this.hih[1][178],cj+16,dj+16,this.ap);break;case 1200:this.hg.drawImage(this.hih[0][238],cj-16,dj-16,this.ap),this.hg.drawImage(this.hih[0][239],cj+16,dj-16,this.ap),this.hg.drawImage(this.hih[0][248],cj-16,dj+16,this.ap),this.hg.drawImage(this.hih[0][249],cj+16,dj+16,this.ap);break;case 1205:this.hg.drawImage(this.hih[1][239],cj-16,dj-16,this.ap),this.hg.drawImage(this.hih[1][238],cj+16,dj-16,this.ap),this.hg.drawImage(this.hih[1][249],cj-16,dj+16,this.ap),this.hg.drawImage(this.hih[1][248],cj+16,dj+16,this.ap);break;case 1210:this.hg.drawImage(this.hih[0][228],cj-16,dj+16,this.ap),this.hg.drawImage(this.hih[0][229],cj+16,dj+16,this.ap);break;case 1215:this.hg.drawImage(this.hih[1][229],cj-16,dj+16,this.ap),this.hg.drawImage(this.hih[1][228],cj+16,dj+16,this.ap);break;case 1250:this.hg.drawImage(this.hih[0][238],cj-16,dj-16,this.ap),this.hg.drawImage(this.hih[0][239],cj+16,dj-16,this.ap),this.hg.drawImage(this.hih[0][248],cj-16,dj+16,this.ap),this.hg.drawImage(this.hih[0][249],cj+16,dj+16,this.ap),this.j_v_c<=0&&(this.j_v_kakudo+=2,360<this.j_v_kakudo&&(this.j_v_kakudo-=360)),cj=this.co_b.x-Mi+16,dj=this.co_b.y-Ni+16,this.gg.os_g.setColor(D.white);for(var ej=.017453292519943295,fj=0;fj<=5;fj++){var gj=(this.j_v_kakudo+60*fj)*ej;this.vo_pa_x[fj]=cj+c.floor(50*c.cos(gj)),this.vo_pa_y[fj]=dj+c.floor(50*c.sin(gj))}this.gg.os_g.drawPolygon(this.vo_pa_x,this.vo_pa_y,6);for(var hj=0;hj<=5;hj++){var ij=(360-this.j_v_kakudo+60*hj)*ej;this.vo_pa_x[hj]=cj+c.floor(50*c.cos(ij)),this.vo_pa_y[hj]=dj+c.floor(50*c.sin(ij))}this.gg.os_g.drawPolygon(this.vo_pa_x,this.vo_pa_y,6);break;case 1255:this.hg.drawImage(this.hih[1][239],cj-16,dj-16,this.ap),this.hg.drawImage(this.hih[1][238],cj+16,dj-16,this.ap),this.hg.drawImage(this.hih[1][249],cj-16,dj+16,this.ap),this.hg.drawImage(this.hih[1][248],cj+16,dj+16,this.ap),this.j_v_c<=0&&(this.j_v_kakudo+=2,360<this.j_v_kakudo&&(this.j_v_kakudo-=360)),cj=this.co_b.x-Mi+16,dj=this.co_b.y-Ni+16,this.gg.os_g.setColor(D.white);for(var jj=.017453292519943295,kj=0;kj<=5;kj++){var lj=(this.j_v_kakudo+60*kj)*jj;this.vo_pa_x[kj]=cj+c.floor(50*c.cos(lj)),this.vo_pa_y[kj]=dj+c.floor(50*c.sin(lj))}this.gg.os_g.drawPolygon(this.vo_pa_x,this.vo_pa_y,6);for(var mj=0;mj<=5;mj++){var nj=(360-this.j_v_kakudo+60*mj)*jj;this.vo_pa_x[mj]=cj+c.floor(50*c.cos(nj)),this.vo_pa_y[mj]=dj+c.floor(50*c.sin(nj))}this.gg.os_g.drawPolygon(this.vo_pa_x,this.vo_pa_y,6)}}}if(96<=this.j_jet_c&&(0==this.g_c1?this.hg.drawImage(this.hi[134],this.co_j.x-Mi,this.co_j.y-Ni+36,this.ap):this.hg.drawImage(this.hi[135],this.co_j.x-Mi,this.co_j.y-Ni+36,this.ap)),0<this.j_v_c&&(this.j_v_c--,this.j_v_kakudo+=2,360<this.j_v_kakudo&&(this.j_v_kakudo-=360),50<this.j_v_c||1==this.g_ac)){var oj=this.co_j.x-Mi+16,pj=this.co_j.y-Ni+16;this.gg.os_g.setColor(D.white);for(var qj=.017453292519943295,rj=0;rj<=5;rj++){var sj=(this.j_v_kakudo+60*rj)*qj;this.vo_pa_x[rj]=oj+c.floor(38*c.cos(sj)),this.vo_pa_y[rj]=pj+c.floor(38*c.sin(sj))}this.gg.os_g.drawPolygon(this.vo_pa_x,this.vo_pa_y,6);for(var tj=0;tj<=5;tj++){var uj=(360-this.j_v_kakudo+60*tj)*qj;this.vo_pa_x[tj]=oj+c.floor(38*c.cos(uj)),this.vo_pa_y[tj]=pj+c.floor(38*c.sin(uj))}this.gg.os_g.drawPolygon(this.vo_pa_x,this.vo_pa_y,6)}if(this.j_zan_f){var vj=this.j_zan_p+(6-this.j_zan_nagasa);5<vj&&(vj-=6);var wj=this.j_zan_p+1;5<wj&&(wj-=6);do{var xj=this.j_zan_x[vj]-Mi,yj=this.j_zan_y[vj]-Ni,zj=this.j_zan_pth[vj];this.hg.drawImage(this.hih[zj][this.j_zan_pt[vj]],xj,yj,this.ap),5<++vj&&(vj=0)}while(vj!=wj);this.j_zan_p++,5<this.j_zan_p&&(this.j_zan_p=0),this.j_zan_x[this.j_zan_p]=this.co_j.x,this.j_zan_y[this.j_zan_p]=this.co_j.y,this.j_zan_pt[this.j_zan_p]=this.co_j.pt,this.j_zan_pth[this.j_zan_p]=this.co_j.muki,this.j_zan_c<9?(this.j_zan_c++,0<=this.co_j.vy&&(this.j_zan_c=9)):(this.j_zan_nagasa--,this.j_zan_nagasa<0&&(this.j_zan_f=!1))}if(this.co_j.pt<1e3?this.gg.drawPT(this.co_j.wx,this.co_j.wy,this.co_j.pt,this.co_j.muki):1e3==this.co_j.pt?0==this.co_j.muki?(this.gg.drawPT(this.co_j.wx,this.co_j.wy,118,this.co_j.muki),this.gg.drawPT(this.co_j.wx-32,this.co_j.wy,117,this.co_j.muki)):(this.gg.drawPT(this.co_j.wx,this.co_j.wy,118,1),this.gg.drawPT(this.co_j.wx+32,this.co_j.wy,117,1)):1100==this.co_j.pt?(this.co_j.c1<=0?this.gg.drawPT(this.co_j.wx,this.co_j.wy,100,this.co_j.muki):32<=this.co_j.c1?this.gg.drawPT(this.co_j.wx,this.co_j.wy+32,100,this.co_j.muki):this.gg.drawPT(this.co_j.wx,this.co_j.wy+this.co_j.c1,100,this.co_j.muki),this.gg.drawPT(this.co_j.wx-16,this.co_j.wy+32,60+2*this.co_j.c2,0),this.gg.drawPT(this.co_j.wx+16,this.co_j.wy+32,61+2*this.co_j.c2,0)):this.co_j.pt,0<this.hitokoto_c){this.hitokoto_c--;for(var Dj=0,Ej=0;Ej<=2;Ej++){var Fj=Ej+1,Gj="hitokoto"+this.hitokoto_num+"-"+Fj;Gj=this.gg.ap.getParameter(Gj),Fj=parseInt(Gj),isNaN(Fj)&&(Fj=-1),0!=Fj&&Dj++}this.km.drawWindowbox(208,56,224,30+14*Dj),this.hg.setFont(new E("Dialog",0,12)),this.hg.setColor(D.cyan);var Hj="hitokoto"+this.hitokoto_num+"_name";this.hg.drawString(this.gg.ap.getParameter(Hj),214,74),this.hg.setColor(D.white);for(var Ij=Dj=0;Ij<=2;Ij++){var Jj=Ij+1,Kj="hitokoto"+this.hitokoto_num+"-"+Jj;Kj=this.gg.ap.getParameter(Kj),Jj=parseInt(Kj),isNaN(Jj)&&(Jj=-1),0!=Jj&&(this.hg.drawString(Kj,214,80+14*Dj+12),Dj++)}}},G.prototype.jM100=function(){var Lj=!1,Mj=!1;this.j_mizu_f=!1;var Nj=this.maps.getBGCode(this.co_j.x+15,this.co_j.y+15);4==Nj?(this.j_mizu_f=!0,this.j_jet_c=0,this.j_mizu_awa_c++,44==this.j_mizu_awa_c||54==this.j_mizu_awa_c?this.mSet(this.co_j.x,this.co_j.y+4,60):54<this.j_mizu_awa_c&&(this.j_mizu_awa_c=0)):8!=Nj&&9!=Nj||4!=this.maps.map_bg[(this.co_j.x+15>>5)-1][this.co_j.y+15>>5]||(this.j_mizu_f=!0,this.j_jet_c=0,this.j_mizu_awa_c++,44==this.j_mizu_awa_c||54==this.j_mizu_awa_c?this.mSet(this.co_j.x,this.co_j.y+4,60):54<this.j_mizu_awa_c&&(this.j_mizu_awa_c=0)),this.gk.tr1_f?this.tr1_c<6&&this.tr1_c++:this.tr1_c=0,this.gk.tr2_f?this.tr2_c<2&&this.tr2_c++:this.tr2_c=0,this.gk.left_f?this.gk.left_c<2&&this.gk.left_c++:this.gk.left_c=0,this.gk.right_f?this.gk.right_c<2&&this.gk.right_c++:this.gk.right_c=0,1==this.gk.left_c?(0<this.left_dcc?this.j_hashiru_f=!0:this.j_hashiru_f=!1,this.left_dcc=8):0<this.left_dcc&&this.left_dcc--,1==this.gk.right_c?(0<this.right_dcc?this.j_hashiru_f=!0:this.j_hashiru_f=!1,this.right_dcc=8):0<this.right_dcc&&this.right_dcc--;var Oj=this.co_j.x,Pj=this.co_j.y;this.co_j.pt=100;var Qj=Oj+15>>5,Rj=Pj+31>>5,Tj=(this.maps.map_bg[Qj][Rj],Pj+32>>5),Uj=this.maps.map_bg[Qj][Tj];if(20<=Uj||0<=this.j_a_id?(this.co_j.jimen_f=!0,this.j_jump_type=2,69==Uj&&(Mj=!0)):this.co_j.jimen_f=!1,this.co_j.jimen_f?(this.j_zan_f=!1,this.j_jet_c=0,this.gk.left_f?(this.co_j.vx-=Mj?4:15,this.j_hashiru_f?(this.j_mizu_f?this.co_j.vx<-60&&(this.co_j.vx=-60):this.co_j.vx<-120&&(this.co_j.vx=-120),0<this.co_j.vx&&!Mj?(this.co_j.pt=108,this.co_j.ac=0):(this.co_j.pt=105+(this.co_j.ac>>1),this.co_j.ac++,3<this.co_j.ac&&(this.co_j.ac=0))):(this.j_mizu_f?this.co_j.vx<-40&&(this.co_j.vx=-40):this.co_j.vx<-60&&(this.co_j.vx=-60),0<this.co_j.vx&&!Mj?(this.co_j.pt=108,this.co_j.ac=0):(this.co_j.pt=103+(this.co_j.ac>>1),this.co_j.ac++,3<this.co_j.ac&&(this.co_j.ac=0))),this.co_j.muki=0):this.gk.right_f?(this.co_j.vx+=Mj?4:15,this.j_hashiru_f?(this.j_mizu_f?60<this.co_j.vx&&(this.co_j.vx=60):120<this.co_j.vx&&(this.co_j.vx=120),this.co_j.vx<0&&!Mj?(this.co_j.pt=108,this.co_j.ac=0):(this.co_j.pt=105+(this.co_j.ac>>1),this.co_j.ac++,3<this.co_j.ac&&(this.co_j.ac=0))):(this.j_mizu_f?40<this.co_j.vx&&(this.co_j.vx=40):60<this.co_j.vx&&(this.co_j.vx=60),this.co_j.vx<0&&!Mj?(this.co_j.pt=108,this.co_j.ac=0):(this.co_j.pt=103+(this.co_j.ac>>1),this.co_j.ac++,3<this.co_j.ac&&(this.co_j.ac=0))),this.co_j.muki=1):this.co_j.vx<0?(Mj?this.co_j.vx++:this.co_j.vx+=5,0<this.co_j.vx&&(this.co_j.vx=0),this.j_hashiru_f||Mj?(this.co_j.pt=107,this.co_j.ac=0):(this.co_j.pt=103+(this.co_j.ac>>1),this.co_j.ac++,3<this.co_j.ac&&(this.co_j.ac=0)),this.co_j.muki=0):0<this.co_j.vx?(Mj?this.co_j.vx--:this.co_j.vx-=5,this.co_j.vx<0&&(this.co_j.vx=0),this.j_hashiru_f||Mj?(this.co_j.pt=107,this.co_j.ac=0):(this.co_j.pt=103+(this.co_j.ac>>1),this.co_j.ac++,3<this.co_j.ac&&(this.co_j.ac=0)),this.co_j.muki=1):this.co_j.ac=0):(this.gk.left_f?!this.j_mizu_f&&-60<this.co_j.vx&&(this.co_j.vx-=10,this.co_j.vx<-60&&(this.co_j.vx=-60)):this.gk.right_f&&!this.j_mizu_f&&this.co_j.vx<60&&(this.co_j.vx+=10,60<this.co_j.vx&&(this.co_j.vx=60)),this.j_mizu_f?1<this.j_mizu_ac?this.co_j.pt=84:this.co_j.pt=83:0==this.j_jump_type?this.co_j.vy<20?this.co_j.pt=101:this.co_j.pt=102:2==this.j_jump_type?c.abs(this.co_j.vx)<=60?this.co_j.pt=103:this.co_j.pt=105:3==this.j_jump_type?this.co_j.pt=119:4==this.j_jump_type?this.co_j.pt=100:this.co_j.pt=109,this.co_j.ac=2),this.j_jdai_f&&(this.co_j.vx=0,this.co_j.pt=100,this.co_j.ac=0),this.co_j.vx<0){if(this.co_j.x+=s(this.co_j.vx/10),this.a_hf)for(var Vj=0;Vj<=this.a_kazu;Vj++)if(this.co_a[Vj].gf){var Wj=this.co_a[Vj];100<=Wj.c&&Wj.c<200?this.co_j.x+15>=Wj.x&&this.co_j.x<=Wj.x+64&&this.co_j.y+31>=Wj.y&&this.co_j.y<=Wj.y+13&&(this.co_j.x=Wj.x+65,this.co_j.vx=0):300==Wj.c?this.co_j.x+15>=Wj.x&&this.co_j.x<=Wj.x+48&&this.co_j.y+31>=Wj.y&&this.co_j.y<=Wj.y+31&&(this.co_j.x=Wj.x+49,this.co_j.vx=0):400==Wj.c?this.co_j.x+15>=Wj.x&&this.co_j.x<=Wj.x+80&&this.co_j.y+31>=Wj.y&&this.co_j.y<=Wj.y+63&&(this.co_j.x=Wj.x+81,this.co_j.vx=0):500==Wj.c?this.co_j.x+15>=Wj.x&&this.co_j.x<=Wj.x+80&&this.co_j.y+31>=Wj.y&&this.co_j.y<=Wj.y+13&&(this.co_j.x=Wj.x+81,this.co_j.vx=0):600==Wj.c?this.co_j.x+15>=Wj.x&&this.co_j.x<=Wj.x+48&&this.co_j.y+31>=Wj.y+16&&this.co_j.y<=Wj.y+47&&(this.co_j.x=Wj.x+49,this.co_j.vx=0):700==Wj.c&&this.co_j.x+15>=Wj.x&&this.co_j.x<=Wj.x+16&&this.co_j.y+31>=Wj.y&&this.co_j.y<=Wj.y+31&&(this.co_j.x=Wj.x+17,this.co_j.vx=0)}var Xj=this.co_j.x+15>>5,Yj=this.maps.map_bg[Xj][this.co_j.y>>5],Zj=this.co_j.y+31>>5,$j=this.maps.map_bg[Xj][Zj];(20<=Yj||20<=$j)&&(this.co_j.x=32*Xj+17,this.co_j.vx=0)}else if(0<this.co_j.vx){if(this.co_j.x+=s(this.co_j.vx/10),this.a_hf)for(var _j=0;_j<=this.a_kazu;_j++)if(this.co_a[_j].gf){var ak=this.co_a[_j];100<=ak.c&&ak.c<200?this.co_j.x+15>=ak.x&&this.co_j.x<=ak.x+64&&this.co_j.y+31>=ak.y&&this.co_j.y<=ak.y+13&&(this.co_j.x=ak.x-16,this.co_j.vx=0):300==ak.c?this.co_j.x+15>=ak.x&&this.co_j.x<=ak.x+48&&this.co_j.y+31>=ak.y&&this.co_j.y<=ak.y+31&&(this.co_j.x=ak.x-16,this.co_j.vx=0):400==ak.c?this.co_j.x+15>=ak.x&&this.co_j.x<=ak.x+80&&this.co_j.y+31>=ak.y&&this.co_j.y<=ak.y+63&&(this.co_j.x=ak.x-16,this.co_j.vx=0):500==ak.c?this.co_j.x+15>=ak.x&&this.co_j.x<=ak.x+80&&this.co_j.y+31>=ak.y&&this.co_j.y<=ak.y+13&&(this.co_j.x=ak.x-16,this.co_j.vx=0):600==ak.c?this.co_j.x+15>=ak.x&&this.co_j.x<=ak.x+48&&this.co_j.y+31>=ak.y+16&&this.co_j.y<=ak.y+47&&(this.co_j.x=ak.x-16,this.co_j.vx=0):700==ak.c&&this.co_j.x+15>=ak.x&&this.co_j.x<=ak.x+16&&this.co_j.y+31>=ak.y&&this.co_j.y<=ak.y+31&&(this.co_j.x=ak.x-16,this.co_j.vx=0)}var bk=this.co_j.x+15>>5,ck=this.maps.map_bg[bk][this.co_j.y>>5],dk=this.co_j.y+31>>5,ek=this.maps.map_bg[bk][dk];(20<=ck||20<=ek)&&(this.co_j.x=32*bk-16,this.co_j.vx=0)}if(this.co_j.jimen_f)if(1<=this.tr1_c&&this.tr1_c<=5)if(20<=this.maps.getBGCode(this.co_j.x+15,this.co_j.y-1)){if(1==this.tr1_c&&40==this.maps.getBGCode(this.co_j.x+15,this.co_j.y-1)){var fk=this.co_j.x+15>>5,gk=this.co_j.y-1>>5;this.hAttack(fk,gk)}if(Nj=this.maps.getBGCode(this.co_j.x+15,this.co_j.y-1),this.j_helm_f&&(20==Nj||69==Nj&&1==this.suberuyuka_hkf)){this.tr1_c=6;var hk=this.co_j.x+15>>5,ik=this.co_j.y-1>>5;4==this.maps.map_bg[this.co_j.x+15>>5][1+(this.co_j.y-1>>5)]?this.maps.putBGCode(hk,ik,4):this.maps.putBGCode(hk,ik,0),this.mSet2(32*hk,32*ik,80,12,-24),this.mSet2(32*hk,32*ik,80,-12,-24),this.jZutuki(32*hk,32*ik-32,0)}}else if(this.j_mizu_f)this.j_jump_type=0,this.co_j.pt=83,this.co_j.ac=0,this.j_mizu_ac=0,this.j_jet_kf=!1,this.j_jdai_f?(this.co_j.y=32*(this.co_j.y>>5),this.co_j.vy=-120):50<c.abs(this.co_j.vx)?this.co_j.vy=-90:this.co_j.vy=-70,this.j_jump_level=0;else{this.j_jump_type=0,this.co_j.pt=101,this.co_j.ac=0,this.j_fire_f&&(0==this.co_j.muki?this.jmSet(this.co_j.x,this.co_j.y,100):this.jmSet(this.co_j.x,this.co_j.y,105)),this.j_jet_kf=!1;var jk=c.abs(this.co_j.vx);if(this.j_jdai_f)this.co_j.y=32*(this.co_j.y>>5),this.co_j.vy=-410,this.j_jump_level=5,this.co_a[this.j_a_id].c3<=1&&(this.co_j.vy=-230);else if(0==jk)this.co_j.vy=-150,this.j_jump_level=1;else if(jk<60)this.co_j.vy=-230,this.j_jump_level=2;else if(60==jk)this.co_j.vy=-260,this.j_jump_level=3;else if(jk<120)this.co_j.vy=-290,this.j_jump_level=4;else if(this.co_j.vy=-340,this.j_jump_level=5,(Nj=this.maps.map_bg[this.co_j.x+15>>5][this.co_j.y-1>>5])<=9){for(var kk=0;kk<=5;kk++)this.j_zan_x[kk]=Oj,this.j_zan_y[kk]=Pj,this.j_zan_pt[kk]=101,this.j_zan_pth[kk]=this.co_j.muki;this.j_zan_p=0,this.j_zan_c=0,this.j_zan_nagasa=5,this.j_zan_f=!0}}else this.co_j.vy=0;else if(this.j_mizu_f)if(this.gk.left_f?this.co_j.muki=0:this.gk.right_f&&(this.co_j.muki=1),1==this.tr1_c){var lk=!1;(Nj=this.maps.map_bg[this.co_j.x+15>>5][(this.co_j.y+15>>5)-1])<=9&&4!=Nj&&(lk=!0),8!=Nj&&9!=Nj||4!=this.maps.map_bg[(this.co_j.x+15>>5)-1][(this.co_j.y+15>>5)-1]||(lk=!1),lk&&(this.co_j.y+15)%32<=8?(this.j_jump_type=0,this.co_j.pt=101,this.co_j.ac=0,this.co_j.vy=-180,this.j_jump_level=1,this.co_j.y=32*(this.co_j.y+15>>5)-14,Lj=!(this.j_jet_kf=!1),this.mSet(this.co_j.x,32*(this.co_j.y+15>>5)-32,50)):(this.j_jump_type=0,this.co_j.ac=0,this.j_mizu_ac<=0&&(this.j_mizu_ac=4,this.co_j.pt=84),this.co_j.vy=-40,(this.j_jump_level=0)==this.co_j.muki?(this.co_j.vx-=30,this.co_j.vx<-60&&(this.co_j.vx=-60)):(this.co_j.vx+=30,60<this.co_j.vx&&(this.co_j.vx=60)))}else this.co_j.vx<0?(0==this.co_j.muki?this.co_j.vx++:this.co_j.vx+=2,0<this.co_j.vx&&(this.co_j.vx=0)):0<this.co_j.vx&&(1==this.co_j.muki?this.co_j.vx--:this.co_j.vx-=2,this.co_j.vx<0&&(this.co_j.vx=0)),this.co_j.vy<40?(this.co_j.vy+=5,40<this.co_j.vy&&(this.co_j.vy=40)):40<this.co_j.vy&&(this.co_j.vy-=20,this.co_j.vy<40&&(this.co_j.vy=40)),0<this.j_mizu_ac?(this.j_mizu_ac--,1<this.j_mizu_ac?this.co_j.pt=84:this.co_j.pt=83):this.co_j.pt=83;else this.co_j.vy+=25,160<this.co_j.vy&&(this.co_j.vy=160),1==this.tr1_c&&this.j_fire_f&&(0==this.co_j.muki?this.jmSet(this.co_j.x,this.co_j.y,100):this.jmSet(this.co_j.x,this.co_j.y,105)),0==this.tr1_c&&(this.j_jet_kf=!0),this.j_jet_kf&&0<this.tr1_c&&0<this.j_jet_fuel&&!this.j_mizu_f?(this.j_jet_c=100,2==this.j_jump_type&&(this.j_jump_type=0)):96<this.j_jet_c?this.j_jet_c--:this.j_jet_c=0,96<=this.j_jet_c&&(this.j_jet_fuel--,this.j_jet_fuel<0&&(this.j_jet_fuel=0,this.j_jet_c=0),this.gk.left_f?this.co_j.muki=0:this.gk.right_f&&(this.co_j.muki=1),-150<this.co_j.vy&&(this.co_j.vy-=50,this.co_j.vy<-150&&(this.co_j.vy=-150)));if(this.co_j.vy<0){var mk=this.co_j.x+15>>5,nk=this.co_j.y>>5,pk=(this.maps.map_bg[mk][nk],this.co_j.vy);if(pk<-320&&(pk=-320),this.co_j.y+=s(pk/10),this.j_mizu_f&&!Lj){var qk=this.maps.getBGCode(this.co_j.x+15,this.co_j.y+15),rk=!1;qk<=9&&4!=qk&&(rk=!0),8!=qk&&9!=qk||4!=this.maps.map_bg[(this.co_j.x+15>>5)-1][this.co_j.y+15>>5]||(rk=!1),rk&&(this.co_j.y=32*(this.co_j.y+15>>5)+17,this.co_j.vy=-10)}if(this.a_hf)for(var sk=0;sk<=this.a_kazu;sk++)if(this.co_a[sk].gf){var tk=this.co_a[sk];100<=tk.c&&tk.c<200?this.co_j.x+15>=tk.x&&this.co_j.x<=tk.x+64&&this.co_j.y+31>=tk.y&&this.co_j.y<=tk.y+13&&(this.co_j.y=tk.y+14,this.co_j.vy=0):300==tk.c?this.co_j.x+15>=tk.x&&this.co_j.x<=tk.x+48&&this.co_j.y+31>=tk.y&&this.co_j.y<=tk.y+31&&(this.co_j.y=tk.y+32,this.co_j.vy=0):400==tk.c?this.co_j.x+15>=tk.x&&this.co_j.x<=tk.x+80&&this.co_j.y+31>=tk.y&&this.co_j.y<=tk.y+63&&(this.co_j.y=tk.y+64,this.co_j.vy=0):500==tk.c?this.co_j.x+15>=tk.x&&this.co_j.x<=tk.x+80&&this.co_j.y+31>=tk.y&&this.co_j.y<=tk.y+13&&(this.co_j.y=tk.y+14,this.co_j.vy=0):600==tk.c?this.co_j.x+15>=tk.x&&this.co_j.x<=tk.x+48&&this.co_j.y+31>=tk.y+16&&this.co_j.y<=tk.y+47&&(this.co_j.y=tk.y+48,this.co_j.vy=0):700==tk.c&&this.co_j.x+15>=tk.x&&this.co_j.x<=tk.x+16&&this.co_j.y+31>=tk.y&&this.co_j.y<=tk.y+31&&(this.co_j.y=tk.y+32,this.co_j.vy=0)}var uk=this.co_j.y>>5,vk=this.maps.map_bg[this.co_j.x+15>>5][uk];if(20<=vk){if(this.co_j.y=32*uk+32,this.co_j.vy=0,40==vk){var wk=this.co_j.x+15>>5,xk=this.co_j.y-1>>5;this.hAttack(wk,xk)}if(this.j_helm_f&&(20==vk||69==vk&&1==this.suberuyuka_hkf)){var yk=this.co_j.x+15>>5,zk=uk;4==this.maps.map_bg[yk][zk+1]?this.maps.putBGCode(yk,zk,4):this.maps.putBGCode(yk,zk,0),this.mSet2(32*yk,32*zk,80,12,-24),this.mSet2(32*yk,32*zk,80,-12,-24),this.jZutuki(32*yk,32*zk-32,0)}}if(uk<nk){if(this.gk.right_f){var Ak=this.maps.map_bg[this.co_j.x+16>>5][nk],Bk=this.maps.map_bg[this.co_j.x+16>>5][uk];Ak<=9&&20<=Bk&&(this.co_j.y=32*uk+32,this.co_j.vy=0)}if(this.gk.left_f){var Ck=this.maps.map_bg[this.co_j.x+14>>5][nk],Dk=this.maps.map_bg[this.co_j.x+14>>5][uk];Ck<=9&&20<=Dk&&(this.co_j.y=32*uk+32,this.co_j.vy=0)}}}else if(0<this.co_j.vy){var Ek=this.co_j.x+15>>5,Fk=this.co_j.y+31>>5;this.maps.map_bg[Ek][Fk];if(this.co_j.y+=s(this.co_j.vy/10),this.a_hf)for(var Hk=0;Hk<=this.a_kazu;Hk++)if(this.co_a[Hk].gf){var Ik=this.co_a[Hk];100<=Ik.c&&Ik.c<200?this.co_j.x+15>=Ik.x&&this.co_j.x<=Ik.x+64&&this.co_j.y+31>=Ik.y&&this.co_j.y<=Ik.y+13&&(this.co_j.y=Ik.y-32,this.co_j.vy=0):300==Ik.c?this.co_j.x+15>=Ik.x&&this.co_j.x<=Ik.x+48&&this.co_j.y+31>=Ik.y&&this.co_j.y<=Ik.y+31&&(this.co_j.y=Ik.y-32,this.co_j.vy=0):400==Ik.c?this.co_j.x+15>=Ik.x&&this.co_j.x<=Ik.x+80&&this.co_j.y+31>=Ik.y&&this.co_j.y<=Ik.y+63&&(this.co_j.y=Ik.y-32,this.co_j.vy=0):500==Ik.c?this.co_j.x+15>=Ik.x&&this.co_j.x<=Ik.x+80&&this.co_j.y+31>=Ik.y&&this.co_j.y<=Ik.y+13&&(this.co_j.y=Ik.y-32,this.co_j.vy=0):600==Ik.c?this.co_j.x+15>=Ik.x&&this.co_j.x<=Ik.x+48&&this.co_j.y+31>=Ik.y+16&&this.co_j.y<=Ik.y+47&&(this.co_j.y=Ik.y+16-32,this.co_j.vy=0):700==Ik.c&&this.co_j.x+15>=Ik.x&&this.co_j.x<=Ik.x+16&&this.co_j.y+31>=Ik.y&&this.co_j.y<=Ik.y+31&&(this.co_j.y=Ik.y-32,this.co_j.vy=0)}var Jk=this.co_j.y+31>>5;if(20<=this.maps.map_bg[Ek][Jk]){this.co_j.y=32*Jk-32,this.co_j.vy=0,Jk=this.co_j.y+31>>5;this.maps.map_bg[Ek][Jk]}if(Fk<Jk){if(this.gk.right_f){var Mk=this.maps.map_bg[this.co_j.x+16>>5][Fk],Nk=this.maps.map_bg[this.co_j.x+16>>5][Jk];Mk<=9&&20<=Nk&&(this.co_j.y=32*Jk-32,this.co_j.vy=0,this.co_j.pt=103,this.co_j.ac=1,this.co_j.x++)}if(this.gk.left_f){var Ok=this.maps.map_bg[this.co_j.x+14>>5][Fk],Pk=this.maps.map_bg[this.co_j.x+14>>5][Jk];Ok<=9&&20<=Pk&&(this.co_j.y=32*Jk-32,this.co_j.vy=0,this.co_j.pt=103,this.co_j.ac=1,this.co_j.x--)}}if(!this.j_mizu_f){var Qk=this.maps.getBGCode(this.co_j.x+15,this.co_j.y+15);4==Qk?(this.mSet(this.co_j.x,32*(this.co_j.y+15>>5)-32,50),this.j_mizu_awa_c=38,this.co_j.vx<-60?this.co_j.vx=-60:60<this.co_j.vx&&(this.co_j.vx=60)):8!=Qk&&9!=Qk||4!=this.maps.map_bg[(this.co_j.x+15>>5)-1][this.co_j.y+15>>5]||(this.mSet(this.co_j.x,32*(this.co_j.y+15>>5)-32,50),this.j_mizu_awa_c=38,this.co_j.vx<-60?this.co_j.vx=-60:60<this.co_j.vx&&(this.co_j.vx=60))}}if(1==this.tr2_c)if(0<this.j_gr_kazu?3==this.grenade_type||4==this.grenade_type?0==this.co_j.muki?this.jmSet(this.co_j.x,this.co_j.y,60):this.jmSet(this.co_j.x,this.co_j.y,65):0==this.co_j.muki?this.jmSet(this.co_j.x,this.co_j.y,200):this.jmSet(this.co_j.x,this.co_j.y,205):!this.j_fire_f||this.j_mizu_f&&!this.j_fire_mkf||(0==this.co_j.muki?this.jmSet(this.co_j.x,this.co_j.y,100):this.jmSet(this.co_j.x,this.co_j.y,105)),Nj=this.maps.getBGCode(this.co_j.x+15,this.co_j.y+32),this.j_drell_f&&(20==Nj||69==Nj&&1==this.suberuyuka_hkf)){var Rk=this.co_j.x+15>>5,Sk=this.co_j.y+32>>5;4==this.maps.map_bg[this.co_j.x+15>>5][(this.co_j.y+32>>5)-1]?this.maps.putBGCode(Rk,Sk,4):this.maps.putBGCode(Rk,Sk,0),this.mSet2(32*Rk,32*Sk,80,12,-24),this.mSet2(32*Rk,32*Sk,80,-12,-24),this.jZutuki(32*Rk,32*Sk-32,0),this.co_j.x=32*Rk,this.co_j.vx=0,this.co_j.vy=0,this.j_jump_type=3,this.co_j.c=120,this.co_j.c1=0,this.co_j.pt=119}else this.j_tail_f&&(this.j_tail_ac<=0||8<=this.j_tail_ac)&&(this.j_tail_ac=1,this.co_j.pt=116,this.j_zan_f=!1);if(1<=this.j_tail_ac)if(this.j_zan_f=!1,this.j_tail_ac++,this.j_tail_ac<=4)this.co_j.pt=116,1!=this.j_tail_type&&3!=this.j_tail_type||(0==this.co_j.muki?this.jZutuki(this.co_j.x-32,this.co_j.y,1):this.jZutuki(this.co_j.x+32,this.co_j.y,1));else if(this.j_tail_ac<=5){if(this.co_j.pt=1e3,1!=this.j_tail_type&&3!=this.j_tail_type||(0==this.co_j.muki?this.jZutuki(this.co_j.x-32,this.co_j.y,1):this.jZutuki(this.co_j.x+32,this.co_j.y,1)),2==this.j_tail_type||3==this.j_tail_type){var Tk;Tk=1==this.co_j.muki?this.co_j.x+40>>5:this.co_j.x-8>>5;var Uk=this.co_j.y+15>>5;(20==this.maps.map_bg[Tk][Uk]||69==this.maps.map_bg[Tk][Uk]&&1==this.suberuyuka_hkf)&&(4==this.maps.map_bg[Tk-1][Uk]?this.maps.putBGCode(Tk,Uk,4):this.maps.putBGCode(Tk,Uk,0),this.mSet2(32*Tk,32*Uk,80,12,-24),this.mSet2(32*Tk,32*Uk,80,-12,-24),this.jZutuki(32*Tk,32*Uk-32,0))}}else this.j_tail_ac<=7?this.co_j.pt=1e3:this.j_tail_ac<=9?this.co_j.pt=116:(this.co_j.pt=116,this.j_tail_ac=0);switch(Nj=this.maps.map_bg[this.co_j.x+15>>5][this.co_j.y+15>>5]){case 9:4==this.maps.map_bg[(this.co_j.x+15>>5)-1][this.co_j.y+15>>5]?(this.maps.putBGCode(this.co_j.x+15>>5,this.co_j.y+15>>5,4),this.j_mizu_f=!0):this.maps.putBGCode(this.co_j.x+15>>5,this.co_j.y+15>>5,0),this.addScore(5);break;case 8:4==this.maps.map_bg[(this.co_j.x+15>>5)-1][this.co_j.y+15>>5]?(this.maps.putBGCode(this.co_j.x+15>>5,this.co_j.y+15>>5,4),this.j_mizu_f=!0):this.maps.putBGCode(this.co_j.x+15>>5,this.co_j.y+15>>5,0),this.stage_cc=1,2<=this.stage_max&&this.stage>=this.stage_max?this.addScore(1e3):this.addScore(100);break;case 5:case 6:this.co_j.y=32*(this.co_j.y+15>>5),this.jShinu(1)}(this.co_j.y>=this.ochiru_y||this.j_mizu_f&&this.co_j.y>=this.ochiru_y-16)&&(this.co_j.c=210,this.co_j.c1=0,this.co_j.y=this.ochiru_y+64,this.j_jet_c=0,this.j_v_c=0),this.co_j.wx=this.co_j.x-this.maps.wx,this.co_j.wy=this.co_j.y-this.maps.wy,this.co_j.wx<96?this.maps.wx=this.co_j.x-96:224<this.co_j.wx&&(this.maps.wx=this.co_j.x-224),this.co_j.wy<78?this.maps.wy=this.co_j.y-78:176<this.co_j.wy&&(this.maps.wy=this.co_j.y-176),this.maps.wx<this.maps.wx_mini?this.maps.wx=this.maps.wx_mini:this.maps.wx>this.maps.wx_max&&(this.maps.wx=this.maps.wx_max),this.maps.wy<this.maps.wy_mini?this.maps.wy=this.maps.wy_mini:this.maps.wy>this.maps.wy_max&&(this.maps.wy=this.maps.wy_max)},G.prototype.jMove=function(){this.j_mizu_f=!1;var Wk=this.maps.getBGCode(this.co_j.x+15,this.co_j.y+15);if(4==Wk?(this.j_mizu_f=!0,this.j_jet_c=0,this.j_mizu_awa_c++,44==this.j_mizu_awa_c||54==this.j_mizu_awa_c?this.mSet(this.co_j.x,this.co_j.y+4,60):54<this.j_mizu_awa_c&&(this.j_mizu_awa_c=0)):8!=Wk&&9!=Wk||4!=this.maps.map_bg[(this.co_j.x+15>>5)-1][this.co_j.y+15>>5]||(this.j_mizu_f=!0,this.j_jet_c=0,this.j_mizu_awa_c++,44==this.j_mizu_awa_c||54==this.j_mizu_awa_c?this.mSet(this.co_j.x,this.co_j.y+4,60):54<this.j_mizu_awa_c&&(this.j_mizu_awa_c=0)),this.gk.tr1_f?this.tr1_c<6&&this.tr1_c++:this.tr1_c=0,this.gk.tr2_f?this.tr2_c<2&&this.tr2_c++:this.tr2_c=0,this.gk.left_f?this.gk.left_c<2&&this.gk.left_c++:this.gk.left_c=0,this.gk.right_f?this.gk.right_c<2&&this.gk.right_c++:this.gk.right_c=0,1==this.gk.left_c?(0<this.left_dcc?this.j_hashiru_f=!0:this.j_hashiru_f=!1,this.left_dcc=8):0<this.left_dcc&&this.left_dcc--,1==this.gk.right_c?(0<this.right_dcc?this.j_hashiru_f=!0:this.j_hashiru_f=!1,this.right_dcc=8):0<this.right_dcc&&this.right_dcc--,110==this.co_j.c)this.gk.left_f?(this.co_j.vx-=10,this.co_j.vx<-60&&(this.co_j.vx=-60)):this.gk.right_f&&(this.co_j.vx+=10,60<this.co_j.vx&&(this.co_j.vx=60)),this.co_j.c1++,2<this.co_j.c1&&(this.co_j.c=100),this.co_j.pt=109;else if(120==this.co_j.c)this.co_j.c1++,6<this.co_j.c1&&(this.co_j.c=100),this.co_j.pt=119;else if(200==this.co_j.c)this.co_j.vy+=25,100<this.co_j.vy&&(this.co_j.vy=100),this.co_j.y+=s(this.co_j.vy/10),this.co_j.wx=this.co_j.x-this.maps.wx,this.co_j.wy=this.co_j.y-this.maps.wy,this.co_j.c2<100?(this.co_j.c1<=0?(this.co_j.pt=110,this.co_j.muki=0):this.co_j.c1<=1?(this.co_j.pt=111,this.co_j.muki=0,this.co_j.c2++,4<this.co_j.c2&&(this.co_j.c2=100)):(this.co_j.c1<=2?this.co_j.pt=112:this.co_j.pt=113,this.co_j.muki=0),this.co_j.c1++,3<this.co_j.c1&&(this.co_j.c1=0)):(this.co_j.pt=112,this.co_j.muki=0),320<=this.co_j.wy&&(this.co_j.c=210,this.co_j.c1=0,this.co_j.y=this.maps.wy+320+32,this.co_j.pt=0);else if(210==this.co_j.c)this.stage_cc<=0&&(this.co_j.c1++,16<this.co_j.c1&&(this.j_left--,this.j_left<0?(this.j_left=0,this.ml_mode=300):2==this.stage_select?this.ml_mode=250:this.ml_mode=90));else if(220==this.co_j.c)this.co_j.pt=114,this.co_j.c1++,25<=this.co_j.c1&&(this.co_j.c=210,this.co_j.c1=0);else if(230==this.co_j.c)this.co_j.pt=115,this.co_j.c1++,25<=this.co_j.c1&&(this.co_j.c=210,this.co_j.c1=0);else if(240==this.co_j.c)100<=this.co_j.c2&&(this.co_j.y+=10),this.co_j.wx=this.co_j.x-this.maps.wx,this.co_j.wy=this.co_j.y-this.maps.wy,this.co_j.c2<100?(this.co_j.c1<=0?(this.co_j.pt=110,this.co_j.muki=0):this.co_j.c1<=1?(this.co_j.pt=111,this.co_j.muki=0,this.co_j.c2++,4<this.co_j.c2&&(this.co_j.c2=100)):(this.co_j.c1<=2?this.co_j.pt=112:this.co_j.pt=113,this.co_j.muki=0),this.co_j.c1++,3<this.co_j.c1&&(this.co_j.c1=0)):(this.co_j.pt=112,this.co_j.muki=0),320<=this.co_j.wy&&(this.co_j.c=210,this.co_j.c1=0,this.co_j.y=this.maps.wy+320+32,this.co_j.pt=0);else if(300==this.co_j.c)this.co_j.pt=1100,this.co_j.c1++,32<=this.co_j.c1&&(this.co_j.c=310,this.co_j.c1=0,this.co_j.pt=1110),this.co_j.wx=this.co_j.x-this.maps.wx,this.co_j.wy=this.co_j.y-this.maps.wy,this.co_j.wx<96?this.maps.wx=this.co_j.x-96:224<this.co_j.wx&&(this.maps.wx=this.co_j.x-224),this.co_j.wy<78?this.maps.wy=this.co_j.y-78:176<this.co_j.wy&&(this.maps.wy=this.co_j.y-176),this.maps.wx<this.maps.wx_mini?this.maps.wx=this.maps.wx_mini:this.maps.wx>this.maps.wx_max&&(this.maps.wx=this.maps.wx_max),this.maps.wy<this.maps.wy_mini?this.maps.wy=this.maps.wy_mini:this.maps.wy>this.maps.wy_max&&(this.maps.wy=this.maps.wy_max);else if(310==this.co_j.c){if(this.co_j.pt=1110,this.stage_cc<=0)if(this.co_j.c1++,2==this.dokan_mode){if(10<=this.co_j.c1){var Xk;for(this.co_j.c=320,this.co_j.c1=42,Xk=0;Xk<=this.a_kazu;Xk++)if(300==this.co_a[Xk].c&&1!=this.co_a[Xk].c4&&this.co_j.c2==this.co_a[Xk].c3&&(0==this.sl_step||1==this.sl_step||10==this.sl_step||11==this.sl_step)){this.co_j.x=this.co_a[Xk].x+16,this.co_j.y=this.co_a[Xk].y-32,this.co_a[Xk].c4=1;break}this.a_kazu;for(var Yk=0;Yk<=this.a_kazu;Yk++)(100<=this.co_a[Yk].c||60==this.co_a[Yk].c)&&(this.co_a[Yk].gf=!0,300!=this.co_a[Yk].c||this.co_j.x==this.co_a[Yk].x+16&&this.co_j.y==this.co_a[Yk].y-32||(this.co_a[Yk].c4=0));10!=this.sl_step&&11!=this.sl_step||(this.maps.wx=this.co_j.x-192,this.ks_wx=this.maps.wx),this.co_j.wx=this.co_j.x-this.maps.wx,this.co_j.wy=this.co_j.y-this.maps.wy,this.co_j.wx<96?this.maps.wx=this.co_j.x-96:224<this.co_j.wx&&(this.maps.wx=this.co_j.x-224),this.co_j.wy<78?this.maps.wy=this.co_j.y-78:176<this.co_j.wy&&(this.maps.wy=this.co_j.y-176),this.maps.wx<this.maps.wx_mini?this.maps.wx=this.maps.wx_mini:this.maps.wx>this.maps.wx_max&&(this.maps.wx=this.maps.wx_max),this.maps.wy<this.maps.wy_mini?this.maps.wy=this.maps.wy_mini:this.maps.wy>this.maps.wy_max&&(this.maps.wy=this.maps.wy_max)}}else if(10==this.co_j.c1){var Zk;Zk=1==this.co_j.c2?this.gg.ap.getParameter("url2"):2==this.co_j.c2?this.gg.ap.getParameter("url3"):3==this.co_j.c2?this.gg.ap.getParameter("url4"):this.gg.ap.getParameter("url1"),location.href=Zk}else 80<this.co_j.c1&&(this.ml_mode=50)}else 320==this.co_j.c&&(this.co_j.pt=1100,this.co_j.c1--,this.co_j.c1<=0&&(this.co_j.c=100,this.co_j.c1=0,this.co_j.pt=100))},G.prototype.jShinu=function($k){this.co_j.c1=0,this.co_j.c2=0,this.j_zan_f=!1,this.j_jet_c=0,this.j_v_c=0,1==$k?this.co_j.c=240:2==$k?(this.co_j.c=200,this.co_j.vy=-280):3==$k&&(this.co_j.c=220)},G.prototype.jZutuki=function(_k,al,bl){for(var cl=0;cl<=this.t_kazu;cl++)if(100<=this.co_t[cl].c){var dl=this.co_t[cl],el=!1;1==bl?c.abs(_k-dl.x)<25&&c.abs(al-dl.y)<23&&(el=!0):c.abs(_k-dl.x)<34&&al==dl.y&&(el=!0),el&&(_k>dl.x?(dl.pth=1,dl.vx=-7):(dl.pth=0,dl.vx=7),dl.c=52,dl.vy=-32)}},G.prototype.tSet=function(fl,gl,hl,il){for(var jl=0;jl<=119;jl++)if(!(0<this.co_t[jl].c)){var kl=this.co_t[jl];switch(kl.c=10,kl.c1=il,kl.c2=hl,kl.c3=fl,kl.c4=gl,kl.x=fl,kl.y=gl,this.t_kazu++,hl){case 500:kl.y=gl-12,kl.c3=gl-52,kl.c4=gl-12,kl.vy=-4;break;case 600:kl.c3=0;break;case 900:this.airms_kf&&(kl.c2=950)}break}},G.prototype.tSetBoss=function(ll,ml,nl,ol){this.t_kazu=129;for(var pl=120;pl<=129;pl++)if(!(0<this.co_t[pl].c)){var ql=this.co_t[pl];switch(ql.c=nl,ql.c1=0,ql.c2=0,ql.c3=ll,ql.c4=ml,ql.x=ll,ql.y=ml,ql.vx=ol,nl){case 150:ql.vx=ol,ql.vy=-28,ql.vx<=0?ql.muki=0:ql.muki=1;break;case 450:ql.vx=ol,ql.vy=-22,ql.vx<=0?ql.muki=0:ql.muki=1;break;case 650:ql.vx=ol,ql.vy=-28,ql.vx<=0?ql.muki=0:ql.muki=1}break}},G.prototype.tMove=function(){for(var rl=!1,sl=0;sl<=this.t_kazu;sl++)if(0!=this.co_t[sl].c&&this.co_t[sl].x>=this.maps.wx-512){var tl=this.co_t[sl],ul=tl.x,vl=tl.y;switch(tl.c){case 10:this.maps.wx>=tl.c1&&(tl.c=tl.c2,tl.c1=0,tl.c2=0);break;case 50:tl.c1++,14<tl.c1&&(tl.c=0,this.addScore(10));break;case 52:ul+=tl.vx,tl.vy+=5,25<tl.vy&&(tl.vy=25),(vl+=tl.vy)>this.maps.wy+320&&(tl.c=0,this.addScore(10));break;case 100:if(ul+12>>5<ul+15>>5){var wl=this.maps.map_bg[ul+15>>5][vl+31>>5];11==wl||14==wl?vl=32*(vl+31>>5)-32:10!=wl&&12!=wl||(vl=32*(vl+31>>5))}ul-=3;var xl=this.maps.map_bg[ul+15>>5][vl+31>>5];if(10<=xl&&xl<=15)vl=32*(vl+31>>5),vl=this.sakamichiY(ul,vl);else{var yl=this.maps.map_bg[ul>>5][vl+32>>5];yl<=9&&(ul=32*(ul>>5)+32,10<=(yl=this.maps.map_bg[ul+15>>5][vl+31>>5])&&yl<=15&&(ul-=15),tl.c=105),20<=(yl=this.maps.map_bg[ul>>5][vl+31>>5])&&(ul=32*(ul>>5)+32,tl.c=105),10<=(yl=this.maps.map_bg[ul+15>>5][vl+32>>5])&&yl<=15&&(vl=32*(vl+32>>5),vl=this.sakamichiY(ul,vl))}tl.pt=140+this.g_ac,tl.pth=0;break;case 105:if(ul+15>>5<ul+18>>5){var zl=this.maps.map_bg[ul+15>>5][vl+31>>5];10==zl||13==zl?vl=32*(vl+31>>5)-32:11!=zl&&15!=zl||(vl=32*(vl+31>>5))}ul+=3;var Al=this.maps.map_bg[ul+15>>5][vl+31>>5];if(10<=Al&&Al<=15)vl=32*(vl+31>>5),vl=this.sakamichiY(ul,vl);else{var Bl=this.maps.map_bg[ul+31>>5][vl+32>>5];Bl<=9&&(ul=32*(ul+31>>5)-32,10<=(Bl=this.maps.map_bg[ul+15>>5][vl+31>>5])&&Bl<=15&&(ul+=16),tl.c=100),20<=(Bl=this.maps.map_bg[ul+31>>5][vl+31>>5])&&(ul=32*(ul+31>>5)-32,tl.c=100),10<=(Bl=this.maps.map_bg[ul+15>>5][vl+32>>5])&&Bl<=15&&(vl=32*(vl+32>>5),vl=this.sakamichiY(ul,vl))}tl.pt=140+this.g_ac,tl.pth=1;break;case 110:if(ul+12>>5<ul+15>>5){var Cl=this.maps.map_bg[ul+15>>5][vl+31>>5];11==Cl||14==Cl?vl=32*(vl+31>>5)-32:10!=Cl&&12!=Cl||(vl=32*(vl+31>>5))}ul-=3;var Dl=this.maps.map_bg[ul+15>>5][vl+31>>5];if(10<=Dl&&Dl<=15)vl=32*(vl+31>>5),vl=this.sakamichiY(ul,vl);else{var El=vl+32>>5;if(this.maps.map_bg[ul+31>>5][El]<=9){ul=32*(ul+31>>5);var Gl=this.maps.map_bg[ul+15>>5][vl+31>>5];10<=Gl&&Gl<=15&&(ul-=15),tl.c=120}if(ul<32)ul<=3&&(tl.c=0);else 20<=this.maps.map_bg[ul>>5][vl+31>>5]&&(ul=32*(ul>>5)+32,tl.c=115,this.maps.map_bg[ul+15>>5][vl+32>>5]<=9&&(tl.c=120));120<=sl&&ul<this.maps.wx-32&&(tl.c=0);var Il=this.maps.map_bg[ul+15>>5][El];10<=Il&&Il<=15&&(vl=32*(vl+32>>5),vl=this.sakamichiY(ul,vl))}tl.pt=140+this.g_ac,tl.pth=0;break;case 115:if(ul+15>>5<ul+18>>5){var Jl=this.maps.map_bg[ul+15>>5][vl+31>>5];10==Jl||13==Jl?vl=32*(vl+31>>5)-32:11!=Jl&&15!=Jl||(vl=32*(vl+31>>5))}ul+=3;var Kl=this.maps.map_bg[ul+15>>5][vl+31>>5];if(10<=Kl&&Kl<=15)vl=32*(vl+31>>5),vl=this.sakamichiY(ul,vl);else{var Ll=vl+32>>5;if(this.maps.map_bg[ul>>5][Ll]<=9){ul=32*(ul>>5);var Nl=this.maps.map_bg[ul+15>>5][vl+31>>5];10<=Nl&&Nl<=15&&(ul+=16),tl.c=125}var Ol=this.maps.map_bg[ul+31>>5][vl+31>>5];20<=Ol&&(ul=32*(ul+31>>5)-32,tl.c=110,this.maps.map_bg[ul+15>>5][vl+32>>5]<=9&&(tl.c=125)),120<=sl&&ul>this.maps.wx+512&&(tl.c=0),10<=(Ol=this.maps.map_bg[ul+15>>5][Ll])&&Ol<=15&&(vl=32*(vl+32>>5),vl=this.sakamichiY(ul,vl))}tl.pt=140+this.g_ac,tl.pth=1;break;case 120:vl+=5;var Pl=this.maps.map_bg[ul+15>>5][vl+31>>5];if(10<=Pl&&Pl<=15){var Ql=this.sakamichiY(ul,32*(vl+31>>5));Ql<=vl&&(vl=Ql,tl.c=110)}var Rl=vl+31>>5,Sl=this.maps.map_bg[ul>>5][Rl],Tl=this.maps.map_bg[ul+31>>5][Rl];(20<=Sl||20<=Tl)&&(vl=32*Rl-32,tl.c=110),vl>=this.ochiru_y&&(tl.c=0),tl.pt=140,tl.pth=0;break;case 125:vl+=5;var Ul=this.maps.map_bg[ul+15>>5][vl+31>>5];if(10<=Ul&&Ul<=15){var Vl=this.sakamichiY(ul,32*(vl+31>>5));Vl<=vl&&(vl=Vl,tl.c=115)}var Wl=vl+31>>5,Xl=this.maps.map_bg[ul>>5][Wl],Yl=this.maps.map_bg[ul+31>>5][Wl];(20<=Xl||20<=Yl)&&(vl=32*Wl-32,tl.c=115),vl>=this.ochiru_y&&(tl.c=0),tl.pt=140,tl.pth=1;break;case 150:tl.vx<0&&(20<=this.maps.getBGCode(ul,vl)||20<=this.maps.getBGCode(ul,vl+31))&&(ul=32*(ul>>5)+32,tl.vx=0),0<tl.vx&&(20<=this.maps.getBGCode(ul+31,vl)||20<=this.maps.getBGCode(ul+31,vl+31))&&(ul=32*(ul+31>>5)-32,tl.vx=0),ul+=tl.vx,tl.vy+=2,18<tl.vy&&(tl.vy=18);var Zl=(vl+=tl.vy)+31>>5,$l=this.maps.map_bg[ul>>5][Zl],_l=this.maps.map_bg[ul+31>>5][Zl];(20<=$l||20<=_l)&&(vl=32*Zl-32,1==tl.muki?tl.c=115:tl.c=110),vl>=this.ochiru_y&&(tl.c=0),tl.pt=140,tl.pth=tl.muki;break;case 200:tl.c1<=0?this.co_j.x>=ul-240&&this.co_j.x<=ul+240&&(tl.c=210,tl.vy=-14):tl.c1--,tl.pt=143,ul+8>=this.co_j.x?tl.pth=0:tl.pth=1;break;case 210:tl.vy++,14<tl.vy&&(tl.vy=14),vl+=tl.vy,20<=this.maps.getBGCode(ul+15,vl+31)&&(vl=32*(vl+31>>5)-32,tl.c=200,tl.c1=30),vl>=this.ochiru_y&&(tl.c=0),0==tl.vy&&(32<c.abs(this.co_j.x-ul)||vl<=this.co_j.y)&&this.mSet(ul,vl,100),tl.vy<=-1?tl.pt=144:tl.pt=145,ul+8>=this.co_j.x?tl.pth=0:tl.pth=1;break;case 300:0<tl.c1?(tl.c1++,2==tl.c1||10==tl.c1||18==tl.c1||26==tl.c1?ul+8>=this.co_j.x?this.mSet(ul,vl,200):this.mSet(ul,vl,205):86<tl.c1&&(tl.c1=0)):this.co_j.x>=ul-256&&this.co_j.x<=ul+256&&(tl.c1=1),tl.pt=150,ul+8>=this.co_j.x?tl.pth=0:tl.pth=1;break;case 400:ul-=4,this.maps.getBGCode(ul,vl+32)<=9&&(ul=32*(ul>>5)+32,tl.c=405),20<=this.maps.getBGCode(ul,vl+31)&&(ul=32*(ul>>5)+32,tl.c=405),tl.pt=152+this.g_ac,tl.pth=0;break;case 405:ul+=4,this.maps.getBGCode(ul+31,vl+32)<=9&&(ul=32*(ul+31>>5)-32,tl.c=400),20<=this.maps.getBGCode(ul+31,vl+31)&&(ul=32*(ul+31>>5)-32,tl.c=400),tl.pt=152+this.g_ac,tl.pth=1;break;case 410:ul-=4;var am=this.maps.map_bg[ul+15>>5][vl+31>>5];if(10<=am&&am<=15)vl=32*(vl+31>>5),vl=this.sakamichiY(ul,vl);else{var bm=vl+32>>5;if(this.maps.map_bg[ul+31>>5][bm]<=9){ul=32*(ul+31>>5);var dm=this.maps.map_bg[ul+15>>5][vl+31>>5];10<=dm&&dm<=15&&(ul-=15),tl.c=420}if(ul<32)ul<=4&&(tl.c=0);else 20<=this.maps.map_bg[ul>>5][vl+31>>5]&&(ul=32*(ul>>5)+32,tl.c=415,this.maps.map_bg[ul+15>>5][vl+32>>5]<=9&&(tl.c=420));120<=sl&&ul<this.maps.wx-32&&(tl.c=0);var fm=this.maps.map_bg[ul+15>>5][bm];10<=fm&&fm<=15&&(vl=32*(vl+32>>5),vl=this.sakamichiY(ul,vl))}tl.pt=152+this.g_ac,tl.pth=0;break;case 415:ul+=4;var gm=this.maps.map_bg[ul+15>>5][vl+31>>5];if(10<=gm&&gm<=15)vl=32*(vl+31>>5),vl=this.sakamichiY(ul,vl);else{var hm=vl+32>>5;if(this.maps.map_bg[ul>>5][hm]<=9){ul=32*(ul>>5);var jm=this.maps.map_bg[ul+15>>5][vl+31>>5];10<=jm&&jm<=15&&(ul+=16),tl.c=425}var km=this.maps.map_bg[ul+31>>5][vl+31>>5];20<=km&&(ul=32*(ul+31>>5)-32,tl.c=410,this.maps.map_bg[ul+15>>5][vl+32>>5]<=9&&(tl.c=425)),120<=sl&&ul>this.maps.wx+512&&(tl.c=0),10<=(km=this.maps.map_bg[ul+15>>5][hm])&&km<=15&&(vl=32*(vl+32>>5),vl=this.sakamichiY(ul,vl))}tl.pt=152+this.g_ac,tl.pth=1;break;case 420:var lm=(vl+=5)+31>>5,mm=this.maps.map_bg[ul>>5][lm],nm=this.maps.map_bg[ul+31>>5][lm];(20<=mm||20<=nm)&&(vl=32*lm-32,tl.c=410),vl>=this.ochiru_y&&(tl.c=0),tl.pt=152,tl.pth=0;break;case 425:var om=(vl+=5)+31>>5,pm=this.maps.map_bg[ul>>5][om],qm=this.maps.map_bg[ul+31>>5][om];(20<=pm||20<=qm)&&(vl=32*om-32,tl.c=415),vl>=this.ochiru_y&&(tl.c=0),tl.pt=152,tl.pth=1;break;case 450:tl.vx<0&&(20<=this.maps.getBGCode(ul,vl)||20<=this.maps.getBGCode(ul,vl+31))&&(ul=32*(ul>>5)+32,tl.vx=0),0<tl.vx&&(20<=this.maps.getBGCode(ul+31,vl)||20<=this.maps.getBGCode(ul+31,vl+31))&&(ul=32*(ul+31>>5)-32,tl.vx=0),ul+=tl.vx,tl.vy+=2,18<tl.vy&&(tl.vy=18);var rm=(vl+=tl.vy)+31>>5,sm=this.maps.map_bg[ul>>5][rm],tm=this.maps.map_bg[ul+31>>5][rm];(20<=sm||20<=tm)&&(vl=32*rm-32,1==tl.muki?tl.c=415:tl.c=410),vl>=this.ochiru_y&&(tl.c=0),tl.pt=152,tl.pth=tl.muki;break;case 500:vl<=tl.c3?(tl.vy++,4<tl.vy&&(tl.vy=4)):vl>=tl.c4&&(tl.vy--,tl.vy<-4&&(tl.vy=-4)),vl+=tl.vy,tl.pt=147+this.g_ac,this.co_j.x<=ul+8?tl.pth=0:tl.pth=1;break;case 510:(ul-=3)<48?ul<=3&&(tl.c=0):20<=this.maps.getBGCode(ul-16,vl+31)&&(ul=32*(ul-16>>5)+32+16,tl.c=515),tl.pt=147+this.g_ac,tl.pth=0;break;case 515:ul+=3,20<=this.maps.getBGCode(ul+31+16,vl+31)&&(ul=32*(ul+31+16>>5)-32-16,tl.c=510),tl.pt=147+this.g_ac,tl.pth=1;break;case 600:tl.c1<25?(tl.c1++,tl.vy=-17,tl.c3=0,tl.pt=154,tl.pth=0):(0==tl.c3?(tl.vy++,tl.c3=1):(tl.vy+=2,tl.c3=0),17<tl.vy&&(tl.vy=17),vl+=tl.vy,tl.vy<4?tl.pt=155:tl.pt=156,tl.pth=0,(ul-=5)<32?ul<=3&&(tl.c=0):(20<=this.maps.getBGCode(ul+15,vl+6)&&(vl=32*(vl+6>>5)+32-6,tl.vy=0),20<=this.maps.getBGCode(ul+15,vl+31)&&(vl=32*(vl+31>>5)-32,tl.c1=15,tl.pt=154,tl.pth=0),(20<=this.maps.getBGCode(ul,vl+31)||20<=this.maps.getBGCode(ul,vl+8))&&(ul=32*(ul>>5)+32,tl.c=605),120<=sl&&ul<this.maps.wx-32&&(tl.c=0))),vl>=this.ochiru_y&&(tl.c=0);break;case 605:tl.c1<25?(tl.c1++,tl.vy=-17,tl.c3=0,tl.pt=154,tl.pth=1):(0==tl.c3?(tl.vy++,tl.c3=1):(tl.vy+=2,tl.c3=0),17<tl.vy&&(tl.vy=17),vl+=tl.vy,tl.vy<4?tl.pt=155:tl.pt=156,tl.pth=1,ul+=5,20<=this.maps.getBGCode(ul+15,vl+6)&&(vl=32*(vl+6>>5)+32-6,tl.vy=0),20<=this.maps.getBGCode(ul+15,vl+31)&&(vl=32*(vl+31>>5)-32,tl.c1=15,tl.pt=154,tl.pth=1),(20<=this.maps.getBGCode(ul+31,vl+31)||20<=this.maps.getBGCode(ul+31,vl+8))&&(ul=32*(ul+31>>5)-32,tl.c=600),120<=sl&&ul>this.maps.wx+512&&(tl.c=0)),vl>=this.ochiru_y&&(tl.c=0);break;case 650:tl.vx<0&&(20<=this.maps.getBGCode(ul,vl)||20<=this.maps.getBGCode(ul,vl+31))&&(ul=32*(ul>>5)+32,tl.vx=0),0<tl.vx&&(20<=this.maps.getBGCode(ul+31,vl)||20<=this.maps.getBGCode(ul+31,vl+31))&&(ul=32*(ul+31>>5)-32,tl.vx=0),ul+=tl.vx,tl.vy+=2,18<tl.vy&&(tl.vy=18);var um=(vl+=tl.vy)+31>>5,vm=this.maps.map_bg[ul>>5][um],wm=this.maps.map_bg[ul+31>>5][um];(20<=vm||20<=wm)&&(vl=32*um-32,1==tl.muki?tl.c=605:tl.c=600,tl.c1=15),vl>=this.ochiru_y&&(tl.c=0),tl.vy<4?tl.pt=155:tl.pt=156,tl.pth=tl.muki;break;case 700:this.yachamo_cf||(0<tl.c1?(tl.c1++,2==tl.c1?ul+8>=this.co_j.x?this.mSet(ul,vl,300):this.mSet(ul,vl,305):40<tl.c1&&(tl.c1=0)):this.co_j.x>=ul-256&&this.co_j.x<=ul+192&&96<=c.abs(this.co_j.x-ul)&&(tl.c1=1)),tl.pt=158,ul+8>=this.co_j.x?tl.pth=0:tl.pth=1;break;case 800:0<tl.c1?(tl.c1++,2==tl.c1?ul+8>=this.co_j.x?this.mSet(ul,vl,400):this.mSet(ul,vl,405):20<tl.c1&&(tl.c=810,tl.c1=0)):tl.c1<0?tl.c1++:this.co_j.x>=ul-240&&this.co_j.x<=ul+240&&(tl.c1=1),tl.pt=160,ul+8>=this.co_j.x?tl.pth=0:tl.pth=1;break;case 810:tl.c1<=0?((ul+=3)>=tl.c3+96&&(ul=tl.c3+96,tl.c1=10),this.maps.getBGCode(ul+31,vl+32)<=9&&(ul=32*(ul+31>>5)-32,tl.c1=10),tl.pt=161+this.g_ac,tl.pth=1):tl.c1<=35?(tl.c1++,15==tl.c1&&(ul+8>=this.co_j.x?this.mSet(ul,vl,400):this.mSet(ul,vl,405)),tl.pt=160,ul+8>=this.co_j.x?tl.pth=0:tl.pth=1):((ul-=3)<=tl.c3&&(ul=tl.c3,tl.c=800,tl.c1=-20),this.maps.getBGCode(ul,vl+32)<=9&&(ul=32*(ul>>5)+32,tl.c=800,tl.c1=-20),tl.pt=161+this.g_ac,tl.pth=0);break;case 900:(ul-=4)<48?ul<=4&&(tl.c=0):(tl.c1++,1==tl.c1?this.mSet(ul,vl+19,600):26<tl.c1&&(tl.c1=0),20<=this.maps.getBGCode(ul,vl+31)&&(ul=32*(ul>>5)+32,tl.c=910)),tl.pt=164,tl.pth=0;break;case 910:tl.pt=164,tl.pth=0;break;case 950:(ul-=4)<48?ul<=4&&(tl.c=0):(tl.c1++,1==tl.c1?this.mSet(ul,vl+19,600):26<tl.c1&&(tl.c1=0),20<=this.maps.getBGCode(ul-16,vl+31)&&(ul=32*(ul-16>>5)+32+16,tl.c=960,tl.c1=16)),tl.pt=164,tl.pth=0;break;case 960:ul+=4,tl.c1++,1==tl.c1?this.mSet(ul,vl+19,605):26<tl.c1&&(tl.c1=0),20<=this.maps.getBGCode(ul+31+16,vl+31)&&(ul=32*(ul+31+16>>5)-32-16,tl.c=950,tl.c1=16),tl.pt=164,tl.pth=1;break;case 1e3:(ul-=3)<=tl.c3-256+16&&(tl.c=1005),(20<=this.maps.getBGCode(ul-16,vl)||20<=this.maps.getBGCode(ul-16,vl+31))&&(ul=32*(ul-16>>5)+32+16,tl.c=1005),tl.pt=166,tl.pth=0;break;case 1005:(ul+=3)>=tl.c3+16&&(tl.c=1e3),(20<=this.maps.getBGCode(ul+31+16,vl)||20<=this.maps.getBGCode(ul+31+16,vl+31))&&(ul=32*(ul+31+16>>5)-32-16,tl.c=1e3),tl.pt=166,tl.pth=1;break;case 1100:0<tl.c1?(tl.c1++,77<tl.c1&&(tl.c1=0)):c.abs(this.co_j.x-ul)<=144&&c.abs(this.co_j.y-vl)<=144&&(tl.c1=1,this.mSet2(ul,vl,700,-3,-3),this.mSet2(ul,vl,700,3,-3),this.mSet2(ul,vl,700,-3,3),this.mSet2(ul,vl,700,3,3),this.mSet2(ul,vl,700,-4,0),this.mSet2(ul,vl,700,4,0),this.mSet2(ul,vl,700,0,-4),this.mSet2(ul,vl,700,0,4)),tl.pt=167,ul+8>=this.co_j.x?tl.pth=0:tl.pth=1}if(tl.c<100)tl.x=ul,tl.y=vl;else{var xm=c.abs(ul-this.co_j.x);48<=xm||100<=this.co_j.c&&this.co_j.c<200&&xm<30&&c.abs(vl-this.co_j.y)<23&&(0<this.j_v_c?(1==this.co_j.muki?(tl.pth=0,tl.vx=3):(tl.pth=1,tl.vx=-3),tl.c=52,tl.vy=-30):400<=tl.c&&tl.c<500||1e3<=tl.c&&tl.c<1200?this.jShinu(2):xm<27&&0<this.co_j.vy&&!this.j_mizu_f||rl?(tl.c<200?tl.pt=142:tl.c<300?tl.pt=146:tl.c<400?tl.pt=151:tl.c<600?tl.pt=149:tl.c<700?tl.pt=157:tl.c<800?tl.pt=159:tl.c<900?tl.pt=163:tl.c<1e3&&(tl.pt=165),tl.c=50,tl.c1=0,this.co_j.y=vl-12,this.co_j.vy=-160,this.j_jump_type=1,this.co_j.c=110,this.co_j.c1=0,this.co_j.pt=109,149!=tl.pt&&165!=tl.pt||(this.co_j.vy=-220,tl.c1=-2),rl=!0):this.jShinu(2)),tl.x=ul,tl.y=vl}}},G.prototype.sakamichiY=function(ym,zm){var Am=ym+15>>5,Bm=zm+31>>5,Dm=zm;switch(this.maps.map_bg[Am][Bm]){default:break;case 10:var Em=32*Bm-(ym+15)%32;Em<zm&&(Dm=Em);break;case 11:var Fm=32*Bm+(ym+15)%32-31;Fm<zm&&(Dm=Fm);break;case 12:var Gm=32*Bm-((ym+15)%32>>1);Gm<zm&&(Dm=Gm);break;case 13:var Hm=32*Bm-((ym+15)%32>>1)-16;Hm<zm&&(Dm=Hm);break;case 14:var Im=32*Bm+((ym+15)%32>>1)-31;Im<zm&&(Dm=Im);break;case 15:var Jm=32*Bm+((ym+15)%32>>1)-15;Jm<zm&&(Dm=Jm)}return Dm},G.prototype.mSet=function(Km,Lm,Mm){for(var Nm=0;Nm<=23;Nm++)if(!(0<this.co_m[Nm].c)){var Om=this.co_m[Nm];switch(Om.c=Mm,Om.x=Km,Om.y=Lm,Om.c1=0,this.m_kazu++,Mm){case 90:Om.c2=4,Om.vx=0,Om.vy=0;break;case 100:var Pm=this.co_j.x-Km,Qm=this.co_j.y-Lm,Rm=c.floor(c.sqrt(Pm*Pm+Qm*Qm));Rm<48?(this.m_kazu--,Om.c=0):(Om.vx=s(14*Pm/Rm),Om.vy=s(14*Qm/Rm),Om.x+=s(16*Om.vx/14),Om.y+=s(16*Om.vy/14)),!this.dengeki_mkf&&0<Om.c&&4==this.maps.getBGCode(Om.x+15,Om.y+15)&&(this.m_kazu--,Om.c=0);break;case 200:Om.vx=-4-this.ranInt(6),Om.vy=-22,Om.x+=Om.vx,Om.y+=Om.vy;break;case 205:Om.c=200,Om.vx=4+this.ranInt(6),Om.vy=-22,Om.x+=Om.vx,Om.y+=Om.vy;break;case 300:Om.vx=-12,Om.x+=Om.vx;break;case 305:Om.c=300,Om.vx=12,Om.x+=Om.vx;break;case 400:Om.vx=-80,Om.vy=-225;break;case 405:Om.c=400,Om.vx=80,Om.vy=-225;break;case 500:Om.vx=-4,Om.vy=-22;break;case 600:Om.vx=-40,Om.vy=0;break;case 605:Om.c=600,Om.vx=40,Om.vy=0;break;case 2e3:Om.c3=Lm,Om.vy=-210;break;case 2010:Om.c=2e3,Om.c3=Lm-64,Om.vy=-280;break;case 2020:Om.c=2e3,Om.c3=Lm-32,Om.vy=-250;break;case 2100:Om.c2=0;break;case 2110:Om.c=2100,Om.c2=1;break;case 2120:Om.c=2100,Om.c2=2;break;case 2130:Om.c=2100,Om.c2=3;break;case 2140:Om.c=2100,Om.c2=4;break;case 2150:Om.c=2100,Om.c2=5;break;case 2160:Om.c=2100,Om.c2=6;break;case 2170:Om.c=2100,Om.c2=7;break;case 2180:Om.c=2100,Om.c2=8}break}},G.prototype.mSet2=function(Sm,Tm,Um,Vm,Wm){for(var Xm=0;Xm<=23;Xm++)if(!(0<this.co_m[Xm].c)){var Ym=this.co_m[Xm];switch(Ym.c=Um,Ym.x=Sm,Ym.y=Tm,Ym.vx=Vm,Ym.vy=Wm,Ym.c1=0,this.m_kazu++,Um){case 500:Ym.x+=Ym.vx;break;case 700:Ym.c2=0;break;case 710:Ym.c=700,Ym.c2=1}break}},G.prototype.mMove=function(){for(var Zm=0;Zm<=23;Zm++)if(0!=this.co_m[Zm].c){var $m=this.co_m[Zm];switch($m.c){case 50:$m.c1++,$m.c1<=5?$m.pt=80:$m.c1<=10?$m.pt=81:$m.c1<=16?$m.pt=82:$m.c=0,$m.pth=0;break;case 60:$m.y-=5;var _m=$m.y>>5,an=this.maps.map_bg[$m.x+11>>5][_m];(an<=3||20<=an)&&($m.c=0),((an=this.maps.map_bg[$m.x+20>>5][_m])<=3||20<=an)&&($m.c=0),8!=(an=this.maps.map_bg[$m.x+15>>5][_m])&&9!=an||4==this.maps.map_bg[($m.x+15>>5)-1][_m]||($m.c=0),($m.x<=this.maps.wx-32||$m.x>=this.maps.wx+512)&&($m.c=0),($m.y<=this.maps.wy-32||$m.y>=this.maps.wy+320)&&($m.c=0),$m.pt=85,$m.pth=0;break;case 70:switch($m.c1++,$m.c1){case 1:$m.c2=20;break;case 2:$m.c2=34;break;case 3:$m.c2=46;break;case 4:$m.c2=56;break;case 5:$m.c2=64;break;case 6:$m.c2=70;break;case 7:$m.c2=74;break;case 8:$m.c2=77;break;case 9:$m.c2=79;break;case 10:$m.c2=80}if(10<$m.c1&&($m.c2=10,$m.c=0),100<=this.co_j.c&&this.co_j.c<200){var bn=this.co_j.x-$m.x,cn=this.co_j.y-$m.y;c.floor(c.sqrt(bn*bn+cn*cn))<=$m.c2+4&&this.j_v_c<=0&&this.jShinu(1)}$m.pt=1100,$m.pth=0;break;case 80:5<=$m.vy&&(2<$m.vx?$m.vx--:$m.vx<-2&&$m.vx++),$m.x+=$m.vx,$m.vy+=4,30<$m.vy&&($m.vy=30),$m.y+=$m.vy,$m.y>=this.maps.wy+320&&($m.c=0),$m.pt=136,$m.vx<0?$m.pth=0:$m.pth=1;break;case 90:if($m.c2<48){if($m.c2+=4,48<=$m.c2){$m.c2=48;var en=this.co_j.x-$m.x,fn=this.co_j.y-$m.y,gn=c.floor(c.sqrt(en*en+fn*fn));gn<32||this.co_j.c<100||200<=this.co_j.c?($m.x<this.maps.wx+256?$m.vx=14:$m.vx=-14,$m.vy=0):($m.vx=s(14*en/gn),$m.vy=s(14*fn/gn))}}else $m.x+=$m.vx,$m.y+=$m.vy,$m.x<=this.maps.wx-32-32||$m.x>=this.maps.wx+512+128+32?$m.c=0:($m.y<=this.maps.wy-32-200-32||$m.y>=this.maps.wy+320+32)&&($m.c=0);if(100<=this.co_j.c&&this.co_j.c<200){var hn=this.co_j.x-$m.x,jn=this.co_j.y-$m.y;c.floor(c.sqrt(hn*hn+jn*jn))+4<=$m.c2&&(0<this.j_v_c?$m.c=0:this.jShinu(1))}$m.pt=1e3;break;case 100:$m.x+=$m.vx,$m.y+=$m.vy;var ln=$m.x+15>>5;(20<=this.maps.map_bg[ln][$m.y+12>>5]||20<=this.maps.map_bg[ln][$m.y+18>>5])&&($m.c=0),this.dengeki_mkf||4!=this.maps.getBGCode($m.x+15,$m.y+15)||($m.c=0),$m.x<=this.maps.wx-32||$m.x>=this.maps.wx+512+128?$m.c=0:($m.y<=this.maps.wy-32-200||$m.y>=this.maps.wy+320)&&($m.c=0),0==this.g_c1?$m.pt=120:$m.pt=121,$m.pth=0;break;case 200:$m.x+=$m.vx,$m.vy+=2,12<$m.vy&&($m.vy=12);var mn=$m.vy;switch(mn<-18&&(mn=-18),$m.y+=mn,$m.y>=this.maps.wy+320&&($m.c=0),this.g_c2){case 0:$m.pt=122;break;case 1:$m.pt=123;break;case 2:$m.pt=124;break;case 3:$m.pt=125}$m.pth=0;break;case 300:$m.x+=$m.vx;var nn=$m.y+15>>5;(20<=this.maps.map_bg[$m.x+8>>5][nn]||20<=this.maps.map_bg[$m.x+23>>5][nn])&&($m.c=0),($m.x<=this.maps.wx-32||$m.x>=this.maps.wx+512+128)&&($m.c=0),0==this.g_c1?$m.pt=126:$m.pt=127,$m.vx<=0?$m.pth=0:$m.pth=1;break;case 400:$m.x+=s($m.vx/10),$m.vy+=25,180<$m.vy&&($m.vy=180),$m.y+=s($m.vy/10),$m.y>=this.maps.wy+320&&($m.c=0);var on=$m.x+15>>5;20<=this.maps.map_bg[on][$m.y+15>>5]&&($m.c=0),0==this.g_c1?$m.pt=128:$m.pt=129,$m.vx<=0?$m.pth=0:$m.pth=1;break;case 500:5<=$m.vy&&(2<$m.vx?$m.vx--:$m.vx<-2&&$m.vx++),$m.x+=$m.vx,$m.vy+=2,12<$m.vy&&($m.vy=12);var pn=$m.vy;pn<-16&&(pn=-16),$m.y+=pn,$m.y>=this.maps.wy+320&&($m.c=0),$m.pt=139,$m.pth=0;break;case 600:0<$m.vx?$m.vx-=2:$m.vx<0&&($m.vx+=2),$m.x+=s($m.vx/10),$m.vy+=8,200<$m.vy&&($m.vy=200),$m.y+=s($m.vy/10),20<=this.maps.map_bg[$m.x+15>>5][$m.y+15>>5]&&($m.c=610,$m.c1=0,$m.y=32*($m.y+15>>5)-16),$m.x<=this.maps.wx-32-64||$m.x>=this.maps.wx+512+64?$m.c=0:($m.y<=this.maps.wy-32-200||$m.y>=this.maps.wy+320)&&($m.c=0),28<$m.vx?($m.pt=171,$m.pth=1):($m.vx<-28?$m.pt=171:$m.pt=170,$m.pth=0);break;case 610:$m.c1++,$m.c1<=3?$m.pt=172:$m.c1<=6?$m.pt=173:$m.c1<=9?$m.pt=174:($m.c=0,$m.pt=198),$m.pth=0;break;case 700:$m.x+=$m.vx,$m.y+=$m.vy,$m.x<=this.maps.wx-32||$m.x>=this.maps.wx+512+32?$m.c=0:($m.y<=this.maps.wy-64||$m.y>=this.maps.wy+320+64)&&($m.c=0);var qn=this.maps.getBGCode($m.x+15,$m.y+15);0==$m.c2&&20<=qn&&($m.c=0),0==$m.c2&&qn<=3&&($m.c=0),$m.pt=168+this.g_c1,$m.pth=0;break;case 800:5<=$m.vy&&(2<$m.vx?$m.vx--:$m.vx<-2&&$m.vx++),$m.x+=$m.vx,$m.vy+=4,28<$m.vy&&($m.vy=28),$m.y+=$m.vy,$m.y>=this.maps.wy+320&&($m.c=0),20<=this.maps.getBGCode($m.x+15,$m.y+31)&&($m.c=70,$m.y=32*($m.y+31>>5)-16,$m.c1=1,$m.c2=20),$m.pt=137+this.g_c1,$m.vx<0?$m.pth=0:$m.pth=1;break;case 2e3:$m.vy+=30,180<$m.vy&&($m.vy=180),$m.y+=s($m.vy/10),0<=$m.vy&&$m.y>=$m.c3&&($m.y=$m.c3,$m.vy=0),($m.x<=this.maps.wx-32||$m.x>=this.maps.wx+512)&&($m.c=0),$m.pt=90+this.g_ac2,$m.pth=0;break;case 2100:($m.x<=this.maps.wx-32||$m.x>=this.maps.wx+512)&&($m.c=0),$m.pt=42+$m.c2,8==$m.c2&&($m.pt=59),$m.pth=0;break;case 2200:$m.x<this.maps.wx?$m.x=this.maps.wx:$m.x>this.maps.wx+512-32&&($m.x=this.maps.wx+512-32),$m.y<this.maps.wy+64?$m.y=this.maps.wy+64:$m.y>this.maps.wy+224&&($m.y=this.maps.wy+224),2<=this.stage_max&&this.stage>=this.stage_max?0==this.g_ac2?$m.pt=99:$m.pt=98:0==this.g_ac2?$m.pt=95:$m.pt=94,$m.pth=0}0==$m.c?this.m_kazu--:100<=this.co_j.c&&this.co_j.c<200&&(2e3<=$m.c?c.abs($m.x-this.co_j.x)<=14&&$m.y<=this.co_j.y+26&&$m.y+15>=this.co_j.y&&(this.addScore(5),2100==$m.c?0==$m.c2?this.j_fire_f=!0:1==$m.c2?(this.j_v_c=150,this.j_v_kakudo=0):2==$m.c2?0<this.time_max&&(this.time+=3e4):3==$m.c2?this.j_jet_fuel+=80:4==$m.c2?this.j_helm_f=!0:5==$m.c2?this.j_tail_f=!0:6==$m.c2?this.j_drell_f=!0:7==$m.c2?this.j_gr_kazu++:8==$m.c2&&this.j_left++:2200==$m.c&&(this.stage_cc=1,2<=this.stage_max&&this.stage>=this.stage_max?this.addScore(995):this.addScore(95)),$m.c=0,this.m_kazu--):100<=$m.c&&c.abs($m.x-this.co_j.x)<=23&&c.abs($m.y-this.co_j.y)<=28&&(0<this.j_v_c?($m.c=0,this.m_kazu--):(this.jShinu(1),800==$m.c&&($m.c=70,$m.c1=1,$m.c2=20))))}},G.prototype.jmSet=function(rn,sn,tn){for(var un=0;un<=1;un++)if(!(0<this.co_jm[un].c)){var vn=this.co_jm[un];switch(vn.c=tn,vn.x=rn,vn.y=sn+8,vn.c1=0,this.jm_kazu++,tn){case 60:case 65:vn.x=rn+16,vn.y=sn,vn.vx=rn+16,vn.c4=8,this.j_gr_kazu--;break;case 100:vn.vx=s(this.co_j.vx/10)-10,vn.vy=-28,c.abs(vn.vx)<2&&(vn.vx=-2);break;case 105:vn.vx=s(this.co_j.vx/10)+10,vn.vy=-28,c.abs(vn.vx)<2&&(vn.vx=2);break;case 200:vn.vx=s(this.co_j.vx/10)-10,vn.vy=-32,c.abs(vn.vx)<2&&(vn.vx=-2),5!=this.grenade_type&&6!=this.grenade_type||(vn.y=sn,vn.vx=-20,vn.vy=0),this.j_gr_kazu--;break;case 205:vn.c=200,vn.vx=s(this.co_j.vx/10)+10,vn.vy=-35,c.abs(vn.vx)<2&&(vn.vx=2),5!=this.grenade_type&&6!=this.grenade_type||(vn.y=sn,vn.vx=20,vn.vy=0),this.j_gr_kazu--}break}},G.prototype.jmMove=function(){for(var wn=0;wn<=1;wn++)if(0!=this.co_jm[wn].c){var xn=this.co_jm[wn];switch(xn.c){case 50:switch(xn.c1++,xn.c1){case 1:xn.c2=20;break;case 2:xn.c2=34;break;case 3:xn.c2=46;break;case 4:xn.c2=56;break;case 5:xn.c2=64;break;case 6:xn.c2=70;break;case 7:xn.c2=74;break;case 8:xn.c2=77;break;case 9:xn.c2=79;break;case 10:xn.c2=80}10<xn.c1&&(xn.c2=10,xn.c=0);for(var yn=0;yn<=this.t_kazu;yn++)if(100<=this.co_t[yn].c){var zn=this.co_t[yn],An=zn.x-xn.x,Bn=zn.y-xn.y;c.floor(c.sqrt(An*An+Bn*Bn))<=xn.c2+8&&(xn.x>zn.x?(zn.pth=1,zn.vx=-3):(zn.pth=0,zn.vx=3),zn.c=52,zn.vy=-25)}if((1==this.grenade_type||5==this.grenade_type)&&100<=this.co_b.c){var Dn=this.co_b.x-xn.x,En=this.co_b.y-xn.y;c.floor(c.sqrt(Dn*Dn+En*En))<=xn.c2+20&&(this.co_b.c<200?(this.co_b.c=67,this.co_b.vy=-24,this.co_b.c1=0,xn.x>this.co_b.x?(this.co_b.muki=1,this.co_b.pt=1005,this.co_b.vx=-4):(this.co_b.muki=0,this.co_b.pt=1e3,this.co_b.vx=4)):this.co_b.c<300?(this.co_b.c=77,this.co_b.vy=-24,this.co_b.c1=0,xn.x>this.co_b.x?(this.co_b.muki=1,this.co_b.pt=1105,this.co_b.vx=-4):(this.co_b.muki=0,this.co_b.pt=1100,this.co_b.vx=4)):(this.co_b.c=87,this.co_b.vy=-24,this.co_b.c1=0,xn.x>this.co_b.x?(this.co_b.muki=1,this.co_b.pt=1205,this.co_b.vx=-4):(this.co_b.muki=0,this.co_b.pt=1200,this.co_b.vx=4)))}xn.pt=1e3,xn.pth=0;break;case 60:xn.y=this.co_j.y,xn.x-=28,xn.x<=this.maps.wx-32&&(xn.x=this.maps.wx-32),0<xn.c4?(xn.c4--,xn.vx=this.co_j.x+16):(xn.vx-=28,xn.vx<=xn.x&&(xn.c=0));for(var Gn=0;Gn<=this.t_kazu;Gn++)if(100<=this.co_t[Gn].c){var Hn=this.co_t[Gn];Hn.x>xn.x-12&&Hn.x<xn.vx+12&&c.abs(Hn.y-xn.y)<24&&(Hn.pth=0,Hn.vx=-3,Hn.c=52,Hn.vy=-25)}3==this.grenade_type&&100<=this.co_b.c&&this.co_b.x>xn.x-24&&this.co_b.x<xn.vx+24&&c.abs(this.co_b.y-xn.y)<36&&(this.co_b.c<200?(this.co_b.c=67,this.co_b.vy=-24,this.co_b.c1=0,this.co_b.muki=1,this.co_b.pt=1005):this.co_b.c<300?(this.co_b.c=77,this.co_b.vy=-24,this.co_b.c1=0,this.co_b.muki=1,this.co_b.pt=1105):(this.co_b.c=87,this.co_b.vy=-24,this.co_b.c1=0,this.co_b.muki=1,this.co_b.pt=1205),this.co_b.vx=-4),(this.co_j.c<100||200<=this.co_j.c)&&(xn.c=0),xn.pt=1200;break;case 65:xn.y=this.co_j.y,xn.x+=28,xn.x>=this.maps.wx+512+32&&(xn.x=this.maps.wx+512+32),0<xn.c4?(xn.c4--,xn.vx=this.co_j.x+16):(xn.vx+=28,xn.vx>=xn.x&&(xn.c=0));for(var In=0;In<=this.t_kazu;In++)if(100<=this.co_t[In].c){var Jn=this.co_t[In];Jn.x>xn.vx-12&&Jn.x<xn.x+12&&c.abs(Jn.y-xn.y)<24&&(Jn.pth=0,Jn.vx=3,Jn.c=52,Jn.vy=-25)}3==this.grenade_type&&100<=this.co_b.c&&this.co_b.x>xn.vx-24&&this.co_b.x<xn.x+24&&c.abs(this.co_b.y-xn.y)<36&&(this.co_b.c<200?(this.co_b.c=67,this.co_b.vy=-24,this.co_b.c1=0,this.co_b.muki=0,this.co_b.pt=1e3):this.co_b.c<300?(this.co_b.c=77,this.co_b.vy=-24,this.co_b.c1=0,this.co_b.muki=0,this.co_b.pt=1100):(this.co_b.c=87,this.co_b.vy=-24,this.co_b.c1=0,this.co_b.muki=0,this.co_b.pt=1200),this.co_b.vx=4),(this.co_j.c<100||200<=this.co_j.c)&&(xn.c=0),xn.pt=1205;break;case 100:xn.x+=xn.vx,20<=this.maps.getBGCode(xn.x+7,xn.y+15)&&(xn.c=0),xn.vy+=5,30<xn.vy&&(xn.vy=30),xn.y+=xn.vy,xn.vy<0&&20<=this.maps.getBGCode(xn.x+15,xn.y+8)&&(xn.c=0),20<=this.maps.getBGCode(xn.x+15,xn.y+23)&&(xn.y=32*(xn.y+23>>5)-24,xn.vy=-28),this.j_fire_mkf||4!=this.maps.getBGCode(xn.x+15,xn.y+15)||(xn.c=0),(xn.x<=this.maps.wx-24||xn.x>=this.maps.wx+512-8||xn.y<=this.maps.wy-128||xn.y>=this.maps.wy+384)&&(xn.c=0),xn.pt=130+this.g_c2,xn.pth=0;break;case 105:xn.x+=xn.vx,20<=this.maps.getBGCode(xn.x+23,xn.y+15)&&(xn.c=0),xn.vy+=5,30<xn.vy&&(xn.vy=30),xn.y+=xn.vy,xn.vy<0&&20<=this.maps.getBGCode(xn.x+15,xn.y+8)&&(xn.c=0),20<=this.maps.getBGCode(xn.x+15,xn.y+23)&&(xn.y=32*(xn.y+23>>5)-24,xn.vy=-28),this.j_fire_mkf||4!=this.maps.getBGCode(xn.x+15,xn.y+15)||(xn.c=0),(xn.x<=this.maps.wx-24||xn.x>=this.maps.wx+512-8||xn.y<=this.maps.wy-128||xn.y>=this.maps.wy+384)&&(xn.c=0),xn.pt=130+this.g_c2,xn.pth=1;break;case 200:xn.x+=xn.vx,5!=this.grenade_type&&6!=this.grenade_type&&(xn.vy+=5,30<xn.vy&&(xn.vy=30),xn.y+=xn.vy,0<xn.vy&&20<=this.maps.getBGCode(xn.x+15,xn.y+31)&&(xn.c=50,xn.y=32*(xn.y+31>>5)-16,xn.c1=1,xn.c2=20)),20<=this.maps.getBGCode(xn.x+15,xn.y+15)&&(xn.c=50,xn.c1=1,xn.c2=20),(xn.x<=this.maps.wx-64||xn.x>=this.maps.wx+512+64||xn.y<=this.maps.wy-128||xn.y>=this.maps.wy+384)&&(xn.c=0),xn.pt=137+this.g_c1,xn.vx<0?xn.pth=0:xn.pth=1}if(0==xn.c)this.jm_kazu--;else if(100<=xn.c)for(var Kn=0;Kn<=this.t_kazu;Kn++)if(!(this.co_t[Kn].c<100)){var Ln=this.co_t[Kn];if(!(22<=c.abs(xn.x-Ln.x)||22<=c.abs(xn.y-Ln.y))){xn.vx<0?(Ln.pth=1,Ln.vx=-3):(Ln.pth=0,Ln.vx=3),Ln.c=52,Ln.vy=-25,200==xn.c?(xn.c=50,xn.c1=1,xn.c2=20):(xn.c=0,this.jm_kazu--);break}}}},G.prototype.aSet=function(Mn,Nn,On,Pn){for(var Qn=0;Qn<=31;Qn++)if(!(0<this.co_a[Qn].c)){var Rn=this.co_a[Qn];switch(Rn.c=On,Rn.c1=Pn-512-32,Rn.c2=Pn+128,Rn.x=Mn,Rn.y=Nn,this.a_kazu++,On){case 60:Rn.pt=200;break;case 70:Rn.vx=-3,Rn.c3=0,Rn.c1=Mn-512-150,Rn.c2=Mn+150;break;case 71:Rn.c=70,Rn.vx=3,Rn.c3=0,Rn.c1=Mn-512-150,Rn.c2=Mn+150;break;case 80:Rn.pt=800,Rn.c3=1;break;case 81:Rn.c=80,Rn.pt=800,Rn.c3=2;break;case 82:Rn.c=80,Rn.pt=800,Rn.c3=3;break;case 83:Rn.c=80,Rn.pt=800,Rn.c3=4;break;case 100:Rn.vy=5,Rn.x=Mn+8,Rn.y=Nn-212,Rn.c3=Nn-212,Rn.c4=Nn+2,Rn.pt=100;break;case 110:Rn.vx=-3,Rn.x=Mn+208,Rn.c3=Mn,Rn.c4=Mn+208,Rn.pt=100,Rn.c2=Pn+208+128+32;break;case 115:Rn.c=110,Rn.vx=-3,Rn.x=Mn+208,Rn.c3=Mn,Rn.c4=Mn+208,Rn.pt=100,Rn.c2=Pn+208+128+342+32;break;case 116:Rn.c=110,Rn.vx=3,Rn.x=Mn+320,Rn.c3=Mn+320,Rn.c4=Mn+208+320,Rn.pt=100,Rn.c2=Pn+208+128+320+32;break;case 120:Rn.vx=Mn+160,Rn.vy=Nn,Rn.x=Mn+8,Rn.y=Nn,Rn.c3=0,Rn.muki=1,Rn.c1=Rn.vx-512-32-130,Rn.c2=Rn.vx+128+130,Rn.pt=100;break;case 121:Rn.c=120,Rn.vx=Mn+160,Rn.vy=Nn,Rn.x=Mn+8,Rn.y=Nn,Rn.c3=0,Rn.muki=0,Rn.c1=Rn.vx-512-32-130,Rn.c2=Rn.vx+128+130,Rn.pt=100;break;case 300:Rn.pt=300,Rn.c3=0,Rn.c4=0;break;case 310:Rn.c=300,Rn.pt=310,Rn.c3=1,Rn.c4=0;break;case 320:Rn.c=300,Rn.pt=320,Rn.c3=2,Rn.c4=0;break;case 330:Rn.c=300,Rn.pt=330,Rn.c3=3,Rn.c4=0;break;case 400:Rn.pt=400,Rn.c3=0,Rn.vy=Nn;break;case 500:Rn.vy=0,Rn.x=Mn,Rn.y=Nn,Rn.c3=0,Rn.c4=0,Rn.pt=500;break;case 510:Rn.c=500,Rn.vy=0,Rn.x=Mn,Rn.y=Nn,Rn.c3=0,Rn.c4=1,Rn.pt=500;break;case 600:Rn.pt=600,Rn.c3=0,Rn.c4=0,Rn.vx=0,Rn.vy=Nn;break;case 700:Rn.pt=700,Rn.c3=0}break}},G.prototype.aMove=function(){this.j_a_id=-1,this.j_jdai_f=!1,this.a_hf=!1;for(var Un=0;Un<=this.a_kazu;Un++){var Vn=this.co_a[Un];if(0!=Vn.c)if(this.maps.wx<=Vn.c1||this.maps.wx>=Vn.c2)Vn.gf=!1;else{var Wn=Vn.x,Xn=Vn.y;switch(Vn.c){case 60:Wn>this.maps.wx-80&&Wn<this.maps.wx+512&&Xn>this.maps.wy-96&&Xn<this.maps.wy+320?(Vn.gf=!0,this.a_hf=!0,this.g_c3<=3?Vn.pt=200:Vn.pt=210):Vn.gf=!1;break;case 70:if(Vn.c3+=Vn.vx,Vn.c3<0?Vn.c3+=360:360<=Vn.c3&&(Vn.c3-=360),Wn>this.maps.wx-150&&Wn<this.maps.wx+512+150&&Xn>this.maps.wy-150&&Xn<this.maps.wy+320+150){Vn.gf=!0,this.a_hf=!0,Vn.pt=1100;var Yn=.017453292519943295,Zn=Wn+c.floor(25*c.cos(Vn.c3*Yn)),$n=Xn+c.floor(25*c.sin(Vn.c3*Yn));this.vo_x[Un][0]=Zn,this.vo_y[Un][0]=$n;var _n=Wn+c.floor(140*c.cos(Vn.c3*Yn)),ao=Xn+c.floor(140*c.sin(Vn.c3*Yn));if(this.vo_x[Un][1]=_n,this.vo_y[Un][1]=ao,this.vo_x[Un][2]=Wn+c.floor(31*c.cos(Vn.c3*Yn)),this.vo_y[Un][2]=Xn+c.floor(31*c.sin(Vn.c3*Yn)),this.vo_x[Un][3]=Wn+c.floor(134*c.cos(Vn.c3*Yn)),this.vo_y[Un][3]=Xn+c.floor(134*c.sin(Vn.c3*Yn)),100<=this.co_j.c&&this.co_j.c<200&&this.j_v_c<=0)if(c.abs(Zn-_n)>=c.abs($n-ao)){if(this.co_j.x+15>Zn&&this.co_j.x+15<_n){var bo=_n-Zn,fo=s((this.co_j.x+15-Zn)*(ao-$n)/bo)+$n;fo>this.co_j.y-12&&fo<this.co_j.y+44&&this.jShinu(1)}else if(this.co_j.x+15>_n&&this.co_j.x+15<Zn){var go=Zn-_n,jo=s((this.co_j.x+15-_n)*($n-ao)/go)+ao;jo>this.co_j.y-12&&jo<this.co_j.y+44&&this.jShinu(1)}}else if(this.co_j.y+15>$n&&this.co_j.y+15<ao){var ko=ao-$n,no=s((this.co_j.y+15-$n)*(_n-Zn)/ko)+Zn;no>this.co_j.x-12&&no<this.co_j.x+44&&this.jShinu(1)}else if(this.co_j.y+15>ao&&this.co_j.y+15<$n){var oo=$n-ao,ro=s((this.co_j.y+15-ao)*(Zn-_n)/oo)+_n;ro>this.co_j.x-12&&ro<this.co_j.x+44&&this.jShinu(1)}}else Vn.gf=!1;break;case 80:Wn>this.maps.wx-32&&Wn<this.maps.wx+512&&Xn>this.maps.wy-32&&Xn<this.maps.wy+320?(Vn.gf=!0,this.a_hf=!0,this.co_j.x>=Wn-80&&this.co_j.x<=Wn+64&&c.abs(Xn-this.co_j.y)<32&&(this.hitokoto_c=10,this.hitokoto_num=Vn.c3)):Vn.gf=!1;break;case 100:Wn>this.maps.wx-80-32&&Wn<this.maps.wx+512+32&&Xn>this.maps.wy-16&&Xn<this.maps.wy+320+32?(Vn.gf=!0,this.a_hf=!0,100==this.co_j.c&&this.co_j.x+15>=Wn&&this.co_j.x<=Wn+64&&this.co_j.y==Xn-32&&(this.j_a_id=Un)):Vn.gf=!1,Xn<=Vn.c3?(Vn.vy++,5<Vn.vy&&(Vn.vy=5)):Xn>=Vn.c4&&(Vn.vy--,Vn.vy<-5&&(Vn.vy=-5)),Xn+=Vn.vy,100==this.co_j.c&&(this.j_a_id==Un&&(this.co_j.y=Xn-32),Vn.vy<0&&20<=this.maps.getBGCode(this.co_j.x+15,this.co_j.y)&&(this.co_j.y=32*(this.co_j.y>>5)+16,this.jShinu(3)),this.co_j.x+15>=Wn&&this.co_j.x<=Wn+64&&this.co_j.y+31>=Xn&&this.co_j.y<=Xn+13&&(0<Vn.vy?(this.co_j.y=Xn+14,18<=this.maps.getBGCode(this.co_j.x+15,this.co_j.y+31)&&(this.co_j.y=32*(this.co_j.y+31>>5)-32,this.jShinu(3))):(this.co_j.y=Xn-32,this.j_a_id=Un)));break;case 110:if(Wn>this.maps.wx-80-32&&Wn<this.maps.wx+512+32&&Xn>this.maps.wy-16&&Xn<this.maps.wy+320+32?(Vn.gf=!0,this.a_hf=!0,100==this.co_j.c&&this.co_j.x+15>=Wn&&this.co_j.x<=Wn+64&&this.co_j.y==Xn-32&&(this.j_a_id=Un)):Vn.gf=!1,Wn<=Vn.c3?(Vn.vx++,3<Vn.vx&&(Vn.vx=3)):Wn>=Vn.c4&&(Vn.vx--,Vn.vx<-3&&(Vn.vx=-3)),Wn+=Vn.vx,100==this.co_j.c){if(this.j_a_id==Un)if(this.co_j.x+=Vn.vx,0<Vn.vx){var so=this.co_j.x+15>>5,to=this.co_j.y>>5,uo=this.co_j.y+31>>5;(20<=this.maps.map_bg[so][to]||20<=this.maps.map_bg[so][uo])&&(this.co_j.x=32*so-16)}else if(Vn.vx<0){var vo=this.co_j.x+15>>5,wo=this.co_j.y>>5,xo=this.co_j.y+31>>5;(20<=this.maps.map_bg[vo][wo]||20<=this.maps.map_bg[vo][xo])&&(this.co_j.x=32*vo+32-14)}if(this.co_j.x+15>=Wn&&this.co_j.x<=Wn+64&&this.co_j.y+31>=Xn&&this.co_j.y<=Xn+13)if(0<Vn.vx){this.co_j.x=Wn+65;var yo=this.co_j.x+15>>5,zo=this.co_j.y>>5,Ao=this.co_j.y+31>>5;(20<=this.maps.map_bg[yo][zo]||20<=this.maps.map_bg[yo][Ao])&&(this.co_j.c=230,this.co_j.x=32*yo-32+11,this.co_j.c1=0,this.j_zan_f=!1,this.j_jet_c=0,this.j_v_c=0)}else{this.co_j.x=Wn-16;var Bo=this.co_j.x+15>>5,Co=this.co_j.y>>5;this.co_j.y;(20<=this.maps.map_bg[Bo][Co]||20<=this.maps.map_bg[Bo][Co])&&(this.co_j.c=230,this.co_j.x=32*Bo+32-11,this.co_j.c1=0,this.j_zan_f=!1,this.j_jet_c=0,this.j_v_c=0)}}break;case 120:Wn>this.maps.wx-80-32&&Wn<this.maps.wx+512+32&&Xn>this.maps.wy-16&&Xn<this.maps.wy+320+32?(Vn.gf=!0,this.a_hf=!0,100==this.co_j.c&&this.co_j.x+15>=Wn&&this.co_j.x<=Wn+64&&this.co_j.y==Xn-32&&(this.j_a_id=Un)):Vn.gf=!1,1==Vn.muki?(Vn.c3+=2,360<=Vn.c3&&(Vn.c3-=360)):(Vn.c3-=2,Vn.c3<0&&(Vn.c3+=360));var Eo=3.14*Vn.c3/180,Ho=Vn.vx+c.floor(126*c.cos(Eo))+16-40-Wn,Io=Vn.vy+c.floor(-126*c.sin(Eo))+16-7-Xn;if(Xn+=Io,100==this.co_j.c&&(this.j_a_id==Un&&(this.co_j.y+=Io),Io<0&&20<=this.maps.getBGCode(this.co_j.x+15,this.co_j.y)&&(this.co_j.y=32*(this.co_j.y>>5)+16,this.jShinu(3)),this.co_j.x+15>=Wn&&this.co_j.x<=Wn+64&&this.co_j.y+31>=Xn&&this.co_j.y<=Xn+13&&(0<Io?(this.co_j.y=Xn+14,18<=this.maps.getBGCode(this.co_j.x+15,this.co_j.y+31)&&(this.co_j.y=32*(this.co_j.y+31>>5)-32,this.jShinu(3))):(this.co_j.y=Xn-32,this.j_a_id=Un))),Wn+=Ho,100==this.co_j.c){if(this.j_a_id==Un)if(this.co_j.x+=Ho,0<Ho){var Jo=this.co_j.x+15>>5,Ko=this.co_j.y>>5,Lo=this.co_j.y+31>>5;(20<=this.maps.map_bg[Jo][Ko]||20<=this.maps.map_bg[Jo][Lo])&&(this.co_j.x=32*Jo-16)}else if(Ho<0){var Mo=this.co_j.x+15>>5,No=this.co_j.y>>5,Oo=this.co_j.y+31>>5;(20<=this.maps.map_bg[Mo][No]||20<=this.maps.map_bg[Mo][Oo])&&(this.co_j.x=32*Mo+32-14)}if(this.co_j.x+15>=Wn&&this.co_j.x<=Wn+64&&this.co_j.y+31>=Xn&&this.co_j.y<=Xn+13)if(0<Ho){this.co_j.x=Wn+65;var Po=this.co_j.x+15>>5,Qo=this.co_j.y>>5,Ro=this.co_j.y+31>>5;(20<=this.maps.map_bg[Po][Qo]||20<=this.maps.map_bg[Po][Ro])&&(this.co_j.c=230,this.co_j.x=32*Po-32+11,this.co_j.c1=0,this.j_zan_f=!1,this.j_jet_c=0,this.j_v_c=0)}else{this.co_j.x=Wn-16;var So=this.co_j.x+15>>5,To=this.co_j.y>>5,Uo=this.co_j.y+31>>5;(20<=this.maps.map_bg[So][To]||20<=this.maps.map_bg[So][Uo])&&(this.co_j.c=230,this.co_j.x=32*So+32-11,this.co_j.c1=0,this.j_zan_f=!1,this.j_jet_c=0,this.j_v_c=0)}}break;case 300:Wn>this.maps.wx-96&&Wn<this.maps.wx+512&&Xn>this.maps.wy-64&&Xn<this.maps.wy+320?(Vn.gf=!0,this.a_hf=!0,100==this.co_j.c&&this.co_j.x+15>=Wn&&this.co_j.x<=Wn+48&&this.co_j.y==Xn-32&&(this.j_a_id=Un,this.co_j.x+15>=Wn+24&&this.co_j.x<=Wn+48-24&&this.co_j.y==Xn-32&&1!=Vn.c4&&(0==this.sl_step||1==this.sl_step||10==this.sl_step||11==this.sl_step||2!=this.dokan_mode)&&(this.co_j.c1=-10,this.co_j.c2=Vn.c3,this.j_zan_f=!1,this.j_jet_c=0,this.j_v_c=0,this.co_j.c=300,this.co_j.x=Wn+16,this.co_j.y=Xn-32,this.co_j.vx=0,this.co_j.vy=0,Vn.c4=1)),100==this.co_j.c&&this.j_a_id!=Un&&(Vn.c4=0)):Vn.gf=!1;break;case 400:Wn>this.maps.wx-96&&Wn<this.maps.wx+512&&Xn>this.maps.wy-64&&Xn<this.maps.wy+320?(Vn.gf=!0,this.a_hf=!0,100==this.co_j.c&&this.co_j.x+15>=Wn&&this.co_j.x<=Wn+80&&this.co_j.y==Xn-32&&(this.j_a_id=Un)):Vn.gf=!1,0==Vn.c3?Wn-64<this.co_j.x+15&&Wn+96+64>this.co_j.x+15&&(Vn.c3=1):Vn.c3<100?(Vn.c3++,8<Vn.c3&&(Vn.c3=100)):100==Vn.c3?(Xn+=12)>=Vn.vy+128&&(Xn=Vn.vy+128,Vn.c3=200):200==Vn.c3&&(Xn-=3)<=Vn.vy&&(Xn=Vn.vy,Vn.c3=0,Wn<=this.co_j.x+15&&Wn+96>this.co_j.x+15&&(Vn.c3=100)),100==this.co_j.c&&(this.j_a_id==Un&&(this.co_j.y=Xn-32,200==Vn.c3&&20<=this.maps.getBGCode(this.co_j.x+15,this.co_j.y)&&(this.co_j.y=32*(this.co_j.y>>5)+16,this.jShinu(3))),this.co_j.x+15>=Wn&&this.co_j.x<=Wn+80&&this.co_j.y+31>=Xn&&this.co_j.y<=Xn+63&&(100==Vn.c3?(this.co_j.y=Xn+64,18<=this.maps.getBGCode(this.co_j.x+15,this.co_j.y+31)&&(this.co_j.y=32*(this.co_j.y+31>>5)-32,this.jShinu(3))):200==Vn.c3&&(this.co_j.y=Xn-32,this.j_a_id=Un,20<=this.maps.getBGCode(this.co_j.x+15,this.co_j.y)&&(this.co_j.y=32*(this.co_j.y>>5)+16,this.jShinu(3)))));break;case 500:Wn>this.maps.wx-96-32&&Wn<this.maps.wx+512+32&&Xn>this.maps.wy-32&&Xn<=this.maps.wy+368?(Vn.gf=!0,this.a_hf=!0,100==this.co_j.c&&this.co_j.x+15>=Wn&&this.co_j.x<=Wn+80&&this.co_j.y==Xn-32?(this.j_a_id=Un,1==Vn.c4?Vn.c3<50&&(Vn.c3<=0?Vn.c3=1:Vn.c3<=30?Vn.c3++:(Vn.c3=55,Vn.vy=0)):Vn.c3<=0&&(Vn.c3=51,Vn.vy=0)):1==Vn.c4&&Vn.c3<50&&(Vn.c3=0)):Vn.gf=!1,0<Vn.c3&&(51<=Vn.c3&&Vn.c3<=54?Vn.c3++:55<=Vn.c3&&Vn.c3<100&&(Vn.vy<16&&Vn.vy++,Xn+=Vn.vy,20<=this.maps.getBGCode(Wn+32,Xn+13)&&(Xn=32*(Xn+13>>5)-14,Vn.c3=100),Xn>=this.ochiru_y+48&&(Vn.c=0,Vn.gf=!1))),100==this.co_j.c&&this.j_a_id==Un&&(this.co_j.y=Xn-32);break;case 600:if(Wn>this.maps.wx-96&&Wn<this.maps.wx+512&&Xn>this.maps.wy-64&&Xn<this.maps.wy+320?(Vn.gf=!0,this.a_hf=!0,100==this.co_j.c&&this.co_j.x+15>=Wn&&this.co_j.x<=Wn+48&&this.co_j.y==Xn+16-32&&(this.j_a_id=Un)):Vn.gf=!1,Vn.pt=600,Vn.c3<=0?(Vn.vx=0,this.j_a_id==Un&&(Vn.c3=100,Vn.c4=0,Vn.vx=2),this.co_j.x>=Wn-144&&(Vn.pt=605)):100==Vn.c3?(Vn.c1=Wn-512-32,Vn.c2=Wn+128,this.j_a_id!=Un?(Vn.c4++,50<Vn.c4&&(Vn.c3=0)):Vn.c4=0,Vn.pt=605):200==Vn.c3&&(Vn.pt=605,Vn.vx=0),Wn+=Vn.vx,(20<=this.maps.getBGCode(Wn+63+16,Xn)||20<=this.maps.getBGCode(Wn+63+16,Xn+32))&&(Wn=32*(Wn+63+16>>5)-64-16,Vn.vx=Wn-Vn.x,Vn.c3=200),100==this.co_j.c){if(this.j_a_id==Un&&(this.co_j.x+=Vn.vx,0<Vn.vx)){var Vo=this.co_j.x+15>>5,Wo=this.co_j.y>>5,Xo=this.co_j.y+31>>5;(20<=this.maps.map_bg[Vo][Wo]||20<=this.maps.map_bg[Vo][Xo])&&(this.co_j.x=32*Vo-16)}this.co_j.x+15>=Wn&&this.co_j.x<=Wn+48&&this.co_j.y+31>=Xn+16&&this.co_j.y<=Xn+47&&(this.co_j.x=Wn+49)}break;case 700:Wn>this.maps.wx-96&&Wn<this.maps.wx+512&&Xn>this.maps.wy-64&&Xn<this.maps.wy+320?(Vn.gf=!0,this.a_hf=!0,100==this.co_j.c&&this.co_j.x+15>=Wn&&this.co_j.x<=Wn+16&&(1<=Vn.c3&&Vn.c3<=2&&this.co_j.y==Xn-32+10?this.j_a_id=Un:3<=Vn.c3&&Vn.c3<=4&&this.co_j.y==Xn-32+16?this.j_a_id=Un:5<=Vn.c3&&Vn.c3<=6&&this.co_j.y==Xn-32+10?this.j_a_id=Un:this.co_j.y==Xn-32&&(this.j_a_id=Un))):Vn.gf=!1,this.j_a_id==Un?(this.co_j.vx=0,this.co_j.vy=0,this.co_j.x=Wn,this.j_jdai_f=!0,Vn.c3++,Vn.c3<=2?(Vn.pt=710,this.co_j.y=Xn-32+10):Vn.c3<=4?(Vn.pt=720,this.co_j.y=Xn-32+16):Vn.c3<=6?(Vn.pt=710,this.co_j.y=Xn-32+10):7<=Vn.c3&&(Vn.pt=700,this.co_j.y=Xn-32,Vn.c3=0,this.j_a_id=-1,this.j_jump_type=4,this.co_j.pt=101,this.co_j.ac=0,this.co_j.vy=-255,this.j_jump_level=1,4==this.maps.getBGCode(Wn,Xn)&&(this.co_j.vy=-75))):(Vn.c3=0,Vn.pt=700)}if(0<this.jm_kazu)for(var Yo=0;Yo<=1;Yo++)if(100<=this.co_jm[Yo].c){var Zo=this.co_jm[Yo];Vn.c<200?Zo.x+15>=Wn&&Zo.x<=Wn+64&&Zo.y+29>=Xn&&Zo.y+2<=Xn+13&&(200==Zo.c?(Zo.c=50,Zo.y=Xn-8,Zo.c1=1,Zo.c2=20):(Zo.c=0,this.jm_kazu--)):300==Vn.c?Zo.x+15>=Wn&&Zo.x<=Wn+48&&Zo.y+29>=Xn&&Zo.y+2<=Xn+31&&(200==Zo.c?(Zo.c=50,Zo.c1=1,Zo.c2=20):(Zo.c=0,this.jm_kazu--)):400==Vn.c?Zo.x+15>=Wn&&Zo.x<=Wn+80&&Zo.y+29>=Xn&&Zo.y+2<=Xn+63&&(200==Zo.c?(Zo.c=50,Zo.c1=1,Zo.c2=20):(Zo.c=0,this.jm_kazu--)):500==Vn.c&&Zo.x+15>=Wn&&Zo.x<=Wn+80&&Zo.y+29>=Xn&&Zo.y+2<=Xn+13&&(200==Zo.c?(Zo.c=50,Zo.y=Xn-8,Zo.c1=1,Zo.c2=20):(Zo.c=0,this.jm_kazu--))}Vn.x=Wn,Vn.y=Xn}}},G.prototype.bMove=function(){if(!(this.co_b.x>=this.maps.wx+1024)){switch(this.co_b.c){case 40:this.co_b.c1<20&&this.co_b.c1++,15==this.co_b.c1&&this.mSet(this.maps.wx+256,this.maps.wy+128,2200),this.co_b.pt=0;break;case 60:this.co_b.c1++,this.co_b.c4<=0?26<=this.co_b.c1&&(this.co_b.c=40,this.co_b.c1=0,this.addScore(10)):11<=this.co_b.c1&&(this.co_b.c=150),this.co_b.pt=1010;break;case 65:this.co_b.c1++,11<=this.co_b.c1&&(this.co_b.c=155),this.co_b.pt=1015;break;case 67:this.co_b.vy+=4,28<this.co_b.vy&&(this.co_b.vy=28),this.co_b.x+=this.co_b.vx,this.co_b.y+=this.co_b.vy,this.co_b.y>=this.maps.wy+320+16&&(this.co_b.c=40,this.co_b.c1=0,this.addScore(10)),1==this.co_b.muki?this.co_b.pt=1005:this.co_b.pt=1e3;break;case 70:this.co_b.c1++,this.co_b.c4<=0?26<=this.co_b.c1&&(this.co_b.c=40,this.co_b.c1=0,this.addScore(10)):11<=this.co_b.c1&&(this.co_b.c=250),this.co_b.pt=1110;break;case 75:this.co_b.c1++,11<=this.co_b.c1&&(this.co_b.c=255),this.co_b.pt=1115;break;case 77:this.co_b.vy+=4,28<this.co_b.vy&&(this.co_b.vy=28),this.co_b.x+=this.co_b.vx,this.co_b.y+=this.co_b.vy,this.co_b.y>=this.maps.wy+320+16&&(this.co_b.c=40,this.co_b.c1=0,this.addScore(10)),1==this.co_b.muki?this.co_b.pt=1105:this.co_b.pt=1100;break;case 80:this.co_b.c1++,this.co_b.c4<=0?26<=this.co_b.c1&&(this.co_b.c=40,this.co_b.c1=0,this.addScore(10)):11<=this.co_b.c1&&(this.co_b.c=350),this.co_b.pt=1210;break;case 85:this.co_b.c1++,11<=this.co_b.c1&&(this.co_b.c=355),this.co_b.pt=1215;break;case 87:this.co_b.vy+=4,28<this.co_b.vy&&(this.co_b.vy=28),this.co_b.x+=this.co_b.vx,this.co_b.y+=this.co_b.vy,this.co_b.y>=this.maps.wy+320+16&&(this.co_b.c=40,this.co_b.c1=0,this.addScore(10)),1==this.co_b.muki?this.co_b.pt=1205:this.co_b.pt=1200;break;case 100:2!=this.sl_step&&3!=this.sl_step||(this.co_b.c=110,this.co_b.c1=0),this.co_b.pt=1e3;break;case 110:if(2==this.boss_type){var $o=150;this.co_b.c1++,1==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,$o,-2):5==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,$o,-4):7==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,$o,-6):9==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,$o,-8):21==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,$o,-2):91==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,$o,-2):95==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,$o,-4):97==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,$o,-6):99==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,$o,-8):111==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,$o,-2):170==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,$o,-4):180==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,$o,-2):250<this.co_b.c1&&(this.co_b.c1=250)}else if(3==this.boss_type){var _o=450;this.co_b.c1++,5==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,_o,-3):20==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,_o,-3):35==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,_o,-3):50==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,_o,-3):65==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,_o,-3):80==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,_o,-3):95==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,_o,-3):110==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,_o,-3):250<this.co_b.c1&&(this.co_b.c1=250)}else if(4==this.boss_type){this.co_b.c1++,1==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,650,-5):15==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,650,-3):29==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,650,-2):81==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,650,-5):95==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,650,-3):109==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,650,-2):165==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,650,-3):250<this.co_b.c1&&(this.co_b.c1=250)}else if(this.co_b.c1++,3==this.co_b.c1)this.mSet2(this.co_b.x,this.co_b.y,500,-4,-18),this.mSet2(this.co_b.x,this.co_b.y,500,4,-18);else if(14==this.co_b.c1)this.mSet2(this.co_b.x,this.co_b.y,500,-6,-20),this.mSet2(this.co_b.x,this.co_b.y,500,6,-20);else if(20==this.co_b.c1)this.mSet2(this.co_b.x,this.co_b.y,500,-3,-24),this.mSet2(this.co_b.x,this.co_b.y,500,3,-24);else if(28<=this.co_b.c1&&this.co_b.c1<=98)this.co_b.c1%7==0&&this.mSet2(this.co_b.x,this.co_b.y,500,-15+this.ranInt(20),-30);else if(130==this.co_b.c1){var bp=this.ranInt(8)+3;this.mSet2(this.co_b.x,this.co_b.y,500,bp,-30),this.mSet2(this.co_b.x,this.co_b.y,500,-bp,-30)}else 150<=this.co_b.c1&&(this.co_b.c1=98);this.co_b.pt=1e3;break;case 115:if(2==this.boss_type){var cp=150;this.co_b.c1++,1==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,cp,2):5==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,cp,4):7==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,cp,6):9==this.co_b.c1&&3!=this.boss_type?this.tSetBoss(this.co_b.x,this.co_b.y,cp,8):21==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,cp,2):91==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,cp,2):95==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,cp,4):97==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,cp,6):99==this.co_b.c1&&3!=this.boss_type?this.tSetBoss(this.co_b.x,this.co_b.y,cp,8):111==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,cp,2):170==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,cp,4):180==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,cp,2):250<this.co_b.c1&&(this.co_b.c1=250)}else if(3==this.boss_type){var dp=450;this.co_b.c1++,5==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,dp,3):20==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,dp,3):35==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,dp,3):50==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,dp,3):65==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,dp,3):80==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,dp,3):95==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,dp,3):110==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,dp,3):250<this.co_b.c1&&(this.co_b.c1=250)}else if(4==this.boss_type){this.co_b.c1++,1==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,650,5):15==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,650,3):29==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,650,2):81==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,650,5):95==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,650,3):109==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,650,2):165==this.co_b.c1?this.tSetBoss(this.co_b.x,this.co_b.y,650,3):250<this.co_b.c1&&(this.co_b.c1=250)}else if(this.co_b.c1++,3==this.co_b.c1)this.mSet2(this.co_b.x,this.co_b.y,500,-4,-18),this.mSet2(this.co_b.x,this.co_b.y,500,4,-18);else if(14==this.co_b.c1)this.mSet2(this.co_b.x,this.co_b.y,500,-6,-20),this.mSet2(this.co_b.x,this.co_b.y,500,6,-20);else if(20==this.co_b.c1)this.mSet2(this.co_b.x,this.co_b.y,500,-3,-24),this.mSet2(this.co_b.x,this.co_b.y,500,3,-24);else if(28<=this.co_b.c1&&this.co_b.c1<=98)this.co_b.c1%7==0&&this.mSet2(this.co_b.x,this.co_b.y,500,15-this.ranInt(20),-30);else if(130==this.co_b.c1){var fp=this.ranInt(8)+3;this.mSet2(this.co_b.x,this.co_b.y,500,fp,-30),this.mSet2(this.co_b.x,this.co_b.y,500,-fp,-30)}else 150<=this.co_b.c1&&(this.co_b.c1=98);this.co_b.pt=1005;break;case 150:this.co_b.x-=14,this.co_b.x<=this.sl_wx+96&&(this.co_b.x=this.sl_wx+96,this.co_b.c=115,this.co_b.c1=0),this.co_b.pt=1e3;break;case 155:this.co_b.x+=14,this.co_b.x>=this.sl_wx+512-96-32&&(this.co_b.x=this.sl_wx+512-96-32,this.co_b.c=110,this.co_b.c1=0),this.co_b.pt=1005;break;case 200:2!=this.sl_step&&3!=this.sl_step||(this.co_b.c=210,this.co_b.c1=0),this.co_b.pt=1100;break;case 210:if(this.co_b.c1++,2==this.boss2_type)if(10==this.co_b.c1||85==this.co_b.c1||215==this.co_b.c1)for(var gp=0;gp<=7;gp++){var hp=45*gp*3.14/180,ip=c.floor(8*c.cos(hp)),jp=-1*c.floor(8*c.sin(hp));this.mSet2(this.co_b.x,this.co_b.y-8,710,ip,jp)}else if(35==this.co_b.c1||110==this.co_b.c1||295==this.co_b.c1)for(var kp=0;kp<=7;kp++){var lp=3.14*(45*kp+15)/180,mp=c.floor(8*c.cos(lp)),np=-1*c.floor(8*c.sin(lp));this.mSet2(this.co_b.x,this.co_b.y-8,710,mp,np)}else if(60==this.co_b.c1||135==this.co_b.c1||375==this.co_b.c1)for(var op=0;op<=7;op++){var pp=3.14*(45*op+30)/180,qp=c.floor(8*c.cos(pp)),rp=-1*c.floor(8*c.sin(pp));this.mSet2(this.co_b.x,this.co_b.y-8,710,qp,rp)}else 445<this.co_b.c1&&(this.co_b.c1=0);else 5==this.co_b.c1||35==this.co_b.c1||65==this.co_b.c1||110==this.co_b.c1||185==this.co_b.c1?this.mSet(this.co_b.x,this.co_b.y,90):185<this.co_b.c1&&(this.co_b.c1=110);this.co_b.pt=1100;break;case 215:if(this.co_b.c1++,2==this.boss2_type)if(10==this.co_b.c1||85==this.co_b.c1||215==this.co_b.c1)for(var sp=0;sp<=7;sp++){var tp=45*sp*3.14/180,up=c.floor(8*c.cos(tp)),vp=-1*c.floor(8*c.sin(tp));this.mSet2(this.co_b.x,this.co_b.y-8,710,up,vp)}else if(35==this.co_b.c1||110==this.co_b.c1||295==this.co_b.c1)for(var wp=0;wp<=7;wp++){var xp=3.14*(45*wp+15)/180,yp=c.floor(8*c.cos(xp)),zp=-1*c.floor(8*c.sin(xp));this.mSet2(this.co_b.x,this.co_b.y-8,710,yp,zp)}else if(60==this.co_b.c1||135==this.co_b.c1||375==this.co_b.c1)for(var Ap=0;Ap<=7;Ap++){var Bp=3.14*(45*Ap+30)/180,Cp=c.floor(8*c.cos(Bp)),Dp=-1*c.floor(8*c.sin(Bp));this.mSet2(this.co_b.x,this.co_b.y-8,710,Cp,Dp)}else 445<this.co_b.c1&&(this.co_b.c1=0);else 5==this.co_b.c1||35==this.co_b.c1||65==this.co_b.c1||110==this.co_b.c1||185==this.co_b.c1?this.mSet(this.co_b.x,this.co_b.y,90):185<this.co_b.c1&&(this.co_b.c1=110);this.co_b.pt=1105;break;case 250:this.co_b.x-=14,this.co_b.x<=this.sl_wx+96&&(this.co_b.x=this.sl_wx+96,this.co_b.c=215,this.co_b.c1=0),this.co_b.pt=1100;break;case 255:this.co_b.x+=14,this.co_b.x>=this.sl_wx+512-96-32&&(this.co_b.x=this.sl_wx+512-96-32,this.co_b.c=210,this.co_b.c1=0),this.co_b.pt=1105;break;case 300:2!=this.sl_step&&3!=this.sl_step||(2<=this.boss3_type&&this.boss3_type<=4?(this.co_b.c=360,this.co_b.vy=-24):this.co_b.c=310,this.co_b.c1=0),this.co_b.pt=1200;break;case 310:this.co_b.c1++,1==this.co_b.c1?this.mSet2(this.co_b.x,this.co_b.y,800,-5,-32):15==this.co_b.c1?(this.mSet2(this.co_b.x,this.co_b.y,800,-10,-32),this.co_j.x>this.co_b.x-64&&(this.co_b.c1=500)):29==this.co_b.c1?this.mSet2(this.co_b.x,this.co_b.y,800,-15,-32):65==this.co_b.c1?this.mSet2(this.co_b.x-2,this.co_b.y,800,-20,-32):80==this.co_b.c1?this.mSet2(this.co_b.x,this.co_b.y,800,-5,-32):105==this.co_b.c1?this.mSet2(this.co_b.x,this.co_b.y,800,-15,-32):147==this.co_b.c1?this.mSet2(this.co_b.x,this.co_b.y,800,-10,-32):237==this.co_b.c1?this.co_b.c1=0:520==this.co_b.c1?this.mSet2(this.co_b.x,this.co_b.y,800,4,-32):530==this.co_b.c1?(this.mSet2(this.co_b.x,this.co_b.y,800,-5,-32),this.co_b.c1=1):530<this.co_b.c1&&(this.co_b.c1=1),this.co_b.pt=1200;break;case 315:this.co_b.c1++,1==this.co_b.c1?this.mSet2(this.co_b.x,this.co_b.y,800,5,-32):15==this.co_b.c1?(this.mSet2(this.co_b.x,this.co_b.y,800,10,-32),this.co_j.x<this.co_b.x+64&&(this.co_b.c1=500)):29==this.co_b.c1?this.mSet2(this.co_b.x,this.co_b.y,800,15,-32):65==this.co_b.c1?this.mSet2(this.co_b.x+2,this.co_b.y,800,20,-32):80==this.co_b.c1?this.mSet2(this.co_b.x,this.co_b.y,800,5,-32):105==this.co_b.c1?this.mSet2(this.co_b.x,this.co_b.y,800,15,-32):147==this.co_b.c1?this.mSet2(this.co_b.x,this.co_b.y,800,10,-32):237==this.co_b.c1?this.co_b.c1=0:520==this.co_b.c1?this.mSet2(this.co_b.x,this.co_b.y,800,-4,-32):530==this.co_b.c1?(this.mSet2(this.co_b.x,this.co_b.y,800,5,-32),this.co_b.c1=1):530<this.co_b.c1&&(this.co_b.c1=1),this.co_b.pt=1205;break;case 350:this.co_b.x-=14,this.co_b.x<=this.sl_wx+96&&(this.co_b.x=this.sl_wx+96,2<=this.boss3_type&&this.boss3_type<=4?(this.co_b.c=365,this.co_b.vy=-24):this.co_b.c=315,this.co_b.c1=0),this.co_b.pt=1200;break;case 355:this.co_b.x+=14,this.co_b.x>=this.sl_wx+512-96-32&&(this.co_b.x=this.sl_wx+512-96-32,2<=this.boss3_type&&this.boss3_type<=4?(this.co_b.c=360,this.co_b.vy=-24):this.co_b.c=310,this.co_b.c1=0),this.co_b.pt=1205;break;case 360:this.co_b.pt=1200,this.co_b.c1<5?this.co_b.c1++:this.co_b.c1<25?(this.co_b.c1++,this.co_b.pt=1250):25==this.co_b.c1?(3==this.boss3_type?(this.co_b.x-=18,this.co_b.x<=this.sl_wx+16&&(this.co_b.x=this.sl_wx+16,this.co_b.c1=30)):4==this.boss3_type?(this.co_b.x-=3,this.co_b.vy+=2,24<this.co_b.vy&&(this.co_b.vy=24),this.co_b.y+=this.co_b.vy,this.co_b.y>=this.boss_kijyun_y&&(this.co_b.y=this.boss_kijyun_y,this.co_b.vy=-24,this.co_b.x<=this.sl_wx+16&&(this.co_b.c1=30))):(this.co_b.x-=12,this.co_b.x<=this.sl_wx+16&&(this.co_b.x=this.sl_wx+16,this.co_b.c1=30)),this.co_b.pt=1250):30==this.co_b.c1?(3==this.boss3_type?(this.co_b.x+=18,this.co_b.x>=this.sl_wx+512-48&&(this.co_b.x=this.sl_wx+512-48,this.co_b.c1=40)):4==this.boss3_type?(this.co_b.x+=4,this.co_b.vy+=2,24<this.co_b.vy&&(this.co_b.vy=24),this.co_b.y+=this.co_b.vy,this.co_b.y>=this.boss_kijyun_y&&(this.co_b.y=this.boss_kijyun_y,this.co_b.vy=-24,this.co_b.x>=this.sl_wx+512-48&&(this.co_b.c1=40))):(this.co_b.x+=8,this.co_b.x>=this.sl_wx+512-48&&(this.co_b.x=this.sl_wx+512-48,this.co_b.c1=40)),this.co_b.pt=1255):40==this.co_b.c1&&(this.co_b.x-=2,this.co_b.x<=this.sl_wx+512-96-32&&(this.co_b.x=this.sl_wx+512-96-32,this.co_b.c1=-20));break;case 365:this.co_b.pt=1205,this.co_b.c1<5?this.co_b.c1++:this.co_b.c1<25?(this.co_b.c1++,this.co_b.pt=1255):25==this.co_b.c1?(3==this.boss3_type?(this.co_b.x+=18,this.co_b.x>=this.sl_wx+512-48&&(this.co_b.x=this.sl_wx+512-48,this.co_b.c1=30)):4==this.boss3_type?(this.co_b.x+=3,this.co_b.vy+=2,24<this.co_b.vy&&(this.co_b.vy=24),this.co_b.y+=this.co_b.vy,this.co_b.y>=this.boss_kijyun_y&&(this.co_b.y=this.boss_kijyun_y,this.co_b.vy=-24,this.co_b.x>=this.sl_wx+512-48&&(this.co_b.c1=30))):(this.co_b.x+=12,this.co_b.x>=this.sl_wx+512-48&&(this.co_b.x=this.sl_wx+512-48,this.co_b.c1=30)),this.co_b.pt=1255):30==this.co_b.c1?(3==this.boss3_type?(this.co_b.x-=18,this.co_b.x<=this.sl_wx+16&&(this.co_b.x=this.sl_wx+16,this.co_b.c1=40)):4==this.boss3_type?(this.co_b.x-=4,this.co_b.vy+=2,24<this.co_b.vy&&(this.co_b.vy=24),this.co_b.y+=this.co_b.vy,this.co_b.y>=this.boss_kijyun_y&&(this.co_b.y=this.boss_kijyun_y,this.co_b.vy=-24,this.co_b.x<=this.sl_wx+16&&(this.co_b.c1=40))):(this.co_b.x-=8,this.co_b.x<=this.sl_wx+16&&(this.co_b.x=this.sl_wx+16,this.co_b.c1=40)),this.co_b.pt=1250):40==this.co_b.c1&&(this.co_b.x+=2,this.co_b.x>=this.sl_wx+96&&(this.co_b.x=this.sl_wx+96,this.co_b.c1=-20))}if(100<=this.co_j.c&&this.co_j.c<200&&100<=this.co_b.c&&c.abs(this.co_b.x-this.co_j.x)<42&&this.co_j.y>this.co_b.y-20&&this.co_j.y<this.co_b.y+40&&(1250==this.co_b.pt||1255==this.co_b.pt?this.jShinu(2):c.abs(this.co_b.x-this.co_j.x)<34&&0<this.co_j.vy?(this.co_b.c<200?(this.co_b.c4--,1==this.co_b.c4?(this.co_b.c=65,this.co_b.c1=0,this.co_b.pt=1015):(this.co_b.c=60,this.co_b.c1=0,this.co_b.pt=1010)):this.co_b.c<300?(this.co_b.c4--,1==this.co_b.c4?(this.co_b.c=75,this.co_b.c1=0,this.co_b.pt=1115):(this.co_b.c=70,this.co_b.c1=0,this.co_b.pt=1110)):(this.co_b.c4--,1==this.co_b.c4?(this.co_b.c=85,this.co_b.c1=0,this.co_b.pt=1215):(this.co_b.c=80,this.co_b.c1=0,this.co_b.pt=1210)),this.co_j.y=this.co_b.y,this.co_j.vy=-320,this.j_jump_type=1,this.co_j.c=110,this.co_j.c1=-4,this.co_j.pt=109):this.jShinu(2)),0<this.jm_kazu&&100<=this.co_b.c)for(var Ep=0;Ep<=1;Ep++)if(100<=this.co_jm[Ep].c){var Fp=this.co_jm[Ep];c.abs(this.co_b.x-Fp.x)<34&&c.abs(this.co_b.y-Fp.y)<30&&(200==Fp.c?(Fp.c=50,Fp.c1=1,Fp.c2=20,1!=this.grenade_type&&5!=this.grenade_type||(this.co_b.c<200?(this.co_b.c=67,this.co_b.vy=-24,this.co_b.c1=0,Fp.vx<0?(this.co_b.muki=1,this.co_b.pt=1005,this.co_b.vx=-4):(this.co_b.muki=0,this.co_b.pt=1e3,this.co_b.vx=4)):this.co_b.c<300?(this.co_b.c=77,this.co_b.vy=-24,this.co_b.c1=0,Fp.vx<0?(this.co_b.muki=1,this.co_b.pt=1105,this.co_b.vx=-4):(this.co_b.muki=0,this.co_b.pt=1100,this.co_b.vx=4)):(this.co_b.c=87,this.co_b.vy=-24,this.co_b.c1=0,Fp.vx<0?(this.co_b.muki=1,this.co_b.pt=1205,this.co_b.vx=-4):(this.co_b.muki=0,this.co_b.pt=1200,this.co_b.vx=4)))):(Fp.c=0,this.jm_kazu--))}}},G.prototype.hSet=function(Gp,Hp,Ip){for(var Jp=0;Jp<=63;Jp++)if(!(0<this.co_h[Jp].c)){var Kp=this.co_h[Jp];Kp.c=Ip,Kp.x=Gp,Kp.y=Hp;break}},G.prototype.hAttack=function(Lp,Mp){for(var Np=0;Np<=63;Np++){var Op=this.co_h[Np];if(0!=Op.c&&Op.x==Lp&&Op.y==Mp){switch(Op.c){case 100:this.mSet(32*Lp,32*Mp-32,2e3);break;case 200:this.mSet(32*Lp,32*Mp-32,2010),this.mSet(32*Lp,32*Mp-32,2020),this.mSet(32*Lp,32*Mp-32,2e3);break;case 300:this.mSet(32*Lp,32*Mp-32,2100);break;case 400:this.mSet(32*Lp,32*Mp-32,2110);break;case 500:this.mSet(32*Lp,32*Mp-32,2120);break;case 600:this.mSet(32*Lp,32*Mp-32,2130);break;case 700:this.mSet(32*Lp,32*Mp-32,2140);break;case 800:this.mSet(32*Lp,32*Mp-32,2150);break;case 900:this.mSet(32*Lp,32*Mp-32,2160);break;case 1e3:this.mSet(32*Lp,32*Mp-32,2170);break;case 1100:this.mSet(32*Lp,32*Mp-32,2180),this.stage_1up_f[this.stage-1]=!1}this.maps.putBGCode(Lp,Mp,41),Op.c=0;break}}},H.prototype.init=function(){this.wx=0,this.wy=0,this.os2_wx=0;for(var Up=this.os2_wy=0;Up<this.height;Up++)for(var Vp=0;Vp<this.width;Vp++)this.map_bg[Vp][Up]=0;for(Up=0;Up<this.height;Up++)this.map_string[Up]=this.bg_space},H.prototype.setBank=function(Wp){var Xp;Xp=1==Wp?40:2==Wp?50:4==Wp?60:30;for(var Yp=0;Yp<=9;Yp++)this.gg.spt_img[0][10+Yp]=this.gg.spt_img[0][Xp+Yp]},H.prototype.drawMap=function(Zp,$p){this.wx=Zp,this.wy=$p;var _p=this.wx%32,aq=this.wy%32;this.os2_wx=this.wx>>5,this.os2_wy=this.wy>>5,this.gg.fill2();for(var bq=0;bq<=10;bq++)for(var cq=0;cq<=16;cq++){0<this.map_bg[this.os2_wx+cq][this.os2_wy+bq]&&this.gg.drawPT2(32+32*cq,32+32*bq,this.map_bg[this.os2_wx+cq][this.os2_wy+bq])}this.gg.os_g.drawImage(this.gg.os2_img,-32-_p,-32-aq,this.gg.ap)},H.prototype.drawMapScroll=function(eq){var fq=this.wx%32,gq=this.wy%32,hq=this.wx>>5,iq=this.wy>>5;if(hq>this.os2_wx+1||hq<this.os2_wx-1||iq>this.os2_wy+1||iq<this.os2_wy-1)this.drawMap(this.wx,this.wy);else if(iq>this.os2_wy)if(hq>this.os2_wx){this.g2.copyArea(64,64,544,352,-32,-32),this.os2_wx=hq,this.os2_wy=iq;for(var jq=0;jq<=16;jq++)0<this.map_bg[this.os2_wx+jq][this.os2_wy+10]&&this.g2.drawImage(this.hi[this.map_bg[this.os2_wx+jq][this.os2_wy+10]],32+32*jq,352,this.ap);for(jq=0;jq<=9;jq++)0<this.map_bg[this.os2_wx+16][this.os2_wy+jq]&&this.g2.drawImage(this.hi[this.map_bg[this.os2_wx+16][this.os2_wy+jq]],544,32+32*jq,this.ap)}else if(hq<this.os2_wx){this.g2.copyArea(0,64,544,352,32,-32),this.os2_wx=hq,this.os2_wy=iq;for(jq=0;jq<=16;jq++)0<this.map_bg[this.os2_wx+jq][this.os2_wy+10]&&this.g2.drawImage(this.hi[this.map_bg[this.os2_wx+jq][this.os2_wy+10]],32+32*jq,352,this.ap);for(jq=0;jq<=9;jq++)0<this.map_bg[this.os2_wx][this.os2_wy+jq]&&this.g2.drawImage(this.hi[this.map_bg[this.os2_wx][this.os2_wy+jq]],32,32+32*jq,this.ap)}else{this.g2.copyArea(32,64,544,352,0,-32),this.os2_wy=iq;for(jq=0;jq<=16;jq++)0<this.map_bg[this.os2_wx+jq][this.os2_wy+10]&&this.g2.drawImage(this.hi[this.map_bg[this.os2_wx+jq][this.os2_wy+10]],32+32*jq,352,this.ap)}else if(iq<this.os2_wy)if(hq>this.os2_wx){this.g2.copyArea(64,0,544,352,-32,32),this.os2_wx=hq,this.os2_wy=iq;for(jq=0;jq<=16;jq++)0<this.map_bg[this.os2_wx+jq][this.os2_wy]&&this.g2.drawImage(this.hi[this.map_bg[this.os2_wx+jq][this.os2_wy]],32+32*jq,32,this.ap);for(jq=1;jq<=10;jq++)0<this.map_bg[this.os2_wx+16][this.os2_wy+jq]&&this.g2.drawImage(this.hi[this.map_bg[this.os2_wx+16][this.os2_wy+jq]],544,32+32*jq,this.ap)}else if(hq<this.os2_wx){this.g2.copyArea(0,0,544,352,32,32),this.os2_wx=hq,this.os2_wy=iq;for(jq=0;jq<=16;jq++)0<this.map_bg[this.os2_wx+jq][this.os2_wy]&&this.g2.drawImage(this.hi[this.map_bg[this.os2_wx+jq][this.os2_wy]],32+32*jq,32,this.ap);for(jq=1;jq<=10;jq++)0<this.map_bg[this.os2_wx][this.os2_wy+jq]&&this.g2.drawImage(this.hi[this.map_bg[this.os2_wx][this.os2_wy+jq]],32,32+32*jq,this.ap)}else{this.g2.copyArea(32,0,544,352,0,32),this.os2_wy=iq;for(jq=0;jq<=16;jq++)0<this.map_bg[this.os2_wx+jq][this.os2_wy]&&this.g2.drawImage(this.hi[this.map_bg[this.os2_wx+jq][this.os2_wy]],32+32*jq,32,this.ap)}else if(hq>this.os2_wx){this.g2.copyArea(64,32,544,352,-32,0),this.os2_wx=hq;for(jq=0;jq<=10;jq++)0<this.map_bg[this.os2_wx+16][this.os2_wy+jq]&&this.g2.drawImage(this.hi[this.map_bg[this.os2_wx+16][this.os2_wy+jq]],544,32+32*jq,this.ap)}else if(hq<this.os2_wx){this.g2.copyArea(0,32,544,352,32,0),this.os2_wx=hq;for(jq=0;jq<=10;jq++)0<this.map_bg[this.os2_wx][this.os2_wy+jq]&&this.g2.drawImage(this.hi[this.map_bg[this.os2_wx][this.os2_wy+jq]],32,32+32*jq,this.ap)}var kq=this.hi[90+eq];for(jq=0;jq<=10;jq++)for(var lq=0;lq<=16;lq++)switch(this.map_bg[this.os2_wx+lq][this.os2_wy+jq]){case 5:4==this.map_bg[this.os2_wx+lq][this.os2_wy+jq-1]&&(this.gg.drawBG2(32+32*lq,32+32*jq,4),this.gg.drawPT2(32+32*lq,32+32*jq,5));break;case 6:4==this.map_bg[this.os2_wx+lq][this.os2_wy+jq+1]&&(this.gg.drawBG2(32+32*lq,32+32*jq,4),this.gg.drawPT2(32+32*lq,32+32*jq,6));break;case 7:0==eq||2==eq?this.gg.drawBG2(32+32*lq,32+32*jq,96):this.gg.drawBG2(32+32*lq,32+32*jq,97);break;case 8:0==eq?4==this.map_bg[this.os2_wx+lq-1][this.os2_wy+jq]?(this.gg.drawBG2(32+32*lq,32+32*jq,4),2<=this.mp.stage_max&&this.mp.stage>=this.mp.stage_max?this.gg.drawPT2(32+32*lq,32+32*jq,99):this.gg.drawPT2(32+32*lq,32+32*jq,95)):2<=this.mp.stage_max&&this.mp.stage>=this.mp.stage_max?this.gg.drawBG2(32+32*lq,32+32*jq,99):this.gg.drawBG2(32+32*lq,32+32*jq,95):4==this.map_bg[this.os2_wx+lq-1][this.os2_wy+jq]?(this.gg.drawBG2(32+32*lq,32+32*jq,4),2<=this.mp.stage_max&&this.mp.stage>=this.mp.stage_max?this.gg.drawPT2(32+32*lq,32+32*jq,98):this.gg.drawPT2(32+32*lq,32+32*jq,94)):2<=this.mp.stage_max&&this.mp.stage>=this.mp.stage_max?this.gg.drawBG2(32+32*lq,32+32*jq,98):this.gg.drawBG2(32+32*lq,32+32*jq,94);break;case 9:4==this.map_bg[this.os2_wx+lq-1][this.os2_wy+jq]?this.gg.drawBG2(32+32*lq,32+32*jq,4):(this.g2.setColor(this.gg.backcolor),this.gg.os2_g.fillRect(32+32*lq,32+32*jq,32,32)),this.gg.os2_g.drawImage(kq,32+32*lq,32+32*jq,this.gg.ap)}this.gg.os_g.drawImage(this.gg.os2_img,-32-fq,-32-gq,this.ap)},H.prototype.getBGCode=function(mq,nq){return this.map_bg[mq>>5][nq>>5]},H.prototype.putBGCode=function(oq,pq,qq){this.map_bg[oq][pq]=qq,this.os2_wx<=oq&&this.os2_wx+16>=oq&&this.os2_wy<=pq&&this.os2_wy+10>=pq&&this.gg.drawBG2(32*(oq-this.os2_wx)+32,32*(pq-this.os2_wy)+32,qq)},I.prototype.__repaint=function(){this.update(this.__appimg.getGraphics()),this.__canvas.getContext("2d").drawImage(this.__appimg._dat,0,0)},I.prototype.init=function(){},I.prototype.start=function(){null==this.th&&(this.th=1);var wq=this.getParameter("game_speed");this.th_interval=parseInt(wq),isNaN(this.th_interval)&&(this.th_interval=70),this.th_interval<1?this.th_interval=1:300<this.th_interval&&(this.th_interval=300),this.th_jm=10},I.prototype.stop=function(){null!=this.th&&(this.th=null)},I.prototype.destroy=function(){},I.prototype.paint=function(xq){xq.drawImage(this.gg.os_img,0,0,this)},I.prototype.update=function(yq){this.paint(yq)},I.prototype.run=function(){if(10==this.th_jm)this.init_j(),this.mp.start(),this.th_jm-=1,sleepTime=70;else if(6==this.th_jm){var zq=0;this.gg.apt_img._loaded?zq=1:this.gg.apt_img._error&&(zq=2),0!=zq&&(this.th_jm-=1)}else 2==this.th_jm?(this.gg.cut(),this.th_jm-=1,sleepTime=70):2<=this.th_jm?(this.th_jm-=1,sleepTime=70):(100==this.mp.ml_mode?this.mp.mL100():this.mp.mainLoop(),this.userSub(this.gg.os_g,this.gg.os_img));this.__repaint()},I.prototype.init_j=function(){this.gg=new e(this),this.gg.setBackcolor(D.black);var Bq,Aq=this.getParameter("filename_title");if(this.gg.addListImage(0,Aq),Aq=this.getParameter("filename_ending"),this.gg.addListImage(1,Aq),Aq=this.getParameter("filename_gameover"),this.gg.addListImage(2,Aq),Aq=this.getParameter("stage_select"),Bq=parseInt(Aq),isNaN(Bq)&&(Bq=-1),2==Bq){var Cq=this.getParameter("filename_chizu");this.gg.addListImage(3,Cq)}this.gg.loadImage(),this.gm=new i;var Dq=this.gm;this.__canvas.addEventListener("mousedown",function(Gq){var za;Gq.stopImmediatePropagation(),l.focus.focus(this),za=Gq,Dq.mousePressed(za)}.bind(this)),this.__canvas.addEventListener("mouseup",function(Hq){var Ba;Ba=Hq,Dq.mouseReleased(Ba)}),this.gk=new f;var Eq=this.gk,Fq=function(Iq){var ra;l.focus.hasFocus(this)&&(ra=Iq,Eq.keyPressed(ra))}.bind(this);b.addEventListener("keydown",Fq),this.__game.__resourceList.push({type:"eventListener",target:b,name:"keydown",value:Fq}),Fq=function(Jq){var ta;l.focus.hasFocus(this)&&(ta=Jq,Eq.keyReleased(ta))}.bind(this),b.addEventListener("keyup",Fq),this.__game.__resourceList.push({type:"eventListener",target:b,name:"keyup",value:Fq}),this.mp=new G(this.gg,this.gm,this.gk),this.mp.addHighscoreEvent(this.options.highscoreCallback),this.userInit()},I.prototype.userInit=function(){},I.prototype.userSub=function(Kq,Lq){},I.prototype.getImage=function(Mq){var Nq=new z;return Nq.load(Mq),Nq},I.prototype.createImage=function(Oq,Pq){return new z(Oq,Pq)},I.prototype.getParameter=function(Rq){var Sq=(Rq+"").toLowerCase();return void 0===this.params[Sq]?null:this.params[Sq]+""};var J={};return J.CharacterObject=d,J.GameGraphics=e,J.GameKey=f,J.GameMouse=i,J.Game=l,J.IdouGamen=y,J.ImageBuff=z,J.KeyboardMenu=F,J.MainProgram=G,J.MapSystem=H,J.MasaoConstruction=I,J}(window,document,Math);